{"items":[{"tags":["java","if-statement","android-edittext"],"comments":[{"owner":{"account_id":8614459,"reputation":1129,"user_id":6451874,"accept_rate":60,"display_name":"Ofer Arial"},"score":0,"creation_date":1646603715,"post_id":71365129,"comment_id":126158782,"body_markdown":"It&#39;s a bit difficult to understand what exactly do you want to achieve. Please add a minimal, reproducable example, which has the complete code flow :)","body":"It&#39;s a bit difficult to understand what exactly do you want to achieve. Please add a minimal, reproducable example, which has the complete code flow :)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1646610524,"post_id":71365129,"comment_id":126159825,"body_markdown":"If `getText()` returns a `String` (likely), there&#39;s no need to add `.toString()` to it. What class is `View`? Does it have something like a `getName()` method that you want to compare to user input? If so, try `if (userGuess.getText().equals(view,getName()))`. Note the use of `.equals()` instead of `==` when comparing Strings.","body":"If <code>getText()</code> returns a <code>String</code> (likely), there&#39;s no need to add <code>.toString()</code> to it. What class is <code>View</code>? Does it have something like a <code>getName()</code> method that you want to compare to user input? If so, try <code>if (userGuess.getText().equals(view,getName()))</code>. Note the use of <code>.equals()</code> instead of <code>==</code> when comparing Strings."},{"owner":{"account_id":24204154,"reputation":23,"user_id":18161590,"display_name":"Husky7110"},"score":0,"creation_date":1646659610,"post_id":71365129,"comment_id":126171016,"body_markdown":"@OferArial I understand i didn&#39;t explain this well. In my app there is a random picture from an array on the top of the screen and under it is an editText. The user enters in the edittext what they think is in that picture and gets a toast displaying whether they are right or wrong. The if statement for this is a bit hard. how do I say if the entered text is equal to that picture? I&#39;m not sure if I should use the items id or?","body":"@OferArial I understand i didn&#39;t explain this well. In my app there is a random picture from an array on the top of the screen and under it is an editText. The user enters in the edittext what they think is in that picture and gets a toast displaying whether they are right or wrong. The if statement for this is a bit hard. how do I say if the entered text is equal to that picture? I&#39;m not sure if I should use the items id or?"},{"owner":{"account_id":8614459,"reputation":1129,"user_id":6451874,"accept_rate":60,"display_name":"Ofer Arial"},"score":0,"creation_date":1646745848,"post_id":71365129,"comment_id":126195787,"body_markdown":"@husky7110 Give me a concrete example. What will appear in the image, and what do you want the user to write? And also - what is the bigger picture here - what is the purpose of the app?","body":"@husky7110 Give me a concrete example. What will appear in the image, and what do you want the user to write? And also - what is the bigger picture here - what is the purpose of the app?"},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1646747247,"post_id":71365129,"comment_id":126196354,"body_markdown":"Is this a sort of a captcha, or is it more like AI training?  It seems like you&#39;re asking the user to see a picture of a toaster, and then type &#39;toaster&#39; in the text box...  Does the app already know that the expected response is &#39;toaster&#39; somehow?","body":"Is this a sort of a captcha, or is it more like AI training?  It seems like you&#39;re asking the user to see a picture of a toaster, and then type &#39;toaster&#39; in the text box...  Does the app already know that the expected response is &#39;toaster&#39; somehow?"},{"owner":{"account_id":24204154,"reputation":23,"user_id":18161590,"display_name":"Husky7110"},"score":0,"creation_date":1646747902,"post_id":71365129,"comment_id":126196627,"body_markdown":"@OferArial Let&#39;s say I have an array with 3 drawables in it. I use a piece of code to get a random drawable out of those (Say an image of a cat) and set it as the background of the imageView in my app. Now, the user sees the cat and starts typing in an editText &quot;cat&quot; and clicks on the enter button. Then they get a toast displaying whether their guess was right or wrong.","body":"@OferArial Let&#39;s say I have an array with 3 drawables in it. I use a piece of code to get a random drawable out of those (Say an image of a cat) and set it as the background of the imageView in my app. Now, the user sees the cat and starts typing in an editText &quot;cat&quot; and clicks on the enter button. Then they get a toast displaying whether their guess was right or wrong."},{"owner":{"account_id":24204154,"reputation":23,"user_id":18161590,"display_name":"Husky7110"},"score":0,"creation_date":1646747992,"post_id":71365129,"comment_id":126196666,"body_markdown":"@Gus No its just a simple guessing game but there is more to it.","body":"@Gus No its just a simple guessing game but there is more to it."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1646750298,"post_id":71365129,"comment_id":126197611,"body_markdown":"OK, so you can put the image and the correct guess for that image in the same object -- so your image display would display the picture from `imageObj.image` and compare the user&#39;s guess to `imageObj.correctGuess`","body":"OK, so you can put the image and the correct guess for that image in the same object -- so your image display would display the picture from <code>imageObj.image</code> and compare the user&#39;s guess to <code>imageObj.correctGuess</code>"}],"answers":[{"tags":[],"owner":{"account_id":8614459,"reputation":1129,"user_id":6451874,"accept_rate":60,"display_name":"Ofer Arial"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646769996,"creation_date":1646751480,"answer_id":71397080,"question_id":71365129,"body_markdown":"Based on the detailed explanation the PO gave in the question&#39;s comments, this is my proposal:\r\n\r\nBasically we have an image with something in it (e.g. a cat), and the user needs to insert his guess, saying what&#39;s in the image. The app should display a feedback message - if the user was right or wrong.\r\n\r\nI propose this edit to your code, which is based on an object `imageDrawable`. This object will contain a field which is the `imageTitle`, which is the field you will compare to the user&#39;s guess.\r\n\r\nThe `imageDrawable` object should be a object you create. It can wrap the basic `Drawable`, and it can be a whole new object that has the path to the actual `Drawable` resource. I think that using a custom object will be the clearest way write it, and it also makes it easy to control the image title. \r\n\r\n```java\r\npublic void enterButton(View view) {\r\n    String imageTitle = imageDrawable.getTitle(); // TODO: implement imageDrawable with ImageDrawable class and initialize it\r\n    String guess = userGuess.getText().toString();\r\n\r\n    if (imageTitle == guess)) {\r\n        Toast.makeText(this, &quot;Correct!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n    } else {\r\n        Toast.makeText(this, &quot;Try Again!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\nFor example, if we have a `Drawables` array, we can transform it to an `ImageDrawables` array, also using image titles, and then use that array. (You should still implement `ImageDrawable` class).\r\n\r\n```java\r\nDrawables[] drawables = ...;\r\nString[] titles = ...;\r\nImageDrawable[] imageDrawables = new ImageDrawable[drawables.length];\r\nif (drawables.length != titles.length) {\r\n    throw ...;\r\n}\r\nfor (int i=0;i&lt;drawables.length;i++) {\r\n    imageDrawables[i] = new ImageDrawable(drawable, titles[i]); \r\n}\r\n```\r\n\r\nAnd then use `imageDrawables`.","title":"How to take the users input and see if it matches random image showing on screen","body":"<p>Based on the detailed explanation the PO gave in the question's comments, this is my proposal:</p>\n<p>Basically we have an image with something in it (e.g. a cat), and the user needs to insert his guess, saying what's in the image. The app should display a feedback message - if the user was right or wrong.</p>\n<p>I propose this edit to your code, which is based on an object <code>imageDrawable</code>. This object will contain a field which is the <code>imageTitle</code>, which is the field you will compare to the user's guess.</p>\n<p>The <code>imageDrawable</code> object should be a object you create. It can wrap the basic <code>Drawable</code>, and it can be a whole new object that has the path to the actual <code>Drawable</code> resource. I think that using a custom object will be the clearest way write it, and it also makes it easy to control the image title.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void enterButton(View view) {\n    String imageTitle = imageDrawable.getTitle(); // TODO: implement imageDrawable with ImageDrawable class and initialize it\n    String guess = userGuess.getText().toString();\n\n    if (imageTitle == guess)) {\n        Toast.makeText(this, &quot;Correct!&quot;, Toast.LENGTH_SHORT).show();\n\n    } else {\n        Toast.makeText(this, &quot;Try Again!&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>For example, if we have a <code>Drawables</code> array, we can transform it to an <code>ImageDrawables</code> array, also using image titles, and then use that array. (You should still implement <code>ImageDrawable</code> class).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Drawables[] drawables = ...;\nString[] titles = ...;\nImageDrawable[] imageDrawables = new ImageDrawable[drawables.length];\nif (drawables.length != titles.length) {\n    throw ...;\n}\nfor (int i=0;i&lt;drawables.length;i++) {\n    imageDrawables[i] = new ImageDrawable(drawable, titles[i]); \n}\n</code></pre>\n<p>And then use <code>imageDrawables</code>.</p>\n"}],"owner":{"account_id":24204154,"reputation":23,"user_id":18161590,"display_name":"Husky7110"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647183733,"creation_date":1646506681,"question_id":71365129,"body_markdown":"I would like to get the users input from an editText and check if it&#39;s equal to a random array image. How can I take the users input and see if it matches the image showing?\r\n\r\nThis is the code I use to get a random image from the array:\r\n\r\n    images[rand.nextInt(images.length)] \r\n\r\nhere is my code:\r\n\r\n\r\n    public void enterButton(View view) {\r\n        String imageTitle = ImageDrawable.getTitle(); \r\n        String guess = userGuess.getText().toString();\r\n\r\n        if (imageTitle == guess) {\r\n            Toast.makeText(this, &quot;Correct!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        } else {\r\n            Toast.makeText(this, &quot;Try Again!&quot;, \r\n    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n    Drawables[] drawables = ...;\r\n    String[] titles = ...;\r\n    ImageDrawable[] imageDrawables = new ImageDrawable[drawables.length];\r\n     if (drawables.length != titles.length) {\r\n        throw ...;\r\n    }\r\n    for (int i=0;i&lt;drawables.length;i++) {\r\n        imageDrawables[i] = new ImageDrawable(drawable, titles[i]);\r\n    }","title":"How to take the users input and see if it matches random image showing on screen","body":"<p>I would like to get the users input from an editText and check if it's equal to a random array image. How can I take the users input and see if it matches the image showing?</p>\n<p>This is the code I use to get a random image from the array:</p>\n<pre><code>images[rand.nextInt(images.length)] \n</code></pre>\n<p>here is my code:</p>\n<pre><code>public void enterButton(View view) {\n    String imageTitle = ImageDrawable.getTitle(); \n    String guess = userGuess.getText().toString();\n\n    if (imageTitle == guess) {\n        Toast.makeText(this, &quot;Correct!&quot;, Toast.LENGTH_SHORT).show();\n\n    } else {\n        Toast.makeText(this, &quot;Try Again!&quot;, \nToast.LENGTH_SHORT).show();\n    }\n}\n\n\nDrawables[] drawables = ...;\nString[] titles = ...;\nImageDrawable[] imageDrawables = new ImageDrawable[drawables.length];\n if (drawables.length != titles.length) {\n    throw ...;\n}\nfor (int i=0;i&lt;drawables.length;i++) {\n    imageDrawables[i] = new ImageDrawable(drawable, titles[i]);\n}\n</code></pre>\n"},{"tags":["java","android","android-alertdialog"],"answers":[{"tags":[],"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647183256,"creation_date":1647183256,"answer_id":71457924,"question_id":71457618,"body_markdown":"I think you forgot to set the adapter\r\n\r\n      Spinner spinner = (Spinner) findViewById(R.id.options_spinner);\r\n    \r\n            String[] values = {&quot;Kilogram&quot;,&quot;Celsius&quot;,&quot;other&quot;};\r\n    \r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1,values);\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n    \r\n            spinner.setAdapter(adapter);\r\n    \r\n            ImageButton tapeButton = (ImageButton)findViewById(R.id.imageButton_tape);\r\n    \r\n            tapeButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String spinnerValue = spinner.getSelectedItem().toString();\r\n                    if (spinnerValue.equals(&quot;Kilogram&quot;) || spinnerValue.equals(&quot;Celsius&quot;)){\r\n                        createDialog(&quot;Nah mate&quot;, &quot;Okay&quot;, MainActivity.this);\r\n                    }\r\n                }\r\n            });\r\n\r\n","title":"Android alert dialog won&#39;t open in emulator","body":"<p>I think you forgot to set the adapter</p>\n<pre><code>  Spinner spinner = (Spinner) findViewById(R.id.options_spinner);\n\n        String[] values = {&quot;Kilogram&quot;,&quot;Celsius&quot;,&quot;other&quot;};\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1,values);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n        spinner.setAdapter(adapter);\n\n        ImageButton tapeButton = (ImageButton)findViewById(R.id.imageButton_tape);\n\n        tapeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String spinnerValue = spinner.getSelectedItem().toString();\n                if (spinnerValue.equals(&quot;Kilogram&quot;) || spinnerValue.equals(&quot;Celsius&quot;)){\n                    createDialog(&quot;Nah mate&quot;, &quot;Okay&quot;, MainActivity.this);\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":24544356,"reputation":1,"user_id":18454426,"display_name":"brooklynxo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647183256,"creation_date":1647181052,"question_id":71457618,"body_markdown":"I have been trying to debug the issue of an alert dialog not opening on click of an image button when certain options in a spinner are selected.\r\n\r\nThe below is my MainActivity.java file which includes the relevant code for the alert dialog (left out code for the spinner as this is working as intended), any help would be much appreciated!\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n        public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            // Initialise Inputs &amp; Fields\r\n            this.UnitSelector();\r\n            Spinner spinner = (Spinner) findViewById(R.id.options_spinner);\r\n    \r\n            // UI Relationships\r\n            ImageButton tapeButton = (ImageButton)findViewById(R.id.imageButton_tape);\r\n    \r\n            Log.d(&quot;SpinnerValue&quot;, spinner.getSelectedItem().toString());\r\n    \r\n            EditText editText = (EditText) findViewById(R.id.value);\r\n            String message = editText.getText().toString();\r\n    \r\n            // Listeners &amp; Actions\r\n            tapeButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String spinnerValue = spinner.getSelectedItem().toString();\r\n    //                float messageFloat = Float.parseFloat(message);\r\n                    Log.d(&quot;Button Clicked&quot;, spinnerValue);\r\n                    if (spinnerValue == &quot;Kilogram&quot; || spinnerValue == &quot;Celsius&quot;){\r\n                        createDialog(&quot;Nah mate&quot;, &quot;Okay&quot;, MainActivity.this);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n    void createDialog( String title, String msg, Context context){\r\n            AlertDialog.Builder builder\r\n                    = new AlertDialog\r\n                    .Builder(context);\r\n    \r\n            // Set the message show for the Alert time\r\n            builder.setMessage(msg);\r\n    \r\n            // Set Alert Title\r\n            builder.setTitle(title);\r\n    \r\n            // Set Cancelable false\r\n            // for when the user clicks on the outside\r\n            // the Dialog Box then it will remain show\r\n            builder.setCancelable(true);\r\n   \r\n    \r\n            builder.setNeutralButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                @Override public void onClick(DialogInterface dialog, int which){\r\n                    dialog.cancel();\r\n                }\r\n            });\r\n    \r\n    \r\n            // Create the Alert dialog\r\n            AlertDialog alertDialog = builder.create();\r\n            alertDialog.show();\r\n        }\r\n    }","title":"Android alert dialog won&#39;t open in emulator","body":"<p>I have been trying to debug the issue of an alert dialog not opening on click of an image button when certain options in a spinner are selected.</p>\n<p>The below is my MainActivity.java file which includes the relevant code for the alert dialog (left out code for the spinner as this is working as intended), any help would be much appreciated!</p>\n<pre><code>    public class MainActivity extends AppCompatActivity {\n    public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Initialise Inputs &amp; Fields\n        this.UnitSelector();\n        Spinner spinner = (Spinner) findViewById(R.id.options_spinner);\n\n        // UI Relationships\n        ImageButton tapeButton = (ImageButton)findViewById(R.id.imageButton_tape);\n\n        Log.d(&quot;SpinnerValue&quot;, spinner.getSelectedItem().toString());\n\n        EditText editText = (EditText) findViewById(R.id.value);\n        String message = editText.getText().toString();\n\n        // Listeners &amp; Actions\n        tapeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String spinnerValue = spinner.getSelectedItem().toString();\n//                float messageFloat = Float.parseFloat(message);\n                Log.d(&quot;Button Clicked&quot;, spinnerValue);\n                if (spinnerValue == &quot;Kilogram&quot; || spinnerValue == &quot;Celsius&quot;){\n                    createDialog(&quot;Nah mate&quot;, &quot;Okay&quot;, MainActivity.this);\n                }\n            }\n        });\n    }\n\nvoid createDialog( String title, String msg, Context context){\n        AlertDialog.Builder builder\n                = new AlertDialog\n                .Builder(context);\n\n        // Set the message show for the Alert time\n        builder.setMessage(msg);\n\n        // Set Alert Title\n        builder.setTitle(title);\n\n        // Set Cancelable false\n        // for when the user clicks on the outside\n        // the Dialog Box then it will remain show\n        builder.setCancelable(true);\n\n\n        builder.setNeutralButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n            @Override public void onClick(DialogInterface dialog, int which){\n                dialog.cancel();\n            }\n        });\n\n\n        // Create the Alert dialog\n        AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","class","android-activity","cannot-find-symbol"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1647164894,"post_id":71454104,"comment_id":126297940,"body_markdown":"First look if there is an `import`. Second is `MessageRVAdapter` in the right package ? Third let Android Studio find the import for you.","body":"First look if there is an <code>import</code>. Second is <code>MessageRVAdapter</code> in the right package ? Third let Android Studio find the import for you."},{"owner":{"account_id":23957203,"reputation":3,"user_id":17947903,"display_name":"Daniel_devil"},"score":0,"creation_date":1647184413,"post_id":71454104,"comment_id":126302150,"body_markdown":"I figured it out!! For some reason it had MessageRVAdapter down as private but it should have been public in the code within MainActivity.java.","body":"I figured it out!! For some reason it had MessageRVAdapter down as private but it should have been public in the code within MainActivity.java."}],"owner":{"account_id":23957203,"reputation":3,"user_id":17947903,"display_name":"Daniel_devil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647183238,"creation_date":1647140884,"question_id":71454104,"body_markdown":"I do have a MessageRVAdapter in my project directory but I don&#39;t know why my app isn&#39;t finding this class.\r\nI get the following problem in MainActivity.java within app\\src\\main\\java\\com\\example\\chatbot:\r\n\r\n    cannot find symbol\r\n        private MessageRVAdapter messageRVAdapter;\r\n                ^\r\n      symbol:   class MessageRVAdapter\r\n      location: class MainActivity \r\n\r\n******************\r\nHere is my code:\r\n\r\n    // creating a variable for array list and adapter class.\r\n    private ArrayList&lt;com.example.chatbot.MessageModal&gt; messageModalArrayList;\r\n    private MessageRVAdapter messageRVAdapter;\r\n\r\n******************\r\nHere is what my directory looks like\r\n\r\nhttps://i.stack.imgur.com/JPAMe.jpg","title":"Cannot find symbol class MessageRVAdapter","body":"<p>I do have a MessageRVAdapter in my project directory but I don't know why my app isn't finding this class.\nI get the following problem in MainActivity.java within app\\src\\main\\java\\com\\example\\chatbot:</p>\n<pre><code>cannot find symbol\n    private MessageRVAdapter messageRVAdapter;\n            ^\n  symbol:   class MessageRVAdapter\n  location: class MainActivity \n</code></pre>\n<hr />\n<p>Here is my code:</p>\n<pre><code>// creating a variable for array list and adapter class.\nprivate ArrayList&lt;com.example.chatbot.MessageModal&gt; messageModalArrayList;\nprivate MessageRVAdapter messageRVAdapter;\n</code></pre>\n<hr />\n<p>Here is what my directory looks like</p>\n<p><a href=\"https://i.stack.imgur.com/JPAMe.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JPAMe.jpg</a></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1647170367,"post_id":71456197,"comment_id":126299055,"body_markdown":"Can you explain what error you are seeing and from where in your code?","body":"Can you explain what error you are seeing and from where in your code?"},{"owner":{"account_id":24542497,"reputation":1,"user_id":18452755,"display_name":"CEPHAS"},"score":0,"creation_date":1647260208,"post_id":71456197,"comment_id":126318635,"body_markdown":"The code is running but I can not register user. Keeps showing **registration failed try again later**","body":"The code is running but I can not register user. Keeps showing <b>registration failed try again later</b>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647263693,"post_id":71456197,"comment_id":126320029,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **400 (four hundred)** lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>400 (four hundred)</b> lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647263708,"post_id":71456197,"comment_id":126320036,"body_markdown":"Besides that, what exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"Besides that, what exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24542497,"reputation":1,"user_id":18452755,"display_name":"CEPHAS"},"score":0,"creation_date":1647457132,"post_id":71456197,"comment_id":126378939,"body_markdown":"**W/RenderThread: type=1400 audit(0.0:1475618): avc: denied { search } for name=&quot;battery&quot; dev=&quot;sysfs&quot; ino=6950 scontext=u:r:untrusted_app:s0:c236,c258,c512,c768 tcontext=u:object_r:sysfs_batteryinfo:s0 tclass=dir permissive=0\nE/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length\nE/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length\nW/RenderThread: type=1400 audit(0.0:1475620): avc: denied { search } for name=&quot;battery&quot; dev=&quot;sysfs&quot; ino=6950** this is the error am getting","body":"<b>W/RenderThread: type=1400 audit(0.0:1475618): avc: denied { search } for name=&quot;battery&quot; dev=&quot;sysfs&quot; ino=6950 scontext=u:r:untrusted_app:s0:c236,c258,c512,c768 tcontext=u:object_r:sysfs_batteryinfo:s0 tclass=dir permissive=0 E/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length E/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length W/RenderThread: type=1400 audit(0.0:1475620): avc: denied { search } for name=&quot;battery&quot; dev=&quot;sysfs&quot; ino=6950</b> this is the error am getting"}],"answers":[{"tags":[],"owner":{"account_id":19586199,"reputation":206,"user_id":14334255,"display_name":"Batman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647171567,"creation_date":1647171567,"answer_id":71456373,"question_id":71456197,"body_markdown":"When you return from a function, the code written after is never executed. In your method ```registerUser()``` every if condition that is true, returns. That means the actual code to register user is never reached.","title":"Am trying to register but keep getting errors in my android application please what is the solution","body":"<p>When you return from a function, the code written after is never executed. In your method <code>registerUser()</code> every if condition that is true, returns. That means the actual code to register user is never reached.</p>\n"}],"owner":{"account_id":24542497,"reputation":1,"user_id":18452755,"display_name":"CEPHAS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647183005,"creation_date":1647170094,"question_id":71456197,"body_markdown":"I am not too good at android applications so most of the code are from the Youtube videos I watched while trying to learn how to code android application. I made some adjustment to what I want. \r\n\r\nHere I am stuck trying to create a library management system. Every thing seems to be\r\nworking, except for the fact that I can&#39;t create a new user or sign in.\r\n\r\nCode is running fine, but still do not understand the errors. From my Sign Activity there seems to be a misplacement of code, which I don&#39;t understand.\r\n\r\n```\r\npublic class SignUpActivity extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    private TextInputLayout editName;\r\n    private TextInputLayout editEnrollNo;\r\n    private TextInputLayout editCardNo;\r\n    private TextInputLayout editPass1;\r\n    private TextInputLayout editID;\r\n    private TextInputLayout editPass;\r\n    private Button buttonRegister;\r\n    private TextView toSignIn;\r\n    private ProgressDialog progressDialog;\r\n    private FirebaseAuth firebaseAuth;\r\n    private CheckBox check1;\r\n    private FirebaseFirestore db;\r\n    private Spinner userType;\r\n    private String type;\r\n    private int type1;\r\n    private int temp;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_signup);\r\n\r\n        editID = (TextInputLayout) findViewById(R.id.editID);\r\n        editPass = (TextInputLayout) findViewById(R.id.editPass);\r\n        editPass1=(TextInputLayout)findViewById(R.id.editPass1);\r\n        editName=(TextInputLayout)findViewById(R.id.editName);\r\n        editEnrollNo=(TextInputLayout)findViewById(R.id.editEnrollNo);\r\n        editCardNo=(TextInputLayout)findViewById(R.id.editCardNo);\r\n        buttonRegister = (Button) findViewById(R.id.buttonRegister);\r\n        toSignIn = (TextView) findViewById(R.id.toSignIn);\r\n        progressDialog=new ProgressDialog(this);\r\n        progressDialog.setCancelable(false);\r\n        check1=(CheckBox)findViewById(R.id.check1);\r\n        userType=(Spinner)findViewById(R.id.userType);\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;Select Account Type&quot;);\r\n        list.add(&quot;User&quot;);\r\n        list.add(&quot;Admin&quot;);\r\n\r\n        ArrayAdapter adapter =new ArrayAdapter(this,android.R.layout.simple_spinner_dropdown_item,list);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        userType.setAdapter(adapter);\r\n        userType.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                if(parent.getItemAtPosition(position).toString().equals(&quot;Select Account Type&quot;))\r\n                {\r\n                    type=parent.getItemAtPosition(position).toString();\r\n                    editPass1.setEnabled(false);\r\n                    editPass.setEnabled(false);\r\n                    editName.setEnabled(false);\r\n                    editID.setEnabled(false);\r\n                    editEnrollNo.setEnabled(false);\r\n                    editCardNo.setEnabled(false);\r\n\r\n                    editCardNo.setErrorEnabled(false);\r\n                    editEnrollNo.setErrorEnabled(false);\r\n                    editID.setErrorEnabled(false);\r\n                    editName.setErrorEnabled(false);\r\n                    editPass.setErrorEnabled(false);\r\n                    editPass1.setErrorEnabled(false);\r\n                }\r\n                else if(parent.getItemAtPosition(position).toString().equals(&quot;User&quot;))\r\n                {\r\n                    type=parent.getItemAtPosition(position).toString();\r\n                    editPass1.setEnabled(true);\r\n                    editPass.setEnabled(true);\r\n                    editName.setEnabled(true);\r\n                    editID.setEnabled(true);\r\n                    editEnrollNo.setEnabled(true);\r\n                    editCardNo.setEnabled(true);\r\n\r\n                    editCardNo.setErrorEnabled(false);\r\n                    editEnrollNo.setErrorEnabled(false);\r\n                    editID.setErrorEnabled(false);\r\n                    editName.setErrorEnabled(false);\r\n                    editPass.setErrorEnabled(false);\r\n                    editPass1.setErrorEnabled(false);\r\n                }\r\n                else\r\n                {\r\n                    type=parent.getItemAtPosition(position).toString();\r\n                    editPass1.setEnabled(true);\r\n                    editPass.setEnabled(true);\r\n                    editName.setEnabled(true);\r\n                    editID.setEnabled(true);\r\n                    editEnrollNo.setEnabled(false);\r\n                    editCardNo.setEnabled(false);\r\n\r\n                    editCardNo.setErrorEnabled(false);\r\n                    editEnrollNo.setErrorEnabled(false);\r\n                    editID.setErrorEnabled(false);\r\n                    editName.setErrorEnabled(false);\r\n                    editPass.setErrorEnabled(false);\r\n                    editPass1.setErrorEnabled(false);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n            }\r\n        });\r\n        FirebaseApp.initializeApp(this);\r\n        firebaseAuth=FirebaseAuth.getInstance();\r\n        db=FirebaseFirestore.getInstance();\r\n        buttonRegister.setOnClickListener(this);\r\n        toSignIn.setOnClickListener(this);\r\n        check1.setOnClickListener(this);\r\n    }\r\n\r\n    private boolean verifyName()\r\n    {\r\n\r\n        String name=editName.getEditText().getText().toString().trim();\r\n        if(name.isEmpty())\r\n        {   editName.setErrorEnabled(true);\r\n            editName.setError(&quot;Name Required&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editName.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyCardNo()\r\n    {\r\n        String cardNo=editCardNo.getEditText().getText().toString().trim();\r\n        if(cardNo.isEmpty())\r\n        {   editCardNo.setErrorEnabled(true);\r\n            editCardNo.setError(&quot;Card No. Required&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editCardNo.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyEnrollNo()\r\n    {\r\n        String enrollNo=editEnrollNo.getEditText().getText().toString().trim();\r\n        if(enrollNo.isEmpty())\r\n        {   editEnrollNo.setErrorEnabled(true);\r\n            editEnrollNo.setError(&quot;Enrollment No. Required&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editEnrollNo.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyEmailId()\r\n    {\r\n        String emailId=editID.getEditText().getText().toString().trim();\r\n        if(emailId.isEmpty())\r\n        {   editID.setErrorEnabled(true);\r\n            editID.setError(&quot; Email ID Required&quot;);\r\n            return true;\r\n        }\r\n        else if(!emailId.endsWith(&quot;@iiitnr.edu.in&quot;))\r\n        {\r\n            editID.setErrorEnabled(true);\r\n            editID.setError(&quot; Enter Valid Email ID&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editID.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyPass()\r\n    {\r\n        String pass=editPass.getEditText().getText().toString().trim();\r\n        if(pass.isEmpty())\r\n        {   editPass.setErrorEnabled(true);\r\n            editPass.setError(&quot; Password Required&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editPass.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyPass1()\r\n    {\r\n        String pass1=editPass1.getEditText().getText().toString().trim();\r\n        String pass=editPass.getEditText().getText().toString().trim();\r\n        if(pass1.isEmpty())\r\n        {   editPass1.setErrorEnabled(true);\r\n            editPass1.setError(&quot;Confirm Password Required&quot;);\r\n            return true;\r\n        }\r\n        else if(pass.equals(pass1))\r\n        {\r\n            editPass1.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n        else\r\n        {\r\n            editPass1.setErrorEnabled(true);\r\n            editPass1.setError(&quot;Passwords do not match&quot;);\r\n            return true;\r\n        }\r\n    }\r\n\r\n  private boolean verifyType()\r\n    {\r\n       if (type.equals(&quot;Select Account Type&quot;))\r\n       {\r\n           Toast.makeText(this, &quot;Please select account type !&quot;, Toast.LENGTH_SHORT).show();\r\n           return true;\r\n       }\r\n       return false;\r\n    }\r\n\r\n    private boolean verifyCard1()\r\n    {\r\n        db.collection(&quot;User&quot;).whereEqualTo(&quot;card&quot;,Integer.parseInt(editCardNo.getEditText().getText().toString().trim())).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                   temp=task.getResult().size();\r\n                }\r\n            }\r\n        });\r\n        if(temp==0)\r\n            return false;\r\n        else\r\n            return true;\r\n\r\n    }\r\n\r\n    private void registerUser()\r\n    {\r\n        if(verifyType())\r\n           return;\r\n\r\n        if(type.equals(&quot;User&quot;))\r\n        {\r\n            boolean res= (verifyName()|verifyCardNo()|verifyEmailId()|verifyEnrollNo()|verifyPass()|verifyPass1());\r\n            if(res==true)\r\n                return;\r\n        }\r\n        if(type.equals(&quot;Admin&quot;))\r\n        {\r\n            boolean res= (verifyName()|verifyEmailId()|verifyPass()|verifyPass1());\r\n            if(res==true)\r\n                return;\r\n        }\r\n\r\n        String id=editID.getEditText().getText().toString().trim();\r\n        String pass=editPass.getEditText().getText().toString().trim();\r\n        if(type.equals(&quot;User&quot;)){\r\n            type1=0;\r\n        }\r\n        else\r\n            type1=1;\r\n\r\n        progressDialog.setMessage(&quot;Registering User ... &quot;);\r\n        progressDialog.show();\r\n\r\n        firebaseAuth.createUserWithEmailAndPassword(id,pass).addOnCompleteListener(SignUpActivity.this, new OnCompleteListener&lt;AuthResult&gt;()\r\n        {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                    String id=editID.getEditText().getText().toString().trim();\r\n                    String name=editName.getEditText().getText().toString().trim();\r\n                    if(type1==0)\r\n                    {\r\n                        int enroll=Integer.parseInt(editEnrollNo.getEditText().getText().toString().trim());\r\n                        int card=Integer.parseInt(editCardNo.getEditText().getText().toString().trim());\r\n                        db.collection(&quot;User&quot;).document(id).set(new User(name,id,enroll,card,type1)).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                progressDialog.cancel();\r\n                                Toast.makeText(SignUpActivity.this,&quot;Registered Successfully !&quot;,Toast.LENGTH_SHORT).show();\r\n                                firebaseAuth.signOut();\r\n                                startActivity(new Intent(getApplicationContext(),SignInActivity.class));\r\n                                finish();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(SignUpActivity.this, &quot;Please Try Again !&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n\r\n                        db.collection(&quot;User&quot;).document(id).set(new Admin(type1,name,id)).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                progressDialog.cancel();\r\n                                Toast.makeText(SignUpActivity.this,&quot;Registered Successfully !&quot;,Toast.LENGTH_SHORT).show();\r\n                                firebaseAuth.signOut();\r\n                                startActivity(new Intent(getApplicationContext(),SignInActivity.class));\r\n                                finish();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(SignUpActivity.this, &quot;Please Try Again !&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                }\r\n\r\n                else\r\n                {   progressDialog.cancel();\r\n                if(task.getException() instanceof FirebaseAuthUserCollisionException)\r\n                {\r\n                    Toast.makeText(SignUpActivity.this,&quot;Already Registered ! &quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    Toast.makeText(SignUpActivity.this, &quot;Registration Failed ! Try Again &quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        if(v==check1)\r\n        {\r\n            if(check1.isChecked())\r\n                buttonRegister.setEnabled(true);\r\n            else\r\n                buttonRegister.setEnabled(false);\r\n        }\r\n        else if(v==buttonRegister)\r\n            registerUser();\r\n\r\n        else if(v==toSignIn) {\r\n            startActivity(new Intent(getApplicationContext(),SignInActivity.class));\r\n            finish();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nPlease can any one help? ","title":"Am trying to register but keep getting errors in my android application please what is the solution","body":"<p>I am not too good at android applications so most of the code are from the Youtube videos I watched while trying to learn how to code android application. I made some adjustment to what I want.</p>\n<p>Here I am stuck trying to create a library management system. Every thing seems to be\nworking, except for the fact that I can't create a new user or sign in.</p>\n<p>Code is running fine, but still do not understand the errors. From my Sign Activity there seems to be a misplacement of code, which I don't understand.</p>\n<pre><code>public class SignUpActivity extends AppCompatActivity implements View.OnClickListener{\n\n    private TextInputLayout editName;\n    private TextInputLayout editEnrollNo;\n    private TextInputLayout editCardNo;\n    private TextInputLayout editPass1;\n    private TextInputLayout editID;\n    private TextInputLayout editPass;\n    private Button buttonRegister;\n    private TextView toSignIn;\n    private ProgressDialog progressDialog;\n    private FirebaseAuth firebaseAuth;\n    private CheckBox check1;\n    private FirebaseFirestore db;\n    private Spinner userType;\n    private String type;\n    private int type1;\n    private int temp;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_signup);\n\n        editID = (TextInputLayout) findViewById(R.id.editID);\n        editPass = (TextInputLayout) findViewById(R.id.editPass);\n        editPass1=(TextInputLayout)findViewById(R.id.editPass1);\n        editName=(TextInputLayout)findViewById(R.id.editName);\n        editEnrollNo=(TextInputLayout)findViewById(R.id.editEnrollNo);\n        editCardNo=(TextInputLayout)findViewById(R.id.editCardNo);\n        buttonRegister = (Button) findViewById(R.id.buttonRegister);\n        toSignIn = (TextView) findViewById(R.id.toSignIn);\n        progressDialog=new ProgressDialog(this);\n        progressDialog.setCancelable(false);\n        check1=(CheckBox)findViewById(R.id.check1);\n        userType=(Spinner)findViewById(R.id.userType);\n\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;Select Account Type&quot;);\n        list.add(&quot;User&quot;);\n        list.add(&quot;Admin&quot;);\n\n        ArrayAdapter adapter =new ArrayAdapter(this,android.R.layout.simple_spinner_dropdown_item,list);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        userType.setAdapter(adapter);\n        userType.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n                if(parent.getItemAtPosition(position).toString().equals(&quot;Select Account Type&quot;))\n                {\n                    type=parent.getItemAtPosition(position).toString();\n                    editPass1.setEnabled(false);\n                    editPass.setEnabled(false);\n                    editName.setEnabled(false);\n                    editID.setEnabled(false);\n                    editEnrollNo.setEnabled(false);\n                    editCardNo.setEnabled(false);\n\n                    editCardNo.setErrorEnabled(false);\n                    editEnrollNo.setErrorEnabled(false);\n                    editID.setErrorEnabled(false);\n                    editName.setErrorEnabled(false);\n                    editPass.setErrorEnabled(false);\n                    editPass1.setErrorEnabled(false);\n                }\n                else if(parent.getItemAtPosition(position).toString().equals(&quot;User&quot;))\n                {\n                    type=parent.getItemAtPosition(position).toString();\n                    editPass1.setEnabled(true);\n                    editPass.setEnabled(true);\n                    editName.setEnabled(true);\n                    editID.setEnabled(true);\n                    editEnrollNo.setEnabled(true);\n                    editCardNo.setEnabled(true);\n\n                    editCardNo.setErrorEnabled(false);\n                    editEnrollNo.setErrorEnabled(false);\n                    editID.setErrorEnabled(false);\n                    editName.setErrorEnabled(false);\n                    editPass.setErrorEnabled(false);\n                    editPass1.setErrorEnabled(false);\n                }\n                else\n                {\n                    type=parent.getItemAtPosition(position).toString();\n                    editPass1.setEnabled(true);\n                    editPass.setEnabled(true);\n                    editName.setEnabled(true);\n                    editID.setEnabled(true);\n                    editEnrollNo.setEnabled(false);\n                    editCardNo.setEnabled(false);\n\n                    editCardNo.setErrorEnabled(false);\n                    editEnrollNo.setErrorEnabled(false);\n                    editID.setErrorEnabled(false);\n                    editName.setErrorEnabled(false);\n                    editPass.setErrorEnabled(false);\n                    editPass1.setErrorEnabled(false);\n                }\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n            }\n        });\n        FirebaseApp.initializeApp(this);\n        firebaseAuth=FirebaseAuth.getInstance();\n        db=FirebaseFirestore.getInstance();\n        buttonRegister.setOnClickListener(this);\n        toSignIn.setOnClickListener(this);\n        check1.setOnClickListener(this);\n    }\n\n    private boolean verifyName()\n    {\n\n        String name=editName.getEditText().getText().toString().trim();\n        if(name.isEmpty())\n        {   editName.setErrorEnabled(true);\n            editName.setError(&quot;Name Required&quot;);\n            return true;\n        }\n        else\n        {\n            editName.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyCardNo()\n    {\n        String cardNo=editCardNo.getEditText().getText().toString().trim();\n        if(cardNo.isEmpty())\n        {   editCardNo.setErrorEnabled(true);\n            editCardNo.setError(&quot;Card No. Required&quot;);\n            return true;\n        }\n        else\n        {\n            editCardNo.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyEnrollNo()\n    {\n        String enrollNo=editEnrollNo.getEditText().getText().toString().trim();\n        if(enrollNo.isEmpty())\n        {   editEnrollNo.setErrorEnabled(true);\n            editEnrollNo.setError(&quot;Enrollment No. Required&quot;);\n            return true;\n        }\n        else\n        {\n            editEnrollNo.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyEmailId()\n    {\n        String emailId=editID.getEditText().getText().toString().trim();\n        if(emailId.isEmpty())\n        {   editID.setErrorEnabled(true);\n            editID.setError(&quot; Email ID Required&quot;);\n            return true;\n        }\n        else if(!emailId.endsWith(&quot;@iiitnr.edu.in&quot;))\n        {\n            editID.setErrorEnabled(true);\n            editID.setError(&quot; Enter Valid Email ID&quot;);\n            return true;\n        }\n        else\n        {\n            editID.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyPass()\n    {\n        String pass=editPass.getEditText().getText().toString().trim();\n        if(pass.isEmpty())\n        {   editPass.setErrorEnabled(true);\n            editPass.setError(&quot; Password Required&quot;);\n            return true;\n        }\n        else\n        {\n            editPass.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyPass1()\n    {\n        String pass1=editPass1.getEditText().getText().toString().trim();\n        String pass=editPass.getEditText().getText().toString().trim();\n        if(pass1.isEmpty())\n        {   editPass1.setErrorEnabled(true);\n            editPass1.setError(&quot;Confirm Password Required&quot;);\n            return true;\n        }\n        else if(pass.equals(pass1))\n        {\n            editPass1.setErrorEnabled(false);\n            return false;\n        }\n        else\n        {\n            editPass1.setErrorEnabled(true);\n            editPass1.setError(&quot;Passwords do not match&quot;);\n            return true;\n        }\n    }\n\n  private boolean verifyType()\n    {\n       if (type.equals(&quot;Select Account Type&quot;))\n       {\n           Toast.makeText(this, &quot;Please select account type !&quot;, Toast.LENGTH_SHORT).show();\n           return true;\n       }\n       return false;\n    }\n\n    private boolean verifyCard1()\n    {\n        db.collection(&quot;User&quot;).whereEqualTo(&quot;card&quot;,Integer.parseInt(editCardNo.getEditText().getText().toString().trim())).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if(task.isSuccessful())\n                {\n                   temp=task.getResult().size();\n                }\n            }\n        });\n        if(temp==0)\n            return false;\n        else\n            return true;\n\n    }\n\n    private void registerUser()\n    {\n        if(verifyType())\n           return;\n\n        if(type.equals(&quot;User&quot;))\n        {\n            boolean res= (verifyName()|verifyCardNo()|verifyEmailId()|verifyEnrollNo()|verifyPass()|verifyPass1());\n            if(res==true)\n                return;\n        }\n        if(type.equals(&quot;Admin&quot;))\n        {\n            boolean res= (verifyName()|verifyEmailId()|verifyPass()|verifyPass1());\n            if(res==true)\n                return;\n        }\n\n        String id=editID.getEditText().getText().toString().trim();\n        String pass=editPass.getEditText().getText().toString().trim();\n        if(type.equals(&quot;User&quot;)){\n            type1=0;\n        }\n        else\n            type1=1;\n\n        progressDialog.setMessage(&quot;Registering User ... &quot;);\n        progressDialog.show();\n\n        firebaseAuth.createUserWithEmailAndPassword(id,pass).addOnCompleteListener(SignUpActivity.this, new OnCompleteListener&lt;AuthResult&gt;()\n        {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if(task.isSuccessful())\n                {\n                    String id=editID.getEditText().getText().toString().trim();\n                    String name=editName.getEditText().getText().toString().trim();\n                    if(type1==0)\n                    {\n                        int enroll=Integer.parseInt(editEnrollNo.getEditText().getText().toString().trim());\n                        int card=Integer.parseInt(editCardNo.getEditText().getText().toString().trim());\n                        db.collection(&quot;User&quot;).document(id).set(new User(name,id,enroll,card,type1)).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void aVoid) {\n                                progressDialog.cancel();\n                                Toast.makeText(SignUpActivity.this,&quot;Registered Successfully !&quot;,Toast.LENGTH_SHORT).show();\n                                firebaseAuth.signOut();\n                                startActivity(new Intent(getApplicationContext(),SignInActivity.class));\n                                finish();\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Toast.makeText(SignUpActivity.this, &quot;Please Try Again !&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n                    else {\n\n                        db.collection(&quot;User&quot;).document(id).set(new Admin(type1,name,id)).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void aVoid) {\n                                progressDialog.cancel();\n                                Toast.makeText(SignUpActivity.this,&quot;Registered Successfully !&quot;,Toast.LENGTH_SHORT).show();\n                                firebaseAuth.signOut();\n                                startActivity(new Intent(getApplicationContext(),SignInActivity.class));\n                                finish();\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Toast.makeText(SignUpActivity.this, &quot;Please Try Again !&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n\n                }\n\n                else\n                {   progressDialog.cancel();\n                if(task.getException() instanceof FirebaseAuthUserCollisionException)\n                {\n                    Toast.makeText(SignUpActivity.this,&quot;Already Registered ! &quot;,Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    Toast.makeText(SignUpActivity.this, &quot;Registration Failed ! Try Again &quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        if(v==check1)\n        {\n            if(check1.isChecked())\n                buttonRegister.setEnabled(true);\n            else\n                buttonRegister.setEnabled(false);\n        }\n        else if(v==buttonRegister)\n            registerUser();\n\n        else if(v==toSignIn) {\n            startActivity(new Intent(getApplicationContext(),SignInActivity.class));\n            finish();\n        }\n    }\n}\n</code></pre>\n<p>Please can any one help?</p>\n"},{"tags":["java","spring","unit-testing","mockito","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647182697,"creation_date":1647182697,"answer_id":71457840,"question_id":71419972,"body_markdown":"&gt; Does it possible to somehow turn on more meaningful errors with Reactor Project? May be here is more suitable testing approach or framework which can give more descriptive information to developer? For example point to method which mock wasn&#39;t found.\r\n\r\nTo some extent...\r\nThe rationale is that when you do `StepVerifier.create(...)`, the publisher parameter is not checked for null by any of the overloads, therefore nulls get lazily propagated to `DefaultStepVerifierBuilder.java:867`.\r\nSounds like a design issue that probably won&#39;t be ever fixed at least for a minor version upgrade because such a fix may break existing projects.\r\n\r\n#### Option 1\r\n\r\nSo, having that in mind, you can create guarded versions of the create method overloads and somehow mark the `StepVerifier.create` methods deprecated for your project:\r\n\r\n```java\r\n@UtilityClass\r\npublic final class GuardedStepVerifier {\r\n\r\n\tpublic static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher) {\r\n\t\tif ( publisher == null ) {\r\n\t\t\tthrow new AssertionError(&quot;publisher not set up&quot;);\r\n\t\t}\r\n\t\treturn StepVerifier.create(publisher);\r\n\t}\r\n\r\n\tpublic static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher, final long n) {\r\n\t\tif ( publisher == null ) {\r\n\t\t\tthrow new AssertionError(&quot;publisher not set up&quot;);\r\n\t\t}\r\n\t\treturn StepVerifier.create(publisher, n);\r\n\t}\r\n\r\n\tpublic static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher, final StepVerifierOptions options) {\r\n\t\tif ( publisher == null ) {\r\n\t\t\tthrow new AssertionError(&quot;publisher not set up&quot;);\r\n\t\t}\r\n\t\treturn StepVerifier.create(publisher, options);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nCompare the following tests:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic final class DefaultFooServiceTest {\r\n\r\n\tprivate static final Foo foo1 = new Foo(UUID.fromString(&quot;e00ab7f4-14eb-40d4-9cdb-109e8f88c773&quot;));\r\n\tprivate static final Foo foo2 = new Foo(UUID.fromString(&quot;809359bd-2d5b-4eb7-b666-f520c628027b&quot;));\r\n\r\n\t@Mock\r\n\tprivate FooRepository fooRepositoryMock;\r\n\r\n\t@InjectMocks\r\n\tprivate DefaultFooService unit;\r\n\r\n\t@BeforeEach\r\n\tvoid beforeEach() {\r\n\t\tif ( false ) {\r\n\t\t\tMockito.doReturn(Flux.just(foo1, foo2))\r\n\t\t\t\t\t.when(fooRepositoryMock)\r\n\t\t\t\t\t.findAll();\r\n\t\t}\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testFindAllWithStepVerifier() {\r\n\t\tStepVerifier.create(unit.findAll())\r\n\t\t\t\t.expectNext(foo1, foo2)\r\n\t\t\t\t.verifyComplete();\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testFindAllWithGuardedStepVerifier() {\r\n\t\tGuardedStepVerifier.create(unit.findAll())\r\n\t\t\t\t.expectNext(foo1, foo2)\r\n\t\t\t\t.verifyComplete();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n`testFindAllWithStepVerifier` output:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.reactivestreams.Publisher.subscribe(org.reactivestreams.Subscriber)&quot; because &quot;publisher&quot; is null\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\r\n\tat reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\r\n\tat q71419972.DefaultFooServiceTest.testFindAllWithStepVerifier(DefaultFooServiceTest.java:40)\r\n\t...\r\n```\r\n\r\n`testFindAllWithGuardedStepVerifier` output:\r\n\r\n```\r\njava.lang.AssertionError: publisher not set up\r\n\tat q71419972.GuardedStepVerifier.create(GuardedStepVerifier.java:15)\r\n\tat q71419972.DefaultFooServiceTest.testFindAllWithGuardedStepVerifier(DefaultFooServiceTest.java:45)\r\n\t...\r\n```\r\n\r\nThe former is really obscure even for a simple test, but the latter _can_ point something set up wrong at least by spotting the mistake (sure, not literally right in the logs, but only peeking into the source code using the stacktrace).\r\nAttempting to make it a bit more informative and meaningful probably won&#39;t work too because there is no a way to take that info from.\r\n\r\nHowever...\r\nHere goes the following:\r\n\r\n#### Option 2\r\n\r\nMake your mocks annotated with `@Mock(answer = Answers.RETURNS_SMART_NULLS)`.\r\nThis will produce the following outputs for the default and &quot;guarded&quot; versions respectively (I marked the diffs with `&#128293;`):\r\n\r\n```\r\njava.lang.AssertionError: expectation &quot;expectNext(Foo(id=e00ab7f4-14eb-40d4-9cdb-109e8f88c773))&quot; failed (expected: onNext(Foo(id=e00ab7f4-14eb-40d4-9cdb-109e8f88c773)); actual: onError(org.mockito.exceptions.verification.SmartNullPointerException: \r\nYou have a NullPointerException here:\r\n-&gt; at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\nbecause this method call was *not* stubbed correctly:\r\n-&gt; at q71419972.DefaultFooService.findAll(DefaultFooService.java:22)\r\nfooRepositoryMock.findAll();\r\n))\r\n\r\n\tat reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)\r\n\tat reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)\r\n\tat reactor.test.MessageFormatter.fail(MessageFormatter.java:73)\r\n\tat reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)\r\n\tat reactor.test.DefaultStepVerifierBuilder.lambda$addExpectedValue$10(DefaultStepVerifierBuilder.java:501)\r\n\tat reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2218)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1490)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1438)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1091)\r\n\tat reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:232)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8472)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\r\n\tat reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\r\n&#128293;\tat q71419972.DefaultFooServiceTest.testFindAllWithStepVerifier(DefaultFooServiceTest.java:41)\r\n&#128293; OR\r\n&#128293;\tat q71419972.DefaultFooServiceTest.testFindAllWithGuardedStepVerifier(DefaultFooServiceTest.java:48)\r\n\t...\r\n\tSuppressed: org.mockito.exceptions.verification.SmartNullPointerException: \r\nYou have a NullPointerException here:\r\n-&gt; at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\nbecause this method call was *not* stubbed correctly:\r\n-&gt; at q71419972.DefaultFooService.findAll(DefaultFooService.java:22)\r\nfooRepositoryMock.findAll();\r\n```\r\n\r\nAs you can see, the error above reports that the `FooRepository.findAll` method was not stubbed, but the overall stack trace is longer.\r\n\r\nYou choose.\r\n","title":"How receive meaningful error from StepVerifier when mock object didn&#39;t setup in JUnit test?","body":"<blockquote>\n<p>Does it possible to somehow turn on more meaningful errors with Reactor Project? May be here is more suitable testing approach or framework which can give more descriptive information to developer? For example point to method which mock wasn't found.</p>\n</blockquote>\n<p>To some extent...\nThe rationale is that when you do <code>StepVerifier.create(...)</code>, the publisher parameter is not checked for null by any of the overloads, therefore nulls get lazily propagated to <code>DefaultStepVerifierBuilder.java:867</code>.\nSounds like a design issue that probably won't be ever fixed at least for a minor version upgrade because such a fix may break existing projects.</p>\n<h4>Option 1</h4>\n<p>So, having that in mind, you can create guarded versions of the create method overloads and somehow mark the <code>StepVerifier.create</code> methods deprecated for your project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@UtilityClass\npublic final class GuardedStepVerifier {\n\n    public static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher) {\n        if ( publisher == null ) {\n            throw new AssertionError(&quot;publisher not set up&quot;);\n        }\n        return StepVerifier.create(publisher);\n    }\n\n    public static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher, final long n) {\n        if ( publisher == null ) {\n            throw new AssertionError(&quot;publisher not set up&quot;);\n        }\n        return StepVerifier.create(publisher, n);\n    }\n\n    public static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher, final StepVerifierOptions options) {\n        if ( publisher == null ) {\n            throw new AssertionError(&quot;publisher not set up&quot;);\n        }\n        return StepVerifier.create(publisher, options);\n    }\n\n}\n</code></pre>\n<p>Compare the following tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic final class DefaultFooServiceTest {\n\n    private static final Foo foo1 = new Foo(UUID.fromString(&quot;e00ab7f4-14eb-40d4-9cdb-109e8f88c773&quot;));\n    private static final Foo foo2 = new Foo(UUID.fromString(&quot;809359bd-2d5b-4eb7-b666-f520c628027b&quot;));\n\n    @Mock\n    private FooRepository fooRepositoryMock;\n\n    @InjectMocks\n    private DefaultFooService unit;\n\n    @BeforeEach\n    void beforeEach() {\n        if ( false ) {\n            Mockito.doReturn(Flux.just(foo1, foo2))\n                    .when(fooRepositoryMock)\n                    .findAll();\n        }\n    }\n\n    @Test\n    void testFindAllWithStepVerifier() {\n        StepVerifier.create(unit.findAll())\n                .expectNext(foo1, foo2)\n                .verifyComplete();\n    }\n\n    @Test\n    void testFindAllWithGuardedStepVerifier() {\n        GuardedStepVerifier.create(unit.findAll())\n                .expectNext(foo1, foo2)\n                .verifyComplete();\n    }\n\n}\n</code></pre>\n<p><code>testFindAllWithStepVerifier</code> output:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.reactivestreams.Publisher.subscribe(org.reactivestreams.Subscriber)&quot; because &quot;publisher&quot; is null\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\n    at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\n    at q71419972.DefaultFooServiceTest.testFindAllWithStepVerifier(DefaultFooServiceTest.java:40)\n    ...\n</code></pre>\n<p><code>testFindAllWithGuardedStepVerifier</code> output:</p>\n<pre><code>java.lang.AssertionError: publisher not set up\n    at q71419972.GuardedStepVerifier.create(GuardedStepVerifier.java:15)\n    at q71419972.DefaultFooServiceTest.testFindAllWithGuardedStepVerifier(DefaultFooServiceTest.java:45)\n    ...\n</code></pre>\n<p>The former is really obscure even for a simple test, but the latter <em>can</em> point something set up wrong at least by spotting the mistake (sure, not literally right in the logs, but only peeking into the source code using the stacktrace).\nAttempting to make it a bit more informative and meaningful probably won't work too because there is no a way to take that info from.</p>\n<p>However...\nHere goes the following:</p>\n<h4>Option 2</h4>\n<p>Make your mocks annotated with <code>@Mock(answer = Answers.RETURNS_SMART_NULLS)</code>.\nThis will produce the following outputs for the default and &quot;guarded&quot; versions respectively (I marked the diffs with <code></code>):</p>\n<pre><code>java.lang.AssertionError: expectation &quot;expectNext(Foo(id=e00ab7f4-14eb-40d4-9cdb-109e8f88c773))&quot; failed (expected: onNext(Foo(id=e00ab7f4-14eb-40d4-9cdb-109e8f88c773)); actual: onError(org.mockito.exceptions.verification.SmartNullPointerException: \nYou have a NullPointerException here:\n-&gt; at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\nbecause this method call was *not* stubbed correctly:\n-&gt; at q71419972.DefaultFooService.findAll(DefaultFooService.java:22)\nfooRepositoryMock.findAll();\n))\n\n    at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)\n    at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)\n    at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)\n    at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)\n    at reactor.test.DefaultStepVerifierBuilder.lambda$addExpectedValue$10(DefaultStepVerifierBuilder.java:501)\n    at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2218)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1490)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1438)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1091)\n    at reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:232)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8472)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\n    at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\n  at q71419972.DefaultFooServiceTest.testFindAllWithStepVerifier(DefaultFooServiceTest.java:41)\n OR\n  at q71419972.DefaultFooServiceTest.testFindAllWithGuardedStepVerifier(DefaultFooServiceTest.java:48)\n    ...\n    Suppressed: org.mockito.exceptions.verification.SmartNullPointerException: \nYou have a NullPointerException here:\n-&gt; at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\nbecause this method call was *not* stubbed correctly:\n-&gt; at q71419972.DefaultFooService.findAll(DefaultFooService.java:22)\nfooRepositoryMock.findAll();\n</code></pre>\n<p>As you can see, the error above reports that the <code>FooRepository.findAll</code> method was not stubbed, but the overall stack trace is longer.</p>\n<p>You choose.</p>\n"}],"owner":{"account_id":7512163,"reputation":349,"user_id":5706763,"accept_rate":93,"display_name":"Stanislav Matel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647182697,"creation_date":1646895456,"question_id":71419972,"body_markdown":"I have simple example for demonstration of problem. Here is simple example of service depending on repository, very common for Spring Framework.\r\n\r\n**Foo.java**\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport java.util.UUID;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class Foo {\r\n\r\n    @Id\r\n    private UUID   id;\r\n    private String name;\r\n\r\n}\r\n\r\n```\r\n\r\n**FooRepository.java**\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.repositories;\r\n\r\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\r\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\n\r\nimport java.util.UUID;\r\n\r\npublic interface FooRepository extends ReactiveCrudRepository&lt;Foo, UUID&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n**DefaultFooService.java**\r\n\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.services;\r\n\r\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\r\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\r\nimport org.springframework.stereotype.Service;\r\nimport reactor.core.publisher.Flux;\r\n\r\n@Service\r\npublic class DefaultFooService implements FooService {\r\n\r\n    private final FooRepository fooRepository;\r\n\r\n    public DefaultFooService(FooRepository fooRepository) {\r\n        this.fooRepository = fooRepository;\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;Foo&gt; findAll() {\r\n        return fooRepository.findAll();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**DefaultFooService.java**\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.services;\r\n\r\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\r\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\r\nimport org.springframework.stereotype.Service;\r\nimport reactor.core.publisher.Flux;\r\n\r\n@Service\r\npublic class DefaultFooService implements FooService {\r\n\r\n    private final FooRepository fooRepository;\r\n\r\n    public DefaultFooService(FooRepository fooRepository) {\r\n        this.fooRepository = fooRepository;\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;Foo&gt; findAll() {\r\n        return fooRepository.findAll();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**DefaultFooServiceTest.java**\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.services;\r\n\r\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\r\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.test.StepVerifier;\r\n\r\nimport java.util.UUID;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass DefaultFooServiceTest {\r\n\r\n    @Mock\r\n    FooRepository fooRepository;\r\n\r\n    @InjectMocks\r\n    DefaultFooService fooService;\r\n\r\n    @Test\r\n    void testFindAll() {\r\n\r\n        var id1 = UUID.fromString(&quot;e00ab7f4-14eb-40d4-9cdb-109e8f88c773&quot;);\r\n        var id2 = UUID.fromString(&quot;809359bd-2d5b-4eb7-b666-f520c628027b&quot;);\r\n\r\n        var foo1 = new Foo();\r\n        foo1.setId(id1);\r\n\r\n        var foo2 = new Foo();\r\n        foo2.setId(id2);\r\n\r\n        var publisher = fooService.findAll();\r\n\r\n        var fooExpected1 = new Foo();\r\n        fooExpected1.setId(id1);\r\n\r\n        var fooExpected2 = new Foo();\r\n        fooExpected2.setId(id2);\r\n\r\n        StepVerifier.create(publisher)\r\n                    .expectNext(fooExpected1, fooExpected2)\r\n                    .verifyComplete();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can see that mock for `dev.stanislavmachel.reactiveexperements.services.DefaultFooService#findAll` haven&#39;t been setup in `dev.stanislavmachel.reactiveexperements.services.DefaultFooServiceTest#testFindAll`.\r\n\r\nWhen I run test I will receive such error:\r\n\r\n```sh\r\n&gt; Task :compileJava UP-TO-DATE\r\n&gt; Task :processResources UP-TO-DATE\r\n&gt; Task :classes UP-TO-DATE\r\n&gt; Task :compileTestJava UP-TO-DATE\r\n&gt; Task :processTestResources NO-SOURCE\r\n&gt; Task :testClasses UP-TO-DATE\r\n&gt; Task :test FAILED\r\nMar 10, 2022 8:36:14 AM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\r\nINFO: 0 containers and 1 tests were Method or class mismatch\r\n\r\njava.lang.NullPointerException\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\r\n\tat reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\r\n\tat dev.stanislavmachel.reactiveexperements.services.DefaultFooServiceTest.testFindAll(DefaultFooServiceTest.java:75)\r\n\r\n\r\nDefaultFooServiceTest &gt; testFindAll() FAILED\r\n    java.lang.NullPointerException at DefaultFooServiceTest.java:75\r\n```\r\n\r\nAs you can see output from test only point to `DefaultFooServiceTest.java:75` -&gt; to `reactor.test.StepVerifier.LastStep#verifyComplete` call in test itself and not provide any useful information. If go with debugger to some methods provided in call stack it also not give any useful information.\r\n\r\nThis test is simple and it is really easy to find not properly setup mock, but if class have more than 3 dependencies it can be challenging sometimes.\r\n\r\nDoes it possible to somehow turn on more meaningful errors with Reactor Project? May be here is more suitable testing approach or framework which can give more descriptive information to developer? For example point to method which mock wasn&#39;t found. \r\n\r\n\r\n","title":"How receive meaningful error from StepVerifier when mock object didn&#39;t setup in JUnit test?","body":"<p>I have simple example for demonstration of problem. Here is simple example of service depending on repository, very common for Spring Framework.</p>\n<p><strong>Foo.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport java.util.UUID;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Foo {\n\n    @Id\n    private UUID   id;\n    private String name;\n\n}\n\n</code></pre>\n<p><strong>FooRepository.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.repositories;\n\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\n\nimport java.util.UUID;\n\npublic interface FooRepository extends ReactiveCrudRepository&lt;Foo, UUID&gt; {\n\n}\n\n</code></pre>\n<p><strong>DefaultFooService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.services;\n\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\nimport org.springframework.stereotype.Service;\nimport reactor.core.publisher.Flux;\n\n@Service\npublic class DefaultFooService implements FooService {\n\n    private final FooRepository fooRepository;\n\n    public DefaultFooService(FooRepository fooRepository) {\n        this.fooRepository = fooRepository;\n    }\n\n    @Override\n    public Flux&lt;Foo&gt; findAll() {\n        return fooRepository.findAll();\n    }\n\n}\n</code></pre>\n<p><strong>DefaultFooService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.services;\n\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\nimport org.springframework.stereotype.Service;\nimport reactor.core.publisher.Flux;\n\n@Service\npublic class DefaultFooService implements FooService {\n\n    private final FooRepository fooRepository;\n\n    public DefaultFooService(FooRepository fooRepository) {\n        this.fooRepository = fooRepository;\n    }\n\n    @Override\n    public Flux&lt;Foo&gt; findAll() {\n        return fooRepository.findAll();\n    }\n\n}\n</code></pre>\n<p><strong>DefaultFooServiceTest.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.services;\n\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport reactor.core.publisher.Flux;\nimport reactor.test.StepVerifier;\n\nimport java.util.UUID;\n\n@ExtendWith(MockitoExtension.class)\nclass DefaultFooServiceTest {\n\n    @Mock\n    FooRepository fooRepository;\n\n    @InjectMocks\n    DefaultFooService fooService;\n\n    @Test\n    void testFindAll() {\n\n        var id1 = UUID.fromString(&quot;e00ab7f4-14eb-40d4-9cdb-109e8f88c773&quot;);\n        var id2 = UUID.fromString(&quot;809359bd-2d5b-4eb7-b666-f520c628027b&quot;);\n\n        var foo1 = new Foo();\n        foo1.setId(id1);\n\n        var foo2 = new Foo();\n        foo2.setId(id2);\n\n        var publisher = fooService.findAll();\n\n        var fooExpected1 = new Foo();\n        fooExpected1.setId(id1);\n\n        var fooExpected2 = new Foo();\n        fooExpected2.setId(id2);\n\n        StepVerifier.create(publisher)\n                    .expectNext(fooExpected1, fooExpected2)\n                    .verifyComplete();\n\n    }\n\n}\n</code></pre>\n<p>You can see that mock for <code>dev.stanislavmachel.reactiveexperements.services.DefaultFooService#findAll</code> haven't been setup in <code>dev.stanislavmachel.reactiveexperements.services.DefaultFooServiceTest#testFindAll</code>.</p>\n<p>When I run test I will receive such error:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>&gt; Task :compileJava UP-TO-DATE\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes UP-TO-DATE\n&gt; Task :compileTestJava UP-TO-DATE\n&gt; Task :processTestResources NO-SOURCE\n&gt; Task :testClasses UP-TO-DATE\n&gt; Task :test FAILED\nMar 10, 2022 8:36:14 AM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\nINFO: 0 containers and 1 tests were Method or class mismatch\n\njava.lang.NullPointerException\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\n    at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\n    at dev.stanislavmachel.reactiveexperements.services.DefaultFooServiceTest.testFindAll(DefaultFooServiceTest.java:75)\n\n\nDefaultFooServiceTest &gt; testFindAll() FAILED\n    java.lang.NullPointerException at DefaultFooServiceTest.java:75\n</code></pre>\n<p>As you can see output from test only point to <code>DefaultFooServiceTest.java:75</code> -&gt; to <code>reactor.test.StepVerifier.LastStep#verifyComplete</code> call in test itself and not provide any useful information. If go with debugger to some methods provided in call stack it also not give any useful information.</p>\n<p>This test is simple and it is really easy to find not properly setup mock, but if class have more than 3 dependencies it can be challenging sometimes.</p>\n<p>Does it possible to somehow turn on more meaningful errors with Reactor Project? May be here is more suitable testing approach or framework which can give more descriptive information to developer? For example point to method which mock wasn't found.</p>\n"},{"tags":["java","swing","state","jtabbedpane","jradiobutton"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1647182297,"post_id":71457697,"comment_id":126301672,"body_markdown":"Read the `JTabbedPane` API, especially all the &quot;getter&quot; methods. There are methods to return the selected tab index and another method to get the component of the selected tab index. Once you have the selected component you check the state of the radio button using methods of the JRadioButtron. This is basic programming. Follow the methods of the API.","body":"Read the <code>JTabbedPane</code> API, especially all the &quot;getter&quot; methods. There are methods to return the selected tab index and another method to get the component of the selected tab index. Once you have the selected component you check the state of the radio button using methods of the JRadioButtron. This is basic programming. Follow the methods of the API."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1647182586,"post_id":71457697,"comment_id":126301735,"body_markdown":"`f.setLayout(null);` Use. *Layouts!* If not now, then certainly before you come asking us why the layout breaks. **Edit:** Also, please read the helpful tag pop-ups before slapping them on a post, and also look at the other tags suggested as possible alternates - for a more specific one.","body":"<code>f.setLayout(null);</code> Use. <i>Layouts!</i> If not now, then certainly before you come asking us why the layout breaks. <b>Edit:</b> Also, please read the helpful tag pop-ups before slapping them on a post, and also look at the other tags suggested as possible alternates - for a more specific one."}],"owner":{"account_id":24038741,"reputation":1,"user_id":18018693,"display_name":"Hussain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647182446,"creation_date":1647181650,"question_id":71457697,"body_markdown":"    import javax.swing.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    public class TabbedPaneExample {\r\n    JFrame f;\r\n    TabbedPaneExample(){\r\n    f=new JFrame();\r\n\r\n        JButton check = new JButton(&quot;Check state of RadioButton&quot;);\r\n        check.setBounds(50,280,200,60);\r\n        //selected tabbed radio button is selected ?\r\n\r\n        JPanel p1=new JPanel();\r\n        JPanel p2=new JPanel();\r\n        JPanel p3=new JPanel();\r\n        JRadioButton rb1 = new JRadioButton(&quot;Radio&quot;);\r\n        JRadioButton rb2= new JRadioButton(&quot;Radio&quot;);\r\n        JRadioButton rb3 = new JRadioButton(&quot;Radio&quot;);\r\n        rb1.setBounds(150,170,80,100);\r\n        rb2.setBounds(150,170,80,100);\r\n        rb3.setBounds(150,170,80,100);\r\n        p1.add(rb1);\r\n        p2.add(rb2);\r\n        p3.add(rb3);\r\n        JTabbedPane tp=new JTabbedPane();\r\n        tp.setBounds(50,50,200,200);\r\n        tp.add(&quot;main&quot;,p1);\r\n        tp.add(&quot;visit&quot;,p2);\r\n        tp.add(&quot;help&quot;,p3);\r\n\r\n        check.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                \r\n                // Q: is the radio button of the selected tab is checked\r\n                // what is the logic i can put here to get result\r\n                // show result into JOptionPane\r\n            }\r\n        });\r\n\r\n\r\n        f.add(tp);\r\n        f.add(check);\r\n        f.setSize(400,400);\r\n        f.setLayout(null);\r\n        f.setVisible(true);\r\n    }\r\n    public static void main(String[] args) {\r\n        new TabbedPaneExample();\r\n\r\n    }}\r\n\r\nQ: show radio button state(selected or unselected) of the active tab:\r\n\r\n[![https://i.stack.imgur.com/0pjIM.jpg][1]][1]\r\n\r\nI have three tab and these tab have the radio button, I want to get state(selected or unselected) of the radio button with respect to any active tab!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0pjIM.jpg","title":"Active Tabbed Radio is selected?","body":"<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class TabbedPaneExample {\nJFrame f;\nTabbedPaneExample(){\nf=new JFrame();\n\n    JButton check = new JButton(&quot;Check state of RadioButton&quot;);\n    check.setBounds(50,280,200,60);\n    //selected tabbed radio button is selected ?\n\n    JPanel p1=new JPanel();\n    JPanel p2=new JPanel();\n    JPanel p3=new JPanel();\n    JRadioButton rb1 = new JRadioButton(&quot;Radio&quot;);\n    JRadioButton rb2= new JRadioButton(&quot;Radio&quot;);\n    JRadioButton rb3 = new JRadioButton(&quot;Radio&quot;);\n    rb1.setBounds(150,170,80,100);\n    rb2.setBounds(150,170,80,100);\n    rb3.setBounds(150,170,80,100);\n    p1.add(rb1);\n    p2.add(rb2);\n    p3.add(rb3);\n    JTabbedPane tp=new JTabbedPane();\n    tp.setBounds(50,50,200,200);\n    tp.add(&quot;main&quot;,p1);\n    tp.add(&quot;visit&quot;,p2);\n    tp.add(&quot;help&quot;,p3);\n\n    check.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            \n            // Q: is the radio button of the selected tab is checked\n            // what is the logic i can put here to get result\n            // show result into JOptionPane\n        }\n    });\n\n\n    f.add(tp);\n    f.add(check);\n    f.setSize(400,400);\n    f.setLayout(null);\n    f.setVisible(true);\n}\npublic static void main(String[] args) {\n    new TabbedPaneExample();\n\n}}\n</code></pre>\n<p>Q: show radio button state(selected or unselected) of the active tab:</p>\n<p><a href=\"https://i.stack.imgur.com/0pjIM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0pjIM.jpg\" alt=\"https://i.stack.imgur.com/0pjIM.jpg\" /></a></p>\n<p>I have three tab and these tab have the radio button, I want to get state(selected or unselected) of the radio button with respect to any active tab!</p>\n"},{"tags":["java","sockets","outputstream","broken-pipe"],"comments":[{"owner":{"account_id":775150,"reputation":3424,"user_id":822718,"accept_rate":77,"display_name":"Vahid"},"score":0,"creation_date":1504587316,"post_id":27788521,"comment_id":79053960,"body_markdown":"Would you please describe, how can you solve the problem?","body":"Would you please describe, how can you solve the problem?"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1420500864,"creation_date":1420500864,"answer_id":27789756,"question_id":27788521,"body_markdown":"&#39;Broken pipe&#39; means that you&#39;ve written data to a connection that has already been closed by the other end.\r\n\r\nErgo the problem lies at the other end, not in this code. Possibly the other end doesn&#39;t really understand your length-word protocol for example, or doesn&#39;t implement it correctly.\r\n\r\nIf it&#39;s anything like this code it won&#39;t, because you&#39;re ignoring the result returned by `read()` and assuming that it fills the buffer. It isn&#39;t specified to do that, only to transfer at least one byte. ","title":"java socket outputstream and broken pipe","body":"<p>'Broken pipe' means that you've written data to a connection that has already been closed by the other end.</p>\n\n<p>Ergo the problem lies at the other end, not in this code. Possibly the other end doesn't really understand your length-word protocol for example, or doesn't implement it correctly.</p>\n\n<p>If it's anything like this code it won't, because you're ignoring the result returned by <code>read()</code> and assuming that it fills the buffer. It isn't specified to do that, only to transfer at least one byte. </p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647182012,"creation_date":1647182012,"answer_id":71457753,"question_id":27788521,"body_markdown":"In common, receiving huge blocks is not supported by &lt;code&gt;DataInputStream&lt;/code&gt;, because the &lt;code&gt;read&lt;/code&gt;method just delegates to the underlying socket input stream and that socket input stream does not complain about not having read all. E.g. in Oracle Java 8 you get some 2^16 bytes and the rest is ignored. So when you close the socket after &lt;code&gt;DataInputStream.read&lt;/code&gt; has returned, the sender node observes a &quot;pipe broken&quot; while still trying the send the rest of the huge block. Solution is a windowed read. Below is a &lt;code&gt;DataInputStream&lt;/code&gt;-subclass, which does precisely this.\r\n\r\n    import java.io.DataInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class HugeDataInputStream extends DataInputStream\r\n    {\r\n    \tint maxBlockLength;\r\n    \r\n    \tpublic HugeDataInputStream(InputStream in)\r\n    \t{\r\n    \t\tthis(in, 0x8000);\r\n    \t}\r\n    \r\n    \tpublic HugeDataInputStream(InputStream in, int maxBlockLength)\r\n    \t{\r\n    \t\tsuper(in);\r\n    \t\tthis.maxBlockLength = maxBlockLength;\r\n    \t}\r\n    \r\n    \tpublic int readHuge(byte[] block) throws IOException\r\n    \t{\r\n    \t\tint n = block.length;\r\n    \t\tif (n &gt; maxBlockLength)\r\n    \t\t{\r\n    \t\t\tint cr = 0;\r\n    \t\t\twhile (cr &lt; n)\r\n    \t\t\t{\r\n    \t\t\t\tcr += super.read(block, cr, Math.min(n - cr, maxBlockLength));\r\n    \t\t\t}\r\n    \t\t\treturn cr;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn super.read(block);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"java socket outputstream and broken pipe","body":"<p>In common, receiving huge blocks is not supported by <code>DataInputStream</code>, because the <code>read</code>method just delegates to the underlying socket input stream and that socket input stream does not complain about not having read all. E.g. in Oracle Java 8 you get some 2^16 bytes and the rest is ignored. So when you close the socket after <code>DataInputStream.read</code> has returned, the sender node observes a &quot;pipe broken&quot; while still trying the send the rest of the huge block. Solution is a windowed read. Below is a <code>DataInputStream</code>-subclass, which does precisely this.</p>\n<pre><code>import java.io.DataInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class HugeDataInputStream extends DataInputStream\n{\n    int maxBlockLength;\n\n    public HugeDataInputStream(InputStream in)\n    {\n        this(in, 0x8000);\n    }\n\n    public HugeDataInputStream(InputStream in, int maxBlockLength)\n    {\n        super(in);\n        this.maxBlockLength = maxBlockLength;\n    }\n\n    public int readHuge(byte[] block) throws IOException\n    {\n        int n = block.length;\n        if (n &gt; maxBlockLength)\n        {\n            int cr = 0;\n            while (cr &lt; n)\n            {\n                cr += super.read(block, cr, Math.min(n - cr, maxBlockLength));\n            }\n            return cr;\n        }\n        else\n        {\n            return super.read(block);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1572275,"reputation":2365,"user_id":1459725,"accept_rate":94,"display_name":"J.R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8032,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":27789756,"answer_count":2,"score":5,"last_activity_date":1647182012,"creation_date":1420494731,"question_id":27788521,"body_markdown":"I have to send a dynamic buffer size to the socket stream.\r\nIt works correctly, but when I try to send multiple buffers with a size \r\nbigger than \r\n`int my_buffer_size =18 * 1024`; (this is an indicative value)\r\n\r\nI get the error (for some write):\r\n\r\n    Java.net.SocketException: Broken pipe\r\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\r\n\r\nMy code is very simple:\r\nFor example If I want to send a big file I read a file stream with \r\n\r\n    byte[] bs = new byte[my_buffer_size];\r\n    while (... ){ \r\n    fileInputStream.read(bs);\r\n    byte[] myBufferToSend = new byte[sizeBuffer];\r\n    DataOutputStream out = new DataOutputStream(cclient.getoutputStream());\r\n    out.writeInt(myBufferToSend.length);\r\n    out.write(myBufferToSend);\r\n    out.flush();\r\n    }\r\n\r\n(The file is just a test the buffer size can be variable)\r\n\r\nthe SendBufferSize is 146988.\r\n\r\nIs there a way to fix the broken pipe error? I read around but actually I didnt solve the problem.\r\n\r\nThank you\r\nany help is appreciated\r\n\r\nI use the classic ServerSocket serverSocket;\r\nand Socket cclient","title":"java socket outputstream and broken pipe","body":"<p>I have to send a dynamic buffer size to the socket stream.\nIt works correctly, but when I try to send multiple buffers with a size \nbigger than \n<code>int my_buffer_size =18 * 1024</code>; (this is an indicative value)</p>\n\n<p>I get the error (for some write):</p>\n\n<pre><code>Java.net.SocketException: Broken pipe\nat java.net.SocketOutputStream.socketWrite0(Native Method)\n</code></pre>\n\n<p>My code is very simple:\nFor example If I want to send a big file I read a file stream with </p>\n\n<pre><code>byte[] bs = new byte[my_buffer_size];\nwhile (... ){ \nfileInputStream.read(bs);\nbyte[] myBufferToSend = new byte[sizeBuffer];\nDataOutputStream out = new DataOutputStream(cclient.getoutputStream());\nout.writeInt(myBufferToSend.length);\nout.write(myBufferToSend);\nout.flush();\n}\n</code></pre>\n\n<p>(The file is just a test the buffer size can be variable)</p>\n\n<p>the SendBufferSize is 146988.</p>\n\n<p>Is there a way to fix the broken pipe error? I read around but actually I didnt solve the problem.</p>\n\n<p>Thank you\nany help is appreciated</p>\n\n<p>I use the classic ServerSocket serverSocket;\nand Socket cclient</p>\n"},{"tags":["java","jboss","jndi","hornetq"],"comments":[{"owner":{"account_id":1454095,"reputation":1249,"user_id":1370195,"display_name":"dreamwagon"},"score":8,"creation_date":1452716975,"post_id":34596069,"comment_id":57298042,"body_markdown":"Where are your client(s) running? Are they running on the same AS instances or from another instance/JVM, or both?","body":"Where are your client(s) running? Are they running on the same AS instances or from another instance/JVM, or both?"},{"owner":{"account_id":1801936,"reputation":9373,"user_id":1640038,"accept_rate":98,"display_name":"gravetii"},"score":3,"creation_date":1452834001,"post_id":34596069,"comment_id":57352037,"body_markdown":"@jjhavokk they would be running on another JVM","body":"@jjhavokk they would be running on another JVM"},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":4,"creation_date":1458639357,"post_id":34596069,"comment_id":59938522,"body_markdown":"Could you enable HornetQ in High Availability mode (active - passive replication)? Couple that with server dynamic discovery and you should have reliable fallback. See http://docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/ha.html\nand\nhttp://docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/clusters.html","body":"Could you enable HornetQ in High Availability mode (active - passive replication)? Couple that with server dynamic discovery and you should have reliable fallback. See <a href=\"http://docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/ha.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/&hellip;</a> and <a href=\"http://docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/clusters.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/&hellip;</a>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":4,"creation_date":1499158792,"post_id":34596069,"comment_id":76780183,"body_markdown":"What version of jboss are you running?","body":"What version of jboss are you running?"},{"owner":{"account_id":1549831,"reputation":305,"user_id":1442498,"accept_rate":100,"display_name":"user1442498"},"score":5,"creation_date":1507598728,"post_id":34596069,"comment_id":80263543,"body_markdown":"I see this is really old, but I&#39;m wondering if you found the answer.  By now you probably know that the HA requires &lt;forward-when-no-consumers&gt;true&lt;/forward-when-no-consumers&gt; to propagate messages, but that the failback to master doesn&#39;t work. I&#39;ve had the same config in weblogic and websphere where the failback works, but does not with jboss.  Is there something to set to allow the master to sync and update missed messages so that a proper failback works?","body":"I see this is really old, but I&#39;m wondering if you found the answer.  By now you probably know that the HA requires &lt;forward-when-no-consumers&gt;true&lt;/forward-when-no-consumers&gt; to propagate messages, but that the failback to master doesn&#39;t work. I&#39;ve had the same config in weblogic and websphere where the failback works, but does not with jboss.  Is there something to set to allow the master to sync and update missed messages so that a proper failback works?"}],"answers":[{"tags":[],"owner":{"account_id":3119757,"reputation":2028,"user_id":2639772,"display_name":"Jose Manuel Gomez Alvarez"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1518628232,"creation_date":1518626950,"answer_id":48792294,"question_id":34596069,"body_markdown":"With the architecture described it seems difficult to me, because indeed you need to reconfigure the slave as master and then you will have a certain outage.\r\n\r\n&gt; HornetQ HA is provided via a live-backup pair and load-balancing is\r\n&gt; provided via a cluster. \r\n&gt; \r\n&gt; If you want both HA and load-balancing then you will need 2\r\n&gt; live-backup pairs clustered together.\r\n&gt; \r\n&gt; Source: https://developer.jboss.org/thread/254232\r\n\r\nYou can reference the master not by the hostname but using a **virtual IP address**, so that in case the master is down, you can reconfigure one of the slaves as master, and start the virtual ip so you don&#39;t have to reconfigure the rest of the slaves. (To keep HA even when the master is down, you want to have 2 slaves, so that you can restart one of them as master and still one will be running).\r\n\r\nAnother way to achieve the same result is with a DNS hostname specific for the master that you can reconfigure to point to a different IP if one host is down. Since DNS is cached, this entries should better be in the &#39;hosts&#39; file.\r\n\r\nIf 3 hosts per HA-domain is too much hardware, you can accomplish this easier with virtual servers without the need to purchase more hardware.\r\n","title":"Steps to make an existing JNDI HornetQ service as HA?","body":"<p>With the architecture described it seems difficult to me, because indeed you need to reconfigure the slave as master and then you will have a certain outage.</p>\n\n<blockquote>\n  <p>HornetQ HA is provided via a live-backup pair and load-balancing is\n  provided via a cluster. </p>\n  \n  <p>If you want both HA and load-balancing then you will need 2\n  live-backup pairs clustered together.</p>\n  \n  <p>Source: <a href=\"https://developer.jboss.org/thread/254232\" rel=\"nofollow noreferrer\">https://developer.jboss.org/thread/254232</a></p>\n</blockquote>\n\n<p>You can reference the master not by the hostname but using a <strong>virtual IP address</strong>, so that in case the master is down, you can reconfigure one of the slaves as master, and start the virtual ip so you don't have to reconfigure the rest of the slaves. (To keep HA even when the master is down, you want to have 2 slaves, so that you can restart one of them as master and still one will be running).</p>\n\n<p>Another way to achieve the same result is with a DNS hostname specific for the master that you can reconfigure to point to a different IP if one host is down. Since DNS is cached, this entries should better be in the 'hosts' file.</p>\n\n<p>If 3 hosts per HA-domain is too much hardware, you can accomplish this easier with virtual servers without the need to purchase more hardware.</p>\n"}],"owner":{"account_id":1801936,"reputation":9373,"user_id":1640038,"accept_rate":98,"display_name":"gravetii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3109,"favorite_count":0,"down_vote_count":1,"up_vote_count":179,"answer_count":1,"score":178,"last_activity_date":1647181448,"creation_date":1451926800,"question_id":34596069,"body_markdown":"TL;DR\r\n\r\nWhat are the steps to configure a HA-JNDI service with a HornetQ setup? I believe the documentation is a little scattered. I have read through the docs [here][1] but doesn&#39;t seem to illustrate in detail.\r\n\r\nLonger version:\r\n\r\nSo we have a HornetQ JMS setup along with JNDI. We have say 5 servers, that run the HornetQ JMS primary instance with JNDI service on each. On each of these 5 servers, we also have a secondary instance running for some other HornetQ primary instance. \r\n\r\nTo illustrate:\r\n\r\n    Server A - HornetQa_primary, JNDI, HornetQb_secondary\r\n    Server B - HornetQb_primary, JNDI, HornetQc_secondary\r\n    Server C - HornetQc_primary, JNDI, HornetQd_secondary\r\n    Server D - HornetQd_primary, JNDI, HornetQe_secondary\r\n    Server E - HornetQe_primary, JNDI, HornetQa_secondary\r\n\r\nEach of these HornetQ servers serve as middleware for our various backend needs, so that means 5 servers, 5 HornetQ primary instances, 5 HornetQ secondary instances and 5 JNDI servers. The problem, however, with this setup is that if a server host (not just the process, the host itself), say A goes down, ideally the service should fallback to the HornetQ running on server E which hosts A&#39;s HornetQ secondary. However, to resume as HornetQ primary, the HornetQa_secondary needs to talk to the JNDI process running on server A (I presume to replicate messages). Since the host A is itself down, the HornetQa_secondary running on E has no way to talk to the JNDI on A, and thus, cannot resume as the primary process. \r\n\r\nHad the JNDI service been highly available, the secondary HornetQ process could resume as primary as expected. Can anyone point to the docs or illustrate in simple steps how we could convert our existing setup to a HA-JNDI? For what it&#39;s worth, I have read multiple [sources][1], but it doesn&#39;t seem to illustrate in much detail about how to get going with configuring a HA-JNDI. Please let me know if you need more info about our current setup.\r\n\r\n  [1]: https://docs.jboss.org/jbossclustering/cluster_guide/5.1/html/clustering-jndi.html#clustering-jndi-jboss","title":"Steps to make an existing JNDI HornetQ service as HA?","body":"<p>TL;DR</p>\n<p>What are the steps to configure a HA-JNDI service with a HornetQ setup? I believe the documentation is a little scattered. I have read through the docs <a href=\"https://docs.jboss.org/jbossclustering/cluster_guide/5.1/html/clustering-jndi.html#clustering-jndi-jboss\" rel=\"nofollow noreferrer\">here</a> but doesn't seem to illustrate in detail.</p>\n<p>Longer version:</p>\n<p>So we have a HornetQ JMS setup along with JNDI. We have say 5 servers, that run the HornetQ JMS primary instance with JNDI service on each. On each of these 5 servers, we also have a secondary instance running for some other HornetQ primary instance.</p>\n<p>To illustrate:</p>\n<pre><code>Server A - HornetQa_primary, JNDI, HornetQb_secondary\nServer B - HornetQb_primary, JNDI, HornetQc_secondary\nServer C - HornetQc_primary, JNDI, HornetQd_secondary\nServer D - HornetQd_primary, JNDI, HornetQe_secondary\nServer E - HornetQe_primary, JNDI, HornetQa_secondary\n</code></pre>\n<p>Each of these HornetQ servers serve as middleware for our various backend needs, so that means 5 servers, 5 HornetQ primary instances, 5 HornetQ secondary instances and 5 JNDI servers. The problem, however, with this setup is that if a server host (not just the process, the host itself), say A goes down, ideally the service should fallback to the HornetQ running on server E which hosts A's HornetQ secondary. However, to resume as HornetQ primary, the HornetQa_secondary needs to talk to the JNDI process running on server A (I presume to replicate messages). Since the host A is itself down, the HornetQa_secondary running on E has no way to talk to the JNDI on A, and thus, cannot resume as the primary process.</p>\n<p>Had the JNDI service been highly available, the secondary HornetQ process could resume as primary as expected. Can anyone point to the docs or illustrate in simple steps how we could convert our existing setup to a HA-JNDI? For what it's worth, I have read multiple <a href=\"https://docs.jboss.org/jbossclustering/cluster_guide/5.1/html/clustering-jndi.html#clustering-jndi-jboss\" rel=\"nofollow noreferrer\">sources</a>, but it doesn't seem to illustrate in much detail about how to get going with configuring a HA-JNDI. Please let me know if you need more info about our current setup.</p>\n"},{"tags":["java","string","unit-testing","junit","assert"],"comments":[{"owner":{"account_id":3044796,"reputation":3439,"user_id":2580773,"display_name":"David SN"},"score":0,"creation_date":1647168215,"post_id":71455857,"comment_id":126298593,"body_markdown":"You should put the errors you got in the question, that would help people to understand your problem.","body":"You should put the errors you got in the question, that would help people to understand your problem."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647169603,"creation_date":1647169011,"answer_id":71456036,"question_id":71455857,"body_markdown":"`isPalindrome(String)` accepts a string parameter, but you call it without param - `assertEquals(&quot;madam&quot;, a.isPalindrome());`\r\n\r\nAnother thing - you don&#39;t use static methods from instance, you use them from class itself. You should remove `a = new StringUtility();` and\r\n```\r\nString reversedString = a.reverse(&quot;abc&quot;);\r\n```\r\nshould become\r\n```\r\nString reversedString = StringUtility.reverse(&quot;abc&quot;);\r\n```\r\nThe same applies for the rest of your tests.","title":"JUnit testing for Strings","body":"<p><code>isPalindrome(String)</code> accepts a string parameter, but you call it without param - <code>assertEquals(&quot;madam&quot;, a.isPalindrome());</code></p>\n<p>Another thing - you don't use static methods from instance, you use them from class itself. You should remove <code>a = new StringUtility();</code> and</p>\n<pre><code>String reversedString = a.reverse(&quot;abc&quot;);\n</code></pre>\n<p>should become</p>\n<pre><code>String reversedString = StringUtility.reverse(&quot;abc&quot;);\n</code></pre>\n<p>The same applies for the rest of your tests.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647180949,"creation_date":1647180949,"answer_id":71457602,"question_id":71455857,"body_markdown":"I can&#39;t say anything about `testMaxOccuringCharacterException()` because you didn&#39;t share that test.\r\n\r\nThe `testIsPalindrome()` doesn&#39;t compile because it is missing a parameter to the `StringUtility.isPalindrome()` method: which string should be checked whether it is a palindrome or not?\r\n\r\nTo make the test class compile you need to change the `testIsPalindrome()` method into\r\n\r\n    @Test\r\n    public void testIsPalindrome() {\r\n        assertEquals(&quot;madam&quot;, StringUtility.isPalindrome(&quot;madam&quot;));\r\n    }\r\n\r\nPlease note that this change will make your test class compile but the `testIsPalindrome()` test will fail. This is because the `isPalindrome()` method returns a boolean (either true or false), but your test expects the returned value to be a string.\r\n\r\n----\r\n\r\nThe `testReverse()` test fails because what the test verifies is not what the `reverse()` method does:\r\n\r\n- The `reverse()` methods splits the input sentence into space separeted chunks (words) and reverses the sequence of those chunks (words) (i.e. it changes &quot;hello world&quot; into &quot;world hello&quot;).\r\n- The `testReverse()` tries to verify that &quot;abc&quot; is changed to &quot;cba&quot;.\r\n\r\n","title":"JUnit testing for Strings","body":"<p>I can't say anything about <code>testMaxOccuringCharacterException()</code> because you didn't share that test.</p>\n<p>The <code>testIsPalindrome()</code> doesn't compile because it is missing a parameter to the <code>StringUtility.isPalindrome()</code> method: which string should be checked whether it is a palindrome or not?</p>\n<p>To make the test class compile you need to change the <code>testIsPalindrome()</code> method into</p>\n<pre><code>@Test\npublic void testIsPalindrome() {\n    assertEquals(&quot;madam&quot;, StringUtility.isPalindrome(&quot;madam&quot;));\n}\n</code></pre>\n<p>Please note that this change will make your test class compile but the <code>testIsPalindrome()</code> test will fail. This is because the <code>isPalindrome()</code> method returns a boolean (either true or false), but your test expects the returned value to be a string.</p>\n<hr />\n<p>The <code>testReverse()</code> test fails because what the test verifies is not what the <code>reverse()</code> method does:</p>\n<ul>\n<li>The <code>reverse()</code> methods splits the input sentence into space separeted chunks (words) and reverses the sequence of those chunks (words) (i.e. it changes &quot;hello world&quot; into &quot;world hello&quot;).</li>\n<li>The <code>testReverse()</code> tries to verify that &quot;abc&quot; is changed to &quot;cba&quot;.</li>\n</ul>\n"}],"owner":{"account_id":24541681,"reputation":11,"user_id":18451976,"display_name":"Kingie Vo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647180949,"creation_date":1647167640,"question_id":71455857,"body_markdown":"I&#39;m writing these methods for the class of StringUtility, but I get really stuck at writing some JUnit test for them.\r\nThe first method is reverse():\r\n```\r\n/**\r\n * @author Nguyen Vo\r\n */\r\npublic class StringUtility {\r\n    public static String reverse(String sentence){\r\n        sentence = sentence.toLowerCase();\r\n        String[] sentenceArray = sentence.split(&quot;\\\\s+&quot;);\r\n        String reversedSentence = &quot;&quot;;\r\n        \r\n        for (int i = sentenceArray.length - 1; i&gt;=0; i--){\r\n            reversedSentence += sentenceArray[i] + &quot; &quot;;\r\n        }\r\n        return reversedSentence;\r\n    }\r\n```\r\nThe second one is maxOccuringCharacter(), which returns the max occuring char from a string:\r\n```\r\n    public static char maxOccuringCharacter(String sentence) throws IllegalArgumentException{\r\n        \r\n        sentence = sentence.toLowerCase();\r\n        if (sentence == null || sentence.length() == 0)\r\n        throw new IllegalArgumentException();\r\n\r\n        char max_occuring_char = &#39; &#39;;\r\n        int max_count = 0;\r\n\r\n        for (int i = 0; i &lt; sentence.length(); i++) {\r\n            if (Character.isAlphabetic(sentence.charAt(i))) {\r\n                int count = 0;\r\n                for (int j = 0; j &lt; sentence.length(); j++) {\r\n                    if (sentence.charAt(i) == sentence.charAt(j))\r\n                    count++;\r\n                }\r\n                if (count &gt; max_count) {\r\n                    max_occuring_char = sentence.charAt(i);\r\n                    max_count = count;\r\n                }\r\n            }\r\n        }\r\n        return max_occuring_char;\r\n    }\r\n```\r\nAnd the last one is isPalindrome(). A palindrome is a sequence of characters that read the same backward as forward, such as madam or racecar.\r\n```\r\n    public static boolean isPalindrome(String sentence){\r\n        \r\n        if (sentence.equals(&quot;&quot;)){\r\n            return true;\r\n        }\r\n        \r\n        String anotherSentence = &quot;&quot;;\r\n        for (int i = sentence.length() - 1; i &gt;= 0; i--){\r\n            anotherSentence += sentence.charAt(i);\r\n        }\r\n        \r\n        return sentence.equals(anotherSentence);       \r\n    }\r\n}\r\n```\r\nThose code&#39;s syntax from StringUtility  is correct, but I get some trouble writing these JUnit testing: testReverse(), testMaxOccuringCharacterException(), textMaxOccuringCharacter(), and testIsPalindrome(). These at least looks good to me, but it keeps showing errors. Probably I got wrong somewhere somehow. Could anyone please give me a hand ?\r\nThanks for all your helps here!\r\n```\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertNotEquals;\r\nimport static org.junit.Assert.assertFalse;\r\nimport static org.junit.Assert.assertTrue;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\npublic class StringUtilityTester{\r\n\tprivate StringUtility a;\r\n\r\n/**\r\n * Nguyen Vo\r\n */\r\n\t@Before\r\n\tpublic void setup(){\r\n\t\ta = new StringUtility();\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testReverse(){\r\n\t\tString reversedString = a.reverse(&quot;abc&quot;);\r\n\t\tassertEquals(&quot;cba&quot;, reversedString);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testMaxOccuringCharacter(){\r\n\t\tassertEquals(&#39;a&#39;, a.maxOccuringCharacter(&quot;aaaaaab&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testIsPalindrome(){\r\n\t\tassertEquals(&quot;madam&quot;, a.isPalindrome());\r\n\t}\r\n}\r\n```\r\n","title":"JUnit testing for Strings","body":"<p>I'm writing these methods for the class of StringUtility, but I get really stuck at writing some JUnit test for them.\nThe first method is reverse():</p>\n<pre><code>/**\n * @author Nguyen Vo\n */\npublic class StringUtility {\n    public static String reverse(String sentence){\n        sentence = sentence.toLowerCase();\n        String[] sentenceArray = sentence.split(&quot;\\\\s+&quot;);\n        String reversedSentence = &quot;&quot;;\n        \n        for (int i = sentenceArray.length - 1; i&gt;=0; i--){\n            reversedSentence += sentenceArray[i] + &quot; &quot;;\n        }\n        return reversedSentence;\n    }\n</code></pre>\n<p>The second one is maxOccuringCharacter(), which returns the max occuring char from a string:</p>\n<pre><code>    public static char maxOccuringCharacter(String sentence) throws IllegalArgumentException{\n        \n        sentence = sentence.toLowerCase();\n        if (sentence == null || sentence.length() == 0)\n        throw new IllegalArgumentException();\n\n        char max_occuring_char = ' ';\n        int max_count = 0;\n\n        for (int i = 0; i &lt; sentence.length(); i++) {\n            if (Character.isAlphabetic(sentence.charAt(i))) {\n                int count = 0;\n                for (int j = 0; j &lt; sentence.length(); j++) {\n                    if (sentence.charAt(i) == sentence.charAt(j))\n                    count++;\n                }\n                if (count &gt; max_count) {\n                    max_occuring_char = sentence.charAt(i);\n                    max_count = count;\n                }\n            }\n        }\n        return max_occuring_char;\n    }\n</code></pre>\n<p>And the last one is isPalindrome(). A palindrome is a sequence of characters that read the same backward as forward, such as madam or racecar.</p>\n<pre><code>    public static boolean isPalindrome(String sentence){\n        \n        if (sentence.equals(&quot;&quot;)){\n            return true;\n        }\n        \n        String anotherSentence = &quot;&quot;;\n        for (int i = sentence.length() - 1; i &gt;= 0; i--){\n            anotherSentence += sentence.charAt(i);\n        }\n        \n        return sentence.equals(anotherSentence);       \n    }\n}\n</code></pre>\n<p>Those code's syntax from StringUtility  is correct, but I get some trouble writing these JUnit testing: testReverse(), testMaxOccuringCharacterException(), textMaxOccuringCharacter(), and testIsPalindrome(). These at least looks good to me, but it keeps showing errors. Probably I got wrong somewhere somehow. Could anyone please give me a hand ?\nThanks for all your helps here!</p>\n<pre><code>import static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotEquals;\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\n\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class StringUtilityTester{\n    private StringUtility a;\n\n/**\n * Nguyen Vo\n */\n    @Before\n    public void setup(){\n        a = new StringUtility();\n    }\n\n    @Test\n    public void testReverse(){\n        String reversedString = a.reverse(&quot;abc&quot;);\n        assertEquals(&quot;cba&quot;, reversedString);\n    }\n    \n    @Test\n    public void testMaxOccuringCharacter(){\n        assertEquals('a', a.maxOccuringCharacter(&quot;aaaaaab&quot;));\n    }\n\n    @Test\n    public void testIsPalindrome(){\n        assertEquals(&quot;madam&quot;, a.isPalindrome());\n    }\n}\n</code></pre>\n"},{"tags":["java","rotation","binary-tree","avl-tree"],"answers":[{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412071274,"creation_date":1412062281,"answer_id":26115166,"question_id":26113441,"body_markdown":"If you have such a bug then it is always helpful to imagine what is done. I&#39;ve added (personal) comments to you implementation:\r\n\r\n    private void balanceRight() {\r\n      TreeNode oldRoot = root;     // Save the current root (1)\r\n      if (root.left != null)       // This does not matter as first an assignment of null does not matter\r\n                                   // second the next assignment is a NoOp\r\n        oldRoot.left = root.left;  // this is an assignment with no effect (2)\r\n      if (root.right != null)\r\n        root = root.right;         // Setting the new root (3)\r\n      if (root.left != null)       // Now root.left is the left part of the previous root.right\r\n                                   // the left part of the previous root is discarded this way\r\n        oldRoot.right = root.left; // oldRoot will be invalid after this operation therefore it does not matter (4)\r\n    }\r\n\r\nI&#39;ve corrected your algorithm (at least for the right balancing. The left balancing can be done by you if you follow my guidelines). To create such an algorithm you can use a technique that I introduce in the following:\r\n\r\n    private void balanceRight() {\r\n      TreeNode oldRoot = root;     // Save the current root (1)\r\n      if (root.right != null) {    // Can this ever happen? (*)\r\n        root = root.right;         // Setting the new root  (2)\r\n      }\r\n      oldRoot.right = root.left; // Assign the left sub tree to the previous root right tree (3)\r\n      root.left = oldRoot;       // Assign to the new left tree the prevouis left tree (4)\r\n    }\r\n\r\n(*) This should never happen as if we balance right then the right tree is larger than the left one.\r\n\r\nTo understand the algorithm it is helpful to write down what happens in the algorithm:\r\n\r\nFirst I draw a tree that is as simple as needed for this algorithm.\r\n\r\n      1\r\n     / \\\r\n    2   3\r\n       / \\\r\n      4   5\r\n\r\nNow I write down all pointers link at every stage of the algorithm (the numbers correspondent with the numbers in the algorithm):\r\n\r\n(1)\r\n\r\n    root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(2)\r\n\r\n    root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(3)\r\n\r\n    root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\r\n\r\n(4)\r\n\r\n    root    -&gt; 3 / left -&gt; 1 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\r\n\r\nNow I compose the tree back again:\r\n\r\n        3\r\n       / \\\r\n      1   5\r\n     / \\\r\n    2   4\r\n\r\nWith your algorithm it looks like (the numbers reference to the numbers I inserted in your algorithm):\r\n\r\n      1\r\n     / \\\r\n    2   3\r\n       / \\\r\n      4   5\r\n\r\n(1)\r\n\r\n    root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(2)\r\n\r\n    root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(3)\r\n\r\n    root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(4)\r\n\r\n    root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\r\n\r\nThe result of your algorithm is then:\r\n\r\n      3\r\n     / \\\r\n    4   5\r\n\r\nEspecially such algorithm can be evaluated at best when using paper and pencil ;)","title":"Rotating a binary search tree","body":"<p>If you have such a bug then it is always helpful to imagine what is done. I've added (personal) comments to you implementation:</p>\n\n<pre><code>private void balanceRight() {\n  TreeNode oldRoot = root;     // Save the current root (1)\n  if (root.left != null)       // This does not matter as first an assignment of null does not matter\n                               // second the next assignment is a NoOp\n    oldRoot.left = root.left;  // this is an assignment with no effect (2)\n  if (root.right != null)\n    root = root.right;         // Setting the new root (3)\n  if (root.left != null)       // Now root.left is the left part of the previous root.right\n                               // the left part of the previous root is discarded this way\n    oldRoot.right = root.left; // oldRoot will be invalid after this operation therefore it does not matter (4)\n}\n</code></pre>\n\n<p>I've corrected your algorithm (at least for the right balancing. The left balancing can be done by you if you follow my guidelines). To create such an algorithm you can use a technique that I introduce in the following:</p>\n\n<pre><code>private void balanceRight() {\n  TreeNode oldRoot = root;     // Save the current root (1)\n  if (root.right != null) {    // Can this ever happen? (*)\n    root = root.right;         // Setting the new root  (2)\n  }\n  oldRoot.right = root.left; // Assign the left sub tree to the previous root right tree (3)\n  root.left = oldRoot;       // Assign to the new left tree the prevouis left tree (4)\n}\n</code></pre>\n\n<p>(*) This should never happen as if we balance right then the right tree is larger than the left one.</p>\n\n<p>To understand the algorithm it is helpful to write down what happens in the algorithm:</p>\n\n<p>First I draw a tree that is as simple as needed for this algorithm.</p>\n\n<pre><code>  1\n / \\\n2   3\n   / \\\n  4   5\n</code></pre>\n\n<p>Now I write down all pointers link at every stage of the algorithm (the numbers correspondent with the numbers in the algorithm):</p>\n\n<p>(1)</p>\n\n<pre><code>root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(2)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(3)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\n</code></pre>\n\n<p>(4)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 1 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\n</code></pre>\n\n<p>Now I compose the tree back again:</p>\n\n<pre><code>    3\n   / \\\n  1   5\n / \\\n2   4\n</code></pre>\n\n<p>With your algorithm it looks like (the numbers reference to the numbers I inserted in your algorithm):</p>\n\n<pre><code>  1\n / \\\n2   3\n   / \\\n  4   5\n</code></pre>\n\n<p>(1)</p>\n\n<pre><code>root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(2)</p>\n\n<pre><code>root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(3)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(4)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\n</code></pre>\n\n<p>The result of your algorithm is then:</p>\n\n<pre><code>  3\n / \\\n4   5\n</code></pre>\n\n<p>Especially such algorithm can be evaluated at best when using paper and pencil ;)</p>\n"}],"owner":{"account_id":5105461,"reputation":43,"user_id":4093651,"accept_rate":40,"display_name":"colobia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647180215,"creation_date":1412055287,"question_id":26113441,"body_markdown":"I am implementing a binary search tree. I have created a method to rotate the tree if I find that the tree is out of balance. Somehow this method is not working correctly and my tree is emptied. Only the last two values I added to make the tree unbalanced are still left in the tree. Can you tell me what is wrong with my algorithm? I have not posted the entire class because it is very long and do not want to confuse anyone.\r\n\r\n \r\n\r\n     public boolean balanceBST(){\r\n    \t  if (root == null){\r\n    \t\t  return false;\r\n    \t  }\r\n    \t  \r\n    \t  int right = treeHeight(root.right);\r\n    \t  int left = treeHeight(root.left);\r\n    \t  \r\n    \t  if (nodeBalanceLevel(root) &gt; 1){\r\n    \t\t  \r\n    \t\t        if (right - left &gt; 1){\r\n    \t\t        \tthis.balanceRight();\r\n            }\r\n            if ( left - right &gt; 1){\r\n            this.balanceLeft();\t\r\n            }\r\n            return balanceBST();  \r\n            \r\n    \t  }\r\n    \t\r\n    \treturn true;\r\n    \t  \r\n      }\r\n      \r\n      private void balanceRight(){\r\n    \t    \r\n    \t        TreeNode oldRoot = root;\r\n    \t        if (root.left != null)\r\n    \t        oldRoot.left = root.left;\r\n    \t        if (root.right != null)\r\n    \t        root = root.right;\r\n    \t        if (root.left != null)\r\n    \t         oldRoot.right = root.left; \r\n      }\r\n      \r\n      public void balanceLeft(){\r\n    \t  TreeNode oldRoot = root;\r\n    \t  if (root.right != null)\r\n          oldRoot.right = root.right;\r\n    \t  if (root.left != null)\r\n          root = root.left;\r\n    \t  if (root.right != null)\r\n           oldRoot.left = root.right;   \r\n      }","title":"Rotating a binary search tree","body":"<p>I am implementing a binary search tree. I have created a method to rotate the tree if I find that the tree is out of balance. Somehow this method is not working correctly and my tree is emptied. Only the last two values I added to make the tree unbalanced are still left in the tree. Can you tell me what is wrong with my algorithm? I have not posted the entire class because it is very long and do not want to confuse anyone.</p>\n\n<pre><code> public boolean balanceBST(){\n      if (root == null){\n          return false;\n      }\n\n      int right = treeHeight(root.right);\n      int left = treeHeight(root.left);\n\n      if (nodeBalanceLevel(root) &gt; 1){\n\n                if (right - left &gt; 1){\n                    this.balanceRight();\n        }\n        if ( left - right &gt; 1){\n        this.balanceLeft(); \n        }\n        return balanceBST();  \n\n      }\n\n    return true;\n\n  }\n\n  private void balanceRight(){\n\n            TreeNode oldRoot = root;\n            if (root.left != null)\n            oldRoot.left = root.left;\n            if (root.right != null)\n            root = root.right;\n            if (root.left != null)\n             oldRoot.right = root.left; \n  }\n\n  public void balanceLeft(){\n      TreeNode oldRoot = root;\n      if (root.right != null)\n      oldRoot.right = root.right;\n      if (root.left != null)\n      root = root.left;\n      if (root.right != null)\n       oldRoot.left = root.right;   \n  }\n</code></pre>\n"},{"tags":["java","android","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647111786,"post_id":71451423,"comment_id":126293067,"body_markdown":"You should use IS_PENDING twice.","body":"You should use IS_PENDING twice."}],"answers":[{"tags":[],"owner":{"account_id":2565653,"reputation":649,"user_id":2225812,"accept_rate":14,"display_name":"Jerry Agin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647180138,"creation_date":1647116245,"answer_id":71452653,"question_id":71451423,"body_markdown":"As pointed out by blackapps, the solution is to add IS_PENDING to the ContentValues.\r\nThe code that now works correctly is:\r\n\r\n\tprivate static Uri contentUri = null;\r\n\tpublic void onClick( DialogInterface dialog, int whichButton )\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString fileName = &quot;mySoundFile.mp3&quot;;\r\n\t\t\tContentValues values = new ContentValues();\r\n\t\t\tvalues.put( MediaStore.Audio.Media.DISPLAY_NAME, fileName );\r\n\t\t\tvalues.put( MediaStore.Images.Media.MIME_TYPE, &quot;audio/mpeg&quot; );\r\n\t\t\tvalues.put( MediaStore.Audio.Media.IS_PENDING, 1 );\r\n\t\t\tUri audioCollection = Build.VERSION.SDK_INT &gt;= 29 ?\r\n\t\t\t\tMediaStore.Audio.Media .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n\t\t\t\t: MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n\t\t\tcontentUri = Utils.getContentResolver().insert( audioCollection, values );\r\n\t\t\tOutputStream stream = Utils.getContentResolver().openOutputStream( contentUri );\r\n\t\t\tdoSave( getActivity(), stream );\r\n\t\t}\r\n\t\tcatch ( IOException e )\r\n\t\t{\r\n\t\t\tLog.i( &quot;MyApp&quot;, &quot;save failed&quot; );\r\n\t\t}\r\n\t}\r\n\tprotected void onPostExecute( Boolean success )\t// part of the ASyncTask that does the saving\r\n\t{\r\n\t\tif ( success )\r\n\t\t{\r\n\t\t\tContentValues details = new ContentValues();\r\n\t\t\tdetails.put( MediaStore.Audio.Media.IS_PENDING, 0 );\r\n\t\t\tUtils.getContentResolver().update( contentUri, details, null, null );\r\n\t\t}\r\n\t}\r\n","title":"Why are new MediaStore files empty?","body":"<p>As pointed out by blackapps, the solution is to add IS_PENDING to the ContentValues.\nThe code that now works correctly is:</p>\n<pre><code>private static Uri contentUri = null;\npublic void onClick( DialogInterface dialog, int whichButton )\n{\n    try\n    {\n        String fileName = &quot;mySoundFile.mp3&quot;;\n        ContentValues values = new ContentValues();\n        values.put( MediaStore.Audio.Media.DISPLAY_NAME, fileName );\n        values.put( MediaStore.Images.Media.MIME_TYPE, &quot;audio/mpeg&quot; );\n        values.put( MediaStore.Audio.Media.IS_PENDING, 1 );\n        Uri audioCollection = Build.VERSION.SDK_INT &gt;= 29 ?\n            MediaStore.Audio.Media .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n            : MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n        contentUri = Utils.getContentResolver().insert( audioCollection, values );\n        OutputStream stream = Utils.getContentResolver().openOutputStream( contentUri );\n        doSave( getActivity(), stream );\n    }\n    catch ( IOException e )\n    {\n        Log.i( &quot;MyApp&quot;, &quot;save failed&quot; );\n    }\n}\nprotected void onPostExecute( Boolean success ) // part of the ASyncTask that does the saving\n{\n    if ( success )\n    {\n        ContentValues details = new ContentValues();\n        details.put( MediaStore.Audio.Media.IS_PENDING, 0 );\n        Utils.getContentResolver().update( contentUri, details, null, null );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2565653,"reputation":649,"user_id":2225812,"accept_rate":14,"display_name":"Jerry Agin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647180138,"creation_date":1647103068,"question_id":71451423,"body_markdown":"I&#39;m trying to upgrade my app to use use scoped storage.  (Yes, I should have\r\ndone this a year ago.)  The old version writes to a File in a directory\r\nrelative to Environment.getExternalStorageDirectory().  The new version\r\nwrites to a uri from MediaStore.Audio.Media.getContentUri().  My code has no\r\nproblem creating files in the mediastore destination directory, but the\r\nfiles are empty.\r\n\r\nMy code is below.  I&#39;m compiling under targetSdkVersion 29.  I&#39;ve set it up\r\nso I can compare the old version and the new version by setting\r\nuseMediaStore to either true or false.  Both versions call the same doSave()\r\nroutine.\r\n\r\ndoSave starts an asynchronous process to write the files, display a\r\nprogress bar, and report the result.  At the working end of the process\r\nOutputStream.write is called, and we keep track of the number of bytes\r\nwritten.  After the entire file is written, we call OutputStream.close(), and\r\nreport the number of bytes written.\r\n\r\nWhen userMediaStore is false, fileName evaluates to\r\n/storage/emulated/0/MyApp/mySoundFile.mp3 and the file gets created with the\r\nexpected length.  When useMediaStore is true, uri evaluates to\r\ncontent://media/external_primary/audio/media/112, which turns out to be the\r\nsame as /Music.  The file is created but it is empty.  doSave() runs the\r\nsame in either case, and reports same number of bytes written.\r\n\r\nThe curious thing about it is that occasionally the MediaStore version works\r\ncorrectly.  Then I change something and it stops working, and putting the\r\ncode back to where it was doesn&#39;t restore the function.\r\n\r\n\tpublic static boolean useMediaStore = true;\r\n\tpublic void onClick( DialogInterface dialog, int whichButton )\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString fileName = &quot;mySoundFile.mp3&quot;;\r\n\t\t\tif ( useMediaStore )\r\n\t\t\t{\r\n\t\t\t\tContentValues values = new ContentValues();\r\n\t\t\t\tvalues.put( MediaStore.Audio.Media.DISPLAY_NAME, fileName );\r\n\t\t\t\tvalues.put( MediaStore.Images.Media.MIME_TYPE, &quot;audio/mpeg&quot; );\r\n\t\t\t\tUri audioCollection = Build.VERSION.SDK_INT &gt;= 29 ?\r\n\t\t\t\t\tMediaStore.Audio.Media .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n\t\t\t\t\t: MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n\t\t\t\tUri uri = Utils.getContentResolver().insert( audioCollection, values );\r\n\t\t\t\tOutputStream stream = Utils.getContentResolver().openOutputStream( uri );\r\n\t\t\t\tdoSave( getActivity(), stream );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tFile outputDir = new File( Environment.getExternalStorageDirectory(), &quot;MyApp&quot; );\r\n\t\t\t\tif ( outputDir != null &amp;&amp; ( outputDir.exists() || outputDir.mkdirs() ) )\r\n\t\t\t\t{\r\n\t\t\t\t\tFile outputFile = new File( outputDir, fileName );\r\n\t\t\t\t\tOutputStream stream = new FileOutputStream( outputFile );\r\n\t\t\t\t\tdoSave( getActivity(), stream );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch ( IOException e )\r\n\t\t{\r\n\t\t\tLog.i( &quot;MyApp&quot;, &quot;save failed&quot; );\r\n\t\t}\r\n\t}\r\n","title":"Why are new MediaStore files empty?","body":"<p>I'm trying to upgrade my app to use use scoped storage.  (Yes, I should have\ndone this a year ago.)  The old version writes to a File in a directory\nrelative to Environment.getExternalStorageDirectory().  The new version\nwrites to a uri from MediaStore.Audio.Media.getContentUri().  My code has no\nproblem creating files in the mediastore destination directory, but the\nfiles are empty.</p>\n<p>My code is below.  I'm compiling under targetSdkVersion 29.  I've set it up\nso I can compare the old version and the new version by setting\nuseMediaStore to either true or false.  Both versions call the same doSave()\nroutine.</p>\n<p>doSave starts an asynchronous process to write the files, display a\nprogress bar, and report the result.  At the working end of the process\nOutputStream.write is called, and we keep track of the number of bytes\nwritten.  After the entire file is written, we call OutputStream.close(), and\nreport the number of bytes written.</p>\n<p>When userMediaStore is false, fileName evaluates to\n/storage/emulated/0/MyApp/mySoundFile.mp3 and the file gets created with the\nexpected length.  When useMediaStore is true, uri evaluates to\ncontent://media/external_primary/audio/media/112, which turns out to be the\nsame as /Music.  The file is created but it is empty.  doSave() runs the\nsame in either case, and reports same number of bytes written.</p>\n<p>The curious thing about it is that occasionally the MediaStore version works\ncorrectly.  Then I change something and it stops working, and putting the\ncode back to where it was doesn't restore the function.</p>\n<pre><code>public static boolean useMediaStore = true;\npublic void onClick( DialogInterface dialog, int whichButton )\n{\n    try\n    {\n        String fileName = &quot;mySoundFile.mp3&quot;;\n        if ( useMediaStore )\n        {\n            ContentValues values = new ContentValues();\n            values.put( MediaStore.Audio.Media.DISPLAY_NAME, fileName );\n            values.put( MediaStore.Images.Media.MIME_TYPE, &quot;audio/mpeg&quot; );\n            Uri audioCollection = Build.VERSION.SDK_INT &gt;= 29 ?\n                MediaStore.Audio.Media .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n                : MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n            Uri uri = Utils.getContentResolver().insert( audioCollection, values );\n            OutputStream stream = Utils.getContentResolver().openOutputStream( uri );\n            doSave( getActivity(), stream );\n        }\n        else\n        {\n            File outputDir = new File( Environment.getExternalStorageDirectory(), &quot;MyApp&quot; );\n            if ( outputDir != null &amp;&amp; ( outputDir.exists() || outputDir.mkdirs() ) )\n            {\n                File outputFile = new File( outputDir, fileName );\n                OutputStream stream = new FileOutputStream( outputFile );\n                doSave( getActivity(), stream );\n            }\n        }\n    }\n    catch ( IOException e )\n    {\n        Log.i( &quot;MyApp&quot;, &quot;save failed&quot; );\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","gradle","buildship"],"answers":[{"tags":[],"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492513252,"creation_date":1492513252,"answer_id":43470356,"question_id":43464862,"body_markdown":"Multi projects are not supported by BuildShip plugin of eclipse. And they have no plans to include this support.\r\n\r\n[Link][1] to the blog post that confirms this\r\n\r\n  [1]: https://discuss.gradle.org/t/multibuild-projects-do-not-work-with-buildship/10595/5\r\n\r\nI will find out which plugin supports eclipse and update this answer.","title":"BuildShip Gradle plugin on Eclipse, reports &quot;syncrhonize gradle project workspace failed&quot;","body":"<p>Multi projects are not supported by BuildShip plugin of eclipse. And they have no plans to include this support.</p>\n\n<p><a href=\"https://discuss.gradle.org/t/multibuild-projects-do-not-work-with-buildship/10595/5\" rel=\"nofollow noreferrer\">Link</a> to the blog post that confirms this</p>\n\n<p>I will find out which plugin supports eclipse and update this answer.</p>\n"},{"tags":[],"owner":{"account_id":11593964,"reputation":166,"user_id":8493257,"display_name":"Darlesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503294219,"creation_date":1503294219,"answer_id":45790019,"question_id":43464862,"body_markdown":"So I noticed that the **&quot;settings.gradle&quot;** file was setting the root project name, and after the project rename, it still had the old name. Once I changed that name to the new name and refreshed the project, that error went away.\r\n\r\nActually this error is because of Eclipse,Ideallyeclips should refactor a whole project but it not refactoring settings.gradle file.","title":"BuildShip Gradle plugin on Eclipse, reports &quot;syncrhonize gradle project workspace failed&quot;","body":"<p>So I noticed that the <strong>\"settings.gradle\"</strong> file was setting the root project name, and after the project rename, it still had the old name. Once I changed that name to the new name and refreshed the project, that error went away.</p>\n\n<p>Actually this error is because of Eclipse,Ideallyeclips should refactor a whole project but it not refactoring settings.gradle file.</p>\n"},{"tags":[],"owner":{"account_id":4488682,"reputation":93,"user_id":4055672,"display_name":"sudeep biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647180002,"creation_date":1647180002,"answer_id":71457477,"question_id":43464862,"body_markdown":"there is an issue with your .project file generated by eclipse, delete the project from eclipse(not directory), reopen existing gradle project, rebuild it, issue will resolve.","title":"BuildShip Gradle plugin on Eclipse, reports &quot;syncrhonize gradle project workspace failed&quot;","body":"<p>there is an issue with your .project file generated by eclipse, delete the project from eclipse(not directory), reopen existing gradle project, rebuild it, issue will resolve.</p>\n"}],"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2059,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647180002,"creation_date":1492496050,"question_id":43464862,"body_markdown":"    Synchronize Gradle projects with workspace failed due to an unsupported configuration in the referenced Gradle build.\r\n    Project at &#39;/home/jsiddharth/workspace/v2/mnoxwebservicesv2&#39; can&#39;t be named &#39;mnoxwebserviceendpoints-..&#39; because it&#39;s located directly under the workspace root. If such a project is renamed, Eclipse would move the container directory. To resolve this problem, move the project out of the workspace root or configure it to have the name &#39;mnoxwebservicesv2&#39;.\r\n    org.eclipse.buildship.core.UnsupportedConfigurationException: Project at &#39;/home/jsiddharth/workspace/v2/mnoxwebservicesv2&#39; can&#39;t be named &#39;mnoxwebserviceendpoints-..&#39; because it&#39;s located directly under the workspace root. If such a project is renamed, Eclipse would move the container directory. To resolve this problem, move the project out of the workspace root or configure it to have the name &#39;mnoxwebservicesv2&#39;.\r\n    \tat org.eclipse.buildship.core.workspace.internal.DefaultWorkspaceOperations.validateProjectName(DefaultWorkspaceOperations.java:183)\r\n    \tat org.eclipse.buildship.core.workspace.internal.ProjectNameUpdater.checkProjectName(ProjectNameUpdater.java:107)\r\n    \tat org.eclipse.buildship.core.workspace.internal.ProjectNameUpdater.ensureProjectNameIsFree(ProjectNameUpdater.java:71)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.addNewEclipseProjectToWorkspace(SynchronizeGradleBuildOperation.java:275)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeNonWorkspaceProject(SynchronizeGradleBuildOperation.java:259)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeGradleProjectWithWorkspaceProject(SynchronizeGradleBuildOperation.java:175)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.access$000(SynchronizeGradleBuildOperation.java:99)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation$1.run(SynchronizeGradleBuildOperation.java:134)\r\n    \tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2241)\r\n    \tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2225)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeProjectsWithWorkspace(SynchronizeGradleBuildOperation.java:131)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.run(SynchronizeGradleBuildOperation.java:115)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildsJob.synchronizeBuild(SynchronizeGradleBuildsJob.java:81)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildsJob.runToolingApiJob(SynchronizeGradleBuildsJob.java:72)\r\n    \tat org.eclipse.buildship.core.util.progress.ToolingApiJob$1.run(ToolingApiJob.java:73)\r\n    \tat org.eclipse.buildship.core.util.progress.ToolingApiInvoker.invoke(ToolingApiInvoker.java:62)\r\n    \tat org.eclipse.buildship.core.util.progress.ToolingApiJob.run(ToolingApiJob.java:70)\r\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\r\n\r\nMy settings.gradle is\r\n\r\n    rootProject.name = &#39;mnoxwebserviceendpoints&#39;\r\n    \r\n    include &#39;..:..:mnoxbackendv2:coregeneral&#39;,\r\n    \t&#39;..:..:mnoxbackendv2:databasepojos&#39;, \r\n    \t&#39;..:..:mnoxbackendv2:backendcommons&#39;,\r\n        &#39;..:..:mnoxbackendv2:corehttpclient&#39;,\r\n    \t&#39;..:..:mnoxbackendv2:corehibernate&#39;, \r\n    \t&#39;..:..:mnoxbackendv2:mnoxcache&#39;, \r\n    \t&#39;..:..:mnoxbackendv2:coreemailservice&#39;,\r\n    \t&#39;..:..:mnoxbackendv2:coresmsservice&#39;, \r\n    \t&#39;..:..:mnoxbackendv2:databasecrud&#39;, \r\n            &#39;..:..:mnoxwebservicesv2:mnoxwebservicescommons&#39;,\r\n    \t&#39;..:..:mnoxbackendv2:operationserverendpoints&#39; \r\n\r\nMy build.gradle has\r\n\r\n\t\tcompile project(&#39;..:..:mnoxbackendv2:coregeneral&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:databasepojos&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:backendcommons&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:corehttpclient&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:corehibernate&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:mnoxcache&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:coreemailservice&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:coresmsservice&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:databasecrud&#39;)\r\n        compile project(&#39;..:..:mnoxwebservicesv2:mnoxwebservicescommons&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:operationserverendpoints&#39;)\r\n","title":"BuildShip Gradle plugin on Eclipse, reports &quot;syncrhonize gradle project workspace failed&quot;","body":"<pre><code>Synchronize Gradle projects with workspace failed due to an unsupported configuration in the referenced Gradle build.\nProject at '/home/jsiddharth/workspace/v2/mnoxwebservicesv2' can't be named 'mnoxwebserviceendpoints-..' because it's located directly under the workspace root. If such a project is renamed, Eclipse would move the container directory. To resolve this problem, move the project out of the workspace root or configure it to have the name 'mnoxwebservicesv2'.\norg.eclipse.buildship.core.UnsupportedConfigurationException: Project at '/home/jsiddharth/workspace/v2/mnoxwebservicesv2' can't be named 'mnoxwebserviceendpoints-..' because it's located directly under the workspace root. If such a project is renamed, Eclipse would move the container directory. To resolve this problem, move the project out of the workspace root or configure it to have the name 'mnoxwebservicesv2'.\n    at org.eclipse.buildship.core.workspace.internal.DefaultWorkspaceOperations.validateProjectName(DefaultWorkspaceOperations.java:183)\n    at org.eclipse.buildship.core.workspace.internal.ProjectNameUpdater.checkProjectName(ProjectNameUpdater.java:107)\n    at org.eclipse.buildship.core.workspace.internal.ProjectNameUpdater.ensureProjectNameIsFree(ProjectNameUpdater.java:71)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.addNewEclipseProjectToWorkspace(SynchronizeGradleBuildOperation.java:275)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeNonWorkspaceProject(SynchronizeGradleBuildOperation.java:259)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeGradleProjectWithWorkspaceProject(SynchronizeGradleBuildOperation.java:175)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.access$000(SynchronizeGradleBuildOperation.java:99)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation$1.run(SynchronizeGradleBuildOperation.java:134)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2241)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2225)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeProjectsWithWorkspace(SynchronizeGradleBuildOperation.java:131)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.run(SynchronizeGradleBuildOperation.java:115)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildsJob.synchronizeBuild(SynchronizeGradleBuildsJob.java:81)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildsJob.runToolingApiJob(SynchronizeGradleBuildsJob.java:72)\n    at org.eclipse.buildship.core.util.progress.ToolingApiJob$1.run(ToolingApiJob.java:73)\n    at org.eclipse.buildship.core.util.progress.ToolingApiInvoker.invoke(ToolingApiInvoker.java:62)\n    at org.eclipse.buildship.core.util.progress.ToolingApiJob.run(ToolingApiJob.java:70)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n</code></pre>\n\n<p>My settings.gradle is</p>\n\n<pre><code>rootProject.name = 'mnoxwebserviceendpoints'\n\ninclude '..:..:mnoxbackendv2:coregeneral',\n    '..:..:mnoxbackendv2:databasepojos', \n    '..:..:mnoxbackendv2:backendcommons',\n    '..:..:mnoxbackendv2:corehttpclient',\n    '..:..:mnoxbackendv2:corehibernate', \n    '..:..:mnoxbackendv2:mnoxcache', \n    '..:..:mnoxbackendv2:coreemailservice',\n    '..:..:mnoxbackendv2:coresmsservice', \n    '..:..:mnoxbackendv2:databasecrud', \n        '..:..:mnoxwebservicesv2:mnoxwebservicescommons',\n    '..:..:mnoxbackendv2:operationserverendpoints' \n</code></pre>\n\n<p>My build.gradle has</p>\n\n<pre><code>    compile project('..:..:mnoxbackendv2:coregeneral')\n    compile project('..:..:mnoxbackendv2:databasepojos')\n    compile project('..:..:mnoxbackendv2:backendcommons')\n    compile project('..:..:mnoxbackendv2:corehttpclient')\n    compile project('..:..:mnoxbackendv2:corehibernate')\n    compile project('..:..:mnoxbackendv2:mnoxcache')\n    compile project('..:..:mnoxbackendv2:coreemailservice')\n    compile project('..:..:mnoxbackendv2:coresmsservice')\n    compile project('..:..:mnoxbackendv2:databasecrud')\n    compile project('..:..:mnoxwebservicesv2:mnoxwebservicescommons')\n    compile project('..:..:mnoxbackendv2:operationserverendpoints')\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647179967,"creation_date":1647179967,"answer_id":71457474,"question_id":71457368,"body_markdown":"According to [this page](https://www.eclipse.org/cdo/downloads/versions.php?sr=4.17) CDO 4.17 is based on 4.22 and EMF 2.28. It is part of the simrel (simultaneous release) 2021-12.\r\n\r\nFor that release [Eclipse says](https://wiki.eclipse.org/Eclipse/Installation#Eclipse_4.22_.282021-12.29):\r\n\r\n&gt; A Java 11 or newer JRE/JDK is required, LTS release are preferred to run all Eclipse 2021-12 packages based on Eclipse 4.22, with certain packages choosing to provide one by default. ","title":"CDO 4.17 and Java 11","body":"<p>According to <a href=\"https://www.eclipse.org/cdo/downloads/versions.php?sr=4.17\" rel=\"nofollow noreferrer\">this page</a> CDO 4.17 is based on 4.22 and EMF 2.28. It is part of the simrel (simultaneous release) 2021-12.</p>\n<p>For that release <a href=\"https://wiki.eclipse.org/Eclipse/Installation#Eclipse_4.22_.282021-12.29\" rel=\"nofollow noreferrer\">Eclipse says</a>:</p>\n<blockquote>\n<p>A Java 11 or newer JRE/JDK is required, LTS release are preferred to run all Eclipse 2021-12 packages based on Eclipse 4.22, with certain packages choosing to provide one by default.</p>\n</blockquote>\n"}],"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71457474,"answer_count":1,"score":-2,"last_activity_date":1647179975,"creation_date":1647179160,"question_id":71457368,"body_markdown":"Does anybody know which Java version I need to use with Eclipse CDO 4.17? I can&#39;t find any information on its official page. Currently I&#39;m using CDO 3.0 and Java 6 and I&#39;m going to upgrade my tools and I try to understand minimum requirements for CDO 4.17 - Java, Eclipse, EMF, etc.\r\n\r\nAlso, I tried to find differences between CDO versions and its vulnerabilities but I found nothing. If anyone knows something about it, please share it with me.\r\n\r\nI just try to understand the best versions of CDO, Java, etc for my project.","title":"CDO 4.17 and Java 11","body":"<p>Does anybody know which Java version I need to use with Eclipse CDO 4.17? I can't find any information on its official page. Currently I'm using CDO 3.0 and Java 6 and I'm going to upgrade my tools and I try to understand minimum requirements for CDO 4.17 - Java, Eclipse, EMF, etc.</p>\n<p>Also, I tried to find differences between CDO versions and its vulnerabilities but I found nothing. If anyone knows something about it, please share it with me.</p>\n<p>I just try to understand the best versions of CDO, Java, etc for my project.</p>\n"},{"tags":["java","selenium","select","dropdown"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647154518,"post_id":71454493,"comment_id":126296206,"body_markdown":"How long is your implicit wait? Are you sure that the dropdown is ready to be clicked when you call `driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();`? You are probably calling that function prematurely. The page might be still loading which explains why the element is not interactable. You will probably be better off using `WebDriverWait` to obtain the dropdown when the `ExpectedConditions` is met (i.e. `elementToBeClickable`).","body":"How long is your implicit wait? Are you sure that the dropdown is ready to be clicked when you call <code>driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();</code>? You are probably calling that function prematurely. The page might be still loading which explains why the element is not interactable. You will probably be better off using <code>WebDriverWait</code> to obtain the dropdown when the <code>ExpectedConditions</code> is met (i.e. <code>elementToBeClickable</code>)."},{"owner":{"account_id":14154823,"reputation":3,"user_id":10225876,"display_name":"Leon"},"score":0,"creation_date":1647154972,"post_id":71454493,"comment_id":126296274,"body_markdown":"Yes, I have used also explicit wait with condition &quot;elementToBeClickable &quot;for 10 sec, but it is not becoming clickable)","body":"Yes, I have used also explicit wait with condition &quot;elementToBeClickable &quot;for 10 sec, but it is not becoming clickable)"},{"owner":{"account_id":14154823,"reputation":3,"user_id":10225876,"display_name":"Leon"},"score":0,"creation_date":1647155059,"post_id":71454493,"comment_id":126296283,"body_markdown":"Actually this step `driver.findElement(By.cssSelector(&quot;div.select&quot;)).click()` is successful, and it is openning the dropdown box, but the rest is not","body":"Actually this step <code>driver.findElement(By.cssSelector(&quot;div.select&quot;)).click()</code> is successful, and it is openning the dropdown box, but the rest is not"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647155329,"post_id":71454493,"comment_id":126296322,"body_markdown":"Can you copy and paste the part of the DOM that contains this dropdown?","body":"Can you copy and paste the part of the DOM that contains this dropdown?"},{"owner":{"account_id":14154823,"reputation":3,"user_id":10225876,"display_name":"Leon"},"score":0,"creation_date":1647156017,"post_id":71454493,"comment_id":126296437,"body_markdown":"`                          &lt;div class=&quot;login-input-outer&quot;&gt;\n                                &lt;div class=&quot;input-control&quot;&gt;\n                                    &lt;select class=&quot;phonePrefix&quot; required=&quot;required&quot; name=&quot;phonePrefix&quot; id=&quot;phonePrefix&quot;&gt;&lt;/select&gt;\n                                    &lt;label for=&quot;phonePrefix&quot; data-tr-code=&quot;countryCode&quot; class=&quot;active&quot;&gt;&lt;/label&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;input-control tel&quot;&gt;\n`","body":"`                          &lt;div class=&quot;login-input-outer&quot;&gt;                                 &lt;div class=&quot;input-control&quot;&gt;                                     &lt;select class=&quot;phonePrefix&quot; required=&quot;required&quot; name=&quot;phonePrefix&quot; id=&quot;phonePrefix&quot;&gt;&lt;/select&gt;                                     &lt;label for=&quot;phonePrefix&quot; data-tr-code=&quot;countryCode&quot; class=&quot;active&quot;&gt;&lt;/label&gt;                                 &lt;/div&gt;                                 &lt;div class=&quot;input-control tel&quot;&gt; `"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647156306,"post_id":71454493,"comment_id":126296490,"body_markdown":"Give me a minute to update my answer....","body":"Give me a minute to update my answer...."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647179792,"creation_date":1647156179,"answer_id":71454668,"question_id":71454493,"body_markdown":"Based on the image you posted with the HTML code, you should select the item from the dropdown in this manner:\r\n```\r\npublic class DropDownDemo {\r\n    public static void main(String[] args) throws Exception {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;YOUR_PATH_TO_DRIVER_EXE_HERE&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://banking.idram.am/Account/login&quot;);\r\n        driver.manage().window().maximize();\r\n        WebElement divSelect = new WebDriverWait(driver, Duration.ofSeconds(5), Duration.ofMillis(100)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div.select&quot;)));\r\n        divSelect.click();\r\n        WebElement option = new WebDriverWait(driver, Duration.ofSeconds(10), Duration.ofMillis(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//li[text()=&#39;+93 Afghanistan&#39;]&quot;)));\r\n        option.click();\r\n        Thread.sleep(5000); // only to see the result\r\n        driver.close();\r\n    }\r\n}\r\n```\r\n\r\nIf using Selenium 3, remove the `Duration.ofXXX()` and just pass the numeric values directly to the constructor.\r\n\r\n&gt; ***why I cannot use Select class** and select.getFirstSelectedOption() and how to handle this?* \r\n\r\n```\r\n&lt;select class=&quot;phonePrefix select-hidden&quot; required=&quot;required&quot; name=&quot;phonePrefix&quot; id=&quot;phonePrefix&quot;&gt;\r\n\t...\r\n&lt;/select&gt;\r\n```\r\nAs you can see from the posted snippet, `Select` element is using `select-hidden` class to implement the dropdown. Therefore, Selenium cannot interact with it. What this application is using is called a *[Bootstrap Dropdown][1]*. Also, the easiest way to figure out which one to use (i.e. select vs. ul/li) is by inspecting the page and select one of the options. When you do this, it goes to the `li` element rather than to the `option` element.\r\n\r\n\r\n  [1]: https://www.w3schools.com/bootstrap/bootstrap_dropdowns.asp","title":"How to handle hidden select dropdown","body":"<p>Based on the image you posted with the HTML code, you should select the item from the dropdown in this manner:</p>\n<pre><code>public class DropDownDemo {\n    public static void main(String[] args) throws Exception {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;YOUR_PATH_TO_DRIVER_EXE_HERE&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://banking.idram.am/Account/login&quot;);\n        driver.manage().window().maximize();\n        WebElement divSelect = new WebDriverWait(driver, Duration.ofSeconds(5), Duration.ofMillis(100)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div.select&quot;)));\n        divSelect.click();\n        WebElement option = new WebDriverWait(driver, Duration.ofSeconds(10), Duration.ofMillis(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//li[text()='+93 Afghanistan']&quot;)));\n        option.click();\n        Thread.sleep(5000); // only to see the result\n        driver.close();\n    }\n}\n</code></pre>\n<p>If using Selenium 3, remove the <code>Duration.ofXXX()</code> and just pass the numeric values directly to the constructor.</p>\n<blockquote>\n<p><em><strong>why I cannot use Select class</strong> and select.getFirstSelectedOption() and how to handle this?</em></p>\n</blockquote>\n<pre><code>&lt;select class=&quot;phonePrefix select-hidden&quot; required=&quot;required&quot; name=&quot;phonePrefix&quot; id=&quot;phonePrefix&quot;&gt;\n    ...\n&lt;/select&gt;\n</code></pre>\n<p>As you can see from the posted snippet, <code>Select</code> element is using <code>select-hidden</code> class to implement the dropdown. Therefore, Selenium cannot interact with it. What this application is using is called a <em><a href=\"https://www.w3schools.com/bootstrap/bootstrap_dropdowns.asp\" rel=\"nofollow noreferrer\">Bootstrap Dropdown</a></em>. Also, the easiest way to figure out which one to use (i.e. select vs. ul/li) is by inspecting the page and select one of the options. When you do this, it goes to the <code>li</code> element rather than to the <code>option</code> element.</p>\n"}],"owner":{"account_id":14154823,"reputation":3,"user_id":10225876,"display_name":"Leon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71454668,"answer_count":1,"score":0,"last_activity_date":1647179792,"creation_date":1647154149,"question_id":71454493,"body_markdown":"    Faced the situation when using Select class, selenium complains that &quot;element not interactable&quot;.\r\n[HTML code][1]\r\n\r\n\r\n\r\n\r\n```\r\n    \tdriver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\r\n\t\tSelect select = new Select(driver.findElement(By.id(&quot;phonePrefix&quot;)));\r\n\t\tselect.selectByIndex(5);\r\n```\t\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[Output from the console][2]\r\n\r\n\r\n\r\nanyway I found a way to select element from dropdown by looping through the List&lt;WebElement&gt; and selecting by text.....\r\n\r\n```\t\r\ndriver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\r\n\t\t\r\n\t\tWebElement drop = driver.findElement(By.cssSelector(&quot;select&quot;));\r\n\t\t\r\n\t\tList&lt;WebElement&gt; countryies = driver.findElements(By.cssSelector(&quot;ul[class=&#39;select-options&#39;] li&quot;));\r\n\t\tfor(WebElement i:countryies) {\r\n\t\t\tSystem.out.println(i.getText());\r\n\t\t\tif(i.getText().contains(&quot;+93 Afghanistan&quot;)) {\r\n\t\t\t\ti.click();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n```\r\n\r\nBut the question is why i cannot use Select class and select.getFirstSelectedOption() and how to handle this?\r\nThnx\r\n\r\nP.s Also tried some explicit wait.\r\n\r\n```\r\n\tdriver.get(&quot;https://banking.idram.am/Account/login&quot;);\r\n\t\tdriver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;phonePrefix&quot;)));\r\n\t\tSelect select = new Select(driver.findElement(By.id(&quot;phonePrefix&quot;)));\r\n\t\tselect.selectByIndex(5);\r\n```\r\n\r\n[Output][3]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nePVX.png\r\n  [2]: https://i.stack.imgur.com/w8G2N.png\r\n  [3]: https://i.stack.imgur.com/JvnMZ.png","title":"How to handle hidden select dropdown","body":"<pre><code>Faced the situation when using Select class, selenium complains that &quot;element not interactable&quot;.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nePVX.png\" rel=\"nofollow noreferrer\">HTML code</a></p>\n<pre><code>        driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\n        Select select = new Select(driver.findElement(By.id(&quot;phonePrefix&quot;)));\n        select.selectByIndex(5);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/w8G2N.png\" rel=\"nofollow noreferrer\">Output from the console</a></p>\n<p>anyway I found a way to select element from dropdown by looping through the List and selecting by text.....</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\n        \n        WebElement drop = driver.findElement(By.cssSelector(&quot;select&quot;));\n        \n        List&lt;WebElement&gt; countryies = driver.findElements(By.cssSelector(&quot;ul[class='select-options'] li&quot;));\n        for(WebElement i:countryies) {\n            System.out.println(i.getText());\n            if(i.getText().contains(&quot;+93 Afghanistan&quot;)) {\n                i.click();\n                break;\n            }\n        }\n</code></pre>\n<p>But the question is why i cannot use Select class and select.getFirstSelectedOption() and how to handle this?\nThnx</p>\n<p>P.s Also tried some explicit wait.</p>\n<pre><code>    driver.get(&quot;https://banking.idram.am/Account/login&quot;);\n        driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\n        wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;phonePrefix&quot;)));\n        Select select = new Select(driver.findElement(By.id(&quot;phonePrefix&quot;)));\n        select.selectByIndex(5);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JvnMZ.png\" rel=\"nofollow noreferrer\">Output</a></p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":1,"creation_date":1642009532,"post_id":70686074,"comment_id":124960858,"body_markdown":"Does your process call list on the s3 bucket/prefix? Typically it&#39;s only list operations that get slower for this reason.","body":"Does your process call list on the s3 bucket/prefix? Typically it&#39;s only list operations that get slower for this reason."},{"owner":{"account_id":18078154,"reputation":21,"user_id":13140813,"display_name":"Anonymous"},"score":0,"creation_date":1642011477,"post_id":70686074,"comment_id":124961563,"body_markdown":"It does only putObject call of AmazonS3 class for each request","body":"It does only putObject call of AmazonS3 class for each request"}],"owner":{"account_id":18078154,"reputation":21,"user_id":13140813,"display_name":"Anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647179206,"creation_date":1642009364,"question_id":70686074,"body_markdown":"I am trying to store each input payload received to my Java REST API as a separate file into s3. A parent level folder will be created for storing request payloads per day under the s3 bucket.\r\n\r\nInput can range between 1 request to upto one million requests per day. Each payload file is tiny, just around 500 bytes.\r\n\r\nStorage structure is as below,\r\n   \r\n    s3\r\n    |_ bucket \r\n          |_ parent_folder_1 -&gt; (will contain all requests as separate files received on day 1)\r\n          |_ parent_folder_2 -&gt; (will contain all requests as separate files received on day 2)\r\n\r\n\r\nThe code is currently handling it by uploading each file in parallel and letting S3 handle the load. I am surprised to see that the time for each upload is increasing, not in correlation to the file size (which is small) but in correlation to the number of objects I am trying to upload.\r\n\r\nIs the upload latency due to increased folder size? Is there any best practice to create sub directories under each parent level folder to increase upload speed based on prefix names?\r\n\r\n","title":"Uploading files to AWS S3 is taking too much time","body":"<p>I am trying to store each input payload received to my Java REST API as a separate file into s3. A parent level folder will be created for storing request payloads per day under the s3 bucket.</p>\n<p>Input can range between 1 request to upto one million requests per day. Each payload file is tiny, just around 500 bytes.</p>\n<p>Storage structure is as below,</p>\n<pre><code>s3\n|_ bucket \n      |_ parent_folder_1 -&gt; (will contain all requests as separate files received on day 1)\n      |_ parent_folder_2 -&gt; (will contain all requests as separate files received on day 2)\n</code></pre>\n<p>The code is currently handling it by uploading each file in parallel and letting S3 handle the load. I am surprised to see that the time for each upload is increasing, not in correlation to the file size (which is small) but in correlation to the number of objects I am trying to upload.</p>\n<p>Is the upload latency due to increased folder size? Is there any best practice to create sub directories under each parent level folder to increase upload speed based on prefix names?</p>\n"},{"tags":["java","android","android-launcher"],"answers":[{"tags":[],"owner":{"account_id":1895762,"reputation":4296,"user_id":10214381,"display_name":"Amirhosein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647178787,"creation_date":1647178787,"answer_id":71457313,"question_id":71455723,"body_markdown":"    PackageManager packageManager = activity.getPackageManager();\r\n    ComponentName componentName = new ComponentName(activity, YourLauncher.class);\r\n    packageManager.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\r\n    \r\n    Intent intent = new Intent(Intent.ACTION_MAIN);\r\n    intent.addCategory(Intent.CATEGORY_HOME)\r\n            .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n    activity.startActivity(intent);\r\n    activity.finishAndRemoveTask();\r\n\r\nand launcher activity in the manifest:\r\n\r\n            &lt;activity\r\n            ...\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;","title":"How to open Default Home App screen intent on Android","body":"<pre><code>PackageManager packageManager = activity.getPackageManager();\nComponentName componentName = new ComponentName(activity, YourLauncher.class);\npackageManager.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\n\nIntent intent = new Intent(Intent.ACTION_MAIN);\nintent.addCategory(Intent.CATEGORY_HOME)\n        .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\nactivity.startActivity(intent);\nactivity.finishAndRemoveTask();\n</code></pre>\n<p>and launcher activity in the manifest:</p>\n<pre><code>        &lt;activity\n        ...\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":7510935,"reputation":749,"user_id":5705891,"accept_rate":18,"display_name":"DanielJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71457313,"answer_count":1,"score":0,"last_activity_date":1647178787,"creation_date":1647166364,"question_id":71455723,"body_markdown":"I&#39;m developing an app to use as a home launcher. I understand that I am unable to programmatically clear the current home app launcher, but I wish to guide the user into choosing my app.\r\n\r\nI understand how to check if my app is set as a home launcher by using the `PackageManager`, however this does not give me a way to set the home App.\r\n\r\nI also have tried to use an `Intent` to select a home launcher, however this dialog which opens does not provide the user a mean to choose a default home launcher\r\n\r\n     final Intent startMain = new Intent(Intent.ACTION_MAIN);\r\n                startMain.addCategory(Intent.CATEGORY_HOME);\r\n                startActivity(Intent.createChooser(startMain, &quot;Choose Home App));\r\n\r\nHowever looking at a **Launcher (Nova)** I can see it seems to run an intent to open a native launcher screen. How do I do this?\r\n\r\n[![Default Home App Chooser][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tGakb.png","title":"How to open Default Home App screen intent on Android","body":"<p>I'm developing an app to use as a home launcher. I understand that I am unable to programmatically clear the current home app launcher, but I wish to guide the user into choosing my app.</p>\n<p>I understand how to check if my app is set as a home launcher by using the <code>PackageManager</code>, however this does not give me a way to set the home App.</p>\n<p>I also have tried to use an <code>Intent</code> to select a home launcher, however this dialog which opens does not provide the user a mean to choose a default home launcher</p>\n<pre><code> final Intent startMain = new Intent(Intent.ACTION_MAIN);\n            startMain.addCategory(Intent.CATEGORY_HOME);\n            startActivity(Intent.createChooser(startMain, &quot;Choose Home App));\n</code></pre>\n<p>However looking at a <strong>Launcher (Nova)</strong> I can see it seems to run an intent to open a native launcher screen. How do I do this?</p>\n<p><a href=\"https://i.stack.imgur.com/tGakb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tGakb.png\" alt=\"Default Home App Chooser\" /></a></p>\n"},{"tags":["java","spring-boot","maven","installation"],"answers":[{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - "},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635767864,"creation_date":1635767098,"answer_id":69796466,"question_id":69796060,"body_markdown":"I cannot reproduce it. Try this:\r\n```sh\r\njava -jar [target].jar --param.date=01-11-2021\r\n```\r\nIf tests failing, try [`@SpringBootTest(args = &quot;--param.date=01-11-2021&quot;)`](https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.testing.spring-boot-applications.using-application-arguments).\r\n\r\n([sample code](https://github.com/yukihane/stackoverflow-qa/tree/master/so69796060))\r\n\r\nRefs:\r\n- [7.2.1. Accessing Command Line Properties](https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.external-config.command-line-args)\r\n&gt; By default, `SpringApplication` converts any command line option arguments (that is, arguments starting with `--`, such as `--server.port=9000`) to a `property` and adds them to the Spring `Environment`.\r\n- [7.26.3. Testing Spring Boot Applications &gt; Using Application Arguments](https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.testing.spring-boot-applications.using-application-arguments)","title":"Create a Jar From a Spring Boot Console App That Requires Injection From Custom Arguments","body":"<p>I cannot reproduce it. Try this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java -jar [target].jar --param.date=01-11-2021\n</code></pre>\n<p>If tests failing, try <a href=\"https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.testing.spring-boot-applications.using-application-arguments\" rel=\"nofollow noreferrer\"><code>@SpringBootTest(args = &quot;--param.date=01-11-2021&quot;)</code></a>.</p>\n<p>(<a href=\"https://github.com/yukihane/stackoverflow-qa/tree/master/so69796060\" rel=\"nofollow noreferrer\">sample code</a>)</p>\n<p>Refs:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.external-config.command-line-args\" rel=\"nofollow noreferrer\">7.2.1. Accessing Command Line Properties</a></li>\n</ul>\n<blockquote>\n<p>By default, <code>SpringApplication</code> converts any command line option arguments (that is, arguments starting with <code>--</code>, such as <code>--server.port=9000</code>) to a <code>property</code> and adds them to the Spring <code>Environment</code>.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.testing.spring-boot-applications.using-application-arguments\" rel=\"nofollow noreferrer\">7.26.3. Testing Spring Boot Applications &gt; Using Application Arguments</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5707458,"reputation":354,"user_id":4510492,"accept_rate":64,"display_name":"Logos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647178552,"creation_date":1647178552,"answer_id":71457265,"question_id":69796060,"body_markdown":"The command `mvnw package` was failed because of the spring unit test. I just had to skip the unit test using the `-Dmaven.test.skip=true` parameter. So, the complete command would be `mvnw package -Dmaven.test.skip=true`. As for on how to run the .jar with the parameters once the jar is created, can be seen in DEWA Kazuyuki - \r\n&#39;s answer.","title":"Create a Jar From a Spring Boot Console App That Requires Injection From Custom Arguments","body":"<p>The command <code>mvnw package</code> was failed because of the spring unit test. I just had to skip the unit test using the <code>-Dmaven.test.skip=true</code> parameter. So, the complete command would be <code>mvnw package -Dmaven.test.skip=true</code>. As for on how to run the .jar with the parameters once the jar is created, can be seen in DEWA Kazuyuki - \n's answer.</p>\n"}],"owner":{"account_id":5707458,"reputation":354,"user_id":4510492,"accept_rate":64,"display_name":"Logos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69796466,"answer_count":2,"score":0,"last_activity_date":1647178552,"creation_date":1635764924,"question_id":69796060,"body_markdown":"I am making an app that requires an argument from the command line using Spring Boot, the passed argument then will be passed on to a field as follow:\r\n\r\n    @Value(&quot;#{new java.text.SimpleDateFormat(&#39;dd-MM-yyyy&#39;).parse(&#39;${param.date}&#39;)}&quot;)\r\n    private Date date;\r\n\r\nHowever, when I tried to create the Jar file using the command `mvnw package`, the following error is shown:\r\n\r\n    java.lang.IllegalArgumentException: Could not resolve placeholder &#39;param.date&#39; in value &quot;#{new java.text.SimpleDateFormat(&#39;dd-MM-yyyy&#39;).parse(&#39;${param.date}&#39;)}&quot;\r\n\r\nHow can I tell the compiler that the aforementioned field is from an argument? And, if the jar is made then, how do I inject the field when running the jar using command line arguments?\r\n\r\nThank you!","title":"Create a Jar From a Spring Boot Console App That Requires Injection From Custom Arguments","body":"<p>I am making an app that requires an argument from the command line using Spring Boot, the passed argument then will be passed on to a field as follow:</p>\n<pre><code>@Value(&quot;#{new java.text.SimpleDateFormat('dd-MM-yyyy').parse('${param.date}')}&quot;)\nprivate Date date;\n</code></pre>\n<p>However, when I tried to create the Jar file using the command <code>mvnw package</code>, the following error is shown:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not resolve placeholder 'param.date' in value &quot;#{new java.text.SimpleDateFormat('dd-MM-yyyy').parse('${param.date}')}&quot;\n</code></pre>\n<p>How can I tell the compiler that the aforementioned field is from an argument? And, if the jar is made then, how do I inject the field when running the jar using command line arguments?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1647183734,"post_id":71454641,"comment_id":126302005,"body_markdown":"I don&#39;t see the annotation @Entity.","body":"I don&#39;t see the annotation @Entity."}],"answers":[{"tags":[],"owner":{"account_id":3214803,"reputation":531,"user_id":2846307,"display_name":"almac777"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647176912,"creation_date":1647158632,"answer_id":71454901,"question_id":71454641,"body_markdown":"This is a very general question, so I will try to point you in the right direction. For this I assume:\r\n\r\n- you are using `spring-data-jpa`\r\n- you have a datasource already configured\r\n- your application starts up correctly\r\n- you already configured the `@Repository` or you know how to use the `EntityManager` via `@PersistenceContext`\r\n- I will assume the `Repository` solution\r\n\r\nThe good news is: Persisting objects that are marked using `OneToOne`, `OneToMany`, `ManyToOne` and `ManyToMany` is a core feature, so most of this is already handled by JPA/Hibernate. All you have to ensure is that you _read the documentation_ and _follow it_.\r\n\r\nFirst step is to understand `Cascading`. Cascading is _not_ turned on by default. There are tons of resources on the web, that help you understand this, I will point you to [this one](https://www.baeldung.com/jpa-cascade-types). This means that you will need to set the `cascade` attribute on the `OneToOne` annotation (see referenced tutorial).\r\n\r\n`Student.java`\r\n\r\n```java\r\nclass Student{\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   private int id;\r\n\r\n   private String firstName;\r\n\r\n   @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n   @JoinColumn(name=&quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\r\n   private Address address;\r\n}\r\n```\r\n\r\nThen, using a normal `@Repository`:\r\n\r\n```java\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n}\r\n```\r\n\r\nNow you have correctly working mapping and the repository.\r\n\r\nOnce you have done this, you should be ready to roll, given the above assumptions hold. You can now write a small testcase for a student, e.g.\r\n\r\n```java\r\n@DataJpaTest\r\nclass StudentRepositoryTest {\r\n\r\n@Autowired\r\nprivate StudentRepository studentRepository;\r\n\r\n@Autowired\r\nprivate AddressRepository addressRepository;\r\n\r\n@BeforeEach\r\nvoid setup() {\r\n    assumeThat(studentRepository).isNotNull();\r\n    assumeThat(addressRepository).isNotNull();\r\n}\r\n\r\n@Test\r\nvoid testSaveStudent {\r\n   assumeThat(studentRepository.count()).isZero();\r\n   assumeThat(addressRepository.count()).isZero();\r\n   var student = new Student();\r\n   var address = new Address();\r\n   address.setCity(&quot;New York&quot;);\r\n   student.setFirstName(&quot;Max&quot;);\r\n   student.setAddress(address);\r\n   studentRepository.save(student);\r\n   assertThat(studentRepository.count()).isOne();\r\n   assertThat(addressRepository.count()).isOne();\r\n}\r\n```\r\n\r\nSecond: In regards to your transaction question. Per default when you invoke a repository&#39;s `save` method a transaction is started. So in the very base case you don&#39;t necessarily need a transaction. Although, once you deal with more complex business cases it&#39;s necessary to understand JPA&#39;s transaction manager. Transactions usually happen on the service layer. See links below for more info on Transactions.\r\n\r\n```java\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class StudentService {\r\n   @Autowired\r\n   private StudentRepository studentRepository;\r\n\r\n   @Transactional\r\n   public Student assignStudentToAddress(Student s, Address a) {\r\n      s.setAddress(a);\r\n      return studentRepository.save(s);\r\n   }\r\n}\r\n```\r\n\r\nSome thoughts: \r\n- Are you sure that one student can only stay at one address? This would mean that living arrangements like in Big Bang Theory (shared apartment) wouldn&#39;t work. For testing purposes this works of course.\r\n- Consider the reverse: what if we have an address screen and we want to add students to it?\r\n\r\nMore resources:\r\n- Beginner&#39;s guide to mapping [by VladMihalcea](https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/)\r\n- Mapping `OneToOne` beginner friendly: [by Baeldung](https://www.baeldung.com/jpa-one-to-one) and slightly more advanced [by VladMihalcea](https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/)\r\n- Mapping `OneToMany` beginner friendly: [by baeldung](https://www.baeldung.com/hibernate-one-to-many) and slightly more advanced: [by VladMihalcea](https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/)\r\n- Using `Transactional` [by VladMihalcea](https://vladmihalcea.com/spring-transactional-annotation/) and [by MarcoBehler](https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth)","title":"I want to save two entities in one transaction with JPA if any error occure while inserting the data the changes should be rolled back","body":"<p>This is a very general question, so I will try to point you in the right direction. For this I assume:</p>\n<ul>\n<li>you are using <code>spring-data-jpa</code></li>\n<li>you have a datasource already configured</li>\n<li>your application starts up correctly</li>\n<li>you already configured the <code>@Repository</code> or you know how to use the <code>EntityManager</code> via <code>@PersistenceContext</code></li>\n<li>I will assume the <code>Repository</code> solution</li>\n</ul>\n<p>The good news is: Persisting objects that are marked using <code>OneToOne</code>, <code>OneToMany</code>, <code>ManyToOne</code> and <code>ManyToMany</code> is a core feature, so most of this is already handled by JPA/Hibernate. All you have to ensure is that you <em>read the documentation</em> and <em>follow it</em>.</p>\n<p>First step is to understand <code>Cascading</code>. Cascading is <em>not</em> turned on by default. There are tons of resources on the web, that help you understand this, I will point you to <a href=\"https://www.baeldung.com/jpa-cascade-types\" rel=\"nofollow noreferrer\">this one</a>. This means that you will need to set the <code>cascade</code> attribute on the <code>OneToOne</code> annotation (see referenced tutorial).</p>\n<p><code>Student.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Student{\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private int id;\n\n   private String firstName;\n\n   @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n   @JoinColumn(name=&quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\n   private Address address;\n}\n</code></pre>\n<p>Then, using a normal <code>@Repository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n}\n</code></pre>\n<p>Now you have correctly working mapping and the repository.</p>\n<p>Once you have done this, you should be ready to roll, given the above assumptions hold. You can now write a small testcase for a student, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\nclass StudentRepositoryTest {\n\n@Autowired\nprivate StudentRepository studentRepository;\n\n@Autowired\nprivate AddressRepository addressRepository;\n\n@BeforeEach\nvoid setup() {\n    assumeThat(studentRepository).isNotNull();\n    assumeThat(addressRepository).isNotNull();\n}\n\n@Test\nvoid testSaveStudent {\n   assumeThat(studentRepository.count()).isZero();\n   assumeThat(addressRepository.count()).isZero();\n   var student = new Student();\n   var address = new Address();\n   address.setCity(&quot;New York&quot;);\n   student.setFirstName(&quot;Max&quot;);\n   student.setAddress(address);\n   studentRepository.save(student);\n   assertThat(studentRepository.count()).isOne();\n   assertThat(addressRepository.count()).isOne();\n}\n</code></pre>\n<p>Second: In regards to your transaction question. Per default when you invoke a repository's <code>save</code> method a transaction is started. So in the very base case you don't necessarily need a transaction. Although, once you deal with more complex business cases it's necessary to understand JPA's transaction manager. Transactions usually happen on the service layer. See links below for more info on Transactions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional(readOnly = true)\npublic class StudentService {\n   @Autowired\n   private StudentRepository studentRepository;\n\n   @Transactional\n   public Student assignStudentToAddress(Student s, Address a) {\n      s.setAddress(a);\n      return studentRepository.save(s);\n   }\n}\n</code></pre>\n<p>Some thoughts:</p>\n<ul>\n<li>Are you sure that one student can only stay at one address? This would mean that living arrangements like in Big Bang Theory (shared apartment) wouldn't work. For testing purposes this works of course.</li>\n<li>Consider the reverse: what if we have an address screen and we want to add students to it?</li>\n</ul>\n<p>More resources:</p>\n<ul>\n<li>Beginner's guide to mapping <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/\" rel=\"nofollow noreferrer\">by VladMihalcea</a></li>\n<li>Mapping <code>OneToOne</code> beginner friendly: <a href=\"https://www.baeldung.com/jpa-one-to-one\" rel=\"nofollow noreferrer\">by Baeldung</a> and slightly more advanced <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">by VladMihalcea</a></li>\n<li>Mapping <code>OneToMany</code> beginner friendly: <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">by baeldung</a> and slightly more advanced: <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">by VladMihalcea</a></li>\n<li>Using <code>Transactional</code> <a href=\"https://vladmihalcea.com/spring-transactional-annotation/\" rel=\"nofollow noreferrer\">by VladMihalcea</a> and <a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">by MarcoBehler</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647178533,"creation_date":1647162027,"answer_id":71455245,"question_id":71454641,"body_markdown":"With Stateless EJB :\r\n\r\n    @Stateless\r\n    public StudentDAO {\r\n    \t@PersistenceContext\r\n    \tprivate EntityManager em;\r\n    \r\n    \tpublic Student createStudent(StudentRequest studentRequest) {\r\n    \r\n    \t\tStudent student=new Student(studentRequest);\r\n    \r\n    \t\tAddress address=new Address();\r\n    \r\n    \t\taddress.setCity(studentRequest.getCity());\r\n    \t\taddress.setStreet(studentRequest.getStreet());\r\n    \t\tem.persist(address);\r\n    \r\n    \t\tstudent.setAddress(address);\r\n    \t\tem.persist(student);\r\n    \r\n    \t\treturn student;\r\n    \r\n    \t}    \r\n    }","title":"I want to save two entities in one transaction with JPA if any error occure while inserting the data the changes should be rolled back","body":"<p>With Stateless EJB :</p>\n<pre><code>@Stateless\npublic StudentDAO {\n    @PersistenceContext\n    private EntityManager em;\n\n    public Student createStudent(StudentRequest studentRequest) {\n\n        Student student=new Student(studentRequest);\n\n        Address address=new Address();\n\n        address.setCity(studentRequest.getCity());\n        address.setStreet(studentRequest.getStreet());\n        em.persist(address);\n\n        student.setAddress(address);\n        em.persist(student);\n\n        return student;\n\n    }    \n}\n</code></pre>\n"}],"owner":{"account_id":23707915,"reputation":37,"user_id":17730160,"display_name":"Manoj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71455245,"answer_count":2,"score":1,"last_activity_date":1647178533,"creation_date":1647155967,"question_id":71454641,"body_markdown":"for example i have two entities: first is student and another is address. i want to insert data on both tables with foreign key relationship, but their is one condition: if any error occurs while inserting the data in any tables the all changes should be roll back.\r\n\r\nhow can i do please help\r\n```\r\nclass Student{\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   private int id;\r\n\r\n   private String firstName;\r\n\r\n   @OneToOne(fetch = FetchType.EAGER)\r\n   @JoinColumn(name=&quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\r\n   private Address address;\r\n}\r\n\r\nclass Address {\r\n\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   private int id;\r\n\r\n   private String city;\r\n\r\n}\r\n\r\n@Service\r\npublic class StudentService {\r\n\t\r\n\t@Autowired\r\n\tprivate StudentRepo studentRepo;\r\n\t\r\n\t@Autowired\r\n\tprivate AddressRepo addressRepo;\r\n\r\n\tpublic Student createStudent(StudentRequest studentRequest) {\r\n\t\t\r\n\t\tStudent student=new Student(studentRequest);\r\n\t\t\r\n\t\tAddress address=new Address();\r\n\t\t\r\n\t\taddress.setCity(studentRequest.getCity());\r\n\t\taddress.setStreet(studentRequest.getStreet());\r\n\t\taddress=addressRepo.save(address);\r\n\t\t\r\n\t\tstudent.setAddress(address);\r\n\t\t\r\n\t\tstudent=studentRepo.save(student);\r\n\t\t\r\n\t\treturn student;\r\n\t\t\r\n\t}\r\n\r\n```\r\n","title":"I want to save two entities in one transaction with JPA if any error occure while inserting the data the changes should be rolled back","body":"<p>for example i have two entities: first is student and another is address. i want to insert data on both tables with foreign key relationship, but their is one condition: if any error occurs while inserting the data in any tables the all changes should be roll back.</p>\n<p>how can i do please help</p>\n<pre><code>class Student{\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private int id;\n\n   private String firstName;\n\n   @OneToOne(fetch = FetchType.EAGER)\n   @JoinColumn(name=&quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\n   private Address address;\n}\n\nclass Address {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private int id;\n\n   private String city;\n\n}\n\n@Service\npublic class StudentService {\n    \n    @Autowired\n    private StudentRepo studentRepo;\n    \n    @Autowired\n    private AddressRepo addressRepo;\n\n    public Student createStudent(StudentRequest studentRequest) {\n        \n        Student student=new Student(studentRequest);\n        \n        Address address=new Address();\n        \n        address.setCity(studentRequest.getCity());\n        address.setStreet(studentRequest.getStreet());\n        address=addressRepo.save(address);\n        \n        student.setAddress(address);\n        \n        student=studentRepo.save(student);\n        \n        return student;\n        \n    }\n\n</code></pre>\n"},{"tags":["java","selenium","window","webdriver","switch-statement"],"comments":[{"owner":{"account_id":1363756,"reputation":4981,"user_id":1300626,"accept_rate":95,"display_name":"Franz Ebner"},"score":0,"creation_date":1341565651,"post_id":11359118,"comment_id":14962677,"body_markdown":"you iterate over your open windows switching to everyone and at the end you go on with the last in the list.... what&#39;s that for?","body":"you iterate over your open windows switching to everyone and at the end you go on with the last in the list.... what&#39;s that for?"},{"owner":{"account_id":1504099,"reputation":4829,"user_id":1407907,"accept_rate":45,"display_name":"khris"},"score":0,"creation_date":1341566218,"post_id":11359118,"comment_id":14962906,"body_markdown":"i just don&#39;t know another way switch to child window. It works for me, but i couldn&#39;t switch back to parent","body":"i just don&#39;t know another way switch to child window. It works for me, but i couldn&#39;t switch back to parent"}],"answers":[{"tags":[],"owner":{"account_id":1582561,"reputation":555,"user_id":1467591,"display_name":"Sherwin Wu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341895182,"creation_date":1341895182,"answer_id":11406716,"question_id":11359118,"body_markdown":"Try this before you click the link that opens the new window:\r\n\r\n    parent_h = browser.current_window\r\n    # click on the link that opens a new window\r\n    handles = browser.window_handles # before the pop-up window closes\r\n    handles.remove(parent_h)\r\n    browser.switch_to_window(handles.pop())\r\n    # do stuff in the popup\r\n    # popup window closes\r\n    browser.switch_to_window(parent_h)\r\n    # and you&#39;re back","title":"selenium web driver - switch to parent window","body":"<p>Try this before you click the link that opens the new window:</p>\n\n<pre><code>parent_h = browser.current_window\n# click on the link that opens a new window\nhandles = browser.window_handles # before the pop-up window closes\nhandles.remove(parent_h)\nbrowser.switch_to_window(handles.pop())\n# do stuff in the popup\n# popup window closes\nbrowser.switch_to_window(parent_h)\n# and you're back\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2564701,"reputation":1,"user_id":2225088,"display_name":"Chintu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364575293,"creation_date":1364575293,"answer_id":15707517,"question_id":11359118,"body_markdown":"public boolean switchBackParentWindowTitle(String windowTitle){\r\n\r\n\t\tboolean executedActionStatus = false;\r\n\t\ttry {\r\n\r\n\t\t\tThread.sleep(1000);\r\n\t\t\tWebDriver popup = null;\r\n\t\t\tSet&lt;String&gt; handles = null;\r\n\r\n\t\t\thandles =driver.getWindowHandles();\r\n\t\t\tIterator&lt;String&gt; it = handles.iterator();\r\n\t\t\twhile (it.hasNext()){\r\n\r\n\t\t\t\tString switchWin = it.next();\r\n\t\t\t\tpopup = driver.switchTo().window(switchWin);\r\n\r\n\t\t\t\tSystem.out.println(popup.getTitle());\r\n\t\t\t\tif(popup.getTitle().equalsIgnoreCase(windowTitle)){\r\n\r\n\t\t\t\t\tlog.info(&quot;Current switched window title is &quot;+popup.getTitle());\r\n\t\t\t\t\tlog.info(&quot;Time taken to switch window is &quot;+sw.elapsedTime());\r\n\t\t\t\t\texecutedActionStatus = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tlog.info(&quot;WindowTitle does not found to switch over&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception er) {\r\n\t\t\ter.printStackTrace();\r\n\t\t\tlog.error(&quot;Ex: &quot;+er);\r\n\t\t}\t\r\n\t\treturn executedActionStatus;\r\n\t}","title":"selenium web driver - switch to parent window","body":"<p>public boolean switchBackParentWindowTitle(String windowTitle){</p>\n\n<pre><code>    boolean executedActionStatus = false;\n    try {\n\n        Thread.sleep(1000);\n        WebDriver popup = null;\n        Set&lt;String&gt; handles = null;\n\n        handles =driver.getWindowHandles();\n        Iterator&lt;String&gt; it = handles.iterator();\n        while (it.hasNext()){\n\n            String switchWin = it.next();\n            popup = driver.switchTo().window(switchWin);\n\n            System.out.println(popup.getTitle());\n            if(popup.getTitle().equalsIgnoreCase(windowTitle)){\n\n                log.info(\"Current switched window title is \"+popup.getTitle());\n                log.info(\"Time taken to switch window is \"+sw.elapsedTime());\n                executedActionStatus = true;\n                break;\n            }\n            else\n                log.info(\"WindowTitle does not found to switch over\");\n        }\n    }\n    catch (Exception er) {\n        er.printStackTrace();\n        log.error(\"Ex: \"+er);\n    }   \n    return executedActionStatus;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16344337,"reputation":185,"user_id":11880235,"display_name":"user613"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647178321,"creation_date":1647178321,"answer_id":71457238,"question_id":11359118,"body_markdown":"This will not answer your question, however it might answer a similar one. &lt;br&gt;\r\nWith `SeleniumBase` all you need to do is write: \r\n\r\n    self.switch_to_default_window()\r\nAnd you&#39;re back to the parent window.","title":"selenium web driver - switch to parent window","body":"<p>This will not answer your question, however it might answer a similar one. <br>\nWith <code>SeleniumBase</code> all you need to do is write:</p>\n<pre><code>self.switch_to_default_window()\n</code></pre>\n<p>And you're back to the parent window.</p>\n"}],"owner":{"account_id":1504099,"reputation":4829,"user_id":1407907,"accept_rate":45,"display_name":"khris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6861,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647178321,"creation_date":1341565343,"question_id":11359118,"body_markdown":"I use selenium Web Driver. I have opened a parent window. After I click on the link the new window opens. I choose some value from the list and this window automatically closes. Now I need to operate in my parent window. How can I do this? I tried the following code:\r\n\r\n    String HandleBefore = driver.getWindowHandle();\r\n    driver.findElement(By.xpath(&quot;...&quot;)).click();\r\n\t for (String Handle : driver.getWindowHandles()) {\r\n\t\t    driver.switchTo().window(Handle);}\r\n\t driver.findElement(By.linkText(&quot;...&quot;)).click();\r\n\t driver.switchTo().window(HandleBefore);\r\n\r\nThis does not work though. ","title":"selenium web driver - switch to parent window","body":"<p>I use selenium Web Driver. I have opened a parent window. After I click on the link the new window opens. I choose some value from the list and this window automatically closes. Now I need to operate in my parent window. How can I do this? I tried the following code:</p>\n\n<pre><code>String HandleBefore = driver.getWindowHandle();\ndriver.findElement(By.xpath(\"...\")).click();\n for (String Handle : driver.getWindowHandles()) {\n        driver.switchTo().window(Handle);}\n driver.findElement(By.linkText(\"...\")).click();\n driver.switchTo().window(HandleBefore);\n</code></pre>\n\n<p>This does not work though. </p>\n"},{"tags":["java","spring-boot","generics","spring-data-jpa"],"owner":{"account_id":22642173,"reputation":113,"user_id":16818097,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647178076,"creation_date":1646092362,"question_id":71302323,"body_markdown":"I have an entity class as follows. What I need is, I need to use generics, and by using it I need to pass some classes that extend the SomeInfo class and persist a common field inside the SubClass table and when returning data I can populate `T` parameter and send it easily. But I can&#39;t extend SomeInfo class directly because it contains fields that I don&#39;t need to be created in the SubClass table and even I don&#39;t need to use the `Inheritance Single Table solution`. I have tried using `@AttributeOverride` but it threw an error and I used `@Type` annotation and the error was gone, but the field `info_name` isn&#39;t created.\r\n\r\n    @Entity\r\n    public class SubClass&lt;T extends SomeInfo&gt; extends ParentClass {\r\n    \r\n        @Type(type = &quot;com.package.SomeInfo&quot;)\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;name&quot;, column = @Column(name = &quot;info_name&quot;, nullable = false))\r\n        })\r\n        private T info;\r\n    }\r\n    \r\n    @MappedSuperClass\r\n    public abstract class SomeInfo extends ParentClass {\r\n    \r\n        // some fields\r\n    }\r\n\r\nIs there a way to achieve what I need? Thanks in advance.","title":"How to persist some fields in Generic class in Spring Data JPA?","body":"<p>I have an entity class as follows. What I need is, I need to use generics, and by using it I need to pass some classes that extend the SomeInfo class and persist a common field inside the SubClass table and when returning data I can populate <code>T</code> parameter and send it easily. But I can't extend SomeInfo class directly because it contains fields that I don't need to be created in the SubClass table and even I don't need to use the <code>Inheritance Single Table solution</code>. I have tried using <code>@AttributeOverride</code> but it threw an error and I used <code>@Type</code> annotation and the error was gone, but the field <code>info_name</code> isn't created.</p>\n<pre><code>@Entity\npublic class SubClass&lt;T extends SomeInfo&gt; extends ParentClass {\n\n    @Type(type = &quot;com.package.SomeInfo&quot;)\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;name&quot;, column = @Column(name = &quot;info_name&quot;, nullable = false))\n    })\n    private T info;\n}\n\n@MappedSuperClass\npublic abstract class SomeInfo extends ParentClass {\n\n    // some fields\n}\n</code></pre>\n<p>Is there a way to achieve what I need? Thanks in advance.</p>\n"},{"tags":["java","android","apache-poi","proguard"],"comments":[{"owner":{"account_id":270469,"reputation":6260,"user_id":560435,"accept_rate":48,"display_name":"Robert Rowntree"},"score":0,"creation_date":1409409671,"post_id":25582741,"comment_id":39958449,"body_markdown":"http://stackoverflow.com/questions/25469560/android-proguard-issues-for-release/25470047#25470047   do the same keep/ign warn for org.apache.poi.","body":"<a href=\"http://stackoverflow.com/questions/25469560/android-proguard-issues-for-release/25470047#25470047\" title=\"android proguard issues for release\">stackoverflow.com/questions/25469560/&hellip;</a>   do the same keep/ign warn for org.apache.poi."},{"owner":{"account_id":2259164,"reputation":3411,"user_id":1989647,"accept_rate":66,"display_name":"mittelmania"},"score":0,"creation_date":1409410285,"post_id":25582741,"comment_id":39958580,"body_markdown":"It works when I don&#39;t use obfuscation, however I want obfuscation","body":"It works when I don&#39;t use obfuscation, however I want obfuscation"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1409496517,"post_id":25582741,"comment_id":39976021,"body_markdown":"Given that Apache POI is open source, and therefore the code is freely available to everyone, why on earth would you want to obfuscate the compiled POI classes?","body":"Given that Apache POI is open source, and therefore the code is freely available to everyone, why on earth would you want to obfuscate the compiled POI classes?"},{"owner":{"account_id":2259164,"reputation":3411,"user_id":1989647,"accept_rate":66,"display_name":"mittelmania"},"score":0,"creation_date":1409839147,"post_id":25582741,"comment_id":40110927,"body_markdown":"I don&#39;t need to obfuscate POI, however I need it to be shrunk by ProGuard, so I have no choice but to also obfuscate it","body":"I don&#39;t need to obfuscate POI, however I need it to be shrunk by ProGuard, so I have no choice but to also obfuscate it"}],"answers":[{"tags":[],"owner":{"account_id":2259164,"reputation":3411,"user_id":1989647,"accept_rate":66,"display_name":"mittelmania"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1409405023,"creation_date":1409405023,"answer_id":25582815,"question_id":25582741,"body_markdown":"I ended up adding the following line:\r\n\r\n    -keep public class org.apache.poi.** {*;}\r\n\r\n\r\nThat seems to fix the problem","title":"ProGuard settings for Apache POI","body":"<p>I ended up adding the following line:</p>\n\n<pre><code>-keep public class org.apache.poi.** {*;}\n</code></pre>\n\n<p>That seems to fix the problem</p>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3209,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550654718,"creation_date":1534341918,"answer_id":51860275,"question_id":25582741,"body_markdown":"for read/write excel [xls|xlsx] files. \r\nI use below in proguard\r\n\r\n    # poi\r\n    # https://github.com/centic9/poi-on-android/blob/master/poitest/proguard-rules.pro\r\n        -keeppackagenames aavax.**\r\n    -keeppackagenames org.apache.poi.**\r\n    -keeppackagenames org.apache.poi.ss.formula.function\r\n    -keeppackagenames org.openxmlformats.**\r\n    -keeppackagenames org.openxmlformats.schemas.**\r\n    \r\n    -keep class aavax.** {*;}\r\n    -keep class org.apache.poi.** {*;}\r\n    -keep class org.apache.xmlbeans.** {*;}\r\n    -keep class com.fasterxml.** {*;}\r\n    -keep class com.microsoft.schemas.** {*;}\r\n    \r\n    -keep class org.openxmlformats.** {*;}\r\n    -keep class org.openxmlformats.schemas.** {*;}\r\n    -keep class schemaorg_apache_xmlbeans.** {*;}\r\n    -keep class schemasMicrosoftComVml.** {*;}\r\n    -keep class schemasMicrosoftComOfficeExcel.** {*;}\r\n    -keep class schemasMicrosoftComOfficeOffice.** {*;}\r\n    \r\n    -keepclasseswithmembers class aavax.** {*;}\r\n    -keepclasseswithmembers class org.apache.poi.** {*;}\r\n    -keepclasseswithmembers class org.apache.xmlbeans.** {*;}\r\n    -keepclasseswithmembers class com.fasterxml.** {*;}\r\n    -keepclasseswithmembers class com.microsoft.schemas.** {*;}\r\n    \r\n    -keepclasseswithmembers class org.openxmlformats.** {*;}\r\n    -keepclasseswithmembers class org.openxmlformats.schemas.** {*;}\r\n    -keepclasseswithmembers class schemaorg_apache_xmlbeans.** {*;}\r\n    -keepclasseswithmembers class schemasMicrosoftComVml.** {*;}\r\n    -keepclasseswithmembers class schemasMicrosoftComOfficeExcel.** {*;}\r\n    -keepclasseswithmembers class schemasMicrosoftComOfficeOffice.** {*;}\r\n    \r\n    -keep class org.w3c.** {*;}\r\n    -keep class org.dom4j.** {*;}\r\n    -keep class org.etsi.** {*;}\r\n    -keep class com.graphbuilder.** {*;}\r\n    -dontwarn org.etsi.**\r\n    -dontnote com.microsoft.schemas.**\r\n    -dontnote com.graphbuilder.**\r\n    -dontwarn org.openxmlformats.**\r\n    -dontwarn org.w3c.**\r\n    -dontwarn org.dom4j.**\r\n    -dontwarn schemasMicrosoftComVml.**\r\n    -dontwarn schemasMicrosoftComOfficeExcel.**\r\n    -dontwarn schemasMicrosoftComOfficeOffice.**\r\n    -dontwarn schemasMicrosoftComOfficeWord.**\r\n\r\n\r\n","title":"ProGuard settings for Apache POI","body":"<p>for read/write excel [xls|xlsx] files. \nI use below in proguard</p>\n\n<pre><code># poi\n# https://github.com/centic9/poi-on-android/blob/master/poitest/proguard-rules.pro\n    -keeppackagenames aavax.**\n-keeppackagenames org.apache.poi.**\n-keeppackagenames org.apache.poi.ss.formula.function\n-keeppackagenames org.openxmlformats.**\n-keeppackagenames org.openxmlformats.schemas.**\n\n-keep class aavax.** {*;}\n-keep class org.apache.poi.** {*;}\n-keep class org.apache.xmlbeans.** {*;}\n-keep class com.fasterxml.** {*;}\n-keep class com.microsoft.schemas.** {*;}\n\n-keep class org.openxmlformats.** {*;}\n-keep class org.openxmlformats.schemas.** {*;}\n-keep class schemaorg_apache_xmlbeans.** {*;}\n-keep class schemasMicrosoftComVml.** {*;}\n-keep class schemasMicrosoftComOfficeExcel.** {*;}\n-keep class schemasMicrosoftComOfficeOffice.** {*;}\n\n-keepclasseswithmembers class aavax.** {*;}\n-keepclasseswithmembers class org.apache.poi.** {*;}\n-keepclasseswithmembers class org.apache.xmlbeans.** {*;}\n-keepclasseswithmembers class com.fasterxml.** {*;}\n-keepclasseswithmembers class com.microsoft.schemas.** {*;}\n\n-keepclasseswithmembers class org.openxmlformats.** {*;}\n-keepclasseswithmembers class org.openxmlformats.schemas.** {*;}\n-keepclasseswithmembers class schemaorg_apache_xmlbeans.** {*;}\n-keepclasseswithmembers class schemasMicrosoftComVml.** {*;}\n-keepclasseswithmembers class schemasMicrosoftComOfficeExcel.** {*;}\n-keepclasseswithmembers class schemasMicrosoftComOfficeOffice.** {*;}\n\n-keep class org.w3c.** {*;}\n-keep class org.dom4j.** {*;}\n-keep class org.etsi.** {*;}\n-keep class com.graphbuilder.** {*;}\n-dontwarn org.etsi.**\n-dontnote com.microsoft.schemas.**\n-dontnote com.graphbuilder.**\n-dontwarn org.openxmlformats.**\n-dontwarn org.w3c.**\n-dontwarn org.dom4j.**\n-dontwarn schemasMicrosoftComVml.**\n-dontwarn schemasMicrosoftComOfficeExcel.**\n-dontwarn schemasMicrosoftComOfficeOffice.**\n-dontwarn schemasMicrosoftComOfficeWord.**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9189189,"reputation":163,"user_id":6830323,"display_name":"kaiv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647177899,"creation_date":1647177899,"answer_id":71457177,"question_id":25582741,"body_markdown":"Adding next classes will be enough:\r\n\r\n    -keep class org.apache.poi.** {*;}\r\n    -keep class org.apache.xmlbeans.** {*;}\r\n    -keep class com.fasterxml.** {*;}\r\n    -keep class com.microsoft.schemas.** {*;}\r\n    -keep class org.openxmlformats.** {*;}\r\n    -keep class org.openxmlformats.schemas.** {*;}\r\n    -keep class schemaorg_apache_xmlbeans.** {*;}","title":"ProGuard settings for Apache POI","body":"<p>Adding next classes will be enough:</p>\n<pre><code>-keep class org.apache.poi.** {*;}\n-keep class org.apache.xmlbeans.** {*;}\n-keep class com.fasterxml.** {*;}\n-keep class com.microsoft.schemas.** {*;}\n-keep class org.openxmlformats.** {*;}\n-keep class org.openxmlformats.schemas.** {*;}\n-keep class schemaorg_apache_xmlbeans.** {*;}\n</code></pre>\n"}],"owner":{"account_id":2259164,"reputation":3411,"user_id":1989647,"accept_rate":66,"display_name":"mittelmania"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2164,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25582815,"answer_count":3,"score":3,"last_activity_date":1647177899,"creation_date":1409404321,"question_id":25582741,"body_markdown":"I&#39;m building an application that uses the Apache POI library. When I debug the app (compile it without running Proguard) everything is working great, however after exporting the APK, when I run the application and open an Excel file I get the following exception:\r\n\r\n`RuntimeException - Caused by: java.lang.ExceptionInInitializerError at org.apache.poi.hssf.usermodel.HSSFWorkbook.&lt;init&gt;(HSSFWorkbook.java:301)`\r\n\r\n\r\nHere is my proguard settings file:\r\n\r\n    -injars      bin/classes\r\n    -injars      libs/android-support-v13.jar\r\n    -outjars     bin/classes-processed.jar\r\n    -libraryjars /usr/bin/adt/sdk/platforms/android-19/android.jar\r\n    -libraryjars libs/poi-3.10.1.jar\r\n    \r\n    -dontpreverify\r\n    -repackageclasses &#39;&#39;\r\n    -allowaccessmodification\r\n    -optimizations !code/simplification/arithmetic\r\n    -keepattributes *Annotation*\r\n    \r\n    -dontwarn org.apache.poi.**\r\n    -dontwarn com.google.**\r\n    -dontwarn android.support.**\r\n    \r\n    -keep public class * extends android.app.Activity\r\n    -keep public class * extends android.support.v4.app.FragmentActivity\r\n    -keep public class * extends android.support.v4.app.Fragment\r\n    -keep public class * extends android.app.Application\r\n    -keep public class * extends android.app.Service\r\n    -keep public class * extends android.content.BroadcastReceiver\r\n    \r\n    -keep class com.android.vending.billing.**\r\n    \r\n    -keep public class * extends android.view.View {\r\n        public &lt;init&gt;(android.content.Context);\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\r\n        public void set*(...);\r\n    }\r\n    \r\n    -keepclasseswithmembers class * {\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\r\n    }\r\n    \r\n    -keepclasseswithmembers class * {\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\r\n    }\r\n    \r\n    -keepclassmembers class * implements android.os.Parcelable {\r\n        static android.os.Parcelable$Creator CREATOR;\r\n    }\r\n    \r\n    -keepclassmembers class **.R$* {\r\n        public static &lt;fields&gt;;\r\n    }\r\n\r\nWhat is the correct configuration for Apache POI in Proguard? I use POI to only read the old (Excel 97) format so I don&#39;t need all the other jars.","title":"ProGuard settings for Apache POI","body":"<p>I'm building an application that uses the Apache POI library. When I debug the app (compile it without running Proguard) everything is working great, however after exporting the APK, when I run the application and open an Excel file I get the following exception:</p>\n\n<p><code>RuntimeException - Caused by: java.lang.ExceptionInInitializerError at org.apache.poi.hssf.usermodel.HSSFWorkbook.&lt;init&gt;(HSSFWorkbook.java:301)</code></p>\n\n<p>Here is my proguard settings file:</p>\n\n<pre><code>-injars      bin/classes\n-injars      libs/android-support-v13.jar\n-outjars     bin/classes-processed.jar\n-libraryjars /usr/bin/adt/sdk/platforms/android-19/android.jar\n-libraryjars libs/poi-3.10.1.jar\n\n-dontpreverify\n-repackageclasses ''\n-allowaccessmodification\n-optimizations !code/simplification/arithmetic\n-keepattributes *Annotation*\n\n-dontwarn org.apache.poi.**\n-dontwarn com.google.**\n-dontwarn android.support.**\n\n-keep public class * extends android.app.Activity\n-keep public class * extends android.support.v4.app.FragmentActivity\n-keep public class * extends android.support.v4.app.Fragment\n-keep public class * extends android.app.Application\n-keep public class * extends android.app.Service\n-keep public class * extends android.content.BroadcastReceiver\n\n-keep class com.android.vending.billing.**\n\n-keep public class * extends android.view.View {\n    public &lt;init&gt;(android.content.Context);\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\n    public void set*(...);\n}\n\n-keepclasseswithmembers class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\n}\n\n-keepclasseswithmembers class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\n}\n\n-keepclassmembers class * implements android.os.Parcelable {\n    static android.os.Parcelable$Creator CREATOR;\n}\n\n-keepclassmembers class **.R$* {\n    public static &lt;fields&gt;;\n}\n</code></pre>\n\n<p>What is the correct configuration for Apache POI in Proguard? I use POI to only read the old (Excel 97) format so I don't need all the other jars.</p>\n"},{"tags":["java","spring","mockito"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1646592137,"post_id":71372928,"comment_id":126156455,"body_markdown":"You can catch the exception in the test.","body":"You can catch the exception in the test."}],"answers":[{"tags":[],"owner":{"account_id":18078154,"reputation":21,"user_id":13140813,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647177379,"creation_date":1647177379,"answer_id":71457109,"question_id":71372928,"body_markdown":"If you are using Mockito **doThrow()** and want to assert the exception message, you can add the below annotation to you test\r\n\r\n    @Test(expected=MyException.class)\r\n\r\nThis will assert that an exception has occurred. \r\n\r\n\r\nElse, if your intention is to stub the method which makes database call, you can try using Mockito&#39;s **doNothing()**\r\n\r\n    Mockito.doNothing().when(mock).method()","title":"Handling a failure with mockito","body":"<p>If you are using Mockito <strong>doThrow()</strong> and want to assert the exception message, you can add the below annotation to you test</p>\n<pre><code>@Test(expected=MyException.class)\n</code></pre>\n<p>This will assert that an exception has occurred.</p>\n<p>Else, if your intention is to stub the method which makes database call, you can try using Mockito's <strong>doNothing()</strong></p>\n<pre><code>Mockito.doNothing().when(mock).method()\n</code></pre>\n"}],"owner":{"account_id":24406961,"reputation":3,"user_id":18335027,"display_name":"newbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647177379,"creation_date":1646589707,"question_id":71372928,"body_markdown":"I implemented an endpoint which has to make changes on the database. I now want to check if the rollback works if something goes wrong during the transaction. I have mocked a success and the next step in the test should mock a test failure. The problem is: If I tell Mockito to throw an exception, I can&#39;t check the results later, because then it terminates with the exception. But I want to make sure that the data in the database has not changed. So Mockito should continue, despite failure. How can this be done? \r\n","title":"Handling a failure with mockito","body":"<p>I implemented an endpoint which has to make changes on the database. I now want to check if the rollback works if something goes wrong during the transaction. I have mocked a success and the next step in the test should mock a test failure. The problem is: If I tell Mockito to throw an exception, I can't check the results later, because then it terminates with the exception. But I want to make sure that the data in the database has not changed. So Mockito should continue, despite failure. How can this be done?</p>\n"},{"tags":["java","mysql","netbeans","xampp"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647177291,"creation_date":1647176679,"answer_id":71457019,"question_id":71456863,"body_markdown":"Your `if-else` should be outside loop. Currently if first user does not match, you assume there is no match at all.\r\n\r\n 1. Have a boolean variable if match was found\r\n 2. In loop, check for match, if found set to true and break loop, otherwise continue looping\r\n 3. Check variable outside loop\r\n\r\nAlso it would be better if you get one user from database by username and then check password for match, there is no need to iterate through all users.","title":"how to compare given data with database data one by one in java","body":"<p>Your <code>if-else</code> should be outside loop. Currently if first user does not match, you assume there is no match at all.</p>\n<ol>\n<li>Have a boolean variable if match was found</li>\n<li>In loop, check for match, if found set to true and break loop, otherwise continue looping</li>\n<li>Check variable outside loop</li>\n</ol>\n<p>Also it would be better if you get one user from database by username and then check password for match, there is no need to iterate through all users.</p>\n"}],"owner":{"account_id":24543637,"reputation":1,"user_id":18453806,"display_name":"Mohammed Hazeem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647177291,"creation_date":1647175395,"question_id":71456863,"body_markdown":"    String name= uname.getText();\r\n    String password=new String (PassW.getPassword());\r\n        \r\n    try {\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/attms?autoReconnect=true&amp;useSSL=false&quot;,&quot;root&quot;,&quot;&quot;);\r\n        \r\n       Statement stm= con.createStatement();\r\n       String q=&quot;SELECT * FROM admin;&quot;;                             \r\n   \r\n        ResultSet rs= stm.executeQuery(q);\r\n       \r\n        while (rs.next())\r\n        {\r\n            String user= rs.getString(&quot;Username&quot;);\r\n            String pass= rs.getString(&quot;Password&quot;);\r\n        \r\n            if(name.equals(user)&amp;&amp; password.equals(pass)) {\r\n                JOptionPane.showMessageDialog(null, &quot;Welcome &quot; +name ,&quot;Login Successfull&quot;, JOptionPane.PLAIN_MESSAGE);\r\n                new AdminFrame().setVisible(true);\r\n                this.dispose();\r\n            } else {\r\n                JOptionPane.showMessageDialog(this,&quot;Invalid Username&amp;Password&quot;,&quot;&quot;,JOptionPane.ERROR_MESSAGE);\r\n                 \r\n            }  \r\n        }\r\n\r\n\r\n\r\nI want to compare given username with stored username data from database one by one and if the condition is true then allow to another frame \r\nin this code i&#39;m using if statement it&#39;s checking only one data","title":"how to compare given data with database data one by one in java","body":"<pre><code>String name= uname.getText();\nString password=new String (PassW.getPassword());\n    \ntry {\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/attms?autoReconnect=true&amp;useSSL=false&quot;,&quot;root&quot;,&quot;&quot;);\n    \n   Statement stm= con.createStatement();\n   String q=&quot;SELECT * FROM admin;&quot;;                             \n\n    ResultSet rs= stm.executeQuery(q);\n   \n    while (rs.next())\n    {\n        String user= rs.getString(&quot;Username&quot;);\n        String pass= rs.getString(&quot;Password&quot;);\n    \n        if(name.equals(user)&amp;&amp; password.equals(pass)) {\n            JOptionPane.showMessageDialog(null, &quot;Welcome &quot; +name ,&quot;Login Successfull&quot;, JOptionPane.PLAIN_MESSAGE);\n            new AdminFrame().setVisible(true);\n            this.dispose();\n        } else {\n            JOptionPane.showMessageDialog(this,&quot;Invalid Username&amp;Password&quot;,&quot;&quot;,JOptionPane.ERROR_MESSAGE);\n             \n        }  \n    }\n</code></pre>\n<p>I want to compare given username with stored username data from database one by one and if the condition is true then allow to another frame\nin this code i'm using if statement it's checking only one data</p>\n"},{"tags":["java","spring","multithreading"],"comments":[{"owner":{"account_id":4951627,"reputation":1332,"user_id":3985356,"accept_rate":74,"display_name":"CHANist"},"score":0,"creation_date":1647227258,"post_id":71457067,"comment_id":126309994,"body_markdown":"Not sure what you means? Can you write some dummy code for elaborating what you really want to achieve?","body":"Not sure what you means? Can you write some dummy code for elaborating what you really want to achieve?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647271635,"post_id":71457067,"comment_id":126323511,"body_markdown":"Are you asking how to make Spring provide different properties for each thread, so it works with `@Value` annotations?","body":"Are you asking how to make Spring provide different properties for each thread, so it works with <code>@Value</code> annotations?"}],"owner":{"account_id":9809731,"reputation":49,"user_id":7268329,"display_name":"chrislacorunna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647177045,"creation_date":1647177045,"question_id":71457067,"body_markdown":"I&#39;ve developed an application in spring that is steered by multiple properties, that are taken from application.properties. So far it worked great, but now I&#39;m trying to adjust these properties, so the program is more efficient. For that i need to search through pretty huge space and then evaluate how full run of a program works for given properties set. As long as it&#39;s pretty time consuming, and evaluations are not dependent of each other, I thought that i can make some computations parallel. Here comes the problem - for needs of evaluation, I have to change properties in application.properties during runtime. For one thread and synchronous execution it works ok, but I guess that there is only one instance of properties, so changing them for one thread, will also change them for other threads (which are also changing these propeties). \r\n\r\nDo you know any way to set properties only in context of one thread? I know, that properties may be passed to a method by a parameter, but i would like to avoid that.","title":"Change application.properties for each thread","body":"<p>I've developed an application in spring that is steered by multiple properties, that are taken from application.properties. So far it worked great, but now I'm trying to adjust these properties, so the program is more efficient. For that i need to search through pretty huge space and then evaluate how full run of a program works for given properties set. As long as it's pretty time consuming, and evaluations are not dependent of each other, I thought that i can make some computations parallel. Here comes the problem - for needs of evaluation, I have to change properties in application.properties during runtime. For one thread and synchronous execution it works ok, but I guess that there is only one instance of properties, so changing them for one thread, will also change them for other threads (which are also changing these propeties).</p>\n<p>Do you know any way to set properties only in context of one thread? I know, that properties may be passed to a method by a parameter, but i would like to avoid that.</p>\n"},{"tags":["java","android","kotlin","android-service","background-process"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1647142006,"post_id":71454063,"comment_id":126295695,"body_markdown":"You&#39;re mostly restricted from doing this on Android 10+  See https://developer.android.com/guide/components/activities/background-starts","body":"You&#39;re mostly restricted from doing this on Android 10+  See <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>"},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1647176551,"post_id":71454063,"comment_id":126300430,"body_markdown":"I see, this needs to be worked around then. thanks.","body":"I see, this needs to be worked around then. thanks."}],"answers":[{"tags":[],"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647176687,"creation_date":1647176687,"answer_id":71457021,"question_id":71454063,"body_markdown":"As mentioned in comments this can&#39;t really be worked around after Android 10.\r\n\r\nYou need to open a notification which can start your activity.\r\n\r\nIn the case of an alarm though, vibrate and the ringtone etc can still be called from the service, just not the activity itself.","title":"Service not opening activity while app in background","body":"<p>As mentioned in comments this can't really be worked around after Android 10.</p>\n<p>You need to open a notification which can start your activity.</p>\n<p>In the case of an alarm though, vibrate and the ringtone etc can still be called from the service, just not the activity itself.</p>\n"}],"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71457021,"answer_count":1,"score":0,"last_activity_date":1647176687,"creation_date":1647140110,"question_id":71454063,"body_markdown":"I have a broadcastReceiver opening a service when a time is reached. \r\n\r\nIf the app is open and running in foreground then the service is called and then calls an activity.\r\n\r\nIf the app is open but running in background then the service is called but doesn&#39;t open the app.\r\n\r\nservice: \r\n    class AlarmRingService : Service() {\r\n\r\n    override fun onCreate() {\r\n        super.onCreate()\r\n    }\r\n\r\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\r\n        val ringIntent = Intent(this, AlarmRingActivity::class.java)\r\n        ringIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n        startActivity(ringIntent)\r\n        Toast.makeText(this, &quot;activity should have started&quot;, Toast.LENGTH_LONG).show()\r\n        return START_STICKY\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n    }\r\n\r\n    override fun onBind(intent: Intent): IBinder? {\r\n        return null\r\n    }\r\n    }\r\n\r\nThe toast is called even when looking at the phones home screen with app open in background.\r\n\r\nActivity:\r\n\r\n        lateinit var binding: ActivityAlarmRingBinding\r\n    private val fragmentManager = supportFragmentManager\r\n\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityAlarmRingBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n        supportActionBar?.title = &quot;&quot;\r\n\r\n        val prefs: SharedPreferences = PreferenceManager.getDefaultSharedPreferences(this)\r\n\r\n        Toast.makeText(this, &quot;activity started&quot;, Toast.LENGTH_LONG).show()\r\n\r\n        if (prefs.getBoolean(&quot;sp_shake&quot;, true)) {\r\n            val fragmentTransaction = fragmentManager.beginTransaction()\r\n            fragmentTransaction.add(R.id.fragmentContainerViewAlarm, ShakeAlarmRingFragment())\r\n            fragmentTransaction.addToBackStack(null)\r\n            fragmentTransaction.commit()\r\n        } else {\r\n            val fragmentTransaction = fragmentManager.beginTransaction()\r\n            fragmentTransaction.add(R.id.fragmentContainerViewAlarm, AlarmRingFragment())\r\n            fragmentTransaction.addToBackStack(null)\r\n            fragmentTransaction.commit()\r\n        }\r\n    }\r\n\r\n    override fun onBackPressed() {\r\n        // back not allowed\r\n    }\r\n\r\n    }\r\n\r\nI have seen elsewhere that this doesn&#39;t work on Xiaomi phones, which is where I a testing physically, but testing multiple phones in the emulator also yields the same results.   \r\n","title":"Service not opening activity while app in background","body":"<p>I have a broadcastReceiver opening a service when a time is reached.</p>\n<p>If the app is open and running in foreground then the service is called and then calls an activity.</p>\n<p>If the app is open but running in background then the service is called but doesn't open the app.</p>\n<p>service:\nclass AlarmRingService : Service() {</p>\n<pre><code>override fun onCreate() {\n    super.onCreate()\n}\n\noverride fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n    val ringIntent = Intent(this, AlarmRingActivity::class.java)\n    ringIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n    startActivity(ringIntent)\n    Toast.makeText(this, &quot;activity should have started&quot;, Toast.LENGTH_LONG).show()\n    return START_STICKY\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n}\n\noverride fun onBind(intent: Intent): IBinder? {\n    return null\n}\n}\n</code></pre>\n<p>The toast is called even when looking at the phones home screen with app open in background.</p>\n<p>Activity:</p>\n<pre><code>    lateinit var binding: ActivityAlarmRingBinding\nprivate val fragmentManager = supportFragmentManager\n\n\n@RequiresApi(Build.VERSION_CODES.O)\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = ActivityAlarmRingBinding.inflate(layoutInflater)\n    setContentView(binding.root)\n    supportActionBar?.title = &quot;&quot;\n\n    val prefs: SharedPreferences = PreferenceManager.getDefaultSharedPreferences(this)\n\n    Toast.makeText(this, &quot;activity started&quot;, Toast.LENGTH_LONG).show()\n\n    if (prefs.getBoolean(&quot;sp_shake&quot;, true)) {\n        val fragmentTransaction = fragmentManager.beginTransaction()\n        fragmentTransaction.add(R.id.fragmentContainerViewAlarm, ShakeAlarmRingFragment())\n        fragmentTransaction.addToBackStack(null)\n        fragmentTransaction.commit()\n    } else {\n        val fragmentTransaction = fragmentManager.beginTransaction()\n        fragmentTransaction.add(R.id.fragmentContainerViewAlarm, AlarmRingFragment())\n        fragmentTransaction.addToBackStack(null)\n        fragmentTransaction.commit()\n    }\n}\n\noverride fun onBackPressed() {\n    // back not allowed\n}\n\n}\n</code></pre>\n<p>I have seen elsewhere that this doesn't work on Xiaomi phones, which is where I a testing physically, but testing multiple phones in the emulator also yields the same results.</p>\n"},{"tags":["java","algorithm","reverse"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":3,"creation_date":1647176163,"post_id":71456854,"comment_id":126300352,"body_markdown":"You solution creates a new array, which is a relatively expensive operation. The second solution reverse the array in-place, without the need for allocating a new array.","body":"You solution creates a new array, which is a relatively expensive operation. The second solution reverse the array in-place, without the need for allocating a new array."}],"answers":[{"tags":[],"owner":{"account_id":22421325,"reputation":106,"user_id":16628567,"display_name":"KyreX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647176359,"creation_date":1647176359,"answer_id":71456986,"question_id":71456854,"body_markdown":"On the one hand, your algorithm needs twice as much memory as the other. Since you are creating a copy of the array, if the length of the array is 50, you need to reserve 50 more memory addresses. However, the other solution just will need to reserve 1 memory address (for 1 auxiliar `int`) regardless of the length of the original array.\r\n\r\nOn the other hand, your algorithm iterates all elements of the array while the other just needs to iterate to the midpoint.\r\nTheoretically, both solutions have the same order of efficiency: `O(n)` but in reality the other solution does fewer iterations.","title":"How can I decide which algorithm is more efficent for reverse an array","body":"<p>On the one hand, your algorithm needs twice as much memory as the other. Since you are creating a copy of the array, if the length of the array is 50, you need to reserve 50 more memory addresses. However, the other solution just will need to reserve 1 memory address (for 1 auxiliar <code>int</code>) regardless of the length of the original array.</p>\n<p>On the other hand, your algorithm iterates all elements of the array while the other just needs to iterate to the midpoint.\nTheoretically, both solutions have the same order of efficiency: <code>O(n)</code> but in reality the other solution does fewer iterations.</p>\n"}],"owner":{"display_name":"user13561105"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71456986,"answer_count":1,"score":0,"last_activity_date":1647176359,"creation_date":1647175337,"question_id":71456854,"body_markdown":"I was trying to improve my self about algorithms.\r\n\r\nSo I&#39;ve tried to reverse an array of integer values.\r\n\r\nHere is my solution.\r\n\r\n\r\n         static  int[] reverseArray(int[] arr){\r\n\r\n        int[] newArr =new int[arr.length];\r\n\r\n        for (int i = arr.length-1, j = 0; i&gt;=0; i-- , j++){\r\n\r\n            newArr[j] = arr[i];\r\n\r\n        }\r\n\r\n        return newArr;\r\n\r\n    }\r\n\r\nAnd this is the solution  what i see as the answer on the site. So my mind is little confused. In my opion my solution is easier and better. I don&#39;t understand why we have to divide it in two for example I think  it&#39;s not necessary. So can anyone help me what&#39;s wrong with my solution?\r\n\r\n\r\n     for(int i = 0; i &lt; my_array1.length / 2; i++)\r\n\r\n    {\r\n\r\n    int temp = my_array1[i];\r\n    my_array1[i] = my_array1[my_array1.length - i - 1];\r\n    my_array1[my_array1.length - i - 1] = temp;\r\n\r\n    }","title":"How can I decide which algorithm is more efficent for reverse an array","body":"<p>I was trying to improve my self about algorithms.</p>\n<p>So I've tried to reverse an array of integer values.</p>\n<p>Here is my solution.</p>\n<pre><code>     static  int[] reverseArray(int[] arr){\n\n    int[] newArr =new int[arr.length];\n\n    for (int i = arr.length-1, j = 0; i&gt;=0; i-- , j++){\n\n        newArr[j] = arr[i];\n\n    }\n\n    return newArr;\n\n}\n</code></pre>\n<p>And this is the solution  what i see as the answer on the site. So my mind is little confused. In my opion my solution is easier and better. I don't understand why we have to divide it in two for example I think  it's not necessary. So can anyone help me what's wrong with my solution?</p>\n<pre><code> for(int i = 0; i &lt; my_array1.length / 2; i++)\n\n{\n\nint temp = my_array1[i];\nmy_array1[i] = my_array1[my_array1.length - i - 1];\nmy_array1[my_array1.length - i - 1] = temp;\n\n}\n</code></pre>\n"},{"tags":["java","swing","arraylist","jcombobox"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647170704,"post_id":71456079,"comment_id":126299107,"body_markdown":"What happens with the second attempt? What do you mean by &quot;doesn&#39;t work&quot;? Does the combo box not get filled? Do you see an exception such as a NullPointerException? Something else entirely?","body":"What happens with the second attempt? What do you mean by &quot;doesn&#39;t work&quot;? Does the combo box not get filled? Do you see an exception such as a NullPointerException? Something else entirely?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1647170771,"post_id":71456079,"comment_id":126299121,"body_markdown":"Uh oh, you look to be misusing inheritance: `public class TablBateau extends MainForm`. Why does TablBateau extend MainForm? The ports field in this class will hold nothing of value and you should be using composition here, not inheritance.","body":"Uh oh, you look to be misusing inheritance: <code>public class TablBateau extends MainForm</code>. Why does TablBateau extend MainForm? The ports field in this class will hold nothing of value and you should be using composition here, not inheritance."},{"owner":{"account_id":24440661,"reputation":1,"user_id":18364404,"display_name":"Miinae"},"score":0,"creation_date":1647170947,"post_id":71456079,"comment_id":126299156,"body_markdown":"Yeah i had 0 error just my List is empty, i want to return the List that i create in the class Port but i don&#39;t know how to do this. What is composition ?","body":"Yeah i had 0 error just my List is empty, i want to return the List that i create in the class Port but i don&#39;t know how to do this. What is composition ?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647171021,"post_id":71456079,"comment_id":126299170,"body_markdown":"First of all, *why* the inheritance? There may be need, but I need to know the reasoning. And what do these two classes do and how do they interact with each other?","body":"First of all, <i>why</i> the inheritance? There may be need, but I need to know the reasoning. And what do these two classes do and how do they interact with each other?"},{"owner":{"account_id":24440661,"reputation":1,"user_id":18364404,"display_name":"Miinae"},"score":0,"creation_date":1647171365,"post_id":71456079,"comment_id":126299241,"body_markdown":"I put the inheritance only to take the value of my List but it didn&#39;t work. What did they do they open a frame where i can put some information to create object from other class and when i create an object they go in a arraylist and i need this List to go in my Jcombobox. When i put the List with combobox in the same class the frame show the list BUT when i put the List with combobox in the other class the List didn&#39;t update, sorry for my bad english  but i hope you get what i mean","body":"I put the inheritance only to take the value of my List but it didn&#39;t work. What did they do they open a frame where i can put some information to create object from other class and when i create an object they go in a arraylist and i need this List to go in my Jcombobox. When i put the List with combobox in the same class the frame show the list BUT when i put the List with combobox in the other class the List didn&#39;t update, sorry for my bad english  but i hope you get what i mean"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647171580,"post_id":71456079,"comment_id":126299294,"body_markdown":"1. Get rid of the inheritance, it makes no sense and is only harming you. 2. Make sure that TablBateau has a variable that refers to the actual visualized MainForm instance. 3. Get the needed data from this MainForm instance. ***That*** is what composition is.","body":"1. Get rid of the inheritance, it makes no sense and is only harming you. 2. Make sure that TablBateau has a variable that refers to the actual visualized MainForm instance. 3. Get the needed data from this MainForm instance. <b><i>That</i></b> is what composition is."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1647171664,"post_id":71456079,"comment_id":126299316,"body_markdown":"For better help, simplify your code so that you have two small programs that compile and run for us, and demonstrate your error and nothing else. You have too much unnecessary code that you&#39;re showing, but also not enough to allow us to compile or run the code. Look at the [mre] link to see what I&#39;m advising you to do.","body":"For better help, simplify your code so that you have two small programs that compile and run for us, and demonstrate your error and nothing else. You have too much unnecessary code that you&#39;re showing, but also not enough to allow us to compile or run the code. Look at the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> link to see what I&#39;m advising you to do."},{"owner":{"account_id":24440661,"reputation":1,"user_id":18364404,"display_name":"Miinae"},"score":0,"creation_date":1647172373,"post_id":71456079,"comment_id":126299493,"body_markdown":"How to get the ArrayList from the MainForm class in the TablBateau class ? Without the extends","body":"How to get the ArrayList from the MainForm class in the TablBateau class ? Without the extends"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647175186,"post_id":71456079,"comment_id":126300130,"body_markdown":"Please see edits to answer, one that shows running code (although you will need to paste it into a different package to avoid name clashes","body":"Please see edits to answer, one that shows running code (although you will need to paste it into a different package to avoid name clashes"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647176305,"creation_date":1647172834,"answer_id":71456551,"question_id":71456079,"body_markdown":"The key to your problem is to pass the information to where it is needed by using composition. Objects that need to extract information from another object hold variables of those objects and then call methods on them:\r\n\r\n```\r\npublic class TablBateau extends MainForm {\r\n\tprivate JPanel panel1;\r\n\tprivate JTextField textField1;\r\n\tprivate JComboBox comboBox1;\r\n\tprivate JCheckBox enMerCheckBox;\r\n\tprivate JSplitPane rootPanel;\r\n\tprivate JComboBox comboBox2;\r\n\tprivate JTable table1;\r\n\tprivate JButton button1;\r\n\tprivate JButton resetButton;\r\n\tprivate JButton button2;\r\n\tprivate JButton button3;\r\n\tpublic List&lt;Bateau&gt; bateaux;\r\n\r\n\tprivate MainForm mainForm;  // add this\r\n\r\n    // pass the MainForm into this clas\r\n\tpublic TablBateau(MainForm mainForm) {\r\n\t\tthis.mainForm = mainForm;\r\n\t\t\r\n\t\tbutton1.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\tcomboBox1.setModel(new DefaultComboBoxModel(mainForm.getPorts().toArray()));\r\n\t}\r\n```\r\n\r\nYou pass the *currently displayed* MainForm instance into your TablBateau instance when you create the latter, by passing it in as a parameter:\r\n\r\n\r\n```\t\r\npublic class MainForm {\r\n\r\n\tsomeListener() {\r\n\t\tTablBateau tablBateau = new TablBateau(this);\r\n\t}\r\n}\t\r\n```\r\n______________________________________\r\n\r\nFor example,\r\n\r\nclass PassingInfo:\r\n* Has the main method that starts the Swing GUI\r\n* Creates a MainForm object, puts it into a JFrame, and displays it\r\n\r\nclass Port\r\n* Dummy class to represent a Port object.\r\n* This is obviously not the Port class that you are using (but I don&#39;t have your code, so I have to use this placeholder class instead)\r\n\r\nclass MainForm\r\n* Extends JPanel so that it can be placed into a JFrame or JDialog, or another JPanel, wherever it is needed\r\n* Holds a `List&lt;Port&gt; ports` variable that is filled with data from a dummy String array\r\n* JButton that displays a modal JDialog that holds the TablBateau JPanel \r\n* Passes the ports list into TablBateau whenever the latter is displayed (not done in constructor in case the ports Port list is changed)\r\n* Displays the above in a modal JDialog so that we will know when a selection is made.\r\n* After a selection is made (code resumes from past the JDialog being made visible), extract the selection from the TablBateau instance and display in this object&#39;s JTextField.\r\n\r\nclass TablBateau\r\n* Extends JPanel so it can be placed into a JFrame or JDialog or other JPanel,...\r\n* Displays a JComboBox of Ports\r\n* Has a `setPorts(...)` method that fills the JComboBox.\r\n* ActionListener added to combobox that will dispose of the window that contains this JPanel.\r\n\r\n&lt;!-- --&gt;\r\n\r\n\r\n```\r\nimport java.awt.Dialog.ModalityType;\r\nimport java.awt.Window;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.DefaultComboBoxModel;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class PassingInfo {\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tMainForm mainPanel = new MainForm();\r\n\t\t\t\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(mainPanel);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationByPlatform(true);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\nclass MainForm extends JPanel {\r\n\tprivate static final String[] PORTS = {&quot;Here&quot;, &quot;There&quot;, &quot;Everywhere&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;You&quot;, &quot;Know&quot;, &quot;What&quot;, &quot;I&quot;, &quot;Mean&quot;};\r\n\tprivate List&lt;Port&gt; ports;\r\n\tprivate Port selectedPort = null;\r\n\tprivate TablBateau tablBateau;\r\n\tprivate JDialog tablBateauDlg;\r\n\tprivate JTextField selectedPortField = new JTextField(20);\r\n\t\r\n\tpublic MainForm() {\r\n\t\tports = Arrays.stream(PORTS).map(Port::new).collect(Collectors.toList());\r\n\t\t\r\n\t\tJButton showTablBateauButton = new JButton(&quot;Show Tabl Bateau&quot;);\r\n\t\tshowTablBateauButton.addActionListener(e -&gt; showTablBateau());\r\n\t\t\r\n\t\tadd(showTablBateauButton);\r\n\t\t\r\n\t\tadd(new JLabel(&quot;Selected Port:&quot;));\r\n\t\tadd(selectedPortField);\r\n\t\t\r\n\t\tint eb = 40;\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(eb, eb, eb, eb));\r\n\t}\r\n\t\r\n\tpublic List&lt;Port&gt; getPorts() {\r\n\t\treturn ports;\r\n\t}\r\n\t\r\n\tprivate void showTablBateau() {\r\n\t\tif (tablBateau == null) {\r\n\t\t\ttablBateau = new TablBateau();\r\n\t\t\t\r\n\t\t\tWindow windowOwner = SwingUtilities.getWindowAncestor(this);\r\n\t\t\t\r\n\t\t\ttablBateauDlg = new JDialog(windowOwner, &quot;Tabl Bateau&quot;, ModalityType.APPLICATION_MODAL);\r\n\t\t\ttablBateauDlg.add(tablBateau);\r\n\t\t\ttablBateauDlg.pack();\r\n\t\t\ttablBateauDlg.setLocationByPlatform(true);\r\n\t\t}\r\n\t\t\r\n\t\ttablBateau.setPorts(ports);\r\n\t\ttablBateauDlg.setVisible(true);\r\n\t\t\r\n\t\tselectedPortField.setFocusable(false);\r\n\t\tselectedPort = tablBateau.getSelectedPort();\r\n\t\tselectedPortField.setText(selectedPort.getName());\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nclass TablBateau extends JPanel {\r\n\tprivate JComboBox&lt;Port&gt; comboBox1 = new JComboBox&lt;&gt;();\r\n\tprivate List&lt;Port&gt; ports;\r\n\t\r\n\tpublic TablBateau() {\r\n\t\tadd(comboBox1);\r\n\t\tcomboBox1.setPrototypeDisplayValue(new Port(&quot;ABCDEFGHIJKLMNOP&quot;));\r\n\t\t\r\n\t\tcomboBox1.addActionListener(e -&gt; itemSelected());\r\n\t\t\r\n\t\tint eb = 20;\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(eb, eb, eb, eb));\r\n\r\n\t}\r\n\t\r\n\tprivate void itemSelected() {\r\n\t\tWindow windowOwner = SwingUtilities.getWindowAncestor(this);\r\n\t\twindowOwner.dispose();\r\n\t}\r\n\r\n\tpublic Port getSelectedPort() {\r\n\t\treturn (Port) comboBox1.getSelectedItem();\r\n\t}\r\n\r\n\tpublic void setPorts(List&lt;Port&gt; ports) {\r\n\t\tthis.ports = ports;\r\n\t\tDefaultComboBoxModel&lt;Port&gt; comboModel = new DefaultComboBoxModel&lt;Port&gt;(ports.toArray(new Port[] {}));\r\n\t\tcomboBox1.setModel(comboModel);\r\n\t\tcomboBox1.setSelectedIndex(-1);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\nclass Port {\r\n\tString name;\r\n\r\n\tpublic Port(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Port: &quot; + getName();\r\n\t}\r\n}\r\n```","title":"How to use Object from other class in a JCombobox","body":"<p>The key to your problem is to pass the information to where it is needed by using composition. Objects that need to extract information from another object hold variables of those objects and then call methods on them:</p>\n<pre><code>public class TablBateau extends MainForm {\n    private JPanel panel1;\n    private JTextField textField1;\n    private JComboBox comboBox1;\n    private JCheckBox enMerCheckBox;\n    private JSplitPane rootPanel;\n    private JComboBox comboBox2;\n    private JTable table1;\n    private JButton button1;\n    private JButton resetButton;\n    private JButton button2;\n    private JButton button3;\n    public List&lt;Bateau&gt; bateaux;\n\n    private MainForm mainForm;  // add this\n\n    // pass the MainForm into this clas\n    public TablBateau(MainForm mainForm) {\n        this.mainForm = mainForm;\n        \n        button1.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n            }\n        });\n        comboBox1.setModel(new DefaultComboBoxModel(mainForm.getPorts().toArray()));\n    }\n</code></pre>\n<p>You pass the <em>currently displayed</em> MainForm instance into your TablBateau instance when you create the latter, by passing it in as a parameter:</p>\n<pre><code>public class MainForm {\n\n    someListener() {\n        TablBateau tablBateau = new TablBateau(this);\n    }\n}   \n</code></pre>\n<hr />\n<p>For example,</p>\n<p>class PassingInfo:</p>\n<ul>\n<li>Has the main method that starts the Swing GUI</li>\n<li>Creates a MainForm object, puts it into a JFrame, and displays it</li>\n</ul>\n<p>class Port</p>\n<ul>\n<li>Dummy class to represent a Port object.</li>\n<li>This is obviously not the Port class that you are using (but I don't have your code, so I have to use this placeholder class instead)</li>\n</ul>\n<p>class MainForm</p>\n<ul>\n<li>Extends JPanel so that it can be placed into a JFrame or JDialog, or another JPanel, wherever it is needed</li>\n<li>Holds a <code>List&lt;Port&gt; ports</code> variable that is filled with data from a dummy String array</li>\n<li>JButton that displays a modal JDialog that holds the TablBateau JPanel</li>\n<li>Passes the ports list into TablBateau whenever the latter is displayed (not done in constructor in case the ports Port list is changed)</li>\n<li>Displays the above in a modal JDialog so that we will know when a selection is made.</li>\n<li>After a selection is made (code resumes from past the JDialog being made visible), extract the selection from the TablBateau instance and display in this object's JTextField.</li>\n</ul>\n<p>class TablBateau</p>\n<ul>\n<li>Extends JPanel so it can be placed into a JFrame or JDialog or other JPanel,...</li>\n<li>Displays a JComboBox of Ports</li>\n<li>Has a <code>setPorts(...)</code> method that fills the JComboBox.</li>\n<li>ActionListener added to combobox that will dispose of the window that contains this JPanel.</li>\n</ul>\n\n<pre><code>import java.awt.Dialog.ModalityType;\nimport java.awt.Window;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class PassingInfo {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            MainForm mainPanel = new MainForm();\n            \n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationByPlatform(true);\n            frame.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n<pre><code>class MainForm extends JPanel {\n    private static final String[] PORTS = {&quot;Here&quot;, &quot;There&quot;, &quot;Everywhere&quot;, &quot;Yes&quot;, &quot;No&quot;, &quot;You&quot;, &quot;Know&quot;, &quot;What&quot;, &quot;I&quot;, &quot;Mean&quot;};\n    private List&lt;Port&gt; ports;\n    private Port selectedPort = null;\n    private TablBateau tablBateau;\n    private JDialog tablBateauDlg;\n    private JTextField selectedPortField = new JTextField(20);\n    \n    public MainForm() {\n        ports = Arrays.stream(PORTS).map(Port::new).collect(Collectors.toList());\n        \n        JButton showTablBateauButton = new JButton(&quot;Show Tabl Bateau&quot;);\n        showTablBateauButton.addActionListener(e -&gt; showTablBateau());\n        \n        add(showTablBateauButton);\n        \n        add(new JLabel(&quot;Selected Port:&quot;));\n        add(selectedPortField);\n        \n        int eb = 40;\n        setBorder(BorderFactory.createEmptyBorder(eb, eb, eb, eb));\n    }\n    \n    public List&lt;Port&gt; getPorts() {\n        return ports;\n    }\n    \n    private void showTablBateau() {\n        if (tablBateau == null) {\n            tablBateau = new TablBateau();\n            \n            Window windowOwner = SwingUtilities.getWindowAncestor(this);\n            \n            tablBateauDlg = new JDialog(windowOwner, &quot;Tabl Bateau&quot;, ModalityType.APPLICATION_MODAL);\n            tablBateauDlg.add(tablBateau);\n            tablBateauDlg.pack();\n            tablBateauDlg.setLocationByPlatform(true);\n        }\n        \n        tablBateau.setPorts(ports);\n        tablBateauDlg.setVisible(true);\n        \n        selectedPortField.setFocusable(false);\n        selectedPort = tablBateau.getSelectedPort();\n        selectedPortField.setText(selectedPort.getName());\n    }\n}\n</code></pre>\n<pre><code>class TablBateau extends JPanel {\n    private JComboBox&lt;Port&gt; comboBox1 = new JComboBox&lt;&gt;();\n    private List&lt;Port&gt; ports;\n    \n    public TablBateau() {\n        add(comboBox1);\n        comboBox1.setPrototypeDisplayValue(new Port(&quot;ABCDEFGHIJKLMNOP&quot;));\n        \n        comboBox1.addActionListener(e -&gt; itemSelected());\n        \n        int eb = 20;\n        setBorder(BorderFactory.createEmptyBorder(eb, eb, eb, eb));\n\n    }\n    \n    private void itemSelected() {\n        Window windowOwner = SwingUtilities.getWindowAncestor(this);\n        windowOwner.dispose();\n    }\n\n    public Port getSelectedPort() {\n        return (Port) comboBox1.getSelectedItem();\n    }\n\n    public void setPorts(List&lt;Port&gt; ports) {\n        this.ports = ports;\n        DefaultComboBoxModel&lt;Port&gt; comboModel = new DefaultComboBoxModel&lt;Port&gt;(ports.toArray(new Port[] {}));\n        comboBox1.setModel(comboModel);\n        comboBox1.setSelectedIndex(-1);\n    }\n    \n}\n</code></pre>\n<pre><code>class Port {\n    String name;\n\n    public Port(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Port: &quot; + getName();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24440661,"reputation":1,"user_id":18364404,"display_name":"Miinae"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647176305,"creation_date":1647169317,"question_id":71456079,"body_markdown":"I&#39;m new at Java and trying to learn so my apologies if it seems obvious to you :(\r\n\r\nI&#39;m trying to import an ArrayList from another class to my JCombobox. When I import the arraylist in the Combobox from his own class it works but when I call it in the other class it doesn&#39;t work I don&#39;t know why. \r\nI had extended the class btw and the list isn&#39;t private.\r\n\r\nMy arraylist is empty at first so maybe this is the problem? \r\nIs it possible to save the new arraylist at the end of the execution of my frame?\r\nThis is the code where the Arraylist is located :\r\n\r\n    public class MainForm {\r\n    private JTextField textField1;\r\n    private JButton resetButton;\r\n    private JButton saveButton;\r\n    private JTable tablePort;\r\n    public JSpinner spinner1;\r\n    private JButton updateButton;\r\n    private JPanel jpan;\r\n    private JScrollPane porttabl;\r\n    private JSplitPane rootPanel;\r\n    private JComboBox comboBox1;\r\n    public List&lt;Port&gt; ports;\r\n    private tablePort model;\r\n    private  SpinnerModel limit;\r\n    private Port selectport;\r\n    private int selectedIndex;\r\n\r\n    public List&lt;Port&gt; getPorts() {\r\n        return ports;\r\n    }\r\n\r\n    public List&lt;Port&gt; setPorts(List&lt;Port&gt; a){\r\n        this.ports = a;\r\n        return ports;\r\n    }\r\n    public MainForm() {\r\n        ports = new ArrayList&lt;Port&gt;();\r\n        model = new tablePort(ports);\r\n        tablePort.setModel(model);\r\n        limit = new SpinnerNumberModel(0,0,10,1);\r\n        spinner1.setModel(limit);\r\n\r\n\r\n        saveButton.addActionListener(e-&gt; {\r\n            if(textField1.getText().equals(&quot;&quot;)){\r\n                JOptionPane.showMessageDialog(null,&quot;Il faut rentrer un nom pour votre b&#226;teau&quot;,&quot;Erreur&quot;,0);\r\n            }else {\r\n                int p = (int) spinner1.getValue();\r\n                Port a = new Port(textField1, 0, 0, spinner1);\r\n                ports.add(a);\r\n                model.fireTableDataChanged();\r\n                comboBox1.setModel(new DefaultComboBoxModel(ports.toArray()));\r\n                setPorts(ports);\r\n                System.out.println(ports);\r\n                System.out.println(model);\r\n                System.out.println(a.getNom());\r\n                System.out.println(a.quais.nbQuai);\r\n                clear();\r\n            }\r\n        });\r\n\r\nAnd here where i want my list :\r\n\r\n    public class TablBateau extends MainForm {\r\n    private JPanel panel1;\r\n    private JTextField textField1;\r\n    private JComboBox comboBox1;\r\n    private JCheckBox enMerCheckBox;\r\n    private JSplitPane rootPanel;\r\n    private JComboBox comboBox2;\r\n    private JTable table1;\r\n    private JButton button1;\r\n    private JButton resetButton;\r\n    private JButton button2;\r\n    private JButton button3;\r\n    public List&lt;Bateau&gt; bateaux;\r\n\r\n    public TablBateau() {\r\n        button1.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n\r\n            }\r\n        });\r\n        comboBox1.setModel(new DefaultComboBoxModel(ports.toArray()));\r\n    }","title":"How to use Object from other class in a JCombobox","body":"<p>I'm new at Java and trying to learn so my apologies if it seems obvious to you :(</p>\n<p>I'm trying to import an ArrayList from another class to my JCombobox. When I import the arraylist in the Combobox from his own class it works but when I call it in the other class it doesn't work I don't know why.\nI had extended the class btw and the list isn't private.</p>\n<p>My arraylist is empty at first so maybe this is the problem?\nIs it possible to save the new arraylist at the end of the execution of my frame?\nThis is the code where the Arraylist is located :</p>\n<pre><code>public class MainForm {\nprivate JTextField textField1;\nprivate JButton resetButton;\nprivate JButton saveButton;\nprivate JTable tablePort;\npublic JSpinner spinner1;\nprivate JButton updateButton;\nprivate JPanel jpan;\nprivate JScrollPane porttabl;\nprivate JSplitPane rootPanel;\nprivate JComboBox comboBox1;\npublic List&lt;Port&gt; ports;\nprivate tablePort model;\nprivate  SpinnerModel limit;\nprivate Port selectport;\nprivate int selectedIndex;\n\npublic List&lt;Port&gt; getPorts() {\n    return ports;\n}\n\npublic List&lt;Port&gt; setPorts(List&lt;Port&gt; a){\n    this.ports = a;\n    return ports;\n}\npublic MainForm() {\n    ports = new ArrayList&lt;Port&gt;();\n    model = new tablePort(ports);\n    tablePort.setModel(model);\n    limit = new SpinnerNumberModel(0,0,10,1);\n    spinner1.setModel(limit);\n\n\n    saveButton.addActionListener(e-&gt; {\n        if(textField1.getText().equals(&quot;&quot;)){\n            JOptionPane.showMessageDialog(null,&quot;Il faut rentrer un nom pour votre bteau&quot;,&quot;Erreur&quot;,0);\n        }else {\n            int p = (int) spinner1.getValue();\n            Port a = new Port(textField1, 0, 0, spinner1);\n            ports.add(a);\n            model.fireTableDataChanged();\n            comboBox1.setModel(new DefaultComboBoxModel(ports.toArray()));\n            setPorts(ports);\n            System.out.println(ports);\n            System.out.println(model);\n            System.out.println(a.getNom());\n            System.out.println(a.quais.nbQuai);\n            clear();\n        }\n    });\n</code></pre>\n<p>And here where i want my list :</p>\n<pre><code>public class TablBateau extends MainForm {\nprivate JPanel panel1;\nprivate JTextField textField1;\nprivate JComboBox comboBox1;\nprivate JCheckBox enMerCheckBox;\nprivate JSplitPane rootPanel;\nprivate JComboBox comboBox2;\nprivate JTable table1;\nprivate JButton button1;\nprivate JButton resetButton;\nprivate JButton button2;\nprivate JButton button3;\npublic List&lt;Bateau&gt; bateaux;\n\npublic TablBateau() {\n    button1.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n        }\n    });\n    comboBox1.setModel(new DefaultComboBoxModel(ports.toArray()));\n}\n</code></pre>\n"},{"tags":["java","spring-boot","logback"],"comments":[{"owner":{"account_id":22421325,"reputation":106,"user_id":16628567,"display_name":"KyreX"},"score":0,"creation_date":1647177492,"post_id":71456953,"comment_id":126300633,"body_markdown":"Did you check your program has the necessary permissions to write to that directory?","body":"Did you check your program has the necessary permissions to write to that directory?"},{"owner":{"account_id":3762093,"reputation":1,"user_id":3126711,"display_name":"TheNightMare"},"score":0,"creation_date":1647237495,"post_id":71456953,"comment_id":126311456,"body_markdown":"Yes, the app is running as root, and as I said the archive directories are created but not the log files ( also I tried to use the &quot;/otherDirectory/archive&quot; for both the active and archived log and worked fine. so I am sure its not permission issue)","body":"Yes, the app is running as root, and as I said the archive directories are created but not the log files ( also I tried to use the &quot;/otherDirectory/archive&quot; for both the active and archived log and worked fine. so I am sure its not permission issue)"}],"owner":{"account_id":3762093,"reputation":1,"user_id":3126711,"display_name":"TheNightMare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647176147,"creation_date":1647176147,"question_id":71456953,"body_markdown":"```\r\n&lt;appender name=&quot;MAIN&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;file&gt;${LOG_DIR}/your-app-logs.log&lt;/file&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n        &lt;!-- daily rollover --&gt;\r\n        &lt;fileNamePattern&gt;${LOG_GZ_DIR}/your-app-logs.%d{yyyy-MM-dd}.log.gz&lt;/fileNamePattern&gt;\r\n        &lt;!-- keep 90 days&#39; worth of history capped at 3GB total size --&gt;\r\n        &lt;maxHistory&gt;90&lt;/maxHistory&gt;\r\n    &lt;/rollingPolicy&gt;\r\n&lt;/appender&gt;\r\n```\r\n\r\nI&#39;m facing issue with logback where if I set the archive path same as the path of the parent it works well for example if I set \r\n```\r\n${LOG_DIR}=/someDirectory and ${LOG_GZ_DIR}=/someDirectory/archive\r\n```\r\nbut when I try to set the two paths to completely different locations for example \r\n```\r\n${LOG_DIR}=/someDirectory ,  ${LOG_GZ_DIR}=/otherDirectory/archive\r\n```\r\nthen I can that /otherDirectory/archive is created but no archive files created there.\r\nis there a way to make this work the archive has to start as the parent path ?","title":"store archived logback files in a completely separate path","body":"<pre><code>&lt;appender name=&quot;MAIN&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOG_DIR}/your-app-logs.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;!-- daily rollover --&gt;\n        &lt;fileNamePattern&gt;${LOG_GZ_DIR}/your-app-logs.%d{yyyy-MM-dd}.log.gz&lt;/fileNamePattern&gt;\n        &lt;!-- keep 90 days' worth of history capped at 3GB total size --&gt;\n        &lt;maxHistory&gt;90&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>I'm facing issue with logback where if I set the archive path same as the path of the parent it works well for example if I set</p>\n<pre><code>${LOG_DIR}=/someDirectory and ${LOG_GZ_DIR}=/someDirectory/archive\n</code></pre>\n<p>but when I try to set the two paths to completely different locations for example</p>\n<pre><code>${LOG_DIR}=/someDirectory ,  ${LOG_GZ_DIR}=/otherDirectory/archive\n</code></pre>\n<p>then I can that /otherDirectory/archive is created but no archive files created there.\nis there a way to make this work the archive has to start as the parent path ?</p>\n"},{"tags":["java","image","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1647103225,"post_id":71451242,"comment_id":126291490,"body_markdown":"Just load them in the [background](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String,boolean))","body":"Just load them in the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String,boolean)\" rel=\"nofollow noreferrer\">background</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647176110,"creation_date":1647132793,"answer_id":71453692,"question_id":71451242,"body_markdown":"Load the image in the [background](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String,boolean)), by setting the `backgroundLoading` parameter to `true`:\r\n\r\n    ImageView view = new ImageView(\r\n        new Image(url, true)\r\n    );\r\n\r\nThe ImageView will automatically display the image when it has completed loading.\r\n\r\nFrom the [Image](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html) javadoc:\r\n\r\n &gt;     // load an image in background, displaying a placeholder while it&#39;s loading\r\n &gt;     // (assuming there&#39;s an ImageView node somewhere displaying this image)\r\n &gt;     // The image is located in default package of the classpath\r\n &gt;     Image image1 = new Image(&quot;/flower.png&quot;, true);","title":"JavaFX : How to progressively display multiple images after being loaded","body":"<p>Load the image in the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String,boolean)\" rel=\"nofollow noreferrer\">background</a>, by setting the <code>backgroundLoading</code> parameter to <code>true</code>:</p>\n<pre><code>ImageView view = new ImageView(\n    new Image(url, true)\n);\n</code></pre>\n<p>The ImageView will automatically display the image when it has completed loading.</p>\n<p>From the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\">Image</a> javadoc:</p>\n<blockquote>\n<pre><code>// load an image in background, displaying a placeholder while it's loading\n// (assuming there's an ImageView node somewhere displaying this image)\n// The image is located in default package of the classpath\nImage image1 = new Image(&quot;/flower.png&quot;, true);\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":24537258,"reputation":29,"user_id":18448164,"display_name":"XStreamDevDream"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1647176110,"creation_date":1647101857,"question_id":71451242,"body_markdown":"I am creating a JavaFX application that loads multiple images from the internet (about 50)\r\n\r\nThe problem is that when I load all the images (with a thread), it displays them all at once which slows down the process.\r\n\r\nI would like to display the images one by one when they have finished loading instead of displaying all at once **(like [YouTube][1]).**\r\n\r\nI have been looking for a solution to this question for several days but I have not found anything...\r\n\r\nThank you in advance &#128515;\r\n\r\n\r\n  [1]: https://www.youtube.com/","title":"JavaFX : How to progressively display multiple images after being loaded","body":"<p>I am creating a JavaFX application that loads multiple images from the internet (about 50)</p>\n<p>The problem is that when I load all the images (with a thread), it displays them all at once which slows down the process.</p>\n<p>I would like to display the images one by one when they have finished loading instead of displaying all at once <strong>(like <a href=\"https://www.youtube.com/\" rel=\"nofollow noreferrer\">YouTube</a>).</strong></p>\n<p>I have been looking for a solution to this question for several days but I have not found anything...</p>\n<p>Thank you in advance </p>\n"},{"tags":["java","primes"],"comments":[{"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"score":2,"creation_date":1444617033,"post_id":33072353,"comment_id":53962682,"body_markdown":"Why are you doing num+=2 regardless of what happens in your for loop?","body":"Why are you doing num+=2 regardless of what happens in your for loop?"},{"owner":{"account_id":6584848,"reputation":513,"user_id":5087881,"accept_rate":100,"display_name":"Wyatt Lowery"},"score":0,"creation_date":1444617173,"post_id":33072353,"comment_id":53962722,"body_markdown":"@ergonaut Prime numbers can&#39;t be even, so if you add 2, you skip the even numbers.","body":"@ergonaut Prime numbers can&#39;t be even, so if you add 2, you skip the even numbers."},{"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"score":2,"creation_date":1444617217,"post_id":33072353,"comment_id":53962734,"body_markdown":"@WyattLowery I know, but he&#39;s doing it in either branch.","body":"@WyattLowery I know, but he&#39;s doing it in either branch."},{"owner":{"account_id":47622,"reputation":148548,"user_id":141172,"accept_rate":88,"display_name":"Eric J."},"score":2,"creation_date":1444617319,"post_id":33072353,"comment_id":53962761,"body_markdown":"The best thing you can do in this situation is step through in a debugger.  If you don&#39;t know how to use a debugger, now is the time to learn.","body":"The best thing you can do in this situation is step through in a debugger.  If you don&#39;t know how to use a debugger, now is the time to learn."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1444618812,"post_id":33072353,"comment_id":53963079,"body_markdown":"In order to find the N&#39;th prime, you first need to find the N-1 previous primes, which means you will know all the lower primes, so you can *greatly* improved the performance of you algorithm by remembering those N-1 primes and only check those, when continuing the search for the N&#39;th prime.","body":"In order to find the N&#39;th prime, you first need to find the N-1 previous primes, which means you will know all the lower primes, so you can <i>greatly</i> improved the performance of you algorithm by remembering those N-1 primes and only check those, when continuing the search for the N&#39;th prime."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1532338886,"post_id":33072353,"comment_id":89919731,"body_markdown":"`prime = true;` just before `for` and on finding non-prime break. Tips: `if (!nonprime)`, and use `root`  instead of `square` &#178;.","body":"<code>prime = true;</code> just before <code>for</code> and on finding non-prime break. Tips: <code>if (!nonprime)</code>, and use <code>root</code>  instead of <code>square</code> &#178;."}],"answers":[{"tags":[],"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444617301,"creation_date":1444617301,"answer_id":33072435,"question_id":33072353,"body_markdown":"Check this loop:\r\n\r\n    for (int i=3; i &lt;= square; i++){\r\n            if (num % i == 0){\r\n                num+=2;\r\n            }\r\n            else {\r\n                prime++;\r\n                num+=2;\r\n            }\r\n        }\r\n\r\nIt appears you want to loop through all odd numbers up to the square root of your number.  If one of them divides, then it should STOP the loop and mark it as a non-prime.  If it doesn&#39;t divide any number, you should mark it as a prime, but even that should be done after the loop has completed. (eg. when i &gt; square)\r\n\r\nI don&#39;t want to give you the answer as it appears you want to fix your existing loop yourself.  But one strategy is to mark it as a non-prime (in a boolean) for example, and then after the loop, check the boolean and increment your prime count (prime++) if the boolean indicates it is a prime.  Remember to reinitialize the boolean so that it will be set correctly next time it hits the for loop.","title":"Find the nth prime number","body":"<p>Check this loop:</p>\n\n<pre><code>for (int i=3; i &lt;= square; i++){\n        if (num % i == 0){\n            num+=2;\n        }\n        else {\n            prime++;\n            num+=2;\n        }\n    }\n</code></pre>\n\n<p>It appears you want to loop through all odd numbers up to the square root of your number.  If one of them divides, then it should STOP the loop and mark it as a non-prime.  If it doesn't divide any number, you should mark it as a prime, but even that should be done after the loop has completed. (eg. when i > square)</p>\n\n<p>I don't want to give you the answer as it appears you want to fix your existing loop yourself.  But one strategy is to mark it as a non-prime (in a boolean) for example, and then after the loop, check the boolean and increment your prime count (prime++) if the boolean indicates it is a prime.  Remember to reinitialize the boolean so that it will be set correctly next time it hits the for loop.</p>\n"},{"tags":[],"owner":{"account_id":7097199,"reputation":61,"user_id":5430266,"display_name":"Sanjay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444651342,"creation_date":1444651342,"answer_id":33080637,"question_id":33072353,"body_markdown":"Create another method to check whether number is prime or not and use while loop to get the primes.\r\n\r\n    public static void main(String[] args) {\r\n\t\t...\r\n\t\t\r\n\t\tif (nthprime == 1) {\r\n\t\t\tSystem.out.println(&quot;The nth prime number is: 2&quot;);\r\n\t\t} else {\r\n\t\t\tint num = 3;\r\n\t\t\t\r\n\t\t\tfor (int i = 2; i &lt;= nthPrime; i++) {\r\n\t\t\t\twhile(!isPrime(num)) {\r\n\t\t\t\t\tnum += 2;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tnum += 2;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;The nth prime number is: &quot;+ (num - 2));\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static boolean isPrime(int n) {\r\n\t\tint sqrt = (int) Math.sqrt(n);\r\n\t\t\r\n\t\tfor (int i = 2; i &lt;= sqrt; i++) {\r\n\t\t\tif (n % i == 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}","title":"Find the nth prime number","body":"<p>Create another method to check whether number is prime or not and use while loop to get the primes.</p>\n\n<pre><code>public static void main(String[] args) {\n    ...\n\n    if (nthprime == 1) {\n        System.out.println(\"The nth prime number is: 2\");\n    } else {\n        int num = 3;\n\n        for (int i = 2; i &lt;= nthPrime; i++) {\n            while(!isPrime(num)) {\n                num += 2;\n            }\n\n            num += 2;\n        }\n\n        System.out.println(\"The nth prime number is: \"+ (num - 2));\n    }\n}\n\nprivate static boolean isPrime(int n) {\n    int sqrt = (int) Math.sqrt(n);\n\n    for (int i = 2; i &lt;= sqrt; i++) {\n        if (n % i == 0) {\n            return false;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14006777,"reputation":33,"user_id":10116675,"display_name":"Mohammad Zaid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532338481,"creation_date":1532336167,"answer_id":51474982,"question_id":33072353,"body_markdown":"    import java.util.Scanner;\r\n    public class NewNthPrime {\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int t = in.nextInt();\r\n            for(int a0 = 0; a0 &lt; t; a0++){\r\n                boolean flag = false;\r\n                int n = in.nextInt();\r\n                int[] prime = new int[n];\r\n                prime[0] = 2;\r\n                int i = 3,j=1;\r\n                \r\n                while(j&lt;n){\r\n                    for(int y=0;y&lt;prime.length;y++){\r\n                        if(prime[y]==0){\r\n                            break;\r\n                        }\r\n                        else if (i%prime[y]==0){\r\n                           flag = true;\r\n                           break;\r\n                        }\r\n                    }\r\n                    if(!flag){\r\n                       prime[j++]=i;\r\n                    }\r\n                    flag =false;\r\n                    i+=2;\r\n                }\r\n                System.out.println(prime[n-1]);\r\n            }\r\n        }\r\n    }\r\nhere i declare an array named prime which stores all prime numbers. The while loop section checks whether any prime numbers which is stored in array-prime[] divides the number &#39;i&#39; (**which are only odd no.**) or not. If it does then flag becomes true and we skip for the next number &#39;i&#39;. Here inside while i also check if number inside array is zero then it break the for loop because we can&#39;t have any more prime numbers in prime array.\r\nnow if the number &#39;i&#39; isn&#39;t divisible by any prime number which is in array then &#39;flag&#39; remains false and &#39;i&#39; put inside array prime[].","title":"Find the nth prime number","body":"<pre><code>import java.util.Scanner;\npublic class NewNthPrime {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int t = in.nextInt();\n        for(int a0 = 0; a0 &lt; t; a0++){\n            boolean flag = false;\n            int n = in.nextInt();\n            int[] prime = new int[n];\n            prime[0] = 2;\n            int i = 3,j=1;\n\n            while(j&lt;n){\n                for(int y=0;y&lt;prime.length;y++){\n                    if(prime[y]==0){\n                        break;\n                    }\n                    else if (i%prime[y]==0){\n                       flag = true;\n                       break;\n                    }\n                }\n                if(!flag){\n                   prime[j++]=i;\n                }\n                flag =false;\n                i+=2;\n            }\n            System.out.println(prime[n-1]);\n        }\n    }\n}\n</code></pre>\n\n<p>here i declare an array named prime which stores all prime numbers. The while loop section checks whether any prime numbers which is stored in array-prime[] divides the number 'i' (<strong>which are only odd no.</strong>) or not. If it does then flag becomes true and we skip for the next number 'i'. Here inside while i also check if number inside array is zero then it break the for loop because we can't have any more prime numbers in prime array.\nnow if the number 'i' isn't divisible by any prime number which is in array then 'flag' remains false and 'i' put inside array prime[].</p>\n"},{"tags":[],"owner":{"account_id":12210093,"reputation":43,"user_id":8912094,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647175034,"creation_date":1647175034,"answer_id":71456815,"question_id":33072353,"body_markdown":"Sorry, I haven&#39;t got time to look into your problem, but I think we can also find nth prime number this way as well:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;Enter nth position for which you want to find prime number &quot;);\r\n\t\tScanner sc  = new Scanner(System.in);\t\t\r\n\t\tint k = sc.nextInt();\r\n\t\tfindnthprimenumber(k);\t\r\n\t}\r\n\r\n\tprivate static void findnthprimenumber(int k) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint count=0;\r\n\t\tint j=2;\t\r\n\t\tint l =0;\r\n\t\twhile(l&lt;k){\r\n\t\t\tfor(int i=2;i&lt;=j/2;i++)\r\n\t\t\t{\r\n\t\t\t\tif(j%i != 0)\t\t\t\t\r\n\t\t\t\t\tcontinue;\t\t\t\t\r\n\t\t\t\telse \r\n\t\t\t\t\tcount++;\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} \r\n\t\t\tif(count == 0) {\r\n\t\t\t\tif(l==(k-1))\r\n\t\t\t\tSystem.out.println(&quot;Prime number on &quot;+ k +&quot;th position is &quot;+ j);\r\n\t\t\t\tl++;\r\n\t\t\t}\r\n\t\t\tcount=0;\r\n\t\t\tj++;\r\n\t\t}\r\n\t}","title":"Find the nth prime number","body":"<p>Sorry, I haven't got time to look into your problem, but I think we can also find nth prime number this way as well:</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    System.out.println(&quot;Enter nth position for which you want to find prime number &quot;);\n    Scanner sc  = new Scanner(System.in);       \n    int k = sc.nextInt();\n    findnthprimenumber(k);  \n}\n\nprivate static void findnthprimenumber(int k) {\n    // TODO Auto-generated method stub\n    int count=0;\n    int j=2;    \n    int l =0;\n    while(l&lt;k){\n        for(int i=2;i&lt;=j/2;i++)\n        {\n            if(j%i != 0)                \n                continue;               \n            else \n                count++;                                                    \n        } \n        if(count == 0) {\n            if(l==(k-1))\n            System.out.println(&quot;Prime number on &quot;+ k +&quot;th position is &quot;+ j);\n            l++;\n        }\n        count=0;\n        j++;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7104986,"reputation":53,"user_id":5434935,"accept_rate":25,"display_name":"J. Baker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3086,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1647175034,"creation_date":1444616701,"question_id":33072353,"body_markdown":"I don&#39;t know why my code won&#39;t work when I input certain nthprime numbers. I have tried to alter my code a couple of times but for every one nthprime I make it work, I make it worse for others. So if I change my code to make it work for nthprime=8, I realize nthprime=7 and some others stop working. Can anyone point out a specific flaw I made or maybe I should rethink the outline of my code. Thank you. \r\n\r\n\r\n    \r\n    public class NthPrime {\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint nthprime;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter value for n:&quot;);\r\n\t\tnthprime=IO.readInt();\r\n\t\t\r\n\t\twhile(nthprime &lt;= 0){\r\n\t\t\tSystem.out.println(&quot;Enter a positive value for n&quot;);\r\n\t\t\tnthprime=IO.readInt();\r\n\t\t}\r\n\t\t\r\n\t\tif(nthprime == 1){\r\n\t\t\tSystem.out.println(&quot;The nth prime number is: &quot;+2);\r\n\t\t}\r\n\t\tif(nthprime == 2){\r\n\t\t\tSystem.out.println(&quot;The nth prime number is: &quot;+3);\r\n\t\t}\r\n\t\t\r\n\t\tif(nthprime &gt; 2){\r\n\t\t\t\r\n\t\tint prime=2; \r\n\t\tint num=3;\r\n\t\tint square;\r\n\t\tboolean nonprime=false;\r\n\t\t\r\n\t\twhile(prime &lt; nthprime){\r\n\t\t\tprime++;\r\n\t\t\tnum+=2;\r\n\t\t\tsquare = (int) Math.sqrt(num);\r\n\t\t\tfor (int i=3; i &lt;= square; i++){\r\n\t\t\t\tif (num % i == 0){\r\n\t\t\t\t\tnonprime=true;\r\n\t\t\t\t\tnum+=2;\r\n\t\t\t\t}\r\n\t\t\t\tif(nonprime==false){\r\n\t\t\t\t\tprime++;\r\n\t\t\t\t\tnum+=2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;The nth prime number is: &quot;+num);\r\n\t\t}\r\n\t}\r\n}","title":"Find the nth prime number","body":"<p>I don't know why my code won't work when I input certain nthprime numbers. I have tried to alter my code a couple of times but for every one nthprime I make it work, I make it worse for others. So if I change my code to make it work for nthprime=8, I realize nthprime=7 and some others stop working. Can anyone point out a specific flaw I made or maybe I should rethink the outline of my code. Thank you. </p>\n\n<pre><code>public class NthPrime {\n\npublic static void main(String[] args) {\n\n    int nthprime;\n\n    System.out.println(\"Enter value for n:\");\n    nthprime=IO.readInt();\n\n    while(nthprime &lt;= 0){\n        System.out.println(\"Enter a positive value for n\");\n        nthprime=IO.readInt();\n    }\n\n    if(nthprime == 1){\n        System.out.println(\"The nth prime number is: \"+2);\n    }\n    if(nthprime == 2){\n        System.out.println(\"The nth prime number is: \"+3);\n    }\n\n    if(nthprime &gt; 2){\n\n    int prime=2; \n    int num=3;\n    int square;\n    boolean nonprime=false;\n\n    while(prime &lt; nthprime){\n        prime++;\n        num+=2;\n        square = (int) Math.sqrt(num);\n        for (int i=3; i &lt;= square; i++){\n            if (num % i == 0){\n                nonprime=true;\n                num+=2;\n            }\n            if(nonprime==false){\n                prime++;\n                num+=2;\n            }\n        }\n    }\n    System.out.println(\"The nth prime number is: \"+num);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","linux","ubuntu"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647173065,"creation_date":1647173065,"answer_id":71456580,"question_id":71456503,"body_markdown":"It probably in your PATH environment variable there is a path to your old java installation. Update your PATH to have the path to your new java installation to be at least before the old one or better yet remove the path to the old version from your PATH. to check that this IS your problem invoke your new &#39;java&#39; command with full path: \r\n\r\n    /path/to/java17/bin/java -version\r\nAnd see that you will see version 17. If so then it is most likely your PATH still pointing to the old version that is the cause of your problem","title":"Java version does not change on Linux","body":"<p>It probably in your PATH environment variable there is a path to your old java installation. Update your PATH to have the path to your new java installation to be at least before the old one or better yet remove the path to the old version from your PATH. to check that this IS your problem invoke your new 'java' command with full path:</p>\n<pre><code>/path/to/java17/bin/java -version\n</code></pre>\n<p>And see that you will see version 17. If so then it is most likely your PATH still pointing to the old version that is the cause of your problem</p>\n"}],"owner":{"account_id":24543161,"reputation":1,"user_id":18453362,"display_name":"Schoko Banane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647173113,"creation_date":1647172567,"question_id":71456503,"body_markdown":"I&#39;ve installed Java 17 on my Ubuntu, it is in the usr/lib/jvm folder, and I can use it in e.g. Intellij IDEA, but when I check the Java version with &#39;java -version&#39; or &#39;javac -version&#39;, it still returns &#39;openjdk version 11.0.14&#39;. And Java 17 is not visible when I tried to change to it in &#39;sudo update-alternatives --config java&#39;. What can be the problem?","title":"Java version does not change on Linux","body":"<p>I've installed Java 17 on my Ubuntu, it is in the usr/lib/jvm folder, and I can use it in e.g. Intellij IDEA, but when I check the Java version with 'java -version' or 'javac -version', it still returns 'openjdk version 11.0.14'. And Java 17 is not visible when I tried to change to it in 'sudo update-alternatives --config java'. What can be the problem?</p>\n"},{"tags":["java","spring","exception","spring-batch","chunks"],"answers":[{"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512973228,"creation_date":1512973228,"answer_id":47747436,"question_id":47718393,"body_markdown":"I think you can explore below two options.\r\n\r\n**Option 1 :** You Can use `noSkip` **Exception**. \r\n\r\nThis Explicitly prevent certain exceptions (and subclasses) from being skipped\r\nThrow some specific Exception for which you want to fail the job.    \r\n\r\nThis is how you can configure hat \r\n\r\n    stepBuilderFactory.get(&quot;myStep&quot;)\r\n                    .&lt;POJO, POJO&gt; chunk(1000)\r\n                    .reader(reader)\r\n                    .processor(processor)\r\n                    .writer(writer)\r\n                    .faultTolerant()\r\n                    .noSkip(YourCustomException.class)\r\n    \t\t\t\t.skip(Exception.class)\r\n    \t\t\t\t.skipLimit(100) \r\n\r\n****Option 2** :** You can use set the exit status to **FAILED** for error flow   in after step is completed   \r\n\r\n\r\n    public class MyStepExecutionListener implements StepExecutionListener {\r\n    \r\n    \t@Override\r\n    \tpublic ExitStatus afterStep(StepExecution stepExecution) {\r\n    \t\r\n    \t\r\n    \tif(allIsGood()) // \r\n    \t{\r\n             return ExitStatus.COMPLETED;\r\n    \t}\r\n    \telse if (someExceptionOrErrorCase()){\t\r\n\r\n    \t\treturn ExitStatus.FAILED;\r\n    \t}\r\n     }\r\n     \r\n     }\r\n\r\nHope this helps \r\n","title":"Aborting a Batch Job during a chunk-based step","body":"<p>I think you can explore below two options.</p>\n\n<p><strong>Option 1 :</strong> You Can use <code>noSkip</code> <strong>Exception</strong>. </p>\n\n<p>This Explicitly prevent certain exceptions (and subclasses) from being skipped\nThrow some specific Exception for which you want to fail the job.    </p>\n\n<p>This is how you can configure hat </p>\n\n<pre><code>stepBuilderFactory.get(\"myStep\")\n                .&lt;POJO, POJO&gt; chunk(1000)\n                .reader(reader)\n                .processor(processor)\n                .writer(writer)\n                .faultTolerant()\n                .noSkip(YourCustomException.class)\n                .skip(Exception.class)\n                .skipLimit(100) \n</code></pre>\n\n<p>****Option 2** :** You can use set the exit status to <strong>FAILED</strong> for error flow   in after step is completed   </p>\n\n<pre><code>public class MyStepExecutionListener implements StepExecutionListener {\n\n    @Override\n    public ExitStatus afterStep(StepExecution stepExecution) {\n\n\n    if(allIsGood()) // \n    {\n         return ExitStatus.COMPLETED;\n    }\n    else if (someExceptionOrErrorCase()){   \n\n        return ExitStatus.FAILED;\n    }\n }\n\n }\n</code></pre>\n\n<p>Hope this helps </p>\n"},{"tags":[],"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1550738168,"creation_date":1550738168,"answer_id":54802565,"question_id":47718393,"body_markdown":"As far as I know, the only way to stop the job is to throw an exception. There was no other graceful way of telling Spring Batch &quot;This job is done, it failed, go directly to Failed, do not pass GO, etc.&quot;\r\n\r\nAlthough not a direct solution to the original problem, one can use the `.exceptionHandler()` of a `StepBuilder` to gain more control over the exceptions you throw, e.g. logging them.\r\n\r\n    public class LogAndRethrowExceptionHandler implements ExceptionHandler {\r\n        private static final Logger LOGGER = Logger.getLogger(...);\r\n\r\n        @Override\r\n        public void handleException(RepeatContext repeatContext, Throwable throwable) throws Throwable {\r\n            LOGGER.error(throwable.getMessage());\r\n            throw throwable;\r\n        }\r\n    }\r\n\r\nThis way you may, in theory, hide the stack traces produced by Spring Batch but still show the error messages.","title":"Aborting a Batch Job during a chunk-based step","body":"<p>As far as I know, the only way to stop the job is to throw an exception. There was no other graceful way of telling Spring Batch \"This job is done, it failed, go directly to Failed, do not pass GO, etc.\"</p>\n\n<p>Although not a direct solution to the original problem, one can use the <code>.exceptionHandler()</code> of a <code>StepBuilder</code> to gain more control over the exceptions you throw, e.g. logging them.</p>\n\n<pre><code>public class LogAndRethrowExceptionHandler implements ExceptionHandler {\n    private static final Logger LOGGER = Logger.getLogger(...);\n\n    @Override\n    public void handleException(RepeatContext repeatContext, Throwable throwable) throws Throwable {\n        LOGGER.error(throwable.getMessage());\n        throw throwable;\n    }\n}\n</code></pre>\n\n<p>This way you may, in theory, hide the stack traces produced by Spring Batch but still show the error messages.</p>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647172521,"creation_date":1646257417,"answer_id":71329510,"question_id":47718393,"body_markdown":"In my case I ended up adding conditions and throwing `JobInterruptedException` in both Reader and Processor\r\n\r\n```java\r\nimport org.springframework.batch.core.BatchStatus;\r\nimport org.springframework.batch.core.JobInterruptedException;\r\n\r\npublic class CustomReader implements ItemReader&lt;String&gt; {\r\n\r\n  @Override\r\n  public String read() throws Exception {\r\n    // ...\r\n\r\n    // if (&quot;condition to stop job&quot;) {\r\n      throw new JobInterruptedException(&quot;Aborting Job&quot;, BatchStatus.ABANDONED);\r\n    // }\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Aborting a Batch Job during a chunk-based step","body":"<p>In my case I ended up adding conditions and throwing <code>JobInterruptedException</code> in both Reader and Processor</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.batch.core.BatchStatus;\nimport org.springframework.batch.core.JobInterruptedException;\n\npublic class CustomReader implements ItemReader&lt;String&gt; {\n\n  @Override\n  public String read() throws Exception {\n    // ...\n\n    // if (&quot;condition to stop job&quot;) {\n      throw new JobInterruptedException(&quot;Aborting Job&quot;, BatchStatus.ABANDONED);\n    // }\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2760,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54802565,"answer_count":3,"score":3,"last_activity_date":1647172521,"creation_date":1512750482,"question_id":47718393,"body_markdown":"I have a somewhat linear job set up in Spring Batch that consists of several steps. If, at any point, a single step fails, the job should fail.\r\n\r\nThe steps consist of a number of tasklets followed by a chunk-based step. I.e.:\r\n\r\n* Step 1\r\n * Tasklet 1\r\n* Step 2\r\n * Tasklet 2\r\n* Step 3\r\n * Reader\r\n * Processor\r\n * Writer\r\n\r\nIf something goes wrong, the obvious thing to do is throw an Exception. Spring Batch will handle this and log everything. This behaviour, particularly printing the stack trace, is undesirable, and it would be better if the Job could be ended gracefully with the Status set to `FAILED`.\r\n\r\nThe Tasklets currently set the `ExitStatus` directly on the `StepContribution`. They are also built using a flow (which wasn&#39;t ideal, but the steps continue unhindered otherwise). The issues can then be handled directly in the Tasklet.\r\n\r\nHowever, we have no access to the `StepContribution` in the chunk-based approach. We only have the `StepExecution`. Using `setExitStatus` does nothing here.\r\n\r\nWe are using the builders (`JobBuilerFactory` and `StepBuilderFactory`), not the XML setups.\r\n\r\n### The potential solutions:\r\n\r\n1. Tell or configure Batch how to handle exceptions (not to print a stack trace).\r\n2. Catch the exception in a listener. Unfortunately, the exception has already been caught by Spring Batch by the time it gets to the `@AfterStep`.\r\n3. Tell the step/job that we do not want to continue (e.g. setting a value in the execution context or an alternative for the `StepContribution`.","title":"Aborting a Batch Job during a chunk-based step","body":"<p>I have a somewhat linear job set up in Spring Batch that consists of several steps. If, at any point, a single step fails, the job should fail.</p>\n\n<p>The steps consist of a number of tasklets followed by a chunk-based step. I.e.:</p>\n\n<ul>\n<li>Step 1\n\n<ul>\n<li>Tasklet 1</li>\n</ul></li>\n<li>Step 2\n\n<ul>\n<li>Tasklet 2</li>\n</ul></li>\n<li>Step 3\n\n<ul>\n<li>Reader</li>\n<li>Processor</li>\n<li>Writer</li>\n</ul></li>\n</ul>\n\n<p>If something goes wrong, the obvious thing to do is throw an Exception. Spring Batch will handle this and log everything. This behaviour, particularly printing the stack trace, is undesirable, and it would be better if the Job could be ended gracefully with the Status set to <code>FAILED</code>.</p>\n\n<p>The Tasklets currently set the <code>ExitStatus</code> directly on the <code>StepContribution</code>. They are also built using a flow (which wasn't ideal, but the steps continue unhindered otherwise). The issues can then be handled directly in the Tasklet.</p>\n\n<p>However, we have no access to the <code>StepContribution</code> in the chunk-based approach. We only have the <code>StepExecution</code>. Using <code>setExitStatus</code> does nothing here.</p>\n\n<p>We are using the builders (<code>JobBuilerFactory</code> and <code>StepBuilderFactory</code>), not the XML setups.</p>\n\n<h3>The potential solutions:</h3>\n\n<ol>\n<li>Tell or configure Batch how to handle exceptions (not to print a stack trace).</li>\n<li>Catch the exception in a listener. Unfortunately, the exception has already been caught by Spring Batch by the time it gets to the <code>@AfterStep</code>.</li>\n<li>Tell the step/job that we do not want to continue (e.g. setting a value in the execution context or an alternative for the <code>StepContribution</code>.</li>\n</ol>\n"},{"tags":["java","word-wrap","justify"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1646427733,"post_id":71357078,"comment_id":126128994,"body_markdown":"Look into the module operator (`%`)","body":"Look into the module operator (<code>%</code>)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1646428816,"post_id":71357078,"comment_id":126129256,"body_markdown":"Were the two comments near the bottom written by your teacher? You should follow the algorithm outlined there. You have not.","body":"Were the two comments near the bottom written by your teacher? You should follow the algorithm outlined there. You have not."},{"owner":{"account_id":24455367,"reputation":1,"user_id":18377030,"display_name":"MK123"},"score":0,"creation_date":1646433298,"post_id":71357078,"comment_id":126130199,"body_markdown":"The comments at the bottom were mine - but I was not sure how to implement there","body":"The comments at the bottom were mine - but I was not sure how to implement there"}],"owner":{"account_id":24455367,"reputation":1,"user_id":18377030,"display_name":"MK123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647172315,"creation_date":1646426925,"question_id":71357078,"body_markdown":"I am trying to create a class HW2 using the prettyPrint method. I am trying to do a word wrap and full justify text so that each line has the same length (using System.out.println). I am trying to get something to look like this:\r\n```\r\nHW2.prettyPrint(&quot;This homework is demonstrating how word processors make the text in a document line up so neatly.&quot;, 25)\r\n```\r\n```None\r\nThis     homework      is\r\ndemonstrating  how   word\r\nprocessors make the  text\r\nin a document line up  so\r\nneatly.\r\n```\r\n\r\nAnd this is my code that is not working - any ideas on how to fix?\r\n```\r\n  public static void prettyPrint(String s, int x) {\r\n    int numberWords = countWords(s);\r\n    StringBuilder builder = new StringBuilder();\r\n    for(int i = 0; i &lt; s.length(); i++){\r\n      if(i &lt;= x){\r\n        padString(s, x);\r\n        builder.append(s.charAt(i));\r\n      }\r\n      if(i == x){\r\n        System.out.println();\r\n      }\r\n    }\r\n    System.out.println();\r\n\r\n    // use CountWords, separate words into an array, then concatenate every line and use padString to output the correct length\r\n\r\n    // print one line first, then move on to another\r\n  }\r\n}\r\n```","title":"Word wrap and full justify text so that each line has the same length","body":"<p>I am trying to create a class HW2 using the prettyPrint method. I am trying to do a word wrap and full justify text so that each line has the same length (using System.out.println). I am trying to get something to look like this:</p>\n<pre><code>HW2.prettyPrint(&quot;This homework is demonstrating how word processors make the text in a document line up so neatly.&quot;, 25)\n</code></pre>\n<pre><code>This     homework      is\ndemonstrating  how   word\nprocessors make the  text\nin a document line up  so\nneatly.\n</code></pre>\n<p>And this is my code that is not working - any ideas on how to fix?</p>\n<pre><code>  public static void prettyPrint(String s, int x) {\n    int numberWords = countWords(s);\n    StringBuilder builder = new StringBuilder();\n    for(int i = 0; i &lt; s.length(); i++){\n      if(i &lt;= x){\n        padString(s, x);\n        builder.append(s.charAt(i));\n      }\n      if(i == x){\n        System.out.println();\n      }\n    }\n    System.out.println();\n\n    // use CountWords, separate words into an array, then concatenate every line and use padString to output the correct length\n\n    // print one line first, then move on to another\n  }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647171320,"post_id":71456044,"comment_id":126299234,"body_markdown":"`line` is a one-dimensional array, but you try to dereference it as if it is a two-dimensional array.","body":"<code>line</code> is a one-dimensional array, but you try to dereference it as if it is a two-dimensional array."},{"owner":{"account_id":22969462,"reputation":33,"user_id":17098062,"display_name":"Pranav Sundaram"},"score":0,"creation_date":1647171740,"post_id":71456044,"comment_id":126299332,"body_markdown":"@MarkRotteveel Does it not become a 2 dimensional array after using the split function on each element?","body":"@MarkRotteveel Does it not become a 2 dimensional array after using the split function on each element?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647171826,"post_id":71456044,"comment_id":126299361,"body_markdown":"You throw away the result of `line[i].split(&quot;\\\\ ? &quot;)`. If you want to use that, you need to assign it to a local variable of type `String[]` and then use that (e.g. `String[] splitLine =line[i].split(&quot;\\\\ ? &quot;);` and then dereference it with `splitLine[0]` and `splitLine[1]`.","body":"You throw away the result of <code>line[i].split(&quot;\\\\ ? &quot;)</code>. If you want to use that, you need to assign it to a local variable of type <code>String[]</code> and then use that (e.g. <code>String[] splitLine =line[i].split(&quot;\\\\ ? &quot;);</code> and then dereference it with <code>splitLine[0]</code> and <code>splitLine[1]</code>."},{"owner":{"account_id":22969462,"reputation":33,"user_id":17098062,"display_name":"Pranav Sundaram"},"score":0,"creation_date":1647172050,"post_id":71456044,"comment_id":126299404,"body_markdown":"@MarkRotteveel Ohh this makes a lot of sense, thank you for your time :)","body":"@MarkRotteveel Ohh this makes a lot of sense, thank you for your time :)"}],"answers":[{"tags":[],"owner":{"account_id":17092400,"reputation":68,"user_id":15443890,"display_name":"Mia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647170794,"creation_date":1647170794,"answer_id":71456273,"question_id":71456044,"body_markdown":"Slighlty different approach but what I did was actually create a dictionary object with two parameters: \r\n\r\n    public String term; \r\n    public String definition; \r\n\r\nThen had a method to load dictionary objects into a Dictionary[] array from my sample.dict.\r\n\r\nSo then all I had to do in my main method was something like:  \r\n\r\n\t\tDictionary[] definitions = loadDefinitions(f);\r\n        while (scan.hasNext()){\r\n\t\t\tString userInput = scan.next();\r\n\t\t\tfor (int i = 0; i&lt;definitions.length-1;i++){\r\n\t\t\t\tif(userInput.contentEquals(definitions[i].term)){\r\n\t\t\t\t\tSystem.out.println(definitions[i].definition);\r\n Hope that logic kinda makes sense. Good luck on the task! (Have a look at the athletes tutorial example :) ) ","title":"Is there a Java function that can read a dictionary file and output the definition when asked for a word in standard input?","body":"<p>Slighlty different approach but what I did was actually create a dictionary object with two parameters:</p>\n<pre><code>public String term; \npublic String definition; \n</code></pre>\n<p>Then had a method to load dictionary objects into a Dictionary[] array from my sample.dict.</p>\n<p>So then all I had to do in my main method was something like:</p>\n<pre><code>    Dictionary[] definitions = loadDefinitions(f);\n    while (scan.hasNext()){\n        String userInput = scan.next();\n        for (int i = 0; i&lt;definitions.length-1;i++){\n            if(userInput.contentEquals(definitions[i].term)){\n                System.out.println(definitions[i].definition);\n</code></pre>\n<p>Hope that logic kinda makes sense. Good luck on the task! (Have a look at the athletes tutorial example :) )</p>\n"}],"owner":{"account_id":22969462,"reputation":33,"user_id":17098062,"display_name":"Pranav Sundaram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647171404,"accepted_answer_id":71456273,"answer_count":1,"score":0,"last_activity_date":1647171280,"creation_date":1647169093,"question_id":71456044,"body_markdown":"I have a file ```definitions.dict``` which contains words and their respective definitions. A snippet of the file looks like this:\r\n\r\n```\r\ndictionary ? a book or electronic resource that gives a list of the words of a language in alphabetical order and explains what they mean\r\n\r\nword ? a single unit of language that means something and can be spoken or written\r\n\r\ncomputer ? an electronic machine that can store, organise and find information, do processes with numbers and other data, and control other machines\r\n```\r\n\r\nI&#39;m trying to write Java code, that takes the word as standard input and outputs the definition of said word. The code I&#39;ve written so far fails to even compile, giving the error:\r\n```\r\nDictionary.java:25: error: array required, but String found\r\n\t\t\t\tif(searchword.equals(line[i][0])){\r\n\t\t\t\t                            ^\r\nDictionary.java:26: error: array required, but String found\r\n\t\t\t\t\tSystem.out.println(line[i][1]);\r\n\t\t\t\t\t                          ^\r\n```\r\nHere is the code I have so far:\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class Dictionary {\r\n\t\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\r\n\t\tString searchword = &quot;&quot;;\r\n\t\tString[] line = {};\r\n\t\tint i;\r\n\r\n\t\tScanner scanword = new Scanner(System.in);\r\n\t\tif(scanword.hasNextLine()){\r\n\t\t\tsearchword = scanword.nextLine();\r\n\t\t}\r\n\t\ttry{\r\n\t\t\tScanner scan = new Scanner(new File(&quot;sample.dict&quot;));\r\n\t\t\twhile (scan.hasNextLine()){\r\n\t\t\t\tline = Arrays.copyOf(line, line.length + 1);\r\n\t\t\t\tline[line.length-1] = scan.nextLine();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor(i = 0; i &lt; line.length; i++) {\r\n\t\t\t\tline[i].split(&quot;\\\\ ? &quot;);\r\n\t\t\t\tif(searchword.equals(line[i][0])){\r\n\t\t\t\t\tSystem.out.println(line[i][1]);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (FileNotFoundException ex) {\r\n\t\t\t;\r\n    \t}\r\n\t}\r\n}\r\n```\r\n\r\nI will admit that this is part of an assignment which I&#39;ve been struggling with for a while and I am asking here as a last resort.\r\n(Note that I am only allowed to work with arrays and no other data structure.)\r\n\r\n","title":"Is there a Java function that can read a dictionary file and output the definition when asked for a word in standard input?","body":"<p>I have a file <code>definitions.dict</code> which contains words and their respective definitions. A snippet of the file looks like this:</p>\n<pre><code>dictionary ? a book or electronic resource that gives a list of the words of a language in alphabetical order and explains what they mean\n\nword ? a single unit of language that means something and can be spoken or written\n\ncomputer ? an electronic machine that can store, organise and find information, do processes with numbers and other data, and control other machines\n</code></pre>\n<p>I'm trying to write Java code, that takes the word as standard input and outputs the definition of said word. The code I've written so far fails to even compile, giving the error:</p>\n<pre><code>Dictionary.java:25: error: array required, but String found\n                if(searchword.equals(line[i][0])){\n                                            ^\nDictionary.java:26: error: array required, but String found\n                    System.out.println(line[i][1]);\n                                              ^\n</code></pre>\n<p>Here is the code I have so far:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class Dictionary {\n    \n    public static void main(String[] args) throws FileNotFoundException {\n\n        String searchword = &quot;&quot;;\n        String[] line = {};\n        int i;\n\n        Scanner scanword = new Scanner(System.in);\n        if(scanword.hasNextLine()){\n            searchword = scanword.nextLine();\n        }\n        try{\n            Scanner scan = new Scanner(new File(&quot;sample.dict&quot;));\n            while (scan.hasNextLine()){\n                line = Arrays.copyOf(line, line.length + 1);\n                line[line.length-1] = scan.nextLine();\n            }\n            \n            for(i = 0; i &lt; line.length; i++) {\n                line[i].split(&quot;\\\\ ? &quot;);\n                if(searchword.equals(line[i][0])){\n                    System.out.println(line[i][1]);\n            }\n                \n            }\n        }\n        catch (FileNotFoundException ex) {\n            ;\n        }\n    }\n}\n</code></pre>\n<p>I will admit that this is part of an assignment which I've been struggling with for a while and I am asking here as a last resort.\n(Note that I am only allowed to work with arrays and no other data structure.)</p>\n"},{"tags":["javascript","java","android","variables","android-activity"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1646805723,"post_id":71404912,"comment_id":126212063,"body_markdown":"You can either save the number of yellow/red cards in shared preferences or use a different storage capability (SQLite/external file). That is if you want it saved between sessions. If not, then you can create a class which will hold the state of these cards and other relevant logic.","body":"You can either save the number of yellow/red cards in shared preferences or use a different storage capability (SQLite/external file). That is if you want it saved between sessions. If not, then you can create a class which will hold the state of these cards and other relevant logic."},{"owner":{"account_id":6281128,"reputation":1,"user_id":18415278,"display_name":"Noura"},"score":0,"creation_date":1646806011,"post_id":71404912,"comment_id":126212105,"body_markdown":"can you show me the way of converting  shared preferences  data to string ?","body":"can you show me the way of converting  shared preferences  data to string ?"},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1646806192,"post_id":71404912,"comment_id":126212140,"body_markdown":"You can check out the documentation [here](https://developer.android.com/reference/android/content/SharedPreferences.Editor#putString(java.lang.String,%20java.lang.String)).","body":"You can check out the documentation <a href=\"https://developer.android.com/reference/android/content/SharedPreferences.Editor#putString(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":6281128,"reputation":1,"user_id":18415278,"display_name":"Noura"},"score":0,"creation_date":1646814030,"post_id":71404912,"comment_id":126214251,"body_markdown":"I did it and it works but the problem is the value is not showing all of them it only show one","body":"I did it and it works but the problem is the value is not showing all of them it only show one"},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1646815616,"post_id":71404912,"comment_id":126214804,"body_markdown":"Then you need to save a list of cards. Go over the documentation again.","body":"Then you need to save a list of cards. Go over the documentation again."}],"answers":[{"tags":[],"owner":{"account_id":16835523,"reputation":312,"user_id":12172313,"display_name":"Evyatar Cohen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647170251,"creation_date":1647170251,"answer_id":71456215,"question_id":71404912,"body_markdown":"You can use [ROOM][1] database or [Shared preferences][2].\r\n\r\nOr just use object in kotlin (Singelton) to save any data in Object that you can get and set everywhere\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/room\r\n  [2]: https://developer.android.com/reference/android/content/SharedPreferences","title":"How can I keep track of a variable in android app?","body":"<p>You can use <a href=\"https://developer.android.com/jetpack/androidx/releases/room\" rel=\"nofollow noreferrer\">ROOM</a> database or <a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">Shared preferences</a>.</p>\n<p>Or just use object in kotlin (Singelton) to save any data in Object that you can get and set everywhere</p>\n"}],"owner":{"account_id":6281128,"reputation":1,"user_id":18415278,"display_name":"Noura"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647170251,"creation_date":1646805404,"question_id":71404912,"body_markdown":"when user enter to the app he chose team 1 (Brazil)or team 2(Argentine) after that he chose yellow or red card then he chose a player after that in the first page it will show the player number and color of card.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n***My Question is How can keep track of the number of card and instead of showing player number I show how many either yellow or red card does team have .***\r\n\r\n\r\n\r\n    \r\n**CardActivity**\r\n\r\n    public class CardActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_card);\r\n    }\r\n\r\n    private void setCardData(int card) {\r\n        SharedPreferences settings getApplicationContext().getSharedPreferences(&quot;MainThisApp&quot;, 0);\r\n        SharedPreferences.Editor editor = settings.edit();\r\n        editor.putInt(&quot;card&quot;, card);\r\n        editor.apply();\r\n\r\n        Intent intent = new Intent(this, Myapp.game.NumberActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public void setRedCard(View view) {\r\n\r\n        ((Variable) this.getApplication()).setSomeVariable(&quot;card_yellow&quot;);\r\n\r\n        setCardData(0);\r\n    }\r\n\r\n    public void setYellowCard(View view) {\r\n\r\n        ((Variable) this.getApplication()).setSomeVariable(&quot;card_red&quot;);\r\n\r\n        setCardData(1);\r\n    }}\r\n\r\n\r\n\r\n\r\n**MainActivity**\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        SharedPreferences prefs = getApplicationContext().getSharedPreferences(&quot;MainThisApp&quot;, 0);\r\n        int check = prefs.getInt(&quot;check&quot;, 0);\r\n\r\n        String s = ((Variable) this.getApplication()).getSomeVariable();\r\n        try{\r\n            Integer number = Integer.valueOf(s);\r\n            System.out.println(number);\r\n        }\r\n        catch (NumberFormatException ex){\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        if (check == 50) {\r\n            TextView view = null;\r\n            int country = prefs.getInt(&quot;country&quot;, -1);\r\n            int card = prefs.getInt(&quot;card&quot;, -1);\r\n\r\n            if (country == 0 &amp; card == 0) {\r\n\r\n                view = findViewById(R.id.textView4);\r\n            }\r\n            if (country == 0 &amp; card == 1) {\r\n\r\n                view = findViewById(R.id.textView3);\r\n            }\r\n            if (country == 1 &amp; card == 0) {\r\n\r\n                view = findViewById(R.id.textView2);\r\n\r\n            }\r\n            if (country == 1 &amp; card == 1) {\r\n\r\n                view = findViewById(R.id.textView);\r\n            }\r\n            view.setText(String.valueOf(prefs.getInt(&quot;number&quot;,1)));\r\n        }\r\n\r\n    }\r\n\r\n    public void chooseBrasil(View view) {\r\n        setCountryData(0);\r\n    }\r\n\r\n    private void setCountryData(int country) {\r\n        SharedPreferences settings = getApplicationContext().getSharedPreferences(&quot;MainThisApp&quot;, 0);\r\n        SharedPreferences.Editor editor = settings.edit();\r\n        editor.putInt(&quot;country&quot;, country);\r\n        editor.apply();\r\n        Intent intent = new Intent(this, CardActivity.class);\r\n        startActivity(intent);\r\n    }\r\n    public void chooseArgentine(View view) {\r\n        setCountryData(1);\r\n    }\r\n\r\n\r\n\r\n\r\n**NumberActivity**\r\n\r\n\r\n    public class NumberActivity extends AppCompatActivity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_number);\r\n        }\r\n\r\n    private void setNumberData(int number) {\r\n        SharedPreferences settings = getApplicationContext().getSharedPreferences(&quot;MainThisApp&quot;, 0);\r\n        SharedPreferences.Editor editor = settings.edit();\r\n        editor.putInt(&quot;number&quot;, number);\r\n        editor.putInt(&quot;check&quot;, 50);\r\n        editor.apply();\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public void setNumber1(View view) {\r\n        setNumberData(1);\r\n    }\r\n\r\n    public void setNumber2(View view) {\r\n        setNumberData(2);\r\n    }\r\n\r\n    public void setNumber3(View view) {\r\n        setNumberData(3);\r\n    }\r\n\r\n    public void setNumber4(View view) {\r\n        setNumberData(4);\r\n    }\r\n\r\n    public void setNumber5(View view) {\r\n        setNumberData(5);\r\n    }\r\n\r\n    public void setNumber6(View view) {\r\n        setNumberData(6);\r\n    }\r\n\r\n    public void setNumber7(View view) {\r\n        setNumberData(7);\r\n    }\r\n\r\n    public void setNumber8(View view) {\r\n        setNumberData(8);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wv1Ky.png","title":"How can I keep track of a variable in android app?","body":"<p>when user enter to the app he chose team 1 (Brazil)or team 2(Argentine) after that he chose yellow or red card then he chose a player after that in the first page it will show the player number and color of card.</p>\n<p><a href=\"https://i.stack.imgur.com/Wv1Ky.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><em><strong>My Question is How can keep track of the number of card and instead of showing player number I show how many either yellow or red card does team have .</strong></em></p>\n<p><strong>CardActivity</strong></p>\n<pre><code>public class CardActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_card);\n}\n\nprivate void setCardData(int card) {\n    SharedPreferences settings getApplicationContext().getSharedPreferences(&quot;MainThisApp&quot;, 0);\n    SharedPreferences.Editor editor = settings.edit();\n    editor.putInt(&quot;card&quot;, card);\n    editor.apply();\n\n    Intent intent = new Intent(this, Myapp.game.NumberActivity.class);\n    startActivity(intent);\n}\n\npublic void setRedCard(View view) {\n\n    ((Variable) this.getApplication()).setSomeVariable(&quot;card_yellow&quot;);\n\n    setCardData(0);\n}\n\npublic void setYellowCard(View view) {\n\n    ((Variable) this.getApplication()).setSomeVariable(&quot;card_red&quot;);\n\n    setCardData(1);\n}}\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    SharedPreferences prefs = getApplicationContext().getSharedPreferences(&quot;MainThisApp&quot;, 0);\n    int check = prefs.getInt(&quot;check&quot;, 0);\n\n    String s = ((Variable) this.getApplication()).getSomeVariable();\n    try{\n        Integer number = Integer.valueOf(s);\n        System.out.println(number);\n    }\n    catch (NumberFormatException ex){\n        ex.printStackTrace();\n    }\n\n    if (check == 50) {\n        TextView view = null;\n        int country = prefs.getInt(&quot;country&quot;, -1);\n        int card = prefs.getInt(&quot;card&quot;, -1);\n\n        if (country == 0 &amp; card == 0) {\n\n            view = findViewById(R.id.textView4);\n        }\n        if (country == 0 &amp; card == 1) {\n\n            view = findViewById(R.id.textView3);\n        }\n        if (country == 1 &amp; card == 0) {\n\n            view = findViewById(R.id.textView2);\n\n        }\n        if (country == 1 &amp; card == 1) {\n\n            view = findViewById(R.id.textView);\n        }\n        view.setText(String.valueOf(prefs.getInt(&quot;number&quot;,1)));\n    }\n\n}\n\npublic void chooseBrasil(View view) {\n    setCountryData(0);\n}\n\nprivate void setCountryData(int country) {\n    SharedPreferences settings = getApplicationContext().getSharedPreferences(&quot;MainThisApp&quot;, 0);\n    SharedPreferences.Editor editor = settings.edit();\n    editor.putInt(&quot;country&quot;, country);\n    editor.apply();\n    Intent intent = new Intent(this, CardActivity.class);\n    startActivity(intent);\n}\npublic void chooseArgentine(View view) {\n    setCountryData(1);\n}\n</code></pre>\n<p><strong>NumberActivity</strong></p>\n<pre><code>public class NumberActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_number);\n    }\n\nprivate void setNumberData(int number) {\n    SharedPreferences settings = getApplicationContext().getSharedPreferences(&quot;MainThisApp&quot;, 0);\n    SharedPreferences.Editor editor = settings.edit();\n    editor.putInt(&quot;number&quot;, number);\n    editor.putInt(&quot;check&quot;, 50);\n    editor.apply();\n    Intent intent = new Intent(this, MainActivity.class);\n    startActivity(intent);\n}\n\npublic void setNumber1(View view) {\n    setNumberData(1);\n}\n\npublic void setNumber2(View view) {\n    setNumberData(2);\n}\n\npublic void setNumber3(View view) {\n    setNumberData(3);\n}\n\npublic void setNumber4(View view) {\n    setNumberData(4);\n}\n\npublic void setNumber5(View view) {\n    setNumberData(5);\n}\n\npublic void setNumber6(View view) {\n    setNumberData(6);\n}\n\npublic void setNumber7(View view) {\n    setNumberData(7);\n}\n\npublic void setNumber8(View view) {\n    setNumberData(8);\n}\n</code></pre>\n"},{"tags":["java","android","java.nio.file"],"answers":[{"tags":[],"owner":{"account_id":1338540,"reputation":9401,"user_id":1280723,"accept_rate":76,"display_name":"Crazyjavahacking"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1424796788,"creation_date":1424796788,"answer_id":28701633,"question_id":28701598,"body_markdown":"Use the following code:\r\n\r\n    new File(new URL(url).toURI());\r\n\r\nbut that would only work if URL is not hierarchical, which is your case. (For example you cannot do it if the URL points to a file in JAR file).","title":"How to convert URL string into java.io.File in Android","body":"<p>Use the following code:</p>\n\n<pre><code>new File(new URL(url).toURI());\n</code></pre>\n\n<p>but that would only work if URL is not hierarchical, which is your case. (For example you cannot do it if the URL points to a file in JAR file).</p>\n"},{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424796872,"creation_date":1424796872,"answer_id":28701658,"question_id":28701598,"body_markdown":"File constructor does accept [URI](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#File%28java.net.URI%29), so try something like:\r\n\r\n    File file = new File(new URL(&quot;file:///path/to/file.extension&quot;).toURI());\r\n    System.out.println(file);\r\n    Output:\r\n    \\path\\to\\file.extension\r\n","title":"How to convert URL string into java.io.File in Android","body":"<p>File constructor does accept <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#File%28java.net.URI%29\" rel=\"nofollow\">URI</a>, so try something like:</p>\n\n<pre><code>File file = new File(new URL(\"file:///path/to/file.extension\").toURI());\nSystem.out.println(file);\nOutput:\n\\path\\to\\file.extension\n</code></pre>\n"}],"owner":{"account_id":3079718,"reputation":2050,"user_id":2608235,"accept_rate":69,"display_name":"Sean Beach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28701633,"answer_count":2,"score":1,"last_activity_date":1647170104,"creation_date":1424796697,"question_id":28701598,"body_markdown":"I am overriding the `android.webkit.WebViewClient` method `shouldInterceptRequest(WebView view, String url)` in a custom class. In some cases, the `url` parameter points to an encrypted local file, in the form `file:///path/to/file.extension`. I need to convert the String `url` into a `java.io.File` to decrypt it.  \r\nHow do I reliably convert the `url` parameter into a valid path to pass into `new File(path)`?","title":"How to convert URL string into java.io.File in Android","body":"<p>I am overriding the <code>android.webkit.WebViewClient</code> method <code>shouldInterceptRequest(WebView view, String url)</code> in a custom class. In some cases, the <code>url</code> parameter points to an encrypted local file, in the form <code>file:///path/to/file.extension</code>. I need to convert the String <code>url</code> into a <code>java.io.File</code> to decrypt it.<br>\nHow do I reliably convert the <code>url</code> parameter into a valid path to pass into <code>new File(path)</code>?</p>\n"},{"tags":["java","regex","string","split"],"answers":[{"tags":[],"owner":{"account_id":19365359,"reputation":2635,"user_id":14159796,"display_name":"Cubix48"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647161914,"creation_date":1647161539,"answer_id":71455202,"question_id":71455034,"body_markdown":"If there are no more than two levels of nested square brackets:\r\n\r\n    (?&lt;=\\[)(?:[^\\[\\]]+|\\[[^\\[\\]]+\\])+\r\n\r\nsee [here][1] for the online demo.\r\n\r\n---\r\n\r\n- `(?&lt;=)`: Positive lookbehind\r\n  - `\\[`: Matches `[`.\r\n- `(?:)`: Non capturing group.\r\n  - `[^\\[\\]]+`: Matches any character other than `[` or `]`, between one and unlimited times, as much as possible.\r\n  - `|`: Or.\r\n  - `\\[[^\\[\\]]+\\]`: Matches `[`, matches any character other than `[` or `]`, between one and unlimited times, matches `]`.\r\n- `+`: Matches the preceding group between one and unlimited times, as much as possible.\r\n\r\n\r\n  [1]: https://regex101.com/r/cOSytP/1","title":"How to extract string between square brackets when string also contains square brackets","body":"<p>If there are no more than two levels of nested square brackets:</p>\n<pre><code>(?&lt;=\\[)(?:[^\\[\\]]+|\\[[^\\[\\]]+\\])+\n</code></pre>\n<p>see <a href=\"https://regex101.com/r/cOSytP/1\" rel=\"nofollow noreferrer\">here</a> for the online demo.</p>\n<hr />\n<ul>\n<li><code>(?&lt;=)</code>: Positive lookbehind\n<ul>\n<li><code>\\[</code>: Matches <code>[</code>.</li>\n</ul>\n</li>\n<li><code>(?:)</code>: Non capturing group.\n<ul>\n<li><code>[^\\[\\]]+</code>: Matches any character other than <code>[</code> or <code>]</code>, between one and unlimited times, as much as possible.</li>\n<li><code>|</code>: Or.</li>\n<li><code>\\[[^\\[\\]]+\\]</code>: Matches <code>[</code>, matches any character other than <code>[</code> or <code>]</code>, between one and unlimited times, matches <code>]</code>.</li>\n</ul>\n</li>\n<li><code>+</code>: Matches the preceding group between one and unlimited times, as much as possible.</li>\n</ul>\n"}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1647170049,"creation_date":1647159982,"question_id":71455034,"body_markdown":"I have a string closed to square brackets:\r\n\r\n`[[oneOne1, oneOne2], oneTwo, oneThree]`\r\n\r\nI neet to extract substing that is closed to square brackets and get\r\n\r\n`[oneOne1, oneOne2], oneTwo, oneThree`\r\n\r\nI&#39;ve tried to use regex. But the the hard part is that my substring also stores `[` and `]`.\r\n\r\nThis is a string value of some variable that I receive. And it could be more than one occurrence in the string. I mean that string could also look like:\r\n\r\n`[[oneOne1, oneOne2], oneTwo, oneThree][[twoOne1, twoOne2], twoTwo, twoThree][[threeOne1, threeOne2], threeTwo, threeThree]`\r\n\r\nand I should extract all occurances:\r\n\r\n`[oneOne1, oneOne2], oneTwo, oneThree`\r\n\r\n`[twoOne1, twoOne2], twoTwo, twoThree`\r\n\r\n`[threeOne1, threeOne2], threeTwo, threeThree`\r\n\r\nThere is a lot of such questions here but I didn&#39;t find solution for my case with internal `[]`. [Here][1] I found solution for `PHP PCRE`, but I can&#39;t convert it to java 8.\r\n\r\nHow can I do this?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2403122/regular-expression-to-extract-text-between-square-brackets","title":"How to extract string between square brackets when string also contains square brackets","body":"<p>I have a string closed to square brackets:</p>\n<p><code>[[oneOne1, oneOne2], oneTwo, oneThree]</code></p>\n<p>I neet to extract substing that is closed to square brackets and get</p>\n<p><code>[oneOne1, oneOne2], oneTwo, oneThree</code></p>\n<p>I've tried to use regex. But the the hard part is that my substring also stores <code>[</code> and <code>]</code>.</p>\n<p>This is a string value of some variable that I receive. And it could be more than one occurrence in the string. I mean that string could also look like:</p>\n<p><code>[[oneOne1, oneOne2], oneTwo, oneThree][[twoOne1, twoOne2], twoTwo, twoThree][[threeOne1, threeOne2], threeTwo, threeThree]</code></p>\n<p>and I should extract all occurances:</p>\n<p><code>[oneOne1, oneOne2], oneTwo, oneThree</code></p>\n<p><code>[twoOne1, twoOne2], twoTwo, twoThree</code></p>\n<p><code>[threeOne1, threeOne2], threeTwo, threeThree</code></p>\n<p>There is a lot of such questions here but I didn't find solution for my case with internal <code>[]</code>. <a href=\"https://stackoverflow.com/questions/2403122/regular-expression-to-extract-text-between-square-brackets\">Here</a> I found solution for <code>PHP PCRE</code>, but I can't convert it to java 8.</p>\n<p>How can I do this?</p>\n"},{"tags":["java","collections","treemap"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1424521177,"post_id":28645692,"comment_id":45589141,"body_markdown":"1: `me.getValue().rollno`","body":"1: <code>me.getValue().rollno</code>"},{"owner":{"account_id":5823360,"reputation":19,"user_id":4590617,"accept_rate":100,"display_name":"supreeth v"},"score":0,"creation_date":1424521800,"post_id":28645692,"comment_id":45589317,"body_markdown":"immibis me.getValue().rollno will give the error :----                           StudentTest.java:22: error: cannot find symbol\nSystem.out.println(me.getValue().rollno);\nsymbol:   variable rollno\n  location: class Object","body":"immibis me.getValue().rollno will give the error :----                           StudentTest.java:22: error: cannot find symbol System.out.println(me.getValue().rollno); symbol:   variable rollno   location: class Object"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1424521861,"post_id":28645692,"comment_id":45589337,"body_markdown":"&quot;Please let me know the solution for the error im getting for the code Im trying . &quot; - what error? Reading error messages is the first step to enlightenment.","body":"&quot;Please let me know the solution for the error im getting for the code Im trying . &quot; - what error? Reading error messages is the first step to enlightenment."},{"owner":{"account_id":5823360,"reputation":19,"user_id":4590617,"accept_rate":100,"display_name":"supreeth v"},"score":0,"creation_date":1424523584,"post_id":28645692,"comment_id":45589810,"body_markdown":"Sorry immibis did nt look at it, I taught it was pasted sorry . The Error is :----                                                                                             Exception in thread &quot;main&quot; java.lang.ClassCastException: java.util.TreeMap$Entry\n cannot be cast to Student\n        at StudentTest.main(StudentTest.java:42)\nStudent  st = (Student)itr.next(); // this the line","body":"Sorry immibis did nt look at it, I taught it was pasted sorry . The Error is :----                                                                                             Exception in thread &quot;main&quot; java.lang.ClassCastException: java.util.TreeMap$Entry  cannot be cast to Student         at StudentTest.main(StudentTest.java:42) Student  st = (Student)itr.next(); // this the line"}],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1424524102,"creation_date":1424524102,"answer_id":28646135,"question_id":28645692,"body_markdown":"The `entrySet` of a map is a set of `Map.Entry&lt;KeyType, ValueType&gt;`s.\r\n\r\nYou have this:\r\n\r\n    Collection entrySet = al.entrySet();\r\n    Iterator&lt;Student&gt; itr = entrySet.iterator();\r\n\r\nIf you weren&#39;t using a *raw type* in the first line, the error would be much more obvious. Never use raw types:\r\n\r\n    Collection&lt;Student&gt; entrySet = al.entrySet(); // ERROR HERE - Set&lt;Map.Entry&lt;String, Student&gt;&gt; cannot be cast to Collection&lt;Student&gt;\r\n    Iterator&lt;Student&gt; itr = entrySet.iterator();\r\n\r\nIf you want to iterate over the values in your map, use `values`:\r\n\r\n    Collection&lt;Student&gt; entrySet = al.values();\r\n    Iterator&lt;Student&gt; itr = entrySet.iterator();\r\n","title":"User-defined class objects in Java TreeMap","body":"<p>The <code>entrySet</code> of a map is a set of <code>Map.Entry&lt;KeyType, ValueType&gt;</code>s.</p>\n\n<p>You have this:</p>\n\n<pre><code>Collection entrySet = al.entrySet();\nIterator&lt;Student&gt; itr = entrySet.iterator();\n</code></pre>\n\n<p>If you weren't using a <em>raw type</em> in the first line, the error would be much more obvious. Never use raw types:</p>\n\n<pre><code>Collection&lt;Student&gt; entrySet = al.entrySet(); // ERROR HERE - Set&lt;Map.Entry&lt;String, Student&gt;&gt; cannot be cast to Collection&lt;Student&gt;\nIterator&lt;Student&gt; itr = entrySet.iterator();\n</code></pre>\n\n<p>If you want to iterate over the values in your map, use <code>values</code>:</p>\n\n<pre><code>Collection&lt;Student&gt; entrySet = al.values();\nIterator&lt;Student&gt; itr = entrySet.iterator();\n</code></pre>\n"}],"owner":{"account_id":5823360,"reputation":19,"user_id":4590617,"accept_rate":100,"display_name":"supreeth v"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1919,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":28646135,"answer_count":1,"score":-1,"last_activity_date":1647169896,"creation_date":1424521007,"question_id":28645692,"body_markdown":"I have a collection (TreeMap), I want to print only one value from the Object im passing. Here is the code that I have being trying\r\n        \r\nStudent.java\r\n    \r\n        class Student {\r\n            int rollno;\r\n            String name;\r\n            int age;\r\n            Student(int rollno,String name,int age){\r\n                this.rollno=rollno;\r\n                this.name=name;\r\n                this.age=age;\r\n             }\r\n        \r\n             public String toString(){//overriding the toString() method\r\n                 return rollno+&quot; &quot;+name+&quot; &quot;+age;\r\n             }\r\n        \r\n         }\r\n\r\nStudentTest.java\r\n           \r\n\r\n     import java.util.*;\r\n     import java.io.*;\r\n     class StudentTest{\r\n         public static void main(String args[]){\r\n             \r\n             Map&lt;String,Student&gt; al=new TreeMap&lt;String,Student&gt;();\r\n             al.put(&quot;a1&quot;,new Student(101,&quot;Vijay&quot;,23));\r\n             al.put(&quot;a2&quot;,new Student(106,&quot;Ajay&quot;,27));\r\n             al.put(&quot;a3&quot;,new Student(105,&quot;Jai&quot;,21));\r\n            \r\n            \r\n             Set set = al.entrySet();\r\n             // Get an iterator\r\n             Iterator i = set.iterator();\r\n            \r\n             // Display elements\r\n             while(i.hasNext()) {\r\n                 Map.Entry me = (Map.Entry)i.next();\r\n                 System.out.print(me.getKey() + &quot;: &quot;);\r\n                 System.out.println(me.getValue());\r\n             }\r\n            \r\n            \r\n             System.out.println(al.get(&quot;a1&quot;));\r\n            \r\n             System.out.println(al.size());\r\n            \r\n             Set&lt;String&gt; keys =al.keySet();\r\n             for(String key : keys)\r\n            \t {\r\n            \t\t System.out.println(al.get(key));\r\n            \r\n            \t }\r\n            \r\n            Collection entrySet = al.entrySet();\r\n            Iterator&lt;Student&gt; itr = entrySet.iterator();\r\n            System.out.println(&quot;+++++++&quot;+entrySet);\r\n            System.out.println(&quot;\\n\\n\\n\\n\\n&quot;);\r\n            System.out.println(&quot;+++++++&quot;+itr);\r\n            System.out.println(&quot;\\n\\n\\n\\n\\n&quot;);\r\n            while(itr.hasNext())\r\n            {\r\n               Student  st = itr.next();\r\n            \tSystem.out.println(st.rollno);\r\n            }\r\n        }\r\n    }\r\n   \r\n    \r\n\r\n 1. I want to print only one value that is either rollno or name or age\r\n\r\n 2. Also I want to print name as Vijay that is only one name from the\r\n    collection\r\n\r\nPlease let me know the solution for the error im getting for the code Im trying . ","title":"User-defined class objects in Java TreeMap","body":"<p>I have a collection (TreeMap), I want to print only one value from the Object im passing. Here is the code that I have being trying</p>\n\n<p>Student.java</p>\n\n<pre><code>    class Student {\n        int rollno;\n        String name;\n        int age;\n        Student(int rollno,String name,int age){\n            this.rollno=rollno;\n            this.name=name;\n            this.age=age;\n         }\n\n         public String toString(){//overriding the toString() method\n             return rollno+\" \"+name+\" \"+age;\n         }\n\n     }\n</code></pre>\n\n<p>StudentTest.java</p>\n\n<pre><code> import java.util.*;\n import java.io.*;\n class StudentTest{\n     public static void main(String args[]){\n\n         Map&lt;String,Student&gt; al=new TreeMap&lt;String,Student&gt;();\n         al.put(\"a1\",new Student(101,\"Vijay\",23));\n         al.put(\"a2\",new Student(106,\"Ajay\",27));\n         al.put(\"a3\",new Student(105,\"Jai\",21));\n\n\n         Set set = al.entrySet();\n         // Get an iterator\n         Iterator i = set.iterator();\n\n         // Display elements\n         while(i.hasNext()) {\n             Map.Entry me = (Map.Entry)i.next();\n             System.out.print(me.getKey() + \": \");\n             System.out.println(me.getValue());\n         }\n\n\n         System.out.println(al.get(\"a1\"));\n\n         System.out.println(al.size());\n\n         Set&lt;String&gt; keys =al.keySet();\n         for(String key : keys)\n             {\n                 System.out.println(al.get(key));\n\n             }\n\n        Collection entrySet = al.entrySet();\n        Iterator&lt;Student&gt; itr = entrySet.iterator();\n        System.out.println(\"+++++++\"+entrySet);\n        System.out.println(\"\\n\\n\\n\\n\\n\");\n        System.out.println(\"+++++++\"+itr);\n        System.out.println(\"\\n\\n\\n\\n\\n\");\n        while(itr.hasNext())\n        {\n           Student  st = itr.next();\n            System.out.println(st.rollno);\n        }\n    }\n}\n</code></pre>\n\n<ol>\n<li><p>I want to print only one value that is either rollno or name or age</p></li>\n<li><p>Also I want to print name as Vijay that is only one name from the\ncollection</p></li>\n</ol>\n\n<p>Please let me know the solution for the error im getting for the code Im trying . </p>\n"},{"tags":["java","android","onbackpressed"],"answers":[{"tags":[],"owner":{"account_id":139161,"reputation":627,"user_id":344574,"display_name":"Arno den Hond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639791555,"creation_date":1639791555,"answer_id":70400401,"question_id":70400229,"body_markdown":"Overriding onBackPressed in your launcher activity and calling finish in it would ensure your app always behaves as with older versions of Android. ","title":"android 12 onBackPressed","body":"<p>Overriding onBackPressed in your launcher activity and calling finish in it would ensure your app always behaves as with older versions of Android.</p>\n"}],"owner":{"account_id":17217305,"reputation":340,"user_id":12464985,"display_name":"user20191130"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647168761,"creation_date":1639788576,"question_id":70400229,"body_markdown":"Android 12 has changed behavior for back button. However, sometimes the behavior is confusing. For example, when I press it, my app does not go away (onResume is called right after onPause); other times, when I press it, my app goes away but a previously used app is opened. Other times, when I press it, my app goes away as expected (as with older versions of Android). \r\n\r\nI&#39;ve seen this behavior with other apps too. For example: the default &quot;Files&quot; app in Google Pixel 3a.\r\n\r\nIs it a bug? or can I do something in my app to have always the expected behavior (as with older versions of Android)? Thanks a lot for your time.  ","title":"android 12 onBackPressed","body":"<p>Android 12 has changed behavior for back button. However, sometimes the behavior is confusing. For example, when I press it, my app does not go away (onResume is called right after onPause); other times, when I press it, my app goes away but a previously used app is opened. Other times, when I press it, my app goes away as expected (as with older versions of Android).</p>\n<p>I've seen this behavior with other apps too. For example: the default &quot;Files&quot; app in Google Pixel 3a.</p>\n<p>Is it a bug? or can I do something in my app to have always the expected behavior (as with older versions of Android)? Thanks a lot for your time.</p>\n"},{"tags":["java","integer","awtrobot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1647167076,"post_id":71455778,"comment_id":126298377,"body_markdown":"`System.out.println(MouseInfo.getPointerInfo().getLocation().x + &quot;:&quot; + MouseInfo.getPointerInfo().getLocation().y + &quot; &quot; + (p.x + 35) + &quot;:&quot; + (p.y +165))` what is this printing?","body":"<code>System.out.println(MouseInfo.getPointerInfo().getLocation().&zwnj;&#8203;x + &quot;:&quot; + MouseInfo.getPointerInfo().getLocation().y + &quot; &quot; + (p.x + 35) + &quot;:&quot; + (p.y +165))</code> what is this printing?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647167176,"post_id":71455778,"comment_id":126298393,"body_markdown":"What makes you think that the two values are the same?","body":"What makes you think that the two values are the same?"},{"owner":{"account_id":19598156,"reputation":1,"user_id":14343638,"display_name":"darcl"},"score":0,"creation_date":1647167496,"post_id":71455778,"comment_id":126298446,"body_markdown":"@tgdavies i know the two values are the same because in the else statement it prints the values of both of them to the console\n\n`System.out.println(MouseInfo.getPointerInfo().getLocation().x + &quot;:&quot; + MouseInfo.getPointerInfo().getLocation().y + &quot; &quot; + (p.x + 35) + &quot;:&quot; + (p.y +165));`","body":"@tgdavies i know the two values are the same because in the else statement it prints the values of both of them to the console  <code>System.out.println(MouseInfo.getPointerInfo().getLocation().&zwnj;&#8203;x + &quot;:&quot; + MouseInfo.getPointerInfo().getLocation().y + &quot; &quot; + (p.x + 35) + &quot;:&quot; + (p.y +165));</code>"},{"owner":{"account_id":19598156,"reputation":1,"user_id":14343638,"display_name":"darcl"},"score":0,"creation_date":1647167537,"post_id":71455778,"comment_id":126298449,"body_markdown":"@FedericoklezCulloca that line prints both of the values (to check that they were both the same)","body":"@FedericoklezCulloca that line prints both of the values (to check that they were both the same)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1647171122,"post_id":71455778,"comment_id":126299193,"body_markdown":"Instead of calling `MouseInfo.getPointerInfo().getLocation()` multiple times, call it once after `robot.mouseMove(...` and store the `Point`.","body":"Instead of calling <code>MouseInfo.getPointerInfo().getLocation()</code> multiple times, call it once after <code>robot.mouseMove(...</code> and store the <code>Point</code>."}],"owner":{"account_id":19598156,"reputation":1,"user_id":14343638,"display_name":"darcl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647166893,"creation_date":1647166893,"question_id":71455778,"body_markdown":"```\r\n  trueloop:\r\n        while(true){\r\n            for (Point p : getListcolor(244,238,215))\r\n            {\r\n                robot.mouseMove(p.x + 35, p.y + 165);\r\n                if (MouseInfo.getPointerInfo().getLocation().x == (p.x + 35) &amp;&amp; MouseInfo.getPointerInfo().getLocation().y == (p.y + 165))\r\n                {\r\n                    robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                    Thread.sleep(5);\r\n                    robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n                    Thread.sleep(5);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(MouseInfo.getPointerInfo().getLocation().x + &quot;:&quot; + MouseInfo.getPointerInfo().getLocation().y + &quot; &quot; + (p.x + 35) + &quot;:&quot; + (p.y +165));\r\n                    System.out.print(&quot;\\rBreaking...&quot;);\r\n                    break trueloop;\r\n                }\r\n            }\r\n        }\r\n```\r\nthis code is a failsafe for the java robot class, it checks to make sure whether the cursor has been manually moved. \r\n\r\nMouseInfo.getPointerInfo().getLocation().x is the x coordinate of where the cursor is, and (p.x + 35) is where the cursor should be, and the same for y. But when these are compared it often returns false even if the two values are the same.\r\n\r\nDoes anyone have any ideas on how to fix this?","title":"two ints in java have the same value but are returning false when &#39;==&#39; operator is used","body":"<pre><code>  trueloop:\n        while(true){\n            for (Point p : getListcolor(244,238,215))\n            {\n                robot.mouseMove(p.x + 35, p.y + 165);\n                if (MouseInfo.getPointerInfo().getLocation().x == (p.x + 35) &amp;&amp; MouseInfo.getPointerInfo().getLocation().y == (p.y + 165))\n                {\n                    robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n                    Thread.sleep(5);\n                    robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n                    Thread.sleep(5);\n                }\n                else\n                {\n                    System.out.println(MouseInfo.getPointerInfo().getLocation().x + &quot;:&quot; + MouseInfo.getPointerInfo().getLocation().y + &quot; &quot; + (p.x + 35) + &quot;:&quot; + (p.y +165));\n                    System.out.print(&quot;\\rBreaking...&quot;);\n                    break trueloop;\n                }\n            }\n        }\n</code></pre>\n<p>this code is a failsafe for the java robot class, it checks to make sure whether the cursor has been manually moved.</p>\n<p>MouseInfo.getPointerInfo().getLocation().x is the x coordinate of where the cursor is, and (p.x + 35) is where the cursor should be, and the same for y. But when these are compared it often returns false even if the two values are the same.</p>\n<p>Does anyone have any ideas on how to fix this?</p>\n"},{"tags":["java","android","firebase","variables","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1647104275,"post_id":71451252,"comment_id":126291750,"body_markdown":"The problem is not **where** you access the value, but **when** you access it. If you need `money1` outside of `onSuccess`, you&#39;ll need to make sure that code only executes *after* `onSuccess` has completed. See https://stackoverflow.com/questions/51000169/how-to-check-a-certain-data-already-exists-in-firestore-or-not/51002413#51002413 and more of the questions I linked.","body":"The problem is not <b>where</b> you access the value, but <b>when</b> you access it. If you need <code>money1</code> outside of <code>onSuccess</code>, you&#39;ll need to make sure that code only executes <i>after</i> <code>onSuccess</code> has completed. See <a href=\"https://stackoverflow.com/questions/51000169/how-to-check-a-certain-data-already-exists-in-firestore-or-not/51002413#51002413\" title=\"how to check a certain data already exists in firestore or not\">stackoverflow.com/questions/51000169/&hellip;</a> and more of the questions I linked."},{"owner":{"account_id":22562415,"reputation":9,"user_id":16749895,"display_name":"Subash Bhandari"},"score":0,"creation_date":1647158079,"post_id":71451252,"comment_id":126296741,"body_markdown":"No that doesn&#39;t resolve","body":"No that doesn&#39;t resolve"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1647184564,"post_id":71451252,"comment_id":126302179,"body_markdown":"It&#39;s going to be hard to help you further with just that. If you think your question is different from the ones I linked, please explain why that is. Otherwise, if you tried to solve your problem with the information from the links, edit your question to show what you tried from there already.","body":"It&#39;s going to be hard to help you further with just that. If you think your question is different from the ones I linked, please explain why that is. Otherwise, if you tried to solve your problem with the information from the links, edit your question to show what you tried from there already."}],"owner":{"account_id":22562415,"reputation":9,"user_id":16749895,"display_name":"Subash Bhandari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1647104280,"answer_count":0,"score":0,"last_activity_date":1647165840,"creation_date":1647101939,"question_id":71451252,"body_markdown":"     .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                           MyVariable = documentSnapshot.get(&quot;money&quot;).toString();\r\n                            textView1.setText(MyVariable);\r\n                        }\r\n                    });\r\n\r\n\r\nI want to take the Myvariable data outside of onSuccess, Please help please, I didn&#39;t find the Statisfied and Working idea in entrie Stackoverflow \r\n       ","title":"How to get data outside addonsuccesslistner in it in android Studio. My app is getting money if i put it in but while i put outside it shows empty","body":"<pre><code> .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                    @Override\n                    public void onSuccess(DocumentSnapshot documentSnapshot) {\n                       MyVariable = documentSnapshot.get(&quot;money&quot;).toString();\n                        textView1.setText(MyVariable);\n                    }\n                });\n</code></pre>\n<p>I want to take the Myvariable data outside of onSuccess, Please help please, I didn't find the Statisfied and Working idea in entrie Stackoverflow</p>\n"},{"tags":["java","terminal","printf","display"],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647165656,"creation_date":1647165656,"answer_id":71455636,"question_id":71455374,"body_markdown":"There exist frameworks that emulate &quot;smart&quot; terminals like the VT100. (The VT100 used to be considered pretty smart back in its hay-day, some 50 years ago.) Once you have such a terminal emulator, you will be able to position the cursor anywhere you want within the terminal window, (the screen of the terminal,) either by calling methods of some class, or by emitting ***ANSI escape sequences*** (look it up) and any text you write to the terminal will be written at the position of the cursor, so you will be able to keep the outgoing text separate from the incoming text.\r\n\r\nA google search for &quot;vt100 emulator for java&quot; yields several results, the first one being on GitHub, (so, full source code available,) and is by none other than JetBrains, the company that makes the pretty awesome IntelliJ IDEA IDE.\r\n\r\nHowever, I would advice against doing that, because your chat application will be clunky and it will have a look and feel that will resemble the seventies.\r\n\r\nYou will be much better off using java&#39;s built-in graphics system (AWT/Swing) to create a simple window with two text areas, one for the incoming text, and one for the outgoing text. There are many (I mean, *many*) instances of sample code floating out there on the great interwebz for doing pretty much about anything using Swing, so you should probably be able to even find a ready-to-run sample chat application in Java using Swing out there.","title":"Java/Command Terminal: Prevent typing in terminal from getting cut off by incoming print statements","body":"<p>There exist frameworks that emulate &quot;smart&quot; terminals like the VT100. (The VT100 used to be considered pretty smart back in its hay-day, some 50 years ago.) Once you have such a terminal emulator, you will be able to position the cursor anywhere you want within the terminal window, (the screen of the terminal,) either by calling methods of some class, or by emitting <em><strong>ANSI escape sequences</strong></em> (look it up) and any text you write to the terminal will be written at the position of the cursor, so you will be able to keep the outgoing text separate from the incoming text.</p>\n<p>A google search for &quot;vt100 emulator for java&quot; yields several results, the first one being on GitHub, (so, full source code available,) and is by none other than JetBrains, the company that makes the pretty awesome IntelliJ IDEA IDE.</p>\n<p>However, I would advice against doing that, because your chat application will be clunky and it will have a look and feel that will resemble the seventies.</p>\n<p>You will be much better off using java's built-in graphics system (AWT/Swing) to create a simple window with two text areas, one for the incoming text, and one for the outgoing text. There are many (I mean, <em>many</em>) instances of sample code floating out there on the great interwebz for doing pretty much about anything using Swing, so you should probably be able to even find a ready-to-run sample chat application in Java using Swing out there.</p>\n"}],"owner":{"account_id":5703111,"reputation":651,"user_id":12982817,"display_name":"Ymi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71455636,"answer_count":1,"score":1,"last_activity_date":1647165656,"creation_date":1647163115,"question_id":71455374,"body_markdown":"I am trying to make a very simple chat program between two computers (server and client) using Java&#39;s UDP DatagramSockets and DatagramPackets. \r\n\r\nWhile they are able to successfully send messages to each other and print the messages on each other&#39;s terminal, **a limitation I found was that if I am in the middle of writing something and there is an incoming message, my own typing will get cut off.** This is due to using print statements to display the incoming messages on the terminal. An example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am wondering if **there are any kind of tools, frameworks or even ways of getting terminal input that can help to prevent this kind of display cut off of sentences we are typing.** \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hp4Te.png","title":"Java/Command Terminal: Prevent typing in terminal from getting cut off by incoming print statements","body":"<p>I am trying to make a very simple chat program between two computers (server and client) using Java's UDP DatagramSockets and DatagramPackets.</p>\n<p>While they are able to successfully send messages to each other and print the messages on each other's terminal, <strong>a limitation I found was that if I am in the middle of writing something and there is an incoming message, my own typing will get cut off.</strong> This is due to using print statements to display the incoming messages on the terminal. An example:</p>\n<p><a href=\"https://i.stack.imgur.com/hp4Te.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hp4Te.png\" alt=\"enter image description here\" /></a></p>\n<p>I am wondering if <strong>there are any kind of tools, frameworks or even ways of getting terminal input that can help to prevent this kind of display cut off of sentences we are typing.</strong></p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","jpa"],"answers":[{"tags":[],"owner":{"account_id":3214803,"reputation":531,"user_id":2846307,"display_name":"almac777"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647164264,"creation_date":1647164264,"answer_id":71455475,"question_id":71452246,"body_markdown":"You write that you tried different &quot;mappings&quot; and you noted `Patch` and `Put` mapping. These are Http methods and have nothing to do with JPA.\r\n\r\nInstead: it seems to me that the mapping from `GeoJson` to `Feature` is broken, it needs to be bi-directional.\r\n\r\nMy assumption:\r\n- You use `spring.jpa.hibernate.ddl-auto=create-drop`\r\n\r\nI copied your entities and ran the project; the following tables were created\r\n\r\n- `projects`\r\n- `geo_jsons`\r\n- `geo_jsons_features` (superfluous &amp; incorrect)\r\n- `features`\r\n- ...\r\n\r\nThis shows that your mapping is incorrect. I added bi-directional mapping for one-to-many as explained [here](https://www.baeldung.com/hibernate-one-to-many) and [here](https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/) - and the superfluous `geo_jsons_features` table disappeared.\r\n\r\nGeoJson:\r\n\r\n```java\r\n    @OneToMany(mappedBy = &quot;geoJson&quot;, cascade = CascadeType.ALL)\r\n    @ToString.Exclude\r\n    private List&lt;Feature&gt; features = new ArrayList&lt;&gt;();\r\n```\r\n\r\nand in Feature\r\n\r\n```java\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;geo_json_id&quot;)\r\n    private GeoJson geoJson;\r\n```\r\n\r\nThen I wrote a small test program and tried the cascading `save` and it worked:\r\n\r\n```java\r\n    @Autowired\r\n    private ProjectRepository projectRepository;\r\n    \r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        var p = new Project();\r\n        var g = new GeoJson();\r\n        var f1 = new Feature();\r\n        var f2 = new Feature();\r\n\r\n        p.setGeoJson(g);\r\n        g.addFeature(f1);\r\n        g.addFeature(f2);\r\n\r\n        projectRepository.save(p);\r\n        // after this operation the following are true:\r\n        // project contains 1 element\r\n        // geoJson contains 1 element\r\n        // feature table contains 2 elements\r\n    }\r\n```\r\n\r\nAdditional notes:\r\n- If you were to use the same name for your Primary key, e.g. `id` - you could pull the declaration for `@Id` into a `@MappedSuperclass` saving you some boiler plate code\r\n- Consider using `@CreatedDate` on `createdDateTime` and change it&#39;s type to `LocalDateTime`. Additionally add `@EntityListeners(AuditingEntityListener.class)` to that class for it to automatically set the attribute during save.\r\n- You should add `addChild(Child c)` and `removeChild(Child c)` methods as explained [here](https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/) (this is an excellent blog post which touches every aspect of any mapping type).","title":"How to update nested list of objects in Spring Boot?","body":"<p>You write that you tried different &quot;mappings&quot; and you noted <code>Patch</code> and <code>Put</code> mapping. These are Http methods and have nothing to do with JPA.</p>\n<p>Instead: it seems to me that the mapping from <code>GeoJson</code> to <code>Feature</code> is broken, it needs to be bi-directional.</p>\n<p>My assumption:</p>\n<ul>\n<li>You use <code>spring.jpa.hibernate.ddl-auto=create-drop</code></li>\n</ul>\n<p>I copied your entities and ran the project; the following tables were created</p>\n<ul>\n<li><code>projects</code></li>\n<li><code>geo_jsons</code></li>\n<li><code>geo_jsons_features</code> (superfluous &amp; incorrect)</li>\n<li><code>features</code></li>\n<li>...</li>\n</ul>\n<p>This shows that your mapping is incorrect. I added bi-directional mapping for one-to-many as explained <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">here</a> - and the superfluous <code>geo_jsons_features</code> table disappeared.</p>\n<p>GeoJson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @OneToMany(mappedBy = &quot;geoJson&quot;, cascade = CascadeType.ALL)\n    @ToString.Exclude\n    private List&lt;Feature&gt; features = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and in Feature</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToOne\n    @JoinColumn(name = &quot;geo_json_id&quot;)\n    private GeoJson geoJson;\n</code></pre>\n<p>Then I wrote a small test program and tried the cascading <code>save</code> and it worked:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private ProjectRepository projectRepository;\n    \n    @Override\n    public void run(String... args) throws Exception {\n        var p = new Project();\n        var g = new GeoJson();\n        var f1 = new Feature();\n        var f2 = new Feature();\n\n        p.setGeoJson(g);\n        g.addFeature(f1);\n        g.addFeature(f2);\n\n        projectRepository.save(p);\n        // after this operation the following are true:\n        // project contains 1 element\n        // geoJson contains 1 element\n        // feature table contains 2 elements\n    }\n</code></pre>\n<p>Additional notes:</p>\n<ul>\n<li>If you were to use the same name for your Primary key, e.g. <code>id</code> - you could pull the declaration for <code>@Id</code> into a <code>@MappedSuperclass</code> saving you some boiler plate code</li>\n<li>Consider using <code>@CreatedDate</code> on <code>createdDateTime</code> and change it's type to <code>LocalDateTime</code>. Additionally add <code>@EntityListeners(AuditingEntityListener.class)</code> to that class for it to automatically set the attribute during save.</li>\n<li>You should add <code>addChild(Child c)</code> and <code>removeChild(Child c)</code> methods as explained <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/\" rel=\"nofollow noreferrer\">here</a> (this is an excellent blog post which touches every aspect of any mapping type).</li>\n</ul>\n"}],"owner":{"account_id":8455866,"reputation":197,"user_id":6343186,"display_name":"TranceAddict"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647164264,"creation_date":1647109751,"question_id":71452246,"body_markdown":"I want to update all nested entities and delete old ones.\r\n\r\nMain entity:\r\n\r\n```\r\npublic class Project {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long projectId;\r\n\r\n    private String name;\r\n\r\n    private String createdDateTime;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;geo_json_id&quot;)\r\n    private GeoJson geoJson;\r\n}\r\n```\r\nChild entity:\r\n\r\n```\r\npublic class GeoJson {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long geoJsonId;\r\n    private String type;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @ToString.Exclude\r\n    private List&lt;Feature&gt; features = new ArrayList&lt;Feature&gt;();\r\n\r\n    public GeoJson() {\r\n    }\r\n}\r\n```\r\n\r\nFeature entity:\r\n```public class Feature {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long fId;\r\n    private String type;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    private Properties properties;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    private Geometry geometry;\r\n}\r\n```\r\n\r\nI tried Patch Mapping:\r\n```\r\n  @PatchMapping(&quot;/projects/{projectId}/geojson&quot;)\r\n    @Transactional\r\n    @ResponseBody\r\n    public void updateGeoJson(\r\n            @PathVariable long projectId,\r\n            @RequestBody ProjectDTO projectDTO) throws IOException {\r\n        Project project = projectRepository.findById(projectId)\r\n                .orElseThrow(()-&gt; new ProjectNotFoundException(projectId));\r\n        boolean needUpdate = false;\r\n\r\n        GeoJson geoJson;\r\n\r\n        if (project.getGeoJson()!=null)\r\n            geoJson = project.getGeoJson();\r\n        else\r\n            geoJson = new GeoJson();\r\n\r\n        if(StringUtils.hasLength(projectDTO.getName())){\r\n            projectDTO.setName(projectDTO.getName()\r\n            );\r\n            needUpdate = true;\r\n        }\r\n        GeoJsonDTO geoJsonDTO = projectDTO.getGeoJson();\r\n        \r\n        if(geoJsonDTO.getFeatures() != null) {\r\n            \r\n            geoJson.setType(geoJsonDTO.getType());\r\n\r\n            List&lt;Feature&gt; featureList = new ArrayList&lt;Feature&gt;();\r\n\r\n            for (FeatureDTO featureDTO : geoJsonDTO.getFeatures())\r\n            {\r\n                Geometry geometry = new Geometry();\r\n                String coordinatesInString = CoordinatesConverter.arrayToString(featureDTO.getGeometry().getCoordinates());\r\n                geometry.setCoordinates(coordinatesInString);\r\n                geometry.setType(featureDTO.getGeometry().getType());\r\n\r\n                Properties properties = new Properties();\r\n                properties.setType(featureDTO.getProperties().getType());\r\n\r\n                Feature feature = new Feature();\r\n                feature.setType(featureDTO.getType());\r\n                feature.setGeometry(geometry);\r\n                feature.setProperties(properties);\r\n\r\n                featureList.add(feature);\r\n            }\r\n            geoJson.setGeoJsonId(projectId);\r\n            geoJson.setFeatures(featureList);\r\n\r\n            needUpdate = true;\r\n        }\r\n        project.setGeoJson(geoJson);\r\n\r\n        if(needUpdate)\r\n            projectRepository.save(project);\r\n    }\r\n```\r\n\r\nIt doesn&#39;t update children tables. For example, if i have 3 **features** in a project table and send 2 new **features** it becomes 5 **features**. I want to delete old ones. I also tried Put Mapping. Maybe i should delete all **features** before updating, but i don&#39;t know how to delete all **features** for individual **project**. What should i do?\r\nHibernate logging:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rtgX3.png","title":"How to update nested list of objects in Spring Boot?","body":"<p>I want to update all nested entities and delete old ones.</p>\n<p>Main entity:</p>\n<pre><code>public class Project {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long projectId;\n\n    private String name;\n\n    private String createdDateTime;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;geo_json_id&quot;)\n    private GeoJson geoJson;\n}\n</code></pre>\n<p>Child entity:</p>\n<pre><code>public class GeoJson {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long geoJsonId;\n    private String type;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @ToString.Exclude\n    private List&lt;Feature&gt; features = new ArrayList&lt;Feature&gt;();\n\n    public GeoJson() {\n    }\n}\n</code></pre>\n<p>Feature entity:</p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long fId;\n    private String type;\n    @OneToOne(cascade = CascadeType.ALL)\n    private Properties properties;\n    @OneToOne(cascade = CascadeType.ALL)\n    private Geometry geometry;\n}\n</code></pre>\n<p>I tried Patch Mapping:</p>\n<pre><code>  @PatchMapping(&quot;/projects/{projectId}/geojson&quot;)\n    @Transactional\n    @ResponseBody\n    public void updateGeoJson(\n            @PathVariable long projectId,\n            @RequestBody ProjectDTO projectDTO) throws IOException {\n        Project project = projectRepository.findById(projectId)\n                .orElseThrow(()-&gt; new ProjectNotFoundException(projectId));\n        boolean needUpdate = false;\n\n        GeoJson geoJson;\n\n        if (project.getGeoJson()!=null)\n            geoJson = project.getGeoJson();\n        else\n            geoJson = new GeoJson();\n\n        if(StringUtils.hasLength(projectDTO.getName())){\n            projectDTO.setName(projectDTO.getName()\n            );\n            needUpdate = true;\n        }\n        GeoJsonDTO geoJsonDTO = projectDTO.getGeoJson();\n        \n        if(geoJsonDTO.getFeatures() != null) {\n            \n            geoJson.setType(geoJsonDTO.getType());\n\n            List&lt;Feature&gt; featureList = new ArrayList&lt;Feature&gt;();\n\n            for (FeatureDTO featureDTO : geoJsonDTO.getFeatures())\n            {\n                Geometry geometry = new Geometry();\n                String coordinatesInString = CoordinatesConverter.arrayToString(featureDTO.getGeometry().getCoordinates());\n                geometry.setCoordinates(coordinatesInString);\n                geometry.setType(featureDTO.getGeometry().getType());\n\n                Properties properties = new Properties();\n                properties.setType(featureDTO.getProperties().getType());\n\n                Feature feature = new Feature();\n                feature.setType(featureDTO.getType());\n                feature.setGeometry(geometry);\n                feature.setProperties(properties);\n\n                featureList.add(feature);\n            }\n            geoJson.setGeoJsonId(projectId);\n            geoJson.setFeatures(featureList);\n\n            needUpdate = true;\n        }\n        project.setGeoJson(geoJson);\n\n        if(needUpdate)\n            projectRepository.save(project);\n    }\n</code></pre>\n<p>It doesn't update children tables. For example, if i have 3 <strong>features</strong> in a project table and send 2 new <strong>features</strong> it becomes 5 <strong>features</strong>. I want to delete old ones. I also tried Put Mapping. Maybe i should delete all <strong>features</strong> before updating, but i don't know how to delete all <strong>features</strong> for individual <strong>project</strong>. What should i do?\nHibernate logging:</p>\n<p><a href=\"https://i.stack.imgur.com/rtgX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rtgX3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":24456891,"reputation":23,"user_id":18378352,"display_name":"programmingLearn"},"score":0,"creation_date":1647137259,"post_id":71453551,"comment_id":126295295,"body_markdown":"This program essentially creates an array given a length by the user. Then, the array is populated with random numbers between 1 and 6 included. The goal is to print the array with duplicate integers that are also next to each other in parentheses.","body":"This program essentially creates an array given a length by the user. Then, the array is populated with random numbers between 1 and 6 included. The goal is to print the array with duplicate integers that are also next to each other in parentheses."},{"owner":{"account_id":24456891,"reputation":23,"user_id":18378352,"display_name":"programmingLearn"},"score":0,"creation_date":1647137372,"post_id":71453551,"comment_id":126295299,"body_markdown":"@Justin The question is, how can I stop the parenthese when I have a longer string of duplicates. In an output, I want something like `12(333)4566` as the array despite having the 6 duplicates. It needs to only mark the greatest string of duplicates.","body":"@Justin The question is, how can I stop the parenthese when I have a longer string of duplicates. In an output, I want something like <code>12(333)4566</code> as the array despite having the 6 duplicates. It needs to only mark the greatest string of duplicates."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":2,"creation_date":1647138030,"post_id":71453551,"comment_id":126295356,"body_markdown":"You could break your problem into two steps.  In the first step, find the start and end positions in your array of the longest string of duplicates.  In the second step, create your new string with the parentheses wrapping the best content.","body":"You could break your problem into two steps.  In the first step, find the start and end positions in your array of the longest string of duplicates.  In the second step, create your new string with the parentheses wrapping the best content."},{"owner":{"account_id":24456891,"reputation":23,"user_id":18378352,"display_name":"programmingLearn"},"score":0,"creation_date":1647140645,"post_id":71453551,"comment_id":126295578,"body_markdown":"@phatfingers Could you maybe integrate this into the program? Where do I begin?","body":"@phatfingers Could you maybe integrate this into the program? Where do I begin?"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647163506,"creation_date":1647157413,"answer_id":71454778,"question_id":71453551,"body_markdown":"# Introduction\r\n\r\nI modified your code and ran 63 tests.  Here are the results of the 63rd test.\r\n\r\n    How many dice do you want me to throw?\r\n    Type a number between 10 and 30\r\n    15\r\n    The 15 die rolls are: [2, 3, 4, 4, 6, 6, 5, 4, 6, 3, 3, 5, 4, 1, 4]\r\n    The first, longest duplicate run is: [2, 3, (4, 4), 6, 6, 5, 4, 6, 3, 3, 5, 4, 1, 4]\r\n    Would you like to reroll (y or n)?\r\n    y\r\n    How many dice do you want me to throw?\r\n    Type a number between 10 and 30\r\n    15\r\n    The 15 die rolls are: [3, 1, 6, 4, 3, 5, 4, 6, 1, 1, 1, 5, 2, 6, 5]\r\n    The first, longest duplicate run is: [3, 1, 6, 4, 3, 5, 4, 6, (1, 1, 1), 5, 2, 6, 5]\r\n    Would you like to reroll (y or n)?\r\n    y\r\n    How many dice do you want me to throw?\r\n    Type a number between 10 and 30\r\n    15\r\n    The 15 die rolls are: [1, 2, 5, 1, 2, 6, 4, 1, 4, 4, 6, 4, 5, 1, 1]\r\n    The first, longest duplicate run is: [1, 2, 5, 1, 2, 6, 4, 1, (4, 4), 6, 4, 5, 1, 1]\r\n    Would you like to reroll (y or n)?\r\n    n\r\n\r\n# Explanation\r\n\r\nThe first thing I did was break your monolithic code up into methods  I wound up creating nine methods, not including the `main` method.  By splitting your code up into methods, I was able to test each small part individually.  As I said, I ran 63 tests before I was satisfied with the code.\r\n\r\nJava method names are verb-noun combinations.\r\n\r\nThe `findLargestDuplicates` method requires some explanation.  The method returns a pair of indexes, a start index and an end index.  If there are no duplicate dice rolls the method returns an end index of zero.  \r\n\r\nThe `findLargestDuplicates` method finds the start index of each and every run of duplicate dice rolls.  Only the largest run of duplicate dice rolls is kept and returned.  Because the dice roll array is checked from the first index through the last, the first, longest run of duplicate dice rolls is returned.\r\n\r\nI returned an `int` array of two index values because a Java method returns one value.\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class DieToss {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tnew DieToss().performDieToss(scanner);\r\n    \t\tscanner.close();\r\n    \t}\r\n    \t\r\n    \tpublic void performDieToss(Scanner scanner) {\r\n    \t\tRandom random = new Random();\r\n    \t\t\r\n    \t\tdo {\r\n    \t\t\tint numberOfTosses = getNumberOfTosses(scanner);\r\n    \t\t\tint[] dieToss = createRandomArray(random, numberOfTosses);\r\n    \t\t\tint[] indexes = findLargestDuplicates(dieToss);\r\n    \t\t\t\r\n    \t\t\tString prefix = &quot;The &quot; + numberOfTosses + &quot; die rolls are: &quot;;\r\n    \t\t\tSystem.out.println(generateOutput(prefix, dieToss));\r\n    \t\t\t\r\n    \t\t\tif (indexes[1] == 0) {\r\n    \t\t\t\tSystem.out.println(&quot;There were no duplicate dice rolls&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tprefix = &quot;The first, longest duplicate run is: &quot;;\r\n    \t\t\t\tSystem.out.println(generateOutput(prefix, dieToss, indexes));\r\n    \t\t\t}\r\n    \t\t} while (continueRolling(scanner));\r\n    \t}\r\n    \t\r\n    \tprivate int getNumberOfTosses(Scanner scanner) {\r\n    \t\tint numberOfTosses = 0;\r\n    \t\tint minimum = 10;\r\n    \t\tint maximum = 30;\r\n    \t\tString text = &quot;Type a number between &quot; + minimum + &quot; and &quot; + maximum;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;How many dice do you want me to throw?&quot;);\r\n    \t\tSystem.out.println(text);\r\n    \t\t\r\n    \t\tdo {\r\n    \t\t\tnumberOfTosses = valueOf(scanner.nextLine().trim());\r\n    \t\t\tif (!isNumberInRange(numberOfTosses, minimum, maximum)) {\r\n    \t\t\t\tSystem.out.println(text);\r\n    \t\t\t}\r\n    \t\t} while (!isNumberInRange(numberOfTosses, minimum, maximum));\r\n    \t\t\r\n    \t\treturn numberOfTosses;\r\n    \t}\r\n    \t\r\n    \tprivate boolean isNumberInRange(int number, int minimum, int maximum) {\r\n    \t\treturn number &gt;= minimum &amp;&amp; number &lt;= maximum;\r\n    \t}\r\n    \t\r\n    \tprivate int valueOf(String line) {\r\n    \t\ttry {\r\n    \t\t\treturn Integer.valueOf(line);\r\n    \t\t} catch (NumberFormatException e) {\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate int[] createRandomArray(Random random, int numberOfTosses) {\r\n    \t\t int[] dieToss = new int[numberOfTosses];\r\n             \r\n    \t\t for (int i = 0; i &lt; dieToss.length; i++) {\r\n                 dieToss[i] = 1 + random.nextInt(6);\r\n             }\r\n             \r\n             return dieToss;\r\n    \t}\r\n    \t\r\n    \tprivate int[] findLargestDuplicates(int[] dieToss) {\r\n    \t\tint startIndex = 0;\r\n    \t\tint duplicateValue = 0;\r\n    \t\tint duplicateCount = 0;\r\n    \t\tint maximumStartIndex = 0;\r\n    \t\tint maximumEndIndex = 0;\r\n    \t\tint maximumDuplicateCount = 0;\r\n    \t\t\r\n    \t\tfor (int index = 0; index &lt; dieToss.length; index++) {\r\n    \t\t\tif (dieToss[index] == duplicateValue) {\r\n    \t\t\t\tduplicateCount++;\r\n    \t\t\t\tif (index &gt;= (dieToss.length - 1)) {\r\n    \t\t\t\t\tif (duplicateCount &gt; maximumDuplicateCount) {\r\n    \t\t\t\t\t\tmaximumStartIndex = startIndex;\r\n    \t\t\t\t\t\tmaximumEndIndex = index;\r\n    \t\t\t\t\t\tmaximumDuplicateCount = duplicateCount;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tif (index &lt; (dieToss.length - 1)) {\r\n    \t\t\t\t\tif (duplicateCount &gt; maximumDuplicateCount) {\r\n    \t\t\t\t\t\tmaximumStartIndex = startIndex;\r\n    \t\t\t\t\t\tmaximumEndIndex = index - 1;\r\n    \t\t\t\t\t\tmaximumDuplicateCount = duplicateCount;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tif (duplicateCount &gt; maximumDuplicateCount) {\r\n    \t\t\t\t\t\tmaximumStartIndex = startIndex;\r\n    \t\t\t\t\t\tmaximumEndIndex = index;\r\n    \t\t\t\t\t\tmaximumDuplicateCount = duplicateCount;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (maximumEndIndex &lt; maximumStartIndex) {\r\n    \t\t\t\t\t\tmaximumEndIndex = index;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tstartIndex = index;\r\n    \t\t\t\tduplicateValue = dieToss[index];\r\n    \t\t\t\tduplicateCount = 1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tint[] indexes = { maximumStartIndex, maximumEndIndex };\r\n    \t\treturn indexes;\r\n    \t}\r\n    \t\r\n    \tprivate String generateOutput(String prefix, int[] dieToss) {\r\n    \t\treturn prefix + Arrays.toString(dieToss);\r\n    \t}\r\n    \t\r\n    \tprivate String generateOutput(String prefix, int[] dieToss, int[] indexes) {\r\n    \t\tString output = prefix + &quot;[&quot;;\r\n    \t\tfor (int index = 0; index &lt; dieToss.length; index++) {\r\n    \t\t\tif (indexes[0] == index) {\r\n    \t\t\t\toutput += &quot;(&quot;;\r\n    \t\t\t}\r\n    \r\n    \t\t\toutput += dieToss[index];\r\n    \t\t\tif (indexes[1] == index) {\r\n    \t\t\t\toutput += &quot;)&quot;;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (index &lt; (dieToss.length - 1)) {\r\n    \t\t\t\toutput += &quot;, &quot;;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\toutput += &quot;]&quot;;\r\n    \t\t\r\n    \t\treturn output;\r\n    \t}\r\n    \t\r\n    \tprivate boolean continueRolling(Scanner scanner) {\r\n    \t\tSystem.out.println(&quot;Would you like to reroll (y or n)?&quot;);\r\n    \t\tString line = scanner.nextLine().trim();\r\n    \t\tif (line.length() &gt; 0) {\r\n    \t\t\tchar c = Character.toLowerCase(line.charAt(0));\r\n    \t\t\treturn c == &#39;y&#39;;\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Working on Program Called DieToss that Searches for Duplicate Tosses. How can I limit where parentheses can close?","body":"<h1>Introduction</h1>\n<p>I modified your code and ran 63 tests.  Here are the results of the 63rd test.</p>\n<pre><code>How many dice do you want me to throw?\nType a number between 10 and 30\n15\nThe 15 die rolls are: [2, 3, 4, 4, 6, 6, 5, 4, 6, 3, 3, 5, 4, 1, 4]\nThe first, longest duplicate run is: [2, 3, (4, 4), 6, 6, 5, 4, 6, 3, 3, 5, 4, 1, 4]\nWould you like to reroll (y or n)?\ny\nHow many dice do you want me to throw?\nType a number between 10 and 30\n15\nThe 15 die rolls are: [3, 1, 6, 4, 3, 5, 4, 6, 1, 1, 1, 5, 2, 6, 5]\nThe first, longest duplicate run is: [3, 1, 6, 4, 3, 5, 4, 6, (1, 1, 1), 5, 2, 6, 5]\nWould you like to reroll (y or n)?\ny\nHow many dice do you want me to throw?\nType a number between 10 and 30\n15\nThe 15 die rolls are: [1, 2, 5, 1, 2, 6, 4, 1, 4, 4, 6, 4, 5, 1, 1]\nThe first, longest duplicate run is: [1, 2, 5, 1, 2, 6, 4, 1, (4, 4), 6, 4, 5, 1, 1]\nWould you like to reroll (y or n)?\nn\n</code></pre>\n<h1>Explanation</h1>\n<p>The first thing I did was break your monolithic code up into methods  I wound up creating nine methods, not including the <code>main</code> method.  By splitting your code up into methods, I was able to test each small part individually.  As I said, I ran 63 tests before I was satisfied with the code.</p>\n<p>Java method names are verb-noun combinations.</p>\n<p>The <code>findLargestDuplicates</code> method requires some explanation.  The method returns a pair of indexes, a start index and an end index.  If there are no duplicate dice rolls the method returns an end index of zero.</p>\n<p>The <code>findLargestDuplicates</code> method finds the start index of each and every run of duplicate dice rolls.  Only the largest run of duplicate dice rolls is kept and returned.  Because the dice roll array is checked from the first index through the last, the first, longest run of duplicate dice rolls is returned.</p>\n<p>I returned an <code>int</code> array of two index values because a Java method returns one value.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class DieToss {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        new DieToss().performDieToss(scanner);\n        scanner.close();\n    }\n    \n    public void performDieToss(Scanner scanner) {\n        Random random = new Random();\n        \n        do {\n            int numberOfTosses = getNumberOfTosses(scanner);\n            int[] dieToss = createRandomArray(random, numberOfTosses);\n            int[] indexes = findLargestDuplicates(dieToss);\n            \n            String prefix = &quot;The &quot; + numberOfTosses + &quot; die rolls are: &quot;;\n            System.out.println(generateOutput(prefix, dieToss));\n            \n            if (indexes[1] == 0) {\n                System.out.println(&quot;There were no duplicate dice rolls&quot;);\n            } else {\n                prefix = &quot;The first, longest duplicate run is: &quot;;\n                System.out.println(generateOutput(prefix, dieToss, indexes));\n            }\n        } while (continueRolling(scanner));\n    }\n    \n    private int getNumberOfTosses(Scanner scanner) {\n        int numberOfTosses = 0;\n        int minimum = 10;\n        int maximum = 30;\n        String text = &quot;Type a number between &quot; + minimum + &quot; and &quot; + maximum;\n        \n        System.out.println(&quot;How many dice do you want me to throw?&quot;);\n        System.out.println(text);\n        \n        do {\n            numberOfTosses = valueOf(scanner.nextLine().trim());\n            if (!isNumberInRange(numberOfTosses, minimum, maximum)) {\n                System.out.println(text);\n            }\n        } while (!isNumberInRange(numberOfTosses, minimum, maximum));\n        \n        return numberOfTosses;\n    }\n    \n    private boolean isNumberInRange(int number, int minimum, int maximum) {\n        return number &gt;= minimum &amp;&amp; number &lt;= maximum;\n    }\n    \n    private int valueOf(String line) {\n        try {\n            return Integer.valueOf(line);\n        } catch (NumberFormatException e) {\n            return 0;\n        }\n    }\n    \n    private int[] createRandomArray(Random random, int numberOfTosses) {\n         int[] dieToss = new int[numberOfTosses];\n         \n         for (int i = 0; i &lt; dieToss.length; i++) {\n             dieToss[i] = 1 + random.nextInt(6);\n         }\n         \n         return dieToss;\n    }\n    \n    private int[] findLargestDuplicates(int[] dieToss) {\n        int startIndex = 0;\n        int duplicateValue = 0;\n        int duplicateCount = 0;\n        int maximumStartIndex = 0;\n        int maximumEndIndex = 0;\n        int maximumDuplicateCount = 0;\n        \n        for (int index = 0; index &lt; dieToss.length; index++) {\n            if (dieToss[index] == duplicateValue) {\n                duplicateCount++;\n                if (index &gt;= (dieToss.length - 1)) {\n                    if (duplicateCount &gt; maximumDuplicateCount) {\n                        maximumStartIndex = startIndex;\n                        maximumEndIndex = index;\n                        maximumDuplicateCount = duplicateCount;\n                    }\n                }\n            } else {\n                if (index &lt; (dieToss.length - 1)) {\n                    if (duplicateCount &gt; maximumDuplicateCount) {\n                        maximumStartIndex = startIndex;\n                        maximumEndIndex = index - 1;\n                        maximumDuplicateCount = duplicateCount;\n                    }\n                } else {\n                    if (duplicateCount &gt; maximumDuplicateCount) {\n                        maximumStartIndex = startIndex;\n                        maximumEndIndex = index;\n                        maximumDuplicateCount = duplicateCount;\n                    }\n                    \n                    if (maximumEndIndex &lt; maximumStartIndex) {\n                        maximumEndIndex = index;\n                    }\n                }\n                \n                startIndex = index;\n                duplicateValue = dieToss[index];\n                duplicateCount = 1;\n            }\n        }\n        \n        int[] indexes = { maximumStartIndex, maximumEndIndex };\n        return indexes;\n    }\n    \n    private String generateOutput(String prefix, int[] dieToss) {\n        return prefix + Arrays.toString(dieToss);\n    }\n    \n    private String generateOutput(String prefix, int[] dieToss, int[] indexes) {\n        String output = prefix + &quot;[&quot;;\n        for (int index = 0; index &lt; dieToss.length; index++) {\n            if (indexes[0] == index) {\n                output += &quot;(&quot;;\n            }\n\n            output += dieToss[index];\n            if (indexes[1] == index) {\n                output += &quot;)&quot;;\n            }\n\n            if (index &lt; (dieToss.length - 1)) {\n                output += &quot;, &quot;;\n            }\n        }\n        output += &quot;]&quot;;\n        \n        return output;\n    }\n    \n    private boolean continueRolling(Scanner scanner) {\n        System.out.println(&quot;Would you like to reroll (y or n)?&quot;);\n        String line = scanner.nextLine().trim();\n        if (line.length() &gt; 0) {\n            char c = Character.toLowerCase(line.charAt(0));\n            return c == 'y';\n        } else {\n            return false;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24456891,"reputation":23,"user_id":18378352,"display_name":"programmingLearn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71454778,"answer_count":1,"score":0,"last_activity_date":1647163506,"creation_date":1647131118,"question_id":71453551,"body_markdown":"Hello StackoverFlow Community\r\n\r\nI am working on a DieToss program intended to print random sequence numbers given an inputted length and the randomized toss needs to be between 1 and 6. The goal is to put parentheses around the longest or first string of duplicates.\r\n\r\nThe issue here is that it continues to put parentheses around all duplicate strings of integers and I have been unsuccessful in my efforts.\r\n \r\nBelow is the program to look for duplicates in a given array of integers.\r\n\r\n  \r\n    public class DieToss {\r\n        public static void main(String[] args) {\r\n            boolean restartQ = true;\r\n            \r\n             while(restartQ){\r\n                int numDie = 0;\r\n                \r\n                Scanner in = new Scanner(System.in);\r\n                \r\n                boolean ehandle = true;\r\n                \r\n                System.out.println(&quot;Tell me how many dice you want me to throw?&quot;);\r\n                \r\n                System.out.println(&quot;Be sure that it is 10 or greater but only up to 30&quot;);\r\n                \r\n                \r\n                while (ehandle) {\r\n                    try {\r\n                      numDie = in.nextInt();\r\n                      if(numDie &lt;= 30 &amp;&amp; numDie &gt;= 10){\r\n                          ehandle = false;\r\n                      }\r\n                      \r\n                      else{\r\n                          System.out.println(&quot;Please Re-enter. It needs to be greater than or equal to 10 but only up to 30.&quot;);\r\n                          System.out.println(&quot;Tell me how many dice you want me to throw?&quot;);\r\n                          continue;\r\n                      }\r\n                    } \r\n                    catch (Exception e) {\r\n                      System.out.println(&quot;Please enter integers only&quot;);\r\n                      \r\n                      System.out.println(&quot;Tell me how many dice you want me to throw?&quot;);\r\n                \r\n                      System.out.println(&quot;Be sure that it is 10 or greater but only up to 30&quot;);\r\n                      in.next();\r\n                    }\r\n                }\r\n                \r\n                int[] dieToss = new int[numDie];\r\n                Random random = new Random();\r\n                \r\n        \r\n                for (int i = 0; i &lt; dieToss.length; i++) {\r\n                    dieToss[i] = 1 + random.nextInt(6);\r\n                }\r\n        \r\n                //String dieArr = (Arrays.toString(dieToss));\r\n                \r\n                //System.out.print(Arrays.toString(dieToss));\r\n                \r\n                boolean parenOpen = false;\r\n                \r\n                \r\n                for (int i = 0; i &lt; dieToss.length; i++){\r\n                    if (i &lt; dieToss.length - 1)\r\n                    {\r\n                        if (dieToss[i] == dieToss[i + 1] &amp;&amp; !parenOpen )\r\n                        {\r\n                            System.out.print(&quot;(&quot;);\r\n                            parenOpen = true;\r\n                        }\r\n                        System.out.print(dieToss[i] + &quot; &quot;);\r\n                        if (dieToss[i] != dieToss[i + 1] &amp;&amp; parenOpen)\r\n                        {\r\n                            System.out.print(&quot;)&quot;);\r\n                            parenOpen = false;\r\n                        }\r\n        \r\n                    }\r\n        \r\n                }\r\n                System.out.println(dieToss[dieToss.length - 1]);\r\n                System.out.println(&quot; &quot;);\r\n                \r\n                System.out.println(&quot;Any duplicates that I have found are displayed above in parentheses.&quot;);\r\n                if (parenOpen)\r\n                {\r\n                    System.out.print(&quot;)&quot;);\r\n                }\r\n                \r\n                System.out.println(&quot;Would you like to reroll? Maybe test your luck?&quot;);\r\n                System.out.println(&quot; &quot;);\r\n                System.out.println(&quot;Enter any key if you would like to. Press n to exit.&quot;);\r\n                \r\n                Scanner in2 = new Scanner(System.in);\r\n                \r\n                String reRoll = in2.nextLine();\r\n                \r\n                if(reRoll.equals(&quot;n&quot;) || reRoll.equals(&quot;N&quot;)){\r\n                    restartQ = false;\r\n                }\r\n                else{\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow can I modify this block of code to limit itself to the longest string of duplicates?\r\n\r\nAny help is greatly appreciated.","title":"Working on Program Called DieToss that Searches for Duplicate Tosses. How can I limit where parentheses can close?","body":"<p>Hello StackoverFlow Community</p>\n<p>I am working on a DieToss program intended to print random sequence numbers given an inputted length and the randomized toss needs to be between 1 and 6. The goal is to put parentheses around the longest or first string of duplicates.</p>\n<p>The issue here is that it continues to put parentheses around all duplicate strings of integers and I have been unsuccessful in my efforts.</p>\n<p>Below is the program to look for duplicates in a given array of integers.</p>\n<pre><code>public class DieToss {\n    public static void main(String[] args) {\n        boolean restartQ = true;\n        \n         while(restartQ){\n            int numDie = 0;\n            \n            Scanner in = new Scanner(System.in);\n            \n            boolean ehandle = true;\n            \n            System.out.println(&quot;Tell me how many dice you want me to throw?&quot;);\n            \n            System.out.println(&quot;Be sure that it is 10 or greater but only up to 30&quot;);\n            \n            \n            while (ehandle) {\n                try {\n                  numDie = in.nextInt();\n                  if(numDie &lt;= 30 &amp;&amp; numDie &gt;= 10){\n                      ehandle = false;\n                  }\n                  \n                  else{\n                      System.out.println(&quot;Please Re-enter. It needs to be greater than or equal to 10 but only up to 30.&quot;);\n                      System.out.println(&quot;Tell me how many dice you want me to throw?&quot;);\n                      continue;\n                  }\n                } \n                catch (Exception e) {\n                  System.out.println(&quot;Please enter integers only&quot;);\n                  \n                  System.out.println(&quot;Tell me how many dice you want me to throw?&quot;);\n            \n                  System.out.println(&quot;Be sure that it is 10 or greater but only up to 30&quot;);\n                  in.next();\n                }\n            }\n            \n            int[] dieToss = new int[numDie];\n            Random random = new Random();\n            \n    \n            for (int i = 0; i &lt; dieToss.length; i++) {\n                dieToss[i] = 1 + random.nextInt(6);\n            }\n    \n            //String dieArr = (Arrays.toString(dieToss));\n            \n            //System.out.print(Arrays.toString(dieToss));\n            \n            boolean parenOpen = false;\n            \n            \n            for (int i = 0; i &lt; dieToss.length; i++){\n                if (i &lt; dieToss.length - 1)\n                {\n                    if (dieToss[i] == dieToss[i + 1] &amp;&amp; !parenOpen )\n                    {\n                        System.out.print(&quot;(&quot;);\n                        parenOpen = true;\n                    }\n                    System.out.print(dieToss[i] + &quot; &quot;);\n                    if (dieToss[i] != dieToss[i + 1] &amp;&amp; parenOpen)\n                    {\n                        System.out.print(&quot;)&quot;);\n                        parenOpen = false;\n                    }\n    \n                }\n    \n            }\n            System.out.println(dieToss[dieToss.length - 1]);\n            System.out.println(&quot; &quot;);\n            \n            System.out.println(&quot;Any duplicates that I have found are displayed above in parentheses.&quot;);\n            if (parenOpen)\n            {\n                System.out.print(&quot;)&quot;);\n            }\n            \n            System.out.println(&quot;Would you like to reroll? Maybe test your luck?&quot;);\n            System.out.println(&quot; &quot;);\n            System.out.println(&quot;Enter any key if you would like to. Press n to exit.&quot;);\n            \n            Scanner in2 = new Scanner(System.in);\n            \n            String reRoll = in2.nextLine();\n            \n            if(reRoll.equals(&quot;n&quot;) || reRoll.equals(&quot;N&quot;)){\n                restartQ = false;\n            }\n            else{\n                continue;\n            }\n        }\n    }\n}\n</code></pre>\n<p>How can I modify this block of code to limit itself to the longest string of duplicates?</p>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","data-structures","linked-list","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":10949787,"reputation":71,"user_id":8046502,"display_name":"Subhash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647090612,"creation_date":1647090612,"answer_id":71449978,"question_id":71449729,"body_markdown":"It should be very simple to find out with debugging step by step, and I guess that is way to learn it... try out putting break point at while loop and next line (assigning value directly to `head`), and check values of variables (mostly F8 key for debugging)...  ","title":"facing problem while adding to a linked list, two seemingly identical codes are giving very different results","body":"<p>It should be very simple to find out with debugging step by step, and I guess that is way to learn it... try out putting break point at while loop and next line (assigning value directly to <code>head</code>), and check values of variables (mostly F8 key for debugging)...</p>\n"},{"tags":[],"owner":{"account_id":22386487,"reputation":88,"user_id":17280127,"display_name":"Devesh jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647163125,"creation_date":1647163125,"answer_id":71455377,"question_id":71449729,"body_markdown":"In your first code while loop terminates when `head.next != null`, after termination head will point to last node in the linked list and when you do `head.next = s` it will append new node to you existing list.\r\n\r\nIn your second code while loop terminates when `head == null`, after termination head will point to `null`. so now you are assigning `head = s` so head will point to newly created node and it is not appended to your original list.\r\n\r\n","title":"facing problem while adding to a linked list, two seemingly identical codes are giving very different results","body":"<p>In your first code while loop terminates when <code>head.next != null</code>, after termination head will point to last node in the linked list and when you do <code>head.next = s</code> it will append new node to you existing list.</p>\n<p>In your second code while loop terminates when <code>head == null</code>, after termination head will point to <code>null</code>. so now you are assigning <code>head = s</code> so head will point to newly created node and it is not appended to your original list.</p>\n"}],"owner":{"account_id":21010283,"reputation":38,"user_id":15439049,"display_name":"shivam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71455377,"answer_count":2,"score":0,"last_activity_date":1647163125,"creation_date":1647088308,"question_id":71449729,"body_markdown":"i am here trying to add a node to a singlylinkedlist \r\n\r\n\r\n    SinglyLinkedListNode s = new SinglyLinkedListNode(data);\r\n      if(head == null){SinglyLinkedList a = new SinglyLinkedList();\r\n      a.head = s;\r\n      return a.head;}\r\n      else{\r\n          SinglyLinkedListNode a = head;\r\n          while(head.next != null){\r\n              head = head.next;}\r\n            head.next = s;\r\n            return a;\r\n      }\r\n\r\n\r\nthis one works but if i do this -\r\n\r\n     SinglyLinkedListNode s = new SinglyLinkedListNode(data);\r\n      if(head == null){SinglyLinkedList a = new SinglyLinkedList();\r\n      a.head = s;\r\n      return a.head;}\r\n      else{\r\n          SinglyLinkedListNode a = head;\r\n          while(head != null){\r\n              head = head.next;}\r\n            head = s;\r\n            return a;\r\n      }\r\nsome how the list now contains only one node","title":"facing problem while adding to a linked list, two seemingly identical codes are giving very different results","body":"<p>i am here trying to add a node to a singlylinkedlist</p>\n<pre><code>SinglyLinkedListNode s = new SinglyLinkedListNode(data);\n  if(head == null){SinglyLinkedList a = new SinglyLinkedList();\n  a.head = s;\n  return a.head;}\n  else{\n      SinglyLinkedListNode a = head;\n      while(head.next != null){\n          head = head.next;}\n        head.next = s;\n        return a;\n  }\n</code></pre>\n<p>this one works but if i do this -</p>\n<pre><code> SinglyLinkedListNode s = new SinglyLinkedListNode(data);\n  if(head == null){SinglyLinkedList a = new SinglyLinkedList();\n  a.head = s;\n  return a.head;}\n  else{\n      SinglyLinkedListNode a = head;\n      while(head != null){\n          head = head.next;}\n        head = s;\n        return a;\n  }\n</code></pre>\n<p>some how the list now contains only one node</p>\n"},{"tags":["java","arrays","class","printing","foreach"],"comments":[{"owner":{"account_id":146892,"reputation":33550,"user_id":357641,"accept_rate":55,"display_name":"Greg"},"score":2,"creation_date":1301070073,"post_id":5435116,"comment_id":6154189,"body_markdown":"In java, it&#39;s customary to start class names with a capital (i.e., TmUser instead of tmUser), and to start variable names with a lower case letter (i.e., username instead of Username). Formatting your code like this will make it more readable to other java developers that are used to these conventions.","body":"In java, it&#39;s customary to start class names with a capital (i.e., TmUser instead of tmUser), and to start variable names with a lower case letter (i.e., username instead of Username). Formatting your code like this will make it more readable to other java developers that are used to these conventions."}],"answers":[{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1301069966,"creation_date":1301069966,"answer_id":5435149,"question_id":5435116,"body_markdown":"You almost had it: \r\n\r\n\r\n    List&lt;TmUser&gt; tmUsers = ... \r\n    for(TmUser user : tmUsers) {\r\n        System.out.println(user.getUsername());\r\n    }\r\n\r\nYou would also want to capitalize `tmUser` into `TmUser`. ","title":"How to print the output of an accessor of every instance of a class?","body":"<p>You almost had it: </p>\n\n<pre><code>List&lt;TmUser&gt; tmUsers = ... \nfor(TmUser user : tmUsers) {\n    System.out.println(user.getUsername());\n}\n</code></pre>\n\n<p>You would also want to capitalize <code>tmUser</code> into <code>TmUser</code>. </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1301070032,"creation_date":1301070032,"answer_id":5435166,"question_id":5435116,"body_markdown":"When you create a tmUser add it to a collection like\r\n\r\n    List&lt;TmUser&gt; tmUsers = new ArrayList&lt;TmUser&gt;();\r\n    \r\n    TmUser tmUser = new TmUser(username, hoursWorked);\r\n    tmUser.add(tmUser);\r\n\r\n    // later\r\n    for(TmUser tmUser: tumUsers) \r\n      System.out.println(tmUser.getUsername());\r\n","title":"How to print the output of an accessor of every instance of a class?","body":"<p>When you create a tmUser add it to a collection like</p>\n\n<pre><code>List&lt;TmUser&gt; tmUsers = new ArrayList&lt;TmUser&gt;();\n\nTmUser tmUser = new TmUser(username, hoursWorked);\ntmUser.add(tmUser);\n\n// later\nfor(TmUser tmUser: tumUsers) \n  System.out.println(tmUser.getUsername());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65732,"reputation":15928,"user_id":193256,"accept_rate":65,"display_name":"pajton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1301070097,"creation_date":1301070097,"answer_id":5435188,"question_id":5435116,"body_markdown":"You need to store all of `tmUser` instances somewhere first. You could do it this way:\r\n\r\n    public class tmUser {\r\n    ...\r\n    public static List&lt;tmUser&gt; USERS = new ArrayList&lt;tmUser&gt;();\r\n\r\n    public tmUser() {\r\n       ...\r\n       USERS.add( this );\r\n    }\r\n\r\nand then printing:\r\n\r\n    for (tmUser user : tmUser.USERS) {\r\n        System.out.println(user.getUsername());\r\n    }","title":"How to print the output of an accessor of every instance of a class?","body":"<p>You need to store all of <code>tmUser</code> instances somewhere first. You could do it this way:</p>\n\n<pre><code>public class tmUser {\n...\npublic static List&lt;tmUser&gt; USERS = new ArrayList&lt;tmUser&gt;();\n\npublic tmUser() {\n   ...\n   USERS.add( this );\n}\n</code></pre>\n\n<p>and then printing:</p>\n\n<pre><code>for (tmUser user : tmUser.USERS) {\n    System.out.println(user.getUsername());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1301070512,"creation_date":1301070512,"answer_id":5435264,"question_id":5435116,"body_markdown":"The 3 current answers are basically the same.  Just wanted to add that if the class defined a `toString()` that returned the user name, it would not be necessary to add the `.getUsername()` method call, since `System.out.println(Object)` will automatically call the `toString()` method.\r\n\r\nWhether this could work for your use case is debatable.  The `toString()` method would normally provide more data on the object.","title":"How to print the output of an accessor of every instance of a class?","body":"<p>The 3 current answers are basically the same.  Just wanted to add that if the class defined a <code>toString()</code> that returned the user name, it would not be necessary to add the <code>.getUsername()</code> method call, since <code>System.out.println(Object)</code> will automatically call the <code>toString()</code> method.</p>\n\n<p>Whether this could work for your use case is debatable.  The <code>toString()</code> method would normally provide more data on the object.</p>\n"},{"tags":[],"owner":{"account_id":42964,"reputation":26240,"user_id":125382,"accept_rate":91,"display_name":"MAK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1301071413,"creation_date":1301071413,"answer_id":5435445,"question_id":5435116,"body_markdown":"As the answers already posted indicate, this would involve maintaining some sort of data structure that holds references to all instances of `tmUser` (e.g. a `List&lt;tmUser&gt;`). \r\n\r\nThis would mean that a reference to each and every instance ever created will always be held there, they will never be garbage collected. You could explicitly remove them when you decide an instance is no longer needed, but then you would have to keep track of the life cycle of all instances, and basically end up doing memory management yourself.   ","title":"How to print the output of an accessor of every instance of a class?","body":"<p>As the answers already posted indicate, this would involve maintaining some sort of data structure that holds references to all instances of <code>tmUser</code> (e.g. a <code>List&lt;tmUser&gt;</code>). </p>\n\n<p>This would mean that a reference to each and every instance ever created will always be held there, they will never be garbage collected. You could explicitly remove them when you decide an instance is no longer needed, but then you would have to keep track of the life cycle of all instances, and basically end up doing memory management yourself.   </p>\n"}],"owner":{"account_id":230501,"reputation":71,"user_id":494151,"accept_rate":83,"display_name":"Eweb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5435149,"answer_count":5,"score":0,"last_activity_date":1647162392,"creation_date":1301069760,"question_id":5435116,"body_markdown":"How would you go about creating a class like this:\r\n\r\n    \r\n    public class tmUser {\r\n        \r\n        private String Username;\r\n        private int wHours;\r\n        static int numUsers;\r\n        \r\n        \r\n        public tmUser(){\r\n            Username = &quot;&quot;;\r\n            wHours = 0;\r\n        }\r\n        \r\n        public tmUser(String U, int H){\r\n            Username = U;\r\n            wHours = H;\r\n        }\r\n        \r\n        public void setUsername(String U){\r\n            Username = U;\r\n        }\r\n        \r\n        public void setwHours(int H){\r\n            wHours = H;\r\n        }\r\n        \r\n        public String getUsername(){\r\n            return Username;\r\n        }\r\n        \r\n        public int getwHours(){\r\n            return wHours;\r\n        }\r\n        \r\n        public static void initnumUsers(){\r\n            numUsers = 0;\r\n        }\r\n        \r\n        public static int getnumUsers(){\r\n            return numUsers;\r\n        }\r\n    }\r\n\r\nand then printing all of `tmUser` instances `Username` variable? in maybe a for each loop? I&#39;m hoping for something like:\r\n\r\n    for each(tmUser){\r\n        System.out.println(Username);\r\n    }\r\n\r\nThis is for a menu in a program which displays all created users usernames.","title":"How to print the output of an accessor of every instance of a class?","body":"<p>How would you go about creating a class like this:</p>\n<pre><code>public class tmUser {\n    \n    private String Username;\n    private int wHours;\n    static int numUsers;\n    \n    \n    public tmUser(){\n        Username = &quot;&quot;;\n        wHours = 0;\n    }\n    \n    public tmUser(String U, int H){\n        Username = U;\n        wHours = H;\n    }\n    \n    public void setUsername(String U){\n        Username = U;\n    }\n    \n    public void setwHours(int H){\n        wHours = H;\n    }\n    \n    public String getUsername(){\n        return Username;\n    }\n    \n    public int getwHours(){\n        return wHours;\n    }\n    \n    public static void initnumUsers(){\n        numUsers = 0;\n    }\n    \n    public static int getnumUsers(){\n        return numUsers;\n    }\n}\n</code></pre>\n<p>and then printing all of <code>tmUser</code> instances <code>Username</code> variable? in maybe a for each loop? I'm hoping for something like:</p>\n<pre><code>for each(tmUser){\n    System.out.println(Username);\n}\n</code></pre>\n<p>This is for a menu in a program which displays all created users usernames.</p>\n"},{"tags":["java","android","rect"],"comments":[{"owner":{"account_id":6469646,"reputation":2690,"user_id":5010211,"display_name":"Akshay Bhat &#39;AB&#39;"},"score":0,"creation_date":1481273535,"post_id":41056452,"comment_id":69319578,"body_markdown":"check if object&#39;s &#39;y&#39; is greater then or equal to bottom &#39;y&#39; of the screen.","body":"check if object&#39;s &#39;y&#39; is greater then or equal to bottom &#39;y&#39; of the screen."},{"owner":{"account_id":5752859,"reputation":767,"user_id":4541907,"accept_rate":88,"display_name":"sbowde4"},"score":0,"creation_date":1481273622,"post_id":41056452,"comment_id":69319634,"body_markdown":"I was doing that, but for some reason the remove method did not work, but it does work when two objects intersect I&#39;ve found. I&#39;ll try again.","body":"I was doing that, but for some reason the remove method did not work, but it does work when two objects intersect I&#39;ve found. I&#39;ll try again."},{"owner":{"account_id":5752859,"reputation":767,"user_id":4541907,"accept_rate":88,"display_name":"sbowde4"},"score":0,"creation_date":1481273711,"post_id":41056452,"comment_id":69319694,"body_markdown":"@AkshayBhat thank you, my game works now. I don&#39;t know why it didn&#39;t before.","body":"@AkshayBhat thank you, my game works now. I don&#39;t know why it didn&#39;t before."},{"owner":{"account_id":6469646,"reputation":2690,"user_id":5010211,"display_name":"Akshay Bhat &#39;AB&#39;"},"score":0,"creation_date":1481273771,"post_id":41056452,"comment_id":69319726,"body_markdown":"create a rect where top of the rect should be bottom of the screen","body":"create a rect where top of the rect should be bottom of the screen"},{"owner":{"account_id":6469646,"reputation":2690,"user_id":5010211,"display_name":"Akshay Bhat &#39;AB&#39;"},"score":0,"creation_date":1481273799,"post_id":41056452,"comment_id":69319745,"body_markdown":"great no problem :)","body":"great no problem :)"}],"answers":[{"tags":[],"owner":{"account_id":2131212,"reputation":556,"user_id":1892001,"accept_rate":67,"display_name":"Helmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647162239,"creation_date":1481273772,"answer_id":41056560,"question_id":41056452,"body_markdown":"intersect(float left, float top, float right, float bottom)\r\n\r\nIf the rectangle specified by left,top,right,bottom intersects this rectangle, return true and set this rectangle to that intersection, otherwise return false and do not change this rectangle.\r\n\r\n[https://developer.android.com/reference/android/graphics/RectF.html#intersect(float, float, float, float)][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/RectF.html#intersect%28float,%20float,%20float,%20float%29","title":"Intersect Bottom of the screen android","body":"<p>intersect(float left, float top, float right, float bottom)</p>\n<p>If the rectangle specified by left,top,right,bottom intersects this rectangle, return true and set this rectangle to that intersection, otherwise return false and do not change this rectangle.</p>\n<p><a href=\"https://developer.android.com/reference/android/graphics/RectF.html#intersect%28float,%20float,%20float,%20float%29\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/graphics/RectF.html#intersect(float, float, float, float)</a></p>\n"}],"owner":{"account_id":5752859,"reputation":767,"user_id":4541907,"accept_rate":88,"display_name":"sbowde4"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647162239,"creation_date":1481273361,"question_id":41056452,"body_markdown":"I have objects that are infinitely falling from the top of the screen to the bottom, and when they reach the bottom I want to delete them. They are stored in a `ArrayList` so removing them is easy, I just can&#39;t seem to figure out how to detect them intersecting the bottom of the screen using `RectF`. \r\n\r\nBasically all I need is an imaginary line across the bottom.\r\n\r\nIs that possible to do like this? \r\n\r\n`stickArr.get(i).getStick().intersect(a, b, c, d)//I don&#39;t exactly understand what to put into intersect`","title":"Intersect Bottom of the screen android","body":"<p>I have objects that are infinitely falling from the top of the screen to the bottom, and when they reach the bottom I want to delete them. They are stored in a <code>ArrayList</code> so removing them is easy, I just can't seem to figure out how to detect them intersecting the bottom of the screen using <code>RectF</code>. </p>\n\n<p>Basically all I need is an imaginary line across the bottom.</p>\n\n<p>Is that possible to do like this? </p>\n\n<p><code>stickArr.get(i).getStick().intersect(a, b, c, d)//I don't exactly understand what to put into intersect</code></p>\n"},{"tags":["java","android","maven"],"comments":[{"owner":{"account_id":2233181,"reputation":3805,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"score":0,"creation_date":1434007659,"post_id":30774234,"comment_id":49599097,"body_markdown":"change the scope into provided and test it again","body":"change the scope into provided and test it again"},{"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"score":0,"creation_date":1434007733,"post_id":30774234,"comment_id":49599152,"body_markdown":"Build error: `&#39;dependencies.dependency.systemPath&#39; for com.parse:parse:jar must be omitted. This field may only be specified for a dependency with system scope`","body":"Build error: <code>&#39;dependencies.dependency.systemPath&#39; for com.parse:parse:jar must be omitted. This field may only be specified for a dependency with system scope</code>"},{"owner":{"account_id":4430675,"reputation":804,"user_id":3607910,"display_name":"DSF"},"score":0,"creation_date":1434007919,"post_id":30774234,"comment_id":49599289,"body_markdown":"You also need to remove the &lt;systemPath&gt; tag and load the jar into your local maven repo.","body":"You also need to remove the &lt;systemPath&gt; tag and load the jar into your local maven repo."},{"owner":{"account_id":2233181,"reputation":3805,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"score":0,"creation_date":1434007958,"post_id":30774234,"comment_id":49599313,"body_markdown":"please check compile instead of system too and see what happen","body":"please check compile instead of system too and see what happen"},{"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"score":0,"creation_date":1434008067,"post_id":30774234,"comment_id":49599397,"body_markdown":"@DSF yes, I think I will try to install the jar into my repo, instead of this.","body":"@DSF yes, I think I will try to install the jar into my repo, instead of this."}],"answers":[{"tags":[],"owner":{"account_id":1945420,"reputation":573,"user_id":1750692,"accept_rate":70,"display_name":"Jay Zus"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1478907477,"creation_date":1434039609,"answer_id":30786213,"question_id":30774234,"body_markdown":"I would suggest using one of your directories as a repository, add your jar in it, and load it the proper Maven way.\r\n\r\nYou can do this adding this to your pom.xml and putting your jar in /lib:\r\n\r\n\r\n    &lt;repositories&gt;\r\n       &lt;repository&gt;\r\n           &lt;id&gt;mylibid&lt;/id&gt;\r\n           &lt;url&gt;file://${project.basedir}/lib&lt;/url&gt;\r\n       &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    \r\n    ...\r\n    \r\n    &lt;dependencies&gt;\r\n      ...\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;com.parse&lt;/groupId&gt;\r\n          &lt;artifactId&gt;parse&lt;/artifactId&gt;\r\n          &lt;version&gt;1.9.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      ...\r\n    &lt;/dependencies&gt;","title":"Maven: NoClassDefFoundError of system scoped dependency","body":"<p>I would suggest using one of your directories as a repository, add your jar in it, and load it the proper Maven way.</p>\n\n<p>You can do this adding this to your pom.xml and putting your jar in /lib:</p>\n\n<pre><code>&lt;repositories&gt;\n   &lt;repository&gt;\n       &lt;id&gt;mylibid&lt;/id&gt;\n       &lt;url&gt;file://${project.basedir}/lib&lt;/url&gt;\n   &lt;/repository&gt;\n&lt;/repositories&gt;\n\n...\n\n&lt;dependencies&gt;\n  ...\n  &lt;dependency&gt;\n      &lt;groupId&gt;com.parse&lt;/groupId&gt;\n      &lt;artifactId&gt;parse&lt;/artifactId&gt;\n      &lt;version&gt;1.9.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  ...\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647162176,"creation_date":1647162176,"answer_id":71455259,"question_id":30774234,"body_markdown":"Add my two cents here, [you can install the third-party into your local repository][1] firstly and try add dependency directly. \r\n\r\nTake your scenario as an example. Change to the folder where contains the third jar and type:\r\n\r\n`mvn install:install-file -DgroupId=com.parse -DartifactId=parse -Dversion=1.9.2 -Dpackaging=jar -Dfile=Parse-1.9.2.jar`\r\n\r\nModify your `pom.xml` to add the dependency.\r\n\r\n\r\n    &lt;dependencies&gt;\r\n      ...\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;com.parse&lt;/groupId&gt;\r\n          &lt;artifactId&gt;parse&lt;/artifactId&gt;\r\n          &lt;version&gt;1.9.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      ...\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html","title":"Maven: NoClassDefFoundError of system scoped dependency","body":"<p>Add my two cents here, <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">you can install the third-party into your local repository</a> firstly and try add dependency directly.</p>\n<p>Take your scenario as an example. Change to the folder where contains the third jar and type:</p>\n<p><code>mvn install:install-file -DgroupId=com.parse -DartifactId=parse -Dversion=1.9.2 -Dpackaging=jar -Dfile=Parse-1.9.2.jar</code></p>\n<p>Modify your <code>pom.xml</code> to add the dependency.</p>\n<pre><code>&lt;dependencies&gt;\n  ...\n  &lt;dependency&gt;\n      &lt;groupId&gt;com.parse&lt;/groupId&gt;\n      &lt;artifactId&gt;parse&lt;/artifactId&gt;\n      &lt;version&gt;1.9.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  ...\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10555,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30786213,"answer_count":2,"score":4,"last_activity_date":1647162176,"creation_date":1434007426,"question_id":30774234,"body_markdown":"I am developing an **Android** project with Maven. I have a third-party jar file that I have included in a `lib` folder on my project root directory:\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;com.parse&lt;/groupId&gt;\r\n         &lt;artifactId&gt;parse&lt;/artifactId&gt;\r\n         &lt;version&gt;1.9.2&lt;/version&gt;\r\n         &lt;scope&gt;system&lt;/scope&gt;\r\n         &lt;systemPath&gt;${project.basedir}\\lib\\Parse-1.9.2.jar&lt;/systemPath&gt;\r\n     &lt;/dependency&gt;\r\n\r\nBut when I install the apk in my phone, I get `NoClassDefFoundError`. Obviously, that class exists inside the jar.\r\n\r\nHow can I do?\r\n\r\nThanks. ","title":"Maven: NoClassDefFoundError of system scoped dependency","body":"<p>I am developing an <strong>Android</strong> project with Maven. I have a third-party jar file that I have included in a <code>lib</code> folder on my project root directory:</p>\n\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.parse&lt;/groupId&gt;\n     &lt;artifactId&gt;parse&lt;/artifactId&gt;\n     &lt;version&gt;1.9.2&lt;/version&gt;\n     &lt;scope&gt;system&lt;/scope&gt;\n     &lt;systemPath&gt;${project.basedir}\\lib\\Parse-1.9.2.jar&lt;/systemPath&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>But when I install the apk in my phone, I get <code>NoClassDefFoundError</code>. Obviously, that class exists inside the jar.</p>\n\n<p>How can I do?</p>\n\n<p>Thanks. </p>\n"},{"tags":["java","insertion-sort"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647166944,"post_id":71454775,"comment_id":126298341,"body_markdown":"Please add the full stack trace of the exception to your question.","body":"Please add the full stack trace of the exception to your question."},{"owner":{"account_id":24540512,"reputation":11,"user_id":18450904,"display_name":"Smriti Srivastava"},"score":0,"creation_date":1647442250,"post_id":71454775,"comment_id":126372737,"body_markdown":"Thank you so much, while fetching the stack trace I got the error and finally my code is running successfully.","body":"Thank you so much, while fetching the stack trace I got the error and finally my code is running successfully."}],"owner":{"account_id":24540512,"reputation":11,"user_id":18450904,"display_name":"Smriti Srivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1647161658,"creation_date":1647157380,"question_id":71454775,"body_markdown":"The question was to sort the digits of a number in ascending order using insertion sort. this code of mine throws exception at the *arr[i] = num %10;* line..\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Insertion_sort {\r\n\r\n    \r\n    Scanner sc = new Scanner(System.in);\r\n    int num = sc.nextInt();\r\n    int count;\r\n    int temp = num;\r\n\r\n    public void counting() {\r\n         while (temp &gt; 0) {\r\n             temp= temp / 10;\r\n              count++;\r\n         }\r\n\r\n    }\r\n    int []arr = new int[count];\r\n     public void solutions() {\r\n         for (int i = 0; i &lt; count; i++) {\r\n              arr[i] = num % 10;\r\n              num = num / 10;\r\n         }\r\n         for (int i = 1; i &lt; count; i++) {\r\n              int var = arr[i];\r\n              int j = i;\r\n              while (j &gt; 0 &amp;&amp; arr[j - 1] &gt; var) {\r\n                   arr[j] = arr[j - 1];\r\n                   j--;\r\n              }\r\n              arr[j] = var;\r\n         }\r\n         for (int i= 0; i&lt; count; i++) {\r\n              System.out.println(arr[i]);\r\n         }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n         Insertion_sort obj = new Insertion_sort();\r\n         obj.solutions();\r\n         \r\n    }\r\n}\r\n```","title":"Why is this insertion sort code of java throwing exception","body":"<p>The question was to sort the digits of a number in ascending order using insertion sort. this code of mine throws exception at the <em>arr[i] = num %10;</em> line..</p>\n<pre><code>import java.util.Scanner;\n\npublic class Insertion_sort {\n\n    \n    Scanner sc = new Scanner(System.in);\n    int num = sc.nextInt();\n    int count;\n    int temp = num;\n\n    public void counting() {\n         while (temp &gt; 0) {\n             temp= temp / 10;\n              count++;\n         }\n\n    }\n    int []arr = new int[count];\n     public void solutions() {\n         for (int i = 0; i &lt; count; i++) {\n              arr[i] = num % 10;\n              num = num / 10;\n         }\n         for (int i = 1; i &lt; count; i++) {\n              int var = arr[i];\n              int j = i;\n              while (j &gt; 0 &amp;&amp; arr[j - 1] &gt; var) {\n                   arr[j] = arr[j - 1];\n                   j--;\n              }\n              arr[j] = var;\n         }\n         for (int i= 0; i&lt; count; i++) {\n              System.out.println(arr[i]);\n         }\n    }\n\n\n    public static void main(String[] args) {\n         Insertion_sort obj = new Insertion_sort();\n         obj.solutions();\n         \n    }\n}\n</code></pre>\n"},{"tags":["java","date","datetime","localdate","localtime"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647161535,"creation_date":1647092422,"answer_id":71450199,"question_id":71450126,"body_markdown":"Use `ofStrict` to specify which offset you want the resulting zoned date time to be on. `America/New_York` changes from -04:00 to -05:00 at around the time in question, so you want `ZoneOffset.ofHours(-5)`.\r\n\r\n    ZonedDateTime dt = ZonedDateTime.ofStrict(\r\n        LocalDateTime.of(date, time), \r\n        ZoneOffset.ofHours(-5), \r\n        ZoneId.of(&quot;America/New_York&quot;)\r\n    );\r\n\r\nIn case you cannot hardcode the offset in, you can get the offset after using:\r\n\r\n```\r\nvar dateTime = LocalDateTime.of(date, time)\r\nvar zone = ZoneId.of(&quot;America/New_York&quot;);\r\nvar offsetAfter = zone.getRules()\r\n    .getTransition(dateTime)\r\n    .getOffsetAfter();\r\nZonedDateTime dt = ZonedDateTime.ofStrict(\r\n    dateTime, \r\n    offsetAfter, \r\n    zone\r\n);\r\n```\r\n\r\nOr, as Ole V.V. pointed out, you can also use the much shorter:\r\n\r\n    ZonedDateTime dt = ZonedDateTime.of(\r\n        date, time, ZoneId.of(&quot;America/New_York&quot;)\r\n    ).withLaterOffsetAtOverlap();\r\n\r\n","title":"How to specify time after daylight saveing time shift in Java","body":"<p>Use <code>ofStrict</code> to specify which offset you want the resulting zoned date time to be on. <code>America/New_York</code> changes from -04:00 to -05:00 at around the time in question, so you want <code>ZoneOffset.ofHours(-5)</code>.</p>\n<pre><code>ZonedDateTime dt = ZonedDateTime.ofStrict(\n    LocalDateTime.of(date, time), \n    ZoneOffset.ofHours(-5), \n    ZoneId.of(&quot;America/New_York&quot;)\n);\n</code></pre>\n<p>In case you cannot hardcode the offset in, you can get the offset after using:</p>\n<pre><code>var dateTime = LocalDateTime.of(date, time)\nvar zone = ZoneId.of(&quot;America/New_York&quot;);\nvar offsetAfter = zone.getRules()\n    .getTransition(dateTime)\n    .getOffsetAfter();\nZonedDateTime dt = ZonedDateTime.ofStrict(\n    dateTime, \n    offsetAfter, \n    zone\n);\n</code></pre>\n<p>Or, as Ole V.V. pointed out, you can also use the much shorter:</p>\n<pre><code>ZonedDateTime dt = ZonedDateTime.of(\n    date, time, ZoneId.of(&quot;America/New_York&quot;)\n).withLaterOffsetAtOverlap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":419726,"reputation":92910,"user_id":797049,"accept_rate":91,"display_name":"Mark Reed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647092507,"creation_date":1647092507,"answer_id":71450210,"question_id":71450126,"body_markdown":"The problem with time zones that honor Daylight Saving Time is that such times are ambiguous. The &quot;America/New_York&quot; zone has two times that are both labeled 2008-11-04T01:00:00. Technically, one of them is 01:00 EDT and the other is 01:00 EST, but not a lot of software will let you make the distinction that way, not least since such three-letter time zone designations are not necessarily globally unique.\r\n\r\nThe solution is to specify the time either in or relative to Universal time, which doesn&#39;t have daylight saving: the first 01:00 Eastern time is 05:00Z, and the second is 06:00Z. So you can either give the time as one of those and the zone as &quot;UTC&quot; (and then convert the result to &quot;America/New_York&quot;), or specify the offset _from_ UTC using `ofStrict`.","title":"How to specify time after daylight saveing time shift in Java","body":"<p>The problem with time zones that honor Daylight Saving Time is that such times are ambiguous. The &quot;America/New_York&quot; zone has two times that are both labeled 2008-11-04T01:00:00. Technically, one of them is 01:00 EDT and the other is 01:00 EST, but not a lot of software will let you make the distinction that way, not least since such three-letter time zone designations are not necessarily globally unique.</p>\n<p>The solution is to specify the time either in or relative to Universal time, which doesn't have daylight saving: the first 01:00 Eastern time is 05:00Z, and the second is 06:00Z. So you can either give the time as one of those and the zone as &quot;UTC&quot; (and then convert the result to &quot;America/New_York&quot;), or specify the offset <em>from</em> UTC using <code>ofStrict</code>.</p>\n"}],"owner":{"account_id":15895471,"reputation":35,"user_id":11469363,"display_name":"Nicolae Fratila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71450199,"answer_count":2,"score":2,"last_activity_date":1647161535,"creation_date":1647091861,"question_id":71450126,"body_markdown":"Using the following code:\r\n\r\n    class Test {\r\n        public static void main(String [] args) {\r\n            LocalDate date = LocalDate.of(2018, 11, 4);\r\n            LocalTime time = LocalTime.of(1, 59);\r\n            ZonedDateTime dt = ZonedDateTime.of(date, time, ZoneId.of(&quot;America/New_York&quot;));\r\n            System.out.println(dt.getHour() + &quot;:&quot; + dt.getMinute() + &quot;:&quot; + dt.getSecond());\r\n            dt = dt.plusMinutes(1);\r\n            System.out.println(dt.getHour() + &quot;:&quot; + dt.getMinute() + &quot;:&quot; + dt.getSecond());\r\n            dt = dt.plusMinutes(59);\r\n            System.out.println(dt.getHour() + &quot;:&quot; + dt.getMinute() + &quot;:&quot; + dt.getSecond());\r\n            dt = dt.plusMinutes(1);\r\n            System.out.println(dt.getHour() + &quot;:&quot; + dt.getMinute() + &quot;:&quot; + dt.getSecond());\r\n        }\r\n    }\r\n\r\nI get \r\n\r\n    1:59:0\r\n    1:0:0\r\n    1:59:0\r\n    2:0:0\r\n\r\nIs there a way to get to the 1:00:00 from after daylight saving time  without going through the 1:00:00 from before daylight saving time?","title":"How to specify time after daylight saveing time shift in Java","body":"<p>Using the following code:</p>\n<pre><code>class Test {\n    public static void main(String [] args) {\n        LocalDate date = LocalDate.of(2018, 11, 4);\n        LocalTime time = LocalTime.of(1, 59);\n        ZonedDateTime dt = ZonedDateTime.of(date, time, ZoneId.of(&quot;America/New_York&quot;));\n        System.out.println(dt.getHour() + &quot;:&quot; + dt.getMinute() + &quot;:&quot; + dt.getSecond());\n        dt = dt.plusMinutes(1);\n        System.out.println(dt.getHour() + &quot;:&quot; + dt.getMinute() + &quot;:&quot; + dt.getSecond());\n        dt = dt.plusMinutes(59);\n        System.out.println(dt.getHour() + &quot;:&quot; + dt.getMinute() + &quot;:&quot; + dt.getSecond());\n        dt = dt.plusMinutes(1);\n        System.out.println(dt.getHour() + &quot;:&quot; + dt.getMinute() + &quot;:&quot; + dt.getSecond());\n    }\n}\n</code></pre>\n<p>I get</p>\n<pre><code>1:59:0\n1:0:0\n1:59:0\n2:0:0\n</code></pre>\n<p>Is there a way to get to the 1:00:00 from after daylight saving time  without going through the 1:00:00 from before daylight saving time?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":6,"creation_date":1506280429,"post_id":46393863,"comment_id":79744839,"body_markdown":"[Which documentation?](http://download.java.net/java/jdk9/docs/api/java/lang/Class.html#newInstance--)","body":"<a href=\"http://download.java.net/java/jdk9/docs/api/java/lang/Class.html#newInstance--\" rel=\"nofollow noreferrer\">Which documentation?</a>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1506280433,"creation_date":1506280433,"answer_id":46393879,"question_id":46393863,"body_markdown":"    Class.getDeclaredConstructor(...).newInstance(...)\r\n\r\nRefer to [Google errorprone&#39;s documentation](http://errorprone.info/bugpattern/ClassNewInstance) (for example) for a description of why.","title":"What to use instead of Class.newInstance()?","body":"<pre><code>Class.getDeclaredConstructor(...).newInstance(...)\n</code></pre>\n\n<p>Refer to <a href=\"http://errorprone.info/bugpattern/ClassNewInstance\" rel=\"noreferrer\">Google errorprone's documentation</a> (for example) for a description of why.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":254,"is_accepted":true,"score":254,"last_activity_date":1506280602,"creation_date":1506280602,"answer_id":46393897,"question_id":46393863,"body_markdown":"To quote [Java 9&#39;s javadoc](https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#newInstance--):\r\n\r\n&gt; The call\r\n&gt;\r\n&gt; `clazz.newInstance()`\r\n&gt; \r\n&gt;can be replaced by\r\n&gt;\r\n&gt; `clazz.getDeclaredConstructor().newInstance()`","title":"What to use instead of Class.newInstance()?","body":"<p>To quote <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#newInstance--\" rel=\"noreferrer\">Java 9's javadoc</a>:</p>\n\n<blockquote>\n  <p>The call</p>\n  \n  <p><code>clazz.newInstance()</code></p>\n  \n  <p>can be replaced by</p>\n  \n  <p><code>clazz.getDeclaredConstructor().newInstance()</code></p>\n</blockquote>\n"}],"owner":{"account_id":5783,"reputation":23277,"user_id":9476,"accept_rate":63,"display_name":"Dmitri Nesteruk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108293,"favorite_count":0,"down_vote_count":5,"up_vote_count":185,"accepted_answer_id":46393897,"answer_count":2,"score":180,"last_activity_date":1647161407,"creation_date":1506280343,"question_id":46393863,"body_markdown":"`Class.newInstance()` is marked deprecated. Documentation does not suggest any alternatives. How are we meant to create instances now?","title":"What to use instead of Class.newInstance()?","body":"<p><code>Class.newInstance()</code> is marked deprecated. Documentation does not suggest any alternatives. How are we meant to create instances now?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1647160425,"post_id":71455066,"comment_id":126297131,"body_markdown":"Please always, always show code as *text* rather than as a screenshot or (worse) a photo of a screen. The `main` method you&#39;ve provided won&#39;t compile because you&#39;re using `system` instead of `System`, and `string` instead of `String`.","body":"Please always, always show code as <i>text</i> rather than as a screenshot or (worse) a photo of a screen. The <code>main</code> method you&#39;ve provided won&#39;t compile because you&#39;re using <code>system</code> instead of <code>System</code>, and <code>string</code> instead of <code>String</code>."}],"answers":[{"tags":[],"owner":{"account_id":22332486,"reputation":1159,"user_id":16553558,"display_name":"Python learner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647160445,"creation_date":1647160445,"answer_id":71455104,"question_id":71455066,"body_markdown":"**S** should be uppercase in both `String` and `System`.\r\n```\r\npublic class Program\r\n{\r\n    public static void main(String[] args) {\r\n       System.out.println(&quot;Hello world&quot;);\r\n    }\r\n}\r\n```","title":"problem in writting a hello world programme","body":"<p><strong>S</strong> should be uppercase in both <code>String</code> and <code>System</code>.</p>\n<pre><code>public class Program\n{\n    public static void main(String[] args) {\n       System.out.println(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13037687,"reputation":1,"user_id":9422027,"display_name":"Govind Kedia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647161373,"creation_date":1647161373,"answer_id":71455184,"question_id":71455066,"body_markdown":"```\r\npublic class FirstClass \r\n{\r\n    public static void main(String[] args) {\r\n       System.out.println(&quot;Hello world&quot;);\r\n    }\r\n}\r\n```\r\nString is an immutable class in Java and S should be capital --&gt; **String**\r\nSystem is also a class name and S should be capital  --&gt; **System**\r\n\r\n\r\n","title":"problem in writting a hello world programme","body":"<pre><code>public class FirstClass \n{\n    public static void main(String[] args) {\n       System.out.println(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p>String is an immutable class in Java and S should be capital --&gt; <strong>String</strong>\nSystem is also a class name and S should be capital  --&gt; <strong>System</strong></p>\n"}],"owner":{"account_id":24540854,"reputation":1,"user_id":18451212,"display_name":"SUNIL SAHU"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1647162593,"answer_count":2,"score":-2,"last_activity_date":1647161373,"creation_date":1647160231,"question_id":71455066,"body_markdown":"Error: Main method not found in the file, please define the main method as: public static void main(String[] args)[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c0z4Q.jpg","title":"problem in writting a hello world programme","body":"<p>Error: Main method not found in the file, please define the main method as: public static void main(String[] args)<a href=\"https://i.stack.imgur.com/c0z4Q.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","jmeter","urlencode","put"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1486381637,"post_id":41874849,"comment_id":71305328,"body_markdown":"This might help you: http://meta.stackexchange.com/questions/79057/curly-brackets-in-urls","body":"This might help you: <a href=\"http://meta.stackexchange.com/questions/79057/curly-brackets-in-urls\" title=\"curly brackets in urls\">meta.stackexchange.com/questions/79057/curly-brackets-in-url&zwnj;&#8203;s</a>"},{"owner":{"account_id":3037545,"reputation":6288,"user_id":2575259,"accept_rate":88,"display_name":"Naveen Kumar R B"},"score":0,"creation_date":1486382970,"post_id":41874849,"comment_id":71306101,"body_markdown":"this happened during recording or replaying? did you try using `http://jmeter.apache.org/usermanual/functions.html#__urlencode` function?","body":"this happened during recording or replaying? did you try using <code>http:&#47;&#47;jmeter.apache.org&#47;usermanual&#47;functions.html#__urlenco&zwnj;&#8203;de</code> function?"},{"owner":{"account_id":7232886,"reputation":395,"user_id":5519097,"display_name":"Siddharth Tyagi"},"score":0,"creation_date":1486422760,"post_id":41874849,"comment_id":71329489,"body_markdown":"is your request actually &#39;POST&#39; ? why are you sending so many url parameters for post request? Could you not send them as part of request body using formurlencoded request property?","body":"is your request actually &#39;POST&#39; ? why are you sending so many url parameters for post request? Could you not send them as part of request body using formurlencoded request property?"}],"answers":[{"tags":[],"owner":{"account_id":6927673,"reputation":12901,"user_id":5318223,"accept_rate":92,"display_name":"timbre timbre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486575499,"creation_date":1486575499,"answer_id":42119984,"question_id":41874849,"body_markdown":"Specifically that exception is about curly braces in your URI:\r\n\r\n    /updateBoxCorrectionInstantly?&lt;...&gt;_img001210.jpg&amp;box={\r\n\r\nCurly brackets are considered [unsafe][1]:\r\n\r\n&gt; Other characters are unsafe because gateways and other transport agents are known to sometimes modify such characters. These characters are &quot;{&quot;, &quot;}&quot;, &quot;|&quot;, &quot;\\&quot;, &quot;^&quot;, &quot;~&quot;, &quot;[&quot;, &quot;]&quot;, and &quot;`&quot;. All unsafe characters must always be encoded within a URL.\r\n\r\nSo you could replace all instances of the `{` with `%7B`, and all instances of `}` with `%7D`. My guess is that recorder is not encoding them because curly brackets are not &quot;special&quot; characters (they are just &quot;unsafe&quot;), while URI parser does not like them. So you can consider it a bug in JMeter recorder. Thus minimal solution is to set **Path** to:\r\n\r\n    /updateBoxCorrectionInstantly?examKey=16-17-%3ECBSE-%3ETERM%20I-%3ESA1-%3EVI-%3EScience-%3EA&amp;studentName=AMOGH%20YOGESH%20KALE&amp;studentRollno=3&amp;studentND=-1&amp;sheetName=cb8e806b32e9d670698655e0d2da10e3_img001210.jpg&amp;box=%7B%22$center%22:%22(66.0,%202253.0)%22,%22$conf%22:%22H%22,%22$corrected%22:true,%22$isAdminCorrected%22:true,%22$correction%22:%22-%22,%22$isDrawn%22:false,%22coords%22:[36,2214,96,2292],%22isTitle%22:false,%22pos%22:%22-%22,%22pred%22:%22-%22,%22boxTypeId%22:0,%22score%22:1%7D\r\n\r\nHowever, I think a more elegant solution is saving all parameters (past the `?` mark) in **Parameters** section, which has few advantages:\r\n\r\n 1. It has an option to automatically encode them\r\n 2. You can clearly see which parameters you are sending\r\n 3. You can use variables when you need to instead of static values (you can in Path as well, but not without a lot of tedious and error-prone configuring)\r\n\r\nHere&#39;s a screenshot of how I would create this request:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBecause the **Method** is set to `GET`, all parameters are going to be part of URL anyways, but they will be properly encoded, so here&#39;s how it&#39;s sent:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://www.faqs.org/rfcs/rfc1738.html\r\n  [2]: https://i.stack.imgur.com/LTc43.png\r\n  [3]: https://i.stack.imgur.com/Apwjx.png","title":"Jmeter Http proxy server throws java.net.URISyntaxException: Illegal character in query at index error","body":"<p>Specifically that exception is about curly braces in your URI:</p>\n\n<pre><code>/updateBoxCorrectionInstantly?&lt;...&gt;_img001210.jpg&amp;box={\n</code></pre>\n\n<p>Curly brackets are considered <a href=\"http://www.faqs.org/rfcs/rfc1738.html\" rel=\"nofollow noreferrer\">unsafe</a>:</p>\n\n<blockquote>\n  <p>Other characters are unsafe because gateways and other transport agents are known to sometimes modify such characters. These characters are \"{\", \"}\", \"|\", \"\\\", \"^\", \"~\", \"[\", \"]\", and \"`\". All unsafe characters must always be encoded within a URL.</p>\n</blockquote>\n\n<p>So you could replace all instances of the <code>{</code> with <code>%7B</code>, and all instances of <code>}</code> with <code>%7D</code>. My guess is that recorder is not encoding them because curly brackets are not \"special\" characters (they are just \"unsafe\"), while URI parser does not like them. So you can consider it a bug in JMeter recorder. Thus minimal solution is to set <strong>Path</strong> to:</p>\n\n<pre><code>/updateBoxCorrectionInstantly?examKey=16-17-%3ECBSE-%3ETERM%20I-%3ESA1-%3EVI-%3EScience-%3EA&amp;studentName=AMOGH%20YOGESH%20KALE&amp;studentRollno=3&amp;studentND=-1&amp;sheetName=cb8e806b32e9d670698655e0d2da10e3_img001210.jpg&amp;box=%7B%22$center%22:%22(66.0,%202253.0)%22,%22$conf%22:%22H%22,%22$corrected%22:true,%22$isAdminCorrected%22:true,%22$correction%22:%22-%22,%22$isDrawn%22:false,%22coords%22:[36,2214,96,2292],%22isTitle%22:false,%22pos%22:%22-%22,%22pred%22:%22-%22,%22boxTypeId%22:0,%22score%22:1%7D\n</code></pre>\n\n<p>However, I think a more elegant solution is saving all parameters (past the <code>?</code> mark) in <strong>Parameters</strong> section, which has few advantages:</p>\n\n<ol>\n<li>It has an option to automatically encode them</li>\n<li>You can clearly see which parameters you are sending</li>\n<li>You can use variables when you need to instead of static values (you can in Path as well, but not without a lot of tedious and error-prone configuring)</li>\n</ol>\n\n<p>Here's a screenshot of how I would create this request:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LTc43.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LTc43.png\" alt=\"enter image description here\"></a></p>\n\n<p>Because the <strong>Method</strong> is set to <code>GET</code>, all parameters are going to be part of URL anyways, but they will be properly encoded, so here's how it's sent:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Apwjx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Apwjx.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":22239897,"reputation":11,"user_id":16474604,"display_name":"Abhishek Auti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647160293,"creation_date":1647160293,"answer_id":71455076,"question_id":41874849,"body_markdown":"try using $ before every {}.Thanks ","title":"Jmeter Http proxy server throws java.net.URISyntaxException: Illegal character in query at index error","body":"<p>try using $ before every {}.Thanks</p>\n"}],"owner":{"account_id":6820564,"reputation":419,"user_id":5435514,"accept_rate":20,"display_name":"AbiSivam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12668,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1647160293,"creation_date":1485438185,"question_id":41874849,"body_markdown":"I am trying to record my web client-server communication using Jmeter. After the Jmeter and browser are configured for recording the application. When a post request is made from client to server, the following error happens. Any idea how to encode the URL which is being recorded?\r\n\r\n    java.net.URISyntaxException: Illegal character in query at index 238: http://localhost:8080/updateBoxCorrectionInstantly?examKey=16-17-%3ECBSE-%3ETERM%20I-%3ESA1-%3EVI-%3EScience-%3EA&amp;studentName=AMOGH%20YOGESH%20KALE&amp;studentRollno=3&amp;studentND=-1&amp;sheetName=cb8e806b32e9d670698655e0d2da10e3_img001210.jpg&amp;box={%22$center%22:%22(66.0,%202253.0)%22,%22$conf%22:%22H%22,%22$corrected%22:true,%22$isAdminCorrected%22:true,%22$correction%22:%22-%22,%22$isDrawn%22:false,%22coords%22:[36,2214,96,2292],%22isTitle%22:false,%22pos%22:%22-%22,%22pred%22:%22-%22,%22boxTypeId%22:0,%22score%22:1}\r\n\tat java.net.URI$Parser.fail(URI.java:2829)\r\n\tat java.net.URI$Parser.checkChars(URI.java:3002)\r\n\tat java.net.URI$Parser.parseHierarchical(URI.java:3092)\r\n\tat java.net.URI$Parser.parse(URI.java:3034)\r\n\tat java.net.URI.&lt;init&gt;(URI.java:595)\r\n\tat java.net.URL.toURI(URL.java:949)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:232)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:62)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1075)\r\n\tat org.apache.jmeter.protocol.http.proxy.Proxy.run(Proxy.java:212)","title":"Jmeter Http proxy server throws java.net.URISyntaxException: Illegal character in query at index error","body":"<p>I am trying to record my web client-server communication using Jmeter. After the Jmeter and browser are configured for recording the application. When a post request is made from client to server, the following error happens. Any idea how to encode the URL which is being recorded?</p>\n\n<pre><code>java.net.URISyntaxException: Illegal character in query at index 238: http://localhost:8080/updateBoxCorrectionInstantly?examKey=16-17-%3ECBSE-%3ETERM%20I-%3ESA1-%3EVI-%3EScience-%3EA&amp;studentName=AMOGH%20YOGESH%20KALE&amp;studentRollno=3&amp;studentND=-1&amp;sheetName=cb8e806b32e9d670698655e0d2da10e3_img001210.jpg&amp;box={%22$center%22:%22(66.0,%202253.0)%22,%22$conf%22:%22H%22,%22$corrected%22:true,%22$isAdminCorrected%22:true,%22$correction%22:%22-%22,%22$isDrawn%22:false,%22coords%22:[36,2214,96,2292],%22isTitle%22:false,%22pos%22:%22-%22,%22pred%22:%22-%22,%22boxTypeId%22:0,%22score%22:1}\nat java.net.URI$Parser.fail(URI.java:2829)\nat java.net.URI$Parser.checkChars(URI.java:3002)\nat java.net.URI$Parser.parseHierarchical(URI.java:3092)\nat java.net.URI$Parser.parse(URI.java:3034)\nat java.net.URI.&lt;init&gt;(URI.java:595)\nat java.net.URL.toURI(URL.java:949)\nat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:232)\nat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:62)\nat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1075)\nat org.apache.jmeter.protocol.http.proxy.Proxy.run(Proxy.java:212)\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam","dataflow"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647182147,"post_id":71455039,"comment_id":126301635,"body_markdown":"Storing data in file? Why not republishing a message in another PubSub topic to persist them? You have up to 30 days to consume them (your &quot;later processing&quot;)","body":"Storing data in file? Why not republishing a message in another PubSub topic to persist them? You have up to 30 days to consume them (your &quot;later processing&quot;)"},{"owner":{"account_id":23651138,"reputation":13,"user_id":17680011,"display_name":"Arun"},"score":0,"creation_date":1652071597,"post_id":71455039,"comment_id":127508125,"body_markdown":"I have a scheduled job to read data from storage at regular intervals. So writing it to storage was proposed for us instead of pub sub.","body":"I have a scheduled job to read data from storage at regular intervals. So writing it to storage was proposed for us instead of pub sub."}],"owner":{"reputation":13,"user_id":17680011,"display_name":"Arun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647160004,"creation_date":1647160004,"question_id":71455039,"body_markdown":"I have a scenario, where I have a streaming dataflow. The logic is to read json data from a PubSub subscription\r\nand make an api call to external system. In case if external system is not reachable, I need to persist the json data to GCS for later reprocessing. I could able to write the failure data to GCS but the challenge I have is instead of individual files, it&#39;s getting written to single file between the window mentioned. Is there any way I could write each pubsub message to GCS as individual files with unique file name based on value from each json data.\r\n\r\n\t    final TupleTag&lt;String&gt; failureData =new TupleTag&lt;String&gt;(){};\r\n\t    PCollectionTuple APIOutputCollection= pipeline.apply(&quot;Read PubSub Events&quot;,PubsubIO.readMessagesWithAttributes().fromSubscription(options.getInputSubscription()))\r\n\t   \t\t   .apply(&quot;Send to Apigee&quot;,ParDo.of(new APICall()).withOutputTags(successData,TupleTagList.of(failureData)));\r\n\t    \r\n\t    \r\n\t\t APIOutputCollection.get(failureData)\r\n\t\t .apply(\r\n\t\t            options.getWindowDuration() + &quot; Window&quot;,\r\n\t\t            Window.into(FixedWindows.of(DurationUtils.parseDuration(options.getWindowDuration()))))\r\n\t        .apply(\r\n\t                &quot;Write File(s)&quot;,\r\n\t                TextIO.write()\r\n\t                    .withWindowedWrites()\r\n\t                    .withNumShards(options.getNumShards())\r\n\t                    .to(\r\n\t                        WindowedFilenamePolicy.writeWindowedFiles()\r\n\t                            .withOutputDirectory(options.getOutputDir())\r\n\t                            .withOutputFilenamePrefix((options.getOutputFileNamePrefix())\r\n\t                            .withShardTemplate(options.getOutputShardTemplate())\r\n\t                            .withSuffix(&quot;.json&quot;)\r\n\t        \t\t\t\t\t.withTempDirectory(\r\n\t        \t\t\t\t\tNestedValueProvider.of(\r\n\t    \t        \t\t\tmaybeUseUserTempLocation(options.getUserTempLocation(),options.getOutputDirectory()),\r\n                               (SerializableFunction&lt;String, ResourceId&gt;)\r\n                               input -&gt; FileBasedSink.convertToFileResourceIfPossible(input))));\r\n","title":"Dataflow How do I write PubSub Message to GCS induvidual file","body":"<p>I have a scenario, where I have a streaming dataflow. The logic is to read json data from a PubSub subscription\nand make an api call to external system. In case if external system is not reachable, I need to persist the json data to GCS for later reprocessing. I could able to write the failure data to GCS but the challenge I have is instead of individual files, it's getting written to single file between the window mentioned. Is there any way I could write each pubsub message to GCS as individual files with unique file name based on value from each json data.</p>\n<pre><code>    final TupleTag&lt;String&gt; failureData =new TupleTag&lt;String&gt;(){};\n    PCollectionTuple APIOutputCollection= pipeline.apply(&quot;Read PubSub Events&quot;,PubsubIO.readMessagesWithAttributes().fromSubscription(options.getInputSubscription()))\n           .apply(&quot;Send to Apigee&quot;,ParDo.of(new APICall()).withOutputTags(successData,TupleTagList.of(failureData)));\n    \n    \n     APIOutputCollection.get(failureData)\n     .apply(\n                options.getWindowDuration() + &quot; Window&quot;,\n                Window.into(FixedWindows.of(DurationUtils.parseDuration(options.getWindowDuration()))))\n        .apply(\n                &quot;Write File(s)&quot;,\n                TextIO.write()\n                    .withWindowedWrites()\n                    .withNumShards(options.getNumShards())\n                    .to(\n                        WindowedFilenamePolicy.writeWindowedFiles()\n                            .withOutputDirectory(options.getOutputDir())\n                            .withOutputFilenamePrefix((options.getOutputFileNamePrefix())\n                            .withShardTemplate(options.getOutputShardTemplate())\n                            .withSuffix(&quot;.json&quot;)\n                            .withTempDirectory(\n                            NestedValueProvider.of(\n                            maybeUseUserTempLocation(options.getUserTempLocation(),options.getOutputDirectory()),\n                           (SerializableFunction&lt;String, ResourceId&gt;)\n                           input -&gt; FileBasedSink.convertToFileResourceIfPossible(input))));\n</code></pre>\n"},{"tags":["java","algorithm","sum"],"comments":[{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1647154943,"post_id":71454524,"comment_id":126296269,"body_markdown":"What is the constraint on `N`? Can you add a rough implementation of what you&#39;ve tried?","body":"What is the constraint on <code>N</code>? Can you add a rough implementation of what you&#39;ve tried?"},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1647155069,"post_id":71454524,"comment_id":126296285,"body_markdown":"Range of N is defined by  Long (Java) data type.","body":"Range of N is defined by  Long (Java) data type."},{"owner":{"account_id":2258335,"reputation":7818,"user_id":3403834,"display_name":"user58697"},"score":0,"creation_date":1647155507,"post_id":71454524,"comment_id":126296351,"body_markdown":"Do you know a sum of an arithmetic progression?","body":"Do you know a sum of an arithmetic progression?"},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1647155531,"post_id":71454524,"comment_id":126296357,"body_markdown":"@user58697 Please see the code.","body":"@user58697 Please see the code."},{"owner":{"account_id":2258335,"reputation":7818,"user_id":3403834,"display_name":"user58697"},"score":2,"creation_date":1647155892,"post_id":71454524,"comment_id":126296414,"body_markdown":"OK. I posted the comment before the edit. Now the problem nails down to when `y*(y+1)/2` is a perfect square. Big hint: `y` and `y+1` are coprime.","body":"OK. I posted the comment before the edit. Now the problem nails down to when <code>y*(y+1)&#47;2</code> is a perfect square. Big hint: <code>y</code> and <code>y+1</code> are coprime."},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1647233086,"post_id":71454524,"comment_id":126310743,"body_markdown":"@kcsquared Thanks a lot. That surely helps. I think I should close this question.","body":"@kcsquared Thanks a lot. That surely helps. I think I should close this question."},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1647233643,"post_id":71454524,"comment_id":126310847,"body_markdown":"@user58697 looks like a bad question. It requires me to know this formula (( (0.25) * (3.0+2.0*(2**0.5))**k ).floor) in order to solve in time better than linear.","body":"@user58697 looks like a bad question. It requires me to know this formula (( (0.25) * (3.0+2.0*(2**0.5))**k ).floor) in order to solve in time better than linear."},{"owner":{"account_id":2258335,"reputation":7818,"user_id":3403834,"display_name":"user58697"},"score":1,"creation_date":1647316420,"post_id":71454524,"comment_id":126334966,"body_markdown":"Looks like you&#39;ve ignored the hint. A coprimality means that one of the factors is a square, and another is twice a square. E.g. `y+1 = a^2` and `y = 2*b^2`, or vice versa. In the first case we arrive to `a^2 - 2b^2 = 1`, a classic [Pell&#39;s equation](https://en.wikipedia.org/wiki/Pell%27s_equation). In the second case it is a modified Pell&#39;s equation; pretty much the same. Please study it; math is an ultimate optimizer.","body":"Looks like you&#39;ve ignored the hint. A coprimality means that one of the factors is a square, and another is twice a square. E.g. <code>y+1 = a^2</code> and <code>y = 2*b^2</code>, or vice versa. In the first case we arrive to <code>a^2 - 2b^2 = 1</code>, a classic <a href=\"https://en.wikipedia.org/wiki/Pell%27s_equation\" rel=\"nofollow noreferrer\">Pell&#39;s equation</a>. In the second case it is a modified Pell&#39;s equation; pretty much the same. Please study it; math is an ultimate optimizer."},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1647318887,"post_id":71454524,"comment_id":126335360,"body_markdown":"@user58697 thanks a lot. I will surely study it. I love the last line &quot;math is an ultimate optimizer&quot;. Can you tell some good resources to study relevant maths for algorithms or computer science.","body":"@user58697 thanks a lot. I will surely study it. I love the last line &quot;math is an ultimate optimizer&quot;. Can you tell some good resources to study relevant maths for algorithms or computer science."}],"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647233099,"answer_count":0,"score":0,"last_activity_date":1647159936,"creation_date":1647154674,"question_id":71454524,"body_markdown":"Recently I faced the following programming puzzle:  \r\nGiven N, Write a program that can print all those pairs (X,Y) such that sum of 1.....X-1 is equal to sum of X+1......Y.   \r\nI tried to solve the program in following manner:\r\n1) First compute prefix sum of all value of Y (1&lt;=Y&lt;=N) and stored in the set.\r\n2) Iterate from 1 to N and determine all X such that X^2 is available in the above set.\r\n\r\nCode:\r\n\r\n    // compute prefix sum\r\n    Set&lt;Long&gt; prefixSums = new HashSet&lt;Long&gt;();\r\n    for(long y=1; y&lt;=N; y++){\r\n       prefixSums.add(y*(y+1)/2);\r\n    }\r\n    \r\n    // find all pairs .. (1,1) will always be a valid pair. \r\n    int pairs = 1; \r\n    for(long x=1;x&lt;=N;x++){\r\n       if(prefixSums.get(x*x)!= null){\r\n    \tpairs++;\r\n       }\r\n    }\r\nE.g. Given N = 10. Valid (X,Y) pairs are (1,1) and (6,8)\r\n\r\nIt was giving the correct solution in linear time. But I ended up with Time error. I think the question was expecting a better running time (logn or constant).\r\n\r\nCould you please tell how could the solution be improved in terms of time constraints.","title":"Algorithm to find all pairs that satisfy equal sum properties","body":"<p>Recently I faced the following programming puzzle:<br />\nGiven N, Write a program that can print all those pairs (X,Y) such that sum of 1.....X-1 is equal to sum of X+1......Y.<br />\nI tried to solve the program in following manner:</p>\n<ol>\n<li>First compute prefix sum of all value of Y (1&lt;=Y&lt;=N) and stored in the set.</li>\n<li>Iterate from 1 to N and determine all X such that X^2 is available in the above set.</li>\n</ol>\n<p>Code:</p>\n<pre><code>// compute prefix sum\nSet&lt;Long&gt; prefixSums = new HashSet&lt;Long&gt;();\nfor(long y=1; y&lt;=N; y++){\n   prefixSums.add(y*(y+1)/2);\n}\n\n// find all pairs .. (1,1) will always be a valid pair. \nint pairs = 1; \nfor(long x=1;x&lt;=N;x++){\n   if(prefixSums.get(x*x)!= null){\n    pairs++;\n   }\n}\n</code></pre>\n<p>E.g. Given N = 10. Valid (X,Y) pairs are (1,1) and (6,8)</p>\n<p>It was giving the correct solution in linear time. But I ended up with Time error. I think the question was expecting a better running time (logn or constant).</p>\n<p>Could you please tell how could the solution be improved in terms of time constraints.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":1660708,"reputation":2573,"user_id":1529061,"display_name":"ttzn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1552485202,"creation_date":1552484000,"answer_id":55143138,"question_id":55142587,"body_markdown":"The default `jar` task only bundles compiled classes from the target project. If you want to package its dependencies into a so-called ***fat jar***, you can always tweak the `jar` task (or a custom task of type `Jar`), manually adding elements from the runtime configuration, something like this :\r\n\r\n    jar {\r\n        // Will include every single one of your dependencies, project or not\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\nOr better yet, use a dedicated plugin, like [Gradle Shadow][1] :\r\n\r\n    buildscript {\r\n        dependencies {\r\n            classpath &#39;com.github.jengelman.gradle.plugins:shadow:4.0.2&#39;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;com.github.johnrengelman.shadow&#39;    \r\n\r\n    ...\r\n    \r\n    // Outputs to build/libs/dolphin-web-&lt;version&gt;.jar\r\n    shadowJar {\r\n       baseName = &#39;dolphin-web&#39;\r\n       classifier = null\r\n       version = getVersionCode()\r\n    }\r\n\r\n  [1]: https://github.com/johnrengelman/shadow","title":"How to make gradle to package all dependency jar?","body":"<p>The default <code>jar</code> task only bundles compiled classes from the target project. If you want to package its dependencies into a so-called <strong><em>fat jar</em></strong>, you can always tweak the <code>jar</code> task (or a custom task of type <code>Jar</code>), manually adding elements from the runtime configuration, something like this :</p>\n\n<pre><code>jar {\n    // Will include every single one of your dependencies, project or not\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n\n<p>Or better yet, use a dedicated plugin, like <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">Gradle Shadow</a> :</p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.github.jengelman.gradle.plugins:shadow:4.0.2'\n    }\n}\n\napply plugin: 'com.github.johnrengelman.shadow'    \n\n...\n\n// Outputs to build/libs/dolphin-web-&lt;version&gt;.jar\nshadowJar {\n   baseName = 'dolphin-web'\n   classifier = null\n   version = getVersionCode()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5544246,"reputation":2369,"user_id":4399576,"display_name":"Dimitar II"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647158680,"creation_date":1647158680,"answer_id":71454912,"question_id":55142587,"body_markdown":"With Gradle 7+ you can package the dependency (third-party) jars in your distribution archive like this:\r\n\r\n    configurations {\r\n        runtimeLib.extendsFrom implementation\r\n    }\r\n\r\n    task dist(type: Zip) {\r\n        into(&#39;MyProjectName&#39;) {\r\n            from &quot;$workDir&quot;\r\n            exclude &quot;log/*&quot;, &quot;temp&quot;\r\n            into(&#39;lib&#39;) {\r\n                from configurations.runtimeLib\r\n            }\r\n            includeEmptyDirs = true\r\n        }\r\n    }\r\n\r\n\r\nAlternatively you can use the Gradle [Distribution plugin](https://docs.gradle.org/current/userguide/distribution_plugin.html). It will collect the dependency jars and will also create start scripts (in project &#39;build/distributions&#39; directory).\r\n","title":"How to make gradle to package all dependency jar?","body":"<p>With Gradle 7+ you can package the dependency (third-party) jars in your distribution archive like this:</p>\n<pre><code>configurations {\n    runtimeLib.extendsFrom implementation\n}\n\ntask dist(type: Zip) {\n    into('MyProjectName') {\n        from &quot;$workDir&quot;\n        exclude &quot;log/*&quot;, &quot;temp&quot;\n        into('lib') {\n            from configurations.runtimeLib\n        }\n        includeEmptyDirs = true\n    }\n}\n</code></pre>\n<p>Alternatively you can use the Gradle <a href=\"https://docs.gradle.org/current/userguide/distribution_plugin.html\" rel=\"nofollow noreferrer\">Distribution plugin</a>. It will collect the dependency jars and will also create start scripts (in project 'build/distributions' directory).</p>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9125,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55143138,"answer_count":2,"score":5,"last_activity_date":1647158680,"creation_date":1552482292,"question_id":55142587,"body_markdown":"I am using Gradle 4.0 to package a project to jar.This is my build.gradle:\r\n\r\n    group &#39;dolphin&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;1.4.5.RELEASE&#39;\r\n            springVersion = &#39;4.3.7.RELEASE&#39;\r\n            springfoxVersion = &#39;2.6.1&#39;\r\n            jacksonVersion = &#39;2.8.7&#39;\r\n            lombokVersion = &#39;1.16.14&#39;\r\n        }\r\n        ext[&#39;tomcat.version&#39;] = &#39;8.0.35&#39;\r\n    \r\n        repositories {\r\n            mavenCentral()\r\n            jcenter{\r\n                url &#39;http://jcenter.bintray.com&#39;\r\n            }\r\n        }\r\n    \r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n    \r\n        }\r\n    }\r\n    \r\n    def getVersionCode() {\r\n        def versionFile = file(&quot;$rootDir/version.properties&quot;)\r\n        if (!versionFile.canRead()) {\r\n            throw new GradleException(&quot;Could not find version.properties!&quot;)\r\n        }\r\n        def versionProps = new Properties()\r\n        versionProps.load(new FileInputStream(versionFile))\r\n        def versionCode = versionProps[&#39;VERSION&#39;].toString()\r\n        return versionCode\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    allprojects {\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;org.springframework.boot&#39;\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    \r\n    task wrapper(type: Wrapper) {\r\n        description = &#39;Generates gradlew[.bat] scripts&#39;\r\n        gradleVersion = &#39;4.0&#39;\r\n    }\r\n    \r\n    \r\n    project(&quot;:common&quot;) {\r\n        description = &#39;&#39;\r\n    \r\n        dependencies {\r\n            compile(&quot;org.springframework:spring-context:&quot; + springVersion)\r\n            compile(&quot;commons-codec:commons-codec:1.10&quot;)\r\n            compile(&quot;org.apache.tomcat:tomcat-juli:&quot; + property(&#39;tomcat.version&#39;))\r\n            compile &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n            compile(&quot;io.springfox:springfox-swagger2:${springfoxVersion}&quot;)\r\n            compile group: &#39;io.swagger&#39;, name: &#39;swagger-annotations&#39;, version: &#39;1.5.20&#39;\r\n            compile(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\r\n            compile group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.5&#39;\r\n            compile group: &#39;org.mybatis.spring.boot&#39;, name: &#39;mybatis-spring-boot-starter&#39;, version: &#39;1.3.0&#39;\r\n            compile group: &#39;org.mybatis&#39;, name: &#39;mybatis&#39;, version: &#39;3.4.4&#39;\r\n            compile group: &#39;org.mybatis&#39;, name: &#39;mybatis-typehandlers-jsr310&#39;, version: &#39;1.0.2&#39;\r\n        }\r\n    }\r\n    \r\n    /*project(&quot;:api&quot;) {\r\n    \r\n        description = &#39;dolphin-api&#39;\r\n    \r\n        dependencies {\r\n            compile project(&quot;:business&quot;)\r\n            compile project(&quot;:data&quot;)\r\n            compile project(&quot;:composite&quot;)\r\n            compile project(&quot;:common&quot;)\r\n            compile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-juli&#39;, version: property(&#39;tomcat.version&#39;)\r\n            compile(&quot;org.projectlombok:lombok:1.16.10&quot;)\r\n            compile(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n            compile(&quot;org.springframework:spring-test:&quot; + springVersion)\r\n            compile(&quot;org.springframework.boot:spring-boot-test:&quot; + springBootVersion)\r\n            testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        }\r\n    }*/\r\n    \r\n    project(&quot;:composite&quot;) {\r\n    \r\n        description = &#39;dolphin-composite&#39;\r\n    \r\n        dependencies {\r\n            compile project(&quot;:business&quot;)\r\n            compile project(&quot;:data&quot;)\r\n            compile(&quot;org.springframework:spring-context:&quot; + springVersion)\r\n        }\r\n    }\r\n    \r\n    \r\n    project(&quot;:web&quot;) {\r\n    \r\n        description = &quot;web&quot;\r\n    \r\n        jar {\r\n            baseName = &quot;dolphin-web-&quot; + getVersionCode()\r\n        }\r\n    \r\n        dependencies {\r\n            implementation project(&#39;:business&#39;)\r\n            implementation project(&#39;:api&#39;)\r\n            implementation project(&#39;:common&#39;)\r\n            implementation project(&#39;:data&#39;)\r\n            implementation project(&#39;:composite&#39;)\r\n            implementation(&quot;com.zaxxer:HikariCP:2.6.0&quot;)\r\n            implementation(&quot;mysql:mysql-connector-java:5.1.24&quot;)\r\n            implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n            implementation(&quot;org.springframework.boot:spring-boot-starter&quot;)\r\n            implementation group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-juli&#39;, version: property(&#39;tomcat.version&#39;)\r\n            implementation(&quot;org.projectlombok:lombok:1.16.14&quot;)\r\n            implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.5&#39;\r\n            implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: &#39;1.7.24&#39;\r\n            implementation group: &#39;org.mybatis&#39;, name: &#39;mybatis&#39;, version: &#39;3.4.2&#39;\r\n            implementation group: &#39;org.mybatis&#39;, name: &#39;mybatis-typehandlers-jsr310&#39;, version: &#39;1.0.2&#39;\r\n            testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        }\r\n    }\r\n    \r\n    project(&quot;:business&quot;) {\r\n    \r\n        description = &quot;business&quot;\r\n    \r\n        dependencies {\r\n            compile project(&#39;:data&#39;)\r\n            compile project(&#39;:common&#39;)\r\n            compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        }\r\n    }\r\n    \r\n    project(&quot;:data&quot;) {\r\n    \r\n        description = &quot;data&quot;\r\n    \r\n        dependencies {\r\n            compile project(&#39;:dolphin-mybatis&#39;)\r\n            compile project(&#39;:common&#39;)\r\n            compile(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\r\n            compile(&quot;com.zaxxer:HikariCP:2.6.0&quot;)\r\n            compile group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.1.4&#39;\r\n            compile(&quot;org.hibernate:hibernate-validator:5.2.4.Final&quot;)\r\n            compile(&quot;org.mybatis.spring.boot:mybatis-spring-boot-starter:1.1.1&quot;)\r\n            compile(&quot;org.apache.commons:commons-lang3:3.5&quot;)\r\n            compile group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: &#39;1.7.24&#39;\r\n            compile group: &#39;org.mybatis&#39;, name: &#39;mybatis&#39;, version: &#39;3.4.2&#39;\r\n            compile group: &#39;org.mybatis&#39;, name: &#39;mybatis-typehandlers-jsr310&#39;, version: &#39;1.0.2&#39;\r\n            testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.11&#39;\r\n            compile(&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:$jacksonVersion&quot;)\r\n    \r\n        }\r\n    }\r\n    \r\n    project(&quot;:dolphin-mybatis&quot;) {\r\n    \r\n        description = &quot;dolphin-mybatis&quot;\r\n    \r\n        dependencies {\r\n    \r\n        }\r\n    }\r\n\r\n\r\nWhen I am using command to package all project to a single jar,the distination jar file does not contain dependencies.Only have 104KB.How to fix it?This is my package command:\r\n\r\n    ./gradlew -p web -x test build\r\n\r\n\r\n\r\njava version &quot;1.8.0_112&quot;\r\n","title":"How to make gradle to package all dependency jar?","body":"<p>I am using Gradle 4.0 to package a project to jar.This is my build.gradle:</p>\n\n<pre><code>group 'dolphin'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext {\n        springBootVersion = '1.4.5.RELEASE'\n        springVersion = '4.3.7.RELEASE'\n        springfoxVersion = '2.6.1'\n        jacksonVersion = '2.8.7'\n        lombokVersion = '1.16.14'\n    }\n    ext['tomcat.version'] = '8.0.35'\n\n    repositories {\n        mavenCentral()\n        jcenter{\n            url 'http://jcenter.bintray.com'\n        }\n    }\n\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n\n    }\n}\n\ndef getVersionCode() {\n    def versionFile = file(\"$rootDir/version.properties\")\n    if (!versionFile.canRead()) {\n        throw new GradleException(\"Could not find version.properties!\")\n    }\n    def versionProps = new Properties()\n    versionProps.load(new FileInputStream(versionFile))\n    def versionCode = versionProps['VERSION'].toString()\n    return versionCode\n}\n\nrepositories {\n    mavenCentral()\n}\n\nallprojects {\n    apply plugin: 'java'\n    apply plugin: 'org.springframework.boot'\n    repositories {\n        mavenCentral()\n    }\n}\n\n\ntask wrapper(type: Wrapper) {\n    description = 'Generates gradlew[.bat] scripts'\n    gradleVersion = '4.0'\n}\n\n\nproject(\":common\") {\n    description = ''\n\n    dependencies {\n        compile(\"org.springframework:spring-context:\" + springVersion)\n        compile(\"commons-codec:commons-codec:1.10\")\n        compile(\"org.apache.tomcat:tomcat-juli:\" + property('tomcat.version'))\n        compile 'org.springframework.boot:spring-boot-starter-web'\n        compile(\"io.springfox:springfox-swagger2:${springfoxVersion}\")\n        compile group: 'io.swagger', name: 'swagger-annotations', version: '1.5.20'\n        compile(\"org.projectlombok:lombok:${lombokVersion}\")\n        compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.5'\n        compile group: 'org.mybatis.spring.boot', name: 'mybatis-spring-boot-starter', version: '1.3.0'\n        compile group: 'org.mybatis', name: 'mybatis', version: '3.4.4'\n        compile group: 'org.mybatis', name: 'mybatis-typehandlers-jsr310', version: '1.0.2'\n    }\n}\n\n/*project(\":api\") {\n\n    description = 'dolphin-api'\n\n    dependencies {\n        compile project(\":business\")\n        compile project(\":data\")\n        compile project(\":composite\")\n        compile project(\":common\")\n        compile group: 'org.apache.tomcat', name: 'tomcat-juli', version: property('tomcat.version')\n        compile(\"org.projectlombok:lombok:1.16.10\")\n        compile(\"org.springframework.boot:spring-boot-devtools\")\n        compile(\"org.springframework:spring-test:\" + springVersion)\n        compile(\"org.springframework.boot:spring-boot-test:\" + springBootVersion)\n        testCompile group: 'junit', name: 'junit', version: '4.12'\n    }\n}*/\n\nproject(\":composite\") {\n\n    description = 'dolphin-composite'\n\n    dependencies {\n        compile project(\":business\")\n        compile project(\":data\")\n        compile(\"org.springframework:spring-context:\" + springVersion)\n    }\n}\n\n\nproject(\":web\") {\n\n    description = \"web\"\n\n    jar {\n        baseName = \"dolphin-web-\" + getVersionCode()\n    }\n\n    dependencies {\n        implementation project(':business')\n        implementation project(':api')\n        implementation project(':common')\n        implementation project(':data')\n        implementation project(':composite')\n        implementation(\"com.zaxxer:HikariCP:2.6.0\")\n        implementation(\"mysql:mysql-connector-java:5.1.24\")\n        implementation(\"org.springframework.boot:spring-boot-starter-web\")\n        implementation(\"org.springframework.boot:spring-boot-starter\")\n        implementation group: 'org.apache.tomcat', name: 'tomcat-juli', version: property('tomcat.version')\n        implementation(\"org.projectlombok:lombok:1.16.14\")\n        implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.5'\n        implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.24'\n        implementation group: 'org.mybatis', name: 'mybatis', version: '3.4.2'\n        implementation group: 'org.mybatis', name: 'mybatis-typehandlers-jsr310', version: '1.0.2'\n        testCompile group: 'junit', name: 'junit', version: '4.12'\n    }\n}\n\nproject(\":business\") {\n\n    description = \"business\"\n\n    dependencies {\n        compile project(':data')\n        compile project(':common')\n        compile('org.springframework.boot:spring-boot-starter-web')\n    }\n}\n\nproject(\":data\") {\n\n    description = \"data\"\n\n    dependencies {\n        compile project(':dolphin-mybatis')\n        compile project(':common')\n        compile(\"org.projectlombok:lombok:${lombokVersion}\")\n        compile(\"com.zaxxer:HikariCP:2.6.0\")\n        compile group: 'org.postgresql', name: 'postgresql', version: '42.1.4'\n        compile(\"org.hibernate:hibernate-validator:5.2.4.Final\")\n        compile(\"org.mybatis.spring.boot:mybatis-spring-boot-starter:1.1.1\")\n        compile(\"org.apache.commons:commons-lang3:3.5\")\n        compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.24'\n        compile group: 'org.mybatis', name: 'mybatis', version: '3.4.2'\n        compile group: 'org.mybatis', name: 'mybatis-typehandlers-jsr310', version: '1.0.2'\n        testCompile group: 'junit', name: 'junit', version: '4.11'\n        compile(\"com.fasterxml.jackson.datatype:jackson-datatype-jsr310:$jacksonVersion\")\n\n    }\n}\n\nproject(\":dolphin-mybatis\") {\n\n    description = \"dolphin-mybatis\"\n\n    dependencies {\n\n    }\n}\n</code></pre>\n\n<p>When I am using command to package all project to a single jar,the distination jar file does not contain dependencies.Only have 104KB.How to fix it?This is my package command:</p>\n\n<pre><code>./gradlew -p web -x test build\n</code></pre>\n\n<p>java version \"1.8.0_112\"</p>\n"},{"tags":["java","spring","spring-boot","jackson-modules"],"answers":[{"tags":[],"owner":{"account_id":56970,"reputation":1143,"user_id":170637,"display_name":"Olivier G&#233;rardin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1558704492,"creation_date":1558704492,"answer_id":56293680,"question_id":56291441,"body_markdown":"Since I can&#39;t get the `ObjectMapper` to register my `Module`s I figured I had to do it myself so I came up with this solution that seems to work:\r\n\r\n    @Configuration\r\n    public class ProblemConfiguration implements InitializingBean {\r\n    \r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() {\r\n            objectMapper.registerModules(\r\n                    new ProblemModule(),\r\n                    new ConstraintViolationProblemModule()\r\n            );\r\n        }\r\n    }\r\n\r\nIf someone has an idea why it&#39;s not working as expected, I&#39;d be glad to hear it :)\r\n","title":"zalando problem-spring-web generates unwanted stack trace","body":"<p>Since I can't get the <code>ObjectMapper</code> to register my <code>Module</code>s I figured I had to do it myself so I came up with this solution that seems to work:</p>\n\n<pre><code>@Configuration\npublic class ProblemConfiguration implements InitializingBean {\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @Override\n    public void afterPropertiesSet() {\n        objectMapper.registerModules(\n                new ProblemModule(),\n                new ConstraintViolationProblemModule()\n        );\n    }\n}\n</code></pre>\n\n<p>If someone has an idea why it's not working as expected, I'd be glad to hear it :)</p>\n"},{"tags":[],"owner":{"account_id":7504490,"reputation":596,"user_id":5701542,"display_name":"gaetan224"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647158542,"creation_date":1647158542,"answer_id":71454888,"question_id":56291441,"body_markdown":"Since Spring boot 1.1.0, the JacksonAutoConfiguration creates an ObjectMapper bean and automatically registers all module found in your registered beans, \r\n\r\nso you juste need to create does two beans modules and use de already configured ObjectMapper like this:\r\n\r\n     /*\r\n     * Module for serialization/deserialization of RFC7807 Problem.\r\n     */\r\n    @Bean\r\n    public ProblemModule problemModule() {\r\n        return new ProblemModule();\r\n    }\r\n\r\n    /*\r\n     * Module for serialization/deserialization of ConstraintViolationProblem.\r\n     */\r\n    @Bean\r\n    public ConstraintViolationProblemModule constraintViolationProblemModule() {\r\n        return new ConstraintViolationProblemModule();\r\n    }\r\n\r\n\r\nuse configured ObjectMapper for ex in service Classe\r\n\r\n    @Autowired\r\n    ObjectMapper jacksonObjectMapper\r\n\r\n","title":"zalando problem-spring-web generates unwanted stack trace","body":"<p>Since Spring boot 1.1.0, the JacksonAutoConfiguration creates an ObjectMapper bean and automatically registers all module found in your registered beans,</p>\n<p>so you juste need to create does two beans modules and use de already configured ObjectMapper like this:</p>\n<pre><code> /*\n * Module for serialization/deserialization of RFC7807 Problem.\n */\n@Bean\npublic ProblemModule problemModule() {\n    return new ProblemModule();\n}\n\n/*\n * Module for serialization/deserialization of ConstraintViolationProblem.\n */\n@Bean\npublic ConstraintViolationProblemModule constraintViolationProblemModule() {\n    return new ConstraintViolationProblemModule();\n}\n</code></pre>\n<p>use configured ObjectMapper for ex in service Classe</p>\n<pre><code>@Autowired\nObjectMapper jacksonObjectMapper\n</code></pre>\n"}],"owner":{"account_id":56970,"reputation":1143,"user_id":170637,"display_name":"Olivier G&#233;rardin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3848,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56293680,"answer_count":2,"score":2,"last_activity_date":1647158542,"creation_date":1558696165,"question_id":56291441,"body_markdown":"I&#39;m trying to implement RFC 7807 in my Spring Boot project using zalando problem-spring-web https://github.com/zalando/problem-spring-web\r\n\r\nI&#39;ve done the setup according to this guide https://github.com/zalando/problem-spring-web/tree/master/problem-spring-web\r\n\r\nWhen an exception is thrown, the `Problem` instance does get generated, but its serialized JSON form is not as expected, most notably the stack trace is included when it shouldn&#39;t. \r\n\r\nAfter some debugging, it seems that the `ProblemModule` is not registered in the `ObjectMapper` that is used to serialize the problem (its `setupModule` method is never called). I was under the impression that declaring a bean of type `Module` was enough to have it picked up by Spring and registered in the `ObjectMapper`, but it doesn&#39;t happen here.\r\n\r\nThe doc says\r\n\r\n&gt; In case you want to enable stack traces, please configure your\r\n&gt; ProblemModule as follows:\r\n\r\n    ObjectMapper mapper = new ObjectMapper()\r\n         .registerModule(new ProblemModule().withStackTraces());\r\n\r\nwhich seems to imply that you need to instantiate your own `ObjectMapper`, but then how to make sure that it&#39;s used by the library when deserializing the Problem?\r\n","title":"zalando problem-spring-web generates unwanted stack trace","body":"<p>I'm trying to implement RFC 7807 in my Spring Boot project using zalando problem-spring-web <a href=\"https://github.com/zalando/problem-spring-web\" rel=\"nofollow noreferrer\">https://github.com/zalando/problem-spring-web</a></p>\n\n<p>I've done the setup according to this guide <a href=\"https://github.com/zalando/problem-spring-web/tree/master/problem-spring-web\" rel=\"nofollow noreferrer\">https://github.com/zalando/problem-spring-web/tree/master/problem-spring-web</a></p>\n\n<p>When an exception is thrown, the <code>Problem</code> instance does get generated, but its serialized JSON form is not as expected, most notably the stack trace is included when it shouldn't. </p>\n\n<p>After some debugging, it seems that the <code>ProblemModule</code> is not registered in the <code>ObjectMapper</code> that is used to serialize the problem (its <code>setupModule</code> method is never called). I was under the impression that declaring a bean of type <code>Module</code> was enough to have it picked up by Spring and registered in the <code>ObjectMapper</code>, but it doesn't happen here.</p>\n\n<p>The doc says</p>\n\n<blockquote>\n  <p>In case you want to enable stack traces, please configure your\n  ProblemModule as follows:</p>\n</blockquote>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper()\n     .registerModule(new ProblemModule().withStackTraces());\n</code></pre>\n\n<p>which seems to imply that you need to instantiate your own <code>ObjectMapper</code>, but then how to make sure that it's used by the library when deserializing the Problem?</p>\n"},{"tags":["java","agents-jade"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1647080512,"post_id":71422161,"comment_id":126287015,"body_markdown":"Does it work with java 8?","body":"Does it work with java 8?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1647080711,"post_id":71422161,"comment_id":126287063,"body_markdown":"You might want to check other questions like https://stackoverflow.com/questions/53633788/java-lang-illegalaccesserror-cannot-access-class-because-module-does-not-export","body":"You might want to check other questions like <a href=\"https://stackoverflow.com/questions/53633788/java-lang-illegalaccesserror-cannot-access-class-because-module-does-not-export\" title=\"java lang illegalaccesserror cannot access class because module does not export\">stackoverflow.com/questions/53633788/&hellip;</a>"}],"owner":{"account_id":24512852,"reputation":1,"user_id":18426962,"display_name":"mahdi al-haidari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647158500,"creation_date":1646906199,"question_id":71422161,"body_markdown":"I want to connect two jade platform on a separate pcs on local network.\r\n\r\nI run the jade platform using command\r\n\r\n    java -cp lib/jade.jar jade.Boot -gui\r\n\r\neverything work fine but when i tried to add one platform to other by select from the gui (remote platforms) menu then select add (platform via ams aid) then write ams guid which is\r\n\r\n    ams@192.168.0.103:1099/JADE \r\n\r\nand the address of it which is \r\n\r\n    http://192.168.0.103:7778/acc\r\n\r\ni got this error on the other pc:\r\n\r\n    jade.mtp.http.HTTPServer$ServerThread run\r\n    WARNING: HTTPServer error:\r\n    jade.mtp.MTPException: java.lang.IllegalAccessException: \r\n    class jade.mtp.http.XMLCodec cannot access class\r\n    com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser (in \r\n    module java.xml) because module java.xml does not export \r\n    com.sun.org.apache.xerces.internal.jaxp to unnamed module @49b70bc7\r\n\r\nand when i run two platforms on the same pc(for sure with diffrent local port) it works fine.","title":"Jade Platform : Error in Connecting two remote platforms","body":"<p>I want to connect two jade platform on a separate pcs on local network.</p>\n<p>I run the jade platform using command</p>\n<pre><code>java -cp lib/jade.jar jade.Boot -gui\n</code></pre>\n<p>everything work fine but when i tried to add one platform to other by select from the gui (remote platforms) menu then select add (platform via ams aid) then write ams guid which is</p>\n<pre><code>ams@192.168.0.103:1099/JADE \n</code></pre>\n<p>and the address of it which is</p>\n<pre><code>http://192.168.0.103:7778/acc\n</code></pre>\n<p>i got this error on the other pc:</p>\n<pre><code>jade.mtp.http.HTTPServer$ServerThread run\nWARNING: HTTPServer error:\njade.mtp.MTPException: java.lang.IllegalAccessException: \nclass jade.mtp.http.XMLCodec cannot access class\ncom.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser (in \nmodule java.xml) because module java.xml does not export \ncom.sun.org.apache.xerces.internal.jaxp to unnamed module @49b70bc7\n</code></pre>\n<p>and when i run two platforms on the same pc(for sure with diffrent local port) it works fine.</p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":2229924,"reputation":5666,"user_id":1967800,"accept_rate":78,"display_name":"Sharcoux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475152937,"creation_date":1474743916,"answer_id":39679948,"question_id":39678974,"body_markdown":"I think that I got the trick:\r\n\r\n        Element elt = Jsoup.parse(elementToBeCloned).body().child(0);\r\n        elt.ownedDocument().outputSettings(elementToBeCloned.ownedDocument().outputSettings().clone());\r\n\r\nThe idea is to make a new parsing to generate a new Document, and then clone the OutputSettings. No idea why I didn&#39;t think about it.","title":"set outputsettings for cloned elements in Jsoup","body":"<p>I think that I got the trick:</p>\n\n<pre><code>    Element elt = Jsoup.parse(elementToBeCloned).body().child(0);\n    elt.ownedDocument().outputSettings(elementToBeCloned.ownedDocument().outputSettings().clone());\n</code></pre>\n\n<p>The idea is to make a new parsing to generate a new Document, and then clone the OutputSettings. No idea why I didn't think about it.</p>\n"},{"tags":[],"owner":{"account_id":954957,"reputation":2251,"user_id":980439,"display_name":"Frettman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647158500,"creation_date":1647158500,"answer_id":71454877,"question_id":39678974,"body_markdown":"For anyone coming here like me, I&#39;d like to provide the solution I ended up with. As stated in the question, cloned Elements don&#39;t have an owning Document which is required to change the output settings. But printing the HTML of an Element without owning Document will create and throw away a Document anyway, so this solution shouldn&#39;t be much overhead.\r\n\r\n    Element elementClone = element.shallowClone(); // or .clone()\r\n    \r\n    Document document = new Document(&quot;&quot;);\r\n    document.body().appendChild(elementClone);\r\n    document.outputSettings().prettyPrint(false);\r\n    \r\n    System.out.println(elementClone.outerHtml());","title":"set outputsettings for cloned elements in Jsoup","body":"<p>For anyone coming here like me, I'd like to provide the solution I ended up with. As stated in the question, cloned Elements don't have an owning Document which is required to change the output settings. But printing the HTML of an Element without owning Document will create and throw away a Document anyway, so this solution shouldn't be much overhead.</p>\n<pre><code>Element elementClone = element.shallowClone(); // or .clone()\n\nDocument document = new Document(&quot;&quot;);\ndocument.body().appendChild(elementClone);\ndocument.outputSettings().prettyPrint(false);\n\nSystem.out.println(elementClone.outerHtml());\n</code></pre>\n"}],"owner":{"account_id":2229924,"reputation":5666,"user_id":1967800,"accept_rate":78,"display_name":"Sharcoux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39679948,"answer_count":2,"score":0,"last_activity_date":1647158500,"creation_date":1474737391,"question_id":39678974,"body_markdown":"With Jsoup, cloned elements don&#39;t have a owner Document, which makes me unable to set output settings for these elements, and that leads to some issues in my app. Try this:\r\n\r\n    package test;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Document doc = Jsoup.parse(&quot;&lt;div&gt;&lt;/div&gt;&quot;);\r\n            doc.outputSettings(new Document.OutputSettings().prettyPrint(false));\r\n            Element e = doc.body();\r\n            Element copy = e.clone();\r\n            System.out.println(e.outerHtml());//returns html not pretty printed\r\n            System.out.println(copy.outerHtml());//returns html pretty printed\r\n            System.out.println(copy.ownerDocument());//returns null\r\n        }\r\n    }\r\n\r\nThe issue is that, for inline elements, this makes a difference. for instance, if I get\r\n\r\n    &lt;body&gt;\r\n     &lt;div style=&quot;display:inline;&quot;&gt;\r\n      test\r\n     &lt;/div&gt;\r\n     &lt;div style=&quot;display:inline;&quot;&gt;\r\n      test\r\n     &lt;/div&gt;\r\n    &lt;/body&gt;\r\n\r\ninstead of\r\n\r\n    &lt;div style=&quot;display:inline-block;&quot;&gt;test&lt;/div&gt;&lt;div style=&quot;display:inline-block;&quot;&gt;test&lt;/div&gt;\r\n\r\nI get extra spaces, which is wrong.","title":"set outputsettings for cloned elements in Jsoup","body":"<p>With Jsoup, cloned elements don't have a owner Document, which makes me unable to set output settings for these elements, and that leads to some issues in my app. Try this:</p>\n\n<pre><code>package test;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\n\npublic class Main {\n    public static void main(String[] args) {\n        Document doc = Jsoup.parse(\"&lt;div&gt;&lt;/div&gt;\");\n        doc.outputSettings(new Document.OutputSettings().prettyPrint(false));\n        Element e = doc.body();\n        Element copy = e.clone();\n        System.out.println(e.outerHtml());//returns html not pretty printed\n        System.out.println(copy.outerHtml());//returns html pretty printed\n        System.out.println(copy.ownerDocument());//returns null\n    }\n}\n</code></pre>\n\n<p>The issue is that, for inline elements, this makes a difference. for instance, if I get</p>\n\n<pre><code>&lt;body&gt;\n &lt;div style=\"display:inline;\"&gt;\n  test\n &lt;/div&gt;\n &lt;div style=\"display:inline;\"&gt;\n  test\n &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>&lt;div style=\"display:inline-block;\"&gt;test&lt;/div&gt;&lt;div style=\"display:inline-block;\"&gt;test&lt;/div&gt;\n</code></pre>\n\n<p>I get extra spaces, which is wrong.</p>\n"},{"tags":["java","multithreading","thread-sleep"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":1,"creation_date":1419051428,"post_id":27576805,"comment_id":43579326,"body_markdown":"There are a bunch of things you can make use of in the `java.util.concurrent` that might make things easier than dealing directly with a thread lifecycles. Will be hard to know without seeing any code.","body":"There are a bunch of things you can make use of in the <code>java.util.concurrent</code> that might make things easier than dealing directly with a thread lifecycles. Will be hard to know without seeing any code."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1419051451,"post_id":27576805,"comment_id":43579330,"body_markdown":"here&#39;s an example of interrupting a sleeping thread http://stackoverflow.com/a/5915306/217324  interruption is designed to allow breaking out of sleep or wait states. if IO is involved that may complicate things, but sleep should not be an issue. i suspect you&#39;re looking at the wrong problem.","body":"here&#39;s an example of interrupting a sleeping thread <a href=\"http://stackoverflow.com/a/5915306/217324\">stackoverflow.com/a/5915306/217324</a>  interruption is designed to allow breaking out of sleep or wait states. if IO is involved that may complicate things, but sleep should not be an issue. i suspect you&#39;re looking at the wrong problem."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1419052311,"post_id":27576805,"comment_id":43579496,"body_markdown":"OTOH, if the thread has run, and the &quot;music&quot; is now in a buffer held by the OS, then you&#39;re going to have a tougher time stopping that.  Try to play the sound a little at a time so you can just not feed the audio any more bytes.","body":"OTOH, if the thread has run, and the &quot;music&quot; is now in a buffer held by the OS, then you&#39;re going to have a tougher time stopping that.  Try to play the sound a little at a time so you can just not feed the audio any more bytes."},{"owner":{"account_id":5486172,"reputation":136,"user_id":4360854,"display_name":"Woodrow"},"score":0,"creation_date":1419053368,"post_id":27576805,"comment_id":43579666,"body_markdown":"Thanks for all the advice (everybody who has posted) -- when I get back to my coding computer tomorrow, I&#39;ll try out the suggestions.","body":"Thanks for all the advice (everybody who has posted) -- when I get back to my coding computer tomorrow, I&#39;ll try out the suggestions."}],"answers":[{"tags":[],"owner":{"account_id":1992,"reputation":1139,"user_id":2737,"accept_rate":80,"display_name":"Kevin Kaske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419048574,"creation_date":1419048574,"answer_id":27576829,"question_id":27576805,"body_markdown":"Instead of sleeping, you could have your thread wait for an object to be notified with a timeout. You would then notify the object if you want the thread to wake up or interrupt it.","title":"Java - stop a sleeping thread","body":"<p>Instead of sleeping, you could have your thread wait for an object to be notified with a timeout. You would then notify the object if you want the thread to wake up or interrupt it.</p>\n"},{"tags":[],"owner":{"account_id":2098088,"reputation":1983,"user_id":1866426,"accept_rate":25,"display_name":"Siva Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419051230,"creation_date":1419051230,"answer_id":27577060,"question_id":27576805,"body_markdown":"You can use interrupt method. It will give interrupt signal to sleep method. you will catch `InterruptedException` and it will return from method.","title":"Java - stop a sleeping thread","body":"<p>You can use interrupt method. It will give interrupt signal to sleep method. you will catch <code>InterruptedException</code> and it will return from method.</p>\n"},{"tags":[],"owner":{"account_id":4877201,"reputation":516,"user_id":3931910,"display_name":"YakuZa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419051653,"creation_date":1419051653,"answer_id":27577106,"question_id":27576805,"body_markdown":"You have to use the wait() and notify() function.\r\n\r\nwait() tells the calling thread to give up the monitor and go to sleep until some other thread enters the same monitor and calls notify( ).\r\n\r\nnotify() wakes up the first thread that called wait() on the same object.\r\n\r\nSo you can keep another button like &#39;resume button&#39; which triggers the event to notify().","title":"Java - stop a sleeping thread","body":"<p>You have to use the wait() and notify() function.</p>\n\n<p>wait() tells the calling thread to give up the monitor and go to sleep until some other thread enters the same monitor and calls notify( ).</p>\n\n<p>notify() wakes up the first thread that called wait() on the same object.</p>\n\n<p>So you can keep another button like 'resume button' which triggers the event to notify().</p>\n"},{"tags":[],"owner":{"account_id":14481089,"reputation":1,"user_id":10460293,"display_name":"Pratik Jadhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647158383,"creation_date":1647158383,"answer_id":71454866,"question_id":27576805,"body_markdown":"Make Use of **join method** in Main method of your java program.\r\njoin method waits for a thread to die.\r\nEx.\r\n    \r\n\r\n    try  \r\n    \t{  \r\n    \t    // waiting for thread t1 &amp; t2 to complete its execution  \r\n    \t    thread.join();\r\n    \t    thread2.join();  \r\n    \t    \r\n    \t}  \r\n    \tcatch (InterruptedException ie)  \r\n    \t{  \r\n    \t    ie.printStackTrace();  \r\n    \t    \r\n    \t}  \r\n    \tSystem.out.println(&quot;T1 &quot;+thread.getState());\r\n    \tSystem.out.println(&quot;T2 &quot;+thread2.getState());\r\n\r\nop:\r\nT1 Terminated\r\nT2 Terminated\r\n\r\nOr visit this code\r\nhttps://onlinegdb.com/Cr1HMdpzcg\r\n\r\nfor more Multithreading concepts visit\r\nhttps://www.javatpoint.com/multithreading-in-java","title":"Java - stop a sleeping thread","body":"<p>Make Use of <strong>join method</strong> in Main method of your java program.\njoin method waits for a thread to die.\nEx.</p>\n<pre><code>try  \n    {  \n        // waiting for thread t1 &amp; t2 to complete its execution  \n        thread.join();\n        thread2.join();  \n        \n    }  \n    catch (InterruptedException ie)  \n    {  \n        ie.printStackTrace();  \n        \n    }  \n    System.out.println(&quot;T1 &quot;+thread.getState());\n    System.out.println(&quot;T2 &quot;+thread2.getState());\n</code></pre>\n<p>op:\nT1 Terminated\nT2 Terminated</p>\n<p>Or visit this code\n<a href=\"https://onlinegdb.com/Cr1HMdpzcg\" rel=\"nofollow noreferrer\">https://onlinegdb.com/Cr1HMdpzcg</a></p>\n<p>for more Multithreading concepts visit\n<a href=\"https://www.javatpoint.com/multithreading-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/multithreading-in-java</a></p>\n"}],"owner":{"account_id":5486172,"reputation":136,"user_id":4360854,"display_name":"Woodrow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1647158383,"creation_date":1419048345,"question_id":27576805,"body_markdown":"\r\nIn my java gui program, I have a button, of which upon clicking, will create a new thread that plays a song in the background.  Had I not created a new thread, and just played it in the actionListener, the song would freeze up the rest of the gui to be unusable until it finished.\r\n\r\nHowever, I would like a means for the user to stop the song.. which in code I would take to mean &#39;terminate the thread&#39;.  I&#39;ve tried some online answers like the deprecated .stop() .interrupt() methods, but they don&#39;t seem to work.  I think this has something to do with the fact that the thread that plays the song is in Thread.sleep() for the duration of the song..  any way to terminate a sleeping thread?  -Thanks","title":"Java - stop a sleeping thread","body":"<p>In my java gui program, I have a button, of which upon clicking, will create a new thread that plays a song in the background.  Had I not created a new thread, and just played it in the actionListener, the song would freeze up the rest of the gui to be unusable until it finished.</p>\n\n<p>However, I would like a means for the user to stop the song.. which in code I would take to mean 'terminate the thread'.  I've tried some online answers like the deprecated .stop() .interrupt() methods, but they don't seem to work.  I think this has something to do with the fact that the thread that plays the song is in Thread.sleep() for the duration of the song..  any way to terminate a sleeping thread?  -Thanks</p>\n"},{"tags":["java","spring","mongodb","oracle","hibernate"],"comments":[{"owner":{"account_id":3214803,"reputation":531,"user_id":2846307,"display_name":"almac777"},"score":0,"creation_date":1647159063,"post_id":71454830,"comment_id":126296897,"body_markdown":"Does this answer your question? [Spring @Transactional with a transaction across multiple data sources](https://stackoverflow.com/questions/48954763/spring-transactional-with-a-transaction-across-multiple-data-sources)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48954763/spring-transactional-with-a-transaction-across-multiple-data-sources\">Spring @Transactional with a transaction across multiple data sources</a>"},{"owner":{"account_id":5891674,"reputation":33,"user_id":4638081,"display_name":"batinex"},"score":0,"creation_date":1647167618,"post_id":71454830,"comment_id":126298468,"body_markdown":"What if JVM crashed after T1?","body":"What if JVM crashed after T1?"}],"owner":{"account_id":5891674,"reputation":33,"user_id":4638081,"display_name":"batinex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647157924,"creation_date":1647157924,"question_id":71454830,"body_markdown":"In my application I need to perform several calculations on entity A, B, C. Due to entity C having a structure suited better for MongoDB I want to perform and commit transaction for entity A and B to oracle db and then entity C to mongo. However, if for any reason JVM crashed after commiting transaction to entity A, and B and commiting to mongo it will lead to incosistent database state. Is there any solution that I could use? I was thinking about using tempomary file that would be created before commiting to the oracle  ","title":"Spring and hibernate. Transaction to both data sources","body":"<p>In my application I need to perform several calculations on entity A, B, C. Due to entity C having a structure suited better for MongoDB I want to perform and commit transaction for entity A and B to oracle db and then entity C to mongo. However, if for any reason JVM crashed after commiting transaction to entity A, and B and commiting to mongo it will lead to incosistent database state. Is there any solution that I could use? I was thinking about using tempomary file that would be created before commiting to the oracle</p>\n"},{"tags":["java","sorting","java-8","linked-list"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647156669,"creation_date":1647156108,"answer_id":71454662,"question_id":71454313,"body_markdown":"This is my approach.\r\n\r\n(**Note:** This solution builds a new sorted list and doesn&#39;t mutate the input. See **UPDATE** to sort the input list).\r\n\r\nFirst, I would have a private class (or a Record in Java 14+) for representing the `column` and `sum` combination.\r\n\r\nNext, I would build `List&lt;ColumnToSum&gt;` to capture the sum for each column in the nested list. Then sort it based on the sum (if two columns have the same sum, sort by column index). Get the column indexes sorted by sum.\r\n\r\nOnce we this, we would have the ordering requirement i.e., we would have the index/column order by which we want to sort each list element in the nested list (`2, 1, 0` in your example). \r\n\r\nWith this, finally, we can build the sorted list by just arranging the integers as per the ordering requirement we have established.\r\n\r\n\r\n    private static class ColumnToSum {\r\n        int col;\r\n        int sum;\r\n\r\n        ColumnToSum(int col, int sum) {\r\n            this.col = col;\r\n            this.sum = sum;\r\n        }\r\n\r\n        public int getCol() {\r\n            return col;\r\n        }\r\n\r\n        public int getSum() {\r\n            return sum;\r\n        }\r\n    }\r\n\r\n    List&lt;ColumnToSum&gt; columnToSums = new ArrayList&lt;&gt;();\r\n    for (int j = 0; j &lt; a.get(0).size(); j++) {\r\n        int colSum = 0;\r\n        for (List&lt;Integer&gt; nestedList : a) {\r\n            colSum += nestedList.get(j);\r\n        }\r\n        columnToSums.add(new ColumnToSum(j, colSum));\r\n    }\r\n\r\n    columnToSums.sort(Comparator.comparing(ColumnToSum::getSum)\r\n            .thenComparingInt(ColumnToSum::getCol));\r\n\r\n    // collect the indexes in order\r\n    List&lt;Integer&gt; indexOrdering = columnToSums.stream()\r\n            .map(ColumnToSum::getCol)\r\n            .collect(Collectors.toList());\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; sorted = new LinkedList&lt;&gt;();\r\n\r\n    // Construct new list as per the indexOrdering\r\n    for (List&lt;Integer&gt; nestedList : a) {\r\n        List&lt;Integer&gt; list = new LinkedList&lt;&gt;();\r\n        for (int index : indexOrdering) {\r\n            list.add(nestedList.get(index));\r\n        }\r\n        sorted.add(list);\r\n    }\r\n    System.out.println(sorted); //[[1, 0, 3], [2, 3, 5], [0, 4, 1]]\r\n\r\n---\r\n**UPDATE:**\r\n\r\nThe last step can be done in a different way so that we sort the input list itself. \r\n\r\nOnce we have built the `indexOrdering`, we can sort each nested list by comparing the index of the element to the `indexOrdering` and determine the final ordering.\r\n\r\n\r\n    a.forEach(n -&gt; n.sort((e1, e2) -&gt; Integer.compare(\r\n            indexOrdering.indexOf(n.indexOf(e1)),\r\n            indexOrdering.indexOf(n.indexOf(e2)))\r\n    ));\r\n\r\nWe can simplify this using [Comparator.comparingInt](https://javadevcentral.com/java-comparator-comparing) as\r\n\r\n    a.forEach(n -&gt; n.sort(Comparator.comparingInt(\r\n                e -&gt; indexOrdering.indexOf(n.indexOf(e)))));\r\n\r\nNote that `indexOf` is `O(n)` operation.","title":"Sort the LinkedList of Linkedlist based on it&#39;s index value sum","body":"<p>This is my approach.</p>\n<p>(<strong>Note:</strong> This solution builds a new sorted list and doesn't mutate the input. See <strong>UPDATE</strong> to sort the input list).</p>\n<p>First, I would have a private class (or a Record in Java 14+) for representing the <code>column</code> and <code>sum</code> combination.</p>\n<p>Next, I would build <code>List&lt;ColumnToSum&gt;</code> to capture the sum for each column in the nested list. Then sort it based on the sum (if two columns have the same sum, sort by column index). Get the column indexes sorted by sum.</p>\n<p>Once we this, we would have the ordering requirement i.e., we would have the index/column order by which we want to sort each list element in the nested list (<code>2, 1, 0</code> in your example).</p>\n<p>With this, finally, we can build the sorted list by just arranging the integers as per the ordering requirement we have established.</p>\n<pre><code>private static class ColumnToSum {\n    int col;\n    int sum;\n\n    ColumnToSum(int col, int sum) {\n        this.col = col;\n        this.sum = sum;\n    }\n\n    public int getCol() {\n        return col;\n    }\n\n    public int getSum() {\n        return sum;\n    }\n}\n\nList&lt;ColumnToSum&gt; columnToSums = new ArrayList&lt;&gt;();\nfor (int j = 0; j &lt; a.get(0).size(); j++) {\n    int colSum = 0;\n    for (List&lt;Integer&gt; nestedList : a) {\n        colSum += nestedList.get(j);\n    }\n    columnToSums.add(new ColumnToSum(j, colSum));\n}\n\ncolumnToSums.sort(Comparator.comparing(ColumnToSum::getSum)\n        .thenComparingInt(ColumnToSum::getCol));\n\n// collect the indexes in order\nList&lt;Integer&gt; indexOrdering = columnToSums.stream()\n        .map(ColumnToSum::getCol)\n        .collect(Collectors.toList());\n\nList&lt;List&lt;Integer&gt;&gt; sorted = new LinkedList&lt;&gt;();\n\n// Construct new list as per the indexOrdering\nfor (List&lt;Integer&gt; nestedList : a) {\n    List&lt;Integer&gt; list = new LinkedList&lt;&gt;();\n    for (int index : indexOrdering) {\n        list.add(nestedList.get(index));\n    }\n    sorted.add(list);\n}\nSystem.out.println(sorted); //[[1, 0, 3], [2, 3, 5], [0, 4, 1]]\n</code></pre>\n<hr />\n<p><strong>UPDATE:</strong></p>\n<p>The last step can be done in a different way so that we sort the input list itself.</p>\n<p>Once we have built the <code>indexOrdering</code>, we can sort each nested list by comparing the index of the element to the <code>indexOrdering</code> and determine the final ordering.</p>\n<pre><code>a.forEach(n -&gt; n.sort((e1, e2) -&gt; Integer.compare(\n        indexOrdering.indexOf(n.indexOf(e1)),\n        indexOrdering.indexOf(n.indexOf(e2)))\n));\n</code></pre>\n<p>We can simplify this using <a href=\"https://javadevcentral.com/java-comparator-comparing\" rel=\"nofollow noreferrer\">Comparator.comparingInt</a> as</p>\n<pre><code>a.forEach(n -&gt; n.sort(Comparator.comparingInt(\n            e -&gt; indexOrdering.indexOf(n.indexOf(e)))));\n</code></pre>\n<p>Note that <code>indexOf</code> is <code>O(n)</code> operation.</p>\n"}],"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647156669,"creation_date":1647152177,"question_id":71454313,"body_markdown":"\r\n\r\nI wants to sort the LinkedList&lt;LinkedList&lt;Integer&gt;&gt; in such way that, it should calculated index based sum of each nested linkedlist, and then do the sort based on the sum of those column.\r\nfor example in the below list:\r\n\r\n    \r\n\r\n    &gt; [[0, 3, 1], [3, 5, 2], [4, 1, 0]]\r\n    &gt; \r\n    &gt; Sum of element at 0th index of nested LinkedList is =&gt; 0 + 3 + 4 = 7\r\n    &gt; Sum of element at 1st index of nested LinkedList is =&gt; 3 + 5 + 1 = 9\r\n    &gt; Sum of element at 2nd index of nested LinkedList is =&gt; 1 + 2 + 0 = 3\r\n\r\nso, from above, we gets that our sorting should be 3,7,9\r\n\r\nto achieve this, we should get below sorting list here, each nested LinkedList, has shuffled by it&#39;s index to get the sorting order.\r\n\r\n    [[1, 0, 3], [2, 3, 5], [0, 4, 1]]\r\n    \r\n    Sum of element at 0th index of nested LinkedList is =&gt; 1 + 2 + 0 = 3\r\n    Sum of element at 1st index of nested LinkedList is =&gt; 0 + 3 + 4 = 7\r\n    Sum of element at 2nd index of nested LinkedList is =&gt; 3 + 5 + 1 = 9\r\n\r\n\r\nI have added the solution for this sorting order in below code, but I think it&#39;s complicated as I do the transpose of List, and then sort it, and then again takes the transpose.\r\n\r\nCan you please add the best possible approach to get this sorting?\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class Sample {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;List&lt;Integer&gt;&gt; a = new LinkedList&lt;&gt;();\r\n    \r\n            List&lt;Integer&gt; a1 = new LinkedList&lt;&gt;();\r\n            List&lt;Integer&gt; a2 = new LinkedList&lt;&gt;();\r\n            List&lt;Integer&gt; a3 = new LinkedList&lt;&gt;();\r\n    \r\n    \r\n            a1.add(0);\r\n            a1.add(3);        \r\n            a1.add(1);\r\n    \r\n            a2.add(3);\r\n            a2.add(5);        \r\n            a2.add(2);\r\n    \r\n            a3.add(4);\r\n            a3.add(1);        \r\n            a3.add(0);\r\n    \r\n            a.add(a1);\r\n            a.add(a2);\r\n            a.add(a3);\r\n    \r\n            System.out.println(a);\r\n            \r\n            a = transpose(a);\r\n            Collections.sort(a, new Comparator&lt;List&lt;Integer&gt;&gt;() {\r\n                @Override\r\n                public int compare(List&lt;Integer&gt; sList1, List&lt;Integer&gt; sList2) {\r\n                \treturn sList1.stream().reduce(0, Integer::sum).compareTo(sList2.stream().reduce(0, Integer::sum));               \r\n                }\r\n            });\r\n            a = transpose(a);\r\n    \t\tSystem.out.println(a);\r\n    \t}\r\n    \tstatic List&lt;List&lt;Integer&gt;&gt; transpose(List&lt;List&lt;Integer&gt;&gt; a) {\r\n    \t    List&lt;List&lt;Integer&gt;&gt; ret = new LinkedList&lt;&gt;();\r\n    \t    final int N = a.get(0).size();\r\n    \t    for (int i = 0; i &lt; N; i++) {\r\n    \t    \tList&lt;Integer&gt; col = new LinkedList&lt;&gt;();\r\n    \t        for (List&lt;Integer&gt; row : a) {\r\n    \t            col.add(row.get(i));\r\n    \t        }\r\n    \t        ret.add(col);\r\n    \t    }\r\n    \t    return ret;\r\n    \t}\r\n    \r\n    \t   \r\n    \t}","title":"Sort the LinkedList of Linkedlist based on it&#39;s index value sum","body":"<p>I wants to sort the LinkedList&lt;LinkedList&gt; in such way that, it should calculated index based sum of each nested linkedlist, and then do the sort based on the sum of those column.\nfor example in the below list:</p>\n<pre><code>&gt; [[0, 3, 1], [3, 5, 2], [4, 1, 0]]\n&gt; \n&gt; Sum of element at 0th index of nested LinkedList is =&gt; 0 + 3 + 4 = 7\n&gt; Sum of element at 1st index of nested LinkedList is =&gt; 3 + 5 + 1 = 9\n&gt; Sum of element at 2nd index of nested LinkedList is =&gt; 1 + 2 + 0 = 3\n</code></pre>\n<p>so, from above, we gets that our sorting should be 3,7,9</p>\n<p>to achieve this, we should get below sorting list here, each nested LinkedList, has shuffled by it's index to get the sorting order.</p>\n<pre><code>[[1, 0, 3], [2, 3, 5], [0, 4, 1]]\n\nSum of element at 0th index of nested LinkedList is =&gt; 1 + 2 + 0 = 3\nSum of element at 1st index of nested LinkedList is =&gt; 0 + 3 + 4 = 7\nSum of element at 2nd index of nested LinkedList is =&gt; 3 + 5 + 1 = 9\n</code></pre>\n<p>I have added the solution for this sorting order in below code, but I think it's complicated as I do the transpose of List, and then sort it, and then again takes the transpose.</p>\n<p>Can you please add the best possible approach to get this sorting?</p>\n<pre><code>import java.util.LinkedList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class Sample {\n\n    public static void main(String[] args) {\n        List&lt;List&lt;Integer&gt;&gt; a = new LinkedList&lt;&gt;();\n\n        List&lt;Integer&gt; a1 = new LinkedList&lt;&gt;();\n        List&lt;Integer&gt; a2 = new LinkedList&lt;&gt;();\n        List&lt;Integer&gt; a3 = new LinkedList&lt;&gt;();\n\n\n        a1.add(0);\n        a1.add(3);        \n        a1.add(1);\n\n        a2.add(3);\n        a2.add(5);        \n        a2.add(2);\n\n        a3.add(4);\n        a3.add(1);        \n        a3.add(0);\n\n        a.add(a1);\n        a.add(a2);\n        a.add(a3);\n\n        System.out.println(a);\n        \n        a = transpose(a);\n        Collections.sort(a, new Comparator&lt;List&lt;Integer&gt;&gt;() {\n            @Override\n            public int compare(List&lt;Integer&gt; sList1, List&lt;Integer&gt; sList2) {\n                return sList1.stream().reduce(0, Integer::sum).compareTo(sList2.stream().reduce(0, Integer::sum));               \n            }\n        });\n        a = transpose(a);\n        System.out.println(a);\n    }\n    static List&lt;List&lt;Integer&gt;&gt; transpose(List&lt;List&lt;Integer&gt;&gt; a) {\n        List&lt;List&lt;Integer&gt;&gt; ret = new LinkedList&lt;&gt;();\n        final int N = a.get(0).size();\n        for (int i = 0; i &lt; N; i++) {\n            List&lt;Integer&gt; col = new LinkedList&lt;&gt;();\n            for (List&lt;Integer&gt; row : a) {\n                col.add(row.get(i));\n            }\n            ret.add(col);\n        }\n        return ret;\n    }\n\n       \n    }\n</code></pre>\n"},{"tags":["java","string","palindrome"],"comments":[{"owner":{"account_id":15663438,"reputation":559,"user_id":12242150,"display_name":"Shubham Saraswat"},"score":0,"creation_date":1647157788,"post_id":71454613,"comment_id":126296710,"body_markdown":"Does this answer your question? [Check string for palindrome](https://stackoverflow.com/questions/4138827/check-string-for-palindrome)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4138827/check-string-for-palindrome\">Check string for palindrome</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647167109,"post_id":71454613,"comment_id":126298381,"body_markdown":"You are only checking the first letter. The check needs to be in a loop.","body":"You are only checking the first letter. The check needs to be in a loop."}],"owner":{"account_id":24540382,"reputation":1,"user_id":18450793,"display_name":"Sleepy Owl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647155650,"creation_date":1647155650,"question_id":71454613,"body_markdown":"\r\n// I&#39;m looking for any errors or mistakes I made in the code or another way to do it with if-then statements or usage of array. (very new to java)\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Palindrome {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a string&quot;);\r\n        String letter = input.nextLine();\r\n        int n = letter.length();\r\n        int numberOfLetters = 0;\r\n        for (int i = 0; i &lt; letter.length(); i++) {\r\n            numberOfLetters++;\r\n        }\r\n        if(letter.charAt(0) != letter.charAt(n-1)){\r\n           String letter2 = letter.toLowerCase();\r\n\r\n       if (letter2.charAt(0) == letter2.charAt(n - 1)) {\r\n                System.out.println(&quot;This is a palindrome &quot; + letter);\r\n            }\r\n        else {\r\n           System.out.println(&quot;This is not a palindrome &quot; + letter);\r\n       }\r\n\r\n        }\r\n    }\r\n}\r\n","title":"I&#39;m trying to make the code scan for palindrome but I feel like something added in there that isn&#39;t needed. New to java so sorry if it make no sense","body":"<p>// I'm looking for any errors or mistakes I made in the code or another way to do it with if-then statements or usage of array. (very new to java)</p>\n<p>import java.util.Scanner;</p>\n<p>public class Palindrome {</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter a string&quot;);\n    String letter = input.nextLine();\n    int n = letter.length();\n    int numberOfLetters = 0;\n    for (int i = 0; i &lt; letter.length(); i++) {\n        numberOfLetters++;\n    }\n    if(letter.charAt(0) != letter.charAt(n-1)){\n       String letter2 = letter.toLowerCase();\n\n   if (letter2.charAt(0) == letter2.charAt(n - 1)) {\n            System.out.println(&quot;This is a palindrome &quot; + letter);\n        }\n    else {\n       System.out.println(&quot;This is not a palindrome &quot; + letter);\n   }\n\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","image-processing","jai"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647002731,"post_id":71438637,"comment_id":126269341,"body_markdown":"Just to be sure, you know about https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java ?! So why not SHOW us an example code with poor performance? Honestly, your question reads like a request by a 1-day newbie. You should really know better that people need more information in order to help you.","body":"Just to be sure, you know about <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a> ?! So why not SHOW us an example code with poor performance? Honestly, your question reads like a request by a 1-day newbie. You should really know better that people need more information in order to help you."},{"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"score":0,"creation_date":1647003019,"post_id":71438637,"comment_id":126269439,"body_markdown":"@GhostCat maybe I am actually a newbie. Yes, I know how to write microbenchmarks, but there is nothing to microbenchmark. I&#39;m reading file using `javax.imageio.ImageIO#read(java.io.File)` for 6M file it takes more than 4s to complete. I tried to disable caching as recommended, not helped. So minimal example is: find any 10MB JPEG file, call this method. If you need more info, please just ask.","body":"@GhostCat maybe I am actually a newbie. Yes, I know how to write microbenchmarks, but there is nothing to microbenchmark. I&#39;m reading file using <code>javax.imageio.ImageIO#read(java.io.File)</code> for 6M file it takes more than 4s to complete. I tried to disable caching as recommended, not helped. So minimal example is: find any 10MB JPEG file, call this method. If you need more info, please just ask."},{"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"score":0,"creation_date":1647003203,"post_id":71438637,"comment_id":126269492,"body_markdown":"@GhostCat my file: JPEG image data, JFIF standard 1.01, resolution (DPI), density 72x72, segment length 16, Exif Standard: [TIFF image data, little-endian, direntries=10, xresolution=152, yresolution=160, resolutionunit=2, progressive, precision 8, 4032x3024, components 3","body":"@GhostCat my file: JPEG image data, JFIF standard 1.01, resolution (DPI), density 72x72, segment length 16, Exif Standard: [TIFF image data, little-endian, direntries=10, xresolution=152, yresolution=160, resolutionunit=2, progressive, precision 8, 4032x3024, components 3"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1647003619,"post_id":71438637,"comment_id":126269646,"body_markdown":"Please: don&#39;t provide such information in **comments**. Instead, always [edit] your question. Don&#39;t expect readers to go through the (potentially many) comments below a question in order to help you.","body":"Please: don&#39;t provide such information in <b>comments</b>. Instead, always <a href=\"https://stackoverflow.com/posts/71438637/edit\">edit</a> your question. Don&#39;t expect readers to go through the (potentially many) comments below a question in order to help you."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647003733,"post_id":71438637,"comment_id":126269676,"body_markdown":"And well, there is benchmarking here. Are you measuring the loading/display of a image within a RUNNING application? Or are you doing a `java my.whatever.App image.jpeg?`, just measuring the raw time until some frame with the image shows up? Stuff like that makes a HUGE difference.","body":"And well, there is benchmarking here. Are you measuring the loading/display of a image within a RUNNING application? Or are you doing a <code>java my.whatever.App image.jpeg?</code>, just measuring the raw time until some frame with the image shows up? Stuff like that makes a HUGE difference."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1647016160,"post_id":71438637,"comment_id":126274650,"body_markdown":"I&#39;ve not performed microbenchmarks on this, but I noticed that image reads (well under 10MB) for my specific home PC setup were generally quicker if reading into byte[] first - see these [comments](https://stackoverflow.com/questions/62852645/efficient-way-to-read-an-image-file-using-java/62862626#62862626).","body":"I&#39;ve not performed microbenchmarks on this, but I noticed that image reads (well under 10MB) for my specific home PC setup were generally quicker if reading into byte[] first - see these <a href=\"https://stackoverflow.com/questions/62852645/efficient-way-to-read-an-image-file-using-java/62862626#62862626\">comments</a>."},{"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"score":0,"creation_date":1647034642,"post_id":71438637,"comment_id":126280058,"body_markdown":"@DuncG thanks for tip! I have ssd, so as your link suggest it probably does not apply, but I tried it anywas, via `ImageIO.read(this.getClass().getResourceAsStream()) which produced slightly better performance than reading from file, and I also try to dump input stream into byte array and then wrap it into ByteArrayInputStream which I fed into ImageIO.read. These 2 and reading directly from file has similar performance on my ssd drive, all within 200ms difference. Meaning not notable/sufficient improvement. Difference between these 3 are probably just &#39;scheduler noise&#39;.","body":"@DuncG thanks for tip! I have ssd, so as your link suggest it probably does not apply, but I tried it anywas, via `ImageIO.read(this.getClass().getResourceAsStream()) which produced slightly better performance than reading from file, and I also try to dump input stream into byte array and then wrap it into ByteArrayInputStream which I fed into ImageIO.read. These 2 and reading directly from file has similar performance on my ssd drive, all within 200ms difference. Meaning not notable/sufficient improvement. Difference between these 3 are probably just &#39;scheduler noise&#39;."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1647099387,"post_id":71438637,"comment_id":126290639,"body_markdown":"My guess is that this specific JPEG is progressive. For some reasons, the ImageIO JPEG plugin is super-slow reading progressive JPEG, even if you don&#39;t need any progressive updates....","body":"My guess is that this specific JPEG is progressive. For some reasons, the ImageIO JPEG plugin is super-slow reading progressive JPEG, even if you don&#39;t need any progressive updates...."},{"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"score":0,"creation_date":1647155572,"post_id":71438637,"comment_id":126296367,"body_markdown":"@HaraldK I&#39;ve updated the question, I believe you are correct. If I understand the output correctly, it&#39;s progressive jpeg.","body":"@HaraldK I&#39;ve updated the question, I believe you are correct. If I understand the output correctly, it&#39;s progressive jpeg."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647002960,"creation_date":1647002960,"answer_id":71438781,"question_id":71438637,"body_markdown":"[ImageJ][1] is a public domain Java image processing program inspired by NIH, It is multithreaded and works way faster than ImageIo implementation in Buffering, so time-consuming operations such as image file reading can be performed in parallel, more sepecificly the `ij.io` package contains classes for reading/decoding and writing/encoding images which you can investigate the implementation of converting files to bufferImages.\r\n\r\n\r\n  [1]: https://imagej.nih.gov/ij/docs/pdfs/tutorial10.pdf","title":"How to read JPEG into BufferedImage efficiently in java","body":"<p><a href=\"https://imagej.nih.gov/ij/docs/pdfs/tutorial10.pdf\" rel=\"nofollow noreferrer\">ImageJ</a> is a public domain Java image processing program inspired by NIH, It is multithreaded and works way faster than ImageIo implementation in Buffering, so time-consuming operations such as image file reading can be performed in parallel, more sepecificly the <code>ij.io</code> package contains classes for reading/decoding and writing/encoding images which you can investigate the implementation of converting files to bufferImages.</p>\n"}],"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647155501,"creation_date":1647002232,"question_id":71438637,"body_markdown":"`ImageIO.read` reads the file into BufferedImage at least 200 times slower, that other programs like `feh` can read the file and render it on screen. What can you use instead of ImageIO or how to configure ImageIO, so that it reads the data in reasonable timeframe?\r\n\r\nEDIT how do I load/measure.\r\n\r\n        long start = System.nanoTime();\r\n        ImageIO.setUseCache(false);\r\n        try {\r\n            ImageIO.read(new URL(&quot;file:///tmp/reallyBig.jpg&quot;));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        end = System.nanoTime();\r\n        System.out.println(&quot;duration: &quot;+ TimeUnit.NANOSECONDS.toMillis(end-start)));\r\n\r\nyes, it&#39;s not precise, because I didn&#39;t do warmups etc. etc. But this won&#39;t do 200ms from 4000ms, so I can live with this imprecision. I need not to know exactly how fast it is in us precision, I can see it&#39;s really slow without any measuring needed. I actually don&#39;t need situation, that it eventually get 5ms faster after 10k iterations, I really need to see the normal waiting times upon user request from running application. And again, this image can be _rendered_ by `feh` in 200ms, while it&#39;s not _loaded_ into BufferedImage by ImageIO in 4000ms.\r\n\r\nTrivially replacing `ImageIO.read` with `new ImagePlus(...).getBufferedImage();` yields 1.6x speed up. Need to actually read documentation to get better results with ImageJ. \r\n\r\nIf someone know how to get better results in different way, please share.\r\n\r\nEDIT 2: what is this image(severely shortened):\r\n\r\n    identify -verbose fullImage.jpg\r\n    Image:\r\n      Format: JPEG (Joint Photographic Experts Group JFIF format)\r\n      Mime type: image/jpeg\r\n      Class: DirectClass\r\n      Geometry: 4032x3024+0+0\r\n      Resolution: 72x72\r\n      Print size: 56x42\r\n      Units: PixelsPerInch\r\n      Colorspace: sRGB\r\n      Type: TrueColor\r\n      Base type: Undefined\r\n      Endianness: Undefined\r\n      Depth: 8-bit\r\n      Interlace: JPEG\r\n      Intensity: Undefined\r\n      Compose: Over\r\n      Page geometry: 4032x3024+0+0\r\n      Dispose: Undefined\r\n      Iterations: 0\r\n      Compression: JPEG\r\n      Quality: 100\r\n      Orientation: TopLeft\r\n      Profiles:\r\n        Profile-exif: 12424 bytes\r\n        Profile-icc: 672 bytes\r\n        Profile-xmp: 3160 bytes\r\n      Filesize: 5.65549MiB\r\n      Number pixels: 12.1928M\r\n\r\n","title":"How to read JPEG into BufferedImage efficiently in java","body":"<p><code>ImageIO.read</code> reads the file into BufferedImage at least 200 times slower, that other programs like <code>feh</code> can read the file and render it on screen. What can you use instead of ImageIO or how to configure ImageIO, so that it reads the data in reasonable timeframe?</p>\n<p>EDIT how do I load/measure.</p>\n<pre><code>    long start = System.nanoTime();\n    ImageIO.setUseCache(false);\n    try {\n        ImageIO.read(new URL(&quot;file:///tmp/reallyBig.jpg&quot;));\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    end = System.nanoTime();\n    System.out.println(&quot;duration: &quot;+ TimeUnit.NANOSECONDS.toMillis(end-start)));\n</code></pre>\n<p>yes, it's not precise, because I didn't do warmups etc. etc. But this won't do 200ms from 4000ms, so I can live with this imprecision. I need not to know exactly how fast it is in us precision, I can see it's really slow without any measuring needed. I actually don't need situation, that it eventually get 5ms faster after 10k iterations, I really need to see the normal waiting times upon user request from running application. And again, this image can be <em>rendered</em> by <code>feh</code> in 200ms, while it's not <em>loaded</em> into BufferedImage by ImageIO in 4000ms.</p>\n<p>Trivially replacing <code>ImageIO.read</code> with <code>new ImagePlus(...).getBufferedImage();</code> yields 1.6x speed up. Need to actually read documentation to get better results with ImageJ.</p>\n<p>If someone know how to get better results in different way, please share.</p>\n<p>EDIT 2: what is this image(severely shortened):</p>\n<pre><code>identify -verbose fullImage.jpg\nImage:\n  Format: JPEG (Joint Photographic Experts Group JFIF format)\n  Mime type: image/jpeg\n  Class: DirectClass\n  Geometry: 4032x3024+0+0\n  Resolution: 72x72\n  Print size: 56x42\n  Units: PixelsPerInch\n  Colorspace: sRGB\n  Type: TrueColor\n  Base type: Undefined\n  Endianness: Undefined\n  Depth: 8-bit\n  Interlace: JPEG\n  Intensity: Undefined\n  Compose: Over\n  Page geometry: 4032x3024+0+0\n  Dispose: Undefined\n  Iterations: 0\n  Compression: JPEG\n  Quality: 100\n  Orientation: TopLeft\n  Profiles:\n    Profile-exif: 12424 bytes\n    Profile-icc: 672 bytes\n    Profile-xmp: 3160 bytes\n  Filesize: 5.65549MiB\n  Number pixels: 12.1928M\n</code></pre>\n"},{"tags":["java","android","linux","flutter"],"comments":[{"owner":{"account_id":4729762,"reputation":1404,"user_id":3825725,"display_name":"Vandad Nahavandipoor"},"score":0,"creation_date":1647337519,"post_id":71454570,"comment_id":126340124,"body_markdown":"How did you install the SDK? I&#39;ve also got it working on Ubuntu and use Visual Studio Code to run my app on the emulator and it&#39;s working great. I&#39;d love to help you out.","body":"How did you install the SDK? I&#39;ve also got it working on Ubuntu and use Visual Studio Code to run my app on the emulator and it&#39;s working great. I&#39;d love to help you out."},{"owner":{"account_id":19446131,"reputation":1,"user_id":14223616,"display_name":"Ty4115"},"score":0,"creation_date":1647474582,"post_id":71454570,"comment_id":126383582,"body_markdown":"I install it through yay (the sdk platform tools, command line tools, SDK build tools and the adb package), I&#39;d follow the ArchWiki tutorial. Also, I find a quite dummy solution. I just installed java-11-openjdk and make it my default option. Since then, I haven&#39;t had any  problem with debugging and installing Flutter apps on my Android.","body":"I install it through yay (the sdk platform tools, command line tools, SDK build tools and the adb package), I&#39;d follow the ArchWiki tutorial. Also, I find a quite dummy solution. I just installed java-11-openjdk and make it my default option. Since then, I haven&#39;t had any  problem with debugging and installing Flutter apps on my Android."}],"owner":{"account_id":19446131,"reputation":1,"user_id":14223616,"display_name":"Ty4115"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647155186,"creation_date":1647155186,"question_id":71454570,"body_markdown":"I&#39;m trying to configure my arch linux distro in order to develop and run Flutter applications (for android). My problem is that when I try to run:\r\n\r\n    flutter run -v\r\nit give me this error:\r\n\r\n&gt; [+1614 ms] /opt/android-studio/jre/bin/java: symbol lookup error: /opt/android-studio/jre/lib/libnio.so: undefined symbol: initInetAddressIDs\r\n\r\n&gt;    [+2 ms] &quot;flutter run&quot; took 22,173ms. \r\n&gt; [  +10 ms]\r\n&gt;            #0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\r\n&gt;            #1      RunCommand.runCommand (package:flutter_tools/src/commands/run.dart:687:9)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n&gt;            #2      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1161:27)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n&gt;            #3      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n&gt;            #4      CommandRunner.runCommand (package:args/command_runner.dart:209:13)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n&gt;            #5      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:281:9)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n&gt;            #6      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n&gt;            #7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:229:5)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n&gt;            #8      run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:62:9)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n&gt;            #9      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n&gt;            #10     main (package:flutter_tools/executable.dart:94:3)\r\n&gt;            &lt;asynchronous suspension&gt;\r\n\r\nI&#39;ve search and try possible solutions. The most specific and related solution for a similar problem was add to my $LD_LIBRARY_PATH the path of /usr/lib/jvm/java-8-openjdk/jre/lib/amd64/libnio.so, but it didn&#39;t work (doesn&#39;t change nothing). \r\nI also add to my $LD_LIBRARY_PATH this path &quot;/usr/lib/jvm/java-17-openjdk/lib/server/&quot; but also it didn&#39;t work.\r\nThe link to this solution: &lt;https://stackoverflow.com/questions/60414619/java-symbol-lookup-error-usr-lib64-jvm-java-11-openjdk-11-lib-libnio-so-undef&gt;\r\n\r\nAnother &quot;solution&quot; I try, was to run the app from Android Studio and it magically worked! That makes me feel even more worried because I don&#39;t understand why I can&#39;t run it from my CLI without have to open Android Studio (which consume more than half of my PC resources). \r\n\r\nImportant details:\r\n- I have java-17-openjdk and java-8-openjdk. I&#39;m currently using java-17-openjdk\r\n- /opt/android-studio/ has a bin folder that contain a java-11 file. When I run an app from Android Studio it use the java-11 binary instead my java-17 (computer&#39;s default). This also appear when I ran an flutter app:\r\n\r\n&gt;     [ +177 ms] Exit code 0 from: /opt/android-studio/jre/bin/java -version\r\n&gt;     [        ] openjdk version &quot;11.0.11&quot; 2021-04-20\r\n&gt;                OpenJDK Runtime Environment (build 11.0.11+0-b60-7590822)\r\n&gt;                OpenJDK 64-Bit Server VM (build 11.0.11+0-b60-7590822, mixed mode)\r\n\r\nCould please someone helps me or even explain me why this is happening?","title":"Error trying to run a flutter app from the CLI (real device)","body":"<p>I'm trying to configure my arch linux distro in order to develop and run Flutter applications (for android). My problem is that when I try to run:</p>\n<pre><code>flutter run -v\n</code></pre>\n<p>it give me this error:</p>\n<blockquote>\n<p>[+1614 ms] /opt/android-studio/jre/bin/java: symbol lookup error: /opt/android-studio/jre/lib/libnio.so: undefined symbol: initInetAddressIDs</p>\n</blockquote>\n<blockquote>\n<p>[+2 ms] &quot;flutter run&quot; took 22,173ms.\n[  +10 ms]\n#0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n#1      RunCommand.runCommand (package:flutter_tools/src/commands/run.dart:687:9)\n\n#2      FlutterCommand.run. (package:flutter_tools/src/runner/flutter_command.dart:1161:27)\n\n#3      AppContext.run. (package:flutter_tools/src/base/context.dart:150:19)\n\n#4      CommandRunner.runCommand (package:args/command_runner.dart:209:13)\n\n#5      FlutterCommandRunner.runCommand. (package:flutter_tools/src/runner/flutter_command_runner.dart:281:9)\n\n#6      AppContext.run. (package:flutter_tools/src/base/context.dart:150:19)\n\n#7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:229:5)\n\n#8      run.. (package:flutter_tools/runner.dart:62:9)\n\n#9      AppContext.run. (package:flutter_tools/src/base/context.dart:150:19)\n\n#10     main (package:flutter_tools/executable.dart:94:3)\n</p>\n</blockquote>\n<p>I've search and try possible solutions. The most specific and related solution for a similar problem was add to my $LD_LIBRARY_PATH the path of /usr/lib/jvm/java-8-openjdk/jre/lib/amd64/libnio.so, but it didn't work (doesn't change nothing).\nI also add to my $LD_LIBRARY_PATH this path &quot;/usr/lib/jvm/java-17-openjdk/lib/server/&quot; but also it didn't work.\nThe link to this solution: <a href=\"https://stackoverflow.com/questions/60414619/java-symbol-lookup-error-usr-lib64-jvm-java-11-openjdk-11-lib-libnio-so-undef\">Java symbol lookup error: /usr/lib64/jvm/java-11-openjdk-11/lib/libnio.so: undefined symbol: initInetAddressIDs</a></p>\n<p>Another &quot;solution&quot; I try, was to run the app from Android Studio and it magically worked! That makes me feel even more worried because I don't understand why I can't run it from my CLI without have to open Android Studio (which consume more than half of my PC resources).</p>\n<p>Important details:</p>\n<ul>\n<li>I have java-17-openjdk and java-8-openjdk. I'm currently using java-17-openjdk</li>\n<li>/opt/android-studio/ has a bin folder that contain a java-11 file. When I run an app from Android Studio it use the java-11 binary instead my java-17 (computer's default). This also appear when I ran an flutter app:</li>\n</ul>\n<blockquote>\n<pre><code>[ +177 ms] Exit code 0 from: /opt/android-studio/jre/bin/java -version\n[        ] openjdk version &quot;11.0.11&quot; 2021-04-20\n           OpenJDK Runtime Environment (build 11.0.11+0-b60-7590822)\n           OpenJDK 64-Bit Server VM (build 11.0.11+0-b60-7590822, mixed mode)\n</code></pre>\n</blockquote>\n<p>Could please someone helps me or even explain me why this is happening?</p>\n"},{"tags":["java","okhttp","handshake","sslhandshakeexception"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1647004370,"post_id":71439006,"comment_id":126269894,"body_markdown":"If you&#39;re not using https on both sides, you need to be.   If you are using https, you need to ensure there are compatible cipher suites on both sides.  Beyond that, if you want help in debugging your code, you need to show that code.","body":"If you&#39;re not using https on both sides, you need to be.   If you are using https, you need to ensure there are compatible cipher suites on both sides.  Beyond that, if you want help in debugging your code, you need to show that code."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1647005398,"post_id":71439006,"comment_id":126270241,"body_markdown":"Does this answer your question? [Received fatal alert: handshake\\_failure through SSLHandshakeException](https://stackoverflow.com/questions/6353849/received-fatal-alert-handshake-failure-through-sslhandshakeexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6353849/received-fatal-alert-handshake-failure-through-sslhandshakeexception\">Received fatal alert: handshake_failure through SSLHandshakeException</a>"}],"owner":{"account_id":20961912,"reputation":41,"user_id":15401153,"display_name":"TooikLeChevalier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2881,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647154766,"creation_date":1647004100,"question_id":71439006,"body_markdown":"I want to send/receive information from my website (https not http) so I try to use Java method / Apache / okhttp and I have the same problem :\r\n```\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n    at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n    at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n    at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\r\n    at java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\r\n    at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\r\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\r\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\r\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    at fr.eclypsegames.merged.module@1.0.0/org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(Unknown Source)\r\n```\r\n\r\nthis is the code I use in Apache that generates me the previous error :\r\n```java\r\nSSLContextBuilder SSLBuilder = SSLContexts.custom();\r\n        SSLBuilder = SSLBuilder.loadTrustMaterial(Main.class.getResource(&quot;cacerts.jks&quot;), &quot;changeit&quot;.toCharArray());\r\n        SSLContext sslContext = SSLBuilder.build();\r\n//        SSLConnectionSocketFactory sslConSocFactory = new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier());\r\n        SSLConnectionSocketFactory sslConSocFactory = new SSLConnectionSocketFactory(sslContext, new String[]{&quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;}, new String[]{&quot;RSA&quot;}, SSLConnectionSocketFactory.getDefaultHostnameVerifier());\r\n        HttpClientBuilder clientbuilder = HttpClients.custom();\r\n        clientbuilder.setSSLSocketFactory(sslConSocFactory);\r\n        CloseableHttpClient httpClient = clientbuilder.build();\r\n\r\n\r\n        HttpPost uploadFile = new HttpPost(myURL);\r\n        uploadFile.setEntity(multipart);\r\n        CloseableHttpResponse response = httpClient.execute(uploadFile);\r\n        HttpEntity responseEntity = response.getEntity();\r\n        InputStream inputStream = responseEntity.getContent();\r\n        Scanner sc = new Scanner(inputStream).useDelimiter(&quot;\\\\A&quot;);\r\n```\r\n\r\n\r\nAnd finally, this is the public information relating to my website :\r\n```\r\ndepth=2 C = US, O = Internet Security Research Group, CN = ISRG Root X1\r\nverify return:1\r\ndepth=1 C = US, O = Let&#39;s Encrypt, CN = R3\r\nverify return:1\r\ndepth=0 CN = eclypsegames.fr\r\nverify return:1\r\nwrite W BLOCK\r\n---\r\nCertificate chain\r\n 0 s:/CN=eclypsegames.fr\r\n   i:/C=US/O=Let&#39;s Encrypt/CN=R3\r\n 1 s:/C=US/O=Let&#39;s Encrypt/CN=R3\r\n   i:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\r\n 2 s:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\r\n   i:/O=Digital Signature Trust Co./CN=DST Root CA X3\r\n---\r\nServer certificate\r\n-----BEGIN CERTIFICATE-----\r\nMIIF2DCCBMCgAwIBAgISA/OykyxAybOykERegIAej5tPMA0GCSqGSIb3DQEBCwUA\r\nMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\r\nEwJSMzAeFw0yMjAzMDExODM4MjZaFw0yMjA1MzAxODM4MjVaMBoxGDAWBgNVBAME\r\nvE+ZAmqhzYpdOTLIybnIaXgesAdn1DaO0afiRd1MoywmQaqR/vmrrTmoh6d7B0TP\r\nx2MQfdgMhUAEnVBb+KnrLFnr7AMYhY5nMNMvdTn9dMPa+NmQoxZfHnTm8V1j2odH\r\nU7WBLkD3ZT4wzNiE\r\n-----END CERTIFICATE-----\r\nsubject=/CN=eclypsegames.fr\r\nissuer=/C=US/O=Let&#39;s Encrypt/CN=R3\r\n---\r\nNo client certificate CA names sent\r\nServer Temp Key: ECDH, X25519, 253 bits\r\n---\r\nSSL handshake has read 4740 bytes and written 386 bytes\r\n---\r\nNew, TLSv1/SSLv3, Cipher is AEAD-CHACHA20-POLY1305-SHA256\r\nServer public key is 2048 bit\r\nSecure Renegotiation IS NOT supported\r\nCompression: NONE\r\nExpansion: NONE\r\nNo ALPN negotiated\r\nSSL-Session:\r\n    Protocol  : TLSv1.3\r\n    Cipher    : AEAD-CHACHA20-POLY1305-SHA256\r\n    Session-ID: \r\n    Session-ID-ctx: \r\n    Master-Key: \r\n    Start Time: 1646948026\r\n    Timeout   : 7200 (sec)\r\n    Verify return code: 0 (ok)\r\n---\r\nread R BLOCK\r\nread R BLOCK\r\nclosed\r\n```\r\n\r\nIn addition, the constraint of my project and the fact that it is  able to work on all OS, because the goal is to make it an application (.app / .exe / .deb / )      ","title":"java 17 javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure","body":"<p>I want to send/receive information from my website (https not http) so I try to use Java method / Apache / okhttp and I have the same problem :</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n    at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n    at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\n    at java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\n    at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at fr.eclypsegames.merged.module@1.0.0/org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(Unknown Source)\n</code></pre>\n<p>this is the code I use in Apache that generates me the previous error :</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLContextBuilder SSLBuilder = SSLContexts.custom();\n        SSLBuilder = SSLBuilder.loadTrustMaterial(Main.class.getResource(&quot;cacerts.jks&quot;), &quot;changeit&quot;.toCharArray());\n        SSLContext sslContext = SSLBuilder.build();\n//        SSLConnectionSocketFactory sslConSocFactory = new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier());\n        SSLConnectionSocketFactory sslConSocFactory = new SSLConnectionSocketFactory(sslContext, new String[]{&quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;}, new String[]{&quot;RSA&quot;}, SSLConnectionSocketFactory.getDefaultHostnameVerifier());\n        HttpClientBuilder clientbuilder = HttpClients.custom();\n        clientbuilder.setSSLSocketFactory(sslConSocFactory);\n        CloseableHttpClient httpClient = clientbuilder.build();\n\n\n        HttpPost uploadFile = new HttpPost(myURL);\n        uploadFile.setEntity(multipart);\n        CloseableHttpResponse response = httpClient.execute(uploadFile);\n        HttpEntity responseEntity = response.getEntity();\n        InputStream inputStream = responseEntity.getContent();\n        Scanner sc = new Scanner(inputStream).useDelimiter(&quot;\\\\A&quot;);\n</code></pre>\n<p>And finally, this is the public information relating to my website :</p>\n<pre><code>depth=2 C = US, O = Internet Security Research Group, CN = ISRG Root X1\nverify return:1\ndepth=1 C = US, O = Let's Encrypt, CN = R3\nverify return:1\ndepth=0 CN = eclypsegames.fr\nverify return:1\nwrite W BLOCK\n---\nCertificate chain\n 0 s:/CN=eclypsegames.fr\n   i:/C=US/O=Let's Encrypt/CN=R3\n 1 s:/C=US/O=Let's Encrypt/CN=R3\n   i:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\n 2 s:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\n   i:/O=Digital Signature Trust Co./CN=DST Root CA X3\n---\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIF2DCCBMCgAwIBAgISA/OykyxAybOykERegIAej5tPMA0GCSqGSIb3DQEBCwUA\nMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\nEwJSMzAeFw0yMjAzMDExODM4MjZaFw0yMjA1MzAxODM4MjVaMBoxGDAWBgNVBAME\nvE+ZAmqhzYpdOTLIybnIaXgesAdn1DaO0afiRd1MoywmQaqR/vmrrTmoh6d7B0TP\nx2MQfdgMhUAEnVBb+KnrLFnr7AMYhY5nMNMvdTn9dMPa+NmQoxZfHnTm8V1j2odH\nU7WBLkD3ZT4wzNiE\n-----END CERTIFICATE-----\nsubject=/CN=eclypsegames.fr\nissuer=/C=US/O=Let's Encrypt/CN=R3\n---\nNo client certificate CA names sent\nServer Temp Key: ECDH, X25519, 253 bits\n---\nSSL handshake has read 4740 bytes and written 386 bytes\n---\nNew, TLSv1/SSLv3, Cipher is AEAD-CHACHA20-POLY1305-SHA256\nServer public key is 2048 bit\nSecure Renegotiation IS NOT supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.3\n    Cipher    : AEAD-CHACHA20-POLY1305-SHA256\n    Session-ID: \n    Session-ID-ctx: \n    Master-Key: \n    Start Time: 1646948026\n    Timeout   : 7200 (sec)\n    Verify return code: 0 (ok)\n---\nread R BLOCK\nread R BLOCK\nclosed\n</code></pre>\n<p>In addition, the constraint of my project and the fact that it is  able to work on all OS, because the goal is to make it an application (.app / .exe / .deb / )</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":212321,"reputation":622,"user_id":465076,"accept_rate":100,"display_name":"kasten"},"score":5,"creation_date":1289857415,"post_id":4189045,"comment_id":4527278,"body_markdown":"&quot;this will prevent the constructor from setting it.&quot; are you sure about that? http://stackoverflow.com/questions/677595/initialize-final-variable-before-constructor-in-java","body":"&quot;this will prevent the constructor from setting it.&quot; are you sure about that? <a href=\"http://stackoverflow.com/questions/677595/initialize-final-variable-before-constructor-in-java\" title=\"initialize final variable before constructor in java\">stackoverflow.com/questions/677595/&hellip;</a>"},{"owner":{"account_id":151953,"reputation":11207,"user_id":366133,"accept_rate":98,"display_name":"Matt"},"score":0,"creation_date":1289857568,"post_id":4189045,"comment_id":4527303,"body_markdown":"That&#39;s awesome, didn&#39;t know you could do that :D","body":"That&#39;s awesome, didn&#39;t know you could do that :D"},{"owner":{"account_id":371521,"reputation":4537,"user_id":720097,"accept_rate":88,"display_name":"Alexander.Iljushkin"},"score":0,"creation_date":1362329783,"post_id":4189045,"comment_id":21397725,"body_markdown":"You cannot change final static variable from within a constructor, because static variable is one for many instances. But final variable is able to be initialised inside of constructor.","body":"You cannot change final static variable from within a constructor, because static variable is one for many instances. But final variable is able to be initialised inside of constructor."}],"answers":[{"tags":[],"owner":{"account_id":4899,"reputation":103686,"user_id":7595,"accept_rate":70,"display_name":"Pablo Fernandez"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1289857530,"creation_date":1289857264,"answer_id":4189068,"question_id":4189045,"body_markdown":"If a variable is `final` it can (and **must**) be initialized in the constructor.\r\n","title":"Can I make a variable final after it has been declared?","body":"<p>If a variable is <code>final</code> it can (and <strong>must</strong>) be initialized in the constructor.</p>\n"},{"tags":[],"owner":{"account_id":24712,"reputation":65595,"user_id":63034,"accept_rate":57,"display_name":"mikej"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1289857478,"creation_date":1289857478,"answer_id":4189108,"question_id":4189045,"body_markdown":"The constructor *can* set it if it is marked as `final` e.g. the following is legal:\r\n\r\n    public class BankAccount {\r\n    \r\n    \tprivate final int accountNumber;\r\n    \t\r\n    \tpublic BankAccount(int accountNumber) {\r\n    \t\tthis.accountNumber = accountNumber;\r\n    \t}\r\n    \r\n    }\r\n\r\nIn fact if a field is marked as `final` but not initialised in its declaration then it must be set in all constructors.\r\n\r\nIf you do not put a public setter on the class then the account number can&#39;t be changed from outside the class but marking it as final will also prevent it (accidentally) being changed by any methods inside the class.","title":"Can I make a variable final after it has been declared?","body":"<p>The constructor <em>can</em> set it if it is marked as <code>final</code> e.g. the following is legal:</p>\n\n<pre><code>public class BankAccount {\n\n    private final int accountNumber;\n\n    public BankAccount(int accountNumber) {\n        this.accountNumber = accountNumber;\n    }\n\n}\n</code></pre>\n\n<p>In fact if a field is marked as <code>final</code> but not initialised in its declaration then it must be set in all constructors.</p>\n\n<p>If you do not put a public setter on the class then the account number can't be changed from outside the class but marking it as final will also prevent it (accidentally) being changed by any methods inside the class.</p>\n"},{"tags":[],"owner":{"account_id":24540070,"reputation":1,"user_id":18450531,"display_name":"HitenTandon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647151553,"creation_date":1647151553,"answer_id":71454265,"question_id":4189045,"body_markdown":"You can do this by doing something like  `private static final String accNumber = askAccNumber();`\r\nAnd then declare a function:\r\n\r\n   `private static final String askAccNumber (){\r\n//however you want to input your number\r\n}`\r\n\r\n","title":"Can I make a variable final after it has been declared?","body":"<p>You can do this by doing something like  <code>private static final String accNumber = askAccNumber();</code>\nAnd then declare a function:</p>\n<p><code>private static final String askAccNumber (){ //however you want to input your number }</code></p>\n"},{"tags":[],"owner":{"account_id":24538997,"reputation":111,"user_id":18449617,"display_name":"FlyingFish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647153546,"creation_date":1647153546,"answer_id":71454434,"question_id":4189045,"body_markdown":"When a variable is final, it absolutely MUST be declared in the constructor, whether in the constructor or when you declare it. So worry not, you can create a **final variable** for your object, and then if you don&#39;t immediately set its value when you declare it, then you&#39;ll have to set its value in the constructor. So, technically speaking, both these codes are correct :\r\n```\r\npublic class BankAccount {\r\n\r\n    private final int acctNumber;\r\n\r\n    public BankAccount(int acctNumber) {\r\n        this.acctNumber = acctNumber;\r\n    }\r\n\r\n}\r\n```\r\n```\r\npublic class BankAccount {\r\n\r\n    private final int acctNumber = 12;\r\n\r\n    public BankAccount(int acctNumber) {\r\n    }\r\n\r\n}\r\n```","title":"Can I make a variable final after it has been declared?","body":"<p>When a variable is final, it absolutely MUST be declared in the constructor, whether in the constructor or when you declare it. So worry not, you can create a <strong>final variable</strong> for your object, and then if you don't immediately set its value when you declare it, then you'll have to set its value in the constructor. So, technically speaking, both these codes are correct :</p>\n<pre><code>public class BankAccount {\n\n    private final int acctNumber;\n\n    public BankAccount(int acctNumber) {\n        this.acctNumber = acctNumber;\n    }\n\n}\n</code></pre>\n<pre><code>public class BankAccount {\n\n    private final int acctNumber = 12;\n\n    public BankAccount(int acctNumber) {\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":151953,"reputation":11207,"user_id":366133,"accept_rate":98,"display_name":"Matt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20646,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":4189108,"answer_count":4,"score":17,"last_activity_date":1647153546,"creation_date":1289857101,"question_id":4189045,"body_markdown":"I&#39;m making a banking model, and an Account class has an accountNumber field. The account number should never change, but I cannot set the field as final because this will prevent the constructor from setting it.\r\n\r\nIf it&#39;s not possible to do this, it doesn&#39;t matter. It&#39;s just for a CS assignment so I want to make sure I&#39;m doing it the best way I can.\r\n\r\nWould the best implementation be to just make the field and its setter method private?","title":"Can I make a variable final after it has been declared?","body":"<p>I'm making a banking model, and an Account class has an accountNumber field. The account number should never change, but I cannot set the field as final because this will prevent the constructor from setting it.</p>\n\n<p>If it's not possible to do this, it doesn't matter. It's just for a CS assignment so I want to make sure I'm doing it the best way I can.</p>\n\n<p>Would the best implementation be to just make the field and its setter method private?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1647098480,"post_id":71450773,"comment_id":126290464,"body_markdown":"In which case are applications started at a time other than JVM startup? The only case I can think of is J2EE containers and those have become *pretty rare* these days. Could you specifiy the **specific** case you&#39;re after, because it&#39;s likely that you&#39;ll need a specific solution. There&#39;s no general concept of &quot;applications&quot; inside a single JVM.","body":"In which case are applications started at a time other than JVM startup? The only case I can think of is J2EE containers and those have become <i>pretty rare</i> these days. Could you specifiy the <b>specific</b> case you&#39;re after, because it&#39;s likely that you&#39;ll need a specific solution. There&#39;s no general concept of &quot;applications&quot; inside a single JVM."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647105815,"post_id":71450773,"comment_id":126292085,"body_markdown":"Your question could be improved if you explain technically how you are launching multiple apps within the same JVM process.","body":"Your question could be improved if you explain technically how you are launching multiple apps within the same JVM process."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647105574,"creation_date":1647105574,"answer_id":71451774,"question_id":71450773,"body_markdown":"I know of no such feature built into Java.\r\n\r\nYou can easily write your own such feature to track elapsed time.\r\n\r\nCapture the current moment as seen with an offset of zero hours-minutes-seconds from UTC. \r\n\r\n    Instant then = Instant.now() ;\r\n\r\nWhen checking for elapsed time, capture the current moment again.\r\n\r\n    Instant now = Instant.now() ;\r\n\r\nCalculate elapsed time.\r\n\r\n    Duration d = Duration.between( then , now ) ;\r\n\r\nGenerate text in standard [ISO 8601][1] format.\r\n\r\n    String output = d.toString() ;\r\n\r\nYou can make that available via [JMX][2] by writing your own `MBean`.\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/ISO_8601#Durations\r\n  [2]: https://en.m.wikipedia.org/wiki/Java_Management_Extensions","title":"How to get uptime of Java application and not JVM","body":"<p>I know of no such feature built into Java.</p>\n<p>You can easily write your own such feature to track elapsed time.</p>\n<p>Capture the current moment as seen with an offset of zero hours-minutes-seconds from UTC.</p>\n<pre><code>Instant then = Instant.now() ;\n</code></pre>\n<p>When checking for elapsed time, capture the current moment again.</p>\n<pre><code>Instant now = Instant.now() ;\n</code></pre>\n<p>Calculate elapsed time.</p>\n<pre><code>Duration d = Duration.between( then , now ) ;\n</code></pre>\n<p>Generate text in standard <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO 8601</a> format.</p>\n<pre><code>String output = d.toString() ;\n</code></pre>\n<p>You can make that available via <a href=\"https://en.m.wikipedia.org/wiki/Java_Management_Extensions\" rel=\"nofollow noreferrer\">JMX</a> by writing your own <code>MBean</code>.</p>\n"},{"tags":[],"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647153177,"creation_date":1647153177,"answer_id":71454403,"question_id":71450773,"body_markdown":"&quot;Java application&quot; term is very vague here.\r\nYou obviously think it&#39;s not the same as the OS/JVM process so you must be using some kind of a container. \r\n\r\nSo the technique will be specific to the container you are running.\r\nYou might need to parse the logs to determine when the last deployment was done.\r\nAs mentioned by Basil Bourque, it&#39;s probably best to add your own tracking, perhaps by pushing an event to your metrics system after the app is started.","title":"How to get uptime of Java application and not JVM","body":"<p>&quot;Java application&quot; term is very vague here.\nYou obviously think it's not the same as the OS/JVM process so you must be using some kind of a container.</p>\n<p>So the technique will be specific to the container you are running.\nYou might need to parse the logs to determine when the last deployment was done.\nAs mentioned by Basil Bourque, it's probably best to add your own tracking, perhaps by pushing an event to your metrics system after the app is started.</p>\n"}],"owner":{"account_id":1526514,"reputation":2614,"user_id":1953537,"accept_rate":0,"display_name":"Melab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1647153177,"creation_date":1647098185,"question_id":71450773,"body_markdown":"`ManagementFactory.getRuntimeMXBean().getUptime()` only returns the uptime of the JVM a Java application is running in. This is not the uptime of the Java application though. The Java application could be one of several running in the same JVM process or it could be started X amount of time after the JVM is started.\r\n\r\nIs there a provided function for getting the Java application&#39;s uptime?","title":"How to get uptime of Java application and not JVM","body":"<p><code>ManagementFactory.getRuntimeMXBean().getUptime()</code> only returns the uptime of the JVM a Java application is running in. This is not the uptime of the Java application though. The Java application could be one of several running in the same JVM process or it could be started X amount of time after the JVM is started.</p>\n<p>Is there a provided function for getting the Java application's uptime?</p>\n"},{"tags":["java","android","animation","android-recyclerview"],"comments":[{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1647423457,"post_id":71454372,"comment_id":126364903,"body_markdown":"Looks like default recycler view item inserted and item removed animations.","body":"Looks like default recycler view item inserted and item removed animations."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1647424058,"post_id":71454372,"comment_id":126365156,"body_markdown":"watch it in 0.5 x. Then you will see the difference","body":"watch it in 0.5 x. Then you will see the difference"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647152783,"creation_date":1647152783,"question_id":71454372,"body_markdown":"I saw in `Vidma Recorder Lite` that the item moves from one recycler view to another. \r\n[See the video][1]. How can I achieve such a animation.\r\n\r\nPS: I have the same model and the same view for both the recycler views.\r\n\r\n\r\n  [1]: https://streamable.com/nae5vx","title":"How to move a item from one recycler view to another","body":"<p>I saw in <code>Vidma Recorder Lite</code> that the item moves from one recycler view to another.\n<a href=\"https://streamable.com/nae5vx\" rel=\"nofollow noreferrer\">See the video</a>. How can I achieve such a animation.</p>\n<p>PS: I have the same model and the same view for both the recycler views.</p>\n"},{"tags":["java","arrays","temporary-files"],"comments":[{"owner":{"account_id":4030233,"reputation":4573,"user_id":3316645,"accept_rate":92,"display_name":"domsson"},"score":1,"creation_date":1496831880,"post_id":44410264,"comment_id":75819319,"body_markdown":"You could just create a regular file and make sure you delete it after you&#39;re done with it. This way, you can name it whatever you want. You can still use the temp dir, `System.getProperty(&quot;java.io.tmpdir&quot;)`","body":"You could just create a regular file and make sure you delete it after you&#39;re done with it. This way, you can name it whatever you want. You can still use the temp dir, <code>System.getProperty(&quot;java.io.tmpdir&quot;)</code>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1496832792,"post_id":44410264,"comment_id":75819961,"body_markdown":"@domdom add that as an answer","body":"@domdom add that as an answer"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":1,"creation_date":1496833018,"post_id":44410264,"comment_id":75820128,"body_markdown":"One of the purposes of a temporary file  is to ensure that you get a uniquely named file so that you don&#39;t accidentally overwrite some other program&#39;s temporary file and no other program accidentally overwrites your temporary file.  Giving a temporary file a specific name defeats this protection.  What is the real issue you are trying to overcome?","body":"One of the purposes of a temporary file  is to ensure that you get a uniquely named file so that you don&#39;t accidentally overwrite some other program&#39;s temporary file and no other program accidentally overwrites your temporary file.  Giving a temporary file a specific name defeats this protection.  What is the real issue you are trying to overcome?"},{"owner":{"account_id":7001651,"reputation":471,"user_id":5367503,"accept_rate":50,"display_name":"Wassim Makni"},"score":0,"creation_date":1496834615,"post_id":44410264,"comment_id":75821249,"body_markdown":"@KevinAnderson I want to display the file on my jsp on an embed tag `&lt;embed  src=&quot;&quot; &gt;` so i need to have the file with his name","body":"@KevinAnderson I want to display the file on my jsp on an embed tag <code>&lt;embed  src=&quot;&quot; &gt;</code> so i need to have the file with his name"},{"owner":{"account_id":4030233,"reputation":4573,"user_id":3316645,"accept_rate":92,"display_name":"domsson"},"score":1,"creation_date":1496834727,"post_id":44410264,"comment_id":75821330,"body_markdown":"See my comment and/or [gati&#39;s answer](https://stackoverflow.com/a/44411082/3316645) then. I&#39;d recommend, however, to also make sure that there is no temp file with the same name already. You could easily achieve this by using a time stamp in the file name.","body":"See my comment and/or <a href=\"https://stackoverflow.com/a/44411082/3316645\">gati&#39;s answer</a> then. I&#39;d recommend, however, to also make sure that there is no temp file with the same name already. You could easily achieve this by using a time stamp in the file name."}],"answers":[{"tags":[],"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1496834314,"creation_date":1496833986,"answer_id":44411082,"question_id":44410264,"body_markdown":"You can directly give the location and file name or You can access local filesystem and find the temp directory\r\n\r\n \r\n\r\n     String tempDir=System.getProperty(&quot;java.io.tmpdir&quot;);\r\n\r\n you can use temp directory and your custom file name.\r\n\r\n    public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tString tempDir=System.getProperty(&quot;java.io.tmpdir&quot;);\r\n\t\t\tString sCourrier =&quot;sahu&quot;;\r\n\t\t\tFile file = new File(tempDir+&quot;newfile.txt&quot;);\r\n            FileOutputStream fos = new FileOutputStream(file);\r\n            fos.write(sCourrier.getBytes());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\t","title":"create a temporary file with a specified name in java","body":"<p>You can directly give the location and file name or You can access local filesystem and find the temp directory</p>\n\n<pre><code> String tempDir=System.getProperty(\"java.io.tmpdir\");\n</code></pre>\n\n<p>you can use temp directory and your custom file name.</p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        String tempDir=System.getProperty(\"java.io.tmpdir\");\n        String sCourrier =\"sahu\";\n        File file = new File(tempDir+\"newfile.txt\");\n        FileOutputStream fos = new FileOutputStream(file);\n        fos.write(sCourrier.getBytes());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647152389,"creation_date":1647152389,"answer_id":71454332,"question_id":44410264,"body_markdown":"You can use Guava `Files.createTempDir()`: \r\n\r\n`File file = new File(Files.createTempDir(), fileName.txt);`\r\n\r\nBut because the API is deprecated and they also recommend to use Nio with more params:\r\n\r\n`Path createTempDirectory(String prefix, FileAttribute&lt;?&gt;... attrs)`\r\n\r\nso it would be better if you have a method yourself:\r\n\r\n```\r\nFile createTempFile(String fileName, String content) throws IOException {\r\n\t\tString dir = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n\t\tFile file = new File(dir + fileName);\r\n\t\ttry (FileOutputStream fos = new FileOutputStream(file)) {\r\n\t\t\tfos.write(content.getBytes(StandardCharsets.UTF_8));\r\n\t\t}\r\n\t\treturn file;\r\n\t}\r\n```","title":"create a temporary file with a specified name in java","body":"<p>You can use Guava <code>Files.createTempDir()</code>:</p>\n<p><code>File file = new File(Files.createTempDir(), fileName.txt);</code></p>\n<p>But because the API is deprecated and they also recommend to use Nio with more params:</p>\n<p><code>Path createTempDirectory(String prefix, FileAttribute&lt;?&gt;... attrs)</code></p>\n<p>so it would be better if you have a method yourself:</p>\n<pre><code>File createTempFile(String fileName, String content) throws IOException {\n        String dir = System.getProperty(&quot;java.io.tmpdir&quot;);\n        File file = new File(dir + fileName);\n        try (FileOutputStream fos = new FileOutputStream(file)) {\n            fos.write(content.getBytes(StandardCharsets.UTF_8));\n        }\n        return file;\n    }\n</code></pre>\n"}],"owner":{"account_id":7001651,"reputation":471,"user_id":5367503,"accept_rate":50,"display_name":"Wassim Makni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44411082,"answer_count":2,"score":2,"last_activity_date":1647152389,"creation_date":1496831748,"question_id":44410264,"body_markdown":"I have a Byte[] array that i want to put it&#39;s content into a temporary file .\r\n\r\nI have tryied to do it like this \r\n\t\t\r\n\r\n    try {\r\n    \t\t\ttempFile = File.createTempFile(&quot;tmp&quot;, null);\r\n    \t\t\tFileOutputStream fos = new FileOutputStream(tempFile);\r\n    \t\t\tfos.write(sCourrier.getBody());\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\nbut i want that I specify the filename by myself so not generated by the jvm","title":"create a temporary file with a specified name in java","body":"<p>I have a Byte[] array that i want to put it's content into a temporary file .</p>\n\n<p>I have tryied to do it like this </p>\n\n<pre><code>try {\n            tempFile = File.createTempFile(\"tmp\", null);\n            FileOutputStream fos = new FileOutputStream(tempFile);\n            fos.write(sCourrier.getBody());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>but i want that I specify the filename by myself so not generated by the jvm</p>\n"},{"tags":["java","security","spring-security","jwt","firebase-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1647172099,"post_id":71454296,"comment_id":126299415,"body_markdown":"you are missing `.authorizeRequests()` read this again https://stackoverflow.com/questions/36795894/how-to-apply-spring-security-filter-only-on-secured-endpoints","body":"you are missing <code>.authorizeRequests()</code> read this again <a href=\"https://stackoverflow.com/questions/36795894/how-to-apply-spring-security-filter-only-on-secured-endpoints\" title=\"how to apply spring security filter only on secured endpoints\">stackoverflow.com/questions/36795894/&hellip;</a>"},{"owner":{"account_id":16634429,"reputation":549,"user_id":13492963,"display_name":"puzzled"},"score":0,"creation_date":1647196936,"post_id":71454296,"comment_id":126305241,"body_markdown":"@toerktumlare second last line of code of configure has authorizeRequests","body":"@toerktumlare second last line of code of configure has authorizeRequests"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1647211776,"post_id":71454296,"comment_id":126308130,"body_markdown":"`.authorizeRequests().anyRequest().authenticated();`it says any request.... any request means, all requests....","body":"<code>.authorizeRequests().anyRequest().authenticated();</code>it says any request.... any request means, all requests...."}],"owner":{"account_id":16634429,"reputation":549,"user_id":13492963,"display_name":"puzzled"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647152260,"creation_date":1647151953,"question_id":71454296,"body_markdown":"\r\nI am following an [example][1] that has [code][2] that I modified per [spring-security-filter-only-on-secured-endpoints\r\n][3] . \r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.antMatcher(&quot;/secureSide/**&quot;)\r\n               .cors().and()\r\n               .sessionManagement()\r\n                 .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n                 .and().addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                  .csrf().disable()\r\n                  .formLogin().disable()\r\n                  .httpBasic().disable()\r\n                  .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint())\r\n                  .and().authorizeRequests()\r\n                  .anyRequest().authenticated();\r\n        }\r\n\r\nand two Separate controllers\r\nas \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/secureSide&quot;)\r\n    @EnableAutoConfiguration(exclude = SecurityAutoConfiguration.class)\r\n    public class SecureController {\r\n    ...\r\n    }\r\n    \r\n    \r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/completelyOpen&quot;)\r\n    public class OpenController {\r\n    ...\r\n    }\r\n\r\nBut when end points defined in OpenController are called by the client, the [doFilterInternal][4] still gets called, even though the filter are supposed to be called for SecureController\r\n\r\nSo how can the call to doFilterInternal ( ofTokenFilter extends OncePerRequestFilter ) be prevented?\r\n\r\n  [1]: https://suraj-batuwana.medium.com/flutter-firebase-spring-boot-restfull-oauth2-tutorial-part-3-634c2aabda2\r\n  [2]: https://github.com/scsbatu/flutter-springboot/blob/master/springboot/src/main/java/com/example/springboot/security/SecurityConfig.java\r\n  [3]: https://stackoverflow.com/questions/36795894/how-to-apply-spring-security-filter-only-on-secured-endpoints\r\n  [4]: https://github.com/scsbatu/flutter-springboot/blob/master/springboot/src/main/java/com/example/springboot/security/TokenFilter.java","title":"how NOT to call OncePerRequestFilter before unsecured controller","body":"<p>I am following an <a href=\"https://suraj-batuwana.medium.com/flutter-firebase-spring-boot-restfull-oauth2-tutorial-part-3-634c2aabda2\" rel=\"nofollow noreferrer\">example</a> that has <a href=\"https://github.com/scsbatu/flutter-springboot/blob/master/springboot/src/main/java/com/example/springboot/security/SecurityConfig.java\" rel=\"nofollow noreferrer\">code</a> that I modified per <a href=\"https://stackoverflow.com/questions/36795894/how-to-apply-spring-security-filter-only-on-secured-endpoints\">spring-security-filter-only-on-secured-endpoints\n</a> .</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.antMatcher(&quot;/secureSide/**&quot;)\n           .cors().and()\n           .sessionManagement()\n             .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n             .and().addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n              .csrf().disable()\n              .formLogin().disable()\n              .httpBasic().disable()\n              .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint())\n              .and().authorizeRequests()\n              .anyRequest().authenticated();\n    }\n</code></pre>\n<p>and two Separate controllers\nas</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/secureSide&quot;)\n@EnableAutoConfiguration(exclude = SecurityAutoConfiguration.class)\npublic class SecureController {\n...\n}\n\n\n\n@RestController\n@RequestMapping(&quot;/completelyOpen&quot;)\npublic class OpenController {\n...\n}\n</code></pre>\n<p>But when end points defined in OpenController are called by the client, the <a href=\"https://github.com/scsbatu/flutter-springboot/blob/master/springboot/src/main/java/com/example/springboot/security/TokenFilter.java\" rel=\"nofollow noreferrer\">doFilterInternal</a> still gets called, even though the filter are supposed to be called for SecureController</p>\n<p>So how can the call to doFilterInternal ( ofTokenFilter extends OncePerRequestFilter ) be prevented?</p>\n"},{"tags":["java","gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647150977,"creation_date":1647150977,"answer_id":71454225,"question_id":71335742,"body_markdown":"Just assign the default value at the variable initialization:\r\n\r\n```java\r\npublic class GreetingTask extends DefaultTask {\r\n  private String serviceVersion = &quot;v1.0&quot;;\r\n\r\n  @Option(option = &quot;serviceVersion&quot;, description = &quot;Configure service version&quot;)\r\n  public void setServiceVersion(String serviceVersion) {\r\n    this.serviceVersion = serviceVersion;\r\n  }\r\n\r\n  @Input\r\n  public String getServiceVersion() {\r\n    return this.serviceVersion;\r\n  }\r\n\r\n  @TaskAction\r\n  public void task() {\r\n    System.out.println(this.serviceVersion);\r\n  }\r\n}\r\n```\r\n\r\nThe output would be:\r\n\r\n```bash\r\n$ ./gradlew greeting\r\n\r\n&gt; Task :greeting\r\nv1.0\r\n\r\nBUILD SUCCESSFUL in 2s\r\n3 actionable tasks: 3 executed\r\n\r\n$ ./gradlew greeting --serviceVersion=v2.0\r\n\r\n&gt; Task :greeting\r\nv2.0\r\n\r\nBUILD SUCCESSFUL in 1s\r\n3 actionable tasks: 1 executed, 2 up-to-date\r\n```","title":"How do I specify default values for gradle custom Java task inputs?","body":"<p>Just assign the default value at the variable initialization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GreetingTask extends DefaultTask {\n  private String serviceVersion = &quot;v1.0&quot;;\n\n  @Option(option = &quot;serviceVersion&quot;, description = &quot;Configure service version&quot;)\n  public void setServiceVersion(String serviceVersion) {\n    this.serviceVersion = serviceVersion;\n  }\n\n  @Input\n  public String getServiceVersion() {\n    return this.serviceVersion;\n  }\n\n  @TaskAction\n  public void task() {\n    System.out.println(this.serviceVersion);\n  }\n}\n</code></pre>\n<p>The output would be:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ ./gradlew greeting\n\n&gt; Task :greeting\nv1.0\n\nBUILD SUCCESSFUL in 2s\n3 actionable tasks: 3 executed\n\n$ ./gradlew greeting --serviceVersion=v2.0\n\n&gt; Task :greeting\nv2.0\n\nBUILD SUCCESSFUL in 1s\n3 actionable tasks: 1 executed, 2 up-to-date\n</code></pre>\n"}],"owner":{"account_id":5785054,"reputation":57,"user_id":4564561,"accept_rate":36,"display_name":"Ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71454225,"answer_count":1,"score":0,"last_activity_date":1647150977,"creation_date":1646303990,"question_id":71335742,"body_markdown":"I&#39;ve got a custom Gradle task written in Java as part of a Gradle plugin that look like this:\r\n```\r\npublic abstract class MyTask extends DefaultTask {\r\n\r\n    private static final String DEFAULT_SERVICE_VERSION = &quot;NO VERSION&quot;;\r\n    private String serviceVersion;\r\n\r\n    @Option(option = &quot;serviceVersion&quot;, description = &quot;Configures the service version.&quot;)\r\n    public void setServiceVersion(String serviceVersion) {\r\n        this.serviceVersion = serviceVersion;\r\n    }\r\n\r\n    @Input\r\n    public String getServiceVersion() {\r\n        return serviceVersion;\r\n    }\r\n\r\n\r\n    @TaskAction\r\n    public void myTask() {\r\n        String serviceVersionCurrent = getServiceVersion() != null ? getServiceVersion() : DEFAULT_SERVICE_VERSION;\r\n```\r\n\r\nThis allows me to call the task with `serviceVersion` as parameter as follows:\r\n\r\n`gradle myTask --serviceVersion=&quot;0.1&quot;`\r\n\r\nI would like to make serviceVersion somehow optional and if no value is specified, then default to `DEFAULT_SERVICE_VERSION`\r\n\r\nAs it is now, it fails:\r\n```\r\n&gt; gradle myTask\r\n&gt; Task :myTask FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nSome problems were found with the configuration of task &#39;:myTask&#39; (type &#39;MyTask&#39;).\r\n&gt; No value has been specified for property &#39;serviceVersion&#39;.\r\n```\r\n\r\nHow should I annotate my property to make it default to a certain value if none is specified?","title":"How do I specify default values for gradle custom Java task inputs?","body":"<p>I've got a custom Gradle task written in Java as part of a Gradle plugin that look like this:</p>\n<pre><code>public abstract class MyTask extends DefaultTask {\n\n    private static final String DEFAULT_SERVICE_VERSION = &quot;NO VERSION&quot;;\n    private String serviceVersion;\n\n    @Option(option = &quot;serviceVersion&quot;, description = &quot;Configures the service version.&quot;)\n    public void setServiceVersion(String serviceVersion) {\n        this.serviceVersion = serviceVersion;\n    }\n\n    @Input\n    public String getServiceVersion() {\n        return serviceVersion;\n    }\n\n\n    @TaskAction\n    public void myTask() {\n        String serviceVersionCurrent = getServiceVersion() != null ? getServiceVersion() : DEFAULT_SERVICE_VERSION;\n</code></pre>\n<p>This allows me to call the task with <code>serviceVersion</code> as parameter as follows:</p>\n<p><code>gradle myTask --serviceVersion=&quot;0.1&quot;</code></p>\n<p>I would like to make serviceVersion somehow optional and if no value is specified, then default to <code>DEFAULT_SERVICE_VERSION</code></p>\n<p>As it is now, it fails:</p>\n<pre><code>&gt; gradle myTask\n&gt; Task :myTask FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nSome problems were found with the configuration of task ':myTask' (type 'MyTask').\n&gt; No value has been specified for property 'serviceVersion'.\n</code></pre>\n<p>How should I annotate my property to make it default to a certain value if none is specified?</p>\n"},{"tags":["java","android","xml","performance","frontend"],"comments":[{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1646258442,"post_id":71329441,"comment_id":126081847,"body_markdown":"Are these metrics for a debug or release build? If the former I suggest you also get metrics for a release build which will be optimised.","body":"Are these metrics for a debug or release build? If the former I suggest you also get metrics for a release build which will be optimised."},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1646259285,"post_id":71329441,"comment_id":126082108,"body_markdown":"I did not &quot;hard check&quot; the release built yet. But visually it takes too long. So just compiler optimisation won&#39;t be the solution sadly. But I will run a proper test tomorrow.","body":"I did not &quot;hard check&quot; the release built yet. But visually it takes too long. So just compiler optimisation won&#39;t be the solution sadly. But I will run a proper test tomorrow."},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1646411040,"post_id":71329441,"comment_id":126123774,"body_markdown":"No change on release built","body":"No change on release built"},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1646417550,"post_id":71329441,"comment_id":126126094,"body_markdown":"I&#39;d try without using a custom font. Other than that I&#39;d do some method traces and jank detection as part of the normal procedure to find out whats so epxensive about the inflation.","body":"I&#39;d try without using a custom font. Other than that I&#39;d do some method traces and jank detection as part of the normal procedure to find out whats so epxensive about the inflation."},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1646567236,"post_id":71329441,"comment_id":126150859,"body_markdown":"I used the profiler to find anything but actually this does not really help a lot. As the most time is consumed by the textInputLayout with is android native","body":"I used the profiler to find anything but actually this does not really help a lot. As the most time is consumed by the textInputLayout with is android native"},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1646573354,"post_id":71329441,"comment_id":126152139,"body_markdown":"Using your code supplied and a device with a Snapdragon 665 (vs the Snapdragon 710 of your test device) I get consistent times of around ~35m/s.  your test device should be even quicker as its a better CPU (on paper).  The layout itself has nested `ViewGroup`s, but I&#39;m not seeing anywhere near 100m/s.  Having profiled it does take some time to inflate over flat layouts, but that is reasonable because of he nested view groups and complexity.  Have you tested this layout in isolation i.e not merged into another layout?","body":"Using your code supplied and a device with a Snapdragon 665 (vs the Snapdragon 710 of your test device) I get consistent times of around ~35m/s.  your test device should be even quicker as its a better CPU (on paper).  The layout itself has nested <code>ViewGroup</code>s, but I&#39;m not seeing anywhere near 100m/s.  Having profiled it does take some time to inflate over flat layouts, but that is reasonable because of he nested view groups and complexity.  Have you tested this layout in isolation i.e not merged into another layout?"},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1646575665,"post_id":71329441,"comment_id":126152606,"body_markdown":"I will create a complete mwe on a new project and add the git here. This will take me some time though. Will come back here later","body":"I will create a complete mwe on a new project and add the git here. This will take me some time though. Will come back here later"},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1646577937,"post_id":71329441,"comment_id":126153130,"body_markdown":"I updated the question with a complete git demonstrating the problem","body":"I updated the question with a complete git demonstrating the problem"},{"owner":{"account_id":12607225,"reputation":985,"user_id":9167710,"display_name":"cgb_pandey"},"score":0,"creation_date":1646621500,"post_id":71329441,"comment_id":126161384,"body_markdown":"I think you **don&#39;t** need `CardView` just to cast shadows. You can use `android:elevation` attributes directly.","body":"I think you <b>don&#39;t</b> need <code>CardView</code> just to cast shadows. You can use <code>android:elevation</code> attributes directly."},{"owner":{"account_id":12607225,"reputation":985,"user_id":9167710,"display_name":"cgb_pandey"},"score":0,"creation_date":1646623691,"post_id":71329441,"comment_id":126161652,"body_markdown":"In Galaxy M62, I got  max inflation time of 25ms with fastest being 17ms. Few suggestions that I would like to give: 1. Do not nest the view hierarchy a lot. For eg: We can achieve card like UI using `background` in `ConstraintLayout` so, you don&#39;t need `CardView` just to show shadow and rounded corners. 2. Always prefer `LinearLayout` and `FrameLayout` over all. 3. Put as less code as possible in the constructor.","body":"In Galaxy M62, I got  max inflation time of 25ms with fastest being 17ms. Few suggestions that I would like to give: 1. Do not nest the view hierarchy a lot. For eg: We can achieve card like UI using <code>background</code> in <code>ConstraintLayout</code> so, you don&#39;t need <code>CardView</code> just to show shadow and rounded corners. 2. Always prefer <code>LinearLayout</code> and <code>FrameLayout</code> over all. 3. Put as less code as possible in the constructor."},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1646920003,"post_id":71329441,"comment_id":126246418,"body_markdown":"I removed the cardview entirly. No change at all. The nested view layouts are not the issue. The inflation time out the exposeddropown somehow is.","body":"I removed the cardview entirly. No change at all. The nested view layouts are not the issue. The inflation time out the exposeddropown somehow is."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1646975307,"post_id":71329441,"comment_id":126261076,"body_markdown":"can you post the entire `CustomSpinner` class? Maybe that helps us to solve your isuue","body":"can you post the entire <code>CustomSpinner</code> class? Maybe that helps us to solve your isuue"},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1647267514,"post_id":71329441,"comment_id":126321682,"body_markdown":"I posted the git with the entire class and everything you need to start it","body":"I posted the git with the entire class and everything you need to start it"}],"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647150212,"creation_date":1646256984,"question_id":71329441,"body_markdown":"I already posted a [question][1] on this topic and got ideas how to improve but sadly the performance still ist pretty bad. \r\n\r\n**Problem**&lt;br&gt;\r\nI have the following layout which I use as a custom spinner. Also I timed its inflation as you can see below. The problem is that the inflation takes at least 100ms. Most of the times it is way higher (like 150ms) and above on my xiaomi mi 9 lite testing device. Imagine having three spinners displayed. Inflation time would be half a second (and actually is on some screens).\r\n\r\nHow to reduce inflation time significantly? If you have a look at the other post you will see that I am using a very similar layout for a custom `EditText` which &#39;only&#39; takes around 25ms now after optimizing. I do not understand why the spinner needs so much more time.\r\n\r\nAny help is highly appreciated. This would be an example of a logline `D/[Stopwatch]: CustomSpinner [Inflation]: 0 s, 195 ms`\r\n\r\n    public CustomSpinner(@NonNull Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        Stopwatch sw = Stopwatch.createStarted(&quot;CustomSpinner&quot;);\r\n        b = CustomSpinnerBinding.inflate(LayoutInflater.from(context), this);\r\n        setClipToPadding(false);\r\n        setClipChildren(false);\r\n        int pxPadding = GuiUtils.dpToPx(getContext(), 8);\r\n        setPadding(pxPadding, 0, pxPadding, 0);\r\n        sw.logRound(&quot;Inflation&quot;);\r\n    }\r\n\r\nAnd the layout (CardView for Shadow, TextView for the Spinner text - The one of the TextInputLayout would be above the front icon so I needed to add another TextView that takes over):\r\n\r\n    &lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n       xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:clipChildren=&quot;false&quot;\r\n       android:clipToPadding=&quot;false&quot;\r\n       android:paddingStart=&quot;8dp&quot;\r\n       android:paddingEnd=&quot;8dp&quot;\r\n       tools:parentTag=&quot;androidx.constraintlayout.widget.ConstraintLayout&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:id=&quot;@+id/tv_label&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;14dp&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        app:fontFamily=&quot;@font/nunito2&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@id/cardView&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/cardView&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:text=&quot;Label&quot; /&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_marginTop=&quot;7dp&quot;\r\n        app:cardCornerRadius=&quot;12dp&quot;\r\n        app:cardElevation=&quot;3dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/tv_label&quot;\r\n        app:layout_goneMarginTop=&quot;9dp&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/til_spinner&quot;\r\n                style=&quot;@style/App.ExposedDropdownMenu&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:boxStrokeWidth=&quot;0dp&quot;\r\n                app:boxStrokeWidthFocused=&quot;0dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;AutoCompleteTextView\r\n                    android:id=&quot;@+id/actv_spinner&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:background=&quot;@null&quot;\r\n                    android:backgroundTint=&quot;@android:color/transparent&quot;\r\n                    android:inputType=&quot;none&quot; /&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n            &lt;com.google.android.material.imageview.ShapeableImageView\r\n                android:id=&quot;@+id/iv_start_icon&quot;\r\n                android:layout_width=&quot;20dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginStart=&quot;19dp&quot;\r\n                android:layout_marginTop=&quot;15dp&quot;\r\n                android:layout_marginBottom=&quot;15dp&quot;\r\n                android:adjustViewBounds=&quot;true&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:srcCompat=&quot;@drawable/icon_other&quot;\r\n                tools:tint=&quot;?attr/colorPrimary&quot;\r\n                tools:visibility=&quot;visible&quot;/&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/tv_text&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;13dp&quot;\r\n                android:layout_marginEnd=&quot;45dp&quot;\r\n                android:textSize=&quot;13sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/iv_start_icon&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_goneMarginStart=&quot;19dp&quot;\r\n                tools:text=&quot;Item&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:id=&quot;@+id/tv_helper&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;14dp&quot;\r\n        android:layout_marginTop=&quot;7dp&quot;\r\n        android:alpha=&quot;0.44&quot;\r\n        android:textSize=&quot;9sp&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@id/cardView&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/cardView&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/cardView&quot;\r\n        tools:ignore=&quot;SmallSp&quot;\r\n        tools:text=&quot;Helper&quot;\r\n        tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;/merge&gt;\r\n\r\n**Profiler Update**\r\nI cannot fix my problem with the Profiler as it is Android Native code that is making the problems. The Inflation of the TextInputLayout that you can see on the picture takes 126.27 ms. But if I use the TextInputLayout without my CustomLayout it works just fine. So there is something terribly wrong here\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**GIT MWE**&lt;br&gt;\r\nDo demonstrate the issue I copied all essential files into a new project. Have a look at this [git][4].\r\n\r\nRunning this produces the following output on my Xiaomi Mi9 Lite:&lt;br&gt;\r\nCustomSpinner [Inflation]: 0 s, 295 ms&lt;br&gt;\r\nCustomSpinner [Inflation]: 0 s, 101 ms&lt;br&gt;\r\nCustomSpinner [Inflation]: 0 s, 96 ms&lt;br&gt;\r\nCustomSpinner [Inflation]: 0 s, 104 ms&lt;br&gt;\r\nCustomSpinner [Inflation]: 0 s, 134 ms&lt;br&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70423360/nested-constraint-layouts-and-huge-layout-inflation-times\r\n  [2]: https://i.stack.imgur.com/JZPyf.png\r\n  [3]: https://i.stack.imgur.com/0WOkq.png\r\n  [4]: https://github.com/dhoehl/custom_spinner_test","title":"Huge performance issues with relatively small custom layout (spinner)","body":"<p>I already posted a <a href=\"https://stackoverflow.com/questions/70423360/nested-constraint-layouts-and-huge-layout-inflation-times\">question</a> on this topic and got ideas how to improve but sadly the performance still ist pretty bad.</p>\n<p><strong>Problem</strong><br>\nI have the following layout which I use as a custom spinner. Also I timed its inflation as you can see below. The problem is that the inflation takes at least 100ms. Most of the times it is way higher (like 150ms) and above on my xiaomi mi 9 lite testing device. Imagine having three spinners displayed. Inflation time would be half a second (and actually is on some screens).</p>\n<p>How to reduce inflation time significantly? If you have a look at the other post you will see that I am using a very similar layout for a custom <code>EditText</code> which 'only' takes around 25ms now after optimizing. I do not understand why the spinner needs so much more time.</p>\n<p>Any help is highly appreciated. This would be an example of a logline <code>D/[Stopwatch]: CustomSpinner [Inflation]: 0 s, 195 ms</code></p>\n<pre><code>public CustomSpinner(@NonNull Context context, @Nullable AttributeSet attrs) {\n    super(context, attrs);\n    Stopwatch sw = Stopwatch.createStarted(&quot;CustomSpinner&quot;);\n    b = CustomSpinnerBinding.inflate(LayoutInflater.from(context), this);\n    setClipToPadding(false);\n    setClipChildren(false);\n    int pxPadding = GuiUtils.dpToPx(getContext(), 8);\n    setPadding(pxPadding, 0, pxPadding, 0);\n    sw.logRound(&quot;Inflation&quot;);\n}\n</code></pre>\n<p>And the layout (CardView for Shadow, TextView for the Spinner text - The one of the TextInputLayout would be above the front icon so I needed to add another TextView that takes over):</p>\n<pre><code>&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n   xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n   android:layout_width=&quot;match_parent&quot;\n   android:layout_height=&quot;wrap_content&quot;\n   android:clipChildren=&quot;false&quot;\n   android:clipToPadding=&quot;false&quot;\n   android:paddingStart=&quot;8dp&quot;\n   android:paddingEnd=&quot;8dp&quot;\n   tools:parentTag=&quot;androidx.constraintlayout.widget.ConstraintLayout&quot;&gt;\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:id=&quot;@+id/tv_label&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;14dp&quot;\n    android:textSize=&quot;15sp&quot;\n    app:fontFamily=&quot;@font/nunito2&quot;\n    app:layout_constraintEnd_toEndOf=&quot;@id/cardView&quot;\n    app:layout_constraintStart_toStartOf=&quot;@id/cardView&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    tools:text=&quot;Label&quot; /&gt;\n\n&lt;androidx.cardview.widget.CardView\n    android:id=&quot;@+id/cardView&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;48dp&quot;\n    android:layout_marginTop=&quot;7dp&quot;\n    app:cardCornerRadius=&quot;12dp&quot;\n    app:cardElevation=&quot;3dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/tv_label&quot;\n    app:layout_goneMarginTop=&quot;9dp&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/til_spinner&quot;\n            style=&quot;@style/App.ExposedDropdownMenu&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:boxStrokeWidth=&quot;0dp&quot;\n            app:boxStrokeWidthFocused=&quot;0dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;AutoCompleteTextView\n                android:id=&quot;@+id/actv_spinner&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@null&quot;\n                android:backgroundTint=&quot;@android:color/transparent&quot;\n                android:inputType=&quot;none&quot; /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;com.google.android.material.imageview.ShapeableImageView\n            android:id=&quot;@+id/iv_start_icon&quot;\n            android:layout_width=&quot;20dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_marginStart=&quot;19dp&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            android:layout_marginBottom=&quot;15dp&quot;\n            android:adjustViewBounds=&quot;true&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:srcCompat=&quot;@drawable/icon_other&quot;\n            tools:tint=&quot;?attr/colorPrimary&quot;\n            tools:visibility=&quot;visible&quot;/&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/tv_text&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;13dp&quot;\n            android:layout_marginEnd=&quot;45dp&quot;\n            android:textSize=&quot;13sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0&quot;\n            app:layout_constraintStart_toEndOf=&quot;@id/iv_start_icon&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_goneMarginStart=&quot;19dp&quot;\n            tools:text=&quot;Item&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:id=&quot;@+id/tv_helper&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;14dp&quot;\n    android:layout_marginTop=&quot;7dp&quot;\n    android:alpha=&quot;0.44&quot;\n    android:textSize=&quot;9sp&quot;\n    android:visibility=&quot;invisible&quot;\n    app:layout_constraintEnd_toEndOf=&quot;@id/cardView&quot;\n    app:layout_constraintStart_toStartOf=&quot;@id/cardView&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/cardView&quot;\n    tools:ignore=&quot;SmallSp&quot;\n    tools:text=&quot;Helper&quot;\n    tools:visibility=&quot;visible&quot; /&gt;\n\n&lt;/merge&gt;\n</code></pre>\n<p><strong>Profiler Update</strong>\nI cannot fix my problem with the Profiler as it is Android Native code that is making the problems. The Inflation of the TextInputLayout that you can see on the picture takes 126.27 ms. But if I use the TextInputLayout without my CustomLayout it works just fine. So there is something terribly wrong here</p>\n<p><a href=\"https://i.stack.imgur.com/JZPyf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZPyf.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0WOkq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0WOkq.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>GIT MWE</strong><br>\nDo demonstrate the issue I copied all essential files into a new project. Have a look at this <a href=\"https://github.com/dhoehl/custom_spinner_test\" rel=\"nofollow noreferrer\">git</a>.</p>\n<p>Running this produces the following output on my Xiaomi Mi9 Lite:<br>\nCustomSpinner [Inflation]: 0 s, 295 ms<br>\nCustomSpinner [Inflation]: 0 s, 101 ms<br>\nCustomSpinner [Inflation]: 0 s, 96 ms<br>\nCustomSpinner [Inflation]: 0 s, 104 ms<br>\nCustomSpinner [Inflation]: 0 s, 134 ms<br></p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":3214803,"reputation":531,"user_id":2846307,"display_name":"almac777"},"score":3,"creation_date":1647067308,"post_id":71447512,"comment_id":126284740,"body_markdown":"`Threads` are not used in this question. You simply forgot the last `finally` block where you close `fwnn`.","body":"<code>Threads</code> are not used in this question. You simply forgot the last <code>finally</code> block where you close <code>fwnn</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647141831,"creation_date":1647068312,"answer_id":71447608,"question_id":71447512,"body_markdown":"As noted:\r\n\r\n  - You are not using threads, so this it not about threads.\r\n\r\n  - You don&#39;t &quot;close&quot; threads.  Threads are not closable.\r\n\r\n  - You *do* need to close input/output streams ... and you are not doing that in *all* of places you need to in your program.\r\n\r\nBut the modern way to close a stream doesn&#39;t involve `finally`.  Way back in Java 7, they introduced the [*try with resources*][1] syntax which will automatically close resources for you.  For example:\r\n\r\n        try {\r\n            fw = new FileWriter(file, true);\r\n            fw.write(&quot; &quot; + getRandomNumber(1, 100));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (fw != null)\r\n                    fw.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\ncan be written as\r\n\r\n        try (fw = new FileWriter(file, true)) {\r\n            fw.write(&quot; &quot; + getRandomNumber(1, 100));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nNote that `fw` will be auto-closed.  It is better to make `fw` a local declaration so that it is out of scope after the statement:\r\n\r\n        try (FileWriter fw = new FileWriter(file, true)) {\r\n            fw.write(&quot; &quot; + getRandomNumber(1, 100));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        // fw is out of scope.\r\n\r\nAlso, you don&#39;t need to call `flush` after each write when you are writing to a file.  Any buffered output is written when the output stream / writer is closed.  You just need to make sure that the stream / writer *is always closed*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to close threads in Java?","body":"<p>As noted:</p>\n<ul>\n<li><p>You are not using threads, so this it not about threads.</p>\n</li>\n<li><p>You don't &quot;close&quot; threads.  Threads are not closable.</p>\n</li>\n<li><p>You <em>do</em> need to close input/output streams ... and you are not doing that in <em>all</em> of places you need to in your program.</p>\n</li>\n</ul>\n<p>But the modern way to close a stream doesn't involve <code>finally</code>.  Way back in Java 7, they introduced the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><em>try with resources</em></a> syntax which will automatically close resources for you.  For example:</p>\n<pre><code>    try {\n        fw = new FileWriter(file, true);\n        fw.write(&quot; &quot; + getRandomNumber(1, 100));\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (fw != null)\n                fw.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>can be written as</p>\n<pre><code>    try (fw = new FileWriter(file, true)) {\n        fw.write(&quot; &quot; + getRandomNumber(1, 100));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Note that <code>fw</code> will be auto-closed.  It is better to make <code>fw</code> a local declaration so that it is out of scope after the statement:</p>\n<pre><code>    try (FileWriter fw = new FileWriter(file, true)) {\n        fw.write(&quot; &quot; + getRandomNumber(1, 100));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    // fw is out of scope.\n</code></pre>\n<p>Also, you don't need to call <code>flush</code> after each write when you are writing to a file.  Any buffered output is written when the output stream / writer is closed.  You just need to make sure that the stream / writer <em>is always closed</em>.</p>\n"}],"owner":{"account_id":23723136,"reputation":25,"user_id":18445135,"display_name":"TBA1992"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"closed_date":1647072630,"accepted_answer_id":71447608,"answer_count":1,"score":-7,"last_activity_date":1647141831,"creation_date":1647066996,"question_id":71447512,"body_markdown":"Write 100 positive and 100 negative random integers alternately to the numbers file, listing them separated by a space. Then read this file and scatter the read numbers into 2 files: positive_numbers and negative_numbers, with positive and negative numbers, respectively.\r\n\r\nThree files are created. The numbers file contains both positive and negative numbers. In the numers_positive file, only positive ones are present (as they should be). And the file numers_negative is empty. I think it&#39;s about closing threads, but I can&#39;t figure out how to close them correctly.\r\n\r\n    public class IO {\r\n    public static void main(String[] args) {\r\n        FileWriter fw = null;\r\n        FileWriter fw1 = null;\r\n        File file = new File(&quot;D:/numbers.txt&quot;);\r\n        FileWriter fwnp;\r\n        FileWriter fwnn;\r\n\r\n        for (int i = 0; i &lt; 101; i++) {\r\n            try {\r\n                fw = new FileWriter(file, true);\r\n                fw.write(&quot; &quot; + getRandomNumber(1, 100));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (fw != null)\r\n                        fw.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        try {\r\n            FileReader fr = new FileReader(&quot;D:/numbers.txt&quot;);\r\n            fwnp = new FileWriter(&quot;D:/numbers_positive.txt&quot;);\r\n            int c = fr.read();\r\n            while (c &gt; 0) {\r\n                fwnp.write(c);\r\n                c = fr.read();\r\n                fwnp.flush();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        for (int i = 0; i &lt; 101; i++) {\r\n            try {\r\n                fw1 = new FileWriter(file, true);\r\n                fw1.write(&quot; &quot; + getRandomNumber(-100, -1));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (fw1 != null)\r\n                        fw1.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        try {\r\n            FileReader fr = new FileReader(&quot;D:/numbers.txt&quot;);\r\n            fwnn = new FileWriter(&quot;D:/numbers_negative.txt&quot;);\r\n            int c = fr.read();\r\n            while (c &lt; 0) {\r\n                fwnn.write(c);\r\n                c = fr.read();\r\n                fwnn.flush();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static int getRandomNumber(int a, int b) {\r\n        if (b &lt; a)\r\n            return getRandomNumber(b, a);\r\n        return a + (int) ((1 + b - a) * Math.random());\r\n    }\r\n\r\n}","title":"How to close threads in Java?","body":"<p>Write 100 positive and 100 negative random integers alternately to the numbers file, listing them separated by a space. Then read this file and scatter the read numbers into 2 files: positive_numbers and negative_numbers, with positive and negative numbers, respectively.</p>\n<p>Three files are created. The numbers file contains both positive and negative numbers. In the numers_positive file, only positive ones are present (as they should be). And the file numers_negative is empty. I think it's about closing threads, but I can't figure out how to close them correctly.</p>\n<pre><code>public class IO {\npublic static void main(String[] args) {\n    FileWriter fw = null;\n    FileWriter fw1 = null;\n    File file = new File(&quot;D:/numbers.txt&quot;);\n    FileWriter fwnp;\n    FileWriter fwnn;\n\n    for (int i = 0; i &lt; 101; i++) {\n        try {\n            fw = new FileWriter(file, true);\n            fw.write(&quot; &quot; + getRandomNumber(1, 100));\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (fw != null)\n                    fw.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    try {\n        FileReader fr = new FileReader(&quot;D:/numbers.txt&quot;);\n        fwnp = new FileWriter(&quot;D:/numbers_positive.txt&quot;);\n        int c = fr.read();\n        while (c &gt; 0) {\n            fwnp.write(c);\n            c = fr.read();\n            fwnp.flush();\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    for (int i = 0; i &lt; 101; i++) {\n        try {\n            fw1 = new FileWriter(file, true);\n            fw1.write(&quot; &quot; + getRandomNumber(-100, -1));\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (fw1 != null)\n                    fw1.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    try {\n        FileReader fr = new FileReader(&quot;D:/numbers.txt&quot;);\n        fwnn = new FileWriter(&quot;D:/numbers_negative.txt&quot;);\n        int c = fr.read();\n        while (c &lt; 0) {\n            fwnn.write(c);\n            c = fr.read();\n            fwnn.flush();\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate static int getRandomNumber(int a, int b) {\n    if (b &lt; a)\n        return getRandomNumber(b, a);\n    return a + (int) ((1 + b - a) * Math.random());\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","data-structures"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647141702,"creation_date":1647141702,"answer_id":71454144,"question_id":71454052,"body_markdown":"Yes, the problem is in the [FlyweightNode](https://github.com/Jplaudir8/Data-Structures-and-Algorithms/blob/main/Project_2/src/FlyweightNode.java). It has a static method `getFlyweight` which returns a static data `flyweight`. But it is initialized in the constructor, which means that it won&#39;t be initialized unless you create an object of the `FlyweightNode` class.\r\n\r\nEither remove all the static stuffs and use an instance of `FlyweightNode` or initialize the static field `flyweight` (not in the constructor).\r\n\r\n\r\nP.S: Though my answer will fix the problem in your code, I&#39;m not commenting/suggesting on the right way to use a Flyweight as my knowledge of the Flyweight design pattern is a bit rusty. ","title":"Cannot invoke method because [Object name].[instancevariable] is null","body":"<p>Yes, the problem is in the <a href=\"https://github.com/Jplaudir8/Data-Structures-and-Algorithms/blob/main/Project_2/src/FlyweightNode.java\" rel=\"nofollow noreferrer\">FlyweightNode</a>. It has a static method <code>getFlyweight</code> which returns a static data <code>flyweight</code>. But it is initialized in the constructor, which means that it won't be initialized unless you create an object of the <code>FlyweightNode</code> class.</p>\n<p>Either remove all the static stuffs and use an instance of <code>FlyweightNode</code> or initialize the static field <code>flyweight</code> (not in the constructor).</p>\n<p>P.S: Though my answer will fix the problem in your code, I'm not commenting/suggesting on the right way to use a Flyweight as my knowledge of the Flyweight design pattern is a bit rusty.</p>\n"}],"owner":{"account_id":9552096,"reputation":143,"user_id":7095915,"accept_rate":50,"display_name":"Jplaudir8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647141702,"creation_date":1647139951,"question_id":71454052,"body_markdown":"I would appreciate if you help me sort a problem I cannot see how to fix since several hours. Here is a class that represents a data structure similar to a trie where I can make insertions of DNA sequences. The program reads an input file of commands such as:\r\n\r\ninsert AAACCCCGGTGAAAACGTA\r\n\r\ninsert ACTGGGAA          \r\n\r\nremove ACGT         \r\n\r\ninsert ACCTT\r\n\r\ninsert ACTTA\r\n\r\nprint\r\n\r\nFor some reason when I try to run the method that executes the print command, it does not work telling me the print() method cannot be invoked because DNATreeNode.root is null. Here is the main file that runs the code:\r\n\r\n``` java\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class DNAtree {\r\n\r\n\tprivate static DNATreeNode root;\r\n\r\n\tpublic DNAtree() {\r\n\t\troot = FlyweightNode.getFlyweight();\r\n\t}\r\n\r\n\t\r\n\t/**\r\n\t * Inserts a new sequence in this DNATree.\r\n\t * \r\n\t * @param newSequence\r\n\t * @param idx             \r\n\t */\r\n\tpublic static void insert(String newSequence) {\r\n\t\t\r\n\t\tif (newSequence == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// check sequence has valid characters\r\n\t\tif (!validSequence(newSequence.toCharArray())) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tLeafNode newNode = new LeafNode();\r\n\t\tnewNode.insert(newSequence.toCharArray());\r\n\t\t\r\n\t\t\r\n\t\t// if root node is a FlyweightNode, we insert sequence directly.\r\n\t\t// root must become a LeafNode\r\n\t\tif (root instanceof FlyweightNode) {\r\n\t\t\troot = newNode; // root becomes a LeafNode\r\n\t\t\tSystem.out.print(&quot;Sequence &quot; + newSequence + &quot; inserted at level 0&quot;);\r\n\t\t\t\r\n\t\t} else if (root instanceof LeafNode) {\r\n\t\t\t// if root node is a LeafNode already, we need to split.\r\n\t\t\tLeafNode rootToLeaf = (LeafNode) root;\r\n\t\t\t\r\n\t\t\t// if sequence already exists, terminate function\r\n\t\t\tif (rootToLeaf.containsSequence(newNode)) {\r\n\t\t\t\tSystem.out.print(&quot;Sequence &quot; + newSequence + &quot; already exists&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//root = new InternalNode(); // split\r\n\t\t\t\r\n\t\t\tInternalNode newInternalRoot = (InternalNode) root;\r\n\t\t\tnewInternalRoot.insert(rootToLeaf); // move leaf down\r\n\t\t\tnewInternalRoot.insert(newNode); // insert new node\r\n\t\t\t\r\n\t\t} else if (root instanceof InternalNode) {\r\n\t\t\tInternalNode internalNode = (InternalNode) root;\r\n\t\t\tinternalNode.insert(newNode);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void remove(String sequenceToRemove) {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void print() {\r\n\t\troot.print(0);\r\n\t}\r\n\t\r\n\tpublic static void printLengths() {\r\n\t\t//root.printLengths();\r\n\t}\r\n\t\r\n\tpublic static void printStats() {\r\n\t\t//root.printStats();\r\n\t}\r\n\t\r\n\tprivate static boolean validSequence(char[] sequence) {\r\n\t\t\r\n\t\tif (sequence == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (sequence.length == 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tString DNASequence = &quot;ACGT&quot;;\r\n\t\t\r\n\t\tfor (Character currChar : sequence) {\r\n\t\t\tif (!DNASequence.contains(currChar.toString().toUpperCase())) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tpublic static void executeTreeOperation(String currentLine) {\r\n\t\t\r\n\t\tif (currentLine.trim().length() == 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// separate every element and store them in array\r\n\t\t// this array should always contain only two elements\r\n\t\tString[] currentLineArr = currentLine.trim().split(&quot; +&quot;);\r\n\t\t\r\n\t\tif (currentLineArr[0].equals(&quot;insert&quot;)) {\r\n\t\t\tinsert(currentLineArr[1]);\r\n\t\t\t\r\n\t\t} else if (currentLineArr[0].equals(&quot;remove&quot;)) {\r\n\t\t\tSystem.out.println(&quot;we remove &quot; + currentLineArr[1]);\r\n\t\t\t\r\n\t\t} else if (currentLineArr[0].equals(&quot;search&quot;)) {\r\n\t\t\tSystem.out.println(&quot;we search &quot; + currentLineArr[1]);\r\n\t\t\t\r\n\t\t} else if (currentLineArr[0].equals(&quot;print&quot;)) {\r\n\t\t\tif (currentLineArr.length == 1) {\r\n\t\t\t\tprint();\r\n\t\t\t} else if (currentLineArr[1].equals(&quot;lengths&quot;)) {\r\n\t\t\t\tprintLengths();\r\n\t\t\t} else if (currentLineArr[1].equals(&quot;stats&quot;)) {\r\n\t\t\t\tprintStats();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * @param args the input file of commands\r\n\t * @throws FileNotFoundException\r\n\t */\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\ttry {\r\n\t\t\tScanner sc = new Scanner(new File(args[0])); // Create new scanner\r\n            DNAtree tree = new DNAtree();\r\n\t\t\twhile (sc.hasNextLine()) { // While the scanner has information to\r\n\t\t\t\t\t\t\t\t\t\t// read\r\n\t\t\t\ttree.executeTreeOperation(sc.nextLine());\r\n\t\t\t}\r\n\t\t\tsc.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI do not know what exactly I&#39;m missing here, perhaps having some methods or variables as static are giving this issue? I&#39;m aware there is already too much code being shown here but I thought it would give you a better idea seeing the complete class. Also you can see the additional classes at my repo: https://github.com/Jplaudir8/Data-Structures-and-Algorithms/tree/main/Project_2/src\r\n\r\nThanks!","title":"Cannot invoke method because [Object name].[instancevariable] is null","body":"<p>I would appreciate if you help me sort a problem I cannot see how to fix since several hours. Here is a class that represents a data structure similar to a trie where I can make insertions of DNA sequences. The program reads an input file of commands such as:</p>\n<p>insert AAACCCCGGTGAAAACGTA</p>\n<p>insert ACTGGGAA</p>\n<p>remove ACGT</p>\n<p>insert ACCTT</p>\n<p>insert ACTTA</p>\n<p>print</p>\n<p>For some reason when I try to run the method that executes the print command, it does not work telling me the print() method cannot be invoked because DNATreeNode.root is null. Here is the main file that runs the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class DNAtree {\n\n    private static DNATreeNode root;\n\n    public DNAtree() {\n        root = FlyweightNode.getFlyweight();\n    }\n\n    \n    /**\n     * Inserts a new sequence in this DNATree.\n     * \n     * @param newSequence\n     * @param idx             \n     */\n    public static void insert(String newSequence) {\n        \n        if (newSequence == null) {\n            return;\n        }\n        \n        // check sequence has valid characters\n        if (!validSequence(newSequence.toCharArray())) {\n            return;\n        }\n        \n        LeafNode newNode = new LeafNode();\n        newNode.insert(newSequence.toCharArray());\n        \n        \n        // if root node is a FlyweightNode, we insert sequence directly.\n        // root must become a LeafNode\n        if (root instanceof FlyweightNode) {\n            root = newNode; // root becomes a LeafNode\n            System.out.print(&quot;Sequence &quot; + newSequence + &quot; inserted at level 0&quot;);\n            \n        } else if (root instanceof LeafNode) {\n            // if root node is a LeafNode already, we need to split.\n            LeafNode rootToLeaf = (LeafNode) root;\n            \n            // if sequence already exists, terminate function\n            if (rootToLeaf.containsSequence(newNode)) {\n                System.out.print(&quot;Sequence &quot; + newSequence + &quot; already exists&quot;);\n                return;\n            }\n            \n            //root = new InternalNode(); // split\n            \n            InternalNode newInternalRoot = (InternalNode) root;\n            newInternalRoot.insert(rootToLeaf); // move leaf down\n            newInternalRoot.insert(newNode); // insert new node\n            \n        } else if (root instanceof InternalNode) {\n            InternalNode internalNode = (InternalNode) root;\n            internalNode.insert(newNode);\n        }\n        \n    }\n    \n    public void remove(String sequenceToRemove) {\n        \n    }\n    \n    public static void print() {\n        root.print(0);\n    }\n    \n    public static void printLengths() {\n        //root.printLengths();\n    }\n    \n    public static void printStats() {\n        //root.printStats();\n    }\n    \n    private static boolean validSequence(char[] sequence) {\n        \n        if (sequence == null) {\n            return false;\n        }\n        \n        if (sequence.length == 0) {\n            return false;\n        }\n        \n        String DNASequence = &quot;ACGT&quot;;\n        \n        for (Character currChar : sequence) {\n            if (!DNASequence.contains(currChar.toString().toUpperCase())) {\n                return false;\n            }\n        }\n        \n        return true;\n    }\n    \n    public static void executeTreeOperation(String currentLine) {\n        \n        if (currentLine.trim().length() == 0) {\n            return;\n        }\n        \n        // separate every element and store them in array\n        // this array should always contain only two elements\n        String[] currentLineArr = currentLine.trim().split(&quot; +&quot;);\n        \n        if (currentLineArr[0].equals(&quot;insert&quot;)) {\n            insert(currentLineArr[1]);\n            \n        } else if (currentLineArr[0].equals(&quot;remove&quot;)) {\n            System.out.println(&quot;we remove &quot; + currentLineArr[1]);\n            \n        } else if (currentLineArr[0].equals(&quot;search&quot;)) {\n            System.out.println(&quot;we search &quot; + currentLineArr[1]);\n            \n        } else if (currentLineArr[0].equals(&quot;print&quot;)) {\n            if (currentLineArr.length == 1) {\n                print();\n            } else if (currentLineArr[1].equals(&quot;lengths&quot;)) {\n                printLengths();\n            } else if (currentLineArr[1].equals(&quot;stats&quot;)) {\n                printStats();\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param args the input file of commands\n     * @throws FileNotFoundException\n     */\n    public static void main(String[] args) throws FileNotFoundException {\n        try {\n            Scanner sc = new Scanner(new File(args[0])); // Create new scanner\n            DNAtree tree = new DNAtree();\n            while (sc.hasNextLine()) { // While the scanner has information to\n                                        // read\n                tree.executeTreeOperation(sc.nextLine());\n            }\n            sc.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n<p>I do not know what exactly I'm missing here, perhaps having some methods or variables as static are giving this issue? I'm aware there is already too much code being shown here but I thought it would give you a better idea seeing the complete class. Also you can see the additional classes at my repo: <a href=\"https://github.com/Jplaudir8/Data-Structures-and-Algorithms/tree/main/Project_2/src\" rel=\"nofollow noreferrer\">https://github.com/Jplaudir8/Data-Structures-and-Algorithms/tree/main/Project_2/src</a></p>\n<p>Thanks!</p>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1641378114,"post_id":70591142,"comment_id":124787134,"body_markdown":"You already mentioned the timezone. During the creation of the object you can usually specifiy the timezone. However don&#39;t use `Calendar` but switch to the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package which is infinitely better for handling dates and times.","body":"You already mentioned the timezone. During the creation of the object you can usually specifiy the timezone. However don&#39;t use <code>Calendar</code> but switch to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package which is infinitely better for handling dates and times."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1641378158,"post_id":70591142,"comment_id":124787150,"body_markdown":"Don&#39;t use `Calendar` and `Date`, switch to `java.time` and use a `ZonedDateTime`: Read [how to extract the value from an excel cell](https://stackoverflow.com/a/59441005/1712135) and see [how a `ZonedDateTime` considers daylight saving time](https://stackoverflow.com/a/70576654/1712135).","body":"Don&#39;t use <code>Calendar</code> and <code>Date</code>, switch to <code>java.time</code> and use a <code>ZonedDateTime</code>: Read <a href=\"https://stackoverflow.com/a/59441005/1712135\">how to extract the value from an excel cell</a> and see <a href=\"https://stackoverflow.com/a/70576654/1712135\">how a <code>ZonedDateTime</code> considers daylight saving time</a>."},{"owner":{"account_id":23833710,"reputation":31,"user_id":17839694,"display_name":"jvir"},"score":0,"creation_date":1641378309,"post_id":70591142,"comment_id":124787208,"body_markdown":"But when I read the date 31/10/2021 02:00 it automatically creates CET, so if I add one hour will not be 02:00 again, I need to read that date in CEST i have tried many things but not working... @f1sh","body":"But when I read the date 31/10/2021 02:00 it automatically creates CET, so if I add one hour will not be 02:00 again, I need to read that date in CEST i have tried many things but not working... @f1sh"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641378472,"post_id":70591142,"comment_id":124787279,"body_markdown":"@jvir It automatically creates CET because your machine is currently in the CET timezone. As I already said you can specify a timezone when you create an object from the String. Take a look at deHaars&#39;s comment.","body":"@jvir It automatically creates CET because your machine is currently in the CET timezone. As I already said you can specify a timezone when you create an object from the String. Take a look at deHaars&#39;s comment."},{"owner":{"account_id":23833710,"reputation":31,"user_id":17839694,"display_name":"jvir"},"score":0,"creation_date":1641379509,"post_id":70591142,"comment_id":124787722,"body_markdown":"I&#180;m not getting right results... any help or example?","body":"I&#180;m not getting right results... any help or example?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647136496,"creation_date":1647134798,"answer_id":71453763,"question_id":70591142,"body_markdown":"# tl;dr\r\n\r\nAsking for the beginning or ending of the 2-3 AM &quot;Fall Back&quot; hour of [Daylight Saving Time (DST)][1], in *java.time* you get:\r\n\r\n - The earlier of two actual `2 AM` moments.\r\n - The later of two potential `3 AM` moments. \r\n\r\nSo **two hours elapse** between the requested 2 AM and the requested 3 AM.\r\n\r\n - To get the first 2 AM, call `LocalDateTime.atZone` while asking for 2 AM.\r\n - To get an hour later, the second 2 AM, follow that `LocalDateTime.atZone` with a call to `ZonedDateTime.withLaterOffsetAtOverlap()`.\r\n - To get yet another hour later, 3 AM, call `LocalDateTime.atZone` while asking for 3 AM.\r\n\r\n\r\n# Details\r\n\r\n&gt; I&#180;m using java object Calendar \r\n\r\nDont.\r\n\r\nThat terrible class was supplanted years ago by the modern *java.time* classes defined in JSR 310. Specifically replaced by [`ZonedDateTime`][2]. \r\n\r\n\r\n\r\n&gt; if I read 31/10/2021 02:00:00 \r\n\r\nParse that date with time-of-day as a [`LocalDateTime`][3] object.\r\n\r\n    String input = &quot;31/10/2021 02:00:00&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu HH:mm:ss&quot; );\r\n    LocalDateTime ldt = LocalDateTime.parse( input , f );\r\n\r\n&gt;ldt.toString() = 2021-10-31T02:00\r\n\r\nYou need to be *very* aware that this date with time does *not* represent a moment. Without the context of a time zone or offset-from-UTC, we do not know if this is 2 AM in Tokyo, Toulouse, or Toledo. \r\n\r\n\r\n&gt; the date is created with CET\r\n\r\n`CET` is not a [real time zone][4]. Real time zones have a name in format of `Continent/Region` such as `Africa/Casablanca` or `Europe/Paris`. \r\n\r\nLet&#39;s use `Europe/Madrid` as an example of your intended time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Madrid&quot; ) ;\r\n    \r\nApply that zone to our `LocalDateTime` object to determine a moment. Apply a `ZoneId` object to get a [`ZonedDateTime`][2] object.\r\n\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;\r\n\r\nThe trick here is that as mentioned in the Question, 2 AM happened twice on that date in that zone. After the first 2 AM happened, time passed through the hour. Upon reaching 3 AM, per the dictates of politicians, the clock rolled back to 2 AM again. And the clock proceeded to roll through the entire hour of 2 AM to 3 AM a second time.\r\n\r\nSo when asking for 2 AM on that date in that zone, which 2 AM do you mean? There is no obvious answer. Either the first 2 AM or the 2 AM, either is legitimate, yet the two represent two different moments an hour apart on the timeline of the Universe. \r\n\r\nSo what does `LocalDateTime#atZone` do to resolve this ambiguity? The Javadoc says: (my emphasis)\r\n\r\n&gt;In most cases, there is only one valid offset for a local date-time. In the case of an overlap, where clocks are set back, there are two valid offsets. This method *uses the earlier offset* typically corresponding to &quot;summer&quot;.\r\n\r\nSo the first of the two 2 AM moments is used when adjusting from a date-with-time to a date-with-time-with-zone. \r\n\r\nLet&#39;s verify this behavior. Before we get dizzy from all this time zone business, we should get grounded by getting back to that timeline of the Universe. For that timeline, we use [`Instant`][5] class to represent a moment as seen with an offset of zero hours-minutes-seconds from UTC. Think of UTC time as the One True Time. Programmers and Sysadmins really should learn to think in UTC rather their own parochial time zone, when on the job.\r\n\r\n    System.out.println( &quot;zdt.toInstant().toString() = &quot; + zdt.toInstant().toString() );\r\n\r\nOur result in UTC time is the first moment of the new day on the 31st. \r\n\r\n&gt;zdt.toInstant().toString() = 2021-10-31T00:00:00Z\r\n\r\nThis result makes sense as the Daylight Saving Time (DST) (&quot;Summer Time&quot;) in Spain of 2021 was two hours ahead. So the earlier of our two `Europe/Spain` 2 AM moments happened while the Spanish clocks were set 2 hours ahead of UTC. FYI, [here][6] is a reference page of offset changes for `Europe/Spain`. \r\n\r\nLet&#39;s ask for 3 AM, the time when the clocks jumped backward, &quot;Fall Back&quot; in English as we say. Upon reaching 3 AM the first time, the clocks jump back in time an hour, to repeat 2 AM all over again. Let&#39;s see if we get that behavior with *java.time*.\r\n\r\n    ZonedDateTime threeAmMadrid = ZonedDateTime.of( 2021 , 10 , 31 , 3 , 0 , 0 , 0 , z );\r\n    System.out.println( &quot;threeAmMadrid = &quot; + threeAmMadrid );\r\n    System.out.println( &quot;threeAmMadrid.toInstant().toString() = &quot; + threeAmMadrid.toInstant().toString() );\r\n\r\n&gt;threeAmMadrid = 2021-10-31T03:00+01:00[Europe/Madrid]\r\n&gt;\r\n&gt;threeAmMadrid.toInstant().toString() = 2021-10-31T02:00:00Z\r\n\r\nWe do *not* see the clock jump back. This behavior makes sense. If *java.time* were to jump back to 2 AM, we would never be able to represent the 2nd occurrence of 3 AM Madrid time. So the behavior here is to represent that 2nd occurrence of 3 AM. We can verify this by examining the time on our `Instant` object. Now we see `02:00:00`, which is two hours later than our first `Instant`. So this adds up, asking for 2 AM gets us the first of two actual 2 AM moments, while asking for 3 AM gets us the second of two potential 3 AM moments, with two hours elapsing because the 2-3 hour repeated. \r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, perhaps you want to access the second of the two actual 2 AM moments. The Javadoc for `LocalDateTime#atZone` explains the solution:\r\n\r\n&gt;To obtain the later offset during an overlap, call [`ZonedDateTime.withLaterOffsetAtOverlap()`][7] on the result of this method.\r\n\r\nSome code.\r\n\r\n    LocalDateTime ldt = LocalDateTime.of( 2021 , 10 , 31 , 2 , 0 , 0 , 0 );\r\n    ZoneId z = ZoneId.of( &quot;Europe/Madrid&quot; );\r\n    ZonedDateTime first2AM = ldt.atZone( z );\r\n    ZonedDateTime second2AM = first2AM.withLaterOffsetAtOverlap();\r\n\r\n    System.out.println( &quot;first2AM = &quot; + first2AM );\r\n    System.out.println( &quot;first2AM.toInstant().toString() = &quot; + first2AM.toInstant().toString() );\r\n\r\n    System.out.println( &quot;second2AM = &quot; + second2AM );\r\n    System.out.println( &quot;second2AM.toInstant().toString() = &quot; + second2AM.toInstant().toString() );\r\n\r\nNotice how in the zoned values, both show 2 AM but the offset differs, two hours ahead of UTC versus one hour ahead.\r\n\r\nAnd notice how in the UTC values, the time-of-day differs by an hour.\r\n\r\n&gt;first2AM = 2021-10-31T02:00+02:00[Europe/Madrid]\r\n&gt;\r\n&gt;first2AM.toInstant().toString() = 2021-10-31T00:00:00Z\r\n&gt;\r\n&gt;second2AM = 2021-10-31T02:00+01:00[Europe/Madrid]\r\n&gt;\r\n&gt;second2AM.toInstant().toString() = 2021-10-31T01:00:00Z\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\r\n  [4]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [6]: https://www.timeanddate.com/time/zone/spain/madrid\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#withLaterOffsetAtOverlap()","title":"Daylight Saving Days problem calculating the dates","body":"<h1>tl;dr</h1>\n<p>Asking for the beginning or ending of the 2-3 AM &quot;Fall Back&quot; hour of <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>, in <em>java.time</em> you get:</p>\n<ul>\n<li>The earlier of two actual <code>2 AM</code> moments.</li>\n<li>The later of two potential <code>3 AM</code> moments.</li>\n</ul>\n<p>So <strong>two hours elapse</strong> between the requested 2 AM and the requested 3 AM.</p>\n<ul>\n<li>To get the first 2 AM, call <code>LocalDateTime.atZone</code> while asking for 2 AM.</li>\n<li>To get an hour later, the second 2 AM, follow that <code>LocalDateTime.atZone</code> with a call to <code>ZonedDateTime.withLaterOffsetAtOverlap()</code>.</li>\n<li>To get yet another hour later, 3 AM, call <code>LocalDateTime.atZone</code> while asking for 3 AM.</li>\n</ul>\n<h1>Details</h1>\n<blockquote>\n<p>Im using java object Calendar</p>\n</blockquote>\n<p>Dont.</p>\n<p>That terrible class was supplanted years ago by the modern <em>java.time</em> classes defined in JSR 310. Specifically replaced by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>.</p>\n<blockquote>\n<p>if I read 31/10/2021 02:00:00</p>\n</blockquote>\n<p>Parse that date with time-of-day as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> object.</p>\n<pre><code>String input = &quot;31/10/2021 02:00:00&quot;;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu HH:mm:ss&quot; );\nLocalDateTime ldt = LocalDateTime.parse( input , f );\n</code></pre>\n<blockquote>\n<p>ldt.toString() = 2021-10-31T02:00</p>\n</blockquote>\n<p>You need to be <em>very</em> aware that this date with time does <em>not</em> represent a moment. Without the context of a time zone or offset-from-UTC, we do not know if this is 2 AM in Tokyo, Toulouse, or Toledo.</p>\n<blockquote>\n<p>the date is created with CET</p>\n</blockquote>\n<p><code>CET</code> is not a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone</a>. Real time zones have a name in format of <code>Continent/Region</code> such as <code>Africa/Casablanca</code> or <code>Europe/Paris</code>.</p>\n<p>Let's use <code>Europe/Madrid</code> as an example of your intended time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Europe/Madrid&quot; ) ;\n</code></pre>\n<p>Apply that zone to our <code>LocalDateTime</code> object to determine a moment. Apply a <code>ZoneId</code> object to get a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> object.</p>\n<pre><code>ZonedDateTime zdt = ldt.atZone( z ) ;\n</code></pre>\n<p>The trick here is that as mentioned in the Question, 2 AM happened twice on that date in that zone. After the first 2 AM happened, time passed through the hour. Upon reaching 3 AM, per the dictates of politicians, the clock rolled back to 2 AM again. And the clock proceeded to roll through the entire hour of 2 AM to 3 AM a second time.</p>\n<p>So when asking for 2 AM on that date in that zone, which 2 AM do you mean? There is no obvious answer. Either the first 2 AM or the 2 AM, either is legitimate, yet the two represent two different moments an hour apart on the timeline of the Universe.</p>\n<p>So what does <code>LocalDateTime#atZone</code> do to resolve this ambiguity? The Javadoc says: (my emphasis)</p>\n<blockquote>\n<p>In most cases, there is only one valid offset for a local date-time. In the case of an overlap, where clocks are set back, there are two valid offsets. This method <em>uses the earlier offset</em> typically corresponding to &quot;summer&quot;.</p>\n</blockquote>\n<p>So the first of the two 2 AM moments is used when adjusting from a date-with-time to a date-with-time-with-zone.</p>\n<p>Let's verify this behavior. Before we get dizzy from all this time zone business, we should get grounded by getting back to that timeline of the Universe. For that timeline, we use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class to represent a moment as seen with an offset of zero hours-minutes-seconds from UTC. Think of UTC time as the One True Time. Programmers and Sysadmins really should learn to think in UTC rather their own parochial time zone, when on the job.</p>\n<pre><code>System.out.println( &quot;zdt.toInstant().toString() = &quot; + zdt.toInstant().toString() );\n</code></pre>\n<p>Our result in UTC time is the first moment of the new day on the 31st.</p>\n<blockquote>\n<p>zdt.toInstant().toString() = 2021-10-31T00:00:00Z</p>\n</blockquote>\n<p>This result makes sense as the Daylight Saving Time (DST) (&quot;Summer Time&quot;) in Spain of 2021 was two hours ahead. So the earlier of our two <code>Europe/Spain</code> 2 AM moments happened while the Spanish clocks were set 2 hours ahead of UTC. FYI, <a href=\"https://www.timeanddate.com/time/zone/spain/madrid\" rel=\"nofollow noreferrer\">here</a> is a reference page of offset changes for <code>Europe/Spain</code>.</p>\n<p>Let's ask for 3 AM, the time when the clocks jumped backward, &quot;Fall Back&quot; in English as we say. Upon reaching 3 AM the first time, the clocks jump back in time an hour, to repeat 2 AM all over again. Let's see if we get that behavior with <em>java.time</em>.</p>\n<pre><code>ZonedDateTime threeAmMadrid = ZonedDateTime.of( 2021 , 10 , 31 , 3 , 0 , 0 , 0 , z );\nSystem.out.println( &quot;threeAmMadrid = &quot; + threeAmMadrid );\nSystem.out.println( &quot;threeAmMadrid.toInstant().toString() = &quot; + threeAmMadrid.toInstant().toString() );\n</code></pre>\n<blockquote>\n<p>threeAmMadrid = 2021-10-31T03:00+01:00[Europe/Madrid]</p>\n<p>threeAmMadrid.toInstant().toString() = 2021-10-31T02:00:00Z</p>\n</blockquote>\n<p>We do <em>not</em> see the clock jump back. This behavior makes sense. If <em>java.time</em> were to jump back to 2 AM, we would never be able to represent the 2nd occurrence of 3 AM Madrid time. So the behavior here is to represent that 2nd occurrence of 3 AM. We can verify this by examining the time on our <code>Instant</code> object. Now we see <code>02:00:00</code>, which is two hours later than our first <code>Instant</code>. So this adds up, asking for 2 AM gets us the first of two actual 2 AM moments, while asking for 3 AM gets us the second of two potential 3 AM moments, with two hours elapsing because the 2-3 hour repeated.</p>\n<hr />\n<p>By the way, perhaps you want to access the second of the two actual 2 AM moments. The Javadoc for <code>LocalDateTime#atZone</code> explains the solution:</p>\n<blockquote>\n<p>To obtain the later offset during an overlap, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html#withLaterOffsetAtOverlap()\" rel=\"nofollow noreferrer\"><code>ZonedDateTime.withLaterOffsetAtOverlap()</code></a> on the result of this method.</p>\n</blockquote>\n<p>Some code.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.of( 2021 , 10 , 31 , 2 , 0 , 0 , 0 );\nZoneId z = ZoneId.of( &quot;Europe/Madrid&quot; );\nZonedDateTime first2AM = ldt.atZone( z );\nZonedDateTime second2AM = first2AM.withLaterOffsetAtOverlap();\n\nSystem.out.println( &quot;first2AM = &quot; + first2AM );\nSystem.out.println( &quot;first2AM.toInstant().toString() = &quot; + first2AM.toInstant().toString() );\n\nSystem.out.println( &quot;second2AM = &quot; + second2AM );\nSystem.out.println( &quot;second2AM.toInstant().toString() = &quot; + second2AM.toInstant().toString() );\n</code></pre>\n<p>Notice how in the zoned values, both show 2 AM but the offset differs, two hours ahead of UTC versus one hour ahead.</p>\n<p>And notice how in the UTC values, the time-of-day differs by an hour.</p>\n<blockquote>\n<p>first2AM = 2021-10-31T02:00+02:00[Europe/Madrid]</p>\n<p>first2AM.toInstant().toString() = 2021-10-31T00:00:00Z</p>\n<p>second2AM = 2021-10-31T02:00+01:00[Europe/Madrid]</p>\n<p>second2AM.toInstant().toString() = 2021-10-31T01:00:00Z</p>\n</blockquote>\n"}],"owner":{"account_id":23833710,"reputation":31,"user_id":17839694,"display_name":"jvir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647140254,"creation_date":1641377686,"question_id":70591142,"body_markdown":"I need to calculate Dates from one date I read from a Excel, the problem is that for example, if I read `31/10/2021 02:00:00` and I add 1 hour, it should give me back again the same hour, because there is time change so at 03:00:00 would be again 02:00:00, the problem is that when I read from excel `31/10/2021 02:00:00` the date is created with CET, so if I add the hour it would show 03:00 instead of 02:00:00 that is what I need.\r\n\r\nI&#180;m using java `Calendar` with the date I read from excel and then adding 1 hour to calendar. Any idea how should I do so its repeats again 02:00 because of the daylight saving?","title":"Daylight Saving Days problem calculating the dates","body":"<p>I need to calculate Dates from one date I read from a Excel, the problem is that for example, if I read <code>31/10/2021 02:00:00</code> and I add 1 hour, it should give me back again the same hour, because there is time change so at 03:00:00 would be again 02:00:00, the problem is that when I read from excel <code>31/10/2021 02:00:00</code> the date is created with CET, so if I add the hour it would show 03:00 instead of 02:00:00 that is what I need.</p>\n<p>Im using java <code>Calendar</code> with the date I read from excel and then adding 1 hour to calendar. Any idea how should I do so its repeats again 02:00 because of the daylight saving?</p>\n"},{"tags":["java","android","firebase","arraylist","firebase-storage"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1647141503,"post_id":71454041,"comment_id":126295648,"body_markdown":"I am not 100% sure, but I have a high level of confidence that your problem is the way you are iterating through your list to remove the items. You should ALWAYS use the list iterator if you intend to remove items from the list.","body":"I am not 100% sure, but I have a high level of confidence that your problem is the way you are iterating through your list to remove the items. You should ALWAYS use the list iterator if you intend to remove items from the list."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647253196,"post_id":71454041,"comment_id":126316032,"body_markdown":"Overwrites them with what?","body":"Overwrites them with what?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647263335,"post_id":71454041,"comment_id":126319874,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **400 (four hundred)** lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>400 (four hundred)</b> lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped."},{"owner":{"account_id":22016938,"reputation":87,"user_id":16286279,"display_name":"Neha"},"score":0,"creation_date":1647658035,"post_id":71454041,"comment_id":126432625,"body_markdown":"@blackapps with the index of the next selected image.","body":"@blackapps with the index of the next selected image."}],"owner":{"account_id":22016938,"reputation":87,"user_id":16286279,"display_name":"Neha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647139996,"creation_date":1647139703,"question_id":71454041,"body_markdown":"This is my first time working with Android and Firebase.\r\n\r\nI want to delete some of the images on the RecyclerView using checkboxes. But everytime I select any other image on the RecycelrView along with the very first one, for some reason the first one gets overwritten in the ArrayList arrayList of the interface. It does not happen if I select only the first one. It also works if I unselect and then reselect the first image. But the first selection of the first image always gets overwritten.\r\n\r\nI will really appreciate it if anyone could help me solve this.\r\n\r\n\r\nHere is my activity code:\r\n```\r\npublic class ImageViewer extends AppCompatActivity implements ImageDeleteListener {\r\n\r\n    private static final int PICK_IMAGE = 1;\r\n\r\n    RecyclerView image_viewerHolder;\r\n    ImageViewerAdapter imageViewerAdapter;\r\n    ArrayList&lt;AdImages&gt; image_viewerList;\r\n\r\n    FirebaseDatabase database;\r\n    DatabaseReference dbRef;\r\n    StorageReference storageReference;\r\n\r\n    private ProgressDialog progressDialog;\r\n\r\n    int type;\r\n    String ad_id;\r\n\r\n    ArrayList&lt;Uri&gt; ImageList = new ArrayList&lt;Uri&gt;();\r\n    private Uri ImageUri;\r\n    int total_upload_images = 0;\r\n    int count = 1;\r\n    int delete_count = 1;\r\n    int total_ad_images = 0;\r\n\r\n    ArrayList&lt;AdImages&gt; deleteList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_image_viewer);\r\n\r\n        image_viewerHolder = findViewById(R.id.ImageViewerHolder);\r\n\r\n        progressDialog = new ProgressDialog(this);\r\n\r\n        Button delete_image = findViewById(R.id.DeleteImages);\r\n        Button upload_more = findViewById(R.id.UploadMoreImages);\r\n\r\n        type = getIntent().getIntExtra(&quot;key_loc&quot;, 0);\r\n\r\n        if (type != 1) {\r\n            delete_image.setVisibility(View.GONE);\r\n            upload_more.setVisibility(View.GONE);\r\n        }\r\n\r\n        image_viewerHolder.setHasFixedSize(true);\r\n        image_viewerHolder.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        ad_id = getIntent().getStringExtra(&quot;key_ad_id&quot;);\r\n\r\n        GetAdImages(ad_id);\r\n\r\n        upload_more.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent choose_image = new Intent(Intent.ACTION_GET_CONTENT);\r\n                choose_image.setType(&quot;image/&quot;);\r\n                choose_image.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n                startActivityForResult(choose_image, PICK_IMAGE);\r\n            }\r\n        });\r\n\r\n        delete_image.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {                \r\n                AlertDialog image_delete_conf = new AlertDialog.Builder(ImageViewer.this).create();\r\n                image_delete_conf.setTitle(&quot;Delete Images?&quot;);\r\n                image_delete_conf.setMessage(&quot;Are You Sure You Want To Delete The Selected Images?&quot;);\r\n                image_delete_conf.setButton(AlertDialog.BUTTON_POSITIVE, &quot;YES&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        progressDialog.setMessage(&quot;Deleting Images&quot;);\r\n                        progressDialog.show();\r\n\r\n                        for (AdImages image: deleteList) {\r\n                            System.out.println(image.getImageURL());\r\n\r\n                            storageReference = FirebaseStorage.getInstance().getReferenceFromUrl(image.getImageURL().toString());\r\n\r\n                            storageReference.delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Void unused) {\r\n\r\n                                    database = FirebaseDatabase.getInstance();\r\n                                    dbRef = database.getReference(&quot;ad_images&quot;).child(ad_id);\r\n\r\n                                    dbRef.removeValue();\r\n                                    \r\n                                    if (delete_count == deleteList.size()) {\r\n                                        Toast.makeText(ImageViewer.this, &quot;Images Deleted From Ad&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                                        Intent intent_imageviewer = new Intent(ImageViewer.this, ImageViewer.class);\r\n\r\n                                        startActivity(intent_imageviewer);\r\n                                        finish();\r\n                                    }\r\n\r\n                                    delete_count++;\r\n\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n                image_delete_conf.setButton(AlertDialog.BUTTON_NEGATIVE, &quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        for (AdImages x: deleteList) {\r\n                            System.out.println(x.getImageURL());\r\n                        }\r\n                        image_delete_conf.dismiss();\r\n                    }\r\n                });\r\n\r\n                image_delete_conf.show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == PICK_IMAGE) {\r\n            if (resultCode == RESULT_OK) {\r\n                if (data.getClipData() != null) {\r\n                    int countClipData = data.getClipData().getItemCount();\r\n                    int currentImageSelected = 0;\r\n\r\n                    while (currentImageSelected &lt; countClipData) {\r\n                        ImageUri = data.getClipData().getItemAt(currentImageSelected).getUri();\r\n                        ImageList.add(ImageUri);\r\n\r\n                        currentImageSelected++;\r\n                    }\r\n\r\n                    total_upload_images = ImageList.size();\r\n\r\n                    AlertDialog new_upload_conf = new AlertDialog.Builder(ImageViewer.this).create();\r\n                    new_upload_conf.setTitle(&quot;Upload Images?&quot;);\r\n                    new_upload_conf.setMessage(&quot;Are You Sure You Want To Add More Images To This Post?&quot;);\r\n                    new_upload_conf.setButton(AlertDialog.BUTTON_POSITIVE, &quot;YES&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n\r\n                            UploadMoreImages();\r\n\r\n                        }\r\n                    });\r\n\r\n                    new_upload_conf.setButton(AlertDialog.BUTTON_NEGATIVE, &quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            new_upload_conf.dismiss();\r\n                        }\r\n                    });\r\n\r\n                    new_upload_conf.show();\r\n                }\r\n\r\n                else {\r\n                    Toast.makeText(ImageViewer.this, &quot;Please Add Images With Your Post&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public String GetFileExtension(Uri uri){\r\n        ContentResolver contentResolver=getContentResolver();\r\n        MimeTypeMap mimeTypeMap=MimeTypeMap.getSingleton();\r\n\r\n        return mimeTypeMap.getExtensionFromMimeType(contentResolver.getType(uri));\r\n    }\r\n\r\n    void GetAdImages(String ad_id) {\r\n        database = FirebaseDatabase.getInstance();\r\n        dbRef = database.getReference(&quot;ad_images&quot;).child(ad_id);\r\n\r\n        image_viewerList = new ArrayList&lt;&gt;();\r\n        imageViewerAdapter = new ImageViewerAdapter(this, image_viewerList, type, this);\r\n\r\n        image_viewerHolder.setAdapter(imageViewerAdapter);\r\n\r\n        dbRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                total_ad_images = Integer.parseInt(String.valueOf(snapshot.getChildrenCount()));\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                    AdImages adImages = dataSnapshot.getValue(AdImages.class);\r\n\r\n                    image_viewerList.add(adImages);\r\n                }\r\n\r\n                imageViewerAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    void UploadMoreImages() {\r\n        progressDialog.setMessage(&quot;Uploading Image&quot;);\r\n        progressDialog.show();\r\n\r\n        storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Ad Images&quot;).child(ad_id);\r\n\r\n        for (int i=0; i&lt;total_upload_images; i++) {\r\n            Uri images = ImageList.get(i);\r\n\r\n            String rename_image = &quot;Photo &quot; + String.valueOf(total_ad_images + i + 1)+ &quot;.&quot; + GetFileExtension(images);\r\n\r\n            StorageReference img_title = storageReference.child(rename_image);\r\n\r\n            img_title.putFile(images).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    img_title.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n                            String img_url = String.valueOf(uri);\r\n\r\n                            AddImageLink(img_url, ad_id);\r\n\r\n                            if (count == total_upload_images) {\r\n                                progressDialog.dismiss();\r\n                            }\r\n\r\n                            count++;\r\n\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void AddImageLink(String url, String ad_id) {\r\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;ad_images&quot;).child(ad_id);\r\n\r\n        HashMap&lt;String, String&gt; ImgMap = new HashMap&lt;&gt;();\r\n        ImgMap.put(&quot;imageURL&quot;, url);\r\n\r\n        databaseReference.push().setValue(ImgMap);\r\n    }\r\n\r\n    @Override\r\n    public void onImageDeleteListenerChange(ArrayList&lt;AdImages&gt; arrayList) {\r\n\r\n        deleteList = arrayList;\r\n        System.out.println(arrayList.size());\r\n    }\r\n}\r\n```\r\n\r\nHere is the `AdImages` class:\r\n```\r\npublic class AdImages {\r\n\r\n    private String imageURL;\r\n\r\n    public String getImageURL() {\r\n        return imageURL;\r\n    }\r\n\r\n    public AdImages() {\r\n\r\n    }\r\n\r\n    public AdImages(String imageURL) {\r\n        this.imageURL = imageURL;\r\n    }\r\n}\r\n```\r\n\r\nHere is the adapter:\r\n```\r\npublic class ImageViewerAdapter extends RecyclerView.Adapter&lt;ImageViewerAdapter.ImageViewerViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;AdImages&gt; image_viewerList;\r\n    int type;\r\n    ImageDeleteListener imageDeleteListener;\r\n    ArrayList&lt;AdImages&gt; image_deleteList;\r\n\r\n    public ImageViewerAdapter(Context context, ArrayList&lt;AdImages&gt; image_viewer_List, int type, ImageDeleteListener imageDeleteListener) {\r\n        this.context = context;\r\n        this.image_viewerList = image_viewer_List;\r\n        this.type = type;\r\n        this.imageDeleteListener = imageDeleteListener;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ImageViewerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.image_viewer_holder, parent, false);\r\n\r\n        return new ImageViewerViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ImageViewerViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        Glide.with(context).load(image_viewerList.get(position).getImageURL()).into(holder.ad_images);\r\n\r\n        holder.delete_selection.setVisibility(View.GONE);\r\n        holder.relativeLayout.setMinimumHeight(244);\r\n\r\n        if (type == 1) {\r\n            holder.relativeLayout.setMinimumHeight(318);\r\n            holder.delete_selection.setVisibility(View.VISIBLE);\r\n        }\r\n\r\n        image_deleteList = new ArrayList&lt;&gt;();\r\n\r\n        if (image_viewerList != null &amp;&amp; image_viewerList.size() &gt; 0) {\r\n            holder.delete_selection.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (holder.delete_selection.isChecked()) {\r\n                        image_deleteList.add(image_viewerList.get(position));\r\n                    }\r\n\r\n                    else {\r\n                        image_deleteList.remove(image_viewerList.get(position));\r\n                    }\r\n\r\n                    imageDeleteListener.onImageDeleteListenerChange(image_deleteList);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return image_viewerList.size();\r\n    }\r\n\r\n    public static class ImageViewerViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView ad_images;\r\n        RelativeLayout relativeLayout;\r\n        CheckBox delete_selection;\r\n\r\n        public ImageViewerViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            relativeLayout = itemView.findViewById(R.id.RelLay);\r\n            ad_images = itemView.findViewById(R.id.ViewedAdImage);\r\n            delete_selection = itemView.findViewById(R.id.DeleteImageSelection);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the interface:\r\n```\r\npublic interface ImageDeleteListener {\r\n    void onImageDeleteListenerChange(ArrayList&lt;AdImages&gt; arrayList);\r\n}\r\n```","title":"ArrayList keeps getting overwritten for first item","body":"<p>This is my first time working with Android and Firebase.</p>\n<p>I want to delete some of the images on the RecyclerView using checkboxes. But everytime I select any other image on the RecycelrView along with the very first one, for some reason the first one gets overwritten in the ArrayList arrayList of the interface. It does not happen if I select only the first one. It also works if I unselect and then reselect the first image. But the first selection of the first image always gets overwritten.</p>\n<p>I will really appreciate it if anyone could help me solve this.</p>\n<p>Here is my activity code:</p>\n<pre><code>public class ImageViewer extends AppCompatActivity implements ImageDeleteListener {\n\n    private static final int PICK_IMAGE = 1;\n\n    RecyclerView image_viewerHolder;\n    ImageViewerAdapter imageViewerAdapter;\n    ArrayList&lt;AdImages&gt; image_viewerList;\n\n    FirebaseDatabase database;\n    DatabaseReference dbRef;\n    StorageReference storageReference;\n\n    private ProgressDialog progressDialog;\n\n    int type;\n    String ad_id;\n\n    ArrayList&lt;Uri&gt; ImageList = new ArrayList&lt;Uri&gt;();\n    private Uri ImageUri;\n    int total_upload_images = 0;\n    int count = 1;\n    int delete_count = 1;\n    int total_ad_images = 0;\n\n    ArrayList&lt;AdImages&gt; deleteList = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_image_viewer);\n\n        image_viewerHolder = findViewById(R.id.ImageViewerHolder);\n\n        progressDialog = new ProgressDialog(this);\n\n        Button delete_image = findViewById(R.id.DeleteImages);\n        Button upload_more = findViewById(R.id.UploadMoreImages);\n\n        type = getIntent().getIntExtra(&quot;key_loc&quot;, 0);\n\n        if (type != 1) {\n            delete_image.setVisibility(View.GONE);\n            upload_more.setVisibility(View.GONE);\n        }\n\n        image_viewerHolder.setHasFixedSize(true);\n        image_viewerHolder.setLayoutManager(new LinearLayoutManager(this));\n\n        ad_id = getIntent().getStringExtra(&quot;key_ad_id&quot;);\n\n        GetAdImages(ad_id);\n\n        upload_more.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent choose_image = new Intent(Intent.ACTION_GET_CONTENT);\n                choose_image.setType(&quot;image/&quot;);\n                choose_image.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n                startActivityForResult(choose_image, PICK_IMAGE);\n            }\n        });\n\n        delete_image.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {                \n                AlertDialog image_delete_conf = new AlertDialog.Builder(ImageViewer.this).create();\n                image_delete_conf.setTitle(&quot;Delete Images?&quot;);\n                image_delete_conf.setMessage(&quot;Are You Sure You Want To Delete The Selected Images?&quot;);\n                image_delete_conf.setButton(AlertDialog.BUTTON_POSITIVE, &quot;YES&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        progressDialog.setMessage(&quot;Deleting Images&quot;);\n                        progressDialog.show();\n\n                        for (AdImages image: deleteList) {\n                            System.out.println(image.getImageURL());\n\n                            storageReference = FirebaseStorage.getInstance().getReferenceFromUrl(image.getImageURL().toString());\n\n                            storageReference.delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                @Override\n                                public void onSuccess(Void unused) {\n\n                                    database = FirebaseDatabase.getInstance();\n                                    dbRef = database.getReference(&quot;ad_images&quot;).child(ad_id);\n\n                                    dbRef.removeValue();\n                                    \n                                    if (delete_count == deleteList.size()) {\n                                        Toast.makeText(ImageViewer.this, &quot;Images Deleted From Ad&quot;, Toast.LENGTH_LONG).show();\n\n                                        Intent intent_imageviewer = new Intent(ImageViewer.this, ImageViewer.class);\n\n                                        startActivity(intent_imageviewer);\n                                        finish();\n                                    }\n\n                                    delete_count++;\n\n                                }\n                            });\n                        }\n                    }\n                });\n\n                image_delete_conf.setButton(AlertDialog.BUTTON_NEGATIVE, &quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        for (AdImages x: deleteList) {\n                            System.out.println(x.getImageURL());\n                        }\n                        image_delete_conf.dismiss();\n                    }\n                });\n\n                image_delete_conf.show();\n            }\n        });\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == PICK_IMAGE) {\n            if (resultCode == RESULT_OK) {\n                if (data.getClipData() != null) {\n                    int countClipData = data.getClipData().getItemCount();\n                    int currentImageSelected = 0;\n\n                    while (currentImageSelected &lt; countClipData) {\n                        ImageUri = data.getClipData().getItemAt(currentImageSelected).getUri();\n                        ImageList.add(ImageUri);\n\n                        currentImageSelected++;\n                    }\n\n                    total_upload_images = ImageList.size();\n\n                    AlertDialog new_upload_conf = new AlertDialog.Builder(ImageViewer.this).create();\n                    new_upload_conf.setTitle(&quot;Upload Images?&quot;);\n                    new_upload_conf.setMessage(&quot;Are You Sure You Want To Add More Images To This Post?&quot;);\n                    new_upload_conf.setButton(AlertDialog.BUTTON_POSITIVE, &quot;YES&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n\n                            UploadMoreImages();\n\n                        }\n                    });\n\n                    new_upload_conf.setButton(AlertDialog.BUTTON_NEGATIVE, &quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            new_upload_conf.dismiss();\n                        }\n                    });\n\n                    new_upload_conf.show();\n                }\n\n                else {\n                    Toast.makeText(ImageViewer.this, &quot;Please Add Images With Your Post&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n        }\n    }\n\n    public String GetFileExtension(Uri uri){\n        ContentResolver contentResolver=getContentResolver();\n        MimeTypeMap mimeTypeMap=MimeTypeMap.getSingleton();\n\n        return mimeTypeMap.getExtensionFromMimeType(contentResolver.getType(uri));\n    }\n\n    void GetAdImages(String ad_id) {\n        database = FirebaseDatabase.getInstance();\n        dbRef = database.getReference(&quot;ad_images&quot;).child(ad_id);\n\n        image_viewerList = new ArrayList&lt;&gt;();\n        imageViewerAdapter = new ImageViewerAdapter(this, image_viewerList, type, this);\n\n        image_viewerHolder.setAdapter(imageViewerAdapter);\n\n        dbRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                total_ad_images = Integer.parseInt(String.valueOf(snapshot.getChildrenCount()));\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                    AdImages adImages = dataSnapshot.getValue(AdImages.class);\n\n                    image_viewerList.add(adImages);\n                }\n\n                imageViewerAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n    }\n\n    void UploadMoreImages() {\n        progressDialog.setMessage(&quot;Uploading Image&quot;);\n        progressDialog.show();\n\n        storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Ad Images&quot;).child(ad_id);\n\n        for (int i=0; i&lt;total_upload_images; i++) {\n            Uri images = ImageList.get(i);\n\n            String rename_image = &quot;Photo &quot; + String.valueOf(total_ad_images + i + 1)+ &quot;.&quot; + GetFileExtension(images);\n\n            StorageReference img_title = storageReference.child(rename_image);\n\n            img_title.putFile(images).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    img_title.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                        @Override\n                        public void onSuccess(Uri uri) {\n                            String img_url = String.valueOf(uri);\n\n                            AddImageLink(img_url, ad_id);\n\n                            if (count == total_upload_images) {\n                                progressDialog.dismiss();\n                            }\n\n                            count++;\n\n                        }\n                    });\n                }\n            });\n        }\n    }\n\n    private void AddImageLink(String url, String ad_id) {\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;ad_images&quot;).child(ad_id);\n\n        HashMap&lt;String, String&gt; ImgMap = new HashMap&lt;&gt;();\n        ImgMap.put(&quot;imageURL&quot;, url);\n\n        databaseReference.push().setValue(ImgMap);\n    }\n\n    @Override\n    public void onImageDeleteListenerChange(ArrayList&lt;AdImages&gt; arrayList) {\n\n        deleteList = arrayList;\n        System.out.println(arrayList.size());\n    }\n}\n</code></pre>\n<p>Here is the <code>AdImages</code> class:</p>\n<pre><code>public class AdImages {\n\n    private String imageURL;\n\n    public String getImageURL() {\n        return imageURL;\n    }\n\n    public AdImages() {\n\n    }\n\n    public AdImages(String imageURL) {\n        this.imageURL = imageURL;\n    }\n}\n</code></pre>\n<p>Here is the adapter:</p>\n<pre><code>public class ImageViewerAdapter extends RecyclerView.Adapter&lt;ImageViewerAdapter.ImageViewerViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;AdImages&gt; image_viewerList;\n    int type;\n    ImageDeleteListener imageDeleteListener;\n    ArrayList&lt;AdImages&gt; image_deleteList;\n\n    public ImageViewerAdapter(Context context, ArrayList&lt;AdImages&gt; image_viewer_List, int type, ImageDeleteListener imageDeleteListener) {\n        this.context = context;\n        this.image_viewerList = image_viewer_List;\n        this.type = type;\n        this.imageDeleteListener = imageDeleteListener;\n    }\n\n    @NonNull\n    @Override\n    public ImageViewerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.image_viewer_holder, parent, false);\n\n        return new ImageViewerViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ImageViewerViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        Glide.with(context).load(image_viewerList.get(position).getImageURL()).into(holder.ad_images);\n\n        holder.delete_selection.setVisibility(View.GONE);\n        holder.relativeLayout.setMinimumHeight(244);\n\n        if (type == 1) {\n            holder.relativeLayout.setMinimumHeight(318);\n            holder.delete_selection.setVisibility(View.VISIBLE);\n        }\n\n        image_deleteList = new ArrayList&lt;&gt;();\n\n        if (image_viewerList != null &amp;&amp; image_viewerList.size() &gt; 0) {\n            holder.delete_selection.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    if (holder.delete_selection.isChecked()) {\n                        image_deleteList.add(image_viewerList.get(position));\n                    }\n\n                    else {\n                        image_deleteList.remove(image_viewerList.get(position));\n                    }\n\n                    imageDeleteListener.onImageDeleteListenerChange(image_deleteList);\n                }\n            });\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return image_viewerList.size();\n    }\n\n    public static class ImageViewerViewHolder extends RecyclerView.ViewHolder {\n\n        ImageView ad_images;\n        RelativeLayout relativeLayout;\n        CheckBox delete_selection;\n\n        public ImageViewerViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            relativeLayout = itemView.findViewById(R.id.RelLay);\n            ad_images = itemView.findViewById(R.id.ViewedAdImage);\n            delete_selection = itemView.findViewById(R.id.DeleteImageSelection);\n        }\n    }\n}\n</code></pre>\n<p>Here is the interface:</p>\n<pre><code>public interface ImageDeleteListener {\n    void onImageDeleteListenerChange(ArrayList&lt;AdImages&gt; arrayList);\n}\n</code></pre>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647137823,"creation_date":1647137823,"answer_id":71453930,"question_id":71453590,"body_markdown":"Having public static variables is not a good idea.  In addition, the Response variable in RestUtil has no relationship to the one in MyClass, so it is null. A better approach is to pass the Response into your util method such as:\r\n\r\n    public class RestUtil {\r\n    \r\n      public static void verify200(Response response) {\r\n        int statusCode = response.getStatusCode();\r\n        System.out.println(&quot;Status code: &quot; + statusCode);\r\n        assertThat(response.getStatusCode()).isEqualTo(200);\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nThen in MyClass:\r\n\r\n    public class MyClass{\r\n        \r\n          private Response response;\r\n         \r\n          public void sendGetRequestT() {\r\n            RequestSpecification httpRequest = given()\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        \r\n            response = httpRequest\r\n                    .when()\r\n                    .get(restUtil.getUrl()).andReturn();\r\n          }     \r\n         \r\n          public void verifyStatusCode() {\r\n            RestUtil.verify200( response); \r\n          }}\r\n      \r\n\r\n","title":"Can Rest-Assured&#39;s response payload be stored and used across multiple classes?","body":"<p>Having public static variables is not a good idea.  In addition, the Response variable in RestUtil has no relationship to the one in MyClass, so it is null. A better approach is to pass the Response into your util method such as:</p>\n<pre><code>public class RestUtil {\n\n  public static void verify200(Response response) {\n    int statusCode = response.getStatusCode();\n    System.out.println(&quot;Status code: &quot; + statusCode);\n    assertThat(response.getStatusCode()).isEqualTo(200);\n\n  }\n\n}\n</code></pre>\n<p>Then in MyClass:</p>\n<pre><code>public class MyClass{\n    \n      private Response response;\n     \n      public void sendGetRequestT() {\n        RequestSpecification httpRequest = given()\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    \n        response = httpRequest\n                .when()\n                .get(restUtil.getUrl()).andReturn();\n      }     \n     \n      public void verifyStatusCode() {\n        RestUtil.verify200( response); \n      }}\n  \n</code></pre>\n"}],"owner":{"account_id":13122749,"reputation":129,"user_id":9479686,"display_name":"The man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71453930,"answer_count":1,"score":0,"last_activity_date":1647137823,"creation_date":1647131677,"question_id":71453590,"body_markdown":"With Rest-Assured, I send a GET request and get the correct response as requested. I am able to then assert that the correct HTTP status code is returned.\r\n\r\n    public class MyClass{\r\n    \r\n      private static Response response;\r\n      RestUtil restUtil = new RestUtil();\r\n    \r\n    \r\n      public void sendGetRequestT{\r\n        RequestSpecification httpRequest = given()\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \r\n        response = httpRequest\r\n                .when()\r\n                .get(restUtil.getUrl()).andReturn();\r\n      }\r\n    \r\n    \r\n     \r\n      public void verifyStatusCode() {\r\n        int statusCode = response.getStatusCode();\r\n        assertThat(response.getStatusCode()).isEqualTo(200);\r\n      }}\r\n\r\nBecause I would need to verify the correct status code every time with new requests, I thought it was a smart idea to move the `verifyStatusCode()` to a `util` class so that I can call it whenever needed, so I put the implementation that verifies status code in a separate class:\r\n\r\n\r\n    public class RestUtil {\r\n      public static Response response;\r\n    \r\n      public String url = https://gorest.co.in/public/v1/users;\r\n    \r\n    \r\n      public void verify200() {\r\n        int statusCode = response.getStatusCode();\r\n        System.out.println(&quot;Status code: &quot; + statusCode);\r\n        assertThat(response.getStatusCode()).isEqualTo(200);\r\n    \r\n      }\r\n    \r\n    }\r\n\r\n\r\nNow, in the test class, I called the `verify200()` method but got a NullPointerException:\r\n\r\n    public class MyClass{\r\n        \r\n          private static Response response;\r\n          RestUtil restUtil = new RestUtil();\r\n        \r\n        \r\n          \r\n          public void sendGetRequestT{\r\n            RequestSpecification httpRequest = given()\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        \r\n            response = httpRequest\r\n                    .when()\r\n                    .get(restUtil.getUrl()).andReturn();\r\n          }\r\n        \r\n        \r\n         \r\n          public void verifyStatusCode() {\r\n            restUtil.verify200(); // NullPointerException thrown here\r\n          }}\r\n\r\n\r\nIt looks like using the `response` across multiple classes is not possible, or perhaps I am doing something wrong. What could be wrong?\r\n\r\n","title":"Can Rest-Assured&#39;s response payload be stored and used across multiple classes?","body":"<p>With Rest-Assured, I send a GET request and get the correct response as requested. I am able to then assert that the correct HTTP status code is returned.</p>\n<pre><code>public class MyClass{\n\n  private static Response response;\n  RestUtil restUtil = new RestUtil();\n\n\n  public void sendGetRequestT{\n    RequestSpecification httpRequest = given()\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n    response = httpRequest\n            .when()\n            .get(restUtil.getUrl()).andReturn();\n  }\n\n\n \n  public void verifyStatusCode() {\n    int statusCode = response.getStatusCode();\n    assertThat(response.getStatusCode()).isEqualTo(200);\n  }}\n</code></pre>\n<p>Because I would need to verify the correct status code every time with new requests, I thought it was a smart idea to move the <code>verifyStatusCode()</code> to a <code>util</code> class so that I can call it whenever needed, so I put the implementation that verifies status code in a separate class:</p>\n<pre><code>public class RestUtil {\n  public static Response response;\n\n  public String url = https://gorest.co.in/public/v1/users;\n\n\n  public void verify200() {\n    int statusCode = response.getStatusCode();\n    System.out.println(&quot;Status code: &quot; + statusCode);\n    assertThat(response.getStatusCode()).isEqualTo(200);\n\n  }\n\n}\n</code></pre>\n<p>Now, in the test class, I called the <code>verify200()</code> method but got a NullPointerException:</p>\n<pre><code>public class MyClass{\n    \n      private static Response response;\n      RestUtil restUtil = new RestUtil();\n    \n    \n      \n      public void sendGetRequestT{\n        RequestSpecification httpRequest = given()\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    \n        response = httpRequest\n                .when()\n                .get(restUtil.getUrl()).andReturn();\n      }\n    \n    \n     \n      public void verifyStatusCode() {\n        restUtil.verify200(); // NullPointerException thrown here\n      }}\n</code></pre>\n<p>It looks like using the <code>response</code> across multiple classes is not possible, or perhaps I am doing something wrong. What could be wrong?</p>\n"},{"tags":["java","spring","spring-boot","okta","okta-api"],"comments":[{"owner":{"account_id":4935145,"reputation":91,"user_id":3973524,"display_name":"Alex Jiang"},"score":0,"creation_date":1645815864,"post_id":71262517,"comment_id":125979031,"body_markdown":"why using API Gateway Lambda authorizers does not work?","body":"why using API Gateway Lambda authorizers does not work?"}],"answers":[{"tags":[],"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645803381,"creation_date":1645803381,"answer_id":71268200,"question_id":71262517,"body_markdown":"It should not be anyhow different, except that you&#39;d need to change authorization server endpoint to be an Okta one. Or maybe I&#39;m not fully understanding the scope of planned changes on your side.","title":"Okta access token validation in Spring boot","body":"<p>It should not be anyhow different, except that you'd need to change authorization server endpoint to be an Okta one. Or maybe I'm not fully understanding the scope of planned changes on your side.</p>\n"},{"tags":[],"owner":{"account_id":4935145,"reputation":91,"user_id":3973524,"display_name":"Alex Jiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647136616,"creation_date":1647136616,"answer_id":71453872,"question_id":71262517,"body_markdown":"Datawiza provides a solution for that if you are OK with using a 3rd-party commercial solution. \r\n\r\nhttps://docs.datawiza.com/best-practice/aws-api.html","title":"Okta access token validation in Spring boot","body":"<p>Datawiza provides a solution for that if you are OK with using a 3rd-party commercial solution.</p>\n<p><a href=\"https://docs.datawiza.com/best-practice/aws-api.html\" rel=\"nofollow noreferrer\">https://docs.datawiza.com/best-practice/aws-api.html</a></p>\n"}],"owner":{"account_id":3580521,"reputation":157,"user_id":2988851,"accept_rate":10,"display_name":"user2988851"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647136616,"creation_date":1645774621,"question_id":71262517,"body_markdown":"Currently, the Spring boot microservices use Spring Security OAuth2 for authentication and authorization. \r\nThe services are in AWS API Gateway.\r\n\r\nNow, we want to migrate to Okta SSO.\r\nWhat would be the suitable approach to implement access token validation (locally and remotely) for client facing services ?  \r\n\r\nAny suggestions are greatly appreciated (apart from the option of using **API Gateway Lambda authorizers**).\r\n\r\nThe existing OAuth2 implementation should be in place along with new implementation for Okta token validation until the migration is complete. \r\n\r\nThank you.\r\n\r\n","title":"Okta access token validation in Spring boot","body":"<p>Currently, the Spring boot microservices use Spring Security OAuth2 for authentication and authorization.\nThe services are in AWS API Gateway.</p>\n<p>Now, we want to migrate to Okta SSO.\nWhat would be the suitable approach to implement access token validation (locally and remotely) for client facing services ?</p>\n<p>Any suggestions are greatly appreciated (apart from the option of using <strong>API Gateway Lambda authorizers</strong>).</p>\n<p>The existing OAuth2 implementation should be in place along with new implementation for Okta token validation until the migration is complete.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","generics","event-listener"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1647135820,"creation_date":1647133876,"answer_id":71453722,"question_id":71452445,"body_markdown":"Because of [Type Erasure][1] the generic type `E` in `handleEvent(E event)` will be replaced with `Object`. After replacement class will look:\r\n```java\r\npublic class MyBeanClass {\r\n  @EventListener\r\n  public void handleEvent(Object event) { ... }\r\n}\r\n```\r\nIt means that such listener will accept any events from the application even generated by the spring framework internally. The method signature declares the event type it consumes. [EventListener documentation][2]\r\n\r\n**Solution 1. Create listener adapter foreach event**&lt;br&gt;\r\n&lt;br&gt;Adapters for base generic listener:\r\n```java\r\npublic class MyBeanClass &lt;E&gt; {\r\n    public void handleEvent(E event) {\r\n        event.toString();\r\n    }\r\n}\r\n\r\npublic class MyBeanAClass {\r\n    private MyBeanClass&lt;AEvent&gt; myBeanClass;\r\n\r\n    public MyBeanAClass(MyBeanClass&lt;AEvent&gt; myBeanClass) {\r\n        this.myBeanClass = myBeanClass;\r\n    }\r\n\r\n    @EventListener\r\n    public void handleEvent(AEvent event) {\r\n        myBeanClass.handleEvent(event);\r\n    }\r\n}\r\n\r\npublic class MyBeanBClass {\r\n    private MyBeanClass&lt;BEvent&gt; myBeanClass;\r\n\r\n    public MyBeanBClass(MyBeanClass&lt;BEvent&gt; myBeanClass) {\r\n        this.myBeanClass = myBeanClass;\r\n    }\r\n\r\n    @EventListener\r\n    public void handleEvent(BEvent event) {\r\n        myBeanClass.handleEvent(event);\r\n    }\r\n}\r\n```\r\nEvents:\r\n```java\r\npublic class AEvent extends ApplicationEvent {\r\n    private final String message;\r\n\r\n    public AEvent(Object source, String message) {\r\n        super(source);\r\n        this.message = message;\r\n    }\r\n}\r\n\r\npublic class BEvent extends ApplicationEvent {\r\n    private final String message;\r\n\r\n    public BEvent(Object source, String message) {\r\n        super(source);\r\n        this.message = message;\r\n    }\r\n}\r\n```\r\nConfig:\r\n```java\r\npublic class MyConfig {\r\n    @Bean\r\n    public MyBeanAClass myBeanAClass() {\r\n        return new MyBeanAClass(new MyBeanClass&lt;&gt;());\r\n    }\r\n\r\n    @Bean\r\n    public MyBeanBClass myBeanBClass() {\r\n        return new MyBeanBClass(new MyBeanClass&lt;&gt;());\r\n    }\r\n}\r\n```\r\nTest:\r\n```java\r\nclass ApplicationTests {\r\n    @MockBean\r\n    private MyBeanAClass myBeanAClass;\r\n\r\n    @MockBean\r\n    private MyBeanBClass myBeanBClass;\r\n\r\n    @Autowired\r\n    private ApplicationEventPublisher applicationEventPublisher;\r\n\r\n    @Test\r\n    public void testHandleAEvent() {\r\n        AEvent event = new AEvent(this, &quot;Message&quot;);\r\n        applicationEventPublisher.publishEvent(event);\r\n        Mockito.verify(myBeanAClass, times(1)).handleEvent(Mockito.any());\r\n        Mockito.verify(myBeanBClass, times(0)).handleEvent(Mockito.any());\r\n    }\r\n}\r\n```\r\n\r\n**Solution 2. Generic Application Event**&lt;br&gt;\r\nCreate a generic event type. Implement `org.springframework.core.ResolvableTypeProvider` in generic event class, then listener will resolve it.\r\n\r\n```java\r\npublic class GenericSpringEvent&lt;T&gt; implements ResolvableTypeProvider {\r\n    private final T source;\r\n\r\n    public GenericSpringEvent(T source) {\r\n        this.source = source;\r\n    }\r\n\r\n    public T getSource() {\r\n        return source;\r\n    }\r\n\r\n    @Override\r\n    public ResolvableType getResolvableType() {\r\n        return ResolvableType.forClassWithGenerics(\r\n                getClass(),\r\n                ResolvableType.forInstance(this.source)\r\n        );\r\n    }\r\n}\r\n```\r\nImplement generic listeners for each event\r\n```java\r\npublic class GenericSpringAEventListener {\r\n    @EventListener\r\n    public void handle(GenericSpringEvent&lt;AEvent&gt; event) {\r\n        event.toString();\r\n    }\r\n}\r\n\r\npublic class GenericSpringBEventListener {\r\n    @EventListener\r\n    public void handle(GenericSpringEvent&lt;BEvent&gt; event) {\r\n        event.toString();\r\n    }\r\n}\r\n```\r\nConfig:\r\n```java\r\npublic class MyConfig {\r\n    @Bean\r\n    public GenericSpringAEventListener genericSpringAEventListener() {\r\n        return new GenericSpringAEventListener();\r\n    }\r\n\r\n    @Bean\r\n    public GenericSpringBEventListener genericSpringBEventListener() {\r\n        return new GenericSpringBEventListener();\r\n    }\r\n}\r\n```\r\nTest:\r\n```java\r\nclass ApplicationTests {\r\n    @MockBean\r\n    private GenericSpringAEventListener aListener;\r\n\r\n    @MockBean\r\n    private GenericSpringBEventListener bListener;\r\n\r\n    @Autowired\r\n    private ApplicationEventPublisher applicationEventPublisher;\r\n\r\n    @Test\r\n    public void testHandleAEvent() {\r\n        AEvent event = new AEvent(this, &quot;Message&quot;);\r\n        GenericSpringEvent&lt;AEvent&gt; genericEvent = new GenericSpringEvent&lt;&gt;(event);\r\n        applicationEventPublisher.publishEvent(genericEvent);\r\n        Mockito.verify(aListener, times(1)).handle(Mockito.any());\r\n        Mockito.verify(bListener, times(0)).handle(Mockito.any());\r\n    }\r\n}\r\n```\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html","title":"EventListener for generic Events with Spring","body":"<p>Because of <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">Type Erasure</a> the generic type <code>E</code> in <code>handleEvent(E event)</code> will be replaced with <code>Object</code>. After replacement class will look:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyBeanClass {\n  @EventListener\n  public void handleEvent(Object event) { ... }\n}\n</code></pre>\n<p>It means that such listener will accept any events from the application even generated by the spring framework internally. The method signature declares the event type it consumes. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\" rel=\"noreferrer\">EventListener documentation</a></p>\n<p><strong>Solution 1. Create listener adapter foreach event</strong><br>\n<br>Adapters for base generic listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyBeanClass &lt;E&gt; {\n    public void handleEvent(E event) {\n        event.toString();\n    }\n}\n\npublic class MyBeanAClass {\n    private MyBeanClass&lt;AEvent&gt; myBeanClass;\n\n    public MyBeanAClass(MyBeanClass&lt;AEvent&gt; myBeanClass) {\n        this.myBeanClass = myBeanClass;\n    }\n\n    @EventListener\n    public void handleEvent(AEvent event) {\n        myBeanClass.handleEvent(event);\n    }\n}\n\npublic class MyBeanBClass {\n    private MyBeanClass&lt;BEvent&gt; myBeanClass;\n\n    public MyBeanBClass(MyBeanClass&lt;BEvent&gt; myBeanClass) {\n        this.myBeanClass = myBeanClass;\n    }\n\n    @EventListener\n    public void handleEvent(BEvent event) {\n        myBeanClass.handleEvent(event);\n    }\n}\n</code></pre>\n<p>Events:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AEvent extends ApplicationEvent {\n    private final String message;\n\n    public AEvent(Object source, String message) {\n        super(source);\n        this.message = message;\n    }\n}\n\npublic class BEvent extends ApplicationEvent {\n    private final String message;\n\n    public BEvent(Object source, String message) {\n        super(source);\n        this.message = message;\n    }\n}\n</code></pre>\n<p>Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyConfig {\n    @Bean\n    public MyBeanAClass myBeanAClass() {\n        return new MyBeanAClass(new MyBeanClass&lt;&gt;());\n    }\n\n    @Bean\n    public MyBeanBClass myBeanBClass() {\n        return new MyBeanBClass(new MyBeanClass&lt;&gt;());\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ApplicationTests {\n    @MockBean\n    private MyBeanAClass myBeanAClass;\n\n    @MockBean\n    private MyBeanBClass myBeanBClass;\n\n    @Autowired\n    private ApplicationEventPublisher applicationEventPublisher;\n\n    @Test\n    public void testHandleAEvent() {\n        AEvent event = new AEvent(this, &quot;Message&quot;);\n        applicationEventPublisher.publishEvent(event);\n        Mockito.verify(myBeanAClass, times(1)).handleEvent(Mockito.any());\n        Mockito.verify(myBeanBClass, times(0)).handleEvent(Mockito.any());\n    }\n}\n</code></pre>\n<p><strong>Solution 2. Generic Application Event</strong><br>\nCreate a generic event type. Implement <code>org.springframework.core.ResolvableTypeProvider</code> in generic event class, then listener will resolve it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericSpringEvent&lt;T&gt; implements ResolvableTypeProvider {\n    private final T source;\n\n    public GenericSpringEvent(T source) {\n        this.source = source;\n    }\n\n    public T getSource() {\n        return source;\n    }\n\n    @Override\n    public ResolvableType getResolvableType() {\n        return ResolvableType.forClassWithGenerics(\n                getClass(),\n                ResolvableType.forInstance(this.source)\n        );\n    }\n}\n</code></pre>\n<p>Implement generic listeners for each event</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericSpringAEventListener {\n    @EventListener\n    public void handle(GenericSpringEvent&lt;AEvent&gt; event) {\n        event.toString();\n    }\n}\n\npublic class GenericSpringBEventListener {\n    @EventListener\n    public void handle(GenericSpringEvent&lt;BEvent&gt; event) {\n        event.toString();\n    }\n}\n</code></pre>\n<p>Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyConfig {\n    @Bean\n    public GenericSpringAEventListener genericSpringAEventListener() {\n        return new GenericSpringAEventListener();\n    }\n\n    @Bean\n    public GenericSpringBEventListener genericSpringBEventListener() {\n        return new GenericSpringBEventListener();\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ApplicationTests {\n    @MockBean\n    private GenericSpringAEventListener aListener;\n\n    @MockBean\n    private GenericSpringBEventListener bListener;\n\n    @Autowired\n    private ApplicationEventPublisher applicationEventPublisher;\n\n    @Test\n    public void testHandleAEvent() {\n        AEvent event = new AEvent(this, &quot;Message&quot;);\n        GenericSpringEvent&lt;AEvent&gt; genericEvent = new GenericSpringEvent&lt;&gt;(event);\n        applicationEventPublisher.publishEvent(genericEvent);\n        Mockito.verify(aListener, times(1)).handle(Mockito.any());\n        Mockito.verify(bListener, times(0)).handle(Mockito.any());\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user11340747"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2967,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647135820,"creation_date":1647112526,"question_id":71452445,"body_markdown":"\r\n\r\nI have two beans of the same class that I want to listen each for a bean-specific but generic event:\r\n\r\n    public class MyBeanClass &lt;E&gt; {\r\n      @EventListener\r\n      public void handleEvent(E event) { ... }\r\n    }\r\n\r\nConfig:\r\n\r\n    public class MyConfig {\r\n      @Bean\r\n      public MyBeanClass&lt;AEvent&gt; myBeanAClass() {\r\n        return new MyBeanClass&lt;&gt;();\r\n      }\r\n      @Bean\r\n      public MyBeanClass&lt;BEvent&gt; myBeanBClass() {\r\n        return new MyBeanClass&lt;&gt;();\r\n      }\r\n    }\r\n\r\nSo bean &quot;myBeanAClass&quot; shall listen for AEvent&#39;s and bean &quot;myBeanBClass&quot; shall listen for BEvent&#39;s.\r\n\r\nTest:\r\n\r\n    @Test\r\n     public void testHandleAEvent() {\r\n       AEvent event = new AEvent();\r\n       publisher.publishEvent(event);\r\n       Mockito.verify(myBeanAClass, times(1)).handleEvent(Mockito.any()); // Fail\r\n       Mockito.verify(myBeanBClass, times(0)).handleEvent(Mockito.any());\r\n     }\r\n\r\nError:\r\n\r\n    org.mockito.exceptions.verification.TooManyActualInvocations: \r\n    mypackage.MyBeanClass#0 bean.handleEvent(\r\n        &lt;any&gt;\r\n    );\r\n    Wanted 1 time:\r\n    -&gt; at mypackage.MyTest.testHandleAEvent(MyTest.java:45)\r\n    But was 5 times:\r\n    -&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    -&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    -&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    -&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    -&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n","title":"EventListener for generic Events with Spring","body":"<p>I have two beans of the same class that I want to listen each for a bean-specific but generic event:</p>\n<pre><code>public class MyBeanClass &lt;E&gt; {\n  @EventListener\n  public void handleEvent(E event) { ... }\n}\n</code></pre>\n<p>Config:</p>\n<pre><code>public class MyConfig {\n  @Bean\n  public MyBeanClass&lt;AEvent&gt; myBeanAClass() {\n    return new MyBeanClass&lt;&gt;();\n  }\n  @Bean\n  public MyBeanClass&lt;BEvent&gt; myBeanBClass() {\n    return new MyBeanClass&lt;&gt;();\n  }\n}\n</code></pre>\n<p>So bean &quot;myBeanAClass&quot; shall listen for AEvent's and bean &quot;myBeanBClass&quot; shall listen for BEvent's.</p>\n<p>Test:</p>\n<pre><code>@Test\n public void testHandleAEvent() {\n   AEvent event = new AEvent();\n   publisher.publishEvent(event);\n   Mockito.verify(myBeanAClass, times(1)).handleEvent(Mockito.any()); // Fail\n   Mockito.verify(myBeanBClass, times(0)).handleEvent(Mockito.any());\n }\n</code></pre>\n<p>Error:</p>\n<pre><code>org.mockito.exceptions.verification.TooManyActualInvocations: \nmypackage.MyBeanClass#0 bean.handleEvent(\n    &lt;any&gt;\n);\nWanted 1 time:\n-&gt; at mypackage.MyTest.testHandleAEvent(MyTest.java:45)\nBut was 5 times:\n-&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n-&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n-&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n-&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n-&gt; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n</code></pre>\n"},{"tags":["java","android","kotlin","caching","bitmap"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647133372,"creation_date":1647133372,"answer_id":71453708,"question_id":71451609,"body_markdown":"``RecyclerView``s work by creating a handful of item layouts, and reusing them to display other items (recycling them, hence the name). When a ``ViewHolder`` needs to display a new item, ``onBindViewHolder`` gets called, and that&#39;s where you set up the views in the item layout - setting text, changing images etc.\r\n\r\nSo if ViewHolder #4 displays a certain image, and then you scroll down to where ViewHolder #4 is reused, it will still display that image until you change it. At a guess, your image rendering code is quite slow, so it takes a long time for that change to actually happen. You also might get a situation where if you scroll far enough, #4 is used *again*, and now you have two rendering tasks queued up, so you might see the image change *twice*, etc.\r\n\r\nYour simplest solution is probably to always display your placeholder PDF image, then fire off the renderer task - that way when you scroll to a new item, it&#39;ll never have the wrong image displayed temporarily. But you&#39;ll still need to cancel the stale coroutine job - it might be worth putting the ``display`` function in the ``ViewHolder`` itself, so it can fire off the task, keep its own ``Job`` reference, and cancel it if a new ``display`` call comes in.\r\n\r\n----\r\n\r\nYou could use a cache, like an [LRU cache][1], or a disk cache - it would definitely help with performance, but it complicates things a little and there are a lot of different solutions out there. You&#39;ll have to do some investigation to see what the right approach is for what you&#39;re doing, if you want to go that way.\r\n\r\n[Here&#39;s a page from the Android docs][2] about efficient bitmap loading - I&#39;m mainly linking this because they link to some recommended libraries you could look into. Some of them handle loading from files, so if you&#39;re doing the temp disk cache route, it could be useful. You&#39;ll have to see how easy it is to integrate them with the renderer you&#39;re using (since what you&#39;re doing is a little more complicated than just &quot;load image&quot;)\r\n\r\nOne suggestion though - it looks like you&#39;re creating bitmaps at full PDF page size. I&#39;m not sure if you need to do that for the rendering stage, but you&#39;ll definitely want to resize those for display, depending on the actual size of the image view in your list. Those libraries handle intelligent resizing to fit views - but even if you&#39;re not using one, your own caching will benefit from handling much smaller bitmaps\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/util/LruCache\r\n  [2]: https://developer.android.com/topic/performance/graphics/load-bitmap","title":"Strange bitmap flickering","body":"<p><code>RecyclerView</code>s work by creating a handful of item layouts, and reusing them to display other items (recycling them, hence the name). When a <code>ViewHolder</code> needs to display a new item, <code>onBindViewHolder</code> gets called, and that's where you set up the views in the item layout - setting text, changing images etc.</p>\n<p>So if ViewHolder #4 displays a certain image, and then you scroll down to where ViewHolder #4 is reused, it will still display that image until you change it. At a guess, your image rendering code is quite slow, so it takes a long time for that change to actually happen. You also might get a situation where if you scroll far enough, #4 is used <em>again</em>, and now you have two rendering tasks queued up, so you might see the image change <em>twice</em>, etc.</p>\n<p>Your simplest solution is probably to always display your placeholder PDF image, then fire off the renderer task - that way when you scroll to a new item, it'll never have the wrong image displayed temporarily. But you'll still need to cancel the stale coroutine job - it might be worth putting the <code>display</code> function in the <code>ViewHolder</code> itself, so it can fire off the task, keep its own <code>Job</code> reference, and cancel it if a new <code>display</code> call comes in.</p>\n<hr />\n<p>You could use a cache, like an <a href=\"https://developer.android.com/reference/android/util/LruCache\" rel=\"nofollow noreferrer\">LRU cache</a>, or a disk cache - it would definitely help with performance, but it complicates things a little and there are a lot of different solutions out there. You'll have to do some investigation to see what the right approach is for what you're doing, if you want to go that way.</p>\n<p><a href=\"https://developer.android.com/topic/performance/graphics/load-bitmap\" rel=\"nofollow noreferrer\">Here's a page from the Android docs</a> about efficient bitmap loading - I'm mainly linking this because they link to some recommended libraries you could look into. Some of them handle loading from files, so if you're doing the temp disk cache route, it could be useful. You'll have to see how easy it is to integrate them with the renderer you're using (since what you're doing is a little more complicated than just &quot;load image&quot;)</p>\n<p>One suggestion though - it looks like you're creating bitmaps at full PDF page size. I'm not sure if you need to do that for the rendering stage, but you'll definitely want to resize those for display, depending on the actual size of the image view in your list. Those libraries handle intelligent resizing to fit views - but even if you're not using one, your own caching will benefit from handling much smaller bitmaps</p>\n"}],"owner":{"account_id":24237502,"reputation":105,"user_id":18190398,"display_name":"Bam Bou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71453708,"answer_count":1,"score":0,"last_activity_date":1647133372,"creation_date":1647104301,"question_id":71451609,"body_markdown":"I&#39;d like to optimize my recyclerview, I&#39;m working on a pdf reader, and I found a small function to display the first page of my pdf files:\r\n\r\n        private fun pdfToBitmap(pdfFile: File): Bitmap? {\r\n        var bitmap: Bitmap? = null\r\n        try {\r\n            val renderer = PdfRenderer(ParcelFileDescriptor.open(pdfFile, ParcelFileDescriptor.MODE_READ_ONLY))\r\n            val pageCount = renderer.pageCount\r\n            if (pageCount &gt; 0) {\r\n                val page = renderer.openPage(0)\r\n                bitmap = Bitmap.createBitmap(page.width, page.height, Bitmap.Config.ARGB_8888)\r\n\r\n                val canvas = Canvas(bitmap)\r\n                canvas.drawColor(Color.WHITE)\r\n                canvas.drawBitmap(bitmap, page.width.toFloat(), page.height.toFloat(), null)\r\n\r\n                page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY)\r\n                page.close()\r\n                renderer.close()\r\n            }\r\n        } catch (ex: Exception) {\r\n            ex.printStackTrace()\r\n        }\r\n        return bitmap\r\n    }\r\n\r\nI execute it in the default coroutine dispatcher, and display it in the Main thread, and it give me this very strange behaviour. The previews are randomly swaping between them, also to  i&#39;d like to cache theses bitmap, maybe it can help to fix this issue.\r\n\r\nHere&#39;s is my bug :\r\n\r\n[GIF][1]\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://ibb.co/MZyysDL","title":"Strange bitmap flickering","body":"<p>I'd like to optimize my recyclerview, I'm working on a pdf reader, and I found a small function to display the first page of my pdf files:</p>\n<pre><code>    private fun pdfToBitmap(pdfFile: File): Bitmap? {\n    var bitmap: Bitmap? = null\n    try {\n        val renderer = PdfRenderer(ParcelFileDescriptor.open(pdfFile, ParcelFileDescriptor.MODE_READ_ONLY))\n        val pageCount = renderer.pageCount\n        if (pageCount &gt; 0) {\n            val page = renderer.openPage(0)\n            bitmap = Bitmap.createBitmap(page.width, page.height, Bitmap.Config.ARGB_8888)\n\n            val canvas = Canvas(bitmap)\n            canvas.drawColor(Color.WHITE)\n            canvas.drawBitmap(bitmap, page.width.toFloat(), page.height.toFloat(), null)\n\n            page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY)\n            page.close()\n            renderer.close()\n        }\n    } catch (ex: Exception) {\n        ex.printStackTrace()\n    }\n    return bitmap\n}\n</code></pre>\n<p>I execute it in the default coroutine dispatcher, and display it in the Main thread, and it give me this very strange behaviour. The previews are randomly swaping between them, also to  i'd like to cache theses bitmap, maybe it can help to fix this issue.</p>\n<p>Here's is my bug :</p>\n<p><a href=\"https://ibb.co/MZyysDL\" rel=\"nofollow noreferrer\">GIF</a></p>\n<p>Thanks</p>\n"},{"tags":["java","json","android-studio","android-volley"],"answers":[{"tags":[],"owner":{"account_id":14729237,"reputation":261,"user_id":10788507,"display_name":"Franco Berardi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647133153,"creation_date":1647132659,"answer_id":71453682,"question_id":71453602,"body_markdown":"You can get the nested object by \r\n\r\n&gt; yourObject.getJSONObject(&quot;weather&quot;)\r\n\r\nIn your case, it would be:\r\n\r\n    data.getJSONObject(&quot;current&quot;).getJSONObject(&quot;weather&quot;).getInt(&quot;tp&quot;);\r\n\r\nAlso, you could use the library *gson* to map the json string to Java class.\r\n\r\n","title":"Parsing double nested JSON - Volley","body":"<p>You can get the nested object by</p>\n<blockquote>\n<p>yourObject.getJSONObject(&quot;weather&quot;)</p>\n</blockquote>\n<p>In your case, it would be:</p>\n<pre><code>data.getJSONObject(&quot;current&quot;).getJSONObject(&quot;weather&quot;).getInt(&quot;tp&quot;);\n</code></pre>\n<p>Also, you could use the library <em>gson</em> to map the json string to Java class.</p>\n"}],"owner":{"account_id":23627649,"reputation":33,"user_id":17659931,"display_name":"moza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71453682,"answer_count":1,"score":-1,"last_activity_date":1647133153,"creation_date":1647131777,"question_id":71453602,"body_markdown":"I&#39;m trying to parse a JSON from a url but the JSON happens to be double nested, and I&#39;m not sure how to make it work with my code\r\nHere&#39;s the JSON and its [link][1]:\r\n\r\n [1]: https://api.airvisual.com/v2/city?city=London&amp;state=England&amp;country=United%20Kingdom&amp;key=f7a80239-3737-4a26-8ce6-71c2bc4ca1f5\r\n\r\n```\r\n{\r\n   &quot;status&quot;:&quot;success&quot;,\r\n   &quot;data&quot;:{\r\n      &quot;city&quot;:&quot;London&quot;,\r\n      &quot;state&quot;:&quot;England&quot;,\r\n      &quot;country&quot;:&quot;United Kingdom&quot;,\r\n      &quot;location&quot;:{\r\n         &quot;type&quot;:&quot;Point&quot;,\r\n         &quot;coordinates&quot;:[\r\n            0.040725,\r\n            51.456357\r\n         ]\r\n      },\r\n      &quot;current&quot;:{\r\n         &quot;weather&quot;:{\r\n            &quot;ts&quot;:&quot;2022-03-12T19:00:00.000Z&quot;,\r\n            &quot;tp&quot;:9,\r\n            &quot;pr&quot;:1008,\r\n            &quot;hu&quot;:76,\r\n            &quot;ws&quot;:5.14,\r\n            &quot;wd&quot;:130,\r\n            &quot;ic&quot;:&quot;01n&quot;\r\n         },\r\n         &quot;pollution&quot;:{\r\n            &quot;ts&quot;:&quot;2022-03-12T19:00:00.000Z&quot;,\r\n            &quot;aqius&quot;:27,\r\n            &quot;mainus&quot;:&quot;p2&quot;,\r\n            &quot;aqicn&quot;:9,\r\n            &quot;maincn&quot;:&quot;p2&quot;\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n**Code:**\r\n```java\r\n JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\r\n                    response -&gt; {\r\n                        try {\r\n                            JSONArray jsonArray = new JSONArray();\r\n                            //Accessing &quot;data&quot; in the JSON\r\n                            jsonArray.put(response.get(&quot;data&quot;));\r\n\r\n\r\n                            for (int i = 0; i &lt; jsonArray.length(); i++){\r\n                                JSONObject data = jsonArray.getJSONObject(i);\r\n                                String cityName = data.getString(&quot;city&quot;);\r\n                                String stateName = data.getString(&quot;state&quot;);\r\n                                String countryName = data.getString(&quot;country&quot;);\r\n\r\n                             \r\n                              \r\n                            }\r\n                            //Notifying the adapter of the new changes\r\n                            adapter.notifyDataSetChanged();\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }, Throwable::printStackTrace);\r\n            requestQ.add(request);\r\n    }\r\n```\r\n\r\n**GOAL:**\r\n\r\nI want the function to read &quot;current&quot; and then &quot;weather&quot; and then get the value of &quot;tp&quot; just like how I&#39;m getting the value of cityName, stateName etc\r\nI&#39;m aware that this question has been answered before but I didn&#39;t find something for double nested JSONs\r\n\r\n\r\nThanks a lot in advance. \r\n ","title":"Parsing double nested JSON - Volley","body":"<p>I'm trying to parse a JSON from a url but the JSON happens to be double nested, and I'm not sure how to make it work with my code\nHere's the JSON and its <a href=\"https://api.airvisual.com/v2/city?city=London&amp;state=England&amp;country=United%20Kingdom&amp;key=f7a80239-3737-4a26-8ce6-71c2bc4ca1f5\" rel=\"nofollow noreferrer\">link</a>:</p>\n<pre><code>{\n   &quot;status&quot;:&quot;success&quot;,\n   &quot;data&quot;:{\n      &quot;city&quot;:&quot;London&quot;,\n      &quot;state&quot;:&quot;England&quot;,\n      &quot;country&quot;:&quot;United Kingdom&quot;,\n      &quot;location&quot;:{\n         &quot;type&quot;:&quot;Point&quot;,\n         &quot;coordinates&quot;:[\n            0.040725,\n            51.456357\n         ]\n      },\n      &quot;current&quot;:{\n         &quot;weather&quot;:{\n            &quot;ts&quot;:&quot;2022-03-12T19:00:00.000Z&quot;,\n            &quot;tp&quot;:9,\n            &quot;pr&quot;:1008,\n            &quot;hu&quot;:76,\n            &quot;ws&quot;:5.14,\n            &quot;wd&quot;:130,\n            &quot;ic&quot;:&quot;01n&quot;\n         },\n         &quot;pollution&quot;:{\n            &quot;ts&quot;:&quot;2022-03-12T19:00:00.000Z&quot;,\n            &quot;aqius&quot;:27,\n            &quot;mainus&quot;:&quot;p2&quot;,\n            &quot;aqicn&quot;:9,\n            &quot;maincn&quot;:&quot;p2&quot;\n         }\n      }\n   }\n}\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code> JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\n                    response -&gt; {\n                        try {\n                            JSONArray jsonArray = new JSONArray();\n                            //Accessing &quot;data&quot; in the JSON\n                            jsonArray.put(response.get(&quot;data&quot;));\n\n\n                            for (int i = 0; i &lt; jsonArray.length(); i++){\n                                JSONObject data = jsonArray.getJSONObject(i);\n                                String cityName = data.getString(&quot;city&quot;);\n                                String stateName = data.getString(&quot;state&quot;);\n                                String countryName = data.getString(&quot;country&quot;);\n\n                             \n                              \n                            }\n                            //Notifying the adapter of the new changes\n                            adapter.notifyDataSetChanged();\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }, Throwable::printStackTrace);\n            requestQ.add(request);\n    }\n</code></pre>\n<p><strong>GOAL:</strong></p>\n<p>I want the function to read &quot;current&quot; and then &quot;weather&quot; and then get the value of &quot;tp&quot; just like how I'm getting the value of cityName, stateName etc\nI'm aware that this question has been answered before but I didn't find something for double nested JSONs</p>\n<p>Thanks a lot in advance.</p>\n"},{"tags":["java","algorithm","sorting","math","data-structures"],"comments":[{"owner":{"account_id":3214803,"reputation":531,"user_id":2846307,"display_name":"almac777"},"score":0,"creation_date":1647153800,"post_id":71453664,"comment_id":126296106,"body_markdown":"Welcome to SO. You might find reading the site&#160;[help section](https://stackoverflow.com/help)&#160;useful when it comes to&#160;[asking a good question](https://stackoverflow.com/help/how-to-ask), and this&#160;[question checklist](https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist). Code that you&#39;ve worked on to solve the problem should include a&#160;[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), and be included in your question.","body":"Welcome to SO. You might find reading the site <a href=\"https://stackoverflow.com/help\">help section</a> useful when it comes to <a href=\"https://stackoverflow.com/help/how-to-ask\">asking a good question</a>, and this <a href=\"https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\">question checklist</a>. Code that you&#39;ve worked on to solve the problem should include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and be included in your question."},{"owner":{"account_id":3214803,"reputation":531,"user_id":2846307,"display_name":"almac777"},"score":0,"creation_date":1647153944,"post_id":71453664,"comment_id":126296124,"body_markdown":"With this being said: You have a division by zero right off the bat. `int n = 0` and then some lines down you say `if (nearestPowerOfTwo % n != 0)` ? It seems to me that your initial values are incorrect.\n\nAlso please try to state exactly what your problem is.","body":"With this being said: You have a division by zero right off the bat. <code>int n = 0</code> and then some lines down you say <code>if (nearestPowerOfTwo % n != 0)</code> ? It seems to me that your initial values are incorrect.  Also please try to state exactly what your problem is."},{"owner":{"account_id":523075,"reputation":375,"user_id":6535366,"display_name":"JimN"},"score":0,"creation_date":1647165775,"post_id":71453664,"comment_id":126298102,"body_markdown":"Your solution will require some loop or some recursive call. As it is right now, it contains a &#39;return 0;&#39; statement, which will always just give you a value of 0. The method doesn&#39;t look like a feasible start to an implementation. Perhaps you can find a step-by-step pseudocode description of the algorithm (and paste it into your code as a code comment) and then try to translate the pseudocode into java. And then you can more clearly describe what parts of the algorithm you are having trouble implementing","body":"Your solution will require some loop or some recursive call. As it is right now, it contains a &#39;return 0;&#39; statement, which will always just give you a value of 0. The method doesn&#39;t look like a feasible start to an implementation. Perhaps you can find a step-by-step pseudocode description of the algorithm (and paste it into your code as a code comment) and then try to translate the pseudocode into java. And then you can more clearly describe what parts of the algorithm you are having trouble implementing"}],"owner":{"account_id":19376028,"reputation":1,"user_id":14168278,"display_name":"matin_mhz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647132476,"creation_date":1647132476,"question_id":71453664,"body_markdown":"I am new to the concepts of algorithms and have started implementing them in Java.\r\nI tried to implement the Estrin&#39;s algorithm in Java but unfortunately it does not work\r\n  \r\nCan anyone help me with where the problem is and how to fix it?\r\n\r\n\r\n    import static java.lang.Math.log;\r\n    import static java.lang.Math.pow;\r\n\r\n    public class EstrinMethod {\r\n        static int Estin(int poly[] , int x)\r\n    {\r\n        int shift ;\r\n        int degree = 0;\r\n        double npower2 = 0 ;\r\n        int n = 0;\r\n        double numsteps = 0;\r\n\r\n        int nearestPowerOfTwo = 0;\r\n        if (nearestPowerOfTwo % n != 0)\r\n        {\r\n            shift = nearestPowerOfTwo - (n % nearestPowerOfTwo);\r\n            npower2 = degree + shift;\r\n\r\n        }\r\n        else\r\n        {\r\n            shift = 0;\r\n            npower2 = n;\r\n        }\r\n\r\n        numsteps = pow(2,log(npower2));\r\n\r\n\r\n        return 0;\r\n    }\r\n\r\n    public static void  main(String[] args)\r\n    {\r\n        int[] poly = {2,-6,2,-1};\r\n        int x = 3;\r\n        System.out.println(&quot;Value of polynomial in Estrin&#39;s method is &quot;\r\n                + Estin(poly,x));\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n","title":"problem with calculating polynomial with Estrin algorithm in Java?","body":"<p>I am new to the concepts of algorithms and have started implementing them in Java.\nI tried to implement the Estrin's algorithm in Java but unfortunately it does not work</p>\n<p>Can anyone help me with where the problem is and how to fix it?</p>\n<pre><code>import static java.lang.Math.log;\nimport static java.lang.Math.pow;\n\npublic class EstrinMethod {\n    static int Estin(int poly[] , int x)\n{\n    int shift ;\n    int degree = 0;\n    double npower2 = 0 ;\n    int n = 0;\n    double numsteps = 0;\n\n    int nearestPowerOfTwo = 0;\n    if (nearestPowerOfTwo % n != 0)\n    {\n        shift = nearestPowerOfTwo - (n % nearestPowerOfTwo);\n        npower2 = degree + shift;\n\n    }\n    else\n    {\n        shift = 0;\n        npower2 = n;\n    }\n\n    numsteps = pow(2,log(npower2));\n\n\n    return 0;\n}\n\npublic static void  main(String[] args)\n{\n    int[] poly = {2,-6,2,-1};\n    int x = 3;\n    System.out.println(&quot;Value of polynomial in Estrin's method is &quot;\n            + Estin(poly,x));\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","r","executable-jar"],"answers":[{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647132471,"creation_date":1647132471,"answer_id":71453663,"question_id":71453571,"body_markdown":"You can access the R script by getting an `InputStream` for it and reading the file content:\r\n```java\r\ntry (InputStream inputStream = getClass().getClassLoader().getResourceAsStream(&quot;script.R&quot;)) {\r\n    //read from inputStream\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nI&#39;d recommend reading more into the packing of JARs and how to include/store resources.\r\n\r\nWith the contents of the R script, you can execute it using approaches such as the one mentioned in [this article](https://www.baeldung.com/java-r-integration) (using libraries to execute R).","title":"How to run an R script that lives in a jar file","body":"<p>You can access the R script by getting an <code>InputStream</code> for it and reading the file content:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (InputStream inputStream = getClass().getClassLoader().getResourceAsStream(&quot;script.R&quot;)) {\n    //read from inputStream\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I'd recommend reading more into the packing of JARs and how to include/store resources.</p>\n<p>With the contents of the R script, you can execute it using approaches such as the one mentioned in <a href=\"https://www.baeldung.com/java-r-integration\" rel=\"nofollow noreferrer\">this article</a> (using libraries to execute R).</p>\n"}],"owner":{"account_id":3158846,"reputation":3608,"user_id":2670571,"accept_rate":52,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647132471,"creation_date":1647131342,"question_id":71453571,"body_markdown":"I have Java application that is deployed as a jar and run from a cmd line by calling a main function.  There are some tools that are written in R associated with the application that are distributed with the application.  \r\n\r\nI&#39;d like to enable calling the R scripts that are in the jar file from either the cmd line or from Java.  \r\n\r\nHow can I execute an R script from either the cmd line or Java when the R script is in a jar file (with out unzipping the jar file).  ","title":"How to run an R script that lives in a jar file","body":"<p>I have Java application that is deployed as a jar and run from a cmd line by calling a main function.  There are some tools that are written in R associated with the application that are distributed with the application.</p>\n<p>I'd like to enable calling the R scripts that are in the jar file from either the cmd line or from Java.</p>\n<p>How can I execute an R script from either the cmd line or Java when the R script is in a jar file (with out unzipping the jar file).</p>\n"},{"tags":["java","swing","jpanel","jtree"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1647132194,"post_id":71452041,"comment_id":126294946,"body_markdown":"What color and how is the color of each node determined? Also, *why?*","body":"What color and how is the color of each node determined? Also, <i>why?</i>"},{"owner":{"account_id":24322779,"reputation":1,"user_id":18262861,"display_name":"Moon Light"},"score":0,"creation_date":1647182772,"post_id":71452041,"comment_id":126301772,"body_markdown":"Nodes representing the logical and operation can be red, or the nodes representing the operation can be blue. We&#39;re trying to convert this tree to a foda chart, so we&#39;re going to colorize the and - or operations on the tree.","body":"Nodes representing the logical and operation can be red, or the nodes representing the operation can be blue. We&#39;re trying to convert this tree to a foda chart, so we&#39;re going to colorize the and - or operations on the tree."},{"owner":{"account_id":24322779,"reputation":1,"user_id":18262861,"display_name":"Moon Light"},"score":0,"creation_date":1647183073,"post_id":71452041,"comment_id":126301835,"body_markdown":"We want to build foda chart by using Jtree . We are going to convert Jtree to foda chart . In foda chart , there is  and - or - exclusive or operations. We are going to represent and -or operations by using colorful Jtree. and operations will represent red color , or operations represent blue color. Please help my code. I need a help. Thank you.","body":"We want to build foda chart by using Jtree . We are going to convert Jtree to foda chart . In foda chart , there is  and - or - exclusive or operations. We are going to represent and -or operations by using colorful Jtree. and operations will represent red color , or operations represent blue color. Please help my code. I need a help. Thank you."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1647183951,"post_id":71452041,"comment_id":126302047,"body_markdown":"I don&#39;t see anything [here](https://www.google.com/search?q=foda+chart&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;biw=1246&amp;bih=960&amp;dpr=1) that looks like a `JTree` or anything easily adaptable from a `JTree`. But whatevs.. If the objects being used as tree nodes encapsulate the information needed to distinguish between the two types, use a [`TreeCellRenderer`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/tree/TreeCellRenderer.html). At the top of those docs is a link to the relevant section of the tutorial.","body":"I don&#39;t see anything <a href=\"https://www.google.com/search?q=foda+chart&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;biw=1246&amp;bih=960&amp;dpr=1\" rel=\"nofollow noreferrer\">here</a> that looks like a <code>JTree</code> or anything easily adaptable from a <code>JTree</code>. But whatevs.. If the objects being used as tree nodes encapsulate the information needed to distinguish between the two types, use a <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/tree/TreeCellRenderer.html\" rel=\"nofollow noreferrer\"><code>TreeCellRenderer</code></a>. At the top of those docs is a link to the relevant section of the tutorial."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1647184168,"post_id":71452041,"comment_id":126302091,"body_markdown":"`jTree1MouseClicked` BTW - better to use a `TreeSelectionListener` rather than a `MouseListener`, for a `JTree`.","body":"<code>jTree1MouseClicked</code> BTW - better to use a <code>TreeSelectionListener</code> rather than a <code>MouseListener</code>, for a <code>JTree</code>."},{"owner":{"account_id":24322779,"reputation":1,"user_id":18262861,"display_name":"Moon Light"},"score":0,"creation_date":1647206286,"post_id":71452041,"comment_id":126307147,"body_markdown":"We couldn t find foda chart plotting tool.so We want to use jtree and We convert  it as a foda chart plotting tool. How can i colored  jtree &#39;s each node. Please  Write a useable code  for me.","body":"We couldn t find foda chart plotting tool.so We want to use jtree and We convert  it as a foda chart plotting tool. How can i colored  jtree &#39;s each node. Please  Write a useable code  for me."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1647212386,"post_id":71452041,"comment_id":126308220,"body_markdown":"Pleas edit your question to include new requirements; see also [_SWOT_](https://en.wikipedia.org/wiki/SWOT_analysis); I&#39;d use a grid or gridbag layout or a [tag:jfreechart] bubble plot.","body":"Pleas edit your question to include new requirements; see also <a href=\"https://en.wikipedia.org/wiki/SWOT_analysis\" rel=\"nofollow noreferrer\"><i>SWOT</i></a>; I&#39;d use a grid or gridbag layout or a <a href=\"https://stackoverflow.com/questions/tagged/jfreechart\">jfreechart</a> bubble plot."}],"owner":{"account_id":24322779,"reputation":1,"user_id":18262861,"display_name":"Moon Light"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647132078,"creation_date":1647108017,"question_id":71452041,"body_markdown":"Adding each node a different color when adding a new node to `JTree`.\r\n```\r\nimport javax.swing.tree.DefaultMutableTreeNode;\r\nimport javax.swing.tree.DefaultTreeModel;\r\nimport javax.swing.tree.TreeSelectionModel;\r\n\r\npublic class jtre extends javax.swing.JFrame {\r\n\r\n    public jtre() {\r\n        initComponents();\r\n    }\r\n\r\n    private void jButtonAddActionPerformed(java.awt.event.ActionEvent evt) {\r\n        DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) jTree1.getSelectionPath().getLastPathComponent();\r\n        DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(jTextField1.getText());\r\n        selectedNode.add(newNode);\r\n        DefaultTreeModel model = (DefaultTreeModel) jTree1.getModel();\r\n        model.reload();\r\n    }\r\n\r\n    private void jTree1MouseClicked(java.awt.event.MouseEvent evt) {\r\n        TreeSelectionModel smd = jTree1.getSelectionModel();\r\n        if (smd.getSelectionCount() &gt; 0) {\r\n            DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) jTree1.getSelectionPath().getLastPathComponent();\r\n            jTextField1.setText(selectedNode.getUserObject().toString());\r\n        }\r\n    }\r\n\r\n    private void jButtonEditActionPerformed(java.awt.event.ActionEvent evt) {\r\n        DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) jTree1.getSelectionPath().getLastPathComponent();\r\n        selectedNode.setUserObject(jTextField1.getText());\r\n        DefaultTreeModel model = (DefaultTreeModel) jTree1.getModel();\r\n        model.reload();\r\n    }\r\n\r\n    private void jButtonRemoveActionPerformed(java.awt.event.ActionEvent evt) {\r\n        DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) jTree1.getSelectionPath().getLastPathComponent();\r\n        if (selectedNode != jTree1.getModel().getRoot()) {\r\n            DefaultTreeModel model = (DefaultTreeModel) jTree1.getModel();\r\n            model.removeNodeFromParent(selectedNode);\r\n            model.reload();\r\n        }\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new jtre().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    private javax.swing.JButton jButtonAdd;\r\n    private javax.swing.JButton jButtonEdit;\r\n    private javax.swing.JButton jButtonRemove;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JTextField jTextField1;\r\n    private javax.swing.JTree jTree1;\r\n}\r\n```\r\nWhen the add button is clicked the new node of the tree will be added with a different color. How can I make it? \r\n      \r\n\r\n\r\n","title":"Adding each node a different color when adding a new node to JTree","body":"<p>Adding each node a different color when adding a new node to <code>JTree</code>.</p>\n<pre><code>import javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeModel;\nimport javax.swing.tree.TreeSelectionModel;\n\npublic class jtre extends javax.swing.JFrame {\n\n    public jtre() {\n        initComponents();\n    }\n\n    private void jButtonAddActionPerformed(java.awt.event.ActionEvent evt) {\n        DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) jTree1.getSelectionPath().getLastPathComponent();\n        DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(jTextField1.getText());\n        selectedNode.add(newNode);\n        DefaultTreeModel model = (DefaultTreeModel) jTree1.getModel();\n        model.reload();\n    }\n\n    private void jTree1MouseClicked(java.awt.event.MouseEvent evt) {\n        TreeSelectionModel smd = jTree1.getSelectionModel();\n        if (smd.getSelectionCount() &gt; 0) {\n            DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) jTree1.getSelectionPath().getLastPathComponent();\n            jTextField1.setText(selectedNode.getUserObject().toString());\n        }\n    }\n\n    private void jButtonEditActionPerformed(java.awt.event.ActionEvent evt) {\n        DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) jTree1.getSelectionPath().getLastPathComponent();\n        selectedNode.setUserObject(jTextField1.getText());\n        DefaultTreeModel model = (DefaultTreeModel) jTree1.getModel();\n        model.reload();\n    }\n\n    private void jButtonRemoveActionPerformed(java.awt.event.ActionEvent evt) {\n        DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) jTree1.getSelectionPath().getLastPathComponent();\n        if (selectedNode != jTree1.getModel().getRoot()) {\n            DefaultTreeModel model = (DefaultTreeModel) jTree1.getModel();\n            model.removeNodeFromParent(selectedNode);\n            model.reload();\n        }\n    }\n\n    public static void main(String args[]) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new jtre().setVisible(true);\n            }\n        });\n    }\n    private javax.swing.JButton jButtonAdd;\n    private javax.swing.JButton jButtonEdit;\n    private javax.swing.JButton jButtonRemove;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JTextField jTextField1;\n    private javax.swing.JTree jTree1;\n}\n</code></pre>\n<p>When the add button is clicked the new node of the tree will be added with a different color. How can I make it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1647124446,"post_id":71453147,"comment_id":126294333,"body_markdown":"Move `Random rand = new Random();` outside the loop. Never initialize `Random` in a loop. The default seed is based on the time. And modern computers are **fast**.","body":"Move <code>Random rand = new Random();</code> outside the loop. Never initialize <code>Random</code> in a loop. The default seed is based on the time. And modern computers are <b>fast</b>."}],"answers":[{"tags":[],"owner":{"account_id":24537002,"reputation":26,"user_id":18447954,"display_name":"Lucas C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647127117,"creation_date":1647126784,"answer_id":71453302,"question_id":71453147,"body_markdown":"If I understood correctly what you are trying to achieve, I think you could use something like this:\r\n\r\n```\r\npublic class RandomNumbers {\r\n\r\n    public static void main(String[] args) {\r\n        int[] winning_numbers = {0,0,0,0,0,0,0,0,0,0} ;\r\n        Random random = new Random();\r\n\r\n        for(int i = 0; i &lt; winning_numbers.length; i++) {\r\n            OptionalInt generatedInt = random.ints(1, 0, 100).findFirst(); // generates a stream of 1 number between 0 and 99 and gets the first (and only) one generated\r\n            while (contains(winning_numbers, generatedInt)) { \r\n                generatedInt = random.ints(1, 0, 100).findFirst(); // while the generated number is already in the array, generate a new one\r\n            }\r\n           winning_numbers[i] = generatedInt.getAsInt();\r\n        }\r\n        System.out.println(Arrays.toString(winning_numbers));\r\n    }\r\n\r\n    // this method will check if the given array already contains the generated int\r\n    private static boolean contains(int[] arr, OptionalInt generatedInt) {\r\n        return Arrays.stream(arr).anyMatch(number -&gt; generatedInt.getAsInt() == number);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI ran it a couple of times and here are some outputs I generated with this code:\r\n```\r\n[52, 54, 21, 62, 47, 13, 94, 36, 82, 25]\r\n[35, 37, 16, 81, 22, 71, 17, 94, 56, 8]\r\n[51, 50, 80, 62, 18, 88, 1, 53, 44, 79]\r\n[16, 95, 18, 66, 31, 4, 1, 55, 52, 26]\r\n[4, 11, 65, 68, 22, 76, 95, 67, 35, 92]\r\n[49, 87, 34, 88, 71, 57, 12, 76, 70, 78]\r\n```","title":"code for generating none repeating random numbers. Looks fine to me but when i run it gives me the same number","body":"<p>If I understood correctly what you are trying to achieve, I think you could use something like this:</p>\n<pre><code>public class RandomNumbers {\n\n    public static void main(String[] args) {\n        int[] winning_numbers = {0,0,0,0,0,0,0,0,0,0} ;\n        Random random = new Random();\n\n        for(int i = 0; i &lt; winning_numbers.length; i++) {\n            OptionalInt generatedInt = random.ints(1, 0, 100).findFirst(); // generates a stream of 1 number between 0 and 99 and gets the first (and only) one generated\n            while (contains(winning_numbers, generatedInt)) { \n                generatedInt = random.ints(1, 0, 100).findFirst(); // while the generated number is already in the array, generate a new one\n            }\n           winning_numbers[i] = generatedInt.getAsInt();\n        }\n        System.out.println(Arrays.toString(winning_numbers));\n    }\n\n    // this method will check if the given array already contains the generated int\n    private static boolean contains(int[] arr, OptionalInt generatedInt) {\n        return Arrays.stream(arr).anyMatch(number -&gt; generatedInt.getAsInt() == number);\n    }\n\n}\n</code></pre>\n<p>I ran it a couple of times and here are some outputs I generated with this code:</p>\n<pre><code>[52, 54, 21, 62, 47, 13, 94, 36, 82, 25]\n[35, 37, 16, 81, 22, 71, 17, 94, 56, 8]\n[51, 50, 80, 62, 18, 88, 1, 53, 44, 79]\n[16, 95, 18, 66, 31, 4, 1, 55, 52, 26]\n[4, 11, 65, 68, 22, 76, 95, 67, 35, 92]\n[49, 87, 34, 88, 71, 57, 12, 76, 70, 78]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647130508,"creation_date":1647127846,"answer_id":71453384,"question_id":71453147,"body_markdown":"It appears you want to generate an array of winning_numbers.  Here is one ways to do it.\r\n\r\n- create a helper method to look for duplicate numbers and return true if a duplicate is found.\r\n- then iterate over the array checking for the current random number and adding it if unique.\r\n- note that `min`, `max`, and `rand` should be initialized outside the loop.\r\n```\r\nRandom rand = new Random();\r\nint[] winning_nummbers = new int[10];\r\n\r\nint max = 99;\r\nint min = 1;\r\n\r\nfor (int i = 0; i &lt; 10;) {\r\n\r\n\tint randomNum = rand.nextInt((max - min) + 1) + min;\r\n    // if does not contain a duplicate, then assign\r\n\tif (!contains(winning_numbers, randomNum)) {\r\n\t\twinning_numbers[i++] = randomNum;\r\n\t}\r\n}\r\n\r\nSystem.out.println(Arrays.toString(winning_numbers));\r\n```\r\nPrints something like this.\r\n```\r\n[46, 91, 5, 2, 42, 58, 74, 24, 53, 36]\r\n```\t\r\nThe helper method.\r\n```\r\npublic static boolean contains(int[] array, int v) {\r\n\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\tif (array[i] == v) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n```\r\nIf you want to use streams you can do it like so using a `Random` instance.\r\n- stream values form `min` to `max` inclusive.\r\n- drop duplicates with distinct\r\n- limit(10) limits to 10 values.\r\n- put them in an array\r\n```\r\n\r\nint[] winning_numbers = rand.ints(min,max+1)\r\n                         .distinct()\r\n                         .limit(10)\r\n                         .toArray();\r\n\r\n\t\r\n","title":"code for generating none repeating random numbers. Looks fine to me but when i run it gives me the same number","body":"<p>It appears you want to generate an array of winning_numbers.  Here is one ways to do it.</p>\n<ul>\n<li>create a helper method to look for duplicate numbers and return true if a duplicate is found.</li>\n<li>then iterate over the array checking for the current random number and adding it if unique.</li>\n<li>note that <code>min</code>, <code>max</code>, and <code>rand</code> should be initialized outside the loop.</li>\n</ul>\n<pre><code>Random rand = new Random();\nint[] winning_nummbers = new int[10];\n\nint max = 99;\nint min = 1;\n\nfor (int i = 0; i &lt; 10;) {\n\n    int randomNum = rand.nextInt((max - min) + 1) + min;\n    // if does not contain a duplicate, then assign\n    if (!contains(winning_numbers, randomNum)) {\n        winning_numbers[i++] = randomNum;\n    }\n}\n\nSystem.out.println(Arrays.toString(winning_numbers));\n</code></pre>\n<p>Prints something like this.</p>\n<pre><code>[46, 91, 5, 2, 42, 58, 74, 24, 53, 36]\n</code></pre>\n<p>The helper method.</p>\n<pre><code>public static boolean contains(int[] array, int v) {\n    for (int i = 0; i &lt; array.length; i++) {\n        if (array[i] == v) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>If you want to use streams you can do it like so using a <code>Random</code> instance.</p>\n<ul>\n<li>stream values form <code>min</code> to <code>max</code> inclusive.</li>\n<li>drop duplicates with distinct</li>\n<li>limit(10) limits to 10 values.</li>\n<li>put them in an array</li>\n</ul>\n<pre><code>\nint[] winning_numbers = rand.ints(min,max+1)\n                         .distinct()\n                         .limit(10)\n                         .toArray();\n\n    \n</code></pre>\n"}],"owner":{"account_id":24538769,"reputation":29,"user_id":18449424,"display_name":"IPCZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647130508,"creation_date":1647123467,"question_id":71453147,"body_markdown":"```\r\nimport java.util.Random;\r\n\r\npublic class Practice_assignment {\r\n    public static void main(String[] args){\r\n\r\n        int[] winning_numbers = {0,0,0,0,0,0,0,0,0,0} ;\r\n\r\n        //The i++ for the first loop is in the second loop. I was trying to ensure it only goes to \r\n          the next value of the loop once a unique value has been gotten.\r\n        for (int i=0; i&lt;10;){\r\n            int max = 99;\r\n            int min = 1;\r\n            Random rand = new Random();\r\n            int randomNum = rand.nextInt((max - min) + 1) + min;\r\n            for (int j=0;j&lt;=i;j++){\r\n                if (j&lt;i &amp;&amp; winning_numbers[j]==randomNum){\r\n                    break;\r\n                }\r\n                else if (j==i &amp;&amp; i&lt;10){\r\n                    winning_numbers[i] = randomNum;\r\n                    System.out.println(winning_numbers[i]+&quot; &quot;);\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","title":"code for generating none repeating random numbers. Looks fine to me but when i run it gives me the same number","body":"<pre><code>import java.util.Random;\n\npublic class Practice_assignment {\n    public static void main(String[] args){\n\n        int[] winning_numbers = {0,0,0,0,0,0,0,0,0,0} ;\n\n        //The i++ for the first loop is in the second loop. I was trying to ensure it only goes to \n          the next value of the loop once a unique value has been gotten.\n        for (int i=0; i&lt;10;){\n            int max = 99;\n            int min = 1;\n            Random rand = new Random();\n            int randomNum = rand.nextInt((max - min) + 1) + min;\n            for (int j=0;j&lt;=i;j++){\n                if (j&lt;i &amp;&amp; winning_numbers[j]==randomNum){\n                    break;\n                }\n                else if (j==i &amp;&amp; i&lt;10){\n                    winning_numbers[i] = randomNum;\n                    System.out.println(winning_numbers[i]+&quot; &quot;);\n                    i++;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jsp","model-view-controller"],"comments":[{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1647131627,"post_id":71453487,"comment_id":126294865,"body_markdown":"this is a spring boot project not spring mvc","body":"this is a spring boot project not spring mvc"},{"owner":{"account_id":23774411,"reputation":1,"user_id":17788082,"display_name":"Waffle"},"score":0,"creation_date":1647192401,"post_id":71453487,"comment_id":126304185,"body_markdown":"Thanks a lot for your reply Med. Anyway, I have solved my problem, it was because I opened the project in the wrong way, the settings were correct anyway.","body":"Thanks a lot for your reply Med. Anyway, I have solved my problem, it was because I opened the project in the wrong way, the settings were correct anyway."}],"owner":{"account_id":23774411,"reputation":1,"user_id":17788082,"display_name":"Waffle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647130268,"creation_date":1647130268,"question_id":71453487,"body_markdown":"I have been studying Spring MVC recently and got everything worked really well until I tried to use .jsp file as my view page.\r\n\r\n&gt; I have swiped through lots of page on how to import .jsp file into\r\n&gt; Spring project but the program still return as a Whitelabel Error\r\n&gt; Page, although I have tried putting my **webapp** folder in any\r\n&gt; direction. *Is there any way to fix my problem? Mine has almost the\r\n&gt; same with anyone else but didn&#39;t work correctly like everyone did. I&#39;m\r\n&gt; really appreciate if ya all solve this problem for me. :(*\r\n\r\nHere is what I have in my tiny project:\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/jstl/jstl\r\n    \t\t\t! This is for using JSP\r\n    \t\t--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper\r\n    \t\t\t! This is Tomcat, ofc\r\n    \t\t--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.0.56&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core\r\n    \t\t\t! Tomcat embed\r\n    \t\t--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.0.58&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper\r\n    \t\t &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;10.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt; --&gt;\r\n    \r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**application.properties**\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/test_db\r\n    spring.datasource.username=root\r\n    spring.datasource.password=1234\r\n    \r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    \r\n    spring.mvc.view.prefix= /WEB-INF/jsp/\r\n    spring.mvc.view.suffix= .jsp\r\n\r\n**DemoApplication.java**\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n**CategoryController.java**\r\n\r\n    package com.example.demo.Controller;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    @Controller\r\n    @RequestMapping(path = &quot;categories&quot;)\r\n    public class CategoryController {\r\n        \r\n        // http://localhost:8080/categories/\r\n        @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\r\n        public String getAllCategories(ModelMap modelMap) {\r\n    \r\n            System.out.println(&quot;PLEASE BE WORKING!!!&quot;);\r\n            // Add this point when I sent a request to this URL, the program still Sysout the words for me, but the web page didn&#39;t show the category.jsp content.\r\n\r\n            return &quot;category&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n**category.jsp (This file is in src/main/webapp/WEB-INF/jsp/category.jsp)**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;title&gt;Category List&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;List of Category&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Couldn&#39;t load JSP file in Spring MVC project","body":"<p>I have been studying Spring MVC recently and got everything worked really well until I tried to use .jsp file as my view page.</p>\n<blockquote>\n<p>I have swiped through lots of page on how to import .jsp file into\nSpring project but the program still return as a Whitelabel Error\nPage, although I have tried putting my <strong>webapp</strong> folder in any\ndirection. <em>Is there any way to fix my problem? Mine has almost the\nsame with anyone else but didn't work correctly like everyone did. I'm\nreally appreciate if ya all solve this problem for me. :(</em></p>\n</blockquote>\n<p>Here is what I have in my tiny project:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n\n\n\n        &lt;!-- https://mvnrepository.com/artifact/jstl/jstl\n            ! This is for using JSP\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper\n            ! This is Tomcat, ofc\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n            &lt;version&gt;9.0.56&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core\n            ! Tomcat embed\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n            &lt;version&gt;9.0.58&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n         &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;10.0.2&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/test_db\nspring.datasource.username=root\nspring.datasource.password=1234\n\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.jpa.properties.hibernate.format_sql=true\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.mvc.view.prefix= /WEB-INF/jsp/\nspring.mvc.view.suffix= .jsp\n</code></pre>\n<p><strong>DemoApplication.java</strong></p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>CategoryController.java</strong></p>\n<pre><code>package com.example.demo.Controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@Controller\n@RequestMapping(path = &quot;categories&quot;)\npublic class CategoryController {\n    \n    // http://localhost:8080/categories/\n    @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\n    public String getAllCategories(ModelMap modelMap) {\n\n        System.out.println(&quot;PLEASE BE WORKING!!!&quot;);\n        // Add this point when I sent a request to this URL, the program still Sysout the words for me, but the web page didn't show the category.jsp content.\n\n        return &quot;category&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>category.jsp (This file is in src/main/webapp/WEB-INF/jsp/category.jsp)</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;Category List&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;List of Category&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","multithreading","collections","concurrency","hashmap"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":4,"creation_date":1415901404,"post_id":26915079,"comment_id":42379428,"body_markdown":"@Mureinik&#39;s answer is a specific example of a more general principle:  Building a system entirely out of thread-safe components does nothing to make the system as a whole thread safe.","body":"@Mureinik&#39;s answer is a specific example of a more general principle:  Building a system entirely out of thread-safe components does nothing to make the system as a whole thread safe."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1415900838,"creation_date":1415900838,"answer_id":26915137,"question_id":26915079,"body_markdown":"`put` and `get` are thread safe in the sense that calling them from different threads cannot corrupt the data structure (as, e.g., is possible with a normal `java.util.HashMap`).\r\n\r\nHowever, since the block is not synchronized, you may still have multiple threads adding the same key:\r\nBoth threads may pass the `null` check, one adds the key and returns its value, and then the second will override that value with a new one and returns it.","title":"Cache using ConcurrentHashMap","body":"<p><code>put</code> and <code>get</code> are thread safe in the sense that calling them from different threads cannot corrupt the data structure (as, e.g., is possible with a normal <code>java.util.HashMap</code>).</p>\n\n<p>However, since the block is not synchronized, you may still have multiple threads adding the same key:\nBoth threads may pass the <code>null</code> check, one adds the key and returns its value, and then the second will override that value with a new one and returns it.</p>\n"},{"tags":[],"owner":{"account_id":5314084,"reputation":737,"user_id":4239498,"display_name":"Denis Borovikov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415904644,"creation_date":1415904644,"answer_id":26916234,"question_id":26915079,"body_markdown":"&gt;could multiple threads add a the same key twice?\r\n\r\nYes, they could. To fix this problem you can:\r\n\r\n1) Use `putIfAbsent` method instead of put. It very fast but unnecessary SomeObject instances can be created.\r\n\r\n2) Use double checked locking:\r\n\r\n    Object value = map.get(key);\r\n\tif (value == null) {\r\n\t\tsynchronized (map) {\r\n\t\t\tvalue = map.get(key);\r\n\t\t\tif (value == null) {\r\n\t\t\t\tvalue = new SomeObject();\r\n\t\t\t\tmap.put(key, value);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn value;\r\n\r\nLock is much slower, but only necessary objects will be created","title":"Cache using ConcurrentHashMap","body":"<blockquote>\n  <p>could multiple threads add a the same key twice?</p>\n</blockquote>\n\n<p>Yes, they could. To fix this problem you can:</p>\n\n<p>1) Use <code>putIfAbsent</code> method instead of put. It very fast but unnecessary SomeObject instances can be created.</p>\n\n<p>2) Use double checked locking:</p>\n\n<pre><code>Object value = map.get(key);\nif (value == null) {\n    synchronized (map) {\n        value = map.get(key);\n        if (value == null) {\n            value = new SomeObject();\n            map.put(key, value);\n        }\n    }\n}\nreturn value;\n</code></pre>\n\n<p>Lock is much slower, but only necessary objects will be created</p>\n"},{"tags":[],"owner":{"account_id":978760,"reputation":1422,"user_id":999043,"accept_rate":83,"display_name":"Ralf H"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647128855,"creation_date":1415923313,"answer_id":26920728,"question_id":26915079,"body_markdown":"you could also combine checking and putIfAbsent such as:\r\n\r\n    Object value = map.get(key);\r\n    if (value == null) {\r\n        return map.putIfAbsent(key, new SomeObject());\r\n    }\r\n    return value;\r\n\r\nthereby reducing the unneccessary new objects to cases where new entries are introduced in the short time between the check and the putIfAbsent. \r\n\r\nIf you are feeling lucky and reads vastly outnumber writes to your map, you can also create your own copy-on-write map similar to CopyOnWriteArrayList. ","title":"Cache using ConcurrentHashMap","body":"<p>you could also combine checking and putIfAbsent such as:</p>\n<pre><code>Object value = map.get(key);\nif (value == null) {\n    return map.putIfAbsent(key, new SomeObject());\n}\nreturn value;\n</code></pre>\n<p>thereby reducing the unneccessary new objects to cases where new entries are introduced in the short time between the check and the putIfAbsent.</p>\n<p>If you are feeling lucky and reads vastly outnumber writes to your map, you can also create your own copy-on-write map similar to CopyOnWriteArrayList.</p>\n"},{"tags":[],"owner":{"account_id":2678092,"reputation":1134,"user_id":2313984,"display_name":"AndrWeisR"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1547178566,"creation_date":1547178566,"answer_id":54140147,"question_id":26915079,"body_markdown":"As of Java 8, you can also prevent this addition of duplicate keys with:\r\n\r\n```\r\npublic class Cache {\r\n\r\n    private final Map map = new ConcurrentHashMap();\r\n\r\n    public Object get(Object key) {\r\n\r\n        Object value = map.computeIfAbsent(key, (key) -&gt; {\r\n          return new SomeObject();\r\n        });\r\n\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nThe [API docs][1] state:\r\n\r\n&gt; If the specified key is not already associated with a value, attempts\r\n&gt; to compute its value using the given mapping function and enters it\r\n&gt; into this map unless null. **The entire method invocation is performed\r\n&gt; atomically, so the function is applied at most once per key**. Some\r\n&gt; attempted update operations on this map by other threads may be\r\n&gt; blocked while computation is in progress, so the computation should be\r\n&gt; short and simple, and must not attempt to update any other mappings of\r\n&gt; this map.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-","title":"Cache using ConcurrentHashMap","body":"<p>As of Java 8, you can also prevent this addition of duplicate keys with:</p>\n\n<pre><code>public class Cache {\n\n    private final Map map = new ConcurrentHashMap();\n\n    public Object get(Object key) {\n\n        Object value = map.computeIfAbsent(key, (key) -&gt; {\n          return new SomeObject();\n        });\n\n        return value;\n    }\n}\n</code></pre>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"noreferrer\">API docs</a> state:</p>\n\n<blockquote>\n  <p>If the specified key is not already associated with a value, attempts\n  to compute its value using the given mapping function and enters it\n  into this map unless null. <strong>The entire method invocation is performed\n  atomically, so the function is applied at most once per key</strong>. Some\n  attempted update operations on this map by other threads may be\n  blocked while computation is in progress, so the computation should be\n  short and simple, and must not attempt to update any other mappings of\n  this map.</p>\n</blockquote>\n"}],"owner":{"account_id":342830,"reputation":2662,"user_id":674188,"accept_rate":55,"display_name":"CCC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18289,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":26915137,"answer_count":4,"score":12,"last_activity_date":1647128855,"creation_date":1415900591,"question_id":26915079,"body_markdown":"I have the following code:\r\n\r\n    public class Cache {\r\n    \r\n        private final Map map = new ConcurrentHashMap();\r\n    \r\n        public Object get(Object key) {\r\n    \r\n            Object value = map.get(key);\r\n            if (value == null) {\r\n                value = new SomeObject();\r\n                map.put(key, value);\r\n            }\r\n    \r\n            return value;\r\n        }\r\n    }\r\n\r\nMy question is:\r\nThe `put` and `get` methods of the map are thread safe, but since the whole block in not synchronized - could multiple threads add a the same key twice? ","title":"Cache using ConcurrentHashMap","body":"<p>I have the following code:</p>\n\n<pre><code>public class Cache {\n\n    private final Map map = new ConcurrentHashMap();\n\n    public Object get(Object key) {\n\n        Object value = map.get(key);\n        if (value == null) {\n            value = new SomeObject();\n            map.put(key, value);\n        }\n\n        return value;\n    }\n}\n</code></pre>\n\n<p>My question is:\nThe <code>put</code> and <code>get</code> methods of the map are thread safe, but since the whole block in not synchronized - could multiple threads add a the same key twice? </p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1647101427,"post_id":71450964,"comment_id":126291037,"body_markdown":"Minor note on wording: &quot;alphabet&quot; is the whole thing from &quot;abc...&quot; to &quot;...xyz&quot;. A single element of an alphabet is a letter (there&#39;s also &quot;character&quot; which is wider and includes digits). So you want to remove adjacent letters from the string.","body":"Minor note on wording: &quot;alphabet&quot; is the whole thing from &quot;abc...&quot; to &quot;...xyz&quot;. A single element of an alphabet is a letter (there&#39;s also &quot;character&quot; which is wider and includes digits). So you want to remove adjacent letters from the string."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1647106686,"post_id":71450964,"comment_id":126292267,"body_markdown":"What&#39;s the rule for the DCB to D transformation?  Couldn&#39;t it just as easily be DCB to B?","body":"What&#39;s the rule for the DCB to D transformation?  Couldn&#39;t it just as easily be DCB to B?"}],"answers":[{"tags":[],"owner":{"account_id":24537002,"reputation":26,"user_id":18447954,"display_name":"Lucas C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647128462,"creation_date":1647100958,"answer_id":71451108,"question_id":71450964,"body_markdown":"**EDIT:** I had misunderstood the question at first... here&#39;s the updated version. It became a little complex, but couldn&#39;t find a simpler way to do it:\r\n\r\n```\r\npublic class StringTransformation {\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;XCDCDY&quot;;\r\n        String sequenceToRemove = getSequenceToRemove(input);\r\n        String remainingChars = input;\r\n        System.out.println(remainingChars);\r\n\r\n        while (isTransformable(remainingChars, sequenceToRemove) &amp;&amp; remainingChars.contains(sequenceToRemove) &amp;&amp; sequenceToRemove.length() &gt; 1) {\r\n            String tmp = remainingChars.replaceFirst(sequenceToRemove, &quot;&quot;);\r\n            remainingChars = tmp;\r\n            sequenceToRemove = getSequenceToRemove(remainingChars);\r\n            System.out.println(remainingChars);\r\n        }\r\n        System.out.println(&quot;cant be transformed further&quot;);\r\n    }\r\n\r\n    public static boolean isTransformable(String input, String toBeRemoved) {\r\n        if (input.replace(toBeRemoved, &quot;&quot;).length() &gt;= 1) {\r\n            return true;\r\n        } else if (input.length() == 2 &amp;&amp; input.contentEquals(toBeRemoved)) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static String getSequenceToRemove(String characters) {\r\n        char[] chars = characters.toCharArray();\r\n        StringBuilder tmpString = new StringBuilder();\r\n        int index = 1;\r\n        for (char ch : chars) {\r\n            if (chars.length &gt; index) {\r\n                if (chars[index] - ch == 1 &amp;&amp; tmpString.length() &lt; 2) {\r\n                    tmpString.append(ch);\r\n                    tmpString.append(chars[index]);\r\n                }\r\n                if (tmpString.length() == 2) {\r\n                   break;\r\n                }\r\n            } else if (chars.length == 2 &amp;&amp; chars[1] - chars[0] == 1) {\r\n                tmpString = new StringBuilder(chars[0] + String.valueOf(chars[1]));\r\n                break;\r\n            }\r\n            index++;\r\n        }\r\n        return tmpString.toString();\r\n    }\r\n}\r\n```\r\n\r\nThis code will output:\r\n```\r\nXCDCDY\r\nXCDY\r\nXY\r\n\r\ncant be transformed further\r\n```\r\n\r\nBasically the logic behind it is that if you have a sequence like **&#39;AB&#39;**, **B** minus **A** will be equal 1, because of the ANSI values for each character.\r\nThe ANSI value of B is 66 and A is 65.","title":"how to remove adjacent alphabets from string?","body":"<p><strong>EDIT:</strong> I had misunderstood the question at first... here's the updated version. It became a little complex, but couldn't find a simpler way to do it:</p>\n<pre><code>public class StringTransformation {\n\n    public static void main(String[] args) {\n        String input = &quot;XCDCDY&quot;;\n        String sequenceToRemove = getSequenceToRemove(input);\n        String remainingChars = input;\n        System.out.println(remainingChars);\n\n        while (isTransformable(remainingChars, sequenceToRemove) &amp;&amp; remainingChars.contains(sequenceToRemove) &amp;&amp; sequenceToRemove.length() &gt; 1) {\n            String tmp = remainingChars.replaceFirst(sequenceToRemove, &quot;&quot;);\n            remainingChars = tmp;\n            sequenceToRemove = getSequenceToRemove(remainingChars);\n            System.out.println(remainingChars);\n        }\n        System.out.println(&quot;cant be transformed further&quot;);\n    }\n\n    public static boolean isTransformable(String input, String toBeRemoved) {\n        if (input.replace(toBeRemoved, &quot;&quot;).length() &gt;= 1) {\n            return true;\n        } else if (input.length() == 2 &amp;&amp; input.contentEquals(toBeRemoved)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public static String getSequenceToRemove(String characters) {\n        char[] chars = characters.toCharArray();\n        StringBuilder tmpString = new StringBuilder();\n        int index = 1;\n        for (char ch : chars) {\n            if (chars.length &gt; index) {\n                if (chars[index] - ch == 1 &amp;&amp; tmpString.length() &lt; 2) {\n                    tmpString.append(ch);\n                    tmpString.append(chars[index]);\n                }\n                if (tmpString.length() == 2) {\n                   break;\n                }\n            } else if (chars.length == 2 &amp;&amp; chars[1] - chars[0] == 1) {\n                tmpString = new StringBuilder(chars[0] + String.valueOf(chars[1]));\n                break;\n            }\n            index++;\n        }\n        return tmpString.toString();\n    }\n}\n</code></pre>\n<p>This code will output:</p>\n<pre><code>XCDCDY\nXCDY\nXY\n\ncant be transformed further\n</code></pre>\n<p>Basically the logic behind it is that if you have a sequence like <strong>'AB'</strong>, <strong>B</strong> minus <strong>A</strong> will be equal 1, because of the ANSI values for each character.\nThe ANSI value of B is 66 and A is 65.</p>\n"}],"owner":{"account_id":23516184,"reputation":337,"user_id":17564051,"display_name":"Oxana Grey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1647174063,"answer_count":1,"score":-1,"last_activity_date":1647128462,"creation_date":1647099849,"question_id":71450964,"body_markdown":"remove all two sequenced alphabets from sequence, and leave with the least where no more combination can be removed\r\n\r\nFor example\r\n\r\n    XCDCDY  -&gt; XCDY &gt; XY &gt; empty  (cant be transformed further)\r\n    \r\n    DCBDE  -&gt; DCB &gt; D (cant be transformed further)\r\n\r\nany suggestions or ideas please to solve this problem. Not able to think how alphabets sequence can be handled programmatically. ","title":"how to remove adjacent alphabets from string?","body":"<p>remove all two sequenced alphabets from sequence, and leave with the least where no more combination can be removed</p>\n<p>For example</p>\n<pre><code>XCDCDY  -&gt; XCDY &gt; XY &gt; empty  (cant be transformed further)\n\nDCBDE  -&gt; DCB &gt; D (cant be transformed further)\n</code></pre>\n<p>any suggestions or ideas please to solve this problem. Not able to think how alphabets sequence can be handled programmatically.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3214803,"reputation":531,"user_id":2846307,"display_name":"almac777"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647119337,"creation_date":1647118889,"answer_id":71452826,"question_id":71452739,"body_markdown":"# Problem\r\n\r\nYou run into a problem due to the fact how the program evaluates your boolean expressions. Remember the rules for boolean precedence. `&amp;&amp;` is evaluated first and takes precedence. Also, the formula is evaluated from left to right. Operator precedence can be overruled with the correct setting of parentheses.\r\n\r\nE.g. if you have `a &amp;&amp; b || c`, `a &amp;&amp; b` is evaluated first, after which we evaluate its result against `|| c`. But: `a &amp;&amp; (b || c)` is evaluated by first evaluating `b || c` and then evaluating this result against `&amp;&amp; a`. \r\n\r\nIn your case, when you enter e.g. `month = 4` and `year = 2020` the following happens:\r\n\r\n- The rule `n1` is skipped - `month` is not listed.\r\n- The rule `n2` is evaluated - `month` is not equals to two and the year is not divisible by `400`; so far everything goes to plan. But now - the next `||` comes around to bite you. The `year` is divisible by 4 AND it is not divisible by 100. The program now incorrectly prints `29`.\r\n- The rules `n3` and `n4` are solved like `n2` and are left as an exercise for the reader :)\r\n\r\n# Solution\r\n\r\nEasiest way is to understand why `n2` is failing and optimize the formula. Since this is a homework task I don&#39;t want to solve it for you.\r\n\r\n# General\r\n\r\n- One scanner instance on `System.in` is enough.\r\n- Your variable names should follow the [Java naming convention][1], `lowerCaseCamelCase` instead of `snake_case` and `N1`.\r\n\r\n## Parting thought\r\n\r\nTry using a `switch` statement on `month` - it will make your code a bit easier to understand. Finally: Good luck in your studies.\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"I am using Boolean variables to print the number of days in a calendar days. The outputs aren&#39;t what I am expecting","body":"<h1>Problem</h1>\n<p>You run into a problem due to the fact how the program evaluates your boolean expressions. Remember the rules for boolean precedence. <code>&amp;&amp;</code> is evaluated first and takes precedence. Also, the formula is evaluated from left to right. Operator precedence can be overruled with the correct setting of parentheses.</p>\n<p>E.g. if you have <code>a &amp;&amp; b || c</code>, <code>a &amp;&amp; b</code> is evaluated first, after which we evaluate its result against <code>|| c</code>. But: <code>a &amp;&amp; (b || c)</code> is evaluated by first evaluating <code>b || c</code> and then evaluating this result against <code>&amp;&amp; a</code>.</p>\n<p>In your case, when you enter e.g. <code>month = 4</code> and <code>year = 2020</code> the following happens:</p>\n<ul>\n<li>The rule <code>n1</code> is skipped - <code>month</code> is not listed.</li>\n<li>The rule <code>n2</code> is evaluated - <code>month</code> is not equals to two and the year is not divisible by <code>400</code>; so far everything goes to plan. But now - the next <code>||</code> comes around to bite you. The <code>year</code> is divisible by 4 AND it is not divisible by 100. The program now incorrectly prints <code>29</code>.</li>\n<li>The rules <code>n3</code> and <code>n4</code> are solved like <code>n2</code> and are left as an exercise for the reader :)</li>\n</ul>\n<h1>Solution</h1>\n<p>Easiest way is to understand why <code>n2</code> is failing and optimize the formula. Since this is a homework task I don't want to solve it for you.</p>\n<h1>General</h1>\n<ul>\n<li>One scanner instance on <code>System.in</code> is enough.</li>\n<li>Your variable names should follow the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming convention</a>, <code>lowerCaseCamelCase</code> instead of <code>snake_case</code> and <code>N1</code>.</li>\n</ul>\n<h2>Parting thought</h2>\n<p>Try using a <code>switch</code> statement on <code>month</code> - it will make your code a bit easier to understand. Finally: Good luck in your studies.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647128340,"creation_date":1647123807,"answer_id":71453176,"question_id":71452739,"body_markdown":"In your existing code make the following changes.\r\n\r\nthis checks for leap year.\r\n- if it is divisible by 4 and not a century year, its is a leap year\r\n- or if is divisible by 400 it is a leap year.\r\n- otherwise, it isn&#39;t.\r\n```\r\nboolean N2 =  (year %4 == 0 &amp;&amp; year %100 != 0) || (year % 400 == 0);\r\n```\r\nNow just use the negation of the boolean to test for non leap year.\r\n```   \r\nif (N1)\r\n\tSystem.out.println(&quot;. This month has 31 days&quot;);\r\nelse if (N4) {\r\n\tSystem.out.println(&quot;. This month has 30 days&quot;);\r\n} else if (month == 2) {\r\n\tboolean N2 = (year %4 == 0 &amp;&amp; year %100 != 0) || (year % 400 == 0);\r\n\tif (N2) {\r\n\t\tSystem.out.println(&quot;This month has 29 days&quot;);\r\n\t} else {// must not be leap year.\r\n\t\tSystem.out.println(&quot;This month has 28 days&quot;);\r\n\t}\r\n} else {\r\n\tSystem.out.printf(&quot;Bad month(%d) entered&quot;, month);\r\n}\r\n```\r\n- Also, you should only use one Scanner for all console input.\r\n\r\n**An alternative approach**\r\n\r\nIn case you didn&#39;t know, the `enhanced switch statement` introduced in Java 13 would be perfect for this.\r\n- it takes multiple cases\r\n- and returns an argument for processing.\r\n```\r\npublic class Q11 {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the month (1-12)&quot;);\r\n        int month = scanner.nextInt();\r\n\r\n        System.out.println(&quot;Enter the year&quot;);\r\n        int year = scanner.nextInt();\r\n\r\n        boolean isLeapYear =  (year %4 == 0 &amp;&amp; year %100 != 0) || (year % 400 == 0);\r\n        String proclamation = switch(month) {\r\n        \tcase 1,3,5,7,8,10,12 -&gt; &quot;This month has 31 days.&quot;;\r\n        \tcase 4,6,9,11 -&gt; &quot;This month has 30 days&quot;;\r\n        \tcase 2 -&gt; &quot;This month has %d days&quot;.formatted(isLeapYear ? 29 : 28);\r\n        \tdefault -&gt; &quot;Bad month (%d) entered.&quot;.formatted(month);\r\n        };   \r\n        System.out.println(proclamation);\r\n    }\r\n}\r\n","title":"I am using Boolean variables to print the number of days in a calendar days. The outputs aren&#39;t what I am expecting","body":"<p>In your existing code make the following changes.</p>\n<p>this checks for leap year.</p>\n<ul>\n<li>if it is divisible by 4 and not a century year, its is a leap year</li>\n<li>or if is divisible by 400 it is a leap year.</li>\n<li>otherwise, it isn't.</li>\n</ul>\n<pre><code>boolean N2 =  (year %4 == 0 &amp;&amp; year %100 != 0) || (year % 400 == 0);\n</code></pre>\n<p>Now just use the negation of the boolean to test for non leap year.</p>\n<pre><code>if (N1)\n    System.out.println(&quot;. This month has 31 days&quot;);\nelse if (N4) {\n    System.out.println(&quot;. This month has 30 days&quot;);\n} else if (month == 2) {\n    boolean N2 = (year %4 == 0 &amp;&amp; year %100 != 0) || (year % 400 == 0);\n    if (N2) {\n        System.out.println(&quot;This month has 29 days&quot;);\n    } else {// must not be leap year.\n        System.out.println(&quot;This month has 28 days&quot;);\n    }\n} else {\n    System.out.printf(&quot;Bad month(%d) entered&quot;, month);\n}\n</code></pre>\n<ul>\n<li>Also, you should only use one Scanner for all console input.</li>\n</ul>\n<p><strong>An alternative approach</strong></p>\n<p>In case you didn't know, the <code>enhanced switch statement</code> introduced in Java 13 would be perfect for this.</p>\n<ul>\n<li>it takes multiple cases</li>\n<li>and returns an argument for processing.</li>\n</ul>\n<pre><code>public class Q11 {\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter the month (1-12)&quot;);\n        int month = scanner.nextInt();\n\n        System.out.println(&quot;Enter the year&quot;);\n        int year = scanner.nextInt();\n\n        boolean isLeapYear =  (year %4 == 0 &amp;&amp; year %100 != 0) || (year % 400 == 0);\n        String proclamation = switch(month) {\n            case 1,3,5,7,8,10,12 -&gt; &quot;This month has 31 days.&quot;;\n            case 4,6,9,11 -&gt; &quot;This month has 30 days&quot;;\n            case 2 -&gt; &quot;This month has %d days&quot;.formatted(isLeapYear ? 29 : 28);\n            default -&gt; &quot;Bad month (%d) entered.&quot;.formatted(month);\n        };   \n        System.out.println(proclamation);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24389177,"reputation":7,"user_id":18319402,"display_name":"Precious Jose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1647128340,"creation_date":1647116983,"question_id":71452739,"body_markdown":"**I am trying to write a program which shows the number of days in a given month of a year. The outputs for the month of February, non leap years (no output) and the months having 30 days in leap years is incorrect (output is 29). How could I resolve this?** \r\n\r\n```java\r\npublic class Q11 {\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n        Scanner number1 = new Scanner(System.in);\r\n        Scanner number2 = new Scanner(System.in);\r\n\r\n\r\n        System.out.println(&quot;Enter the month (1-12)&quot;);\r\n        int month = number1.nextInt();\r\n\r\n        System.out.println(&quot;Enter the year&quot;);\r\n        int year = number2.nextInt();\r\n\r\n        int number_of_days = 0;\r\n\r\n\r\n        boolean N1 = (month == 1) ||\r\n                (month == 3) ||\r\n                (month == 5) ||\r\n                (month == 7) ||\r\n                (month == 8) ||\r\n                (month == 10) ||\r\n                (month == 12);\r\n        boolean N2 = (month == 2) &amp;&amp; (year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0);\r\n        boolean N3 = (month == 2) &amp;&amp; (year % 400 &lt;= 1) || (year % 4 &lt;= 1) &amp;&amp; (year % 100 == 0);\r\n        boolean N4 = (month == 4) ||\r\n                (month == 6) ||\r\n                (month == 9) ||\r\n                (month == 11);\r\n\r\n        if (N1)\r\n            System.out.println(&quot;. This month has 31 days&quot;);\r\n        else if (N2)\r\n            System.out.println(&quot;. This month has 29 days&quot;);\r\n        else if (N3)\r\n            System.out.println(&quot;. This month has 28 days&quot;);\r\n        else if (N4)\r\n            System.out.println(&quot;. This month has 30 days&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\n ","title":"I am using Boolean variables to print the number of days in a calendar days. The outputs aren&#39;t what I am expecting","body":"<p><strong>I am trying to write a program which shows the number of days in a given month of a year. The outputs for the month of February, non leap years (no output) and the months having 30 days in leap years is incorrect (output is 29). How could I resolve this?</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Q11 {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner number1 = new Scanner(System.in);\n        Scanner number2 = new Scanner(System.in);\n\n\n        System.out.println(&quot;Enter the month (1-12)&quot;);\n        int month = number1.nextInt();\n\n        System.out.println(&quot;Enter the year&quot;);\n        int year = number2.nextInt();\n\n        int number_of_days = 0;\n\n\n        boolean N1 = (month == 1) ||\n                (month == 3) ||\n                (month == 5) ||\n                (month == 7) ||\n                (month == 8) ||\n                (month == 10) ||\n                (month == 12);\n        boolean N2 = (month == 2) &amp;&amp; (year % 400 == 0) || (year % 4 == 0 &amp;&amp; year % 100 != 0);\n        boolean N3 = (month == 2) &amp;&amp; (year % 400 &lt;= 1) || (year % 4 &lt;= 1) &amp;&amp; (year % 100 == 0);\n        boolean N4 = (month == 4) ||\n                (month == 6) ||\n                (month == 9) ||\n                (month == 11);\n\n        if (N1)\n            System.out.println(&quot;. This month has 31 days&quot;);\n        else if (N2)\n            System.out.println(&quot;. This month has 29 days&quot;);\n        else if (N3)\n            System.out.println(&quot;. This month has 28 days&quot;);\n        else if (N4)\n            System.out.println(&quot;. This month has 30 days&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1647123797,"post_id":71453154,"comment_id":126294234,"body_markdown":"this isn&#39;t returning anything.  You need to show a [mcve]","body":"this isn&#39;t returning anything.  You need to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":15106724,"reputation":508,"user_id":16163044,"display_name":"Sandro J"},"score":1,"creation_date":1647123844,"post_id":71453154,"comment_id":126294238,"body_markdown":"Please, just think more... You don&#39;t need stackoverflow to understand basic `for loop`s.","body":"Please, just think more... You don&#39;t need stackoverflow to understand basic <code>for loop</code>s."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1647124152,"post_id":71453154,"comment_id":126294281,"body_markdown":"You&#39;re not accounting for the case where i==j. The first character avoids that case because j starts at 1.","body":"You&#39;re not accounting for the case where i==j. The first character avoids that case because j starts at 1."}],"answers":[{"tags":[],"owner":{"account_id":4262867,"reputation":405,"user_id":3486775,"display_name":"davidpace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647124732,"creation_date":1647124732,"answer_id":71453255,"question_id":71453154,"body_markdown":"Your inner loop needs to start at `i + 1` instead of the hardcoded value `1`:\r\n\r\n```\r\nchar[] charArray = &quot;abcdabce&quot;.toCharArray();\r\n        \r\nfor (int i = 0; i &lt; charArray.length; i++)\r\n{\r\n    // check if a space was already inserted at this index\r\n    if (charArray[i] == &#39; &#39;)\r\n        continue;\r\n            \r\n    // check all remaining characters\r\n    for (int j = i + 1; j &lt; charArray.length; j++)\r\n    {\r\n        if (charArray[i] == charArray[j])\r\n        {\r\n            charArray[j] = &#39; &#39;;\r\n        }\r\n    }\r\n}\r\n        \r\nSystem.out.println(charArray);\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nabcd   e\r\n```","title":"Replacing Duplicates in Character Array with placeholder character &#39; &#39;?","body":"<p>Your inner loop needs to start at <code>i + 1</code> instead of the hardcoded value <code>1</code>:</p>\n<pre><code>char[] charArray = &quot;abcdabce&quot;.toCharArray();\n        \nfor (int i = 0; i &lt; charArray.length; i++)\n{\n    // check if a space was already inserted at this index\n    if (charArray[i] == ' ')\n        continue;\n            \n    // check all remaining characters\n    for (int j = i + 1; j &lt; charArray.length; j++)\n    {\n        if (charArray[i] == charArray[j])\n        {\n            charArray[j] = ' ';\n        }\n    }\n}\n        \nSystem.out.println(charArray);\n</code></pre>\n<p>Output:</p>\n<pre><code>abcd   e\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16189625,"reputation":1,"user_id":11688791,"display_name":"Michel Haddad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647125105,"creation_date":1647125105,"answer_id":71453293,"question_id":71453154,"body_markdown":"To put it simply, this is what your code currently does:&lt;br&gt;\r\nFor each character in the char array, if the same character appears somewhere in the array starting from the index 1, then change it to a space. This concretely means that **all the characters starting from index 1 will be replaced** (because the condition that they appear after index 0 will always be satisfied).\r\n\r\nA simple example can illustrate why this won&#39;t actually work.\r\nSuppose your input array is *[&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;]*.\r\n\r\nWhen *i = 1 and j = 1*, *charArray[i] == charArray[j]* will return true, thus your &#39;e&#39; will be replaced by a space.\r\n\r\nI would suggest looping through the array once, using a data structure that memorizes which characters previously appeared, which in this case corresponds to a Set.\r\n\r\n```\r\nSet&lt;Character&gt; charSet = new HashSet&lt;&gt;();\r\nfor (int i = 0; i &lt; charArray.length; i ++) {\r\n  if (charSet.contains(charArray[i])) charArray[i] = &#39; &#39;;\r\n  else charSet.add(charArray[i]);\r\n}\r\n```","title":"Replacing Duplicates in Character Array with placeholder character &#39; &#39;?","body":"<p>To put it simply, this is what your code currently does:<br>\nFor each character in the char array, if the same character appears somewhere in the array starting from the index 1, then change it to a space. This concretely means that <strong>all the characters starting from index 1 will be replaced</strong> (because the condition that they appear after index 0 will always be satisfied).</p>\n<p>A simple example can illustrate why this won't actually work.\nSuppose your input array is <em>['h','e','l','l','o']</em>.</p>\n<p>When <em>i = 1 and j = 1</em>, <em>charArray[i] == charArray[j]</em> will return true, thus your 'e' will be replaced by a space.</p>\n<p>I would suggest looping through the array once, using a data structure that memorizes which characters previously appeared, which in this case corresponds to a Set.</p>\n<pre><code>Set&lt;Character&gt; charSet = new HashSet&lt;&gt;();\nfor (int i = 0; i &lt; charArray.length; i ++) {\n  if (charSet.contains(charArray[i])) charArray[i] = ' ';\n  else charSet.add(charArray[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":24538898,"reputation":1,"user_id":18449542,"display_name":"laz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1647125105,"creation_date":1647123565,"question_id":71453154,"body_markdown":"For any string of characters I input to my charArray, this simply returns the first character and the rest as spaces. Why? I simply want to replace all of the non-original renditions of a character with a space.\r\n\r\n\r\n```\r\nfor (int i = 0 ; i&lt;charArray.length ; i++) {\r\n\t\t\t\t\t\tfor (int j = 1 ; j&lt;charArray.length ; j++) {\r\n\t\t\t\t\t\t\tif (charArray[i] == charArray[j])\r\n\t\t\t\t\t\t\t\tcharArray[j] = &#39; &#39;;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n```","title":"Replacing Duplicates in Character Array with placeholder character &#39; &#39;?","body":"<p>For any string of characters I input to my charArray, this simply returns the first character and the rest as spaces. Why? I simply want to replace all of the non-original renditions of a character with a space.</p>\n<pre><code>for (int i = 0 ; i&lt;charArray.length ; i++) {\n                        for (int j = 1 ; j&lt;charArray.length ; j++) {\n                            if (charArray[i] == charArray[j])\n                                charArray[j] = ' ';\n                            \n                        }\n                    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud","configserver"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1647109461,"post_id":71452193,"comment_id":126292756,"body_markdown":"Can you please describe the problem in more detail? What versions? Where is your .properties files stored?","body":"Can you please describe the problem in more detail? What versions? Where is your .properties files stored?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647124323,"post_id":71452193,"comment_id":126294306,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23990872,"reputation":51,"user_id":17977063,"display_name":"Siddhant Bhatia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647167039,"answer_count":0,"score":0,"last_activity_date":1647124675,"creation_date":1647109324,"question_id":71452193,"body_markdown":"I am trying to implement spring cloud I want to refresh my .properties as soon as I make changes to it without hitting the actuator refresh end point.Is it possible?","title":"Can we automatically refresh spring properties file without using actuator refresh endpoint","body":"<p>I am trying to implement spring cloud I want to refresh my .properties as soon as I make changes to it without hitting the actuator refresh end point.Is it possible?</p>\n"},{"tags":["java","sql","spring-boot"],"owner":{"account_id":15828754,"reputation":57,"user_id":11420796,"display_name":"Kevin Doolaeghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647124641,"creation_date":1647046096,"question_id":71446088,"body_markdown":"I want to make the following query in my REST API (with Spring boot) :\r\n\r\n(my query works on a MySQL console)\r\n\r\n        SET @sql = NULL;\r\n        SELECT GROUP_CONCAT(DISTINCT CONCAT(&#39;SUM(IF(t.type=&#39;,type,&#39;,value,0)) AS &quot;&#39;,type,&#39;&quot;&#39;))\r\n        INTO @sql FROM transfers;\r\n        SET @sql = CONCAT(\r\n            &#39;SELECT t.date,SUM(t.value) AS &quot;-1&quot;,&#39;,\r\n            @sql,\r\n            &#39;FROM transfers t GROUP BY t.date ORDER BY t.date DESC&#39;\r\n        );\r\n        SELECT @sql;\r\n        PREPARE stmt FROM @sql;\r\n        EXECUTE stmt;\r\n\r\nIs it possible ?\r\nI tried to implement it in my repo :\r\n\r\n        @Query(value = &quot;SET @sql = NULL;\\n&quot; +\r\n            &quot;SELECT GROUP_CONCAT(DISTINCT CONCAT(&#39;SUM(IF(t.type=&#39;,type,&#39;,value,0)) AS \\&quot;&#39;,type,&#39;\\&quot;&#39;))\\n&quot; +\r\n            &quot;INTO @sql FROM transfers;\\n&quot; +\r\n            &quot;SET @sql = CONCAT(&#39;SELECT t.date, SUM(t.value) AS \\&quot;-1\\&quot;,&#39;,@sql,\\n&quot; +\r\n            &quot;&#39;FROM transfers t GROUP BY t.date ORDER BY t.date DESC&#39;);\\n&quot; +\r\n            &quot;PREPARE stmt FROM @sql;\\n&quot; +\r\n            &quot;EXECUTE stmt;&quot;, nativeQuery = true)\r\n        List&lt;Object&gt; getBalanceDatasets();\r\n\r\nI got this error at startup :\r\n\r\n&gt; Could not create query for public abstract java.util.List fr.kdoolaeghe.savingsaccount.repository.TransferRepository.getBalanceDatasets()! Reason: The string &lt;SET @sql = NULL;\r\n&gt; SELECT GROUP_CONCAT(DISTINCT CONCAT(&#39;SUM(IF(t.type=&#39;,type,&#39;,value,0)) AS &quot;&#39;,type,&#39;&quot;&#39;))\r\n&gt; INTO @sql FROM transfers;\r\n&gt; SET @sql = CONCAT(&#39;SELECT t.date, SUM(t.value) AS &quot;-1&quot;,&#39;,@sql,\r\n&gt; &#39;select count(t) FROM transfers t GROUP BY t.date\r\n&gt; PREPARE stmt FROM @sql;\r\n&gt; EXECUTE stmt;&gt; starts a quoted range at 193, but never ends it.; nested exception is java.lang.IllegalArgumentException: The string &lt;SET @sql = NULL;\r\n&gt; SELECT GROUP_CONCAT(DISTINCT CONCAT(&#39;SUM(IF(t.type=&#39;,type,&#39;,value,0)) AS &quot;&#39;,type,&#39;&quot;&#39;))\r\n&gt; INTO @sql FROM transfers;\r\n&gt; SET @sql = CONCAT(&#39;SELECT t.date, SUM(t.value) AS &quot;-1&quot;,&#39;,@sql,\r\n&gt; &#39;select count(t) FROM transfers t GROUP BY t.date\r\n&gt; PREPARE stmt FROM @sql;\r\n&gt; EXECUTE stmt;&gt; starts a quoted range at 193, but never ends it.\r\n\r\n\r\nEDIT:\r\n\r\nI tried to divide the query in two requests as followed :\r\n\r\n        @Query(value = &quot;SELECT t.date,:headers,SUM(t.value) AS &#39;total&#39;\\n&quot; +\r\n            &quot;FROM transfers t GROUP BY t.date ORDER BY t.date DESC&quot;, nativeQuery = true)\r\n    List&lt;Object&gt; getBalanceDatasets(@Param(&quot;headers&quot;) String headers);\r\n\r\n    @Query(value = &quot;SELECT COALESCE((SELECT GROUP_CONCAT(DISTINCT CONCAT(\\n&quot; +\r\n            &quot;&#39;SUM(IF(t.type=&#39;,type,&#39;,value,0)) AS \\&quot;type&#39;,type,&#39;\\&quot;&#39;)) FROM transfers),&#39;NULL&#39;)&quot;, nativeQuery = true)\r\n    String getBalanceTypeHeaders();\r\n\r\ngetBalanceTypeHeaders() method works but second method getBalanceDatasets() integrate the String with apostrophe (&quot;) symbols.\r\n\r\nIt results in a wrong column.. Any idea to solve that ?","title":"Spring boot &amp; MariaDB - Make a complex query with repository (prepared statement and variables)","body":"<p>I want to make the following query in my REST API (with Spring boot) :</p>\n<p>(my query works on a MySQL console)</p>\n<pre><code>    SET @sql = NULL;\n    SELECT GROUP_CONCAT(DISTINCT CONCAT('SUM(IF(t.type=',type,',value,0)) AS &quot;',type,'&quot;'))\n    INTO @sql FROM transfers;\n    SET @sql = CONCAT(\n        'SELECT t.date,SUM(t.value) AS &quot;-1&quot;,',\n        @sql,\n        'FROM transfers t GROUP BY t.date ORDER BY t.date DESC'\n    );\n    SELECT @sql;\n    PREPARE stmt FROM @sql;\n    EXECUTE stmt;\n</code></pre>\n<p>Is it possible ?\nI tried to implement it in my repo :</p>\n<pre><code>    @Query(value = &quot;SET @sql = NULL;\\n&quot; +\n        &quot;SELECT GROUP_CONCAT(DISTINCT CONCAT('SUM(IF(t.type=',type,',value,0)) AS \\&quot;',type,'\\&quot;'))\\n&quot; +\n        &quot;INTO @sql FROM transfers;\\n&quot; +\n        &quot;SET @sql = CONCAT('SELECT t.date, SUM(t.value) AS \\&quot;-1\\&quot;,',@sql,\\n&quot; +\n        &quot;'FROM transfers t GROUP BY t.date ORDER BY t.date DESC');\\n&quot; +\n        &quot;PREPARE stmt FROM @sql;\\n&quot; +\n        &quot;EXECUTE stmt;&quot;, nativeQuery = true)\n    List&lt;Object&gt; getBalanceDatasets();\n</code></pre>\n<p>I got this error at startup :</p>\n<blockquote>\n<p>Could not create query for public abstract java.util.List fr.kdoolaeghe.savingsaccount.repository.TransferRepository.getBalanceDatasets()! Reason: The string &lt;SET @sql = NULL;\nSELECT GROUP_CONCAT(DISTINCT CONCAT('SUM(IF(t.type=',type,',value,0)) AS &quot;',type,'&quot;'))\nINTO @sql FROM transfers;\nSET @sql = CONCAT('SELECT t.date, SUM(t.value) AS &quot;-1&quot;,',@sql,\n'select count(t) FROM transfers t GROUP BY t.date\nPREPARE stmt FROM @sql;\nEXECUTE stmt;&gt; starts a quoted range at 193, but never ends it.; nested exception is java.lang.IllegalArgumentException: The string &lt;SET @sql = NULL;\nSELECT GROUP_CONCAT(DISTINCT CONCAT('SUM(IF(t.type=',type,',value,0)) AS &quot;',type,'&quot;'))\nINTO @sql FROM transfers;\nSET @sql = CONCAT('SELECT t.date, SUM(t.value) AS &quot;-1&quot;,',@sql,\n'select count(t) FROM transfers t GROUP BY t.date\nPREPARE stmt FROM @sql;\nEXECUTE stmt;&gt; starts a quoted range at 193, but never ends it.</p>\n</blockquote>\n<p>EDIT:</p>\n<p>I tried to divide the query in two requests as followed :</p>\n<pre><code>    @Query(value = &quot;SELECT t.date,:headers,SUM(t.value) AS 'total'\\n&quot; +\n        &quot;FROM transfers t GROUP BY t.date ORDER BY t.date DESC&quot;, nativeQuery = true)\nList&lt;Object&gt; getBalanceDatasets(@Param(&quot;headers&quot;) String headers);\n\n@Query(value = &quot;SELECT COALESCE((SELECT GROUP_CONCAT(DISTINCT CONCAT(\\n&quot; +\n        &quot;'SUM(IF(t.type=',type,',value,0)) AS \\&quot;type',type,'\\&quot;')) FROM transfers),'NULL')&quot;, nativeQuery = true)\nString getBalanceTypeHeaders();\n</code></pre>\n<p>getBalanceTypeHeaders() method works but second method getBalanceDatasets() integrate the String with apostrophe (&quot;) symbols.</p>\n<p>It results in a wrong column.. Any idea to solve that ?</p>\n"},{"tags":["java","json","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2706223,"reputation":3719,"user_id":2335775,"accept_rate":100,"display_name":"Vasyl Sarzhynskyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533403050,"creation_date":1533402261,"answer_id":51687824,"question_id":51687582,"body_markdown":"for that you need to create multiple `KStream` objects for each required destination topic. for extracting required fields from main json, use `mapValues` method on kStream.\r\nto simplify work with json values, you can use `JsonSerde` from `spring-kafka` library (groupId: org.springframework.kafka, artifactId: spring-kafka).\r\n\r\nexample for temperature &amp; pressure topics (and do the same for each of required destination topics):\r\n\r\n    Map&lt;String, String&gt; streamProperties = new HashMap&lt;&gt;();\r\n    streamProperties.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n    streamProperties.put(&quot;key.serde&quot;, &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;);\r\n    streamProperties.put(&quot;value.serde&quot;, &quot;org.apache.kafka.common.serialization.Serdes$StringSerde&quot;);\r\n\r\n    Map&lt;String, String&gt; streamProperties1 = new HashMap&lt;&gt;(streamProperties);\r\n    streamProperties1.put(&quot;application.id&quot;, &quot;temperature&quot;);\r\n    Map&lt;String, String&gt; streamProperties2 = new HashMap&lt;&gt;(streamProperties);\r\n    streamProperties2.put(&quot;application.id&quot;, &quot;pressure&quot;);\r\n\r\n    Class&lt;Map&lt;String, Object&gt;&gt; genericMapClass = (Class) Map.class;\r\n    Consumed&lt;String, Map&lt;String, Object&gt;&gt; consumed = Consumed.with(Serdes.String(), new JsonSerde&lt;&gt;(genericMapClass));\r\n    Produced&lt;String, Map&lt;String, Object&gt;&gt; produced = Produced.with(Serdes.String(), new JsonSerde&lt;&gt;(genericMapClass));\r\n\r\n    StreamsBuilder streamBuilder1 = new StreamsBuilder();\r\n    KStream&lt;String, Map&lt;String, Object&gt;&gt; temperatureKStream = streamBuilder1.stream(&quot;mainSourceTopic&quot;, consumed);\r\n    temperatureKStream.mapValues((generalDetails) -&gt; {\r\n        Object temperatureValue = ((Map) generalDetails.get(&quot;result&quot;)).get(&quot;Temperature&quot;);\r\n        Map&lt;String, Object&gt; temperatureMessageDetails = new HashMap&lt;&gt;();\r\n        temperatureMessageDetails.put(&quot;Temperature&quot;, temperatureValue);\r\n        temperatureMessageDetails.put(&quot;phenomenonTime&quot;, generalDetails.get(&quot;phenomenonTime&quot;));\r\n        temperatureMessageDetails.put(&quot;resultTime&quot;, generalDetails.get(&quot;resultTime&quot;));\r\n        System.out.println(&quot;temperatureMessageDetails: &quot; + temperatureMessageDetails);\r\n        return temperatureMessageDetails;\r\n    }).to(&quot;temperatureTopic&quot;, produced);\r\n\r\n    StreamsBuilder streamBuilder2 = new StreamsBuilder();\r\n    KStream&lt;String, Map&lt;String, Object&gt;&gt; pressureKStream = streamBuilder2.stream(&quot;mainSourceTopic&quot;, consumed);\r\n    pressureKStream.mapValues((generalDetails) -&gt; {\r\n        Object pressureValue = ((Map) generalDetails.get(&quot;result&quot;)).get(&quot;Pressure&quot;);\r\n        Map&lt;String, Object&gt; pressureMessageDetails = new HashMap&lt;&gt;();\r\n        pressureMessageDetails.put(&quot;Pressure&quot;, pressureValue);\r\n        pressureMessageDetails.put(&quot;phenomenonTime&quot;, generalDetails.get(&quot;phenomenonTime&quot;));\r\n        pressureMessageDetails.put(&quot;resultTime&quot;, generalDetails.get(&quot;resultTime&quot;));\r\n        System.out.println(&quot;pressureMessageDetails: &quot; + pressureMessageDetails);\r\n        return pressureMessageDetails;\r\n    }).to(&quot;pressureTopic&quot;, produced);\r\n\r\n    StreamsConfig streamsConfig1 = new StreamsConfig(streamProperties1);\r\n    KafkaStreams kafkaStreams1 = new KafkaStreams(streamBuilder1.build(), streamsConfig1);\r\n    kafkaStreams1.start();\r\n\r\n    StreamsConfig streamsConfig2 = new StreamsConfig(streamProperties2);\r\n    KafkaStreams kafkaStreams2 = new KafkaStreams(streamBuilder2.build(), streamsConfig2);\r\n    kafkaStreams2.start();\r\n\r\n    Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n        kafkaStreams1.close();\r\n        kafkaStreams2.close();\r\n    }));","title":"Kafka Streams Split 1 Stream in Multiple Stream","body":"<p>for that you need to create multiple <code>KStream</code> objects for each required destination topic. for extracting required fields from main json, use <code>mapValues</code> method on kStream.\nto simplify work with json values, you can use <code>JsonSerde</code> from <code>spring-kafka</code> library (groupId: org.springframework.kafka, artifactId: spring-kafka).</p>\n\n<p>example for temperature &amp; pressure topics (and do the same for each of required destination topics):</p>\n\n<pre><code>Map&lt;String, String&gt; streamProperties = new HashMap&lt;&gt;();\nstreamProperties.put(\"bootstrap.servers\", \"localhost:9092\");\nstreamProperties.put(\"key.serde\", \"org.apache.kafka.common.serialization.Serdes$StringSerde\");\nstreamProperties.put(\"value.serde\", \"org.apache.kafka.common.serialization.Serdes$StringSerde\");\n\nMap&lt;String, String&gt; streamProperties1 = new HashMap&lt;&gt;(streamProperties);\nstreamProperties1.put(\"application.id\", \"temperature\");\nMap&lt;String, String&gt; streamProperties2 = new HashMap&lt;&gt;(streamProperties);\nstreamProperties2.put(\"application.id\", \"pressure\");\n\nClass&lt;Map&lt;String, Object&gt;&gt; genericMapClass = (Class) Map.class;\nConsumed&lt;String, Map&lt;String, Object&gt;&gt; consumed = Consumed.with(Serdes.String(), new JsonSerde&lt;&gt;(genericMapClass));\nProduced&lt;String, Map&lt;String, Object&gt;&gt; produced = Produced.with(Serdes.String(), new JsonSerde&lt;&gt;(genericMapClass));\n\nStreamsBuilder streamBuilder1 = new StreamsBuilder();\nKStream&lt;String, Map&lt;String, Object&gt;&gt; temperatureKStream = streamBuilder1.stream(\"mainSourceTopic\", consumed);\ntemperatureKStream.mapValues((generalDetails) -&gt; {\n    Object temperatureValue = ((Map) generalDetails.get(\"result\")).get(\"Temperature\");\n    Map&lt;String, Object&gt; temperatureMessageDetails = new HashMap&lt;&gt;();\n    temperatureMessageDetails.put(\"Temperature\", temperatureValue);\n    temperatureMessageDetails.put(\"phenomenonTime\", generalDetails.get(\"phenomenonTime\"));\n    temperatureMessageDetails.put(\"resultTime\", generalDetails.get(\"resultTime\"));\n    System.out.println(\"temperatureMessageDetails: \" + temperatureMessageDetails);\n    return temperatureMessageDetails;\n}).to(\"temperatureTopic\", produced);\n\nStreamsBuilder streamBuilder2 = new StreamsBuilder();\nKStream&lt;String, Map&lt;String, Object&gt;&gt; pressureKStream = streamBuilder2.stream(\"mainSourceTopic\", consumed);\npressureKStream.mapValues((generalDetails) -&gt; {\n    Object pressureValue = ((Map) generalDetails.get(\"result\")).get(\"Pressure\");\n    Map&lt;String, Object&gt; pressureMessageDetails = new HashMap&lt;&gt;();\n    pressureMessageDetails.put(\"Pressure\", pressureValue);\n    pressureMessageDetails.put(\"phenomenonTime\", generalDetails.get(\"phenomenonTime\"));\n    pressureMessageDetails.put(\"resultTime\", generalDetails.get(\"resultTime\"));\n    System.out.println(\"pressureMessageDetails: \" + pressureMessageDetails);\n    return pressureMessageDetails;\n}).to(\"pressureTopic\", produced);\n\nStreamsConfig streamsConfig1 = new StreamsConfig(streamProperties1);\nKafkaStreams kafkaStreams1 = new KafkaStreams(streamBuilder1.build(), streamsConfig1);\nkafkaStreams1.start();\n\nStreamsConfig streamsConfig2 = new StreamsConfig(streamProperties2);\nKafkaStreams kafkaStreams2 = new KafkaStreams(streamBuilder2.build(), streamsConfig2);\nkafkaStreams2.start();\n\nRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n    kafkaStreams1.close();\n    kafkaStreams2.close();\n}));\n</code></pre>\n"}],"owner":{"account_id":10258416,"reputation":41,"user_id":7570603,"display_name":"Joe Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3489,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647123670,"creation_date":1533400549,"question_id":51687582,"body_markdown":"I got a Projekt to learn working with Kafka Streams, but I have really trouble with it. I am working on kafka-streams version 1.0.1. \r\nWe have a Main Topic Stream with Messages with the following Style: \r\n\r\n    {\r\n        &quot;phenomenonTime&quot; : &quot;2017-04-03T16:08:19.000Z&quot;,\r\n        &quot;resultTime&quot; : &quot;2017-04-03T16:08:19.000Z&quot;,\r\n        &quot;result&quot; : {\r\n          &quot;Temperature&quot; : 0,\r\n          &quot;Pressure&quot; : 0,\r\n          &quot;Humidity&quot; : 0,\r\n          &quot;Mean altitude&quot; : 0,\r\n          &quot;Mass PM2.5&quot; : 7.4,\r\n          &quot;Mass Error PM2.5&quot; : 1.5,\r\n          &quot;Mass PM10&quot; : 12.3,\r\n          &quot;Mass Error PM10&quot; : 1.5\r\n        }\r\n      }\r\n\r\nIt&#39;s a Json Format, there is my first Probleme, I dont know how exactly use the Json Deserializer or Serializer.\r\n\r\nBut my Main Target is to create the Topics Temperature,Pressure,Humidity,Mean altitude... out of the Main Topic his Result Field with the right values in the Temperature Topic.\r\n\r\nHow can I realise that with Kafka Streams? \r\nI hope you can help me, to get better started with Kafka Streams.\r\n\r\nEDIT:\r\n\r\nHole Message + key (formatted)\r\n\r\n \r\n\r\n        Key c45e9532-9810-11e8-8839-03e1e3365152\r\n        Value { &quot;phenomenonTime&quot; : &quot;2017-04-03T16:08:09.000Z&quot;,\r\n     &quot;resultTime&quot; : &quot;2017-04-03T16:08:09.000Z&quot;,\r\n     &quot;result&quot; : { &quot;Temperature&quot; : 0,\r\n     &quot;Pressure&quot; : 0, \r\n    &quot;Humidity&quot; : 0, \r\n    &quot;Mean altitude&quot; : 0, \r\n    &quot;Mass PM2.5&quot; : 7.1,\r\n     &quot;Mass Error PM2.5&quot; : 1.5,\r\n     &quot;Mass PM10&quot; : 9.6, &quot;Mass Error PM10&quot; : 1.5 },\r\n     &quot;Datastream@iot.navigationLink&quot; : &quot;http://localhost:8080/FROST-Server/v1.0/Observations(&#39;c45e9532-9810-11e8-8839-03e1e3365152&#39;)/Datastream&quot;, \r\n    &quot;Datastream&quot; : { &quot;unitOfMeasurement&quot; : { &quot;name&quot; : null, &quot;symbol&quot; : null, &quot;definition&quot; : null }, &quot;@iot.id&quot; : &quot;geo.uni-augsburg.de/Fixed-Wing-UAV-1/Datastreams/LOAC_LOCAL_201704031605.mass&quot; }, \r\n    &quot;FeatureOfInterest@iot.navigationLink&quot; : &quot;http://localhost:8080/FROST-Server/v1.0/Observations(&#39;c45e9532-9810-11e8-8839-03e1e3365152&#39;)/FeatureOfInterest&quot;,\r\n     &quot;FeatureOfInterest&quot; : { &quot;@iot.id&quot; : &quot;c458a1a4-9810-11e8-8839-176a6dbe6951&quot; }, &quot;@iot.id&quot; : &quot;c45e9532-9810-11e8-8839-03e1e3365152&quot;, &quot;@iot.selfLink&quot; : &quot;http://localhost:8080/FROST-Server/v1.0/Observations(&#39;c45e9532-9810-11e8-8839-03e1e3365152&#39;)&quot; }\r\n\r\nUnformated:\r\n\r\n    Key c45e9532-9810-11e8-8839-03e1e3365152\r\n    Value { &quot;phenomenonTime&quot; : &quot;2017-04-03T16:08:09.000Z&quot;, &quot;resultTime&quot; : &quot;2017-04-03T16:08:09.000Z&quot;, &quot;result&quot; : { &quot;Temperature&quot; : 0, &quot;Pressure&quot; : 0, &quot;Humidity&quot; : 0, &quot;Mean altitude&quot; : 0, &quot;Mass PM2.5&quot; : 7.1, &quot;Mass Error PM2.5&quot; : 1.5, &quot;Mass PM10&quot; : 9.6, &quot;Mass Error PM10&quot; : 1.5 }, &quot;Datastream@iot.navigationLink&quot; : &quot;http://localhost:8080/FROST-Server/v1.0/Observations(&#39;c45e9532-9810-11e8-8839-03e1e3365152&#39;)/Datastream&quot;, &quot;Datastream&quot; : { &quot;unitOfMeasurement&quot; : { &quot;name&quot; : null, &quot;symbol&quot; : null, &quot;definition&quot; : null }, &quot;@iot.id&quot; : &quot;geo.uni-augsburg.de/Fixed-Wing-UAV-1/Datastreams/LOAC_LOCAL_201704031605.mass&quot; }, &quot;FeatureOfInterest@iot.navigationLink&quot; : &quot;http://localhost:8080/FROST-Server/v1.0/Observations(&#39;c45e9532-9810-11e8-8839-03e1e3365152&#39;)/FeatureOfInterest&quot;, &quot;FeatureOfInterest&quot; : { &quot;@iot.id&quot; : &quot;c458a1a4-9810-11e8-8839-176a6dbe6951&quot; }, &quot;@iot.id&quot; : &quot;c45e9532-9810-11e8-8839-03e1e3365152&quot;, &quot;@iot.selfLink&quot; : &quot;http://localhost:8080/FROST-Server/v1.0/Observations(&#39;c45e9532-9810-11e8-8839-03e1e3365152&#39;)&quot; }\r\n\r\nBut the Datastream@iot.navigationLink, Datastream .... are not the Important. But the Key must be the same.\r\n\r\nThats how it looks exactly (https://i.stack.imgur.com/2x88k.png)\r\n\r\nHole exported Stream:\r\n\r\nhttps://pastebin.com/PUfhL8fK\r\n\r\nExample Kafka Client :\r\n\r\nhttps://pastebin.com/y4k7fQgz\r\n\r\n","title":"Kafka Streams Split 1 Stream in Multiple Stream","body":"<p>I got a Projekt to learn working with Kafka Streams, but I have really trouble with it. I am working on kafka-streams version 1.0.1. \nWe have a Main Topic Stream with Messages with the following Style: </p>\n\n<pre><code>{\n    \"phenomenonTime\" : \"2017-04-03T16:08:19.000Z\",\n    \"resultTime\" : \"2017-04-03T16:08:19.000Z\",\n    \"result\" : {\n      \"Temperature\" : 0,\n      \"Pressure\" : 0,\n      \"Humidity\" : 0,\n      \"Mean altitude\" : 0,\n      \"Mass PM2.5\" : 7.4,\n      \"Mass Error PM2.5\" : 1.5,\n      \"Mass PM10\" : 12.3,\n      \"Mass Error PM10\" : 1.5\n    }\n  }\n</code></pre>\n\n<p>It's a Json Format, there is my first Probleme, I dont know how exactly use the Json Deserializer or Serializer.</p>\n\n<p>But my Main Target is to create the Topics Temperature,Pressure,Humidity,Mean altitude... out of the Main Topic his Result Field with the right values in the Temperature Topic.</p>\n\n<p>How can I realise that with Kafka Streams? \nI hope you can help me, to get better started with Kafka Streams.</p>\n\n<p>EDIT:</p>\n\n<p>Hole Message + key (formatted)</p>\n\n<pre><code>    Key c45e9532-9810-11e8-8839-03e1e3365152\n    Value { \"phenomenonTime\" : \"2017-04-03T16:08:09.000Z\",\n \"resultTime\" : \"2017-04-03T16:08:09.000Z\",\n \"result\" : { \"Temperature\" : 0,\n \"Pressure\" : 0, \n\"Humidity\" : 0, \n\"Mean altitude\" : 0, \n\"Mass PM2.5\" : 7.1,\n \"Mass Error PM2.5\" : 1.5,\n \"Mass PM10\" : 9.6, \"Mass Error PM10\" : 1.5 },\n \"Datastream@iot.navigationLink\" : \"http://localhost:8080/FROST-Server/v1.0/Observations('c45e9532-9810-11e8-8839-03e1e3365152')/Datastream\", \n\"Datastream\" : { \"unitOfMeasurement\" : { \"name\" : null, \"symbol\" : null, \"definition\" : null }, \"@iot.id\" : \"geo.uni-augsburg.de/Fixed-Wing-UAV-1/Datastreams/LOAC_LOCAL_201704031605.mass\" }, \n\"FeatureOfInterest@iot.navigationLink\" : \"http://localhost:8080/FROST-Server/v1.0/Observations('c45e9532-9810-11e8-8839-03e1e3365152')/FeatureOfInterest\",\n \"FeatureOfInterest\" : { \"@iot.id\" : \"c458a1a4-9810-11e8-8839-176a6dbe6951\" }, \"@iot.id\" : \"c45e9532-9810-11e8-8839-03e1e3365152\", \"@iot.selfLink\" : \"http://localhost:8080/FROST-Server/v1.0/Observations('c45e9532-9810-11e8-8839-03e1e3365152')\" }\n</code></pre>\n\n<p>Unformated:</p>\n\n<pre><code>Key c45e9532-9810-11e8-8839-03e1e3365152\nValue { \"phenomenonTime\" : \"2017-04-03T16:08:09.000Z\", \"resultTime\" : \"2017-04-03T16:08:09.000Z\", \"result\" : { \"Temperature\" : 0, \"Pressure\" : 0, \"Humidity\" : 0, \"Mean altitude\" : 0, \"Mass PM2.5\" : 7.1, \"Mass Error PM2.5\" : 1.5, \"Mass PM10\" : 9.6, \"Mass Error PM10\" : 1.5 }, \"Datastream@iot.navigationLink\" : \"http://localhost:8080/FROST-Server/v1.0/Observations('c45e9532-9810-11e8-8839-03e1e3365152')/Datastream\", \"Datastream\" : { \"unitOfMeasurement\" : { \"name\" : null, \"symbol\" : null, \"definition\" : null }, \"@iot.id\" : \"geo.uni-augsburg.de/Fixed-Wing-UAV-1/Datastreams/LOAC_LOCAL_201704031605.mass\" }, \"FeatureOfInterest@iot.navigationLink\" : \"http://localhost:8080/FROST-Server/v1.0/Observations('c45e9532-9810-11e8-8839-03e1e3365152')/FeatureOfInterest\", \"FeatureOfInterest\" : { \"@iot.id\" : \"c458a1a4-9810-11e8-8839-176a6dbe6951\" }, \"@iot.id\" : \"c45e9532-9810-11e8-8839-03e1e3365152\", \"@iot.selfLink\" : \"http://localhost:8080/FROST-Server/v1.0/Observations('c45e9532-9810-11e8-8839-03e1e3365152')\" }\n</code></pre>\n\n<p>But the Datastream@iot.navigationLink, Datastream .... are not the Important. But the Key must be the same.</p>\n\n<p>Thats how it looks exactly (<a href=\"https://i.stack.imgur.com/2x88k.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/2x88k.png</a>)</p>\n\n<p>Hole exported Stream:</p>\n\n<p><a href=\"https://pastebin.com/PUfhL8fK\" rel=\"nofollow noreferrer\">https://pastebin.com/PUfhL8fK</a></p>\n\n<p>Example Kafka Client :</p>\n\n<p><a href=\"https://pastebin.com/y4k7fQgz\" rel=\"nofollow noreferrer\">https://pastebin.com/y4k7fQgz</a></p>\n"},{"tags":["java","android","android-layout","pdf","pdf-generation"],"answers":[{"tags":[],"owner":{"account_id":17328821,"reputation":380,"user_id":12552434,"display_name":"abby"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647123236,"creation_date":1646741365,"answer_id":71394812,"question_id":71323803,"body_markdown":"This solution by which I solved the problem by using simple PdfDocument and StaticLayout without using any external paid libraries. The problem as I have shared in my question is that maintaining proper structure of the texts in the generated pdf file. \r\n\r\nI used the length and width of a A4 size page and have fixed the number of characters in each page to a limit, after that when it encounters the end of that line it automatically creates next page, also auto next line is handled by StaticLayout no overflowing of text is seen. \r\n\r\nIf you feel you can try with different character limit for each page and try different size as your need. Also you can try the **StaticLayout.Builder** which is supported in Android version Q/29 and above not below it.\r\n\r\nThe code sample I will share with you, which if you use, no matter how long the text you have, it will automatically handle multi page if text is long and generate the pdf, also it maintains paragraphs etc, you can also customise page shape, number of characters etc according to your need. Other details in the code are self-explanatory.\r\n\r\n     String text = &quot;Lorem ipsum...very long text&quot;;\r\n     ArrayList&lt;String&gt; texts = new ArrayList&lt;&gt;();\r\n        int tot_char_count = 0;\r\n        //Counts total characters in the long text\r\n        for (int i = 0; i &lt; text.length(); i++) {\r\n            tot_char_count++;\r\n        }\r\n        int per_page_words = 4900;\r\n        int pages = tot_char_count / per_page_words;\r\n        int remainder_pages_extra = tot_char_count % per_page_words;\r\n        if (remainder_pages_extra &gt; 0) {\r\n            pages++;\r\n        }\r\n        int k = pages, count = 0;\r\n        while (k != 0) {\r\n            StringBuilder each_page_text = new StringBuilder();\r\n            for (int y = 0; y &lt; per_page_words; y++) {\r\n                if (count &lt; tot_char_count) {\r\n                    each_page_text.append(text.charAt(count));\r\n                    if (y == (per_page_words - 1) &amp;&amp; text.charAt(count) != &#39; &#39;) {\r\n                        while (text.charAt(count) != &#39;\\n&#39;) {\r\n                            count++;\r\n                            each_page_text.append(text.charAt(count));\r\n                        }\r\n                    } else {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n            texts.add(each_page_text.toString());\r\n            k--;\r\n        }\r\n\r\n        PdfDocument pdfDocument = new PdfDocument();\r\n        int pageNumber = 0;\r\n        try {\r\n            pageNumber++;\r\n            for (String each_page_text : texts) {\r\n                PdfDocument.PageInfo mypageInfo = new PdfDocument.PageInfo.Builder(595, 842, pageNumber).create();\r\n                PdfDocument.Page myPage = pdfDocument.startPage(mypageInfo);\r\n                Canvas canvas = myPage.getCanvas();\r\n                TextPaint mTextPaint = new TextPaint();\r\n                mTextPaint.setTextSize(11);\r\n                mTextPaint.setTypeface(ResourcesCompat.getFont(context, R.font.roboto));               \r\n                StaticLayout mTextLayout = new StaticLayout(each_page_text, mTextPaint, canvas.getWidth() - 60, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);               \r\n                canvas.save();\r\n                int textX = 30;\r\n                int textY = 30;\r\n                canvas.translate(textX, textY);\r\n                mTextLayout.draw(canvas);\r\n                canvas.restore();\r\n                pdfDocument.finishPage(myPage);\r\n            }            \r\n            File file = new File(context.getFilesDir(), &quot;GeneratedFile.pdf&quot;);\r\n            FileOutputStream fOut = new FileOutputStream(file);\r\n            pdfDocument.writeTo(fOut);\r\n            //  Toast.makeText(context, &quot;PDF file generated successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n        } catch (IOException e) {          \r\n            e.printStackTrace();\r\n        }\r\n        pdfDocument.close();\r\n\r\n","title":"How to generate a Pdf using PdfDocument from a long string with proper multiline and multipage in android?","body":"<p>This solution by which I solved the problem by using simple PdfDocument and StaticLayout without using any external paid libraries. The problem as I have shared in my question is that maintaining proper structure of the texts in the generated pdf file.</p>\n<p>I used the length and width of a A4 size page and have fixed the number of characters in each page to a limit, after that when it encounters the end of that line it automatically creates next page, also auto next line is handled by StaticLayout no overflowing of text is seen.</p>\n<p>If you feel you can try with different character limit for each page and try different size as your need. Also you can try the <strong>StaticLayout.Builder</strong> which is supported in Android version Q/29 and above not below it.</p>\n<p>The code sample I will share with you, which if you use, no matter how long the text you have, it will automatically handle multi page if text is long and generate the pdf, also it maintains paragraphs etc, you can also customise page shape, number of characters etc according to your need. Other details in the code are self-explanatory.</p>\n<pre><code> String text = &quot;Lorem ipsum...very long text&quot;;\n ArrayList&lt;String&gt; texts = new ArrayList&lt;&gt;();\n    int tot_char_count = 0;\n    //Counts total characters in the long text\n    for (int i = 0; i &lt; text.length(); i++) {\n        tot_char_count++;\n    }\n    int per_page_words = 4900;\n    int pages = tot_char_count / per_page_words;\n    int remainder_pages_extra = tot_char_count % per_page_words;\n    if (remainder_pages_extra &gt; 0) {\n        pages++;\n    }\n    int k = pages, count = 0;\n    while (k != 0) {\n        StringBuilder each_page_text = new StringBuilder();\n        for (int y = 0; y &lt; per_page_words; y++) {\n            if (count &lt; tot_char_count) {\n                each_page_text.append(text.charAt(count));\n                if (y == (per_page_words - 1) &amp;&amp; text.charAt(count) != ' ') {\n                    while (text.charAt(count) != '\\n') {\n                        count++;\n                        each_page_text.append(text.charAt(count));\n                    }\n                } else {\n                    count++;\n                }\n            }\n        }\n        texts.add(each_page_text.toString());\n        k--;\n    }\n\n    PdfDocument pdfDocument = new PdfDocument();\n    int pageNumber = 0;\n    try {\n        pageNumber++;\n        for (String each_page_text : texts) {\n            PdfDocument.PageInfo mypageInfo = new PdfDocument.PageInfo.Builder(595, 842, pageNumber).create();\n            PdfDocument.Page myPage = pdfDocument.startPage(mypageInfo);\n            Canvas canvas = myPage.getCanvas();\n            TextPaint mTextPaint = new TextPaint();\n            mTextPaint.setTextSize(11);\n            mTextPaint.setTypeface(ResourcesCompat.getFont(context, R.font.roboto));               \n            StaticLayout mTextLayout = new StaticLayout(each_page_text, mTextPaint, canvas.getWidth() - 60, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);               \n            canvas.save();\n            int textX = 30;\n            int textY = 30;\n            canvas.translate(textX, textY);\n            mTextLayout.draw(canvas);\n            canvas.restore();\n            pdfDocument.finishPage(myPage);\n        }            \n        File file = new File(context.getFilesDir(), &quot;GeneratedFile.pdf&quot;);\n        FileOutputStream fOut = new FileOutputStream(file);\n        pdfDocument.writeTo(fOut);\n        //  Toast.makeText(context, &quot;PDF file generated successfully.&quot;, Toast.LENGTH_SHORT).show();\n    } catch (IOException e) {          \n        e.printStackTrace();\n    }\n    pdfDocument.close();\n</code></pre>\n"}],"owner":{"account_id":17328821,"reputation":380,"user_id":12552434,"display_name":"abby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71394812,"answer_count":1,"score":0,"last_activity_date":1647123236,"creation_date":1646228764,"question_id":71323803,"body_markdown":"I have a very long string which may be continuous without space or not continuous, and it should automatically generate pdf with with multiple pages if necessary and with proper multiline with PdfDocument.\r\n\r\nI have tried firstly using paint but only one line with text overflowing was being printed. This problem was solved using StaticLayout and proper multiline is got but now the text gets overflown from below.\r\n\r\nI have searched a lot but didn&#39;t exactly find one and I don&#39;t want to use iText as its only for opensource projects.","title":"How to generate a Pdf using PdfDocument from a long string with proper multiline and multipage in android?","body":"<p>I have a very long string which may be continuous without space or not continuous, and it should automatically generate pdf with with multiple pages if necessary and with proper multiline with PdfDocument.</p>\n<p>I have tried firstly using paint but only one line with text overflowing was being printed. This problem was solved using StaticLayout and proper multiline is got but now the text gets overflown from below.</p>\n<p>I have searched a lot but didn't exactly find one and I don't want to use iText as its only for opensource projects.</p>\n"},{"tags":["java","hibernate","apache-commons-compress"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1554126745,"post_id":55456671,"comment_id":97626645,"body_markdown":"I believe you need to read from the TarArchiveInputStream after each call to getNextTarEntry.","body":"I believe you need to read from the TarArchiveInputStream after each call to getNextTarEntry."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1554127526,"post_id":55456671,"comment_id":97627102,"body_markdown":"As the documentation of [TarArchiveEntry.getFile()](https://commons.apache.org/proper/commons-compress/javadocs/api-1.18/org/apache/commons/compress/archivers/tar/TarArchiveEntry.html#getFile--) states: &quot;_This method is only useful for entries created from a File but not for entries read from an archive._&quot;. The documtation&#39;s example page contains some code [how to read a TAR archive](https://commons.apache.org/proper/commons-compress/examples.html#tar).","body":"As the documentation of <a href=\"https://commons.apache.org/proper/commons-compress/javadocs/api-1.18/org/apache/commons/compress/archivers/tar/TarArchiveEntry.html#getFile--\" rel=\"nofollow noreferrer\">TarArchiveEntry.getFile()</a> states: &quot;<i>This method is only useful for entries created from a File but not for entries read from an archive.</i>&quot;. The documtation&#39;s example page contains some code <a href=\"https://commons.apache.org/proper/commons-compress/examples.html#tar\" rel=\"nofollow noreferrer\">how to read a TAR archive</a>."},{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1554302285,"post_id":55456671,"comment_id":97702530,"body_markdown":"I was not reading the InputStream correctly. I managed to read the content of each file after doing something similar to the example &quot;how to read a TAR archive&quot;. Thanks :D","body":"I was not reading the InputStream correctly. I managed to read the content of each file after doing something similar to the example &quot;how to read a TAR archive&quot;. Thanks :D"}],"answers":[{"tags":[],"owner":{"account_id":8550964,"reputation":3152,"user_id":6407858,"accept_rate":100,"display_name":"Yug Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554127396,"creation_date":1554127396,"answer_id":55457035,"question_id":55456671,"body_markdown":"You can use the `TarArchiveInputStream` of [`Apache Commons Compress`][1] as shown below([Reference][2]):\r\n\r\n    TarArchiveInputStream input = new TarArchiveInputStream(new GzipCompressorInputStream(new FileInputStream(&quot;C:\\\\Users\\\\User\\\\Desktop\\\\Books\\\\test\\\\CoverLetter-Version2.gz&quot;)));\r\n    TarArchiveEntry entry = input.getNextTarEntry();\r\n    System.out.println(entry.getName()); // prints the name of file inside the tar\r\n    BufferedReader br = null;\r\n    StringBuilder sb = new StringBuilder();\r\n    while (entry != null) {\r\n    \tbr = new BufferedReader(new InputStreamReader(input)); // Read directly from tarInput\r\n        System.out.println(&quot;For File = &quot; + currentEntry.getName());\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n    \t\t  System.out.println(&quot;line=&quot;+line);\r\n        }\r\n         entry = input.getNextTarEntry(); \r\n    }\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-compress/1.1\r\n  [2]: https://stackoverflow.com/q/25749550/6407858","title":"Read the content of CSV files inside a tar.gz archive","body":"<p>You can use the <code>TarArchiveInputStream</code> of <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-compress/1.1\" rel=\"nofollow noreferrer\"><code>Apache Commons Compress</code></a> as shown below(<a href=\"https://stackoverflow.com/q/25749550/6407858\">Reference</a>):</p>\n\n<pre><code>TarArchiveInputStream input = new TarArchiveInputStream(new GzipCompressorInputStream(new FileInputStream(\"C:\\\\Users\\\\User\\\\Desktop\\\\Books\\\\test\\\\CoverLetter-Version2.gz\")));\nTarArchiveEntry entry = input.getNextTarEntry();\nSystem.out.println(entry.getName()); // prints the name of file inside the tar\nBufferedReader br = null;\nStringBuilder sb = new StringBuilder();\nwhile (entry != null) {\n    br = new BufferedReader(new InputStreamReader(input)); // Read directly from tarInput\n    System.out.println(\"For File = \" + currentEntry.getName());\n    String line;\n    while ((line = br.readLine()) != null) {\n          System.out.println(\"line=\"+line);\n    }\n     entry = input.getNextTarEntry(); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12368235,"reputation":56,"user_id":9019450,"display_name":"pethryth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554127449,"creation_date":1554127449,"answer_id":55457060,"question_id":55456671,"body_markdown":"Try to read directly from inputstream:\r\n\r\n            BufferedReader br = null;\r\n            while(tarEntry != null){\r\n                br = new BufferedReader(new InputStreamReader(tarEntry));","title":"Read the content of CSV files inside a tar.gz archive","body":"<p>Try to read directly from inputstream:</p>\n\n<pre><code>        BufferedReader br = null;\n        while(tarEntry != null){\n            br = new BufferedReader(new InputStreamReader(tarEntry));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647119842,"creation_date":1647119842,"answer_id":71452904,"question_id":55456671,"body_markdown":"Doing something similar to this solved the problem:\r\n```\r\nTarArchiveEntry entry = tarInput.getNextTarEntry();\r\nbyte[] content = new byte[entry.getSize()];\r\nLOOP UNTIL entry.getSize() HAS BEEN READ {\r\n    tarInput.read(content, offset, content.length - offset);\r\n}\r\n```\r\n\r\n[Reference mentioned in the comments][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-compress/examples.html#tar","title":"Read the content of CSV files inside a tar.gz archive","body":"<p>Doing something similar to this solved the problem:</p>\n<pre><code>TarArchiveEntry entry = tarInput.getNextTarEntry();\nbyte[] content = new byte[entry.getSize()];\nLOOP UNTIL entry.getSize() HAS BEEN READ {\n    tarInput.read(content, offset, content.length - offset);\n}\n</code></pre>\n<p><a href=\"https://commons.apache.org/proper/commons-compress/examples.html#tar\" rel=\"nofollow noreferrer\">Reference mentioned in the comments</a></p>\n"}],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71452904,"answer_count":3,"score":1,"last_activity_date":1647119842,"creation_date":1554126315,"question_id":55456671,"body_markdown":"I want to save the contents of a **tar.gz** archive inside a database table.\r\n\r\nThe archive contains txt files in **CSV** format. \r\n\r\nThe idea is to insert a new line in the database for each line in the txt files. \r\n\r\nThe problem is that I can&#39;t read the contents of a file separately then move on to the next file.\r\n\r\nBelow *EntryTable* and *EntryTableLine* are Hibernate entities.\r\n\r\n*EntryTable* is in a *OneToMany* relationship with *EntryTableLine* (a file -EntryTable- can have many lines -EntryTableLine-).\r\n\r\n\r\n    public static final int TAB = 9;\r\n\r\n    FileInputStream fileInputStream = new FileInputStream(fileLocation);\r\n    GZIPInputStream gzipInputStream = new GZIPInputStream(fileInputStream);\r\n    TarArchiveInputStream tar = new TarArchiveInputStream(gzipInputStream);\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(tar));\r\n    // Columns are delimited with TAB\r\n    CSVFormat csvFormat = CSVFormat.TDF.withHeader().withDelimeter((char) TAB);\r\n    CSVParser parser = new CSVParser(reader, csvFormat);\r\n\r\n    TarArchiveEntry tarEntry = tar.getNextTarEntry();\r\n\r\n    while(tarEntry != null){\r\n      EntryTable entryTable = new EntryTable();\r\n      entryTable.setFilename(tarEntry.getName());\r\n\r\n      if(reader != null){\r\n\r\n         // Here is the problem\r\n         for(CSVRecord record : parser){\r\n            //this could have been a StringBuffer\r\n            String line;\r\n            int i = 1;\r\n            for(String val : record){\r\n               line = &quot;&lt;column&quot; + i + &quot;&gt;&quot; + val + &quot;&lt;/column&quot; + i + &quot;&gt;&quot;;\r\n            }\r\n\r\n            EntryTableLine entryTableLine = new EntryTableLine();\r\n            entryTableLine.setContent(line);\r\n            entryDao.saveLine(entryTableLine);\r\n          }\r\n      }\r\n      tarEntry = tar.getNextTarEntry();\r\n    }\r\n\r\nI tried converting *tarEntry.getFile()* to *InputStream*, but *tarEntry.getFile()* is null unfortunately.\r\n\r\nLet&#39;s say I have 4 files in the archive. Each file has 3 lines inside. However, in the database, some entries have 5 lines while others have none.\r\n\r\nThank you !","title":"Read the content of CSV files inside a tar.gz archive","body":"<p>I want to save the contents of a <strong>tar.gz</strong> archive inside a database table.</p>\n\n<p>The archive contains txt files in <strong>CSV</strong> format. </p>\n\n<p>The idea is to insert a new line in the database for each line in the txt files. </p>\n\n<p>The problem is that I can't read the contents of a file separately then move on to the next file.</p>\n\n<p>Below <em>EntryTable</em> and <em>EntryTableLine</em> are Hibernate entities.</p>\n\n<p><em>EntryTable</em> is in a <em>OneToMany</em> relationship with <em>EntryTableLine</em> (a file -EntryTable- can have many lines -EntryTableLine-).</p>\n\n<pre><code>public static final int TAB = 9;\n\nFileInputStream fileInputStream = new FileInputStream(fileLocation);\nGZIPInputStream gzipInputStream = new GZIPInputStream(fileInputStream);\nTarArchiveInputStream tar = new TarArchiveInputStream(gzipInputStream);\n\nBufferedReader reader = new BufferedReader(new InputStreamReader(tar));\n// Columns are delimited with TAB\nCSVFormat csvFormat = CSVFormat.TDF.withHeader().withDelimeter((char) TAB);\nCSVParser parser = new CSVParser(reader, csvFormat);\n\nTarArchiveEntry tarEntry = tar.getNextTarEntry();\n\nwhile(tarEntry != null){\n  EntryTable entryTable = new EntryTable();\n  entryTable.setFilename(tarEntry.getName());\n\n  if(reader != null){\n\n     // Here is the problem\n     for(CSVRecord record : parser){\n        //this could have been a StringBuffer\n        String line;\n        int i = 1;\n        for(String val : record){\n           line = \"&lt;column\" + i + \"&gt;\" + val + \"&lt;/column\" + i + \"&gt;\";\n        }\n\n        EntryTableLine entryTableLine = new EntryTableLine();\n        entryTableLine.setContent(line);\n        entryDao.saveLine(entryTableLine);\n      }\n  }\n  tarEntry = tar.getNextTarEntry();\n}\n</code></pre>\n\n<p>I tried converting <em>tarEntry.getFile()</em> to <em>InputStream</em>, but <em>tarEntry.getFile()</em> is null unfortunately.</p>\n\n<p>Let's say I have 4 files in the archive. Each file has 3 lines inside. However, in the database, some entries have 5 lines while others have none.</p>\n\n<p>Thank you !</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1647121170,"post_id":71452686,"comment_id":126294059,"body_markdown":"you can use prepared statements only for replacement of data not column names or table names","body":"you can use prepared statements only for replacement of data not column names or table names"}],"answers":[{"tags":[],"owner":{"account_id":13994844,"reputation":3,"user_id":10107934,"display_name":"Someone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647119571,"creation_date":1647119571,"answer_id":71452884,"question_id":71452686,"body_markdown":"The following works. The rollback covers both statements so it is a proper transaction:\r\n\r\n        pstm = connection.prepareStatement(&quot;INSERT INTO \r\n            db.table1(name1, status, name2) values(?,?,?)&quot;);\r\n        pstm.setString(1, n1);\r\n        pstm.setBoolean(2, true);\r\n        pstm.setString(3, n2);\r\n        pstm.addBatch();\r\n        \r\n        pstm2 = connection.prepareStatement(&quot;INSERT INTO \r\n            db.table2(name1, status, name2) values(?,?,?)&quot;);\r\n        pstm2.setString(1, n1);\r\n        pstm2.setBoolean(2, true);\r\n        pstm2.setString(3, n2);\r\n        pstm2.addBatch();\r\n   \r\n        try{\r\n            pstm1.executeBatch();\r\n            pstm2.executeBatch();\r\n        } catch (Exception e) {\r\n            connection.rollback();\r\n            throw e;\r\n        }","title":"java.sql executing different statements in one batch","body":"<p>The following works. The rollback covers both statements so it is a proper transaction:</p>\n<pre><code>    pstm = connection.prepareStatement(&quot;INSERT INTO \n        db.table1(name1, status, name2) values(?,?,?)&quot;);\n    pstm.setString(1, n1);\n    pstm.setBoolean(2, true);\n    pstm.setString(3, n2);\n    pstm.addBatch();\n    \n    pstm2 = connection.prepareStatement(&quot;INSERT INTO \n        db.table2(name1, status, name2) values(?,?,?)&quot;);\n    pstm2.setString(1, n1);\n    pstm2.setBoolean(2, true);\n    pstm2.setString(3, n2);\n    pstm2.addBatch();\n\n    try{\n        pstm1.executeBatch();\n        pstm2.executeBatch();\n    } catch (Exception e) {\n        connection.rollback();\n        throw e;\n    }\n</code></pre>\n"}],"owner":{"account_id":13994844,"reputation":3,"user_id":10107934,"display_name":"Someone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71452884,"answer_count":1,"score":0,"last_activity_date":1647119571,"creation_date":1647116539,"question_id":71452686,"body_markdown":"I have 2 different sql statements that need to be be executed together. Is there a way to execute them both in one batch?\r\n\r\nBellow is an example of what I tried but it doesn&#39;t seem to work as it adds the string of index 1 in &#39;&#39;\r\n\r\n            pstm = connection.prepareStatement(&quot;INSERT INTO ? values(?,?,?)&quot;);\r\n            pstm.setString(1, &quot;db.table1(name1, status, name2)&quot;);\r\n            pstm.setString(2, n1);\r\n            pstm.setBoolean(3, true);\r\n            pstm.setString(4, n2);\r\n            pstm.addBatch();\r\n            \r\n            pstm = connection.prepareStatement(&quot;INSERT INTO ? values(?,?,?)&quot;);\r\n            pstm.setString(1, &quot;db.table2(name1, status, name2)&quot;);\r\n            pstm.setString(2, n1);\r\n            pstm.setBoolean(3, true);\r\n            pstm.setString(4, n2);\r\n            pstm.addBatch();","title":"java.sql executing different statements in one batch","body":"<p>I have 2 different sql statements that need to be be executed together. Is there a way to execute them both in one batch?</p>\n<p>Bellow is an example of what I tried but it doesn't seem to work as it adds the string of index 1 in ''</p>\n<pre><code>        pstm = connection.prepareStatement(&quot;INSERT INTO ? values(?,?,?)&quot;);\n        pstm.setString(1, &quot;db.table1(name1, status, name2)&quot;);\n        pstm.setString(2, n1);\n        pstm.setBoolean(3, true);\n        pstm.setString(4, n2);\n        pstm.addBatch();\n        \n        pstm = connection.prepareStatement(&quot;INSERT INTO ? values(?,?,?)&quot;);\n        pstm.setString(1, &quot;db.table2(name1, status, name2)&quot;);\n        pstm.setString(2, n1);\n        pstm.setBoolean(3, true);\n        pstm.setString(4, n2);\n        pstm.addBatch();\n</code></pre>\n"},{"tags":["javascript","java","encryption","websocket"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1647104301,"post_id":71451454,"comment_id":126291753,"body_markdown":"Don&#39;t reinvent the websocket wheel, use a library. There&#39;s an official websocket spec in JSR-356. In any JEE container it&#39;s already available. Otherwise, use https://eclipse-ee4j.github.io/tyrus/ as implementation.","body":"Don&#39;t reinvent the websocket wheel, use a library. There&#39;s an official websocket spec in JSR-356. In any JEE container it&#39;s already available. Otherwise, use <a href=\"https://eclipse-ee4j.github.io/tyrus/\" rel=\"nofollow noreferrer\">eclipse-ee4j.github.io/tyrus</a> as implementation."},{"owner":{"account_id":19593839,"reputation":59,"user_id":14340307,"display_name":"RcCookie"},"score":0,"creation_date":1647169210,"post_id":71451454,"comment_id":126298811,"body_markdown":"Sure, I could use a library - but part of this question is to actually understand how this works. A library would just hide away how it&#39;s actually done. When I got it to work, I may actually use a library for convenience and performance reasons, and finding a library should be as simple as a google search for &quot;java websocket library&quot;, that&#39;s really not the issue here.","body":"Sure, I could use a library - but part of this question is to actually understand how this works. A library would just hide away how it&#39;s actually done. When I got it to work, I may actually use a library for convenience and performance reasons, and finding a library should be as simple as a google search for &quot;java websocket library&quot;, that&#39;s really not the issue here."}],"owner":{"account_id":19593839,"reputation":59,"user_id":14340307,"display_name":"RcCookie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647116994,"creation_date":1647103333,"question_id":71451454,"body_markdown":"I am trying to create a websocket connection from JavaScript code to a Java server. I have managed to do this with a unsecure ws connection, but because the website that I want to use this code on is a secure https side, I have to use a secure websocket.\r\n\r\nI have spend quite some time on research trying to get this to work, however I can&#39;t figure out how to get them connected. I have absolutely no experience with stuff like keystores or ciphers, but I don&#39;t *need* that security, I don&#39;t want to send any sensitive data.\r\n\r\nAnyways, here is what I&#39;ve tried:\r\n\r\n```java\r\nSLLServerSocket server = (SSLServerSocket) SSLServerSocketFactory\r\n        .getDefault().createServerSocket(1234);\r\nSSLSocket client = (SSLSocket) server.accept();\r\n```\r\nwith corresponding JavaScript code:\r\n```js\r\nvar socket = new WebSocket(&quot;wss://localhost:1234&quot;)\r\nsocket.onopen = () =&gt; console.log(&quot;Connected&quot;);\r\nsocket.onmessage = m =&gt; console.log(&quot;Message received:&quot;, m);\r\n```\r\n\r\nRunning this resulted in a `Caused by: javax.net.ssl.SSLHandshakeException: No available authentication scheme` which I managed to fix by adding\r\n\r\n```java\r\nSystem.setProperty(&quot;jdk.tls.server.protocols&quot;, &quot;TLSv1.2&quot;);\r\n```\r\n\r\nNow I am getting the exception `javax.net.ssl.SSLHandshakeException: no cipher suites in common`. I&#39;ve done some research on that as well but whatever I find seems assume that a keystore or something is already there, which it is not for me. In fact I don&#39;t really know what encryption it should use, I did not find anything about that\r\n\r\nTo be fair, part of the problem may very well be that I don&#39;t know what to actually search for, but that is why I am asking. There are already articles about these exceptions I am showing, I know them, and they didn&#39;t help.\r\n","title":"WSS from JavaScript to plain Java","body":"<p>I am trying to create a websocket connection from JavaScript code to a Java server. I have managed to do this with a unsecure ws connection, but because the website that I want to use this code on is a secure https side, I have to use a secure websocket.</p>\n<p>I have spend quite some time on research trying to get this to work, however I can't figure out how to get them connected. I have absolutely no experience with stuff like keystores or ciphers, but I don't <em>need</em> that security, I don't want to send any sensitive data.</p>\n<p>Anyways, here is what I've tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SLLServerSocket server = (SSLServerSocket) SSLServerSocketFactory\n        .getDefault().createServerSocket(1234);\nSSLSocket client = (SSLSocket) server.accept();\n</code></pre>\n<p>with corresponding JavaScript code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var socket = new WebSocket(&quot;wss://localhost:1234&quot;)\nsocket.onopen = () =&gt; console.log(&quot;Connected&quot;);\nsocket.onmessage = m =&gt; console.log(&quot;Message received:&quot;, m);\n</code></pre>\n<p>Running this resulted in a <code>Caused by: javax.net.ssl.SSLHandshakeException: No available authentication scheme</code> which I managed to fix by adding</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;jdk.tls.server.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n<p>Now I am getting the exception <code>javax.net.ssl.SSLHandshakeException: no cipher suites in common</code>. I've done some research on that as well but whatever I find seems assume that a keystore or something is already there, which it is not for me. In fact I don't really know what encryption it should use, I did not find anything about that</p>\n<p>To be fair, part of the problem may very well be that I don't know what to actually search for, but that is why I am asking. There are already articles about these exceptions I am showing, I know them, and they didn't help.</p>\n"},{"tags":["java","macos","netbeans","bundle"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1646974325,"post_id":71431325,"comment_id":126260918,"body_markdown":"Are you running from a .jar file?","body":"Are you running from a .jar file?"},{"owner":{"account_id":23556067,"reputation":11,"user_id":17598076,"display_name":"vini"},"score":0,"creation_date":1647066878,"post_id":71431325,"comment_id":126284679,"body_markdown":"Hey! No.. and all files under same package folder.. thanks","body":"Hey! No.. and all files under same package folder.. thanks"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647107963,"post_id":71431325,"comment_id":126292424,"body_markdown":"How are you running your program?","body":"How are you running your program?"}],"answers":[{"tags":[],"owner":{"account_id":23556067,"reputation":11,"user_id":17598076,"display_name":"vini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647116876,"creation_date":1647116876,"answer_id":71452724,"question_id":71431325,"body_markdown":"Moved the properties files to\r\nsrc/main/resources\r\n\r\nAlso no need to reference the package anymore.\r\nThanks","title":"Exception in thread &quot;main&quot; java.util.MissingResourceException: Can&#39;t find bundle for base name","body":"<p>Moved the properties files to\nsrc/main/resources</p>\n<p>Also no need to reference the package anymore.\nThanks</p>\n"}],"owner":{"account_id":23556067,"reputation":11,"user_id":17598076,"display_name":"vini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71452724,"answer_count":1,"score":0,"last_activity_date":1647116876,"creation_date":1646949776,"question_id":71431325,"body_markdown":"Please any help is very appreciated...\r\n\r\n```\r\npackage sampleA_code2;\r\n...\r\npublic class CodeTwoSample {\r\n...\r\nResourceBundle greetings = ResourceBundle.getBundle(&quot;sampleA_code2.GoodMannersBundle&quot;);\r\n```\r\n\r\nGet the error:\r\n```\r\nException in thread &quot;main&quot; java.util.MissingResourceException: Can&#39;t find bundle for base name sampleA_code2.GoodMannersBundle, locale en_IE\r\n```\r\n\r\nThe file &quot;GoodMannersBundle.properties&quot; is in the same folder as &quot;CodeTwoSample.java&quot; is...\r\n\r\nPlease, any ideas?\r\nUsing Mac, NetBeans 12.6...\r\nTested with Java 11, Java 8....\r\n\r\nThanks!\r\n","title":"Exception in thread &quot;main&quot; java.util.MissingResourceException: Can&#39;t find bundle for base name","body":"<p>Please any help is very appreciated...</p>\n<pre><code>package sampleA_code2;\n...\npublic class CodeTwoSample {\n...\nResourceBundle greetings = ResourceBundle.getBundle(&quot;sampleA_code2.GoodMannersBundle&quot;);\n</code></pre>\n<p>Get the error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.MissingResourceException: Can't find bundle for base name sampleA_code2.GoodMannersBundle, locale en_IE\n</code></pre>\n<p>The file &quot;GoodMannersBundle.properties&quot; is in the same folder as &quot;CodeTwoSample.java&quot; is...</p>\n<p>Please, any ideas?\nUsing Mac, NetBeans 12.6...\nTested with Java 11, Java 8....</p>\n<p>Thanks!</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1647113469,"post_id":71452528,"comment_id":126293346,"body_markdown":"Please [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Please <a href=\"https://stackoverflow.com/posts/71452528/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647116772,"creation_date":1647116772,"answer_id":71452706,"question_id":71452528,"body_markdown":"The problem is that you are making an `Answer` which returns an answer which returns the `SpotApi.APIlistCandlesticksRequest`. You see, the construct `inv -&gt; new Answer() { ...}` is a function returning an `Answer`. When given as argument to `doAnswer` it implicitly becomes an implementation of the `Answer` functional interface, per the contract of `doAnswer`.\r\n\r\nJust keep one. If you keep the labda it will be more awkward to keep state (the `count`), so you can just keep the inner class:\r\n\r\n```java\r\ndoAnswer(new Answer&lt;SpotApi.APIlistCandlesticksRequest&gt;() { // NO inv -&gt;\r\n  private int count = 0;\r\n  @Override\r\n  public SpotApi.APIlistCandlesticksRequest answer(InvocationOnMock invocationOnMock) {\r\n    count++;\r\n    if (count == 1) {\r\n      return mockAPIlistCandlesticksRequest;\r\n    } else if (count == 2) {\r\n      return mockAPIlistCandlesticksRequest2;\r\n    }\r\n    return null;\r\n  }\r\n}).when(mockSpotApi).listCandlesticks(COINPAIR);\r\n```","title":"doAnswer and ClassCastException","body":"<p>The problem is that you are making an <code>Answer</code> which returns an answer which returns the <code>SpotApi.APIlistCandlesticksRequest</code>. You see, the construct <code>inv -&gt; new Answer() { ...}</code> is a function returning an <code>Answer</code>. When given as argument to <code>doAnswer</code> it implicitly becomes an implementation of the <code>Answer</code> functional interface, per the contract of <code>doAnswer</code>.</p>\n<p>Just keep one. If you keep the labda it will be more awkward to keep state (the <code>count</code>), so you can just keep the inner class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>doAnswer(new Answer&lt;SpotApi.APIlistCandlesticksRequest&gt;() { // NO inv -&gt;\n  private int count = 0;\n  @Override\n  public SpotApi.APIlistCandlesticksRequest answer(InvocationOnMock invocationOnMock) {\n    count++;\n    if (count == 1) {\n      return mockAPIlistCandlesticksRequest;\n    } else if (count == 2) {\n      return mockAPIlistCandlesticksRequest2;\n    }\n    return null;\n  }\n}).when(mockSpotApi).listCandlesticks(COINPAIR);\n</code></pre>\n"}],"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71452706,"answer_count":1,"score":0,"last_activity_date":1647116772,"creation_date":1647113314,"question_id":71452528,"body_markdown":"I&#39;m trying to stub a method invocation \r\n\r\n    SpotApi.APIlistCandlesticksRequest req = spotApi.listCandlesticks(coinPair);\r\n\r\nto return different values for different invocations, with:\r\n\r\n      @Mock private SpotApi.APIlistCandlesticksRequest \r\n      mockAPIlistCandlesticksRequest, mockAPIlistCandlesticksRequest2;\r\n      . . . \r\n       doAnswer(inv-&gt; new Answer&lt;SpotApi.APIlistCandlesticksRequest&gt;() {\r\n      private int count = 0;\r\n      @Override\r\n      public SpotApi.APIlistCandlesticksRequest answer(InvocationOnMock invocationOnMock) {\r\n        count++;\r\n        if (count == 1) {\r\n          return mockAPIlistCandlesticksRequest;\r\n        } else if (count == 2) {\r\n          return mockAPIlistCandlesticksRequest2;\r\n        }\r\n        return null;\r\n      }\r\n    }).when(mockSpotApi).listCandlesticks(COINPAIR);\r\n\r\nbut it fails with \r\n\r\n&gt; : class com.gateiobot.macd.MACDCalculationTest$1 cannot be cast to class io.gate.gateapi.api.SpotApi$APIlistCandlesticksRequest (com.gateiobot.macd.MACDCalculationTest$1 and io.gate.gateapi.api.SpotApi$APIlistCandlesticksRequest are in unnamed module of loader &#39;app&#39;)\r\n\r\nAny help is much appreciated.","title":"doAnswer and ClassCastException","body":"<p>I'm trying to stub a method invocation</p>\n<pre><code>SpotApi.APIlistCandlesticksRequest req = spotApi.listCandlesticks(coinPair);\n</code></pre>\n<p>to return different values for different invocations, with:</p>\n<pre><code>  @Mock private SpotApi.APIlistCandlesticksRequest \n  mockAPIlistCandlesticksRequest, mockAPIlistCandlesticksRequest2;\n  . . . \n   doAnswer(inv-&gt; new Answer&lt;SpotApi.APIlistCandlesticksRequest&gt;() {\n  private int count = 0;\n  @Override\n  public SpotApi.APIlistCandlesticksRequest answer(InvocationOnMock invocationOnMock) {\n    count++;\n    if (count == 1) {\n      return mockAPIlistCandlesticksRequest;\n    } else if (count == 2) {\n      return mockAPIlistCandlesticksRequest2;\n    }\n    return null;\n  }\n}).when(mockSpotApi).listCandlesticks(COINPAIR);\n</code></pre>\n<p>but it fails with</p>\n<blockquote>\n<p>: class com.gateiobot.macd.MACDCalculationTest$1 cannot be cast to class io.gate.gateapi.api.SpotApi$APIlistCandlesticksRequest (com.gateiobot.macd.MACDCalculationTest$1 and io.gate.gateapi.api.SpotApi$APIlistCandlesticksRequest are in unnamed module of loader 'app')</p>\n</blockquote>\n<p>Any help is much appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8471,"page":1521,"page_size":100}
