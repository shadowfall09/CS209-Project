{"items":[{"tags":["java","arrays"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1658174761,"post_id":73028004,"comment_id":128981794,"body_markdown":"A different question: why are you using `double`s as indexes for loops?","body":"A different question: why are you using <code>double</code>s as indexes for loops?"},{"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"score":0,"creation_date":1658174820,"post_id":73028004,"comment_id":128981815,"body_markdown":"so that i would be able to input decimals as elements","body":"so that i would be able to input decimals as elements"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1658174893,"post_id":73028004,"comment_id":128981831,"body_markdown":"After a quick read, you can split it into 3 methods: one to read the array, one to sort it, and one to print it out.","body":"After a quick read, you can split it into 3 methods: one to read the array, one to sort it, and one to print it out."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1658174975,"post_id":73028004,"comment_id":128981862,"body_markdown":"@Qurthala FYI, that&#39;s not needed (in fact it doesn&#39;t work, and that&#39;s why you need to  cast them so you can use them as array indexes). The important thing is that `num` is declared as an array of `double`s, but array indexes are **always** (non-negative) `int`s","body":"@Qurthala FYI, that&#39;s not needed (in fact it doesn&#39;t work, and that&#39;s why you need to  cast them so you can use them as array indexes). The important thing is that <code>num</code> is declared as an array of <code>double</code>s, but array indexes are <b>always</b> (non-negative) <code>int</code>s"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1658178335,"post_id":73028004,"comment_id":128982769,"body_markdown":"Always use ints to index arrays regardless of the array type.    The index and the type of array (double, long, Object, etc) are completely unrelated.","body":"Always use ints to index arrays regardless of the array type.    The index and the type of array (double, long, Object, etc) are completely unrelated."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658186431,"creation_date":1658185627,"answer_id":73029499,"question_id":73028004,"body_markdown":"Yes, it is possible to split this up into multiple methods. And you should.\r\n\r\nThink about the various tasks being accomplished by your app. Think about responsibilities, think about jobs to be performed. And think about data to be kept and managed. Then think about naming —&#160;naming that fits well helps to clarify one’s thinking.\r\n\r\nAs [commented][1] by Kuhn, I too see three jobs here: \r\n\r\n - Gathering input from a user\r\n - Tracking that input, and sorting the data.\r\n - Reporting that data.\r\n\r\nWith that in mind, I wrote this example class.\r\n\r\n```java\r\npackage work.basil.example.num;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class DoublesMachine\r\n{\r\n    private final int limit = 3;  // Or 10 as in Question, whatever.\r\n    private double[] doubles;\r\n\r\n    public DoublesMachine ( ) { doubles = new double[ limit ]; }\r\n\r\n    private void demo ( )\r\n    {\r\n        this.gather();\r\n        this.sort();\r\n        this.report();\r\n    }\r\n\r\n    // Use console to gather inputs for a series of double primitive values, collected inta an array.\r\n    private void gather ( )\r\n    {\r\n        try (\r\n                Scanner scanner = new Scanner( System.in ) ;\r\n        )\r\n        {\r\n            System.out.println( &quot;Tracking &quot; + this.limit + &quot; numbers.&quot; );\r\n            int index = 0;\r\n            do\r\n            {\r\n                int ordinal = index + 1;\r\n                System.out.println( &quot;Enter number # &quot; + ordinal + &quot; of &quot; + this.limit + &quot;: &quot; );\r\n                double input = scanner.nextDouble();\r\n                this.doubles[ index ] = input;\r\n                index = index + 1;  // Increment.\r\n            } while ( ( index + 1 ) &lt;= this.limit );\r\n        }\r\n    }\r\n\r\n    private void sort ( )\r\n    {\r\n        Arrays.sort( this.doubles );\r\n    }\r\n\r\n    private void report ( )\r\n    {\r\n        String output = Arrays.toString( this.doubles );\r\n        System.out.println( &quot;output = &quot; + output );\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        DoublesMachine app = new DoublesMachine();\r\n        app.demo();\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nTracking 3 numbers.\r\nEnter number # 1 of 3: \r\n2.2\r\nEnter number # 2 of 3: \r\n1.1\r\nEnter number # 3 of 3: \r\n3.3\r\noutput = [1.1, 2.2, 3.3]\r\n```\r\n\r\nNotice that we moved virtually all the code outside of the `main` method. The `main` method is *not* [object-oriented][2]. It is basically a hack, a necessary evil, to jump-start the execution of your app. Try to minimize code there, and start using objects as soon as possible.\r\n\r\nAs explained in the comments, always use an integer as the counter of your `for` loop, not a floating-point type like `double`.\r\n\r\nNotice how we placed the [`Scanner`][3] instantiation within [try-with-resources][4] syntax. This ensures a [`Closeable`][5] resource such as `Scanner` is automatically closed even if an exception is thrown.\r\n\r\n----------\r\n\r\nFor learning purposes, I suggest you give the above example only a quick glance. Get the general idea, then try writing your own. The learning is in the doing.\r\n\r\nBy the way, in real work, we would write separate classes. This gives more flexibility, and allows for writing tests. For example, gathering input from a user should be entirely separate from the management of state (the collection of `double` numbers), in a class of its own. But that is beyond the scope of a Java 101 student assignment.\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73028004/is-it-possible-to-split-this-up-into-multiple-methods/73029499#comment128981831_73028004\r\n  [2]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html","title":"Is it possible to split this up into multiple methods?","body":"<p>Yes, it is possible to split this up into multiple methods. And you should.</p>\n<p>Think about the various tasks being accomplished by your app. Think about responsibilities, think about jobs to be performed. And think about data to be kept and managed. Then think about naming — naming that fits well helps to clarify one’s thinking.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/73028004/is-it-possible-to-split-this-up-into-multiple-methods/73029499#comment128981831_73028004\">commented</a> by Kuhn, I too see three jobs here:</p>\n<ul>\n<li>Gathering input from a user</li>\n<li>Tracking that input, and sorting the data.</li>\n<li>Reporting that data.</li>\n</ul>\n<p>With that in mind, I wrote this example class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.num;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class DoublesMachine\n{\n    private final int limit = 3;  // Or 10 as in Question, whatever.\n    private double[] doubles;\n\n    public DoublesMachine ( ) { doubles = new double[ limit ]; }\n\n    private void demo ( )\n    {\n        this.gather();\n        this.sort();\n        this.report();\n    }\n\n    // Use console to gather inputs for a series of double primitive values, collected inta an array.\n    private void gather ( )\n    {\n        try (\n                Scanner scanner = new Scanner( System.in ) ;\n        )\n        {\n            System.out.println( &quot;Tracking &quot; + this.limit + &quot; numbers.&quot; );\n            int index = 0;\n            do\n            {\n                int ordinal = index + 1;\n                System.out.println( &quot;Enter number # &quot; + ordinal + &quot; of &quot; + this.limit + &quot;: &quot; );\n                double input = scanner.nextDouble();\n                this.doubles[ index ] = input;\n                index = index + 1;  // Increment.\n            } while ( ( index + 1 ) &lt;= this.limit );\n        }\n    }\n\n    private void sort ( )\n    {\n        Arrays.sort( this.doubles );\n    }\n\n    private void report ( )\n    {\n        String output = Arrays.toString( this.doubles );\n        System.out.println( &quot;output = &quot; + output );\n    }\n\n    public static void main ( String[] args )\n    {\n        DoublesMachine app = new DoublesMachine();\n        app.demo();\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Tracking 3 numbers.\nEnter number # 1 of 3: \n2.2\nEnter number # 2 of 3: \n1.1\nEnter number # 3 of 3: \n3.3\noutput = [1.1, 2.2, 3.3]\n</code></pre>\n<p>Notice that we moved virtually all the code outside of the <code>main</code> method. The <code>main</code> method is <em>not</em> <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented</a>. It is basically a hack, a necessary evil, to jump-start the execution of your app. Try to minimize code there, and start using objects as soon as possible.</p>\n<p>As explained in the comments, always use an integer as the counter of your <code>for</code> loop, not a floating-point type like <code>double</code>.</p>\n<p>Notice how we placed the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>Scanner</code></a> instantiation within <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax. This ensures a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html\" rel=\"nofollow noreferrer\"><code>Closeable</code></a> resource such as <code>Scanner</code> is automatically closed even if an exception is thrown.</p>\n<hr />\n<p>For learning purposes, I suggest you give the above example only a quick glance. Get the general idea, then try writing your own. The learning is in the doing.</p>\n<p>By the way, in real work, we would write separate classes. This gives more flexibility, and allows for writing tests. For example, gathering input from a user should be entirely separate from the management of state (the collection of <code>double</code> numbers), in a class of its own. But that is beyond the scope of a Java 101 student assignment.</p>\n"}],"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658186431,"creation_date":1658174706,"question_id":73028004,"body_markdown":"I was working on an array program where the program would accept 10 numbers and output them in ascending order. The code itself works fine, but I was wondering if I could get help with splitting the code into 2 different methods. (eg: sorting as a separate method)\r\n\r\nHere is my code\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass arrayProgram {\r\n    public static void main(String[] args) {\r\n        double count;\r\n        count = 10;\r\n        double temp;\r\n\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        try {\r\n            double num[] = new double[(int) count];\r\n            System.out.println(&quot;Enter array elements:&quot;);\r\n            for (double i = 0; i &lt; count; i++) {\r\n                num[(int) i] = scan.nextDouble();\r\n            }\r\n            scan.close();\r\n            for (double i = 0; i &lt; count; i++) {\r\n                for (double j = i + 1; j &lt; count; j++) {\r\n                    if (num[(int) i] &gt; num[(int) j]) {\r\n                        temp = num[(int) i];\r\n                        num[(int) i] = num[(int) j];\r\n                        num[(int) j] = temp;\r\n                    }\r\n                }\r\n            }\r\n            System.out.print(&quot;Array Elements in Ascending Order: &quot;);\r\n            for (int i = 0; i &lt; count - 1; i++) {\r\n                System.out.print(num[i] + &quot;, &quot;);\r\n            }\r\n            System.out.print(num[(int) (count - 1)]);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Is it possible to split this up into multiple methods?","body":"<p>I was working on an array program where the program would accept 10 numbers and output them in ascending order. The code itself works fine, but I was wondering if I could get help with splitting the code into 2 different methods. (eg: sorting as a separate method)</p>\n<p>Here is my code</p>\n<pre><code>import java.util.Scanner;\nclass arrayProgram {\n    public static void main(String[] args) {\n        double count;\n        count = 10;\n        double temp;\n\n\n        Scanner scan = new Scanner(System.in);\n\n        try {\n            double num[] = new double[(int) count];\n            System.out.println(&quot;Enter array elements:&quot;);\n            for (double i = 0; i &lt; count; i++) {\n                num[(int) i] = scan.nextDouble();\n            }\n            scan.close();\n            for (double i = 0; i &lt; count; i++) {\n                for (double j = i + 1; j &lt; count; j++) {\n                    if (num[(int) i] &gt; num[(int) j]) {\n                        temp = num[(int) i];\n                        num[(int) i] = num[(int) j];\n                        num[(int) j] = temp;\n                    }\n                }\n            }\n            System.out.print(&quot;Array Elements in Ascending Order: &quot;);\n            for (int i = 0; i &lt; count - 1; i++) {\n                System.out.print(num[i] + &quot;, &quot;);\n            }\n            System.out.print(num[(int) (count - 1)]);\n        } catch (Exception e) {\n            System.out.println(&quot;Error!&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","criteria-api","nativequery"],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658186021,"creation_date":1658186021,"answer_id":73029534,"question_id":73027317,"body_markdown":"I hope log4j configuration is enough for that purpose.\r\nhttps://www.mkyong.com/hibernate/how-to-display-hibernate-sql-parameter-values-log4j/","title":"How to get SQL Query with parameter values from TypedQuery?","body":"<p>I hope log4j configuration is enough for that purpose.\n<a href=\"https://www.mkyong.com/hibernate/how-to-display-hibernate-sql-parameter-values-log4j/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/hibernate/how-to-display-hibernate-sql-parameter-values-log4j/</a></p>\n"}],"owner":{"account_id":9630272,"reputation":33,"user_id":7148436,"display_name":"igortorati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658186021,"creation_date":1658170754,"question_id":73027317,"body_markdown":"I would like to know if it is possible to retrieve the **(Native) SQL Query, with parameter values**, from a TypedQuery. The code would be something like:\r\n```\r\npublic String getNativeSQLString(){\r\n\tCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\tCriteriaQuery&lt;Foo&gt; criteriaQuery = criteriaBuilder.createQuery(Foo.class);\r\n\tRoot&lt;Foo&gt; root = criteriaQuery.from(Foo);\r\n\r\n\tcriteriaQuery.select(root);\r\n\tcriteriaQuery.where(getPredicatesArray());\r\n\tTypedQuery&lt;GhSummary&gt; typedQuery = entityManager.createQuery(criteriaQuery);\r\n\r\n\t// magic to transform typedQuery to Native SQL\r\n\r\n\treturn nativeSql;\r\n}\r\n```\r\n\r\nAn example of return would be: `&quot;SELECT * FROM foo WHERE id = 2 AND name IN (&#39;name1&#39;, &#39;name2&#39;) ORDER BY name DESC&quot;`.\r\n\r\nI&#39;m aware that using `String sqlQueryString = new BasicFormatterImpl().format(typedQuery.unwrap(Query.class).getQueryString());` I&#39;m able to retrieve the HQL `SELECT * FROM foo WHERE id =:param0 AND name IN (:param1, :param2) ORDER BY name DESC`, but it does not contain the values.\r\n\r\nThanks in advance.","title":"How to get SQL Query with parameter values from TypedQuery?","body":"<p>I would like to know if it is possible to retrieve the <strong>(Native) SQL Query, with parameter values</strong>, from a TypedQuery. The code would be something like:</p>\n<pre><code>public String getNativeSQLString(){\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Foo&gt; criteriaQuery = criteriaBuilder.createQuery(Foo.class);\n    Root&lt;Foo&gt; root = criteriaQuery.from(Foo);\n\n    criteriaQuery.select(root);\n    criteriaQuery.where(getPredicatesArray());\n    TypedQuery&lt;GhSummary&gt; typedQuery = entityManager.createQuery(criteriaQuery);\n\n    // magic to transform typedQuery to Native SQL\n\n    return nativeSql;\n}\n</code></pre>\n<p>An example of return would be: <code>&quot;SELECT * FROM foo WHERE id = 2 AND name IN ('name1', 'name2') ORDER BY name DESC&quot;</code>.</p>\n<p>I'm aware that using <code>String sqlQueryString = new BasicFormatterImpl().format(typedQuery.unwrap(Query.class).getQueryString());</code> I'm able to retrieve the HQL <code>SELECT * FROM foo WHERE id =:param0 AND name IN (:param1, :param2) ORDER BY name DESC</code>, but it does not contain the values.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","list","java-stream","nested-lists"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658171116,"creation_date":1658167469,"answer_id":73026715,"question_id":73026511,"body_markdown":"You can apply `filter()` with a nested stream (*exactly the same as you&#39;ve used as a condition in your code*) passed to it as a `Predicate` to verify that a list consists of only *non-empty* tiles.\r\n\r\nAnd then collect all the lists (*rows*) that have passed the *predicate* into a List using `collect()`.\r\n\r\n    public static List&lt;List&lt;Tile&gt;&gt; getNonEmptyRows(List&lt;List&lt;Tile&gt;&gt; rows) {\r\n        \r\n        return rows.stream()\r\n            .filter(row -&gt; row.stream().allMatch(tile -&gt; tile.getOccupiedBlockType() != BlockType.EMPTY))\r\n            .collect(Collectors.toList()); // or .toList() with Java 16+\r\n    }\r\n\r\n&gt; I have tried using `flatMap`\r\n\r\nYou need to use `flatMap` when your goal is to flatten the steam of collections (*or objects holding a reference to a collection*) to a stream of elements of these collections. In these case, turn a stream of lists of tiles `Stream&lt;List&lt;Tile&gt;&gt;` into a stream of tiles `Stream&lt;Tile&gt;`.\r\n\r\nJudging by your code, it&#39;s not you what you want because you&#39;re accumulating the *rows* (lists of tiles) into another list and not *&quot;flattening&quot;* them.\r\n\r\nBut just in case, that&#39;s how it can be done:\r\n\r\n    public static List&lt;Tile&gt; getNonEmptyTiles(List&lt;List&lt;Tile&gt;&gt; rows) {\r\n        \r\n        return rows.stream()\r\n            .filter(row -&gt; row.stream().allMatch(tile -&gt; tile.getOccupiedBlockType() != BlockType.EMPTY))\r\n            .flatMap(List::stream)\r\n            .collect(Collectors.toList()); // or .toList() with Java 16+\r\n    }\r\n\r\n*Sidenote:* leverage abstract data types - write your code against interfaces. https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How to use Stream to get all Lists from a nested List that match a specific condition?","body":"<p>You can apply <code>filter()</code> with a nested stream (<em>exactly the same as you've used as a condition in your code</em>) passed to it as a <code>Predicate</code> to verify that a list consists of only <em>non-empty</em> tiles.</p>\n<p>And then collect all the lists (<em>rows</em>) that have passed the <em>predicate</em> into a List using <code>collect()</code>.</p>\n<pre><code>public static List&lt;List&lt;Tile&gt;&gt; getNonEmptyRows(List&lt;List&lt;Tile&gt;&gt; rows) {\n    \n    return rows.stream()\n        .filter(row -&gt; row.stream().allMatch(tile -&gt; tile.getOccupiedBlockType() != BlockType.EMPTY))\n        .collect(Collectors.toList()); // or .toList() with Java 16+\n}\n</code></pre>\n<blockquote>\n<p>I have tried using <code>flatMap</code></p>\n</blockquote>\n<p>You need to use <code>flatMap</code> when your goal is to flatten the steam of collections (<em>or objects holding a reference to a collection</em>) to a stream of elements of these collections. In these case, turn a stream of lists of tiles <code>Stream&lt;List&lt;Tile&gt;&gt;</code> into a stream of tiles <code>Stream&lt;Tile&gt;</code>.</p>\n<p>Judging by your code, it's not you what you want because you're accumulating the <em>rows</em> (lists of tiles) into another list and not <em>&quot;flattening&quot;</em> them.</p>\n<p>But just in case, that's how it can be done:</p>\n<pre><code>public static List&lt;Tile&gt; getNonEmptyTiles(List&lt;List&lt;Tile&gt;&gt; rows) {\n    \n    return rows.stream()\n        .filter(row -&gt; row.stream().allMatch(tile -&gt; tile.getOccupiedBlockType() != BlockType.EMPTY))\n        .flatMap(List::stream)\n        .collect(Collectors.toList()); // or .toList() with Java 16+\n}\n</code></pre>\n<p><em>Sidenote:</em> leverage abstract data types - write your code against interfaces. <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"}],"owner":{"account_id":25766864,"reputation":43,"user_id":19516617,"display_name":"camelCase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73026715,"answer_count":1,"score":3,"last_activity_date":1658185927,"creation_date":1658166452,"question_id":73026511,"body_markdown":"How can I achieve the same logic in my code using only Streams, without the `for` loop as shown in my code below?\r\n\r\nI have tried using `flatMap`, but I get stuck on the condition part, since `allMatch()` only returns a `boolean`.\r\n\r\nHow can I retrieve all the rows from the nested `ArrayList` that passes the condition without using `for` loop?\r\n\r\n```java\r\nArrayList&lt;ArrayList&lt;Tile&gt;&gt; completeRows = new ArrayList&lt;&gt;();\r\nfor (ArrayList&lt;Tile&gt; rows: getGridTiles()) {\r\n    if (rows.stream().allMatch(p -&gt; p.getOccupiedBlockType() != BlockType.EMPTY)) {\r\n        completeRows.add(rows);\r\n    }\r\n}\r\n```","title":"How to use Stream to get all Lists from a nested List that match a specific condition?","body":"<p>How can I achieve the same logic in my code using only Streams, without the <code>for</code> loop as shown in my code below?</p>\n<p>I have tried using <code>flatMap</code>, but I get stuck on the condition part, since <code>allMatch()</code> only returns a <code>boolean</code>.</p>\n<p>How can I retrieve all the rows from the nested <code>ArrayList</code> that passes the condition without using <code>for</code> loop?</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;ArrayList&lt;Tile&gt;&gt; completeRows = new ArrayList&lt;&gt;();\nfor (ArrayList&lt;Tile&gt; rows: getGridTiles()) {\n    if (rows.stream().allMatch(p -&gt; p.getOccupiedBlockType() != BlockType.EMPTY)) {\n        completeRows.add(rows);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1658176271,"post_id":73028121,"comment_id":128982246,"body_markdown":"Why not just pass in an object with the changes? Even if you can do this, I wouldn&#39;t; what stops someone mistakenly &#39;update employee set salary = 0&#39;? That IN clause takes in ids is an awful lot of potential failure.  Otherwise, look at JPA criteria queries, which you can build on the fly from parameters programatically and are going to give you better errors if the properties/fields don&#39;t exist or match up with the value types. Criteria queries would let you pass in a map of property/value pairs to build the query with how ever you might need.","body":"Why not just pass in an object with the changes? Even if you can do this, I wouldn&#39;t; what stops someone mistakenly &#39;update employee set salary = 0&#39;? That IN clause takes in ids is an awful lot of potential failure.  Otherwise, look at JPA criteria queries, which you can build on the fly from parameters programatically and are going to give you better errors if the properties/fields don&#39;t exist or match up with the value types. Criteria queries would let you pass in a map of property/value pairs to build the query with how ever you might need."},{"owner":{"account_id":7092607,"reputation":550,"user_id":5427344,"accept_rate":80,"display_name":"user453575457"},"score":0,"creation_date":1658177028,"post_id":73028121,"comment_id":128982448,"body_markdown":"@Cris selection of field names is fetch from db, so can&#39;t be mistaken, all other mistakes - on users (admin level) conscience, who is properly alerted, and can revert actually last changes, i will save prev list\n\nIf i do that with object changes - i can think only about ugly `switch (fieldNme) case address -  for(id : idlist) object getById; object.setAdress(); object save();`\nAnd it will be about 15 fields - so 15 hardcoded switch cases.","body":"@Cris selection of field names is fetch from db, so can&#39;t be mistaken, all other mistakes - on users (admin level) conscience, who is properly alerted, and can revert actually last changes, i will save prev list  If i do that with object changes - i can think only about ugly <code>switch (fieldNme) case address -  for(id : idlist) object getById; object.setAdress(); object save();</code> And it will be about 15 fields - so 15 hardcoded switch cases."}],"owner":{"account_id":7092607,"reputation":550,"user_id":5427344,"accept_rate":80,"display_name":"user453575457"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658185345,"creation_date":1658175292,"question_id":73028121,"body_markdown":"I am trying to create a JPA query to update filed for the value - both field name and value are params. \r\n\r\nlike \r\n\r\n    @Query(&quot;UPDATE tableName SET :field = :value WHERE id IN (:idList)&quot;) \r\n\r\nbut getting validation fail oon start.\r\nIs it possible to construct such query with JPA?","title":"How to create jpa query to update any(param) field to any(param) value?","body":"<p>I am trying to create a JPA query to update filed for the value - both field name and value are params.</p>\n<p>like</p>\n<pre><code>@Query(&quot;UPDATE tableName SET :field = :value WHERE id IN (:idList)&quot;) \n</code></pre>\n<p>but getting validation fail oon start.\nIs it possible to construct such query with JPA?</p>\n"},{"tags":["java","quarkus","testcontainers","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658185275,"creation_date":1658185275,"answer_id":73029462,"question_id":73027902,"body_markdown":"[QuarkusTest][1] annotation uses JUnit Jupiter&#39;s ExtendWith annotation so in this case you should use `@Container` instead of `@ClassRule`, add @Testcontainer at class level and add `org.testcontainers:junit-jupiter` to your `pom.xml` or `gradle.build`\r\n\r\nYour test should looks like\r\n\r\n```java\r\n@Testcontainers\r\n@QuarkusTest\r\n@TestTransaction\r\n@TestHTTPEndpoint(CompanyController.class)\r\npublic class CompanyControllerIntegrationTest {\r\n\r\n    @Inject\r\n    CompanyService service;\r\n\r\n    @Container\r\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\r\n            .withDatabaseName(&quot;db&quot;)\r\n            .withUsername(&quot;user&quot;)\r\n            .withPassword(&quot;password&quot;);\r\n}\r\n\r\n```\r\n\r\nThe container can be started/stopped manually too\r\n\r\n```java\r\n@QuarkusTest\r\n@TestTransaction\r\n@TestHTTPEndpoint(CompanyController.class)\r\npublic class CompanyControllerIntegrationTest {\r\n\r\n    @Inject\r\n    CompanyService service;\r\n\r\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\r\n            .withDatabaseName(&quot;db&quot;)\r\n            .withUsername(&quot;user&quot;)\r\n            .withPassword(&quot;password&quot;);\r\n\r\n    @BeforeAll\r\n    void beforeAll() {\r\n        db.start();\r\n    }\r\n\r\n    @AfterAll\r\n    void beforeAll() {\r\n        db.stop();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/blob/main/test-framework/junit5/src/main/java/io/quarkus/test/junit/QuarkusTest.java","title":"DB test entries not showing when called via api","body":"<p><a href=\"https://github.com/quarkusio/quarkus/blob/main/test-framework/junit5/src/main/java/io/quarkus/test/junit/QuarkusTest.java\" rel=\"nofollow noreferrer\">QuarkusTest</a> annotation uses JUnit Jupiter's ExtendWith annotation so in this case you should use <code>@Container</code> instead of <code>@ClassRule</code>, add @Testcontainer at class level and add <code>org.testcontainers:junit-jupiter</code> to your <code>pom.xml</code> or <code>gradle.build</code></p>\n<p>Your test should looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Testcontainers\n@QuarkusTest\n@TestTransaction\n@TestHTTPEndpoint(CompanyController.class)\npublic class CompanyControllerIntegrationTest {\n\n    @Inject\n    CompanyService service;\n\n    @Container\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\n            .withDatabaseName(&quot;db&quot;)\n            .withUsername(&quot;user&quot;)\n            .withPassword(&quot;password&quot;);\n}\n\n</code></pre>\n<p>The container can be started/stopped manually too</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusTest\n@TestTransaction\n@TestHTTPEndpoint(CompanyController.class)\npublic class CompanyControllerIntegrationTest {\n\n    @Inject\n    CompanyService service;\n\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\n            .withDatabaseName(&quot;db&quot;)\n            .withUsername(&quot;user&quot;)\n            .withPassword(&quot;password&quot;);\n\n    @BeforeAll\n    void beforeAll() {\n        db.start();\n    }\n\n    @AfterAll\n    void beforeAll() {\n        db.stop();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2530747,"reputation":2060,"user_id":2199102,"accept_rate":81,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658185275,"creation_date":1658174130,"question_id":73027902,"body_markdown":"I am trying to test my API in a Quarkus APP. \r\nMy test setup is I define an object and persist it to the DB with a direct call to the service object. I then call the API and expect to get the object back, but I don&#39;t....\r\n\r\nMy test class setup is;\r\n\r\n```\r\n@QuarkusTest\r\n@TestTransaction\r\n@TestHTTPEndpoint(CompanyController.class)\r\npublic class CompanyControllerIntegrationTest {\r\n\r\n    @Inject\r\n    CompanyService service;\r\n\r\n    @ClassRule\r\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\r\n            .withDatabaseName(&quot;db&quot;)\r\n            .withUsername(&quot;user&quot;)\r\n            .withPassword(&quot;password&quot;);\r\n\r\n    @Test\r\n    void test_getCompanyThatExist() {\r\n        service.createCompany(createCompany());\r\n\r\n        given()\r\n                .when().get(&quot;/1&quot;)\r\n                .then().statusCode(200)\r\n                .body(&quot;size()&quot;, is(1));\r\n    }\r\n\r\n    private Company createCompany() {\r\n        Company company = new Company();\r\n        return company;\r\n    }\r\n}\r\n```\r\n\r\nController endpoint is;\r\n\r\n```\r\n@GET\r\n@Path(&quot;/{id}&quot;)\r\npublic Response getCompany(@PathParam(&quot;id&quot;) Long id) {\r\n    System.out.println(&quot;[CompanyController] Getting company with id - &quot; + id);\r\n    Company company = service.getCompany(id);\r\n    System.out.println(&quot;[CompanyController] Company got was &quot; + company);\r\n    return Response\r\n            .ok()\r\n            .entity(company)\r\n            .build();\r\n```\r\n\r\nService call is;\r\n\r\n```\r\npublic Company getCompany(Long id) {\r\n    Company company = repository.findById(id);\r\n    System.out.println(&quot;[CompanyService] Got company - &quot; + company);\r\n    return company;\r\n}\r\n```\r\n\r\nAnd the print outs, which really confuses me....\r\n[![console.logs][1]][1]\r\n\r\nSo the object is persisted with an ID of 1, but when I go to get the object with the ID of 1 its null. Any ideas why? As I am completely stumped at this stage. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OGWZn.png","title":"DB test entries not showing when called via api","body":"<p>I am trying to test my API in a Quarkus APP.\nMy test setup is I define an object and persist it to the DB with a direct call to the service object. I then call the API and expect to get the object back, but I don't....</p>\n<p>My test class setup is;</p>\n<pre><code>@QuarkusTest\n@TestTransaction\n@TestHTTPEndpoint(CompanyController.class)\npublic class CompanyControllerIntegrationTest {\n\n    @Inject\n    CompanyService service;\n\n    @ClassRule\n    private static PostgreSQLContainer&lt;?&gt; db = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.3-alpine&quot;)\n            .withDatabaseName(&quot;db&quot;)\n            .withUsername(&quot;user&quot;)\n            .withPassword(&quot;password&quot;);\n\n    @Test\n    void test_getCompanyThatExist() {\n        service.createCompany(createCompany());\n\n        given()\n                .when().get(&quot;/1&quot;)\n                .then().statusCode(200)\n                .body(&quot;size()&quot;, is(1));\n    }\n\n    private Company createCompany() {\n        Company company = new Company();\n        return company;\n    }\n}\n</code></pre>\n<p>Controller endpoint is;</p>\n<pre><code>@GET\n@Path(&quot;/{id}&quot;)\npublic Response getCompany(@PathParam(&quot;id&quot;) Long id) {\n    System.out.println(&quot;[CompanyController] Getting company with id - &quot; + id);\n    Company company = service.getCompany(id);\n    System.out.println(&quot;[CompanyController] Company got was &quot; + company);\n    return Response\n            .ok()\n            .entity(company)\n            .build();\n</code></pre>\n<p>Service call is;</p>\n<pre><code>public Company getCompany(Long id) {\n    Company company = repository.findById(id);\n    System.out.println(&quot;[CompanyService] Got company - &quot; + company);\n    return company;\n}\n</code></pre>\n<p>And the print outs, which really confuses me....\n<a href=\"https://i.stack.imgur.com/OGWZn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGWZn.png\" alt=\"console.logs\" /></a></p>\n<p>So the object is persisted with an ID of 1, but when I go to get the object with the ID of 1 its null. Any ideas why? As I am completely stumped at this stage.</p>\n"},{"tags":["java","spring","spring-data-rest","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":3382229,"reputation":81,"user_id":2839037,"display_name":"LucasJC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658184965,"creation_date":1658184965,"answer_id":73029429,"question_id":72868869,"body_markdown":"What you need is to annotate your MVC Controller with @RepositoryRestController instead of @RestController\r\n\r\nhttps://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers","title":"Spring Data Rest and Rest Controller together","body":"<p>What you need is to annotate your MVC Controller with @RepositoryRestController instead of @RestController</p>\n<p><a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers</a></p>\n"}],"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658184965,"creation_date":1657021439,"question_id":72868869,"body_markdown":"I&#39;m using Spring Data Rest and have ```@RepositoryRestResource``` defined with the path is ```&quot;pathXYZ&quot;```. Now I have a class with ```@RestController``` and defined a ```@GetMapping``` with ```&quot;pathXYZ/custom&quot;```.\r\n\r\nIt seems ```&quot;pathXYZ/custom&quot;``` is not able to serve. \r\n\r\nIf I changed ```&quot;pathXYZ/custom&quot;``` to ```&quot;pathABC/custom&quot;```, it is working as normal.\r\n\r\nIs that the way to have ```@RestController``` and ```@RespositoryRestResource``` working on the same &#39;base&#39; context path?","title":"Spring Data Rest and Rest Controller together","body":"<p>I'm using Spring Data Rest and have <code>@RepositoryRestResource</code> defined with the path is <code>&quot;pathXYZ&quot;</code>. Now I have a class with <code>@RestController</code> and defined a <code>@GetMapping</code> with <code>&quot;pathXYZ/custom&quot;</code>.</p>\n<p>It seems <code>&quot;pathXYZ/custom&quot;</code> is not able to serve.</p>\n<p>If I changed <code>&quot;pathXYZ/custom&quot;</code> to <code>&quot;pathABC/custom&quot;</code>, it is working as normal.</p>\n<p>Is that the way to have <code>@RestController</code> and <code>@RespositoryRestResource</code> working on the same 'base' context path?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1658179411,"post_id":73028637,"comment_id":128983037,"body_markdown":"Could you share the class declaration of Xls_Reader? One reason for this not to work might be that the package access is not possible (was it declared private?)","body":"Could you share the class declaration of Xls_Reader? One reason for this not to work might be that the package access is not possible (was it declared private?)"},{"owner":{"account_id":24755238,"reputation":15,"user_id":18640236,"display_name":"Shawn"},"score":0,"creation_date":1658182070,"post_id":73028637,"comment_id":128983617,"body_markdown":"It is a bit long so I just edited my post.","body":"It is a bit long so I just edited my post."},{"owner":{"account_id":3226023,"reputation":632,"user_id":2722391,"display_name":"Tena"},"score":0,"creation_date":1658184041,"post_id":73028637,"comment_id":128983990,"body_markdown":"If they are just a few files without a project (handled by maven or gradle) then you need to specify the classpath properly when running the compiler (https://docs.oracle.com/javase/tutorial/essential/environment/paths.html)","body":"If they are just a few files without a project (handled by maven or gradle) then you need to specify the classpath properly when running the compiler (<a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/environment/&hellip;</a>)"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1658204197,"post_id":73028637,"comment_id":128986953,"body_markdown":"If two classes are in the same package and one classes uses the other class, there&#39;s no need to import.","body":"If two classes are in the same package and one classes uses the other class, there&#39;s no need to import."},{"owner":{"account_id":24755238,"reputation":15,"user_id":18640236,"display_name":"Shawn"},"score":0,"creation_date":1658204906,"post_id":73028637,"comment_id":128987065,"body_markdown":"It is a project without Maven I am using different jar files....","body":"It is a project without Maven I am using different jar files...."}],"answers":[{"tags":[],"owner":{"account_id":3226023,"reputation":632,"user_id":2722391,"display_name":"Tena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658184590,"creation_date":1658184590,"answer_id":73029386,"question_id":73028637,"body_markdown":"In order to let the compiler knows about the classes to be compiled, you need to specify the classes explicitly. The compiler won&#39;t use the same folder to know that. You can read more about how ClassPath works here (https://docs.oracle.com/javase/tutorial/essential/environment/paths.html)\r\n\r\nAn example of compiling multiple files from the command line here:\r\nhttps://www.baeldung.com/java-compile-multiple-files\r\n\r\nI see that you are using another libraries like Apache POI, therefore it would be more convenient to use Maven or Gradle to handle both dependencies and deployments. \r\n\r\n\r\n\r\n","title":"Class imported in the same package is not being recognized","body":"<p>In order to let the compiler knows about the classes to be compiled, you need to specify the classes explicitly. The compiler won't use the same folder to know that. You can read more about how ClassPath works here (<a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/environment/paths.html</a>)</p>\n<p>An example of compiling multiple files from the command line here:\n<a href=\"https://www.baeldung.com/java-compile-multiple-files\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-compile-multiple-files</a></p>\n<p>I see that you are using another libraries like Apache POI, therefore it would be more convenient to use Maven or Gradle to handle both dependencies and deployments.</p>\n"}],"owner":{"account_id":24755238,"reputation":15,"user_id":18640236,"display_name":"Shawn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73029386,"answer_count":1,"score":0,"last_activity_date":1658184590,"creation_date":1658178403,"question_id":73028637,"body_markdown":"I have these two java files: `Xls_Reader.java` and `WriteXMLFile.java` in the same directory called `filegeneration`. I am trying to use `Xls_Reader` class in `WriteXMLFile.java` so I did this \r\n\r\n    package fileGeneration;\r\n    import fileGeneration.Xls_Reader;\r\nHowever I keep getting this error when trying to compile \r\n\r\n    WriteXMLFile.java:27: error: cannot find symbol\r\n    import fileGeneration.Xls_Reader;\r\n      symbol:   class Xls_Reader\r\n      location: class WriteXMLFile\r\n    WriteXMLFile.java:65: error: cannot find symbol\r\n                            Xls_Reader xlsDataSheet = new Xls_Reader(dataSheetPath);\r\n\r\nWhy is Xls_Reader not being found?\r\n\r\nUpdate: the following is in Xls_Reader\r\n\r\n    package fileGeneration;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.Calendar;\r\n    import org.apache.poi.ss.usermodel.DateUtil;\r\n    import org.apache.poi.hssf.usermodel.HSSFDateUtil;\r\n    //import org.apache.poi.openxml4j.util.ZipSecureFile;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    import org.apache.poi.xssf.usermodel.XSSFCell;\r\n    import org.apache.poi.xssf.usermodel.XSSFRow;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    \r\n    public class Xls_Reader {","title":"Class imported in the same package is not being recognized","body":"<p>I have these two java files: <code>Xls_Reader.java</code> and <code>WriteXMLFile.java</code> in the same directory called <code>filegeneration</code>. I am trying to use <code>Xls_Reader</code> class in <code>WriteXMLFile.java</code> so I did this</p>\n<pre><code>package fileGeneration;\nimport fileGeneration.Xls_Reader;\n</code></pre>\n<p>However I keep getting this error when trying to compile</p>\n<pre><code>WriteXMLFile.java:27: error: cannot find symbol\nimport fileGeneration.Xls_Reader;\n  symbol:   class Xls_Reader\n  location: class WriteXMLFile\nWriteXMLFile.java:65: error: cannot find symbol\n                        Xls_Reader xlsDataSheet = new Xls_Reader(dataSheetPath);\n</code></pre>\n<p>Why is Xls_Reader not being found?</p>\n<p>Update: the following is in Xls_Reader</p>\n<pre><code>package fileGeneration;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Calendar;\nimport org.apache.poi.ss.usermodel.DateUtil;\nimport org.apache.poi.hssf.usermodel.HSSFDateUtil;\n//import org.apache.poi.openxml4j.util.ZipSecureFile;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n\npublic class Xls_Reader {\n</code></pre>\n"},{"tags":["java","spring-boot","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":18774298,"reputation":11,"user_id":13690446,"display_name":"Razvan Prichici"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658184468,"creation_date":1658184468,"answer_id":73029372,"question_id":71503490,"body_markdown":"I also identified this issue and raised a bug: https://github.com/jobrunr/jobrunr/issues/473, which is solved with version 5.1.4 . \r\n\r\nHope this helps.","title":"JobRunr not triggering the jobs after db connection lost and restarted again","body":"<p>I also identified this issue and raised a bug: <a href=\"https://github.com/jobrunr/jobrunr/issues/473\" rel=\"nofollow noreferrer\">https://github.com/jobrunr/jobrunr/issues/473</a>, which is solved with version 5.1.4 .</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":22301614,"reputation":23,"user_id":16526760,"display_name":"Arvind Choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658184468,"creation_date":1647460461,"question_id":71503490,"body_markdown":"I am using Jobrunr(4.0.1) free version. we have upgraded our postgres database so it went down for some time and after this jobrunr stop working. Now i have schedule a corn job and checking if BackgroundJobServer is running or not. if not then i am restarting again.\r\n\r\n    @Scheduled(cron = &quot;0/180 * * ? * *&quot;)\r\n    @SchedulerLock(\r\n            name = &quot;job_lock&quot;,\r\n            lockAtLeastFor = &quot;30s&quot;,\r\n            lockAtMostFor = &quot;40s&quot;\r\n    )\r\n    @Trace(dispatcher=true)\r\n    public void restartJobs(){\r\n        log.error(&quot;in Job Runner&quot;);\r\n        if(JobRunr.getBackgroundJobServer() != null &amp;&amp; !JobRunr.getBackgroundJobServer().isRunning()) {\r\n            JobRunr.getBackgroundJobServer().start();\r\n        }\r\n\r\n it successfully restarted but now it&#39;s not triggering the jobs.\r\n\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jobrunr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jobrunr&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n``` ","title":"JobRunr not triggering the jobs after db connection lost and restarted again","body":"<p>I am using Jobrunr(4.0.1) free version. we have upgraded our postgres database so it went down for some time and after this jobrunr stop working. Now i have schedule a corn job and checking if BackgroundJobServer is running or not. if not then i am restarting again.</p>\n<pre><code>@Scheduled(cron = &quot;0/180 * * ? * *&quot;)\n@SchedulerLock(\n        name = &quot;job_lock&quot;,\n        lockAtLeastFor = &quot;30s&quot;,\n        lockAtMostFor = &quot;40s&quot;\n)\n@Trace(dispatcher=true)\npublic void restartJobs(){\n    log.error(&quot;in Job Runner&quot;);\n    if(JobRunr.getBackgroundJobServer() != null &amp;&amp; !JobRunr.getBackgroundJobServer().isRunning()) {\n        JobRunr.getBackgroundJobServer().start();\n    }\n</code></pre>\n<p>it successfully restarted but now it's not triggering the jobs.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.jobrunr&lt;/groupId&gt;\n            &lt;artifactId&gt;jobrunr&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1658160496,"post_id":73023821,"comment_id":128977023,"body_markdown":"the TabPane&#39;s skin thinks there is not enough vertical space to show all tabs completely (look at the implementation, it&#39;s in tabsFit() of TabHeaderArea) - a hack might be to reduce the tab widths by some pixel. At the end of the day, you would need a custom skin to customize the layout (which is basically trivial .. except that everything is package-/private, so not much leeway to hook in)","body":"the TabPane&#39;s skin thinks there is not enough vertical space to show all tabs completely (look at the implementation, it&#39;s in tabsFit() of TabHeaderArea) - a hack might be to reduce the tab widths by some pixel. At the end of the day, you would need a custom skin to customize the layout (which is basically trivial .. except that everything is package-/private, so not much leeway to hook in)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658165701,"post_id":73023821,"comment_id":128978865,"body_markdown":".. _vertical_ should be _horizontal_ ..","body":".. <i>vertical</i> should be <i>horizontal</i> .."}],"owner":{"account_id":5943193,"reputation":111,"user_id":4917438,"display_name":"meschi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1658188954,"answer_count":0,"score":2,"last_activity_date":1658184396,"creation_date":1658153802,"question_id":73023821,"body_markdown":"I&#39;m trying to get a Tabpane with two equally big tabs, that fill the whole space. I&#39;m using this solution:\r\nhttps://stackoverflow.com/a/51230536/4917438\r\n\r\n    tabPane.widthProperty().addListener((observable, oldValue, newValue) -&gt;\r\n    {\r\n        tabPane.setTabMinWidth(tabPane.getWidth() / tabPane.getTabs().size());\r\n        tabPane.setTabMaxWidth(tabPane.getWidth() / tabPane.getTabs().size());      \r\n    });\r\n\r\nJavaFX displays a drop-down arrow on the right tab now, however. How can the drop-down arrow be disabled?\r\nI would prefer a solution that works with code, since I currently don&#39;t use FXML.\r\n[![image of TabView][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x7MMR.png","title":"Hide the drop down Arrow of a TabPane in JavaFX","body":"<p>I'm trying to get a Tabpane with two equally big tabs, that fill the whole space. I'm using this solution:\n<a href=\"https://stackoverflow.com/a/51230536/4917438\">https://stackoverflow.com/a/51230536/4917438</a></p>\n<pre><code>tabPane.widthProperty().addListener((observable, oldValue, newValue) -&gt;\n{\n    tabPane.setTabMinWidth(tabPane.getWidth() / tabPane.getTabs().size());\n    tabPane.setTabMaxWidth(tabPane.getWidth() / tabPane.getTabs().size());      \n});\n</code></pre>\n<p>JavaFX displays a drop-down arrow on the right tab now, however. How can the drop-down arrow be disabled?\nI would prefer a solution that works with code, since I currently don't use FXML.\n<a href=\"https://i.stack.imgur.com/x7MMR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x7MMR.png\" alt=\"image of TabView\" /></a></p>\n"},{"tags":["java","mysql","spring","jdbctemplate"],"comments":[{"owner":{"account_id":7898769,"reputation":473,"user_id":5966499,"accept_rate":100,"display_name":"Ann"},"score":0,"creation_date":1525333222,"post_id":50149425,"comment_id":87316736,"body_markdown":"change code as follows jdbcTemplate.query(sql,new Object{id});","body":"change code as follows jdbcTemplate.query(sql,new Object{id});"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1525333316,"post_id":50149425,"comment_id":87316791,"body_markdown":"Possible duplicate of [Return Type for jdbcTemplate.queryForList(sql, object, classType)](https://stackoverflow.com/questions/6917906/return-type-for-jdbctemplate-queryforlistsql-object-classtype)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6917906/return-type-for-jdbctemplate-queryforlistsql-object-classtype\">Return Type for jdbcTemplate.queryForList(sql, object, classType)</a>"},{"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"score":0,"creation_date":1525333394,"post_id":50149425,"comment_id":87316838,"body_markdown":"If u meant to do like this: \nList&lt;UserInfo&gt; list = jdbcTemplate.query(sql,id,new UserInfoMapper()); it won&#39;t work :(","body":"If u meant to do like this:  List&lt;UserInfo&gt; list = jdbcTemplate.query(sql,id,new UserInfoMapper()); it won&#39;t work :("},{"owner":{"account_id":9799435,"reputation":66,"user_id":7261235,"display_name":"Anupam Biswas"},"score":0,"creation_date":1525333426,"post_id":50149425,"comment_id":87316860,"body_markdown":"Mapper would be the last param","body":"Mapper would be the last param"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1525334249,"post_id":50149425,"comment_id":87317337,"body_markdown":"Show `UserInfoMapper` and `UserInfo` please.","body":"Show <code>UserInfoMapper</code> and <code>UserInfo</code> please."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1525334537,"post_id":50149425,"comment_id":87317509,"body_markdown":"Last thing, do you have multiple DB ? Are you sure you are running the query on the correct DB ?","body":"Last thing, do you have multiple DB ? Are you sure you are running the query on the correct DB ?"},{"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"score":0,"creation_date":1525334890,"post_id":50149425,"comment_id":87317712,"body_markdown":"In Spring config method getDataSource I specifed schema:\n        dataSource.setSchema(&quot;airline&quot;); Is that enough to be sure that queries are executed on airline.users?","body":"In Spring config method getDataSource I specifed schema:         dataSource.setSchema(&quot;airline&quot;); Is that enough to be sure that queries are executed on airline.users?"},{"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"score":0,"creation_date":1525336846,"post_id":50149425,"comment_id":87318868,"body_markdown":"no suggestions? :c","body":"no suggestions? :c"},{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":0,"creation_date":1602771738,"post_id":50149425,"comment_id":113830979,"body_markdown":"I see this is a 2 year old question, however in the odd chance that you still remember the solution - did you ever figure this out?","body":"I see this is a 2 year old question, however in the odd chance that you still remember the solution - did you ever figure this out?"},{"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"score":0,"creation_date":1602825085,"post_id":50149425,"comment_id":113847316,"body_markdown":"I used Hibernate :)","body":"I used Hibernate :)"}],"answers":[{"tags":[],"owner":{"account_id":25839639,"reputation":11,"user_id":19575408,"display_name":"Jani Syed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658184383,"creation_date":1658184383,"answer_id":73029359,"question_id":50149425,"body_markdown":"Check user credentials that you are using to connect database from your application and the user credentials in console. And also check owner schema , table owner schema in your application. ","title":"Jdbc returns empty list but SQL query succesfully gets data [Spring]","body":"<p>Check user credentials that you are using to connect database from your application and the user credentials in console. And also check owner schema , table owner schema in your application.</p>\n"}],"owner":{"account_id":9172669,"reputation":49,"user_id":9715175,"display_name":"Jesper"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658184383,"creation_date":1525333081,"question_id":50149425,"body_markdown":"I am trying to execute this query:\r\n\r\n    @Override\r\n    public UserInfo get(Long id) {\r\n        String sql = &quot;SELECT * FROM users WHERE id = ? &quot;;\r\n        List&lt;UserInfo&gt; list = jdbcTemplate.query(sql,new UserInfoMapper(),id);\r\n        return list.get(0);\r\n    }\r\nbut jdbc return empty list and I get exception at return line. \r\nBut if try to execute directly though the console it returns:\r\n[Query,][1] [Answer][2]\r\n\r\n\r\nQuery was executed with id 1 and retured correct anwser;\r\nBut in method its returned [this][3]\r\n\r\n\r\nI couldn&#39;t find any same questions so that may be point at my inattention to something. But I can&#39;t see any problem that may cause this. Thanks in advance;\r\n\r\n\r\n**Updated 1**\r\nChanging code to\r\n\r\n    @Override\r\n    public UserInfo get(Long id) {\r\n        String sql = &quot;SELECT * FROM users WHERE id = ? &quot;;\r\n        List&lt;UserInfo&gt; list = jdbcTemplate.query(sql, new Object[] {id},new UserInfoMapper());\r\n        return list.get(0);\r\n    }\r\n   resulted in same: [result][4]\r\nUpdated 2\r\n\r\n    @Override\r\n    public UserInfo mapRow(ResultSet resultSet, int i) throws SQLException {\r\n        UserInfo info = new UserInfo();\r\n        info.setId(resultSet.getLong(&quot;id&quot;));\r\n        info.setFirstname(resultSet.getString(&quot;firstname&quot;));\r\n        info.setMiddlename(resultSet.getString(&quot;middlename&quot;));\r\n        info.setLastname(resultSet.getString(&quot;lastname&quot;));\r\n        info.setUsername(resultSet.getString(&quot;username&quot;));\r\n        info.setPassword(resultSet.getString(&quot;password&quot;));\r\n        info.setEmail(resultSet.getString(&quot;email&quot;));\r\n        info.setMobilephone(resultSet.getString(&quot;mobilephone&quot;));\r\n        info.setPosition(resultSet.getString(&quot;position&quot;));\r\n        return info;\r\n    }\r\n    public class UserInfo {\r\n        private Long id;\r\n        private String firstname;\r\n        private String middlename;\r\n        private String lastname;\r\n        private String username;\r\n        private String password;\r\n        private String email;\r\n        private String mobilephone;\r\n        private String position;\r\n    \r\n        public UserInfo() {\r\n        }\r\n    }\r\n\r\nGetter and setters for each field is there but I think there is no need to show them up.\r\n\r\n  [1]: https://i.stack.imgur.com/wm0hO.png\r\n  [2]: https://i.stack.imgur.com/zmv4c.png\r\n  [3]: https://i.stack.imgur.com/ZzZa0.png\r\n  [4]: https://i.stack.imgur.com/LhttD.png","title":"Jdbc returns empty list but SQL query succesfully gets data [Spring]","body":"<p>I am trying to execute this query:</p>\n\n<pre><code>@Override\npublic UserInfo get(Long id) {\n    String sql = \"SELECT * FROM users WHERE id = ? \";\n    List&lt;UserInfo&gt; list = jdbcTemplate.query(sql,new UserInfoMapper(),id);\n    return list.get(0);\n}\n</code></pre>\n\n<p>but jdbc return empty list and I get exception at return line. \nBut if try to execute directly though the console it returns:\n<a href=\"https://i.stack.imgur.com/wm0hO.png\" rel=\"nofollow noreferrer\">Query,</a> <a href=\"https://i.stack.imgur.com/zmv4c.png\" rel=\"nofollow noreferrer\">Answer</a></p>\n\n<p>Query was executed with id 1 and retured correct anwser;\nBut in method its returned <a href=\"https://i.stack.imgur.com/ZzZa0.png\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>I couldn't find any same questions so that may be point at my inattention to something. But I can't see any problem that may cause this. Thanks in advance;</p>\n\n<p><strong>Updated 1</strong>\nChanging code to</p>\n\n<pre><code>@Override\npublic UserInfo get(Long id) {\n    String sql = \"SELECT * FROM users WHERE id = ? \";\n    List&lt;UserInfo&gt; list = jdbcTemplate.query(sql, new Object[] {id},new UserInfoMapper());\n    return list.get(0);\n}\n</code></pre>\n\n<p>resulted in same: <a href=\"https://i.stack.imgur.com/LhttD.png\" rel=\"nofollow noreferrer\">result</a>\nUpdated 2</p>\n\n<pre><code>@Override\npublic UserInfo mapRow(ResultSet resultSet, int i) throws SQLException {\n    UserInfo info = new UserInfo();\n    info.setId(resultSet.getLong(\"id\"));\n    info.setFirstname(resultSet.getString(\"firstname\"));\n    info.setMiddlename(resultSet.getString(\"middlename\"));\n    info.setLastname(resultSet.getString(\"lastname\"));\n    info.setUsername(resultSet.getString(\"username\"));\n    info.setPassword(resultSet.getString(\"password\"));\n    info.setEmail(resultSet.getString(\"email\"));\n    info.setMobilephone(resultSet.getString(\"mobilephone\"));\n    info.setPosition(resultSet.getString(\"position\"));\n    return info;\n}\npublic class UserInfo {\n    private Long id;\n    private String firstname;\n    private String middlename;\n    private String lastname;\n    private String username;\n    private String password;\n    private String email;\n    private String mobilephone;\n    private String position;\n\n    public UserInfo() {\n    }\n}\n</code></pre>\n\n<p>Getter and setters for each field is there but I think there is no need to show them up.</p>\n"},{"tags":["java","android","firebase","android-studio","kotlin"],"comments":[{"owner":{"account_id":157741,"reputation":1944,"user_id":375912,"accept_rate":50,"display_name":"iWantSimpleLife"},"score":4,"creation_date":1635471638,"post_id":69758175,"comment_id":123313796,"body_markdown":"It may be a lot more helpful if you can list down the errors you are getting. If you just say there are a lot of errors or bugs, no one will be able to help you, as we do not know what the error is.","body":"It may be a lot more helpful if you can list down the errors you are getting. If you just say there are a lot of errors or bugs, no one will be able to help you, as we do not know what the error is."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1635477291,"post_id":69758175,"comment_id":123314664,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":16481797,"reputation":1,"user_id":11908382,"display_name":"Mohammed Mustaq"},"score":0,"creation_date":1635484447,"post_id":69758175,"comment_id":123315824,"body_markdown":"As I said it&#39;s a social media app. There is a login and registration form. The registration form works fine The data is uploading on database and firebase authentication is also working fine. The problems come when I try to login it says incorrect password even when it&#39;s correct. Application crashes on uploading a post. The data in my profile page shows as null. But I don&#39;t get these kind of bugs in debug apk.","body":"As I said it&#39;s a social media app. There is a login and registration form. The registration form works fine The data is uploading on database and firebase authentication is also working fine. The problems come when I try to login it says incorrect password even when it&#39;s correct. Application crashes on uploading a post. The data in my profile page shows as null. But I don&#39;t get these kind of bugs in debug apk."},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1635488797,"post_id":69758175,"comment_id":123316756,"body_markdown":"try investigating with logcat for example to see any stack traces","body":"try investigating with logcat for example to see any stack traces"},{"owner":{"account_id":16481797,"reputation":1,"user_id":11908382,"display_name":"Mohammed Mustaq"},"score":0,"creation_date":1635498012,"post_id":69758175,"comment_id":123319778,"body_markdown":"already tried but not quiet working","body":"already tried but not quiet working"}],"answers":[{"tags":[],"owner":{"account_id":25801852,"reputation":1,"user_id":19544120,"display_name":"Carlos Augusto Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658184291,"creation_date":1657735113,"answer_id":72970683,"question_id":69758175,"body_markdown":"I had similar problem. Only now I discovered that the standard intellIj and Android Studio mode are debug mode. \r\n\r\nI reviewed the threads of my application on release mode, and replaced the threads of type 1 for threads of type 2:\r\n\r\nThreads Type 1:\r\n\r\n    class TimeCheckURL extends TimerTask\r\n    {\r\n        @RequiresApi(api = Build.VERSION_CODES.M)\r\n        public void run()\r\n        {\r\n            \r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n\r\n                    Data = null;       \r\n                    Data = new JsonTask().execute(urlBase);\r\n                    threadEnd = true;\r\n                }\r\n            }).start();        \r\n        }\r\n    }\r\n\r\nThreads Type 2:\r\n\r\n    Thread threadReadHexBsvTx = new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n\r\n                Data = JsonTask(urlBase);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    });\r\n\r\n    private void renewThread()\r\n    {\r\n        threadReadHexBsvTx = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n\r\n                    Data = JsonTask(urlBase);\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nTo monitor if threads type 1 were still alive I used the following approach;\r\n\r\n        while (!threadEnd) {\r\n            //do something\r\n        } \r\nIt worked very well when I unknowingly developed under Build Variant Debug, however when I put it on playstore I discovered that there was a release variant, and that my application did not worked properly on release mode.\r\n\r\nIt happened because everytime the processes using threads type 1 were called for the second time, the thread did not updated &quot;threadEnd&quot; and it looped forever.\r\n\r\nI discovered that I could monitor the state of thread type 2 using this aproach.\r\n\r\n     while (bsvTX.threadBroadCast.isAlive()) {\r\n            //do something\r\n        }\r\n\r\nThis solved the problem in my application. However, I could not use approach of thread type 2 on thread type 1.\r\n\r\nIt might sound very noob, but I also discovered that for threads type 2 to work the second time the processes called them, they had to be renewed, that is why I use the method renewThread().","title":"Signed apk is not working as debug apk java androidstudio","body":"<p>I had similar problem. Only now I discovered that the standard intellIj and Android Studio mode are debug mode.</p>\n<p>I reviewed the threads of my application on release mode, and replaced the threads of type 1 for threads of type 2:</p>\n<p>Threads Type 1:</p>\n<pre><code>class TimeCheckURL extends TimerTask\n{\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    public void run()\n    {\n        \n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n\n                Data = null;       \n                Data = new JsonTask().execute(urlBase);\n                threadEnd = true;\n            }\n        }).start();        \n    }\n}\n</code></pre>\n<p>Threads Type 2:</p>\n<pre><code>Thread threadReadHexBsvTx = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n\n            Data = JsonTask(urlBase);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n\nprivate void renewThread()\n{\n    threadReadHexBsvTx = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n\n                Data = JsonTask(urlBase);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n</code></pre>\n<p>To monitor if threads type 1 were still alive I used the following approach;</p>\n<pre><code>    while (!threadEnd) {\n        //do something\n    } \n</code></pre>\n<p>It worked very well when I unknowingly developed under Build Variant Debug, however when I put it on playstore I discovered that there was a release variant, and that my application did not worked properly on release mode.</p>\n<p>It happened because everytime the processes using threads type 1 were called for the second time, the thread did not updated &quot;threadEnd&quot; and it looped forever.</p>\n<p>I discovered that I could monitor the state of thread type 2 using this aproach.</p>\n<pre><code> while (bsvTX.threadBroadCast.isAlive()) {\n        //do something\n    }\n</code></pre>\n<p>This solved the problem in my application. However, I could not use approach of thread type 2 on thread type 1.</p>\n<p>It might sound very noob, but I also discovered that for threads type 2 to work the second time the processes called them, they had to be renewed, that is why I use the method renewThread().</p>\n"}],"owner":{"account_id":16481797,"reputation":1,"user_id":11908382,"display_name":"Mohammed Mustaq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658184291,"creation_date":1635440292,"question_id":69758175,"body_markdown":"I have been developing a project for my client. It is a type of social media application.\r\nThe database is firebase and it is written in java and some kotlin. \r\nThe debug apk was fine. \r\nI have tested it and also used it but when I try to release the app on playstore, I have to generate a signed apk, but the signed apk is not like debug apk it has many bugs.\r\nI don’t know what’s happening, please help me. \r\n\r\n                                              Thank you in advance.","title":"Signed apk is not working as debug apk java androidstudio","body":"<p>I have been developing a project for my client. It is a type of social media application.\nThe database is firebase and it is written in java and some kotlin.\nThe debug apk was fine.\nI have tested it and also used it but when I try to release the app on playstore, I have to generate a signed apk, but the signed apk is not like debug apk it has many bugs.\nI don’t know what’s happening, please help me.</p>\n<pre><code>                                          Thank you in advance.\n</code></pre>\n"},{"tags":["java","hibernate","spring","exception"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1262732161,"post_id":2007097,"comment_id":1930347,"body_markdown":"That particular exception is only thrown in certain specific circumstances, from within the Spring TX infrastructure. What message was contained within the `UnexpectedRollbackException`? That will help us track it down.","body":"That particular exception is only thrown in certain specific circumstances, from within the Spring TX infrastructure. What message was contained within the <code>UnexpectedRollbackException</code>? That will help us track it down."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1262725445,"creation_date":1262706747,"answer_id":2007165,"question_id":2007097,"body_markdown":"Scroll a little more back in the log (or increase it&#39;s buffer-size) and you will see what exactly caused the exception.\r\n\r\nIf it happens not to be there, check the `getMostSpecificCause()` and `getRootCause()` methods of `UnexpectedRollbackException`- they might be useful.","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>Scroll a little more back in the log (or increase it's buffer-size) and you will see what exactly caused the exception.</p>\n\n<p>If it happens not to be there, check the <code>getMostSpecificCause()</code> and <code>getRootCause()</code> methods of <code>UnexpectedRollbackException</code>- they might be useful.</p>\n"},{"tags":[],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1263474727,"creation_date":1263031635,"answer_id":2032984,"question_id":2007097,"body_markdown":"I found this to be answering the rest of question: https://jira.springsource.org/browse/SPR-3452\r\n\r\n&gt; I guess we need to differentiate\r\n&gt; between &#39;logical&#39; transaction scopes\r\n&gt; and &#39;physical&#39; transactions here...\r\n&gt; \r\n&gt; What PROPAGATION_REQUIRED creates is a\r\n&gt; logical transaction scope for each\r\n&gt; method that it gets applied to. Each\r\n&gt; such logical transaction scope can\r\n&gt; individually decide on rollback-only\r\n&gt; status, with an outer transaction\r\n&gt; scope being logically independent from\r\n&gt; the inner transaction scope. Of\r\n&gt; course, in case of standard\r\n&gt; PROPAGATION_REQUIRED behavior, they\r\n&gt; will be mapped to the same physical\r\n&gt; transaction. So a rollback-only marker\r\n&gt; set in the inner transaction scope\r\n&gt; does affect the outer transaction&#39;s\r\n&gt; chance to actually commit. However,\r\n&gt; since the outer transaction scope did\r\n&gt; not decide on a rollback itself, the\r\n&gt; rollback (silently triggered by the\r\n&gt; inner transaction scope) comes\r\n&gt; unexpected at that level - which is\r\n&gt; why an UnexpectedRollbackException\r\n&gt; gets thrown.\r\n&gt; \r\n&gt; PROPAGATION_REQUIRES_NEW, in contrast,\r\n&gt; uses a completely independent\r\n&gt; transaction for each affected\r\n&gt; transaction scope. In that case, the\r\n&gt; underlying physical transactions will\r\n&gt; be different and hence can commit or\r\n&gt; rollback independently, with an outer\r\n&gt; transaction not affected by an inner\r\n&gt; transaction&#39;s rollback status.\r\n&gt; \r\n&gt; PROPAGATION_NESTED is different again\r\n&gt; in that it uses a single physical\r\n&gt; transaction with multiple savepoints\r\n&gt; that it can roll back to. Such partial\r\n&gt; rollbacks allow an inner transaction\r\n&gt; scope to trigger a rollback for its\r\n&gt; scope, with the outer transaction\r\n&gt; being able to continue the physical\r\n&gt; transaction despite some operations\r\n&gt; having been rolled back. This is\r\n&gt; typically mapped onto JDBC savepoints,\r\n&gt; so will only work with JDBC resource\r\n&gt; transactions (Spring&#39;s\r\n&gt; DataSourceTransactionManager).\r\n&gt; \r\n&gt; To complete the discussion:\r\n&gt; UnexpectedRollbackException may also\r\n&gt; be thrown without the application ever\r\n&gt; having set a rollback-only marker\r\n&gt; itself. Instead, the transaction\r\n&gt; infrastructure may have decided that\r\n&gt; the only possible outcome is a\r\n&gt; rollback, due to constraints in the\r\n&gt; current transaction state. This is\r\n&gt; particularly relevant with XA\r\n&gt; transactions.\r\n&gt; \r\n&gt; As I suggested above, throwing an\r\n&gt; exception at the inner transaction\r\n&gt; scope, then catching that exception at\r\n&gt; the outer scope and translating it\r\n&gt; into a silent setRollbackOnly call\r\n&gt; there should work for your scenario. A\r\n&gt; caller of the outer transaction will\r\n&gt; never see an exception then. Since you\r\n&gt; only worry about such silent rollbacks\r\n&gt; because of special requirements\r\n&gt; imposed by a caller, I would even\r\n&gt; argue that the correct architectural\r\n&gt; solution is to use exceptions within\r\n&gt; the service layer, and to translate\r\n&gt; those exceptions into silent rollbacks\r\n&gt; at the service facade level (right\r\n&gt; before returning to that special\r\n&gt; caller).\r\n&gt; \r\n&gt; Since your problem is possibly not\r\n&gt; only about rollback exceptions, but\r\n&gt; rather about any exceptions thrown\r\n&gt; from your service layer, you could\r\n&gt; even use standard exception-driven\r\n&gt; rollbacks all the way throughout you\r\n&gt; service layer, and then catch and log\r\n&gt; such exceptions once the transaction\r\n&gt; has already completed, in some\r\n&gt; adapting service facade that\r\n&gt; translates your service layer&#39;s\r\n&gt; exceptions into UI-specific error\r\n&gt; states.\r\n&gt; \r\n&gt; Juergen","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>I found this to be answering the rest of question: <a href=\"https://jira.springsource.org/browse/SPR-3452\" rel=\"noreferrer\">https://jira.springsource.org/browse/SPR-3452</a></p>\n\n<blockquote>\n  <p>I guess we need to differentiate\n  between 'logical' transaction scopes\n  and 'physical' transactions here...</p>\n  \n  <p>What PROPAGATION_REQUIRED creates is a\n  logical transaction scope for each\n  method that it gets applied to. Each\n  such logical transaction scope can\n  individually decide on rollback-only\n  status, with an outer transaction\n  scope being logically independent from\n  the inner transaction scope. Of\n  course, in case of standard\n  PROPAGATION_REQUIRED behavior, they\n  will be mapped to the same physical\n  transaction. So a rollback-only marker\n  set in the inner transaction scope\n  does affect the outer transaction's\n  chance to actually commit. However,\n  since the outer transaction scope did\n  not decide on a rollback itself, the\n  rollback (silently triggered by the\n  inner transaction scope) comes\n  unexpected at that level - which is\n  why an UnexpectedRollbackException\n  gets thrown.</p>\n  \n  <p>PROPAGATION_REQUIRES_NEW, in contrast,\n  uses a completely independent\n  transaction for each affected\n  transaction scope. In that case, the\n  underlying physical transactions will\n  be different and hence can commit or\n  rollback independently, with an outer\n  transaction not affected by an inner\n  transaction's rollback status.</p>\n  \n  <p>PROPAGATION_NESTED is different again\n  in that it uses a single physical\n  transaction with multiple savepoints\n  that it can roll back to. Such partial\n  rollbacks allow an inner transaction\n  scope to trigger a rollback for its\n  scope, with the outer transaction\n  being able to continue the physical\n  transaction despite some operations\n  having been rolled back. This is\n  typically mapped onto JDBC savepoints,\n  so will only work with JDBC resource\n  transactions (Spring's\n  DataSourceTransactionManager).</p>\n  \n  <p>To complete the discussion:\n  UnexpectedRollbackException may also\n  be thrown without the application ever\n  having set a rollback-only marker\n  itself. Instead, the transaction\n  infrastructure may have decided that\n  the only possible outcome is a\n  rollback, due to constraints in the\n  current transaction state. This is\n  particularly relevant with XA\n  transactions.</p>\n  \n  <p>As I suggested above, throwing an\n  exception at the inner transaction\n  scope, then catching that exception at\n  the outer scope and translating it\n  into a silent setRollbackOnly call\n  there should work for your scenario. A\n  caller of the outer transaction will\n  never see an exception then. Since you\n  only worry about such silent rollbacks\n  because of special requirements\n  imposed by a caller, I would even\n  argue that the correct architectural\n  solution is to use exceptions within\n  the service layer, and to translate\n  those exceptions into silent rollbacks\n  at the service facade level (right\n  before returning to that special\n  caller).</p>\n  \n  <p>Since your problem is possibly not\n  only about rollback exceptions, but\n  rather about any exceptions thrown\n  from your service layer, you could\n  even use standard exception-driven\n  rollbacks all the way throughout you\n  service layer, and then catch and log\n  such exceptions once the transaction\n  has already completed, in some\n  adapting service facade that\n  translates your service layer's\n  exceptions into UI-specific error\n  states.</p>\n  \n  <p>Juergen</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1334065618,"creation_date":1334065618,"answer_id":10090034,"question_id":2007097,"body_markdown":"Well I can tell you how to reproduce the UnexpectedRollbackException. I was working on my project, and I got this UnexpectedRollbackException in following situation. I am having controller, service and dao layers in my project.\r\nWhat I did is in my service layer class,\r\n\r\n    class SomeServiceClass {\r\n    \tvoid outerTransaction() {\r\n    \t\t// some lines of code\r\n    \t\tinnerTransaction();\r\n    \t\t//AbstractPlatformTransactionManager tries to commit but UnexpectedRollbackException is thrown, not here but in controller layer class that uses SomeServiceClass.\r\n    \t}\r\n    \t\r\n    \tvoid innerTransaction() {\r\n    \t\ttry {\r\n    \t\t\t// someDaoMethod or someDaoOperation that throws exception\r\n    \t\t} catch(Exception e) {\r\n    \t\t\t// when exception is caught, transaction is rolled back, outer transaction does not know about it.\r\n    \t\t\t// I got this point where inner transaction gets rolled back when I set HibernateTransactionManager.setFailEarlyOnGlobalRollbackOnly(true)\r\n    \t\t\t// FYI : use of following second dao access is wrong, \r\n    \t\t\ttry {\r\n    \t\t\t\t// again some dao operation\r\n    \t\t\t} catch(Exception e1) {\r\n    \t\t\t\tthrow e2;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>Well I can tell you how to reproduce the UnexpectedRollbackException. I was working on my project, and I got this UnexpectedRollbackException in following situation. I am having controller, service and dao layers in my project.\nWhat I did is in my service layer class,</p>\n\n<pre><code>class SomeServiceClass {\n    void outerTransaction() {\n        // some lines of code\n        innerTransaction();\n        //AbstractPlatformTransactionManager tries to commit but UnexpectedRollbackException is thrown, not here but in controller layer class that uses SomeServiceClass.\n    }\n\n    void innerTransaction() {\n        try {\n            // someDaoMethod or someDaoOperation that throws exception\n        } catch(Exception e) {\n            // when exception is caught, transaction is rolled back, outer transaction does not know about it.\n            // I got this point where inner transaction gets rolled back when I set HibernateTransactionManager.setFailEarlyOnGlobalRollbackOnly(true)\n            // FYI : use of following second dao access is wrong, \n            try {\n                // again some dao operation\n            } catch(Exception e1) {\n                throw e2;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9940297,"reputation":1,"user_id":7384525,"display_name":"KiS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658182704,"creation_date":1658182704,"answer_id":73029197,"question_id":2007097,"body_markdown":"I had this problem with Spring Framework 4 + Java 1.8 for this exception.\r\nI solved it.\r\n&#128522; \r\n\r\nI know that runtime exceptions rollbacks.\r\nBut in my case, project do not use runtime exceptions.\r\n\r\nFor example, we have code. \r\n\r\n```\r\n@Transactional \r\n@Service\r\nUserFacadeIml implements UserFacade\r\n{\r\n@Autowired\r\nprivate UserService userService;\r\n\r\n//throws  UnexpectedRollbackException \r\n//instead NotRuntimeEx\r\n@Override\r\npublic void saveUser(User user)\r\nthrows NotRuntimeEx\r\n{\r\n return userService.saveUser(user);\r\n}\r\n}\r\n```\r\n\r\nI solved it, when add &quot;Transactional(rollBackFor=NotRuntimeEx.class)&quot; for facade.\r\nIt works, because Spring use proxy for facade and proxy for service.\r\nWhen transactional rollback, proxy of service send context to facade.\r\nBut facade proxy does not understand, why transaction rollback.\r\n\r\n```\r\n@Transactional(rollBackFor=NotRuntimeEx.class)\r\n@Service\r\nUserServiceIml implements UserService\r\n{\r\n@Override\r\npublic void saveUser(User user)\r\nthrows NotRuntimeEx\r\n{\r\n throw new NotRuntimeEx(user);\r\n}\r\n}\r\n```","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>I had this problem with Spring Framework 4 + Java 1.8 for this exception.\nI solved it.\n😊</p>\n<p>I know that runtime exceptions rollbacks.\nBut in my case, project do not use runtime exceptions.</p>\n<p>For example, we have code.</p>\n<pre><code>@Transactional \n@Service\nUserFacadeIml implements UserFacade\n{\n@Autowired\nprivate UserService userService;\n\n//throws  UnexpectedRollbackException \n//instead NotRuntimeEx\n@Override\npublic void saveUser(User user)\nthrows NotRuntimeEx\n{\n return userService.saveUser(user);\n}\n}\n</code></pre>\n<p>I solved it, when add &quot;Transactional(rollBackFor=NotRuntimeEx.class)&quot; for facade.\nIt works, because Spring use proxy for facade and proxy for service.\nWhen transactional rollback, proxy of service send context to facade.\nBut facade proxy does not understand, why transaction rollback.</p>\n<pre><code>@Transactional(rollBackFor=NotRuntimeEx.class)\n@Service\nUserServiceIml implements UserService\n{\n@Override\npublic void saveUser(User user)\nthrows NotRuntimeEx\n{\n throw new NotRuntimeEx(user);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29189,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":2007165,"answer_count":4,"score":26,"last_activity_date":1658182704,"creation_date":1262706166,"question_id":2007097,"body_markdown":"All I know about this exception is from Spring&#39;s [documentation][1] and some forum posts with frostrated developers pasting huge stack traces, and no replies.\r\n\r\nFrom Spring&#39;s documentation:\r\n\r\n&gt; Thrown when an attempt to commit a transaction resulted in an unexpected rollback\r\n\r\n\r\nI want to understand once and for all \r\n\r\n 1. **Exactly what causes it?**\r\n    - Where did the rollback occur? in the App Server code or in the Database?\r\n    - Was it caused due to a specific underlying exception (e.g. something from java.sql.*)?\r\n    - Is it related to Hibernate? Is it related to Spring Transaction Manager (non JTA in my case)?\r\n\r\n 2. **How to avoid it?** is there any best practice to avoid it?\r\n 3. **How to debug it?** it seems to be hard to reproduce, any proven ways to troubleshoot it?\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/transaction/UnexpectedRollbackException.html","title":"UnexpectedRollbackException - a full scenario analysis","body":"<p>All I know about this exception is from Spring's <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/transaction/UnexpectedRollbackException.html\" rel=\"noreferrer\">documentation</a> and some forum posts with frostrated developers pasting huge stack traces, and no replies.</p>\n\n<p>From Spring's documentation:</p>\n\n<blockquote>\n  <p>Thrown when an attempt to commit a transaction resulted in an unexpected rollback</p>\n</blockquote>\n\n<p>I want to understand once and for all </p>\n\n<ol>\n<li><p><strong>Exactly what causes it?</strong></p>\n\n<ul>\n<li>Where did the rollback occur? in the App Server code or in the Database?</li>\n<li>Was it caused due to a specific underlying exception (e.g. something from java.sql.*)?</li>\n<li>Is it related to Hibernate? Is it related to Spring Transaction Manager (non JTA in my case)?</li>\n</ul></li>\n<li><p><strong>How to avoid it?</strong> is there any best practice to avoid it?</p></li>\n<li><strong>How to debug it?</strong> it seems to be hard to reproduce, any proven ways to troubleshoot it?</li>\n</ol>\n"},{"tags":["java","android","android-studio","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":22069108,"reputation":19,"user_id":16330416,"display_name":"Lacoudasse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658181947,"creation_date":1658181947,"answer_id":73029104,"question_id":73028981,"body_markdown":"You need to request the permission and verify if it was allowed with a broadcast listnener I think","title":"Permission Denial: opening provider com.android.providers.contacts.ContactsProvider2 Read_Contacts and I don&#39;t have a write permission","body":"<p>You need to request the permission and verify if it was allowed with a broadcast listnener I think</p>\n"}],"owner":{"account_id":7714918,"reputation":121,"user_id":5843030,"display_name":"N MZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658181947,"creation_date":1658180967,"question_id":73028981,"body_markdown":"I try to build Retrieving a List of Contacts from android website,\r\n  https://android-doc.github.io/training/contacts-provider/retrieve-names.html#Permissions\r\n  and I try to configure this to 31 target api. \r\n   I got this error\r\n    \r\n E/AndroidRuntime: FATAL EXCEPTION: ModernAsyncTask #1\r\n   Process: com.example.contactlistandroid, PID: 15844\r\n        java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n               Caused by: java.lang.SecurityException: Permission Denial: opening provider com.android.providers.contacts.ContactsProvider2 from ProcessRecord{b4e47ee 15844:com.example.contactlistandroid/u0a160} (pid=15844, uid=10160) requires android.permission.READ_CONTACTS or android.permission.WRITE_CONTACTS\r\n    \r\n    \r\nhere is my main activity\r\n```    \r\n  /*\r\n * Copyright (C) 2013 The Android Open Source Project\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\npackage com.example.contactlistandroid.ui;\r\n\r\nimport android.app.SearchManager;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport com.example.contactlistandroid.BuildConfig;\r\nimport com.example.contactlistandroid.R;\r\nimport com.example.contactlistandroid.util.Utils;\r\n\r\n/**\r\n * FragmentActivity to hold the main {@link ContactsListFragment}. On larger screen devices which\r\n * can fit two panes also load {@link ContactDetailFragment}.\r\n */\r\npublic class ContactsListActivity extends FragmentActivity implements\r\n        ContactsListFragment.OnContactsInteractionListener {\r\n\r\n    // Defines a tag for identifying log entries\r\n    private static final String TAG = &quot;ContactsListActivity&quot;;\r\n\r\n    private ContactDetailFragment mContactDetailFragment;\r\n\r\n    // If true, this is a larger screen device which fits two panes\r\n    private boolean isTwoPaneLayout;\r\n\r\n    // True if this activity instance is a search result view (used on pre-HC devices that load\r\n    // search results in a separate instance of the activity rather than loading results in-line\r\n    // as the query is typed.\r\n    private boolean isSearchResultView = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        if (BuildConfig.DEBUG) {\r\n            Utils.enableStrictMode();\r\n        }\r\n        super.onCreate(savedInstanceState);\r\n\r\n        // Set main content view. On smaller screen devices this is a single pane view with one\r\n        // fragment. One larger screen devices this is a two pane view with two fragments.\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Check if two pane bool is set based on resource directories\r\n        isTwoPaneLayout = getResources().getBoolean(R.bool.has_two_panes);\r\n\r\n        // Check if this activity instance has been triggered as a result of a search query. This\r\n        // will only happen on pre-HC OS versions as from HC onward search is carried out using\r\n        // an ActionBar SearchView which carries out the search in-line without loading a new\r\n        // Activity.\r\n        if (Intent.ACTION_SEARCH.equals(getIntent().getAction())) {\r\n\r\n            // Fetch query from intent and notify the fragment that it should display search\r\n            // results instead of all contacts.\r\n            String searchQuery = getIntent().getStringExtra(SearchManager.QUERY);\r\n            ContactsListFragment mContactsListFragment = (ContactsListFragment)\r\n                    getSupportFragmentManager().findFragmentById(R.id.contact_list);\r\n\r\n            // This flag notes that the Activity is doing a search, and so the result will be\r\n            // search results rather than all contacts. This prevents the Activity and Fragment\r\n            // from trying to a search on search results.\r\n            isSearchResultView = true;\r\n            mContactsListFragment.setSearchQuery(searchQuery);\r\n\r\n            // Set special title for search results\r\n            String title = getString(R.string.contacts_list_search_results_title, searchQuery);\r\n            setTitle(title);\r\n        }\r\n\r\n        if (isTwoPaneLayout) {\r\n            // If two pane layout, locate the contact detail fragment\r\n            mContactDetailFragment = (ContactDetailFragment)\r\n                    getSupportFragmentManager().findFragmentById(R.id.contact_detail);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This interface callback lets the main contacts list fragment notify\r\n     * this activity that a contact has been selected.\r\n     *\r\n     * @param contactUri The contact Uri to the selected contact.\r\n     */\r\n    @Override\r\n    public void onContactSelected(Uri contactUri) {\r\n        if (isTwoPaneLayout &amp;&amp; mContactDetailFragment != null) {\r\n            // If two pane layout then update the detail fragment to show the selected contact\r\n            mContactDetailFragment.setContact(contactUri);\r\n        } else {\r\n            // Otherwise single pane layout, start a new ContactDetailActivity with\r\n            // the contact Uri\r\n            Intent intent = new Intent(this, ContactDetailActivity.class);\r\n            intent.setData(contactUri);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This interface callback lets the main contacts list fragment notify\r\n     * this activity that a contact is no longer selected.\r\n     */\r\n    @Override\r\n    public void onSelectionCleared() {\r\n        if (isTwoPaneLayout &amp;&amp; mContactDetailFragment != null) {\r\n            mContactDetailFragment.setContact(null);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onSearchRequested() {\r\n        // Don&#39;t allow another search if this activity instance is already showing\r\n        // search results. Only used pre-HC.\r\n        return !isSearchResultView &amp;&amp; super.onSearchRequested();\r\n    }\r\n}\r\n```\r\nmainfest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.contactlistandroid&quot;&gt;\r\n&lt;!--\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n--&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.ContactListAndroid&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.ContactsListActivity&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;!-- Add intent-filter for search intent action and specify searchable configuration\r\n                via meta-data tag. This allows this activity to receive search intents via the\r\n                system hooks. In this sample this is only used on older OS versions (pre-Honeycomb)\r\n                via the activity search dialog. See the Search API guide for more information:\r\n                http://developer.android.com/guide/topics/search/search-dialog.html --&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEARCH&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data android:name=&quot;android.app.searchable&quot;\r\n                android:resource=&quot;@xml/searchable_contacts&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.ContactDetailActivity&quot;\r\n            android:label=&quot;@string/activity_contact_detail&quot;\r\n            android:parentActivityName=&quot;.ui.ContactsListActivity&quot;&gt;\r\n            &lt;!-- Define hierarchical parent of this activity, both via the system\r\n                 parentActivityName attribute (added in API Level 16) and via meta-data annotation.\r\n                 This allows use of the support library NavUtils class in a way that works over\r\n                 all Android versions. See the &quot;Tasks and Back Stack&quot; guide for more information:\r\n                 http://developer.android.com/guide/components/tasks-and-back-stack.html\r\n            --&gt;\r\n            &lt;meta-data android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                android:value=&quot;.ui.ContactsListActivity&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nThanks for the assistance\r\n\r\n","title":"Permission Denial: opening provider com.android.providers.contacts.ContactsProvider2 Read_Contacts and I don&#39;t have a write permission","body":"<p>I try to build Retrieving a List of Contacts from android website,\n<a href=\"https://android-doc.github.io/training/contacts-provider/retrieve-names.html#Permissions\" rel=\"nofollow noreferrer\">https://android-doc.github.io/training/contacts-provider/retrieve-names.html#Permissions</a>\nand I try to configure this to 31 target api.\nI got this error</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: ModernAsyncTask #1\nProcess: com.example.contactlistandroid, PID: 15844\njava.lang.RuntimeException: An error occurred while executing doInBackground()\nCaused by: java.lang.SecurityException: Permission Denial: opening provider com.android.providers.contacts.ContactsProvider2 from ProcessRecord{b4e47ee 15844:com.example.contactlistandroid/u0a160} (pid=15844, uid=10160) requires android.permission.READ_CONTACTS or android.permission.WRITE_CONTACTS</p>\n<p>here is my main activity</p>\n<pre><code>  /*\n * Copyright (C) 2013 The Android Open Source Project\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage com.example.contactlistandroid.ui;\n\nimport android.app.SearchManager;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\n\nimport androidx.fragment.app.FragmentActivity;\n\nimport com.example.contactlistandroid.BuildConfig;\nimport com.example.contactlistandroid.R;\nimport com.example.contactlistandroid.util.Utils;\n\n/**\n * FragmentActivity to hold the main {@link ContactsListFragment}. On larger screen devices which\n * can fit two panes also load {@link ContactDetailFragment}.\n */\npublic class ContactsListActivity extends FragmentActivity implements\n        ContactsListFragment.OnContactsInteractionListener {\n\n    // Defines a tag for identifying log entries\n    private static final String TAG = &quot;ContactsListActivity&quot;;\n\n    private ContactDetailFragment mContactDetailFragment;\n\n    // If true, this is a larger screen device which fits two panes\n    private boolean isTwoPaneLayout;\n\n    // True if this activity instance is a search result view (used on pre-HC devices that load\n    // search results in a separate instance of the activity rather than loading results in-line\n    // as the query is typed.\n    private boolean isSearchResultView = false;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        if (BuildConfig.DEBUG) {\n            Utils.enableStrictMode();\n        }\n        super.onCreate(savedInstanceState);\n\n        // Set main content view. On smaller screen devices this is a single pane view with one\n        // fragment. One larger screen devices this is a two pane view with two fragments.\n        setContentView(R.layout.activity_main);\n\n        // Check if two pane bool is set based on resource directories\n        isTwoPaneLayout = getResources().getBoolean(R.bool.has_two_panes);\n\n        // Check if this activity instance has been triggered as a result of a search query. This\n        // will only happen on pre-HC OS versions as from HC onward search is carried out using\n        // an ActionBar SearchView which carries out the search in-line without loading a new\n        // Activity.\n        if (Intent.ACTION_SEARCH.equals(getIntent().getAction())) {\n\n            // Fetch query from intent and notify the fragment that it should display search\n            // results instead of all contacts.\n            String searchQuery = getIntent().getStringExtra(SearchManager.QUERY);\n            ContactsListFragment mContactsListFragment = (ContactsListFragment)\n                    getSupportFragmentManager().findFragmentById(R.id.contact_list);\n\n            // This flag notes that the Activity is doing a search, and so the result will be\n            // search results rather than all contacts. This prevents the Activity and Fragment\n            // from trying to a search on search results.\n            isSearchResultView = true;\n            mContactsListFragment.setSearchQuery(searchQuery);\n\n            // Set special title for search results\n            String title = getString(R.string.contacts_list_search_results_title, searchQuery);\n            setTitle(title);\n        }\n\n        if (isTwoPaneLayout) {\n            // If two pane layout, locate the contact detail fragment\n            mContactDetailFragment = (ContactDetailFragment)\n                    getSupportFragmentManager().findFragmentById(R.id.contact_detail);\n        }\n    }\n\n    /**\n     * This interface callback lets the main contacts list fragment notify\n     * this activity that a contact has been selected.\n     *\n     * @param contactUri The contact Uri to the selected contact.\n     */\n    @Override\n    public void onContactSelected(Uri contactUri) {\n        if (isTwoPaneLayout &amp;&amp; mContactDetailFragment != null) {\n            // If two pane layout then update the detail fragment to show the selected contact\n            mContactDetailFragment.setContact(contactUri);\n        } else {\n            // Otherwise single pane layout, start a new ContactDetailActivity with\n            // the contact Uri\n            Intent intent = new Intent(this, ContactDetailActivity.class);\n            intent.setData(contactUri);\n            startActivity(intent);\n        }\n    }\n\n    /**\n     * This interface callback lets the main contacts list fragment notify\n     * this activity that a contact is no longer selected.\n     */\n    @Override\n    public void onSelectionCleared() {\n        if (isTwoPaneLayout &amp;&amp; mContactDetailFragment != null) {\n            mContactDetailFragment.setContact(null);\n        }\n    }\n\n    @Override\n    public boolean onSearchRequested() {\n        // Don't allow another search if this activity instance is already showing\n        // search results. Only used pre-HC.\n        return !isSearchResultView &amp;&amp; super.onSearchRequested();\n    }\n}\n</code></pre>\n<p>mainfest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.contactlistandroid&quot;&gt;\n&lt;!--\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n--&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ContactListAndroid&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.ui.ContactsListActivity&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;!-- Add intent-filter for search intent action and specify searchable configuration\n                via meta-data tag. This allows this activity to receive search intents via the\n                system hooks. In this sample this is only used on older OS versions (pre-Honeycomb)\n                via the activity search dialog. See the Search API guide for more information:\n                http://developer.android.com/guide/topics/search/search-dialog.html --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEARCH&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=&quot;android.app.searchable&quot;\n                android:resource=&quot;@xml/searchable_contacts&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.ui.ContactDetailActivity&quot;\n            android:label=&quot;@string/activity_contact_detail&quot;\n            android:parentActivityName=&quot;.ui.ContactsListActivity&quot;&gt;\n            &lt;!-- Define hierarchical parent of this activity, both via the system\n                 parentActivityName attribute (added in API Level 16) and via meta-data annotation.\n                 This allows use of the support library NavUtils class in a way that works over\n                 all Android versions. See the &quot;Tasks and Back Stack&quot; guide for more information:\n                 http://developer.android.com/guide/components/tasks-and-back-stack.html\n            --&gt;\n            &lt;meta-data android:name=&quot;android.support.PARENT_ACTIVITY&quot;\n                android:value=&quot;.ui.ContactsListActivity&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Thanks for the assistance</p>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1576572232,"post_id":59370156,"comment_id":104933711,"body_markdown":"That looks quite a lot like a `.doc` style hyperlink, with the field parts encoded as XML, which is not the normal `.docx` way to store them. Any idea how this file was generated?","body":"That looks quite a lot like a <code>.doc</code> style hyperlink, with the field parts encoded as XML, which is not the normal <code>.docx</code> way to store them. Any idea how this file was generated?"},{"owner":{"account_id":6592879,"reputation":792,"user_id":5093548,"accept_rate":40,"display_name":"Vasco"},"score":0,"creation_date":1576572683,"post_id":59370156,"comment_id":104933913,"body_markdown":"Unfortunately I do not. These are legacy documents and i do not have trace of their origins.","body":"Unfortunately I do not. These are legacy documents and i do not have trace of their origins."}],"answers":[{"tags":[],"owner":{"account_id":8494000,"reputation":1108,"user_id":6454838,"display_name":"NickAth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658181705,"creation_date":1658181705,"answer_id":73029074,"question_id":59370156,"body_markdown":"Having faced a similar problem with that, where in my case I had to extract all `hyperlinks` of my .docx file in order to **edit their url**, I noticed that I had too a &quot;strangely formatted link&quot; encoded as \r\n\r\n    &lt;w:r&gt;\r\n        &lt;w:instrText xml:space=&quot;preserve&quot;&gt; HYPERLINK &quot;file//.....&quot; &lt;/w:instrText&gt;\r\n    &lt;/w:r&gt;\r\n\r\nSince I noticed through debugging that this kind of link was an instance of `XWPFRun` and not `XWPFHyperlinkRun`, I did the following to &quot;handle it&quot; through the document parsing.\r\n\r\n    private void traverseToBodyElements(List&lt;IBodyElement&gt; bodyElements, XWPFDocument document) throws Exception {\r\n        for (IBodyElement bodyElement : bodyElements) {\r\n            if (bodyElement instanceof XWPFParagraph) {\r\n                XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\r\n                traverseRunElements(paragraph.getIRuns(), paragraph, document);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void traverseRunElements(List&lt;IRunElement&gt; runElements, XWPFParagraph paragraph, XWPFDocument document) {\r\n       for (int rIndex = 0; rIndex &lt; runElements.size(); rIndex++) {\r\n          IRunElement runElement = runElements.get(rIndex);\r\n          if (runElement instanceof XWPFHyperlinkRun) {\r\n              // handle the hyperlink\r\n          } else if (runElement instanceof XWPFRun) {\r\n              // fix for .doc &lt;w:instrText&gt;HYPERLINK&gt;... hyperlinks extracting\r\n              XWPFRun run = (XWPFRun) runElement;\r\n              CTR ctr = run.getCTR();\r\n              CTText[] ctrInstrTextArray = ctr.getInstrTextArray();\r\n              if (ctrInstrTextArray.length &gt; 0) {\r\n                  XmlCursor c = ctr.newCursor();\r\n                  c.selectPath(&quot;./*&quot;);\r\n                  while (c.toNextSelection()) {\r\n                      XmlObject o = c.getObject();\r\n                      if (o instanceof CTText) {\r\n                          String tagName = o.getDomNode().getNodeName();\r\n                          if (&quot;w:instrText&quot;.equals(tagName)) {\r\n                              Node node = o.getDomNode();\r\n                              int childLength = node.getChildNodes().getLength();\r\n                              for (int nodeIndex = 0; nodeIndex &lt; childLength; nodeIndex++) {\r\n                                  Node n = node.getChildNodes().item(nodeIndex);\r\n                                  if (n != null) {\r\n                                      if (n.getNodeValue().contains(&quot;HYPERLINK&quot;)) {\r\n                                          // this is the &quot;strange&quot; formatted hyperlink, do what you want\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } \r\n                }\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Extracting hyperlinks from .doc using Apache POI","body":"<p>Having faced a similar problem with that, where in my case I had to extract all <code>hyperlinks</code> of my .docx file in order to <strong>edit their url</strong>, I noticed that I had too a &quot;strangely formatted link&quot; encoded as</p>\n<pre><code>&lt;w:r&gt;\n    &lt;w:instrText xml:space=&quot;preserve&quot;&gt; HYPERLINK &quot;file//.....&quot; &lt;/w:instrText&gt;\n&lt;/w:r&gt;\n</code></pre>\n<p>Since I noticed through debugging that this kind of link was an instance of <code>XWPFRun</code> and not <code>XWPFHyperlinkRun</code>, I did the following to &quot;handle it&quot; through the document parsing.</p>\n<pre><code>private void traverseToBodyElements(List&lt;IBodyElement&gt; bodyElements, XWPFDocument document) throws Exception {\n    for (IBodyElement bodyElement : bodyElements) {\n        if (bodyElement instanceof XWPFParagraph) {\n            XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\n            traverseRunElements(paragraph.getIRuns(), paragraph, document);\n        }\n    }\n}\n\nprivate void traverseRunElements(List&lt;IRunElement&gt; runElements, XWPFParagraph paragraph, XWPFDocument document) {\n   for (int rIndex = 0; rIndex &lt; runElements.size(); rIndex++) {\n      IRunElement runElement = runElements.get(rIndex);\n      if (runElement instanceof XWPFHyperlinkRun) {\n          // handle the hyperlink\n      } else if (runElement instanceof XWPFRun) {\n          // fix for .doc &lt;w:instrText&gt;HYPERLINK&gt;... hyperlinks extracting\n          XWPFRun run = (XWPFRun) runElement;\n          CTR ctr = run.getCTR();\n          CTText[] ctrInstrTextArray = ctr.getInstrTextArray();\n          if (ctrInstrTextArray.length &gt; 0) {\n              XmlCursor c = ctr.newCursor();\n              c.selectPath(&quot;./*&quot;);\n              while (c.toNextSelection()) {\n                  XmlObject o = c.getObject();\n                  if (o instanceof CTText) {\n                      String tagName = o.getDomNode().getNodeName();\n                      if (&quot;w:instrText&quot;.equals(tagName)) {\n                          Node node = o.getDomNode();\n                          int childLength = node.getChildNodes().getLength();\n                          for (int nodeIndex = 0; nodeIndex &lt; childLength; nodeIndex++) {\n                              Node n = node.getChildNodes().item(nodeIndex);\n                              if (n != null) {\n                                  if (n.getNodeValue().contains(&quot;HYPERLINK&quot;)) {\n                                      // this is the &quot;strange&quot; formatted hyperlink, do what you want\n                                }\n                            }\n                        }\n                    }\n                } \n            }\n        }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6592879,"reputation":792,"user_id":5093548,"accept_rate":40,"display_name":"Vasco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658181705,"creation_date":1576571108,"question_id":59370156,"body_markdown":"I am extracting content from Word documents with Apache POI when I ran into this problem.\r\n\r\nI was using below code to extract hyperlinks.\r\n\r\n     XWPFDocument document = ...\r\n        var it = this.document.getBodyElementsIterator();\r\n    \tXWPFParagraph para;\r\n    \tIBodyElement be;\r\n    \twhile(it.hasNext()){\r\n    \t\tbe=it.next();\r\n    \t\tString et = be.getElementType().name();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;element type&gt;&gt;&quot;+et);\r\n    \t\tswitch (et) {\r\n    \t\tcase &quot;PARAGRAPH&quot;:\r\n    \t\t\tpara = (XWPFParagraph) be;\r\n    \t\t\tresult.addContent(this.parseParagraph(para));\r\n    \t\t\tbreak;\r\n    \t\tcase &quot;TABLE&quot;:\r\n    ......\r\n    ......\r\n    \r\n        var runsIt = para.getIRuns().iterator();\r\n    \twhile(runsIt.hasNext()) {\r\n    \r\n    \t\tvar irun = runsIt.next();\t\r\n    \t\tif (irun instanceof XWPFSDT) {\r\n                var fsdt = (XWPFSDT) irun;\r\n                System.out.println(&quot;FSDT&quot;+fsdt.toString());\r\n    \t\t} else {\r\n    \t\t\t// it is xwpfrun\r\n    \t\t\tvar run = (XWPFRun) irun;\r\n    \t\t\t\r\n    \t\t\tif (irun instanceof XWPFHyperlinkRun) {\r\n    \t\t\t\tsb.append(extractHyperLink(run));\r\n    \t\t\t}else if(irun instanceof XWPFFieldRun) {\r\n    \t\t\t\tvar fieldRun= (XWPFFieldRun)irun;\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;FieldRun:  Instruction&gt;&quot;+fieldRun.getFieldInstruction()+&quot;Text&gt;&quot;+fieldRun.getText(0));\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tsb.append(run);\r\n    \t\t\t} \r\n\r\n \r\n\r\nThis works fine, but then I came across a document where the hyperlinks are not extracted. The XML extract from the relevant section is below:\r\n\r\n    &lt;w:p w:rsidP=&quot;005F1646&quot; w:rsidRDefault=&quot;00A20D69&quot; w:rsidR=&quot;005F1646&quot;&gt;\r\n        &lt;w:pPr&gt;\r\n        &lt;w:r&gt;\r\n            &lt;w:fldChar w:fldCharType=&quot;begin&quot;/&gt;\r\n        &lt;/w:r&gt;\r\n        &lt;w:r&gt;\r\n            &lt;w:instrText xml:space=&quot;preserve&quot;&gt; HYPERLINK &quot;https://stackoverflow.com&quot; &lt;/w:instrText&gt;\r\n        &lt;/w:r&gt;\r\n        &lt;w:r&gt;\r\n          &lt;w:fldChar w:fldCharType=&quot;separate&quot;/&gt;\r\n        &lt;/w:r&gt;\r\n        &lt;w:r w:rsidR=&quot;005F1646&quot; w:rsidRPr=&quot;00D4262C&quot;&gt;\r\n           &lt;w:rPr&gt;\r\n              &lt;w:rStyle w:val=&quot;Hyperlink&quot;/&gt;\r\n            &lt;/w:rPr&gt;\r\n            &lt;w:t&gt;Ask on StackOverFlow&lt;/w:t&gt;\r\n        &lt;/w:r&gt;\r\n        &lt;w:r&gt;\r\n           &lt;w:rPr&gt;\r\n             &lt;w:rStyle w:val=&quot;Hyperlink&quot;/&gt;\r\n           &lt;/w:rPr&gt;\r\n           &lt;w:fldChar w:fldCharType=&quot;end&quot;/&gt;\r\n         &lt;/w:r&gt;\r\n    &lt;/w:p&gt;\r\n\r\nApache POI does not extract the runs in this paragraph as XWPFHyperlinkRun and my code fails to extract the hyperlink.\r\nHow can I use Apache POI to extract hyperlink information in this case?","title":"Extracting hyperlinks from .doc using Apache POI","body":"<p>I am extracting content from Word documents with Apache POI when I ran into this problem.</p>\n\n<p>I was using below code to extract hyperlinks.</p>\n\n<pre><code> XWPFDocument document = ...\n    var it = this.document.getBodyElementsIterator();\n    XWPFParagraph para;\n    IBodyElement be;\n    while(it.hasNext()){\n        be=it.next();\n        String et = be.getElementType().name();\n\n        System.out.println(\"element type&gt;&gt;\"+et);\n        switch (et) {\n        case \"PARAGRAPH\":\n            para = (XWPFParagraph) be;\n            result.addContent(this.parseParagraph(para));\n            break;\n        case \"TABLE\":\n......\n......\n\n    var runsIt = para.getIRuns().iterator();\n    while(runsIt.hasNext()) {\n\n        var irun = runsIt.next();   \n        if (irun instanceof XWPFSDT) {\n            var fsdt = (XWPFSDT) irun;\n            System.out.println(\"FSDT\"+fsdt.toString());\n        } else {\n            // it is xwpfrun\n            var run = (XWPFRun) irun;\n\n            if (irun instanceof XWPFHyperlinkRun) {\n                sb.append(extractHyperLink(run));\n            }else if(irun instanceof XWPFFieldRun) {\n                var fieldRun= (XWPFFieldRun)irun;\n\n                System.out.println(\"FieldRun:  Instruction&gt;\"+fieldRun.getFieldInstruction()+\"Text&gt;\"+fieldRun.getText(0));\n            }\n            else {\n                sb.append(run);\n            } \n</code></pre>\n\n<p>This works fine, but then I came across a document where the hyperlinks are not extracted. The XML extract from the relevant section is below:</p>\n\n<pre><code>&lt;w:p w:rsidP=\"005F1646\" w:rsidRDefault=\"00A20D69\" w:rsidR=\"005F1646\"&gt;\n    &lt;w:pPr&gt;\n    &lt;w:r&gt;\n        &lt;w:fldChar w:fldCharType=\"begin\"/&gt;\n    &lt;/w:r&gt;\n    &lt;w:r&gt;\n        &lt;w:instrText xml:space=\"preserve\"&gt; HYPERLINK \"https://stackoverflow.com\" &lt;/w:instrText&gt;\n    &lt;/w:r&gt;\n    &lt;w:r&gt;\n      &lt;w:fldChar w:fldCharType=\"separate\"/&gt;\n    &lt;/w:r&gt;\n    &lt;w:r w:rsidR=\"005F1646\" w:rsidRPr=\"00D4262C\"&gt;\n       &lt;w:rPr&gt;\n          &lt;w:rStyle w:val=\"Hyperlink\"/&gt;\n        &lt;/w:rPr&gt;\n        &lt;w:t&gt;Ask on StackOverFlow&lt;/w:t&gt;\n    &lt;/w:r&gt;\n    &lt;w:r&gt;\n       &lt;w:rPr&gt;\n         &lt;w:rStyle w:val=\"Hyperlink\"/&gt;\n       &lt;/w:rPr&gt;\n       &lt;w:fldChar w:fldCharType=\"end\"/&gt;\n     &lt;/w:r&gt;\n&lt;/w:p&gt;\n</code></pre>\n\n<p>Apache POI does not extract the runs in this paragraph as XWPFHyperlinkRun and my code fails to extract the hyperlink.\nHow can I use Apache POI to extract hyperlink information in this case?</p>\n"},{"tags":["java","sql","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1658178359,"post_id":73028288,"comment_id":128982777,"body_markdown":"The usual first step for problems like this is to turn on `show_sql` and examine the statements being generated.","body":"The usual first step for problems like this is to turn on <code>show_sql</code> and examine the statements being generated."},{"owner":{"account_id":2681065,"reputation":55,"user_id":2316454,"accept_rate":0,"display_name":"mstabosz"},"score":0,"creation_date":1658241878,"post_id":73028288,"comment_id":128999998,"body_markdown":"It&#39;s already set.  Doesn&#39;t work for some reason.  Our code base is a real mess.","body":"It&#39;s already set.  Doesn&#39;t work for some reason.  Our code base is a real mess."}],"answers":[{"tags":[],"owner":{"account_id":23083282,"reputation":156,"user_id":17195225,"display_name":"Ivar Harris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658181642,"creation_date":1658181642,"answer_id":73029066,"question_id":73028288,"body_markdown":"I think I see a typo in the original code.\r\nI see an upper case and lower spelling of FILE_TYPE_FILTER\r\n\r\nI would try changing the class to:\r\n\r\n    &lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;file_type_filter&quot;&gt;\r\n\r\nOr I would try changing the column in the database table to:\r\n\r\n    FILE_TYPE_FILTER\r\n\r\nI suggest this because you are getting results with:\r\n\r\n    select * from file_type_filter where extension = &#39;pdf&#39;;\r\n\r\nAnd you get a Null value with:\r\n\r\n    &lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;FILE_TYPE_FILTER&quot;&gt;\r\n\r\n","title":"Hibernate is not pulling correct values from database","body":"<p>I think I see a typo in the original code.\nI see an upper case and lower spelling of FILE_TYPE_FILTER</p>\n<p>I would try changing the class to:</p>\n<pre><code>&lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;file_type_filter&quot;&gt;\n</code></pre>\n<p>Or I would try changing the column in the database table to:</p>\n<pre><code>FILE_TYPE_FILTER\n</code></pre>\n<p>I suggest this because you are getting results with:</p>\n<pre><code>select * from file_type_filter where extension = 'pdf';\n</code></pre>\n<p>And you get a Null value with:</p>\n<pre><code>&lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;FILE_TYPE_FILTER&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":2681065,"reputation":55,"user_id":2316454,"accept_rate":0,"display_name":"mstabosz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658181642,"creation_date":1658176344,"question_id":73028288,"body_markdown":"This one is a little hard to phrase.  The goal here is that you give the code a file extension, as a string, and it queries the database to see if that extension can be uploaded.  In case you&#39;re wondering why I don&#39;t just put this information in a Map, it&#39;s because I need the ability to change this without recompiling the program.\r\n\r\nI have this Hibernate mapping (old school XML based).\r\n\r\n    &lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;FILE_TYPE_FILTER&quot;&gt;\r\n        &lt;property name=&quot;extension&quot; column=&quot;extension&quot;/&gt;\r\n        &lt;property name=&quot;allowed&quot; column=&quot;allowed&quot;/&gt;\r\n    &lt;/class&gt;\r\n\r\nAnd the object:\r\n\r\n  \r\n\r\n      package com.everhood;\r\n        \r\n        import java.io.Serializable;\r\n        \r\n        public class FileTypeStatus implements Serializable {\r\n            private String extension;\r\n            private boolean allowed;\r\n        \r\n            public String getExtension() {\r\n                return extension;\r\n            }\r\n        \r\n            public void setExtension(String extension) {\r\n                this.extension = extension;\r\n            }\r\n        \r\n            public boolean isAllowed() {\r\n                return allowed;\r\n            }\r\n        \r\n            public void setAllowed(boolean allowed) {\r\n                this.allowed = allowed;\r\n            }\r\n        \r\n            @Override\r\n            public String toString() {\r\n                final StringBuilder sb = new StringBuilder(&quot;FileTypeStatus{&quot;);\r\n                sb.append(&quot;extension=&#39;&quot;).append(extension).append(&#39;\\&#39;&#39;);\r\n                sb.append(&quot;, allowed=&quot;).append(allowed);\r\n                sb.append(&#39;}&#39;);\r\n                return sb.toString();\r\n            }\r\n        }\r\n\r\nAnd the code in the DAO class.\r\n\r\n\r\n        @Override\r\n        public FileTypeStatus getFileExtensionStatus(String fileExtension) {\r\n            Session session = sessionFactory.getCurrentSession();\r\n            Criteria crit = session.createCriteria(FileTypeStatus.class);\r\n            crit.add(Restrictions.eq(&quot;extension&quot;,fileExtension));\r\n    \r\n            FileTypeStatus result = (FileTypeStatus) crit.uniqueResult();\r\n    \r\n            return result;\r\n          }\r\n\r\n\r\nIf you pass a valid file extension, such as &quot;pdf&quot;, you it should return a FileTypeStatus object with &quot;pdf&quot; for the extension and &quot;true&quot; for the allowed field.  What I get instead is null, which means it didn&#39;t find any result at all.  If I run this query:\r\n\r\n    select * from file_type_filter where extension = &#39;pdf&#39;;\r\n\r\nI get one row, like I should.\r\n\r\nMy Java code **is** passing the file extension as all lower case, so it&#39;s not a case sensitivity issue.\r\n\r\nI had thought that using crit.uniqueResult() might have caused a problem, but crit.list() returns an empty list.  I haven&#39;t tried a lot of things, so I can&#39;t pick out what could be causing this.","title":"Hibernate is not pulling correct values from database","body":"<p>This one is a little hard to phrase.  The goal here is that you give the code a file extension, as a string, and it queries the database to see if that extension can be uploaded.  In case you're wondering why I don't just put this information in a Map, it's because I need the ability to change this without recompiling the program.</p>\n<p>I have this Hibernate mapping (old school XML based).</p>\n<pre><code>&lt;class name=&quot;com.everhood.FileTypeStatus&quot; table=&quot;FILE_TYPE_FILTER&quot;&gt;\n    &lt;property name=&quot;extension&quot; column=&quot;extension&quot;/&gt;\n    &lt;property name=&quot;allowed&quot; column=&quot;allowed&quot;/&gt;\n&lt;/class&gt;\n</code></pre>\n<p>And the object:</p>\n<pre><code>  package com.everhood;\n    \n    import java.io.Serializable;\n    \n    public class FileTypeStatus implements Serializable {\n        private String extension;\n        private boolean allowed;\n    \n        public String getExtension() {\n            return extension;\n        }\n    \n        public void setExtension(String extension) {\n            this.extension = extension;\n        }\n    \n        public boolean isAllowed() {\n            return allowed;\n        }\n    \n        public void setAllowed(boolean allowed) {\n            this.allowed = allowed;\n        }\n    \n        @Override\n        public String toString() {\n            final StringBuilder sb = new StringBuilder(&quot;FileTypeStatus{&quot;);\n            sb.append(&quot;extension='&quot;).append(extension).append('\\'');\n            sb.append(&quot;, allowed=&quot;).append(allowed);\n            sb.append('}');\n            return sb.toString();\n        }\n    }\n</code></pre>\n<p>And the code in the DAO class.</p>\n<pre><code>    @Override\n    public FileTypeStatus getFileExtensionStatus(String fileExtension) {\n        Session session = sessionFactory.getCurrentSession();\n        Criteria crit = session.createCriteria(FileTypeStatus.class);\n        crit.add(Restrictions.eq(&quot;extension&quot;,fileExtension));\n\n        FileTypeStatus result = (FileTypeStatus) crit.uniqueResult();\n\n        return result;\n      }\n</code></pre>\n<p>If you pass a valid file extension, such as &quot;pdf&quot;, you it should return a FileTypeStatus object with &quot;pdf&quot; for the extension and &quot;true&quot; for the allowed field.  What I get instead is null, which means it didn't find any result at all.  If I run this query:</p>\n<pre><code>select * from file_type_filter where extension = 'pdf';\n</code></pre>\n<p>I get one row, like I should.</p>\n<p>My Java code <strong>is</strong> passing the file extension as all lower case, so it's not a case sensitivity issue.</p>\n<p>I had thought that using crit.uniqueResult() might have caused a problem, but crit.list() returns an empty list.  I haven't tried a lot of things, so I can't pick out what could be causing this.</p>\n"},{"tags":["java","list","sorting","generics","comparator"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1658166081,"post_id":73026380,"comment_id":128979012,"body_markdown":"`League ... implements LeagueComparator&lt;T&gt;` This is wrong. A league might be comparable to other leagues. That doesn&#39;t mean it *can compare leagues*. Comparable != Comparator.","body":"<code>League ... implements LeagueComparator&lt;T&gt;</code> This is wrong. A league might be comparable to other leagues. That doesn&#39;t mean it <i>can compare leagues</i>. Comparable != Comparator."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658166458,"creation_date":1658166458,"answer_id":73026514,"question_id":73026380,"body_markdown":"Simply returns the difference in ranking of o1 and o2.  \r\n\r\n```\r\nCollections.sort(teams, new Comparator&lt;Team&lt;T&gt;&gt;() {\r\n  @Override\r\n  public int compare(Team&lt;T&gt; o1, Team&lt;T&gt; o2) {\r\n    return o1.ranking() - o2.randking();\r\n  }\r\n});\r\n```","title":"How to sort a List of generic objects","body":"<p>Simply returns the difference in ranking of o1 and o2.</p>\n<pre><code>Collections.sort(teams, new Comparator&lt;Team&lt;T&gt;&gt;() {\n  @Override\n  public int compare(Team&lt;T&gt; o1, Team&lt;T&gt; o2) {\n    return o1.ranking() - o2.randking();\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658181320,"creation_date":1658173177,"answer_id":73027754,"question_id":73026380,"body_markdown":"&lt;h1&gt;Comparable&lt;/h1&gt;\r\n\r\n&gt; I tried with `Comparable` interface but it doesn&#39;t work\r\n\r\nIf there&#39;s **only one way** to compare *teams* that make sense from the perspective of your application - by their *ranking*, then `Team` objects have a *natural ordering* and hence class `Team` should implement `Comparable`.\r\n\r\nA quote from the [*documentation*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html):\r\n\r\n&gt; This interface imposes a total ordering on the objects of each class that implements it. This ordering is referred to as the class&#39;s ***natural ordering***, and the class&#39;s `compareTo` method is referred to as its *natural comparison method*.\r\n\r\nThat&#39;s how it might be done:\r\n\r\n    public static class Team&lt;T extends Player&gt; implements Comparable&lt;Team&lt;T&gt;&gt; {\r\n        public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_RANKING =\r\n            Comparator.comparingInt(Team::ranking);\r\n        \r\n        // fields, getters, etc.\r\n    \r\n        public int ranking() {\r\n            return (win * 2) + draw;\r\n        }\r\n    \r\n        @Override\r\n        public int compareTo(Team&lt;T&gt; other) {\r\n            return BY_TEAM_RANKING.compare(this, other);\r\n        }\r\n    }\r\n\r\nFor the sake of conciseness, method `compareTo` in the code shown above internally uses `Comparator` defined as a `static` field (*similar approach you can find in the book &quot;Effective Java&quot; by Joshua Bloch, have a look at it for more information on implementing `Comparable` interface*).\r\n\r\nTo sort the *list of teams*, use method `sort()` directly on the list (which is a more fluent alternative of `Collection.sort()` introduced with Java 8).\r\n\r\n    public class League&lt;T extends Player&gt; {\r\n        \r\n        private String name;\r\n        private List&lt;Team&lt;T&gt;&gt; teams = new ArrayList&lt;&gt;();\r\n        \r\n        public void ranking() {\r\n            teams.sort(null); // teams are comparable, hence no need to provide a comparator and null is passed as an argument\r\n        }\r\n    }\r\n\r\n&lt;h1&gt;Comparators&lt;/h1&gt;\r\n\r\nIn case if there are **multiple ways** how teams need to be sorted in different scenarios, then `Team` class should not implement `Comparable`, don&#39;t go with way.\r\n\r\nYou can define comparators for different use-cases as `public static` fields in the `Team` class, like below:\r\n\r\n    public static class Team&lt;T extends Player&gt; {\r\n        \r\n        public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_RANKING =\r\n            Comparator.comparingInt(Team::ranking);\r\n        \r\n        public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_NAME =\r\n            Comparator.comparing(Team::getName);\r\n        \r\n        // the rest code\r\n    }\r\n\r\nAnd then apply them depending on a particular case:\r\n\r\n    public void ranking() {\r\n        teams.sort(Team.BY_TEAM_RANKING);\r\n    }\r\n\r\n***Sidenote:*** write your code against interfaces, **not** implementations like `ArrayList`. See https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How to sort a List of generic objects","body":"<h1>Comparable</h1>\n<blockquote>\n<p>I tried with <code>Comparable</code> interface but it doesn't work</p>\n</blockquote>\n<p>If there's <strong>only one way</strong> to compare <em>teams</em> that make sense from the perspective of your application - by their <em>ranking</em>, then <code>Team</code> objects have a <em>natural ordering</em> and hence class <code>Team</code> should implement <code>Comparable</code>.</p>\n<p>A quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><em>documentation</em></a>:</p>\n<blockquote>\n<p>This interface imposes a total ordering on the objects of each class that implements it. This ordering is referred to as the class's <em><strong>natural ordering</strong></em>, and the class's <code>compareTo</code> method is referred to as its <em>natural comparison method</em>.</p>\n</blockquote>\n<p>That's how it might be done:</p>\n<pre><code>public static class Team&lt;T extends Player&gt; implements Comparable&lt;Team&lt;T&gt;&gt; {\n    public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_RANKING =\n        Comparator.comparingInt(Team::ranking);\n    \n    // fields, getters, etc.\n\n    public int ranking() {\n        return (win * 2) + draw;\n    }\n\n    @Override\n    public int compareTo(Team&lt;T&gt; other) {\n        return BY_TEAM_RANKING.compare(this, other);\n    }\n}\n</code></pre>\n<p>For the sake of conciseness, method <code>compareTo</code> in the code shown above internally uses <code>Comparator</code> defined as a <code>static</code> field (<em>similar approach you can find in the book &quot;Effective Java&quot; by Joshua Bloch, have a look at it for more information on implementing <code>Comparable</code> interface</em>).</p>\n<p>To sort the <em>list of teams</em>, use method <code>sort()</code> directly on the list (which is a more fluent alternative of <code>Collection.sort()</code> introduced with Java 8).</p>\n<pre><code>public class League&lt;T extends Player&gt; {\n    \n    private String name;\n    private List&lt;Team&lt;T&gt;&gt; teams = new ArrayList&lt;&gt;();\n    \n    public void ranking() {\n        teams.sort(null); // teams are comparable, hence no need to provide a comparator and null is passed as an argument\n    }\n}\n</code></pre>\n<h1>Comparators</h1>\n<p>In case if there are <strong>multiple ways</strong> how teams need to be sorted in different scenarios, then <code>Team</code> class should not implement <code>Comparable</code>, don't go with way.</p>\n<p>You can define comparators for different use-cases as <code>public static</code> fields in the <code>Team</code> class, like below:</p>\n<pre><code>public static class Team&lt;T extends Player&gt; {\n    \n    public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_RANKING =\n        Comparator.comparingInt(Team::ranking);\n    \n    public static final Comparator&lt;Team&lt;? extends Player&gt;&gt; BY_TEAM_NAME =\n        Comparator.comparing(Team::getName);\n    \n    // the rest code\n}\n</code></pre>\n<p>And then apply them depending on a particular case:</p>\n<pre><code>public void ranking() {\n    teams.sort(Team.BY_TEAM_RANKING);\n}\n</code></pre>\n<p><em><strong>Sidenote:</strong></em> write your code against interfaces, <strong>not</strong> implementations like <code>ArrayList</code>. See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"}],"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73027754,"answer_count":2,"score":0,"last_activity_date":1658181320,"creation_date":1658165750,"question_id":73026380,"body_markdown":"I&#39;m struggling with sorting an `ArrayList` of a generic objects.\r\n\r\nI&#39;ve tried to do it with `Comparable` interface, but it doesn&#39;t work, I&#39;ve also tried with sort method of collections, but I&#39;m still at the same point.\r\n\r\n```\r\npublic class League&lt;T extends Player&gt; implements LeagueComparator&lt;T&gt; {\r\n    private String name;\r\n\r\n    private ArrayList&lt;Team&lt;T&gt;&gt; teams = new ArrayList&lt;&gt;();\r\n```\r\n```\r\n    public void ranking(){\r\n        for (Team&lt;T&gt; team : teams){\r\n            System.out.println(team.getName() + team.ranking());\r\n            int ranking = team.ranking();\r\n\r\n            Collections.sort(teams, new Comparator&lt;Team&lt;T&gt;&gt;() {\r\n                @Override\r\n                public int compare(Team&lt;T&gt; o1, Team&lt;T&gt; o2) {\r\n                    return \r\n```\r\nIn this method, I want to take a ranking integer from Team class and sort it, and then return the sorted values\r\n```\r\npublic class Team&lt;T extends Player&gt; {\r\n    private int size = 0;\r\n    private String name;\r\n    private int games;\r\n    private int win;\r\n    private int lose;\r\n    private int draw;\r\n\r\n    private ArrayList&lt;T&gt; members = new ArrayList&lt;&gt;();\r\n\r\n    public int ranking(){\r\n        return (win * 2) + draw;\r\n    }\r\n```\r\nThis is Team class\r\nEDIT\r\n\r\n``` for (Team&lt;T&gt; team : teams) {                                           \r\n    System.out.println(team.ranking() + &quot; &quot; + team.getName());         \r\n    Collections.sort(teams, Comparator.comparingInt(team::rankings));  \r\n    System.out.println(team.ranking() + &quot; &quot; + team.getName());        \r\n```\r\nNow it throws\r\n```\r\nException in thread &quot;main&quot;\r\njava.util.ConcurrentModificationException\r\n```","title":"How to sort a List of generic objects","body":"<p>I'm struggling with sorting an <code>ArrayList</code> of a generic objects.</p>\n<p>I've tried to do it with <code>Comparable</code> interface, but it doesn't work, I've also tried with sort method of collections, but I'm still at the same point.</p>\n<pre><code>public class League&lt;T extends Player&gt; implements LeagueComparator&lt;T&gt; {\n    private String name;\n\n    private ArrayList&lt;Team&lt;T&gt;&gt; teams = new ArrayList&lt;&gt;();\n</code></pre>\n<pre><code>    public void ranking(){\n        for (Team&lt;T&gt; team : teams){\n            System.out.println(team.getName() + team.ranking());\n            int ranking = team.ranking();\n\n            Collections.sort(teams, new Comparator&lt;Team&lt;T&gt;&gt;() {\n                @Override\n                public int compare(Team&lt;T&gt; o1, Team&lt;T&gt; o2) {\n                    return \n</code></pre>\n<p>In this method, I want to take a ranking integer from Team class and sort it, and then return the sorted values</p>\n<pre><code>public class Team&lt;T extends Player&gt; {\n    private int size = 0;\n    private String name;\n    private int games;\n    private int win;\n    private int lose;\n    private int draw;\n\n    private ArrayList&lt;T&gt; members = new ArrayList&lt;&gt;();\n\n    public int ranking(){\n        return (win * 2) + draw;\n    }\n</code></pre>\n<p>This is Team class\nEDIT</p>\n<pre><code>    System.out.println(team.ranking() + &quot; &quot; + team.getName());         \n    Collections.sort(teams, Comparator.comparingInt(team::rankings));  \n    System.out.println(team.ranking() + &quot; &quot; + team.getName());        \n</code></pre>\n<p>Now it throws</p>\n<pre><code>Exception in thread &quot;main&quot;\njava.util.ConcurrentModificationException\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1658159845,"post_id":73025149,"comment_id":128976751,"body_markdown":"What&#39;s the format of the timestamp?","body":"What&#39;s the format of the timestamp?"},{"owner":{"account_id":9642010,"reputation":13,"user_id":7155934,"display_name":"Moustafa"},"score":0,"creation_date":1658160424,"post_id":73025149,"comment_id":128976987,"body_markdown":"It wrote as seconds  elapsed","body":"It wrote as seconds  elapsed"},{"owner":{"account_id":289134,"reputation":372192,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"score":0,"creation_date":1658160439,"post_id":73025149,"comment_id":128976993,"body_markdown":"Since when? ___","body":"Since when? ___"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1658160511,"post_id":73025149,"comment_id":128977028,"body_markdown":"@ikegami since the JVM was started","body":"@ikegami since the JVM was started"},{"owner":{"account_id":289134,"reputation":372192,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"score":0,"creation_date":1658160558,"post_id":73025149,"comment_id":128977042,"body_markdown":"And is the date-time when the JVM was started available anywhere?","body":"And is the date-time when the JVM was started available anywhere?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658160445,"creation_date":1658160445,"answer_id":73025386,"question_id":73025149,"body_markdown":"Your JVM was started with the following option:\r\n\r\n    -xx:PrintGCTimeStamps\r\n\r\nwhich prefixes the elapsed time in seconds since the JVM was started, which for your examples was nearly 26 days ago.\r\n\r\nIf you want the date and time to be logged, use this option instead:\r\n\r\n    -XX:+PrintGCDateStamps\r\n\r\nOr do your own date arithmetic with the existing log timestamp.","title":"Convert GC log file timestamp to readable format","body":"<p>Your JVM was started with the following option:</p>\n<pre><code>-xx:PrintGCTimeStamps\n</code></pre>\n<p>which prefixes the elapsed time in seconds since the JVM was started, which for your examples was nearly 26 days ago.</p>\n<p>If you want the date and time to be logged, use this option instead:</p>\n<pre><code>-XX:+PrintGCDateStamps\n</code></pre>\n<p>Or do your own date arithmetic with the existing log timestamp.</p>\n"}],"owner":{"account_id":9642010,"reputation":13,"user_id":7155934,"display_name":"Moustafa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658180949,"answer_count":1,"score":0,"last_activity_date":1658180853,"creation_date":1658159413,"question_id":73025149,"body_markdown":"I want to convert below timestamp to readable datetime.\r\n\r\n```none\r\n2221206.786: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.9171581 secs]\r\n2221208.719: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.8723947 secs]\r\n2221210.610: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.9988764 secs]\r\n```\r\n\r\n\r\n\r\nHow do convert a number like `2221206.786` to a date and time?","title":"Convert GC log file timestamp to readable format","body":"<p>I want to convert below timestamp to readable datetime.</p>\n<pre class=\"lang-none prettyprint-override\"><code>2221206.786: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.9171581 secs]\n2221208.719: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.8723947 secs]\n2221210.610: [Full GC (Allocation Failure)  1025663K-&gt;1025663K(1025664K), 1.9988764 secs]\n</code></pre>\n<p>How do convert a number like <code>2221206.786</code> to a date and time?</p>\n"},{"tags":["java","spring-boot","maven","visual-studio-code","pom.xml"],"comments":[{"owner":{"account_id":2001714,"reputation":337,"user_id":1792595,"accept_rate":78,"display_name":"crychair"},"score":1,"creation_date":1658162793,"post_id":73025508,"comment_id":128977867,"body_markdown":"Does the project build correctly when you run maven outside of VSCode?","body":"Does the project build correctly when you run maven outside of VSCode?"},{"owner":{"account_id":23747033,"reputation":105,"user_id":17764295,"display_name":"Julian Castro"},"score":0,"creation_date":1658163782,"post_id":73025508,"comment_id":128978220,"body_markdown":"No, not on IntelliJ at least.","body":"No, not on IntelliJ at least."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1658166052,"post_id":73025508,"comment_id":128978995,"body_markdown":"Does it Build correctly from the command line?  What phase does it reach?","body":"Does it Build correctly from the command line?  What phase does it reach?"},{"owner":{"account_id":23747033,"reputation":105,"user_id":17764295,"display_name":"Julian Castro"},"score":0,"creation_date":1658166295,"post_id":73025508,"comment_id":128979088,"body_markdown":"I did the following command: mvn clean install (but this also applies to other commands that undergo the build phase). This is where it gets stuck: ```--------------------&lt; com.thinhda.spring.grpc:core &gt;--------------------\n[INFO] Building core 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n```","body":"I did the following command: mvn clean install (but this also applies to other commands that undergo the build phase). This is where it gets stuck: <code>--------------------&lt; com.thinhda.spring.grpc:core &gt;-------------------- [INFO] Building core 0.0.1-SNAPSHOT [INFO] --------------------------------[ jar ]--------------------------------- </code>"},{"owner":{"account_id":23747033,"reputation":105,"user_id":17764295,"display_name":"Julian Castro"},"score":0,"creation_date":1658166343,"post_id":73025508,"comment_id":128979106,"body_markdown":"It never finishes building.","body":"It never finishes building."}],"answers":[{"tags":[],"owner":{"account_id":11126166,"reputation":156,"user_id":8167597,"display_name":"ksparrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658180201,"creation_date":1658180201,"answer_id":73028889,"question_id":73025508,"body_markdown":"It appears that your dependency on `io.github.lognet:grpc-spring-boot-starter:4.4.5` is not compatible with Spring Boot 2.7.1.  According to the [`grpc-spring-boot-starter` release notes][1], the starter&#39;s version 4.8.0 supports Spring Boot 2.7.1 and gRPC 1.47.0.  You already have gRPC 1.47.0 in your POM so I think with this change you&#39;ll be good.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/LogNet/grpc-spring-boot-starter/blob/master/ReleaseNotes.md","title":"Maven Build Project never finishes on Visual Studio Code","body":"<p>It appears that your dependency on <code>io.github.lognet:grpc-spring-boot-starter:4.4.5</code> is not compatible with Spring Boot 2.7.1.  According to the <a href=\"https://github.com/LogNet/grpc-spring-boot-starter/blob/master/ReleaseNotes.md\" rel=\"nofollow noreferrer\"><code>grpc-spring-boot-starter</code> release notes</a>, the starter's version 4.8.0 supports Spring Boot 2.7.1 and gRPC 1.47.0.  You already have gRPC 1.47.0 in your POM so I think with this change you'll be good.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23747033,"reputation":105,"user_id":17764295,"display_name":"Julian Castro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658180201,"creation_date":1658161020,"question_id":73025508,"body_markdown":"When I open a Spring Boot application, and it tries to Build the dependencies that I am using in the files, the process never completes. I have left it running for hours with absolutely no progress on the following message in the terminal:\r\n\r\n```\r\n9f5bcec9 Importing Maven project(s): Importing Maven project(s) - Refreshing &#39;/jdt.ls-java-project&#39;. [337/1000]\r\nc9f76cf2 Refreshing Maven model:  [0/-1]\r\nfc8986d3 Repository registry initialization [Done]\r\n```\r\n\r\nI have a feeling that this is a result of a mistake that I missed in my pom.xml file, considering it has something to do with my dependencies. I ask that someone looks through my pom.xml and finds the issues that might be causing them, and the ways to solve them. This is my pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.thinhda.spring.grpc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;core&lt;/name&gt;\r\n\t&lt;description&gt;Spring grpc and http&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.19.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.47.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.47.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.53&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.21.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.47.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;extensions&gt;\r\n\t\t\t&lt;extension&gt;\r\n\t\t\t\t&lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t&lt;/extension&gt;\r\n\t\t&lt;/extensions&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; --&gt;\r\n\t\t\t\t&lt;!-- &lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt; --&gt;\r\n\t\t\t&lt;!-- &lt;/plugin&gt; --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```","title":"Maven Build Project never finishes on Visual Studio Code","body":"<p>When I open a Spring Boot application, and it tries to Build the dependencies that I am using in the files, the process never completes. I have left it running for hours with absolutely no progress on the following message in the terminal:</p>\n<pre><code>9f5bcec9 Importing Maven project(s): Importing Maven project(s) - Refreshing '/jdt.ls-java-project'. [337/1000]\nc9f76cf2 Refreshing Maven model:  [0/-1]\nfc8986d3 Repository registry initialization [Done]\n</code></pre>\n<p>I have a feeling that this is a result of a mistake that I missed in my pom.xml file, considering it has something to do with my dependencies. I ask that someone looks through my pom.xml and finds the issues that might be causing them, and the ways to solve them. This is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.thinhda.spring.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;core&lt;/name&gt;\n    &lt;description&gt;Spring grpc and http&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.19.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n            &lt;version&gt;1.47.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.47.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.53&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\n            &lt;version&gt;3.21.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;1.47.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.lognet&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.4.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;3.3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n        &lt;plugins&gt;\n                &lt;!-- &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; --&gt;\n                &lt;!-- &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt; --&gt;\n            &lt;!-- &lt;/plugin&gt; --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","inputstream","executable-jar"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658178909,"creation_date":1658178909,"answer_id":73028721,"question_id":73027058,"body_markdown":"Check the documentation of [getResourceAsStream()][1]:\r\n*Returns:\r\n    A InputStream object; null if no resource with this name is found, the resource is in a package that is not open to at least the caller module, or access to the resource is denied by the security manager.*\r\n\r\nSo now you have three reasons why the inputstream you are trying to read from is null. The most likely reason is that the resource is not found where you are expecting it (the name you specified).\r\nThis has been discussed in length in https://stackoverflow.com/questions/16570523/getresourceasstream-returns-null\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)","title":"Java getClass().getClassLoader().getResourceAsStream() ALWAYS shows file as null when running as .jar","body":"<p>Check the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">getResourceAsStream()</a>:\n<em>Returns:\nA InputStream object; null if no resource with this name is found, the resource is in a package that is not open to at least the caller module, or access to the resource is denied by the security manager.</em></p>\n<p>So now you have three reasons why the inputstream you are trying to read from is null. The most likely reason is that the resource is not found where you are expecting it (the name you specified).\nThis has been discussed in length in <a href=\"https://stackoverflow.com/questions/16570523/getresourceasstream-returns-null\">getResourceAsStream returns null</a></p>\n"}],"owner":{"account_id":25508479,"reputation":11,"user_id":19300562,"display_name":"FishSayHelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1658191359,"answer_count":1,"score":1,"last_activity_date":1658178909,"creation_date":1658169342,"question_id":73027058,"body_markdown":"\r\n\r\nI am using IntelliJ to build a .jar of my project, but whenever i call any of the following:\r\n\r\n    getClass().getClassLoader().getResourceAsStream();\r\n    getClass().getClassLoader().getResource();\r\n    getClass().getResource();\r\n    getClass().getResourceAsStream();\r\n\r\n\r\nI ALWAYS get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\r\n        at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1358)\r\n        at Objects.Collsion.TexturedBarrier.setTexture(TexturedBarrier.java:34)\r\n        at Objects.Collsion.TexturedBarrier.&lt;init&gt;(TexturedBarrier.java:20)\r\n        at Levels.Menu.MainMenu.load(MainMenu.java:21)\r\n        at Levels.Level.loadLevel(Level.java:36)\r\n        at Main.GamePanel.nextLevel(GamePanel.java:127)\r\n        at Main.GamePanel.setStage(GamePanel.java:108)\r\n        at Main.GamePanel.&lt;init&gt;(GamePanel.java:28)\r\n        at Main.Game.main(Game.java:23)\r\n\r\n\r\nThe class causing the error is:\r\n\r\n    public class TexturedBarrier {\r\n\r\n        protected BufferedImage currentTexture;\r\n\r\n        public TexturedBarrier(String texture) {\r\n        \r\n            setTexture(texture);\r\n        }\r\n\r\n        public void setTexture(String texture) {\r\n\r\n            InputStream stream = this.getClass().getClassLoader().getResourceAsStream(texture);\r\n\r\n            try {\r\n                currentTexture = ImageIO.read(stream);\r\n            }catch (IOException e) {e.printStackTrace();}\r\n        }\r\n\r\n    }\r\n\r\n\r\nAnd the code calling it is:\r\n\r\n    new TexturedBarrier(&quot;Play!_Background_green.jpg&quot;);\r\n\r\nThe resource folder is set as a resource root in IntelliJ, and the resource folder is as follows:\r\n[res folder][1]\r\n\r\n\r\nand after using 7zip to inspect the jar, the file is definately in the jar:\r\n[inside jar][2] \r\n\r\nAny ideas? i know this is an issue with alot of similar questions, but none of the solution posed have helped me.\r\n\r\n  [1]: https://i.stack.imgur.com/vdk1e.png\r\n  [2]: https://i.stack.imgur.com/LpHp0.png","title":"Java getClass().getClassLoader().getResourceAsStream() ALWAYS shows file as null when running as .jar","body":"<p>I am using IntelliJ to build a .jar of my project, but whenever i call any of the following:</p>\n<pre><code>getClass().getClassLoader().getResourceAsStream();\ngetClass().getClassLoader().getResource();\ngetClass().getResource();\ngetClass().getResourceAsStream();\n</code></pre>\n<p>I ALWAYS get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\n    at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1358)\n    at Objects.Collsion.TexturedBarrier.setTexture(TexturedBarrier.java:34)\n    at Objects.Collsion.TexturedBarrier.&lt;init&gt;(TexturedBarrier.java:20)\n    at Levels.Menu.MainMenu.load(MainMenu.java:21)\n    at Levels.Level.loadLevel(Level.java:36)\n    at Main.GamePanel.nextLevel(GamePanel.java:127)\n    at Main.GamePanel.setStage(GamePanel.java:108)\n    at Main.GamePanel.&lt;init&gt;(GamePanel.java:28)\n    at Main.Game.main(Game.java:23)\n</code></pre>\n<p>The class causing the error is:</p>\n<pre><code>public class TexturedBarrier {\n\n    protected BufferedImage currentTexture;\n\n    public TexturedBarrier(String texture) {\n    \n        setTexture(texture);\n    }\n\n    public void setTexture(String texture) {\n\n        InputStream stream = this.getClass().getClassLoader().getResourceAsStream(texture);\n\n        try {\n            currentTexture = ImageIO.read(stream);\n        }catch (IOException e) {e.printStackTrace();}\n    }\n\n}\n</code></pre>\n<p>And the code calling it is:</p>\n<pre><code>new TexturedBarrier(&quot;Play!_Background_green.jpg&quot;);\n</code></pre>\n<p>The resource folder is set as a resource root in IntelliJ, and the resource folder is as follows:\n<a href=\"https://i.stack.imgur.com/vdk1e.png\" rel=\"nofollow noreferrer\">res folder</a></p>\n<p>and after using 7zip to inspect the jar, the file is definately in the jar:\n<a href=\"https://i.stack.imgur.com/LpHp0.png\" rel=\"nofollow noreferrer\">inside jar</a></p>\n<p>Any ideas? i know this is an issue with alot of similar questions, but none of the solution posed have helped me.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657860270,"creation_date":1657860270,"answer_id":72989137,"question_id":72980662,"body_markdown":"I am summarizing how does the wakeup exception works.\r\n\r\n-  If you are deciding to exit the poll loop, you will need another thread to call consumer.wakeup(). \r\n- If you are running the consumer loop in the main thread, this can be done from ShutdownHook. \r\n\r\nNote that **consumer.wakeup()** is the only consumer method that is safe to call from a different thread. Calling wakeup will cause poll() to exit with WakeupException, or if consumer.wakeup() was called while the thread was not waiting on poll, the exception will be thrown on the next iteration when poll() is called. \r\n\r\nThe WakeupException doesn’t need to be handled, but before exiting the thread, you must call **consumer.close()**. \r\n\r\nClosing the consumer will commit off‐ sets if needed and will send the group coordinator a message that the consumer is leaving the group. \r\nThe consumer coordinator will trigger rebalancing immediately\r\n\r\nFull example is here https://github.com/gwenshap/kafka-examples/blob/master/SimpleMovingAvg/src/main/java/com/shapira/examples/newconsumer/simplemovingavg/SimpleMovingAvgNewConsumer.java\r\n\r\n    Runtime.getRuntime().addShutdownHook(new Thread() {\r\n     public void run() {\r\n     System.out.println(&quot;Starting exit...&quot;);\r\n     consumer.wakeup(); \r\n     try {\r\n     mainThread.join();\r\n     } catch (InterruptedException e) {\r\n     e.printStackTrace();\r\n     }\r\n     }\r\n     });\r\n    ...\r\n    \r\n    try {\r\n     // looping until ctrl-c, the shutdown hook will\r\n     cleanup on exit\r\n     while (true) {\r\n     ConsumerRecords&lt;String, String&gt; records =\r\n     movingAvg.consumer.poll(1000);\r\n     System.out.println(System.currentTimeMillis() + &quot;\r\n     -- waiting for data...&quot;);\r\n     for (ConsumerRecord&lt;String, String&gt; record :\r\n     records) {\r\n     System.out.printf(&quot;offset = %d, key = %s,\r\n     value = %s\\n&quot;,\r\n     record.offset(), record.key(),\r\n     record.value());\r\n     }\r\n     for (TopicPartition tp: consumer.assignment())\r\n     System.out.println(&quot;Committing offset at\r\n     position:&quot; +\r\n     consumer.position(tp));\r\n     movingAvg.consumer.commitSync();\r\n     }\r\n     } catch (WakeupException e) {\r\n     // ignore for shutdown \r\n     } finally {\r\n     consumer.close(); \r\n     System.out.println(&quot;Closed consumer and we are done&quot;);\r\n     }\r\n     }\r\n\r\n","title":"Kafka Consumer WakeupException Handling","body":"<p>I am summarizing how does the wakeup exception works.</p>\n<ul>\n<li>If you are deciding to exit the poll loop, you will need another thread to call consumer.wakeup().</li>\n<li>If you are running the consumer loop in the main thread, this can be done from ShutdownHook.</li>\n</ul>\n<p>Note that <strong>consumer.wakeup()</strong> is the only consumer method that is safe to call from a different thread. Calling wakeup will cause poll() to exit with WakeupException, or if consumer.wakeup() was called while the thread was not waiting on poll, the exception will be thrown on the next iteration when poll() is called.</p>\n<p>The WakeupException doesn’t need to be handled, but before exiting the thread, you must call <strong>consumer.close()</strong>.</p>\n<p>Closing the consumer will commit off‐ sets if needed and will send the group coordinator a message that the consumer is leaving the group.\nThe consumer coordinator will trigger rebalancing immediately</p>\n<p>Full example is here <a href=\"https://github.com/gwenshap/kafka-examples/blob/master/SimpleMovingAvg/src/main/java/com/shapira/examples/newconsumer/simplemovingavg/SimpleMovingAvgNewConsumer.java\" rel=\"nofollow noreferrer\">https://github.com/gwenshap/kafka-examples/blob/master/SimpleMovingAvg/src/main/java/com/shapira/examples/newconsumer/simplemovingavg/SimpleMovingAvgNewConsumer.java</a></p>\n<pre><code>Runtime.getRuntime().addShutdownHook(new Thread() {\n public void run() {\n System.out.println(&quot;Starting exit...&quot;);\n consumer.wakeup(); \n try {\n mainThread.join();\n } catch (InterruptedException e) {\n e.printStackTrace();\n }\n }\n });\n...\n\ntry {\n // looping until ctrl-c, the shutdown hook will\n cleanup on exit\n while (true) {\n ConsumerRecords&lt;String, String&gt; records =\n movingAvg.consumer.poll(1000);\n System.out.println(System.currentTimeMillis() + &quot;\n -- waiting for data...&quot;);\n for (ConsumerRecord&lt;String, String&gt; record :\n records) {\n System.out.printf(&quot;offset = %d, key = %s,\n value = %s\\n&quot;,\n record.offset(), record.key(),\n record.value());\n }\n for (TopicPartition tp: consumer.assignment())\n System.out.println(&quot;Committing offset at\n position:&quot; +\n consumer.position(tp));\n movingAvg.consumer.commitSync();\n }\n } catch (WakeupException e) {\n // ignore for shutdown \n } finally {\n consumer.close(); \n System.out.println(&quot;Closed consumer and we are done&quot;);\n }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657913728,"creation_date":1657913728,"answer_id":72998870,"question_id":72980662,"body_markdown":"Wakeup event may be also caused by `consumer.wakeup()` that can be e.g. called by some other thread.\r\n\r\nIn that case, your code is going to throw this exception (instead of ignoring it if it was an ordinary shutdown). The exception could be then captured by the runner (e.g. ExecutionService), and then the userspace could do something with this information (effectively &quot;consumer was woken up by 3rd party&quot;).","title":"Kafka Consumer WakeupException Handling","body":"<p>Wakeup event may be also caused by <code>consumer.wakeup()</code> that can be e.g. called by some other thread.</p>\n<p>In that case, your code is going to throw this exception (instead of ignoring it if it was an ordinary shutdown). The exception could be then captured by the runner (e.g. ExecutionService), and then the userspace could do something with this information (effectively &quot;consumer was woken up by 3rd party&quot;).</p>\n"}],"owner":{"account_id":1854605,"reputation":1095,"user_id":1680473,"accept_rate":82,"display_name":"Maclean Pinto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72998870,"answer_count":2,"score":2,"last_activity_date":1658178668,"creation_date":1657802364,"question_id":72980662,"body_markdown":"I am trying to handle shutdown events in Kafka Consumers.\r\nAPI docs : https://kafka.apache.org/21/javadoc/index.html?org/apache/kafka/common/errors/WakeupException.html\r\n\r\n \r\n\r\n    public class KafkaConsumerRunner implements Runnable {\r\n         private final AtomicBoolean closed = new AtomicBoolean(false);\r\n         private final KafkaConsumer consumer;\r\n    \r\n         public void run() {\r\n             try {\r\n                 consumer.subscribe(Arrays.asList(&quot;topic&quot;));\r\n                 while (!closed.get()) {\r\n                     ConsumerRecords records = consumer.poll(Duration.ofMillis(10000));\r\n                     // Handle new records\r\n                 }\r\n             } catch (WakeupException e) {\r\n                 // Ignore exception if closing\r\n                 if (!closed.get()) throw e;\r\n             } finally {\r\n                 consumer.close();\r\n             }\r\n         }\r\n    \r\n         // Shutdown hook which can be called from a separate thread\r\n         public void shutdown() {\r\n             closed.set(true);\r\n             consumer.wakeup();\r\n         }\r\n     }\r\n\r\nHere why does the document expect us the handle if the boolean is false?  ```if (!closed.get()) throw e;``` If an external thread calls shutdown closed will be set to true always. Is there any use-case I am missing?","title":"Kafka Consumer WakeupException Handling","body":"<p>I am trying to handle shutdown events in Kafka Consumers.\nAPI docs : <a href=\"https://kafka.apache.org/21/javadoc/index.html?org/apache/kafka/common/errors/WakeupException.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/21/javadoc/index.html?org/apache/kafka/common/errors/WakeupException.html</a></p>\n<pre><code>public class KafkaConsumerRunner implements Runnable {\n     private final AtomicBoolean closed = new AtomicBoolean(false);\n     private final KafkaConsumer consumer;\n\n     public void run() {\n         try {\n             consumer.subscribe(Arrays.asList(&quot;topic&quot;));\n             while (!closed.get()) {\n                 ConsumerRecords records = consumer.poll(Duration.ofMillis(10000));\n                 // Handle new records\n             }\n         } catch (WakeupException e) {\n             // Ignore exception if closing\n             if (!closed.get()) throw e;\n         } finally {\n             consumer.close();\n         }\n     }\n\n     // Shutdown hook which can be called from a separate thread\n     public void shutdown() {\n         closed.set(true);\n         consumer.wakeup();\n     }\n }\n</code></pre>\n<p>Here why does the document expect us the handle if the boolean is false?  <code>if (!closed.get()) throw e;</code> If an external thread calls shutdown closed will be set to true always. Is there any use-case I am missing?</p>\n"},{"tags":["java","steam","steam-web-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1450730747,"post_id":34402899,"comment_id":56549771,"body_markdown":"That seems like a question [for the developer](https://github.com/lpradel/steam-web-api-java)","body":"That seems like a question <a href=\"https://github.com/lpradel/steam-web-api-java\" rel=\"nofollow noreferrer\">for the developer</a>"},{"owner":{"account_id":7349937,"reputation":31,"user_id":5596491,"accept_rate":29,"display_name":"ullQuiorra"},"score":0,"creation_date":1450731048,"post_id":34402899,"comment_id":56549945,"body_markdown":"I don&#39;t think so. I use exactly the same examples from doc: https://developer.valvesoftware.com/wiki/Steam_Web_API\n\nI try to use these links from doc, link for OwnedGames works but I can see only 2 attributes BUT here is other problem, using correct game ID I have empty JSON. For example using id=10 for CounterStrike I receive empty JSON. Using GetGameSchema with the same ID exactly the same.... It&#39;s problem in valve or what? Sorry but I don&#39;t understand....","body":"I don&#39;t think so. I use exactly the same examples from doc: <a href=\"https://developer.valvesoftware.com/wiki/Steam_Web_API\" rel=\"nofollow noreferrer\">developer.valvesoftware.com/wiki/Steam_Web_API</a>  I try to use these links from doc, link for OwnedGames works but I can see only 2 attributes BUT here is other problem, using correct game ID I have empty JSON. For example using id=10 for CounterStrike I receive empty JSON. Using GetGameSchema with the same ID exactly the same.... It&#39;s problem in valve or what? Sorry but I don&#39;t understand...."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1450731255,"post_id":34402899,"comment_id":56550063,"body_markdown":"I&#39;m saying you could create an issue on Github explaining the problem  as you&#39;ve done here because it is that guy&#39;s code, and he may know exactly what your problem is. Maybe your key is wrong? Maybe your account is private and the information can&#39;t be read? No one can really know for sure except maybe the person that actually wrote the code.","body":"I&#39;m saying you could create an issue on Github explaining the problem  as you&#39;ve done here because it is that guy&#39;s code, and he may know exactly what your problem is. Maybe your key is wrong? Maybe your account is private and the information can&#39;t be read? No one can really know for sure except maybe the person that actually wrote the code."},{"owner":{"account_id":7349937,"reputation":31,"user_id":5596491,"accept_rate":29,"display_name":"ullQuiorra"},"score":0,"creation_date":1450731513,"post_id":34402899,"comment_id":56550195,"body_markdown":"Okay I&#39;ll try. It is not a problem with key or profile - my key is correct and profile is public - I&#39;ll try it in links from doc. But it is not only one problem. ID&#39;s from OwnedGame doesn&#39;t works for example I tried to use a few example ID&#39;s in SchemaGame using link from doc, and these ID&#39;s are wrong....","body":"Okay I&#39;ll try. It is not a problem with key or profile - my key is correct and profile is public - I&#39;ll try it in links from doc. But it is not only one problem. ID&#39;s from OwnedGame doesn&#39;t works for example I tried to use a few example ID&#39;s in SchemaGame using link from doc, and these ID&#39;s are wrong...."}],"answers":[{"tags":[],"owner":{"account_id":1052063,"reputation":33,"user_id":1055743,"display_name":"lpradel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658177894,"creation_date":1658177894,"answer_id":73028555,"question_id":34402899,"body_markdown":"# Short Answer #\r\nMake sure to set the designated request option `include_appinfo` in your request with the builder method `includeAppInfo` like so:\r\n\r\n````\r\nGetOwnedGamesRequest req = new GetOwnedGamesRequest.GetOwnedGamesRequestBuilder( &quot;76561198033046525&quot; ).includeAppInfo(true).buildRequest();\r\n````\r\n\r\nThis will yield the desired result:\r\n\r\n&gt; 2100: Dark Messiah of Might &amp; Magic Single Player ........\r\n\r\nFor further information please refer to the [Steam API documentation](https://developer.valvesoftware.com/wiki/Steam_Web_API#Arguments_7) for `GetOwnedGames` request.\r\n\r\n# Long Answer #\r\nI&#39;m the maintainer of the library in question and randomly stumbled on this question only now. Obviously I&#39;m rather late to answer it, sorry about that. But, as they say better late then never. Plus, others who stumble on this question may find the solution helpful.\r\n\r\nFor all Steam API requests it&#39;s worth taking a look at the [API docs](https://developer.valvesoftware.com/wiki/Steam_Web_API).\r\n\r\nIn this case there&#39;s an additional required parameter `include_appinfo` which can be set with a builder method on the request builder class. I&#39;ve tried to include all optional parameters in my request builders but keep the default request as simple as possible. I can only speculate but I assume that `include_appinfo` would be disabled by default to reduce load on the Steam servers as it obviously requires a lot more data for each `GetOwnedGames` request.\r\n\r\nOf course, the same can be achieved by leaving the option as `false` and instead following up with `GetGameSchema` requests for only the games you are interested in providing their appids. This will lead to multiple requests from the client but ultimately it&#39;s likely less load on the Steam servers, especially if the Steam user in question has a lot of games in their library.","title":"Steam Web Api - Null value in name of games","body":"<h1>Short Answer</h1>\n<p>Make sure to set the designated request option <code>include_appinfo</code> in your request with the builder method <code>includeAppInfo</code> like so:</p>\n<pre><code>GetOwnedGamesRequest req = new GetOwnedGamesRequest.GetOwnedGamesRequestBuilder( &quot;76561198033046525&quot; ).includeAppInfo(true).buildRequest();\n</code></pre>\n<p>This will yield the desired result:</p>\n<blockquote>\n<p>2100: Dark Messiah of Might &amp; Magic Single Player ........</p>\n</blockquote>\n<p>For further information please refer to the <a href=\"https://developer.valvesoftware.com/wiki/Steam_Web_API#Arguments_7\" rel=\"nofollow noreferrer\">Steam API documentation</a> for <code>GetOwnedGames</code> request.</p>\n<h1>Long Answer</h1>\n<p>I'm the maintainer of the library in question and randomly stumbled on this question only now. Obviously I'm rather late to answer it, sorry about that. But, as they say better late then never. Plus, others who stumble on this question may find the solution helpful.</p>\n<p>For all Steam API requests it's worth taking a look at the <a href=\"https://developer.valvesoftware.com/wiki/Steam_Web_API\" rel=\"nofollow noreferrer\">API docs</a>.</p>\n<p>In this case there's an additional required parameter <code>include_appinfo</code> which can be set with a builder method on the request builder class. I've tried to include all optional parameters in my request builders but keep the default request as simple as possible. I can only speculate but I assume that <code>include_appinfo</code> would be disabled by default to reduce load on the Steam servers as it obviously requires a lot more data for each <code>GetOwnedGames</code> request.</p>\n<p>Of course, the same can be achieved by leaving the option as <code>false</code> and instead following up with <code>GetGameSchema</code> requests for only the games you are interested in providing their appids. This will lead to multiple requests from the client but ultimately it's likely less load on the Steam servers, especially if the Steam user in question has a lot of games in their library.</p>\n"}],"owner":{"account_id":7349937,"reputation":31,"user_id":5596491,"accept_rate":29,"display_name":"ullQuiorra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658177894,"creation_date":1450725872,"question_id":34402899,"body_markdown":"I try to use Steam-Web-Api first time and I&#39;ve got some problem.\r\n\r\nI want to get full list of games - in this case of my profile - I receive list with apiIds etc but each of game has null value in Name field.\r\n\r\nHere is simple code:\r\n\r\n\r\n    public class SteamWebApiDemo {\r\n        private static final String key = &quot;MY_KEY&quot;;\r\n\r\n        public static void main( String[] args ) throws SteamApiException {\r\n            SteamWebApiClient client = new SteamWebApiClient.SteamWebApiClientBuilder( key ).build();\r\n            GetOwnedGamesRequest req = new GetOwnedGamesRequest.GetOwnedGamesRequestBuilder( &quot;76561198033046525&quot; ).buildRequest();\r\n            GetOwnedGames g = client.&lt;GetOwnedGames&gt; processRequest(req);\r\n\r\n            for( com.lukaspradel.steamapi.data.json.ownedgames.Game game : g.getResponse().getGames() ) {\r\n            \tSystem.out.println(\r\n            \t\t\tgame.getAppid() + &quot;: &quot; + game.getName()\r\n            \t);\r\n            }\r\n        }\r\n    }\r\n\r\nIn loop I try to extract appId and name, but each of game has null value and I just don&#39;t understand Why?\r\n\r\nShort example:\r\n&gt; 10: null\r\n20: null\r\n30: null\r\n40: null\r\n50: null\r\n60: null\r\n70: null","title":"Steam Web Api - Null value in name of games","body":"<p>I try to use Steam-Web-Api first time and I've got some problem.</p>\n\n<p>I want to get full list of games - in this case of my profile - I receive list with apiIds etc but each of game has null value in Name field.</p>\n\n<p>Here is simple code:</p>\n\n<pre><code>public class SteamWebApiDemo {\n    private static final String key = \"MY_KEY\";\n\n    public static void main( String[] args ) throws SteamApiException {\n        SteamWebApiClient client = new SteamWebApiClient.SteamWebApiClientBuilder( key ).build();\n        GetOwnedGamesRequest req = new GetOwnedGamesRequest.GetOwnedGamesRequestBuilder( \"76561198033046525\" ).buildRequest();\n        GetOwnedGames g = client.&lt;GetOwnedGames&gt; processRequest(req);\n\n        for( com.lukaspradel.steamapi.data.json.ownedgames.Game game : g.getResponse().getGames() ) {\n            System.out.println(\n                    game.getAppid() + \": \" + game.getName()\n            );\n        }\n    }\n}\n</code></pre>\n\n<p>In loop I try to extract appId and name, but each of game has null value and I just don't understand Why?</p>\n\n<p>Short example:</p>\n\n<blockquote>\n  <p>10: null\n  20: null\n  30: null\n  40: null\n  50: null\n  60: null\n  70: null</p>\n</blockquote>\n"},{"tags":["java","synchronization","runtime"],"answers":[{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1270114846,"creation_date":1270114846,"answer_id":2559444,"question_id":2559430,"body_markdown":"use [Process.waitFor()][1]:\r\n\r\n    Process p = Runtime.getRuntime().exec(args);\r\n    int status = p.waitFor();\r\n\r\nFrom JavaDoc:\r\n\r\n&gt; causes the current thread to wait, if necessary, until the process represented by this Process object has terminated. This method returns immediately if the subprocess has already terminated. If the subprocess has not yet terminated, the calling thread will be blocked until the subprocess exits.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Process.html#waitFor()","title":"How do I wait for a process started by Runtime.exec() to finish?","body":"<p>use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Process.html#waitFor()\" rel=\"noreferrer\">Process.waitFor()</a>:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(args);\nint status = p.waitFor();\n</code></pre>\n\n<p>From JavaDoc:</p>\n\n<blockquote>\n  <p>causes the current thread to wait, if necessary, until the process represented by this Process object has terminated. This method returns immediately if the subprocess has already terminated. If the subprocess has not yet terminated, the calling thread will be blocked until the subprocess exits.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1270114936,"creation_date":1270114936,"answer_id":2559447,"question_id":2559430,"body_markdown":"Here is a sample code:\r\n\r\n    Process proc = Runtime.getRuntime().exec(ANonJava.exe@);\r\n    InputStream in = proc.getInputStream();\r\n    byte buff[] = new byte[1024];\r\n    int cbRead;\r\n    \r\n    try {\r\n        while ((cbRead = in.read(buff)) != -1) {\r\n            // Use the output of the process...\r\n        }\r\n    } catch (IOException e) {\r\n        // Insert code to handle exceptions that occur\r\n        // when reading the process output\r\n    }\r\n    \r\n    // No more output was available from the process, so...\r\n    \r\n    // Ensure that the process completes\r\n    try {\r\n        proc.waitFor();\r\n    } catch (InterruptedException) {\r\n        // Handle exception that could occur when waiting\r\n        // for a spawned process to terminate\r\n    }\r\n    \r\n    // Then examine the process exit code\r\n    if (proc.exitValue() == 1) {\r\n        // Use the exit value...\r\n    }\r\n\r\nYou can find more on this site: http://docs.rinet.ru/JWP/ch14.htm","title":"How do I wait for a process started by Runtime.exec() to finish?","body":"<p>Here is a sample code:</p>\n\n<pre><code>Process proc = Runtime.getRuntime().exec(ANonJava.exe@);\nInputStream in = proc.getInputStream();\nbyte buff[] = new byte[1024];\nint cbRead;\n\ntry {\n    while ((cbRead = in.read(buff)) != -1) {\n        // Use the output of the process...\n    }\n} catch (IOException e) {\n    // Insert code to handle exceptions that occur\n    // when reading the process output\n}\n\n// No more output was available from the process, so...\n\n// Ensure that the process completes\ntry {\n    proc.waitFor();\n} catch (InterruptedException) {\n    // Handle exception that could occur when waiting\n    // for a spawned process to terminate\n}\n\n// Then examine the process exit code\nif (proc.exitValue() == 1) {\n    // Use the exit value...\n}\n</code></pre>\n\n<p>You can find more on this site: <a href=\"http://docs.rinet.ru/JWP/ch14.htm\" rel=\"nofollow noreferrer\">http://docs.rinet.ru/JWP/ch14.htm</a></p>\n"}],"owner":{"account_id":81083,"reputation":643,"user_id":228873,"accept_rate":30,"display_name":"Milan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5344,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2559447,"answer_count":2,"score":5,"last_activity_date":1658177711,"creation_date":1270114677,"question_id":2559430,"body_markdown":"I have the next code:\r\n\r\n    Process p = Runtime.getRuntime().exec(args);\r\n\r\nand I want my program to wait for the Runtime.getRuntime().exec(args); to finish cause it last 2-3sec and then to continue.\r\n\r\nIdeas?","title":"How do I wait for a process started by Runtime.exec() to finish?","body":"<p>I have the next code:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(args);\n</code></pre>\n\n<p>and I want my program to wait for the Runtime.getRuntime().exec(args); to finish cause it last 2-3sec and then to continue.</p>\n\n<p>Ideas?</p>\n"},{"tags":["python","java","zlib","jzlib"],"comments":[{"owner":{"account_id":3246854,"reputation":3594,"user_id":2738151,"display_name":"Hern&#225;n Alarc&#243;n"},"score":0,"creation_date":1658101116,"post_id":73016009,"comment_id":128960461,"body_markdown":"The `zip.txt` file seems to contain base64 data as you mention. If you decode it and save it as a ZIP file, can you open it with your operating system ZIP file manager?","body":"The <code>zip.txt</code> file seems to contain base64 data as you mention. If you decode it and save it as a ZIP file, can you open it with your operating system ZIP file manager?"},{"owner":{"account_id":5208369,"reputation":623,"user_id":4165553,"accept_rate":53,"display_name":"Aqeel Haider"},"score":0,"creation_date":1658101314,"post_id":73016009,"comment_id":128960484,"body_markdown":"The txt in the file is string. you can see the string when upload to link https://codebeautify.org/zlib-decompress-online","body":"The txt in the file is string. you can see the string when upload to link <a href=\"https://codebeautify.org/zlib-decompress-online\" rel=\"nofollow noreferrer\">codebeautify.org/zlib-decompress-online</a>"}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658101260,"creation_date":1658101260,"answer_id":73016087,"question_id":73016009,"body_markdown":"That is a gzip stream, not a zlib stream. Use `GZIPInputStream`.","title":"Zlib is unable to extract a compress String in java, compression is done in python","body":"<p>That is a gzip stream, not a zlib stream. Use <code>GZIPInputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":5208369,"reputation":623,"user_id":4165553,"accept_rate":53,"display_name":"Aqeel Haider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658177418,"creation_date":1658177418,"answer_id":73028485,"question_id":73016009,"body_markdown":"I was looking in to wrong direction, the string was gzipped, below is the code to resolve it. Thank you **@Mark Adler** for identifying the issue. \r\n\r\n    public static void deCompressGZipFile(String gZippedFile, String newFile) throws IOException {\r\n\t\tbyte[] decoded = Base64.getDecoder().decode(Files.readAllBytes(Path.of(gZippedFile)));\r\n\t    ByteArrayInputStream in = new ByteArrayInputStream(decoded);\r\n\t\tGZIPInputStream gZIPInputStream = new GZIPInputStream(in);\r\n\t\tFileOutputStream fos = new FileOutputStream(newFile);\r\n\t\tbyte[] buffer = new byte[1024];\r\n\t\tint len;\r\n\t\twhile ((len = gZIPInputStream.read(buffer)) &gt; 0) {\r\n\t\t\tfos.write(buffer, 0, len);\r\n\t\t}\r\n\t\t// Keep it in finally\r\n\t\tfos.close();\r\n\t\tgZIPInputStream.close();\r\n\t}","title":"Zlib is unable to extract a compress String in java, compression is done in python","body":"<p>I was looking in to wrong direction, the string was gzipped, below is the code to resolve it. Thank you <strong>@Mark Adler</strong> for identifying the issue.</p>\n<pre><code>public static void deCompressGZipFile(String gZippedFile, String newFile) throws IOException {\n    byte[] decoded = Base64.getDecoder().decode(Files.readAllBytes(Path.of(gZippedFile)));\n    ByteArrayInputStream in = new ByteArrayInputStream(decoded);\n    GZIPInputStream gZIPInputStream = new GZIPInputStream(in);\n    FileOutputStream fos = new FileOutputStream(newFile);\n    byte[] buffer = new byte[1024];\n    int len;\n    while ((len = gZIPInputStream.read(buffer)) &gt; 0) {\n        fos.write(buffer, 0, len);\n    }\n    // Keep it in finally\n    fos.close();\n    gZIPInputStream.close();\n}\n</code></pre>\n"}],"owner":{"account_id":5208369,"reputation":623,"user_id":4165553,"accept_rate":53,"display_name":"Aqeel Haider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73016087,"answer_count":2,"score":0,"last_activity_date":1658177418,"creation_date":1658099942,"question_id":73016009,"body_markdown":"Im trying to decompress a string in java, the string is compress in python with base64 encoding. \r\n\r\nI tried a day to resolve the issue, The file can decode easily online and also in python.\r\nFind similar post that people have trouble compressing and decompressing in java and python.\r\n\r\n[zip.txt][1]\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.Base64;\r\n    import java.util.zip.DataFormatException;\r\n    import java.util.zip.Deflater;\r\n    import java.util.zip.Inflater;\r\n    \r\n    public class CompressionUtils {\r\n    private static final int BUFFER_SIZE = 1024;\r\n\r\n    public static byte[] decompress(final byte[] data) {\r\n        final Inflater inflater = new Inflater();\r\n        inflater.setInput(data);\r\n        ByteArrayOutputStream outputStream =\r\n                new ByteArrayOutputStream(data.length);\r\n        byte[] buffer = new byte[data.length];\r\n        try {\r\n            while (!inflater.finished()) {\r\n                final int count = inflater.inflate(buffer);\r\n                outputStream.write(buffer, 0, count);\r\n            }\r\n            outputStream.close();\r\n        } catch (DataFormatException | IOException e) {\r\n        \te.printStackTrace();\r\n            log.error(&quot;ZlibCompression decompress exception: {}&quot;, e.getMessage());\r\n        }\r\n        inflater.end();\r\n        return outputStream.toByteArray();\r\n    }\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n    \tdecompress(Base64.getDecoder().decode(Files.readAllBytes(Path.of(&quot;zip.txt&quot;))));\r\n\t}\r\n    }\r\n\r\nError:\r\n\r\n     java.util.zip.DataFormatException: incorrect header check\r\n    \tat java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\r\n    \tat java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\r\n    \tat java.base/java.util.zip.Inflater.inflate(Inflater.java:464) \r\n\r\n**Tried also this after @Mark Adler suggestion.**\r\n\r\n    public static void main(String[] args) throws IOException {\r\n    \t\r\n    \tbyte[] decoded = Base64.getDecoder().decode(Files.readAllBytes(Path.of(&quot;zip.txt&quot;)));\r\n    \tByteArrayInputStream in = new ByteArrayInputStream(decoded);\r\n    \tGZIPInputStream gzStream = new GZIPInputStream(in);\r\n    \tdecompress(gzStream.readAllBytes());\r\n    \tgzStream.close();\r\n\t}\r\n\r\n    java.util.zip.DataFormatException: incorrect header check\r\n\tat java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\r\n\tat java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\r\n\tat java.base/java.util.zip.Inflater.inflate(Inflater.java:464)\r\n\tat efrisapi/com.efrisapi.util.CompressionUtils.decompress(CompressionUtils.java:51)\r\n\tat efrisapi/com.efrisapi.util.CompressionUtils.main(CompressionUtils.java:67)\r\n\r\n  [1]: https://www.dropbox.com/t/w8BU2Blznu6P49qJ","title":"Zlib is unable to extract a compress String in java, compression is done in python","body":"<p>Im trying to decompress a string in java, the string is compress in python with base64 encoding.</p>\n<p>I tried a day to resolve the issue, The file can decode easily online and also in python.\nFind similar post that people have trouble compressing and decompressing in java and python.</p>\n<p><a href=\"https://www.dropbox.com/t/w8BU2Blznu6P49qJ\" rel=\"nofollow noreferrer\">zip.txt</a></p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.Base64;\nimport java.util.zip.DataFormatException;\nimport java.util.zip.Deflater;\nimport java.util.zip.Inflater;\n\npublic class CompressionUtils {\nprivate static final int BUFFER_SIZE = 1024;\n\npublic static byte[] decompress(final byte[] data) {\n    final Inflater inflater = new Inflater();\n    inflater.setInput(data);\n    ByteArrayOutputStream outputStream =\n            new ByteArrayOutputStream(data.length);\n    byte[] buffer = new byte[data.length];\n    try {\n        while (!inflater.finished()) {\n            final int count = inflater.inflate(buffer);\n            outputStream.write(buffer, 0, count);\n        }\n        outputStream.close();\n    } catch (DataFormatException | IOException e) {\n        e.printStackTrace();\n        log.error(&quot;ZlibCompression decompress exception: {}&quot;, e.getMessage());\n    }\n    inflater.end();\n    return outputStream.toByteArray();\n}\n\npublic static void main(String[] args) throws IOException {\n    decompress(Base64.getDecoder().decode(Files.readAllBytes(Path.of(&quot;zip.txt&quot;))));\n}\n}\n</code></pre>\n<p>Error:</p>\n<pre><code> java.util.zip.DataFormatException: incorrect header check\n    at java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\n    at java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\n    at java.base/java.util.zip.Inflater.inflate(Inflater.java:464) \n</code></pre>\n<p><strong>Tried also this after @Mark Adler suggestion.</strong></p>\n<pre><code>public static void main(String[] args) throws IOException {\n    \n    byte[] decoded = Base64.getDecoder().decode(Files.readAllBytes(Path.of(&quot;zip.txt&quot;)));\n    ByteArrayInputStream in = new ByteArrayInputStream(decoded);\n    GZIPInputStream gzStream = new GZIPInputStream(in);\n    decompress(gzStream.readAllBytes());\n    gzStream.close();\n}\n\njava.util.zip.DataFormatException: incorrect header check\nat java.base/java.util.zip.Inflater.inflateBytesBytes(Native Method)\nat java.base/java.util.zip.Inflater.inflate(Inflater.java:378)\nat java.base/java.util.zip.Inflater.inflate(Inflater.java:464)\nat efrisapi/com.efrisapi.util.CompressionUtils.decompress(CompressionUtils.java:51)\nat efrisapi/com.efrisapi.util.CompressionUtils.main(CompressionUtils.java:67)\n</code></pre>\n"},{"tags":["java","spring-boot","github","azure-web-app-service"],"answers":[{"tags":[],"owner":{"account_id":20758582,"reputation":11,"user_id":15244379,"display_name":"huzaifamk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658177266,"creation_date":1658177266,"answer_id":73028462,"question_id":71648428,"body_markdown":"I found a simple solution! Just use the Checkout step in your GitHub Actions, that&#39;s it.\r\n\r\n **Add this in your steps:**\r\n\r\n    - name: Standard Checkout\r\n      uses: actions/checkout@v2","title":"Github Actions: The goal you specified requires a project to execute but there is no POM in this directory","body":"<p>I found a simple solution! Just use the Checkout step in your GitHub Actions, that's it.</p>\n<p><strong>Add this in your steps:</strong></p>\n<pre><code>- name: Standard Checkout\n  uses: actions/checkout@v2\n</code></pre>\n"}],"owner":{"account_id":16951964,"reputation":23,"user_id":12261262,"display_name":"hopeless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658177266,"creation_date":1648474667,"question_id":71648428,"body_markdown":"I am trying to host my Spring Boot web app in Azure App Service, with Java 11 and when I deploy it to github actions, in order to host it, it gives me the following:\r\n\r\n```\r\nRun mvn clean install\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.063 s\r\n[INFO] Finished at: 2022-03-28T13:26:23Z\r\n[INFO] ------------------------------------------------------------------------\r\nError:  The goal you specified requires a project to execute but there is no POM in this directory (/home/runner/work/deskmate/deskmate). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\r\nError:  \r\nError:  To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nError:  Re-run Maven using the -X switch to enable full debug logging.\r\nError:  \r\nError:  For more information about the errors and possible solutions, please read the following articles:\r\nError:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\r\nError: Process completed with exit code 1.\r\n```\r\n\r\nThis right here: **(/home/runner/work/deskmate/deskmate)**\r\nThat&#39;s not any of my directories. I have my pom.xml in the same directory as I have my project, at root level. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bGq6t.png\r\n\r\n**The pom.xml itself:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;deskmate&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;deskmate&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;deskmate&lt;/name&gt;\r\n\t&lt;description&gt;Desk booking app for Consid&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n**Questions:**\r\nHow do I point Github Actions or Azure App Service to the right pom.xml path? \r\nAnd where do I do it (PowerShell, IntelliJ terminal? Inside Github Actions somewhere?)","title":"Github Actions: The goal you specified requires a project to execute but there is no POM in this directory","body":"<p>I am trying to host my Spring Boot web app in Azure App Service, with Java 11 and when I deploy it to github actions, in order to host it, it gives me the following:</p>\n<pre><code>Run mvn clean install\n[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.063 s\n[INFO] Finished at: 2022-03-28T13:26:23Z\n[INFO] ------------------------------------------------------------------------\nError:  The goal you specified requires a project to execute but there is no POM in this directory (/home/runner/work/deskmate/deskmate). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\nError:  \nError:  To see the full stack trace of the errors, re-run Maven with the -e switch.\nError:  Re-run Maven using the -X switch to enable full debug logging.\nError:  \nError:  For more information about the errors and possible solutions, please read the following articles:\nError:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\nError: Process completed with exit code 1.\n</code></pre>\n<p>This right here: <strong>(/home/runner/work/deskmate/deskmate)</strong>\nThat's not any of my directories. I have my pom.xml in the same directory as I have my project, at root level. <a href=\"https://i.stack.imgur.com/bGq6t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGq6t.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>The pom.xml itself:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;deskmate&lt;/groupId&gt;\n    &lt;artifactId&gt;deskmate&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;deskmate&lt;/name&gt;\n    &lt;description&gt;Desk booking app for Consid&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>Questions:</strong>\nHow do I point Github Actions or Azure App Service to the right pom.xml path?\nAnd where do I do it (PowerShell, IntelliJ terminal? Inside Github Actions somewhere?)</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":25831032,"reputation":128,"user_id":19568218,"display_name":"Voided Name"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658175440,"creation_date":1658175440,"answer_id":73028140,"question_id":73027899,"body_markdown":"Sounds like hibernate is failing to initialize due to a failure to connect to the DB. \r\n\r\nAre you sure you have a Postgresql DB running? Is Spring configured correctly to interface with that DB? (i.e. is the host, port, databaseschema, username and password set?)","title":"Error creating bean EntityFactoryManager on a new project","body":"<p>Sounds like hibernate is failing to initialize due to a failure to connect to the DB.</p>\n<p>Are you sure you have a Postgresql DB running? Is Spring configured correctly to interface with that DB? (i.e. is the host, port, databaseschema, username and password set?)</p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658177110,"creation_date":1658177110,"answer_id":73028433,"question_id":73027899,"body_markdown":"If this is a _new_ project, you shouldn&#39;t be using any of this XML configuration at all. Instead, create a template project at https://start.spring.io that includes the JPA starter, set your `spring.datasource.url`, and be running in 2 minutes.","title":"Error creating bean EntityFactoryManager on a new project","body":"<p>If this is a <em>new</em> project, you shouldn't be using any of this XML configuration at all. Instead, create a template project at <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> that includes the JPA starter, set your <code>spring.datasource.url</code>, and be running in 2 minutes.</p>\n"}],"owner":{"account_id":24054643,"reputation":85,"user_id":18032631,"display_name":"icarus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658177110,"creation_date":1658174104,"question_id":73027899,"body_markdown":"So I have a project I want to start work with. The senior developer sent me a zip package of the project and database.sql file for initializing the local database for me to just launch the project. But we are facing the error.\r\n``` \r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in ServletContext resource [/WEB-INF/spring/spring-database.xml]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n```\r\n\r\nAll entities are exactly the same as in the local database. I have changed the XML file config to match my password and URL. Spend 2 days trying to run the project. Will appreciate any help. Please feel free to ask any questions.\r\n\r\n```\r\n &lt;!-- Configure the entity manager factory bean --&gt;\r\n    &lt;bean id=&quot;entityManagerFactory&quot;\r\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;!-- Set JPA properties --&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.ProgressDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;nl.impressie.grazer.hibernate&quot; /&gt;\r\n    &lt;/bean&gt;\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N4O5a.png","title":"Error creating bean EntityFactoryManager on a new project","body":"<p>So I have a project I want to start work with. The senior developer sent me a zip package of the project and database.sql file for initializing the local database for me to just launch the project. But we are facing the error.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/spring/spring-database.xml]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n</code></pre>\n<p>All entities are exactly the same as in the local database. I have changed the XML file config to match my password and URL. Spend 2 days trying to run the project. Will appreciate any help. Please feel free to ask any questions.</p>\n<pre><code> &lt;!-- Configure the entity manager factory bean --&gt;\n    &lt;bean id=&quot;entityManagerFactory&quot;\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n        &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot; /&gt;\n        &lt;!-- Set JPA properties --&gt;\n        &lt;property name=&quot;jpaProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.ProgressDialect&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;nl.impressie.grazer.hibernate&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/N4O5a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N4O5a.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","android"],"answers":[{"tags":[],"owner":{"account_id":12701027,"reputation":894,"user_id":9227755,"display_name":"Subhasmith Thapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658176513,"creation_date":1658176513,"answer_id":73028324,"question_id":73028284,"body_markdown":"Set both compileSdkVersion and targetSdkVersion to 31 in your build.gradle(app) file.\r\n\r\n```\r\n\r\nandroid {\r\n    compileSdkVersion 31 // &lt;-- This\r\n    defaultConfig {\r\n        applicationId &quot;com.example.app&quot;\r\n        targetSdkVersion 31 // &lt;-- and this too\r\n        // ...\r\n    }\r\n}\r\n\r\n```","title":"android studio build failed - DebugManifest","body":"<p>Set both compileSdkVersion and targetSdkVersion to 31 in your build.gradle(app) file.</p>\n<pre><code>\nandroid {\n    compileSdkVersion 31 // &lt;-- This\n    defaultConfig {\n        applicationId &quot;com.example.app&quot;\n        targetSdkVersion 31 // &lt;-- and this too\n        // ...\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":25839011,"reputation":1,"user_id":19574907,"display_name":"GEV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658176426,"answer_count":1,"score":0,"last_activity_date":1658176927,"creation_date":1658176334,"question_id":73028284,"body_markdown":"can anyone help me with that ?\r\ni don&#39;t know how to fix it \r\n\r\n\r\n\r\nhttps://i.stack.imgur.com/eHkjq.png\r\n\r\n- Caused by: org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$MultipleTaskActionFailures: Multiple task action failures occurred:\r\n\r\n- Caused by: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource compilation failed\r\n- Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n- Caused by: java.lang.RuntimeException: Duplicate class com.google.android.gms.internal.measurement.zzbu found in modules jetified-play-services-measurement-18.0.2-runtime (com.google.android.gms:play-services-measurement:18.0.2) and jetified-play-services-measurement-sdk-api-20.1.2-runtime (com.google.android.gms:play-services-measurement-sdk-api:20.1.2)\r\n\r\n- Caused by: org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$MultipleTaskActionFailures: Multiple task action failures occurred:\r\n- Caused by: java.lang.RuntimeException: The minCompileSdk (32) specified in a\r\n- Android resource compilation failed\r\nC:\\Users\\GEV\\Desktop\\StrangerRepo\\app\\build\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-w٣٢٠dp-land-v13\\values-w٣٢٠dp-land-v13.xml: AAPT: error: invalid configuration &#39;w٣٢٠dp-land-v13&#39;.\r\n    \r\n\r\n\r\n","title":"android studio build failed - DebugManifest","body":"<p>can anyone help me with that ?\ni don't know how to fix it</p>\n<p><a href=\"https://i.stack.imgur.com/eHkjq.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/eHkjq.png</a></p>\n<ul>\n<li><p>Caused by: org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$MultipleTaskActionFailures: Multiple task action failures occurred:</p>\n</li>\n<li><p>Caused by: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource compilation failed</p>\n</li>\n<li><p>Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable</p>\n</li>\n<li><p>Caused by: java.lang.RuntimeException: Duplicate class com.google.android.gms.internal.measurement.zzbu found in modules jetified-play-services-measurement-18.0.2-runtime (com.google.android.gms:play-services-measurement:18.0.2) and jetified-play-services-measurement-sdk-api-20.1.2-runtime (com.google.android.gms:play-services-measurement-sdk-api:20.1.2)</p>\n</li>\n<li><p>Caused by: org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$MultipleTaskActionFailures: Multiple task action failures occurred:</p>\n</li>\n<li><p>Caused by: java.lang.RuntimeException: The minCompileSdk (32) specified in a</p>\n</li>\n<li><p>Android resource compilation failed\nC:\\Users\\GEV\\Desktop\\StrangerRepo\\app\\build\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values-w٣٢٠dp-land-v13\\values-w٣٢٠dp-land-v13.xml: AAPT: error: invalid configuration 'w٣٢٠dp-land-v13'.</p>\n</li>\n</ul>\n"},{"tags":["java","jsoup"],"owner":{"account_id":8872635,"reputation":21,"user_id":6625908,"display_name":"GabrielH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658176696,"creation_date":1658176696,"question_id":73028347,"body_markdown":"I have to make a POST with some values, but there&#39;s an encrypted token generated in windows-1252.\r\n\r\nWhen I do inspect the DOM elements and copy this token (delete and re-insert for testing) and submit the form, it works fine. But I have to get this token through Jsoup and send it back.\r\nThe problem is that the token has an special character (0x9D) which is not recognized when setting the charset in Jsoup&#39;s Document parse (even in Chrome DevTool&#39;s Sources tab is not recognized).\r\n\r\nThe square character is the one not recognized: €“sytœ\r\n\r\nLong story short, in Chrome&#39;s elements inspection the square appears as an different character, but in Sources it doesn&#39;t appear, as in Jsoup as well. Inserting the values copied from inspection and doing the submit manually, it works, but in Jsoup doesn&#39;t work. The only difference in values is this missing character, and without him, manually submit doesn&#39;t work either. \r\n\r\nDoes someone have an idea of what I have to make to get the right encoding? Thanks!","title":"How do I get the right Windows-1252 encoding in Jsoup?","body":"<p>I have to make a POST with some values, but there's an encrypted token generated in windows-1252.</p>\n<p>When I do inspect the DOM elements and copy this token (delete and re-insert for testing) and submit the form, it works fine. But I have to get this token through Jsoup and send it back.\nThe problem is that the token has an special character (0x9D) which is not recognized when setting the charset in Jsoup's Document parse (even in Chrome DevTool's Sources tab is not recognized).</p>\n<p>The square character is the one not recognized: €“sytœ</p>\n<p>Long story short, in Chrome's elements inspection the square appears as an different character, but in Sources it doesn't appear, as in Jsoup as well. Inserting the values copied from inspection and doing the submit manually, it works, but in Jsoup doesn't work. The only difference in values is this missing character, and without him, manually submit doesn't work either.</p>\n<p>Does someone have an idea of what I have to make to get the right encoding? Thanks!</p>\n"},{"tags":["java","android","kotlin","json-deserialization","moshi"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658060934,"post_id":73011430,"comment_id":128952668,"body_markdown":"What are you trying to accomplish by having a retrofit API that returns nothing? Do [these](https://stackoverflow.com/questions/37116364/retrofit2-return-null-unit-in-kotlin-for-204-no-content-response) [questions](https://stackoverflow.com/questions/47639290/android-retrofit-call-void-using-kotlin) help?","body":"What are you trying to accomplish by having a retrofit API that returns nothing? Do <a href=\"https://stackoverflow.com/questions/37116364/retrofit2-return-null-unit-in-kotlin-for-204-no-content-response\">these</a> <a href=\"https://stackoverflow.com/questions/47639290/android-retrofit-call-void-using-kotlin\">questions</a> help?"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658061251,"post_id":73011430,"comment_id":128952744,"body_markdown":"actually in the **ApiModel** I have other useful properties which I want to parse.","body":"actually in the <b>ApiModel</b> I have other useful properties which I want to parse."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658061300,"post_id":73011430,"comment_id":128952759,"body_markdown":"There is to be a [github issue](https://github.com/gildor/kotlin-coroutines-retrofit/issues/22#issuecomment-328345400) on this too. The `UnitConverterFactory` solution seems to be compatible with Moshi","body":"There is to be a <a href=\"https://github.com/gildor/kotlin-coroutines-retrofit/issues/22#issuecomment-328345400\" rel=\"nofollow noreferrer\">github issue</a> on this too. The <code>UnitConverterFactory</code> solution seems to be compatible with Moshi"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658061588,"post_id":73011430,"comment_id":128952808,"body_markdown":"I also tried the solution above, but it seems to have no effect.","body":"I also tried the solution above, but it seems to have no effect."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658061683,"post_id":73011430,"comment_id":128952823,"body_markdown":"Might be a good idea to add what you tried from that issue thread to the question as well then (including how you added the converter to Retrofit, and how you added your adapter above to Moshi)","body":"Might be a good idea to add what you tried from that issue thread to the question as well then (including how you added the converter to Retrofit, and how you added your adapter above to Moshi)"},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1658175948,"post_id":73011430,"comment_id":128982161,"body_markdown":"Show your ApiModel","body":"Show your ApiModel"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658176651,"post_id":73011430,"comment_id":128982353,"body_markdown":"@EricCochran added to question.","body":"@EricCochran added to question."},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1658182771,"post_id":73011430,"comment_id":128983768,"body_markdown":"You want to add a JsonAdapter for Unit onto your Moshi.Builder. As you have it now, Retrofit is just looking for a converter for ApiModel (which it selects your MoshiConverter for)","body":"You want to add a JsonAdapter for Unit onto your Moshi.Builder. As you have it now, Retrofit is just looking for a converter for ApiModel (which it selects your MoshiConverter for)"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658211746,"post_id":73011430,"comment_id":128988349,"body_markdown":"@EricCochran you mean that I should try creating a jsonAdapter for ApiModel&lt;T&gt;  ?","body":"@EricCochran you mean that I should try creating a jsonAdapter for ApiModel&lt;T&gt;  ?"},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1658273511,"post_id":73011430,"comment_id":129009586,"body_markdown":"no, just one for Unit. and add it to your Moshi instance that you put into the Retrofit MoshiConverter factory","body":"no, just one for Unit. and add it to your Moshi instance that you put into the Retrofit MoshiConverter factory"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1658291522,"post_id":73011430,"comment_id":129012175,"body_markdown":"@EricCochran I already did that and it didn&#39;t work. I am using Any type instead of Unit now.","body":"@EricCochran I already did that and it didn&#39;t work. I am using Any type instead of Unit now."}],"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1658176596,"creation_date":1658057865,"question_id":73011430,"body_markdown":"In a retrofit interface I have defined a method return type as **ApiModel** **&lt;** **Unit** **&gt;**. but when I call the method I get the error below.\r\n\r\n```\r\nPlatform class kotlin.Unit requires explicit JsonAdapter to be registered\r\n```\r\n\r\nso I tried to create my own JsonAdapter as below.\r\n\r\n```\r\nclass UnitJsonAdapter {\r\n\r\n    @ToJson\r\n    fun toJson(writer: JsonWriter) {\r\n        writer.nullValue()\r\n    }\r\n\r\n    @FromJson\r\n    fun fromJson(reader: JsonReader): Unit {\r\n        reader.close()\r\n        return Unit\r\n    }\r\n\r\n}\r\n```\r\n\r\nbut I face this error.\r\n\r\n```\r\njava.lang.IllegalArgumentException: Unexpected signature for public final void packagename.UnitJsonAdapter.fromJson(com.squareup.moshi.JsonReader).\r\n    @FromJson method signatures may have one of the following structures:\r\n        &lt;any access modifier&gt; R fromJson(JsonReader jsonReader) throws &lt;any&gt;;\r\n        &lt;any access modifier&gt; R fromJson(JsonReader jsonReader, JsonAdapter&lt;any&gt; delegate, &lt;any more delegates&gt;) throws &lt;any&gt;;\r\n        &lt;any access modifier&gt; R fromJson(T value) throws &lt;any&gt;;\r\n```\r\n\r\nI also tried what this [link][1] describes, but it seems to have no effect.\r\n\r\n```\r\nRetrofit.Builder()\r\n            .addConverterFactory(UnitConverterFactory)\r\n            .addConverterFactory(MoshiConverterFactory.create(moshi).asLenient())\r\n            .build()\r\n    \r\n\r\nobject UnitConverterFactory : Converter.Factory() {\r\n    override fun responseBodyConverter(\r\n         type: Type,\r\n         annotations: Array&lt;out Annotation&gt;,\r\n         retrofit: Retrofit\r\n    ): Converter&lt;ResponseBody, *&gt;? {\r\n         return if (type == Unit::class.java) UnitConverter else null\r\n    }\r\n\r\n    private object UnitConverter : Converter&lt;ResponseBody, Unit&gt; {\r\n         override fun convert(value: ResponseBody) {\r\n              value.close()\r\n         } \r\n    }\r\n}\r\n```\r\n\r\nAlso this is my ApiModel class:\r\n\r\n```\r\n@JsonClass(generateAdapter = true)\r\ndata class ApiModel&lt;T&gt;(\r\n    val result: T,\r\n    val error: Error\r\n)\r\n```\r\n\r\n\r\n  [1]: https://github.com/gildor/kotlin-coroutines-retrofit/issues/22#issuecomment-328345400","title":"Platform class kotlin.Unit requires explicit JsonAdapter to be registered","body":"<p>In a retrofit interface I have defined a method return type as <strong>ApiModel</strong> <strong>&lt;</strong> <strong>Unit</strong> <strong>&gt;</strong>. but when I call the method I get the error below.</p>\n<pre><code>Platform class kotlin.Unit requires explicit JsonAdapter to be registered\n</code></pre>\n<p>so I tried to create my own JsonAdapter as below.</p>\n<pre><code>class UnitJsonAdapter {\n\n    @ToJson\n    fun toJson(writer: JsonWriter) {\n        writer.nullValue()\n    }\n\n    @FromJson\n    fun fromJson(reader: JsonReader): Unit {\n        reader.close()\n        return Unit\n    }\n\n}\n</code></pre>\n<p>but I face this error.</p>\n<pre><code>java.lang.IllegalArgumentException: Unexpected signature for public final void packagename.UnitJsonAdapter.fromJson(com.squareup.moshi.JsonReader).\n    @FromJson method signatures may have one of the following structures:\n        &lt;any access modifier&gt; R fromJson(JsonReader jsonReader) throws &lt;any&gt;;\n        &lt;any access modifier&gt; R fromJson(JsonReader jsonReader, JsonAdapter&lt;any&gt; delegate, &lt;any more delegates&gt;) throws &lt;any&gt;;\n        &lt;any access modifier&gt; R fromJson(T value) throws &lt;any&gt;;\n</code></pre>\n<p>I also tried what this <a href=\"https://github.com/gildor/kotlin-coroutines-retrofit/issues/22#issuecomment-328345400\" rel=\"nofollow noreferrer\">link</a> describes, but it seems to have no effect.</p>\n<pre><code>Retrofit.Builder()\n            .addConverterFactory(UnitConverterFactory)\n            .addConverterFactory(MoshiConverterFactory.create(moshi).asLenient())\n            .build()\n    \n\nobject UnitConverterFactory : Converter.Factory() {\n    override fun responseBodyConverter(\n         type: Type,\n         annotations: Array&lt;out Annotation&gt;,\n         retrofit: Retrofit\n    ): Converter&lt;ResponseBody, *&gt;? {\n         return if (type == Unit::class.java) UnitConverter else null\n    }\n\n    private object UnitConverter : Converter&lt;ResponseBody, Unit&gt; {\n         override fun convert(value: ResponseBody) {\n              value.close()\n         } \n    }\n}\n</code></pre>\n<p>Also this is my ApiModel class:</p>\n<pre><code>@JsonClass(generateAdapter = true)\ndata class ApiModel&lt;T&gt;(\n    val result: T,\n    val error: Error\n)\n</code></pre>\n"},{"tags":["java","netbeans","syntax","compiler-errors","ide"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1487436915,"post_id":42317944,"comment_id":71789223,"body_markdown":"You&#39;ll have to add some screenshots showing the problem.  Have you tried removing and reinstalling NetBeans?","body":"You&#39;ll have to add some screenshots showing the problem.  Have you tried removing and reinstalling NetBeans?"},{"owner":{"account_id":7106994,"reputation":185,"user_id":5436338,"accept_rate":60,"display_name":"Berch"},"score":0,"creation_date":1487437147,"post_id":42317944,"comment_id":71789284,"body_markdown":"Hi Jim Garrison I uninstalled 8.0.1 and installed 8.0.2, don&#39;t have access yet to post screenshots here!","body":"Hi Jim Garrison I uninstalled 8.0.1 and installed 8.0.2, don&#39;t have access yet to post screenshots here!"},{"owner":{"account_id":7106994,"reputation":185,"user_id":5436338,"accept_rate":60,"display_name":"Berch"},"score":0,"creation_date":1487439965,"post_id":42317944,"comment_id":71790413,"body_markdown":"Hi @Jim Garrison I have added a screenshot describing the issue, thanks.","body":"Hi @Jim Garrison I have added a screenshot describing the issue, thanks."}],"answers":[{"tags":[],"owner":{"account_id":25838989,"reputation":1,"user_id":19574889,"display_name":"Po Mo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658175980,"creation_date":1658175980,"answer_id":73028222,"question_id":42317944,"body_markdown":"I had the same issue and I found out that my code had some syntax errors that cause NB not to highlight any syntax error anymore. To fix it, it is relatively simple: compile your class to identify the syntax errors, fix them and you&#39;re back to normal.  ","title":"NetBeans not recognising syntax errors","body":"<p>I had the same issue and I found out that my code had some syntax errors that cause NB not to highlight any syntax error anymore. To fix it, it is relatively simple: compile your class to identify the syntax errors, fix them and you're back to normal.</p>\n"}],"owner":{"account_id":7106994,"reputation":185,"user_id":5436338,"accept_rate":60,"display_name":"Berch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658175980,"creation_date":1487436804,"question_id":42317944,"body_markdown":"I&#39;ve been using NetBeans IDE 8.0.1 for sometime now, midway of a project the IDE stopped recognising any syntax errors. Upgrading to NetBeans IDE 8.0.2 still makes no difference. \r\n\r\n![enter image description][1]\r\n\r\n\r\nThe class file I was working on shows a error icon (on top of the page and also in the project directory) but no indication in the class on which line the error is, if any. \r\n\r\nAny suggestions? Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ltxd1.jpg","title":"NetBeans not recognising syntax errors","body":"<p>I've been using NetBeans IDE 8.0.1 for sometime now, midway of a project the IDE stopped recognising any syntax errors. Upgrading to NetBeans IDE 8.0.2 still makes no difference. </p>\n\n<p><img src=\"https://i.stack.imgur.com/Ltxd1.jpg\" alt=\"enter image description\"></p>\n\n<p>The class file I was working on shows a error icon (on top of the page and also in the project directory) but no indication in the class on which line the error is, if any. </p>\n\n<p>Any suggestions? Thanks in advance.</p>\n"},{"tags":["java","duplicates","java-stream"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1657896440,"post_id":72995702,"comment_id":128926053,"body_markdown":"maybe `... .peek(System.out::println).max( ... )`  but consult the [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)) of `peek()`, mainly the &quot;API Note&quot;!","body":"maybe <code>... .peek(System.out::println).max( ... )</code>  but consult the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">documentation</a> of <code>peek()</code>, mainly the &quot;API Note&quot;!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1657896756,"post_id":72995702,"comment_id":128926173,"body_markdown":"`max` expects a comparator which `(x, y) -&gt; x &lt; y ? y : x` is not. Use either `max(Comparator.naturalOrder())` or `reduce((x, y) -&gt; x &lt; y ? y : x)`. The latter can be shortened to `reduce(Math::max)`.","body":"<code>max</code> expects a comparator which <code>(x, y) -&gt; x &lt; y ? y : x</code> is not. Use either <code>max(Comparator.naturalOrder())</code> or <code>reduce((x, y) -&gt; x &lt; y ? y : x)</code>. The latter can be shortened to <code>reduce(Math::max)</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1657897052,"post_id":72995702,"comment_id":128926282,"body_markdown":"Though in your case, it’s more efficient to go from boxed `Integer` to `int` as soon as possible. Addressing your original question, you get `int[] a = ls.stream().mapToInt(Integer::intValue) .filter(x -&gt; x &gt; 10) .sorted().distinct().limit(4).skip(2).toArray(); Arrays.stream(a).forEach(System.out::println); System.out.println(Arrays.stream(a).max().getAsInt());`","body":"Though in your case, it’s more efficient to go from boxed <code>Integer</code> to <code>int</code> as soon as possible. Addressing your original question, you get <code>int[] a = ls.stream().mapToInt(Integer::intValue) .filter(x -&gt; x &gt; 10) .sorted().distinct().limit(4).skip(2).toArray(); Arrays.stream(a).forEach(System.out::println); System.out.println(Arrays.stream(a).max().getAsInt());</code>"},{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":1,"creation_date":1657899758,"post_id":72995702,"comment_id":128927329,"body_markdown":"In some cases you can implement a custom collector to apply multiple operations to a stream. Check out Collectors::summarizingInt to get an idea.","body":"In some cases you can implement a custom collector to apply multiple operations to a stream. Check out Collectors::summarizingInt to get an idea."}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657896312,"creation_date":1657896312,"answer_id":72995763,"question_id":72995702,"body_markdown":"A `Stream` can be consumed only once and there is nothing you can do about it. \r\nHowever, what you can do is collect it i.e. to the `List` (`stream.toList()`) and then use that list for further execution - in your case creating two new streams that would do different job. ","title":"How to re-use the calling result of a java collection&#39;s stream, so we don&#39;t do same work twice?","body":"<p>A <code>Stream</code> can be consumed only once and there is nothing you can do about it.\nHowever, what you can do is collect it i.e. to the <code>List</code> (<code>stream.toList()</code>) and then use that list for further execution - in your case creating two new streams that would do different job.</p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657907568,"creation_date":1657907568,"answer_id":72997957,"question_id":72995702,"body_markdown":" 1. You should distinct() before sorting() to avoid to sort double values which you throw away anyway. \r\n 2. You could save your processed values in a collecten of your choice. I would recommend you a List (keep in mind that this List is unmodifiable) and if you need to work with streams from there, which i can&#39;t see from your code yet, then you could create new streams out of it. But i recommend you to do the following: \r\n\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; ls = new ArrayList&lt;&gt;(Arrays.asList( 11, 9, 7, 11, 24, 13, 37, 16 ));\r\n            List&lt;Integer&gt; s1 = ls.stream().filter(x -&gt; x &gt; 10).distinct().sorted().limit(4).skip(2).toList();\r\n\r\n            Integer max = null;\r\n            for (Integer integer : s1) {\r\n                if (max == null || integer.compareTo(max) &gt; 0) {\r\n                    max = integer;\r\n                }\r\n                System.out.println(integer);\r\n            }\r\n            System.out.println(max);\r\n        }\r\n\r\n\r\n ","title":"How to re-use the calling result of a java collection&#39;s stream, so we don&#39;t do same work twice?","body":"<ol>\n<li><p>You should distinct() before sorting() to avoid to sort double values which you throw away anyway.</p>\n</li>\n<li><p>You could save your processed values in a collecten of your choice. I would recommend you a List (keep in mind that this List is unmodifiable) and if you need to work with streams from there, which i can't see from your code yet, then you could create new streams out of it. But i recommend you to do the following:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; ls = new ArrayList&lt;&gt;(Arrays.asList( 11, 9, 7, 11, 24, 13, 37, 16 ));\n    List&lt;Integer&gt; s1 = ls.stream().filter(x -&gt; x &gt; 10).distinct().sorted().limit(4).skip(2).toList();\n\n    Integer max = null;\n    for (Integer integer : s1) {\n        if (max == null || integer.compareTo(max) &gt; 0) {\n            max = integer;\n        }\n        System.out.println(integer);\n    }\n    System.out.println(max);\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72997957,"answer_count":2,"score":0,"last_activity_date":1658175269,"creation_date":1657895992,"question_id":72995702,"body_markdown":"   \r\nI know that once a Collection&#39;s stream actions of ```collect```/```forEach```/```min```/```max```, the stream is closed and no longer valid for further function call. \r\n\r\nMy question is, how to avoid &quot;duplicate stream operations&quot; so that we can do different stream actions on same collection without duplicate computation?\r\n\r\nE.g.\r\n```\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; ls = new ArrayList&lt;&gt;(Arrays.asList( 11, 9, 7, 11, 24, 13, 37, 16 ));\r\n        Stream&lt;Integer&gt; s1 = ls.stream().filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2);\r\n        s1.forEach(System.out::println);\r\n\r\n        // java.lang.IllegalStateException: stream has already been operated upon or closed\r\n        System.out.println(s1.max((x, y) -&gt; x &lt; y ? y : x).get()); // s1 is no longer useable.\r\n    }\r\n```\r\nWell, I know in order to get s1.max I have to construct the Stream again like :\r\n```\r\nStream&lt;Integer&gt; sAnother = ls.stream().filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2);\r\n```\r\nThis works, but seems doing redundant work for the 2nd time. I hope that we can use this calling sequence, and make it executed once and only once:\r\n```\r\nfilter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2)\r\n```\r\nand then:\r\n(1) Do the forEach to print elements.\r\n(2) Calculate the max element.\r\n\r\nNot having to construct and compute the whole stream process twice.\r\n\r\nIs there a way to achieve this? Thanks.","title":"How to re-use the calling result of a java collection&#39;s stream, so we don&#39;t do same work twice?","body":"<p>I know that once a Collection's stream actions of <code>collect</code>/<code>forEach</code>/<code>min</code>/<code>max</code>, the stream is closed and no longer valid for further function call.</p>\n<p>My question is, how to avoid &quot;duplicate stream operations&quot; so that we can do different stream actions on same collection without duplicate computation?</p>\n<p>E.g.</p>\n<pre><code>    public static void main(String[] args) {\n        List&lt;Integer&gt; ls = new ArrayList&lt;&gt;(Arrays.asList( 11, 9, 7, 11, 24, 13, 37, 16 ));\n        Stream&lt;Integer&gt; s1 = ls.stream().filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2);\n        s1.forEach(System.out::println);\n\n        // java.lang.IllegalStateException: stream has already been operated upon or closed\n        System.out.println(s1.max((x, y) -&gt; x &lt; y ? y : x).get()); // s1 is no longer useable.\n    }\n</code></pre>\n<p>Well, I know in order to get s1.max I have to construct the Stream again like :</p>\n<pre><code>Stream&lt;Integer&gt; sAnother = ls.stream().filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2);\n</code></pre>\n<p>This works, but seems doing redundant work for the 2nd time. I hope that we can use this calling sequence, and make it executed once and only once:</p>\n<pre><code>filter(x -&gt; x &gt; 10).sorted().distinct().limit(4).skip(2)\n</code></pre>\n<p>and then:\n(1) Do the forEach to print elements.\n(2) Calculate the max element.</p>\n<p>Not having to construct and compute the whole stream process twice.</p>\n<p>Is there a way to achieve this? Thanks.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1658175992,"post_id":73028058,"comment_id":128982168,"body_markdown":"Why do you need AnnotationConfigApplicationContext? This should be supported by Spring without extra changes","body":"Why do you need AnnotationConfigApplicationContext? This should be supported by Spring without extra changes"},{"owner":{"account_id":14122623,"reputation":163,"user_id":10202766,"display_name":"Nikita Duginets"},"score":0,"creation_date":1658176303,"post_id":73028058,"comment_id":128982256,"body_markdown":"@vladtkachuk What else I can use? Because all tutorials advice to use it","body":"@vladtkachuk What else I can use? Because all tutorials advice to use it"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1658176498,"post_id":73028058,"comment_id":128982325,"body_markdown":"I believe there is a default spring support for this, have you tried not setting that bean postprocessor?","body":"I believe there is a default spring support for this, have you tried not setting that bean postprocessor?"}],"owner":{"account_id":14122623,"reputation":163,"user_id":10202766,"display_name":"Nikita Duginets"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658175010,"creation_date":1658175010,"question_id":73028058,"body_markdown":"I&#39;m new in Spring, and want to figure out how to inject value from properties file.\r\n\r\nI have component with ```Value``` annotation: \r\n\r\n```java\r\n@Component\r\npublic class ConfigProp {\r\n\r\n    private final String login;\r\n\r\n    public ConfigProp(@Value(&quot;${login}&quot;) String login) {\r\n        this.login = login;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ConfigProp{&quot; +\r\n            &quot;login=&#39;&quot; + login + &#39;\\&#39;&#39; +\r\n            &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nthen, I have main class:\r\n\r\n\r\n```java\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        var context = new AnnotationConfigApplicationContext(ConfigProp.class);\r\n        context.addBeanFactoryPostProcessor(new PropertySourcesPlaceholderConfigurer());\r\n        \r\n        var cp = context.getBean(ConfigProp.class);\r\n        System.out.println(cp);\r\n    }\r\n}\r\n```\r\n\r\nAdditionally I have ```application.properties``` file\r\nwith content:\r\n```\r\nlogin=some_login\r\n```\r\n\r\n\r\nAnd when I launching my app I&#39;m getting ```ConfigProp{login=&#39;${login}&#39;}```\r\n\r\nYes, I know, I may annotate ```ConfigProp``` with ```@PropertySource(path-to-properties)``` annotation, but it&#39;s not a good solution, because in the Prod I may want to use another properties file, \r\n\r\nHow can I resolve this issue? \r\n","title":"Spring configure bean with properties","body":"<p>I'm new in Spring, and want to figure out how to inject value from properties file.</p>\n<p>I have component with <code>Value</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ConfigProp {\n\n    private final String login;\n\n    public ConfigProp(@Value(&quot;${login}&quot;) String login) {\n        this.login = login;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ConfigProp{&quot; +\n            &quot;login='&quot; + login + '\\'' +\n            '}';\n    }\n}\n</code></pre>\n<p>then, I have main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n\n    public static void main(String[] args) {\n        \n        var context = new AnnotationConfigApplicationContext(ConfigProp.class);\n        context.addBeanFactoryPostProcessor(new PropertySourcesPlaceholderConfigurer());\n        \n        var cp = context.getBean(ConfigProp.class);\n        System.out.println(cp);\n    }\n}\n</code></pre>\n<p>Additionally I have <code>application.properties</code> file\nwith content:</p>\n<pre><code>login=some_login\n</code></pre>\n<p>And when I launching my app I'm getting <code>ConfigProp{login='${login}'}</code></p>\n<p>Yes, I know, I may annotate <code>ConfigProp</code> with <code>@PropertySource(path-to-properties)</code> annotation, but it's not a good solution, because in the Prod I may want to use another properties file,</p>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","formatting","awt"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1658172229,"post_id":73027531,"comment_id":128981064,"body_markdown":"You need to parse the text. What have you tried? (Can you post)","body":"You need to parse the text. What have you tried? (Can you post)"},{"owner":{"account_id":24298877,"reputation":147,"user_id":18242684,"display_name":"toadless"},"score":0,"creation_date":1658172309,"post_id":73027531,"comment_id":128981082,"body_markdown":"I havent tried anything yet... im asking because I dont know what to do.","body":"I havent tried anything yet... im asking because I dont know what to do."}],"answers":[{"tags":[],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658174752,"creation_date":1658174752,"answer_id":73028010,"question_id":73027531,"body_markdown":"You can get the rgb values from that string with this:\r\n```\r\n\t\tString str = &quot;text java.awt.Color[r=128,g=128,b=128]text 1234&quot;;\r\n\t\tString[] temp = str.split(&quot;[,]?[r,g,b][=]|[]]&quot;);\r\n\t\tString[] colorValues = new String[3];\r\n\t\tint index = 0;\r\n\t\tfor (String string : temp) {\r\n\t\t\ttry {\r\n\t\t\t\tInteger.parseInt(string);\r\n\t\t\t\tcolorValues[index] = string;\r\n\t\t\t\tindex++;\r\n\t\t\t} catch (Exception e) {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(Arrays.toString(colorValues)); //to verify the output\r\n```\r\n\r\nThe above example extract the values in an array of Strings, if you want in an array of ints:\r\n```\r\n\t\tString str = &quot;text java.awt.Color[r=128,g=128,b=128]text 1234&quot;;\r\n\t\tString[] temp = str.split(&quot;[,]?[r,g,b][=]|[]]&quot;);\r\n\t\tint[] colorValues = new int[3];\r\n\t\tint index = 0;\r\n\t\tfor (String string : temp) {\r\n\t\t\ttry {\r\n\t\t\t\tcolorValues[index] = Integer.parseInt(string);\r\n\t\t\t\tindex++;\r\n\t\t\t} catch (Exception e) {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(Arrays.toString(colorValues)); //to verify the output\r\n```\r\n","title":"Java get java.awt.Color from string","body":"<p>You can get the rgb values from that string with this:</p>\n<pre><code>        String str = &quot;text java.awt.Color[r=128,g=128,b=128]text 1234&quot;;\n        String[] temp = str.split(&quot;[,]?[r,g,b][=]|[]]&quot;);\n        String[] colorValues = new String[3];\n        int index = 0;\n        for (String string : temp) {\n            try {\n                Integer.parseInt(string);\n                colorValues[index] = string;\n                index++;\n            } catch (Exception e) {\n\n            }\n        }\n        System.out.println(Arrays.toString(colorValues)); //to verify the output\n</code></pre>\n<p>The above example extract the values in an array of Strings, if you want in an array of ints:</p>\n<pre><code>        String str = &quot;text java.awt.Color[r=128,g=128,b=128]text 1234&quot;;\n        String[] temp = str.split(&quot;[,]?[r,g,b][=]|[]]&quot;);\n        int[] colorValues = new int[3];\n        int index = 0;\n        for (String string : temp) {\n            try {\n                colorValues[index] = Integer.parseInt(string);\n                index++;\n            } catch (Exception e) {\n\n            }\n        }\n        System.out.println(Arrays.toString(colorValues)); //to verify the output\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15030193,"reputation":5,"user_id":10848592,"display_name":"tgodfrey0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658174946,"creation_date":1658174946,"answer_id":73028045,"question_id":73027531,"body_markdown":"As said before, you will need to parse the text. This will allow you to return the RGB values from inside the string. I would try something like this.\r\n```java\r\nprivate static int[] getColourVals(String s){\r\n  int[] vals = new int[3];\r\n  String[] annotatedVals = s.split(&quot;\\\\[|\\\\]&quot;)[1].split(&quot;,&quot;); // Split the string on either [ or ] and then split the middle element by ,\r\n  for(int i = 0; i &lt; annotatedVals.length; i++){\r\n    vals[i] = Integer.parseInt(annotatedVals[i].split(&quot;=&quot;)[1]); // Split by the = and only get the value\r\n  }\r\n  return vals;\r\n}\r\n```","title":"Java get java.awt.Color from string","body":"<p>As said before, you will need to parse the text. This will allow you to return the RGB values from inside the string. I would try something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static int[] getColourVals(String s){\n  int[] vals = new int[3];\n  String[] annotatedVals = s.split(&quot;\\\\[|\\\\]&quot;)[1].split(&quot;,&quot;); // Split the string on either [ or ] and then split the middle element by ,\n  for(int i = 0; i &lt; annotatedVals.length; i++){\n    vals[i] = Integer.parseInt(annotatedVals[i].split(&quot;=&quot;)[1]); // Split by the = and only get the value\n  }\n  return vals;\n}\n</code></pre>\n"}],"owner":{"account_id":24298877,"reputation":147,"user_id":18242684,"display_name":"toadless"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73028010,"answer_count":2,"score":0,"last_activity_date":1658174946,"creation_date":1658171854,"question_id":73027531,"body_markdown":"So I have a string that looks something like this:\r\n`text java.awt.Color[r=128,g=128,b=128]text 1234`\r\n\r\nHow could I pop out the color and get the rgb values?","title":"Java get java.awt.Color from string","body":"<p>So I have a string that looks something like this:\n<code>text java.awt.Color[r=128,g=128,b=128]text 1234</code></p>\n<p>How could I pop out the color and get the rgb values?</p>\n"},{"tags":["java","sockets","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1582127031,"creation_date":1383778716,"answer_id":19824626,"question_id":19824339,"body_markdown":"&quot;Unexpected end of file&quot; implies that the remote server accepted and closed the connection without sending a response. It&#39;s possible that the remote system is too busy to handle the request, or that there&#39;s a network bug that randomly drops connections.\r\n\r\nIt&#39;s also possible there is a bug in the server: something in the request causes an internal error, and the server simply closes the connection instead of sending a HTTP error response like it should. Several people suggest this is caused by missing headers or invalid header values in the request.\r\n\r\nWith the information available it&#39;s impossible to say what&#39;s going wrong. If you have access to the servers in question you can use packet sniffing tools to find what exactly is sent and received, and look at logs to of the server process to see if there are any error messages.","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>\"Unexpected end of file\" implies that the remote server accepted and closed the connection without sending a response. It's possible that the remote system is too busy to handle the request, or that there's a network bug that randomly drops connections.</p>\n\n<p>It's also possible there is a bug in the server: something in the request causes an internal error, and the server simply closes the connection instead of sending a HTTP error response like it should. Several people suggest this is caused by missing headers or invalid header values in the request.</p>\n\n<p>With the information available it's impossible to say what's going wrong. If you have access to the servers in question you can use packet sniffing tools to find what exactly is sent and received, and look at logs to of the server process to see if there are any error messages.</p>\n"},{"tags":[],"owner":{"account_id":3498627,"reputation":878,"user_id":2926158,"accept_rate":58,"display_name":"SeahawksRdaBest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383780600,"creation_date":1383780600,"answer_id":19825068,"question_id":19824339,"body_markdown":"I would suggest using wire shark to trace packets. If you are using Ubuntu, sudo-apt get wireshark. Like Joni stated the only way to figure out whats going wrong is to follow the GET requests and their associated responses. \r\n\r\nhttp://www.wireshark.org/download.html","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>I would suggest using wire shark to trace packets. If you are using Ubuntu, sudo-apt get wireshark. Like Joni stated the only way to figure out whats going wrong is to follow the GET requests and their associated responses. </p>\n\n<p><a href=\"http://www.wireshark.org/download.html\" rel=\"nofollow\">http://www.wireshark.org/download.html</a></p>\n"},{"tags":[],"owner":{"account_id":436296,"reputation":2813,"user_id":823368,"accept_rate":0,"display_name":"Andreas Panagiotidis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539247982,"creation_date":1485891277,"answer_id":41966030,"question_id":19824339,"body_markdown":"I do get this error when I do not set the Authentication header or I set wrong credentials. ","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>I do get this error when I do not set the Authentication header or I set wrong credentials. </p>\n"},{"tags":[],"owner":{"account_id":200610,"reputation":52306,"user_id":446554,"accept_rate":73,"display_name":"Cory Klein"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1496164311,"creation_date":1487375423,"answer_id":42309344,"question_id":19824339,"body_markdown":"# Summary\r\n\r\nThis exception is encountered when you are expecting a response, but the socket has been abruptly closed.\r\n\r\n# Detailed Explanation\r\n\r\nJava&#39;s `HTTPClient`, found [here](https://github.com/openjdk-mirror/jdk/blob/jdk8u/jdk8u/master/src/share/classes/sun/net/www/http/HttpClient.java#L701-L792), throws a `SocketException` with message &quot;Unexpected end of file from server&quot; in a very specific circumstance.\r\n\r\nAfter making a request, `HTTPClient` gets an `InputStream` tied to the socket associated with the request. It then polls that `InputStream` repeatedly until it either:\r\n\r\n1. Finds the string &quot;HTTP/1.&quot;\r\n2. The end of the `InputStream` is reached before 8 characters are read\r\n3. Finds a string other than &quot;HTTP/1.&quot;\r\n\r\nIn case of number 2, `HTTPClient` will throw this `SocketException` *if* any of the following are true:\r\n\r\n* The HTTP method is [`CONNECT`](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.9)\r\n* The HTTP method is [`POST`](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5) and the client is set to streaming mode\r\n\r\n## Why would this happen\r\n\r\nThis indicates that the TCP socket has been closed before the server was able to send a response. This could happen for any number of reasons, but some possibilities are:\r\n\r\n* Network connection was lost\r\n* The server decided to close the connection\r\n* Something in between the client and the server (nginx, router, etc) terminated the request\r\n\r\n&lt;sub&gt;Note: When Nginx reloads its config, [it forcefully closes any in-flight HTTP Keep-Alive connections][1] (even POSTs), causing this exact error.&lt;/sub&gt;\r\n\r\n  [1]: https://trac.nginx.org/nginx/ticket/1022","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<h1>Summary</h1>\n\n<p>This exception is encountered when you are expecting a response, but the socket has been abruptly closed.</p>\n\n<h1>Detailed Explanation</h1>\n\n<p>Java's <code>HTTPClient</code>, found <a href=\"https://github.com/openjdk-mirror/jdk/blob/jdk8u/jdk8u/master/src/share/classes/sun/net/www/http/HttpClient.java#L701-L792\" rel=\"noreferrer\">here</a>, throws a <code>SocketException</code> with message \"Unexpected end of file from server\" in a very specific circumstance.</p>\n\n<p>After making a request, <code>HTTPClient</code> gets an <code>InputStream</code> tied to the socket associated with the request. It then polls that <code>InputStream</code> repeatedly until it either:</p>\n\n<ol>\n<li>Finds the string \"HTTP/1.\"</li>\n<li>The end of the <code>InputStream</code> is reached before 8 characters are read</li>\n<li>Finds a string other than \"HTTP/1.\"</li>\n</ol>\n\n<p>In case of number 2, <code>HTTPClient</code> will throw this <code>SocketException</code> <em>if</em> any of the following are true:</p>\n\n<ul>\n<li>The HTTP method is <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.9\" rel=\"noreferrer\"><code>CONNECT</code></a></li>\n<li>The HTTP method is <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5\" rel=\"noreferrer\"><code>POST</code></a> and the client is set to streaming mode</li>\n</ul>\n\n<h2>Why would this happen</h2>\n\n<p>This indicates that the TCP socket has been closed before the server was able to send a response. This could happen for any number of reasons, but some possibilities are:</p>\n\n<ul>\n<li>Network connection was lost</li>\n<li>The server decided to close the connection</li>\n<li>Something in between the client and the server (nginx, router, etc) terminated the request</li>\n</ul>\n\n<p><sub>Note: When Nginx reloads its config, <a href=\"https://trac.nginx.org/nginx/ticket/1022\" rel=\"noreferrer\">it forcefully closes any in-flight HTTP Keep-Alive connections</a> (even POSTs), causing this exact error.</sub></p>\n"},{"tags":[],"owner":{"account_id":9841334,"reputation":11,"user_id":7290267,"display_name":"zhouzhichao"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1502434367,"creation_date":1502434367,"answer_id":45628755,"question_id":19824339,"body_markdown":"I got this exception too. MY error code is below\r\n\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(requestMethod);\r\n            connection.setRequestProperty(&quot;Content-type&quot;, &quot;JSON&quot;);\r\n\r\n\r\nI found &quot;Content-type&quot; should not be &quot;JSON&quot;,is wrong!\r\nI solved this exception by update this line to below\r\n\r\n            connection.setRequestProperty(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n\r\nyou can check up your &quot;Content-type&quot;\r\n","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>I got this exception too. MY error code is below</p>\n\n<pre><code>        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestMethod(requestMethod);\n        connection.setRequestProperty(\"Content-type\", \"JSON\");\n</code></pre>\n\n<p>I found \"Content-type\" should not be \"JSON\",is wrong!\nI solved this exception by update this line to below</p>\n\n<pre><code>        connection.setRequestProperty(\"Content-type\", \"application/json\");\n</code></pre>\n\n<p>you can check up your \"Content-type\"</p>\n"},{"tags":[],"owner":{"account_id":904672,"reputation":977,"user_id":939803,"accept_rate":59,"display_name":"Filipe Manuel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539180836,"creation_date":1539180836,"answer_id":52742264,"question_id":19824339,"body_markdown":"In my case it was solved just passing proxy to connection. Thanks to [@Andreas Panagiotidis][1].\r\n\r\n    Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;&lt;YOUR.HOST&gt;&quot;, 80)));\r\n    HttpsURLConnection con = (HttpsURLConnection) url.openConnection(proxy);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41966030/939803","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>In my case it was solved just passing proxy to connection. Thanks to <a href=\"https://stackoverflow.com/a/41966030/939803\">@Andreas Panagiotidis</a>.</p>\n\n<pre><code>Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(\"&lt;YOUR.HOST&gt;\", 80)));\nHttpsURLConnection con = (HttpsURLConnection) url.openConnection(proxy);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888717,"reputation":749,"user_id":1707375,"accept_rate":38,"display_name":"Kris"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641379158,"creation_date":1563662798,"answer_id":57129146,"question_id":19824339,"body_markdown":"Most likely the headers you are setting is incorrect or not acceptable.\r\n\r\nExample:\r\n\r\n    connnection.setRequestProperty(&quot;content-type&quot;, &quot;application/json&quot;);","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>Most likely the headers you are setting is incorrect or not acceptable.</p>\n<p>Example:</p>\n<pre><code>connnection.setRequestProperty(&quot;content-type&quot;, &quot;application/json&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588427801,"creation_date":1588427801,"answer_id":61560523,"question_id":19824339,"body_markdown":"In my case   url contained wrong chars like spaces . Overall log your url  and in some cases use browser.","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>In my case   url contained wrong chars like spaces . Overall log your url  and in some cases use browser.</p>\n"}],"owner":{"account_id":3546655,"reputation":567,"user_id":2962455,"display_name":"Maciej Skrzypiński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260418,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":19824626,"answer_count":8,"score":57,"last_activity_date":1658174851,"creation_date":1383777454,"question_id":19824339,"body_markdown":"I wrote some simple code in Java, the method should connect to the website and return the BufferedReader.\r\n\r\n    private BufferedReader getConnection(String url_a) {\r\n            URL url;\r\n            try {\r\n                System.out.println(&quot;getting connection&quot;);\r\n                url = new URL(url_a);\r\n                HttpURLConnection urlConnection = (HttpURLConnection) \r\n                         url.openConnection();\r\n                urlConnection.addRequestProperty(&quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; U; Linux i586; en-US; rv:1.7.3) Gecko/20040924&quot;\r\n                         + &quot;Epiphany/1.4.4 (Ubuntu)&quot;);\r\n                inStream = new InputStreamReader(urlConnection.getInputStream());\r\n                return new BufferedReader(inStream);\r\n            } catch (Exception ex) {\r\n                Logger.getLogger(Reader.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            return null;\r\n    \r\n    }\r\n\r\n\r\nWhen I use it on my PC, it works fine but when I put .jar file on the server I get this error:\r\n\r\n    java.net.SocketException: Unexpected end of file from server\r\n    at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:718)\r\n    at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\r\n    at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:715)\r\n    at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1322)\r\n    at dataconverter.Reader.getConnection(Reader.java.260)\r\n\r\nProblem is quite strange because the exception isn&#39;t thrown each time, sometimes everything is OK and program works fine.\r\n\r\nHas anybody got any ideas?\r\n\r\n","title":"Java simple code: java.net.SocketException: Unexpected end of file from server","body":"<p>I wrote some simple code in Java, the method should connect to the website and return the BufferedReader.</p>\n\n<pre><code>private BufferedReader getConnection(String url_a) {\n        URL url;\n        try {\n            System.out.println(\"getting connection\");\n            url = new URL(url_a);\n            HttpURLConnection urlConnection = (HttpURLConnection) \n                     url.openConnection();\n            urlConnection.addRequestProperty(\"User-Agent\",\n                    \"Mozilla/5.0 (X11; U; Linux i586; en-US; rv:1.7.3) Gecko/20040924\"\n                     + \"Epiphany/1.4.4 (Ubuntu)\");\n            inStream = new InputStreamReader(urlConnection.getInputStream());\n            return new BufferedReader(inStream);\n        } catch (Exception ex) {\n            Logger.getLogger(Reader.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        return null;\n\n}\n</code></pre>\n\n<p>When I use it on my PC, it works fine but when I put .jar file on the server I get this error:</p>\n\n<pre><code>java.net.SocketException: Unexpected end of file from server\nat sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:718)\nat sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\nat sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:715)\nat sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1322)\nat dataconverter.Reader.getConnection(Reader.java.260)\n</code></pre>\n\n<p>Problem is quite strange because the exception isn't thrown each time, sometimes everything is OK and program works fine.</p>\n\n<p>Has anybody got any ideas?</p>\n"},{"tags":["java","amazon-web-services","api"],"comments":[{"owner":{"account_id":45915,"reputation":3990,"user_id":135535,"accept_rate":59,"display_name":"Christoph"},"score":1,"creation_date":1622324908,"post_id":67092530,"comment_id":119761937,"body_markdown":"I remember we recently had something similar. You need to make sure your AWS IAM AccessKey/Secret are from the same region as you are making the request. So if you are calling sellingpartnerapi-eu.amazon.com then region is eu-west1. All credentials need also be eu-west1. The keyword &quot;Credential Scope&quot; was important in our case and this section of the documentation helped: https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/developer-guide/SellingPartnerApiDeveloperGuide.md#credential-scope","body":"I remember we recently had something similar. You need to make sure your AWS IAM AccessKey/Secret are from the same region as you are making the request. So if you are calling sellingpartnerapi-eu.amazon.com then region is eu-west1. All credentials need also be eu-west1. The keyword &quot;Credential Scope&quot; was important in our case and this section of the documentation helped: <a href=\"https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/developer-guide/SellingPartnerApiDeveloperGuide.md#credential-scope\" rel=\"nofollow noreferrer\">github.com/amzn/selling-partner-api-docs/blob/main/guides/en&zwnj;&#8203;-US/&hellip;</a>"},{"owner":{"account_id":3695194,"reputation":105,"user_id":3076750,"accept_rate":40,"display_name":"user3076750"},"score":1,"creation_date":1632759684,"post_id":67092530,"comment_id":122574397,"body_markdown":"Restricted Data tokens will be required for this access around July 2022.  So, while it works now, it won&#39;t in the future.\nDid you ever get the restricted resource endpoint working?  Struggling with it now.","body":"Restricted Data tokens will be required for this access around July 2022.  So, while it works now, it won&#39;t in the future. Did you ever get the restricted resource endpoint working?  Struggling with it now."},{"owner":{"account_id":2094327,"reputation":131,"user_id":1863457,"accept_rate":38,"display_name":"user1863457"},"score":1,"creation_date":1634612975,"post_id":67092530,"comment_id":123065428,"body_markdown":"i honestly think the API is broken... it doesn&#39;t make any sense it sends in two x-amz-access-tokens instead of just one which is causing it to break postman works fine... but these java classes not so much.","body":"i honestly think the API is broken... it doesn&#39;t make any sense it sends in two x-amz-access-tokens instead of just one which is causing it to break postman works fine... but these java classes not so much."},{"owner":{"account_id":10189282,"reputation":241,"user_id":7523242,"display_name":"loaded02"},"score":0,"creation_date":1641753066,"post_id":67092530,"comment_id":124882967,"body_markdown":"@Giga I am having a very similar issue. Could you manage to solve it with Java SDK? Thanks.","body":"@Giga I am having a very similar issue. Could you manage to solve it with Java SDK? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":10189282,"reputation":241,"user_id":7523242,"display_name":"loaded02"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658174760,"creation_date":1641803669,"answer_id":70649659,"question_id":67092530,"body_markdown":"According to RDT Token Flow and Amazon SP-API Java SDK I want to point to [this official example workflow][1]. \r\n\r\nUnfortunately the use of \r\n`ordersApi.getApiClient().addDefaultHeader(&quot;x-amz-access-token&quot;, token);`\r\nis broken in the ApiClient provided by Amazon and needs some custom adjustment to make it work.\r\n\r\nIf the request is only signed by LwaAuthorizationSigner when x-amz-access-token is missing, fixes the flow for me. Compare this [PR][2]\r\n\r\nChange ApiClient.java like this:\r\n\r\n    -        request = lwaAuthorizationSigner.sign(request);\r\n    +        if (!defaultHeaderMap.containsKey(&quot;x-amz-access-token&quot;)) {\r\n    +            request = lwaAuthorizationSigner.sign(request);\r\n    +        }\r\n\r\n\r\n  [1]: https://github.com/amzn/selling-partner-api-models/blob/817ca69acc83a40cfc0b02c7dda5d6534a9c752a/clients/sample-code/RestrictedDataTokenWorkflow.java\r\n  [2]: https://github.com/loaded02/selling-partner-api-models/pull/1/files","title":"How to use Restricted Data Token (RDT) in Amazon SP Api for Java","body":"<p>According to RDT Token Flow and Amazon SP-API Java SDK I want to point to <a href=\"https://github.com/amzn/selling-partner-api-models/blob/817ca69acc83a40cfc0b02c7dda5d6534a9c752a/clients/sample-code/RestrictedDataTokenWorkflow.java\" rel=\"nofollow noreferrer\">this official example workflow</a>.</p>\n<p>Unfortunately the use of\n<code>ordersApi.getApiClient().addDefaultHeader(&quot;x-amz-access-token&quot;, token);</code>\nis broken in the ApiClient provided by Amazon and needs some custom adjustment to make it work.</p>\n<p>If the request is only signed by LwaAuthorizationSigner when x-amz-access-token is missing, fixes the flow for me. Compare this <a href=\"https://github.com/loaded02/selling-partner-api-models/pull/1/files\" rel=\"nofollow noreferrer\">PR</a></p>\n<p>Change ApiClient.java like this:</p>\n<pre><code>-        request = lwaAuthorizationSigner.sign(request);\n+        if (!defaultHeaderMap.containsKey(&quot;x-amz-access-token&quot;)) {\n+            request = lwaAuthorizationSigner.sign(request);\n+        }\n</code></pre>\n"}],"owner":{"account_id":18709624,"reputation":77,"user_id":13639961,"display_name":"Giga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3972,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1658174760,"creation_date":1618406108,"question_id":67092530,"body_markdown":"I am using [Amazon SP api with generated Java SDK]. My test-application is checking the orders and also the delivery address. According to Amazon, this should be a [restricted operation]. But at the moment, I can get the information without the usage of RDT. I tried to use RDT as shown below but it is not working.\r\n\r\n    // Build orders-api\r\n    OrdersV0Api ordersApi = new OrdersV0Api.Builder()\r\n\t\t\t\t  .awsAuthenticationCredentials(awsAuthenticationCredentials)\r\n\t\t\t\t  .lwaAuthorizationCredentials(lwaAuthorizationCredentials)\r\n\t\t\t\t  .awsAuthenticationCredentialsProvider(awsAuthenticationCredentialsProvider)\r\n\t\t\t\t  .endpoint(&quot;https://sellingpartnerapi-eu.amazon.com&quot;)\r\n\t\t\t\t  .build();\r\n\t\t\r\n\tList&lt;String&gt; orderStatuses = new ArrayList&lt;String&gt;();\r\n\torderStatuses.add(OrderStatusEnum.UNSHIPPED.getValue());\r\n\t\t\r\n\tCalendar cal = Calendar.getInstance();\r\n\tcal.add(Calendar.DATE, -3);\r\n\t\t\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXX&quot;);\r\n\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\tString tmp = sdf.format(new Date());\r\n\t\t\r\n\ttry {\r\n        // Get orders\r\n\t\tGetOrdersResponse respOrders = ordersApi.getOrders(Marketplaces.getAllMarketplaces(), sdf.format(cal.getTime()), null, null, null, orderStatuses, null, null, null, null, 100, null, null, null);\r\n\t\tOrderList orders = respOrders.getPayload().getOrders();\r\n\t\tOrder ord = orders.get(0);\r\n\t\t\t\r\n\t\t// Restricted Data Token\r\n\t\tRestrictedResource rr = new RestrictedResource();\r\n\t\trr.setMethod(MethodEnum.GET);\r\n\t\trr.setPath(&quot;/orders/v0/orders/&quot; + ord.getAmazonOrderId() + &quot;/address&quot;);\r\n\r\n\t\tCreateRestrictedDataTokenRequest req = new CreateRestrictedDataTokenRequest();\r\n\t\treq.addRestrictedResourcesItem(rr);\r\n\t\t\r\n\t\tTokensApi tokensApi = new TokensApi.Builder()\r\n\t\t\t\t  .awsAuthenticationCredentials(awsAuthenticationCredentials)\r\n\t\t\t\t  .lwaAuthorizationCredentials(lwaAuthorizationCredentials)\r\n\t\t\t\t  .awsAuthenticationCredentialsProvider(awsAuthenticationCredentialsProvider)\r\n\t\t\t\t  .endpoint(&quot;https://sellingpartnerapi-eu.amazon.com&quot;)\r\n\t\t\t\t  .build(); \r\n\r\n\t\tCreateRestrictedDataTokenResponse resp3 = tokensApi.createRestrictedDataToken(req);\r\n\t\tString token = resp3.getRestrictedDataToken();\r\n\t\r\n        // Add token to Header ?\r\n\t\tordersApi.getApiClient().addDefaultHeader(&quot;x-amz-access-token&quot;, token); \r\n\t\t\t\r\n        // Get delivery adress\r\n\t\tGetOrderAddressResponse respAdress = ordersApi.getOrderAddress(ord.getAmazonOrderId());\r\n\t\tAddress adr = respAdress.getPayload().getShippingAddress();\r\n\t\t\t\r\n\t} catch (ApiException e) {\r\n\t\t\te.printStackTrace();\r\n\t} \r\n\r\nWhen I execute this, I am getting this error:\r\n*&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.*\r\n\r\nIt seems like only setting x-amz-access-token is not the right operation to add the RDP. But I also can not see any other operation on ordersApi or ordersApi.getApiClient that seems to be the right one.\r\nAnd also it is unclear to me, why it is working when I just completely not use tokens-api at all.\r\n\r\n[Amazon SP api with generated Java SDK]: https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/developer-guide/SellingPartnerApiDeveloperGuide.md#connecting-to-the-selling-partner-api-using-a-generated-java-sdk\r\n  [restricted operation]: https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/use-case-guides/tokens-api-use-case-guide/tokens-API-use-case-guide-2021-03-01.md#restricted-operations","title":"How to use Restricted Data Token (RDT) in Amazon SP Api for Java","body":"<p>I am using <a href=\"https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/developer-guide/SellingPartnerApiDeveloperGuide.md#connecting-to-the-selling-partner-api-using-a-generated-java-sdk\" rel=\"noreferrer\">Amazon SP api with generated Java SDK</a>. My test-application is checking the orders and also the delivery address. According to Amazon, this should be a <a href=\"https://github.com/amzn/selling-partner-api-docs/blob/main/guides/en-US/use-case-guides/tokens-api-use-case-guide/tokens-API-use-case-guide-2021-03-01.md#restricted-operations\" rel=\"noreferrer\">restricted operation</a>. But at the moment, I can get the information without the usage of RDT. I tried to use RDT as shown below but it is not working.</p>\n<pre><code>// Build orders-api\nOrdersV0Api ordersApi = new OrdersV0Api.Builder()\n              .awsAuthenticationCredentials(awsAuthenticationCredentials)\n              .lwaAuthorizationCredentials(lwaAuthorizationCredentials)\n              .awsAuthenticationCredentialsProvider(awsAuthenticationCredentialsProvider)\n              .endpoint(&quot;https://sellingpartnerapi-eu.amazon.com&quot;)\n              .build();\n    \nList&lt;String&gt; orderStatuses = new ArrayList&lt;String&gt;();\norderStatuses.add(OrderStatusEnum.UNSHIPPED.getValue());\n    \nCalendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, -3);\n    \nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXX&quot;);\nsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\nString tmp = sdf.format(new Date());\n    \ntry {\n    // Get orders\n    GetOrdersResponse respOrders = ordersApi.getOrders(Marketplaces.getAllMarketplaces(), sdf.format(cal.getTime()), null, null, null, orderStatuses, null, null, null, null, 100, null, null, null);\n    OrderList orders = respOrders.getPayload().getOrders();\n    Order ord = orders.get(0);\n        \n    // Restricted Data Token\n    RestrictedResource rr = new RestrictedResource();\n    rr.setMethod(MethodEnum.GET);\n    rr.setPath(&quot;/orders/v0/orders/&quot; + ord.getAmazonOrderId() + &quot;/address&quot;);\n\n    CreateRestrictedDataTokenRequest req = new CreateRestrictedDataTokenRequest();\n    req.addRestrictedResourcesItem(rr);\n    \n    TokensApi tokensApi = new TokensApi.Builder()\n              .awsAuthenticationCredentials(awsAuthenticationCredentials)\n              .lwaAuthorizationCredentials(lwaAuthorizationCredentials)\n              .awsAuthenticationCredentialsProvider(awsAuthenticationCredentialsProvider)\n              .endpoint(&quot;https://sellingpartnerapi-eu.amazon.com&quot;)\n              .build(); \n\n    CreateRestrictedDataTokenResponse resp3 = tokensApi.createRestrictedDataToken(req);\n    String token = resp3.getRestrictedDataToken();\n\n    // Add token to Header ?\n    ordersApi.getApiClient().addDefaultHeader(&quot;x-amz-access-token&quot;, token); \n        \n    // Get delivery adress\n    GetOrderAddressResponse respAdress = ordersApi.getOrderAddress(ord.getAmazonOrderId());\n    Address adr = respAdress.getPayload().getShippingAddress();\n        \n} catch (ApiException e) {\n        e.printStackTrace();\n} \n</code></pre>\n<p>When I execute this, I am getting this error:\n<em>&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.</em></p>\n<p>It seems like only setting x-amz-access-token is not the right operation to add the RDP. But I also can not see any other operation on ordersApi or ordersApi.getApiClient that seems to be the right one.\nAnd also it is unclear to me, why it is working when I just completely not use tokens-api at all.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-ec2","amazon-kms"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1658167597,"post_id":73026425,"comment_id":128979538,"body_markdown":"What task role? Are you using AWS ECS? Your question is unclear.","body":"What task role? Are you using AWS ECS? Your question is unclear."},{"owner":{"account_id":7235994,"reputation":454,"user_id":5521259,"accept_rate":60,"display_name":"Jo&#227;o Amaro"},"score":0,"creation_date":1658168512,"post_id":73026425,"comment_id":128979858,"body_markdown":"Yes, ECS task role","body":"Yes, ECS task role"}],"answers":[{"tags":[],"owner":{"account_id":8215766,"reputation":1439,"user_id":6182194,"display_name":"javierlga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658174633,"creation_date":1658174633,"answer_id":73027993,"question_id":73026425,"body_markdown":"You may be able to block access to the credentials that are supplied to the Amazon EC2 instance profile using one of these methods: \r\n\r\n1. Setting the environment variable `ECS_AWSVPC_BLOCK_IMDS` to true.\r\n\r\n2. Running the following command:\r\n```\r\nsudo yum install -y iptables-services; sudo iptables --insert DOCKER-USER 1 --in-interface docker+ --destination 169.254.169.254/32 --jump DROP\r\n```\r\n\r\nIt depends on the ECS task definition.\r\n\r\nReference: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-iam-roles.html#task-iam-role-considerations","title":"Polling SQS message from container in EC2 instance - EC2 Instance IAM Role vs ECS Task Role","body":"<p>You may be able to block access to the credentials that are supplied to the Amazon EC2 instance profile using one of these methods:</p>\n<ol>\n<li><p>Setting the environment variable <code>ECS_AWSVPC_BLOCK_IMDS</code> to true.</p>\n</li>\n<li><p>Running the following command:</p>\n</li>\n</ol>\n<pre><code>sudo yum install -y iptables-services; sudo iptables --insert DOCKER-USER 1 --in-interface docker+ --destination 169.254.169.254/32 --jump DROP\n</code></pre>\n<p>It depends on the ECS task definition.</p>\n<p>Reference: <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-iam-roles.html#task-iam-role-considerations\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-iam-roles.html#task-iam-role-considerations</a></p>\n"}],"owner":{"account_id":7235994,"reputation":454,"user_id":5521259,"accept_rate":60,"display_name":"Jo&#227;o Amaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658174633,"creation_date":1658165987,"question_id":73026425,"body_markdown":"I  am trying to poll SQS messages from a spring boot app running on a container in an EC2 instance. Both the consumer and SQS queue are on the same AWS account.\r\nThe messages are encrypted with a KMS key, so I need to create a &quot;km:Decrypt&quot; rule, otherwise, I&#39;m always getting this same message:\r\n\r\n&gt; com.amazonaws.services.sqs.model.AmazonSQSException: The ciphertext\r\n&gt; refers to a customer master key that does not exist, does not exist in\r\n&gt; this region, or you are not allowed to access\r\n\r\nTo allow decryption, I can either:\r\n\r\n 1. create the rule directly in the KMS key policy -&gt; I don&#39;t want to do this due to security reasons\r\n\r\n 2. create the rule at the EC2 Instance IAM Role level -&gt; I wanted to avoid this because I have other containers running in the same EC2 instance\r\n\r\n 3. create the rule at the ECS Task role level -&gt; preferred option\r\n\r\nThe 3rd option is already in place, but the problem is that the spring boot request is always using the EC2 Instance IAM Role (terraform-20210318145009433200000002), as seen in CloudTrail, instead of the ECS Task role:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I make it use the ECS Task role?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OAnSf.png","title":"Polling SQS message from container in EC2 instance - EC2 Instance IAM Role vs ECS Task Role","body":"<p>I  am trying to poll SQS messages from a spring boot app running on a container in an EC2 instance. Both the consumer and SQS queue are on the same AWS account.\nThe messages are encrypted with a KMS key, so I need to create a &quot;km:Decrypt&quot; rule, otherwise, I'm always getting this same message:</p>\n<blockquote>\n<p>com.amazonaws.services.sqs.model.AmazonSQSException: The ciphertext\nrefers to a customer master key that does not exist, does not exist in\nthis region, or you are not allowed to access</p>\n</blockquote>\n<p>To allow decryption, I can either:</p>\n<ol>\n<li><p>create the rule directly in the KMS key policy -&gt; I don't want to do this due to security reasons</p>\n</li>\n<li><p>create the rule at the EC2 Instance IAM Role level -&gt; I wanted to avoid this because I have other containers running in the same EC2 instance</p>\n</li>\n<li><p>create the rule at the ECS Task role level -&gt; preferred option</p>\n</li>\n</ol>\n<p>The 3rd option is already in place, but the problem is that the spring boot request is always using the EC2 Instance IAM Role (terraform-20210318145009433200000002), as seen in CloudTrail, instead of the ECS Task role:</p>\n<p><a href=\"https://i.stack.imgur.com/OAnSf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OAnSf.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I make it use the ECS Task role?</p>\n"},{"tags":["java","spring-boot","rest","raspberry-pi"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1656687663,"post_id":72830678,"comment_id":128640427,"body_markdown":"Can you try using `http.cors().and().csrf().disable()...` in your security config?","body":"Can you try using <code>http.cors().and().csrf().disable()...</code> in your security config?"},{"owner":{"account_id":14894081,"reputation":313,"user_id":10754932,"display_name":"Michael"},"score":0,"creation_date":1656689364,"post_id":72830678,"comment_id":128641065,"body_markdown":"@AshishPatil ok :) That worked surprisingly. Thank you for your help!","body":"@AshishPatil ok :) That worked surprisingly. Thank you for your help!"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658174502,"creation_date":1658174502,"answer_id":73027969,"question_id":72830678,"body_markdown":"For any future readers, if comments got removed, I suggested to use \r\n\r\n`http.cors().and().csrf().disable()...`  instead of `.csrf().disable().cors().and()..` in `configure` method as sequence of use of `cors` &amp; `csrf` were not correct in original post &amp; issue got resolved afterwords.\r\n","title":"Getting 403 Response from Spring Boot Rest Service on Raspberry Pi","body":"<p>For any future readers, if comments got removed, I suggested to use</p>\n<p><code>http.cors().and().csrf().disable()...</code>  instead of <code>.csrf().disable().cors().and()..</code> in <code>configure</code> method as sequence of use of <code>cors</code> &amp; <code>csrf</code> were not correct in original post &amp; issue got resolved afterwords.</p>\n"}],"owner":{"account_id":14894081,"reputation":313,"user_id":10754932,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658174502,"creation_date":1656685242,"question_id":72830678,"body_markdown":"**My Setup:**\r\n\r\nI got a vue frontend which is calling a spring boot rest api. \r\nLocally I run this in separate docker containers and on my local machine everything is working fine. \r\n\r\nFor testing purpose I got a raspberry pi connected to my router. On this I also run the frontend and the spring boot inside of different docker container.\r\n\r\nThe only difference between these setups are, that I can&#39;t use the `FROM openjdk:11` Image on my raspberry pi as it not support the arm32v7. There I use the `eclipse-temurin:11` container.\r\n\r\nThis is my docker-compose.yml:\r\n```\r\nversion: &quot;3.4&quot;\r\n\r\nservices:\r\n  db:\r\n    image: jsurf/rpi-mariadb\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: &#39;admin&#39;\r\n      MYSQL_DATABASE: &#39;ghp_board&#39;\r\n      MYSQL_USER: &#39;ghp_board_admin&#39;\r\n      MYSQL_PASSWORD: &#39;ghp_board&#39;\r\n    volumes:\r\n      - ./data/mariadb:/docker-entrypoint-initdb.d\r\n    ports:\r\n      - &quot;33006:3306&quot;\r\n\r\n  frontend:\r\n    build:\r\n      context: ./frontend\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8081:8080&quot;\r\n    container_name: ghp_board_frontend\r\n    volumes:\r\n      - ./frontend:/usr/src/app/ghp_board_frontend\r\n    depends_on:\r\n      - db\r\n\r\n  backend:\r\n    build:\r\n      context: ./backend\r\n      dockerfile: Dockerfile\r\n    depends_on:\r\n      - db\r\n    ports:\r\n      - &quot;8886:8080&quot;\r\n```\r\nAnd this my `Dockerfile` for the backend container:\r\n```\r\nFROM eclipse-temurin:11\r\n\r\nCOPY ./system/build/libs/system-0.0.1-SNAPSHOT.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\n**What do I want**\r\n\r\nThe spring boot application got two controller right now (News and Demand) which should provide data to the frontend through an REST API. \r\nBoth controller got nearly the same endpoints:\r\n\r\n```\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.webjars.NotFoundException;\r\n\r\nimport javax.lang.model.element.NestingKind;\r\nimport javax.persistence.EntityNotFoundException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@AllArgsConstructor\r\n@CrossOrigin\r\npublic class NewsController {\r\n\r\n    @Autowired\r\n    private final NewsService newsService;\r\n    private JwtAuthenticationService jwtAuthenticationService;\r\n\r\n    @GetMapping(path = &quot;/api/v1/news&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;?&gt; getAllNews(HttpServletRequest request) {\r\n        return new ResponseEntity&lt;&gt;(newsService.getAllNewsEntries(), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(path = &quot;/api/v1/news/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;?&gt; getNews(@PathVariable(&quot;id&quot;) Long id, HttpServletRequest request) {\r\n\r\n        return new ResponseEntity&lt;&gt;(newsService.getNewsEntry(id), HttpStatus.OK);\r\n    }\r\n\r\n    // Post -&gt; receive a new NewsEntry\r\n    @PostMapping(\r\n            path = &quot;/api/v1/news&quot;,\r\n            consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;?&gt; createNews(@RequestParam(&quot;file&quot;) Optional&lt;MultipartFile&gt; file, @RequestParam(&quot;newsData&quot;) String newsEntryString, HttpServletRequest request) throws IOException {\r\n\r\n        ObjectMapper mapper = new ObjectMapper()\r\n                .findAndRegisterModules()\r\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        NewsEntryDto newsEntryDto = mapper.readValue(newsEntryString, NewsEntryDto.class);\r\n\r\n        return new ResponseEntity&lt;&gt;(newsService.insertNewNewsEntry(newsEntryDto, file), HttpStatus.OK);\r\n    }\r\n\r\n    //Put -&gt; update an existing NewsEntry\r\n    @PutMapping(\r\n            path = &quot;/api/v1/news&quot;,\r\n            consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE\r\n    )\r\n    public ResponseEntity&lt;?&gt; updateNews(\r\n            @RequestParam(&quot;file&quot;) Optional&lt;MultipartFile&gt; file,\r\n            @RequestParam(&quot;newsUpdateId&quot;) Long newsUpdateId,\r\n            @RequestParam(&quot;newsData&quot;) String newsUpdateString,\r\n            HttpServletRequest request) throws IOException\r\n    {\r\n        ObjectMapper mapper = new ObjectMapper()\r\n                .findAndRegisterModules()\r\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        NewsEntryDto newsUpdateDto = mapper.readValue(newsUpdateString, NewsEntryDto.class);\r\n\r\n        return new ResponseEntity&lt;&gt;(newsService.updateNewsEntry(newsUpdateId, newsUpdateDto, file), HttpStatus.OK);\r\n    }\r\n\r\n    //Delete -&gt; delete an existing NewsEntry\r\n    @DeleteMapping(\r\n            path = &quot;/api/v1/news/{id}&quot;\r\n    )\r\n    public ResponseEntity&lt;?&gt; deleteNews(@PathVariable(&quot;id&quot;) Long newsDeleteId) {\r\n        newsService.deleteNewsEntry(newsDeleteId);\r\n        return new ResponseEntity&lt;&gt;(&quot;&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n```\r\npackage com.example.system.demand;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.webjars.NotFoundException;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@AllArgsConstructor\r\n@CrossOrigin\r\npublic class DemandController {\r\n\r\n    private DemandService demandService;\r\n\r\n    @GetMapping(path = &quot;/api/v1/demand&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;?&gt; getAllDemands() {\r\n        return new ResponseEntity&lt;&gt;(demandService.getAllDemandEntries(), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(path = &quot;/api/v1/demand/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;?&gt; getDemandById(@PathVariable(&quot;id&quot;) Long id) {\r\n        return new ResponseEntity&lt;&gt;(demandService.getDemandById(id), HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(\r\n            path = &quot;/api/v1/demand&quot;,\r\n            consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE\r\n    )\r\n    public ResponseEntity&lt;?&gt; insertNewDemand(\r\n            @RequestParam Optional&lt;List&lt;MultipartFile&gt;&gt; files,\r\n            @RequestParam String demandData\r\n    ) throws JsonProcessingException {\r\n\r\n        ObjectMapper mapper = new ObjectMapper()\r\n                .findAndRegisterModules()\r\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        DemandEntryDto demandEntryDto = mapper.readValue(demandData, DemandEntryDto.class);\r\n\r\n        return new ResponseEntity&lt;&gt;(demandService.insertNewDemandEntry(demandEntryDto, files), HttpStatus.OK);\r\n    }\r\n\r\n    @ExceptionHandler(NotFoundException.class)\r\n    public ResponseEntity&lt;?&gt; handlerNotFoundException(NotFoundException ex) {\r\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.NOT_FOUND);\r\n    }\r\n}\r\n```\r\n\r\n**My Problem:**\r\n\r\nWhen I call the GET-Endpoint `/api/v1/news` from  the frontend, I get all entries from the database, so this is working.\r\nThe GET-Endpoint `/api/v1/news/{id}` and the POST-Endpoint are also working fine.\r\nBut the other Endpoints PUT and DELETE of the NewsController and all Endpoints of the DemandController are receiving the Responsecode `403 - Forbidden`.\r\nI really can&#39;t understand why this is the case.\r\n\r\nMy `WebSecurityConfig` shouldn&#39;t have any specification which explain this behavior:\r\n```\r\npackage com.example.system.security;\r\n\r\nimport com.example.system.security.jwt.JwtAuthenticationEntrypoint;\r\nimport com.example.system.security.jwt.JwtAuthenticationProvider;\r\nimport com.example.system.security.jwt.JwtAuthenticationTokenFilter;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@SuppressWarnings(&quot;SpringJavaAutowiringInspection&quot;)\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntrypoint unauthorizedHandler;  // Gibt 403 zur&#252;ck, wenn nicht authorisiert\r\n\r\n    @Autowired\r\n    private JwtAuthenticationProvider jwtAuthenticationProvider;\r\n\r\n    @Autowired\r\n    public void configureAuthentication(AuthenticationManagerBuilder authenticationManagerBuilder) {\r\n        authenticationManagerBuilder.authenticationProvider(jwtAuthenticationProvider);\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticationTokenFilter authenticationTokenFilterBean() {\r\n        return new JwtAuthenticationTokenFilter();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .csrf().disable()\r\n                .cors().and() // Aktivieren von Cross-Site\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and() // Gibt 403 zur&#252;ck, wenn nicht authorisiert\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;)\r\n                    .permitAll()\r\n                    .antMatchers(&quot;/home&quot;)\r\n                    .permitAll()\r\n                    .antMatchers(&quot;/api/v1/login&quot;)\r\n                    .permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        httpSecurity.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n        httpSecurity.headers().cacheControl();\r\n    }\r\n}\r\n```\r\n\r\nAnd also the headers of the axois call are the same:\r\n```\r\ngetNews() {\r\n        const token = localStorage.getItem(&#39;token&#39;);\r\n\r\n        const header = {\r\n            &#39;Content-Type&#39; : &#39;application/x-www-form-urlencoded&#39;,\r\n            &#39;Authorization&#39;: `Bearer ${token}`,\r\n            &#39;Access-Control-Allow-Origin&#39; : &#39;*&#39;,\r\n            &#39;Access-Control-Allow-Methods&#39;:&#39;GET,PUT,POST,DELETE,PATCH,OPTIONS&#39;,\r\n        }\r\n\r\n        return axios.get(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news&quot;, {\r\n            headers: header\r\n        });\r\n    },\r\n    getNewsDetail(id) {\r\n        const token = localStorage.getItem(&#39;token&#39;);\r\n\r\n        const header = {\r\n            &#39;Content-Type&#39; : &#39;application/x-www-form-urlencoded&#39;,\r\n            &#39;Authorization&#39;: `Bearer ${token}`,\r\n            &#39;Access-Control-Allow-Origin&#39; : &#39;*&#39;,\r\n            &#39;Access-Control-Allow-Methods&#39;:&#39;GET,PUT,POST,DELETE,PATCH,OPTIONS&#39;,\r\n        }\r\n\r\n        return axios.get(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news/&quot; + id, {\r\n            headers: header\r\n        });\r\n    },\r\n    insertNewsEntry(data) {\r\n        const token = localStorage.getItem(&#39;token&#39;);\r\n        const header = {\r\n            //&#39;Content-Type&#39; : &#39;application/json&#39;,\r\n            &#39;Content-Type&#39; : &#39;multipart/form-data&#39;,\r\n            &#39;Authorization&#39;: `Bearer ${token}`,\r\n            &#39;Access-Control-Allow-Origin&#39; : &#39;*&#39;,\r\n            &#39;Access-Control-Allow-Methods&#39;:&#39;GET,PUT,POST,DELETE,PATCH,OPTIONS&#39;,\r\n        }\r\n\r\n        return axios.post(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news&quot;, data, {\r\n            headers: header\r\n        });\r\n\r\n    },\r\n    updateNewsEntry(data) {\r\n        const token = localStorage.getItem(&#39;token&#39;);\r\n        const header = {\r\n            //&#39;Content-Type&#39; : &#39;application/json&#39;,\r\n            &#39;Content-Type&#39; : &#39;multipart/form-data&#39;,\r\n            &#39;Authorization&#39;: `Bearer ${token}`,\r\n            &#39;Access-Control-Allow-Origin&#39; : &#39;*&#39;,\r\n            &#39;Access-Control-Allow-Methods&#39;:&#39;GET,PUT,POST,DELETE,PATCH,OPTIONS&#39;,\r\n        }\r\n\r\n        return axios.put(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news&quot;, data, {\r\n            headers: header\r\n        });\r\n    },\r\n    deleteNewsEntry(id) {\r\n        const token = localStorage.getItem(&#39;token&#39;);\r\n        const header = {\r\n            //&#39;Content-Type&#39; : &#39;application/json&#39;,\r\n            &#39;Content-Type&#39; : &#39;multipart/form-data&#39;,\r\n            &#39;Authorization&#39;: `Bearer ${token}`,\r\n            &#39;Access-Control-Allow-Origin&#39; : &#39;*&#39;,\r\n            &#39;Access-Control-Allow-Methods&#39;:&#39;GET,PUT,POST,DELETE,PATCH,OPTIONS&#39;,\r\n        }\r\n\r\n        return axios.delete(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news/&quot; + id, {\r\n            headers: header\r\n        });\r\n    }\r\n```\r\n\r\nDoes anyone know what I missed here? ","title":"Getting 403 Response from Spring Boot Rest Service on Raspberry Pi","body":"<p><strong>My Setup:</strong></p>\n<p>I got a vue frontend which is calling a spring boot rest api.\nLocally I run this in separate docker containers and on my local machine everything is working fine.</p>\n<p>For testing purpose I got a raspberry pi connected to my router. On this I also run the frontend and the spring boot inside of different docker container.</p>\n<p>The only difference between these setups are, that I can't use the <code>FROM openjdk:11</code> Image on my raspberry pi as it not support the arm32v7. There I use the <code>eclipse-temurin:11</code> container.</p>\n<p>This is my docker-compose.yml:</p>\n<pre><code>version: &quot;3.4&quot;\n\nservices:\n  db:\n    image: jsurf/rpi-mariadb\n    environment:\n      MYSQL_ROOT_PASSWORD: 'admin'\n      MYSQL_DATABASE: 'ghp_board'\n      MYSQL_USER: 'ghp_board_admin'\n      MYSQL_PASSWORD: 'ghp_board'\n    volumes:\n      - ./data/mariadb:/docker-entrypoint-initdb.d\n    ports:\n      - &quot;33006:3306&quot;\n\n  frontend:\n    build:\n      context: ./frontend\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8081:8080&quot;\n    container_name: ghp_board_frontend\n    volumes:\n      - ./frontend:/usr/src/app/ghp_board_frontend\n    depends_on:\n      - db\n\n  backend:\n    build:\n      context: ./backend\n      dockerfile: Dockerfile\n    depends_on:\n      - db\n    ports:\n      - &quot;8886:8080&quot;\n</code></pre>\n<p>And this my <code>Dockerfile</code> for the backend container:</p>\n<pre><code>FROM eclipse-temurin:11\n\nCOPY ./system/build/libs/system-0.0.1-SNAPSHOT.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p><strong>What do I want</strong></p>\n<p>The spring boot application got two controller right now (News and Demand) which should provide data to the frontend through an REST API.\nBoth controller got nearly the same endpoints:</p>\n<pre><code>import org.springframework.web.multipart.MultipartFile;\nimport org.webjars.NotFoundException;\n\nimport javax.lang.model.element.NestingKind;\nimport javax.persistence.EntityNotFoundException;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\nimport java.util.Optional;\n\n@RestController\n@AllArgsConstructor\n@CrossOrigin\npublic class NewsController {\n\n    @Autowired\n    private final NewsService newsService;\n    private JwtAuthenticationService jwtAuthenticationService;\n\n    @GetMapping(path = &quot;/api/v1/news&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; getAllNews(HttpServletRequest request) {\n        return new ResponseEntity&lt;&gt;(newsService.getAllNewsEntries(), HttpStatus.OK);\n    }\n\n    @GetMapping(path = &quot;/api/v1/news/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; getNews(@PathVariable(&quot;id&quot;) Long id, HttpServletRequest request) {\n\n        return new ResponseEntity&lt;&gt;(newsService.getNewsEntry(id), HttpStatus.OK);\n    }\n\n    // Post -&gt; receive a new NewsEntry\n    @PostMapping(\n            path = &quot;/api/v1/news&quot;,\n            consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; createNews(@RequestParam(&quot;file&quot;) Optional&lt;MultipartFile&gt; file, @RequestParam(&quot;newsData&quot;) String newsEntryString, HttpServletRequest request) throws IOException {\n\n        ObjectMapper mapper = new ObjectMapper()\n                .findAndRegisterModules()\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        NewsEntryDto newsEntryDto = mapper.readValue(newsEntryString, NewsEntryDto.class);\n\n        return new ResponseEntity&lt;&gt;(newsService.insertNewNewsEntry(newsEntryDto, file), HttpStatus.OK);\n    }\n\n    //Put -&gt; update an existing NewsEntry\n    @PutMapping(\n            path = &quot;/api/v1/news&quot;,\n            consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE\n    )\n    public ResponseEntity&lt;?&gt; updateNews(\n            @RequestParam(&quot;file&quot;) Optional&lt;MultipartFile&gt; file,\n            @RequestParam(&quot;newsUpdateId&quot;) Long newsUpdateId,\n            @RequestParam(&quot;newsData&quot;) String newsUpdateString,\n            HttpServletRequest request) throws IOException\n    {\n        ObjectMapper mapper = new ObjectMapper()\n                .findAndRegisterModules()\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        NewsEntryDto newsUpdateDto = mapper.readValue(newsUpdateString, NewsEntryDto.class);\n\n        return new ResponseEntity&lt;&gt;(newsService.updateNewsEntry(newsUpdateId, newsUpdateDto, file), HttpStatus.OK);\n    }\n\n    //Delete -&gt; delete an existing NewsEntry\n    @DeleteMapping(\n            path = &quot;/api/v1/news/{id}&quot;\n    )\n    public ResponseEntity&lt;?&gt; deleteNews(@PathVariable(&quot;id&quot;) Long newsDeleteId) {\n        newsService.deleteNewsEntry(newsDeleteId);\n        return new ResponseEntity&lt;&gt;(&quot;&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<pre><code>package com.example.system.demand;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport lombok.AllArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.webjars.NotFoundException;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\n@AllArgsConstructor\n@CrossOrigin\npublic class DemandController {\n\n    private DemandService demandService;\n\n    @GetMapping(path = &quot;/api/v1/demand&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; getAllDemands() {\n        return new ResponseEntity&lt;&gt;(demandService.getAllDemandEntries(), HttpStatus.OK);\n    }\n\n    @GetMapping(path = &quot;/api/v1/demand/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; getDemandById(@PathVariable(&quot;id&quot;) Long id) {\n        return new ResponseEntity&lt;&gt;(demandService.getDemandById(id), HttpStatus.OK);\n    }\n\n    @PostMapping(\n            path = &quot;/api/v1/demand&quot;,\n            consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE\n    )\n    public ResponseEntity&lt;?&gt; insertNewDemand(\n            @RequestParam Optional&lt;List&lt;MultipartFile&gt;&gt; files,\n            @RequestParam String demandData\n    ) throws JsonProcessingException {\n\n        ObjectMapper mapper = new ObjectMapper()\n                .findAndRegisterModules()\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        DemandEntryDto demandEntryDto = mapper.readValue(demandData, DemandEntryDto.class);\n\n        return new ResponseEntity&lt;&gt;(demandService.insertNewDemandEntry(demandEntryDto, files), HttpStatus.OK);\n    }\n\n    @ExceptionHandler(NotFoundException.class)\n    public ResponseEntity&lt;?&gt; handlerNotFoundException(NotFoundException ex) {\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n<p><strong>My Problem:</strong></p>\n<p>When I call the GET-Endpoint <code>/api/v1/news</code> from  the frontend, I get all entries from the database, so this is working.\nThe GET-Endpoint <code>/api/v1/news/{id}</code> and the POST-Endpoint are also working fine.\nBut the other Endpoints PUT and DELETE of the NewsController and all Endpoints of the DemandController are receiving the Responsecode <code>403 - Forbidden</code>.\nI really can't understand why this is the case.</p>\n<p>My <code>WebSecurityConfig</code> shouldn't have any specification which explain this behavior:</p>\n<pre><code>package com.example.system.security;\n\nimport com.example.system.security.jwt.JwtAuthenticationEntrypoint;\nimport com.example.system.security.jwt.JwtAuthenticationProvider;\nimport com.example.system.security.jwt.JwtAuthenticationTokenFilter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@SuppressWarnings(&quot;SpringJavaAutowiringInspection&quot;)\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntrypoint unauthorizedHandler;  // Gibt 403 zurück, wenn nicht authorisiert\n\n    @Autowired\n    private JwtAuthenticationProvider jwtAuthenticationProvider;\n\n    @Autowired\n    public void configureAuthentication(AuthenticationManagerBuilder authenticationManagerBuilder) {\n        authenticationManagerBuilder.authenticationProvider(jwtAuthenticationProvider);\n    }\n\n    @Bean\n    public JwtAuthenticationTokenFilter authenticationTokenFilterBean() {\n        return new JwtAuthenticationTokenFilter();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf().disable()\n                .cors().and() // Aktivieren von Cross-Site\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and() // Gibt 403 zurück, wenn nicht authorisiert\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests()\n                    .antMatchers(&quot;/&quot;)\n                    .permitAll()\n                    .antMatchers(&quot;/home&quot;)\n                    .permitAll()\n                    .antMatchers(&quot;/api/v1/login&quot;)\n                    .permitAll()\n                .anyRequest().authenticated();\n\n        httpSecurity.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n        httpSecurity.headers().cacheControl();\n    }\n}\n</code></pre>\n<p>And also the headers of the axois call are the same:</p>\n<pre><code>getNews() {\n        const token = localStorage.getItem('token');\n\n        const header = {\n            'Content-Type' : 'application/x-www-form-urlencoded',\n            'Authorization': `Bearer ${token}`,\n            'Access-Control-Allow-Origin' : '*',\n            'Access-Control-Allow-Methods':'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n        }\n\n        return axios.get(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news&quot;, {\n            headers: header\n        });\n    },\n    getNewsDetail(id) {\n        const token = localStorage.getItem('token');\n\n        const header = {\n            'Content-Type' : 'application/x-www-form-urlencoded',\n            'Authorization': `Bearer ${token}`,\n            'Access-Control-Allow-Origin' : '*',\n            'Access-Control-Allow-Methods':'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n        }\n\n        return axios.get(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news/&quot; + id, {\n            headers: header\n        });\n    },\n    insertNewsEntry(data) {\n        const token = localStorage.getItem('token');\n        const header = {\n            //'Content-Type' : 'application/json',\n            'Content-Type' : 'multipart/form-data',\n            'Authorization': `Bearer ${token}`,\n            'Access-Control-Allow-Origin' : '*',\n            'Access-Control-Allow-Methods':'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n        }\n\n        return axios.post(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news&quot;, data, {\n            headers: header\n        });\n\n    },\n    updateNewsEntry(data) {\n        const token = localStorage.getItem('token');\n        const header = {\n            //'Content-Type' : 'application/json',\n            'Content-Type' : 'multipart/form-data',\n            'Authorization': `Bearer ${token}`,\n            'Access-Control-Allow-Origin' : '*',\n            'Access-Control-Allow-Methods':'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n        }\n\n        return axios.put(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news&quot;, data, {\n            headers: header\n        });\n    },\n    deleteNewsEntry(id) {\n        const token = localStorage.getItem('token');\n        const header = {\n            //'Content-Type' : 'application/json',\n            'Content-Type' : 'multipart/form-data',\n            'Authorization': `Bearer ${token}`,\n            'Access-Control-Allow-Origin' : '*',\n            'Access-Control-Allow-Methods':'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n        }\n\n        return axios.delete(process.env.VUE_APP_BACKEND_URL + &quot;/api/v1/news/&quot; + id, {\n            headers: header\n        });\n    }\n</code></pre>\n<p>Does anyone know what I missed here?</p>\n"},{"tags":["java","android","android-optionsmenu"],"comments":[{"owner":{"account_id":254321,"reputation":1073,"user_id":533635,"accept_rate":67,"display_name":"Chromium"},"score":0,"creation_date":1294136995,"post_id":4592571,"comment_id":5044838,"body_markdown":"How could you access a menu item while its not clicked yet? Remeber you are accessing it from onOptionsItemSelected(), which will be called only when the menu item is selected.","body":"How could you access a menu item while its not clicked yet? Remeber you are accessing it from onOptionsItemSelected(), which will be called only when the menu item is selected."}],"answers":[{"tags":[],"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1294137009,"creation_date":1294137009,"answer_id":4592602,"question_id":4592571,"body_markdown":"When creating your menu items, you could put the `MenuItem` you want to check in an attribute (i.e. one of the `private` fields of your class). This way, when you go into your method, you&#39;ll be able toacces the other menu item.","title":"Android option menu","body":"<p>When creating your menu items, you could put the <code>MenuItem</code> you want to check in an attribute (i.e. one of the <code>private</code> fields of your class). This way, when you go into your method, you'll be able toacces the other menu item.</p>\n"}],"owner":{"account_id":638134,"reputation":93,"user_id":410919,"display_name":"Dmitriy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4592602,"answer_count":1,"score":0,"last_activity_date":1658174494,"creation_date":1294136764,"question_id":4592571,"body_markdown":"In my project i have activity with options menu. I override `onOptionsItemSelected` method and add my handlers to menu items (switch-case block). But in one handler i need access to another menu item, how i can do that? findViewById doesn&#39;t work\r\n\r\n     @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.visit:\r\n                        //how to access another MenuItem from here?\r\n                        return true;\r\n                    }\r\n    ...","title":"Android option menu","body":"<p>In my project i have activity with options menu. I override <code>onOptionsItemSelected</code> method and add my handlers to menu items (switch-case block). But in one handler i need access to another menu item, how i can do that? findViewById doesn't work</p>\n\n<pre><code> @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.visit:\n                    //how to access another MenuItem from here?\n                    return true;\n                }\n...\n</code></pre>\n"},{"tags":["java","multithreading","wait","executorservice"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1658172058,"post_id":73027321,"comment_id":128981015,"body_markdown":"Search for Java CyclicBarrier or Phaser","body":"Search for Java CyclicBarrier or Phaser"},{"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"score":0,"creation_date":1658576121,"post_id":73027321,"comment_id":129088729,"body_markdown":"Maybe the answers here are helpful: https://stackoverflow.com/questions/9748710/how-to-pause-resume-all-threads-in-an-executorservice-in-java","body":"Maybe the answers here are helpful: <a href=\"https://stackoverflow.com/questions/9748710/how-to-pause-resume-all-threads-in-an-executorservice-in-java\" title=\"how to pause resume all threads in an executorservice in java\">stackoverflow.com/questions/9748710/&hellip;</a>"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658174408,"creation_date":1658170776,"question_id":73027321,"body_markdown":"Is there an simple/elegant way to make all threads created by `ExecutorService` to ***wait()*** ?\r\n\r\nMy current solution is to add a flag and pause make the threads wait with it like so:\r\n```java\r\npublic class task implements Runnable {\r\n        \r\n        static boolean flag;\r\n         \r\n        public void run()\r\n        {\r\n            while(true){\r\n                if(flag){\r\n                    wait();\r\n                }else{\r\n                    /* do stuff */\r\n                    .\r\n                    .\r\n                    .\r\n                }\r\n            }\r\n        }\r\n    }\r\n``` \r\n\r\nBut in this way I can only make thread wait at the end of an iteration of its task and It&#39;s seem to be unnecessarily complicated. ","title":"ExecutorService make all threads wait","body":"<p>Is there an simple/elegant way to make all threads created by <code>ExecutorService</code> to <em><strong>wait()</strong></em> ?</p>\n<p>My current solution is to add a flag and pause make the threads wait with it like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class task implements Runnable {\n        \n        static boolean flag;\n         \n        public void run()\n        {\n            while(true){\n                if(flag){\n                    wait();\n                }else{\n                    /* do stuff */\n                    .\n                    .\n                    .\n                }\n            }\n        }\n    }\n</code></pre>\n<p>But in this way I can only make thread wait at the end of an iteration of its task and It's seem to be unnecessarily complicated.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658174304,"creation_date":1655634431,"answer_id":72676062,"question_id":72675184,"body_markdown":"When using plain JSON data with Connect, you may see this error message: org.apache.kafka.connect.errors.DataException: JsonDeserializer with schemas.enable requires &quot;schema&quot; and &quot;payload&quot; fields and may not contain additional fields.\r\n\r\nYou will need to set the schemas.enable parameters for the converter to false for plain text with no schema.\r\n\r\n    bootstrap.servers=localhost:29092\r\n\r\n    key.converter=org.apache.kafka.connect.json.JsonConverter\r\n    key.converter.schemas.enable=false\r\n\r\n    value.converter=org.apache.kafka.connect.json.JsonConverter\r\n    value.converter.schemas.enable=false","title":"Kafka Connect. OffsetStorageReader throws exception, only at the first poll(). On the next poll() gets sourceOffset without exception","body":"<p>When using plain JSON data with Connect, you may see this error message: org.apache.kafka.connect.errors.DataException: JsonDeserializer with schemas.enable requires &quot;schema&quot; and &quot;payload&quot; fields and may not contain additional fields.</p>\n<p>You will need to set the schemas.enable parameters for the converter to false for plain text with no schema.</p>\n<pre><code>bootstrap.servers=localhost:29092\n\nkey.converter=org.apache.kafka.connect.json.JsonConverter\nkey.converter.schemas.enable=false\n\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\nvalue.converter.schemas.enable=false\n</code></pre>\n"}],"owner":{"account_id":19553412,"reputation":185,"user_id":14308420,"display_name":"leonaugust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658174304,"creation_date":1655625264,"question_id":72675184,"body_markdown":"Line \r\n\r\n&gt; context.offsetStorageReader().offset(sourcePartition());\r\n\r\n produces exception at the first poll.\r\nOn the next polling, there is no exception. Is it possible to fix it without wrapping extra checking around **getLatestSourceOffset()** like adding field to determine if it&#39;s the first poll? Or there is no way to avoid it and we should add checking?\r\n\r\n**kafka-connect-api version: 0.10.2.0-cp1**\r\n\r\n```\r\n2022-06-19 05:52:34,538 ERROR [pool-1-thread-1] (OffsetStorageReaderImpl.java:102) - CRITICAL: Failed to deserialize offset data when getting offsets for task with namespace CryptoPanicSourceConnector. No value for this data will be returned, which may break the task or cause it to skip some data. This could either be due to an error in the connector implementation or incompatible schema.\r\norg.apache.kafka.connect.errors.DataException: JsonConverter with schemas.enable requires &quot;schema&quot; and &quot;payload&quot; fields and may not contain additional fields. If you are trying to deserialize plain JSON data, set schemas.enable=false in your converter configuration.\r\n        at org.apache.kafka.connect.json.JsonConverter.toConnectData(JsonConverter.java:309)\r\n        at org.apache.kafka.connect.storage.OffsetStorageReaderImpl.offsets(OffsetStorageReaderImpl.java:96)\r\n        at org.apache.kafka.connect.storage.OffsetStorageReaderImpl.offset(OffsetStorageReaderImpl.java:54)\r\n        at com.delphian.bush.CryptoPanicSourceTask.getLatestSourceOffset(CryptoPanicSourceTask.java:97)\r\n        at com.delphian.bush.CryptoPanicSourceTask.poll(CryptoPanicSourceTask.java:61)\r\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.execute(WorkerSourceTask.java:162)\r\n        at org.apache.kafka.connect.runtime.WorkerTask.doRun(WorkerTask.java:139)\r\n        at org.apache.kafka.connect.runtime.WorkerTask.run(WorkerTask.java:182)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\n**worker.properties**\r\n\r\n    bootstrap.servers=localhost:29092\r\n    key.converter=org.apache.kafka.connect.json.JsonConverter\r\n    key.converter.schemas.enable=true\r\n    value.converter=org.apache.kafka.connect.json.JsonConverter\r\n    value.converter.schemas.enable=true\r\n    \r\n    internal.key.converter=org.apache.kafka.connect.json.JsonConverter\r\n    internal.key.converter.schemas.enable=true\r\n    internal.value.converter=org.apache.kafka.connect.json.JsonConverter\r\n    internal.value.converter.schemas.enable=true\r\n    \r\n    rest.port=8086\r\n    rest.host.name=127.0.0.1\r\n    offset.storage.file.filename=offsets/standalone.offsets\r\n    offset.flush.interval.ms=10000\r\n\r\n**SourceTask**\r\n\r\n        public List&lt;SourceRecord&gt; poll() throws InterruptedException {\r\n            List&lt;SourceRecord&gt; records = new ArrayList&lt;&gt;();\r\n            Optional&lt;Long&gt; sourceOffset = getLatestSourceOffset();\r\n            CryptoNewsResponse newsResponse = // getNewsFromApi\r\n    \r\n            // Filter which news add to records based on sourceOffset. Shortened for brevity \r\n            for (CryptoNews news : filteredNews) {\r\n                records.add(generateRecordFromNews(news));\r\n            }\r\n    \r\n            return records;\r\n        }\r\n        \r\n        \r\n       private Optional&lt;Long&gt; getLatestSourceOffset() {\r\n            Map&lt;String, Object&gt; offset = context.offsetStorageReader().offset(sourcePartition());\r\n            if (offset != null) {\r\n                Object id = offset.get(&quot;id&quot;);\r\n                if (id != null) {\r\n                    Long latestOffset = Long.valueOf((String) id);\r\n                    return Optional.of(latestOffset);\r\n                }\r\n            }\r\n            return Optional.empty();\r\n        }\r\n        \r\n        private SourceRecord generateRecordFromNews(CryptoNews cryptoNews) {\r\n            return new SourceRecord(\r\n                    sourcePartition(),\r\n                    sourceOffset(cryptoNews),\r\n                    config.getString(TOPIC_CONFIG),\r\n                    null,\r\n                    CryptoNewsSchema.NEWS_KEY_SCHEMA,\r\n                    buildRecordKey(cryptoNews),\r\n                    CryptoNewsSchema.NEWS_SCHEMA,\r\n                    buildRecordValue(cryptoNews),\r\n                    Instant.now().toEpochMilli()\r\n            );\r\n        }\r\n        \r\n        \r\n    \r\n        private Map&lt;String, String&gt; sourceOffset(CryptoNews cryptoNews) {\r\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(CryptoNewsSchema.ID_FIELD, cryptoNews.getId());\r\n            return map;\r\n        }\r\n\r\n**UPDATE**\r\n\r\nI don&#39;t use *Avro* and *Protobuf*.\r\nMy news schema:\r\n\r\n\r\n    public static final Schema NEWS_SCHEMA = SchemaBuilder.struct()\r\n                .name(SCHEMA_NAME)\r\n                .version(FIRST_VERSION)\r\n                .field(NewsSourceSchema.SCHEMA_NAME,  SOURCE_SCHEMA)\r\n                .field(CurrencySchema.SCHEMA_NAME, SchemaBuilder.array(CURRENCY_SCHEMA).optional())\r\n                .field(KIND_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\r\n                .field(DOMAIN_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\r\n                .field(TITLE_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\r\n                .field(PUBLISHED_AT_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\r\n                .field(SLUG_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\r\n                .field(ID_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\r\n                .field(URL_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\r\n                .field(CREATED_AT_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\r\n                .build();\r\n                \r\n         public Struct toConnectData(CryptoNews cryptoNews) {\r\n            Struct struct = new Struct(CryptoNewsSchema.NEWS_SCHEMA)\r\n                    .put(NewsSourceSchema.SCHEMA_NAME, NewsSourceConverter.INSTANCE.toConnectData(cryptoNews.getSource()))\r\n                    .put(CryptoNewsSchema.KIND_FIELD, cryptoNews.getKind())\r\n                    .put(CryptoNewsSchema.DOMAIN_FIELD, cryptoNews.getDomain())\r\n                    .put(CryptoNewsSchema.TITLE_FIELD, cryptoNews.getTitle())\r\n                    .put(CryptoNewsSchema.PUBLISHED_AT_FIELD, cryptoNews.getPublishedAt())\r\n                    .put(CryptoNewsSchema.SLUG_FIELD, cryptoNews.getSlug())\r\n                    .put(CryptoNewsSchema.ID_FIELD, cryptoNews.getId())\r\n                    .put(CryptoNewsSchema.URL_FIELD, cryptoNews.getUrl())\r\n                    .put(CryptoNewsSchema.CREATED_AT_FIELD, cryptoNews.getCreatedAt());\r\n    \r\n            List&lt;Currency&gt; currencies = Optional.ofNullable(cryptoNews.getCurrencies()).orElse(new ArrayList&lt;&gt;());\r\n            final List&lt;Struct&gt; items = currencies.stream()\r\n                    .map(CONVERTER::toConnectData)\r\n                    .collect(Collectors.toList());\r\n            struct.put(CurrencySchema.SCHEMA_NAME, items);\r\n            return struct;\r\n        }\r\n\r\n**UPDATE 2**\r\n\r\nconnector.properties\r\n\r\n    name=CryptoPanicSourceConnector\r\n    tasks.max=1\r\n    connector.class=com.delphian.bush.CryptoPanicSourceConnector\r\n    topic=crypto-news\r\n    \r\nStartup command:\r\n\r\n    connect-standalone config/worker.properties config/custom-connector.properties","title":"Kafka Connect. OffsetStorageReader throws exception, only at the first poll(). On the next poll() gets sourceOffset without exception","body":"<p>Line</p>\n<blockquote>\n<p>context.offsetStorageReader().offset(sourcePartition());</p>\n</blockquote>\n<p>produces exception at the first poll.\nOn the next polling, there is no exception. Is it possible to fix it without wrapping extra checking around <strong>getLatestSourceOffset()</strong> like adding field to determine if it's the first poll? Or there is no way to avoid it and we should add checking?</p>\n<p><strong>kafka-connect-api version: 0.10.2.0-cp1</strong></p>\n<pre><code>2022-06-19 05:52:34,538 ERROR [pool-1-thread-1] (OffsetStorageReaderImpl.java:102) - CRITICAL: Failed to deserialize offset data when getting offsets for task with namespace CryptoPanicSourceConnector. No value for this data will be returned, which may break the task or cause it to skip some data. This could either be due to an error in the connector implementation or incompatible schema.\norg.apache.kafka.connect.errors.DataException: JsonConverter with schemas.enable requires &quot;schema&quot; and &quot;payload&quot; fields and may not contain additional fields. If you are trying to deserialize plain JSON data, set schemas.enable=false in your converter configuration.\n        at org.apache.kafka.connect.json.JsonConverter.toConnectData(JsonConverter.java:309)\n        at org.apache.kafka.connect.storage.OffsetStorageReaderImpl.offsets(OffsetStorageReaderImpl.java:96)\n        at org.apache.kafka.connect.storage.OffsetStorageReaderImpl.offset(OffsetStorageReaderImpl.java:54)\n        at com.delphian.bush.CryptoPanicSourceTask.getLatestSourceOffset(CryptoPanicSourceTask.java:97)\n        at com.delphian.bush.CryptoPanicSourceTask.poll(CryptoPanicSourceTask.java:61)\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.execute(WorkerSourceTask.java:162)\n        at org.apache.kafka.connect.runtime.WorkerTask.doRun(WorkerTask.java:139)\n        at org.apache.kafka.connect.runtime.WorkerTask.run(WorkerTask.java:182)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p><strong>worker.properties</strong></p>\n<pre><code>bootstrap.servers=localhost:29092\nkey.converter=org.apache.kafka.connect.json.JsonConverter\nkey.converter.schemas.enable=true\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\nvalue.converter.schemas.enable=true\n\ninternal.key.converter=org.apache.kafka.connect.json.JsonConverter\ninternal.key.converter.schemas.enable=true\ninternal.value.converter=org.apache.kafka.connect.json.JsonConverter\ninternal.value.converter.schemas.enable=true\n\nrest.port=8086\nrest.host.name=127.0.0.1\noffset.storage.file.filename=offsets/standalone.offsets\noffset.flush.interval.ms=10000\n</code></pre>\n<p><strong>SourceTask</strong></p>\n<pre><code>    public List&lt;SourceRecord&gt; poll() throws InterruptedException {\n        List&lt;SourceRecord&gt; records = new ArrayList&lt;&gt;();\n        Optional&lt;Long&gt; sourceOffset = getLatestSourceOffset();\n        CryptoNewsResponse newsResponse = // getNewsFromApi\n\n        // Filter which news add to records based on sourceOffset. Shortened for brevity \n        for (CryptoNews news : filteredNews) {\n            records.add(generateRecordFromNews(news));\n        }\n\n        return records;\n    }\n    \n    \n   private Optional&lt;Long&gt; getLatestSourceOffset() {\n        Map&lt;String, Object&gt; offset = context.offsetStorageReader().offset(sourcePartition());\n        if (offset != null) {\n            Object id = offset.get(&quot;id&quot;);\n            if (id != null) {\n                Long latestOffset = Long.valueOf((String) id);\n                return Optional.of(latestOffset);\n            }\n        }\n        return Optional.empty();\n    }\n    \n    private SourceRecord generateRecordFromNews(CryptoNews cryptoNews) {\n        return new SourceRecord(\n                sourcePartition(),\n                sourceOffset(cryptoNews),\n                config.getString(TOPIC_CONFIG),\n                null,\n                CryptoNewsSchema.NEWS_KEY_SCHEMA,\n                buildRecordKey(cryptoNews),\n                CryptoNewsSchema.NEWS_SCHEMA,\n                buildRecordValue(cryptoNews),\n                Instant.now().toEpochMilli()\n        );\n    }\n    \n    \n\n    private Map&lt;String, String&gt; sourceOffset(CryptoNews cryptoNews) {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(CryptoNewsSchema.ID_FIELD, cryptoNews.getId());\n        return map;\n    }\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>I don't use <em>Avro</em> and <em>Protobuf</em>.\nMy news schema:</p>\n<pre><code>public static final Schema NEWS_SCHEMA = SchemaBuilder.struct()\n            .name(SCHEMA_NAME)\n            .version(FIRST_VERSION)\n            .field(NewsSourceSchema.SCHEMA_NAME,  SOURCE_SCHEMA)\n            .field(CurrencySchema.SCHEMA_NAME, SchemaBuilder.array(CURRENCY_SCHEMA).optional())\n            .field(KIND_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\n            .field(DOMAIN_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\n            .field(TITLE_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\n            .field(PUBLISHED_AT_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\n            .field(SLUG_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\n            .field(ID_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\n            .field(URL_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\n            .field(CREATED_AT_FIELD, Schema.OPTIONAL_STRING_SCHEMA)\n            .build();\n            \n     public Struct toConnectData(CryptoNews cryptoNews) {\n        Struct struct = new Struct(CryptoNewsSchema.NEWS_SCHEMA)\n                .put(NewsSourceSchema.SCHEMA_NAME, NewsSourceConverter.INSTANCE.toConnectData(cryptoNews.getSource()))\n                .put(CryptoNewsSchema.KIND_FIELD, cryptoNews.getKind())\n                .put(CryptoNewsSchema.DOMAIN_FIELD, cryptoNews.getDomain())\n                .put(CryptoNewsSchema.TITLE_FIELD, cryptoNews.getTitle())\n                .put(CryptoNewsSchema.PUBLISHED_AT_FIELD, cryptoNews.getPublishedAt())\n                .put(CryptoNewsSchema.SLUG_FIELD, cryptoNews.getSlug())\n                .put(CryptoNewsSchema.ID_FIELD, cryptoNews.getId())\n                .put(CryptoNewsSchema.URL_FIELD, cryptoNews.getUrl())\n                .put(CryptoNewsSchema.CREATED_AT_FIELD, cryptoNews.getCreatedAt());\n\n        List&lt;Currency&gt; currencies = Optional.ofNullable(cryptoNews.getCurrencies()).orElse(new ArrayList&lt;&gt;());\n        final List&lt;Struct&gt; items = currencies.stream()\n                .map(CONVERTER::toConnectData)\n                .collect(Collectors.toList());\n        struct.put(CurrencySchema.SCHEMA_NAME, items);\n        return struct;\n    }\n</code></pre>\n<p><strong>UPDATE 2</strong></p>\n<p>connector.properties</p>\n<pre><code>name=CryptoPanicSourceConnector\ntasks.max=1\nconnector.class=com.delphian.bush.CryptoPanicSourceConnector\ntopic=crypto-news\n</code></pre>\n<p>Startup command:</p>\n<pre><code>connect-standalone config/worker.properties config/custom-connector.properties\n</code></pre>\n"},{"tags":["java","string","linked-list"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1658174409,"post_id":73027922,"comment_id":128981703,"body_markdown":"Because in one case you&#39;re calling methods on the instance. In the other you&#39;re changing the object the local variable is pointing to (here `s = s+node.val;`). See also [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Because in one case you&#39;re calling methods on the instance. In the other you&#39;re changing the object the local variable is pointing to (here <code>s = s+node.val;</code>). See also <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1658175476,"post_id":73027922,"comment_id":128982025,"body_markdown":"The rule is: in a method, if `arg` is one of the arguments to the function, `arg.something = foo` carries over to the caller, but `arg = foo` does not.","body":"The rule is: in a method, if <code>arg</code> is one of the arguments to the function, <code>arg.something = foo</code> carries over to the caller, but <code>arg = foo</code> does not."},{"owner":{"account_id":25838585,"reputation":15,"user_id":19574579,"display_name":"CuberBoy"},"score":0,"creation_date":1658176689,"post_id":73027922,"comment_id":128982365,"body_markdown":"Thanks guys, this makes a lot of sense. I got it to work with stringbuilder using .append, does it not with .concat for strings because it creates a new string object while stringbuilder is the same object?","body":"Thanks guys, this makes a lot of sense. I got it to work with stringbuilder using .append, does it not with .concat for strings because it creates a new string object while stringbuilder is the same object?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658211823,"post_id":73027922,"comment_id":128988375,"body_markdown":"@CuberBoy that&#39;s correct. Using `concat` you would have to do something like `s = s.concat(node.val);` and you&#39;d be back to square one.","body":"@CuberBoy that&#39;s correct. Using <code>concat</code> you would have to do something like <code>s = s.concat(node.val);</code> and you&#39;d be back to square one."},{"owner":{"account_id":25838585,"reputation":15,"user_id":19574579,"display_name":"CuberBoy"},"score":1,"creation_date":1658327881,"post_id":73027922,"comment_id":129025211,"body_markdown":"@trincot, yes, thanks. My account&#39;s new so I don&#39;t think I can like comments or anything yet but I greatly appreciate it.","body":"@trincot, yes, thanks. My account&#39;s new so I don&#39;t think I can like comments or anything yet but I greatly appreciate it."}],"owner":{"account_id":25838585,"reputation":15,"user_id":19574579,"display_name":"CuberBoy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659039655,"answer_count":0,"score":0,"last_activity_date":1658174215,"creation_date":1658174215,"question_id":73027922,"body_markdown":"This question is in reference to leetcode problem 872, Leaf-Similar Trees. I had no issue with the problem, but afterwards I wanted to use strings as opposed to a linked list. For reference here is my solution:\r\n\r\n```\r\nclass Solution {\r\n    public boolean leafSimilar(TreeNode root1, TreeNode root2) {\r\n        LinkedList&lt;Integer&gt; l1 = new LinkedList&lt;&gt;();\r\n        LinkedList&lt;Integer&gt; l2 = new LinkedList&lt;&gt;();\r\n        traverse(root1,l1);\r\n        traverse(root2, l2);\r\n        if(l1.size()!=l2.size())\r\n            return false;\r\n        for(int i=0;i&lt;l1.size();i++)\r\n            if(l1.get(i)!=l2.get(i))\r\n                return false;\r\n        return true;\r\n        \r\n    }\r\n    public void traverse(TreeNode node, LinkedList ll){\r\n        if(node==null)\r\n            return;\r\n        if(node.left==null&amp;&amp;node.right==null)\r\n        {\r\n            ll.add(node.val);\r\n            return;\r\n        }\r\n        traverse(node.left,ll);\r\n        traverse(node.right,ll);\r\n    }\r\n}\r\n```\r\nI wondered if I could cut down lines by using strings instead of linked lists, adding each end node value to a string and then comparing the strings with .equals for a 1 line comparison.  \r\n```\r\nclass Solution {\r\n    public boolean leafSimilar(TreeNode root1, TreeNode root2) {\r\n        String s1 = &quot;&quot;;\r\n        String s2 = &quot;&quot;;\r\n        traverse(root1,s1);\r\n        traverse(root2,s2);\r\n        return s1.equals(s2);\r\n        \r\n    }\r\n    public void traverse(TreeNode node, String s){\r\n        if(node==null)\r\n            return;\r\n        if(node.left==null&amp;&amp;node.right==null)\r\n        {\r\n            s = s+node.val;\r\n            return;\r\n        }\r\n        traverse(node.left,s);\r\n        traverse(node.right,s);\r\n    }\r\n}\r\n\r\n``` \r\nThis failed solution ends up just comparing two empty strings. What I realized was that the strings do not update their values the same way the linked lists did. Both the strings and linked lists were local to the first method, yet the linked list within leafSimilar had values added as an effect of the traverse method while strings didn&#39;t. I thought this had to do with the fact that strings are immutable in java yet it also didn&#39;t work for stringbuilder. If the string is made global within the class and thus not passed as a parameter to traverse this works, though it fails the final test case, but that isn&#39;t important to my question. Can someone explain what is happening differently between the lists and the strings?","title":"Local linked lists can be changed by a method but local strings cannot, why?","body":"<p>This question is in reference to leetcode problem 872, Leaf-Similar Trees. I had no issue with the problem, but afterwards I wanted to use strings as opposed to a linked list. For reference here is my solution:</p>\n<pre><code>class Solution {\n    public boolean leafSimilar(TreeNode root1, TreeNode root2) {\n        LinkedList&lt;Integer&gt; l1 = new LinkedList&lt;&gt;();\n        LinkedList&lt;Integer&gt; l2 = new LinkedList&lt;&gt;();\n        traverse(root1,l1);\n        traverse(root2, l2);\n        if(l1.size()!=l2.size())\n            return false;\n        for(int i=0;i&lt;l1.size();i++)\n            if(l1.get(i)!=l2.get(i))\n                return false;\n        return true;\n        \n    }\n    public void traverse(TreeNode node, LinkedList ll){\n        if(node==null)\n            return;\n        if(node.left==null&amp;&amp;node.right==null)\n        {\n            ll.add(node.val);\n            return;\n        }\n        traverse(node.left,ll);\n        traverse(node.right,ll);\n    }\n}\n</code></pre>\n<p>I wondered if I could cut down lines by using strings instead of linked lists, adding each end node value to a string and then comparing the strings with .equals for a 1 line comparison.</p>\n<pre><code>class Solution {\n    public boolean leafSimilar(TreeNode root1, TreeNode root2) {\n        String s1 = &quot;&quot;;\n        String s2 = &quot;&quot;;\n        traverse(root1,s1);\n        traverse(root2,s2);\n        return s1.equals(s2);\n        \n    }\n    public void traverse(TreeNode node, String s){\n        if(node==null)\n            return;\n        if(node.left==null&amp;&amp;node.right==null)\n        {\n            s = s+node.val;\n            return;\n        }\n        traverse(node.left,s);\n        traverse(node.right,s);\n    }\n}\n\n</code></pre>\n<p>This failed solution ends up just comparing two empty strings. What I realized was that the strings do not update their values the same way the linked lists did. Both the strings and linked lists were local to the first method, yet the linked list within leafSimilar had values added as an effect of the traverse method while strings didn't. I thought this had to do with the fact that strings are immutable in java yet it also didn't work for stringbuilder. If the string is made global within the class and thus not passed as a parameter to traverse this works, though it fails the final test case, but that isn't important to my question. Can someone explain what is happening differently between the lists and the strings?</p>\n"},{"tags":["java","android","kotlin","date","zoneddatetime"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1658170545,"post_id":73027189,"comment_id":128980461,"body_markdown":"Maybe you can share the code related to the problem that you have so far to add more context.","body":"Maybe you can share the code related to the problem that you have so far to add more context."},{"owner":{"account_id":1468853,"reputation":3627,"user_id":1380933,"display_name":"Vadik Sirekanyan"},"score":0,"creation_date":1658171673,"post_id":73027189,"comment_id":128980874,"body_markdown":"Which `minSdk` version do you use in your project `build.gradle` file?","body":"Which <code>minSdk</code> version do you use in your project <code>build.gradle</code> file?"},{"owner":{"account_id":15091863,"reputation":495,"user_id":10891523,"display_name":"AndroideuszPL"},"score":0,"creation_date":1658215119,"post_id":73027189,"comment_id":128989342,"body_markdown":"@Vadik I use 23 `minSdk` version.","body":"@Vadik I use 23 <code>minSdk</code> version."},{"owner":{"account_id":1468853,"reputation":3627,"user_id":1380933,"display_name":"Vadik Sirekanyan"},"score":0,"creation_date":1658232958,"post_id":73027189,"comment_id":128995965,"body_markdown":"Please add to your question more details. How do you get ZonedDateTime object in your code? It seems [ZonedDateTime](https://developer.android.com/reference/java/time/ZonedDateTime) is not available before Android API 26.","body":"Please add to your question more details. How do you get ZonedDateTime object in your code? It seems <a href=\"https://developer.android.com/reference/java/time/ZonedDateTime\" rel=\"nofollow noreferrer\">ZonedDateTime</a> is not available before Android API 26."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1658380474,"post_id":73027189,"comment_id":129038055,"body_markdown":"Consider going all-in on Java’s built-in localized formats. For example `DateTimeFormatter.ofLocalizedDateTime(FormatStyle.MEDIUM, FormatStyle.LONG)` will in Polish locale give you like `21 lip 2022, 07:13:03 +02:00`.","body":"Consider going all-in on Java’s built-in localized formats. For example <code>DateTimeFormatter.ofLocalizedDateTime(FormatStyle.MEDIUM, FormatStyle.LONG)</code> will in Polish locale give you like <code>21 lip 2022, 07:13:03 +02:00</code>."}],"answers":[{"tags":[],"owner":{"account_id":1468853,"reputation":3627,"user_id":1380933,"display_name":"Vadik Sirekanyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658173800,"creation_date":1658173382,"answer_id":73027779,"question_id":73027189,"body_markdown":"Use `DateTimeFormatter` helper from `java.time.format` to format `ZonedDateTime`, for example:\r\n\r\n```kotlin\r\nval time = ZonedDateTime.now()\r\nval formatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm (O)&quot;)\r\nformatter.format(time) // will return time in format 11.10.2022 13:30 (GMT+2)\r\n```\r\n\r\nSee which symbols you can use to construct the pattern in the official [docs][1].\r\n\r\nTo implement your particular case, you can also use `DateTimeFormatterBuilder`:\r\n\r\n```kotlin\r\nval time = ZonedDateTime.now()\r\nval formatter = DateTimeFormatterBuilder()\r\n    .appendPattern(&quot;dd.MM.yyyy &quot;)\r\n    .appendLocalized(null, FormatStyle.SHORT)\r\n    .appendPattern(&quot; (O)&quot;)\r\n    .toFormatter()\r\nformatter.format(time) // will return time depending on Locale\r\n```\r\n\r\nThe last line of the code will return time in the desired format:\r\n\r\n&gt; 11.10.2022 13:30 (GMT+2) / 11.10.2022 01:30 PM (GMT+2)\r\n\r\nDepending on device Locale:\r\n\r\n&gt; Locale.FRANCE / Locale.US\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"ZonedDateTime localized format","body":"<p>Use <code>DateTimeFormatter</code> helper from <code>java.time.format</code> to format <code>ZonedDateTime</code>, for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val time = ZonedDateTime.now()\nval formatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm (O)&quot;)\nformatter.format(time) // will return time in format 11.10.2022 13:30 (GMT+2)\n</code></pre>\n<p>See which symbols you can use to construct the pattern in the official <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>To implement your particular case, you can also use <code>DateTimeFormatterBuilder</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val time = ZonedDateTime.now()\nval formatter = DateTimeFormatterBuilder()\n    .appendPattern(&quot;dd.MM.yyyy &quot;)\n    .appendLocalized(null, FormatStyle.SHORT)\n    .appendPattern(&quot; (O)&quot;)\n    .toFormatter()\nformatter.format(time) // will return time depending on Locale\n</code></pre>\n<p>The last line of the code will return time in the desired format:</p>\n<blockquote>\n<p>11.10.2022 13:30 (GMT+2) / 11.10.2022 01:30 PM (GMT+2)</p>\n</blockquote>\n<p>Depending on device Locale:</p>\n<blockquote>\n<p>Locale.FRANCE / Locale.US</p>\n</blockquote>\n"}],"owner":{"account_id":15091863,"reputation":495,"user_id":10891523,"display_name":"AndroideuszPL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73027779,"answer_count":1,"score":0,"last_activity_date":1658173800,"creation_date":1658170008,"question_id":73027189,"body_markdown":"I want to display ZonedDateTime in format like \r\n\r\n&gt; 11.10.2022 13:30 (GMT+2) / 11.10.2022 01:30 PM (GMT+2)\r\n\r\ndepending on device settings. So far I have done something similar using formatDateTime function from DateUtils class, but this function doesn&#39;t display \r\n&gt;(GMT+2) \r\n\r\nIt takes time in milliseconds as a argument. How can I do this with ZonedDateTime?","title":"ZonedDateTime localized format","body":"<p>I want to display ZonedDateTime in format like</p>\n<blockquote>\n<p>11.10.2022 13:30 (GMT+2) / 11.10.2022 01:30 PM (GMT+2)</p>\n</blockquote>\n<p>depending on device settings. So far I have done something similar using formatDateTime function from DateUtils class, but this function doesn't display</p>\n<blockquote>\n<p>(GMT+2)</p>\n</blockquote>\n<p>It takes time in milliseconds as a argument. How can I do this with ZonedDateTime?</p>\n"},{"tags":["java","quarkus","try-with-resources"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1658172929,"post_id":73027635,"comment_id":128981286,"body_markdown":"The try-with-resources statement ensures that each resource is closed at the end of the statement. Any object that implements java.lang.AutoCloseable, which includes all objects which implement java.io.Closeable, can be used as a resource. Source: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","body":"The try-with-resources statement ensures that each resource is closed at the end of the statement. Any object that implements java.lang.AutoCloseable, which includes all objects which implement java.io.Closeable, can be used as a resource. Source: <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25831032,"reputation":128,"user_id":19568218,"display_name":"Voided Name"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658172847,"creation_date":1658172847,"answer_id":73027691,"question_id":73027635,"body_markdown":"Try with resource should be the preferred way. For 2 reasons. \r\n\r\nFirst, you can see what your resources are at a glance via the try definition. Second, you can&#39;t forget to close a resource. A finally, theoretically, can also be interrupted. Let&#39;s assume you have two resources open, in the finally you close both, but the first one you try closing throws an exception, now you&#39;re never closing the second one. Granted, it&#39;s a contrived example, but the finally could have more complex code and it might be easy to miss / forget the resource.","title":"It&#39;s good to practice using try with resources without finally in Java","body":"<p>Try with resource should be the preferred way. For 2 reasons.</p>\n<p>First, you can see what your resources are at a glance via the try definition. Second, you can't forget to close a resource. A finally, theoretically, can also be interrupted. Let's assume you have two resources open, in the finally you close both, but the first one you try closing throws an exception, now you're never closing the second one. Granted, it's a contrived example, but the finally could have more complex code and it might be easy to miss / forget the resource.</p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658173358,"creation_date":1658173358,"answer_id":73027777,"question_id":73027635,"body_markdown":"Unless the `AutoCloseable` object you&#39;re working with has bugs with its `close()` method (which would prevent you from using `finally` *anyway*), using try-with-resources is preferred over `finally`.\r\n\r\nThe objective reason is [in the documentation](https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html).\r\n\r\n&gt; An object that may hold resources (such as file or socket handles) until it is closed. The close() method of an AutoCloseable object is called automatically when exiting a try-with-resources block for which the object has been declared in the resource specification header. This construction ensures prompt release, avoiding resource exhaustion exceptions and errors that may otherwise occur.\r\n\r\nWith a `finally` block, you have to remember to keep track of what it is you opened and then be sure it&#39;s closed at the end of execution.  With a try-with-resources block, you&#39;re guaranteed that this will happen at the end.","title":"It&#39;s good to practice using try with resources without finally in Java","body":"<p>Unless the <code>AutoCloseable</code> object you're working with has bugs with its <code>close()</code> method (which would prevent you from using <code>finally</code> <em>anyway</em>), using try-with-resources is preferred over <code>finally</code>.</p>\n<p>The objective reason is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">in the documentation</a>.</p>\n<blockquote>\n<p>An object that may hold resources (such as file or socket handles) until it is closed. The close() method of an AutoCloseable object is called automatically when exiting a try-with-resources block for which the object has been declared in the resource specification header. This construction ensures prompt release, avoiding resource exhaustion exceptions and errors that may otherwise occur.</p>\n</blockquote>\n<p>With a <code>finally</code> block, you have to remember to keep track of what it is you opened and then be sure it's closed at the end of execution.  With a try-with-resources block, you're guaranteed that this will happen at the end.</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73027777,"answer_count":2,"score":-2,"last_activity_date":1658173358,"creation_date":1658172499,"question_id":73027635,"body_markdown":"I am working with microservices in Quarkus (Java Framework). I have doubts about the closing of connections using `try`-with-resources. According to the documentation if we have an `AutoCloseable` object it should close the connection and clean up the objects. Is this really true or is it recommended to continue using `finally` to close connections?\r\n\r\n    package com.tmve.subscriber.repository;\r\n    import io.agroal.api.AgroalDataSource;\r\n    import java.sql.CallableStatement;\r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n    import java.sql.Types;\r\n    import java.util.HashMap;\r\n    \r\n    \r\n    public class FindPrepaidSubscriberICCIDRepository {\r\n    \r\n    \r\n        public HashMap&lt;String,String&gt; getResources(AgroalDataSource defaultDataSource, String movil){\r\n            HashMap&lt;String,String&gt; map= new HashMap&lt;&gt;();\r\n            try(Connection conn= defaultDataSource.getConnection();\r\n                CallableStatement stm = conn.prepareCall(&quot;{call PKG_LCL_CUENTA.B_DATOS_CLIENTE_X_MOVIL(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)}&quot;))\r\n            {\r\n                Integer qmovil=Integer.valueOf(movil);\r\n                stm.setInt(1,qmovil);\r\n                stm.registerOutParameter(2, Types.VARCHAR);\r\n                stm.registerOutParameter(3,Types.VARCHAR);\r\n                stm.registerOutParameter(4,Types.VARCHAR);\r\n                stm.registerOutParameter(5,Types.VARCHAR);\r\n                stm.registerOutParameter(6,Types.VARCHAR);\r\n                stm.registerOutParameter(7,Types.VARCHAR);\r\n                stm.registerOutParameter(8,Types.VARCHAR);\r\n                stm.registerOutParameter(9,Types.VARCHAR);\r\n                stm.registerOutParameter(10,Types.VARCHAR);\r\n                stm.registerOutParameter(11,Types.VARCHAR);\r\n                stm.registerOutParameter(12,Types.VARCHAR);\r\n                stm.registerOutParameter(13,Types.VARCHAR);\r\n                stm.registerOutParameter(14,Types.INTEGER);\r\n                stm.registerOutParameter(15,Types.INTEGER);\r\n                stm.registerOutParameter(16,Types.VARCHAR);\r\n                stm.registerOutParameter(17,Types.VARCHAR);\r\n                stm.registerOutParameter(18,Types.INTEGER);\r\n                stm.registerOutParameter(19,Types.VARCHAR);\r\n                stm.registerOutParameter(20,Types.VARCHAR);\r\n                stm.registerOutParameter(21,Types.VARCHAR);\r\n                stm.registerOutParameter(22,Types.VARCHAR);\r\n                stm.registerOutParameter(23,Types.VARCHAR);\r\n                stm.registerOutParameter(24,Types.VARCHAR);\r\n                stm.registerOutParameter(25,Types.INTEGER);\r\n                stm.registerOutParameter(26,Types.INTEGER);\r\n                stm.registerOutParameter(27,Types.VARCHAR);\r\n                stm.registerOutParameter(28,Types.VARCHAR);\r\n                stm.registerOutParameter(29,Types.VARCHAR);\r\n    \r\n                stm.execute();\r\n    \r\n                map.put(&quot;P_CICCID&quot;,stm.getString(27));\r\n                return map;\r\n    \r\n            } catch (SQLException e) {\r\n                map.put(&quot;error_message&quot;,e.getMessage());\r\n                return map;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"It&#39;s good to practice using try with resources without finally in Java","body":"<p>I am working with microservices in Quarkus (Java Framework). I have doubts about the closing of connections using <code>try</code>-with-resources. According to the documentation if we have an <code>AutoCloseable</code> object it should close the connection and clean up the objects. Is this really true or is it recommended to continue using <code>finally</code> to close connections?</p>\n<pre><code>package com.tmve.subscriber.repository;\nimport io.agroal.api.AgroalDataSource;\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.Types;\nimport java.util.HashMap;\n\n\npublic class FindPrepaidSubscriberICCIDRepository {\n\n\n    public HashMap&lt;String,String&gt; getResources(AgroalDataSource defaultDataSource, String movil){\n        HashMap&lt;String,String&gt; map= new HashMap&lt;&gt;();\n        try(Connection conn= defaultDataSource.getConnection();\n            CallableStatement stm = conn.prepareCall(&quot;{call PKG_LCL_CUENTA.B_DATOS_CLIENTE_X_MOVIL(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)}&quot;))\n        {\n            Integer qmovil=Integer.valueOf(movil);\n            stm.setInt(1,qmovil);\n            stm.registerOutParameter(2, Types.VARCHAR);\n            stm.registerOutParameter(3,Types.VARCHAR);\n            stm.registerOutParameter(4,Types.VARCHAR);\n            stm.registerOutParameter(5,Types.VARCHAR);\n            stm.registerOutParameter(6,Types.VARCHAR);\n            stm.registerOutParameter(7,Types.VARCHAR);\n            stm.registerOutParameter(8,Types.VARCHAR);\n            stm.registerOutParameter(9,Types.VARCHAR);\n            stm.registerOutParameter(10,Types.VARCHAR);\n            stm.registerOutParameter(11,Types.VARCHAR);\n            stm.registerOutParameter(12,Types.VARCHAR);\n            stm.registerOutParameter(13,Types.VARCHAR);\n            stm.registerOutParameter(14,Types.INTEGER);\n            stm.registerOutParameter(15,Types.INTEGER);\n            stm.registerOutParameter(16,Types.VARCHAR);\n            stm.registerOutParameter(17,Types.VARCHAR);\n            stm.registerOutParameter(18,Types.INTEGER);\n            stm.registerOutParameter(19,Types.VARCHAR);\n            stm.registerOutParameter(20,Types.VARCHAR);\n            stm.registerOutParameter(21,Types.VARCHAR);\n            stm.registerOutParameter(22,Types.VARCHAR);\n            stm.registerOutParameter(23,Types.VARCHAR);\n            stm.registerOutParameter(24,Types.VARCHAR);\n            stm.registerOutParameter(25,Types.INTEGER);\n            stm.registerOutParameter(26,Types.INTEGER);\n            stm.registerOutParameter(27,Types.VARCHAR);\n            stm.registerOutParameter(28,Types.VARCHAR);\n            stm.registerOutParameter(29,Types.VARCHAR);\n\n            stm.execute();\n\n            map.put(&quot;P_CICCID&quot;,stm.getString(27));\n            return map;\n\n        } catch (SQLException e) {\n            map.put(&quot;error_message&quot;,e.getMessage());\n            return map;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1658172999,"post_id":73027245,"comment_id":128981308,"body_markdown":"Please post code as text, not images. Also it looks like it&#39;s `activity_main.xml` that has a problem.","body":"Please post code as text, not images. Also it looks like it&#39;s <code>activity_main.xml</code> that has a problem."}],"answers":[{"tags":[],"owner":{"account_id":22437484,"reputation":23,"user_id":16642526,"display_name":"jonhurono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658173280,"creation_date":1658173280,"answer_id":73027769,"question_id":73027245,"body_markdown":"Looks like you got an error on the activity_main.xml file.\r\n\r\nLook for a typo, or any unclosed tag\r\n","title":"XML document structures must start and end within the same entity android studio Android Studio","body":"<p>Looks like you got an error on the activity_main.xml file.</p>\n<p>Look for a typo, or any unclosed tag</p>\n"}],"owner":{"account_id":25838435,"reputation":1,"user_id":19574450,"display_name":"owais saeed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658173280,"creation_date":1658170363,"question_id":73027245,"body_markdown":"[XML document structures must start and end within the same entity android studio][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z8cP6.jpg","title":"XML document structures must start and end within the same entity android studio Android Studio","body":"<p><a href=\"https://i.stack.imgur.com/z8cP6.jpg\" rel=\"nofollow noreferrer\">XML document structures must start and end within the same entity android studio</a></p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1637837210,"post_id":70109566,"comment_id":123934648,"body_markdown":"Hint: you don&#39;t actually need to do any multiplication for this task. All you need to do is count the number of negative elements in the array (and immediately return `0` whenever you see a `0` in tje array).","body":"Hint: you don&#39;t actually need to do any multiplication for this task. All you need to do is count the number of negative elements in the array (and immediately return <code>0</code> whenever you see a <code>0</code> in tje array)."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1637842385,"post_id":70109566,"comment_id":123936658,"body_markdown":"Exactly what Joachim says. For any two negative numbers applies that the product is positive. So only if you encounter an *odd* negative number, the product is negative.","body":"Exactly what Joachim says. For any two negative numbers applies that the product is positive. So only if you encounter an <i>odd</i> negative number, the product is negative."}],"answers":[{"tags":[],"owner":{"account_id":9239948,"reputation":279,"user_id":6863495,"display_name":"Urvashi Soni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637845100,"creation_date":1637845100,"answer_id":70111541,"question_id":70109566,"body_markdown":"For the **solution** of the problem, correctly stated by Joachim Sauer that just count the negative integers and based on that display the result.\r\n\r\nTo ans **this** : *With datatype Double all testcases are passing, but why not with datatype Long???*\r\n\r\nThis happens due to Overflow and Underflows. If it overflows, it goes back to the minimum value, and if it underflows, it goes to the maximum value. The ans to this is explained in this [link][1] for Integers and the same applies to all the dataypes in Java.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3001879/6863495\r\n\r\nAs the max value for Long is `9223372036854775807` which is approximately 9.2233E18, multiplying the last integer (-24 from your input set) creates the situation of underflow, causing it to start from `Long.MAX_VALUE`.","title":"1822.Sign Of the product of An array leetcode","body":"<p>For the <strong>solution</strong> of the problem, correctly stated by Joachim Sauer that just count the negative integers and based on that display the result.</p>\n<p>To ans <strong>this</strong> : <em>With datatype Double all testcases are passing, but why not with datatype Long???</em></p>\n<p>This happens due to Overflow and Underflows. If it overflows, it goes back to the minimum value, and if it underflows, it goes to the maximum value. The ans to this is explained in this <a href=\"https://stackoverflow.com/a/3001879/6863495\">link</a> for Integers and the same applies to all the dataypes in Java.</p>\n<p>As the max value for Long is <code>9223372036854775807</code> which is approximately 9.2233E18, multiplying the last integer (-24 from your input set) creates the situation of underflow, causing it to start from <code>Long.MAX_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":25838666,"reputation":11,"user_id":19574649,"display_name":"Nour Amr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658172987,"creation_date":1658172987,"answer_id":73027715,"question_id":70109566,"body_markdown":"Because of overflow, you can instead play on the idea of the sign only without product, I mean that if you have a container and it contains a -ve value and in the loop, you find another -ve value so, change the value of the container to be +ve without multiplying them, so when, you finish and check it, you will check a small number in comparison with the product.\r\n\r\n    public static int arraySign(int[] nums)\r\n    {\r\n        int productSign=1;\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            if (nums[i]==0) return 0;\r\n            else if(nums[i]&lt;0 &amp;&amp; productSign&lt;0)\r\n                productSign = -nums[i];\r\n            else if(nums[i]&lt;0 &amp;&amp; productSign&gt;0)\r\n                productSign = nums[i];\r\n        }\r\n        return signFunc(productSign);\r\n    }\r\n    public static int signFunc(int x)\r\n    {\r\n        if (x &gt; 0)\r\n            return 1;\r\n        else\r\n            return -1;\r\n    }","title":"1822.Sign Of the product of An array leetcode","body":"<p>Because of overflow, you can instead play on the idea of the sign only without product, I mean that if you have a container and it contains a -ve value and in the loop, you find another -ve value so, change the value of the container to be +ve without multiplying them, so when, you finish and check it, you will check a small number in comparison with the product.</p>\n<pre><code>public static int arraySign(int[] nums)\n{\n    int productSign=1;\n    for (int i = 0; i &lt; nums.length; i++) {\n        if (nums[i]==0) return 0;\n        else if(nums[i]&lt;0 &amp;&amp; productSign&lt;0)\n            productSign = -nums[i];\n        else if(nums[i]&lt;0 &amp;&amp; productSign&gt;0)\n            productSign = nums[i];\n    }\n    return signFunc(productSign);\n}\npublic static int signFunc(int x)\n{\n    if (x &gt; 0)\n        return 1;\n    else\n        return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":21921677,"reputation":55,"user_id":16204842,"display_name":"Rohan Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658172987,"creation_date":1637836471,"question_id":70109566,"body_markdown":"I have been trying out a problem on leetcode [1822. Sign Of the Product of an array](https://leetcode.com/problems/sign-of-the-product-of-an-array/submissions/)\r\n\r\nThere is a function signFunc(x) that returns:\r\n\r\n    1 if x is positive.\r\n    \r\n    -1 if x is negative.\r\n    \r\n    0 if x is equal to 0.\r\n\r\nYou are given a strong text and integer array nums. Let the product be the product of all values in the array nums.\r\n\r\nReturn signFunc(product).\r\n\r\n**Example 1:**\r\n\r\n    **Input:** nums = [-1,-2,-3,-4,3,2,1]\r\n    \r\n    **Output:** 1\r\n    \r\n    **Explanation:** The product of all values in the array is 144, and signFunc(144) = 1\r\n\r\nAnd this is my approach to the problem \r\n\r\n    class Solution {  \r\n        public int arraySign(int[] nums) {  \r\n            double product=1;  \r\n            for(int i=0;i&lt;nums.length;i++){  \r\n                product=product*nums[i];  \r\n            }  \r\n            if(product&gt;0) return 1;  \r\n            else if (product &lt;0) return -1;  \r\n            else return 0;  \r\n        }  \r\n    }  \r\n\r\nThe question is whenever I&#39;m taking the product as datatype double all my test cases are passing but when I&#39;m taking it as long my test cases are failing.   \r\n\r\n\r\n    **Input:**[9,72,34,29,-49,-22,-77,-17,-66,-75,-44,-30,-24] \r\n    **Output:** 1  \r\n    **Expected:** -1  \r\n\r\nCan anyone tell me why is this happening???\r\n\r\n\r\n\r\n","title":"1822.Sign Of the product of An array leetcode","body":"<p>I have been trying out a problem on leetcode <a href=\"https://leetcode.com/problems/sign-of-the-product-of-an-array/submissions/\" rel=\"nofollow noreferrer\">1822. Sign Of the Product of an array</a></p>\n<p>There is a function signFunc(x) that returns:</p>\n<pre><code>1 if x is positive.\n\n-1 if x is negative.\n\n0 if x is equal to 0.\n</code></pre>\n<p>You are given a strong text and integer array nums. Let the product be the product of all values in the array nums.</p>\n<p>Return signFunc(product).</p>\n<p><strong>Example 1:</strong></p>\n<pre><code>**Input:** nums = [-1,-2,-3,-4,3,2,1]\n\n**Output:** 1\n\n**Explanation:** The product of all values in the array is 144, and signFunc(144) = 1\n</code></pre>\n<p>And this is my approach to the problem</p>\n<pre><code>class Solution {  \n    public int arraySign(int[] nums) {  \n        double product=1;  \n        for(int i=0;i&lt;nums.length;i++){  \n            product=product*nums[i];  \n        }  \n        if(product&gt;0) return 1;  \n        else if (product &lt;0) return -1;  \n        else return 0;  \n    }  \n}  \n</code></pre>\n<p>The question is whenever I'm taking the product as datatype double all my test cases are passing but when I'm taking it as long my test cases are failing.</p>\n<pre><code>**Input:**[9,72,34,29,-49,-22,-77,-17,-66,-75,-44,-30,-24] \n**Output:** 1  \n**Expected:** -1  \n</code></pre>\n<p>Can anyone tell me why is this happening???</p>\n"},{"tags":["java","spring-boot","maven","apache-kafka","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658172514,"creation_date":1594223888,"answer_id":62798747,"question_id":62794772,"body_markdown":"&lt;strike&gt;You need Boot 2.3.1 and cloud Hoxton.SR6.\r\n\r\nBatch mode is only supported with the functional programming style, not `@StreamListtener`.&lt;/strike&gt;\r\n\r\n__EDIT__\r\n\r\nThis works fine (using the preferred functional model) with current versions (Boot 2.7, cloud 2021.0.3) without any deserializer.\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So627947721Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So627947721Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Consumer&lt;List&lt;Foo&gt;&gt; input() {\r\n\t\treturn System.out::println;\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(KafkaTemplate&lt;byte[], byte[]&gt; template) {\r\n\t\treturn args -&gt; {\r\n\t\t\ttemplate.send(&quot;input-in-0&quot;, &quot;{\\&quot;bar\\&quot;:\\&quot;baz\\&quot;}&quot;.getBytes());\r\n\t\t\ttemplate.send(&quot;input-in-0&quot;, &quot;{\\&quot;bar\\&quot;:\\&quot;qux\\&quot;}&quot;.getBytes());\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static class Foo {\r\n\r\n\t\tString bar;\r\n\r\n\t\tpublic String getBar() {\r\n\t\t\treturn this.bar;\r\n\t\t}\r\n\r\n\t\tpublic void setBar(String bar) {\r\n\t\t\tthis.bar = bar;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Foo [bar=&quot; + this.bar + &quot;]&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n```properties\r\nspring.cloud.stream.bindings.input-in-0.group=foo\r\nspring.cloud.stream.bindings.input-in-0.consumer.batch-mode=true\r\n```\r\n```\r\n[Foo [bar=baz], Foo [bar=qux]]\r\n```","title":"Consume Batches through Kafka in Spring boot","body":"<p><strike>You need Boot 2.3.1 and cloud Hoxton.SR6.</p>\n<p>Batch mode is only supported with the functional programming style, not <code>@StreamListtener</code>.</strike></p>\n<p><strong>EDIT</strong></p>\n<p>This works fine (using the preferred functional model) with current versions (Boot 2.7, cloud 2021.0.3) without any deserializer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So627947721Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So627947721Application.class, args);\n    }\n\n    @Bean\n    public Consumer&lt;List&lt;Foo&gt;&gt; input() {\n        return System.out::println;\n    }\n\n    @Bean\n    ApplicationRunner runner(KafkaTemplate&lt;byte[], byte[]&gt; template) {\n        return args -&gt; {\n            template.send(&quot;input-in-0&quot;, &quot;{\\&quot;bar\\&quot;:\\&quot;baz\\&quot;}&quot;.getBytes());\n            template.send(&quot;input-in-0&quot;, &quot;{\\&quot;bar\\&quot;:\\&quot;qux\\&quot;}&quot;.getBytes());\n        };\n    }\n\n    public static class Foo {\n\n        String bar;\n\n        public String getBar() {\n            return this.bar;\n        }\n\n        public void setBar(String bar) {\n            this.bar = bar;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Foo [bar=&quot; + this.bar + &quot;]&quot;;\n        }\n\n    }\n\n}\n</code></pre>\n<pre><code>spring.cloud.stream.bindings.input-in-0.group=foo\nspring.cloud.stream.bindings.input-in-0.consumer.batch-mode=true\n</code></pre>\n<pre><code>[Foo [bar=baz], Foo [bar=qux]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1594239921,"creation_date":1594239921,"answer_id":62803101,"question_id":62794772,"body_markdown":"You can consume it as a batch with @StreamListener. You just need to give a deserializer. Example : \r\n\r\nYou just need to give a deserializer.\r\n\r\n\r\n    public class Person {\r\n    \r\n        private String name;\r\n        private String surname;\r\n        .........\r\n    }\r\n\r\n\r\n       @StreamListener(value = PersonStream.INPUT)\r\n        private void personBulkReceiver(List&lt;Person&gt; person) {\r\n            System.out.println(&quot;personBulkReceiver : &quot; + person.size());\r\n        }\r\n    \r\n\r\n    spring:\r\n      cloud:\r\n        stream:\r\n          kafka:\r\n          binders:\r\n            bulkKafka:\r\n              type: kafka\r\n              environment:\r\n                spring:\r\n                  cloud:\r\n                    stream:\r\n                      kafka:\r\n                        binder:\r\n                          brokers: localhost:9092\r\n                          configuration:\r\n                            max.poll.records: 1500\r\n                            fetch.min.bytes: 1000000\r\n                            fetch.max.wait.ms: 10000\r\n                            value.deserializer: tr.cloud.stream.examples.PersonDeserializer\r\n          bindings:\r\n            person-topic-in:\r\n              binder: bulkKafka\r\n              destination: person-topic\r\n              contentType: application/person\r\n              group : omercelik\r\n              consumer:\r\n                batch-mode: true\r\n\r\n    public class PersonDeserializer extends JsonDeserializer&lt;Person&gt; {\r\n    }","title":"Consume Batches through Kafka in Spring boot","body":"<p>You can consume it as a batch with @StreamListener. You just need to give a deserializer. Example :</p>\n<p>You just need to give a deserializer.</p>\n<pre><code>public class Person {\n\n    private String name;\n    private String surname;\n    .........\n}\n\n\n   @StreamListener(value = PersonStream.INPUT)\n    private void personBulkReceiver(List&lt;Person&gt; person) {\n        System.out.println(&quot;personBulkReceiver : &quot; + person.size());\n    }\n\n\nspring:\n  cloud:\n    stream:\n      kafka:\n      binders:\n        bulkKafka:\n          type: kafka\n          environment:\n            spring:\n              cloud:\n                stream:\n                  kafka:\n                    binder:\n                      brokers: localhost:9092\n                      configuration:\n                        max.poll.records: 1500\n                        fetch.min.bytes: 1000000\n                        fetch.max.wait.ms: 10000\n                        value.deserializer: tr.cloud.stream.examples.PersonDeserializer\n      bindings:\n        person-topic-in:\n          binder: bulkKafka\n          destination: person-topic\n          contentType: application/person\n          group : omercelik\n          consumer:\n            batch-mode: true\n\npublic class PersonDeserializer extends JsonDeserializer&lt;Person&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":13464993,"reputation":1825,"user_id":9715631,"display_name":"Devkinandan Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1951,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62803101,"answer_count":2,"score":1,"last_activity_date":1658172514,"creation_date":1594211144,"question_id":62794772,"body_markdown":"I&#39;m new to Kafka, Wanna enable processing in batches through the consumer. \r\n\r\nRead through [documentation][1] and found that Starting with version 3.0 we can enable batch processing.\r\n\r\nCurrently we are using `Spring Boot 2.1.3.RELEASE` and below dependencies for kafka:\r\n\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;Greenwich.SR3&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-static/spring-cloud-stream-binder-kafka/current/reference/html/spring-cloud-stream-binder-kafka.html#_consuming_batches\r\n\r\n**What changes do I need to do in pom.xml before starting properties and code changes? Do i need to change Springboot version?**","title":"Consume Batches through Kafka in Spring boot","body":"<p>I'm new to Kafka, Wanna enable processing in batches through the consumer.</p>\n<p>Read through <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-stream-binder-kafka/current/reference/html/spring-cloud-stream-binder-kafka.html#_consuming_batches\" rel=\"nofollow noreferrer\">documentation</a> and found that Starting with version 3.0 we can enable batch processing.</p>\n<p>Currently we are using <code>Spring Boot 2.1.3.RELEASE</code> and below dependencies for kafka:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;Greenwich.SR3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>What changes do I need to do in pom.xml before starting properties and code changes? Do i need to change Springboot version?</strong></p>\n"},{"tags":["java","loops","rx-java","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658171826,"creation_date":1658171826,"answer_id":73027525,"question_id":73026718,"body_markdown":"The compiler doesn&#39;t know if you want\r\n`takeUntil(Predicate&lt;? super T&gt;)` or `takeUntil(Publisher&lt;U&gt;)`, because technically your lambda function matches both. Just explicitly cast it tell the compiler which you want:\r\n\r\n          .takeUntil((Predicate&lt;? super T&gt;) x -&gt; x.getNextStep().equals(Integer.zero))\r\n\r\nEven this will remove the ambiguity (though I&#39;m not 100% sure why, given that `equals` is already returning a `boolean`):\r\n\r\n          .takeUntil(x -&gt; (boolean) x.getNextStep().equals(Integer.zero))\r\n","title":"ambiguous error using generics in rxjava to loop condition","body":"<p>The compiler doesn't know if you want\n<code>takeUntil(Predicate&lt;? super T&gt;)</code> or <code>takeUntil(Publisher&lt;U&gt;)</code>, because technically your lambda function matches both. Just explicitly cast it tell the compiler which you want:</p>\n<pre><code>      .takeUntil((Predicate&lt;? super T&gt;) x -&gt; x.getNextStep().equals(Integer.zero))\n</code></pre>\n<p>Even this will remove the ambiguity (though I'm not 100% sure why, given that <code>equals</code> is already returning a <code>boolean</code>):</p>\n<pre><code>      .takeUntil(x -&gt; (boolean) x.getNextStep().equals(Integer.zero))\n</code></pre>\n"}],"owner":{"account_id":11652494,"reputation":182,"user_id":10508681,"display_name":"chavalife17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73027525,"answer_count":1,"score":1,"last_activity_date":1658171826,"creation_date":1658167486,"question_id":73026718,"body_markdown":"I can&#39;t use takeUntil in rxjava because I receive this error:\r\n\r\n```takeUntil(Predicate&lt;? super T&gt;) is ambiguous for the type (Flowable&lt;T&gt;)```\r\n\r\nmy code is like this:\r\n\r\n```\r\npublic class Step {\r\n\r\n  private Integer actualStep;\r\n  private Integer nextStep;\r\n  //getters and setters\r\n}\r\n\r\npublic Interface&lt;T&gt; BusinessStep {\r\n\r\n  Single&lt;T&gt; execute(T data);\r\n}\r\n\r\npublic ComposedStep&lt;T extends Step&gt; implements BusinessStep&lt;T&gt; {\r\n  private Map&lt;Integer,BusinessStep&lt;T&gt;&gt; steps = new HashMap&lt;&gt;();\r\n  \r\n  public void addStep(final Integer priority,\r\n      final BusinessStep&lt;T&gt; businessStepValidator) {\r\n    if (Objects.isNull(priority) || Objects.isNull(businessStepValidator)) {\r\n      return;\r\n    }\r\n    validations.put(priority, businessStepValidator);\r\n  }\r\n   \r\n   @override\r\n   public Single&lt;T&gt; stepValidator(final T data) {\r\n\r\n    return Single.just(data)\r\n                 .flatMap(x -&gt; {\r\n                  Optional&lt;WrapperBusinessStepValidator&lt;T&gt;&gt; oBusinessStep = \r\n                                                        Optional.ofNullable(validations\r\n                                                       .get(x.getNextStep()));\r\n                  if(oBusinessStep.isPresent()) {\r\n                    return oBusinessStep.get().stepValidator(x);\r\n                  } else {\r\n                    return Single.just(x);\r\n                  }\r\n                 })\r\n                 .repeat()\r\n                 .takeUntil(x -&gt; x.getNextStep().equals(Integer.zero))\r\n                 .lastElement()\r\n                 .toSingle()\r\n                 ;\r\n                 \r\n\r\n  }\r\n}\r\n\r\n```\r\n\r\nin ```steps``` there are a map with implementations of BusinessStep to receive a child of Step and change ```nextStep```.\r\nI need to create a loop in order to execute several BusinessStep while ```nextStep``` is different to a condition.\r\n\r\n\r\nThe problem is that code isn&#39;t compile because the error that I mentioned in first part of text.  ","title":"ambiguous error using generics in rxjava to loop condition","body":"<p>I can't use takeUntil in rxjava because I receive this error:</p>\n<p><code>takeUntil(Predicate&lt;? super T&gt;) is ambiguous for the type (Flowable&lt;T&gt;)</code></p>\n<p>my code is like this:</p>\n<pre><code>public class Step {\n\n  private Integer actualStep;\n  private Integer nextStep;\n  //getters and setters\n}\n\npublic Interface&lt;T&gt; BusinessStep {\n\n  Single&lt;T&gt; execute(T data);\n}\n\npublic ComposedStep&lt;T extends Step&gt; implements BusinessStep&lt;T&gt; {\n  private Map&lt;Integer,BusinessStep&lt;T&gt;&gt; steps = new HashMap&lt;&gt;();\n  \n  public void addStep(final Integer priority,\n      final BusinessStep&lt;T&gt; businessStepValidator) {\n    if (Objects.isNull(priority) || Objects.isNull(businessStepValidator)) {\n      return;\n    }\n    validations.put(priority, businessStepValidator);\n  }\n   \n   @override\n   public Single&lt;T&gt; stepValidator(final T data) {\n\n    return Single.just(data)\n                 .flatMap(x -&gt; {\n                  Optional&lt;WrapperBusinessStepValidator&lt;T&gt;&gt; oBusinessStep = \n                                                        Optional.ofNullable(validations\n                                                       .get(x.getNextStep()));\n                  if(oBusinessStep.isPresent()) {\n                    return oBusinessStep.get().stepValidator(x);\n                  } else {\n                    return Single.just(x);\n                  }\n                 })\n                 .repeat()\n                 .takeUntil(x -&gt; x.getNextStep().equals(Integer.zero))\n                 .lastElement()\n                 .toSingle()\n                 ;\n                 \n\n  }\n}\n\n</code></pre>\n<p>in <code>steps</code> there are a map with implementations of BusinessStep to receive a child of Step and change <code>nextStep</code>.\nI need to create a loop in order to execute several BusinessStep while <code>nextStep</code> is different to a condition.</p>\n<p>The problem is that code isn't compile because the error that I mentioned in first part of text.</p>\n"},{"tags":["java","java-memory-model","jls","language-specifications"],"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1659425240,"post_id":73021540,"comment_id":129285357,"body_markdown":"A single program allows for many different executions. An execution trace is the data collected for one of these executions.","body":"A single program allows for many different executions. An execution trace is the data collected for one of these executions."},{"owner":{"account_id":25834814,"reputation":51,"user_id":19571360,"display_name":"sanyok"},"score":0,"creation_date":1659467741,"post_id":73021540,"comment_id":129300630,"body_markdown":"@pveentjer yes. You provided the definition of the execution trace. I would add to it that the composition of &quot;the data collected&quot; [is specified in the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.6) as a mathematical object &quot;execution _E_&quot;. So, as I understand: 1. a program run is an execution; 2. the data recorded during the run is an execution trace; 3. from the data we build a mathematical object execution _E_ which we use to check if the program run was valid according the the JMM rules.","body":"@pveentjer yes. You provided the definition of the execution trace. I would add to it that the composition of &quot;the data collected&quot; <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.6\" rel=\"nofollow noreferrer\">is specified in the JLS</a> as a mathematical object &quot;execution <i>E</i>&quot;. So, as I understand: 1. a program run is an execution; 2. the data recorded during the run is an execution trace; 3. from the data we build a mathematical object execution <i>E</i> which we use to check if the program run was valid according the the JMM rules."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658155420,"creation_date":1658144386,"answer_id":73021759,"question_id":73021540,"body_markdown":"You&#39;re right; it&#39;s not very clear. They also refer to it as &quot;program trace&quot;, and simply &quot;trace&quot; on its own.\r\n\r\nThe following is a quote:\r\n\r\n&gt; Consider, for example, **the example program traces shown in Table 17.4-A.**\r\n&gt;\r\n&gt; Table 17.4-A. \r\n&gt;\r\n&gt; | Thread 1 | Thread 2 |\r\n&gt; |:--------:|:--------:|\r\n&gt; | B = 1;   | A = 2;   |\r\n&gt; | r2 = A;  | r1 = B;  |\r\n\r\nSo, it&#39;s simply an ordered list of statements, per thread, representing one possible permutation of how the statements may be executed (since statement may be reordered). A trace may be valid or invalid within the JMM; they are used to exemplify what is legal and what is not.","title":"What does &quot;execution trace&quot; mean in Java Memory Model","body":"<p>You're right; it's not very clear. They also refer to it as &quot;program trace&quot;, and simply &quot;trace&quot; on its own.</p>\n<p>The following is a quote:</p>\n<blockquote>\n<p>Consider, for example, <strong>the example program traces shown in Table 17.4-A.</strong></p>\n<p>Table 17.4-A.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Thread 1</th>\n<th style=\"text-align: center;\">Thread 2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">B = 1;</td>\n<td style=\"text-align: center;\">A = 2;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">r2 = A;</td>\n<td style=\"text-align: center;\">r1 = B;</td>\n</tr>\n</tbody>\n</table>\n</div></blockquote>\n<p>So, it's simply an ordered list of statements, per thread, representing one possible permutation of how the statements may be executed (since statement may be reordered). A trace may be valid or invalid within the JMM; they are used to exemplify what is legal and what is not.</p>\n"},{"tags":[],"owner":{"account_id":25834814,"reputation":51,"user_id":19571360,"display_name":"sanyok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658171712,"creation_date":1658171712,"answer_id":73027499,"question_id":73021540,"body_markdown":"This is not a full-fledged answer, but I think this is worth mentioning.\r\n\r\nEven if we don&#39;t know what an &quot;execution trace&quot; is in details, we can deduce which information it should provide.\r\n\r\nLet&#39;s read the first paragraph of [17.4. Memory Model][jmm-17-4]:\r\n&gt; A _memory model_ describes, given a program and an execution trace of that program, whether the execution trace is a legal execution of the program. The Java programming language memory model works by examining each read in an execution trace and checking that the write observed by that read is valid according to certain rules.\r\n\r\nThis means that &quot;a program&quot; (i.e. source code) and &quot;an execution trace&quot; should provide all the information required to determine whether the program execution is legal.  \r\nThe information is described in [17.4.6. Executions][jmm-17.4.6].  \r\nI&#39;m not going to copy-paste it here because it&#39;s too long.  \r\nI&#39;ll try to explain it in simple words instead:\r\n* a program consists of statements, each statement consists of (possibly nested) expressions evaluated in some order\r\n* an execution of a thread can be represented as a sequence of actions: one action per every simple expression\r\n* an execution of a program is several threads executing in parallel\r\n* an execution trace should provide information about actions performed during the program execution, i.e. it should provide provide the following information:\r\n  * all executed actions: a sequence of actions per every thread  \r\n    \r\n    Note: the JMM only cares about so called inter-thread actions ([17.4.2. Actions][jmm-17-4.2]):  \r\n    &gt; An inter-thread action is an action performed by one thread that can be detected or directly influenced by another thread\r\n    \r\n    Inter-thread action kinds:\r\n      * `read/write`\r\n      * `volatile read/write`\r\n      * `lock/unlock`\r\n      * various special and synthetic actions (e.g. thread start/stop, etc.)\r\n  \r\n  * for every action it should store:\r\n    * thread id\r\n    * action kind\r\n    * what expression in the source code it corresponds to\r\n    * for `write` and `volatile write`: the written value\r\n    * for `read` and `volatile read`: the `write` action, which provided the value\r\n    * for `lock/unlock`: the monitor being locked/unlocked\r\n    * various relations with other actions (e.g. position in a so-called synchronization order for synchronization actions)\r\n\r\n[jmm-17-4]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-17.html#jls-17.4\r\n[jmm-17-4.2]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-17.html#jls-17.4.2\r\n[jmm-17.4.6]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-17.html#jls-17.4.6","title":"What does &quot;execution trace&quot; mean in Java Memory Model","body":"<p>This is not a full-fledged answer, but I think this is worth mentioning.</p>\n<p>Even if we don't know what an &quot;execution trace&quot; is in details, we can deduce which information it should provide.</p>\n<p>Let's read the first paragraph of <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">17.4. Memory Model</a>:</p>\n<blockquote>\n<p>A <em>memory model</em> describes, given a program and an execution trace of that program, whether the execution trace is a legal execution of the program. The Java programming language memory model works by examining each read in an execution trace and checking that the write observed by that read is valid according to certain rules.</p>\n</blockquote>\n<p>This means that &quot;a program&quot; (i.e. source code) and &quot;an execution trace&quot; should provide all the information required to determine whether the program execution is legal.<br />\nThe information is described in <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-17.html#jls-17.4.6\" rel=\"nofollow noreferrer\">17.4.6. Executions</a>.<br />\nI'm not going to copy-paste it here because it's too long.<br />\nI'll try to explain it in simple words instead:</p>\n<ul>\n<li>a program consists of statements, each statement consists of (possibly nested) expressions evaluated in some order</li>\n<li>an execution of a thread can be represented as a sequence of actions: one action per every simple expression</li>\n<li>an execution of a program is several threads executing in parallel</li>\n<li>an execution trace should provide information about actions performed during the program execution, i.e. it should provide provide the following information:\n<ul>\n<li><p>all executed actions: a sequence of actions per every thread</p>\n<p>Note: the JMM only cares about so called inter-thread actions (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-17.html#jls-17.4.2\" rel=\"nofollow noreferrer\">17.4.2. Actions</a>):</p>\n<blockquote>\n<p>An inter-thread action is an action performed by one thread that can be detected or directly influenced by another thread</p>\n</blockquote>\n<p>Inter-thread action kinds:</p>\n<ul>\n<li><code>read/write</code></li>\n<li><code>volatile read/write</code></li>\n<li><code>lock/unlock</code></li>\n<li>various special and synthetic actions (e.g. thread start/stop, etc.)</li>\n</ul>\n</li>\n<li><p>for every action it should store:</p>\n<ul>\n<li>thread id</li>\n<li>action kind</li>\n<li>what expression in the source code it corresponds to</li>\n<li>for <code>write</code> and <code>volatile write</code>: the written value</li>\n<li>for <code>read</code> and <code>volatile read</code>: the <code>write</code> action, which provided the value</li>\n<li>for <code>lock/unlock</code>: the monitor being locked/unlocked</li>\n<li>various relations with other actions (e.g. position in a so-called synchronization order for synchronization actions)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":25834814,"reputation":51,"user_id":19571360,"display_name":"sanyok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1658171712,"creation_date":1658143329,"question_id":73021540,"body_markdown":"The part of the language specification dedicated to the Java Memory Model (JMM) ([link](https://docs.oracle.com/javase/specs/jls/se18/html/jls-17.html#jls-17.4)) mentions &quot;execution trace&quot; a lot.\r\n\r\nFor example right from the start:\r\n&gt; A memory model describes, given a program and an execution trace of that program, whether the **execution trace** is a legal execution of the program. The Java programming language memory model works by examining each read in an **execution trace** and checking that the write observed by that read is valid according to certain rules.\r\n\r\nBut I cannot find there any description/definition of this term.\r\n\r\nSo, what is &quot;execution trace&quot; exactly according to the JMM, and what exactly does it consist of?  \r\nReferences to specific places in the language specification text are most welcome.","title":"What does &quot;execution trace&quot; mean in Java Memory Model","body":"<p>The part of the language specification dedicated to the Java Memory Model (JMM) (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-17.html#jls-17.4\" rel=\"noreferrer\">link</a>) mentions &quot;execution trace&quot; a lot.</p>\n<p>For example right from the start:</p>\n<blockquote>\n<p>A memory model describes, given a program and an execution trace of that program, whether the <strong>execution trace</strong> is a legal execution of the program. The Java programming language memory model works by examining each read in an <strong>execution trace</strong> and checking that the write observed by that read is valid according to certain rules.</p>\n</blockquote>\n<p>But I cannot find there any description/definition of this term.</p>\n<p>So, what is &quot;execution trace&quot; exactly according to the JMM, and what exactly does it consist of?<br />\nReferences to specific places in the language specification text are most welcome.</p>\n"},{"tags":["java","spring","spring-boot","quarkus","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658171696,"creation_date":1658171696,"answer_id":73027496,"question_id":73024760,"body_markdown":"I would suggest the following solution\r\n\r\n    @Mapper(unmappedTargetPolicy = ReportingPolicy.ERROR,\r\n        componentModel = &quot;spring&quot;,\r\n        collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\r\n        builder = @Builder(disableBuilder = true))\r\n    public interface ParOutMapper {\r\n\r\n\r\n    @Mapping(target = &quot;data&quot;, source = &quot;entity&quot;)\r\n    DataDomain map(DataEntity entity);\r\n\r\n    @Mapping(target = &quot;txtJust&quot;, source = &quot;pares&quot;, qualifiedByName = &quot;txtJust&quot;)\r\n    @Mapping(target = &quot;valPar&quot;, source = &quot;pares&quot;, qualifiedByName = &quot;valPar&quot;)\r\n    @Mapping(target = &quot;dateHr&quot;, source = &quot;pares&quot;, qualifiedByName = &quot;dateHr&quot;)\r\n    @Mapping(target = &quot;numPn&quot;, source = &quot;pares&quot;, qualifiedByName = &quot;numPn&quot;)\r\n    Domain toDomain(DataEntity entity);\r\n\r\n    default List&lt;Domain&gt; toList(DataEntity entity) {\r\n        return entity != null ? singletonList(toDomain(entity)) : new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    default DataEntity map(DataDomain domain) {\r\n        return domain != null\r\n                &amp;&amp; domain.getData() != null\r\n                &amp;&amp; !domain.getData().isEmpty() ? toEntity(domain.getData().get(0)) : null;\r\n    }\r\n\r\n    @Mapping(target = &quot;pares&quot;, ignore = true)\r\n    DataEntity toEntity(Domain domains);\r\n\r\n    List&lt;Domain&gt; toDomainList(List&lt;DataEntity&gt; domainList);\r\n\r\n    @AfterMapping\r\n    default DataEntity valuesToList(Domain domains, @MappingTarget DataEntity dataEntity){\r\n        ParEntity parEntity = new ParEntity();\r\n        parEntity.setDateHr(domains.getDateHr().toString()); // alternative call custom entity to list mapping here !\r\n        parEntity.setTxtJus(domains.getTxtJust());\r\n        parEntity.setNumPn(domains.getNumPn().toString());\r\n        parEntity.setNumFun(domains.getNumFun());\r\n        parEntity.setIndValPar(domains.getValPar().toString());\r\n        dataEntity.setPares(List.of(parEntity));\r\n        return dataEntity;\r\n    }\r\n\r\n\r\n    @Named(&quot;txtJust&quot;)\r\n    default String mapTxtJust(List&lt;ParEntity&gt; pares) {\r\n        return pares.get(0).getTxtJus(); // or custom mapping logic here\r\n    }\r\n\r\n    @Named(&quot;valPar&quot;)\r\n    default Boolean mapValPar(List&lt;ParEntity&gt; pares) {\r\n        return Boolean.valueOf(pares.get(0).getIndValPar()); // or custom mapping logic here\r\n    }\r\n\r\n    @Named(&quot;dateHr&quot;)\r\n    default LocalDateTime mapDateHr(List&lt;ParEntity&gt; pares) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;);\r\n        return LocalDateTime.parse(pares.get(0).getDateHr(),formatter); // or custom mapping logic here\r\n    }\r\n\r\n    @Named(&quot;numPn&quot;)\r\n    default Integer mapNumPn(List&lt;ParEntity&gt; pares) {\r\n        return Integer.valueOf(pares.get(0).getNumPn()); // or custom mapping logic here\r\n    }\r\n    }\r\n\r\n - Since you tagged your question with spring-boot i assume you are using it. Therefore i would suggest to use the provided component model by mapstruct in its configuration\r\n  - I am unsure how you want to do your mapping of list to entitiy or entity to list. With my approach you can do it value by value or with the entire list. Both workes either way. \r\n  - The solution compiles and workes for `DataEntity toEntity(Domain domains);` and `Domain toDomain(DataEntity entity);` i did not recognize any other problems since mapstruct is able to generate the required mappings. \r\n\r\n\r\n","title":"Problem mapping classes with different attributes with MapStruct","body":"<p>I would suggest the following solution</p>\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.ERROR,\n    componentModel = &quot;spring&quot;,\n    collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\n    builder = @Builder(disableBuilder = true))\npublic interface ParOutMapper {\n\n\n@Mapping(target = &quot;data&quot;, source = &quot;entity&quot;)\nDataDomain map(DataEntity entity);\n\n@Mapping(target = &quot;txtJust&quot;, source = &quot;pares&quot;, qualifiedByName = &quot;txtJust&quot;)\n@Mapping(target = &quot;valPar&quot;, source = &quot;pares&quot;, qualifiedByName = &quot;valPar&quot;)\n@Mapping(target = &quot;dateHr&quot;, source = &quot;pares&quot;, qualifiedByName = &quot;dateHr&quot;)\n@Mapping(target = &quot;numPn&quot;, source = &quot;pares&quot;, qualifiedByName = &quot;numPn&quot;)\nDomain toDomain(DataEntity entity);\n\ndefault List&lt;Domain&gt; toList(DataEntity entity) {\n    return entity != null ? singletonList(toDomain(entity)) : new ArrayList&lt;&gt;();\n}\n\ndefault DataEntity map(DataDomain domain) {\n    return domain != null\n            &amp;&amp; domain.getData() != null\n            &amp;&amp; !domain.getData().isEmpty() ? toEntity(domain.getData().get(0)) : null;\n}\n\n@Mapping(target = &quot;pares&quot;, ignore = true)\nDataEntity toEntity(Domain domains);\n\nList&lt;Domain&gt; toDomainList(List&lt;DataEntity&gt; domainList);\n\n@AfterMapping\ndefault DataEntity valuesToList(Domain domains, @MappingTarget DataEntity dataEntity){\n    ParEntity parEntity = new ParEntity();\n    parEntity.setDateHr(domains.getDateHr().toString()); // alternative call custom entity to list mapping here !\n    parEntity.setTxtJus(domains.getTxtJust());\n    parEntity.setNumPn(domains.getNumPn().toString());\n    parEntity.setNumFun(domains.getNumFun());\n    parEntity.setIndValPar(domains.getValPar().toString());\n    dataEntity.setPares(List.of(parEntity));\n    return dataEntity;\n}\n\n\n@Named(&quot;txtJust&quot;)\ndefault String mapTxtJust(List&lt;ParEntity&gt; pares) {\n    return pares.get(0).getTxtJus(); // or custom mapping logic here\n}\n\n@Named(&quot;valPar&quot;)\ndefault Boolean mapValPar(List&lt;ParEntity&gt; pares) {\n    return Boolean.valueOf(pares.get(0).getIndValPar()); // or custom mapping logic here\n}\n\n@Named(&quot;dateHr&quot;)\ndefault LocalDateTime mapDateHr(List&lt;ParEntity&gt; pares) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;);\n    return LocalDateTime.parse(pares.get(0).getDateHr(),formatter); // or custom mapping logic here\n}\n\n@Named(&quot;numPn&quot;)\ndefault Integer mapNumPn(List&lt;ParEntity&gt; pares) {\n    return Integer.valueOf(pares.get(0).getNumPn()); // or custom mapping logic here\n}\n}\n</code></pre>\n<ul>\n<li>Since you tagged your question with spring-boot i assume you are using it. Therefore i would suggest to use the provided component model by mapstruct in its configuration</li>\n<li>I am unsure how you want to do your mapping of list to entitiy or entity to list. With my approach you can do it value by value or with the entire list. Both workes either way.</li>\n<li>The solution compiles and workes for <code>DataEntity toEntity(Domain domains);</code> and <code>Domain toDomain(DataEntity entity);</code> i did not recognize any other problems since mapstruct is able to generate the required mappings.</li>\n</ul>\n"}],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73027496,"answer_count":1,"score":1,"last_activity_date":1658171696,"creation_date":1658157716,"question_id":73024760,"body_markdown":"I&#39;m trying to make a mapping using MapStruct but I don&#39;t know how to deal with the fields from one to the other.\r\nI have the classes below:\r\n\r\n    class DataDomain {\r\n    \r\n        private List&lt;Domain&gt; data;\r\n    }\r\n    \r\n    class Domain {\r\n    \r\n        private String codDist;\r\n    \r\n        private String numFun;\r\n    \r\n        private String txtJust;\r\n    \r\n        private Boolean valPar;\r\n    \r\n        private LocalDateTime dateHr;\r\n    \r\n        private Integer numPn;\r\n    }\r\n    \r\n    class DataEntity {\r\n    \r\n        private String codDist;\r\n    \r\n        private String numFun;\r\n    \r\n        private List&lt;ParEntity&gt; pares;\r\n     }\r\n    \r\n    class ParEntity {\r\n    \r\n        private String numFun;\r\n    \r\n        private String txtJus;\r\n    \r\n        private String indValPar;\r\n    \r\n        private String dateHr;\r\n    \r\n        private String numPn;\r\n        }\r\n\r\n    interface ParOutMapper{\r\n    \r\n        ParOutMapper INSTANCE = Mappers.getMapper(ParOutMapper.class);\r\n    \r\n        @Mapping(target = &quot;data&quot;, source = &quot;entity&quot;)\r\n        DataDomain map(DataEntity entity);\r\n    \r\n        Domain toDomain(DataEntity entity);\r\n    \r\n        default List&lt;Domain&gt; toList(DataEntity entity) {\r\n            return entity != null ? singletonList(toDomain(entity)) : new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        default DataEntity map(DataDomain domain) {\r\n            return domain != null\r\n                    &amp;&amp; domain.getData() != null\r\n                    &amp;&amp; !domain.getData().isEmpty() ? toEntity(domain.getData().get(0)) : null;\r\n        }\r\n    \r\n        DataEntity toEntity(Domain domains);\r\n    \r\n        List&lt;Domain&gt; toDomainList(List&lt;DataEntity&gt; domainList);\r\n    }\r\n\r\nThat&#39;s what I&#39;ve done so far, but it&#39;s giving divergence in the mapping because both have different structures and I ended up getting lost in how to apply their origin and destination field to field.\r\nIf possible and someone knows how to do it in an interesting correct way I would be very grateful.","title":"Problem mapping classes with different attributes with MapStruct","body":"<p>I'm trying to make a mapping using MapStruct but I don't know how to deal with the fields from one to the other.\nI have the classes below:</p>\n<pre><code>class DataDomain {\n\n    private List&lt;Domain&gt; data;\n}\n\nclass Domain {\n\n    private String codDist;\n\n    private String numFun;\n\n    private String txtJust;\n\n    private Boolean valPar;\n\n    private LocalDateTime dateHr;\n\n    private Integer numPn;\n}\n\nclass DataEntity {\n\n    private String codDist;\n\n    private String numFun;\n\n    private List&lt;ParEntity&gt; pares;\n }\n\nclass ParEntity {\n\n    private String numFun;\n\n    private String txtJus;\n\n    private String indValPar;\n\n    private String dateHr;\n\n    private String numPn;\n    }\n\ninterface ParOutMapper{\n\n    ParOutMapper INSTANCE = Mappers.getMapper(ParOutMapper.class);\n\n    @Mapping(target = &quot;data&quot;, source = &quot;entity&quot;)\n    DataDomain map(DataEntity entity);\n\n    Domain toDomain(DataEntity entity);\n\n    default List&lt;Domain&gt; toList(DataEntity entity) {\n        return entity != null ? singletonList(toDomain(entity)) : new ArrayList&lt;&gt;();\n    }\n\n    default DataEntity map(DataDomain domain) {\n        return domain != null\n                &amp;&amp; domain.getData() != null\n                &amp;&amp; !domain.getData().isEmpty() ? toEntity(domain.getData().get(0)) : null;\n    }\n\n    DataEntity toEntity(Domain domains);\n\n    List&lt;Domain&gt; toDomainList(List&lt;DataEntity&gt; domainList);\n}\n</code></pre>\n<p>That's what I've done so far, but it's giving divergence in the mapping because both have different structures and I ended up getting lost in how to apply their origin and destination field to field.\nIf possible and someone knows how to do it in an interesting correct way I would be very grateful.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"score":0,"creation_date":1501022468,"post_id":45314543,"comment_id":77591670,"body_markdown":"Can you show some examples of code you&#39;ve tried?","body":"Can you show some examples of code you&#39;ve tried?"},{"owner":{"account_id":5525128,"reputation":155,"user_id":4386843,"accept_rate":43,"display_name":"Logs"},"score":0,"creation_date":1501023018,"post_id":45314543,"comment_id":77591841,"body_markdown":"@AndrewRueckert It&#39;d be too much to post haha. But the closest come was when I tried using getObject to get an S3Object. Then creating a BufferedInputStream from the objectContent. Then looping through and reading it into a byte[], which was then used to create the file, but that didn&#39;t come out right as it said the created file was corrupted. This also didn&#39;t save as a var, but created a local file.","body":"@AndrewRueckert It&#39;d be too much to post haha. But the closest come was when I tried using getObject to get an S3Object. Then creating a BufferedInputStream from the objectContent. Then looping through and reading it into a byte[], which was then used to create the file, but that didn&#39;t come out right as it said the created file was corrupted. This also didn&#39;t save as a var, but created a local file."}],"answers":[{"tags":[],"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1501026879,"creation_date":1501026879,"answer_id":45315263,"question_id":45314543,"body_markdown":"    // you may need to initialize this differently to get the correct authorization\r\n    final AmazonS3Client s3Client = AmazonS3ClientBuilder.defaultClient(); \r\n    final S3Object object = s3Client.getObject(&quot;myBucket&quot;, &quot;fileToDownload.xlsx&quot;);\r\n    \r\n    // with Java 7 NIO\r\n    final Path filePath = Paths.get(&quot;localFile.xlsx&quot;);\r\n    Files.copy(object.getObjectContent(), filePath);\r\n    final File localFile = filePath.toFile();\r\n    \r\n    // or Apache Commons IO\r\n    final File localFile = new File(&quot;localFile.xlsx&quot;);\r\n    FileUtils.copyToFile(object.getObjectContent(), localFile);\r\n\r\nI&#39;m not 100% sure what you mean by &quot;MultipartFile&quot; - that&#39;s usually in the context of a file that&#39;s been sent to your HTTP web service via a multipart POST or PUT. The file you&#39;re getting from S3 is _technically_ part of the **response** to an HTTP GET request, but the Amazon Java Library abstracts this away for you, and just gives you the results as an `InputStream`.","title":"How to get an excel file from AWS S3 bucket into a MultipartFile in Java","body":"<pre><code>// you may need to initialize this differently to get the correct authorization\nfinal AmazonS3Client s3Client = AmazonS3ClientBuilder.defaultClient(); \nfinal S3Object object = s3Client.getObject(\"myBucket\", \"fileToDownload.xlsx\");\n\n// with Java 7 NIO\nfinal Path filePath = Paths.get(\"localFile.xlsx\");\nFiles.copy(object.getObjectContent(), filePath);\nfinal File localFile = filePath.toFile();\n\n// or Apache Commons IO\nfinal File localFile = new File(\"localFile.xlsx\");\nFileUtils.copyToFile(object.getObjectContent(), localFile);\n</code></pre>\n\n<p>I'm not 100% sure what you mean by \"MultipartFile\" - that's usually in the context of a file that's been sent to your HTTP web service via a multipart POST or PUT. The file you're getting from S3 is <em>technically</em> part of the <strong>response</strong> to an HTTP GET request, but the Amazon Java Library abstracts this away for you, and just gives you the results as an <code>InputStream</code>.</p>\n"}],"owner":{"account_id":5525128,"reputation":155,"user_id":4386843,"accept_rate":43,"display_name":"Logs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4042,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45315263,"answer_count":1,"score":2,"last_activity_date":1658171636,"creation_date":1501021896,"question_id":45314543,"body_markdown":"I&#39;ve been trying to extract an .xlsx file from a AWS bucket I created and store it as a multipartfile variable. I&#39;ve tried many different approaches, but at best I get weird characters. I&#39;m not finding much documentation on how to do this.\r\nThanks!","title":"How to get an excel file from AWS S3 bucket into a MultipartFile in Java","body":"<p>I've been trying to extract an .xlsx file from a AWS bucket I created and store it as a multipartfile variable. I've tried many different approaches, but at best I get weird characters. I'm not finding much documentation on how to do this.\nThanks!</p>\n"},{"tags":["java","javafx","serial-port"],"comments":[{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":2,"creation_date":1657725947,"post_id":72968340,"comment_id":128880272,"body_markdown":"Which serial port are you trying to open with `port.openPort ();`? You are passing a String `&quot;PORT&quot;` to the SerialPort() constructor. I don&#39;t think `&quot;PORT&quot;` is a name of any port!","body":"Which serial port are you trying to open with <code>port.openPort ();</code>? You are passing a String <code>&quot;PORT&quot;</code> to the SerialPort() constructor. I don&#39;t think <code>&quot;PORT&quot;</code> is a name of any port!"}],"answers":[{"tags":[],"owner":{"account_id":20614626,"reputation":381,"user_id":15151531,"display_name":"Santa Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657730508,"creation_date":1657730508,"answer_id":72969789,"question_id":72968340,"body_markdown":"You must use the correct port name.\r\n\r\nThe name of the COM port can be viewed in the Arduino IDE, or in the device manager.","title":"JavaFX and SerialPort","body":"<p>You must use the correct port name.</p>\n<p>The name of the COM port can be viewed in the Arduino IDE, or in the device manager.</p>\n"}],"owner":{"account_id":21686239,"reputation":19,"user_id":16001648,"display_name":"Kacper Bielak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658171297,"creation_date":1657723980,"question_id":72968340,"body_markdown":"I wrote an application in JavaFX and I want to open a port to connect to Arduino:\r\n\r\n`SerialPort port = new SerialPort (&quot;PORT&quot;);`\r\n\r\nWhen I open the port:\r\n\r\n`port.openPort ();`\r\n\r\nI get the following problem (when I comment this line of code the problem disappears):\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x000000007110b5db, pid=5544, tid=7360\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (17.0.1+12) (build 17.0.1+12-LTS-39)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.1+12-LTS-39, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  [jSSC-2.8_x86_64.dll+0xb5db]\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# An error report file with more information is saved as:\r\n# D:\\path\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://bugreport.java.com/bugreport/crash.jsp\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n```\r\n\r\nIt uses JavaFX17 and Java 17. Could someone please help?","title":"JavaFX and SerialPort","body":"<p>I wrote an application in JavaFX and I want to open a port to connect to Arduino:</p>\n<p><code>SerialPort port = new SerialPort (&quot;PORT&quot;);</code></p>\n<p>When I open the port:</p>\n<p><code>port.openPort ();</code></p>\n<p>I get the following problem (when I comment this line of code the problem disappears):</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x000000007110b5db, pid=5544, tid=7360\n#\n# JRE version: Java(TM) SE Runtime Environment (17.0.1+12) (build 17.0.1+12-LTS-39)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.1+12-LTS-39, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [jSSC-2.8_x86_64.dll+0xb5db]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# D:\\path\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n</code></pre>\n<p>It uses JavaFX17 and Java 17. Could someone please help?</p>\n"},{"tags":["java","interface","object"],"answers":[{"tags":[],"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1287204335,"creation_date":1287204335,"answer_id":3947720,"question_id":3947708,"body_markdown":"You&#39;re defining an anonymous class that implements the interface `Int`, and immediately creating an object of type `thatAnonymousClassYouJustMade`.","title":"This appears to create an object from an interface; how does it work?","body":"<p>You're defining an anonymous class that implements the interface <code>Int</code>, and immediately creating an object of type <code>thatAnonymousClassYouJustMade</code>.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1287206664,"creation_date":1287206664,"answer_id":3947779,"question_id":3947708,"body_markdown":"What this special syntax for anonymous inner classes does under the hood is create a class called `Test$1`. You can find that class file in your class folder next to the Test class, and if you printed `t1.getClass().getName()` you could also see that.\r\n\r\n","title":"This appears to create an object from an interface; how does it work?","body":"<p>What this special syntax for anonymous inner classes does under the hood is create a class called <code>Test$1</code>. You can find that class file in your class folder next to the Test class, and if you printed <code>t1.getClass().getName()</code> you could also see that.</p>\n"},{"tags":[],"owner":{"account_id":155900,"reputation":4343,"user_id":372860,"accept_rate":91,"display_name":"oksayt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1287208252,"creation_date":1287208252,"answer_id":3947841,"question_id":3947708,"body_markdown":"This notation is shorthand for\r\n\r\n    Int t1 = new MyIntClass();\r\n\r\n    // Plus this class declaration added to class Test\r\n    private static class MyIntClass implements Int\r\n        public void show() {\r\n            System.out.println(&quot;message&quot;);\r\n        }\r\n    }\r\n\r\nSo in the end you&#39;re creating an instance of a concrete class, whose behavior you defined inline.\r\n\r\nYou can do this with abstract classes too, by providing implementations for all the abstract methods inline.","title":"This appears to create an object from an interface; how does it work?","body":"<p>This notation is shorthand for</p>\n\n<pre><code>Int t1 = new MyIntClass();\n\n// Plus this class declaration added to class Test\nprivate static class MyIntClass implements Int\n    public void show() {\n        System.out.println(\"message\");\n    }\n}\n</code></pre>\n\n<p>So in the end you're creating an instance of a concrete class, whose behavior you defined inline.</p>\n\n<p>You can do this with abstract classes too, by providing implementations for all the abstract methods inline.</p>\n"},{"tags":[],"owner":{"account_id":220363,"reputation":292,"user_id":477726,"accept_rate":0,"display_name":"Simpson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1287210443,"creation_date":1287210443,"answer_id":3947921,"question_id":3947708,"body_markdown":"i think your object has nothing to do with the interface. If you comment out the whole interface, still you will get the same output. Its just anonymous class created. I think, unless you use the class &quot;implements&quot; you cant implement the interface. But i dunno how naming collision doesn&#39;t  happen in your case. ","title":"This appears to create an object from an interface; how does it work?","body":"<p>i think your object has nothing to do with the interface. If you comment out the whole interface, still you will get the same output. Its just anonymous class created. I think, unless you use the class \"implements\" you cant implement the interface. But i dunno how naming collision doesn't  happen in your case. </p>\n"}],"owner":{"account_id":220341,"reputation":199,"user_id":477690,"accept_rate":92,"display_name":"shashi27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3584,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":3947720,"answer_count":4,"score":11,"last_activity_date":1658171169,"creation_date":1287203943,"question_id":3947708,"body_markdown":"```\r\ninterface Int {\r\n   public void show();\r\n}\r\n```\r\n\r\n```\r\nInt t1 = new Int() {\r\n   public void show() {\r\n      System.out.println(&quot;message&quot;);\r\n}\r\n\r\nto.show();\r\n```\r\n\r\n\r\n","title":"This appears to create an object from an interface; how does it work?","body":"<pre><code>interface Int {\n   public void show();\n}\n</code></pre>\n<pre><code>Int t1 = new Int() {\n   public void show() {\n      System.out.println(&quot;message&quot;);\n}\n\nto.show();\n</code></pre>\n"},{"tags":["java","maven","google-cloud-platform","google-cloud-functions","google-cloud-registry"],"answers":[{"tags":[],"owner":{"account_id":42916,"reputation":22347,"user_id":125212,"accept_rate":52,"display_name":"Jackie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658170976,"creation_date":1658170976,"answer_id":73027355,"question_id":73025342,"body_markdown":"In my case I needed to add permissions for the Compute Engine default service account instead of the App engine one.","title":"Why is Maven getting 403 when trying to push cloud function pointing at Cloud Registry?","body":"<p>In my case I needed to add permissions for the Compute Engine default service account instead of the App engine one.</p>\n"}],"owner":{"account_id":42916,"reputation":22347,"user_id":125212,"accept_rate":52,"display_name":"Jackie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658170976,"creation_date":1658160245,"question_id":73025342,"body_markdown":"I have a simple cloud function that relies on a jar published in Artifact registry. I have confirmed the default `App Engine default service account` has `Artifact Registry Reader`. Then I add the registries into Maven like this...\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;artifact-registry-release&lt;/id&gt;\r\n            &lt;url&gt;artifactregistry://us-central1-maven.pkg.dev/.../...&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;artifact-registry&lt;/id&gt;\r\n            &lt;url&gt;artifactregistry://us-central1-maven.pkg.dev/.../...&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;artifact-registry-release&lt;/id&gt;\r\n            &lt;url&gt;artifactregistry://us-central1-maven.pkg.dev/.../...&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;artifact-registry&lt;/id&gt;\r\n            &lt;url&gt;artifactregistry://us-central1-maven.pkg.dev/.../...&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nBut when I try to push the cloud function I get...\r\n\r\n&gt; Permission denied on remote repository (or it may not exist). 403 Forbidden\r\n\r\nIs it not using the App Engine account? What is the proper SA to add permissions to get it to work?\r\n\r\nAlso it may be a red herring because the full message is...\r\n\r\n    Failed to execute goal on project ...: Could not resolve dependencies for project ...identity:...:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at ...identity:...:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for ...identity:...:jar:0.0.1-SNAPSHOT: Could not transfer artifact ...:...:pom:0.0.1-SNAPSHOT from/to artifact-registry (artifactregistry://us-central1-maven.pkg.dev/.../...): Permission denied on remote repository (or it may not exist). 403 Forbidden\r\n    [ERROR] {&quot;error&quot;:&quot;Permission \\&quot;artifactregistry.repositories.downloadArtifacts\\&quot; denied on resource \\&quot;projects/pure-infra/locations/us-central1/repositories/...&quot; (or it may not exist)&quot;}\r\n\r\nNotice the pom instead of jar\r\n\r\nAlso everything seems to work locally (my user also has read permissions) when I run `mvn -U clean install`\r\n\r\n","title":"Why is Maven getting 403 when trying to push cloud function pointing at Cloud Registry?","body":"<p>I have a simple cloud function that relies on a jar published in Artifact registry. I have confirmed the default <code>App Engine default service account</code> has <code>Artifact Registry Reader</code>. Then I add the registries into Maven like this...</p>\n<pre><code>&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;artifact-registry-release&lt;/id&gt;\n        &lt;url&gt;artifactregistry://us-central1-maven.pkg.dev/.../...&lt;/url&gt;\n    &lt;/repository&gt;\n\n    &lt;snapshotRepository&gt;\n        &lt;id&gt;artifact-registry&lt;/id&gt;\n        &lt;url&gt;artifactregistry://us-central1-maven.pkg.dev/.../...&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n&lt;/distributionManagement&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;artifact-registry-release&lt;/id&gt;\n        &lt;url&gt;artifactregistry://us-central1-maven.pkg.dev/.../...&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;artifact-registry&lt;/id&gt;\n        &lt;url&gt;artifactregistry://us-central1-maven.pkg.dev/.../...&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>But when I try to push the cloud function I get...</p>\n<blockquote>\n<p>Permission denied on remote repository (or it may not exist). 403 Forbidden</p>\n</blockquote>\n<p>Is it not using the App Engine account? What is the proper SA to add permissions to get it to work?</p>\n<p>Also it may be a red herring because the full message is...</p>\n<pre><code>Failed to execute goal on project ...: Could not resolve dependencies for project ...identity:...:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at ...identity:...:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for ...identity:...:jar:0.0.1-SNAPSHOT: Could not transfer artifact ...:...:pom:0.0.1-SNAPSHOT from/to artifact-registry (artifactregistry://us-central1-maven.pkg.dev/.../...): Permission denied on remote repository (or it may not exist). 403 Forbidden\n[ERROR] {&quot;error&quot;:&quot;Permission \\&quot;artifactregistry.repositories.downloadArtifacts\\&quot; denied on resource \\&quot;projects/pure-infra/locations/us-central1/repositories/...&quot; (or it may not exist)&quot;}\n</code></pre>\n<p>Notice the pom instead of jar</p>\n<p>Also everything seems to work locally (my user also has read permissions) when I run <code>mvn -U clean install</code></p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"comments":[{"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"score":0,"creation_date":1657973941,"post_id":73003666,"comment_id":128939724,"body_markdown":"It seems like you are trying to tell your WebDriver (v102.0.5005.61) to contact a much more **latest** version of Chrome (v103.0.5060.114). I suggest using the same \n (or at least a much more latest) version of the WebDriver as the Chrome session.","body":"It seems like you are trying to tell your WebDriver (v102.0.5005.61) to contact a much more <b>latest</b> version of Chrome (v103.0.5060.114). I suggest using the same   (or at least a much more latest) version of the WebDriver as the Chrome session."},{"owner":{"account_id":25822668,"reputation":41,"user_id":19561477,"display_name":"Zamir Sultan"},"score":0,"creation_date":1657974068,"post_id":73003666,"comment_id":128939746,"body_markdown":"yes i have reverted back to chrome 103 now i am getting this error \nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: unexpected command response\n  (Session info: chrome=103.0.5060.114)\nBuild info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\nSystem info: host: &#39;AWAIS-PC&#39;, ip: &#39;192.168.1.62&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.1&#39;\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [0597316d09803b472b9fb974cbdfd9ce, findElement {using=css selector, value=button[title=&#39;Blue&#39;]}]","body":"yes i have reverted back to chrome 103 now i am getting this error  Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: unexpected command response   (Session info: chrome=103.0.5060.114) Build info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39; System info: host: &#39;AWAIS-PC&#39;, ip: &#39;192.168.1.62&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.1&#39; Driver info: org.openqa.selenium.chrome.ChromeDriver Command: [0597316d09803b472b9fb974cbdfd9ce, findElement {using=css selector, value=button[title=&#39;Blue&#39;]}]"},{"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"score":1,"creation_date":1657974145,"post_id":73003666,"comment_id":128939761,"body_markdown":"I was not suggesting to revert the Chrome session version. I was suggesting to upgrade the WebDriver version into a higher or the same version as the Chrome session version.","body":"I was not suggesting to revert the Chrome session version. I was suggesting to upgrade the WebDriver version into a higher or the same version as the Chrome session version."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658025798,"creation_date":1658025798,"answer_id":73008930,"question_id":73003666,"body_markdown":"To click on the element &lt;kbd&gt;No thanks&lt;/kbd&gt; instead of [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategy_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _id_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;birtviewer&quot;))).click();\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button#wzrk-cancel&quot;))).click();\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@id=&#39;wzrk-cancel&#39;]&quot;))).click();\r\n","title":"Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: unexpected command response using Selenium Java","body":"<p>To click on the element <kbd>No thanks</kbd> instead of <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategy</em></a>:</p>\n<ul>\n<li><p>Using <em>id</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;birtviewer&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button#wzrk-cancel&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@id='wzrk-cancel']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658170464,"creation_date":1658170464,"answer_id":73027259,"question_id":73003666,"body_markdown":"Looks like a bug has been introduced - https://chromedriver.chromium.org/downloads\r\n\r\n    Resolved issue 4121: WebDriver command sometimes fails with &quot;unexpected command response&quot;\r\n\r\nFixed in Chrome Driver version 104","title":"Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: unexpected command response using Selenium Java","body":"<p>Looks like a bug has been introduced - <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a></p>\n<pre><code>Resolved issue 4121: WebDriver command sometimes fails with &quot;unexpected command response&quot;\n</code></pre>\n<p>Fixed in Chrome Driver version 104</p>\n"}],"owner":{"account_id":25822668,"reputation":41,"user_id":19561477,"display_name":"Zamir Sultan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73008930,"answer_count":2,"score":0,"last_activity_date":1658170464,"creation_date":1657969695,"question_id":73003666,"body_markdown":"I am using Selenium in Eclipse and I am getting these error very often.\r\n\r\nBefore I was getting error due to loading status which I downgraded to chrome 102.Now I am facing this error which I can&#39;t understand. I am sharing my console and script: \r\n    \r\n    Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: unexpected command response\r\n      (Session info: chrome=103.0.5060.114)\r\n    Build info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\r\n    System info: host: &#39;AWAIS-PC&#39;, ip: &#39;192.168.1.62&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.1&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [b494462d4f7752feaa9aeeb67f469204, findElement {using=id, value=wzrk-cancel}]\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 103.0.5060.114, chrome: {chromedriverVersion: 102.0.5005.61 (0e59bcc00cc4..., userDataDir: C:\\Users\\WRP\\AppData\\Local\\...}, goog:chromeOptions: {debuggerAddress: localhost:54170}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:54170/devtoo..., se:cdpVersion: 103.0.5060.114, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: b494462d4f7752feaa9aeeb67f469204\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\r\n    \tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n    \tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:387)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:379)\r\n    \tat org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:197)\r\n    \tat org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:193)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:208)\r\n    \tat First_Test.Practice_First.main(Practice_First.java:52)\r\n\r\n```java\r\nWebDriverManager.chromedriver().driverVersion(&quot;102.0.5005.61&quot;).setup();\r\nWebDriver driver = new ChromeDriver();\r\nWebDriverWait waits=new WebDriverWait (driver, Duration.ofSeconds(13));\r\n//driver.manage().timeouts().implicitlyWait(1, TimeUnit.SECONDS);\r\ndriver.get(&quot;https://www.ounass.ae/&quot;);\r\n//Thread.sleep(3000);\r\ndriver.manage().window().maximize();\r\n//Thread.sleep(3000);\r\n//  String originalWindow=\tdriver.getWindowHandle();\r\n// Thread.sleep(5000);\r\nwaits.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;wzrk-cancel&quot;)));\r\ndriver.findElement(By.id(&quot;wzrk-cancel&quot;)).click();\r\n// driver.findElement(By.xpath(&quot;//button[@id=&#39;wzrk-cancel&#39;]&quot;)).click();\r\nwaits.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;a[href*=&#39;/men&#39;]&quot;)));\r\ndriver.findElement(By.cssSelector(&quot;a[href*=&#39;/men&#39;]&quot;)).click();\r\nJavascriptExecutor Js1 = (JavascriptExecutor) driver;\r\nJs1.executeScript(&quot;window.scrollBy(0,2500)&quot;); \r\n```","title":"Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: unexpected command response using Selenium Java","body":"<p>I am using Selenium in Eclipse and I am getting these error very often.</p>\n<p>Before I was getting error due to loading status which I downgraded to chrome 102.Now I am facing this error which I can't understand. I am sharing my console and script:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: unexpected command response\n  (Session info: chrome=103.0.5060.114)\nBuild info: version: '4.3.0', revision: 'a4995e2c09*'\nSystem info: host: 'AWAIS-PC', ip: '192.168.1.62', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [b494462d4f7752feaa9aeeb67f469204, findElement {using=id, value=wzrk-cancel}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 103.0.5060.114, chrome: {chromedriverVersion: 102.0.5005.61 (0e59bcc00cc4..., userDataDir: C:\\Users\\WRP\\AppData\\Local\\...}, goog:chromeOptions: {debuggerAddress: localhost:54170}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:54170/devtoo..., se:cdpVersion: 103.0.5060.114, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: b494462d4f7752feaa9aeeb67f469204\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\n    at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\n    at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:387)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:379)\n    at org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:197)\n    at org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:193)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:208)\n    at First_Test.Practice_First.main(Practice_First.java:52)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverManager.chromedriver().driverVersion(&quot;102.0.5005.61&quot;).setup();\nWebDriver driver = new ChromeDriver();\nWebDriverWait waits=new WebDriverWait (driver, Duration.ofSeconds(13));\n//driver.manage().timeouts().implicitlyWait(1, TimeUnit.SECONDS);\ndriver.get(&quot;https://www.ounass.ae/&quot;);\n//Thread.sleep(3000);\ndriver.manage().window().maximize();\n//Thread.sleep(3000);\n//  String originalWindow=  driver.getWindowHandle();\n// Thread.sleep(5000);\nwaits.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;wzrk-cancel&quot;)));\ndriver.findElement(By.id(&quot;wzrk-cancel&quot;)).click();\n// driver.findElement(By.xpath(&quot;//button[@id='wzrk-cancel']&quot;)).click();\nwaits.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;a[href*='/men']&quot;)));\ndriver.findElement(By.cssSelector(&quot;a[href*='/men']&quot;)).click();\nJavascriptExecutor Js1 = (JavascriptExecutor) driver;\nJs1.executeScript(&quot;window.scrollBy(0,2500)&quot;); \n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":278525,"reputation":10554,"user_id":573153,"accept_rate":94,"display_name":"xeraa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546715821,"creation_date":1546715821,"answer_id":54055377,"question_id":54028051,"body_markdown":"1. Unless you configure it differently, the default port is 9200. So if your client is trying to connect to the default, you need to make sure that 9200 is available so that Elasticsearch in Testcontainers can be started up on that port.\r\n2. I would guess that Elasticsearch hasn&#39;t had enough time to start up. It&#39;s a Java process and might need some time — on my machine around 20s. You&#39;ll probably want to set a wait strategy; something like this:\r\n\r\n        esContainer.setWaitStrategy(\r\n                Wait.forHttp(&quot;/&quot;)\r\n                        .forPort(9200)\r\n                        .forStatusCode(200)\r\n                        .withStartupTimeout(Duration.ofSeconds(60)));","title":"Spring boot, ElasticSearch and TestContainers integration tests. Connection refused","body":"<ol>\n<li>Unless you configure it differently, the default port is 9200. So if your client is trying to connect to the default, you need to make sure that 9200 is available so that Elasticsearch in Testcontainers can be started up on that port.</li>\n<li><p>I would guess that Elasticsearch hasn't had enough time to start up. It's a Java process and might need some time — on my machine around 20s. You'll probably want to set a wait strategy; something like this:</p>\n\n<pre><code>esContainer.setWaitStrategy(\n        Wait.forHttp(\"/\")\n                .forPort(9200)\n                .forStatusCode(200)\n                .withStartupTimeout(Duration.ofSeconds(60)));\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1539817,"reputation":4735,"user_id":1434740,"accept_rate":50,"display_name":"Jettro Coenradie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658170155,"creation_date":1546732429,"answer_id":54057407,"question_id":54028051,"body_markdown":"If I remember well, you can ask for the exposed port using the following command:\r\n\r\n    esContainer.getMappedPort(ELASTICSEARCH_PORT);\r\n\r\nThe Docker container exposes a random available port, so check the port as with the mentioned command. Use that port for the client. A colleague of mine wrote a blog post about this with some sample code if you are interested:\r\nhttps://www.luminis.eu/blog/search-en/elasticsearch-instances-for-integration-testing/ ","title":"Spring boot, ElasticSearch and TestContainers integration tests. Connection refused","body":"<p>If I remember well, you can ask for the exposed port using the following command:</p>\n<pre><code>esContainer.getMappedPort(ELASTICSEARCH_PORT);\n</code></pre>\n<p>The Docker container exposes a random available port, so check the port as with the mentioned command. Use that port for the client. A colleague of mine wrote a blog post about this with some sample code if you are interested:\n<a href=\"https://www.luminis.eu/blog/search-en/elasticsearch-instances-for-integration-testing/\" rel=\"nofollow noreferrer\">https://www.luminis.eu/blog/search-en/elasticsearch-instances-for-integration-testing/</a></p>\n"},{"tags":[],"owner":{"account_id":10929152,"reputation":521,"user_id":13543545,"display_name":"Saif Haider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628694203,"creation_date":1628693481,"answer_id":68744326,"question_id":54028051,"body_markdown":"Try using it this way\r\n\r\n```\r\n    @Container\r\n    private static ElasticsearchContainer elasticsearchContainer = new ElasticTestContainer();\r\n    private RestHighLevelClient client;\r\n\r\n    @BeforeClass\r\n    public static void init(){\r\n       elasticsearchContainer.start();\r\n    }\r\n\r\n    @Test\r\n    void test() throws IOException, InterruptedException {\r\n        RestClientBuilder restClientBuilder = RestClient.builder(new HttpHost(elasticsearchContainer.getHost(), 9200, &quot;http&quot;));\r\n        client = new RestHighLevelClient(restClientBuilder);\r\n        \r\n\r\n        var jsonFlower = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot;: \\&quot;XXX\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;color\\&quot; : \\&quot;red\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n        IndexRequest indexRequest = new IndexRequest(&quot;flowers&quot;, &quot;doc&quot;, &quot;1&quot;)\r\n                .source(jsonFlower, XContentType.JSON);\r\n\r\n\r\n        assertTrue(elasticsearchContainer.isRunning());\r\n        client.index(indexRequest, RequestOptions.DEFAULT);\r\n\r\n\r\n        var flowers = flowerService.findAll();\r\n\r\n\r\n        assertTrue(flowers.size() &gt; 0);\r\n\r\n        DeleteRequest deleteRequest = new DeleteRequest(&quot;flowers&quot;, &quot;doc&quot;, &quot;1&quot;);\r\n\r\n        client.delete(deleteRequest, RequestOptions.DEFAULT);\r\n    }\r\n```\r\n\r\nElasticTestContainer class\r\n\r\n```\r\npublic class ElasticTestContainer extends ElasticsearchContainer {\r\n\r\n    private static final String DOCKER_ELASTIC = &quot;docker.elastic.co/elasticsearch/elasticsearch:6.5.4&quot;;\r\n\r\n    private static final String CLUSTER_NAME = &quot;sample-cluster&quot;;\r\n\r\n    private static final String ELASTIC_SEARCH = &quot;elasticsearch&quot;;\r\n\r\n    public ElasticTestContainer() {\r\n        super(DOCKER_ELASTIC);\r\n        this.addFixedExposedPort(9200, 9200);\r\n        this.addFixedExposedPort(9300, 9300);\r\n        this.addEnv(CLUSTER_NAME, ELASTIC_SEARCH);\r\n    }\r\n}\r\n```","title":"Spring boot, ElasticSearch and TestContainers integration tests. Connection refused","body":"<p>Try using it this way</p>\n<pre><code>    @Container\n    private static ElasticsearchContainer elasticsearchContainer = new ElasticTestContainer();\n    private RestHighLevelClient client;\n\n    @BeforeClass\n    public static void init(){\n       elasticsearchContainer.start();\n    }\n\n    @Test\n    void test() throws IOException, InterruptedException {\n        RestClientBuilder restClientBuilder = RestClient.builder(new HttpHost(elasticsearchContainer.getHost(), 9200, &quot;http&quot;));\n        client = new RestHighLevelClient(restClientBuilder);\n        \n\n        var jsonFlower = &quot;{\\n&quot; +\n                &quot;    \\&quot;name\\&quot;: \\&quot;XXX\\&quot;,\\n&quot; +\n                &quot;  \\&quot;color\\&quot; : \\&quot;red\\&quot;\\n&quot; +\n                &quot;}&quot;;\n        IndexRequest indexRequest = new IndexRequest(&quot;flowers&quot;, &quot;doc&quot;, &quot;1&quot;)\n                .source(jsonFlower, XContentType.JSON);\n\n\n        assertTrue(elasticsearchContainer.isRunning());\n        client.index(indexRequest, RequestOptions.DEFAULT);\n\n\n        var flowers = flowerService.findAll();\n\n\n        assertTrue(flowers.size() &gt; 0);\n\n        DeleteRequest deleteRequest = new DeleteRequest(&quot;flowers&quot;, &quot;doc&quot;, &quot;1&quot;);\n\n        client.delete(deleteRequest, RequestOptions.DEFAULT);\n    }\n</code></pre>\n<p>ElasticTestContainer class</p>\n<pre><code>public class ElasticTestContainer extends ElasticsearchContainer {\n\n    private static final String DOCKER_ELASTIC = &quot;docker.elastic.co/elasticsearch/elasticsearch:6.5.4&quot;;\n\n    private static final String CLUSTER_NAME = &quot;sample-cluster&quot;;\n\n    private static final String ELASTIC_SEARCH = &quot;elasticsearch&quot;;\n\n    public ElasticTestContainer() {\n        super(DOCKER_ELASTIC);\n        this.addFixedExposedPort(9200, 9200);\n        this.addFixedExposedPort(9300, 9300);\n        this.addEnv(CLUSTER_NAME, ELASTIC_SEARCH);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7058,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54057407,"answer_count":3,"score":2,"last_activity_date":1658170155,"creation_date":1546541077,"question_id":54028051,"body_markdown":"I create an integration test for retrieving data from elasticsearch. \r\n\r\nI am using default values for the testContainer so my RestHighLevelClient should have access to the test container but all the time I am getting the same exception (`java.net.ConnecteException: Connection refused`) when I am trying to index data, but when I run my locally the docker image by command \r\n\r\n    docker run -d --rm -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; -e &quot;transport.host=127.0.0.1&quot;  --name elastic docker.elastic.co/elasticsearch/elasticsearch:6.5.4\r\nmy test works correctly. \r\n\r\nWhere is the problem, because the port mapping is the same?\r\nWhat is the reason of this exception?\r\n\r\nMy test:\r\n\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @Testcontainers\r\n    @WebMvcTest\r\n    class FlowerResourceTest {\r\n    \r\n        @Container\r\n        private ElasticsearchContainer esContainer = new ElasticsearchContainer(&quot;docker.elastic.co/elasticsearch/elasticsearch:6.5.4&quot;);\r\n    \r\n        @Autowired\r\n        private ElasticsearchConfiguration esConfig;\r\n    \r\n        @Autowired\r\n        private FlowerService flowerService;\r\n    \r\n        private RestHighLevelClient client;\r\n    \r\n    \r\n        @Test\r\n        void test() throws IOException, InterruptedException {\r\n            client = esConfig.client();\r\n    \r\n            var jsonFlower = &quot;{\\n&quot; +\r\n                    &quot;    \\&quot;name\\&quot;: \\&quot;XXX\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;color\\&quot; : \\&quot;red\\&quot;\\n&quot; +\r\n                    &quot;}&quot;;\r\n            IndexRequest indexRequest = new IndexRequest(&quot;flowers&quot;, &quot;doc&quot;, &quot;1&quot;)\r\n                    .source(jsonFlower, XContentType.JSON);\r\n    \r\n    \r\n            assertTrue(esContainer.isRunning());\r\n            client.index(indexRequest, RequestOptions.DEFAULT);\r\n    \r\n    \r\n            var flowers = flowerService.findAll();\r\n    \r\n    \r\n            assertTrue(flowers.size() &gt; 0);\r\n    \r\n            DeleteRequest deleteRequest = new DeleteRequest(&quot;flowers&quot;, &quot;doc&quot;, &quot;1&quot;);\r\n    \r\n            client.delete(deleteRequest, RequestOptions.DEFAULT);\r\n        }\r\n    }","title":"Spring boot, ElasticSearch and TestContainers integration tests. Connection refused","body":"<p>I create an integration test for retrieving data from elasticsearch. </p>\n\n<p>I am using default values for the testContainer so my RestHighLevelClient should have access to the test container but all the time I am getting the same exception (<code>java.net.ConnecteException: Connection refused</code>) when I am trying to index data, but when I run my locally the docker image by command </p>\n\n<pre><code>docker run -d --rm -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" -e \"transport.host=127.0.0.1\"  --name elastic docker.elastic.co/elasticsearch/elasticsearch:6.5.4\n</code></pre>\n\n<p>my test works correctly. </p>\n\n<p>Where is the problem, because the port mapping is the same?\nWhat is the reason of this exception?</p>\n\n<p>My test:</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@Testcontainers\n@WebMvcTest\nclass FlowerResourceTest {\n\n    @Container\n    private ElasticsearchContainer esContainer = new ElasticsearchContainer(\"docker.elastic.co/elasticsearch/elasticsearch:6.5.4\");\n\n    @Autowired\n    private ElasticsearchConfiguration esConfig;\n\n    @Autowired\n    private FlowerService flowerService;\n\n    private RestHighLevelClient client;\n\n\n    @Test\n    void test() throws IOException, InterruptedException {\n        client = esConfig.client();\n\n        var jsonFlower = \"{\\n\" +\n                \"    \\\"name\\\": \\\"XXX\\\",\\n\" +\n                \"  \\\"color\\\" : \\\"red\\\"\\n\" +\n                \"}\";\n        IndexRequest indexRequest = new IndexRequest(\"flowers\", \"doc\", \"1\")\n                .source(jsonFlower, XContentType.JSON);\n\n\n        assertTrue(esContainer.isRunning());\n        client.index(indexRequest, RequestOptions.DEFAULT);\n\n\n        var flowers = flowerService.findAll();\n\n\n        assertTrue(flowers.size() &gt; 0);\n\n        DeleteRequest deleteRequest = new DeleteRequest(\"flowers\", \"doc\", \"1\");\n\n        client.delete(deleteRequest, RequestOptions.DEFAULT);\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","bounded-wildcard","bounded-types"],"answers":[{"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658170154,"creation_date":1471198056,"answer_id":38945106,"question_id":38944896,"body_markdown":"I can think of the below differences :\r\n\r\n\r\na) Modifying your list inside the method, consider the below code :\r\n\r\n```java\r\n    // Bounded type parameter\r\n    private static &lt;T extends Number&gt; void processList(List&lt;T&gt; someList)\r\n\t{\r\n\r\n       \r\n       T t = someList.get(0);\r\n       if ( t.getClass() == Integer.class )\r\n       {\r\n    \t   Integer myNum = new Integer(4);\r\n    \t   someList.add((T) myNum);\r\n       }\r\n       \r\n\t}\r\n\r\n\t// Upper bound wildcard\r\n\tprivate static void processList2(List&lt;? extends Number&gt; someList)\r\n\t{\r\n\t\tObject o = someList.get(0);\r\n\t\tif ( o instanceof Integer )\r\n\t    {\r\n\t\t\tInteger myNum = new Integer(4);\r\n\t        someList.add(myNum); // Compile time error !!\r\n\t    }\r\n\t}\r\n```\r\n\r\nWith wildcard, you cannot add elements to the list! The compiler tells you that it doesn&#39;t know what is `myNum`. But in the first method, you could add an `Integer` by first checking if `T` is `Integer`, with no compile time error.\r\n\r\nb) The first method is called generic method. It follows the syntax that is defined for a [generic method](https://docs.oracle.com/javase/tutorial/java/generics/methods.html).\r\nThe upper bounds specified in the method definition are used to **restrict** the parameter types.\r\n\r\nThe second one is NOT necessarily called a generic method, it is a normal method that happens to accept a generic *parameter*.\r\nThe wildcard `?` with `extends` keyword is used as a means of **relaxing** the types that the method can accept.","title":"Difference between Bounded Type parameter (T extends) and Upper Bound Wildcard (? extends)","body":"<p>I can think of the below differences :</p>\n<p>a) Modifying your list inside the method, consider the below code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // Bounded type parameter\n    private static &lt;T extends Number&gt; void processList(List&lt;T&gt; someList)\n    {\n\n       \n       T t = someList.get(0);\n       if ( t.getClass() == Integer.class )\n       {\n           Integer myNum = new Integer(4);\n           someList.add((T) myNum);\n       }\n       \n    }\n\n    // Upper bound wildcard\n    private static void processList2(List&lt;? extends Number&gt; someList)\n    {\n        Object o = someList.get(0);\n        if ( o instanceof Integer )\n        {\n            Integer myNum = new Integer(4);\n            someList.add(myNum); // Compile time error !!\n        }\n    }\n</code></pre>\n<p>With wildcard, you cannot add elements to the list! The compiler tells you that it doesn't know what is <code>myNum</code>. But in the first method, you could add an <code>Integer</code> by first checking if <code>T</code> is <code>Integer</code>, with no compile time error.</p>\n<p>b) The first method is called generic method. It follows the syntax that is defined for a <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html\" rel=\"nofollow noreferrer\">generic method</a>.\nThe upper bounds specified in the method definition are used to <strong>restrict</strong> the parameter types.</p>\n<p>The second one is NOT necessarily called a generic method, it is a normal method that happens to accept a generic <em>parameter</em>.\nThe wildcard <code>?</code> with <code>extends</code> keyword is used as a means of <strong>relaxing</strong> the types that the method can accept.</p>\n"},{"tags":[],"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471198759,"creation_date":1471198759,"answer_id":38945213,"question_id":38944896,"body_markdown":"The difference is on the compiler side.\nOn the first one you can use the type (to cast something or use it as a bound to call another method for example) while on the second one, you cannot use it.","title":"Difference between Bounded Type parameter (T extends) and Upper Bound Wildcard (? extends)","body":"<p>The difference is on the compiler side.\nOn the first one you can use the type (to cast something or use it as a bound to call another method for example) while on the second one, you cannot use it.</p>\n"},{"tags":[],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1471250197,"creation_date":1471199115,"answer_id":38945283,"question_id":38944896,"body_markdown":"There are several differences between the two syntaxes during compile time :\r\n\r\n - With the first syntax, you can add elements to `someList` but with the second, you can&#39;t. This is commonly known as [PECS][1] and less commonly known as the PUT and GET prinicple.\r\n - With the first syntax, you have a handle to the type parameter `T` so you can use it to do things such as define local variables within the method of type `T`, cast a reference to the type `T`, call methods that are available in the class represented by `T`, etc. But with the second syntax, you don&#39;t have a handle to the type so you can&#39;t do any of this. \r\n - The first method can actually be called from the second method to\r\n   capture the wildcard. This is the most common way to [capture][2] a\r\n   wildcard via a helper method.\r\n\r\n      \r\n    \t\r\n    \tprivate static &lt;T extends Number&gt; void processList(List&lt;T&gt; someList) {\r\n    \t\tT n = someList.get(0);\r\n    \t\tsomeList.add(1,n); //addition allowed.\t \r\n    \t}\r\n    \t\r\n    \tprivate static void processList2(List&lt;? extends Number&gt; someList) {\r\n    \t\tNumber n = someList.get(0);\r\n    \t\t//someList.add(1,n);//Compilation error. Addition not allowed.\r\n    \t\tprocessList(someList);//Helper method for capturing the wildcard\r\n    \t}\r\n     \r\n\r\nNote that since generics are compile time sugar, these differences at a broader level are only limited to the compilation.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\r\n [2]:\r\nhttps://stackoverflow.com/questions/12043874/java-generics-wildcard-capture-misunderstanding","title":"Difference between Bounded Type parameter (T extends) and Upper Bound Wildcard (? extends)","body":"<p>There are several differences between the two syntaxes during compile time :</p>\n\n<ul>\n<li>With the first syntax, you can add elements to <code>someList</code> but with the second, you can't. This is commonly known as <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a> and less commonly known as the PUT and GET prinicple.</li>\n<li>With the first syntax, you have a handle to the type parameter <code>T</code> so you can use it to do things such as define local variables within the method of type <code>T</code>, cast a reference to the type <code>T</code>, call methods that are available in the class represented by <code>T</code>, etc. But with the second syntax, you don't have a handle to the type so you can't do any of this. </li>\n<li><p>The first method can actually be called from the second method to\ncapture the wildcard. This is the most common way to <a href=\"https://stackoverflow.com/questions/12043874/java-generics-wildcard-capture-misunderstanding\">capture</a> a\nwildcard via a helper method.</p>\n\n<pre><code>private static &lt;T extends Number&gt; void processList(List&lt;T&gt; someList) {\n    T n = someList.get(0);\n    someList.add(1,n); //addition allowed.   \n}\n\nprivate static void processList2(List&lt;? extends Number&gt; someList) {\n    Number n = someList.get(0);\n    //someList.add(1,n);//Compilation error. Addition not allowed.\n    processList(someList);//Helper method for capturing the wildcard\n}\n</code></pre></li>\n</ul>\n\n<p>Note that since generics are compile time sugar, these differences at a broader level are only limited to the compilation.</p>\n"},{"tags":[],"owner":{"account_id":8965785,"reputation":805,"user_id":6686490,"display_name":"Johnny V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471199270,"creation_date":1471199270,"answer_id":38945307,"question_id":38944896,"body_markdown":"If you want to use the type information then go with bounded.  With the wildcard, the argument will appear as a generic Object and you won&#39;t be able to call methods based on that type.\r\n\r\n    public static &lt;T extends Object&gt; ListIterator&lt;T&gt; createListIterator(ListIterator&lt;T&gt; o)\r\n    {\r\n    \treturn new ListIteratorAdaptor&lt;T&gt;(o);\r\n    }\r\n\r\n - https://docs.oracle.com/javase/tutorial/java/generics/bounded.html","title":"Difference between Bounded Type parameter (T extends) and Upper Bound Wildcard (? extends)","body":"<p>If you want to use the type information then go with bounded.  With the wildcard, the argument will appear as a generic Object and you won't be able to call methods based on that type.</p>\n\n<pre><code>public static &lt;T extends Object&gt; ListIterator&lt;T&gt; createListIterator(ListIterator&lt;T&gt; o)\n{\n    return new ListIteratorAdaptor&lt;T&gt;(o);\n}\n</code></pre>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/java/generics/bounded.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1251757,"reputation":4861,"user_id":1212046,"accept_rate":38,"display_name":"Waqas Ahmed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1533836708,"creation_date":1530797680,"answer_id":51192739,"question_id":38944896,"body_markdown":"There are following three types of Wildcard usually used with Generic in JAVA. Each one is explained as below with example.\r\n\r\n***Upper-bounded Wildcard:***\r\n\r\n*? extends T* : In Upper bounded wildcard only T or its subtypes will be supported.\r\nFor example we have an Animal class and have Dog , Cat as its subtypes. So following generic methods will only\r\naccept parameters of type `Data&lt;Animal&gt;, Data&lt;Dog&gt; and Data&lt;Cat&gt;`\r\n\r\n    public static void add(Data&lt;? extends Animal&gt; animalData) {\r\n            \r\n    }\r\n\r\n \r\n\r\n***Lower-bounded Wildcard:***\r\n\r\n*? super T* : In Lower-bounded wildcard only T or its super types will be supported.\r\nSame example we used for defining Lower-bounded Wildcard. Lets say we have Animal class as super or parent class\r\nand Dog as its child class. Now below method use Lower-bounded Wildcard and will only accept parameters of type\r\n\r\n    Data&lt;Animal&gt;, Data&lt;Dog&gt; and  Data&lt;Object&gt;\r\n\r\n    public static void add(Data&lt;? super Dog&gt; animalData) {\r\n    }\r\n\r\n\r\n***Unbounded Wildcard:***\r\n\r\n*? :* Unbounded wildcard supports all types. So our above example method can take parameters of type \r\n\r\n    Data&lt;Animal&gt;, Data&lt;Dog&gt; , Data&lt;Object&gt; and Data&lt;Cat&gt;\r\n    public static void add(Data&lt;?&gt; animalData) {       \r\n    }\r\n\r\n\r\n\r\n","title":"Difference between Bounded Type parameter (T extends) and Upper Bound Wildcard (? extends)","body":"<p>There are following three types of Wildcard usually used with Generic in JAVA. Each one is explained as below with example.</p>\n\n<p><strong><em>Upper-bounded Wildcard:</em></strong></p>\n\n<p><em>? extends T</em> : In Upper bounded wildcard only T or its subtypes will be supported.\nFor example we have an Animal class and have Dog , Cat as its subtypes. So following generic methods will only\naccept parameters of type <code>Data&lt;Animal&gt;, Data&lt;Dog&gt; and Data&lt;Cat&gt;</code></p>\n\n<pre><code>public static void add(Data&lt;? extends Animal&gt; animalData) {\n\n}\n</code></pre>\n\n<p><strong><em>Lower-bounded Wildcard:</em></strong></p>\n\n<p><em>? super T</em> : In Lower-bounded wildcard only T or its super types will be supported.\nSame example we used for defining Lower-bounded Wildcard. Lets say we have Animal class as super or parent class\nand Dog as its child class. Now below method use Lower-bounded Wildcard and will only accept parameters of type</p>\n\n<pre><code>Data&lt;Animal&gt;, Data&lt;Dog&gt; and  Data&lt;Object&gt;\n\npublic static void add(Data&lt;? super Dog&gt; animalData) {\n}\n</code></pre>\n\n<p><strong><em>Unbounded Wildcard:</em></strong></p>\n\n<p><em>? :</em> Unbounded wildcard supports all types. So our above example method can take parameters of type </p>\n\n<pre><code>Data&lt;Animal&gt;, Data&lt;Dog&gt; , Data&lt;Object&gt; and Data&lt;Cat&gt;\npublic static void add(Data&lt;?&gt; animalData) {       \n}\n</code></pre>\n"}],"owner":{"account_id":2680516,"reputation":1642,"user_id":2315991,"accept_rate":74,"display_name":"ThomasMX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4037,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":38945283,"answer_count":5,"score":21,"last_activity_date":1658170154,"creation_date":1471196696,"question_id":38944896,"body_markdown":"I know that there was a similar question already posted, although I think mine is somewhat different...\r\n\r\nSuppose you have two methods:\r\n\r\n    // Bounded type parameter\r\n    private static &lt;T extends Number&gt; void processList(List&lt;T&gt; someList) {\r\n       \r\n    }\r\n    \r\n    // Upper bound wildcard\r\n    private static void processList2(List&lt;? extends Number&gt; someList) {\r\n        // ...\r\n    }\r\n\r\nAs far as I know, both methods accepts arguments, that are `List` of type `Number` or `List` of *subtype* of `Number`. \r\n\r\nBut what&#39;s the difference between the two methods after all? ","title":"Difference between Bounded Type parameter (T extends) and Upper Bound Wildcard (? extends)","body":"<p>I know that there was a similar question already posted, although I think mine is somewhat different...</p>\n\n<p>Suppose you have two methods:</p>\n\n<pre><code>// Bounded type parameter\nprivate static &lt;T extends Number&gt; void processList(List&lt;T&gt; someList) {\n\n}\n\n// Upper bound wildcard\nprivate static void processList2(List&lt;? extends Number&gt; someList) {\n    // ...\n}\n</code></pre>\n\n<p>As far as I know, both methods accepts arguments, that are <code>List</code> of type <code>Number</code> or <code>List</code> of <em>subtype</em> of <code>Number</code>. </p>\n\n<p>But what's the difference between the two methods after all? </p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":12107061,"reputation":2953,"user_id":8845480,"display_name":"sm3sher"},"score":4,"creation_date":1658166537,"post_id":73026513,"comment_id":128979180,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":25837294,"reputation":17,"user_id":19573498,"display_name":"FAMIX"},"score":0,"creation_date":1658166742,"post_id":73026513,"comment_id":128979242,"body_markdown":"my question is how to return an array that have all number have been rebeated less than N times. this cod above is colse but  wrong .","body":"my question is how to return an array that have all number have been rebeated less than N times. this cod above is colse but  wrong ."},{"owner":{"account_id":12107061,"reputation":2953,"user_id":8845480,"display_name":"sm3sher"},"score":0,"creation_date":1658169269,"post_id":73026513,"comment_id":128980081,"body_markdown":"I&#39;m working on that","body":"I&#39;m working on that"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1658169660,"post_id":73026513,"comment_id":128980199,"body_markdown":"Please [*edit the question*](https://stackoverflow.com/posts/73026513/edit) - **describe the problem** - what output you&#39;re getting, what output is expected. Clarify the definition of *repeated less than N times*. In your example, you&#39;re passing `n=1`, less than `1` means `0`... Maybe you&#39;ve meant *less or equal to N*.","body":"Please <a href=\"https://stackoverflow.com/posts/73026513/edit\"><i>edit the question</i></a> - <b>describe the problem</b> - what output you&#39;re getting, what output is expected. Clarify the definition of <i>repeated less than N times</i>. In your example, you&#39;re passing <code>n=1</code>, less than <code>1</code> means <code>0</code>... Maybe you&#39;ve meant <i>less or equal to N</i>."},{"owner":{"account_id":12107061,"reputation":2953,"user_id":8845480,"display_name":"sm3sher"},"score":0,"creation_date":1658170053,"post_id":73026513,"comment_id":128980318,"body_markdown":"I was assuming he meant less or equal to N, otherwise the expected output wouldn&#39;t match.","body":"I was assuming he meant less or equal to N, otherwise the expected output wouldn&#39;t match."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1658171894,"post_id":73026513,"comment_id":128980949,"body_markdown":"@sm3sher In the code OP uses condition `if (count &lt; n)` - not `&lt;=`, so another possibility there&#39;s a mistake in the input sample and `n` should be `2`. None of the readers of the question should guess, the problem should be clear.","body":"@sm3sher In the code OP uses condition <code>if (count &lt; n)</code> - not <code>&lt;=</code>, so another possibility there&#39;s a mistake in the input sample and <code>n</code> should be <code>2</code>. None of the readers of the question should guess, the problem should be clear."},{"owner":{"account_id":12107061,"reputation":2953,"user_id":8845480,"display_name":"sm3sher"},"score":0,"creation_date":1658172930,"post_id":73026513,"comment_id":128981287,"body_markdown":"@AlexanderIvanchenko You&#39;re absolutely right. I have a habit of assuming since lots of new questions lack quality and clearance.","body":"@AlexanderIvanchenko You&#39;re absolutely right. I have a habit of assuming since lots of new questions lack quality and clearance."}],"answers":[{"tags":[],"owner":{"account_id":12107061,"reputation":2953,"user_id":8845480,"display_name":"sm3sher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658169829,"creation_date":1658169829,"answer_id":73027153,"question_id":73026513,"body_markdown":"I would break this down to multiple steps.\r\n\r\nFirst lets create a `countMap` that holds track of all the occurrences:\r\n```java\r\nint[] data = {1, 2, 2, 3, 3, 3, 4, 5, 5};\r\nint n = 1;\r\n\r\nMap&lt;Integer, Long&gt; countMap = Arrays.stream(data).boxed()\r\n        .collect(Collectors.groupingBy(s -&gt; s, Collectors.counting()));\r\n\r\nSystem.out.println(countMap); // {1=1, 2=2, 3=3, 4=1, 5=2}\r\n```\r\n\r\nNow all we need to do is to check for the condition `count &lt;= n`:\r\n```java\r\nList&lt;Integer&gt; resultList = new ArrayList&lt;&gt;();\r\ncountMap.forEach((integer, count) -&gt; {\r\n    if (count &lt;= n) resultList.add(integer);\r\n});\r\n\r\nSystem.out.println(resultList); // [1, 4]\r\n```\r\n\r\nAnd last but not least converting the `list` back to `array`:\r\n```java\r\n// {1, 4}\r\nint[] resultArray = resultList.stream()\r\n        .mapToInt(Integer::intValue)\r\n        .toArray();\r\n```","title":"all number have been rebeated less than N times","body":"<p>I would break this down to multiple steps.</p>\n<p>First lets create a <code>countMap</code> that holds track of all the occurrences:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] data = {1, 2, 2, 3, 3, 3, 4, 5, 5};\nint n = 1;\n\nMap&lt;Integer, Long&gt; countMap = Arrays.stream(data).boxed()\n        .collect(Collectors.groupingBy(s -&gt; s, Collectors.counting()));\n\nSystem.out.println(countMap); // {1=1, 2=2, 3=3, 4=1, 5=2}\n</code></pre>\n<p>Now all we need to do is to check for the condition <code>count &lt;= n</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; resultList = new ArrayList&lt;&gt;();\ncountMap.forEach((integer, count) -&gt; {\n    if (count &lt;= n) resultList.add(integer);\n});\n\nSystem.out.println(resultList); // [1, 4]\n</code></pre>\n<p>And last but not least converting the <code>list</code> back to <code>array</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// {1, 4}\nint[] resultArray = resultList.stream()\n        .mapToInt(Integer::intValue)\n        .toArray();\n</code></pre>\n"}],"owner":{"account_id":25837294,"reputation":17,"user_id":19573498,"display_name":"FAMIX"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1658169829,"creation_date":1658166457,"question_id":73026513,"body_markdown":"i&#39;m tring to return an array that have all number have been rebeated less than N times.\r\n \r\nexpected output :  1,4\r\n\r\nthis is my cod :   \r\n  \r\n-- Main --\r\n  \r\n   \r\n\r\n     int[] data = {1, 2, 2, 3, 3, 3, 4, 5, 5};\r\n        int n = 1;\r\n    \t\tSolution.solution(data, n);\r\n\r\n \r\n\r\n-- class Solution --\r\n\r\n    public static int[] solution(int[] data, int n) {\r\n            \r\n            int l =  data.length, count = 0;\r\n            int[] Narr = new int[l];\r\n            \r\n            for(int i =0 ; i &lt; l; i++){\r\n                count = 0;\r\n                \r\n                for(int j=1 ; j &lt; l ; j++){\r\n                    if(data[i] == data[j]){\r\n                        count++;\r\n                    }\r\n                    \r\n                    if(j == l-1){\r\n                        \r\n                        if(count &lt; n){\r\n                             Narr[i] = data[i];\r\n                             System.out.println(Narr[i]);\r\n                         } \r\n                    }\r\n                }\r\n                \r\n            }\r\n            \r\n            return Narr;\r\n        }\r\n\r\n","title":"all number have been rebeated less than N times","body":"<p>i'm tring to return an array that have all number have been rebeated less than N times.</p>\n<p>expected output :  1,4</p>\n<p>this is my cod :</p>\n<p>-- Main --</p>\n<pre><code> int[] data = {1, 2, 2, 3, 3, 3, 4, 5, 5};\n    int n = 1;\n        Solution.solution(data, n);\n</code></pre>\n<p>-- class Solution --</p>\n<pre><code>public static int[] solution(int[] data, int n) {\n        \n        int l =  data.length, count = 0;\n        int[] Narr = new int[l];\n        \n        for(int i =0 ; i &lt; l; i++){\n            count = 0;\n            \n            for(int j=1 ; j &lt; l ; j++){\n                if(data[i] == data[j]){\n                    count++;\n                }\n                \n                if(j == l-1){\n                    \n                    if(count &lt; n){\n                         Narr[i] = data[i];\n                         System.out.println(Narr[i]);\n                     } \n                }\n            }\n            \n        }\n        \n        return Narr;\n    }\n</code></pre>\n"},{"tags":["java","windows","eclipse","executable-jar"],"comments":[{"owner":{"account_id":17492398,"reputation":929,"user_id":12684279,"display_name":"Ruokki"},"score":0,"creation_date":1595448836,"post_id":63042250,"comment_id":111482208,"body_markdown":"Hello you should maybe try to run the jar from a command line and add the stacktrace in the question","body":"Hello you should maybe try to run the jar from a command line and add the stacktrace in the question"},{"owner":{"account_id":19137780,"reputation":21,"user_id":13978419,"display_name":"Chase Bryson"},"score":0,"creation_date":1595451329,"post_id":63042250,"comment_id":111483232,"body_markdown":"hey Ruokki i have tried running from the command line but the jar always comes back &quot;error unable to access jarfile&quot; and what do you mean by add stack trace?","body":"hey Ruokki i have tried running from the command line but the jar always comes back &quot;error unable to access jarfile&quot; and what do you mean by add stack trace?"},{"owner":{"account_id":17492398,"reputation":929,"user_id":12684279,"display_name":"Ruokki"},"score":0,"creation_date":1595452740,"post_id":63042250,"comment_id":111483739,"body_markdown":"The stack trace are the error log printed by the throws of exception. But in your case you don&#39;t have one because the jar is not launch. What is the command you use for launching the jar ?","body":"The stack trace are the error log printed by the throws of exception. But in your case you don&#39;t have one because the jar is not launch. What is the command you use for launching the jar ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1595454057,"post_id":63042250,"comment_id":111484180,"body_markdown":"Never write an empty `catch` block.  Always, at the very least, print or log the full stack trace.  In your case, you can do that with `e.printStackTrace();`.","body":"Never write an empty <code>catch</code> block.  Always, at the very least, print or log the full stack trace.  In your case, you can do that with <code>e.printStackTrace();</code>."},{"owner":{"account_id":19137780,"reputation":21,"user_id":13978419,"display_name":"Chase Bryson"},"score":0,"creation_date":1595499962,"post_id":63042250,"comment_id":111498967,"body_markdown":"@Ruokki in the cmd line i use &quot;java -jar laughingskull.jar&quot; because thats what i named it on export.","body":"@Ruokki in the cmd line i use &quot;java -jar laughingskull.jar&quot; because thats what i named it on export."},{"owner":{"account_id":19137780,"reputation":21,"user_id":13978419,"display_name":"Chase Bryson"},"score":0,"creation_date":1595499973,"post_id":63042250,"comment_id":111498974,"body_markdown":"thank you @VGR i&#39;ll try that and see if it helps.","body":"thank you @VGR i&#39;ll try that and see if it helps."}],"owner":{"account_id":19137780,"reputation":21,"user_id":13978419,"display_name":"Chase Bryson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658169488,"creation_date":1595447970,"question_id":63042250,"body_markdown":"Hey guys I am new to programming and trying to make a java program in eclipse that has a laughing skull gif with a laughing sound. I&#39;m trying to export it as a runnable .JAR file and it starts running but it never fully opens. \r\n\r\nI have tried changing paths in windows, java is updated, i have run jarfix, i don&#39;t have malware on my computer, i have uninstalled and reinstalled java and eclipse. I don&#39;t know how to fix it and am in need of some help.\r\n\r\n*here is my code*\r\n\r\n\r\n\r\n    import java.awt.*;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.sound.sampled.AudioSystem;\r\n\timport javax.sound.sampled.Clip;\r\n\timport javax.swing.ImageIcon;\r\n\timport java.io.File;\r\n\t\t\r\n\t\tpublic class Laughingskull extends JFrame\r\n\t\t{\t\t\t\t\t\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t */\t\t\t\r\n\t\t\tpublic ImageIcon skull;\r\n\t\t\tpublic JLabel label;\r\n\t\t\t\r\n\r\n\t\t\tpublic static void main(String[] args) \r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tJFrame jf = new JFrame();\r\n\t\t\t\tLaughingskull frame = new Laughingskull();\r\n\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\tframe.setVisible(true);\r\n\t\t\t\tjf.setLocationRelativeTo(null);\t\t\r\n\t\t\t\tFile Laugh = new File(&quot;evillaugh.WAV&quot;);\r\n\t\t\t\tPlaySound(Laugh);\t\t\r\n\t\t\t}\r\n\r\n\r\n\t\t\t\r\n\t\t\t//customPanel\t\r\n\t\tpublic Laughingskull() {\t\t\r\n\t\t\tskull = new ImageIcon(&quot;fireskull.gif&quot;);\r\n\t\t\tlabel = new JLabel(skull);\r\n\t\t\tadd(label);\t\r\n\t\t\tsetExtendedState(JFrame.MAXIMIZED_BOTH);\r\n\t\t\tsetUndecorated(true);\r\n\t\t\tsetBackground(new Color(0,0,0,0));\t\t\t\r\n\t\t\t}\t\t\r\n\r\n\r\n\t\t\r\n\t\tstatic void PlaySound(File Sound) {\r\n\t\t\ttry {\r\n\t\t\t\tClip clip = AudioSystem.getClip();\r\n\t\t\t\tclip.open(AudioSystem.getAudioInputStream(Sound));\r\n\t\t\t\tclip.start();\t\t\r\n\t\t\t\tThread.sleep(clip.getMicrosecondLength()/1000);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}catch(Exception e) {\t\t\t\t\t\r\n\t\t\t}\t\t\r\n\t\t}\t\r\n\t}","title":"Java executable .JAR file runs but doesn&#39;t open","body":"<p>Hey guys I am new to programming and trying to make a java program in eclipse that has a laughing skull gif with a laughing sound. I'm trying to export it as a runnable .JAR file and it starts running but it never fully opens.</p>\n<p>I have tried changing paths in windows, java is updated, i have run jarfix, i don't have malware on my computer, i have uninstalled and reinstalled java and eclipse. I don't know how to fix it and am in need of some help.</p>\n<p><em>here is my code</em></p>\n<pre><code>import java.awt.*;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.swing.ImageIcon;\nimport java.io.File;\n    \n    public class Laughingskull extends JFrame\n    {                   \n        /**\n         * \n         */\n        private static final long serialVersionUID = 1L;\n        /**\n         * \n         */         \n        public ImageIcon skull;\n        public JLabel label;\n        \n\n        public static void main(String[] args) \n        {                                               \n            JFrame jf = new JFrame();\n            Laughingskull frame = new Laughingskull();\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setVisible(true);\n            jf.setLocationRelativeTo(null);     \n            File Laugh = new File(&quot;evillaugh.WAV&quot;);\n            PlaySound(Laugh);       \n        }\n\n\n        \n        //customPanel   \n    public Laughingskull() {        \n        skull = new ImageIcon(&quot;fireskull.gif&quot;);\n        label = new JLabel(skull);\n        add(label); \n        setExtendedState(JFrame.MAXIMIZED_BOTH);\n        setUndecorated(true);\n        setBackground(new Color(0,0,0,0));          \n        }       \n\n\n    \n    static void PlaySound(File Sound) {\n        try {\n            Clip clip = AudioSystem.getClip();\n            clip.open(AudioSystem.getAudioInputStream(Sound));\n            clip.start();       \n            Thread.sleep(clip.getMicrosecondLength()/1000);\n            System.exit(0);\n        }catch(Exception e) {                   \n        }       \n    }   \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"score":0,"creation_date":1601460756,"post_id":64132063,"comment_id":113413209,"body_markdown":"I have also tried it with spring.quartz.jdbc.schema = classpath: /tables_postgresql.sql. (as per documentation: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/common-application-properties.html). But it does not work.","body":"I have also tried it with spring.quartz.jdbc.schema = classpath: /tables_postgresql.sql. (as per documentation: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.0.x/reference/html/&hellip;</a>). But it does not work."},{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1601549377,"post_id":64132063,"comment_id":113445258,"body_markdown":"Do you have the other properties such as spring.quartz.job-store-type=jdbc and spring.quartz.jdbc.initialize-schema=always ?","body":"Do you have the other properties such as spring.quartz.job-store-type=jdbc and spring.quartz.jdbc.initialize-schema=always ?"},{"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"score":0,"creation_date":1601562459,"post_id":64132063,"comment_id":113451575,"body_markdown":"In addition, i have following settings: spring.quartz.job-store-type=jdbc\nspring.quartz.jdbc.initialize-schema= always                                                 \n  spring.quartz.jdbc.comment-prefix=#    i haver also changed schema file settings to  spring.quartz.jdbc.schema =classpath:sql/quartz_tables.sql    But it gives exception :","body":"In addition, i have following settings: spring.quartz.job-store-type=jdbc spring.quartz.jdbc.initialize-schema= always                                                    spring.quartz.jdbc.comment-prefix=#    i haver also changed schema file settings to  spring.quartz.jdbc.schema =classpath:sql/quartz_tables.sql    But it gives exception :"},{"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"score":0,"creation_date":1601562910,"post_id":64132063,"comment_id":113451847,"body_markdown":"Caused by: org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [sql/quartz_tables.sql]; nested exception is java.io.FileNotFoundException: class path resource [sql/quartz_tables.sql] cannot be opened because it does not exist  .   I have also changed to   :        classpath: quartz_tables.sql   ,                                                               \n /quartz_tables.sql     ,         \\quartz_tables.sql   , classpath: resources/quartz_tables.sql .          But no luck. Can you please help me further ?","body":"Caused by: org.springframework.jdbc.datasource.init.CannotReadScriptExc&zwnj;&#8203;eption: Cannot read SQL script from class path resource [sql/quartz_tables.sql]; nested exception is java.io.FileNotFoundException: class path resource [sql/quartz_tables.sql] cannot be opened because it does not exist  .   I have also changed to   :        classpath: quartz_tables.sql   ,                                                                 /quartz_tables.sql     ,         \\quartz_tables.sql   , classpath: resources/quartz_tables.sql .          But no luck. Can you please help me further ?"}],"answers":[{"tags":[],"owner":{"account_id":16838252,"reputation":21,"user_id":12174259,"display_name":"Javy Villalba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658169462,"creation_date":1658169462,"answer_id":73027085,"question_id":64132063,"body_markdown":"A bit late, I hope it helps others...  \r\nI created the file (that contains the create tables/idx statements): \r\n```\r\nsrc/main/resources/quartz.sql\r\n```\r\nAnd I configured the `application.properties` like this:\r\n```\r\nspring.quartz.jdbc.schema=classpath:quartz.sql\r\n```\r\nsince the file is in the &quot;resources&quot; folder, it should not have a &quot;/&quot; (slash) or blank spaces.","title":"how to assign db script to spring.quartz.jdbc.schema","body":"<p>A bit late, I hope it helps others...<br />\nI created the file (that contains the create tables/idx statements):</p>\n<pre><code>src/main/resources/quartz.sql\n</code></pre>\n<p>And I configured the <code>application.properties</code> like this:</p>\n<pre><code>spring.quartz.jdbc.schema=classpath:quartz.sql\n</code></pre>\n<p>since the file is in the &quot;resources&quot; folder, it should not have a &quot;/&quot; (slash) or blank spaces.</p>\n"}],"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658169462,"creation_date":1601447558,"question_id":64132063,"body_markdown":"I am using quartz with spring boot. I want to use own db script to generate quartz tables during startup. I have generated tables_postgresql.sql file and put in src/main/resources. \r\nIn application.properties, i assign value to  \r\nspring.quartz.jdbc.schema = \\tables_postgresql.sql. \r\n\r\nBut it is not being picked up during start up.\r\nCan you please help me how to use this sql file during statrt up ?\r\n\r\nRegards, Stephan","title":"how to assign db script to spring.quartz.jdbc.schema","body":"<p>I am using quartz with spring boot. I want to use own db script to generate quartz tables during startup. I have generated tables_postgresql.sql file and put in src/main/resources.\nIn application.properties, i assign value to<br />\nspring.quartz.jdbc.schema = \\tables_postgresql.sql.</p>\n<p>But it is not being picked up during start up.\nCan you please help me how to use this sql file during statrt up ?</p>\n<p>Regards, Stephan</p>\n"},{"tags":["java","oop","smalltalk"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1658089216,"post_id":73015065,"comment_id":128958729,"body_markdown":"Can you show some code? For example, what code makes the compiler say &quot;getQueuedActions() needs to be implemented also at AbstractEntity&quot;?","body":"Can you show some code? For example, what code makes the compiler say &quot;getQueuedActions() needs to be implemented also at AbstractEntity&quot;?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1658089262,"post_id":73015065,"comment_id":128958745,"body_markdown":"If the Java compiler is saying that you need it, then you almost certainly have things organized so that it _isn&#39;t_ actually implemented, and you _do_ need to do some different arranging of things.  If you showed us some code, we could probably identify the issue.","body":"If the Java compiler is saying that you need it, then you almost certainly have things organized so that it <i>isn&#39;t</i> actually implemented, and you <i>do</i> need to do some different arranging of things.  If you showed us some code, we could probably identify the issue."},{"owner":{"account_id":5087141,"reputation":14555,"user_id":4081336,"accept_rate":80,"display_name":"Leandro Caniglia"},"score":2,"creation_date":1658093327,"post_id":73015065,"comment_id":128959451,"body_markdown":"Please note that the selector that most Smalltalk dialects use for the message you are looking for is `#subclassResponsibility`.","body":"Please note that the selector that most Smalltalk dialects use for the message you are looking for is <code>#subclassResponsibility</code>."},{"owner":{"account_id":162233,"reputation":3101,"user_id":383568,"accept_rate":86,"display_name":"JayK"},"score":1,"creation_date":1658131215,"post_id":73015065,"comment_id":128965333,"body_markdown":"To confirm the assumptions of some answers: yes, #subclassResponsibility and probably #implementedBySubclass are the equivalent of marking a method as abstract in languages like Java.","body":"To confirm the assumptions of some answers: yes, #subclassResponsibility and probably #implementedBySubclass are the equivalent of marking a method as abstract in languages like Java."},{"owner":{"account_id":18076496,"reputation":201,"user_id":13139607,"display_name":"Snorik"},"score":0,"creation_date":1658159557,"post_id":73015065,"comment_id":128976648,"body_markdown":"@LeandroCaniglia Smalltalk has been some time ago, thank you for correcting me.  In VS(E) it really was called Object&gt;&gt;#implementedBySubclass.","body":"@LeandroCaniglia Smalltalk has been some time ago, thank you for correcting me.  In VS(E) it really was called Object&gt;&gt;#implementedBySubclass."},{"owner":{"account_id":18076496,"reputation":201,"user_id":13139607,"display_name":"Snorik"},"score":0,"creation_date":1658160341,"post_id":73015065,"comment_id":128976953,"body_markdown":"@JayK thank you so much, this is exactly what I was missing.\nIts been years since I have done proper development for one and the distinction between abstract class and concrete method and abstract method was lost on me.","body":"@JayK thank you so much, this is exactly what I was missing. Its been years since I have done proper development for one and the distinction between abstract class and concrete method and abstract method was lost on me."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1658167299,"creation_date":1658093401,"answer_id":73015503,"question_id":73015065,"body_markdown":"_If_ you put `moveTo(Target)` in `AbstractEntity` that would mean __all__ `AbstractEntity`es can be moved. All of them. You can&#39;t not: That&#39;s what putting it at that level means.\r\n\r\nIf NPC can be moved, and Player can be moved, but let&#39;s say Tree (also an `AbstractEntity`) cannot, then __`moveTo` should NOT be in `AbstractEntity` at all!__\r\n\r\nPossibly you want something in between; perhaps `Person extends MovableEntity` and `NPC extends MovableEntity`, and `MovableEntity extends AbstractEntity`. And `moveTo` can go in `MovableEntity`.\r\n\r\nWhether it&#39;s `MovableEntity` or `AbstractEntity` that gets a `moveTo(Target target)` method - you are free to specify an implementation or not (the act of saying: &quot;All Xs have the Y method&quot; is separate from &quot;... and here is the code for that method&quot;. You choose: Either do the first (decree that the method must be there, but not what the code for it is), or both (decree that the method must be there, _and_ provide an implementation, which a subclass is free to override with an alternate implementation unless you want to disable that, which you can, by marking the method with the `final` keyword).\r\n\r\nThat implementation is free to use any other property of the type it is in - including properties that are of the &#39;The type decrees this property exists, not what it looks like&#39; variety. This is perfectly legal java:\r\n\r\n```\r\nclass MovableEntity extends AbstractEntity {\r\n  public void moveTo(Target target) {\r\n    var actions = getQueuedActions();\r\n    .... move to and do the actions ....\r\n  }\r\n\r\n  public abstract List&lt;Action&gt; getQueuedActions();\r\n}\r\n```\r\n\r\nThis class definition says:\r\n\r\n* You can&#39;t instantiate me; I am abstract. My only reason for existing is to serve as common supertype for other more specific types. If nobody ever writes `class Something extends MovableEntity`, this code is completely useless.\r\n* All `MovableEntity` instances regardless of its actual type have a `moveTo(Target)` method, as well as a `getQueuedActions` method. A subclass can&#39;t &#39;remove&#39; this.\r\n* Any types that `extends` MovableEntity __must__ provide an implementation of the `getQueuedActions` method - failure to do so is a compiler error. Unless they are marked `abstract` which is fine (in which case the requirement to have that method is passed on to any subclasses of _it_ in turn).\r\n* Any types that `extends` MovableEntity __may__ provide its own implementation of `moveTo(Target)` - even if it does, an impl of `getQueuedActions` must still be provided, that rule doesn&#39;t change. If it doesn&#39;t provide an implementation, it inherits the implementation as provided here (which ends up invoking `getQueuedActions` as part of how it works).\r\n\r\nPossibly `^implementedBySubclass` is smalltalk-ese for marking a method as `abstract`. You should in general, when asking on SO questions in the vein of &quot;This thing in language X - is there an equivalent to that in language Y?&quot;, explain what &#39;this thing&#39; actually means.\r\n\r\n_Especially_ for Smalltalk: Documentation is hard to find.\r\n","title":"Is there an equivalent to #implementedBySubclass in Java?","body":"<p><em>If</em> you put <code>moveTo(Target)</code> in <code>AbstractEntity</code> that would mean <strong>all</strong> <code>AbstractEntity</code>es can be moved. All of them. You can't not: That's what putting it at that level means.</p>\n<p>If NPC can be moved, and Player can be moved, but let's say Tree (also an <code>AbstractEntity</code>) cannot, then <strong><code>moveTo</code> should NOT be in <code>AbstractEntity</code> at all!</strong></p>\n<p>Possibly you want something in between; perhaps <code>Person extends MovableEntity</code> and <code>NPC extends MovableEntity</code>, and <code>MovableEntity extends AbstractEntity</code>. And <code>moveTo</code> can go in <code>MovableEntity</code>.</p>\n<p>Whether it's <code>MovableEntity</code> or <code>AbstractEntity</code> that gets a <code>moveTo(Target target)</code> method - you are free to specify an implementation or not (the act of saying: &quot;All Xs have the Y method&quot; is separate from &quot;... and here is the code for that method&quot;. You choose: Either do the first (decree that the method must be there, but not what the code for it is), or both (decree that the method must be there, <em>and</em> provide an implementation, which a subclass is free to override with an alternate implementation unless you want to disable that, which you can, by marking the method with the <code>final</code> keyword).</p>\n<p>That implementation is free to use any other property of the type it is in - including properties that are of the 'The type decrees this property exists, not what it looks like' variety. This is perfectly legal java:</p>\n<pre><code>class MovableEntity extends AbstractEntity {\n  public void moveTo(Target target) {\n    var actions = getQueuedActions();\n    .... move to and do the actions ....\n  }\n\n  public abstract List&lt;Action&gt; getQueuedActions();\n}\n</code></pre>\n<p>This class definition says:</p>\n<ul>\n<li>You can't instantiate me; I am abstract. My only reason for existing is to serve as common supertype for other more specific types. If nobody ever writes <code>class Something extends MovableEntity</code>, this code is completely useless.</li>\n<li>All <code>MovableEntity</code> instances regardless of its actual type have a <code>moveTo(Target)</code> method, as well as a <code>getQueuedActions</code> method. A subclass can't 'remove' this.</li>\n<li>Any types that <code>extends</code> MovableEntity <strong>must</strong> provide an implementation of the <code>getQueuedActions</code> method - failure to do so is a compiler error. Unless they are marked <code>abstract</code> which is fine (in which case the requirement to have that method is passed on to any subclasses of <em>it</em> in turn).</li>\n<li>Any types that <code>extends</code> MovableEntity <strong>may</strong> provide its own implementation of <code>moveTo(Target)</code> - even if it does, an impl of <code>getQueuedActions</code> must still be provided, that rule doesn't change. If it doesn't provide an implementation, it inherits the implementation as provided here (which ends up invoking <code>getQueuedActions</code> as part of how it works).</li>\n</ul>\n<p>Possibly <code>^implementedBySubclass</code> is smalltalk-ese for marking a method as <code>abstract</code>. You should in general, when asking on SO questions in the vein of &quot;This thing in language X - is there an equivalent to that in language Y?&quot;, explain what 'this thing' actually means.</p>\n<p><em>Especially</em> for Smalltalk: Documentation is hard to find.</p>\n"},{"tags":[],"owner":{"account_id":958617,"reputation":4858,"user_id":983430,"accept_rate":100,"display_name":"Amos M. Carpenter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658104003,"creation_date":1658104003,"answer_id":73016268,"question_id":73015065,"body_markdown":"This is the difference between a *strongly-typed language* like Java and a *dynamically-typed language* like Smalltalk.\r\n\r\nIn **Smalltalk**, you can rely on convention to glue things together, and if something breaks, the developer needs to debug it and figure out why (they&#39;d likely see an error with `#subclassResponsibility`).\r\n\r\n**Java** needs to know at complile time what classes can or can&#39;t do. So in your case, it&#39;s complaining that you&#39;re expecting your abstract class to understand/implement a method, but only the subclasses understand it - and you could in future be adding other concrete subclasses whose instances don&#39;t implement the method.\r\n\r\nSo one approach you could take in Java would be to implement the method in the abstract superclass, but throw an exception - either a custom one, or something like `java.lang.UnsupportedOperationException`. The subclasses can then override that method to provide their specific implementations. That way, each instance behaves correctly, and the compiler is happy. If you were to add a new concrete subclass that doesn&#39;t override the method, you&#39;d get your exception at runtime if you tried to call that method - which would tell you that you need to implement it.","title":"Is there an equivalent to #implementedBySubclass in Java?","body":"<p>This is the difference between a <em>strongly-typed language</em> like Java and a <em>dynamically-typed language</em> like Smalltalk.</p>\n<p>In <strong>Smalltalk</strong>, you can rely on convention to glue things together, and if something breaks, the developer needs to debug it and figure out why (they'd likely see an error with <code>#subclassResponsibility</code>).</p>\n<p><strong>Java</strong> needs to know at complile time what classes can or can't do. So in your case, it's complaining that you're expecting your abstract class to understand/implement a method, but only the subclasses understand it - and you could in future be adding other concrete subclasses whose instances don't implement the method.</p>\n<p>So one approach you could take in Java would be to implement the method in the abstract superclass, but throw an exception - either a custom one, or something like <code>java.lang.UnsupportedOperationException</code>. The subclasses can then override that method to provide their specific implementations. That way, each instance behaves correctly, and the compiler is happy. If you were to add a new concrete subclass that doesn't override the method, you'd get your exception at runtime if you tried to call that method - which would tell you that you need to implement it.</p>\n"}],"owner":{"account_id":18076496,"reputation":201,"user_id":13139607,"display_name":"Snorik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73015503,"answer_count":2,"score":4,"last_activity_date":1658168974,"creation_date":1658089014,"question_id":73015065,"body_markdown":"I have a design question. I have a class hierarchy:\r\n\r\n - AbstractEntity\r\n - NPC extends AbstractEntity implements LifeForm\r\n - Player extends AbstractEntity implements LifeForm\r\n \r\nThere is a method #moveTo(Target target).\r\nThis method exists currently in both Player and NPC.\r\n\r\nThe implemetation is the same for both classes. \r\nOnly one method called (getQueuedActions()) has a different implementation.\r\n\r\nSo, in theory, the whole method can be implemented at AbstractEntity, and the concrete difference is implemented at the child class level.\r\nBut the Java compiler says: getQueuedActions() needs to be implemented also at AbstractEntity. \r\nI could of course do an instace of check and implement accordinly. But I thought I ask here, for I think I have something wrong here.\r\n\r\nIs there a way to implement the method in Java indicating that yes, this does exist at AbstractEntity but look at the concrete (sub-)class for the real implementation?\r\nIn Smalltalk, you would do ^implementedBySubClass.\r\nTo explain, #implementedBySubClass is a way of defining a method as abstract at one level of the class hierarchy but still support a certain protocol (or interface) while not having a real implementation.\r\n\r\nIs there an equivalent in Java?","title":"Is there an equivalent to #implementedBySubclass in Java?","body":"<p>I have a design question. I have a class hierarchy:</p>\n<ul>\n<li>AbstractEntity</li>\n<li>NPC extends AbstractEntity implements LifeForm</li>\n<li>Player extends AbstractEntity implements LifeForm</li>\n</ul>\n<p>There is a method #moveTo(Target target).\nThis method exists currently in both Player and NPC.</p>\n<p>The implemetation is the same for both classes.\nOnly one method called (getQueuedActions()) has a different implementation.</p>\n<p>So, in theory, the whole method can be implemented at AbstractEntity, and the concrete difference is implemented at the child class level.\nBut the Java compiler says: getQueuedActions() needs to be implemented also at AbstractEntity.\nI could of course do an instace of check and implement accordinly. But I thought I ask here, for I think I have something wrong here.</p>\n<p>Is there a way to implement the method in Java indicating that yes, this does exist at AbstractEntity but look at the concrete (sub-)class for the real implementation?\nIn Smalltalk, you would do ^implementedBySubClass.\nTo explain, #implementedBySubClass is a way of defining a method as abstract at one level of the class hierarchy but still support a certain protocol (or interface) while not having a real implementation.</p>\n<p>Is there an equivalent in Java?</p>\n"},{"tags":["java","android","accessibility","talkback"],"owner":{"account_id":25832790,"reputation":11,"user_id":19569661,"display_name":"Chia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658168878,"creation_date":1658125866,"question_id":73018114,"body_markdown":"I want to know which comments users are currently reading and replying to on Youtube through Android Accessibility Service.\r\n\r\n```\r\n@Override\r\npublic void onAccessibilityEvent(AccessibilityEvent event) {\r\n  AccessibilityNodeInfo nodeInfo = event.getSource();\r\n  if(nodeInfo != null) {\r\n    Log.d(TAG, &quot;NodeInfo: &quot; + nodeInfo);\r\n    Log.d(TAG, &quot;NodeInfo: &quot; + nodeInfo.getContentDescription());\r\n    dfs(nodeInfo);\r\n  }\r\n  ...\r\n}\r\n```\r\n\r\nI tried using `event.getSource()` and DFS to log all the `AccessibilityNodeInfo` in `onAccessibilityEvent()` but I can&#39;t get the comment content without enabling the talkback function on the phone.  \r\nOnce the talkback function of the phone is enabled, the comment content on the phone screen could be logged with the exact same code running.\r\n\r\nDid anyone have the same problem as me?  \r\nIs there any possibility of NOT enabling the talkback function and also getting the comment content showing on the phone screen?","title":"How to get the youtube comment which user is reading through accessibility service?","body":"<p>I want to know which comments users are currently reading and replying to on Youtube through Android Accessibility Service.</p>\n<pre><code>@Override\npublic void onAccessibilityEvent(AccessibilityEvent event) {\n  AccessibilityNodeInfo nodeInfo = event.getSource();\n  if(nodeInfo != null) {\n    Log.d(TAG, &quot;NodeInfo: &quot; + nodeInfo);\n    Log.d(TAG, &quot;NodeInfo: &quot; + nodeInfo.getContentDescription());\n    dfs(nodeInfo);\n  }\n  ...\n}\n</code></pre>\n<p>I tried using <code>event.getSource()</code> and DFS to log all the <code>AccessibilityNodeInfo</code> in <code>onAccessibilityEvent()</code> but I can't get the comment content without enabling the talkback function on the phone.<br />\nOnce the talkback function of the phone is enabled, the comment content on the phone screen could be logged with the exact same code running.</p>\n<p>Did anyone have the same problem as me?<br />\nIs there any possibility of NOT enabling the talkback function and also getting the comment content showing on the phone screen?</p>\n"},{"tags":["java","oracle","ssl","database-connection","oracle-autonomous-db"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1658167444,"post_id":73026274,"comment_id":128979481,"body_markdown":"You&#39;re trying to implement TLS without key exchange? You can&#39;t have *no* key exchange: at the least the server needs to have a trusted certificate chain for the root certificate authority that matches the chain from the client certificate. You can&#39;t have a connection without that trust relationship.","body":"You&#39;re trying to implement TLS without key exchange? You can&#39;t have <i>no</i> key exchange: at the least the server needs to have a trusted certificate chain for the root certificate authority that matches the chain from the client certificate. You can&#39;t have a connection without that trust relationship."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1658168887,"post_id":73026274,"comment_id":128979968,"body_markdown":"You have this ID `CONNECTION_ID=7iI5Q14IT2qIqXB4dsgRxQ==` on client side reported. The same connection ID should be also logged by the database in one of .trc files. You can also increase logging level in listener.ora","body":"You have this ID <code>CONNECTION_ID=7iI5Q14IT2qIqXB4dsgRxQ==</code> on client side reported. The same connection ID should be also logged by the database in one of .trc files. You can also increase logging level in listener.ora"},{"owner":{"account_id":13244669,"reputation":1,"user_id":9564174,"display_name":"Alejandro Cortizo"},"score":0,"creation_date":1658170971,"post_id":73026274,"comment_id":128980610,"body_markdown":"@pmdba as it reads in Jean De Lavarene &quot;SSL With Oracle JDBC Thin Driver&quot; paper [link](https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf) and at least if I didn&#39;t read it wrong, with Diffie-Hellman encryptation method &quot;You do not need to set any “truststore” nor “keystore” in client side. However the cipher suite\nmust be forced to use Diffie-Hellman anonymous authentication&quot; for cipher purposes. Am I right?","body":"@pmdba as it reads in Jean De Lavarene &quot;SSL With Oracle JDBC Thin Driver&quot; paper <a href=\"https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf\" rel=\"nofollow noreferrer\">link</a> and at least if I didn&#39;t read it wrong, with Diffie-Hellman encryptation method &quot;You do not need to set any “truststore” nor “keystore” in client side. However the cipher suite must be forced to use Diffie-Hellman anonymous authentication&quot; for cipher purposes. Am I right?"},{"owner":{"account_id":13244669,"reputation":1,"user_id":9564174,"display_name":"Alejandro Cortizo"},"score":0,"creation_date":1658248505,"post_id":73026274,"comment_id":129002633,"body_markdown":"To include more info, I was worried of that Connection Timeout, so I did a telnet to the host OServerA at port 2484 and big surprise... the communication never happened. So I double checked the firewall realising that the communication block was coming from the router itself, I forgot to add a rule to bypass over 2484 &gt;.&lt;&quot;. Now the problem changed to &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot; message is clear, I&#39;ll be looking for a cipher suit that fits into the solution for bot server and java connection conf.","body":"To include more info, I was worried of that Connection Timeout, so I did a telnet to the host OServerA at port 2484 and big surprise... the communication never happened. So I double checked the firewall realising that the communication block was coming from the router itself, I forgot to add a rule to bypass over 2484 &gt;.&lt;&quot;. Now the problem changed to &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot; message is clear, I&#39;ll be looking for a cipher suit that fits into the solution for bot server and java connection conf."}],"owner":{"account_id":13244669,"reputation":1,"user_id":9564174,"display_name":"Alejandro Cortizo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658168854,"creation_date":1658165147,"question_id":73026274,"body_markdown":"I&#39;m trying to understand where is the problem of a connection issue I&#39;m having. Recently I&#39;ve built a Java system with multitenant database connection with plain communication (unsecure). As part of the development I need to upgrade the connection to a more secure communication because the system will link databases on demand over the internet.\r\n\r\nFor this case I&#39;m working with two Oracle databases 19c both hosted on remote servers, lets call them OServerA and OServerB which are configured to use TLS 1.2.\r\n\r\nSo as a fast idea of what goes on, this JavaPlatform connects to OServerA, OServerB, ..., OserverN indistinctly dynamicly and not bound to any datasource application.yml static definition.\r\n\r\nFrom OServerA I can reach OServerB because I did an exchanged of self-signed certificates between them. Prove of that connection success is that I can make TNSPING successfully, and logon through SQLPlus, that&#39;s the expected result. Also if I connect remotely to OserverB I can query the network protocol and I get &quot;tcps&quot; so it looks good enough.\r\n\r\n[SQLPlus connection from OServerA to OServerB with network protocol][1]\r\n\r\nSo this is at, lets call it DB level. \r\n\r\nProblems came with the multitenant connection... because it looses all sense to exchange certificates on-demand database connections, I&#39;m looking for a relative fast easy-to-use change of db connection so make that exchange of certificates is not what I&#39;m looking for. Between the extensive Oracle&#39;s doc it seems to me that the Diffie-Hellman method could fit into my solution. So, I prepared the configurations, change the way I connect with jdbc thin driver from &quot;JDBC url&quot; to &quot;Descriptor url&quot; and... my java platform never connected anymore.\r\n\r\nThe multitenant connection works neat over plain communication, port 1521 with &quot;jdbc url&quot;, but when I modify the connection logic to &quot;Descriptor url&quot;, port 2484 and set the cipher suites as a property of this datasources I get a Connection Timeout as the application tries to connect to OServerA or OServerB and everything fails.\r\n\r\nNext I add some configuration info from OServerA\r\n\r\nSQLNET.ora\r\n\r\n```SQLNET.AUTHENTICATION_SERVICES= (NTS,TCPS)\r\nSQLNET.CIPHER_SUITE= (SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_DES_CBC_SHA)\r\nSSL_CLIENT_AUTHENTICATION=FALSE\r\nSSL_VERSION=1.2\r\n\r\nNAMES.DIRECTORY_PATH= (TNSNAMES, EZCONNECT)\r\n\r\nWALLET_LOCATION = \r\n\t(SOURCE = \r\n\t  (METHOD = FILE)\r\n\t  (METHOD_DATA =\r\n\t    (DIRECTORY = C:\\Oracle\\db_home\\wallet) \r\n\t  )\r\n\t)\r\n\r\n```\r\n\r\nLISTENER.ora\r\n\r\n```\r\n\r\nSSL_CLIENT_AUTHENTICATION = FALSE\r\nADR_BASE_LISTENER = C:\\Oracle\\db_home\\log\r\n\r\nWALLET_LOCATION =\r\n  (SOURCE =\r\n    (METHOD = FILE)\r\n    (METHOD_DATA =\r\n      (DIRECTORY = C:\\Oracle\\db_home\\wallet)\r\n    )\r\n  )\r\n\r\nSID_LIST_LISTENER =\r\n  (SID_LIST =\r\n    (SID_DESC =\r\n      (SID_NAME = MAGIC)\r\n      (ORACLE_HOME = C:\\Oracle\\db_home)\r\n      (GLOBAL_DBNAME = MAGIC)\r\n    )\r\n  )\r\n\r\n\r\nLISTENER =\r\n  (DESCRIPTION_LIST =\r\n    (DESCRIPTION =\r\n      (ADDRESS = (PROTOCOL = TCPS)(HOST = DESKTOP-6B0213U)(PORT = 2484))\r\n    )\r\n    (DESCRIPTION =\r\n      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))\r\n    )\r\n    (DESCRIPTION =\r\n      (ADDRESS = (PROTOCOL = TCP)(HOST = DESKTOP-6B0213U)(PORT = 1521))\r\n    )\r\n  )\r\n\r\n```\r\nTNSNAMES.ora\r\n```\r\nMAGIC_SSL =\r\n  (DESCRIPTION =\r\n    (ADDRESS_LIST =\r\n      (ADDRESS = (PROTOCOL = TCPS)(HOST = DESKTOP-6B0213U)(PORT = 2484))\r\n    )\r\n    (CONNECT_DATA =\r\n      (SERVICE_NAME = MAGIC)\r\n    )\r\n  )\r\n\r\nRMT_XE_SSL =\r\n  (DESCRIPTION =\r\n    (ADDRESS_LIST =\r\n      (ADDRESS = (PROTOCOL = TCPS)(HOST = OServerB)(PORT = 2484))\r\n    )\r\n    (CONNECT_DATA =\r\n      (SERVICE_NAME = XE)\r\n    )\r\n  )\r\n\r\n```\r\n\r\nAs you can see, the definition inside tnsnames.ora MAGIC_SSL allows to connect to OServerA and RMT_XE_SSL allows to connect from OServerA to OServerB with TCPS as I described before.\r\n \r\nAnd finally this is how the &quot;Descriptor url&quot; looks to use inside HikariDataSource to connect from the JavaPlatform to OServerA or OServerB (OServerA in this example):\r\n\r\n```\r\njdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=OserverA)(PORT=2484))(CONNECT_DATA=(SERVICE_NAME=MAGIC)))\r\n\r\n```\r\n\r\nAs I said, multitenant works well without tcps and the only modification I made on my datasource configuration was changing the &quot;jdbc url&quot; to &quot;descriptor url&quot; and add the &quot;oracle.net.ssl_cipher_suites&quot; corresponding to Diffie-Hellman to the data source:\r\n\r\n```\r\n      HikariConfig hikariConfig = new HikariConfig();\r\n      hikariConfig.setUsername(dbSettings.getUserName());\r\n      hikariConfig.setPassword(dbSettings.getPassword());\r\n      hikariConfig.setJdbcUrl(dbSettings.JDBConnectionURL());\r\n      hikariConfig.setDriverClassName(driverClassName);\r\n      hikariConfig.setMaxLifetime(Long.parseLong(maxLifeTimeMs));\r\n      Properties dsProperties = new Properties();\r\n      dsProperties.setProperty(&quot;oracle.net.ssl_cipher_suites&quot;, &quot;(SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_RC4_128_MD5, SSL_DH_anon_WITH_DES_CBC_SHA)&quot;);\r\n      hikariConfig.setDataSourceProperties(dsProperties);\r\n      HikariDataSource dataSource = new HikariDataSource(hikariConfig);\r\n\r\n```\r\n\r\nAs per java log output, not much to say... just a poor Connection Timeout\r\n\r\n```\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;masterDataSource&#39; threw exception; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=7iI5Q14IT2qIqXB4dsgRxQ==)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        ... 21 more\r\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=7iI5Q14IT2qIqXB4dsgRxQ==)\r\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596) ~[HikariCP-4.0.3.jar:?]\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582) ~[HikariCP-4.0.3.jar:?]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:?]\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[HikariCP-4.0.3.jar:?]\r\n        at MagicBox.util.database.Utils.createOracleHikariDataSource(Utils.java:57) ~[main/:?]\r\n        at MagicBox.configuration.datasource.multiTenancy.DataSourceBasedMultiTenantConnectionProviderImpl.selectAnyDataSource(DataSourceBasedMultiTenantConnectionProviderImpl.java:34) ~[main/:?]\r\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig.masterDataSource(TenantDataSourceConfig.java:79) ~[main/:?]\r\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156.CGLIB$masterDataSource$3(&lt;generated&gt;) ~[main/:?]\r\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156$$FastClassBySpringCGLIB$$22774e9f.invoke(&lt;generated&gt;) ~[main/:?]\r\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.13.jar:5.3.13]\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.13.jar:5.3.13]\r\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156.masterDataSource(&lt;generated&gt;) ~[main/:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        ... 21 more\r\nCaused by: java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=7iI5Q14IT2qIqXB4dsgRxQ==)\r\n        at oracle.jdbc.driver.T4CConnection.handleLogonNetException(T4CConnection.java:870) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\r\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:675) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\r\n        at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:1032) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\r\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:90) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\r\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:681) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\r\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:602) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:?]\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:?]\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:?]\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:?]\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:?]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:?]\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[HikariCP-4.0.3.jar:?]\r\n        at MagicBox.util.database.Utils.createOracleHikariDataSource(Utils.java:57) ~[main/:?]\r\n        at MagicBox.configuration.datasource.multiTenancy.DataSourceBasedMultiTenantConnectionProviderImpl.selectAnyDataSource(DataSourceBasedMultiTenantConnectionProviderImpl.java:34) ~[main/:?]\r\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig.masterDataSource(TenantDataSourceConfig.java:79) ~[main/:?]\r\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156.CGLIB$masterDataSource$3(&lt;generated&gt;) ~[main/:?]\r\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156$$FastClassBySpringCGLIB$$22774e9f.invoke(&lt;generated&gt;) ~[main/:?]\r\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.13.jar:5.3.13]\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.13.jar:5.3.13]\r\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156.masterDataSource(&lt;generated&gt;) ~[main/:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\r\n   ...\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        ... 21 more\r\nCaused by: oracle.net.nt.TimeoutInterruptHandler$IOReadTimeoutException: Socket read timed out\r\n ...\r\n\r\n```\r\n\r\nDo you have any idea of what is going on with my TLS connection? Any hint to solve the problem would be much appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/Ph8TE.png","title":"Multitenant DB connection problem with Oracle TLS 1.2 Diffie-Hellman","body":"<p>I'm trying to understand where is the problem of a connection issue I'm having. Recently I've built a Java system with multitenant database connection with plain communication (unsecure). As part of the development I need to upgrade the connection to a more secure communication because the system will link databases on demand over the internet.</p>\n<p>For this case I'm working with two Oracle databases 19c both hosted on remote servers, lets call them OServerA and OServerB which are configured to use TLS 1.2.</p>\n<p>So as a fast idea of what goes on, this JavaPlatform connects to OServerA, OServerB, ..., OserverN indistinctly dynamicly and not bound to any datasource application.yml static definition.</p>\n<p>From OServerA I can reach OServerB because I did an exchanged of self-signed certificates between them. Prove of that connection success is that I can make TNSPING successfully, and logon through SQLPlus, that's the expected result. Also if I connect remotely to OserverB I can query the network protocol and I get &quot;tcps&quot; so it looks good enough.</p>\n<p><a href=\"https://i.stack.imgur.com/Ph8TE.png\" rel=\"nofollow noreferrer\">SQLPlus connection from OServerA to OServerB with network protocol</a></p>\n<p>So this is at, lets call it DB level.</p>\n<p>Problems came with the multitenant connection... because it looses all sense to exchange certificates on-demand database connections, I'm looking for a relative fast easy-to-use change of db connection so make that exchange of certificates is not what I'm looking for. Between the extensive Oracle's doc it seems to me that the Diffie-Hellman method could fit into my solution. So, I prepared the configurations, change the way I connect with jdbc thin driver from &quot;JDBC url&quot; to &quot;Descriptor url&quot; and... my java platform never connected anymore.</p>\n<p>The multitenant connection works neat over plain communication, port 1521 with &quot;jdbc url&quot;, but when I modify the connection logic to &quot;Descriptor url&quot;, port 2484 and set the cipher suites as a property of this datasources I get a Connection Timeout as the application tries to connect to OServerA or OServerB and everything fails.</p>\n<p>Next I add some configuration info from OServerA</p>\n<p>SQLNET.ora</p>\n<pre><code>SQLNET.CIPHER_SUITE= (SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_DES_CBC_SHA)\nSSL_CLIENT_AUTHENTICATION=FALSE\nSSL_VERSION=1.2\n\nNAMES.DIRECTORY_PATH= (TNSNAMES, EZCONNECT)\n\nWALLET_LOCATION = \n    (SOURCE = \n      (METHOD = FILE)\n      (METHOD_DATA =\n        (DIRECTORY = C:\\Oracle\\db_home\\wallet) \n      )\n    )\n\n</code></pre>\n<p>LISTENER.ora</p>\n<pre><code>\nSSL_CLIENT_AUTHENTICATION = FALSE\nADR_BASE_LISTENER = C:\\Oracle\\db_home\\log\n\nWALLET_LOCATION =\n  (SOURCE =\n    (METHOD = FILE)\n    (METHOD_DATA =\n      (DIRECTORY = C:\\Oracle\\db_home\\wallet)\n    )\n  )\n\nSID_LIST_LISTENER =\n  (SID_LIST =\n    (SID_DESC =\n      (SID_NAME = MAGIC)\n      (ORACLE_HOME = C:\\Oracle\\db_home)\n      (GLOBAL_DBNAME = MAGIC)\n    )\n  )\n\n\nLISTENER =\n  (DESCRIPTION_LIST =\n    (DESCRIPTION =\n      (ADDRESS = (PROTOCOL = TCPS)(HOST = DESKTOP-6B0213U)(PORT = 2484))\n    )\n    (DESCRIPTION =\n      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))\n    )\n    (DESCRIPTION =\n      (ADDRESS = (PROTOCOL = TCP)(HOST = DESKTOP-6B0213U)(PORT = 1521))\n    )\n  )\n\n</code></pre>\n<p>TNSNAMES.ora</p>\n<pre><code>MAGIC_SSL =\n  (DESCRIPTION =\n    (ADDRESS_LIST =\n      (ADDRESS = (PROTOCOL = TCPS)(HOST = DESKTOP-6B0213U)(PORT = 2484))\n    )\n    (CONNECT_DATA =\n      (SERVICE_NAME = MAGIC)\n    )\n  )\n\nRMT_XE_SSL =\n  (DESCRIPTION =\n    (ADDRESS_LIST =\n      (ADDRESS = (PROTOCOL = TCPS)(HOST = OServerB)(PORT = 2484))\n    )\n    (CONNECT_DATA =\n      (SERVICE_NAME = XE)\n    )\n  )\n\n</code></pre>\n<p>As you can see, the definition inside tnsnames.ora MAGIC_SSL allows to connect to OServerA and RMT_XE_SSL allows to connect from OServerA to OServerB with TCPS as I described before.</p>\n<p>And finally this is how the &quot;Descriptor url&quot; looks to use inside HikariDataSource to connect from the JavaPlatform to OServerA or OServerB (OServerA in this example):</p>\n<pre><code>jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=OserverA)(PORT=2484))(CONNECT_DATA=(SERVICE_NAME=MAGIC)))\n\n</code></pre>\n<p>As I said, multitenant works well without tcps and the only modification I made on my datasource configuration was changing the &quot;jdbc url&quot; to &quot;descriptor url&quot; and add the &quot;oracle.net.ssl_cipher_suites&quot; corresponding to Diffie-Hellman to the data source:</p>\n<pre><code>      HikariConfig hikariConfig = new HikariConfig();\n      hikariConfig.setUsername(dbSettings.getUserName());\n      hikariConfig.setPassword(dbSettings.getPassword());\n      hikariConfig.setJdbcUrl(dbSettings.JDBConnectionURL());\n      hikariConfig.setDriverClassName(driverClassName);\n      hikariConfig.setMaxLifetime(Long.parseLong(maxLifeTimeMs));\n      Properties dsProperties = new Properties();\n      dsProperties.setProperty(&quot;oracle.net.ssl_cipher_suites&quot;, &quot;(SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_RC4_128_MD5, SSL_DH_anon_WITH_DES_CBC_SHA)&quot;);\n      hikariConfig.setDataSourceProperties(dsProperties);\n      HikariDataSource dataSource = new HikariDataSource(hikariConfig);\n\n</code></pre>\n<p>As per java log output, not much to say... just a poor Connection Timeout</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'masterDataSource' threw exception; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=7iI5Q14IT2qIqXB4dsgRxQ==)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 21 more\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=7iI5Q14IT2qIqXB4dsgRxQ==)\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596) ~[HikariCP-4.0.3.jar:?]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582) ~[HikariCP-4.0.3.jar:?]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:?]\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[HikariCP-4.0.3.jar:?]\n        at MagicBox.util.database.Utils.createOracleHikariDataSource(Utils.java:57) ~[main/:?]\n        at MagicBox.configuration.datasource.multiTenancy.DataSourceBasedMultiTenantConnectionProviderImpl.selectAnyDataSource(DataSourceBasedMultiTenantConnectionProviderImpl.java:34) ~[main/:?]\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig.masterDataSource(TenantDataSourceConfig.java:79) ~[main/:?]\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156.CGLIB$masterDataSource$3(&lt;generated&gt;) ~[main/:?]\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156$$FastClassBySpringCGLIB$$22774e9f.invoke(&lt;generated&gt;) ~[main/:?]\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.13.jar:5.3.13]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.13.jar:5.3.13]\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156.masterDataSource(&lt;generated&gt;) ~[main/:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 21 more\nCaused by: java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=7iI5Q14IT2qIqXB4dsgRxQ==)\n        at oracle.jdbc.driver.T4CConnection.handleLogonNetException(T4CConnection.java:870) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:675) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\n        at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:1032) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:90) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:681) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:602) ~[ojdbc8-21.1.0.0.jar:21.1.0.0.0]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:?]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:?]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:?]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:?]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:?]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:?]\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[HikariCP-4.0.3.jar:?]\n        at MagicBox.util.database.Utils.createOracleHikariDataSource(Utils.java:57) ~[main/:?]\n        at MagicBox.configuration.datasource.multiTenancy.DataSourceBasedMultiTenantConnectionProviderImpl.selectAnyDataSource(DataSourceBasedMultiTenantConnectionProviderImpl.java:34) ~[main/:?]\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig.masterDataSource(TenantDataSourceConfig.java:79) ~[main/:?]\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156.CGLIB$masterDataSource$3(&lt;generated&gt;) ~[main/:?]\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156$$FastClassBySpringCGLIB$$22774e9f.invoke(&lt;generated&gt;) ~[main/:?]\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.13.jar:5.3.13]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.13.jar:5.3.13]\n        at MagicBox.configuration.datasource.multiTenancy.TenantDataSourceConfig$$EnhancerBySpringCGLIB$$abe3d156.masterDataSource(&lt;generated&gt;) ~[main/:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\n   ...\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 21 more\nCaused by: oracle.net.nt.TimeoutInterruptHandler$IOReadTimeoutException: Socket read timed out\n ...\n\n</code></pre>\n<p>Do you have any idea of what is going on with my TLS connection? Any hint to solve the problem would be much appreciated.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":3,"creation_date":1658160246,"post_id":73025308,"comment_id":128976919,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":24755238,"reputation":15,"user_id":18640236,"display_name":"Shawn"},"score":0,"creation_date":1658160656,"post_id":73025308,"comment_id":128977078,"body_markdown":"Hi sorry this is a new account I don&#39;t think I am allowed to insert images yet","body":"Hi sorry this is a new account I don&#39;t think I am allowed to insert images yet"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":3,"creation_date":1658165699,"post_id":73025308,"comment_id":128978864,"body_markdown":"You should _not_ insert images, but rather their text _as text_. Read the article I&#39;ve linked for the reason","body":"You should <i>not</i> insert images, but rather their text <i>as text</i>. Read the article I&#39;ve linked for the reason"}],"answers":[{"tags":[],"owner":{"account_id":22083395,"reputation":61,"user_id":16342635,"display_name":"HelloWorld123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658163924,"creation_date":1658163924,"answer_id":73026064,"question_id":73025308,"body_markdown":"As it seems that you are not using a build tool like Maven or Gradle, you have to make the jar part of your classpath (to get instructions on how to do that, see https://stackoverflow.com/a/49515986/16342635.\r\n\r\nHowever, I would recommend getting familiar with a build tool like Maven and to manage your dependencies (your &quot;jar files&quot;) with that.","title":"error: package org.apache.poi.hssf.usermodel does not exist","body":"<p>As it seems that you are not using a build tool like Maven or Gradle, you have to make the jar part of your classpath (to get instructions on how to do that, see <a href=\"https://stackoverflow.com/a/49515986/16342635\">https://stackoverflow.com/a/49515986/16342635</a>.</p>\n<p>However, I would recommend getting familiar with a build tool like Maven and to manage your dependencies (your &quot;jar files&quot;) with that.</p>\n"}],"owner":{"account_id":24755238,"reputation":15,"user_id":18640236,"display_name":"Shawn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73026064,"answer_count":1,"score":1,"last_activity_date":1658168774,"creation_date":1658160080,"question_id":73025308,"body_markdown":"I have this app for XML and flatfile generation in the src folder and I have the jarFiles in Jarfiles folder.\r\n\r\nI was trying to compile my java file and I get this error: `package org.apache.poi.hssf.usermodel does not exist`, I am importing this in my java file and have the jar file in the src folder. How can I fix this problem?\r\n\r\nUpdate: I tried to include the jarfiles as the answer indicated with this line in cmd `javac -cp &quot;jarFiles/*&quot; Xls_Reader.java`, it seems that I am still having the same error\r\n","title":"error: package org.apache.poi.hssf.usermodel does not exist","body":"<p>I have this app for XML and flatfile generation in the src folder and I have the jarFiles in Jarfiles folder.</p>\n<p>I was trying to compile my java file and I get this error: <code>package org.apache.poi.hssf.usermodel does not exist</code>, I am importing this in my java file and have the jar file in the src folder. How can I fix this problem?</p>\n<p>Update: I tried to include the jarfiles as the answer indicated with this line in cmd <code>javac -cp &quot;jarFiles/*&quot; Xls_Reader.java</code>, it seems that I am still having the same error</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":14358321,"reputation":465,"user_id":10371480,"display_name":"Niraj Jha"},"score":0,"creation_date":1657991864,"post_id":73004258,"comment_id":128943396,"body_markdown":"Can you check your scan package name in ScheduleApp class?","body":"Can you check your scan package name in ScheduleApp class?"},{"owner":{"account_id":3174834,"reputation":490,"user_id":2682968,"accept_rate":25,"display_name":"Seth D. Fulmer"},"score":0,"creation_date":1658011169,"post_id":73004258,"comment_id":128946580,"body_markdown":"I added some packages since I posted the question - still not fixing the problem though.  I have now &quot;net.draconia.scheduler.dao&quot;, &quot;net.draconia.scheduler.controller&quot; - I may try adding my beans folder as there are JPA annotations there to see if that helps - I had created a barebones test program fresh scrach (no beans or DAO and it hit the function - added the bean, no change, added the DAO and it complained that the DAO class was not present in the bean factory so I added to that and thought maybe it would fix it in the original project, nope :-(","body":"I added some packages since I posted the question - still not fixing the problem though.  I have now &quot;net.draconia.scheduler.dao&quot;, &quot;net.draconia.scheduler.controller&quot; - I may try adding my beans folder as there are JPA annotations there to see if that helps - I had created a barebones test program fresh scrach (no beans or DAO and it hit the function - added the bean, no change, added the DAO and it complained that the DAO class was not present in the bean factory so I added to that and thought maybe it would fix it in the original project, nope :-("}],"answers":[{"tags":[],"owner":{"account_id":17434662,"reputation":77,"user_id":12637910,"display_name":"Carlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658167635,"creation_date":1658167635,"answer_id":73026751,"question_id":73004258,"body_markdown":"My guess is that you&#39;re mixing things from Spring and Spring boot, and that&#39;s getting problems on loading beans, as you&#39;re probably changing the annotations load order or loading other beans rather than spring boot defaults as expected. For example, you `implements WebMvcConfigurer`, but you aren&#39;t providing any WebMvc Configuration, like a `ViewResolver` bean\r\n\r\nMy advice is to follow this guide: https://spring.io/guides/gs/spring-boot/\r\n\r\nand use only the annotations from spring boot if using spring boot, or spring if using spring (they&#39;re similar, but not exactly the same, configuration is different).\r\n\r\nAnyways, you can check loaded beans in Spring application context (Inject it in Application class) with `ctx.getBeanDefinitionNames()` method and see if your controller is there (i guess not).","title":"Debugging SpringBoot MVC service application 404 error","body":"<p>My guess is that you're mixing things from Spring and Spring boot, and that's getting problems on loading beans, as you're probably changing the annotations load order or loading other beans rather than spring boot defaults as expected. For example, you <code>implements WebMvcConfigurer</code>, but you aren't providing any WebMvc Configuration, like a <code>ViewResolver</code> bean</p>\n<p>My advice is to follow this guide: <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot/</a></p>\n<p>and use only the annotations from spring boot if using spring boot, or spring if using spring (they're similar, but not exactly the same, configuration is different).</p>\n<p>Anyways, you can check loaded beans in Spring application context (Inject it in Application class) with <code>ctx.getBeanDefinitionNames()</code> method and see if your controller is there (i guess not).</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658168761,"creation_date":1658168761,"answer_id":73026941,"question_id":73004258,"body_markdown":"By looking into code, my first impression is that, you have some typo in here:\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;net.draconia.schedule.controller&quot;})\r\n\r\n\r\nYour controller class package name has `net.draconia.schedule.controllers`.\r\n\r\nSo can you please correct your `scanBasePackages` with proper package name. \r\nIf that is not the case, please update full stack trace along with `GET` request which you are submitting into application. Will take a look &amp; update answer accordingly. \r\n","title":"Debugging SpringBoot MVC service application 404 error","body":"<p>By looking into code, my first impression is that, you have some typo in here:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;net.draconia.schedule.controller&quot;})\n</code></pre>\n<p>Your controller class package name has <code>net.draconia.schedule.controllers</code>.</p>\n<p>So can you please correct your <code>scanBasePackages</code> with proper package name.\nIf that is not the case, please update full stack trace along with <code>GET</code> request which you are submitting into application. Will take a look &amp; update answer accordingly.</p>\n"}],"owner":{"account_id":3174834,"reputation":490,"user_id":2682968,"accept_rate":25,"display_name":"Seth D. Fulmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1658168761,"creation_date":1657974899,"question_id":73004258,"body_markdown":"A web application I&#39;ve been working on recently the past like 2 weeks maybe for whatever reason when I finally tested it - won&#39;t seem to even enter the method that I have to return a JSON list of objects.  I have included the Jackson library and Spring Boot Web, Tomcat, Data-JPA, Hibernate, MySQL, and a library to allow me to access JSP files.  The index.jsp comes up but I almost feel like Spring Boot is giving me that free of charge as it&#39;s not even entering **that** method.  I have been having the issue for a few days but trying to resolve it on my own - I found another answer that suggested to put a breakpoint inside one of the Spring classes but when I &quot;debugged&quot; it through Eclipse, it didn&#39;t even stop at that class - something about pattern matching - One answer suggested adding a context to the application.properties file - didn&#39;t help.  I&#39;ve reduced it to as simple as I think I can get it.  Can anyone tell me what I might be doing wrong?  Before my code, the project is on Github at: https://github.com/sfulmer/Scheduler.git\r\n\r\nHere&#39;s my controller:\r\n\r\n    package net.draconia.schedule.controllers;\r\n    \r\n    import java.util.List;\r\n    \r\n    import net.draconia.schedule.beans.Event;\r\n    \r\n    import net.draconia.schedule.dao.EventDAO;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller\r\n    public class ScheduleController\r\n    {\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(ScheduleController.class);\r\n    \t\r\n    \t@Autowired\r\n    \tprivate EventDAO mObjDAO;\r\n    \t\r\n    \tprotected EventDAO getDAO()\r\n    \t{\r\n    \t\treturn(mObjDAO);\r\n    \t}\r\n    \t\r\n    \t//@GetMapping(&quot;/events&quot;)\r\n    \t@RequestMapping(value = &quot;events&quot;, method = RequestMethod.GET)\r\n    \tpublic @ResponseBody List&lt;Event&gt; getEvents()\r\n    \t{\r\n    \t\tlogger.debug(&quot;I got here&quot;);\r\n    \t\t\r\n    \t\treturn(getDAO().getList());\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/&quot;)\r\n    \tpublic String index()\r\n    \t{\r\n    \t\treturn(&quot;index&quot;);\r\n    \t}\r\n    }\r\n\r\nHere is the DAO interface - I&#39;ll show the class if necessary but this is what the controller looks at:\r\n\r\n    package net.draconia.schedule.dao;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.persistence.EntityNotFoundException;\r\n    \r\n    import net.draconia.schedule.beans.Event;\r\n    \r\n    public interface EventDAO\r\n    {\r\n    \tpublic Event getEventById(final long lId) throws EntityNotFoundException;\r\n    \tpublic List&lt;Event&gt; getList();\r\n    \tpublic void remove(final Event objEvent);\r\n    \tpublic void removeById(final long lId);\r\n    \tpublic Event save(final Event objEvent);\r\n    }\r\n\r\nThe Event class is so long but if I need to include it, I will.  The application.properties file is here:\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/schedule\r\n    spring.datasource.username = root\r\n    spring.datasource.password = R3g1n@ M1lL$ 1$ My Qu3eN!\r\n    spring.mvc.view.prefix: /WEB-INF/jsp/\r\n    spring.mvc.view.suffix: .jsp\r\n    server.servlet.contextPath=/scheduler\r\n\r\nand here is my Application class(with the SpringBootApplication annotation):\r\n\r\n    package net.draconia.schedule;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    \r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    \r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @SpringBootApplication(scanBasePackages = {&quot;net.draconia.schedule.controller&quot;})\r\n    public class ScheduleApp implements WebMvcConfigurer\r\n    {\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder)\r\n    \t{\r\n            return(builder.sources(ScheduleApp.class));\r\n        }\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tSpringApplication.run(ScheduleApp.class, args);\r\n    \t}\r\n    }\r\n\r\nI&#39;m relatively new to Spring Boot but haven&#39;t ever ran into this problem ever before as I work with it at work and it works fine but we use entirely REST services there and I am using JSP files as well as sorta end-points that respond with JSON but you can&#39;t respond from REST services with JSP views so unfortunately I can&#39;t copy work&#39;s project to get that working or I would *sigh*  Any thoughts on how I can get this working or what I am omitting?","title":"Debugging SpringBoot MVC service application 404 error","body":"<p>A web application I've been working on recently the past like 2 weeks maybe for whatever reason when I finally tested it - won't seem to even enter the method that I have to return a JSON list of objects.  I have included the Jackson library and Spring Boot Web, Tomcat, Data-JPA, Hibernate, MySQL, and a library to allow me to access JSP files.  The index.jsp comes up but I almost feel like Spring Boot is giving me that free of charge as it's not even entering <strong>that</strong> method.  I have been having the issue for a few days but trying to resolve it on my own - I found another answer that suggested to put a breakpoint inside one of the Spring classes but when I &quot;debugged&quot; it through Eclipse, it didn't even stop at that class - something about pattern matching - One answer suggested adding a context to the application.properties file - didn't help.  I've reduced it to as simple as I think I can get it.  Can anyone tell me what I might be doing wrong?  Before my code, the project is on Github at: <a href=\"https://github.com/sfulmer/Scheduler.git\" rel=\"nofollow noreferrer\">https://github.com/sfulmer/Scheduler.git</a></p>\n<p>Here's my controller:</p>\n<pre><code>package net.draconia.schedule.controllers;\n\nimport java.util.List;\n\nimport net.draconia.schedule.beans.Event;\n\nimport net.draconia.schedule.dao.EventDAO;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport org.springframework.stereotype.Controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class ScheduleController\n{\n    private static final Logger logger = LoggerFactory.getLogger(ScheduleController.class);\n    \n    @Autowired\n    private EventDAO mObjDAO;\n    \n    protected EventDAO getDAO()\n    {\n        return(mObjDAO);\n    }\n    \n    //@GetMapping(&quot;/events&quot;)\n    @RequestMapping(value = &quot;events&quot;, method = RequestMethod.GET)\n    public @ResponseBody List&lt;Event&gt; getEvents()\n    {\n        logger.debug(&quot;I got here&quot;);\n        \n        return(getDAO().getList());\n    }\n    \n    @GetMapping(&quot;/&quot;)\n    public String index()\n    {\n        return(&quot;index&quot;);\n    }\n}\n</code></pre>\n<p>Here is the DAO interface - I'll show the class if necessary but this is what the controller looks at:</p>\n<pre><code>package net.draconia.schedule.dao;\n\nimport java.util.List;\n\nimport javax.persistence.EntityNotFoundException;\n\nimport net.draconia.schedule.beans.Event;\n\npublic interface EventDAO\n{\n    public Event getEventById(final long lId) throws EntityNotFoundException;\n    public List&lt;Event&gt; getList();\n    public void remove(final Event objEvent);\n    public void removeById(final long lId);\n    public Event save(final Event objEvent);\n}\n</code></pre>\n<p>The Event class is so long but if I need to include it, I will.  The application.properties file is here:</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/schedule\nspring.datasource.username = root\nspring.datasource.password = R3g1n@ M1lL$ 1$ My Qu3eN!\nspring.mvc.view.prefix: /WEB-INF/jsp/\nspring.mvc.view.suffix: .jsp\nserver.servlet.contextPath=/scheduler\n</code></pre>\n<p>and here is my Application class(with the SpringBootApplication annotation):</p>\n<pre><code>package net.draconia.schedule;\n\nimport org.springframework.boot.SpringApplication;\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\n\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@SpringBootApplication(scanBasePackages = {&quot;net.draconia.schedule.controller&quot;})\npublic class ScheduleApp implements WebMvcConfigurer\n{\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder)\n    {\n        return(builder.sources(ScheduleApp.class));\n    }\n    \n    public static void main(String[] args)\n    {\n        SpringApplication.run(ScheduleApp.class, args);\n    }\n}\n</code></pre>\n<p>I'm relatively new to Spring Boot but haven't ever ran into this problem ever before as I work with it at work and it works fine but we use entirely REST services there and I am using JSP files as well as sorta end-points that respond with JSON but you can't respond from REST services with JSP views so unfortunately I can't copy work's project to get that working or I would <em>sigh</em>  Any thoughts on how I can get this working or what I am omitting?</p>\n"},{"tags":["javascript","java","javabeans","apache-kafka-connect","datadog"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657153202,"creation_date":1657153202,"answer_id":72891078,"question_id":72887792,"body_markdown":"You should configure Datadog Agent to do JMX fetching. Only then will you be able to export Connect worker and Connector Mbean metrics. \r\n\r\nhttps://docs.datadoghq.com/integrations/java/?tabs=host","title":"Apache Kafka Connector Monitoring and Alerting using Datadog required Configuration","body":"<p>You should configure Datadog Agent to do JMX fetching. Only then will you be able to export Connect worker and Connector Mbean metrics.</p>\n<p><a href=\"https://docs.datadoghq.com/integrations/java/?tabs=host\" rel=\"nofollow noreferrer\">https://docs.datadoghq.com/integrations/java/?tabs=host</a></p>\n"}],"owner":{"account_id":22559695,"reputation":153,"user_id":16747499,"display_name":"Austin Jackson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658167709,"creation_date":1657129047,"question_id":72887792,"body_markdown":"[![enter image description here][1]][1]We needed help in implementing the watchdog for Snowflake Kafka connector:\r\n\r\nHowever, was able to go ahead and implement as per the standards of datadog\r\nBut however kafka connector and its related statistics are not visible in this.\r\n\r\nBelow link has helped for the Snowflake based database and was able to configure successfully, but nothing related to Kafka Connector is present in this.\r\n\r\nhttps://docs.datadoghq.com/integrations/snowflake/#snowflake-custom-queries\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4RB3j.png","title":"Apache Kafka Connector Monitoring and Alerting using Datadog required Configuration","body":"<p><a href=\"https://i.stack.imgur.com/4RB3j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4RB3j.png\" alt=\"enter image description here\" /></a>We needed help in implementing the watchdog for Snowflake Kafka connector:</p>\n<p>However, was able to go ahead and implement as per the standards of datadog\nBut however kafka connector and its related statistics are not visible in this.</p>\n<p>Below link has helped for the Snowflake based database and was able to configure successfully, but nothing related to Kafka Connector is present in this.</p>\n<p><a href=\"https://docs.datadoghq.com/integrations/snowflake/#snowflake-custom-queries\" rel=\"nofollow noreferrer\">https://docs.datadoghq.com/integrations/snowflake/#snowflake-custom-queries</a></p>\n"},{"tags":["java","android","parse-platform","parse-android-sdk"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1658130825,"post_id":73018621,"comment_id":128965185,"body_markdown":"Querypost will return data sometimes later... Without refresh are you getting data or not...","body":"Querypost will return data sometimes later... Without refresh are you getting data or not..."},{"owner":{"account_id":25832826,"reputation":1,"user_id":19569688,"display_name":"Paul Leung"},"score":0,"creation_date":1658163463,"post_id":73018621,"comment_id":128978093,"body_markdown":"Without refresh I am getting no data.","body":"Without refresh I am getting no data."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1658164118,"post_id":73018621,"comment_id":128978321,"body_markdown":"What is inside adapter.clear()","body":"What is inside adapter.clear()"},{"owner":{"account_id":25832826,"reputation":1,"user_id":19569688,"display_name":"Paul Leung"},"score":0,"creation_date":1658165003,"post_id":73018621,"comment_id":128978608,"body_markdown":"public void clear() {\n        posts.clear();\n        notifyDataSetChanged();\n    }","body":"public void clear() {         posts.clear();         notifyDataSetChanged();     }"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1658165867,"post_id":73018621,"comment_id":128978927,"body_markdown":"I&#39;m not sure. May be some delay or something replace allPosts.clear() instead of adapter.clear();","body":"I&#39;m not sure. May be some delay or something replace allPosts.clear() instead of adapter.clear();"}],"owner":{"account_id":25832826,"reputation":1,"user_id":19569688,"display_name":"Paul Leung"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658167570,"creation_date":1658129104,"question_id":73018621,"body_markdown":"I am trying to fetch data from my Parse database and display it into my RecyclerView. Upon entering the  Fragment, the RecyclerView displays no data. It isn&#39;t until I Swipe Refresh the feed that the items are accurately displayed in the RecyclerView. How can I make the RecyclerView have the items already initialized upon entering the Fragment?\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        placeName = view.findViewById(R.id.profileEstablishmentName);\r\n        placeAddress = view.findViewById(R.id.restroomAddressInfo);\r\n        placeRating = view.findViewById(R.id.ratingBar);\r\n        rvFeed = view.findViewById(R.id.rvRestaurant);\r\n\r\n        swipeContainer = view.findViewById(R.id.swipeContainer);\r\n        swipeContainer.setColorSchemeResources(android.R.color.holo_blue_bright,\r\n                android.R.color.holo_green_light,\r\n                android.R.color.holo_orange_light,\r\n                android.R.color.holo_red_light);\r\n        swipeContainer.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() { queryPosts(); }\r\n        });\r\n\r\n\r\n        allPosts = new ArrayList&lt;&gt;();\r\n        adapter = new PostsAdapter(getContext(), allPosts);\r\n        rvFeed.setAdapter(adapter);\r\n        rvFeed.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        queryPosts();\r\n        setHasOptionsMenu(true);\r\n    }\r\n\r\nParse Query:\r\n\r\n    protected void queryPosts(){\r\n        ParseQuery&lt;Post&gt; query = ParseQuery.getQuery(Post.class);\r\n        query.include(Post.KEY_USER);\r\n        query.include(Post.KEY_PLACE_NAME);\r\n\r\n        //Constraint to only see posts of the selected Restaurant\r\n        query.whereEqualTo(Post.KEY_PLACE_NAME, placeName.getText().toString());\r\n        query.setLimit(20);\r\n\r\n        //Filters the order of the posts based on the time created key (newest on top)\r\n        query.addDescendingOrder(Post.KEY_CREATED_KEY);\r\n\r\n        query.findInBackground(new FindCallback&lt;Post&gt;() {\r\n            @Override\r\n            public void done(List&lt;Post&gt; posts, ParseException e) {\r\n                if (e != null) {\r\n                    Log.e(TAG, &quot;Issue with getting posts&quot;, e);\r\n                    return;\r\n                }\r\n\r\n                for(Post post : posts){\r\n                    Log.i(TAG, &quot;Post: &quot; + post.getPlaceName());\r\n                }\r\n\r\n                adapter.clear();\r\n                allPosts.addAll(posts);\r\n                adapter.notifyDataSetChanged();\r\n                swipeContainer.setRefreshing(false);\r\n            }\r\n        });\r\n    }\r\n\r\nPostAdapter: \r\n\r\n    public class PostsAdapter extends RecyclerView.Adapter&lt;PostsAdapter.ViewHolder&gt;{\r\n\r\n    private Context context;\r\n    private List&lt;Post&gt; posts;\r\n\r\n    public PostsAdapter(Context context, List&lt;Post&gt; posts){\r\n        this.context = context;\r\n        this.posts = posts;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.item_post, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        Post post = posts.get(position);\r\n        holder.bind(post);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return posts.size();\r\n    }\r\n\r\n    public void clear() {\r\n        posts.clear();\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    // Add a list of items -- change to type used\r\n    public void addAll(List&lt;Post&gt; list) {\r\n        posts.addAll(list);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    class ViewHolder extends RecyclerView.ViewHolder{\r\n        private TextView tvUsername;\r\n        private TextView tvDescription;\r\n        private TextView tvPlaceName;\r\n        private ImageView ivImage;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvUsername = itemView.findViewById(R.id.username);\r\n            tvPlaceName = itemView.findViewById(R.id.placeName);\r\n            tvDescription = itemView.findViewById(R.id.reviewDescription);\r\n            ivImage = itemView.findViewById(R.id.ivImage);\r\n\r\n        }\r\n\r\n        public void bind(Post post) {\r\n            //Bind the post data to the view elements\r\n            tvDescription.setText(post.getDescription());\r\n            tvUsername.setText(&quot;@&quot; + post.getUser().getUsername());\r\n            tvPlaceName.setText(post.getPlaceName());\r\n            ParseFile image = post.getImage();\r\n            if (image != null) {\r\n                Glide.with(context).load(post.getImage().getUrl()).into(ivImage);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"RecyclerView only shows items after Swipe Refresh","body":"<p>I am trying to fetch data from my Parse database and display it into my RecyclerView. Upon entering the  Fragment, the RecyclerView displays no data. It isn't until I Swipe Refresh the feed that the items are accurately displayed in the RecyclerView. How can I make the RecyclerView have the items already initialized upon entering the Fragment?</p>\n<pre><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    placeName = view.findViewById(R.id.profileEstablishmentName);\n    placeAddress = view.findViewById(R.id.restroomAddressInfo);\n    placeRating = view.findViewById(R.id.ratingBar);\n    rvFeed = view.findViewById(R.id.rvRestaurant);\n\n    swipeContainer = view.findViewById(R.id.swipeContainer);\n    swipeContainer.setColorSchemeResources(android.R.color.holo_blue_bright,\n            android.R.color.holo_green_light,\n            android.R.color.holo_orange_light,\n            android.R.color.holo_red_light);\n    swipeContainer.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n        @Override\n        public void onRefresh() { queryPosts(); }\n    });\n\n\n    allPosts = new ArrayList&lt;&gt;();\n    adapter = new PostsAdapter(getContext(), allPosts);\n    rvFeed.setAdapter(adapter);\n    rvFeed.setLayoutManager(new LinearLayoutManager(getContext()));\n    queryPosts();\n    setHasOptionsMenu(true);\n}\n</code></pre>\n<p>Parse Query:</p>\n<pre><code>protected void queryPosts(){\n    ParseQuery&lt;Post&gt; query = ParseQuery.getQuery(Post.class);\n    query.include(Post.KEY_USER);\n    query.include(Post.KEY_PLACE_NAME);\n\n    //Constraint to only see posts of the selected Restaurant\n    query.whereEqualTo(Post.KEY_PLACE_NAME, placeName.getText().toString());\n    query.setLimit(20);\n\n    //Filters the order of the posts based on the time created key (newest on top)\n    query.addDescendingOrder(Post.KEY_CREATED_KEY);\n\n    query.findInBackground(new FindCallback&lt;Post&gt;() {\n        @Override\n        public void done(List&lt;Post&gt; posts, ParseException e) {\n            if (e != null) {\n                Log.e(TAG, &quot;Issue with getting posts&quot;, e);\n                return;\n            }\n\n            for(Post post : posts){\n                Log.i(TAG, &quot;Post: &quot; + post.getPlaceName());\n            }\n\n            adapter.clear();\n            allPosts.addAll(posts);\n            adapter.notifyDataSetChanged();\n            swipeContainer.setRefreshing(false);\n        }\n    });\n}\n</code></pre>\n<p>PostAdapter:</p>\n<pre><code>public class PostsAdapter extends RecyclerView.Adapter&lt;PostsAdapter.ViewHolder&gt;{\n\nprivate Context context;\nprivate List&lt;Post&gt; posts;\n\npublic PostsAdapter(Context context, List&lt;Post&gt; posts){\n    this.context = context;\n    this.posts = posts;\n}\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(context).inflate(R.layout.item_post, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    Post post = posts.get(position);\n    holder.bind(post);\n}\n\n@Override\npublic int getItemCount() {\n    return posts.size();\n}\n\npublic void clear() {\n    posts.clear();\n    notifyDataSetChanged();\n}\n\n// Add a list of items -- change to type used\npublic void addAll(List&lt;Post&gt; list) {\n    posts.addAll(list);\n    notifyDataSetChanged();\n}\n\nclass ViewHolder extends RecyclerView.ViewHolder{\n    private TextView tvUsername;\n    private TextView tvDescription;\n    private TextView tvPlaceName;\n    private ImageView ivImage;\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        tvUsername = itemView.findViewById(R.id.username);\n        tvPlaceName = itemView.findViewById(R.id.placeName);\n        tvDescription = itemView.findViewById(R.id.reviewDescription);\n        ivImage = itemView.findViewById(R.id.ivImage);\n\n    }\n\n    public void bind(Post post) {\n        //Bind the post data to the view elements\n        tvDescription.setText(post.getDescription());\n        tvUsername.setText(&quot;@&quot; + post.getUser().getUsername());\n        tvPlaceName.setText(post.getPlaceName());\n        ParseFile image = post.getImage();\n        if (image != null) {\n            Glide.with(context).load(post.getImage().getUrl()).into(ivImage);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1658166888,"post_id":73026549,"comment_id":128979293,"body_markdown":"How about `eq(x.class)`?","body":"How about <code>eq(x.class)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658167359,"creation_date":1658167359,"answer_id":73026689,"question_id":73026549,"body_markdown":"&lt;code&gt;Mockito.when(anyString(), anyString(), eq(x.class)).thenReturn(...)&lt;/code&gt; does the job. \r\n\r\nI would however advise against using too broad matchers such as &lt;code&gt;anyString&lt;/code&gt; und would recommend something along the lines of &lt;code&gt;Mockito.when(eq(&quot;first&quot;), eq(&quot;second&quot;), eq(x.class)).thenReturn(...)&lt;/code&gt; This way also the expected parameter values are tested.\r\n\r\n","title":"What kind of syntax is expected for a .class parameter in Mockito","body":"<p><code>Mockito.when(anyString(), anyString(), eq(x.class)).thenReturn(...)</code> does the job.</p>\n<p>I would however advise against using too broad matchers such as <code>anyString</code> und would recommend something along the lines of <code>Mockito.when(eq(&quot;first&quot;), eq(&quot;second&quot;), eq(x.class)).thenReturn(...)</code> This way also the expected parameter values are tested.</p>\n"}],"owner":{"account_id":25817046,"reputation":3,"user_id":19556825,"display_name":"user19556825"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73026689,"answer_count":1,"score":0,"last_activity_date":1658167359,"creation_date":1658166625,"question_id":73026549,"body_markdown":"I have a method that is defined like this \r\nMethod(String, String, Something.class)\r\nSomething can be x or y\r\nI want to test Method(&quot;&quot;,&quot;&quot;,x.class) but not Method(&quot;&quot;,&quot;&quot;,y.class)(which is also thrown in the same method) so I cannot use Mockito.when(ArgumentMatchers.anyString(),ArgumentMatchers.anyString(),ArgumentMatchers.any()).thenReturn(/*..*/);\r\n\r\nI need to know what to type in place of ArgumentMatchers.any() or within it so that Mockito doesn&#39;t  attempt to convert x to y neither of which are interchangeable;","title":"What kind of syntax is expected for a .class parameter in Mockito","body":"<p>I have a method that is defined like this\nMethod(String, String, Something.class)\nSomething can be x or y\nI want to test Method(&quot;&quot;,&quot;&quot;,x.class) but not Method(&quot;&quot;,&quot;&quot;,y.class)(which is also thrown in the same method) so I cannot use Mockito.when(ArgumentMatchers.anyString(),ArgumentMatchers.anyString(),ArgumentMatchers.any()).thenReturn(/<em>..</em>/);</p>\n<p>I need to know what to type in place of ArgumentMatchers.any() or within it so that Mockito doesn't  attempt to convert x to y neither of which are interchangeable;</p>\n"},{"tags":["java","ubuntu","intellij-idea","sdk"],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658167137,"creation_date":1658167137,"answer_id":73026645,"question_id":73026587,"body_markdown":"That&#39;s because you&#39;ve installed **JRE** instead of **JDK**.\r\nsee: https://stackoverflow.com/questions/1906445/what-is-the-difference-between-jdk-and-jre\r\n\r\nJust try `sudo apt install openjdk-17-jdk`","title":"IntelliJ won&#39;t recognize JDK on Ubuntu","body":"<p>That's because you've installed <strong>JRE</strong> instead of <strong>JDK</strong>.\nsee: <a href=\"https://stackoverflow.com/questions/1906445/what-is-the-difference-between-jdk-and-jre\">What is the difference between JDK and JRE?</a></p>\n<p>Just try <code>sudo apt install openjdk-17-jdk</code></p>\n"}],"owner":{"account_id":25660587,"reputation":41,"user_id":19426378,"display_name":"VichynewSTB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658167137,"creation_date":1658166819,"question_id":73026587,"body_markdown":"I installed `openjdk` using the command:\r\n\r\n    sudo apt install openjdk-11-jre-headless\r\n\r\n`java -version` command correctly displays the installed package\r\n\r\n    openjdk 11.0.15 2022-04-19\r\n    OpenJDK Runtime Environment (build 11.0.15+10-Ubuntu-0ubuntu0.22.04.1)\r\n    OpenJDK 64-Bit Server VM (build 11.0.15+10-Ubuntu-0ubuntu0.22.04.1, mixed mode, sharing)\r\n\r\nHowever, when I open the IntelliJ IDEA environment, and want to run the first project, the environment does not detect the sdk \r\n\r\nShould I configure something else beforehand, I haven&#39;t had much experience with Ubuntu before, for comparison in windows using the command `-java version` I get this message: completely different from what I get on ubuntu and everything works fine \r\n\r\n    java version &quot;17&quot; 2021-09-14 LTS\r\n    Java(TM) SE Runtime Environment (build 17+35-LTS-2724)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)","title":"IntelliJ won&#39;t recognize JDK on Ubuntu","body":"<p>I installed <code>openjdk</code> using the command:</p>\n<pre><code>sudo apt install openjdk-11-jre-headless\n</code></pre>\n<p><code>java -version</code> command correctly displays the installed package</p>\n<pre><code>openjdk 11.0.15 2022-04-19\nOpenJDK Runtime Environment (build 11.0.15+10-Ubuntu-0ubuntu0.22.04.1)\nOpenJDK 64-Bit Server VM (build 11.0.15+10-Ubuntu-0ubuntu0.22.04.1, mixed mode, sharing)\n</code></pre>\n<p>However, when I open the IntelliJ IDEA environment, and want to run the first project, the environment does not detect the sdk</p>\n<p>Should I configure something else beforehand, I haven't had much experience with Ubuntu before, for comparison in windows using the command <code>-java version</code> I get this message: completely different from what I get on ubuntu and everything works fine</p>\n<pre><code>java version &quot;17&quot; 2021-09-14 LTS\nJava(TM) SE Runtime Environment (build 17+35-LTS-2724)\nJava HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)\n</code></pre>\n"},{"tags":["javascript","python","java","constraint-programming"],"comments":[{"owner":{"account_id":8491136,"reputation":2904,"user_id":6367424,"display_name":"timotgl"},"score":3,"creation_date":1606761798,"post_id":65079164,"comment_id":115054035,"body_markdown":"It&#39;s hard to answer without knowing the entire formalized game structure with all rules. I&#39;d recommend against that formal language approach you have in mind. You&#39;d spend too much time building a parser and integrating it in the game engine. I&#39;d start with a simple state machine approach. Formalize the game actions and data structures, and then see how the rules can be applied the best way.","body":"It&#39;s hard to answer without knowing the entire formalized game structure with all rules. I&#39;d recommend against that formal language approach you have in mind. You&#39;d spend too much time building a parser and integrating it in the game engine. I&#39;d start with a simple state machine approach. Formalize the game actions and data structures, and then see how the rules can be applied the best way."},{"owner":{"account_id":2208778,"reputation":851,"user_id":1951298,"accept_rate":89,"display_name":"Curcuma_"},"score":0,"creation_date":1606763613,"post_id":65079164,"comment_id":115054774,"body_markdown":"There is no game engine at this stage, it&#39;s all on paper. So I&#39;m open to the easiest possibilities. Do you have in mind any example somewhere using state machines for some simple game? Many thanks!","body":"There is no game engine at this stage, it&#39;s all on paper. So I&#39;m open to the easiest possibilities. Do you have in mind any example somewhere using state machines for some simple game? Many thanks!"},{"owner":{"account_id":12448472,"reputation":2174,"user_id":9063935,"display_name":"dwb"},"score":1,"creation_date":1606764762,"post_id":65079164,"comment_id":115055315,"body_markdown":"So is your question on how best to generate a list of all valid moves at any given state? And similar to @timotgl said, for any better advice you&#39;ll need to be more specific with how your game works and what it is exactly you&#39;re after :)","body":"So is your question on how best to generate a list of all valid moves at any given state? And similar to @timotgl said, for any better advice you&#39;ll need to be more specific with how your game works and what it is exactly you&#39;re after :)"},{"owner":{"display_name":"user9164621"},"score":0,"creation_date":1606783053,"post_id":65079164,"comment_id":115061462,"body_markdown":"I will try to formulate exactly what are possible states and actions and try to move on with some constraint programming or state machine like implementation. because at this stage I am not sure whether my imagination of the set of rules is unambiguous. here is a draft https://github.com/bacloud14/Outscore-card-game if you do not mind. ty","body":"I will try to formulate exactly what are possible states and actions and try to move on with some constraint programming or state machine like implementation. because at this stage I am not sure whether my imagination of the set of rules is unambiguous. here is a draft <a href=\"https://github.com/bacloud14/Outscore-card-game\" rel=\"nofollow noreferrer\">github.com/bacloud14/Outscore-card-game</a> if you do not mind. ty"}],"owner":{"display_name":"user9164621"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658166921,"creation_date":1606760921,"question_id":65079164,"body_markdown":"I want to implement a playing card game. I am aware about constraint programming. But I think it is used for finding &quot;solutions&quot; to problems. Particularly, when there are zillions of possible solutions.\r\n\r\nIn my case, the game has many rules but not that much. A solution would be a possible action by a player (with an outcome, this is another question I think). Other actions simply will not be permitted.\r\n\r\nFor example:\r\n\r\n**For one round with one play**\r\n 1. rule 1: A higher pip card (number) wins the other pip card\r\n 2. rule 2: A lower face card wins the other\r\n\r\n**For one round with multiple plays**\r\n\r\n 3. rule 3: if player A presents a pip card and player B presents a face card, It is a tie round and needs another play.\r\n\r\n ...\r\n\r\nThese were basic rules, and there are more. I am better in Python, JavaScript or Java.\r\n\r\nI really don&#39;t want to address this with a lot of embedded if-else conditions.\r\n\r\nI studied language theory and it seems a good fit. If you don&#39;t what is it about, you can set possible &quot;words&quot; in a language based on expressions (like regular expressions).\r\n\r\nFor example:\r\n\r\n    (aaa(b)+)*\r\n\r\nYields\r\n\r\n    aaa,aaab,aaabb,aaa,aaabbbb,...\r\n\r\nThinking of these terms as possible actions it would be possible to implement the game this way. But I would implement such a parser or a mapping from String to Actions. All this is possible and not that hard. But are there any possible (probably easier) implementations of this way of programming ?\r\n\r\nI came across Google&#39;s Or-tools, but it is a constraint solver. It can work but I am not sure, I will invest more time on it.","title":"Programming constraints for a playing cards game","body":"<p>I want to implement a playing card game. I am aware about constraint programming. But I think it is used for finding &quot;solutions&quot; to problems. Particularly, when there are zillions of possible solutions.</p>\n<p>In my case, the game has many rules but not that much. A solution would be a possible action by a player (with an outcome, this is another question I think). Other actions simply will not be permitted.</p>\n<p>For example:</p>\n<p><strong>For one round with one play</strong></p>\n<ol>\n<li>rule 1: A higher pip card (number) wins the other pip card</li>\n<li>rule 2: A lower face card wins the other</li>\n</ol>\n<p><strong>For one round with multiple plays</strong></p>\n<ol start=\"3\">\n<li>rule 3: if player A presents a pip card and player B presents a face card, It is a tie round and needs another play.</li>\n</ol>\n<p>...</p>\n<p>These were basic rules, and there are more. I am better in Python, JavaScript or Java.</p>\n<p>I really don't want to address this with a lot of embedded if-else conditions.</p>\n<p>I studied language theory and it seems a good fit. If you don't what is it about, you can set possible &quot;words&quot; in a language based on expressions (like regular expressions).</p>\n<p>For example:</p>\n<pre><code>(aaa(b)+)*\n</code></pre>\n<p>Yields</p>\n<pre><code>aaa,aaab,aaabb,aaa,aaabbbb,...\n</code></pre>\n<p>Thinking of these terms as possible actions it would be possible to implement the game this way. But I would implement such a parser or a mapping from String to Actions. All this is possible and not that hard. But are there any possible (probably easier) implementations of this way of programming ?</p>\n<p>I came across Google's Or-tools, but it is a constraint solver. It can work but I am not sure, I will invest more time on it.</p>\n"},{"tags":["java","javafx","filechooser"],"comments":[{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1450163513,"post_id":34282991,"comment_id":56307646,"body_markdown":"If the list is destined to be empty anyways, why bother creating it? I think I would have done the same thing too. Only create a list if the user chose atleast one file","body":"If the list is destined to be empty anyways, why bother creating it? I think I would have done the same thing too. Only create a list if the user chose atleast one file"},{"owner":{"account_id":6575531,"reputation":1123,"user_id":5081731,"accept_rate":80,"display_name":"aro_tech"},"score":2,"creation_date":1450163524,"post_id":34282991,"comment_id":56307651,"body_markdown":"Looks from the javadoc like null is supposed to signal cancellation, as opposed to selecting nothing. Maybe they foresaw the possibility of selecting nothing on certain platforms.","body":"Looks from the javadoc like null is supposed to signal cancellation, as opposed to selecting nothing. Maybe they foresaw the possibility of selecting nothing on certain platforms."}],"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658166776,"creation_date":1450163235,"question_id":34282991,"body_markdown":"I had to use the [JavaFX&#39;s FileChooser][1] and I saw that the method `showOpenMultipleDialog` would return `null` when no `File` are selected.\r\n\r\nBehavioural precision: one can only return from the dialog with the *Open* button when there&#39;s at least one file selected.\r\n\r\nDoes anybody know why such a choice for the return value whereas the absence of value can be modeled by an empty list in this case ?\r\n\r\nAre the JavaFX developers in favor of `null` ? Or is there another technical reason ?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/stage/FileChooser.html","title":"FileChooser.showOpenMultipleDialog internal design","body":"<p>I had to use the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/stage/FileChooser.html\" rel=\"nofollow\">JavaFX's FileChooser</a> and I saw that the method <code>showOpenMultipleDialog</code> would return <code>null</code> when no <code>File</code> are selected.</p>\n\n<p>Behavioural precision: one can only return from the dialog with the <em>Open</em> button when there's at least one file selected.</p>\n\n<p>Does anybody know why such a choice for the return value whereas the absence of value can be modeled by an empty list in this case ?</p>\n\n<p>Are the JavaFX developers in favor of <code>null</code> ? Or is there another technical reason ?</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":2,"creation_date":1352859132,"post_id":13363969,"comment_id":18258418,"body_markdown":"Are you creating the DB from the Hibernate mappings?","body":"Are you creating the DB from the Hibernate mappings?"}],"answers":[{"tags":[],"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352822233,"creation_date":1352822233,"answer_id":13364079,"question_id":13363969,"body_markdown":"Use `@Column` annotation and define its `length` attribute. Check [Hibernate][1]&#39;s documentation for references (section 2.2.2.3).\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-property","title":"how to set length of an column in hibernate with maximum length","body":"<p>Use <code>@Column</code> annotation and define its <code>length</code> attribute. Check <a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-property\" rel=\"nofollow\">Hibernate</a>'s documentation for references (section 2.2.2.3).</p>\n"},{"tags":[],"owner":{"account_id":2036829,"reputation":3966,"user_id":1818985,"display_name":"mychalvlcek"},"down_vote_count":1,"up_vote_count":101,"is_accepted":true,"score":100,"last_activity_date":1653976594,"creation_date":1352822248,"answer_id":13364085,"question_id":13363969,"body_markdown":"if your column is `varchar` use annotation `length`\r\n\r\n    @Column(length = 255)\r\n\r\nor use another column type\r\n\r\n    @Column(columnDefinition=&quot;TEXT&quot;)\r\n\r\nupdating answer based on comment:\r\n\r\n\r\n    @Lob","title":"how to set length of an column in hibernate with maximum length","body":"<p>if your column is <code>varchar</code> use annotation <code>length</code></p>\n<pre><code>@Column(length = 255)\n</code></pre>\n<p>or use another column type</p>\n<pre><code>@Column(columnDefinition=&quot;TEXT&quot;)\n</code></pre>\n<p>updating answer based on comment:</p>\n<pre><code>@Lob\n</code></pre>\n"},{"tags":[],"owner":{"account_id":461773,"reputation":396,"user_id":863703,"display_name":"Subba"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1352822292,"creation_date":1352822292,"answer_id":13364097,"question_id":13363969,"body_markdown":"You need to alter your table. Increase the column width using a DDL statement. \r\n\r\nplease see here\r\n\r\n    http://dba-oracle.com/t_alter_table_modify_column_syntax_example.htm","title":"how to set length of an column in hibernate with maximum length","body":"<p>You need to alter your table. Increase the column width using a DDL statement. </p>\n\n<p>please see here</p>\n\n<pre><code>http://dba-oracle.com/t_alter_table_modify_column_syntax_example.htm\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161274,"reputation":6294,"user_id":381897,"accept_rate":100,"display_name":"bhdrkn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1545849632,"creation_date":1352822342,"answer_id":13364110,"question_id":13363969,"body_markdown":"You can use [Length][1] annotation for a column. By using it you can maximize or minimize column length. Length annotation only be used for `Strings`.\r\n\r\n    @Column(name = &quot;NAME&quot;, nullable = false, length = 50)  \r\n    @Length(max = 50)\r\n\tpublic String getName() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html_single/#table-builtin-constraints\r\n","title":"how to set length of an column in hibernate with maximum length","body":"<p>You can use <a href=\"http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html_single/#table-builtin-constraints\" rel=\"noreferrer\">Length</a> annotation for a column. By using it you can maximize or minimize column length. Length annotation only be used for <code>Strings</code>.</p>\n\n<pre><code>@Column(name = \"NAME\", nullable = false, length = 50)  \n@Length(max = 50)\npublic String getName() {\n    return this.name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3713321,"reputation":101,"user_id":3090074,"display_name":"user3090074"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1545849566,"creation_date":1392095345,"answer_id":21693611,"question_id":13363969,"body_markdown":"    @Column(name = Columns.COLUMN_NAME, columnDefinition = &quot;NVARCHAR(MAX)&quot;)\r\n\r\n`max` indicates that the maximum storage size is 2^31-1 bytes (2 GB)","title":"how to set length of an column in hibernate with maximum length","body":"<pre><code>@Column(name = Columns.COLUMN_NAME, columnDefinition = \"NVARCHAR(MAX)\")\n</code></pre>\n\n<p><code>max</code> indicates that the maximum storage size is 2^31-1 bytes (2 GB)</p>\n"},{"tags":[],"owner":{"account_id":2888802,"reputation":101,"user_id":2478049,"display_name":"pancakesmaplesyrup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626405792,"creation_date":1626405792,"answer_id":68403028,"question_id":13363969,"body_markdown":"Similarly to mychalvlcek&#39;s answer, you can use the length attribute for String values, however if you&#39;re wanting to set to VARCHAR(MAX) in the database, this solution worked for me in MS SQL:\r\n\r\n    @Column(length = Integer.MAX_VALUE)","title":"how to set length of an column in hibernate with maximum length","body":"<p>Similarly to mychalvlcek's answer, you can use the length attribute for String values, however if you're wanting to set to VARCHAR(MAX) in the database, this solution worked for me in MS SQL:</p>\n<pre><code>@Column(length = Integer.MAX_VALUE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17332127,"reputation":1,"user_id":12554951,"display_name":"Majid Asgharizadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658166654,"creation_date":1658166654,"answer_id":73026555,"question_id":13363969,"body_markdown":"You can use both of @Column(size = 50) and @Size(max = 50) annotation,\r\nbut using @Size(max = 50) is better than @Column(size = 50), because in @Size annotation, Hibernate automatically triggers a validation before it inserts or updates the entity. \r\n\r\n    @Column(size = 50);\r\n\r\nor\r\n\r\n    @Size(max = 50); //it&#39;s better because Hibernate check automatically validation","title":"how to set length of an column in hibernate with maximum length","body":"<p>You can use both of @Column(size = 50) and @Size(max = 50) annotation,\nbut using @Size(max = 50) is better than @Column(size = 50), because in @Size annotation, Hibernate automatically triggers a validation before it inserts or updates the entity.</p>\n<pre><code>@Column(size = 50);\n</code></pre>\n<p>or</p>\n<pre><code>@Size(max = 50); //it's better because Hibernate check automatically validation\n</code></pre>\n"}],"owner":{"account_id":2028149,"reputation":885,"user_id":1812598,"accept_rate":50,"display_name":"saeed arash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135040,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":13364085,"answer_count":7,"score":43,"last_activity_date":1658166654,"creation_date":1352821842,"question_id":13363969,"body_markdown":"I want to save an object in data base.  \r\nI&#39;m using MySQL data base, but when I try it I get an exception that says: &quot;data is bigger than Column length&quot;.   \r\nHow can I increase the length of my column using hibernate?","title":"how to set length of an column in hibernate with maximum length","body":"<p>I want to save an object in data base.<br>\nI'm using MySQL data base, but when I try it I get an exception that says: \"data is bigger than Column length\".<br>\nHow can I increase the length of my column using hibernate?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658166245,"creation_date":1658166245,"answer_id":73026485,"question_id":73026260,"body_markdown":"If you want to send data between client and server as text, then what you need to do on the server side (after reading from `input` into `byte[]`) is to convert it into `String` and then parse as `int`. \r\nThat you can do with `int number = Integer.parseInt(new String(data));`.\r\n\r\nHowever, your code has one more bug (in both client and server). \r\nIt&#39;s in the code that is writing string into the output stream.\r\nYour code is doing following thing:\r\n```java\r\noutput.write(userString.length());\r\noutput.write(userString.getBytes());\r\n```\r\nwhich may give invalid results. Notice that `length()` returns length of the String, which means: number of characters.\r\nHowever what you need is number of bytes. Those two values will be different in case your string contains characters from outside of ascii range.","title":"Java - Client/Server Program Trying to convert int to String to get Fibonacci results","body":"<p>If you want to send data between client and server as text, then what you need to do on the server side (after reading from <code>input</code> into <code>byte[]</code>) is to convert it into <code>String</code> and then parse as <code>int</code>.\nThat you can do with <code>int number = Integer.parseInt(new String(data));</code>.</p>\n<p>However, your code has one more bug (in both client and server).\nIt's in the code that is writing string into the output stream.\nYour code is doing following thing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>output.write(userString.length());\noutput.write(userString.getBytes());\n</code></pre>\n<p>which may give invalid results. Notice that <code>length()</code> returns length of the String, which means: number of characters.\nHowever what you need is number of bytes. Those two values will be different in case your string contains characters from outside of ascii range.</p>\n"}],"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658166245,"creation_date":1658165058,"question_id":73026260,"body_markdown":"I am creating a Socket Client/Sever program that outputs the results of a fibonacci formula. I have already built the client/server connection and have tested. That part of it is working as intended. I am now trying to add in the fibonacci formula to the server but am having trouble coding the conversion of int type toSring(). The fibonacci formula is running on the server side. Code will be posted below. Thank you all for the help. I am trying to pass the clients input into fibonacci(int n) to get the desired results. If the user inputs 2, the answer should be 3, since 2 + 1 = 3 in the fibonacci numbering sequence. \r\n\r\nServer Code: \r\n\r\n    public class ServerData {\r\n    \tpublic static int fibonacci(int n) {\r\n    \t\tint v1 = 0, v2 = 1, v3 = 0;\r\n    \t\tfor(int i = 2; i &lt;= n; i++) {\r\n    \t\t\tv3 = v1 + v2;\r\n    \t\t\tv1 = v2;\r\n    \t\t\tv2 = v3;\r\n    \t\t}\r\n    \t\treturn v3;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tServerSocket server = null;\r\n    \t\tboolean shutdown = false;\r\n    \t\ttry {\r\n    \t\t\tserver = new ServerSocket(1236);\r\n    \t\t\tSystem.out.println(&quot;Port bound. Accepting connection&quot;);\r\n    \t\t} catch(IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tSystem.exit(-1);\r\n    \t\t}\r\n    \t\twhile(!shutdown) {\r\n    \t\t\tSocket client = null;\r\n    \t\t\tInputStream input = null;\r\n    \t\t\tOutputStream output = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tclient = server.accept();\r\n    \t\t\t\tinput = client.getInputStream();\r\n    \t\t\t\toutput = client.getOutputStream();\r\n    \t\t\t\tint n = input.read();\r\n    \t\t\t\tbyte[] data = new byte[n];\r\n    \t\t\t\tinput.read(data);\r\n    \t//\t\t\tint fibOut = fibonacci(int n);\r\n    \t\t\t\tString clientInput = new String (data, StandardCharsets.UTF_8);\r\n    \t\t\t\tclientInput.replace(&quot;\\n&quot;,&quot;&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Client said: &quot; + clientInput);\r\n    \t\t\t\t\r\n    \t\t\t\tString response = (&quot;Your input was [&quot; + clientInput + &quot;]&quot;);\r\n    \t\t\t\toutput.write(response.length());\r\n    \t\t\t\toutput.write(response.getBytes());\r\n    \t\t\t\tclient.close();\r\n    \t\t\t\tif(clientInput.equalsIgnoreCase(&quot;shutdown&quot;)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;shutting down...&quot;);\r\n    \t\t\t\t\tshutdown = true;\r\n    \t\t\t\t}\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n---------------------------------------------------------------------------------------------------\r\nClient Code: \r\n\r\n        public class ClientData {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Input a String: &quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\t\t\tBufferedReader userInput = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\t\t\t\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tString userString = userInput.readLine();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tSocket connection = new Socket(&quot;127.0.0.1&quot;, 1236);\r\n    \t\t\t\t\tInputStream input = connection.getInputStream();\r\n    \t\t\t\t\tOutputStream output = connection.getOutputStream();\r\n    \t\t\t\t\toutput.write(userString.length());\r\n    \t\t\t\t\toutput.write(userString.getBytes());\r\n    \t\t\t\t\tint n = input.read();\r\n    \t\t\t\t\tbyte [] data = new byte[n];\r\n    \t\t\t\t\tinput.read(data);\r\n    \t\t\t\t\tString serverResponse = new String(data, StandardCharsets.UTF_8);\r\n    \t\t\t\t\tSystem.out.println(&quot;Server said: &quot; + serverResponse);\r\n    \t\t\t\t\tif (!connection.isClosed());\r\n    \t\t\t\t\tconnection.close(); \r\n    \t\t\t\t}\r\n    catch (IOException e ) {\r\n    \te.printStackTrace();\r\n    \t}\r\n    \t}\r\n    }\r\n\r\n","title":"Java - Client/Server Program Trying to convert int to String to get Fibonacci results","body":"<p>I am creating a Socket Client/Sever program that outputs the results of a fibonacci formula. I have already built the client/server connection and have tested. That part of it is working as intended. I am now trying to add in the fibonacci formula to the server but am having trouble coding the conversion of int type toSring(). The fibonacci formula is running on the server side. Code will be posted below. Thank you all for the help. I am trying to pass the clients input into fibonacci(int n) to get the desired results. If the user inputs 2, the answer should be 3, since 2 + 1 = 3 in the fibonacci numbering sequence.</p>\n<p>Server Code:</p>\n<pre><code>public class ServerData {\n    public static int fibonacci(int n) {\n        int v1 = 0, v2 = 1, v3 = 0;\n        for(int i = 2; i &lt;= n; i++) {\n            v3 = v1 + v2;\n            v1 = v2;\n            v2 = v3;\n        }\n        return v3;\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        ServerSocket server = null;\n        boolean shutdown = false;\n        try {\n            server = new ServerSocket(1236);\n            System.out.println(&quot;Port bound. Accepting connection&quot;);\n        } catch(IOException e) {\n            e.printStackTrace();\n            System.exit(-1);\n        }\n        while(!shutdown) {\n            Socket client = null;\n            InputStream input = null;\n            OutputStream output = null;\n            try {\n                client = server.accept();\n                input = client.getInputStream();\n                output = client.getOutputStream();\n                int n = input.read();\n                byte[] data = new byte[n];\n                input.read(data);\n    //          int fibOut = fibonacci(int n);\n                String clientInput = new String (data, StandardCharsets.UTF_8);\n                clientInput.replace(&quot;\\n&quot;,&quot;&quot;);\n                \n                \n                System.out.println(&quot;Client said: &quot; + clientInput);\n                \n                String response = (&quot;Your input was [&quot; + clientInput + &quot;]&quot;);\n                output.write(response.length());\n                output.write(response.getBytes());\n                client.close();\n                if(clientInput.equalsIgnoreCase(&quot;shutdown&quot;)) {\n                    System.out.println(&quot;shutting down...&quot;);\n                    shutdown = true;\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n                continue;\n            }\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Client Code:</p>\n<pre><code>    public class ClientData {\n    \n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        \n        System.out.print(&quot;Input a String: &quot;);\n        \n        \n                BufferedReader userInput = new BufferedReader(new InputStreamReader(System.in));\n                \n                try {\n                    String userString = userInput.readLine();\n                    \n                    Socket connection = new Socket(&quot;127.0.0.1&quot;, 1236);\n                    InputStream input = connection.getInputStream();\n                    OutputStream output = connection.getOutputStream();\n                    output.write(userString.length());\n                    output.write(userString.getBytes());\n                    int n = input.read();\n                    byte [] data = new byte[n];\n                    input.read(data);\n                    String serverResponse = new String(data, StandardCharsets.UTF_8);\n                    System.out.println(&quot;Server said: &quot; + serverResponse);\n                    if (!connection.isClosed());\n                    connection.close(); \n                }\ncatch (IOException e ) {\n    e.printStackTrace();\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":10727029,"reputation":1149,"user_id":7894239,"display_name":"Ankita"},"score":0,"creation_date":1530855684,"post_id":51203608,"comment_id":89388367,"body_markdown":"Try this https://stackoverflow.com/questions/23078476/android-passing-data-from-child-fragment-to-parent-fragment/23079798","body":"Try this <a href=\"https://stackoverflow.com/questions/23078476/android-passing-data-from-child-fragment-to-parent-fragment/23079798\" title=\"android passing data from child fragment to parent fragment\">stackoverflow.com/questions/23078476/&hellip;</a>"},{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1530855695,"post_id":51203608,"comment_id":89388371,"body_markdown":"https://developer.android.com/reference/android/arch/lifecycle/ViewModel","body":"<a href=\"https://developer.android.com/reference/android/arch/lifecycle/ViewModel\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/lifecycle/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7365216,"reputation":2140,"user_id":5607107,"display_name":"Mayank Bhatnagar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658166112,"creation_date":1530856351,"answer_id":51203782,"question_id":51203608,"body_markdown":"All Fragment-to-Fragment communication is done either through a shared [ViewModel][1] or through the associated Activity. Two Fragments should never communicate directly.\r\n\r\n**Different ways for fragment to fragment communication:**\r\n\r\n 1. The recommended way to communicate between fragments is to create a shared ViewModel object. Both fragments can access the ViewModel through their containing Activity. The Fragments can update data within the ViewModel and if the data is exposed using [LiveData][2] the new state will be pushed to the other fragment as long as it is observing the LiveData from the ViewModel. To see how to implement this kind of communication, read the &#39;Share data between Fragments&#39; section in the [ViewModel guide.][3]\r\n 2. You can [define an interface][4] in the Fragment class and implement it within the Activity. The Fragment captures the interface implementation during its onAttach() lifecycle method and can then call the Interface methods in order to communicate with the Activity.\r\n\r\n    public class HeadlinesFragment extends ListFragment {\r\n        OnHeadlineSelectedListener mCallback;\r\n    \r\n        // Container Activity must implement this interface\r\n        public interface OnHeadlineSelectedListener {\r\n            public void onArticleSelected(int position);\r\n        }\r\n    \r\n        @Override\r\n        public void onAttach(Activity activity) {\r\n            super.onAttach(activity);\r\n    \r\n            // This makes sure that the container activity has implemented\r\n            // the callback interface. If not, it throws an exception\r\n            try {\r\n                mCallback = (OnHeadlineSelectedListener) activity;\r\n            } catch (ClassCastException e) {\r\n                throw new ClassCastException(activity.toString()\r\n                        + &quot; must implement OnHeadlineSelectedListener&quot;);\r\n            }\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nNow the fragment can deliver messages to the activity by calling the onArticleSelected() method (or other methods in the interface) using the mCallback instance of the OnHeadlineSelectedListener interface.\r\n\r\nFor example, the following method in the fragment is called when the user clicks on a list item. The fragment uses the callback interface to deliver the event to the parent activity.\r\n\r\n \r\n\r\n    @Override\r\n        public void onListItemClick(ListView l, View v, int position, long id) {\r\n            // Send the event to the host activity\r\n            mCallback.onArticleSelected(position);\r\n        }\r\n\r\n**Implement the Interface**\r\n\r\nIn order to receive event callbacks from the fragment, the activity that hosts it must implement the interface defined in the fragment class.\r\n\r\n    public static class MainActivity extends Activity\r\n            implements HeadlinesFragment.OnHeadlineSelectedListener{\r\n        ...\r\n    \r\n        public void onArticleSelected(int position) {\r\n            // The user selected the headline of an article from the HeadlinesFragment\r\n            // Do something here to display that article\r\n        }\r\n    }\r\n\r\n**Deliver a Message to a Fragment**\r\n\r\nThe host activity can deliver messages to a fragment by capturing the Fragment instance with findFragmentById(), then directly call the fragment&#39;s public methods.\r\n\r\nFor instance, imagine that the activity shown above may contain another fragment that&#39;s used to display the item specified by the data returned in the above callback method. In this case, the activity can pass the information received in the callback method to the other fragment that will display the item:\r\n\r\n    public static class MainActivity extends Activity\r\n            implements HeadlinesFragment.OnHeadlineSelectedListener{\r\n        ...\r\n    \r\n        public void onArticleSelected(int position) {\r\n            // The user selected the headline of an article from the HeadlinesFragment\r\n            // Do something here to display that article\r\n    \r\n            ArticleFragment articleFrag = (ArticleFragment)\r\n                    getSupportFragmentManager().findFragmentById(R.id.article_fragment);\r\n    \r\n            if (articleFrag != null) {\r\n                // If article frag is available, we&#39;re in two-pane layout...\r\n    \r\n                // Call a method in the ArticleFragment to update its content\r\n                articleFrag.updateArticleView(position);\r\n            } else {\r\n                // Otherwise, we&#39;re in the one-pane layout and must swap frags...\r\n    \r\n                // Create fragment and give it an argument for the selected article\r\n                ArticleFragment newFragment = new ArticleFragment();\r\n                Bundle args = new Bundle();\r\n                args.putInt(ArticleFragment.ARG_POSITION, position);\r\n                newFragment.setArguments(args);\r\n    \r\n                FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n    \r\n                // Replace whatever is in the fragment_container view with this fragment,\r\n                // and add the transaction to the back stack so the user can navigate back\r\n                transaction.replace(R.id.fragment_container, newFragment);\r\n                transaction.addToBackStack(null);\r\n    \r\n                // Commit the transaction\r\n                transaction.commit();\r\n            }\r\n        }\r\n    }\r\n\r\nFrom [Official Documentation][5]. [Archived version](https://web.archive.org/web/20180815061823/https://developer.android.com/training/basics/fragments/communicating)\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/arch/lifecycle/ViewModel\r\n  [2]: https://developer.android.com/reference/android/arch/lifecycle/LiveData\r\n  [3]: https://developer.android.com/topic/libraries/architecture/viewmodel\r\n  [4]: https://developer.android.com/training/basics/fragments/communicating#DefineInterface\r\n  [5]: https://developer.android.com/training/basics/fragments/communicating","title":"Android pass value from child fragment back to parent fragment","body":"<p>All Fragment-to-Fragment communication is done either through a shared <a href=\"https://developer.android.com/reference/android/arch/lifecycle/ViewModel\" rel=\"nofollow noreferrer\">ViewModel</a> or through the associated Activity. Two Fragments should never communicate directly.</p>\n<p><strong>Different ways for fragment to fragment communication:</strong></p>\n<ol>\n<li><p>The recommended way to communicate between fragments is to create a shared ViewModel object. Both fragments can access the ViewModel through their containing Activity. The Fragments can update data within the ViewModel and if the data is exposed using <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveData\" rel=\"nofollow noreferrer\">LiveData</a> the new state will be pushed to the other fragment as long as it is observing the LiveData from the ViewModel. To see how to implement this kind of communication, read the 'Share data between Fragments' section in the <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">ViewModel guide.</a></p>\n</li>\n<li><p>You can <a href=\"https://developer.android.com/training/basics/fragments/communicating#DefineInterface\" rel=\"nofollow noreferrer\">define an interface</a> in the Fragment class and implement it within the Activity. The Fragment captures the interface implementation during its onAttach() lifecycle method and can then call the Interface methods in order to communicate with the Activity.</p>\n<p>public class HeadlinesFragment extends ListFragment {\nOnHeadlineSelectedListener mCallback;</p>\n<pre><code>// Container Activity must implement this interface\npublic interface OnHeadlineSelectedListener {\n    public void onArticleSelected(int position);\n}\n\n@Override\npublic void onAttach(Activity activity) {\n    super.onAttach(activity);\n\n    // This makes sure that the container activity has implemented\n    // the callback interface. If not, it throws an exception\n    try {\n        mCallback = (OnHeadlineSelectedListener) activity;\n    } catch (ClassCastException e) {\n        throw new ClassCastException(activity.toString()\n                + &quot; must implement OnHeadlineSelectedListener&quot;);\n    }\n}\n\n...\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>Now the fragment can deliver messages to the activity by calling the onArticleSelected() method (or other methods in the interface) using the mCallback instance of the OnHeadlineSelectedListener interface.</p>\n<p>For example, the following method in the fragment is called when the user clicks on a list item. The fragment uses the callback interface to deliver the event to the parent activity.</p>\n<pre><code>@Override\n    public void onListItemClick(ListView l, View v, int position, long id) {\n        // Send the event to the host activity\n        mCallback.onArticleSelected(position);\n    }\n</code></pre>\n<p><strong>Implement the Interface</strong></p>\n<p>In order to receive event callbacks from the fragment, the activity that hosts it must implement the interface defined in the fragment class.</p>\n<pre><code>public static class MainActivity extends Activity\n        implements HeadlinesFragment.OnHeadlineSelectedListener{\n    ...\n\n    public void onArticleSelected(int position) {\n        // The user selected the headline of an article from the HeadlinesFragment\n        // Do something here to display that article\n    }\n}\n</code></pre>\n<p><strong>Deliver a Message to a Fragment</strong></p>\n<p>The host activity can deliver messages to a fragment by capturing the Fragment instance with findFragmentById(), then directly call the fragment's public methods.</p>\n<p>For instance, imagine that the activity shown above may contain another fragment that's used to display the item specified by the data returned in the above callback method. In this case, the activity can pass the information received in the callback method to the other fragment that will display the item:</p>\n<pre><code>public static class MainActivity extends Activity\n        implements HeadlinesFragment.OnHeadlineSelectedListener{\n    ...\n\n    public void onArticleSelected(int position) {\n        // The user selected the headline of an article from the HeadlinesFragment\n        // Do something here to display that article\n\n        ArticleFragment articleFrag = (ArticleFragment)\n                getSupportFragmentManager().findFragmentById(R.id.article_fragment);\n\n        if (articleFrag != null) {\n            // If article frag is available, we're in two-pane layout...\n\n            // Call a method in the ArticleFragment to update its content\n            articleFrag.updateArticleView(position);\n        } else {\n            // Otherwise, we're in the one-pane layout and must swap frags...\n\n            // Create fragment and give it an argument for the selected article\n            ArticleFragment newFragment = new ArticleFragment();\n            Bundle args = new Bundle();\n            args.putInt(ArticleFragment.ARG_POSITION, position);\n            newFragment.setArguments(args);\n\n            FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n\n            // Replace whatever is in the fragment_container view with this fragment,\n            // and add the transaction to the back stack so the user can navigate back\n            transaction.replace(R.id.fragment_container, newFragment);\n            transaction.addToBackStack(null);\n\n            // Commit the transaction\n            transaction.commit();\n        }\n    }\n}\n</code></pre>\n<p>From <a href=\"https://developer.android.com/training/basics/fragments/communicating\" rel=\"nofollow noreferrer\">Official Documentation</a>. <a href=\"https://web.archive.org/web/20180815061823/https://developer.android.com/training/basics/fragments/communicating\" rel=\"nofollow noreferrer\">Archived version</a></p>\n"},{"tags":[],"owner":{"account_id":10727029,"reputation":1149,"user_id":7894239,"display_name":"Ankita"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530856549,"creation_date":1530856549,"answer_id":51203819,"question_id":51203608,"body_markdown":"To share data between fragments you can use ViewModel. \r\n\r\nView model provides a communication layer between different fragments of an activity. \r\nTo get data on fragment close, you can use onActivityResult also.\r\n\r\n\r\nFor detailed example follow this link- \r\nhttps://stackoverflow.com/questions/23078476/android-passing-data-from-child-fragment-to-parent-fragment/23079798 ","title":"Android pass value from child fragment back to parent fragment","body":"<p>To share data between fragments you can use ViewModel. </p>\n\n<p>View model provides a communication layer between different fragments of an activity. \nTo get data on fragment close, you can use onActivityResult also.</p>\n\n<p>For detailed example follow this link- \n<a href=\"https://stackoverflow.com/questions/23078476/android-passing-data-from-child-fragment-to-parent-fragment/23079798\">Android: Passing data from child fragment to parent fragment</a> </p>\n"},{"tags":[],"owner":{"account_id":3351853,"reputation":3519,"user_id":6225565,"display_name":"Shalauddin Ahamad Shuza"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1533716525,"creation_date":1533716525,"answer_id":51741902,"question_id":51203608,"body_markdown":"You can use shared `ViewModel`. Create ViewModel in activity scope and it will be available for activity and all of its fragment.\r\n\r\n    MyViewModel sharedViewModel = ViewModelProviders.of(getActivity()).get(MyViewModel::class.java)\r\n\r\nThen observe your desire data of `sharedViewModel`. If you change data of `sharedViewModel` in any fragment or activity it will be changed for all fragment and activity. See below image or read [doc](https://developer.android.com/topic/libraries/architecture/viewmodel#sharing).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LLFIG.jpg","title":"Android pass value from child fragment back to parent fragment","body":"<p>You can use shared <code>ViewModel</code>. Create ViewModel in activity scope and it will be available for activity and all of its fragment.</p>\n\n<pre><code>MyViewModel sharedViewModel = ViewModelProviders.of(getActivity()).get(MyViewModel::class.java)\n</code></pre>\n\n<p>Then observe your desire data of <code>sharedViewModel</code>. If you change data of <code>sharedViewModel</code> in any fragment or activity it will be changed for all fragment and activity. See below image or read <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel#sharing\" rel=\"noreferrer\">doc</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LLFIG.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LLFIG.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6150,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1658166112,"creation_date":1530855424,"question_id":51203608,"body_markdown":"I was having some problem when trying to get the value from fragment upon dismiss. My fragment A will open up fragment B, when the button in fragment B is clicked, I wanted to get a value and pass back to fragment A to be displayed. However, I am not sure how to do it. \r\n\r\n**Fragment A:**\r\n\r\n    @Click(R.id.buttonAttach)\r\n    void buttonAttachClicked(View v){\r\n            SupportAttachFileFragment fragment = new SupportAttachFileFragment_();\r\n            fragment.show(getFragmentManager(), null);\r\n\r\n            // get value here and display\r\n            textViewLogCounter.setText();\r\n        }\r\n    }\r\n\r\n**Fragment B:**\r\n\r\nWhen this button onClicked, I wanted to pass the value back to fragment A and display.\r\n\r\n    @Click(R.id.buttonAttach)\r\n    void buttonAttachClicked(View v){\r\n        System.out.println(&quot;TOTAL &quot; + selectedRows.size());\r\n        dismiss();\r\n    }\r\n\r\nI not sure how to do it. I was thinking of Bundle but Bundle is to pass parameter to a new activity. In this case, my fragment is already opened but I wanted to pass some values back.\r\n\r\nAny ideas? Thanks!","title":"Android pass value from child fragment back to parent fragment","body":"<p>I was having some problem when trying to get the value from fragment upon dismiss. My fragment A will open up fragment B, when the button in fragment B is clicked, I wanted to get a value and pass back to fragment A to be displayed. However, I am not sure how to do it. </p>\n\n<p><strong>Fragment A:</strong></p>\n\n<pre><code>@Click(R.id.buttonAttach)\nvoid buttonAttachClicked(View v){\n        SupportAttachFileFragment fragment = new SupportAttachFileFragment_();\n        fragment.show(getFragmentManager(), null);\n\n        // get value here and display\n        textViewLogCounter.setText();\n    }\n}\n</code></pre>\n\n<p><strong>Fragment B:</strong></p>\n\n<p>When this button onClicked, I wanted to pass the value back to fragment A and display.</p>\n\n<pre><code>@Click(R.id.buttonAttach)\nvoid buttonAttachClicked(View v){\n    System.out.println(\"TOTAL \" + selectedRows.size());\n    dismiss();\n}\n</code></pre>\n\n<p>I not sure how to do it. I was thinking of Bundle but Bundle is to pass parameter to a new activity. In this case, my fragment is already opened but I wanted to pass some values back.</p>\n\n<p>Any ideas? Thanks!</p>\n"},{"tags":["java","xml","spring","spring-boot","jaxb"],"answers":[{"tags":[],"owner":{"account_id":17434662,"reputation":77,"user_id":12637910,"display_name":"Carlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658165769,"creation_date":1658165769,"answer_id":73026386,"question_id":73020166,"body_markdown":"The class `Cans` has two XmlElements associated, `Can` and `Cans`, so when you call `getCans()` it&#39;s using the method defined `@XmlElement(name = &quot;Cans&quot;)`.\r\n\r\nYou should associate `@XmlElement(name = &quot;Can&quot;)` with the class and use a list of Can to associate with `@XmlElement(name = &quot;Cans&quot;)`","title":"xml response not picking nested @XmlRootElement(name=&quot;Cans&quot;)","body":"<p>The class <code>Cans</code> has two XmlElements associated, <code>Can</code> and <code>Cans</code>, so when you call <code>getCans()</code> it's using the method defined <code>@XmlElement(name = &quot;Cans&quot;)</code>.</p>\n<p>You should associate <code>@XmlElement(name = &quot;Can&quot;)</code> with the class and use a list of Can to associate with <code>@XmlElement(name = &quot;Cans&quot;)</code></p>\n"}],"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658165769,"creation_date":1658136995,"question_id":73020166,"body_markdown":"I am trying to get a response of XML. The root XML is nested inside an XML element. when the response comes out the root element never comes from the response, here is my attempt.\r\n\r\nI am trying to get this - \r\n\r\n    &lt;Cans&gt;\t\r\n    \t&lt;Can&gt;\r\n    \t&lt;Name&gt;bla bla&lt;/Name&gt;\r\n    \t&lt;Size&gt;10&lt;/Size&gt;\r\n    \t&lt;Can&gt;\t\r\n    \t&lt;/Cans&gt;\r\n\r\nbut response keeps coming as this - \r\n\r\n    &lt;Cans&gt;\t\r\n    \t&lt;Name&gt;bla bla&lt;/Name&gt;\r\n    \t&lt;Size&gt;10&lt;/Size&gt;\t\r\n    \t&lt;/Cans&gt;\r\n\r\nbelow is my structure to achieve the desired result\r\n\r\n    //in the drink class\r\n    \t\r\n    \t.....\r\n    \t\r\n    \tprivate Cans cans; //this is a class referenced here\r\n    \t\r\n    \t@XmlElement(name = &quot;Cans&quot;)\r\n        public Cans getCans() {\r\n            return cans;\r\n        }\r\n    \r\n        public void setCans(Cans cans) {\r\n            this.cans = cans;\r\n        }\r\n    \t\r\n    \t//cans class\r\n    \t@XmlAccessorType(XmlAccessType.PROPERTY)\r\n    \t@XmlRootElement(name=&quot;Can&quot;)\r\n    \tpublic class Cans implements Serializable {\r\n    \r\n    \tprivate String name;\r\n    \r\n    \t@XmlElement(name = &quot;Name&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \t\r\n    \t.....\r\n\r\nPlease how can I achieve the desired outcome","title":"xml response not picking nested @XmlRootElement(name=&quot;Cans&quot;)","body":"<p>I am trying to get a response of XML. The root XML is nested inside an XML element. when the response comes out the root element never comes from the response, here is my attempt.</p>\n<p>I am trying to get this -</p>\n<pre><code>&lt;Cans&gt;  \n    &lt;Can&gt;\n    &lt;Name&gt;bla bla&lt;/Name&gt;\n    &lt;Size&gt;10&lt;/Size&gt;\n    &lt;Can&gt;   \n    &lt;/Cans&gt;\n</code></pre>\n<p>but response keeps coming as this -</p>\n<pre><code>&lt;Cans&gt;  \n    &lt;Name&gt;bla bla&lt;/Name&gt;\n    &lt;Size&gt;10&lt;/Size&gt; \n    &lt;/Cans&gt;\n</code></pre>\n<p>below is my structure to achieve the desired result</p>\n<pre><code>//in the drink class\n    \n    .....\n    \n    private Cans cans; //this is a class referenced here\n    \n    @XmlElement(name = &quot;Cans&quot;)\n    public Cans getCans() {\n        return cans;\n    }\n\n    public void setCans(Cans cans) {\n        this.cans = cans;\n    }\n    \n    //cans class\n    @XmlAccessorType(XmlAccessType.PROPERTY)\n    @XmlRootElement(name=&quot;Can&quot;)\n    public class Cans implements Serializable {\n\n    private String name;\n\n    @XmlElement(name = &quot;Name&quot;)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    .....\n</code></pre>\n<p>Please how can I achieve the desired outcome</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1658166125,"post_id":73026366,"comment_id":128979026,"body_markdown":"Why you&#39;re recycling the bitmap?","body":"Why you&#39;re recycling the bitmap?"},{"owner":{"account_id":15130278,"reputation":104,"user_id":10918377,"display_name":"Kundan Jha"},"score":0,"creation_date":1658378462,"post_id":73026366,"comment_id":129037712,"body_markdown":"Please ignore that. Wrote that line by mistake","body":"Please ignore that. Wrote that line by mistake"}],"owner":{"account_id":15130278,"reputation":104,"user_id":10918377,"display_name":"Kundan Jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658165669,"creation_date":1658165669,"question_id":73026366,"body_markdown":"I am trying to load a JPG in an image view inside a recycler view. But the actual image does not load up instead only black colour is shown in the image view. \r\n\r\n     try {\r\n            BitmapFactory.Options options = new BitmapFactory.Options();\r\n            options.inSampleSize=2;\r\n            File file=Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS+&quot;/Galanto/RehabRelive/runman1.png&quot;);\r\n\r\n            final Bitmap b = BitmapFactory.decodeFile(file.getAbsolutePath(),options);\r\n            holder.usrImg.setImageBitmap(b);\r\n            b.recycle();\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }","title":"Loading Bitmap in Image View showing only black colour","body":"<p>I am trying to load a JPG in an image view inside a recycler view. But the actual image does not load up instead only black colour is shown in the image view.</p>\n<pre><code> try {\n        BitmapFactory.Options options = new BitmapFactory.Options();\n        options.inSampleSize=2;\n        File file=Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS+&quot;/Galanto/RehabRelive/runman1.png&quot;);\n\n        final Bitmap b = BitmapFactory.decodeFile(file.getAbsolutePath(),options);\n        holder.usrImg.setImageBitmap(b);\n        b.recycle();\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","android","service"],"comments":[{"owner":{"account_id":1147574,"reputation":5540,"user_id":1129995,"accept_rate":99,"display_name":"Zaki"},"score":0,"creation_date":1530797582,"post_id":51192434,"comment_id":89366849,"body_markdown":"this might help you : https://fabcirablog.weebly.com/blog/creating-a-never-ending-background-service-in-android","body":"this might help you : <a href=\"https://fabcirablog.weebly.com/blog/creating-a-never-ending-background-service-in-android\" rel=\"nofollow noreferrer\">fabcirablog.weebly.com/blog/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7365216,"reputation":2140,"user_id":5607107,"display_name":"Mayank Bhatnagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658165644,"creation_date":1530798084,"answer_id":51192873,"question_id":51192434,"body_markdown":"**[Important Fact about the bindService][1]** \r\n\r\n&gt; If a component calls bindService() to create the service and onStartCommand() is not called, the service runs only as long as the component is bound to it. After the service is unbound from all of its clients, the system destroys it.\r\n\r\n**[Try using Started Service][2]**\r\n\r\n&gt; A started service is one that another component starts by calling\r\n&gt; startService(), which results in a call to the service&#39;s\r\n&gt; onStartCommand() method.\r\n&gt; \r\n&gt; When a service is started, it has a lifecycle that&#39;s independent of\r\n&gt; the component that started it. The service can run in the background\r\n&gt; indefinitely, even if the component that started it is destroyed. As\r\n&gt; such, the service should stop itself when its job is complete by\r\n&gt; calling stopSelf(), or another component can stop it by calling\r\n&gt; stopService().\r\n&gt; \r\n&gt; An application component such as an activity can start the service by\r\n&gt; calling startService() and passing an Intent that specifies the\r\n&gt; service and includes any data for the service to use. The service\r\n&gt; receives this Intent in the onStartCommand() method.\r\n\r\n**[Handling onStartCommand][3]**\r\n\r\n&gt; Notice that the onStartCommand() method must return an integer. The\r\n&gt; integer is a value that describes how the system should continue the\r\n&gt; service in the event that the system kills it. The default\r\n&gt; implementation for IntentService handles this for you, but you are\r\n&gt; able to modify it. The return value from onStartCommand() must be one\r\n&gt; of the following constants:\r\n&gt; \r\n&gt;  1. **[START_NOT_STICKY][4]** If the system kills the service after onStartCommand() returns, do not recreate the service unless there are\r\n&gt; pending intents to deliver. This is the safest option to avoid running\r\n&gt; your service when not necessary and when your application can simply\r\n&gt; restart any unfinished jobs.\r\n&gt; \r\n&gt;  2. **[START_STICKY][5]** If the system kills the service after onStartCommand() returns, recreate the service and call\r\n&gt; onStartCommand(), but do not redeliver the last intent. Instead, the\r\n&gt; system calls onStartCommand() with a null intent unless there are\r\n&gt; pending intents to start the service. In that case, those intents are\r\n&gt; delivered. This is suitable for media players (or similar services)\r\n&gt; that are not executing commands but are running indefinitely and\r\n&gt; waiting for a job.\r\n&gt; \r\n&gt;  3. **[START_REDELIVER_INTENT][6]** If the system kills the service after onStartCommand() returns, recreate the service and call\r\n&gt; onStartCommand() with the last intent that was delivered to the\r\n&gt; service. Any pending intents are delivered in turn. This is suitable\r\n&gt; for services that are actively performing a job that should be\r\n&gt; immediately resumed, such as downloading a file.\r\n\r\n**Note: In your case you should use Started Service and return START_STICKY or START_REDELIVER_INTENT (based on your requirement) in onStartCommand()**\r\n\r\n[Check Official Documentation][7] for detailed description of the Services.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/services#should-you-use-a-service-or-a-thread\r\n  [2]: https://developer.android.com/guide/components/services#CreatingAService\r\n  [3]: https://developer.android.com/guide/components/services#ExtendingService\r\n  [4]: https://developer.android.com/reference/android/app/Service#START_NOT_STICKY\r\n  [5]: https://developer.android.com/reference/android/app/Service#START_STICKY\r\n  [6]: https://developer.android.com/reference/android/app/Service#START_REDELIVER_INTENT\r\n  [7]: https://developer.android.com/guide/components/services#Basics","title":"Service get stopped on app closing","body":"<p><strong><a href=\"https://developer.android.com/guide/components/services#should-you-use-a-service-or-a-thread\" rel=\"nofollow noreferrer\">Important Fact about the bindService</a></strong></p>\n<blockquote>\n<p>If a component calls bindService() to create the service and onStartCommand() is not called, the service runs only as long as the component is bound to it. After the service is unbound from all of its clients, the system destroys it.</p>\n</blockquote>\n<p><strong><a href=\"https://developer.android.com/guide/components/services#CreatingAService\" rel=\"nofollow noreferrer\">Try using Started Service</a></strong></p>\n<blockquote>\n<p>A started service is one that another component starts by calling\nstartService(), which results in a call to the service's\nonStartCommand() method.</p>\n<p>When a service is started, it has a lifecycle that's independent of\nthe component that started it. The service can run in the background\nindefinitely, even if the component that started it is destroyed. As\nsuch, the service should stop itself when its job is complete by\ncalling stopSelf(), or another component can stop it by calling\nstopService().</p>\n<p>An application component such as an activity can start the service by\ncalling startService() and passing an Intent that specifies the\nservice and includes any data for the service to use. The service\nreceives this Intent in the onStartCommand() method.</p>\n</blockquote>\n<p><strong><a href=\"https://developer.android.com/guide/components/services#ExtendingService\" rel=\"nofollow noreferrer\">Handling onStartCommand</a></strong></p>\n<blockquote>\n<p>Notice that the onStartCommand() method must return an integer. The\ninteger is a value that describes how the system should continue the\nservice in the event that the system kills it. The default\nimplementation for IntentService handles this for you, but you are\nable to modify it. The return value from onStartCommand() must be one\nof the following constants:</p>\n<ol>\n<li><p><strong><a href=\"https://developer.android.com/reference/android/app/Service#START_NOT_STICKY\" rel=\"nofollow noreferrer\">START_NOT_STICKY</a></strong> If the system kills the service after onStartCommand() returns, do not recreate the service unless there are\npending intents to deliver. This is the safest option to avoid running\nyour service when not necessary and when your application can simply\nrestart any unfinished jobs.</p>\n</li>\n<li><p><strong><a href=\"https://developer.android.com/reference/android/app/Service#START_STICKY\" rel=\"nofollow noreferrer\">START_STICKY</a></strong> If the system kills the service after onStartCommand() returns, recreate the service and call\nonStartCommand(), but do not redeliver the last intent. Instead, the\nsystem calls onStartCommand() with a null intent unless there are\npending intents to start the service. In that case, those intents are\ndelivered. This is suitable for media players (or similar services)\nthat are not executing commands but are running indefinitely and\nwaiting for a job.</p>\n</li>\n<li><p><strong><a href=\"https://developer.android.com/reference/android/app/Service#START_REDELIVER_INTENT\" rel=\"nofollow noreferrer\">START_REDELIVER_INTENT</a></strong> If the system kills the service after onStartCommand() returns, recreate the service and call\nonStartCommand() with the last intent that was delivered to the\nservice. Any pending intents are delivered in turn. This is suitable\nfor services that are actively performing a job that should be\nimmediately resumed, such as downloading a file.</p>\n</li>\n</ol>\n</blockquote>\n<p><strong>Note: In your case you should use Started Service and return START_STICKY or START_REDELIVER_INTENT (based on your requirement) in onStartCommand()</strong></p>\n<p><a href=\"https://developer.android.com/guide/components/services#Basics\" rel=\"nofollow noreferrer\">Check Official Documentation</a> for detailed description of the Services.</p>\n"},{"tags":[],"owner":{"account_id":11144400,"reputation":13,"user_id":8179709,"display_name":"Tirumalesh kallepalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530798111,"creation_date":1530798111,"answer_id":51192880,"question_id":51192434,"body_markdown":"Have you added these lines in manifest file\n\n    &lt;application&gt; &lt;service  android:name=&quot;.ExampleService&quot; /&gt;&lt;/application&gt;\n\n &#160;\n","title":"Service get stopped on app closing","body":"<p>Have you added these lines in manifest file</p>\n\n<pre><code>&lt;application&gt; &lt;service  android:name=\".ExampleService\" /&gt;&lt;/application&gt;\n</code></pre>\n\n<p> </p>\n"}],"owner":{"account_id":10214080,"reputation":477,"user_id":7540316,"accept_rate":0,"display_name":"harshita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658165644,"creation_date":1530796865,"question_id":51192434,"body_markdown":"I am working on a wallpaper application in which i am setting a gallery of images on wallpaper with shuffle effect for 5 min, 10 min etc. I am using service for this task. My service works well when app remains in background, but service get stopped when app get stopped.This is my code for service class:\r\n\r\n    public class WallpaperService extends Service {\r\n    ArrayList&lt;String&gt; arrayList;int counter = 0;\r\n\r\n    boolean serviceStopped;\r\n\r\n    private IBinder binder = new WallpaperServiceBinder();\r\n\r\n    public WallpaperService() {\r\n    }\r\n\r\n    private Handler mHandler;\r\n\r\n    private Runnable updateRunnable = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            if (serviceStopped == false)\r\n            {\r\n                createNotificationIcon();\r\n            }\r\n            queueRunnable();\r\n        }\r\n    };\r\n\r\n    public class WallpaperServiceBinder extends Binder {\r\n        public WallpaperService getService() {\r\n            return WallpaperService.this;\r\n        }\r\n    }\r\n\r\n    private void queueRunnable() {\r\n        // 600000 : cada 10 minutos, comprueba si hay nuevas notificaciones y actualiza la\r\n        // notification BAR\r\n        mHandler.postDelayed(updateRunnable, 5000);\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent,int flag, int start_id){\r\n        super.onStartCommand(intent,flag,start_id);\r\n        arrayList = intent.getStringArrayListExtra(&quot;image_url&quot;);\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onRebind(Intent intent) {\r\n        Log.v(&quot;Service&quot;,&quot;in onRebind&quot;);\r\n        super.onRebind(intent);\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return binder;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        serviceStopped = false;\r\n        mHandler = new Handler();\r\n        queueRunnable();\r\n    }\r\n\r\n    @Override\r\n    public void onStart(Intent intent, int startid) {\r\n\r\n    }\r\n\r\n    public void createNotificationIcon()\r\n    {\r\n        counter += 1;\r\n        Toast.makeText(this, &quot;Hello&quot;, Toast.LENGTH_SHORT).show();\r\n        Picasso.with(getApplicationContext()).load(arrayList.get(counter)).into(new Target() {\r\n            @Override\r\n            public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\r\n                try {\r\n                    final WallpaperManager wallpaperManager =\r\n                            WallpaperManager.getInstance(getApplicationContext());\r\n                    wallpaperManager.setBitmap(bitmap);\r\n                    wallpaperManager.suggestDesiredDimensions(1080, 1920);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            @Override\r\n            public void onBitmapFailed(Drawable errorDrawable) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onPrepareLoad(Drawable placeHolderDrawable) {\r\n                //Here you should place a loading gif in the ImageView to\r\n                //while image is being obtained.\r\n            }\r\n        });\r\n    }}\r\n\r\nThis is the code i am using to start service:\r\n\r\n    Intent intent = new Intent(CategoryActivity.this,WallpaperService.class);\r\n                intent.putExtra(&quot;image_url&quot;,img_urls);\r\n                intent.setAction(Constants.ACTION.STARTFOREGROUND_ACTION);\r\n                startService(intent);\r\n                bindService(intent,mServiceConnection, Context.BIND_AUTO_CREATE);\r\n\r\n","title":"Service get stopped on app closing","body":"<p>I am working on a wallpaper application in which i am setting a gallery of images on wallpaper with shuffle effect for 5 min, 10 min etc. I am using service for this task. My service works well when app remains in background, but service get stopped when app get stopped.This is my code for service class:</p>\n\n<pre><code>public class WallpaperService extends Service {\nArrayList&lt;String&gt; arrayList;int counter = 0;\n\nboolean serviceStopped;\n\nprivate IBinder binder = new WallpaperServiceBinder();\n\npublic WallpaperService() {\n}\n\nprivate Handler mHandler;\n\nprivate Runnable updateRunnable = new Runnable() {\n    @Override\n    public void run() {\n        if (serviceStopped == false)\n        {\n            createNotificationIcon();\n        }\n        queueRunnable();\n    }\n};\n\npublic class WallpaperServiceBinder extends Binder {\n    public WallpaperService getService() {\n        return WallpaperService.this;\n    }\n}\n\nprivate void queueRunnable() {\n    // 600000 : cada 10 minutos, comprueba si hay nuevas notificaciones y actualiza la\n    // notification BAR\n    mHandler.postDelayed(updateRunnable, 5000);\n}\n\n@Override\npublic int onStartCommand(Intent intent,int flag, int start_id){\n    super.onStartCommand(intent,flag,start_id);\n    arrayList = intent.getStringArrayListExtra(\"image_url\");\n    return START_STICKY;\n}\n\n@Override\npublic void onRebind(Intent intent) {\n    Log.v(\"Service\",\"in onRebind\");\n    super.onRebind(intent);\n}\n\n@Override\npublic IBinder onBind(Intent intent) {\n    return binder;\n}\n\n@Override\npublic void onCreate() {\n    serviceStopped = false;\n    mHandler = new Handler();\n    queueRunnable();\n}\n\n@Override\npublic void onStart(Intent intent, int startid) {\n\n}\n\npublic void createNotificationIcon()\n{\n    counter += 1;\n    Toast.makeText(this, \"Hello\", Toast.LENGTH_SHORT).show();\n    Picasso.with(getApplicationContext()).load(arrayList.get(counter)).into(new Target() {\n        @Override\n        public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\n            try {\n                final WallpaperManager wallpaperManager =\n                        WallpaperManager.getInstance(getApplicationContext());\n                wallpaperManager.setBitmap(bitmap);\n                wallpaperManager.suggestDesiredDimensions(1080, 1920);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        @Override\n        public void onBitmapFailed(Drawable errorDrawable) {\n\n        }\n\n        @Override\n        public void onPrepareLoad(Drawable placeHolderDrawable) {\n            //Here you should place a loading gif in the ImageView to\n            //while image is being obtained.\n        }\n    });\n}}\n</code></pre>\n\n<p>This is the code i am using to start service:</p>\n\n<pre><code>Intent intent = new Intent(CategoryActivity.this,WallpaperService.class);\n            intent.putExtra(\"image_url\",img_urls);\n            intent.setAction(Constants.ACTION.STARTFOREGROUND_ACTION);\n            startService(intent);\n            bindService(intent,mServiceConnection, Context.BIND_AUTO_CREATE);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1658154340,"post_id":73023859,"comment_id":128974246,"body_markdown":"The inner loop is using `i` where it should probably be using `k` (typo?). It is also using `givenArray` instead of `givenArray1`.","body":"The inner loop is using <code>i</code> where it should probably be using <code>k</code> (typo?). It is also using <code>givenArray</code> instead of <code>givenArray1</code>."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1658154467,"post_id":73023859,"comment_id":128974317,"body_markdown":"Also, why are you using nested loops anyway? You should probably have 2 separate loops: one to populate `givenArray` and one for `givenArray1`.","body":"Also, why are you using nested loops anyway? You should probably have 2 separate loops: one to populate <code>givenArray</code> and one for <code>givenArray1</code>."},{"owner":{"account_id":25836061,"reputation":3,"user_id":19572458,"display_name":"Rustam Abdiyev"},"score":0,"creation_date":1658154669,"post_id":73023859,"comment_id":128974416,"body_markdown":"That is correct, it`s (typo), But that is not the issue.  using the nested loop to iterate  indexes  in &quot;secondArray&quot;.","body":"That is correct, it`s (typo), But that is not the issue.  using the nested loop to iterate  indexes  in &quot;secondArray&quot;."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1658154937,"post_id":73023859,"comment_id":128974537,"body_markdown":"It works fine with typos fixed and 2 separate loops. Try it and see. When you have nested loops, you input the 2nd array `firstArray` times when you only want to enter it 1 time.","body":"It works fine with typos fixed and 2 separate loops. Try it and see. When you have nested loops, you input the 2nd array <code>firstArray</code> times when you only want to enter it 1 time."},{"owner":{"account_id":11394190,"reputation":331,"user_id":8353152,"display_name":"DBear"},"score":0,"creation_date":1658156347,"post_id":73023859,"comment_id":128975237,"body_markdown":"Please update the question to include the input that you are giving it through System.in.","body":"Please update the question to include the input that you are giving it through System.in."},{"owner":{"account_id":25836061,"reputation":3,"user_id":19572458,"display_name":"Rustam Abdiyev"},"score":0,"creation_date":1658157465,"post_id":73023859,"comment_id":128975789,"body_markdown":"I updated the question with Input data and all typos were fxied. Thank you.","body":"I updated the question with Input data and all typos were fxied. Thank you."},{"owner":{"account_id":25836061,"reputation":3,"user_id":19572458,"display_name":"Rustam Abdiyev"},"score":0,"creation_date":1658160547,"post_id":73023859,"comment_id":128977039,"body_markdown":"Thank you. The issue was resolved. i was adding come(,) after each input(or index), that was  issue.","body":"Thank you. The issue was resolved. i was adding come(,) after each input(or index), that was  issue."}],"answers":[{"tags":[],"owner":{"account_id":6078855,"reputation":526,"user_id":4745255,"display_name":"Jayaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658165464,"creation_date":1658165464,"answer_id":73026324,"question_id":73023859,"body_markdown":"You should enter array elements one by one. Do not enter with comma separated. It will be considered as String not int. \r\n\r\nElse, remove the for loop and get the array elements as comma separated using nextLine(), then split the input string based on &#39;,&#39; using string.split(&quot;,&quot;) which returns an array.","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException in Java","body":"<p>You should enter array elements one by one. Do not enter with comma separated. It will be considered as String not int.</p>\n<p>Else, remove the for loop and get the array elements as comma separated using nextLine(), then split the input string based on ',' using string.split(&quot;,&quot;) which returns an array.</p>\n"}],"owner":{"account_id":25836061,"reputation":3,"user_id":19572458,"display_name":"Rustam Abdiyev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73026324,"answer_count":1,"score":0,"last_activity_date":1658165464,"creation_date":1658153990,"question_id":73023859,"body_markdown":"when i try to run  below error code but getting error, i also used &quot;givenArray[i] = sc.next(); or givenArray[i] = sc.nextLine(); &quot; but still failing. \r\n    I tried many different ways but still got the same error.\r\nit seems Scanner is unable to read the array\r\nI need help with this code please, Thank you in advance.\r\n\r\n\r\nInput provided:\r\n Enter  length of first Array: 4 and hit enter,  \r\n Enter length of second Array: 4 and hit enter,  \r\n Enter First array: 2,3,4,5 and hit enter then it throws the below error.\r\n    \r\n    \r\n     private static boolean firstAndLastTwoArray(int[] firstArray, int[] secondArry){\r\n    \r\n    \r\n    \r\n            int  firsIndexOFirstArray = firstArray[0];\r\n            int lastIndexOfSecondArray = secondArry[secondArry.length -1];\r\n    \r\n    \r\n            if (firsIndexOFirstArray == lastIndexOfSecondArray) {\r\n    \r\n                return true;\r\n    \r\n            }else {\r\n                return false;\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter  length of first Array: &quot;);\r\n            int firstArray = sc.nextInt();\r\n            int[] givenArray = new int[firstArray];\r\n    \r\n    \r\n            System.out.println(&quot;Enter length of second Array: &quot;);\r\n            int secondArray = sc.nextInt();\r\n            int[] givenArray1 = new int[secondArray];\r\n    \r\n    \r\n    \r\n            for (int i = 0; i &lt;firstArray; i++) {\r\n    \r\n                System.out.println(&quot;Enter First array:&quot;);\r\n                givenArray[i] = sc.nextInt();\r\n    \r\n    \r\n                for (int k = 0; k &lt;secondArray; k++){\r\n    \r\n                    System.out.println(&quot;Enter Second array:&quot;);\r\n                    givenArray1[k] = sc.nextInt();\r\n                }\r\n            }\r\n    \r\n    \r\n            System.out.println(&quot;Result is: &quot; + firstAndLastTwoArray(givenArray,givenArray1));\r\n        }\r\n\r\nerror:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n    \tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n    \tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n    \tat w3Resource.Exercise76.main(Exercise76.java:54)","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException in Java","body":"<p>when i try to run  below error code but getting error, i also used &quot;givenArray[i] = sc.next(); or givenArray[i] = sc.nextLine(); &quot; but still failing.\nI tried many different ways but still got the same error.\nit seems Scanner is unable to read the array\nI need help with this code please, Thank you in advance.</p>\n<p>Input provided:\nEnter  length of first Array: 4 and hit enter,<br />\nEnter length of second Array: 4 and hit enter,<br />\nEnter First array: 2,3,4,5 and hit enter then it throws the below error.</p>\n<pre><code> private static boolean firstAndLastTwoArray(int[] firstArray, int[] secondArry){\n\n\n\n        int  firsIndexOFirstArray = firstArray[0];\n        int lastIndexOfSecondArray = secondArry[secondArry.length -1];\n\n\n        if (firsIndexOFirstArray == lastIndexOfSecondArray) {\n\n            return true;\n\n        }else {\n            return false;\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Enter  length of first Array: &quot;);\n        int firstArray = sc.nextInt();\n        int[] givenArray = new int[firstArray];\n\n\n        System.out.println(&quot;Enter length of second Array: &quot;);\n        int secondArray = sc.nextInt();\n        int[] givenArray1 = new int[secondArray];\n\n\n\n        for (int i = 0; i &lt;firstArray; i++) {\n\n            System.out.println(&quot;Enter First array:&quot;);\n            givenArray[i] = sc.nextInt();\n\n\n            for (int k = 0; k &lt;secondArray; k++){\n\n                System.out.println(&quot;Enter Second array:&quot;);\n                givenArray1[k] = sc.nextInt();\n            }\n        }\n\n\n        System.out.println(&quot;Result is: &quot; + firstAndLastTwoArray(givenArray,givenArray1));\n    }\n</code></pre>\n<p>error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n    at w3Resource.Exercise76.main(Exercise76.java:54)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1658214794,"post_id":73022256,"comment_id":128989216,"body_markdown":"Are you using the Log4j 2 API (`org.apache.logging.log4j.Logger`) to log? Are those all your application dependencies? My guess is that you are using SLF4J (`org.slf4j.Logger`) instead.","body":"Are you using the Log4j 2 API (<code>org.apache.logging.log4j.Logger</code>) to log? Are those all your application dependencies? My guess is that you are using SLF4J (<code>org.slf4j.Logger</code>) instead."}],"answers":[{"tags":[],"owner":{"account_id":17434662,"reputation":77,"user_id":12637910,"display_name":"Carlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658165417,"creation_date":1658165417,"answer_id":73026316,"question_id":73022256,"body_markdown":"You should use the `spring-boot-starter-log4j2` dependency, and if you need something more find gained, have a look inside that pom.","title":"Log4j2 is not taking the whole configuration","body":"<p>You should use the <code>spring-boot-starter-log4j2</code> dependency, and if you need something more find gained, have a look inside that pom.</p>\n"}],"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73026316,"answer_count":1,"score":0,"last_activity_date":1658165417,"creation_date":1658146983,"question_id":73022256,"body_markdown":"I&#39;m trying to log my application, but I have some problems.\r\n\r\nFirst of all, the pattern I have set is not the same as the pattern the console prints.\r\n\r\nMy pattern:\r\n```\r\n&lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n\t\t\t&lt;PatternLayout\r\n\t\t\t\t\tpattern=&quot;%d{dd-MM-yyyy HH:mm:ss.SSS} [%-5level] [%t] %c{1} - %msg%n HH:mm:ss.SSS%d{dd-MM-yyyy}0 | [%-1p]&quot; /&gt;\r\n&lt;/Console&gt;\r\n```\r\n\r\nWhat I see in the console:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnother issue is that the log files are empty, and I do not why.\r\n\r\nThis is my configuration:\r\n\r\n**Log4j2.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;Configuration status=&quot;trace&quot;&gt;\r\n\t&lt;Properties&gt;\r\n\t\t&lt;Property name=&quot;basePath&quot;&gt;C:/temp/logs&lt;/Property&gt;\r\n\t&lt;/Properties&gt;\r\n\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n\t\t\t&lt;PatternLayout\r\n\t\t\t\t\tpattern=&quot;%d{dd-MM-yyyy HH:mm:ss.SSS} [%-5level] [%t] %c{1} - %msg%n HH:mm:ss.SSS%d{dd-MM-yyyy}0 | [%-1p]&quot; /&gt;\r\n\t\t&lt;/Console&gt;\r\n\r\n\t\t&lt;RollingFile name=&quot;testController&quot;\r\n\t\t\t\t\t fileName=&quot;${basePath}/testController.log&quot;\r\n\t\t\t\t\t filePattern=&quot;${basePath}/testController-%d{yyyy-MM-dd}.log&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;pattern&gt;%d{dd-MM-yyyy HH:mm:ss.SSS} [%-5level] [%t] %c{1} - %msg%n\r\n\t\t\t\t&lt;/pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t\t&lt;!-- Max 10 files will be created everyday --&gt;\r\n\t\t\t&lt;DefaultRolloverStrategy max=&quot;10&quot;&gt;\r\n\t\t\t\t&lt;Delete basePath=&quot;${basePathr}&quot; maxDepth=&quot;10&quot;&gt;\r\n\t\t\t\t\t&lt;!-- Delete all files older than 30 days --&gt;\r\n\t\t\t\t\t&lt;IfLastModified age=&quot;365d&quot; /&gt;\r\n\t\t\t\t&lt;/Delete&gt;\r\n\t\t\t&lt;/DefaultRolloverStrategy&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Root level=&quot;info&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n**Path**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Pom**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.victor&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test-microservice&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;test-microservice&lt;/name&gt;\r\n\t&lt;description&gt;Test microservice&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- LOMBOK --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- LOG4J2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.lmax&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;disruptor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI think that the *log4j2.xml* is taking by the application, because when I start it, there is not a error about the xml configuration, but I do not understand why is not taking the pattern I set and why the logs are empty.\r\n\r\n  [1]: https://i.stack.imgur.com/5eUDR.png\r\n  [2]: https://i.stack.imgur.com/UofI2.png","title":"Log4j2 is not taking the whole configuration","body":"<p>I'm trying to log my application, but I have some problems.</p>\n<p>First of all, the pattern I have set is not the same as the pattern the console prints.</p>\n<p>My pattern:</p>\n<pre><code>&lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout\n                    pattern=&quot;%d{dd-MM-yyyy HH:mm:ss.SSS} [%-5level] [%t] %c{1} - %msg%n HH:mm:ss.SSS%d{dd-MM-yyyy}0 | [%-1p]&quot; /&gt;\n&lt;/Console&gt;\n</code></pre>\n<p>What I see in the console:</p>\n<p><a href=\"https://i.stack.imgur.com/5eUDR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5eUDR.png\" alt=\"enter image description here\" /></a></p>\n<p>Another issue is that the log files are empty, and I do not why.</p>\n<p>This is my configuration:</p>\n<p><strong>Log4j2.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;Configuration status=&quot;trace&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;basePath&quot;&gt;C:/temp/logs&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout\n                    pattern=&quot;%d{dd-MM-yyyy HH:mm:ss.SSS} [%-5level] [%t] %c{1} - %msg%n HH:mm:ss.SSS%d{dd-MM-yyyy}0 | [%-1p]&quot; /&gt;\n        &lt;/Console&gt;\n\n        &lt;RollingFile name=&quot;testController&quot;\n                     fileName=&quot;${basePath}/testController.log&quot;\n                     filePattern=&quot;${basePath}/testController-%d{yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{dd-MM-yyyy HH:mm:ss.SSS} [%-5level] [%t] %c{1} - %msg%n\n                &lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;!-- Max 10 files will be created everyday --&gt;\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;&gt;\n                &lt;Delete basePath=&quot;${basePathr}&quot; maxDepth=&quot;10&quot;&gt;\n                    &lt;!-- Delete all files older than 30 days --&gt;\n                    &lt;IfLastModified age=&quot;365d&quot; /&gt;\n                &lt;/Delete&gt;\n            &lt;/DefaultRolloverStrategy&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p><strong>Path</strong></p>\n<p><a href=\"https://i.stack.imgur.com/UofI2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UofI2.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Pom</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.victor&lt;/groupId&gt;\n    &lt;artifactId&gt;test-microservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test-microservice&lt;/name&gt;\n    &lt;description&gt;Test microservice&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- LOMBOK --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- LOG4J2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.11.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.11.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lmax&lt;/groupId&gt;\n            &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\n            &lt;version&gt;3.3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I think that the <em>log4j2.xml</em> is taking by the application, because when I start it, there is not a error about the xml configuration, but I do not understand why is not taking the pattern I set and why the logs are empty.</p>\n"},{"tags":["java","android","audio","media-player"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1658156353,"post_id":73023534,"comment_id":128975238,"body_markdown":"Create a foreground service... Setup player there","body":"Create a foreground service... Setup player there"},{"owner":{"account_id":24479782,"reputation":5,"user_id":18398358,"display_name":"MarcinC"},"score":0,"creation_date":1658252357,"post_id":73023534,"comment_id":129003961,"body_markdown":"@GobuCSG So create a service class and move everything from the PlayerActivity class there, which will no longer be needed. How to create a foreground service for audio player in Java langauge?","body":"@GobuCSG So create a service class and move everything from the PlayerActivity class there, which will no longer be needed. How to create a foreground service for audio player in Java langauge?"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1658255334,"post_id":73023534,"comment_id":129004954,"body_markdown":"Start foreground with notification","body":"Start foreground with notification"}],"answers":[{"tags":[],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658165346,"creation_date":1658165346,"answer_id":73026304,"question_id":73023534,"body_markdown":"Use a `Service` and implement all your `Media Player` logic there, like for example:\r\n```\r\npublic class MyService extends Service implements MediaPlayer.OnPreparedListener {\r\n        private static final String ACTION_PLAY = &quot;com.example.action.PLAY&quot;;\r\n        MediaPlayer mediaPlayer = null;\r\n\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            ...\r\n            if (intent.getAction().equals(ACTION_PLAY)) {\r\n                mediaPlayer = ... // initialize it here\r\n                mediaPlayer.setOnPreparedListener(this);\r\n                mediaPlayer.prepareAsync(); // prepare async to not block main thread\r\n            }\r\n        }\r\n\r\n        /** Called when MediaPlayer is ready */\r\n        public void onPrepared(MediaPlayer player) {\r\n            player.start();\r\n        }\r\n    }\r\n```\r\n\r\nThen from your `Main Activity` start the service like so:\r\n```\r\nContext context = getApplicationContext();\r\nIntent intent = new Intent(...); // Build the intent for the service\r\ncontext.startForegroundService(intent);\r\n```","title":"Android java audio player playing in background","body":"<p>Use a <code>Service</code> and implement all your <code>Media Player</code> logic there, like for example:</p>\n<pre><code>public class MyService extends Service implements MediaPlayer.OnPreparedListener {\n        private static final String ACTION_PLAY = &quot;com.example.action.PLAY&quot;;\n        MediaPlayer mediaPlayer = null;\n\n        public int onStartCommand(Intent intent, int flags, int startId) {\n            ...\n            if (intent.getAction().equals(ACTION_PLAY)) {\n                mediaPlayer = ... // initialize it here\n                mediaPlayer.setOnPreparedListener(this);\n                mediaPlayer.prepareAsync(); // prepare async to not block main thread\n            }\n        }\n\n        /** Called when MediaPlayer is ready */\n        public void onPrepared(MediaPlayer player) {\n            player.start();\n        }\n    }\n</code></pre>\n<p>Then from your <code>Main Activity</code> start the service like so:</p>\n<pre><code>Context context = getApplicationContext();\nIntent intent = new Intent(...); // Build the intent for the service\ncontext.startForegroundService(intent);\n</code></pre>\n"}],"owner":{"account_id":24479782,"reputation":5,"user_id":18398358,"display_name":"MarcinC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73026304,"answer_count":1,"score":0,"last_activity_date":1658165346,"creation_date":1658152629,"question_id":73023534,"body_markdown":"I am creating a audio player, for Android mobile application, writed in Java langauge. I am struggling with adding to my mobile app possiblity to play audio in background. When I get back during playing audio in player to menu or minimalize app audio stops.\r\n\r\nI searched for solution in net but I can&#39;t find how to do this in my player.\r\n\r\nI will accept any help. Many thanks for any suggestions.\r\n\r\nAudio player code:\r\n\r\n    package com.mc.englishlearn.audioplayer;\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.content.Intent;\r\n    import android.database.Cursor;\r\n    import android.media.AudioAttributes;\r\n    import android.media.MediaPlayer;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.provider.MediaStore;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.SeekBar;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import com.mc.englishlearn.R;\r\n\r\n    import java.io.IOException;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ScheduledExecutorService;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n     public class PlayerActivity extends AppCompatActivity {\r\n\r\n     MediaPlayer mediaPlayer;\r\n     Button play, replay, open;\r\n     SeekBar seekBar;\r\n     TextView title, elapse;\r\n     String duration;\r\n     ScheduledExecutorService timer;\r\n     public static final int PICK_FILE =99;\r\n     boolean isRepeat = false;\r\n\r\n    @Override\r\n    protected void onCreate (Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_player);\r\n\r\n        play = (Button)findViewById(R.id.play);\r\n        replay = (Button) findViewById(R.id.replay);\r\n        open = (Button) findViewById(R.id.open);\r\n        seekBar = (SeekBar) findViewById(R.id.seekBar);\r\n        title = (TextView) findViewById(R.id.title);\r\n        elapse = (TextView) findViewById(R.id.elapsed);\r\n\r\n        //Otwieranie pliku dzwiękowego\r\n                    open.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n                            intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                            intent.setType(&quot;audio/*&quot;);\r\n                            startActivityForResult(intent, PICK_FILE);\r\n\r\n                        }\r\n                    });\r\n\r\n                    //odtwarzanie pliku\r\n                    play.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            if(mediaPlayer != null){\r\n                                if(mediaPlayer.isPlaying()){\r\n                                    mediaPlayer.pause();\r\n                                    play.setText(&quot;PLAY&quot;);\r\n                                    timer.shutdown();\r\n                                }else{\r\n                                    mediaPlayer.start();\r\n                                    play.setText(&quot;PAUSE&quot;);\r\n\r\n                                    timer = Executors.newScheduledThreadPool(1);\r\n                                    timer.scheduleAtFixedRate(new Runnable() {\r\n                                        @Override\r\n                                        public void run() {\r\n                                            if (mediaPlayer != null) {\r\n                                                if (!seekBar.isPressed()) {\r\n                                                    seekBar.setProgress(mediaPlayer.getCurrentPosition());\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    },10,10, TimeUnit.MILLISECONDS);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    //linia dzwięku\r\n                    seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                        @Override\r\n                        public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n                            if (mediaPlayer != null){\r\n                                int millis = mediaPlayer.getCurrentPosition();\r\n                                long total_secs = TimeUnit.SECONDS.convert(millis, TimeUnit.MILLISECONDS);\r\n                                long mins = TimeUnit.MINUTES.convert(total_secs, TimeUnit.SECONDS);\r\n                    long secs = total_secs - (mins*60);\r\n                    elapse.setText(mins + &quot;:&quot; + secs + &quot; / &quot; + duration);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n                if (mediaPlayer != null) {\r\n                    mediaPlayer.seekTo(seekBar.getProgress());\r\n                }\r\n            }\r\n        });\r\n\r\n        //Pętla\r\n        replay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //repeat = false\r\n                if(isRepeat){\r\n                    isRepeat = false;\r\n                    mediaPlayer.setLooping(false);\r\n                    Toast.makeText(PlayerActivity.this, &quot;Repeat is OFF&quot;, Toast.LENGTH_SHORT).show();\r\n                }else{\r\n                    isRepeat = true;\r\n                    mediaPlayer.setLooping(true);\r\n                    Toast.makeText(PlayerActivity.this, &quot;Repeat is ON&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                   //mediaPlayer.setLooping(true);\r\n                  // Toast.makeText(PlayerActivity.this, &quot;Repeat if ON&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        play.setEnabled(false);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_FILE &amp;&amp; resultCode == RESULT_OK){\r\n            if (data != null){\r\n                Uri uri = data.getData();\r\n                createMediaPlayer(uri);\r\n            }\r\n        }\r\n    }\r\n\r\n    //Stw&#243;rz odtwarzacz dzwiękowy\r\n    public void createMediaPlayer(Uri uri){\r\n        mediaPlayer = new MediaPlayer();\r\n        mediaPlayer.setAudioAttributes(\r\n                new AudioAttributes.Builder()\r\n                        .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                        .setUsage(AudioAttributes.USAGE_MEDIA)\r\n                        .build()\r\n        );\r\n        try {\r\n            mediaPlayer.setDataSource(getApplicationContext(), uri);\r\n            mediaPlayer.prepare();\r\n\r\n            title.setText(getNameFromUri(uri));\r\n            play.setEnabled(true);\r\n\r\n            int millis = mediaPlayer.getDuration();\r\n            long total_secs = TimeUnit.SECONDS.convert(millis, TimeUnit.MILLISECONDS);\r\n            long mins = TimeUnit.MINUTES.convert(total_secs, TimeUnit.SECONDS);\r\n            long secs = total_secs - (mins*60);\r\n            duration = mins + &quot;:&quot; + secs;\r\n            elapse.setText(&quot;00:00 / &quot; + duration);\r\n            seekBar.setMax(millis);\r\n            seekBar.setProgress(0);\r\n\r\n            mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n                @Override\r\n                public void onCompletion(MediaPlayer mp) {\r\n                    releaseMediaPlayer();\r\n\r\n                }\r\n            });\r\n        } catch (IOException e){\r\n            title.setText(e.toString());\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;Range&quot;)\r\n    public String getNameFromUri(Uri uri){\r\n        String fileName = &quot;&quot;;\r\n        Cursor cursor = null;\r\n        cursor = getContentResolver().query(uri, new String[]{\r\n                MediaStore.Images.ImageColumns.DISPLAY_NAME\r\n        }, null, null, null);\r\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n            fileName = cursor.getString(cursor.getColumnIndex(MediaStore.Images.ImageColumns.DISPLAY_NAME));\r\n        }\r\n        if (cursor != null) {\r\n            cursor.close();\r\n        }\r\n        return fileName;\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        releaseMediaPlayer();\r\n    }\r\n\r\n    public void releaseMediaPlayer(){\r\n        if (timer != null) {\r\n            timer.shutdown();\r\n        }\r\n        if (mediaPlayer != null) {\r\n            mediaPlayer.release();\r\n            mediaPlayer = null;\r\n        }\r\n        play.setEnabled(false);\r\n        elapse.setText(&quot;TITLE&quot;);\r\n        elapse.setText(&quot;00:00 / 00:00&quot;);\r\n        seekBar.setMax(100);\r\n        seekBar.setProgress(0);\r\n    }\r\n    }\r\n\r\n\r\nXml file code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;SeekBar\r\n        android:id=&quot;@+id/seekBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/guideline3&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guideline2&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/title&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;195dp&quot;\r\n        android:layout_marginTop=&quot;178dp&quot;\r\n        android:layout_marginEnd=&quot;216dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/guideline4&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/elapsed&quot;\r\n        android:layout_width=&quot;74dp&quot;\r\n        android:layout_height=&quot;34dp&quot;\r\n        android:layout_marginStart=&quot;177dp&quot;\r\n        android:layout_marginEnd=&quot;196dp&quot;\r\n        android:text=&quot;00-00&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/guideline2&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.25&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guideline4&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.625&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guideline2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintGuide_begin=&quot;271dp&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guideline3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintGuide_begin=&quot;339dp&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout&quot;\r\n        android:layout_width=&quot;93dp&quot;\r\n        android:layout_height=&quot;108dp&quot;\r\n        android:layout_marginStart=&quot;160dp&quot;\r\n        android:layout_marginEnd=&quot;158dp&quot;\r\n        android:layout_marginBottom=&quot;118dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/replay&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guideline3&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/play&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:backgroundTint=&quot;@color/green&quot;\r\n            android:text=&quot;|&gt;&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/open&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Otw&#243;rz plik&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guideline4&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintGuide_begin=&quot;213dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/replay&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;powt&#243;rz&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guideline5&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/start&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;72dp&quot;\r\n        android:text=&quot;start&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/end&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/guideline8&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guideline5&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/end&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;80dp&quot;\r\n        android:text=&quot;koniec&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/guideline8&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guideline5&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guideline5&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintGuide_begin=&quot;515dp&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guideline8&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintGuide_begin=&quot;205dp&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Android java audio player playing in background","body":"<p>I am creating a audio player, for Android mobile application, writed in Java langauge. I am struggling with adding to my mobile app possiblity to play audio in background. When I get back during playing audio in player to menu or minimalize app audio stops.</p>\n<p>I searched for solution in net but I can't find how to do this in my player.</p>\n<p>I will accept any help. Many thanks for any suggestions.</p>\n<p>Audio player code:</p>\n<pre><code>package com.mc.englishlearn.audioplayer;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.media.AudioAttributes;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.SeekBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.mc.englishlearn.R;\n\nimport java.io.IOException;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\n public class PlayerActivity extends AppCompatActivity {\n\n MediaPlayer mediaPlayer;\n Button play, replay, open;\n SeekBar seekBar;\n TextView title, elapse;\n String duration;\n ScheduledExecutorService timer;\n public static final int PICK_FILE =99;\n boolean isRepeat = false;\n\n@Override\nprotected void onCreate (Bundle savedInstanceState){\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_player);\n\n    play = (Button)findViewById(R.id.play);\n    replay = (Button) findViewById(R.id.replay);\n    open = (Button) findViewById(R.id.open);\n    seekBar = (SeekBar) findViewById(R.id.seekBar);\n    title = (TextView) findViewById(R.id.title);\n    elapse = (TextView) findViewById(R.id.elapsed);\n\n    //Otwieranie pliku dzwiękowego\n                open.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n                        intent.addCategory(Intent.CATEGORY_OPENABLE);\n                        intent.setType(&quot;audio/*&quot;);\n                        startActivityForResult(intent, PICK_FILE);\n\n                    }\n                });\n\n                //odtwarzanie pliku\n                play.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        if(mediaPlayer != null){\n                            if(mediaPlayer.isPlaying()){\n                                mediaPlayer.pause();\n                                play.setText(&quot;PLAY&quot;);\n                                timer.shutdown();\n                            }else{\n                                mediaPlayer.start();\n                                play.setText(&quot;PAUSE&quot;);\n\n                                timer = Executors.newScheduledThreadPool(1);\n                                timer.scheduleAtFixedRate(new Runnable() {\n                                    @Override\n                                    public void run() {\n                                        if (mediaPlayer != null) {\n                                            if (!seekBar.isPressed()) {\n                                                seekBar.setProgress(mediaPlayer.getCurrentPosition());\n                                            }\n                                        }\n                                    }\n                                },10,10, TimeUnit.MILLISECONDS);\n                            }\n                        }\n                    }\n                });\n\n                //linia dzwięku\n                seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n                    @Override\n                    public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n                        if (mediaPlayer != null){\n                            int millis = mediaPlayer.getCurrentPosition();\n                            long total_secs = TimeUnit.SECONDS.convert(millis, TimeUnit.MILLISECONDS);\n                            long mins = TimeUnit.MINUTES.convert(total_secs, TimeUnit.SECONDS);\n                long secs = total_secs - (mins*60);\n                elapse.setText(mins + &quot;:&quot; + secs + &quot; / &quot; + duration);\n            }\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n            if (mediaPlayer != null) {\n                mediaPlayer.seekTo(seekBar.getProgress());\n            }\n        }\n    });\n\n    //Pętla\n    replay.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            //repeat = false\n            if(isRepeat){\n                isRepeat = false;\n                mediaPlayer.setLooping(false);\n                Toast.makeText(PlayerActivity.this, &quot;Repeat is OFF&quot;, Toast.LENGTH_SHORT).show();\n            }else{\n                isRepeat = true;\n                mediaPlayer.setLooping(true);\n                Toast.makeText(PlayerActivity.this, &quot;Repeat is ON&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n               //mediaPlayer.setLooping(true);\n              // Toast.makeText(PlayerActivity.this, &quot;Repeat if ON&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n    play.setEnabled(false);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == PICK_FILE &amp;&amp; resultCode == RESULT_OK){\n        if (data != null){\n            Uri uri = data.getData();\n            createMediaPlayer(uri);\n        }\n    }\n}\n\n//Stwórz odtwarzacz dzwiękowy\npublic void createMediaPlayer(Uri uri){\n    mediaPlayer = new MediaPlayer();\n    mediaPlayer.setAudioAttributes(\n            new AudioAttributes.Builder()\n                    .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                    .setUsage(AudioAttributes.USAGE_MEDIA)\n                    .build()\n    );\n    try {\n        mediaPlayer.setDataSource(getApplicationContext(), uri);\n        mediaPlayer.prepare();\n\n        title.setText(getNameFromUri(uri));\n        play.setEnabled(true);\n\n        int millis = mediaPlayer.getDuration();\n        long total_secs = TimeUnit.SECONDS.convert(millis, TimeUnit.MILLISECONDS);\n        long mins = TimeUnit.MINUTES.convert(total_secs, TimeUnit.SECONDS);\n        long secs = total_secs - (mins*60);\n        duration = mins + &quot;:&quot; + secs;\n        elapse.setText(&quot;00:00 / &quot; + duration);\n        seekBar.setMax(millis);\n        seekBar.setProgress(0);\n\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mp) {\n                releaseMediaPlayer();\n\n            }\n        });\n    } catch (IOException e){\n        title.setText(e.toString());\n    }\n}\n\n@SuppressLint(&quot;Range&quot;)\npublic String getNameFromUri(Uri uri){\n    String fileName = &quot;&quot;;\n    Cursor cursor = null;\n    cursor = getContentResolver().query(uri, new String[]{\n            MediaStore.Images.ImageColumns.DISPLAY_NAME\n    }, null, null, null);\n    if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n        fileName = cursor.getString(cursor.getColumnIndex(MediaStore.Images.ImageColumns.DISPLAY_NAME));\n    }\n    if (cursor != null) {\n        cursor.close();\n    }\n    return fileName;\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    releaseMediaPlayer();\n}\n\npublic void releaseMediaPlayer(){\n    if (timer != null) {\n        timer.shutdown();\n    }\n    if (mediaPlayer != null) {\n        mediaPlayer.release();\n        mediaPlayer = null;\n    }\n    play.setEnabled(false);\n    elapse.setText(&quot;TITLE&quot;);\n    elapse.setText(&quot;00:00 / 00:00&quot;);\n    seekBar.setMax(100);\n    seekBar.setProgress(0);\n}\n}\n</code></pre>\n<p>Xml file code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;SeekBar\n    android:id=&quot;@+id/seekBar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/guideline3&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/guideline2&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/title&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;195dp&quot;\n    android:layout_marginTop=&quot;178dp&quot;\n    android:layout_marginEnd=&quot;216dp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/guideline4&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/elapsed&quot;\n    android:layout_width=&quot;74dp&quot;\n    android:layout_height=&quot;34dp&quot;\n    android:layout_marginStart=&quot;177dp&quot;\n    android:layout_marginEnd=&quot;196dp&quot;\n    android:text=&quot;00-00&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/guideline2&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.25&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/guideline4&quot;\n    app:layout_constraintVertical_bias=&quot;0.625&quot; /&gt;\n\n&lt;androidx.constraintlayout.widget.Guideline\n    android:id=&quot;@+id/guideline2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintGuide_begin=&quot;271dp&quot; /&gt;\n\n&lt;androidx.constraintlayout.widget.Guideline\n    android:id=&quot;@+id/guideline3&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintGuide_begin=&quot;339dp&quot; /&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/linearLayout&quot;\n    android:layout_width=&quot;93dp&quot;\n    android:layout_height=&quot;108dp&quot;\n    android:layout_marginStart=&quot;160dp&quot;\n    android:layout_marginEnd=&quot;158dp&quot;\n    android:layout_marginBottom=&quot;118dp&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/replay&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/guideline3&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/play&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:backgroundTint=&quot;@color/green&quot;\n        android:text=&quot;|&gt;&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/open&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Otwórz plik&quot; /&gt;\n&lt;/LinearLayout&gt;\n\n&lt;androidx.constraintlayout.widget.Guideline\n    android:id=&quot;@+id/guideline4&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintGuide_begin=&quot;213dp&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/replay&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;powtórz&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/guideline5&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/start&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;72dp&quot;\n    android:text=&quot;start&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;@+id/end&quot;\n    app:layout_constraintEnd_toStartOf=&quot;@+id/guideline8&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/guideline5&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/end&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginEnd=&quot;80dp&quot;\n    android:text=&quot;koniec&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;@+id/guideline8&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/guideline5&quot; /&gt;\n\n&lt;androidx.constraintlayout.widget.Guideline\n    android:id=&quot;@+id/guideline5&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintGuide_begin=&quot;515dp&quot; /&gt;\n\n&lt;androidx.constraintlayout.widget.Guideline\n    android:id=&quot;@+id/guideline8&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintGuide_begin=&quot;205dp&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":4,"creation_date":1658163508,"post_id":73025950,"comment_id":128978111,"body_markdown":"You&#39;re trying to call a method with 4 `double` arguments. You don&#39;t have such method: hence - compilation error.","body":"You&#39;re trying to call a method with 4 <code>double</code> arguments. You don&#39;t have such method: hence - compilation error."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1658163521,"post_id":73025950,"comment_id":128978117,"body_markdown":"The 3rd parameter should be an `int` but you are passing a `double`.","body":"The 3rd parameter should be an <code>int</code> but you are passing a <code>double</code>."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":4,"creation_date":1658163671,"post_id":73025950,"comment_id":128978179,"body_markdown":"Also, [Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"Also, <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1658163760,"post_id":73025950,"comment_id":128978206,"body_markdown":"@JohnnyMopp The image is perfectly fine in this case. The full code is uploaded as text. Images are bad on their own, but if they&#39;re supplementary there&#39;s nothing wrong with it.","body":"@JohnnyMopp The image is perfectly fine in this case. The full code is uploaded as text. Images are bad on their own, but if they&#39;re supplementary there&#39;s nothing wrong with it."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":4,"creation_date":1658163983,"post_id":73025950,"comment_id":128978276,"body_markdown":"@Michael Seems useless to me. The code is cut-off as is the error message. OP wasted their time grabbing a screen shot and uploading it. And they wasted our time by having us click on the link and visit and external site for some pointless image.","body":"@Michael Seems useless to me. The code is cut-off as is the error message. OP wasted their time grabbing a screen shot and uploading it. And they wasted our time by having us click on the link and visit and external site for some pointless image."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1658164258,"post_id":73025950,"comment_id":128978367,"body_markdown":"Another issue: The last three functions should probably return `double` not `int`.","body":"Another issue: The last three functions should probably return <code>double</code> not <code>int</code>."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1658164287,"post_id":73025950,"comment_id":128978377,"body_markdown":"@JohnnyMopp It&#39;s not massively helpful, but I see no reason to actively discourage them from doing it. Sometimes the IDE will show something that those trying to repro with the same code won&#39;t see, if for example the IDE is misconfigured. Almost all of the reasons in that post you linked to only apply when the image is posted *instead* of the text, not *in addition to* it, so I think it&#39;s only going to confuse them. As for the site being external, imgur is what Stack Overflow chooses to host its images, so they can do nothing about that.","body":"@JohnnyMopp It&#39;s not massively helpful, but I see no reason to actively discourage them from doing it. Sometimes the IDE will show something that those trying to repro with the same code won&#39;t see, if for example the IDE is misconfigured. Almost all of the reasons in that post you linked to only apply when the image is posted <i>instead</i> of the text, not <i>in addition to</i> it, so I think it&#39;s only going to confuse them. As for the site being external, imgur is what Stack Overflow chooses to host its images, so they can do nothing about that."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1658164966,"post_id":73025950,"comment_id":128978588,"body_markdown":"@Michael Agree to disagree, but this is not the place to discuss it. That would be Meta, I guess. Which, btw, is where I got that link: from [the SO Faq on Meta](https://meta.stackoverflow.com/questions/251225/faq-index-for-stack-overflow).","body":"@Michael Agree to disagree, but this is not the place to discuss it. That would be Meta, I guess. Which, btw, is where I got that link: from <a href=\"https://meta.stackoverflow.com/questions/251225/faq-index-for-stack-overflow\">the SO Faq on Meta</a>."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1658165365,"post_id":73025950,"comment_id":128978738,"body_markdown":"@JohnnyMopp I&#39;m familiar with meta... That doesn&#39;t mean that the reasons on that page apply to this situation. There are 15 reasons given in that first answer, and none of them apply.","body":"@JohnnyMopp I&#39;m familiar with meta... That doesn&#39;t mean that the reasons on that page apply to this situation. There are 15 reasons given in that first answer, and none of them apply."}],"answers":[{"tags":[],"owner":{"account_id":6056761,"reputation":36,"user_id":5223340,"display_name":"Taras"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658165325,"creation_date":1658165325,"answer_id":73026298,"question_id":73025950,"body_markdown":"To fix the errors, you need to do a few things:\r\n\r\n1. In methods 4, 5, and 6 - update the &quot;return type&quot; from `int` to `double` (the one which goes after the word `static`)\r\n2. In method 6 - update the parameter `int c` to `double c`\r\n\r\nSo your methods 4, 5, and 6 should look like this:\r\n```\r\n    static double add(double a, double b) {\r\n\t\tSystem.out.println(&quot;this is a overloaded method #4&quot;);\r\n\t\treturn a + b;\r\n\t}\r\n\r\n\tstatic double add(double a, double b, double c){\r\n\t\tSystem.out.println(&quot;this is a overloaded method #5&quot;);\r\n\t\treturn a + b + c;\r\n\t}\r\n\r\n\tstatic double add(double a, double b, double c, double d) {\r\n\t\tSystem.out.println(&quot;this is a overloaded method #6&quot;);\r\n\t\treturn a + b + c + d;\r\n\t}\r\n```","title":"how to solve The method add(double, double, int, double) in the type main is not applicable for the arguments (double, double, double, double)","body":"<p>To fix the errors, you need to do a few things:</p>\n<ol>\n<li>In methods 4, 5, and 6 - update the &quot;return type&quot; from <code>int</code> to <code>double</code> (the one which goes after the word <code>static</code>)</li>\n<li>In method 6 - update the parameter <code>int c</code> to <code>double c</code></li>\n</ol>\n<p>So your methods 4, 5, and 6 should look like this:</p>\n<pre><code>    static double add(double a, double b) {\n        System.out.println(&quot;this is a overloaded method #4&quot;);\n        return a + b;\n    }\n\n    static double add(double a, double b, double c){\n        System.out.println(&quot;this is a overloaded method #5&quot;);\n        return a + b + c;\n    }\n\n    static double add(double a, double b, double c, double d) {\n        System.out.println(&quot;this is a overloaded method #6&quot;);\n        return a + b + c + d;\n    }\n</code></pre>\n"}],"owner":{"account_id":25837619,"reputation":3,"user_id":19573777,"display_name":"the green blob"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":73026298,"answer_count":1,"score":-4,"last_activity_date":1658165325,"creation_date":1658163375,"question_id":73025950,"body_markdown":"\r\nif you are replying pls show me code and tips\r\nthe code comes from bro code and im still learnin sorry\r\n\r\ni have fixed a couple of other errors but it still doesn&#39;t work\r\n\r\n    public class main {\r\n        public static void main(String[] args) {\r\n            double x = add(1.0,2.0,3.0,4.0);\r\n            System.out.println(x);\r\n        }\t\r\n        \t\t\r\n      \tstatic int add (int a , int b) {\r\n       \t\tSystem.out.println(&quot;this is a overloaded method #1&quot;);\r\n       \t\treturn a + b;\r\n       \t}\r\n        \t\r\n       \tstatic int add (int a , int b, int c) {\r\n        \tSystem.out.println(&quot;this is a overloaded method #2&quot;);\r\n        \treturn a + b + c;\r\n        }\r\n        \r\n        static int add (int a , int b, int c, int d) {\r\n        \tSystem.out.println(&quot;this is a overloaded method #3&quot;);\r\n        \treturn a + b + c + d;\r\n        }\r\n        \t\r\n        static int add (double a , double b) {\r\n    \t    System.out.println(&quot;this is a overloaded method #4&quot;);\r\n    \t    return a + b;\r\n        }\r\n\r\n        static int add (double a ,double b, double c){\r\n        \tSystem.out.println(&quot;this is a overloaded method #5&quot;);\r\n    \t    return a + b + c;\r\n        }\r\n\r\n        static int add (double a , double b, int c, double d) {\r\n        \tSystem.out.println(&quot;this is a overloaded method #6&quot;);\r\n    \t    return a + b + c + d;\r\n        }\r\n    }\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jXUAQ.png","title":"how to solve The method add(double, double, int, double) in the type main is not applicable for the arguments (double, double, double, double)","body":"<p>if you are replying pls show me code and tips\nthe code comes from bro code and im still learnin sorry</p>\n<p>i have fixed a couple of other errors but it still doesn't work</p>\n<pre><code>public class main {\n    public static void main(String[] args) {\n        double x = add(1.0,2.0,3.0,4.0);\n        System.out.println(x);\n    }   \n            \n    static int add (int a , int b) {\n        System.out.println(&quot;this is a overloaded method #1&quot;);\n        return a + b;\n    }\n        \n    static int add (int a , int b, int c) {\n        System.out.println(&quot;this is a overloaded method #2&quot;);\n        return a + b + c;\n    }\n    \n    static int add (int a , int b, int c, int d) {\n        System.out.println(&quot;this is a overloaded method #3&quot;);\n        return a + b + c + d;\n    }\n        \n    static int add (double a , double b) {\n        System.out.println(&quot;this is a overloaded method #4&quot;);\n        return a + b;\n    }\n\n    static int add (double a ,double b, double c){\n        System.out.println(&quot;this is a overloaded method #5&quot;);\n        return a + b + c;\n    }\n\n    static int add (double a , double b, int c, double d) {\n        System.out.println(&quot;this is a overloaded method #6&quot;);\n        return a + b + c + d;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jXUAQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658165259,"creation_date":1658164998,"answer_id":73026245,"question_id":73026220,"body_markdown":"You can make Lombok ignore existing methods by annotating them with [`@Tolerate`](https://projectlombok.org/features/experimental/Tolerate).","title":"Keep original lombok builder setter and overload","body":"<p>You can make Lombok ignore existing methods by annotating them with <a href=\"https://projectlombok.org/features/experimental/Tolerate\" rel=\"nofollow noreferrer\"><code>@Tolerate</code></a>.</p>\n"}],"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73026245,"answer_count":1,"score":4,"last_activity_date":1658165259,"creation_date":1658164873,"question_id":73026220,"body_markdown":"I&#39;m making a Builder using lombok but have noticed that if I overload a setter, it stops generating the original.\r\n\r\nIn example below, there&#39;s no setter for `NamedIdentity player` anymore. In my case, I want both the original and the overload. I don&#39;t see any documentation that forces the original so I see only two options:\r\n\r\n- Manually add the missing setter myself\r\n- Name the second setter differently\r\n\r\n\r\n```\r\npublic class Activity {\r\n\r\n    @Builder()\r\n    public Activity(NamedIdentity player) {}\r\n\r\n\r\n    public static class ActivityBuilder {\r\n\r\n        public ActivityBuilder player(UUID uuid, String name) {\r\n            this.player = new NamedIdentity(uuid, name));\r\n            return this;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIs there another way to accomplish this?","title":"Keep original lombok builder setter and overload","body":"<p>I'm making a Builder using lombok but have noticed that if I overload a setter, it stops generating the original.</p>\n<p>In example below, there's no setter for <code>NamedIdentity player</code> anymore. In my case, I want both the original and the overload. I don't see any documentation that forces the original so I see only two options:</p>\n<ul>\n<li>Manually add the missing setter myself</li>\n<li>Name the second setter differently</li>\n</ul>\n<pre><code>public class Activity {\n\n    @Builder()\n    public Activity(NamedIdentity player) {}\n\n\n    public static class ActivityBuilder {\n\n        public ActivityBuilder player(UUID uuid, String name) {\n            this.player = new NamedIdentity(uuid, name));\n            return this;\n        }\n    }\n}\n</code></pre>\n<p>Is there another way to accomplish this?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":8013882,"reputation":102,"user_id":6044791,"display_name":"Easterwood"},"score":0,"creation_date":1658165625,"post_id":73026265,"comment_id":128978841,"body_markdown":"The Answer https://stackoverflow.com/a/13768738/6044791 doesn&#39;t solve my question but explains why I could not find any solution.","body":"The Answer <a href=\"https://stackoverflow.com/a/13768738/6044791\">stackoverflow.com/a/13768738/6044791</a> doesn&#39;t solve my question but explains why I could not find any solution."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1658166868,"post_id":73026265,"comment_id":128979288,"body_markdown":"Look at the other answers too, there are some solutions although they do come with some caveats.","body":"Look at the other answers too, there are some solutions although they do come with some caveats."},{"owner":{"account_id":8013882,"reputation":102,"user_id":6044791,"display_name":"Easterwood"},"score":1,"creation_date":1658167936,"post_id":73026265,"comment_id":128979649,"body_markdown":"Thx I already considered it and implemented it with Bean Validation.","body":"Thx I already considered it and implemented it with Bean Validation."},{"owner":{"account_id":8013882,"reputation":102,"user_id":6044791,"display_name":"Easterwood"},"score":0,"creation_date":1658167951,"post_id":73026265,"comment_id":128979656,"body_markdown":"Should I delete my question?","body":"Should I delete my question?"},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":1,"creation_date":1658168616,"post_id":73026265,"comment_id":128979893,"body_markdown":"No it&#39;s perfectly fine and will help people who search for similar keywords instead of &quot;required&quot;.","body":"No it&#39;s perfectly fine and will help people who search for similar keywords instead of &quot;required&quot;."}],"owner":{"account_id":8013882,"reputation":102,"user_id":6044791,"display_name":"Easterwood"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658165150,"answer_count":0,"score":0,"last_activity_date":1658165094,"creation_date":1658165094,"question_id":73026265,"body_markdown":"I have a simple JSON file and a corresponding Java class. I want that the deserialization process fails if the JSON file misses one of the properties from the Java class or a property is `null`. I tried several things e.g. `@JsonIncludePropertie`s or Jacksons deserialization features `FAIL_ON_MISSING_CREATOR_PROPERTIES`, `FAIL_ON_NULL_CREATOR_PROPERTIES`. No luck. Also I could not find any help form the Jackson documentation. I almost think that isn&#39;t possible at all.\r\n\r\nJSON file:\r\n```json\r\n{ \r\n  &quot;propA&quot;: &quot;foo&quot;,\r\n  &quot;propB&quot;: &quot;bar&quot;\r\n}\r\n```\r\nJava class:\r\n```java\r\npublic class Props {\r\n  public String propA;    \r\n  public String propB;\r\n}   \r\n```\r\nI skiped the boilerplait code like getter or setter to make the example as small as possible. ","title":"How to make deserialization fail with Jackson when JSON is incomplete?","body":"<p>I have a simple JSON file and a corresponding Java class. I want that the deserialization process fails if the JSON file misses one of the properties from the Java class or a property is <code>null</code>. I tried several things e.g. <code>@JsonIncludePropertie</code>s or Jacksons deserialization features <code>FAIL_ON_MISSING_CREATOR_PROPERTIES</code>, <code>FAIL_ON_NULL_CREATOR_PROPERTIES</code>. No luck. Also I could not find any help form the Jackson documentation. I almost think that isn't possible at all.</p>\n<p>JSON file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n  &quot;propA&quot;: &quot;foo&quot;,\n  &quot;propB&quot;: &quot;bar&quot;\n}\n</code></pre>\n<p>Java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Props {\n  public String propA;    \n  public String propB;\n}   \n</code></pre>\n<p>I skiped the boilerplait code like getter or setter to make the example as small as possible.</p>\n"},{"tags":["java","xcode","osx-lion","ctags"],"answers":[{"tags":[],"owner":{"account_id":156361,"reputation":2469,"user_id":373596,"accept_rate":88,"display_name":"avendael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658164878,"creation_date":1331883269,"answer_id":9733519,"question_id":9106867,"body_markdown":"For all I know /usr/bin/ctags and /Developer/usr/bin/ctags are the same. I believe they are very old versions of ctags that comes shipped with OSX. You can check the version on the manpage if it has any. I suggest you install ctags from the [brew][1] package manager. Brew ships exuberant ctags 5.8 and I&#39;m guessing this is the ctags that you want to use.\r\n\r\nTrivia: I think OSX mirrors some unix files into non unix standard, osx-style directories. For instance, /usr/bin/ctags and /Developer/usr/bin/ctags are the same. The same is also true for /etc/hosts and /private/etc/hosts. However ls -l shows that the mirrored files are not softlinks. I&#39;m guessing that they are hardlinks, but I&#39;m not sure about this because I&#39;m a relatively new OSX user.\r\n\r\n\r\n  [1]: https://brew.sh","title":"OSX Lion ctags Java support","body":"<p>For all I know /usr/bin/ctags and /Developer/usr/bin/ctags are the same. I believe they are very old versions of ctags that comes shipped with OSX. You can check the version on the manpage if it has any. I suggest you install ctags from the <a href=\"https://brew.sh\" rel=\"nofollow noreferrer\">brew</a> package manager. Brew ships exuberant ctags 5.8 and I'm guessing this is the ctags that you want to use.</p>\n<p>Trivia: I think OSX mirrors some unix files into non unix standard, osx-style directories. For instance, /usr/bin/ctags and /Developer/usr/bin/ctags are the same. The same is also true for /etc/hosts and /private/etc/hosts. However ls -l shows that the mirrored files are not softlinks. I'm guessing that they are hardlinks, but I'm not sure about this because I'm a relatively new OSX user.</p>\n"}],"owner":{"account_id":149478,"reputation":981,"user_id":361992,"accept_rate":100,"display_name":"wonbyte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9733519,"answer_count":1,"score":2,"last_activity_date":1658164878,"creation_date":1328154204,"question_id":9106867,"body_markdown":"I am running OSX Lion with Xcode 4.2.1 installed. Does the ctags that comes with Xcode support java or do I have to try an build exuberant crags?\r\n\r\nAlso, I noticed there is a ctags in /usr/bin/ctags and /Developer/usr/bin/ctags. Are they different?\r\n\r\nThanks,\r\nGreg","title":"OSX Lion ctags Java support","body":"<p>I am running OSX Lion with Xcode 4.2.1 installed. Does the ctags that comes with Xcode support java or do I have to try an build exuberant crags?</p>\n\n<p>Also, I noticed there is a ctags in /usr/bin/ctags and /Developer/usr/bin/ctags. Are they different?</p>\n\n<p>Thanks,\nGreg</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1862192,"reputation":1847,"user_id":1686575,"accept_rate":65,"display_name":"John Manko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657902705,"creation_date":1657902705,"answer_id":72997104,"question_id":72986520,"body_markdown":"Are you saying that you basically want all students that have, or don&#39;t have, contact info?\r\n\r\nYour query is explicitly joining `Student` and `Contact`, so of course it&#39;s going to join them. You already have the `fetch` as `LAZY`.  That should prevent the fetching of the `Contact` until you access `student.getContact()`.  Just doing something like `@Query(&quot;select s from Student s&quot;)` should get you just the student entity records.\r\n\r\nIf you&#39;re looking to filter on the existence of a `Contact` relationship without fetching that data, something like the following would work.\r\n\r\nI would remove the relationship from `Contact`:\r\n\r\n```\r\n@Data\r\n@Table(name = &quot;contacts&quot;)\r\npublic class Contact {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n```\r\n\r\nThen, write `Student` like such:\r\n\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;students&quot;)\r\npublic class Student {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;}) //should this be added\r\n    @JsonManagedReference\r\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;contact_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Contact contact;\r\n\r\n    @Column(insertable = false, updatable = false, name = &quot;contact_id&quot;, nullable = false)\r\n    private Long contactID;\r\n   \r\n```\r\n\r\nThen your query would be:\r\n\r\n```\r\nselect s from Student s where s.contactId IS NULL\r\n```\r\n\r\n```\r\nselect s from Student s where s.contactId IS NOT NULL\r\n```\r\n\r\nThat allows the query to inspect the foreign key without joining against `Contact`.","title":"Is There a Way to Turn A JPA OneToOne Relationship On and Off for an Entity? Query override in Repository Not Being Followed","body":"<p>Are you saying that you basically want all students that have, or don't have, contact info?</p>\n<p>Your query is explicitly joining <code>Student</code> and <code>Contact</code>, so of course it's going to join them. You already have the <code>fetch</code> as <code>LAZY</code>.  That should prevent the fetching of the <code>Contact</code> until you access <code>student.getContact()</code>.  Just doing something like <code>@Query(&quot;select s from Student s&quot;)</code> should get you just the student entity records.</p>\n<p>If you're looking to filter on the existence of a <code>Contact</code> relationship without fetching that data, something like the following would work.</p>\n<p>I would remove the relationship from <code>Contact</code>:</p>\n<pre><code>@Data\n@Table(name = &quot;contacts&quot;)\npublic class Contact {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n</code></pre>\n<p>Then, write <code>Student</code> like such:</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;students&quot;)\npublic class Student {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;}) //should this be added\n    @JsonManagedReference\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;contact_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Contact contact;\n\n    @Column(insertable = false, updatable = false, name = &quot;contact_id&quot;, nullable = false)\n    private Long contactID;\n   \n</code></pre>\n<p>Then your query would be:</p>\n<pre><code>select s from Student s where s.contactId IS NULL\n</code></pre>\n<pre><code>select s from Student s where s.contactId IS NOT NULL\n</code></pre>\n<p>That allows the query to inspect the foreign key without joining against <code>Contact</code>.</p>\n"}],"owner":{"account_id":25673135,"reputation":19,"user_id":19437040,"display_name":"arupkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658164822,"creation_date":1657831776,"question_id":72986520,"body_markdown":"I have a springboot project with 2 tables with a OneToOne relationship contacts and students, students has primary key studentID and foreign key contactID, contacts has primary key contactID.\r\n\r\n```@Entity\r\n@Data\r\n@Table(name = &quot;contacts&quot;)\r\npublic class Contact {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long ContactID;\r\n\r\n    @JsonBackReference\r\n    @OneToOne(mappedBy = &quot;contact&quot;)\r\n    private Student student;\r\n```\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;students&quot;)\r\npublic class Student {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long studentID;\r\n\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;})\r\n    @JsonManagedReference\r\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;ContactID&quot;, referencedColumnName = &quot;ContactID&quot;, insertable = false, updatable = false)\r\n    private Contact contact;\r\n```\r\n\r\nI was wondering if there is a way to turn off/ignore the relationship when running a query. Or at least **find out why my query overwrite in the repository isn&#39;t being followed.** To get all students with the joined in data from contacts I have mapping set up for /api/Student/AllContacts/ which works as expected.\r\n\r\n```    @GetMapping(&quot;/AllContacts/&quot;)\r\n    public List&lt;Student&gt; getStudentsAllWithContacts(){\r\n        return this.studentRepository.findAllWithContacts();\r\n    }\r\n```\r\nwhich corresponds with the following in the StudentRepository:\r\n```\r\n    @Query(&quot;select s from Student s left join fetch s.contact&quot;)\r\n    List&lt;Student&gt;  findAllWithContacts();\r\n```\r\n\r\nI have another query /api/Student/ that **I would like to only return the data from Students and not join with Contacts**. I even put in a query overwrite and it still does the join implied by the one to one.\r\n\r\nIn the controller:\r\n```\r\n    @GetMapping(&quot;/&quot;)\r\n    public List&lt;Student&gt; getStudents(){\r\n        return this.studentRepository.findAll();\r\n    }\r\n```\r\n\r\nIn the repository:\r\n```\r\n    @Query(&quot;select s from Student s&quot;)\r\n    List&lt;Student&gt;  findAll();\r\n```\r\n\r\nI thought lazy fetch is not supposed to bring back the lazy properties unless they&#39;re asked for. Yet my findAll method still joins with contacts.\r\n\r\n[Result of /api/Students/ aka findAll which returns contact when it should be lazy][1]\r\n\r\n 1. Is this not possible with relationships and I just have to delete the relationship and just make 2 separate queries against Students and Contacts from the frontend and use a map and filter function to join the data there?\r\n\r\n 2. Would I just create a redundant student entity that would not have a relationship with contacts and use that when I only wanted student data?\r\n\r\n 3. Would this be handled better by creating an entity manager? Like in these tutorials: https://www.oracle.com/technical-resources/articles/vasiliev-jpql.html#:~:text=%20To%20issue%20a%20JPQL%20query%20from%20within,an%20appropriate%20EntityManager%27s%20method%2C%20such%20as...%20More%20\r\n\r\n https://www.objectdb.com/java/jpa/persistence/retrieve\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1z4KI.png","title":"Is There a Way to Turn A JPA OneToOne Relationship On and Off for an Entity? Query override in Repository Not Being Followed","body":"<p>I have a springboot project with 2 tables with a OneToOne relationship contacts and students, students has primary key studentID and foreign key contactID, contacts has primary key contactID.</p>\n<pre><code>@Data\n@Table(name = &quot;contacts&quot;)\npublic class Contact {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long ContactID;\n\n    @JsonBackReference\n    @OneToOne(mappedBy = &quot;contact&quot;)\n    private Student student;\n</code></pre>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;students&quot;)\npublic class Student {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long studentID;\n\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;})\n    @JsonManagedReference\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ContactID&quot;, referencedColumnName = &quot;ContactID&quot;, insertable = false, updatable = false)\n    private Contact contact;\n</code></pre>\n<p>I was wondering if there is a way to turn off/ignore the relationship when running a query. Or at least <strong>find out why my query overwrite in the repository isn't being followed.</strong> To get all students with the joined in data from contacts I have mapping set up for /api/Student/AllContacts/ which works as expected.</p>\n<pre><code>    public List&lt;Student&gt; getStudentsAllWithContacts(){\n        return this.studentRepository.findAllWithContacts();\n    }\n</code></pre>\n<p>which corresponds with the following in the StudentRepository:</p>\n<pre><code>    @Query(&quot;select s from Student s left join fetch s.contact&quot;)\n    List&lt;Student&gt;  findAllWithContacts();\n</code></pre>\n<p>I have another query /api/Student/ that <strong>I would like to only return the data from Students and not join with Contacts</strong>. I even put in a query overwrite and it still does the join implied by the one to one.</p>\n<p>In the controller:</p>\n<pre><code>    @GetMapping(&quot;/&quot;)\n    public List&lt;Student&gt; getStudents(){\n        return this.studentRepository.findAll();\n    }\n</code></pre>\n<p>In the repository:</p>\n<pre><code>    @Query(&quot;select s from Student s&quot;)\n    List&lt;Student&gt;  findAll();\n</code></pre>\n<p>I thought lazy fetch is not supposed to bring back the lazy properties unless they're asked for. Yet my findAll method still joins with contacts.</p>\n<p><a href=\"https://i.stack.imgur.com/1z4KI.png\" rel=\"nofollow noreferrer\">Result of /api/Students/ aka findAll which returns contact when it should be lazy</a></p>\n<ol>\n<li><p>Is this not possible with relationships and I just have to delete the relationship and just make 2 separate queries against Students and Contacts from the frontend and use a map and filter function to join the data there?</p>\n</li>\n<li><p>Would I just create a redundant student entity that would not have a relationship with contacts and use that when I only wanted student data?</p>\n</li>\n<li><p>Would this be handled better by creating an entity manager? Like in these tutorials: <a href=\"https://www.oracle.com/technical-resources/articles/vasiliev-jpql.html#:%7E:text=%20To%20issue%20a%20JPQL%20query%20from%20within,an%20appropriate%20EntityManager%27s%20method%2C%20such%20as...%20More%20\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/vasiliev-jpql.html#:~:text=%20To%20issue%20a%20JPQL%20query%20from%20within,an%20appropriate%20EntityManager%27s%20method%2C%20such%20as...%20More%20</a></p>\n</li>\n</ol>\n<p><a href=\"https://www.objectdb.com/java/jpa/persistence/retrieve\" rel=\"nofollow noreferrer\">https://www.objectdb.com/java/jpa/persistence/retrieve</a></p>\n"},{"tags":["java","file-io","io","text-files"],"answers":[{"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"down_vote_count":5,"up_vote_count":922,"is_accepted":true,"score":917,"last_activity_date":1610739980,"creation_date":1256568467,"answer_id":1625263,"question_id":1625234,"body_markdown":"Are you doing this for logging purposes?  If so there are [several libraries for this][1]. Two of the most popular are [Log4j][2] and [Logback][3].\r\n\r\n## Java 7+\r\n\r\nFor a one-time task, the [Files class][4] makes this easy:\r\n\r\n    try {\r\n        Files.write(Paths.get(&quot;myfile.txt&quot;), &quot;the text&quot;.getBytes(), StandardOpenOption.APPEND);\r\n    }catch (IOException e) {\r\n        //exception handling left as an exercise for the reader\r\n    }\r\n\r\n**Careful**: The above approach will throw a `NoSuchFileException` if the file does not already exist. It also does not append a newline automatically (which you often want when appending to a text file). Another approach is to pass both `CREATE` and `APPEND` options, which will create the file first if it doesn&#39;t already exist:\r\n\r\n    private void write(final String s) throws IOException {\r\n        Files.writeString(\r\n            Path.of(System.getProperty(&quot;java.io.tmpdir&quot;), &quot;filename.txt&quot;),\r\n            s + System.lineSeparator(),\r\n            CREATE, APPEND\r\n        );\r\n    }\r\n\r\nHowever, if you will be writing to the same file many times, the above snippets must open and close the file on the disk many times, which is a slow operation. In this case, a `BufferedWriter` is faster:\r\n\r\n    try(FileWriter fw = new FileWriter(&quot;myfile.txt&quot;, true);\r\n        BufferedWriter bw = new BufferedWriter(fw);\r\n        PrintWriter out = new PrintWriter(bw))\r\n    {\r\n        out.println(&quot;the text&quot;);\r\n        //more code\r\n        out.println(&quot;more text&quot;);\r\n        //more code\r\n    } catch (IOException e) {\r\n        //exception handling left as an exercise for the reader\r\n    }\r\n\r\n**Notes:**\r\n\r\n* The second parameter to the `FileWriter` constructor will tell it to append to the file, rather than writing a new file. (If the file does not exist, it will be created.)\r\n* Using a `BufferedWriter` is recommended for an expensive writer (such as `FileWriter`).\r\n* Using a `PrintWriter` gives you access to `println` syntax that you&#39;re probably used to from `System.out`.\r\n* But the `BufferedWriter` and `PrintWriter` wrappers are not strictly necessary.\r\n\r\n\r\n------\r\n\r\n## Older Java\r\n\r\n    try {\r\n        PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(&quot;myfile.txt&quot;, true)));\r\n        out.println(&quot;the text&quot;);\r\n        out.close();\r\n    } catch (IOException e) {\r\n        //exception handling left as an exercise for the reader\r\n    }\r\n\r\n-----------------------\r\n\r\n## Exception Handling\r\n\r\nIf you need robust exception handling for older Java, it gets very verbose:\r\n\r\n    FileWriter fw = null;\r\n    BufferedWriter bw = null;\r\n    PrintWriter out = null;\r\n    try {\r\n        fw = new FileWriter(&quot;myfile.txt&quot;, true);\r\n        bw = new BufferedWriter(fw);\r\n        out = new PrintWriter(bw);\r\n        out.println(&quot;the text&quot;);\r\n        out.close();\r\n    } catch (IOException e) {\r\n        //exception handling left as an exercise for the reader\r\n    }\r\n    finally {\r\n        try {\r\n            if(out != null)\r\n                out.close();\r\n        } catch (IOException e) {\r\n            //exception handling left as an exercise for the reader\r\n        }\r\n        try {\r\n            if(bw != null)\r\n                bw.close();\r\n        } catch (IOException e) {\r\n            //exception handling left as an exercise for the reader\r\n        }\r\n        try {\r\n            if(fw != null)\r\n                fw.close();\r\n        } catch (IOException e) {\r\n            //exception handling left as an exercise for the reader\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_logging_framework\r\n  [2]: http://logging.apache.org/log4j/\r\n  [3]: http://logback.qos.ch/\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\r\n  [5]: https://stackoverflow.com/a/44301865/18511","title":"How to append text to an existing file in Java?","body":"<p>Are you doing this for logging purposes?  If so there are <a href=\"http://en.wikipedia.org/wiki/Java_logging_framework\" rel=\"noreferrer\">several libraries for this</a>. Two of the most popular are <a href=\"http://logging.apache.org/log4j/\" rel=\"noreferrer\">Log4j</a> and <a href=\"http://logback.qos.ch/\" rel=\"noreferrer\">Logback</a>.</p>\n<h2>Java 7+</h2>\n<p>For a one-time task, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"noreferrer\">Files class</a> makes this easy:</p>\n<pre><code>try {\n    Files.write(Paths.get(&quot;myfile.txt&quot;), &quot;the text&quot;.getBytes(), StandardOpenOption.APPEND);\n}catch (IOException e) {\n    //exception handling left as an exercise for the reader\n}\n</code></pre>\n<p><strong>Careful</strong>: The above approach will throw a <code>NoSuchFileException</code> if the file does not already exist. It also does not append a newline automatically (which you often want when appending to a text file). Another approach is to pass both <code>CREATE</code> and <code>APPEND</code> options, which will create the file first if it doesn't already exist:</p>\n<pre><code>private void write(final String s) throws IOException {\n    Files.writeString(\n        Path.of(System.getProperty(&quot;java.io.tmpdir&quot;), &quot;filename.txt&quot;),\n        s + System.lineSeparator(),\n        CREATE, APPEND\n    );\n}\n</code></pre>\n<p>However, if you will be writing to the same file many times, the above snippets must open and close the file on the disk many times, which is a slow operation. In this case, a <code>BufferedWriter</code> is faster:</p>\n<pre><code>try(FileWriter fw = new FileWriter(&quot;myfile.txt&quot;, true);\n    BufferedWriter bw = new BufferedWriter(fw);\n    PrintWriter out = new PrintWriter(bw))\n{\n    out.println(&quot;the text&quot;);\n    //more code\n    out.println(&quot;more text&quot;);\n    //more code\n} catch (IOException e) {\n    //exception handling left as an exercise for the reader\n}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>The second parameter to the <code>FileWriter</code> constructor will tell it to append to the file, rather than writing a new file. (If the file does not exist, it will be created.)</li>\n<li>Using a <code>BufferedWriter</code> is recommended for an expensive writer (such as <code>FileWriter</code>).</li>\n<li>Using a <code>PrintWriter</code> gives you access to <code>println</code> syntax that you're probably used to from <code>System.out</code>.</li>\n<li>But the <code>BufferedWriter</code> and <code>PrintWriter</code> wrappers are not strictly necessary.</li>\n</ul>\n<hr />\n<h2>Older Java</h2>\n<pre><code>try {\n    PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(&quot;myfile.txt&quot;, true)));\n    out.println(&quot;the text&quot;);\n    out.close();\n} catch (IOException e) {\n    //exception handling left as an exercise for the reader\n}\n</code></pre>\n<hr />\n<h2>Exception Handling</h2>\n<p>If you need robust exception handling for older Java, it gets very verbose:</p>\n<pre><code>FileWriter fw = null;\nBufferedWriter bw = null;\nPrintWriter out = null;\ntry {\n    fw = new FileWriter(&quot;myfile.txt&quot;, true);\n    bw = new BufferedWriter(fw);\n    out = new PrintWriter(bw);\n    out.println(&quot;the text&quot;);\n    out.close();\n} catch (IOException e) {\n    //exception handling left as an exercise for the reader\n}\nfinally {\n    try {\n        if(out != null)\n            out.close();\n    } catch (IOException e) {\n        //exception handling left as an exercise for the reader\n    }\n    try {\n        if(bw != null)\n            bw.close();\n    } catch (IOException e) {\n        //exception handling left as an exercise for the reader\n    }\n    try {\n        if(fw != null)\n            fw.close();\n    } catch (IOException e) {\n        //exception handling left as an exercise for the reader\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32796,"reputation":10240,"user_id":91265,"accept_rate":90,"display_name":"northpole"},"down_vote_count":2,"up_vote_count":203,"is_accepted":false,"score":201,"last_activity_date":1493023184,"creation_date":1256568517,"answer_id":1625266,"question_id":1625234,"body_markdown":"You can use `fileWriter` with a flag set to `true` , for appending.\r\n\r\n    try\r\n    {\r\n        String filename= &quot;MyFile.txt&quot;;\r\n        FileWriter fw = new FileWriter(filename,true); //the true will append the new data\r\n        fw.write(&quot;add a line\\n&quot;);//appends the string to the file\r\n        fw.close();\r\n    }\r\n    catch(IOException ioe)\r\n    {\r\n        System.err.println(&quot;IOException: &quot; + ioe.getMessage());\r\n    }","title":"How to append text to an existing file in Java?","body":"<p>You can use <code>fileWriter</code> with a flag set to <code>true</code> , for appending.</p>\n\n<pre><code>try\n{\n    String filename= \"MyFile.txt\";\n    FileWriter fw = new FileWriter(filename,true); //the true will append the new data\n    fw.write(\"add a line\\n\");//appends the string to the file\n    fw.close();\n}\ncatch(IOException ioe)\n{\n    System.err.println(\"IOException: \" + ioe.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1658164748,"creation_date":1291383677,"answer_id":4346077,"question_id":1625234,"body_markdown":"Using Apache Commons 2.1:\r\n\r\n    import org.apache.logging.log4j.core.util.FileUtils;\r\n\r\n    FileUtils.writeStringToFile(file, &quot;String to append&quot;, true);\r\n","title":"How to append text to an existing file in Java?","body":"<p>Using Apache Commons 2.1:</p>\n<pre><code>import org.apache.logging.log4j.core.util.FileUtils;\n\nFileUtils.writeStringToFile(file, &quot;String to append&quot;, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1504327,"reputation":2424,"user_id":1408096,"accept_rate":69,"display_name":"xhudik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1355396203,"creation_date":1355396203,"answer_id":13858341,"question_id":1625234,"body_markdown":"I just add small detail:\r\n\r\n        new FileWriter(&quot;outfilename&quot;, true)\r\n2.nd parameter (true) is a feature (or, interface) called **appendable** ([http://docs.oracle.com/javase/7/docs/api/java/lang/Appendable.html][1]). It is responsible for being able to add some content to the end of particular file/stream. This interface is implemented since Java 1.5. Each object (i.e. &lt;i&gt;BufferedWriter, CharArrayWriter, CharBuffer, FileWriter, FilterWriter, LogStream, OutputStreamWriter, PipedWriter, PrintStream, PrintWriter, StringBuffer, StringBuilder, StringWriter, Writer&lt;/i&gt;) with this interface can be used for adding content\r\n\r\nIn other words, you can add some content to your gzipped file, or some http process\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Appendable.html","title":"How to append text to an existing file in Java?","body":"<p>I just add small detail:</p>\n\n<pre><code>    new FileWriter(\"outfilename\", true)\n</code></pre>\n\n<p>2.nd parameter (true) is a feature (or, interface) called <strong>appendable</strong> (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Appendable.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/lang/Appendable.html</a>). It is responsible for being able to add some content to the end of particular file/stream. This interface is implemented since Java 1.5. Each object (i.e. <i>BufferedWriter, CharArrayWriter, CharBuffer, FileWriter, FilterWriter, LogStream, OutputStreamWriter, PipedWriter, PrintStream, PrintWriter, StringBuffer, StringBuilder, StringWriter, Writer</i>) with this interface can be used for adding content</p>\n\n<p>In other words, you can add some content to your gzipped file, or some http process</p>\n"},{"tags":[],"owner":{"account_id":1068352,"reputation":103,"user_id":1068257,"display_name":"Benjamin Varghese"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357570608,"creation_date":1357570608,"answer_id":14198380,"question_id":1625234,"body_markdown":"        String str;\r\n\t\tString path = &quot;C:/Users/...the path..../iin.txt&quot;; // you can input also..i created this way :P\r\n\t\t\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\tPrintWriter pw = new PrintWriter(new FileWriter(path, true));\r\n\t\t\r\n\t\ttry \r\n\t\t{\r\n\t\t   while(true)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Enter the text : &quot;);\r\n\t\t\t\tstr = br.readLine();\r\n\t\t\t\tif(str.equalsIgnoreCase(&quot;exit&quot;))\r\n\t\t\t\t\tbreak;\r\n\t\t\t\telse\r\n\t\t\t\t\tpw.println(str);\r\n\t\t\t}\r\n\t\t} \r\n\t\tcatch (Exception e) \r\n\t\t{\r\n\t\t    //oh noes!\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t    pw.close();\t\t\t\r\n\t\t}\r\nthis will do what you intend for..","title":"How to append text to an existing file in Java?","body":"<pre><code>    String str;\n    String path = \"C:/Users/...the path..../iin.txt\"; // you can input also..i created this way :P\n\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    PrintWriter pw = new PrintWriter(new FileWriter(path, true));\n\n    try \n    {\n       while(true)\n        {\n            System.out.println(\"Enter the text : \");\n            str = br.readLine();\n            if(str.equalsIgnoreCase(\"exit\"))\n                break;\n            else\n                pw.println(str);\n        }\n    } \n    catch (Exception e) \n    {\n        //oh noes!\n    }\n    finally\n    {\n        pw.close();         \n    }\n</code></pre>\n\n<p>this will do what you intend for..</p>\n"},{"tags":[],"owner":{"account_id":1589916,"reputation":2586,"user_id":1473481,"accept_rate":100,"display_name":"etech"},"down_vote_count":1,"up_vote_count":75,"is_accepted":false,"score":74,"last_activity_date":1549373221,"creation_date":1361720927,"answer_id":15053443,"question_id":1625234,"body_markdown":"Shouldn&#39;t all of the answers here with try/catch blocks have the .close() pieces contained in a finally block?\r\n\r\nExample for marked answer:\r\n\r\n    PrintWriter out = null;\r\n    try {\r\n        out = new PrintWriter(new BufferedWriter(new FileWriter(&quot;writePath&quot;, true)));\r\n        out.println(&quot;the text&quot;);\r\n    } catch (IOException e) {\r\n        System.err.println(e);\r\n    } finally {\r\n        if (out != null) {\r\n            out.close();\r\n        }\r\n    } \r\n\r\nAlso, as of Java 7, you can use a [try-with-resources statement][1]. No finally block is required for closing the declared resource(s) because it is handled automatically, and is also less verbose:\r\n\r\n    try(PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(&quot;writePath&quot;, true)))) {\r\n        out.println(&quot;the text&quot;);\r\n    } catch (IOException e) {\r\n        System.err.println(e);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to append text to an existing file in Java?","body":"<p>Shouldn't all of the answers here with try/catch blocks have the .close() pieces contained in a finally block?</p>\n\n<p>Example for marked answer:</p>\n\n<pre><code>PrintWriter out = null;\ntry {\n    out = new PrintWriter(new BufferedWriter(new FileWriter(\"writePath\", true)));\n    out.println(\"the text\");\n} catch (IOException e) {\n    System.err.println(e);\n} finally {\n    if (out != null) {\n        out.close();\n    }\n} \n</code></pre>\n\n<p>Also, as of Java 7, you can use a <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources statement</a>. No finally block is required for closing the declared resource(s) because it is handled automatically, and is also less verbose:</p>\n\n<pre><code>try(PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(\"writePath\", true)))) {\n    out.println(\"the text\");\n} catch (IOException e) {\n    System.err.println(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1370373444,"creation_date":1370373444,"answer_id":16925756,"question_id":1625234,"body_markdown":"Sample, using Guava:\r\n\r\n\r\n\tFile to = new File(&quot;C:/test/test.csv&quot;);\r\n\r\n\tfor (int i = 0; i &lt; 42; i++) {\r\n\t\tCharSequence from = &quot;some string&quot; + i + &quot;\\n&quot;;\r\n\t\tFiles.append(from, to, Charsets.UTF_8);\r\n\t}","title":"How to append text to an existing file in Java?","body":"<p>Sample, using Guava:</p>\n\n<pre><code>File to = new File(\"C:/test/test.csv\");\n\nfor (int i = 0; i &lt; 42; i++) {\n    CharSequence from = \"some string\" + i + \"\\n\";\n    Files.append(from, to, Charsets.UTF_8);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269969,"reputation":11509,"user_id":559634,"accept_rate":100,"display_name":"SharkAlley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371568893,"creation_date":1371568893,"answer_id":17172730,"question_id":1625234,"body_markdown":"    FileOutputStream stream = new FileOutputStream(path, true);\r\n    try {\r\n\r\n        stream.write(\r\n\r\n            string.getBytes(&quot;UTF-8&quot;) // Choose your encoding.\r\n\r\n        );\r\n \r\n    } finally {\r\n        stream.close();\r\n    }\r\n\r\nThen catch an IOException somewhere upstream.","title":"How to append text to an existing file in Java?","body":"<pre><code>FileOutputStream stream = new FileOutputStream(path, true);\ntry {\n\n    stream.write(\n\n        string.getBytes(\"UTF-8\") // Choose your encoding.\n\n    );\n\n} finally {\n    stream.close();\n}\n</code></pre>\n\n<p>Then catch an IOException somewhere upstream.</p>\n"},{"tags":[],"owner":{"account_id":3072214,"reputation":106,"user_id":2602585,"display_name":"icasdri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1374783397,"creation_date":1374347198,"answer_id":17765712,"question_id":1625234,"body_markdown":"Using java.nio.[Files][1] along with java.nio.file.[StandardOpenOption][2]\r\n        \r\n        PrintWriter out = null;\r\n        BufferedWriter bufWriter;\r\n\r\n        try{\r\n            bufWriter =\r\n                Files.newBufferedWriter(\r\n                    Paths.get(&quot;log.txt&quot;),\r\n                    Charset.forName(&quot;UTF8&quot;),\r\n                    StandardOpenOption.WRITE, \r\n                    StandardOpenOption.APPEND,\r\n                    StandardOpenOption.CREATE);\r\n            out = new PrintWriter(bufWriter, true);\r\n        }catch(IOException e){\r\n            //Oh, no! Failed to create PrintWriter\r\n        }\r\n        \r\n        //After successful creation of PrintWriter\r\n        out.println(&quot;Text to be appended&quot;);\r\n        \r\n        //After done writing, remember to close!\r\n        out.close();\r\n\r\nThis creates a `BufferedWriter` using Files, which accepts `StandardOpenOption` parameters, and an auto-flushing `PrintWriter` from the resultant `BufferedWriter`. `PrintWriter`&#39;s `println()` method, can then be called to write to the file.\r\n\r\nThe `StandardOpenOption` parameters used in this code: opens the file for writing, only appends to the file, and creates the file if it does not exist.\r\n\r\n`Paths.get(&quot;path here&quot;)` can be replaced with `new File(&quot;path here&quot;).toPath()`.\r\nAnd `Charset.forName(&quot;charset name&quot;)` can be modified to accommodate the desired `Charset`.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/StandardOpenOption.html","title":"How to append text to an existing file in Java?","body":"<p>Using java.nio.<a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"noreferrer\">Files</a> along with java.nio.file.<a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/StandardOpenOption.html\" rel=\"noreferrer\">StandardOpenOption</a></p>\n\n<pre><code>    PrintWriter out = null;\n    BufferedWriter bufWriter;\n\n    try{\n        bufWriter =\n            Files.newBufferedWriter(\n                Paths.get(\"log.txt\"),\n                Charset.forName(\"UTF8\"),\n                StandardOpenOption.WRITE, \n                StandardOpenOption.APPEND,\n                StandardOpenOption.CREATE);\n        out = new PrintWriter(bufWriter, true);\n    }catch(IOException e){\n        //Oh, no! Failed to create PrintWriter\n    }\n\n    //After successful creation of PrintWriter\n    out.println(\"Text to be appended\");\n\n    //After done writing, remember to close!\n    out.close();\n</code></pre>\n\n<p>This creates a <code>BufferedWriter</code> using Files, which accepts <code>StandardOpenOption</code> parameters, and an auto-flushing <code>PrintWriter</code> from the resultant <code>BufferedWriter</code>. <code>PrintWriter</code>'s <code>println()</code> method, can then be called to write to the file.</p>\n\n<p>The <code>StandardOpenOption</code> parameters used in this code: opens the file for writing, only appends to the file, and creates the file if it does not exist.</p>\n\n<p><code>Paths.get(\"path here\")</code> can be replaced with <code>new File(\"path here\").toPath()</code>.\nAnd <code>Charset.forName(\"charset name\")</code> can be modified to accommodate the desired <code>Charset</code>.</p>\n"},{"tags":[],"owner":{"account_id":3138829,"reputation":527,"user_id":2654727,"display_name":"Tom Drake"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1375765115,"creation_date":1375765115,"answer_id":18072092,"question_id":1625234,"body_markdown":"I might suggest the [apache commons project][1]. This project already provides a framework for doing what you need (i.e. flexible filtering of collections). \r\n\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-functor/examples.html","title":"How to append text to an existing file in Java?","body":"<p>I might suggest the <a href=\"http://commons.apache.org/proper/commons-functor/examples.html\" rel=\"nofollow\">apache commons project</a>. This project already provides a framework for doing what you need (i.e. flexible filtering of collections). </p>\n"},{"tags":[],"owner":{"account_id":2914715,"reputation":5751,"user_id":2498188,"accept_rate":85,"display_name":"Emily L."},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1411384423,"creation_date":1378918259,"answer_id":18746974,"question_id":1625234,"body_markdown":"Make sure the stream gets properly closed in all scenarios.\r\n---\r\nIt&#39;s a bit alarming how many of these answers leave the file handle open in case of an error. The answer https://stackoverflow.com/a/15053443/2498188 is on the money but only because `BufferedWriter()` cannot throw. If it could then an exception would leave the `FileWriter` object open. \r\n\r\nA more general way of doing this that doesn&#39;t care if `BufferedWriter()` can throw:\r\n\r\n      PrintWriter out = null;\r\n      BufferedWriter bw = null;\r\n      FileWriter fw = null;\r\n      try{\r\n         fw = new FileWriter(&quot;outfilename&quot;, true);\r\n         bw = new BufferedWriter(fw);\r\n         out = new PrintWriter(bw);\r\n         out.println(&quot;the text&quot;);\r\n      }\r\n      catch( IOException e ){\r\n         // File writing/opening failed at some stage.\r\n      }\r\n      finally{\r\n         try{\r\n            if( out != null ){\r\n               out.close(); // Will close bw and fw too\r\n            }\r\n            else if( bw != null ){\r\n               bw.close(); // Will close fw too\r\n            }\r\n            else if( fw != null ){\r\n               fw.close();\r\n            }\r\n            else{\r\n               // Oh boy did it fail hard! :3\r\n            }\r\n         }\r\n         catch( IOException e ){\r\n            // Closing the file writers failed for some obscure reason\r\n         }\r\n      }\r\n\r\n##Edit:\r\nAs of Java 7, the recommended way is to use &quot;try with resources&quot; and let the JVM deal with it:\r\n\r\n\r\n      try(    FileWriter fw = new FileWriter(&quot;outfilename&quot;, true);\r\n              BufferedWriter bw = new BufferedWriter(fw);\r\n              PrintWriter out = new PrintWriter(bw)){\r\n         out.println(&quot;the text&quot;);\r\n      }  \r\n      catch( IOException e ){\r\n          // File writing/opening failed at some stage.\r\n      }","title":"How to append text to an existing file in Java?","body":"<h2>Make sure the stream gets properly closed in all scenarios.</h2>\n\n<p>It's a bit alarming how many of these answers leave the file handle open in case of an error. The answer <a href=\"https://stackoverflow.com/a/15053443/2498188\">https://stackoverflow.com/a/15053443/2498188</a> is on the money but only because <code>BufferedWriter()</code> cannot throw. If it could then an exception would leave the <code>FileWriter</code> object open. </p>\n\n<p>A more general way of doing this that doesn't care if <code>BufferedWriter()</code> can throw:</p>\n\n<pre><code>  PrintWriter out = null;\n  BufferedWriter bw = null;\n  FileWriter fw = null;\n  try{\n     fw = new FileWriter(\"outfilename\", true);\n     bw = new BufferedWriter(fw);\n     out = new PrintWriter(bw);\n     out.println(\"the text\");\n  }\n  catch( IOException e ){\n     // File writing/opening failed at some stage.\n  }\n  finally{\n     try{\n        if( out != null ){\n           out.close(); // Will close bw and fw too\n        }\n        else if( bw != null ){\n           bw.close(); // Will close fw too\n        }\n        else if( fw != null ){\n           fw.close();\n        }\n        else{\n           // Oh boy did it fail hard! :3\n        }\n     }\n     catch( IOException e ){\n        // Closing the file writers failed for some obscure reason\n     }\n  }\n</code></pre>\n\n<h2>Edit:</h2>\n\n<p>As of Java 7, the recommended way is to use \"try with resources\" and let the JVM deal with it:</p>\n\n<pre><code>  try(    FileWriter fw = new FileWriter(\"outfilename\", true);\n          BufferedWriter bw = new BufferedWriter(fw);\n          PrintWriter out = new PrintWriter(bw)){\n     out.println(\"the text\");\n  }  \n  catch( IOException e ){\n      // File writing/opening failed at some stage.\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2141298,"reputation":121,"user_id":1899858,"accept_rate":25,"display_name":"Netcfmx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388659159,"creation_date":1388659159,"answer_id":20881066,"question_id":1625234,"body_markdown":"Create a function anywhere in your project and simply call that function where ever you need it.\r\n\r\nGuys you got to remember that you guys are calling active threads that you are not calling asynchronously and since it would likely be a good 5 to 10 pages to get it done right.\r\nWhy not spend more time on your project and forget about writing anything already written.\r\nProperly\r\n\r\n        //Adding a static modifier would make this accessible anywhere in your app\r\n\r\n      \tpublic Logger getLogger()\r\n\t    {\r\n\t\t   return java.util.logging.Logger.getLogger(&quot;MyLogFileName&quot;);\r\n\t    }\r\n        //call the method anywhere and append what you want to log \r\n        //Logger class will take care of putting timestamps for you\r\n        //plus the are ansychronously done so more of the \r\n        //processing power will go into your application\r\n\r\n        //from inside a function body in the same class ...{...\r\n        \r\n        getLogger().log(Level.INFO,&quot;the text you want to append&quot;);\r\n        \r\n        ...}...\r\n        /*********log file resides in server root log files********/\r\n\r\nthree lines of code two really since the third actually appends text. :P","title":"How to append text to an existing file in Java?","body":"<p>Create a function anywhere in your project and simply call that function where ever you need it.</p>\n\n<p>Guys you got to remember that you guys are calling active threads that you are not calling asynchronously and since it would likely be a good 5 to 10 pages to get it done right.\nWhy not spend more time on your project and forget about writing anything already written.\nProperly</p>\n\n<pre><code>    //Adding a static modifier would make this accessible anywhere in your app\n\n    public Logger getLogger()\n    {\n       return java.util.logging.Logger.getLogger(\"MyLogFileName\");\n    }\n    //call the method anywhere and append what you want to log \n    //Logger class will take care of putting timestamps for you\n    //plus the are ansychronously done so more of the \n    //processing power will go into your application\n\n    //from inside a function body in the same class ...{...\n\n    getLogger().log(Level.INFO,\"the text you want to append\");\n\n    ...}...\n    /*********log file resides in server root log files********/\n</code></pre>\n\n<p>three lines of code two really since the third actually appends text. :P</p>\n"},{"tags":[],"owner":{"account_id":3654643,"reputation":11877,"user_id":3046023,"display_name":"abSiddique"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395664615,"creation_date":1395664615,"answer_id":22609585,"question_id":1625234,"body_markdown":"&gt; Library\r\n\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n\r\n&gt; Code\r\n\r\n            \r\n\r\n    public void append()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString path = &quot;D:/sample.txt&quot;;\r\n            \r\n            File file = new File(path);\r\n\t\t      \r\n\t        FileWriter fileWriter = new FileWriter(file,true);\r\n\r\n\t        BufferedWriter bufferFileWriter  = new BufferedWriter(fileWriter);\r\n\t        \r\n\t        fileWriter.append(&quot;Sample text in the file to append&quot;);\r\n\r\n\t        bufferFileWriter.close();\r\n\t      \r\n\t        System.out.println(&quot;User Registration Completed&quot;);\r\n\t       \r\n\t\t}catch(Exception ex)\r\n\t\t{\r\n\t\t\tSystem.out.println(ex);\r\n\t\t}\r\n\t}","title":"How to append text to an existing file in Java?","body":"<blockquote>\n  <p>Library</p>\n</blockquote>\n\n<pre><code>import java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n</code></pre>\n\n<blockquote>\n  <p>Code</p>\n</blockquote>\n\n<pre><code>public void append()\n{\n    try\n    {\n        String path = \"D:/sample.txt\";\n\n        File file = new File(path);\n\n        FileWriter fileWriter = new FileWriter(file,true);\n\n        BufferedWriter bufferFileWriter  = new BufferedWriter(fileWriter);\n\n        fileWriter.append(\"Sample text in the file to append\");\n\n        bufferFileWriter.close();\n\n        System.out.println(\"User Registration Completed\");\n\n    }catch(Exception ex)\n    {\n        System.out.println(ex);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4649733,"reputation":1203,"user_id":3766946,"accept_rate":67,"display_name":"aashima"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1404045317,"creation_date":1404045317,"answer_id":24476105,"question_id":1625234,"body_markdown":"You can also try this :\r\n\r\n    JFileChooser c= new JFileChooser();\r\n    c.showOpenDialog(c);\r\n    File write_file = c.getSelectedFile();\r\n    String Content = &quot;Writing into file&quot;; //what u would like to append to the file\r\n    \r\n    \r\n    \r\n    try \r\n    {\r\n        RandomAccessFile raf = new RandomAccessFile(write_file, &quot;rw&quot;);\r\n        long length = raf.length();\r\n        //System.out.println(length);\r\n        raf.setLength(length + 1); //+ (integer value) for spacing\r\n        raf.seek(raf.length());\r\n        raf.writeBytes(Content);\r\n        raf.close();\r\n    } \r\n    catch (Exception e) {\r\n        //any exception handling method of ur choice\r\n    }","title":"How to append text to an existing file in Java?","body":"<p>You can also try this :</p>\n\n<pre><code>JFileChooser c= new JFileChooser();\nc.showOpenDialog(c);\nFile write_file = c.getSelectedFile();\nString Content = \"Writing into file\"; //what u would like to append to the file\n\n\n\ntry \n{\n    RandomAccessFile raf = new RandomAccessFile(write_file, \"rw\");\n    long length = raf.length();\n    //System.out.println(length);\n    raf.setLength(length + 1); //+ (integer value) for spacing\n    raf.seek(raf.length());\n    raf.writeBytes(Content);\n    raf.close();\n} \ncatch (Exception e) {\n    //any exception handling method of ur choice\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395717,"reputation":6603,"user_id":758816,"display_name":"mikeyreilly"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408617331,"creation_date":1408617331,"answer_id":25424148,"question_id":1625234,"body_markdown":"Better to use try-with-resources then all that pre-java 7 finally business\r\n\r\n    static void appendStringToFile(Path file, String s) throws IOException  {\r\n        try (BufferedWriter out = Files.newBufferedWriter(file, StandardCharsets.UTF_8, StandardOpenOption.APPEND)) {\r\n            out.append(s);\r\n            out.newLine();\r\n        }\r\n    }","title":"How to append text to an existing file in Java?","body":"<p>Better to use try-with-resources then all that pre-java 7 finally business</p>\n\n<pre><code>static void appendStringToFile(Path file, String s) throws IOException  {\n    try (BufferedWriter out = Files.newBufferedWriter(file, StandardCharsets.UTF_8, StandardOpenOption.APPEND)) {\n        out.append(s);\n        out.newLine();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2545567,"reputation":1054,"user_id":2210451,"display_name":"Tsolak Barseghyan"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1429029197,"creation_date":1428231806,"answer_id":29456593,"question_id":1625234,"body_markdown":"In Java-7 it also can be done such kind:\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.StandardOpenOption;\r\n\r\n//---------------------\r\n\r\n    Path filePath = Paths.get(&quot;someFile.txt&quot;);\r\n    if (!Files.exists(filePath)) {\r\n    \tFiles.createFile(filePath);\r\n    }\r\n    Files.write(filePath, &quot;Text to be added&quot;.getBytes(), StandardOpenOption.APPEND);","title":"How to append text to an existing file in Java?","body":"<p>In Java-7 it also can be done such kind:</p>\n\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\n</code></pre>\n\n<p>//---------------------</p>\n\n<pre><code>Path filePath = Paths.get(\"someFile.txt\");\nif (!Files.exists(filePath)) {\n    Files.createFile(filePath);\n}\nFiles.write(filePath, \"Text to be added\".getBytes(), StandardOpenOption.APPEND);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1433713377,"creation_date":1429381602,"answer_id":29721174,"question_id":1625234,"body_markdown":"The following method let&#39;s you append text to some file:\r\n\r\n\tprivate void appendToFile(String filePath, String text)\r\n\t{\r\n\t\tPrintWriter fileWriter = null;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tfileWriter = new PrintWriter(new BufferedWriter(new FileWriter(\r\n\t\t\t\t\tfilePath, true)));\r\n\r\n\t\t\tfileWriter.println(text);\r\n\t\t} catch (IOException ioException)\r\n\t\t{\r\n\t\t\tioException.printStackTrace();\r\n\t\t} finally\r\n\t\t{\r\n\t\t\tif (fileWriter != null)\r\n\t\t\t{\r\n\t\t\t\tfileWriter.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAlternatively using [`FileUtils`][1]:\r\n\r\n\tpublic static void appendToFile(String filePath, String text) throws IOException\r\n\t{\r\n\t\tFile file = new File(filePath);\r\n\r\n\t\tif(!file.exists())\r\n\t\t{\r\n\t\t\tfile.createNewFile();\r\n\t\t}\r\n\r\n\t\tString fileContents = FileUtils.readFileToString(file);\r\n\r\n\t\tif(file.length() != 0)\r\n\t\t{\r\n\t\t\tfileContents = fileContents.concat(System.lineSeparator());\r\n\t\t}\r\n\r\n\t\tfileContents = fileContents.concat(text);\r\n\r\n\t\tFileUtils.writeStringToFile(file, fileContents);\r\n\t}\r\n\r\nIt is not efficient but works fine. Line breaks are handled correctly and a new file is created if one didn&#39;t exist yet.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html","title":"How to append text to an existing file in Java?","body":"<p>The following method let's you append text to some file:</p>\n\n<pre><code>private void appendToFile(String filePath, String text)\n{\n    PrintWriter fileWriter = null;\n\n    try\n    {\n        fileWriter = new PrintWriter(new BufferedWriter(new FileWriter(\n                filePath, true)));\n\n        fileWriter.println(text);\n    } catch (IOException ioException)\n    {\n        ioException.printStackTrace();\n    } finally\n    {\n        if (fileWriter != null)\n        {\n            fileWriter.close();\n        }\n    }\n}\n</code></pre>\n\n<p>Alternatively using <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow\"><code>FileUtils</code></a>:</p>\n\n<pre><code>public static void appendToFile(String filePath, String text) throws IOException\n{\n    File file = new File(filePath);\n\n    if(!file.exists())\n    {\n        file.createNewFile();\n    }\n\n    String fileContents = FileUtils.readFileToString(file);\n\n    if(file.length() != 0)\n    {\n        fileContents = fileContents.concat(System.lineSeparator());\n    }\n\n    fileContents = fileContents.concat(text);\n\n    FileUtils.writeStringToFile(file, fileContents);\n}\n</code></pre>\n\n<p>It is not efficient but works fine. Line breaks are handled correctly and a new file is created if one didn't exist yet.</p>\n"},{"tags":[],"owner":{"account_id":6154292,"reputation":107,"user_id":4797769,"display_name":"Nadhir Titaouine"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1467838510,"creation_date":1432725443,"answer_id":30480913,"question_id":1625234,"body_markdown":"Try with bufferFileWriter.append, it works with me.\r\n\r\n    FileWriter fileWriter;\r\n    try {\r\n        fileWriter = new FileWriter(file,true);\r\n        BufferedWriter bufferFileWriter = new BufferedWriter(fileWriter);\r\n        bufferFileWriter.append(obj.toJSONString());\r\n        bufferFileWriter.newLine();\r\n        bufferFileWriter.close();\r\n    } catch (IOException ex) {\r\n        Logger.getLogger(JsonTest.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n","title":"How to append text to an existing file in Java?","body":"<p>Try with bufferFileWriter.append, it works with me.</p>\n\n<pre><code>FileWriter fileWriter;\ntry {\n    fileWriter = new FileWriter(file,true);\n    BufferedWriter bufferFileWriter = new BufferedWriter(fileWriter);\n    bufferFileWriter.append(obj.toJSONString());\n    bufferFileWriter.newLine();\n    bufferFileWriter.close();\n} catch (IOException ex) {\n    Logger.getLogger(JsonTest.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434962620,"creation_date":1434962620,"answer_id":30975514,"question_id":1625234,"body_markdown":"If we are using Java 7 and above and also know the content to be added (appended) to the file we can make use of [newBufferedWriter][1] method in NIO package.\r\n\r\n    public static void main(String[] args) {\r\n    \tPath FILE_PATH = Paths.get(&quot;C:/temp&quot;, &quot;temp.txt&quot;);\r\n    \tString text = &quot;\\n Welcome to Java 8&quot;;\r\n    \r\n    \t//Writing to the file temp.txt\r\n    \ttry (BufferedWriter writer = Files.newBufferedWriter(FILE_PATH, StandardCharsets.UTF_8, StandardOpenOption.APPEND)) {\r\n    \t\twriter.write(text);\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nThere are few points to note:\r\n\r\n 1. It is always a good habit to specify charset encoding and for that we have constant in class `StandardCharsets`.\r\n 2. The code uses `try-with-resource` statement in which resources are automatically closed after the try.\r\n\r\nThough OP has not asked but just in case we want to search for lines having some specific keyword e.g. `confidential` we can make use of stream APIs in Java:\r\n\r\n    //Reading from the file the first line which contains word &quot;confidential&quot;\r\n    try {\r\n    \tStream&lt;String&gt; lines = Files.lines(FILE_PATH);\r\n    \tOptional&lt;String&gt; containsJava = lines.filter(l-&gt;l.contains(&quot;confidential&quot;)).findFirst();\r\n    \tif(containsJava.isPresent()){\r\n    \t\tSystem.out.println(containsJava.get());\r\n    \t}\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#newBufferedWriter(java.nio.file.Path,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)","title":"How to append text to an existing file in Java?","body":"<p>If we are using Java 7 and above and also know the content to be added (appended) to the file we can make use of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#newBufferedWriter(java.nio.file.Path,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)\" rel=\"nofollow\">newBufferedWriter</a> method in NIO package.</p>\n\n<pre><code>public static void main(String[] args) {\n    Path FILE_PATH = Paths.get(\"C:/temp\", \"temp.txt\");\n    String text = \"\\n Welcome to Java 8\";\n\n    //Writing to the file temp.txt\n    try (BufferedWriter writer = Files.newBufferedWriter(FILE_PATH, StandardCharsets.UTF_8, StandardOpenOption.APPEND)) {\n        writer.write(text);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>There are few points to note:</p>\n\n<ol>\n<li>It is always a good habit to specify charset encoding and for that we have constant in class <code>StandardCharsets</code>.</li>\n<li>The code uses <code>try-with-resource</code> statement in which resources are automatically closed after the try.</li>\n</ol>\n\n<p>Though OP has not asked but just in case we want to search for lines having some specific keyword e.g. <code>confidential</code> we can make use of stream APIs in Java:</p>\n\n<pre><code>//Reading from the file the first line which contains word \"confidential\"\ntry {\n    Stream&lt;String&gt; lines = Files.lines(FILE_PATH);\n    Optional&lt;String&gt; containsJava = lines.filter(l-&gt;l.contains(\"confidential\")).findFirst();\n    if(containsJava.isPresent()){\n        System.out.println(containsJava.get());\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4746695,"reputation":145,"user_id":3837848,"display_name":"userAsh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1438177140,"creation_date":1438177140,"answer_id":31702114,"question_id":1625234,"body_markdown":"My answer:\r\n\r\n    JFileChooser chooser= new JFileChooser();\r\n    chooser.showOpenDialog(chooser);\r\n    File file = chooser.getSelectedFile();\r\n    String Content = &quot;What you want to append to file&quot;;\r\n\r\n    try \r\n    {\r\n        RandomAccessFile random = new RandomAccessFile(file, &quot;rw&quot;);\r\n        long length = random.length();\r\n        random.setLength(length + 1);\r\n        random.seek(random.length());\r\n        random.writeBytes(Content);\r\n        random.close();\r\n    } \r\n    catch (Exception exception) {\r\n        //exception handling\r\n    }","title":"How to append text to an existing file in Java?","body":"<p>My answer:</p>\n\n<pre><code>JFileChooser chooser= new JFileChooser();\nchooser.showOpenDialog(chooser);\nFile file = chooser.getSelectedFile();\nString Content = \"What you want to append to file\";\n\ntry \n{\n    RandomAccessFile random = new RandomAccessFile(file, \"rw\");\n    long length = random.length();\n    random.setLength(length + 1);\n    random.seek(random.length());\n    random.writeBytes(Content);\n    random.close();\n} \ncatch (Exception exception) {\n    //exception handling\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60714,"reputation":1934,"user_id":181272,"accept_rate":77,"display_name":"Rahbee Alvee"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1438882723,"creation_date":1438882723,"answer_id":31862318,"question_id":1625234,"body_markdown":"This can be done in one line of code. Hope this helps :)\r\n\r\n    Files.write(Paths.get(fileName), msg.getBytes(), StandardOpenOption.APPEND);","title":"How to append text to an existing file in Java?","body":"<p>This can be done in one line of code. Hope this helps :)</p>\n\n<pre><code>Files.write(Paths.get(fileName), msg.getBytes(), StandardOpenOption.APPEND);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6750495,"reputation":51,"user_id":5200623,"display_name":"shakti kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467834523,"creation_date":1438933518,"answer_id":31872259,"question_id":1625234,"body_markdown":"    FileOutputStream fos = new FileOutputStream(&quot;File_Name&quot;, true);\r\n    fos.write(data);\r\n\r\nthe true allows to append the data in the existing file. If we will write\r\n\r\n    FileOutputStream fos = new FileOutputStream(&quot;File_Name&quot;);\r\n\r\nIt will overwrite the existing file. So go for first approach.","title":"How to append text to an existing file in Java?","body":"<pre><code>FileOutputStream fos = new FileOutputStream(\"File_Name\", true);\nfos.write(data);\n</code></pre>\n\n<p>the true allows to append the data in the existing file. If we will write</p>\n\n<pre><code>FileOutputStream fos = new FileOutputStream(\"File_Name\");\n</code></pre>\n\n<p>It will overwrite the existing file. So go for first approach.</p>\n"},{"tags":[],"owner":{"account_id":6106336,"reputation":2858,"user_id":4763959,"accept_rate":12,"display_name":"Shalini Baranwal"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1451208670,"creation_date":1451207458,"answer_id":34479060,"question_id":1625234,"body_markdown":"This code will fulifil your need:\r\n       \r\n       FileWriter fw=new FileWriter(&quot;C:\\\\file.json&quot;,true);\r\n\t   fw.write(&quot;ssssss&quot;);\r\n\t   fw.close();\r\n\t\t","title":"How to append text to an existing file in Java?","body":"<p>This code will fulifil your need:</p>\n\n<pre><code>   FileWriter fw=new FileWriter(\"C:\\\\file.json\",true);\n   fw.write(\"ssssss\");\n   fw.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6441501,"reputation":402,"user_id":4991382,"display_name":"Mihir Patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1468412626,"creation_date":1468412626,"answer_id":38351653,"question_id":1625234,"body_markdown":"\t/**********************************************************************\r\n\t * it will write content to a specified  file\r\n\t * \r\n\t * @param keyString\r\n\t * @throws IOException\r\n\t *********************************************************************/\r\n\tpublic static void writeToFile(String keyString,String textFilePAth) throws IOException {\r\n\t\t// For output to file\r\n\t\tFile a = new File(textFilePAth);\r\n\r\n\t\tif (!a.exists()) {\r\n\t\t\ta.createNewFile();\r\n\t\t}\r\n\t\tFileWriter fw = new FileWriter(a.getAbsoluteFile(), true);\r\n\t\tBufferedWriter bw = new BufferedWriter(fw);\r\n\t\tbw.append(keyString);\r\n\t\tbw.newLine();\r\n\t\tbw.close();\r\n\t}// end of writeToFile()","title":"How to append text to an existing file in Java?","body":"<pre><code>/**********************************************************************\n * it will write content to a specified  file\n * \n * @param keyString\n * @throws IOException\n *********************************************************************/\npublic static void writeToFile(String keyString,String textFilePAth) throws IOException {\n    // For output to file\n    File a = new File(textFilePAth);\n\n    if (!a.exists()) {\n        a.createNewFile();\n    }\n    FileWriter fw = new FileWriter(a.getAbsoluteFile(), true);\n    BufferedWriter bw = new BufferedWriter(fw);\n    bw.append(keyString);\n    bw.newLine();\n    bw.close();\n}// end of writeToFile()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1201066,"reputation":1519,"user_id":1171721,"display_name":"lfvv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474290130,"creation_date":1474290130,"answer_id":39573904,"question_id":1625234,"body_markdown":"In case you want to **ADD SOME TEXT IN SPECIFIC LINES** you can first read the whole file, append the text wherever you want and then overwrite everything like in the code below:\r\n\r\n    public static void addDatatoFile(String data1, String data2){\r\n\t\t\r\n\t\t\r\n\t\tString fullPath = &quot;/home/user/dir/file.csv&quot;;\r\n\r\n\t\tFile dir = new File(fullPath);\r\n\t\tList&lt;String&gt; l = new LinkedList&lt;String&gt;();\r\n\t\t\r\n\t\ttry (BufferedReader br = new BufferedReader(new FileReader(dir))) {\r\n\t\t\tString line;\r\n\t\t\tint count = 0;\r\n\t\t\t\r\n\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\tif(count == 1){\r\n\t\t\t\t\t//add data at the end of second line\t\t\t\t\t\r\n\t\t\t\t\tline += data1;\r\n\t\t\t\t}else if(count == 2){\r\n\t\t\t\t\t//add other data at the end of third line\r\n\t\t\t\t\tline += data2;\r\n\t\t\t\t}\r\n\t\t\t\tl.add(line);\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tbr.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\t\r\n\t\tcreateFileFromList(l, dir);\r\n\t}\r\n\r\n\tpublic static void createFileFromList(List&lt;String&gt; list, File f){\r\n\r\n\t\tPrintWriter writer;\r\n\t\ttry {\r\n\t\t\twriter = new PrintWriter(f, &quot;UTF-8&quot;);\r\n\t\t\tfor (String d : list) {\r\n\t\t\t\twriter.println(d.toString());\r\n\t\t\t}\r\n\t\t\twriter.close();\t\t\t\t\r\n\t\t} catch (FileNotFoundException | UnsupportedEncodingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n","title":"How to append text to an existing file in Java?","body":"<p>In case you want to <strong>ADD SOME TEXT IN SPECIFIC LINES</strong> you can first read the whole file, append the text wherever you want and then overwrite everything like in the code below:</p>\n\n<pre><code>public static void addDatatoFile(String data1, String data2){\n\n\n    String fullPath = \"/home/user/dir/file.csv\";\n\n    File dir = new File(fullPath);\n    List&lt;String&gt; l = new LinkedList&lt;String&gt;();\n\n    try (BufferedReader br = new BufferedReader(new FileReader(dir))) {\n        String line;\n        int count = 0;\n\n        while ((line = br.readLine()) != null) {\n            if(count == 1){\n                //add data at the end of second line                    \n                line += data1;\n            }else if(count == 2){\n                //add other data at the end of third line\n                line += data2;\n            }\n            l.add(line);\n            count++;\n        }\n        br.close();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }       \n    createFileFromList(l, dir);\n}\n\npublic static void createFileFromList(List&lt;String&gt; list, File f){\n\n    PrintWriter writer;\n    try {\n        writer = new PrintWriter(f, \"UTF-8\");\n        for (String d : list) {\n            writer.println(d.toString());\n        }\n        writer.close();             \n    } catch (FileNotFoundException | UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7690547,"reputation":547,"user_id":5826992,"display_name":"David Charles"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503950077,"creation_date":1487170426,"answer_id":42252722,"question_id":1625234,"body_markdown":"    import java.io.BufferedWriter;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n\r\n    public class Writer {\r\n    \r\n    \r\n        public static void main(String args[]){\r\n            doWrite(&quot;output.txt&quot;,&quot;Content to be appended to file&quot;);\r\n        }\r\n    \r\n        public static void doWrite(String filePath,String contentToBeAppended){\r\n    \r\n           try(\r\n                FileWriter fw = new FileWriter(filePath, true);\r\n                BufferedWriter bw = new BufferedWriter(fw);\r\n                PrintWriter out = new PrintWriter(bw)\r\n              )\r\n              {\r\n                out.println(contentToBeAppended);\r\n              }  \r\n            catch( IOException e ){\r\n            // File writing/opening failed at some stage.\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n","title":"How to append text to an existing file in Java?","body":"<pre><code>import java.io.BufferedWriter;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\npublic class Writer {\n\n\n    public static void main(String args[]){\n        doWrite(\"output.txt\",\"Content to be appended to file\");\n    }\n\n    public static void doWrite(String filePath,String contentToBeAppended){\n\n       try(\n            FileWriter fw = new FileWriter(filePath, true);\n            BufferedWriter bw = new BufferedWriter(fw);\n            PrintWriter out = new PrintWriter(bw)\n          )\n          {\n            out.println(contentToBeAppended);\n          }  \n        catch( IOException e ){\n        // File writing/opening failed at some stage.\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1597353740,"creation_date":1496304224,"answer_id":44301865,"question_id":1625234,"body_markdown":"Slightly expanding on [Kip&#39;s answer](https://stackoverflow.com/questions/1625234#1625263),\r\nhere is a simple Java 7+ method to append a **new line** to a file, **creating it if it doesn&#39;t already exist**:\r\n\r\n    try {\r\n        final Path path = Paths.get(&quot;path/to/filename.txt&quot;);\r\n        Files.write(path, Arrays.asList(&quot;New line to append&quot;), StandardCharsets.UTF_8,\r\n            Files.exists(path) ? StandardOpenOption.APPEND : StandardOpenOption.CREATE);\r\n    } catch (final IOException ioe) {\r\n        // Add your own exception handling...\r\n    }\r\n\r\n**Further notes:**\r\n\r\n 1. The above uses the [`Files.write`][1] overload that writes *lines* of text to a file (i.e. similar to a `println` command). To just write text to the end (i.e. similar to a `print` command), an alternative [`Files.write`][2] overload can be used, passing in a byte array (e.g. `&quot;mytext&quot;.getBytes(StandardCharsets.UTF_8)`).\r\n 2. The `CREATE` option will only work if the specified directory already exists - if it doesn&#39;t, a `NoSuchFileException` is thrown. If required, the following code could be added after setting `path` to create the directory structure:\r\n\r\n        Path pathParent = path.getParent();\r\n        if (!Files.exists(pathParent)) {\r\n            Files.createDirectories(pathParent);\r\n        }\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20java.lang.Iterable,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20byte[],%20java.nio.file.OpenOption...)","title":"How to append text to an existing file in Java?","body":"<p>Slightly expanding on <a href=\"https://stackoverflow.com/questions/1625234#1625263\">Kip's answer</a>,\nhere is a simple Java 7+ method to append a <strong>new line</strong> to a file, <strong>creating it if it doesn't already exist</strong>:</p>\n<pre><code>try {\n    final Path path = Paths.get(&quot;path/to/filename.txt&quot;);\n    Files.write(path, Arrays.asList(&quot;New line to append&quot;), StandardCharsets.UTF_8,\n        Files.exists(path) ? StandardOpenOption.APPEND : StandardOpenOption.CREATE);\n} catch (final IOException ioe) {\n    // Add your own exception handling...\n}\n</code></pre>\n<p><strong>Further notes:</strong></p>\n<ol>\n<li><p>The above uses the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20java.lang.Iterable,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\"><code>Files.write</code></a> overload that writes <em>lines</em> of text to a file (i.e. similar to a <code>println</code> command). To just write text to the end (i.e. similar to a <code>print</code> command), an alternative <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20byte%5B%5D,%20java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\"><code>Files.write</code></a> overload can be used, passing in a byte array (e.g. <code>&quot;mytext&quot;.getBytes(StandardCharsets.UTF_8)</code>).</p>\n</li>\n<li><p>The <code>CREATE</code> option will only work if the specified directory already exists - if it doesn't, a <code>NoSuchFileException</code> is thrown. If required, the following code could be added after setting <code>path</code> to create the directory structure:</p>\n<pre><code>Path pathParent = path.getParent();\nif (!Files.exists(pathParent)) {\n    Files.createDirectories(pathParent);\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11210394,"reputation":189,"user_id":8224617,"accept_rate":100,"display_name":"shriram"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507121887,"creation_date":1507120694,"answer_id":46565079,"question_id":1625234,"body_markdown":"You can use the follong code to append the content in the file:\r\n\r\n     String fileName=&quot;/home/shriram/Desktop/Images/&quot;+&quot;test.txt&quot;;\r\n      FileWriter fw=new FileWriter(fileName,true);    \r\n      fw.write(&quot;here will be you content to insert or append in file&quot;);    \r\n      fw.close(); \r\n      FileWriter fw1=new FileWriter(fileName,true);    \r\n     fw1.write(&quot;another content will be here to be append in the same file&quot;);    \r\n     fw1.close(); \r\n\r\n","title":"How to append text to an existing file in Java?","body":"<p>You can use the follong code to append the content in the file:</p>\n\n<pre><code> String fileName=\"/home/shriram/Desktop/Images/\"+\"test.txt\";\n  FileWriter fw=new FileWriter(fileName,true);    \n  fw.write(\"here will be you content to insert or append in file\");    \n  fw.close(); \n  FileWriter fw1=new FileWriter(fileName,true);    \n fw1.write(\"another content will be here to be append in the same file\");    \n fw1.close(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1518159544,"creation_date":1518159544,"answer_id":48700320,"question_id":1625234,"body_markdown":"**java 7+**\r\n\r\nIn my humble opinion since I am fan of plain java, I would suggest something that it is a combination of the aforementioned answers. Maybe I am late for the party. Here is the code:\r\n\r\n     String sampleText = &quot;test&quot; +  System.getProperty(&quot;line.separator&quot;);\r\n     Files.write(Paths.get(filePath), sampleText.getBytes(StandardCharsets.UTF_8), \r\n     StandardOpenOption.CREATE, StandardOpenOption.APPEND);\r\n\r\nIf the file doesn&#39;t exist, it creates it and if already exists it appends the \r\n*sampleText* to the existing file. Using this, saves you from adding unnecessary libs to your classpath.","title":"How to append text to an existing file in Java?","body":"<p><strong>java 7+</strong></p>\n\n<p>In my humble opinion since I am fan of plain java, I would suggest something that it is a combination of the aforementioned answers. Maybe I am late for the party. Here is the code:</p>\n\n<pre><code> String sampleText = \"test\" +  System.getProperty(\"line.separator\");\n Files.write(Paths.get(filePath), sampleText.getBytes(StandardCharsets.UTF_8), \n StandardOpenOption.CREATE, StandardOpenOption.APPEND);\n</code></pre>\n\n<p>If the file doesn't exist, it creates it and if already exists it appends the \n<em>sampleText</em> to the existing file. Using this, saves you from adding unnecessary libs to your classpath.</p>\n"},{"tags":[],"owner":{"account_id":11823720,"reputation":19,"user_id":8652152,"display_name":"Sawan Patwari"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1527420878,"creation_date":1527420878,"answer_id":50551710,"question_id":1625234,"body_markdown":"1.7 Approach:\r\n\r\n    void appendToFile(String filePath, String content) throws IOException{\r\n\r\n\t\tPath path = Paths.get(filePath);\r\n\r\n\t\ttry (BufferedWriter writer = \r\n\t\t\t\tFiles.newBufferedWriter(path, \r\n\t\t\t\t\t\tStandardOpenOption.APPEND)) {\r\n\t\t\twriter.newLine();\r\n\t\t\twriter.append(content);\r\n\t\t}\r\n\t\t\r\n\t\t/*\r\n\t\t//Alternative:\r\n\t\ttry (BufferedWriter bWriter = \r\n\t\t\t\tFiles.newBufferedWriter(path, \r\n\t\t\t\t\t\tStandardOpenOption.WRITE, StandardOpenOption.APPEND);\r\n\t\t\t\tPrintWriter pWriter = new PrintWriter(bWriter)\r\n\t\t\t\t) {\r\n\t\t\tpWriter.println();//to have println() style instead of newLine();\t\r\n\t\t\tpWriter.append(content);//Also, bWriter.append(content);\r\n\t\t}*/\r\n\t}","title":"How to append text to an existing file in Java?","body":"<p>1.7 Approach:</p>\n\n<pre><code>void appendToFile(String filePath, String content) throws IOException{\n\n    Path path = Paths.get(filePath);\n\n    try (BufferedWriter writer = \n            Files.newBufferedWriter(path, \n                    StandardOpenOption.APPEND)) {\n        writer.newLine();\n        writer.append(content);\n    }\n\n    /*\n    //Alternative:\n    try (BufferedWriter bWriter = \n            Files.newBufferedWriter(path, \n                    StandardOpenOption.WRITE, StandardOpenOption.APPEND);\n            PrintWriter pWriter = new PrintWriter(bWriter)\n            ) {\n        pWriter.println();//to have println() style instead of newLine();   \n        pWriter.append(content);//Also, bWriter.append(content);\n    }*/\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594130313,"creation_date":1594129567,"answer_id":62776752,"question_id":1625234,"body_markdown":"**For JDK version &gt;= 7**\r\n\r\nYou can utilise this simple method which appends the given content to the specified file:\r\n```\r\nvoid appendToFile(String filePath, String content) {\r\n  try (FileWriter fw = new FileWriter(filePath, true)) {\r\n    fw.write(content + System.lineSeparator());\r\n  } catch (IOException e) { \r\n    // TODO handle exception\r\n  }\r\n}\r\n```\r\nWe are constructing a [FileWriter][1] object in append mode.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/FileWriter.html#FileWriter-java.io.File-boolean-","title":"How to append text to an existing file in Java?","body":"<p><strong>For JDK version &gt;= 7</strong></p>\n<p>You can utilise this simple method which appends the given content to the specified file:</p>\n<pre><code>void appendToFile(String filePath, String content) {\n  try (FileWriter fw = new FileWriter(filePath, true)) {\n    fw.write(content + System.lineSeparator());\n  } catch (IOException e) { \n    // TODO handle exception\n  }\n}\n</code></pre>\n<p>We are constructing a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileWriter.html#FileWriter-java.io.File-boolean-\" rel=\"nofollow noreferrer\">FileWriter</a> object in append mode.</p>\n"}],"owner":{"account_id":65760,"reputation":9581,"user_id":193304,"accept_rate":78,"display_name":"flyingfromchina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1228675,"favorite_count":0,"down_vote_count":9,"up_vote_count":779,"accepted_answer_id":1625263,"answer_count":31,"score":770,"last_activity_date":1658164748,"creation_date":1256568230,"question_id":1625234,"body_markdown":"I need to append text repeatedly to an existing file in Java. How do I do that?","title":"How to append text to an existing file in Java?","body":"<p>I need to append text repeatedly to an existing file in Java. How do I do that?</p>\n"},{"tags":["java","android","api","kotlin"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1658164881,"post_id":73026182,"comment_id":128978562,"body_markdown":"No.  Those two aren&#39;t even system calls-  Build is an object created by the app.  DisplayMetrics may have a system call somewhere in the chain, but accessing individual fields on it are again an object read.  Registering for sensors is the only one that actually is a system call.","body":"No.  Those two aren&#39;t even system calls-  Build is an object created by the app.  DisplayMetrics may have a system call somewhere in the chain, but accessing individual fields on it are again an object read.  Registering for sensors is the only one that actually is a system call."},{"owner":{"account_id":25837755,"reputation":19,"user_id":19573889,"display_name":"JRE_Stack"},"score":0,"creation_date":1658165614,"post_id":73026182,"comment_id":128978836,"body_markdown":"Do you have an idea on how I would monitor them without patching these functions for every app ?","body":"Do you have an idea on how I would monitor them without patching these functions for every app ?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1658169059,"post_id":73026182,"comment_id":128980016,"body_markdown":"If you&#39;re talking about a custom AOSP build you could patch the framework.  If you mean on a random device I don&#39;t think you could.","body":"If you&#39;re talking about a custom AOSP build you could patch the framework.  If you mean on a random device I don&#39;t think you could."},{"owner":{"account_id":25837755,"reputation":19,"user_id":19573889,"display_name":"JRE_Stack"},"score":0,"creation_date":1658240181,"post_id":73026182,"comment_id":128999282,"body_markdown":"I mean, Build for example comes from the Android.os library. As far as I understand it, I would need to modify the android.so library or recompile it to log function calls. Is there an easier way ?","body":"I mean, Build for example comes from the Android.os library. As far as I understand it, I would need to modify the android.so library or recompile it to log function calls. Is there an easier way ?"}],"owner":{"account_id":25837755,"reputation":19,"user_id":19573889,"display_name":"JRE_Stack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658164702,"creation_date":1658164702,"question_id":73026182,"body_markdown":"I want to monitor several system functions like ```displayMetrics.heightPixel```, ```Build.DISPLAY``` or access to the Accelerometer/Gyroscope for arbitrary Apps running on the system. \r\nThe goal is to log those function calls into a file.\r\n\r\nIs there a way to monitor it, without reimplementing Android? \r\nDo any of you know a good approach for that ?","title":"It there a way to monitor Android system api calls?","body":"<p>I want to monitor several system functions like <code>displayMetrics.heightPixel</code>, <code>Build.DISPLAY</code> or access to the Accelerometer/Gyroscope for arbitrary Apps running on the system.\nThe goal is to log those function calls into a file.</p>\n<p>Is there a way to monitor it, without reimplementing Android?\nDo any of you know a good approach for that ?</p>\n"},{"tags":["java","android","json","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1658165030,"post_id":73026161,"comment_id":128978621,"body_markdown":"Just making sure that you can&#39;t [use a pre-populated database](https://developer.android.com/training/data-storage/room/prepopulate)","body":"Just making sure that you can&#39;t <a href=\"https://developer.android.com/training/data-storage/room/prepopulate\" rel=\"nofollow noreferrer\">use a pre-populated database</a>"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1658165036,"post_id":73026161,"comment_id":128978624,"body_markdown":"You get the maximum speed by not parsing a 4 million line file.  That&#39;s ridiculously large.  At a minimum you should break it up to only process the parts you have to.  Or looking at this data, it should be a database and you should probably just dl the db directly.","body":"You get the maximum speed by not parsing a 4 million line file.  That&#39;s ridiculously large.  At a minimum you should break it up to only process the parts you have to.  Or looking at this data, it should be a database and you should probably just dl the db directly."},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1658166581,"post_id":73026161,"comment_id":128979197,"body_markdown":"You need to benchmark each major part of your process to know where you can potentially make gains.","body":"You need to benchmark each major part of your process to know where you can potentially make gains."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1658178752,"post_id":73026161,"comment_id":128982880,"body_markdown":"Are you sure you need the `return` in &quot;`return CustomerData(...)`&quot;? That doesn&#39;t return to the enclosing `let`. It returns from the whole function.","body":"Are you sure you need the <code>return</code> in &quot;<code>return CustomerData(...)</code>&quot;? That doesn&#39;t return to the enclosing <code>let</code>. It returns from the whole function."}],"owner":{"account_id":20894033,"reputation":1,"user_id":17530529,"display_name":"Roman Kaznov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658164535,"creation_date":1658164535,"question_id":73026161,"body_markdown":"The file has 4 million lines. I get each line from the file using BufferedReader. Next, the resulting string is parsed using JSONObject and inserted into the database using room\r\n\r\nHow to get the maximum speed of this process?\r\n\r\nSo i get the string\r\n\r\n```\r\nval coroutineScope = CoroutineScope(Dispatchers.IO)\r\n\r\ncoroutineScope.launch {\r\n\r\n                    val inputStream: FileInputStream\r\n                    val reader: BufferedReader\r\n                    if (file.exists()) {\r\n                        val currentFileReaderInfo = FileReaderInfo(file.nameWithoutExtension, 0)\r\n                        inputStream = FileInputStream(file)\r\n                        reader = BufferedReader(InputStreamReader(inputStream))\r\n                        var line: String? = reader.readLine()\r\n                        while (line != null &amp;&amp; !isStop) {\r\n                            val newVal = line\r\n                            fileReaderCommunication.lineInFile(\r\n                                newVal,\r\n                                currentFileReaderInfo\r\n                            )\r\n                            line = reader.readLine()\r\n                        }\r\n                       \r\n                    }\r\n                }\r\n```\r\n\r\nParsing\r\n\r\n```\r\n JSONObject(json).let { obj -&gt;\r\n        val shop = obj.optJSONObject(&quot;shop&quot;)?.let { shop -&gt;\r\n            Shop(\r\n                shop.optBoolean(&quot;disableCardDiscounts&quot;),\r\n                shop.optString(&quot;shopId&quot;),\r\n                shop.optString(&quot;region&quot;),\r\n                shop.optString(&quot;default&quot;)\r\n            )\r\n        }\r\n\r\n        val order = obj.optJSONObject(&quot;orders&quot;)?.let {\r\n            Orders(\r\n                total = it.optInt(&quot;total&quot;),\r\n                first = it.optString(&quot;first&quot;),\r\n                last = it.optString(&quot;last&quot;)\r\n            )\r\n        }\r\n        val card = obj.optJSONObject(&quot;card&quot;)?.let {\r\n            Card(\r\n                number = it.optString(&quot;number&quot;),\r\n                discount = it.getDouble(&quot;discount&quot;),\r\n                sum = it.getDouble(&quot;sum&quot;)\r\n            )\r\n        }\r\n        return CustomerData(\r\n            obj.optString(&quot;id&quot;),\r\n            obj.optString(&quot;customerId&quot;),\r\n            shop,\r\n            obj.optString(&quot;registerId&quot;),\r\n            order,\r\n            card,\r\n            createdAt = obj.optString(&quot;createdAt&quot;),\r\n            updatedAt = obj.optString(&quot;updatedAt&quot;),\r\n            createdDate = obj.optLong(&quot;createdDate&quot;),\r\n            updatedDate = obj.optLong(&quot;updatedDate&quot;)\r\n        )\r\n    }\r\n ```\r\n\r\n\r\nAttempts to parallelize reading and parsing did not give much speed increase","title":"Large file parsing speedup","body":"<p>The file has 4 million lines. I get each line from the file using BufferedReader. Next, the resulting string is parsed using JSONObject and inserted into the database using room</p>\n<p>How to get the maximum speed of this process?</p>\n<p>So i get the string</p>\n<pre><code>val coroutineScope = CoroutineScope(Dispatchers.IO)\n\ncoroutineScope.launch {\n\n                    val inputStream: FileInputStream\n                    val reader: BufferedReader\n                    if (file.exists()) {\n                        val currentFileReaderInfo = FileReaderInfo(file.nameWithoutExtension, 0)\n                        inputStream = FileInputStream(file)\n                        reader = BufferedReader(InputStreamReader(inputStream))\n                        var line: String? = reader.readLine()\n                        while (line != null &amp;&amp; !isStop) {\n                            val newVal = line\n                            fileReaderCommunication.lineInFile(\n                                newVal,\n                                currentFileReaderInfo\n                            )\n                            line = reader.readLine()\n                        }\n                       \n                    }\n                }\n</code></pre>\n<p>Parsing</p>\n<pre><code> JSONObject(json).let { obj -&gt;\n        val shop = obj.optJSONObject(&quot;shop&quot;)?.let { shop -&gt;\n            Shop(\n                shop.optBoolean(&quot;disableCardDiscounts&quot;),\n                shop.optString(&quot;shopId&quot;),\n                shop.optString(&quot;region&quot;),\n                shop.optString(&quot;default&quot;)\n            )\n        }\n\n        val order = obj.optJSONObject(&quot;orders&quot;)?.let {\n            Orders(\n                total = it.optInt(&quot;total&quot;),\n                first = it.optString(&quot;first&quot;),\n                last = it.optString(&quot;last&quot;)\n            )\n        }\n        val card = obj.optJSONObject(&quot;card&quot;)?.let {\n            Card(\n                number = it.optString(&quot;number&quot;),\n                discount = it.getDouble(&quot;discount&quot;),\n                sum = it.getDouble(&quot;sum&quot;)\n            )\n        }\n        return CustomerData(\n            obj.optString(&quot;id&quot;),\n            obj.optString(&quot;customerId&quot;),\n            shop,\n            obj.optString(&quot;registerId&quot;),\n            order,\n            card,\n            createdAt = obj.optString(&quot;createdAt&quot;),\n            updatedAt = obj.optString(&quot;updatedAt&quot;),\n            createdDate = obj.optLong(&quot;createdDate&quot;),\n            updatedDate = obj.optLong(&quot;updatedDate&quot;)\n        )\n    }\n</code></pre>\n<p>Attempts to parallelize reading and parsing did not give much speed increase</p>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":1,"creation_date":1658081919,"post_id":73013656,"comment_id":128957226,"body_markdown":"To me, it is not quite clear what your question is; try reformulating it.","body":"To me, it is not quite clear what your question is; try reformulating it."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1658085324,"post_id":73013656,"comment_id":128957930,"body_markdown":"Why are you having difficulties with the `UserService`? It&#39;s a dependency just like `KelompokRepository`. You can treat those two in the same way if you&#39;re writing unit tests (e.g. mock them).","body":"Why are you having difficulties with the <code>UserService</code>? It&#39;s a dependency just like <code>KelompokRepository</code>. You can treat those two in the same way if you&#39;re writing unit tests (e.g. mock them)."},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1658165280,"post_id":73013656,"comment_id":128978708,"body_markdown":"The most time taking task of a test-writer is often not writing-tests, it&#39;s refactoring codes to be even testable, and as mentioned do &quot;Mock&quot; whatever you are NOT directly testing.","body":"The most time taking task of a test-writer is often not writing-tests, it&#39;s refactoring codes to be even testable, and as mentioned do &quot;Mock&quot; whatever you are NOT directly testing."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1658259163,"post_id":73013656,"comment_id":129006236,"body_markdown":"From the error message it appears that the `toString()` method in `Kelompok` relies on the `toString()` method of `User` and vice versa. This causes an &quot;infinite loop&quot; which ends with a stack overflow error. Can you show us what your `Kelompok` and `User` classes look like, so we can help you better?","body":"From the error message it appears that the <code>toString()</code> method in <code>Kelompok</code> relies on the <code>toString()</code> method of <code>User</code> and vice versa. This causes an &quot;infinite loop&quot; which ends with a stack overflow error. Can you show us what your <code>Kelompok</code> and <code>User</code> classes look like, so we can help you better?"}],"owner":{"account_id":25604871,"reputation":1,"user_id":19379145,"display_name":"Syan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658164096,"creation_date":1658076468,"question_id":73013656,"body_markdown":"I&#39;m still newbie in coding and javaspring, please help me solve unit test with this service especialy for kelompok.setUser(user) that use return from user service. I&#39;m using Junit5 and easy random.\r\n\r\nI have service like this\r\n\r\n    @Slf4j\r\n    @Service\r\n    @Transactional\r\n    public class KelompokService {\r\n        @Autowired\r\n        private KelompokRepository kelompokRepository;\r\n        @Autowired\r\n        private UserService userService;\r\n    public Kelompok save(KelompokDTO request) {\r\n        try{    \r\n            log.info(&quot;save new kelompok: {}&quot;, request);\r\n            log.info(&quot;search user id {}&quot;, request.getIdUser());\r\n            User user = userService.findById(request.getIdUser());\r\n            Kelompok kelompok = new Kelompok(); \r\n            **kelompok.setUser(user);**\r\n            kelompok.setNik(request.getNik());\r\n            return kelompok;\r\n        } catch (Exception e) {\r\n            log.error(&quot;Get an error by executing create new kelompok, Error : {}&quot;,e.getMessage());\r\n            throw new RuntimeException(e.getMessage(), e);\r\n        }\r\n        }\r\n\r\nHere is my User Service\r\n\r\n    @Slf4j\r\n    @Service\r\n    @Transactional\r\n    public class UserService {\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n         public User findById(Long id) {\r\n            try {\r\n                log.info(&quot;Get user detail&quot;);\r\n                 User user = userRepository.findById(id)\r\n                 .orElseThrow(() -&gt; new Exception(&quot;USER ID &quot; + id + &quot; NOT FOUND&quot;));\r\n                  return user;\r\n                  } catch (Exception e) {\r\n                log.error(&quot;Get an error by get user detail, Error : {}&quot;,e.getMessage());\r\n                throw new RuntimeException(e.getMessage(), e);\r\n            }\r\n        }\r\n    }\r\n\r\nI try to test it by doing this\r\n\r\n        @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes=KelompokService.class)\r\n    public class KelompokServiceTest {\r\n    \r\n    private final EasyRandom EASY_RANDOM = new EasyRandom();\r\n    private Long id;\r\n    private List&lt;Kelompok&gt; kelompoks;\r\n    private Kelompok kelompok;\r\n  \r\n    private KelompokDTO kelompokDTO;     \r\n    @Autowired\r\n    KelompokService kelompokService;\r\n    @MockBean\r\n    private UserService userService;\r\n \r\n\r\n    @BeforeEach\r\n        void setUp() {\r\n            MockitoAnnotations.openMocks(this);\r\n            id = EASY_RANDOM.nextObject(Long.class);\r\n            kelompoks = EASY_RANDOM.objects(Kelompok.class, 2)\r\n                        .collect(Collectors.toList());\r\n            kelompokDTO = EASY_RANDOM.nextObject(KelompokDTO.class);\r\n            kelompok= EASY_RANDOM.nextObject(Kelompok.class);\r\n            \r\n            }\r\n    @Test\r\n        void testSave_Success() {\r\n        \r\n            User user =EASY_RANDOM.nextObject(User.class);\r\n            \r\n            when(userService.findById(kelompokDTO.getIdUser()))\r\n            .thenReturn(user);\r\n    \r\n            kelompok.setUser(user);\r\n            kelompok.setNik(kelompokDTO.getNik());\r\n    \r\n            when(kelompokRepository.save(kelompok))\r\n            .thenReturn(kelompok);\r\n            var result = kelompokService.save(kelompokDTO);\r\n    \r\n            assertEquals(kelompok, result);\r\n    \r\n        } }\r\nBut then I got error like this\r\n\r\n&gt; java.lang.StackOverflowError\r\n&gt;  at\r\n&gt; java.base/sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayNamesImpl(Unknown\r\n&gt; Source) at\r\n&gt; java.base/sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayName(Unknown\r\n&gt; Source)  at java.base/java.util.TimeZone.getDisplayName(Unknown\r\n&gt; Source)  at java.base/java.util.Date.toString(Unknown Source)  at\r\n&gt; java.base/java.lang.String.valueOf(Unknown Source)  at\r\n&gt; java.base/java.lang.StringBuilder.append(Unknown Source)  at\r\n&gt; com.example.demo.entity.User.toString(User.java:25)  at\r\n&gt; java.base/java.lang.String.valueOf(Unknown Source)  at\r\n&gt; java.base/java.lang.StringBuilder.append(Unknown Source)  at\r\n&gt; com.example.demo.entity.Kelompok.toString(Kelompok.java:22)\r\n\r\n","title":"How to test service that use other service return as field?","body":"<p>I'm still newbie in coding and javaspring, please help me solve unit test with this service especialy for kelompok.setUser(user) that use return from user service. I'm using Junit5 and easy random.</p>\n<p>I have service like this</p>\n<pre><code>@Slf4j\n@Service\n@Transactional\npublic class KelompokService {\n    @Autowired\n    private KelompokRepository kelompokRepository;\n    @Autowired\n    private UserService userService;\npublic Kelompok save(KelompokDTO request) {\n    try{    \n        log.info(&quot;save new kelompok: {}&quot;, request);\n        log.info(&quot;search user id {}&quot;, request.getIdUser());\n        User user = userService.findById(request.getIdUser());\n        Kelompok kelompok = new Kelompok(); \n        **kelompok.setUser(user);**\n        kelompok.setNik(request.getNik());\n        return kelompok;\n    } catch (Exception e) {\n        log.error(&quot;Get an error by executing create new kelompok, Error : {}&quot;,e.getMessage());\n        throw new RuntimeException(e.getMessage(), e);\n    }\n    }\n</code></pre>\n<p>Here is my User Service</p>\n<pre><code>@Slf4j\n@Service\n@Transactional\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n     public User findById(Long id) {\n        try {\n            log.info(&quot;Get user detail&quot;);\n             User user = userRepository.findById(id)\n             .orElseThrow(() -&gt; new Exception(&quot;USER ID &quot; + id + &quot; NOT FOUND&quot;));\n              return user;\n              } catch (Exception e) {\n            log.error(&quot;Get an error by get user detail, Error : {}&quot;,e.getMessage());\n            throw new RuntimeException(e.getMessage(), e);\n        }\n    }\n}\n</code></pre>\n<p>I try to test it by doing this</p>\n<pre><code>    @ExtendWith(SpringExtension.class)\n@SpringBootTest(classes=KelompokService.class)\npublic class KelompokServiceTest {\n\nprivate final EasyRandom EASY_RANDOM = new EasyRandom();\nprivate Long id;\nprivate List&lt;Kelompok&gt; kelompoks;\nprivate Kelompok kelompok;\n\nprivate KelompokDTO kelompokDTO;     \n@Autowired\nKelompokService kelompokService;\n@MockBean\nprivate UserService userService;\n\n\n@BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this);\n        id = EASY_RANDOM.nextObject(Long.class);\n        kelompoks = EASY_RANDOM.objects(Kelompok.class, 2)\n                    .collect(Collectors.toList());\n        kelompokDTO = EASY_RANDOM.nextObject(KelompokDTO.class);\n        kelompok= EASY_RANDOM.nextObject(Kelompok.class);\n        \n        }\n@Test\n    void testSave_Success() {\n    \n        User user =EASY_RANDOM.nextObject(User.class);\n        \n        when(userService.findById(kelompokDTO.getIdUser()))\n        .thenReturn(user);\n\n        kelompok.setUser(user);\n        kelompok.setNik(kelompokDTO.getNik());\n\n        when(kelompokRepository.save(kelompok))\n        .thenReturn(kelompok);\n        var result = kelompokService.save(kelompokDTO);\n\n        assertEquals(kelompok, result);\n\n    } }\n</code></pre>\n<p>But then I got error like this</p>\n<blockquote>\n<p>java.lang.StackOverflowError\nat\njava.base/sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayNamesImpl(Unknown\nSource) at\njava.base/sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayName(Unknown\nSource)  at java.base/java.util.TimeZone.getDisplayName(Unknown\nSource)  at java.base/java.util.Date.toString(Unknown Source)  at\njava.base/java.lang.String.valueOf(Unknown Source)  at\njava.base/java.lang.StringBuilder.append(Unknown Source)  at\ncom.example.demo.entity.User.toString(User.java:25)  at\njava.base/java.lang.String.valueOf(Unknown Source)  at\njava.base/java.lang.StringBuilder.append(Unknown Source)  at\ncom.example.demo.entity.Kelompok.toString(Kelompok.java:22)</p>\n</blockquote>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":21945927,"reputation":76,"user_id":16225778,"display_name":"pmjr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657903817,"creation_date":1657903817,"answer_id":72997318,"question_id":72997238,"body_markdown":"Try this\r\n\r\n```\r\nString myName = getResources().getString(R.string.Std_Name);\r\nString myPhone = getResources().getString(R.string.Std_Phone);\r\n\r\n// Then do whatever you want with these values\r\n```","title":"how to call Strings in mainactivity.xml from Strings.xml file","body":"<p>Try this</p>\n<pre><code>String myName = getResources().getString(R.string.Std_Name);\nString myPhone = getResources().getString(R.string.Std_Phone);\n\n// Then do whatever you want with these values\n</code></pre>\n"},{"tags":[],"owner":{"account_id":122115,"reputation":5060,"user_id":315702,"accept_rate":88,"display_name":"Mark McClelland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658164063,"creation_date":1657906280,"answer_id":72997755,"question_id":72997238,"body_markdown":"From within an XML layout, you can use the `@string/resourceName` syntax within the `text` string to reference a string resource:\r\n\r\n    android:text=&quot;@string/resourceName&quot;\r\n\r\nUsing the `Std_Name` string resource from your example, that would look something like this:\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Std_Name&quot; /&gt;\r\n\r\nOfficial documentation for string resources can be found [here][1]. You can also find a good example in the [Accessing resources from XML][2] section of the [App resources overview][3].\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/resources/string-resource\r\n  [2]: https://developer.android.com/guide/topics/resources/providing-resources#ResourcesFromXml\r\n  [3]: https://developer.android.com/guide/topics/resources/providing-resources","title":"how to call Strings in mainactivity.xml from Strings.xml file","body":"<p>From within an XML layout, you can use the <code>@string/resourceName</code> syntax within the <code>text</code> string to reference a string resource:</p>\n<pre><code>android:text=&quot;@string/resourceName&quot;\n</code></pre>\n<p>Using the <code>Std_Name</code> string resource from your example, that would look something like this:</p>\n<pre><code>&lt;TextView\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;@string/Std_Name&quot; /&gt;\n</code></pre>\n<p>Official documentation for string resources can be found <a href=\"https://developer.android.com/guide/topics/resources/string-resource\" rel=\"nofollow noreferrer\">here</a>. You can also find a good example in the <a href=\"https://developer.android.com/guide/topics/resources/providing-resources#ResourcesFromXml\" rel=\"nofollow noreferrer\">Accessing resources from XML</a> section of the <a href=\"https://developer.android.com/guide/topics/resources/providing-resources\" rel=\"nofollow noreferrer\">App resources overview</a>.</p>\n"},{"tags":[],"owner":{"account_id":25192167,"reputation":339,"user_id":19374335,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657948200,"creation_date":1657912609,"answer_id":72998704,"question_id":72997238,"body_markdown":"**Call in your Textview text field**\r\n\r\n    android:text=&quot;@string/Std_Name&quot;","title":"how to call Strings in mainactivity.xml from Strings.xml file","body":"<p><strong>Call in your Textview text field</strong></p>\n<pre><code>android:text=&quot;@string/Std_Name&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657955591,"creation_date":1657955591,"answer_id":73002268,"question_id":72997238,"body_markdown":"If you want to add the value from strings.xml to `TextView` in `mainactivity.xml` , add the following line of code to your xml\r\n\r\n&gt; `android:text=&quot;@string/Std_Name&quot;`\r\n\r\n \r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;5sp&quot;\r\n        android:lineSpacingExtra=&quot;2sp&quot;\r\n        android:text=&quot;@string/Std_Name&quot; // Add this line to your textView\r\n        android:textColor=&quot;@color/yellow_dark&quot;\r\n        android:textSize=&quot;@dimen/activity_text_size_small&quot;\r\n        android:textStyle=&quot;normal&quot; /&gt;\r\n\r\nOr, if you want to add text from `strings.xml` to textview from `MainActivity.java`, add the following code\r\n\r\n    TextView textView = findViewById(R.id.textView1);\r\n    textView.setText(getResources().getString(R.string.Std_Name));","title":"how to call Strings in mainactivity.xml from Strings.xml file","body":"<p>If you want to add the value from strings.xml to <code>TextView</code> in <code>mainactivity.xml</code> , add the following line of code to your xml</p>\n<blockquote>\n<p><code>android:text=&quot;@string/Std_Name&quot;</code></p>\n</blockquote>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/textView1&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:layout_marginTop=&quot;5sp&quot;\n    android:lineSpacingExtra=&quot;2sp&quot;\n    android:text=&quot;@string/Std_Name&quot; // Add this line to your textView\n    android:textColor=&quot;@color/yellow_dark&quot;\n    android:textSize=&quot;@dimen/activity_text_size_small&quot;\n    android:textStyle=&quot;normal&quot; /&gt;\n</code></pre>\n<p>Or, if you want to add text from <code>strings.xml</code> to textview from <code>MainActivity.java</code>, add the following code</p>\n<pre><code>TextView textView = findViewById(R.id.textView1);\ntextView.setText(getResources().getString(R.string.Std_Name));\n</code></pre>\n"}],"owner":{"account_id":16968501,"reputation":11,"user_id":12273746,"display_name":"Muhammad Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1658164063,"creation_date":1657903390,"question_id":72997238,"body_markdown":"1. I want to Call it in TextView\r\n\r\n       &lt;string name=&quot;Std_Name&quot;&gt;Name:       Muhammad Abdullah&lt;/string&gt;\r\n       &lt;string name=&quot;Std_Phone&quot;&gt;Phone:     +923338157028&lt;/string&gt;","title":"how to call Strings in mainactivity.xml from Strings.xml file","body":"<ol>\n<li><p>I want to Call it in TextView</p>\n<pre><code>&lt;string name=&quot;Std_Name&quot;&gt;Name:       Muhammad Abdullah&lt;/string&gt;\n&lt;string name=&quot;Std_Phone&quot;&gt;Phone:     +923338157028&lt;/string&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","gis","geocoding"],"comments":[{"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"score":1,"creation_date":1329143351,"post_id":9104908,"comment_id":11672737,"body_markdown":"Have a look at this question: http://stackoverflow.com/q/990148/813951 Some of the answers are pretty good.","body":"Have a look at this question: <a href=\"http://stackoverflow.com/q/990148/813951\">stackoverflow.com/q/990148/813951</a> Some of the answers are pretty good."},{"owner":{"account_id":5049,"reputation":23450,"user_id":7918,"accept_rate":99,"display_name":"jb."},"score":0,"creation_date":1329560670,"post_id":9104908,"comment_id":11789064,"body_markdown":"Might try geohashing :) http://xkcd.com/426/","body":"Might try geohashing :) <a href=\"http://xkcd.com/426/\" rel=\"nofollow noreferrer\">xkcd.com/426</a>"},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1487275844,"post_id":9104908,"comment_id":71723947,"body_markdown":"Won&#39;t this snippet give a pretty weird distribution close to the poles?","body":"Won&#39;t this snippet give a pretty weird distribution close to the poles?"}],"answers":[{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328139612,"creation_date":1328139612,"answer_id":9105080,"question_id":9104908,"body_markdown":"I guess you could use a world map, define a few points on it to delimit most of water bodies as you say and use a polygon.contains method to validate the coordinates.\r\n\r\nA faster algorithm would be to use this map, take some random point and check the color beneath, if it&#39;s blue, then water... when you have the coordinates, you convert them to lat/long.\r\n\r\n","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>I guess you could use a world map, define a few points on it to delimit most of water bodies as you say and use a polygon.contains method to validate the coordinates.</p>\n\n<p>A faster algorithm would be to use this map, take some random point and check the color beneath, if it's blue, then water... when you have the coordinates, you convert them to lat/long.</p>\n"},{"tags":[],"owner":{"account_id":1216729,"reputation":539,"user_id":1184173,"display_name":"David Thornton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328150962,"creation_date":1328150962,"answer_id":9106511,"question_id":9104908,"body_markdown":"You might also do the blue green thing , and then store all the green points for later look up. This has the benifit of being &quot;step wise&quot; refinable. As you figure out a better way to make your list of points you can just point your random graber at a more and more acurate group of points.\r\n\r\nMaybe a service provider has an answer to your question already: e.g.  https://www.google.com/enterprise/marketplace/viewListing?productListingId=3030+17310026046429031496&amp;pli=1\r\n\r\nElevation api? http://code.google.com/apis/maps/documentation/elevation/ above sea level or below? (no dutch points for you!)\r\n\r\n","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>You might also do the blue green thing , and then store all the green points for later look up. This has the benifit of being \"step wise\" refinable. As you figure out a better way to make your list of points you can just point your random graber at a more and more acurate group of points.</p>\n\n<p>Maybe a service provider has an answer to your question already: e.g.  <a href=\"https://www.google.com/enterprise/marketplace/viewListing?productListingId=3030+17310026046429031496&amp;pli=1\" rel=\"nofollow\">https://www.google.com/enterprise/marketplace/viewListing?productListingId=3030+17310026046429031496&amp;pli=1</a></p>\n\n<p>Elevation api? <a href=\"http://code.google.com/apis/maps/documentation/elevation/\" rel=\"nofollow\">http://code.google.com/apis/maps/documentation/elevation/</a> above sea level or below? (no dutch points for you!)</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1329146710,"creation_date":1329146710,"answer_id":9263071,"question_id":9104908,"body_markdown":"1. Download a truckload of KML files containing land-only locations.\r\n2. Extract all coordinates from them [this might help here](http://earth.tryse.net/getpos_csv.xsl).\r\n3. Pick them at random.\r\n\r\n","title":"Random geographic coordinates (on land, avoid ocean)","body":"<ol>\n<li>Download a truckload of KML files containing land-only locations.</li>\n<li>Extract all coordinates from them <a href=\"http://earth.tryse.net/getpos_csv.xsl\" rel=\"nofollow\">this might help here</a>.</li>\n<li>Pick them at random.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1024007,"reputation":1534,"user_id":1033706,"accept_rate":83,"display_name":"Elias Vasylenko"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1329162874,"creation_date":1329154934,"answer_id":9265233,"question_id":9104908,"body_markdown":"To get a nice even distribution over latitudes and longitudes you should do something like this to get the right angles:\r\n\r\n    double longitude = Math.random() * Math.PI * 2;\r\n    double latitude = Math.acos(Math.random() * 2 - 1);\r\n\r\nAs for avoiding bodies of water, do you have the data for where water is already? Well, just resample until you get a hit! If you don&#39;t have this data already then it seems some other people have some better suggestions than I would for that...\r\n\r\nHope this helps, cheers.","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>To get a nice even distribution over latitudes and longitudes you should do something like this to get the right angles:</p>\n\n<pre><code>double longitude = Math.random() * Math.PI * 2;\ndouble latitude = Math.acos(Math.random() * 2 - 1);\n</code></pre>\n\n<p>As for avoiding bodies of water, do you have the data for where water is already? Well, just resample until you get a hit! If you don't have this data already then it seems some other people have some better suggestions than I would for that...</p>\n\n<p>Hope this helps, cheers.</p>\n"},{"tags":[],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329155915,"creation_date":1329155915,"answer_id":9265455,"question_id":9104908,"body_markdown":"Definitely you should have a map as a resource. You can take it here: http://www.naturalearthdata.com/ \r\n\r\nThen I would prepare 1bit black and white bitmap resource with 1s marking land and 0x marking water.\r\n\r\nThe size of bitmap depends on your required precision. If you need 5 degrees then your bitmap will be 360/5 x 180/5 = 72x36 pixels = 2592 bits. \r\n\r\nThen I would load this bitmap in Java, generate random integer withing range above, read bit, and regenerate if it was zero.\r\n\r\nP.S. Also you can dig here http://geotools.org/ for some ready made solutions.","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>Definitely you should have a map as a resource. You can take it here: <a href=\"http://www.naturalearthdata.com/\" rel=\"nofollow\">http://www.naturalearthdata.com/</a> </p>\n\n<p>Then I would prepare 1bit black and white bitmap resource with 1s marking land and 0x marking water.</p>\n\n<p>The size of bitmap depends on your required precision. If you need 5 degrees then your bitmap will be 360/5 x 180/5 = 72x36 pixels = 2592 bits. </p>\n\n<p>Then I would load this bitmap in Java, generate random integer withing range above, read bit, and regenerate if it was zero.</p>\n\n<p>P.S. Also you can dig here <a href=\"http://geotools.org/\" rel=\"nofollow\">http://geotools.org/</a> for some ready made solutions.</p>\n"},{"tags":[],"owner":{"account_id":400792,"reputation":926,"user_id":766969,"accept_rate":40,"display_name":"bsimic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329231202,"creation_date":1329231202,"answer_id":9279020,"question_id":9104908,"body_markdown":"There is a library [here][1] and you can use its .random() method to get a random coordinate. Then you can use [GeoNames WebServices][2] to determine whether it is on land or not. They have a list of webservices and you&#39;ll just have to use the right one. GeoNames is free and reliable. \r\n\r\n\r\n  [1]: http://www.jarvana.com/jarvana/browse/com/javadocmd/simplelatlng/1.0.1/\r\n  [2]: http://www.geonames.org/export/","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>There is a library <a href=\"http://www.jarvana.com/jarvana/browse/com/javadocmd/simplelatlng/1.0.1/\" rel=\"nofollow\">here</a> and you can use its .random() method to get a random coordinate. Then you can use <a href=\"http://www.geonames.org/export/\" rel=\"nofollow\">GeoNames WebServices</a> to determine whether it is on land or not. They have a list of webservices and you'll just have to use the right one. GeoNames is free and reliable. </p>\n"},{"tags":[],"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329504199,"creation_date":1329504199,"answer_id":9333647,"question_id":9104908,"body_markdown":"Generating is easy, the Problem is that they should not be on water. I would import the &quot;Open Streetmap&quot; for example here http://ftp.ecki-netz.de/osm/ and import it to an Database (verry easy data Structure). I would suggest PostgreSQL, it comes with some geo functions http://www.postgresql.org/docs/8.2/static/functions-geometry.html . For that you have to save the points in a &quot;polygon&quot;-column, then you can check with the &quot;&amp;&amp;&quot; operator if it is in an Water polygon. For the attributes of an OpenStreetmap Way-Entry you should have a look at http://wiki.openstreetmap.org/wiki/Category:En:Keys","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>Generating is easy, the Problem is that they should not be on water. I would import the \"Open Streetmap\" for example here <a href=\"http://ftp.ecki-netz.de/osm/\" rel=\"nofollow\">http://ftp.ecki-netz.de/osm/</a> and import it to an Database (verry easy data Structure). I would suggest PostgreSQL, it comes with some geo functions <a href=\"http://www.postgresql.org/docs/8.2/static/functions-geometry.html\" rel=\"nofollow\">http://www.postgresql.org/docs/8.2/static/functions-geometry.html</a> . For that you have to save the points in a \"polygon\"-column, then you can check with the \"&amp;&amp;\" operator if it is in an Water polygon. For the attributes of an OpenStreetmap Way-Entry you should have a look at <a href=\"http://wiki.openstreetmap.org/wiki/Category:En:Keys\" rel=\"nofollow\">http://wiki.openstreetmap.org/wiki/Category:En:Keys</a></p>\n"},{"tags":[],"owner":{"account_id":333322,"reputation":3805,"user_id":659138,"display_name":"philwb"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1658164028,"creation_date":1329508708,"answer_id":9334575,"question_id":9104908,"body_markdown":"To deal with the body of water problem is going to be largely a data issue, e.g. do you just want to miss the oceans or do you need to also miss small streams.  Either you need to use a service with the quality of data that you need, or, you need to obtain the data yourself and run it locally.  From your edit, it sounds like you want to go the local data route, so I&#39;ll focus on a way to do that.\r\n\r\nOne method is to obtain a shapefile for either land areas or water areas.  You can then generate a random point and determine if it intersects a land area (or alternatively, does not intersect a water area).\r\n\r\nTo get started, you might get some low resolution data [here][1] and then get higher resolution data [here][2] for when you want to get better answers on coast lines or with lakes/rivers/etc.  You mentioned that you want precision in your points to 5 decimal places, which is a little over 1m.  Do be aware that if you get data to match that precision,  you will have one giant data set.  And, if you want really good data, be prepared to pay for it.\r\n\r\nOnce you have your shape data, you need some tools to help you determine the intersection of your random points.  [Geotools][3] is a great place to start and probably will work for your needs.  You will also end up looking at opengis code (docs under geotools site - not sure if they consumed them or what) and [JTS][4] for the geometry handling.  Using this you can quickly open the shapefile and start doing some intersection queries.\r\n\r\n        File f = new File ( &quot;world.shp&quot; );\r\n        ShapefileDataStore dataStore = new ShapefileDataStore ( f.toURI ().toURL () );\r\n        FeatureSource&lt;SimpleFeatureType, SimpleFeature&gt; featureSource = \r\n            dataStore.getFeatureSource ();\r\n        String geomAttrName = featureSource.getSchema ()\r\n            .getGeometryDescriptor ().getLocalName ();\r\n\r\n        ResourceInfo resourceInfo = featureSource.getInfo ();\r\n        CoordinateReferenceSystem crs = resourceInfo.getCRS ();\r\n        Hints hints = GeoTools.getDefaultHints ();\r\n        hints.put ( Hints.JTS_SRID, 4326 );\r\n        hints.put ( Hints.CRS, crs );\r\n\r\n        FilterFactory2 ff = CommonFactoryFinder.getFilterFactory2 ( hints );\r\n        GeometryFactory gf = JTSFactoryFinder.getGeometryFactory ( hints );\r\n\r\n        Coordinate land = new Coordinate ( -122.0087, 47.54650 );\r\n        Point pointLand = gf.createPoint ( land );\r\n        Coordinate water = new Coordinate ( 0, 0 );\r\n        Point pointWater = gf.createPoint ( water );\r\n\r\n        Intersects filter = ff.intersects ( ff.property ( geomAttrName ), \r\n            ff.literal ( pointLand ) );\r\n        FeatureCollection&lt;SimpleFeatureType, SimpleFeature&gt; features = featureSource\r\n                .getFeatures ( filter );\r\n\r\n        filter = ff.intersects ( ff.property ( geomAttrName ), \r\n            ff.literal ( pointWater ) );\r\n        features = featureSource.getFeatures ( filter );\r\n\r\nQuick explanations:\r\n\r\n 0. This assumes the shapefile you got is polygon data.  Intersection on lines or points isn&#39;t going to give you what you want.\r\n 1. First section opens the shapefile - nothing interesting\r\n 2. you have to fetch the geometry property name for the given file\r\n 3. coordinate system stuff - you specified lat/long in your post but GIS can be quite a bit more complicated.  In general, the data I pointed you at is [geographic, wgs84][5], and, that is what I setup here.  However, if this is not the case for you then you need to be sure you are dealing with your data in the correct coordinate system.  If that all sounds like gibberish, google around for a tutorial on GIS/coordinate systems/datum/ellipsoid.\r\n 4. generating the coordinate geometries and the filters are pretty self-explanatory.  The resulting set of features will either be empty, meaning the coordinate is in the water if your data is land cover, or not empty, meaning the opposite.\r\n\r\nNote: if you do this with a really random set of points, you are going to hit water pretty often and it could take you a while to get to 25k points.  You may want to try to scope your point generation better than truly random (like remove big chunks of the Atlantic/Pacific/Indian oceans).\r\n\r\nAlso, you may find that your intersection queries are too slow.  If so, you may want to look into creating a quadtree index (qix) with a tool like [GDAL][6].  I don&#39;t recall which index types are supported by geotools, though.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20150713210113/http://aprsworld.net:80/gisdata/world/\r\n  [2]: https://www.soest.hawaii.edu/pwessel/gshhs/index.html\r\n  [3]: https://geotools.org/\r\n  [4]: https://web.archive.org/web/20160818123229/http://www.vividsolutions.com:80/Jts/JTSHome.htm\r\n  [5]: https://spatialreference.org/ref/epsg/4326/\r\n  [6]: https://gdal.org/","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>To deal with the body of water problem is going to be largely a data issue, e.g. do you just want to miss the oceans or do you need to also miss small streams.  Either you need to use a service with the quality of data that you need, or, you need to obtain the data yourself and run it locally.  From your edit, it sounds like you want to go the local data route, so I'll focus on a way to do that.</p>\n<p>One method is to obtain a shapefile for either land areas or water areas.  You can then generate a random point and determine if it intersects a land area (or alternatively, does not intersect a water area).</p>\n<p>To get started, you might get some low resolution data <a href=\"https://web.archive.org/web/20150713210113/http://aprsworld.net:80/gisdata/world/\" rel=\"nofollow noreferrer\">here</a> and then get higher resolution data <a href=\"https://www.soest.hawaii.edu/pwessel/gshhs/index.html\" rel=\"nofollow noreferrer\">here</a> for when you want to get better answers on coast lines or with lakes/rivers/etc.  You mentioned that you want precision in your points to 5 decimal places, which is a little over 1m.  Do be aware that if you get data to match that precision,  you will have one giant data set.  And, if you want really good data, be prepared to pay for it.</p>\n<p>Once you have your shape data, you need some tools to help you determine the intersection of your random points.  <a href=\"https://geotools.org/\" rel=\"nofollow noreferrer\">Geotools</a> is a great place to start and probably will work for your needs.  You will also end up looking at opengis code (docs under geotools site - not sure if they consumed them or what) and <a href=\"https://web.archive.org/web/20160818123229/http://www.vividsolutions.com:80/Jts/JTSHome.htm\" rel=\"nofollow noreferrer\">JTS</a> for the geometry handling.  Using this you can quickly open the shapefile and start doing some intersection queries.</p>\n<pre><code>    File f = new File ( &quot;world.shp&quot; );\n    ShapefileDataStore dataStore = new ShapefileDataStore ( f.toURI ().toURL () );\n    FeatureSource&lt;SimpleFeatureType, SimpleFeature&gt; featureSource = \n        dataStore.getFeatureSource ();\n    String geomAttrName = featureSource.getSchema ()\n        .getGeometryDescriptor ().getLocalName ();\n\n    ResourceInfo resourceInfo = featureSource.getInfo ();\n    CoordinateReferenceSystem crs = resourceInfo.getCRS ();\n    Hints hints = GeoTools.getDefaultHints ();\n    hints.put ( Hints.JTS_SRID, 4326 );\n    hints.put ( Hints.CRS, crs );\n\n    FilterFactory2 ff = CommonFactoryFinder.getFilterFactory2 ( hints );\n    GeometryFactory gf = JTSFactoryFinder.getGeometryFactory ( hints );\n\n    Coordinate land = new Coordinate ( -122.0087, 47.54650 );\n    Point pointLand = gf.createPoint ( land );\n    Coordinate water = new Coordinate ( 0, 0 );\n    Point pointWater = gf.createPoint ( water );\n\n    Intersects filter = ff.intersects ( ff.property ( geomAttrName ), \n        ff.literal ( pointLand ) );\n    FeatureCollection&lt;SimpleFeatureType, SimpleFeature&gt; features = featureSource\n            .getFeatures ( filter );\n\n    filter = ff.intersects ( ff.property ( geomAttrName ), \n        ff.literal ( pointWater ) );\n    features = featureSource.getFeatures ( filter );\n</code></pre>\n<p>Quick explanations:</p>\n<ol start=\"0\">\n<li>This assumes the shapefile you got is polygon data.  Intersection on lines or points isn't going to give you what you want.</li>\n<li>First section opens the shapefile - nothing interesting</li>\n<li>you have to fetch the geometry property name for the given file</li>\n<li>coordinate system stuff - you specified lat/long in your post but GIS can be quite a bit more complicated.  In general, the data I pointed you at is <a href=\"https://spatialreference.org/ref/epsg/4326/\" rel=\"nofollow noreferrer\">geographic, wgs84</a>, and, that is what I setup here.  However, if this is not the case for you then you need to be sure you are dealing with your data in the correct coordinate system.  If that all sounds like gibberish, google around for a tutorial on GIS/coordinate systems/datum/ellipsoid.</li>\n<li>generating the coordinate geometries and the filters are pretty self-explanatory.  The resulting set of features will either be empty, meaning the coordinate is in the water if your data is land cover, or not empty, meaning the opposite.</li>\n</ol>\n<p>Note: if you do this with a really random set of points, you are going to hit water pretty often and it could take you a while to get to 25k points.  You may want to try to scope your point generation better than truly random (like remove big chunks of the Atlantic/Pacific/Indian oceans).</p>\n<p>Also, you may find that your intersection queries are too slow.  If so, you may want to look into creating a quadtree index (qix) with a tool like <a href=\"https://gdal.org/\" rel=\"nofollow noreferrer\">GDAL</a>.  I don't recall which index types are supported by geotools, though.</p>\n"},{"tags":[],"owner":{"account_id":466882,"reputation":38261,"user_id":871910,"accept_rate":58,"display_name":"zmbq"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1329549863,"creation_date":1329549863,"answer_id":9339442,"question_id":9104908,"body_markdown":"Do the random points have to be uniformly distributed all over the world? If you could settle for a *seemingly* uniform distribution, you can do this:\r\n\r\nOpen your favorite map service, draw a rectangle inside the United States, Russia, China, Western Europe and definitely the northern part of Africa - making sure there are no big lakes or Caspian seas inside the rectangles. Take the corner coordinates of each rectangle, and then select coordinates at random *inside* those rectangles.\r\n\r\nYou are guaranteed non of these points will be on any sea or lake. You might find an occasional river, but I&#39;m not sure how many geoservices are going to be accurate enough for that anyway.","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>Do the random points have to be uniformly distributed all over the world? If you could settle for a <em>seemingly</em> uniform distribution, you can do this:</p>\n\n<p>Open your favorite map service, draw a rectangle inside the United States, Russia, China, Western Europe and definitely the northern part of Africa - making sure there are no big lakes or Caspian seas inside the rectangles. Take the corner coordinates of each rectangle, and then select coordinates at random <em>inside</em> those rectangles.</p>\n\n<p>You are guaranteed non of these points will be on any sea or lake. You might find an occasional river, but I'm not sure how many geoservices are going to be accurate enough for that anyway.</p>\n"},{"tags":[],"owner":{"account_id":1255814,"reputation":13493,"user_id":1215291,"accept_rate":72,"display_name":"Kamil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329559423,"creation_date":1329559423,"answer_id":9340250,"question_id":9104908,"body_markdown":"1. Go there http://wiki.openstreetmap.org/\r\n2. Try to use API: http://wiki.openstreetmap.org/wiki/Databases_and_data_access_APIs","title":"Random geographic coordinates (on land, avoid ocean)","body":"<ol>\n<li>Go there <a href=\"http://wiki.openstreetmap.org/\" rel=\"nofollow\">http://wiki.openstreetmap.org/</a></li>\n<li>Try to use API: <a href=\"http://wiki.openstreetmap.org/wiki/Databases_and_data_access_APIs\" rel=\"nofollow\">http://wiki.openstreetmap.org/wiki/Databases_and_data_access_APIs</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":429875,"reputation":8796,"user_id":813002,"display_name":"GenericJon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1329577065,"creation_date":1329577065,"answer_id":9342251,"question_id":9104908,"body_markdown":"This is an extremely interesting question, from both a theoretical and practical perspective. The most suitable solution will largely depend on your exact requirements. Do you need to account for every body of water, or just the major seas and oceans? How critical are accuracy and correctness; Will identifying sea as land or vice-versa be a catastrophic failure?\r\n\r\nI think machine learning techniques would be an excellent solution to this problem, provided that you don&#39;t mind the (hopefully small) probability that a point of water is incorrectly classified as land. If that&#39;s not an issue, then this approach should have a number of advantages against other techniques.\r\n\r\nUsing a bitmap is a nice solution, simple and elegant. It can be produced to a specified accuracy and the classification is guaranteed to be correct (Or a least as correct as you made the bitmap). But its practicality is dependent on how accurate you need the solution to be. You mention that you want the coordinate accuracy to 5 decimal places (which would be equivalent to mapping the whole surface of the planet to about the nearest metre). Using 1 bit per element, the bitmap would weigh in at ~73.6 terabytes!\r\n\r\nWe don&#39;t need to store all of this data though; We only need to know where the coastlines are. Just by knowing where a point is in relation to the coast, we can determine whether it is on land or sea. As a rough estimate, the CIA world factbook reports that there are 22498km of coastline on Earth. If we were to store coordiates for every metre of coastline, using a 32 bit word for each latitude and longitude, this would take less than 1.35GB to store. It&#39;s still a lot if this is for a trivial application, but a few orders of magnitude less than using a bitmap. If having such a high degree of accuracy isn&#39;t neccessary though, these numbers would drop considerably. Reducing the mapping to only the nearest kilometre would make the bitmap just ~75GB and the coordinates for the world&#39;s coastline could fit on a floppy disk.\r\n\r\nWhat I propose is to use a clustering algorithm to decide whether a point is on land or not. We would first need a suitably large number of coordinates that we already know to be on either land or sea. Existing GIS databases would be suitable for this. Then we can analyse the points to determine clusters of land and sea. The decision boundary between the clusters should fall on the coastlines, and all points not determining the decision boundary can be removed. This process can be iterated to give a progressively more accurate boundary.\r\n\r\nOnly the points determining the decision boundary/the coastline need to be stored, and by using a simple distance metric we can quickly and easily decide if a set of coordinates are on land or sea. A large amount of resources would be required to train the system, but once complete the classifier would require very little space or time.","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>This is an extremely interesting question, from both a theoretical and practical perspective. The most suitable solution will largely depend on your exact requirements. Do you need to account for every body of water, or just the major seas and oceans? How critical are accuracy and correctness; Will identifying sea as land or vice-versa be a catastrophic failure?</p>\n\n<p>I think machine learning techniques would be an excellent solution to this problem, provided that you don't mind the (hopefully small) probability that a point of water is incorrectly classified as land. If that's not an issue, then this approach should have a number of advantages against other techniques.</p>\n\n<p>Using a bitmap is a nice solution, simple and elegant. It can be produced to a specified accuracy and the classification is guaranteed to be correct (Or a least as correct as you made the bitmap). But its practicality is dependent on how accurate you need the solution to be. You mention that you want the coordinate accuracy to 5 decimal places (which would be equivalent to mapping the whole surface of the planet to about the nearest metre). Using 1 bit per element, the bitmap would weigh in at ~73.6 terabytes!</p>\n\n<p>We don't need to store all of this data though; We only need to know where the coastlines are. Just by knowing where a point is in relation to the coast, we can determine whether it is on land or sea. As a rough estimate, the CIA world factbook reports that there are 22498km of coastline on Earth. If we were to store coordiates for every metre of coastline, using a 32 bit word for each latitude and longitude, this would take less than 1.35GB to store. It's still a lot if this is for a trivial application, but a few orders of magnitude less than using a bitmap. If having such a high degree of accuracy isn't neccessary though, these numbers would drop considerably. Reducing the mapping to only the nearest kilometre would make the bitmap just ~75GB and the coordinates for the world's coastline could fit on a floppy disk.</p>\n\n<p>What I propose is to use a clustering algorithm to decide whether a point is on land or not. We would first need a suitably large number of coordinates that we already know to be on either land or sea. Existing GIS databases would be suitable for this. Then we can analyse the points to determine clusters of land and sea. The decision boundary between the clusters should fall on the coastlines, and all points not determining the decision boundary can be removed. This process can be iterated to give a progressively more accurate boundary.</p>\n\n<p>Only the points determining the decision boundary/the coastline need to be stored, and by using a simple distance metric we can quickly and easily decide if a set of coordinates are on land or sea. A large amount of resources would be required to train the system, but once complete the classifier would require very little space or time.</p>\n"},{"tags":[],"owner":{"account_id":28144,"reputation":15820,"user_id":74861,"accept_rate":100,"display_name":"Fraser"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1332317100,"creation_date":1332315302,"answer_id":9800348,"question_id":9104908,"body_markdown":"There is another way to approach this using the Google Earth Api. I know it is javascript, but I thought it was a novel way to solve the problem.\r\n\r\nAnyhow, I have put together a full working solution here - notice it works for rivers too: http://www.msa.mmu.ac.uk/~fraser/ge/coord/\r\n\r\nThe basic idea I have used is implement the [hiTest method][1] of the [GEView object][2] in the [Google Earth Api][3]. \r\n\r\nTake a look at the following example of the hitest from Google.\r\nhttp://earth-api-samples.googlecode.com/svn/trunk/examples/hittest.html\r\n\r\nThe hitTest method is supplied a random point on the screen in (pixel coordinates) for which it returns a GEHitTestResult object that contains information about the geographic location corresponding to the point. If one uses the GEPlugin.HIT_TEST_TERRAIN mode with the method one can limit results only to land (terrain) as long as we screen the results to points with an altitude &gt; 1m\r\n\r\nThis is the function I use that implements the hitTest:\r\n\r\n    var hitTestTerrain = function()\r\n    {\r\n        var x = getRandomInt(0, 200); // same pixel size as the map3d div height\r\n        var y = getRandomInt(0, 200); // ditto for width\r\n        var result = ge.getView().hitTest(x, ge.UNITS_PIXELS, y, ge.UNITS_PIXELS, ge.HIT_TEST_TERRAIN);\r\n        var success = result &amp;&amp; (result.getAltitude() &gt; 1);\r\n        return { success: success, result: result };\r\n    };\r\n\r\nObviously you also want to have random results from anywhere on the globe (not just random points visible from a single viewpoint). To do this I move the earth view after each successful `hitTestTerrain` call. This is achieved using a small helper function.\r\n\r\n    var flyTo = function(lat, lng, rng)\r\n    {\r\n        lookAt.setLatitude(lat);\r\n        lookAt.setLongitude(lng);\r\n        lookAt.setRange(rng);\r\n        ge.getView().setAbstractView(lookAt);\r\n    };\r\n\r\nFinally here is a stripped down version of  the main code block that calls these two methods.\r\n\r\n    var getRandomLandCoordinates = function()\r\n    {\r\n        var test = hitTestTerrain();\r\n        if (test.success)\r\n        {\r\n            coords[coords.length] = { lat: test.result.getLatitude(), lng: test.result.getLongitude() };\r\n        }\r\n\r\n        if (coords.length &lt;= number)\r\n        {\r\n           getRandomLandCoordinates();\r\n        }\r\n        else\r\n        {\r\n           displayResults();\r\n        }\r\n    };\r\n\r\n\r\nSo, the earth moves randomly to a postition\r\n\r\n\r\nThe other functions in there are just helpers to generate the random x,y and random lat,lng numbers, to output the results and also to toggle the controls etc.\r\n\r\nI have tested the code quite a bit and the results are not 100% perfect, tweaking the `altitude` to something higher, like 50m  solves this but obviously it is diminishing the area of possible selected coordinates. \r\n\r\nObviously you could adapt the idea to suit you needs. Maybe running the code multiple times to populate a database or something. \r\n\r\n  [1]: https://developers.google.com/earth/documentation/reference/interface_g_e_view#a8e8274c1236b6bbeff60a7a74e15995c\r\n  [2]: https://developers.google.com/earth/documentation/reference/interface_g_e_view\r\n  [3]: http://www.google.com/earth/explore/products/plugin.html\r\n\r\n","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>There is another way to approach this using the Google Earth Api. I know it is javascript, but I thought it was a novel way to solve the problem.</p>\n\n<p>Anyhow, I have put together a full working solution here - notice it works for rivers too: <a href=\"http://www.msa.mmu.ac.uk/~fraser/ge/coord/\" rel=\"nofollow\">http://www.msa.mmu.ac.uk/~fraser/ge/coord/</a></p>\n\n<p>The basic idea I have used is implement the <a href=\"https://developers.google.com/earth/documentation/reference/interface_g_e_view#a8e8274c1236b6bbeff60a7a74e15995c\" rel=\"nofollow\">hiTest method</a> of the <a href=\"https://developers.google.com/earth/documentation/reference/interface_g_e_view\" rel=\"nofollow\">GEView object</a> in the <a href=\"http://www.google.com/earth/explore/products/plugin.html\" rel=\"nofollow\">Google Earth Api</a>. </p>\n\n<p>Take a look at the following example of the hitest from Google.\n<a href=\"http://earth-api-samples.googlecode.com/svn/trunk/examples/hittest.html\" rel=\"nofollow\">http://earth-api-samples.googlecode.com/svn/trunk/examples/hittest.html</a></p>\n\n<p>The hitTest method is supplied a random point on the screen in (pixel coordinates) for which it returns a GEHitTestResult object that contains information about the geographic location corresponding to the point. If one uses the GEPlugin.HIT_TEST_TERRAIN mode with the method one can limit results only to land (terrain) as long as we screen the results to points with an altitude > 1m</p>\n\n<p>This is the function I use that implements the hitTest:</p>\n\n<pre><code>var hitTestTerrain = function()\n{\n    var x = getRandomInt(0, 200); // same pixel size as the map3d div height\n    var y = getRandomInt(0, 200); // ditto for width\n    var result = ge.getView().hitTest(x, ge.UNITS_PIXELS, y, ge.UNITS_PIXELS, ge.HIT_TEST_TERRAIN);\n    var success = result &amp;&amp; (result.getAltitude() &gt; 1);\n    return { success: success, result: result };\n};\n</code></pre>\n\n<p>Obviously you also want to have random results from anywhere on the globe (not just random points visible from a single viewpoint). To do this I move the earth view after each successful <code>hitTestTerrain</code> call. This is achieved using a small helper function.</p>\n\n<pre><code>var flyTo = function(lat, lng, rng)\n{\n    lookAt.setLatitude(lat);\n    lookAt.setLongitude(lng);\n    lookAt.setRange(rng);\n    ge.getView().setAbstractView(lookAt);\n};\n</code></pre>\n\n<p>Finally here is a stripped down version of  the main code block that calls these two methods.</p>\n\n<pre><code>var getRandomLandCoordinates = function()\n{\n    var test = hitTestTerrain();\n    if (test.success)\n    {\n        coords[coords.length] = { lat: test.result.getLatitude(), lng: test.result.getLongitude() };\n    }\n\n    if (coords.length &lt;= number)\n    {\n       getRandomLandCoordinates();\n    }\n    else\n    {\n       displayResults();\n    }\n};\n</code></pre>\n\n<p>So, the earth moves randomly to a postition</p>\n\n<p>The other functions in there are just helpers to generate the random x,y and random lat,lng numbers, to output the results and also to toggle the controls etc.</p>\n\n<p>I have tested the code quite a bit and the results are not 100% perfect, tweaking the <code>altitude</code> to something higher, like 50m  solves this but obviously it is diminishing the area of possible selected coordinates. </p>\n\n<p>Obviously you could adapt the idea to suit you needs. Maybe running the code multiple times to populate a database or something. </p>\n"},{"tags":[],"owner":{"account_id":205681,"reputation":966,"user_id":454566,"accept_rate":44,"display_name":"cassioso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423227272,"creation_date":1423227272,"answer_id":28366284,"question_id":9104908,"body_markdown":"As a plan B, maybe you can pick a random country and then pick a random coordinate inside of this country. To be fair when picking a country, you can use its area as weight.","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>As a plan B, maybe you can pick a random country and then pick a random coordinate inside of this country. To be fair when picking a country, you can use its area as weight.</p>\n"},{"tags":[],"owner":{"account_id":1820252,"reputation":732,"user_id":1654472,"accept_rate":53,"display_name":"GeekSince1982"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1450278129,"creation_date":1450278129,"answer_id":34315347,"question_id":9104908,"body_markdown":"This has being asked a long time ago and I now have the similar need. There are two possibilities I am looking into:\r\n\r\n **1. Define the surface ranges for the random generator.**\r\n\r\nHere it&#39;s important to identify the level of precision you are going for. The easiest way would be to have a very relaxed and approximate approach. In this case you can divide the world map into &quot;boxes&quot;:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEach box has it&#39;s own range of lat lon. Then you first randomise to get a random box, then you randomise to get a random lat and random long within the boundaries of that box. \r\n\r\nPrecisions is of course not the best at all here... Though it depends:) If you do your homework well and define a lot of boxes covering most complex surface shapes - you might be quite ok with the precision.\r\n\r\n **2. List item**\r\n\r\nSome API to return continent name from coordinates OR address OR country OR district = something that WATER doesn&#39;t have. Google Maps API&#39;s can help here. I didn&#39;t research this one deeper, but I think it&#39;s possible, though you will have to run the check on each generated pair of coordinates and rerun IF it&#39;s wrong. So you can get a bit stuck if random generator keeps throwing you in the ocean.\r\n\r\nAlso - some water does belong to countries, districts...so yeah, not very precise. \r\n\r\nFor my needs - I am going with &quot;boxes&quot; because I also want to control exact areas from which the random coordinates are taken and don&#39;t mind if it lands on a lake or river, just not open ocean:)\r\n\r\n  [1]: http://i.stack.imgur.com/Waldh.jpg","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>This has being asked a long time ago and I now have the similar need. There are two possibilities I am looking into:</p>\n\n<p><strong>1. Define the surface ranges for the random generator.</strong></p>\n\n<p>Here it's important to identify the level of precision you are going for. The easiest way would be to have a very relaxed and approximate approach. In this case you can divide the world map into \"boxes\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/Waldh.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Waldh.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Each box has it's own range of lat lon. Then you first randomise to get a random box, then you randomise to get a random lat and random long within the boundaries of that box. </p>\n\n<p>Precisions is of course not the best at all here... Though it depends:) If you do your homework well and define a lot of boxes covering most complex surface shapes - you might be quite ok with the precision.</p>\n\n<p><strong>2. List item</strong></p>\n\n<p>Some API to return continent name from coordinates OR address OR country OR district = something that WATER doesn't have. Google Maps API's can help here. I didn't research this one deeper, but I think it's possible, though you will have to run the check on each generated pair of coordinates and rerun IF it's wrong. So you can get a bit stuck if random generator keeps throwing you in the ocean.</p>\n\n<p>Also - some water does belong to countries, districts...so yeah, not very precise. </p>\n\n<p>For my needs - I am going with \"boxes\" because I also want to control exact areas from which the random coordinates are taken and don't mind if it lands on a lake or river, just not open ocean:)</p>\n"},{"tags":[],"owner":{"account_id":269440,"reputation":815,"user_id":558783,"accept_rate":50,"display_name":"steve"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510506891,"creation_date":1510506891,"answer_id":47251590,"question_id":9104908,"body_markdown":"Assuming Atlantis isn&#39;t in the database, you could randomly select cities.  This also provides a more realistic distribution of points if you intend to mimic human activity:\r\nhttps://simplemaps.com/data/world-cities\r\n\r\nThere&#39;s only 7,300 cities in the free version.","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>Assuming Atlantis isn't in the database, you could randomly select cities.  This also provides a more realistic distribution of points if you intend to mimic human activity:\n<a href=\"https://simplemaps.com/data/world-cities\" rel=\"nofollow noreferrer\">https://simplemaps.com/data/world-cities</a></p>\n\n<p>There's only 7,300 cities in the free version.</p>\n"},{"tags":[],"owner":{"account_id":3656216,"reputation":605,"user_id":3047172,"display_name":"hennzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533674437,"creation_date":1533674437,"answer_id":51735091,"question_id":9104908,"body_markdown":"Supplementary to what [bsimic](https://stackoverflow.com/users/766969/bsimic) said about digging into GeoNames&#39; Webservices, here is a shortcut:  \r\nthey have a **dedicated WebService for requesting an ocean name**.\r\n\r\n(I am aware the of OP&#39;s constraint to *not* using public web services due to the amount of requests. Nevertheless I stumbled upon this with the same basic question and  consider this helpful.)\r\n\r\nGo to http://www.geonames.org/export/web-services.html#astergdem and have a look at &quot;*Ocean / reverse geocoding*&quot;. It is available as XML and JSON. Create a free user account to prevent daily limits on the demo account.\r\n\r\nRequest example on ocean area (Baltic Sea, JSON-URL):\r\n\r\n`http://api.geonames.org/oceanJSON?lat=54.049889&amp;lng=10.851388&amp;username=demo`\r\n\r\nresults in\r\n\r\n    {\r\n      &quot;ocean&quot;: {\r\n        &quot;distance&quot;: &quot;0&quot;,\r\n        &quot;name&quot;: &quot;Baltic Sea&quot;\r\n      }\r\n    }\r\n\r\nwhile some coordinates on land result in\r\n\r\n    {\r\n      &quot;status&quot;: {\r\n        &quot;message&quot;: &quot;we are afraid we could not find an ocean for latitude and longitude :53.0,9.0&quot;,\r\n        &quot;value&quot;: 15\r\n      }\r\n    }","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>Supplementary to what <a href=\"https://stackoverflow.com/users/766969/bsimic\">bsimic</a> said about digging into GeoNames' Webservices, here is a shortcut:<br>\nthey have a <strong>dedicated WebService for requesting an ocean name</strong>.</p>\n\n<p>(I am aware the of OP's constraint to <em>not</em> using public web services due to the amount of requests. Nevertheless I stumbled upon this with the same basic question and  consider this helpful.)</p>\n\n<p>Go to <a href=\"http://www.geonames.org/export/web-services.html#astergdem\" rel=\"nofollow noreferrer\">http://www.geonames.org/export/web-services.html#astergdem</a> and have a look at \"<em>Ocean / reverse geocoding</em>\". It is available as XML and JSON. Create a free user account to prevent daily limits on the demo account.</p>\n\n<p>Request example on ocean area (Baltic Sea, JSON-URL):</p>\n\n<p><code>http://api.geonames.org/oceanJSON?lat=54.049889&amp;lng=10.851388&amp;username=demo</code></p>\n\n<p>results in</p>\n\n<pre><code>{\n  \"ocean\": {\n    \"distance\": \"0\",\n    \"name\": \"Baltic Sea\"\n  }\n}\n</code></pre>\n\n<p>while some coordinates on land result in</p>\n\n<pre><code>{\n  \"status\": {\n    \"message\": \"we are afraid we could not find an ocean for latitude and longitude :53.0,9.0\",\n    \"value\": 15\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":305234,"reputation":6983,"user_id":615282,"accept_rate":93,"display_name":"sdolgy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29161,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":9334575,"answer_count":16,"score":38,"last_activity_date":1658164028,"creation_date":1328138480,"question_id":9104908,"body_markdown":"Any clever ideas on how to generate random coordinates (latitude / longitude) of places on Earth?  Latitude / Longitude.  Precision to 5 points and avoid bodies of water.  \r\n\r\n\r\n\t\tdouble minLat = -90.00;\r\n\t\tdouble maxLat = 90.00;\t\t\r\n\t\tdouble latitude = minLat + (double)(Math.random() * ((maxLat - minLat) + 1));\r\n\t\tdouble minLon = 0.00;\r\n\t\tdouble maxLon = 180.00;\t\t\r\n\t\tdouble longitude = minLon + (double)(Math.random() * ((maxLon - minLon) + 1));\r\n\t\tDecimalFormat df = new DecimalFormat(&quot;#.#####&quot;);\t\t\r\n\t\tlog.info(&quot;latitude:longitude --&gt; &quot; + df.format(latitude) + &quot;,&quot; + df.format(longitude));\r\n\r\nMaybe i&#39;m living in a dream world and the water topic is unavoidable ... but hopefully there&#39;s a nicer, cleaner and more efficient way to do this?\r\n\r\n**EDIT**\r\n\r\nSome fantastic answers/ideas -- however, at scale, let&#39;s say I need to generate 25,000 coordinates.  Going to an external service provider may not be the best option due to latency, cost and a few other factors.  ","title":"Random geographic coordinates (on land, avoid ocean)","body":"<p>Any clever ideas on how to generate random coordinates (latitude / longitude) of places on Earth?  Latitude / Longitude.  Precision to 5 points and avoid bodies of water.  </p>\n\n<pre><code>    double minLat = -90.00;\n    double maxLat = 90.00;      \n    double latitude = minLat + (double)(Math.random() * ((maxLat - minLat) + 1));\n    double minLon = 0.00;\n    double maxLon = 180.00;     \n    double longitude = minLon + (double)(Math.random() * ((maxLon - minLon) + 1));\n    DecimalFormat df = new DecimalFormat(\"#.#####\");        \n    log.info(\"latitude:longitude --&gt; \" + df.format(latitude) + \",\" + df.format(longitude));\n</code></pre>\n\n<p>Maybe i'm living in a dream world and the water topic is unavoidable ... but hopefully there's a nicer, cleaner and more efficient way to do this?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Some fantastic answers/ideas -- however, at scale, let's say I need to generate 25,000 coordinates.  Going to an external service provider may not be the best option due to latency, cost and a few other factors.  </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":0,"creation_date":1476030745,"post_id":39944244,"comment_id":67171907,"body_markdown":"I don&#39;t believe this is full stack-trace of error.","body":"I don&#39;t believe this is full stack-trace of error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1476081864,"post_id":39944244,"comment_id":67185064,"body_markdown":"For starters stop mixing framework versions (1.3.5 and 1.4.0). Mixing versions of a framework (regardless the framework) is trouble bound to happen. Next to that you are using Spring 4.0.0 dependency whereas 4.2 would be expected (remove the spring-core dependency as that is already included).","body":"For starters stop mixing framework versions (1.3.5 and 1.4.0). Mixing versions of a framework (regardless the framework) is trouble bound to happen. Next to that you are using Spring 4.0.0 dependency whereas 4.2 would be expected (remove the spring-core dependency as that is already included)."},{"owner":{"account_id":7404051,"reputation":115,"user_id":5633475,"accept_rate":33,"display_name":"Archit Aggarwal"},"score":0,"creation_date":1476185492,"post_id":39944244,"comment_id":67231184,"body_markdown":"I tried this @M.Deinum if I change the version to any one i.e. 1.3.5 or 1.4.0 there are The import org.springframework.boot.SpringApplication cannot be resolved errors that is the reason I keep the verisions different.Please see the post [link](http://stackoverflow.com/questions/39935456/spring-boot-application-cannot-be-resolved-to-a-type-but-i-imported-it-in-pom-xm)","body":"I tried this @M.Deinum if I change the version to any one i.e. 1.3.5 or 1.4.0 there are The import org.springframework.boot.SpringApplication cannot be resolved errors that is the reason I keep the verisions different.Please see the post <a href=\"http://stackoverflow.com/questions/39935456/spring-boot-application-cannot-be-resolved-to-a-type-but-i-imported-it-in-pom-xm\">link</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1476185973,"post_id":39944244,"comment_id":67231471,"body_markdown":"Again NEVER mix versions of a framework as that is trouble waiting to happen, not to mention the mix of spring framework versions you will get with this. Sort out the real issue instead of mixing things you shouldn&#39;t be mixing in the first place.","body":"Again NEVER mix versions of a framework as that is trouble waiting to happen, not to mention the mix of spring framework versions you will get with this. Sort out the real issue instead of mixing things you shouldn&#39;t be mixing in the first place."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476186618,"creation_date":1476186618,"answer_id":39976620,"question_id":39944244,"body_markdown":"Your `&lt;dependencies&gt;` should look something like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.webapp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;proj1&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;proj1 Maven Webapp&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Test Dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;proj1&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n\t    \t\t&lt;plugin&gt;\r\n\t\t    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    \t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\t    \t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nAnd not the mixture of Spring Boot (1.3 and 1.4) versions and Spring Versions (4.0, 4.2 and 4.3) as you had. You also included dependencies that are already included (or break things). \r\n\r\nAnother thing is you should have the `spring-boot-maven` plugin which is also lacking in your pom. ","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer","body":"<p>Your <code>&lt;dependencies&gt;</code> should look something like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.webapp&lt;/groupId&gt;\n    &lt;artifactId&gt;proj1&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;proj1 Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Test Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;proj1&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>And not the mixture of Spring Boot (1.3 and 1.4) versions and Spring Versions (4.0, 4.2 and 4.3) as you had. You also included dependencies that are already included (or break things). </p>\n\n<p>Another thing is you should have the <code>spring-boot-maven</code> plugin which is also lacking in your pom. </p>\n"},{"tags":[],"owner":{"account_id":13937199,"reputation":11,"user_id":10063938,"display_name":"Ece Kaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553514513,"creation_date":1553511397,"answer_id":55336235,"question_id":39944244,"body_markdown":"It worked for me to change version of `spring-boot-starter-parent` from **2.0.0** to **2.1.3**. ","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer","body":"<p>It worked for me to change version of <code>spring-boot-starter-parent</code> from <strong>2.0.0</strong> to <strong>2.1.3</strong>. </p>\n"},{"tags":[],"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1557596191,"creation_date":1557594063,"answer_id":56092506,"question_id":39944244,"body_markdown":"    public class MyPolicy extends Policy {\r\n        @Override\r\n        public PermissionCollection getPermissions(CodeSource codesource) {\r\n            Permissions p = new Permissions();\r\n            /**\r\n              * The AllPermission is a permission that implies all other permissions.\r\n              * &lt;p&gt;\r\n              * &lt;b&gt;Note:&lt;/b&gt; Granting AllPermission should be done with extreme care,\r\n              * as it implies all other permissions. Thus, it grants code the ability\r\n              * to run with security\r\n              * disabled.  Extreme caution should be taken before granting such\r\n              * a permission to code.  This permission should be used only during testing,\r\n              * or in extremely rare cases where an application or applet is\r\n              * completely trusted and adding the necessary permissions to the policy\r\n              * is prohibitively cumbersome.\r\n              *\r\n              * @see java.security.Permission\r\n              * @see java.security.AccessController\r\n              * @see java.security.Permissions\r\n              * @see java.security.PermissionCollection\r\n              * @see java.lang.SecurityManager\r\n              *\r\n              *\r\n              * @author Roland Schemers\r\n              * @since 1.2\r\n              *\r\n              * @serial exclude\r\n \r\n\r\n             public final class AllPermission*/\r\n            //p.add(new AllPermission());\r\n            //p.add(new CryptoPermission());\r\n            p.add(new AudioPermission());\r\n            p.add(new AuthPermission());\r\n            p.add(new AWTPermission());\r\n            p.add(new BasicPermission());\r\n            p.add(new DelegationPermission());\r\n            p.add(new FilePermission());\r\n            p.add(new JAXBPermission());\r\n            p.add(new LinkPermission());\r\n            p.add(new LoggingPermission());\r\n            p.add(new ManagementPermission());\r\n            p.add(new MBeanPermission());\r\n            p.add(new MBeanServerPermission());\r\n            p.add(new MBeanTrustPermission());\r\n            p.add(new NetPermission());\r\n            p.add(new Permission());\r\n            p.add(new PrivateCredentialPermission());\r\n            p.add(new PropertyPermission());\r\n            p.add(new ReflectPermission());\r\n            p.add(new RuntimePermission());\r\n            p.add(new SecurityPermission());\r\n            p.add(new SerializablePermission());\r\n            p.add(new ServicePermission());\r\n            p.add(new SocketPermission());\r\n            p.add(new SQLPermission());\r\n            p.add(new SSLPermission());\r\n            p.add(new SubjectDelegationPermission());\r\n            p.add(new UnresolvedPermission());\r\n            p.add(new URLPermission());\r\n            p.add(new WebServicePermission());\r\n            return p;\r\n        }\r\n    }\r\n\r\n    public  void main(String[] args) {\r\n        Policy.setPolicy(new MyPolicy());\r\n        \r\n        SpringApplication.run(Application.class, args);\r\n    }","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer","body":"<pre><code>public class MyPolicy extends Policy {\n    @Override\n    public PermissionCollection getPermissions(CodeSource codesource) {\n        Permissions p = new Permissions();\n        /**\n          * The AllPermission is a permission that implies all other permissions.\n          * &lt;p&gt;\n          * &lt;b&gt;Note:&lt;/b&gt; Granting AllPermission should be done with extreme care,\n          * as it implies all other permissions. Thus, it grants code the ability\n          * to run with security\n          * disabled.  Extreme caution should be taken before granting such\n          * a permission to code.  This permission should be used only during testing,\n          * or in extremely rare cases where an application or applet is\n          * completely trusted and adding the necessary permissions to the policy\n          * is prohibitively cumbersome.\n          *\n          * @see java.security.Permission\n          * @see java.security.AccessController\n          * @see java.security.Permissions\n          * @see java.security.PermissionCollection\n          * @see java.lang.SecurityManager\n          *\n          *\n          * @author Roland Schemers\n          * @since 1.2\n          *\n          * @serial exclude\n\n\n         public final class AllPermission*/\n        //p.add(new AllPermission());\n        //p.add(new CryptoPermission());\n        p.add(new AudioPermission());\n        p.add(new AuthPermission());\n        p.add(new AWTPermission());\n        p.add(new BasicPermission());\n        p.add(new DelegationPermission());\n        p.add(new FilePermission());\n        p.add(new JAXBPermission());\n        p.add(new LinkPermission());\n        p.add(new LoggingPermission());\n        p.add(new ManagementPermission());\n        p.add(new MBeanPermission());\n        p.add(new MBeanServerPermission());\n        p.add(new MBeanTrustPermission());\n        p.add(new NetPermission());\n        p.add(new Permission());\n        p.add(new PrivateCredentialPermission());\n        p.add(new PropertyPermission());\n        p.add(new ReflectPermission());\n        p.add(new RuntimePermission());\n        p.add(new SecurityPermission());\n        p.add(new SerializablePermission());\n        p.add(new ServicePermission());\n        p.add(new SocketPermission());\n        p.add(new SQLPermission());\n        p.add(new SSLPermission());\n        p.add(new SubjectDelegationPermission());\n        p.add(new UnresolvedPermission());\n        p.add(new URLPermission());\n        p.add(new WebServicePermission());\n        return p;\n    }\n}\n\npublic  void main(String[] args) {\n    Policy.setPolicy(new MyPolicy());\n\n    SpringApplication.run(Application.class, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15283976,"reputation":21,"user_id":11027507,"display_name":"Dibyajyoti Hazra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562337254,"creation_date":1562337254,"answer_id":56905089,"question_id":39944244,"body_markdown":"I recently came across this issue. I was running an executable jar through a bat file. My executable jar was already having all the spring boot jars required for the version mentioned in the pom.xml. But by mistake I defined a classpath of spring-boot libraries(of other version) in the bat file as well. When I removed that classpath entry, this particular issue was gone as then it was using only the spring boot jars that were mentioned in the pom file. I think this issue is coming because of the version conflict of the spring jars. Please correct me if I&#39;m wrong. Thanks.","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer","body":"<p>I recently came across this issue. I was running an executable jar through a bat file. My executable jar was already having all the spring boot jars required for the version mentioned in the pom.xml. But by mistake I defined a classpath of spring-boot libraries(of other version) in the bat file as well. When I removed that classpath entry, this particular issue was gone as then it was using only the spring boot jars that were mentioned in the pom file. I think this issue is coming because of the version conflict of the spring jars. Please correct me if I'm wrong. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":17198647,"reputation":1,"user_id":12450848,"display_name":"Elbow code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658163968,"creation_date":1658163968,"answer_id":73026074,"question_id":39944244,"body_markdown":"In my case, I changed the &quot;V_GIT_BRANCH_NAME&quot; variable of my jenkins file (saved in my source code root directory), to the correct one.\r\nThe deployment passed once committed the code.","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer","body":"<p>In my case, I changed the &quot;V_GIT_BRANCH_NAME&quot; variable of my jenkins file (saved in my source code root directory), to the correct one.\nThe deployment passed once committed the code.</p>\n"}],"owner":{"account_id":7404051,"reputation":115,"user_id":5633475,"accept_rate":33,"display_name":"Archit Aggarwal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25024,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1658163968,"creation_date":1476020210,"question_id":39944244,"body_markdown":"I am facing the following error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot\r\n&gt; instantiate interface\r\n&gt; org.springframework.context.ApplicationContextInitializer :\r\n&gt; org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:414)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:394)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:385)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.initialize(SpringApplication.java:261)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:237)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1191)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1180)\r\n\r\n\r\n\r\nMy main method is\r\n\r\n    package proj1;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.context.web.SpringBootServletInitializer;\r\n    \r\n    @SpringBootApplication\r\n    public class WebApplication extends SpringBootServletInitializer {\r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(WebApplication.class);\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(WebApplication.class, args);\r\n        }\r\n    }\r\n\r\nMy pom.xml is\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.webapp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;proj1&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;proj1 Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;proj1&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer","body":"<p>I am facing the following error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalArgumentException: Cannot\n  instantiate interface\n  org.springframework.context.ApplicationContextInitializer :\n  org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer\n    at\n  org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:414)\n    at\n  org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:394)\n    at\n  org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:385)\n    at\n  org.springframework.boot.SpringApplication.initialize(SpringApplication.java:261)\n    at\n  org.springframework.boot.SpringApplication.(SpringApplication.java:237)\n    at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1191)\n    at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1180)</p>\n</blockquote>\n\n<p>My main method is</p>\n\n<pre><code>package proj1;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.context.web.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class WebApplication extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(WebApplication.class);\n    }\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(WebApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>My pom.xml is</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.webapp&lt;/groupId&gt;\n  &lt;artifactId&gt;proj1&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;proj1 Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n   &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt; \n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;proj1&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8182419,"reputation":525,"user_id":6159124,"display_name":"Vin"},"score":0,"creation_date":1554836676,"post_id":55599223,"comment_id":97895533,"body_markdown":"Could you please provide your code for the respective part?","body":"Could you please provide your code for the respective part?"},{"owner":{"account_id":2297045,"reputation":4337,"user_id":2018247,"display_name":"Martin Strejc"},"score":0,"creation_date":1554836786,"post_id":55599223,"comment_id":97895577,"body_markdown":"Your application (servlet) uses a native library that is missing. I think it should be part of StackTrace, probably you have copy-pasted just part of that. Than set-up java.library.path to a directory containing your native libraries.","body":"Your application (servlet) uses a native library that is missing. I think it should be part of StackTrace, probably you have copy-pasted just part of that. Than set-up java.library.path to a directory containing your native libraries."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1554840662,"post_id":55599223,"comment_id":97897171,"body_markdown":"Is class `optimizer.Problem` your servlet? It is trying to load a JNI library. So your question really should be _How to load JNI library from a servlet in_ Tomcat. This question has been asked and answered several times on _Stack Overflow_. Did you see [this question](https://stackoverflow.com/questions/14018817/how-to-add-a-native-library-in-tomcat)? There is also a [HowTo](https://wiki.apache.org/tomcat/HowTo#I.27m_encountering_classloader_problems_when_using_JNI_under_Tomcat).","body":"Is class <code>optimizer.Problem</code> your servlet? It is trying to load a JNI library. So your question really should be <i>How to load JNI library from a servlet in</i> Tomcat. This question has been asked and answered several times on <i>Stack Overflow</i>. Did you see <a href=\"https://stackoverflow.com/questions/14018817/how-to-add-a-native-library-in-tomcat\">this question</a>? There is also a <a href=\"https://wiki.apache.org/tomcat/HowTo#I.27m_encountering_classloader_problems_when_using_JNI_under_Tomcat\" rel=\"nofollow noreferrer\">HowTo</a>."},{"owner":{"account_id":3743019,"reputation":1273,"user_id":3112373,"display_name":"amucunguzi"},"score":0,"creation_date":1598653815,"post_id":55599223,"comment_id":112539363,"body_markdown":"@Prachi Katlam did finally find a solution for this issue?","body":"@Prachi Katlam did finally find a solution for this issue?"}],"answers":[{"tags":[],"owner":{"account_id":15682767,"reputation":1,"user_id":11316285,"display_name":"Eymerich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554838291,"creation_date":1554838291,"answer_id":55600010,"question_id":55599223,"body_markdown":"java.library.path is a property used by the JVM to locate native libraries. This means that the java.library.path should contains the path where you store the native libraries used by your application.\r\n\r\n 1. Be sure that jniortools is inside the folder defined in java.library.path property.\r\n 2. Check if you initialize java.library.path property properly. You can use `-Djava.library.path=&lt;your-path&gt;` as an argument to set it","title":"java.lang.UnsatisfiedLinkError: no jniortools in java.library.path","body":"<p>java.library.path is a property used by the JVM to locate native libraries. This means that the java.library.path should contains the path where you store the native libraries used by your application.</p>\n\n<ol>\n<li>Be sure that jniortools is inside the folder defined in java.library.path property.</li>\n<li>Check if you initialize java.library.path property properly. You can use <code>-Djava.library.path=&lt;your-path&gt;</code> as an argument to set it</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6890435,"reputation":55,"user_id":10399733,"display_name":"Tam&#225;s Sajti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658163838,"creation_date":1658163838,"answer_id":73026048,"question_id":55599223,"body_markdown":"I solved it with the help of [this](https://stackoverflow.com/a/66351836/10399733) answer; and I found the minimal solution:\r\n- [Download binaries](https://developers.google.com/optimization/install) for Java (pick it from the left menu), and select your operating system\r\n- Put ortools-java-&lt;ver&gt;.jar into your library folder in your project\r\n- If you use gradle as your build tool, add  \r\n`implementation fileTree(dir: &#39;lib&#39;, include: [&#39;*.jar&#39;])`  \r\n`compile &#39;com.google.protobuf:protobuf-java:&lt;ver&gt;&#39;` I used &#39;3.19.1&#39; as \\&lt;ver\\&gt;\r\n- Extract ortools-linux-x86-64-&lt;ver&gt;.jar somewhere with `jar -xvf ortools-linux-x86-64-&lt;ver&gt;.jar`\r\n- From a resulting folder ortools-linux-x86-64 copy libjniortools.so and libortools.so.&lt;main_ver&gt; into a folder in your java library path, e.g. on linux into /usr/java/packages/lib.\r\n- Call `System.loadLibrary(&quot;jniortools&quot;)` once in your code, for example in a static initializer block","title":"java.lang.UnsatisfiedLinkError: no jniortools in java.library.path","body":"<p>I solved it with the help of <a href=\"https://stackoverflow.com/a/66351836/10399733\">this</a> answer; and I found the minimal solution:</p>\n<ul>\n<li><a href=\"https://developers.google.com/optimization/install\" rel=\"nofollow noreferrer\">Download binaries</a> for Java (pick it from the left menu), and select your operating system</li>\n<li>Put ortools-java-.jar into your library folder in your project</li>\n<li>If you use gradle as your build tool, add<br />\n<code>implementation fileTree(dir: 'lib', include: ['*.jar'])</code><br />\n<code>compile 'com.google.protobuf:protobuf-java:&lt;ver&gt;'</code> I used '3.19.1' as &lt;ver&gt;</li>\n<li>Extract ortools-linux-x86-64-.jar somewhere with <code>jar -xvf ortools-linux-x86-64-&lt;ver&gt;.jar</code></li>\n<li>From a resulting folder ortools-linux-x86-64 copy libjniortools.so and libortools.so.&lt;main_ver&gt; into a folder in your java library path, e.g. on linux into /usr/java/packages/lib.</li>\n<li>Call <code>System.loadLibrary(&quot;jniortools&quot;)</code> once in your code, for example in a static initializer block</li>\n</ul>\n"}],"owner":{"account_id":11935690,"reputation":11,"user_id":8734253,"display_name":"Prachi Katlam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658163838,"creation_date":1554834970,"question_id":55599223,"body_markdown":"I have created a web application using java servlet. I am able to receive the user inputs into my servlet code but after executing some functions, I am getting this error:\r\n\r\n    java.lang.UnsatisfiedLinkError: no jniortools in java.library.path\r\n\r\nHow to resolve this?\r\n\r\n[![image][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Mhemp.png","title":"java.lang.UnsatisfiedLinkError: no jniortools in java.library.path","body":"<p>I have created a web application using java servlet. I am able to receive the user inputs into my servlet code but after executing some functions, I am getting this error:</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: no jniortools in java.library.path\n</code></pre>\n\n<p>How to resolve this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mhemp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mhemp.png\" alt=\"image\"></a></p>\n"},{"tags":["java","android","sockets","rabbitmq","connection"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1560434980,"post_id":56582336,"comment_id":99742731,"body_markdown":"I recommend that you edit your question and provide the full stack trace plus the code that is triggering the crash.","body":"I recommend that you edit your question and provide the full stack trace plus the code that is triggering the crash."},{"owner":{"account_id":4193833,"reputation":3461,"user_id":3435728,"accept_rate":81,"display_name":"CarlosCarucce"},"score":0,"creation_date":1560436062,"post_id":56582336,"comment_id":99743451,"body_markdown":"@CommonsWare done","body":"@CommonsWare done"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1560436133,"post_id":56582336,"comment_id":99743486,"body_markdown":"Are you doing this work on a background thread?","body":"Are you doing this work on a background thread?"},{"owner":{"account_id":4193833,"reputation":3461,"user_id":3435728,"accept_rate":81,"display_name":"CarlosCarucce"},"score":0,"creation_date":1560436317,"post_id":56582336,"comment_id":99743611,"body_markdown":"@CommonsWare yes. I did use it in the ui thread at first, but that triggered another exception. (ConnectionOnMainThreadException, i think, or something like that)","body":"@CommonsWare yes. I did use it in the ui thread at first, but that triggered another exception. (ConnectionOnMainThreadException, i think, or something like that)"}],"answers":[{"tags":[],"owner":{"account_id":4193833,"reputation":3461,"user_id":3435728,"accept_rate":81,"display_name":"CarlosCarucce"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1560447547,"creation_date":1560441782,"answer_id":56584495,"question_id":56582336,"body_markdown":"I was missing\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nIt should mentioned that connections MUST run in Background Threads, or otherwhise android will block it.\r\n\r\n**Also:**\r\n\r\nUninstall app from emulator as suggested in\r\nhttps://stackoverflow.com/questions/56266801/java-net-socketexception-socket-failed-eperm-operation-not-permitted","title":"Permission for sockets - android manifest","body":"<p>I was missing</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>It should mentioned that connections MUST run in Background Threads, or otherwhise android will block it.</p>\n\n<p><strong>Also:</strong></p>\n\n<p>Uninstall app from emulator as suggested in\n<a href=\"https://stackoverflow.com/questions/56266801/java-net-socketexception-socket-failed-eperm-operation-not-permitted\">java.net.SocketException: socket failed: EPERM (Operation not permitted)</a></p>\n"}],"owner":{"account_id":4193833,"reputation":3461,"user_id":3435728,"accept_rate":81,"display_name":"CarlosCarucce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5786,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56584495,"answer_count":1,"score":4,"last_activity_date":1658163815,"creation_date":1560434758,"question_id":56582336,"body_markdown":"I&#39;ve made a simple test application for reading RabbitMQ queues using java amqp lib (`implementation &#39;com.rabbitmq:amqp-client:5.7.1&#39;`).\r\n\r\nBut im having trouble when connecting to my rabbit server due to Android permissions (socket)\r\n\r\nHere is the error message:\r\n \r\n**W/System.err: java.net.SocketException: socket failed: EPERM (Operation not permitted)**\r\n\r\nI&#39;ve tried, successless, to add `android.permission.INTERNET` to the manifest. Here is what it looks like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.androidwebsocket&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nWhat am I missing?\r\n\r\n**Edit**\r\n\r\nAs requested, here is the full error stacktrace: https://pastebin.com/WAh2B4rP\r\n\r\nAnd the code that triggers this error:\r\n\r\n    ConnectionFactory factory = new ConnectionFactory();\r\n    factory.setUsername(&quot;myuser&quot;);\r\n    factory.setPassword(&quot;mypass&quot;);\r\n    factory.setVirtualHost(&quot;/&quot;);\r\n    factory.setHost(&quot;myhost.io&quot;);\r\n    factory.setPort(5672);\r\n    \r\n    connection = factory.newConnection(); //Error triggers here\r\n    channel = connection.createChannel();","title":"Permission for sockets - android manifest","body":"<p>I've made a simple test application for reading RabbitMQ queues using java amqp lib (<code>implementation 'com.rabbitmq:amqp-client:5.7.1'</code>).</p>\n<p>But im having trouble when connecting to my rabbit server due to Android permissions (socket)</p>\n<p>Here is the error message:</p>\n<p><strong>W/System.err: java.net.SocketException: socket failed: EPERM (Operation not permitted)</strong></p>\n<p>I've tried, successless, to add <code>android.permission.INTERNET</code> to the manifest. Here is what it looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.androidwebsocket&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>What am I missing?</p>\n<p><strong>Edit</strong></p>\n<p>As requested, here is the full error stacktrace: <a href=\"https://pastebin.com/WAh2B4rP\" rel=\"nofollow noreferrer\">https://pastebin.com/WAh2B4rP</a></p>\n<p>And the code that triggers this error:</p>\n<pre><code>ConnectionFactory factory = new ConnectionFactory();\nfactory.setUsername(&quot;myuser&quot;);\nfactory.setPassword(&quot;mypass&quot;);\nfactory.setVirtualHost(&quot;/&quot;);\nfactory.setHost(&quot;myhost.io&quot;);\nfactory.setPort(5672);\n\nconnection = factory.newConnection(); //Error triggers here\nchannel = connection.createChannel();\n</code></pre>\n"},{"tags":["java","maven","maven-plugin","maven-assembly-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1579775526,"post_id":59875206,"comment_id":105882691,"body_markdown":"Have you tried using the Maven shade plugin? BTW: Your approach sounds strange, because `provided` dependencies should be provided by the environment, so you do not need to copy classes from there.","body":"Have you tried using the Maven shade plugin? BTW: Your approach sounds strange, because <code>provided</code> dependencies should be provided by the environment, so you do not need to copy classes from there."},{"owner":{"account_id":1710413,"reputation":1635,"user_id":1568605,"accept_rate":28,"display_name":"Łukasz Woźniczka"},"score":0,"creation_date":1579776266,"post_id":59875206,"comment_id":105883157,"body_markdown":"@JFMeier yes I know your point. This is a specific case, I can&#39;t use whole library but just subpackage. I was trying to use shade plugin but didn&#39;t work, don&#39;t know if it is possible to specify which dependency and which package should be copied by plugin.","body":"@JFMeier yes I know your point. This is a specific case, I can&#39;t use whole library but just subpackage. I was trying to use shade plugin but didn&#39;t work, don&#39;t know if it is possible to specify which dependency and which package should be copied by plugin."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1579782429,"post_id":59875206,"comment_id":105886456,"body_markdown":"See https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html . It would be great if you can add to the question _why_ you can use only the package, not the whole library.","body":"See <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/examples/&hellip;</a> . It would be great if you can add to the question <i>why</i> you can use only the package, not the whole library."}],"answers":[{"tags":[],"owner":{"account_id":17434662,"reputation":77,"user_id":12637910,"display_name":"Carlos"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658163813,"creation_date":1579772215,"answer_id":59875377,"question_id":59875206,"body_markdown":"You can&#39;t as you&#39;re defining a dependency, so your application needs that JAR fully, but you only import some packages, those what you need, so the JVM will only load those ones.","title":"Add specific package from provided dependency into jar","body":"<p>You can't as you're defining a dependency, so your application needs that JAR fully, but you only import some packages, those what you need, so the JVM will only load those ones.</p>\n"}],"owner":{"account_id":1710413,"reputation":1635,"user_id":1568605,"accept_rate":28,"display_name":"Łukasz Woźniczka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658163813,"creation_date":1579771709,"question_id":59875206,"body_markdown":"How to add one package with all classes and subpackage from provided dependency into the Jar. \r\n\r\nI have got dependency like : \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.a&lt;/groupId&gt;\r\n  &lt;artifactId&gt;dependencyA&lt;/artifactId&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhat I want to achieve is to add all classes and subpackage into jar file. For example Is there any plugin that allow me to specify which package should be added something like: \r\n\r\n```xml\r\n&lt;include&gt;com.a.package.*&lt;/include&gt;\r\n```\r\n\r\nAs a result, I expect that all classes under package `com.a.package.*` from dependencyA would be added into jar. ","title":"Add specific package from provided dependency into jar","body":"<p>How to add one package with all classes and subpackage from provided dependency into the Jar. </p>\n\n<p>I have got dependency like : </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.a&lt;/groupId&gt;\n  &lt;artifactId&gt;dependencyA&lt;/artifactId&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>What I want to achieve is to add all classes and subpackage into jar file. For example Is there any plugin that allow me to specify which package should be added something like: </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include&gt;com.a.package.*&lt;/include&gt;\n</code></pre>\n\n<p>As a result, I expect that all classes under package <code>com.a.package.*</code> from dependencyA would be added into jar. </p>\n"},{"tags":["java","jvm","minecraft"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1375598652,"post_id":18040361,"comment_id":26391911,"body_markdown":"This is explained by this Oracle Java FAQ - http://www.oracle.com/technetwork/java/hotspotfaq-138619.html#gc_heap_32bit","body":"This is explained by this Oracle Java FAQ - <a href=\"http://www.oracle.com/technetwork/java/hotspotfaq-138619.html#gc_heap_32bit\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/&hellip;</a>"},{"owner":{"account_id":124787,"reputation":9383,"user_id":320111,"display_name":"Stephan Branczyk"},"score":0,"creation_date":1388002257,"post_id":18040361,"comment_id":31141316,"body_markdown":"Some more detailed answers can be found at http://stackoverflow.com/questions/171205/java-maximum-memory-on-windows-xp","body":"Some more detailed answers can be found at <a href=\"http://stackoverflow.com/questions/171205/java-maximum-memory-on-windows-xp\" title=\"java maximum memory on windows xp\">stackoverflow.com/questions/171205/&hellip;</a>"},{"owner":{"account_id":6808417,"reputation":1370,"user_id":5239480,"display_name":"Omrum Cetin"},"score":1,"creation_date":1566032703,"post_id":18040361,"comment_id":101534759,"body_markdown":"if you install 64 bit version of java, it will directly work.","body":"if you install 64 bit version of java, it will directly work."}],"answers":[{"tags":[],"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375598248,"creation_date":1375598248,"answer_id":18040373,"question_id":18040361,"body_markdown":"4gb RAM doesn&#39;t mean you can use it all for java process. Lots of RAM is needed for system processes.\r\nDont go above 2GB or it will be trouble some.\r\n\r\nBefore starting jvm just check how much RAM is available and then set memory accordingly.","title":"Java Could not reserve enough space for object heap error","body":"<p>4gb RAM doesn't mean you can use it all for java process. Lots of RAM is needed for system processes.\nDont go above 2GB or it will be trouble some.</p>\n\n<p>Before starting jvm just check how much RAM is available and then set memory accordingly.</p>\n"},{"tags":[],"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1375599344,"creation_date":1375599344,"answer_id":18040492,"question_id":18040361,"body_markdown":"If you go thru [this][1] IBM link on java, it says that on 32 bit windows the recommended heap size is 1.5 GB and the Maximum heap size is 1.8 GB. So your jvm does not gets initialized for `-Xmx2G` and above. \r\n\r\nAlso if you go thru [this][2] SO answer, clearly the DLL bindings are an issue for memory reservation changing which is no trivial task. Hence what may be recommended is that you go for 64-bit Windows and a 64-bit JVM. while it will chew up more RAM, you will have much more contiguous virtual address space.\r\n\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/javasdk/tools/index.jsp?topic=/com.ibm.java.doc.igaa/_1vg00014884d287-11c3fb28dae-7ff6_1001.html\r\n  [2]: https://stackoverflow.com/a/497757/1291122","title":"Java Could not reserve enough space for object heap error","body":"<p>If you go thru <a href=\"http://publib.boulder.ibm.com/infocenter/javasdk/tools/index.jsp?topic=/com.ibm.java.doc.igaa/_1vg00014884d287-11c3fb28dae-7ff6_1001.html\" rel=\"nofollow noreferrer\">this</a> IBM link on java, it says that on 32 bit windows the recommended heap size is 1.5 GB and the Maximum heap size is 1.8 GB. So your jvm does not gets initialized for <code>-Xmx2G</code> and above. </p>\n\n<p>Also if you go thru <a href=\"https://stackoverflow.com/a/497757/1291122\">this</a> SO answer, clearly the DLL bindings are an issue for memory reservation changing which is no trivial task. Hence what may be recommended is that you go for 64-bit Windows and a 64-bit JVM. while it will chew up more RAM, you will have much more contiguous virtual address space.</p>\n"},{"tags":[],"owner":{"account_id":4103633,"reputation":11,"user_id":3368417,"display_name":"caleb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393685378,"creation_date":1393683801,"answer_id":22115518,"question_id":18040361,"body_markdown":"this is what worked for me (yes I was having the same problem) \r\nwere is says something like `java -Xmx3G -Xms3G` put `java -Xmx1024M `\r\nso the run.bat should look like \r\n`java -Xmx1024M -jar craftbukkit.jar -o false\r\nPAUSE`","title":"Java Could not reserve enough space for object heap error","body":"<p>this is what worked for me (yes I was having the same problem) \nwere is says something like <code>java -Xmx3G -Xms3G</code> put <code>java -Xmx1024M</code>\nso the run.bat should look like \n<code>java -Xmx1024M -jar craftbukkit.jar -o false\nPAUSE</code></p>\n"},{"tags":[],"owner":{"account_id":4381885,"reputation":91,"user_id":3573306,"display_name":"user3573306"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1398435603,"creation_date":1398435603,"answer_id":23295748,"question_id":18040361,"body_markdown":"I had this problem. I solved it with downloading 64x of the Java. Here is the link: http://javadl.sun.com/webapps/download/AutoDL?BundleId=87443","title":"Java Could not reserve enough space for object heap error","body":"<p>I had this problem. I solved it with downloading 64x of the Java. Here is the link: <a href=\"http://javadl.sun.com/webapps/download/AutoDL?BundleId=87443\">http://javadl.sun.com/webapps/download/AutoDL?BundleId=87443</a></p>\n"},{"tags":[],"owner":{"account_id":4633798,"reputation":1837,"user_id":3755563,"display_name":"user3755563"},"down_vote_count":2,"up_vote_count":68,"is_accepted":false,"score":66,"last_activity_date":1463988985,"creation_date":1403691564,"answer_id":24406013,"question_id":18040361,"body_markdown":"Go to `Start` &amp;rarr; `Control Panel` &amp;rarr; `System` &amp;rarr; `Advanced system settings` &amp;rarr; `advanced(tab)` &amp;rarr; `Environment Variables` &amp;rarr; `System Variables` &amp;rarr; `New`:\r\n\r\n    Variable name: _JAVA_OPTIONS\r\n    Variable value: -Xmx512M","title":"Java Could not reserve enough space for object heap error","body":"<p>Go to <code>Start</code> &rarr; <code>Control Panel</code> &rarr; <code>System</code> &rarr; <code>Advanced system settings</code> &rarr; <code>advanced(tab)</code> &rarr; <code>Environment Variables</code> &rarr; <code>System Variables</code> &rarr; <code>New</code>:</p>\n\n<pre><code>Variable name: _JAVA_OPTIONS\nVariable value: -Xmx512M\n</code></pre>\n"},{"tags":[],"owner":{"account_id":349643,"reputation":507,"user_id":685046,"display_name":"Jaxx0rr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407636363,"creation_date":1407636363,"answer_id":25224871,"question_id":18040361,"body_markdown":"to make sure it runs the 64 bit version of java have it like this:\r\n\r\n&quot;c:\\Program Files\\Java\\jre7\\bin\\java.exe&quot; -Xmx1536M -Xms1536M -XX:MaxPermSize=256M -jar forge-1.6.4-9.11.1.965-universal.jar\r\n\r\ntake a look at what jre version you have installed just in case.. x64 should be in program files while x32 resides in Program Files (x86)","title":"Java Could not reserve enough space for object heap error","body":"<p>to make sure it runs the 64 bit version of java have it like this:</p>\n\n<p>\"c:\\Program Files\\Java\\jre7\\bin\\java.exe\" -Xmx1536M -Xms1536M -XX:MaxPermSize=256M -jar forge-1.6.4-9.11.1.965-universal.jar</p>\n\n<p>take a look at what jre version you have installed just in case.. x64 should be in program files while x32 resides in Program Files (x86)</p>\n"},{"tags":[],"owner":{"account_id":2641072,"reputation":569,"user_id":2284700,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443193791,"creation_date":1443193791,"answer_id":32785278,"question_id":18040361,"body_markdown":"Double click Liferay CE Server -&gt; add -XX:MaxHeapSize=512m to Memory args -&gt; Start server!\r\nEnjoy...\r\n\r\nIt&#39;s work for me!","title":"Java Could not reserve enough space for object heap error","body":"<p>Double click Liferay CE Server -> add -XX:MaxHeapSize=512m to Memory args -> Start server!\nEnjoy...</p>\n\n<p>It's work for me!</p>\n"},{"tags":[],"owner":{"account_id":7110836,"reputation":91,"user_id":5438794,"display_name":"Sealteam241"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1463989119,"creation_date":1444696771,"answer_id":33092365,"question_id":18040361,"body_markdown":"This was occuring for me and it is such an easy fix.\r\n\r\n 1. you have to make sure that you have the correct java for your system such as 32bit or 64bit. \r\n 2. if you have installed the correct software and it still occurs than goto \r\n\r\n  `control panel` &amp;rarr; `system` &amp;rarr; `advanced system settings` for Windows 8 or\r\n\r\n  `control panel` &amp;rarr; `system and security` &amp;rarr; `system` &amp;rarr; `advanced system settings` for Windows 10.\r\n 3. you must goto the {advanced tab} and then click on {Environment Variables}.\r\n 4. you will click on {New} under the `&lt;system variables&gt;`\r\n 5. you will create a new variable. Variable name: `_JAVA_OPTIONS`  Variable Value: `-Xmx512M`\r\n\r\nAt least that is what worked for me.","title":"Java Could not reserve enough space for object heap error","body":"<p>This was occuring for me and it is such an easy fix.</p>\n\n<ol>\n<li>you have to make sure that you have the correct java for your system such as 32bit or 64bit. </li>\n<li><p>if you have installed the correct software and it still occurs than goto </p>\n\n<p><code>control panel</code> &rarr; <code>system</code> &rarr; <code>advanced system settings</code> for Windows 8 or</p>\n\n<p><code>control panel</code> &rarr; <code>system and security</code> &rarr; <code>system</code> &rarr; <code>advanced system settings</code> for Windows 10.</p></li>\n<li>you must goto the {advanced tab} and then click on {Environment Variables}.</li>\n<li>you will click on {New} under the <code>&lt;system variables&gt;</code></li>\n<li>you will create a new variable. Variable name: <code>_JAVA_OPTIONS</code>  Variable Value: <code>-Xmx512M</code></li>\n</ol>\n\n<p>At least that is what worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1925415,"reputation":39,"user_id":1735998,"display_name":"onClick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658163423,"creation_date":1658163423,"answer_id":73025963,"question_id":18040361,"body_markdown":"This is an old subject. But those using a stack, like Bitnami WildFly 13, should know that the stack installation has its own Java engine in `\\Bitnami\\wildfly-13.0.0-1\\java`.\r\nOn Windows, the installation takes the stack Java own engine for default configurations and it starts Java with option -client, not -server, even though there is/are other Java engines installed in the system. You need to modify `standalone.conf.bat` to specify explicitly your Java path and add -server option along with the desired memory allocation.\r\nExample:\r\n\r\n    set &quot;JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_311”\r\n    set &quot;JAVA_OPTS=-server -Xms2048M -Xmx4096M&quot;\r\n    :JAVA_OPTS_SET\r\n    rem set &quot;JAVA_HOME=C:\\opt\\jdk1.6.0_23\\bin\\java&quot;\r\n\r\nI hope this helps.","title":"Java Could not reserve enough space for object heap error","body":"<p>This is an old subject. But those using a stack, like Bitnami WildFly 13, should know that the stack installation has its own Java engine in <code>\\Bitnami\\wildfly-13.0.0-1\\java</code>.\nOn Windows, the installation takes the stack Java own engine for default configurations and it starts Java with option -client, not -server, even though there is/are other Java engines installed in the system. You need to modify <code>standalone.conf.bat</code> to specify explicitly your Java path and add -server option along with the desired memory allocation.\nExample:</p>\n<pre><code>set &quot;JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_311”\nset &quot;JAVA_OPTS=-server -Xms2048M -Xmx4096M&quot;\n:JAVA_OPTS_SET\nrem set &quot;JAVA_HOME=C:\\opt\\jdk1.6.0_23\\bin\\java&quot;\n</code></pre>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":3132601,"reputation":281,"user_id":2649913,"display_name":"Kemal Tunca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356284,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":9,"score":28,"last_activity_date":1658163423,"creation_date":1375598154,"question_id":18040361,"body_markdown":"I have Java7 running on 32-bit Windows and 4 GB RAM, but:\r\n\r\n    java -Xmx4G -Xms4G -jar Minecraft.jar \r\n    java -Xmx3G -Xms3G -jar Minecraft.jar \r\n    java -Xmx2G -Xms2G -jar Minecraft.jar\r\n\r\n...still does not work. Error:\r\n\r\n&gt;Error occurred during initialization of VM  \r\n    Could not reserve enough space for object heap  \r\n    Error: Could not create the Java Virtual Machine.  \r\n    Error: A fatal exception has occurred. Program will exit.  \r\n\r\n`java -Xmx1G -Xms1G -jar Minecraft.jar` is working. Why?\r\n","title":"Java Could not reserve enough space for object heap error","body":"<p>I have Java7 running on 32-bit Windows and 4 GB RAM, but:</p>\n\n<pre><code>java -Xmx4G -Xms4G -jar Minecraft.jar \njava -Xmx3G -Xms3G -jar Minecraft.jar \njava -Xmx2G -Xms2G -jar Minecraft.jar\n</code></pre>\n\n<p>...still does not work. Error:</p>\n\n<blockquote>\n  <p>Error occurred during initialization of VM<br>\n      Could not reserve enough space for object heap<br>\n      Error: Could not create the Java Virtual Machine.<br>\n      Error: A fatal exception has occurred. Program will exit.  </p>\n</blockquote>\n\n<p><code>java -Xmx1G -Xms1G -jar Minecraft.jar</code> is working. Why?</p>\n"},{"tags":["java","docker","process","io"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1658163782,"post_id":73025451,"comment_id":128978221,"body_markdown":"I might rethink this workflow.  Remember that a Docker container is a wrapper around a single process; how would you &quot;execute commands inside a process&quot; without Docker?  Also remember that being able to run any `docker` command at all comes with the ability to very easily root the host.  Can you set up your application container to do the work it needs to on its own, without doing Docker-specific work in a separate privileged process?","body":"I might rethink this workflow.  Remember that a Docker container is a wrapper around a single process; how would you &quot;execute commands inside a process&quot; without Docker?  Also remember that being able to run any <code>docker</code> command at all comes with the ability to very easily root the host.  Can you set up your application container to do the work it needs to on its own, without doing Docker-specific work in a separate privileged process?"},{"owner":{"account_id":22242855,"reputation":59,"user_id":16477030,"display_name":"Hamilton Hardy"},"score":0,"creation_date":1658170243,"post_id":73025451,"comment_id":128980379,"body_markdown":"@DavidMaze I solved this by running my commands inside the docker container. I just had to install java. This system is just for testing a blockchain network so it doesn&#39;t need to be pretty.","body":"@DavidMaze I solved this by running my commands inside the docker container. I just had to install java. This system is just for testing a blockchain network so it doesn&#39;t need to be pretty."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1659101350,"post_id":73025451,"comment_id":129222071,"body_markdown":"I’m voting to close this question because it has been resolved via comments","body":"I’m voting to close this question because it has been resolved via comments"}],"owner":{"account_id":22242855,"reputation":59,"user_id":16477030,"display_name":"Hamilton Hardy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658163082,"creation_date":1658160759,"question_id":73025451,"body_markdown":"I want to open up a docker container in a java file. Below is my code. I am able to open up the docker container with list but now want to run several commands within the docker container. I have an OutputStream which should pick up the data that I give in the java program. Maybe I am incorrectly understanding how to do this. Do I need to use another process for additional commands or can I construct more commands and give them to Output stream in a Byte array? I have also tried using the Runtime class which I believe is now depricated. See related posts here, https://stackoverflow.com/questions/15356405/how-to-run-a-command-at-terminal-from-java-program/15356451?noredirect=1#comment54151315_15356451\r\n\r\nhttps://stackoverflow.com/questions/29645404/execute-several-line-commands-in-a-java-programm\r\n\r\n\r\n```\r\ntry {\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        list.add(&quot;sudo&quot;);\r\n        list.add(&quot;docker&quot;);\r\n        list.add(&quot;exec&quot;);\r\n        list.add(&quot;-it&quot;);\r\n        list.add(&quot;sawtooth-shell-default&quot;);\r\n        list.add(&quot;bash&quot;);\r\n        \r\n        ProcessBuilder pb = new ProcessBuilder(list);\r\n        pb.inheritIO();\r\n        Process process = pb.start();\r\n        process.waitFor();\r\n        OutputStream out = process.getOutputStream();  \r\n        byte[] byteArr= {&#39;l&#39;,&#39;s&#39;};\r\n\tout.write(byteArr);  \r\n\tout.flush();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n```\r\n\r\nI have also tried using &amp;&amp; between my commands but I end up with a no such file or directory exeception. I add them to list like so, \r\n```\r\n        list.add(&quot;&amp;&amp;&quot;);\r\n        list.add(&quot;ls&quot;);\r\n```\r\nNote from the second link I shared that I cannot combine my command into one big string. In that situation I think I would have to add the terminal name that I am using so in this case gnome-terminal but when I run with this string,\r\n```\r\nString command = &quot;gnome-terminal sudo docker ... etc&quot; \r\n```\r\nIt also returns a no such file or directory error. \r\n\r\nI have also tried putting \r\n```\r\nlist.add(&quot;bash&quot;);\r\nlist.add(&quot;-c&quot;); \r\n```\r\n\r\nbefore the rest of my commands like this post suggests. https://stackoverflow.com/questions/12268550/java-processbuilder-to-start-execute-multiple-commands-sequentially-in-linux\r\n\r\n\r\nEdit: I decided to change the name of this question. I realize that the problem is the additional commands are running outside of the docker contatiner. How can I run a command to bring up a docker contatiner and then inside the docker container run additional commands?","title":"Java commands inside docker container","body":"<p>I want to open up a docker container in a java file. Below is my code. I am able to open up the docker container with list but now want to run several commands within the docker container. I have an OutputStream which should pick up the data that I give in the java program. Maybe I am incorrectly understanding how to do this. Do I need to use another process for additional commands or can I construct more commands and give them to Output stream in a Byte array? I have also tried using the Runtime class which I believe is now depricated. See related posts here, <a href=\"https://stackoverflow.com/questions/15356405/how-to-run-a-command-at-terminal-from-java-program/15356451?noredirect=1#comment54151315_15356451\">how to run a command at terminal from java program?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/29645404/execute-several-line-commands-in-a-java-programm\">Execute several line commands in a Java Programm</a></p>\n<pre><code>try {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        list.add(&quot;sudo&quot;);\n        list.add(&quot;docker&quot;);\n        list.add(&quot;exec&quot;);\n        list.add(&quot;-it&quot;);\n        list.add(&quot;sawtooth-shell-default&quot;);\n        list.add(&quot;bash&quot;);\n        \n        ProcessBuilder pb = new ProcessBuilder(list);\n        pb.inheritIO();\n        Process process = pb.start();\n        process.waitFor();\n        OutputStream out = process.getOutputStream();  \n        byte[] byteArr= {'l','s'};\n    out.write(byteArr);  \n    out.flush();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n</code></pre>\n<p>I have also tried using &amp;&amp; between my commands but I end up with a no such file or directory exeception. I add them to list like so,</p>\n<pre><code>        list.add(&quot;&amp;&amp;&quot;);\n        list.add(&quot;ls&quot;);\n</code></pre>\n<p>Note from the second link I shared that I cannot combine my command into one big string. In that situation I think I would have to add the terminal name that I am using so in this case gnome-terminal but when I run with this string,</p>\n<pre><code>String command = &quot;gnome-terminal sudo docker ... etc&quot; \n</code></pre>\n<p>It also returns a no such file or directory error.</p>\n<p>I have also tried putting</p>\n<pre><code>list.add(&quot;bash&quot;);\nlist.add(&quot;-c&quot;); \n</code></pre>\n<p>before the rest of my commands like this post suggests. <a href=\"https://stackoverflow.com/questions/12268550/java-processbuilder-to-start-execute-multiple-commands-sequentially-in-linux\">Java ProcessBuilder to start execute multiple commands sequentially in Linux</a></p>\n<p>Edit: I decided to change the name of this question. I realize that the problem is the additional commands are running outside of the docker contatiner. How can I run a command to bring up a docker contatiner and then inside the docker container run additional commands?</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":2,"creation_date":1398930327,"post_id":23403875,"comment_id":35859155,"body_markdown":"Check your connection string in JDBC. You might be connecting to someother database. But after creating new database, your forgot to include that new db name with your new tables. Like: `create newDb.table_name` was missing, I believe. And hence, tables might be created in default database to which you connected using JDBC.","body":"Check your connection string in JDBC. You might be connecting to someother database. But after creating new database, your forgot to include that new db name with your new tables. Like: <code>create newDb.table_name</code> was missing, I believe. And hence, tables might be created in default database to which you connected using JDBC."},{"owner":{"account_id":1834196,"reputation":3360,"user_id":1664878,"accept_rate":67,"display_name":"Volodymyr Levytskyi"},"score":0,"creation_date":1398931845,"post_id":23403875,"comment_id":35859624,"body_markdown":"Thanks but creating usaDB schema explicitly didn&#39;t help. From jdbc I can retrieve my table names and columns but not at localhost:8082 .","body":"Thanks but creating usaDB schema explicitly didn&#39;t help. From jdbc I can retrieve my table names and columns but not at localhost:8082 ."},{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1398932032,"post_id":23403875,"comment_id":35859687,"body_markdown":"what is the difference in `jdbc` and `localhost:8082` settings?","body":"what is the difference in <code>jdbc</code> and <code>localhost:8082</code> settings?"},{"owner":{"account_id":1834196,"reputation":3360,"user_id":1664878,"accept_rate":67,"display_name":"Volodymyr Levytskyi"},"score":0,"creation_date":1398934090,"post_id":23403875,"comment_id":35860446,"body_markdown":"It seems to me no difference except relative path in jdbc and absolute in localhost!","body":"It seems to me no difference except relative path in jdbc and absolute in localhost!"},{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1398934215,"post_id":23403875,"comment_id":35860494,"body_markdown":"No no ... Is your jdbc connecting to db on `locathost` or some remote server? What are the configuration differences was my question.","body":"No no ... Is your jdbc connecting to db on <code>locathost</code> or some remote server? What are the configuration differences was my question."},{"owner":{"account_id":1834196,"reputation":3360,"user_id":1664878,"accept_rate":67,"display_name":"Volodymyr Levytskyi"},"score":0,"creation_date":1398935360,"post_id":23403875,"comment_id":35860918,"body_markdown":"I installed h2 database with windows installer on my computer. I use only local h2 server.","body":"I installed h2 database with windows installer on my computer. I use only local h2 server."},{"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"score":0,"creation_date":1436950229,"post_id":23403875,"comment_id":50822685,"body_markdown":"Did you change something related to MVCC setting?","body":"Did you change something related to MVCC setting?"},{"owner":{"account_id":13375888,"reputation":209,"user_id":9652784,"display_name":"王良海"},"score":0,"creation_date":1531458947,"post_id":23403875,"comment_id":89615018,"body_markdown":"you can use broke point to find the right jdbc url. In my case is site in targetSource-&gt;target-&gt;jdbc-&gt;dataSource","body":"you can use broke point to find the right jdbc url. In my case is site in targetSource-&gt;target-&gt;jdbc-&gt;dataSource"}],"answers":[{"tags":[],"owner":{"account_id":2318340,"reputation":616,"user_id":2034812,"display_name":"rajeesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483030107,"creation_date":1411042691,"answer_id":25912402,"question_id":23403875,"body_markdown":"Version of jar file and installed h2 database should be same.","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>Version of jar file and installed h2 database should be same.</p>\n"},{"tags":[],"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1417685489,"creation_date":1417685489,"answer_id":27290461,"question_id":23403875,"body_markdown":"I have met exactly this problem.\r\n\r\nFrom what you describe, I suppose that you connect your jdbc with the &quot;real&quot; h2 server, but you are connecting on web application to database by the wrong mode (embedded-in-memory mode, aka `h2mem`). It means that h2 will create a new database in-memory, instead of using your true database stored elsewhere.\r\n\r\n\r\nPlease make sure that when you connect to this database, you use the mode **Generic H2 (Server)**, NOT*Generic H2 (Embedded)*. You can refer to the picture below.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qXxRU.png","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>I have met exactly this problem.</p>\n\n<p>From what you describe, I suppose that you connect your jdbc with the \"real\" h2 server, but you are connecting on web application to database by the wrong mode (embedded-in-memory mode, aka <code>h2mem</code>). It means that h2 will create a new database in-memory, instead of using your true database stored elsewhere.</p>\n\n<p>Please make sure that when you connect to this database, you use the mode <strong>Generic H2 (Server)</strong>, NOT<em>Generic H2 (Embedded)</em>. You can refer to the picture below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/qXxRU.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":5006246,"reputation":809,"user_id":4023835,"accept_rate":67,"display_name":"Le_Enot"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1421140065,"creation_date":1421140065,"answer_id":27918390,"question_id":23403875,"body_markdown":"I had the same issue and the answer seems to be really stupid: when you type your database name you shouldn&#39;t add &quot;**.h2.db**&quot; suffix, for example, if you have db file &quot;**D:\\somebase.h2.db**&quot; your connection string should be like &quot;**jdbc:h2:file:/D:/somebase**&quot;. In other way jdbc creates new empty database file named &quot;**somebase.h2.db.h2.db**&quot; and you see what you see: only system tables.","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>I had the same issue and the answer seems to be really stupid: when you type your database name you shouldn't add \"<strong>.h2.db</strong>\" suffix, for example, if you have db file \"<strong>D:\\somebase.h2.db</strong>\" your connection string should be like \"<strong>jdbc:h2:file:/D:/somebase</strong>\". In other way jdbc creates new empty database file named \"<strong>somebase.h2.db.h2.db</strong>\" and you see what you see: only system tables.</p>\n"},{"tags":[],"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1451651088,"creation_date":1451596736,"answer_id":34551665,"question_id":23403875,"body_markdown":"This problem drove me around the twist and besides this page I read many (many!) others until I solved it.&lt;br&gt;\r\nMy Use Case was to see how a SpringBatch project created in STS using _:: Spring Boot :: (v1.3.1.RELEASE)_ was going to behave with the H2 database; to do the latter, I needed to be able to get the H2 console running as well to query the DB results of the batch run.\r\n\r\nThis is what I did and found out:\r\n\r\n 1. Created an Web project in STS using Spring Boot:\r\n[![enter image description here][1]][1]\r\n - Added the following to the pom.xml of the latter:\r\n[![enter image description here][2]][2]\r\n - Added a Spring configuration file as follows to the project:\r\n[![enter image description here][3]][3]\r\nThis solves the Web project deficiencies in STS. If you run the project now, you can access the H2 console as follows: http://localhost:8080/console\r\n[![enter image description here][4]][4]\r\n\r\n 2. Now create a SpringBatch project in STS as follows (the alternative method creates a different template missing most of the classes for persisting data. This method creates 2 projects: one _Complete_, and the other an _initial_. Use the _Complete_ in the following.):\r\n[![enter image description here][5]][5]\r\n - The SpringBatch project created with STS uses an in memory H2 database that it CLOSES once the application run ends; once you run it, you can see this in the logging output.\r\n - So what we need is to create a new DataSource that overrides the default that ships with the project (if you are interested, just have a look at the log messages and you will see that it uses a default datasource...this is created from:\r\n o.s.j.d.e.**EmbeddedDatabaseFactory** with the following parameters:        \r\n_Starting embedded database: **url**=&#39;jdbc:hsqldb:mem:testdb&#39;, **username**=&#39;sa_&#39;)\r\n - So, it starts an in memory, and then closes it. You have no chance of seeing the data with the H2 console; it has come and gone.\r\n - So, create a DataSource as follows:\r\n[![enter image description here][6]][6]\r\n - You can of course use a properties file to map the parameters, and profiles for different *DataSource* instances...but I digress.\r\n - Now, make sure you set the bit that the red arrow in the picture is pointing to, to a location on your computer where a file can be persisted.\r\n - Running the SpringBatch (_Complete_ project) you should now have a db file in that location after it runs (persisting Person data)\r\n - Run the Web project you configured previously in these steps, and you WILL :=) see your data, and all the Batch job and step run data (et voila!):\r\n[![enter image description here][7]][7]\r\nPainful but rewarding. Hope it helps you to really BOOTSTRAP :=)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/N4aq0.png\r\n  [2]: http://i.stack.imgur.com/XZM2z.png\r\n  [3]: http://i.stack.imgur.com/ZTR8R.png\r\n  [4]: http://i.stack.imgur.com/KAIPI.png\r\n  [5]: http://i.stack.imgur.com/NIXHO.png\r\n  [6]: http://i.stack.imgur.com/LAFaq.png\r\n  [7]: http://i.stack.imgur.com/1t6T8.png","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>This problem drove me around the twist and besides this page I read many (many!) others until I solved it.<br>\nMy Use Case was to see how a SpringBatch project created in STS using <em>:: Spring Boot :: (v1.3.1.RELEASE)</em> was going to behave with the H2 database; to do the latter, I needed to be able to get the H2 console running as well to query the DB results of the batch run.</p>\n\n<p>This is what I did and found out:</p>\n\n<ol>\n<li><p>Created an Web project in STS using Spring Boot:\n<a href=\"https://i.stack.imgur.com/N4aq0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/N4aq0.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>Added the following to the pom.xml of the latter:\n<a href=\"https://i.stack.imgur.com/XZM2z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XZM2z.png\" alt=\"enter image description here\"></a></li>\n<li>Added a Spring configuration file as follows to the project:\n<a href=\"https://i.stack.imgur.com/ZTR8R.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZTR8R.png\" alt=\"enter image description here\"></a>\nThis solves the Web project deficiencies in STS. If you run the project now, you can access the H2 console as follows: <a href=\"http://localhost:8080/console\" rel=\"noreferrer\">http://localhost:8080/console</a>\n<a href=\"https://i.stack.imgur.com/KAIPI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KAIPI.png\" alt=\"enter image description here\"></a></li>\n</ul></li>\n<li><p>Now create a SpringBatch project in STS as follows (the alternative method creates a different template missing most of the classes for persisting data. This method creates 2 projects: one <em>Complete</em>, and the other an <em>initial</em>. Use the <em>Complete</em> in the following.):\n<a href=\"https://i.stack.imgur.com/NIXHO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NIXHO.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>The SpringBatch project created with STS uses an in memory H2 database that it CLOSES once the application run ends; once you run it, you can see this in the logging output.</li>\n<li>So what we need is to create a new DataSource that overrides the default that ships with the project (if you are interested, just have a look at the log messages and you will see that it uses a default datasource...this is created from:\no.s.j.d.e.<strong>EmbeddedDatabaseFactory</strong> with the following parameters:<br>\n<em>Starting embedded database: <strong>url</strong>='jdbc:hsqldb:mem:testdb', <strong>username</strong>='sa</em>')</li>\n<li>So, it starts an in memory, and then closes it. You have no chance of seeing the data with the H2 console; it has come and gone.</li>\n<li>So, create a DataSource as follows:\n<a href=\"https://i.stack.imgur.com/LAFaq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LAFaq.png\" alt=\"enter image description here\"></a></li>\n<li>You can of course use a properties file to map the parameters, and profiles for different <em>DataSource</em> instances...but I digress.</li>\n<li>Now, make sure you set the bit that the red arrow in the picture is pointing to, to a location on your computer where a file can be persisted.</li>\n<li>Running the SpringBatch (<em>Complete</em> project) you should now have a db file in that location after it runs (persisting Person data)</li>\n<li>Run the Web project you configured previously in these steps, and you WILL :=) see your data, and all the Batch job and step run data (et voila!):\n<a href=\"https://i.stack.imgur.com/1t6T8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1t6T8.png\" alt=\"enter image description here\"></a>\nPainful but rewarding. Hope it helps you to really BOOTSTRAP :=)</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1653441418,"creation_date":1472098635,"answer_id":39136628,"question_id":23403875,"body_markdown":"You can use the [**`SHOW`**](https://h2database.com/html/commands.html#show) command: \r\n\r\n![grammar](http://i.stack.imgur.com/L0kwr.png)\r\n\r\nUsing this command, you can lists the schemas, tables, or the columns of a table. e.g.:\r\n\r\n    SHOW TABLES","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>You can use the <a href=\"https://h2database.com/html/commands.html#show\" rel=\"nofollow noreferrer\"><strong><code>SHOW</code></strong></a> command:</p>\n<p><img src=\"https://i.stack.imgur.com/L0kwr.png\" alt=\"grammar\" /></p>\n<p>Using this command, you can lists the schemas, tables, or the columns of a table. e.g.:</p>\n<pre><code>SHOW TABLES\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1399470,"reputation":6117,"user_id":1328513,"accept_rate":53,"display_name":"Zhenya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486836533,"creation_date":1486836533,"answer_id":42179390,"question_id":23403875,"body_markdown":"In my case the issue was caused by the fact that I didn&#39;t set the h2 username, password in java. Unfortunatelly, Spring didn&#39;t display any errors to me, so it was not easy to figure out. Adding this lines to dataSource method helped me fix the issue:\r\n\r\n    dataSource.setUsername(&quot;sa&quot;);\r\n    dataSource.setPassword(&quot;&quot;);\r\n\r\nAlso, I should have specified the schema when creating tables in schema.sql","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>In my case the issue was caused by the fact that I didn't set the h2 username, password in java. Unfortunatelly, Spring didn't display any errors to me, so it was not easy to figure out. Adding this lines to dataSource method helped me fix the issue:</p>\n\n<pre><code>dataSource.setUsername(\"sa\");\ndataSource.setPassword(\"\");\n</code></pre>\n\n<p>Also, I should have specified the schema when creating tables in schema.sql</p>\n"},{"tags":[],"owner":{"account_id":5232216,"reputation":763,"user_id":4182109,"display_name":"Well Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515178474,"creation_date":1515178474,"answer_id":48119649,"question_id":23403875,"body_markdown":"Selecting Generic H2 (Server) solved for me. We tempted to use default Generic H2 (Embedded) which is wrong.","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>Selecting Generic H2 (Server) solved for me. We tempted to use default Generic H2 (Embedded) which is wrong.</p>\n"},{"tags":[],"owner":{"account_id":2576623,"reputation":3906,"user_id":2234161,"accept_rate":0,"display_name":"Memin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599346841,"creation_date":1515436264,"answer_id":48156087,"question_id":23403875,"body_markdown":"It is an old question, but I came across the same problem. Eventually I found out that the default JDBC URL is pointing a test server rather than my application. After correcting it, I could access the right DB.\r\n\r\nI tried with both Generic H2 (Embedded) and the Generic H2 (Server) options, both worked as long as the **JDBC URL**: is provided correctly.\r\n\r\nIn grails 4.0.1 the jdbc URL for development is `jdbc:h2:mem:devDb`. Check your **application.yml** file for the exact URL.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TzMwZ.jpg","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>It is an old question, but I came across the same problem. Eventually I found out that the default JDBC URL is pointing a test server rather than my application. After correcting it, I could access the right DB.</p>\n<p>I tried with both Generic H2 (Embedded) and the Generic H2 (Server) options, both worked as long as the <strong>JDBC URL</strong>: is provided correctly.</p>\n<p>In grails 4.0.1 the jdbc URL for development is <code>jdbc:h2:mem:devDb</code>. Check your <strong>application.yml</strong> file for the exact URL.\n<a href=\"https://i.stack.imgur.com/TzMwZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TzMwZ.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6806635,"reputation":11895,"user_id":5238158,"accept_rate":75,"display_name":"Gandhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568115129,"creation_date":1568115129,"answer_id":57869921,"question_id":23403875,"body_markdown":"If in case you have created and populated H2 database table using maven dependency in spring boot, then please do change the JDBC URL as `jdbc:h2:mem:testdb` while connecting to H2 using web console.","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>If in case you have created and populated H2 database table using maven dependency in spring boot, then please do change the JDBC URL as <code>jdbc:h2:mem:testdb</code> while connecting to H2 using web console.</p>\n"},{"tags":[],"owner":{"account_id":5106127,"reputation":1370,"user_id":4094167,"display_name":"Aleksander Stelmaczonek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658163043,"creation_date":1578912365,"answer_id":59715081,"question_id":23403875,"body_markdown":"For the people who are using H2 in embedded(persistent mode) and want to &quot;connect&quot; to it from IntelliJ(other IDEs probably apply too).\r\n\r\n 1. Using for example jdbc url as follows: `jdbc:h2:./database.h2`\r\n 2. Note, that H2 does not allow implicit *relative* paths, and requires adding explicit `./`\r\n 3. *Relative* paths are relative to current **workdir**\r\n 4. When you run your application, your workdir is most likely set to your project&#39;s root dir\r\n 5. On the other hand, IDE&#39;s workdir is most likely **not** your project&#39;s root\r\n 6. Hence, in IDE when &quot;connecting&quot; to your database you need to use absolute path like: `jdbc:h2:/Users/me/projects/MyAwesomeProject/database.h2`\r\n 7. For some reason IntelliJ by default also adds `;MV_STORE=false`. It disables MVStore engine which in fact is currently used by default in H2. \r\n 8. So make sure that both your application and your IDE use the same store engine, as MVStore and PageStore have different [file layouts][1].\r\n 9. Note that you cannot &quot;connect&quot; to your database if your application is using it because of locking. The other way around applies too.\r\n\r\n\r\n  [1]: http://www.h2database.com/html/features.html#database_file_layout","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>For the people who are using H2 in embedded(persistent mode) and want to &quot;connect&quot; to it from IntelliJ(other IDEs probably apply too).</p>\n<ol>\n<li>Using for example jdbc url as follows: <code>jdbc:h2:./database.h2</code></li>\n<li>Note, that H2 does not allow implicit <em>relative</em> paths, and requires adding explicit <code>./</code></li>\n<li><em>Relative</em> paths are relative to current <strong>workdir</strong></li>\n<li>When you run your application, your workdir is most likely set to your project's root dir</li>\n<li>On the other hand, IDE's workdir is most likely <strong>not</strong> your project's root</li>\n<li>Hence, in IDE when &quot;connecting&quot; to your database you need to use absolute path like: <code>jdbc:h2:/Users/me/projects/MyAwesomeProject/database.h2</code></li>\n<li>For some reason IntelliJ by default also adds <code>;MV_STORE=false</code>. It disables MVStore engine which in fact is currently used by default in H2.</li>\n<li>So make sure that both your application and your IDE use the same store engine, as MVStore and PageStore have different <a href=\"http://www.h2database.com/html/features.html#database_file_layout\" rel=\"nofollow noreferrer\">file layouts</a>.</li>\n<li>Note that you cannot &quot;connect&quot; to your database if your application is using it because of locking. The other way around applies too.</li>\n</ol>\n"}],"owner":{"account_id":1834196,"reputation":3360,"user_id":1664878,"accept_rate":67,"display_name":"Volodymyr Levytskyi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113343,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"answer_count":10,"score":40,"last_activity_date":1658163043,"creation_date":1398929855,"question_id":23403875,"body_markdown":"I use JDBC and created h2 database called usaDB from sql script. Then I filled all tables with jdbc.\r\n\r\nThe problem is that after I connect to usaDB at localhost:8082 I cannot see on the left tree\r\nmy tables. There is only INFORMATION_SCHEMA database and `rootUser` which I specified creating usaDB.\r\n\r\nHow to view the content of tables in my h2 database?\r\n\r\nI tried query `SELECT * FROM INFORMATION_SCHEMA.TABLES `.\r\n\r\nBut it returned many table names except those I created. My snapshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BOyAL.png","title":"How to see all tables in my h2 database at localhost:8082?","body":"<p>I use JDBC and created h2 database called usaDB from sql script. Then I filled all tables with jdbc.</p>\n\n<p>The problem is that after I connect to usaDB at localhost:8082 I cannot see on the left tree\nmy tables. There is only INFORMATION_SCHEMA database and <code>rootUser</code> which I specified creating usaDB.</p>\n\n<p>How to view the content of tables in my h2 database?</p>\n\n<p>I tried query <code>SELECT * FROM INFORMATION_SCHEMA.TABLES</code>.</p>\n\n<p>But it returned many table names except those I created. My snapshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BOyAL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BOyAL.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","path","classpath"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1658113451,"post_id":73014615,"comment_id":128961871,"body_markdown":"“CLASSPATH : C:\\Program Files\\Java\\jdk1.8.0_202\\bin” is incorrect.  The classpath a series of locations where Java programs exist.  It should *never* point to a location inside a Java installation.  You probably want to set CLASSPATH to `C:\\Projects\\Hello\\target\\classes`, if your project is a Maven project.","body":"“CLASSPATH : C:\\Program Files\\Java\\jdk1.8.0_202\\bin” is incorrect.  The classpath a series of locations where Java programs exist.  It should <i>never</i> point to a location inside a Java installation.  You probably want to set CLASSPATH to <code>C:\\Projects\\Hello\\target\\classes</code>, if your project is a Maven project."},{"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"score":0,"creation_date":1658144641,"post_id":73014615,"comment_id":128970113,"body_markdown":"I think you would face this issue due to not considering the package in **compilation** or in **execution** Follow this Link : https://stackoverflow.com/questions/1279542/how-to-execute-a-java-class-from-the-command-line","body":"I think you would face this issue due to not considering the package in <b>compilation</b> or in <b>execution</b> Follow this Link : <a href=\"https://stackoverflow.com/questions/1279542/how-to-execute-a-java-class-from-the-command-line\" title=\"how to execute a java class from the command line\">stackoverflow.com/questions/1279542/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658149623,"post_id":73014615,"comment_id":128972053,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25830387,"reputation":1,"user_id":19567692,"display_name":"Bartek Czerwiński"},"score":0,"creation_date":1658161566,"post_id":73014615,"comment_id":128977421,"body_markdown":"CLASSPATH changing on directory with class -not working\n\nconsidering package running using &quot;java&quot; - not working","body":"CLASSPATH changing on directory with class -not working  considering package running using &quot;java&quot; - not working"}],"answers":[{"tags":[],"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658162946,"creation_date":1658119193,"answer_id":73017396,"question_id":73014615,"body_markdown":"I tried to follow your steps. I downloaded and installed the newest JDK 8 on Windows 11, and NetBeans 14.\r\n\r\nThen I looked through the Environment Variables, and the only mention of Java was in the system Path variable:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou see, I have no CLASSPATH variable, nor haven&#39;t I manually set anything. Everything was installed automatically. I have no explicit path to C:\\Program Files\\Java\\jdk1.8.0_... in my Path variable.\r\n\r\nAnd I created a simple app in NetBeans. It runs _from NetBeans_ successfully. Just do &quot;Run Project&quot; (F6) in the NetBeans interface.\r\n\r\nIf you need to run it _from the command line_ for some reason, [this question][2] may help.\r\n\r\nIf you need to run it on another computer, I would advise you not to do it with cmd. Compile it into jar, then wrap it into exe (in case of Windows) using launch4J. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iTjOg.png\r\n  [2]: https://stackoverflow.com/questions/1279542/how-to-execute-a-java-class-from-the-command-line","title":"java JDK 1.8.0 Win 11 - system variables","body":"<p>I tried to follow your steps. I downloaded and installed the newest JDK 8 on Windows 11, and NetBeans 14.</p>\n<p>Then I looked through the Environment Variables, and the only mention of Java was in the system Path variable:</p>\n<p><a href=\"https://i.stack.imgur.com/iTjOg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTjOg.png\" alt=\"enter image description here\" /></a></p>\n<p>You see, I have no CLASSPATH variable, nor haven't I manually set anything. Everything was installed automatically. I have no explicit path to C:\\Program Files\\Java\\jdk1.8.0_... in my Path variable.</p>\n<p>And I created a simple app in NetBeans. It runs <em>from NetBeans</em> successfully. Just do &quot;Run Project&quot; (F6) in the NetBeans interface.</p>\n<p>If you need to run it <em>from the command line</em> for some reason, <a href=\"https://stackoverflow.com/questions/1279542/how-to-execute-a-java-class-from-the-command-line\">this question</a> may help.</p>\n<p>If you need to run it on another computer, I would advise you not to do it with cmd. Compile it into jar, then wrap it into exe (in case of Windows) using launch4J.</p>\n"}],"owner":{"account_id":25830387,"reputation":1,"user_id":19567692,"display_name":"Bartek Czerwiński"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658162946,"creation_date":1658084950,"question_id":73014615,"body_markdown":"I&#39;ve just istalled JDK8 on PC Windows 11 Home\r\nNow im trying to run simple default program from NetBeans14\r\n\r\n**In environmental variables:**\r\n\r\nPATH : C:\\Program Files\\Java\\jdk1.8.0_202\\bin\r\n\r\nCLASSPATH : C:\\Program Files\\Java\\jdk1.8.0_202\\bin\r\n\r\n**Project build on hard disk**\r\nC:\\Projects\\Hello\\src\\main\\java\\pack\\hello\r\n\r\n1. on cmd going tn cd C:\\Projects\\Hello\\src\\main\\java\\pack\\hello\r\n\r\n2. javac compiles .java file on .class file\r\n\r\n3. command &quot;java Hello&quot; output: *Error: Could not find or load main class Hello*\r\nHello.class is there.\r\n\r\nchecking commands, all works:\r\n\r\njava\r\n\r\njavac\r\n\r\njavac -version\r\n\r\n\r\nPlease to support, or send some similar problems posts.\r\nAll web answers are speaking about setting PATH and CLASSPATH, where in my case it already took place.\r\n\r\n\r\nThanks in Advance\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jdSRm.jpg","title":"java JDK 1.8.0 Win 11 - system variables","body":"<p>I've just istalled JDK8 on PC Windows 11 Home\nNow im trying to run simple default program from NetBeans14</p>\n<p><strong>In environmental variables:</strong></p>\n<p>PATH : C:\\Program Files\\Java\\jdk1.8.0_202\\bin</p>\n<p>CLASSPATH : C:\\Program Files\\Java\\jdk1.8.0_202\\bin</p>\n<p><strong>Project build on hard disk</strong>\nC:\\Projects\\Hello\\src\\main\\java\\pack\\hello</p>\n<ol>\n<li><p>on cmd going tn cd C:\\Projects\\Hello\\src\\main\\java\\pack\\hello</p>\n</li>\n<li><p>javac compiles .java file on .class file</p>\n</li>\n<li><p>command &quot;java Hello&quot; output: <em>Error: Could not find or load main class Hello</em>\nHello.class is there.</p>\n</li>\n</ol>\n<p>checking commands, all works:</p>\n<p>java</p>\n<p>javac</p>\n<p>javac -version</p>\n<p>Please to support, or send some similar problems posts.\nAll web answers are speaking about setting PATH and CLASSPATH, where in my case it already took place.</p>\n<p>Thanks in Advance</p>\n"},{"tags":["java","plot","jfreechart","linechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1657839853,"post_id":72977132,"comment_id":128912204,"body_markdown":"Why not `createTimeSeriesChart`?","body":"Why not <code>createTimeSeriesChart</code>?"},{"owner":{"account_id":18298155,"reputation":55,"user_id":13323624,"display_name":"TomC"},"score":0,"creation_date":1657959336,"post_id":72977132,"comment_id":128937438,"body_markdown":"Hi trashgod, on the X axis I have custom tick labels dinamically created based on the current week, so that the plot shows week numbers (1 to 53) 1 year backwards from today. On the Y axis, on the other hand, I cannot put symbols since it is a &quot;value&quot; axis, with U.o.M. tons.","body":"Hi trashgod, on the X axis I have custom tick labels dinamically created based on the current week, so that the plot shows week numbers (1 to 53) 1 year backwards from today. On the Y axis, on the other hand, I cannot put symbols since it is a &quot;value&quot; axis, with U.o.M. tons."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658162861,"creation_date":1658095293,"answer_id":73015647,"question_id":72977132,"body_markdown":"Starting from this _time series_ [example][1] and using [`setRangeTickBandPaint()`][2], I get the result pictured below:\r\n\r\n[![image][3]][3]\r\n\r\nIn particular, I used\r\n\r\n- Contrasting colors for the background and bands:\r\n\r\n        plot.setBackgroundPaint(new Color(0xF0F0F0));\r\n        plot.setRangeTickBandPaint(new Color(0xE0E0E0));\r\n\r\n- A suitable `DateFormat` on the domain:\r\n\r\n        domain.setDateFormatOverride(new SimpleDateFormat(&quot;MMM&quot;));\r\n\r\n- A fixed `TickUnit` on the range:\r\n\r\n        NumberAxis range = (NumberAxis) plot.getRangeAxis();\r\n        range.setTickUnit(new NumberTickUnit(5));\r\n\r\n- `DateTickMarkPosition.MIDDLE` to center the tick labels:\r\n\r\n        domain.setTickMarkPosition(DateTickMarkPosition.MIDDLE);\r\n\r\n\r\nAs an aside, there is no _line chart_ plot type. Instead, contrast the source of your chosen [`ChartFactory`][5] with that of a typical _time series_. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66713994/230513\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/plot/XYPlot.html#setRangeTickBandPaint(java.awt.Paint)\r\n  [3]: https://i.stack.imgur.com/KY7xx.png\r\n  [4]: https://i.stack.imgur.com/jIixn.png\r\n  [5]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartFactory.html","title":"JFreeChart alternate background color","body":"<p>Starting from this <em>time series</em> <a href=\"https://stackoverflow.com/a/66713994/230513\">example</a> and using <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/plot/XYPlot.html#setRangeTickBandPaint(java.awt.Paint)\" rel=\"nofollow noreferrer\"><code>setRangeTickBandPaint()</code></a>, I get the result pictured below:</p>\n<p><a href=\"https://i.stack.imgur.com/KY7xx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KY7xx.png\" alt=\"image\" /></a></p>\n<p>In particular, I used</p>\n<ul>\n<li><p>Contrasting colors for the background and bands:</p>\n<pre><code>  plot.setBackgroundPaint(new Color(0xF0F0F0));\n  plot.setRangeTickBandPaint(new Color(0xE0E0E0));\n</code></pre>\n</li>\n<li><p>A suitable <code>DateFormat</code> on the domain:</p>\n<pre><code>  domain.setDateFormatOverride(new SimpleDateFormat(&quot;MMM&quot;));\n</code></pre>\n</li>\n<li><p>A fixed <code>TickUnit</code> on the range:</p>\n<pre><code>  NumberAxis range = (NumberAxis) plot.getRangeAxis();\n  range.setTickUnit(new NumberTickUnit(5));\n</code></pre>\n</li>\n<li><p><code>DateTickMarkPosition.MIDDLE</code> to center the tick labels:</p>\n<pre><code>  domain.setTickMarkPosition(DateTickMarkPosition.MIDDLE);\n</code></pre>\n</li>\n</ul>\n<p>As an aside, there is no <em>line chart</em> plot type. Instead, contrast the source of your chosen <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartFactory.html\" rel=\"nofollow noreferrer\"><code>ChartFactory</code></a> with that of a typical <em>time series</em>.</p>\n"}],"owner":{"account_id":18298155,"reputation":55,"user_id":13323624,"display_name":"TomC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73015647,"answer_count":1,"score":1,"last_activity_date":1658162861,"creation_date":1657785605,"question_id":72977132,"body_markdown":"I&#39;m trying to set two colors that need to be switched at every vertical tick label as background of a JFreeChart linechart.\r\n\r\nI want the line chart to appear as the image in this link, where two different light grays alternate as background:\r\n\r\n![image](https://docs.oracle.com/javafx/2/charts/img/line-sample.png)\r\n\r\nHow can I achieve so in JFreeChart?\r\n\r\nP.S. I&#39;ve seen that there is `plot.setRangeTickBandPaint(new Color(200, 200, 100, 100))` method for `XYPlot` plot type, used in `ScatterPlot4` in JFreeChart&#39;s demo jar, however, this method does not exist in the line chart plot type.","title":"JFreeChart alternate background color","body":"<p>I'm trying to set two colors that need to be switched at every vertical tick label as background of a JFreeChart linechart.</p>\n<p>I want the line chart to appear as the image in this link, where two different light grays alternate as background:</p>\n<p><img src=\"https://docs.oracle.com/javafx/2/charts/img/line-sample.png\" alt=\"image\" /></p>\n<p>How can I achieve so in JFreeChart?</p>\n<p>P.S. I've seen that there is <code>plot.setRangeTickBandPaint(new Color(200, 200, 100, 100))</code> method for <code>XYPlot</code> plot type, used in <code>ScatterPlot4</code> in JFreeChart's demo jar, however, this method does not exist in the line chart plot type.</p>\n"},{"tags":["java","oracle","oracle19c","ojdbc","callable-statement"],"answers":[{"tags":[],"owner":{"account_id":232303,"reputation":1,"user_id":497055,"display_name":"Dmitry Sytkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658162682,"creation_date":1658155202,"answer_id":73024151,"question_id":72616433,"body_markdown":"Judging by [the docs](https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-extensions.html#GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7) you can still use named binds in sql, but have to set values to them by position:\r\n```\r\ntry (CallableStatement cs = con.prepareCall(&quot;{call CORE.PKG.makeWork(arg1=&gt;:arg1, arg2=&gt;:arg2)}&quot;)) {\r\n    cs.setString(1, javaArg1);\r\n    cs.setInt(2, javaArg2);\r\n    cs.execute();\r\n```\r\nOr you can use `oracle.jdbc.OracleCallableStatement` to set values to binds by name, but have to replace all &quot;:params&quot; with &quot;?&quot;:\r\n&gt;The setXXX(String,...) and registerOutParameter(String,...) methods can be used only if all binds are procedure or function parameters only. The statement can contain no other binds and the parameter binds must be indicated with a question mark (?) and not :XX\r\n```\r\ntry (CallableStatement cs = con.prepareCall(&quot;{call CORE.PKG.makeWork(arg1=&gt;?, arg2=&gt;?)}&quot;)) {\r\n    cs.setString(&quot;arg1&quot;, javaArg1);\r\n    cs.setInt(&quot;arg2&quot;, javaArg2);\r\n    cs.execute();\r\n```\r\nOr you can use [NamedParameterJdbcTemplate](https://docs.spring.io/spring-framework/docs/2.5.x/reference/jdbc.html#jdbc-NamedParameterJdbcTemplate) from Spring JDBC","title":"CallableStatement with Named binding leads to PLS-00306: wrong number or types of arguments","body":"<p>Judging by <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-extensions.html#GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7\" rel=\"nofollow noreferrer\">the docs</a> you can still use named binds in sql, but have to set values to them by position:</p>\n<pre><code>try (CallableStatement cs = con.prepareCall(&quot;{call CORE.PKG.makeWork(arg1=&gt;:arg1, arg2=&gt;:arg2)}&quot;)) {\n    cs.setString(1, javaArg1);\n    cs.setInt(2, javaArg2);\n    cs.execute();\n</code></pre>\n<p>Or you can use <code>oracle.jdbc.OracleCallableStatement</code> to set values to binds by name, but have to replace all &quot;:params&quot; with &quot;?&quot;:</p>\n<blockquote>\n<p>The setXXX(String,...) and registerOutParameter(String,...) methods can be used only if all binds are procedure or function parameters only. The statement can contain no other binds and the parameter binds must be indicated with a question mark (?) and not :XX</p>\n</blockquote>\n<pre><code>try (CallableStatement cs = con.prepareCall(&quot;{call CORE.PKG.makeWork(arg1=&gt;?, arg2=&gt;?)}&quot;)) {\n    cs.setString(&quot;arg1&quot;, javaArg1);\n    cs.setInt(&quot;arg2&quot;, javaArg2);\n    cs.execute();\n</code></pre>\n<p>Or you can use <a href=\"https://docs.spring.io/spring-framework/docs/2.5.x/reference/jdbc.html#jdbc-NamedParameterJdbcTemplate\" rel=\"nofollow noreferrer\">NamedParameterJdbcTemplate</a> from Spring JDBC</p>\n"}],"owner":{"account_id":21406902,"reputation":1,"user_id":15767944,"display_name":"Robert Ishmukhametov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658162682,"creation_date":1655207192,"question_id":72616433,"body_markdown":"We need to update oracle driver in our java8 project.\r\nWe changed it from ojdbc6 to ojdbc8 19.3.0.0 whereupon we faced such exception\r\n```\r\nCaused by: java.sql.SQLException: ORA-06550: line 1, column 18:\r\nPLS-00306: wrong number or types of arguments in call to &#39;MAKEWORK&#39;\r\nORA-06550: line 1, column 7:\r\nPL/SQL: Statement ignored\r\n```\r\nexecuting following code:\r\n``` lang-java\r\ntry (CallableStatement cs = con.prepareCall(&quot;{call :result := CORE.PKG.makeWork(arg1=&gt;:arg1, arg2=&gt;:arg2)}&quot;)) {\r\n\tcs.setString(&quot;arg1&quot;, javaArg1);\r\n\tcs.setInt(&quot;arg2&quot;, javaArg2);\r\n\tcs.registerOutParameter(&quot;result&quot;, Types.ARRAY, CommonTypeNameConstant.T_TABLE_OF_NUMBERS_TYPE);\r\n\tcs.execute();\r\n\tArray result = (Array) cs.getObject(&quot;result&quot;);\r\n```\r\nIt only happens with functions. I mean, code would work if `CORE.PKG.makeWork` was a procedure:\r\n``` lang-java\r\ntry (CallableStatement cs = con.prepareCall(&quot;{call CORE.PKG.makeWork(arg1=&gt;:arg1, arg2=&gt;:arg2)}&quot;)) {\r\n\tcs.setString(&quot;arg1&quot;, javaArg1);\r\n\tcs.setInt(&quot;arg2&quot;, javaArg2);\r\n\tcs.execute();\r\n```\r\nThe problem can be resolved via migrating oracle scripts from Named binding to Ordinal binding:\r\n``` lang-java\r\ntry (CallableStatement cs = con.prepareCall(&quot;{? = call CORE.PKG.makeWork(arg1=&gt;?, arg2=&gt;?)}&quot;)) {\r\n\tcs.registerOutParameter(1, Types.ARRAY, CommonTypeNameConstant.T_TABLE_OF_NUMBERS_TYPE);\r\n\tcs.setObject(2, javaArg1);\r\n\tcs.setObject(3, javaArg2);\r\n\tcs.execute();\r\n\tArray result = (Array) cs.getObject(1);\r\n```\r\nBut we want to keep Named binding in out project because Ordinal binding tend developers to make order mistakes while listing parameters + we have quite a few scripts to rewrite.\r\n\r\nWhy wouldn&#39;t Named binding of output params work with new version of driver?\r\n","title":"CallableStatement with Named binding leads to PLS-00306: wrong number or types of arguments","body":"<p>We need to update oracle driver in our java8 project.\nWe changed it from ojdbc6 to ojdbc8 19.3.0.0 whereupon we faced such exception</p>\n<pre><code>Caused by: java.sql.SQLException: ORA-06550: line 1, column 18:\nPLS-00306: wrong number or types of arguments in call to 'MAKEWORK'\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n</code></pre>\n<p>executing following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement cs = con.prepareCall(&quot;{call :result := CORE.PKG.makeWork(arg1=&gt;:arg1, arg2=&gt;:arg2)}&quot;)) {\n    cs.setString(&quot;arg1&quot;, javaArg1);\n    cs.setInt(&quot;arg2&quot;, javaArg2);\n    cs.registerOutParameter(&quot;result&quot;, Types.ARRAY, CommonTypeNameConstant.T_TABLE_OF_NUMBERS_TYPE);\n    cs.execute();\n    Array result = (Array) cs.getObject(&quot;result&quot;);\n</code></pre>\n<p>It only happens with functions. I mean, code would work if <code>CORE.PKG.makeWork</code> was a procedure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement cs = con.prepareCall(&quot;{call CORE.PKG.makeWork(arg1=&gt;:arg1, arg2=&gt;:arg2)}&quot;)) {\n    cs.setString(&quot;arg1&quot;, javaArg1);\n    cs.setInt(&quot;arg2&quot;, javaArg2);\n    cs.execute();\n</code></pre>\n<p>The problem can be resolved via migrating oracle scripts from Named binding to Ordinal binding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement cs = con.prepareCall(&quot;{? = call CORE.PKG.makeWork(arg1=&gt;?, arg2=&gt;?)}&quot;)) {\n    cs.registerOutParameter(1, Types.ARRAY, CommonTypeNameConstant.T_TABLE_OF_NUMBERS_TYPE);\n    cs.setObject(2, javaArg1);\n    cs.setObject(3, javaArg2);\n    cs.execute();\n    Array result = (Array) cs.getObject(1);\n</code></pre>\n<p>But we want to keep Named binding in out project because Ordinal binding tend developers to make order mistakes while listing parameters + we have quite a few scripts to rewrite.</p>\n<p>Why wouldn't Named binding of output params work with new version of driver?</p>\n"},{"tags":["java","exception","checked-exceptions"],"comments":[{"owner":{"account_id":15112,"reputation":134488,"user_id":31582,"accept_rate":86,"display_name":"Gareth"},"score":49,"creation_date":1236242940,"post_id":613954,"comment_id":427035,"body_markdown":"I don&#39;t think it&#39;s completely subjective - it&#39;s a language feature that was designed to have a specific use, rather than for everyone to decide what it&#39;s for for themselves. And it&#39;s not especially argumentative, it addresses in advance specific rebuttals which people could easily have come up with.","body":"I don&#39;t think it&#39;s completely subjective - it&#39;s a language feature that was designed to have a specific use, rather than for everyone to decide what it&#39;s for for themselves. And it&#39;s not especially argumentative, it addresses in advance specific rebuttals which people could easily have come up with."},{"owner":{"account_id":27383,"reputation":8900,"user_id":72211,"accept_rate":100,"display_name":"Kurt Schelfthout"},"score":8,"creation_date":1236256252,"post_id":613954,"comment_id":427460,"body_markdown":"Come on. Viewed as a language feature, this topic has been and can be approached in an objective way.","body":"Come on. Viewed as a language feature, this topic has been and can be approached in an objective way."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":6,"creation_date":1236267169,"post_id":613954,"comment_id":428038,"body_markdown":"@cletus  &quot;answering your own question&quot; if I had the answer I wouldn&#39;t have asked the question!","body":"@cletus  &quot;answering your own question&quot; if I had the answer I wouldn&#39;t have asked the question!"},{"owner":{"account_id":7338,"reputation":55674,"user_id":12716,"accept_rate":100,"display_name":"Randolpho"},"score":2,"creation_date":1236271705,"post_id":613954,"comment_id":428407,"body_markdown":"I agree that it should be CW. There is no &quot;right&quot; answer; it&#39;s about methodology and practices. I don&#39;t agree that it should be closed, however. It&#39;s an important debate, and the more opinions can be seen on the subject, the better, IMO.","body":"I agree that it should be CW. There is no &quot;right&quot; answer; it&#39;s about methodology and practices. I don&#39;t agree that it should be closed, however. It&#39;s an important debate, and the more opinions can be seen on the subject, the better, IMO."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":2,"creation_date":1236272466,"post_id":613954,"comment_id":428464,"body_markdown":"I am not asking for the &quot;right answer about methodology and practices&quot; I am asking for the rationale for people who choose this particular methodology.  I did not ask for the relative merits between different ways of dealing with exceptions.  Also not CW IMO, that is for a comparison between the two","body":"I am not asking for the &quot;right answer about methodology and practices&quot; I am asking for the rationale for people who choose this particular methodology.  I did not ask for the relative merits between different ways of dealing with exceptions.  Also not CW IMO, that is for a comparison between the two"},{"owner":{"account_id":28072,"reputation":22000,"user_id":74612,"accept_rate":53,"display_name":"Dimitri C."},"score":9,"creation_date":1245838549,"post_id":613954,"comment_id":848137,"body_markdown":"Great question. In C++ there are no checked exceptions at all, and in my opinion it renders the exception feature unusable. You end up in a situation where you have to put a catch around every single function call you make, because you just don&#39;t know whether it might throw something.","body":"Great question. In C++ there are no checked exceptions at all, and in my opinion it renders the exception feature unusable. You end up in a situation where you have to put a catch around every single function call you make, because you just don&#39;t know whether it might throw something."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":2,"creation_date":1268937166,"post_id":613954,"comment_id":2462951,"body_markdown":"@TofuBeer: you are *way* overthinking this: ask yourself the following question: where do checked exception come into play at the OOA/OOD level and how comes, what, 95% of the languages out there are perfectly happy without the broken concept of checked exceptions? Checked exceptions are a Java idiosynchrasy that people have to deal with because there are broken API that have been written around that broken concept.  200KLOC codebase here.  We defined *zero* checked exception and we&#39;re throwing *zero* checked exception.  And our OOP is close to our OOA/OOD.  That&#39;s why we don&#39;t like them.","body":"@TofuBeer: you are <i>way</i> overthinking this: ask yourself the following question: where do checked exception come into play at the OOA/OOD level and how comes, what, 95% of the languages out there are perfectly happy without the broken concept of checked exceptions? Checked exceptions are a Java idiosynchrasy that people have to deal with because there are broken API that have been written around that broken concept.  200KLOC codebase here.  We defined <i>zero</i> checked exception and we&#39;re throwing <i>zero</i> checked exception.  And our OOP is close to our OOA/OOD.  That&#39;s why we don&#39;t like them."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":3,"creation_date":1268943578,"post_id":613954,"comment_id":2463742,"body_markdown":"C++ is broken without checked exceptions IMO - how often do you see catch(...) just to make sure things do not crash.  So, since you have a large code base, please answer the simple question - how do you make sure that you do not miss any exceptions?  Say you add in a new &quot;FooException&quot; - how do you ensure that your program doesn&#39;t crash if you fail to catch it?  How do you catch it in all of the correct places?","body":"C++ is broken without checked exceptions IMO - how often do you see catch(...) just to make sure things do not crash.  So, since you have a large code base, please answer the simple question - how do you make sure that you do not miss any exceptions?  Say you add in a new &quot;FooException&quot; - how do you ensure that your program doesn&#39;t crash if you fail to catch it?  How do you catch it in all of the correct places?"},{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":1,"creation_date":1368195375,"post_id":613954,"comment_id":23655584,"body_markdown":"usign TDD and rutime exceptions resolves the problem with checked exception (if one afraids that he can miss something). but unfortunately java core libs themself force you to catch those exception, that makes your code bigger, often without reason. I think using AOP/spring can handle some problem as well - kind of something on top on java.","body":"usign TDD and rutime exceptions resolves the problem with checked exception (if one afraids that he can miss something). but unfortunately java core libs themself force you to catch those exception, that makes your code bigger, often without reason. I think using AOP/spring can handle some problem as well - kind of something on top on java."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":2,"creation_date":1368195659,"post_id":613954,"comment_id":23655761,"body_markdown":"@ses TDD doesn&#39;t solve the problem unless one looks at all of the source code to to know what to test for.  It works for the person writing the code that throws the RuntimeException, but not for the person writing the code that calls the code that throws it.  Start with the premise that your program cannot crash, ever, now how attractive are RuntimeExceptions?","body":"@ses TDD doesn&#39;t solve the problem unless one looks at all of the source code to to know what to test for.  It works for the person writing the code that throws the RuntimeException, but not for the person writing the code that calls the code that throws it.  Start with the premise that your program cannot crash, ever, now how attractive are RuntimeExceptions?"},{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":0,"creation_date":1368196578,"post_id":613954,"comment_id":23656399,"body_markdown":"@TofuBeer The person who writes the code, does not know for sure that person(client) who would use this code should check this exception. because it depends on the case what client thinks about it. The client itself can decide, reading the definition of method that throws RuntimeException where he want to catch it or not. That&#39;s fair. That&#39;s respect of client&#39;s time and clinet&#39;s code. Especially I do not see the reason to use CheckedExceptions in interface methods, when 1000 of classes implement it, in 500 of them   don&#39;t throw this exception at all, but the client still must catch it.","body":"@TofuBeer The person who writes the code, does not know for sure that person(client) who would use this code should check this exception. because it depends on the case what client thinks about it. The client itself can decide, reading the definition of method that throws RuntimeException where he want to catch it or not. That&#39;s fair. That&#39;s respect of client&#39;s time and clinet&#39;s code. Especially I do not see the reason to use CheckedExceptions in interface methods, when 1000 of classes implement it, in 500 of them   don&#39;t throw this exception at all, but the client still must catch it."},{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":0,"creation_date":1368196600,"post_id":613954,"comment_id":23656413,"body_markdown":"@TofuBeer if client of code uses TDD, it helps him to avoid bad cases.","body":"@TofuBeer if client of code uses TDD, it helps him to avoid bad cases."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":2,"creation_date":1368196937,"post_id":613954,"comment_id":23656632,"body_markdown":"@ses the client won&#39;t necessarily know about the runtime exception, there is no requirement that runtime exceptions be documented.  If the client doesn&#39;t know how can the client make an informed decision?  Also, my premise is that the program can never crash. runtime exceptions do not lend themselves to that.","body":"@ses the client won&#39;t necessarily know about the runtime exception, there is no requirement that runtime exceptions be documented.  If the client doesn&#39;t know how can the client make an informed decision?  Also, my premise is that the program can never crash. runtime exceptions do not lend themselves to that."},{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":0,"creation_date":1368199651,"post_id":613954,"comment_id":23658186,"body_markdown":"@TofuBeer also Client might not to know how to handle it. This is what happened all the time. The client just swallows it until he has a problem. So client _should_ know about exception / and about what he is going to use - and about what the method does. As soon as he knows about it he could decide what to do with that.","body":"@TofuBeer also Client might not to know how to handle it. This is what happened all the time. The client just swallows it until he has a problem. So client <i>should</i> know about exception / and about what he is going to use - and about what the method does. As soon as he knows about it he could decide what to do with that."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":2,"creation_date":1368202614,"post_id":613954,"comment_id":23659724,"body_markdown":"And the client will know about the exception how exactly?  Follow it through to the logical conclusion.  I give you library X, you call method y from class Z.  What runtime exceptions should you catch?","body":"And the client will know about the exception how exactly?  Follow it through to the logical conclusion.  I give you library X, you call method y from class Z.  What runtime exceptions should you catch?"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1379927164,"post_id":613954,"comment_id":27994018,"body_markdown":"I personally like checked exceptions very much, these help me to recognize potential problems in my code very early. But one thing I hate about it is that the throws declaration is also a part of function signatures. This can really get you in a problem with no solution at all. Thats the thing I think most programmers don&#39;t like.","body":"I personally like checked exceptions very much, these help me to recognize potential problems in my code very early. But one thing I hate about it is that the throws declaration is also a part of function signatures. This can really get you in a problem with no solution at all. Thats the thing I think most programmers don&#39;t like."},{"owner":{"account_id":3317875,"reputation":1910,"user_id":2789762,"accept_rate":84,"display_name":"Kevin"},"score":0,"creation_date":1438735295,"post_id":613954,"comment_id":51567934,"body_markdown":"By reading its contract? Exceptions are part of a methods contract, checked or not. You catch the exceptions you can actually do something about.","body":"By reading its contract? Exceptions are part of a methods contract, checked or not. You catch the exceptions you can actually do something about."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":2,"creation_date":1438845138,"post_id":613954,"comment_id":51618734,"body_markdown":"That is the issue @Kevin, if you add a 3rd party library that doesn&#39;t document the exceptions then what? The whole point of checked exceptions is to avoid programmer mistakes... using unchecked exceptions for things that should be dealt with (things that are not programmer errors) negates that.","body":"That is the issue @Kevin, if you add a 3rd party library that doesn&#39;t document the exceptions then what? The whole point of checked exceptions is to avoid programmer mistakes... using unchecked exceptions for things that should be dealt with (things that are not programmer errors) negates that."},{"owner":{"account_id":3317875,"reputation":1910,"user_id":2789762,"accept_rate":84,"display_name":"Kevin"},"score":0,"creation_date":1438866476,"post_id":613954,"comment_id":51632631,"body_markdown":"@TofuBeer Even if you are using checked exceptions, if you don&#39;t document exceptions (outside of the method header itself) and under what specific conditions they occur, they wouldn&#39;t know how to deal with your exceptions either. The problem isn&#39;t checked vs unchecked exceptions, but one of documentation.","body":"@TofuBeer Even if you are using checked exceptions, if you don&#39;t document exceptions (outside of the method header itself) and under what specific conditions they occur, they wouldn&#39;t know how to deal with your exceptions either. The problem isn&#39;t checked vs unchecked exceptions, but one of documentation."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":3,"creation_date":1439434554,"post_id":613954,"comment_id":51863296,"body_markdown":"Checked exceptions encourage documentation, and, in the event they are not documented they are still known about. Unchecked exceptions can more easily not be documented and, worse, not be known about until they happen in a production environment.","body":"Checked exceptions encourage documentation, and, in the event they are not documented they are still known about. Unchecked exceptions can more easily not be documented and, worse, not be known about until they happen in a production environment."},{"owner":{"account_id":3647525,"reputation":1431,"user_id":3040381,"accept_rate":100,"display_name":"Honinbo Shusaku"},"score":0,"creation_date":1490816566,"post_id":613954,"comment_id":73287183,"body_markdown":"@DimitriC. That is how I feel as a C# developer now!","body":"@DimitriC. That is how I feel as a C# developer now!"},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":0,"creation_date":1496795371,"post_id":613954,"comment_id":75803081,"body_markdown":"&quot;VM has a peanut allergy and someone dropped a jar of peanuts on it&quot; - Yup, you definitely want your machine to die without the possibility of recovery at the most critical moments... I don&#39;t see anything wrong with that.. NEVER USE ERROR","body":"&quot;VM has a peanut allergy and someone dropped a jar of peanuts on it&quot; - Yup, you definitely want your machine to die without the possibility of recovery at the most critical moments... I don&#39;t see anything wrong with that.. NEVER USE ERROR"},{"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"score":0,"creation_date":1507560273,"post_id":613954,"comment_id":80247362,"body_markdown":"It seems nobody noticed the problem with interfaces. If you implement an interface, you can only throw the exceptions that are declared in the interface. Making it impossible to react to an error with checked exception in many different cases. See my answer.","body":"It seems nobody noticed the problem with interfaces. If you implement an interface, you can only throw the exceptions that are declared in the interface. Making it impossible to react to an error with checked exception in many different cases. See my answer."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":6,"creation_date":1555035367,"post_id":613954,"comment_id":97976963,"body_markdown":"The strongest argument I know *for* checked exceptions is that they weren&#39;t originally there in Java, and that when they were introduced they discovered hundreds of bugs in the JDK. This is somewhat prior to Java 1.0. I personally would not be without them, and disagree violently with Bruce Eckel and others on this.","body":"The strongest argument I know <i>for</i> checked exceptions is that they weren&#39;t originally there in Java, and that when they were introduced they discovered hundreds of bugs in the JDK. This is somewhat prior to Java 1.0. I personally would not be without them, and disagree violently with Bruce Eckel and others on this."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":1,"creation_date":1578481363,"post_id":613954,"comment_id":105449915,"body_markdown":"@user207421 in my experience, most anything Bruce Eckel says is wrong when it comes to Java...","body":"@user207421 in my experience, most anything Bruce Eckel says is wrong when it comes to Java..."},{"owner":{"account_id":5984980,"reputation":396,"user_id":4702788,"display_name":"Jorge Viana"},"score":1,"creation_date":1590244381,"post_id":613954,"comment_id":109610534,"body_markdown":"This is the question. Many libraries don&#39;t throw checked exceptions, so the programmer is not aware of everything that can go wrong and prepare for it. Unless he/she reads the source code, but who reads any kind of documentation? Unless they test really carefully, but who crafts tests like they are a very important thing? To both questions I guess the answer is only a few.","body":"This is the question. Many libraries don&#39;t throw checked exceptions, so the programmer is not aware of everything that can go wrong and prepare for it. Unless he/she reads the source code, but who reads any kind of documentation? Unless they test really carefully, but who crafts tests like they are a very important thing? To both questions I guess the answer is only a few."},{"owner":{"account_id":17056343,"reputation":1021,"user_id":12442137,"display_name":"Captain Jack Sparrow"},"score":0,"creation_date":1646327065,"post_id":613954,"comment_id":126101240,"body_markdown":"There are some methods I have to call that throw certain exceptions that I **KNOW** will **NEVER** happen because of the params I pass. Those are okay to catch and ignore.","body":"There are some methods I have to call that throw certain exceptions that I <b>KNOW</b> will <b>NEVER</b> happen because of the params I pass. Those are okay to catch and ignore."},{"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"score":0,"creation_date":1685722259,"post_id":613954,"comment_id":134705725,"body_markdown":"Language and library authors &quot;assume&quot; that programmer will &quot;always&quot; want to handle a particular type of error, and that too &quot;immediately&quot;. Totally wrong assumptions given the infinite ways real world programmers actually use exceptions.","body":"Language and library authors &quot;assume&quot; that programmer will &quot;always&quot; want to handle a particular type of error, and that too &quot;immediately&quot;. Totally wrong assumptions given the infinite ways real world programmers actually use exceptions."}],"answers":[{"tags":[],"owner":{"account_id":1268,"reputation":8420,"user_id":1685,"accept_rate":89,"display_name":"tsimon"},"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1236244035,"creation_date":1236244035,"answer_id":614046,"question_id":613954,"body_markdown":"I initially agreed with you, as I&#39;ve always been in favour of checked exceptions, and began to think about why I don&#39;t like not having checked exceptions in .Net. But then I realised that I don&#39;t infact like checked exceptions.\r\n\r\nTo answer you question, yes, I like my programs to show stack traces, preferably really ugly ones. I want the application to explode into a horrible heap of the ugliest error messages you could ever want to see.\r\n\r\nAnd the reason is because, if it does that, I have to fix it, and I have to fix it right away. I want to know immediately that there is a problem.\r\n\r\nHow many times do you actually handle exceptions? I&#39;m not talking about catching exceptions -- I&#39;m talking about handling them? It&#39;s too easy to write the following:\r\n\r\n    try {\r\n      thirdPartyMethod();\r\n    } catch(TPException e) {\r\n      // this should never happen\r\n    }\r\n\r\nAnd I know you can say that it&#39;s bad practice, and that &#39;the answer&#39; is to do something with the exception (let me guess, log it?), but in the Real World (tm), most programmers just don&#39;t do it.\r\n\r\nSo yes, I don&#39;t want to catch exceptions if I don&#39;t have to do so, and I want my program to blow up spectacularly when I screw up. Silently failing is the worst  possible outcome.","title":"The case against checked exceptions","body":"<p>I initially agreed with you, as I've always been in favour of checked exceptions, and began to think about why I don't like not having checked exceptions in .Net. But then I realised that I don't infact like checked exceptions.</p>\n\n<p>To answer you question, yes, I like my programs to show stack traces, preferably really ugly ones. I want the application to explode into a horrible heap of the ugliest error messages you could ever want to see.</p>\n\n<p>And the reason is because, if it does that, I have to fix it, and I have to fix it right away. I want to know immediately that there is a problem.</p>\n\n<p>How many times do you actually handle exceptions? I'm not talking about catching exceptions -- I'm talking about handling them? It's too easy to write the following:</p>\n\n<pre><code>try {\n  thirdPartyMethod();\n} catch(TPException e) {\n  // this should never happen\n}\n</code></pre>\n\n<p>And I know you can say that it's bad practice, and that 'the answer' is to do something with the exception (let me guess, log it?), but in the Real World (tm), most programmers just don't do it.</p>\n\n<p>So yes, I don't want to catch exceptions if I don't have to do so, and I want my program to blow up spectacularly when I screw up. Silently failing is the worst  possible outcome.</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":9,"up_vote_count":9,"is_accepted":false,"score":0,"last_activity_date":1362617339,"creation_date":1236244371,"answer_id":614057,"question_id":613954,"body_markdown":"[Here][1]&#39;s one argument against checked exceptions (from joelonsoftware.com):\r\n\r\n&gt; The reasoning is that I consider exceptions to be no better than\r\n&gt; &quot;goto&#39;s&quot;, considered harmful since the 1960s, in that they create an\r\n&gt; abrupt jump from one point of code to another. In fact they are\r\n&gt; significantly worse than goto&#39;s:\r\n&gt; \r\n&gt;* They are invisible in the source code. Looking at a block of code,\r\n&gt; including functions which may or may not throw exceptions, there is no\r\n&gt; way to see which exceptions might be thrown and from where. This means\r\n&gt; that even careful code inspection doesn&#39;t reveal potential bugs.\r\n&gt;* They create too many possible exit points for a function. To write correct\r\n&gt; code, you really have to think about every possible code path through\r\n&gt; your function. Every time you call a function that can raise an\r\n&gt; exception and don&#39;t catch it on the spot, you create opportunities for\r\n&gt; surprise bugs caused by functions that terminated abruptly, leaving\r\n&gt; data in an inconsistent state, or other code paths that you didn&#39;t\r\n&gt; think about.\r\n\r\n  [1]: http://www.joelonsoftware.com/items/2003/10/13.html","title":"The case against checked exceptions","body":"<p><a href=\"http://www.joelonsoftware.com/items/2003/10/13.html\" rel=\"nofollow noreferrer\">Here</a>'s one argument against checked exceptions (from joelonsoftware.com):</p>\n\n<blockquote>\n  <p>The reasoning is that I consider exceptions to be no better than\n  \"goto's\", considered harmful since the 1960s, in that they create an\n  abrupt jump from one point of code to another. In fact they are\n  significantly worse than goto's:</p>\n  \n  <ul>\n  <li>They are invisible in the source code. Looking at a block of code,\n  including functions which may or may not throw exceptions, there is no\n  way to see which exceptions might be thrown and from where. This means\n  that even careful code inspection doesn't reveal potential bugs.</li>\n  <li>They create too many possible exit points for a function. To write correct\n  code, you really have to think about every possible code path through\n  your function. Every time you call a function that can raise an\n  exception and don't catch it on the spot, you create opportunities for\n  surprise bugs caused by functions that terminated abruptly, leaving\n  data in an inconsistent state, or other code paths that you didn't\n  think about.</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1710,"reputation":18740,"user_id":2309,"accept_rate":79,"display_name":"Mario Orteg&#243;n"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1236247224,"creation_date":1236246012,"answer_id":614119,"question_id":613954,"body_markdown":"I have been working with several developers in the last three years in relatively complex applications.  We have a code base that uses Checked Exceptions quite often with proper error handling, and some other that doesn&#39;t.\r\n\r\nSo far, I have it found easier to work with the code base with Checked Exceptions.  When I am using someone else&#39;s API, it is nice that I can see exactly what kind of error conditions I can expect when I call the code and handle them properly, either by logging, displaying or ignoring (Yes, there is valid cases for ignoring exceptions, such as a ClassLoader implementation). That gives the code I am writing an opportunity to recover. All runtime exceptions I propagate up until they are cached and handled with some generic error handling code.  When I find a checked exception that I don&#39;t really want to handle at a specific level, or that I consider a programming logic error, then I wrap it into a RuntimeException and let it bubble up. Never, ever swallow an exception without a good reason (and good reasons for doing this are rather scarce) \r\n\r\nWhen I work with the codebase that does not have checked exceptions, it makes it to me a little bit harder to know before hand what can I expect when calling the function, which can break some stuff terribly.\r\n\r\nThis is all of course a matter of preference and developer skill.  Both ways of programming and error handling can be equally effective (or noneffective), so I wouldn&#39;t say that there is The One Way.\r\n\r\nAll in all, I find it easier to work with Checked Exceptions, specially in large projects with lot of developers.","title":"The case against checked exceptions","body":"<p>I have been working with several developers in the last three years in relatively complex applications.  We have a code base that uses Checked Exceptions quite often with proper error handling, and some other that doesn't.</p>\n\n<p>So far, I have it found easier to work with the code base with Checked Exceptions.  When I am using someone else's API, it is nice that I can see exactly what kind of error conditions I can expect when I call the code and handle them properly, either by logging, displaying or ignoring (Yes, there is valid cases for ignoring exceptions, such as a ClassLoader implementation). That gives the code I am writing an opportunity to recover. All runtime exceptions I propagate up until they are cached and handled with some generic error handling code.  When I find a checked exception that I don't really want to handle at a specific level, or that I consider a programming logic error, then I wrap it into a RuntimeException and let it bubble up. Never, ever swallow an exception without a good reason (and good reasons for doing this are rather scarce) </p>\n\n<p>When I work with the codebase that does not have checked exceptions, it makes it to me a little bit harder to know before hand what can I expect when calling the function, which can break some stuff terribly.</p>\n\n<p>This is all of course a matter of preference and developer skill.  Both ways of programming and error handling can be equally effective (or noneffective), so I wouldn't say that there is The One Way.</p>\n\n<p>All in all, I find it easier to work with Checked Exceptions, specially in large projects with lot of developers.</p>\n"},{"tags":[],"owner":{"account_id":16746,"reputation":14632,"user_id":36805,"accept_rate":84,"display_name":"Richard Levasseur"},"down_vote_count":3,"up_vote_count":51,"is_accepted":false,"score":48,"last_activity_date":1249667637,"creation_date":1236246037,"answer_id":614122,"question_id":613954,"body_markdown":"Well, it&#39;s not about displaying a stacktrace or silently crashing.  It&#39;s about being able to communicate errors between layers.\r\n\r\nThe problem with checked exceptions is they encourage people to swallow important details (namely, the exception class).  If you choose not to swallow that detail, then you have to  keep adding throws declarations across your whole app.  This means 1) that a new exception type will affect lots of function signatures, and 2) you can miss a specific instance of the exception you actually -want- to catch (say you open a secondary file for a function that writes data to a file.  The secondary file is optional, so you can ignore its errors, but because the signature `throws IOException`, it&#39;s easy to overlook this).\r\n\r\nI&#39;m actually dealing with this situation now in an application.  We repackaged almost exceptions as AppSpecificException.  This made signatures really clean and we didn&#39;t have to worry about exploding `throws` in signatures.\r\n\r\nOf course, now we need to specialize the error handling at the higher levels, implementing retry logic and such.  Everything is AppSpecificException, though, so we can&#39;t say &quot;If an IOException is thrown, retry&quot; or &quot;If ClassNotFound is thrown, abort completely&quot;.  We don&#39;t have a reliable way of getting to the _real_ exception because things get repackaged again and again as they pass between our code and third-party code.\r\n\r\nThis is why I&#39;m a big fan of the exception handling in python.  You can catch only the things you want and/or can handle.  Everything else bubbles up as if you rethrew it yourself (which you have done anyways).\r\n\r\nI&#39;ve found, time and time again, and throughout the project I mentioned, that exception handling falls into 3 categories:\r\n\r\n 1. Catch and handle a _specific_ exception.  This is to implement retry logic, for example.\r\n 2. Catch and rethrow _other_ exceptions.  All that happens here is usually logging, and its usually a trite message like &quot;Unable to open $filename&quot;.  These are errors you can&#39;t do anything about; only a higher levels knows enough to handle it.\r\n 3. Catch everything and display an error message.  This is usually at the very root of a dispatcher, and all it does it make sure it can communicate the error to the caller via a non-Exception mechanism (popup dialogue, marshaling an RPC Error object, etc).","title":"The case against checked exceptions","body":"<p>Well, it's not about displaying a stacktrace or silently crashing.  It's about being able to communicate errors between layers.</p>\n\n<p>The problem with checked exceptions is they encourage people to swallow important details (namely, the exception class).  If you choose not to swallow that detail, then you have to  keep adding throws declarations across your whole app.  This means 1) that a new exception type will affect lots of function signatures, and 2) you can miss a specific instance of the exception you actually -want- to catch (say you open a secondary file for a function that writes data to a file.  The secondary file is optional, so you can ignore its errors, but because the signature <code>throws IOException</code>, it's easy to overlook this).</p>\n\n<p>I'm actually dealing with this situation now in an application.  We repackaged almost exceptions as AppSpecificException.  This made signatures really clean and we didn't have to worry about exploding <code>throws</code> in signatures.</p>\n\n<p>Of course, now we need to specialize the error handling at the higher levels, implementing retry logic and such.  Everything is AppSpecificException, though, so we can't say \"If an IOException is thrown, retry\" or \"If ClassNotFound is thrown, abort completely\".  We don't have a reliable way of getting to the <em>real</em> exception because things get repackaged again and again as they pass between our code and third-party code.</p>\n\n<p>This is why I'm a big fan of the exception handling in python.  You can catch only the things you want and/or can handle.  Everything else bubbles up as if you rethrew it yourself (which you have done anyways).</p>\n\n<p>I've found, time and time again, and throughout the project I mentioned, that exception handling falls into 3 categories:</p>\n\n<ol>\n<li>Catch and handle a <em>specific</em> exception.  This is to implement retry logic, for example.</li>\n<li>Catch and rethrow <em>other</em> exceptions.  All that happens here is usually logging, and its usually a trite message like \"Unable to open $filename\".  These are errors you can't do anything about; only a higher levels knows enough to handle it.</li>\n<li>Catch everything and display an error message.  This is usually at the very root of a dispatcher, and all it does it make sure it can communicate the error to the caller via a non-Exception mechanism (popup dialogue, marshaling an RPC Error object, etc).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1236247240,"creation_date":1236247240,"answer_id":614174,"question_id":613954,"body_markdown":"I think that this is an excellent question and not at all argumentative. I think that 3rd party libraries should (in general) throw *unchecked* exceptions. This means that you can isolate your dependencies on the library (i.e. you don&#39;t have to either re-throw their exceptions or throw `Exception` - usually bad practice). Spring&#39;s [DAO layer][1] is an excellent example of this.\r\n\r\nOn the other hand, exceptions from the core Java API should in general be checked if they could **ever** be handled. Take `FileNotFoundException` or (my favourite) `InterruptedException`. These conditions should *almost always* be handled specifically (i.e. your reaction to an `InterruptedException` is not the same as your reaction to an `IllegalArgumentException`). The fact that your exceptions are checked forces developers to think about whether a condition is handle-able or not. (That said, I&#39;ve rarely seen `InterruptedException` handled properly!)\r\n\r\nOne more thing - a `RuntimeException` is not always &quot;where a developer got something wrong&quot;. An illegal argument exception is thrown when you try and create an `enum` using `valueOf` and there&#39;s no `enum` of that name. This is not necessarily a mistake by the developer!\r\n\r\n  [1]: http://static.springframework.org/spring/docs/2.0.x/reference/jdbc.html","title":"The case against checked exceptions","body":"<p>I think that this is an excellent question and not at all argumentative. I think that 3rd party libraries should (in general) throw <em>unchecked</em> exceptions. This means that you can isolate your dependencies on the library (i.e. you don't have to either re-throw their exceptions or throw <code>Exception</code> - usually bad practice). Spring's <a href=\"http://static.springframework.org/spring/docs/2.0.x/reference/jdbc.html\" rel=\"nofollow noreferrer\">DAO layer</a> is an excellent example of this.</p>\n\n<p>On the other hand, exceptions from the core Java API should in general be checked if they could <strong>ever</strong> be handled. Take <code>FileNotFoundException</code> or (my favourite) <code>InterruptedException</code>. These conditions should <em>almost always</em> be handled specifically (i.e. your reaction to an <code>InterruptedException</code> is not the same as your reaction to an <code>IllegalArgumentException</code>). The fact that your exceptions are checked forces developers to think about whether a condition is handle-able or not. (That said, I've rarely seen <code>InterruptedException</code> handled properly!)</p>\n\n<p>One more thing - a <code>RuntimeException</code> is not always \"where a developer got something wrong\". An illegal argument exception is thrown when you try and create an <code>enum</code> using <code>valueOf</code> and there's no <code>enum</code> of that name. This is not necessarily a mistake by the developer!</p>\n"},{"tags":[],"owner":{"account_id":9403,"reputation":16337,"user_id":17360,"accept_rate":92,"display_name":"Chuck Conway"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1236247373,"creation_date":1236247373,"answer_id":614181,"question_id":613954,"body_markdown":"Anders speaks about the pitfalls of checked exceptions and why he left them out of C# in [episode 97][1] of Software Engineering radio. \r\n\r\n\r\n  [1]: http://www.se-radio.net/podcast/2008-05/episode-97-interview-anders-hejlsberg","title":"The case against checked exceptions","body":"<p>Anders speaks about the pitfalls of checked exceptions and why he left them out of C# in <a href=\"http://www.se-radio.net/podcast/2008-05/episode-97-interview-anders-hejlsberg\" rel=\"nofollow noreferrer\">episode 97</a> of Software Engineering radio. </p>\n"},{"tags":[],"owner":{"account_id":27931,"reputation":547,"user_id":74164,"display_name":"Le Dude"},"down_vote_count":3,"up_vote_count":26,"is_accepted":false,"score":23,"last_activity_date":1236249298,"creation_date":1236249298,"answer_id":614269,"question_id":613954,"body_markdown":"Artima [published an interview][1] with one of the architects of .NET, Anders Hejlsberg, which acutely covers the arguments against checked exceptions.  A short taster:\r\n\r\n&gt; The throws clause, at least the way it&#39;s implemented in Java, doesn&#39;t necessarily force you to handle the exceptions, but if you don&#39;t handle them, it forces you to acknowledge precisely which exceptions might pass through. It requires you to either catch declared exceptions or put them in your own throws clause. To work around this requirement, people do ridiculous things. For example, they decorate every method with, &quot;throws Exception.&quot; That just completely defeats the feature, and you just made the programmer write more gobbledy gunk. That doesn&#39;t help anybody.\r\n\r\n\r\n  [1]: http://www.artima.com/intv/handcuffs.html","title":"The case against checked exceptions","body":"<p>Artima <a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"noreferrer\">published an interview</a> with one of the architects of .NET, Anders Hejlsberg, which acutely covers the arguments against checked exceptions.  A short taster:</p>\n\n<blockquote>\n  <p>The throws clause, at least the way it's implemented in Java, doesn't necessarily force you to handle the exceptions, but if you don't handle them, it forces you to acknowledge precisely which exceptions might pass through. It requires you to either catch declared exceptions or put them in your own throws clause. To work around this requirement, people do ridiculous things. For example, they decorate every method with, \"throws Exception.\" That just completely defeats the feature, and you just made the programmer write more gobbledy gunk. That doesn't help anybody.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11985,"reputation":3551,"user_id":23370,"display_name":"David Lichteblau"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1236249604,"creation_date":1236249604,"answer_id":614280,"question_id":613954,"body_markdown":"In short:\r\n\r\n*Exceptions are an API design question.*  -- No more, no less.\r\n\r\n**The argument for checked exceptions:**\r\n\r\nTo understand why checked exceptions might not be good thing, let&#39;s turn the question around and ask: When or why are checked exceptions attractive, i.e. why would you want the compiler to enforce declaration of exceptions?\r\n\r\nThe answer is obvious: Sometimes you *need* to catch an exception, and that is only possible if the code being called offers a specific exception class for the error that you are interested in.\r\n\r\nHence, the argument **for** checked exceptions is that the compiler forces programmers to declare which exceptions are thrown, and **hopefully** the programmer will then also document specific exception classes and the errors that cause them.\r\n\r\nIn reality though, ever too often a package `com.acme` only throws an `AcmeException` rather than specific subclasses.  Callers then need to handle, declare, or re-signal `AcmeExceptions`, but still cannot be certain whether an `AcmeFileNotFoundError` happened or an `AcmePermissionDeniedError`.\r\n\r\nSo if you&#39;re only interested in an `AcmeFileNotFoundError`, the solution is to file a feature request with the ACME programmers and tell them to implement, declare, and document that subclass of `AcmeException`.\r\n\r\n**So why bother?**\r\n\r\nHence, even with checked exceptions, the compiler cannot force programmers to throw **useful** exceptions.  It is still just a question of the API&#39;s quality.\r\n\r\nAs a result, languages without checked exceptions usually do not fare much worse.  Programmers might be tempted to throw unspecific instances of a general `Error` class rather than an `AcmeException`, but if they care at all about their API quality, they will learn to introduce an `AcmeFileNotFoundError` after all.\r\n\r\nOverall, the specification and documentation of exceptions is not much different from the specification and documentation of, say, ordinary methods.  Those, too, are an API design question, and if a programmer forgot to implement or export a useful feature, the API needs to be improved so that you can work with it usefully.\r\n\r\nIf you follow this line of reasoning, it should be obvious that the &quot;hassle&quot; of declaring, catching, and re-throwing of exceptions that is so common in languages like Java often adds little value.\r\n\r\nIt is also worth noting that the Java VM does *not* have checked exceptions -- only the Java compiler checks them, and class files with changed exception declarations are compatible at run time.  Java VM security is not improved by checked exceptions, only coding style.\r\n","title":"The case against checked exceptions","body":"<p>In short:</p>\n\n<p><em>Exceptions are an API design question.</em>  -- No more, no less.</p>\n\n<p><strong>The argument for checked exceptions:</strong></p>\n\n<p>To understand why checked exceptions might not be good thing, let's turn the question around and ask: When or why are checked exceptions attractive, i.e. why would you want the compiler to enforce declaration of exceptions?</p>\n\n<p>The answer is obvious: Sometimes you <em>need</em> to catch an exception, and that is only possible if the code being called offers a specific exception class for the error that you are interested in.</p>\n\n<p>Hence, the argument <strong>for</strong> checked exceptions is that the compiler forces programmers to declare which exceptions are thrown, and <strong>hopefully</strong> the programmer will then also document specific exception classes and the errors that cause them.</p>\n\n<p>In reality though, ever too often a package <code>com.acme</code> only throws an <code>AcmeException</code> rather than specific subclasses.  Callers then need to handle, declare, or re-signal <code>AcmeExceptions</code>, but still cannot be certain whether an <code>AcmeFileNotFoundError</code> happened or an <code>AcmePermissionDeniedError</code>.</p>\n\n<p>So if you're only interested in an <code>AcmeFileNotFoundError</code>, the solution is to file a feature request with the ACME programmers and tell them to implement, declare, and document that subclass of <code>AcmeException</code>.</p>\n\n<p><strong>So why bother?</strong></p>\n\n<p>Hence, even with checked exceptions, the compiler cannot force programmers to throw <strong>useful</strong> exceptions.  It is still just a question of the API's quality.</p>\n\n<p>As a result, languages without checked exceptions usually do not fare much worse.  Programmers might be tempted to throw unspecific instances of a general <code>Error</code> class rather than an <code>AcmeException</code>, but if they care at all about their API quality, they will learn to introduce an <code>AcmeFileNotFoundError</code> after all.</p>\n\n<p>Overall, the specification and documentation of exceptions is not much different from the specification and documentation of, say, ordinary methods.  Those, too, are an API design question, and if a programmer forgot to implement or export a useful feature, the API needs to be improved so that you can work with it usefully.</p>\n\n<p>If you follow this line of reasoning, it should be obvious that the \"hassle\" of declaring, catching, and re-throwing of exceptions that is so common in languages like Java often adds little value.</p>\n\n<p>It is also worth noting that the Java VM does <em>not</em> have checked exceptions -- only the Java compiler checks them, and class files with changed exception declarations are compatible at run time.  Java VM security is not improved by checked exceptions, only coding style.</p>\n"},{"tags":[],"owner":{"account_id":10108,"reputation":530017,"user_id":18936,"display_name":"bobince"},"down_vote_count":10,"up_vote_count":229,"is_accepted":false,"score":219,"last_activity_date":1424161050,"creation_date":1236250779,"answer_id":614330,"question_id":613954,"body_markdown":"The thing about checked exceptions is that they are not really exceptions by the usual understanding of the concept. Instead, they are API alternative return values.\r\n\r\nThe whole idea of exceptions is that an error thrown somewhere way down the call chain can bubble up and be handled by code somewhere further up, without the intervening code having to worry about it. Checked exceptions, on the other hand, require every level of code between the thrower and the catcher to declare they know about all forms of exception that can go through them. This is really little different in practice to if checked exceptions were simply special return values which the caller had to check for. eg.[pseudocode]:\r\n\r\n    public [int or IOException] writeToStream(OutputStream stream) {\r\n        [void or IOException] a= stream.write(mybytes);\r\n        if (a instanceof IOException)\r\n            return a;\r\n        return mybytes.length;\r\n    }\r\n\r\nSince Java can&#39;t do alternative return values, or simple inline tuples as return values, checked exceptions are are a reasonable response.\r\n\r\nThe problem is that a lot of code, including great swathes of the standard library, misuse checked exceptions for real exceptional conditions that you might very well want to catch several levels up. Why is IOException not a RuntimeException? In every other language I can let an IO exception happen, and if I do nothing to handle it, my application will stop and I&#39;ll get a handy stack trace to look at. This is the best thing that can happen.\r\n\r\nMaybe two methods up from the example you want to catch all IOExceptions from the whole writing-to-stream process, abort the process and jump into the error reporting code; in Java you can&#39;t do that without adding ‘throws IOException’ at every call level, even levels that themselves do no IO. Such methods should not need to know about the exception handling; having to add exceptions to their signatures:\r\n\r\n1. unnecessarily increases coupling;\r\n2. makes interface signatures very brittle to change;\r\n3. makes the code less readable;\r\n4. is so annoying that it the common programmer reaction is to defeat the system by doing something horrible like ‘throws Exception’, ‘catch (Exception e) {}’, or wrapping everything in a RuntimeException (which makes debugging harder).\r\n\r\nAnd then there&#39;s plenty of just ridiculous library exceptions like:\r\n\r\n    try {\r\n        httpconn.setRequestMethod(&quot;POST&quot;);\r\n    } catch (ProtocolException e) {\r\n        throw new CanNeverHappenException(&quot;oh dear!&quot;);\r\n    }\r\n\r\nWhen you have to clutter up your code with ludicrous crud like this, it is no wonder checked exceptions receive a bunch of hate, even though really this is just simple poor API design.\r\n\r\nAnother particular bad effect is on Inversion of Control, where component A supplies a callback to generic component B. Component A wants to be able to let an exception throw from its callback back to the place where it called component B, but it can&#39;t because that would change the callback interface which is fixed by B. A can only do it by wrapping the real exception in a RuntimeException, which is yet more exception-handling boilerplate to write.\r\n\r\nChecked exceptions as implemented in Java and its standard library mean boilerplate, boilerplate, boilerplate. In an already verbose language this is not a win.\r\n","title":"The case against checked exceptions","body":"<p>The thing about checked exceptions is that they are not really exceptions by the usual understanding of the concept. Instead, they are API alternative return values.</p>\n\n<p>The whole idea of exceptions is that an error thrown somewhere way down the call chain can bubble up and be handled by code somewhere further up, without the intervening code having to worry about it. Checked exceptions, on the other hand, require every level of code between the thrower and the catcher to declare they know about all forms of exception that can go through them. This is really little different in practice to if checked exceptions were simply special return values which the caller had to check for. eg.[pseudocode]:</p>\n\n<pre><code>public [int or IOException] writeToStream(OutputStream stream) {\n    [void or IOException] a= stream.write(mybytes);\n    if (a instanceof IOException)\n        return a;\n    return mybytes.length;\n}\n</code></pre>\n\n<p>Since Java can't do alternative return values, or simple inline tuples as return values, checked exceptions are are a reasonable response.</p>\n\n<p>The problem is that a lot of code, including great swathes of the standard library, misuse checked exceptions for real exceptional conditions that you might very well want to catch several levels up. Why is IOException not a RuntimeException? In every other language I can let an IO exception happen, and if I do nothing to handle it, my application will stop and I'll get a handy stack trace to look at. This is the best thing that can happen.</p>\n\n<p>Maybe two methods up from the example you want to catch all IOExceptions from the whole writing-to-stream process, abort the process and jump into the error reporting code; in Java you can't do that without adding ‘throws IOException’ at every call level, even levels that themselves do no IO. Such methods should not need to know about the exception handling; having to add exceptions to their signatures:</p>\n\n<ol>\n<li>unnecessarily increases coupling;</li>\n<li>makes interface signatures very brittle to change;</li>\n<li>makes the code less readable;</li>\n<li>is so annoying that it the common programmer reaction is to defeat the system by doing something horrible like ‘throws Exception’, ‘catch (Exception e) {}’, or wrapping everything in a RuntimeException (which makes debugging harder).</li>\n</ol>\n\n<p>And then there's plenty of just ridiculous library exceptions like:</p>\n\n<pre><code>try {\n    httpconn.setRequestMethod(\"POST\");\n} catch (ProtocolException e) {\n    throw new CanNeverHappenException(\"oh dear!\");\n}\n</code></pre>\n\n<p>When you have to clutter up your code with ludicrous crud like this, it is no wonder checked exceptions receive a bunch of hate, even though really this is just simple poor API design.</p>\n\n<p>Another particular bad effect is on Inversion of Control, where component A supplies a callback to generic component B. Component A wants to be able to let an exception throw from its callback back to the place where it called component B, but it can't because that would change the callback interface which is fixed by B. A can only do it by wrapping the real exception in a RuntimeException, which is yet more exception-handling boilerplate to write.</p>\n\n<p>Checked exceptions as implemented in Java and its standard library mean boilerplate, boilerplate, boilerplate. In an already verbose language this is not a win.</p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":7,"up_vote_count":96,"is_accepted":false,"score":89,"last_activity_date":1236253469,"creation_date":1236253469,"answer_id":614438,"question_id":613954,"body_markdown":"Rather than rehash all the (many) reasons against checked exceptions, I&#39;ll pick just one.  I&#39;ve lost count of the number of times I&#39;ve written this block of code:\r\n\r\n    try {\r\n      // do stuff\r\n    } catch (AnnoyingcheckedException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n\r\n99% of the time I can&#39;t do anything about it.  Finally blocks do any necessary cleanup (or at least they should).\r\n\r\nI&#39;ve also lost count of the number of times I&#39;ve seen this:\r\n\r\n    try {\r\n      // do stuff\r\n    } catch (AnnoyingCheckedException e) {\r\n      // do nothing\r\n    }\r\n\r\nWhy?  Because someone had to deal with it and was lazy.  Was it wrong?  Sure.  Does it happen?  Absolutely.  What if this were an unchecked exception instead?  The app would&#39;ve just died (which is preferable to swallowing an exception).\r\n\r\nAnd then we have infuriating code that uses exceptions as a form of flow control, like [java.text.Format][1] does.  Bzzzt.  Wrong.  A user putting &quot;abc&quot; into a number field on a form is not an exception.\r\n\r\nOk, i guess that was three reasons.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/Format.html#parseObject(java.lang.String)","title":"The case against checked exceptions","body":"<p>Rather than rehash all the (many) reasons against checked exceptions, I'll pick just one.  I've lost count of the number of times I've written this block of code:</p>\n\n<pre><code>try {\n  // do stuff\n} catch (AnnoyingcheckedException e) {\n  throw new RuntimeException(e);\n}\n</code></pre>\n\n<p>99% of the time I can't do anything about it.  Finally blocks do any necessary cleanup (or at least they should).</p>\n\n<p>I've also lost count of the number of times I've seen this:</p>\n\n<pre><code>try {\n  // do stuff\n} catch (AnnoyingCheckedException e) {\n  // do nothing\n}\n</code></pre>\n\n<p>Why?  Because someone had to deal with it and was lazy.  Was it wrong?  Sure.  Does it happen?  Absolutely.  What if this were an unchecked exception instead?  The app would've just died (which is preferable to swallowing an exception).</p>\n\n<p>And then we have infuriating code that uses exceptions as a form of flow control, like <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/Format.html#parseObject(java.lang.String)\" rel=\"noreferrer\">java.text.Format</a> does.  Bzzzt.  Wrong.  A user putting \"abc\" into a number field on a form is not an exception.</p>\n\n<p>Ok, i guess that was three reasons.</p>\n"},{"tags":[],"owner":{"account_id":10764,"reputation":34965,"user_id":20479,"accept_rate":17,"display_name":"Rhubarb"},"down_vote_count":15,"up_vote_count":344,"is_accepted":false,"score":329,"last_activity_date":1623445457,"creation_date":1236254629,"answer_id":614494,"question_id":613954,"body_markdown":"I think I read the same Bruce Eckel interview that you did - and it&#39;s always bugged me. In fact, the argument was made by the interviewee (if this is indeed the post you&#39;re talking about) Anders Hejlsberg, the MS genius behind .NET and C#.\r\n\r\n&gt; http://www.artima.com/intv/handcuffs.html\r\n\r\nFan though I am of Hejlsberg and his work, this argument has always struck me as bogus. It basically boils down to: \r\n\r\n&gt; &quot;Checked exceptions are bad because programmers just abuse them by always catching them and dismissing them which leads to problems being hidden and ignored that would otherwise be presented to the user&quot;. \r\n\r\nBy *&quot;otherwise presented to the user&quot;* I mean if you use a runtime exception the lazy programmer will just ignore it (versus catching it with an empty catch block) and the user will see it.\r\n\r\nThe summary of the argument is that *&quot;Programmers won&#39;t use them properly and not using them properly is worse than not having them&quot;*.\r\n\r\nThere is some truth to this argument and in fact, I suspect Goslings motivation for not putting operator overrides in Java comes from a similar argument - they confuse the programmer because they are often abused.\r\n\r\nBut in the end, I find it a bogus argument of Hejlsberg&#39;s and possibly a post-hoc one created to explain the lack rather than a well thought out decision.\r\n\r\nI would argue that while the over-use of checked exceptions is a bad thing and tends to lead to sloppy handling by users, but the proper use of them allows the API programmer to give great benefit to the API client programmer.\r\n\r\nNow the API programmer has to be careful not to throw checked exceptions all over the place, or they will simply annoy the client programmer. The very lazy client programmer will resort to catch `(Exception) {}` as Hejlsberg warns and all benefit will be lost and hell will ensue.\r\nBut in some circumstances, there&#39;s just no substitute for a good checked exception. \r\n\r\nFor me, the classic example is the file-open API. Every programming language in the history of languages (on file systems at least) has an API somewhere that lets you open a file. And every client programmer using this API knows that they have to deal with the case that the file they are trying to open doesn&#39;t exist. \r\nLet me rephrase that: Every client programmer using this API *should know* that they have to deal with this case. \r\nAnd there&#39;s the rub: can the API programmer help them know they should deal with it through commenting alone or can they indeed *insist* the client deal with it.\r\n\r\nIn C the idiom goes something like\r\n\r\n      if (f = fopen(&quot;goodluckfindingthisfile&quot;)) { ... } \r\n      else { // file not found ...\r\n\r\n\r\nwhere `fopen` indicates failure by returning 0 and C (foolishly) lets you treat 0 as a boolean and... Basically, you learn this idiom and you&#39;re okay. But what if you&#39;re a noob and you didn&#39;t learn the idiom. Then, of course, you start out with\r\n\r\n       f = fopen(&quot;goodluckfindingthisfile&quot;);\r\n       f.read(); // BANG! \r\n\r\nand learn the hard way.\r\n\r\nNote that we&#39;re only talking about strongly typed languages here: There&#39;s a clear idea of what an API is in a strongly typed language: It&#39;s a smorgasbord of functionality (methods) for you to use with a clearly defined protocol for each one.\r\n\r\nThat clearly defined protocol is typically defined by a method signature. \r\nHere fopen requires that you pass it a string (or a char* in the case of C). If you give it something else you get a compile-time error. You didn&#39;t follow the protocol - you&#39;re not using the API properly.\r\n\r\nIn some (obscure) languages the return type is part of the protocol too. If you try to call the equivalent of `fopen()` in some languages without assigning it to a variable you&#39;ll also get a compile-time error (you can only do that with void functions).\r\n\r\nThe point I&#39;m trying to make is that: *In a statically typed language the API programmer encourages the client to use the API properly by preventing their client code from compiling if it makes any obvious mistakes.*\r\n\r\n(In a dynamically typed language, like Ruby, you can pass anything, say a float, as the file name - and it will compile. Why hassle the user with checked exceptions if you&#39;re not even going to control the method arguments. The arguments made here apply to statically-typed languages only.)\r\n\r\nSo, what about checked exceptions?\r\n\r\nWell here&#39;s one of the Java APIs you can use for opening a file.\r\n\r\n    try {\r\n      f = new FileInputStream(&quot;goodluckfindingthisfile&quot;);\r\n    }\r\n    catch (FileNotFoundException e) {\r\n      // deal with it. No really, deal with it!\r\n      ... // this is me dealing with it\r\n    }\r\n\r\nSee that catch? Here&#39;s the signature for that API method:\r\n\r\n    public FileInputStream(String name)\r\n                    throws FileNotFoundException\r\n\r\nNote that `FileNotFoundException` is a *checked* exception.\r\n\r\nThe API programmer is saying this to you:\r\n  &quot;You may use this constructor to create a new FileInputStream but you \r\n  \r\n\r\n a) *must* pass in the file name as a\r\n    String    \r\nb) *must* accept the\r\n    possibility that the file might not\r\n    be found at runtime&quot;\r\n\r\nAnd that&#39;s the whole point as far as I&#39;m concerned.\r\n\r\nThe key is basically what the question states as &quot;Things that are out of the programmer&#39;s control&quot;. My first thought was that he/she means things that are out of the *API* programmers control. But in fact, checked exceptions when used properly should really be for things that are out of both the client programmer&#39;s and the API programmer&#39;s control. I think this is the key to not abusing checked exceptions.\r\n\r\nI think the file-open illustrates the point nicely. The API programmer knows you might give them a file name that turns out to be nonexistent at the time the API is called, and that they won&#39;t be able to return you what you wanted, but will have to throw an exception. They also know that this will happen pretty regularly and that the client programmer might expect the file name to be correct at the time they wrote the call, but it might be wrong at runtime for reasons beyond their control too.\r\n\r\nSo the API makes it explicit: There will be cases where this file doesn&#39;t exist at the time you call me and you had damn well better deal with it.\r\n\r\nThis would be clearer with a counter-case. Imagine I&#39;m writing a table API. I have the table model somewhere with an API including this method:\r\n\r\n    public RowData getRowData(int row) \r\n\r\nNow as an API programmer I know there will be cases where some client passes in a negative value for the row or a row value outside of the table. So I might be tempted to throw a checked exception and force the client to deal with it:\r\n\r\n    public RowData getRowData(int row) throws CheckedInvalidRowNumberException\r\n\r\n(I wouldn&#39;t really call it &quot;Checked&quot; of course.)\r\n\r\nThis is bad use of checked exceptions. The client code is going to be full of calls to fetch row data, every one of which is going to have to use a try/catch, and for what? Are they going to report to the user that the wrong row was sought? Probably not - because whatever the UI surrounding my table view is, it shouldn&#39;t let the user get into a state where an illegal row is being requested. So it&#39;s a bug on the part of the client programmer. \r\n\r\nThe API programmer can still predict that the client will code such bugs and should handle it with a runtime exception like an `IllegalArgumentException`. \r\n\r\nWith a checked exception in `getRowData`, this is clearly a case that&#39;s going to lead to Hejlsberg&#39;s lazy programmer simply adding empty catches. When that happens, the illegal row values will not be obvious even to the tester or the client developer debugging, rather they&#39;ll lead to knock-on errors that are hard to pinpoint the source of. Arianne rockets will blow up after launch. \r\n\r\nOkay, so here&#39;s the problem: I&#39;m saying that the checked exception `FileNotFoundException` is not just a good thing but an essential tool in the API programmers toolbox for defining the API in the most useful way for the client programmer. But the `CheckedInvalidRowNumberException` is a big inconvenience, leading to bad programming and should be avoided. But how to tell the difference. \r\n\r\nI guess it&#39;s not an exact science and I guess that underlies and perhaps justifies to a certain extent Hejlsberg&#39;s argument. But I&#39;m not happy throwing the baby out with the bathwater here, so allow me to extract some rules here to distinguish good checked exceptions from bad:\r\n\r\n 1. Out of client&#39;s control or Closed vs Open: \r\n\r\n    Checked exceptions should only be used where the error case is out of control of both the API *and* the client programmer.\r\n    This has to do with how *open* or *closed* the system is. In a *constrained* UI where the client programmer has control, say, over all of the buttons, keyboard commands etc that add and delete rows from the table view (a closed system), it is a client programming bug if it attempts to fetch data from a nonexistent row. In a file-based operating system where any number of users/applications can add and delete files (an open system), it is conceivable that the file the client is requesting has been deleted without their knowledge so they should be expected to deal with it.  \r\n\r\n 2. Ubiquity:\r\n\r\n    Checked exceptions should not be used on an API call that is made frequently by the client.\r\n    By frequently I mean from a lot of places in the client code - not frequently in time. So a client code doesn&#39;t tend to try to open the same file a lot, but my table view gets `RowData` all over the place from different methods. In particular, I&#39;m going to be writing a lot of code like\r\n \r\n        if (model.getRowData().getCell(0).isEmpty())\r\n\r\n   and it will be painful to have to wrap in try/catch every time.\r\n\r\n 3. Informing the User:\r\n\r\n    Checked exceptions should be used in cases where you can imagine a useful error message being presented to the end user. \r\n    This is the *&quot;and what will you do when it happens?&quot;* question I raised above. It also relates to item 1. Since you can predict that something outside of your client-API system might cause the file to not be there, you can reasonably tell the user about it:\r\n\r\n        &quot;Error: could not find the file &#39;goodluckfindingthisfile&#39;&quot;\r\n\r\n    Since your illegal row number was caused by an internal bug and through no fault of the user, there&#39;s really no useful information you can give them. If your app doesn&#39;t let runtime exceptions fall through to the console it will probably end up giving them some ugly message like:\r\n\r\n        &quot;Internal error occured: IllegalArgumentException in ....&quot;\r\n\r\n    In short, if you don&#39;t think your client programmer can explain your exception in a way that helps the user, then you should probably not be using a checked exception.\r\n\r\n\r\nSo those are my rules. Somewhat contrived, and there will doubtless be exceptions (please help me refine them if you will). But my main argument is that there are cases like `FileNotFoundException` where the checked exception is as important and useful a part of the API contract as the parameter types. So we should not dispense with it just because it is misused. \r\n\r\nSorry, didn&#39;t mean to make this so long and waffly. Let me finish with two suggestions:\r\n\r\nA: API programmers: use checked exceptions sparingly to preserve their usefulness. When in doubt use an unchecked exception.\r\n\r\nB: Client programmers: get in the habit of creating a wrapped exception (google it) early on in your development. JDK 1.4 and later provide a constructor in `RuntimeException` for this, but you can easily create your own too. Here&#39;s the constructor:\r\n\r\n    public RuntimeException(Throwable cause)\r\n\r\nThen get in the habit of whenever you have to handle a checked exception and you&#39;re feeling lazy (or you think the API programmer was overzealous in using the checked exception in the first place), don&#39;t just swallow the exception, wrap it and rethrow it.\r\n\r\n    try {\r\n      overzealousAPI(thisArgumentWontWork);\r\n    }\r\n    catch (OverzealousCheckedException exception) {\r\n      throw new RuntimeException(exception);  \r\n    }\r\n\r\nPut this in one of your IDE&#39;s little code templates and use it when you&#39;re feeling lazy. This way if you really need to handle the checked exception you&#39;ll be forced to come back and deal with it after seeing the problem at runtime. Because, believe me (and Anders Hejlsberg), you&#39;re never going to come back to that TODO in your\r\n\r\n    catch (Exception e) { /* TODO deal with this at some point (yeah right) */}\r\n\r\n","title":"The case against checked exceptions","body":"<p>I think I read the same Bruce Eckel interview that you did - and it's always bugged me. In fact, the argument was made by the interviewee (if this is indeed the post you're talking about) Anders Hejlsberg, the MS genius behind .NET and C#.</p>\n<blockquote>\n<p><a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"noreferrer\">http://www.artima.com/intv/handcuffs.html</a></p>\n</blockquote>\n<p>Fan though I am of Hejlsberg and his work, this argument has always struck me as bogus. It basically boils down to:</p>\n<blockquote>\n<p>&quot;Checked exceptions are bad because programmers just abuse them by always catching them and dismissing them which leads to problems being hidden and ignored that would otherwise be presented to the user&quot;.</p>\n</blockquote>\n<p>By <em>&quot;otherwise presented to the user&quot;</em> I mean if you use a runtime exception the lazy programmer will just ignore it (versus catching it with an empty catch block) and the user will see it.</p>\n<p>The summary of the argument is that <em>&quot;Programmers won't use them properly and not using them properly is worse than not having them&quot;</em>.</p>\n<p>There is some truth to this argument and in fact, I suspect Goslings motivation for not putting operator overrides in Java comes from a similar argument - they confuse the programmer because they are often abused.</p>\n<p>But in the end, I find it a bogus argument of Hejlsberg's and possibly a post-hoc one created to explain the lack rather than a well thought out decision.</p>\n<p>I would argue that while the over-use of checked exceptions is a bad thing and tends to lead to sloppy handling by users, but the proper use of them allows the API programmer to give great benefit to the API client programmer.</p>\n<p>Now the API programmer has to be careful not to throw checked exceptions all over the place, or they will simply annoy the client programmer. The very lazy client programmer will resort to catch <code>(Exception) {}</code> as Hejlsberg warns and all benefit will be lost and hell will ensue.\nBut in some circumstances, there's just no substitute for a good checked exception.</p>\n<p>For me, the classic example is the file-open API. Every programming language in the history of languages (on file systems at least) has an API somewhere that lets you open a file. And every client programmer using this API knows that they have to deal with the case that the file they are trying to open doesn't exist.\nLet me rephrase that: Every client programmer using this API <em>should know</em> that they have to deal with this case.\nAnd there's the rub: can the API programmer help them know they should deal with it through commenting alone or can they indeed <em>insist</em> the client deal with it.</p>\n<p>In C the idiom goes something like</p>\n<pre><code>  if (f = fopen(&quot;goodluckfindingthisfile&quot;)) { ... } \n  else { // file not found ...\n</code></pre>\n<p>where <code>fopen</code> indicates failure by returning 0 and C (foolishly) lets you treat 0 as a boolean and... Basically, you learn this idiom and you're okay. But what if you're a noob and you didn't learn the idiom. Then, of course, you start out with</p>\n<pre><code>   f = fopen(&quot;goodluckfindingthisfile&quot;);\n   f.read(); // BANG! \n</code></pre>\n<p>and learn the hard way.</p>\n<p>Note that we're only talking about strongly typed languages here: There's a clear idea of what an API is in a strongly typed language: It's a smorgasbord of functionality (methods) for you to use with a clearly defined protocol for each one.</p>\n<p>That clearly defined protocol is typically defined by a method signature.\nHere fopen requires that you pass it a string (or a char* in the case of C). If you give it something else you get a compile-time error. You didn't follow the protocol - you're not using the API properly.</p>\n<p>In some (obscure) languages the return type is part of the protocol too. If you try to call the equivalent of <code>fopen()</code> in some languages without assigning it to a variable you'll also get a compile-time error (you can only do that with void functions).</p>\n<p>The point I'm trying to make is that: <em>In a statically typed language the API programmer encourages the client to use the API properly by preventing their client code from compiling if it makes any obvious mistakes.</em></p>\n<p>(In a dynamically typed language, like Ruby, you can pass anything, say a float, as the file name - and it will compile. Why hassle the user with checked exceptions if you're not even going to control the method arguments. The arguments made here apply to statically-typed languages only.)</p>\n<p>So, what about checked exceptions?</p>\n<p>Well here's one of the Java APIs you can use for opening a file.</p>\n<pre><code>try {\n  f = new FileInputStream(&quot;goodluckfindingthisfile&quot;);\n}\ncatch (FileNotFoundException e) {\n  // deal with it. No really, deal with it!\n  ... // this is me dealing with it\n}\n</code></pre>\n<p>See that catch? Here's the signature for that API method:</p>\n<pre><code>public FileInputStream(String name)\n                throws FileNotFoundException\n</code></pre>\n<p>Note that <code>FileNotFoundException</code> is a <em>checked</em> exception.</p>\n<p>The API programmer is saying this to you:\n&quot;You may use this constructor to create a new FileInputStream but you</p>\n<p>a) <em>must</em> pass in the file name as a\nString<br />\nb) <em>must</em> accept the\npossibility that the file might not\nbe found at runtime&quot;</p>\n<p>And that's the whole point as far as I'm concerned.</p>\n<p>The key is basically what the question states as &quot;Things that are out of the programmer's control&quot;. My first thought was that he/she means things that are out of the <em>API</em> programmers control. But in fact, checked exceptions when used properly should really be for things that are out of both the client programmer's and the API programmer's control. I think this is the key to not abusing checked exceptions.</p>\n<p>I think the file-open illustrates the point nicely. The API programmer knows you might give them a file name that turns out to be nonexistent at the time the API is called, and that they won't be able to return you what you wanted, but will have to throw an exception. They also know that this will happen pretty regularly and that the client programmer might expect the file name to be correct at the time they wrote the call, but it might be wrong at runtime for reasons beyond their control too.</p>\n<p>So the API makes it explicit: There will be cases where this file doesn't exist at the time you call me and you had damn well better deal with it.</p>\n<p>This would be clearer with a counter-case. Imagine I'm writing a table API. I have the table model somewhere with an API including this method:</p>\n<pre><code>public RowData getRowData(int row) \n</code></pre>\n<p>Now as an API programmer I know there will be cases where some client passes in a negative value for the row or a row value outside of the table. So I might be tempted to throw a checked exception and force the client to deal with it:</p>\n<pre><code>public RowData getRowData(int row) throws CheckedInvalidRowNumberException\n</code></pre>\n<p>(I wouldn't really call it &quot;Checked&quot; of course.)</p>\n<p>This is bad use of checked exceptions. The client code is going to be full of calls to fetch row data, every one of which is going to have to use a try/catch, and for what? Are they going to report to the user that the wrong row was sought? Probably not - because whatever the UI surrounding my table view is, it shouldn't let the user get into a state where an illegal row is being requested. So it's a bug on the part of the client programmer.</p>\n<p>The API programmer can still predict that the client will code such bugs and should handle it with a runtime exception like an <code>IllegalArgumentException</code>.</p>\n<p>With a checked exception in <code>getRowData</code>, this is clearly a case that's going to lead to Hejlsberg's lazy programmer simply adding empty catches. When that happens, the illegal row values will not be obvious even to the tester or the client developer debugging, rather they'll lead to knock-on errors that are hard to pinpoint the source of. Arianne rockets will blow up after launch.</p>\n<p>Okay, so here's the problem: I'm saying that the checked exception <code>FileNotFoundException</code> is not just a good thing but an essential tool in the API programmers toolbox for defining the API in the most useful way for the client programmer. But the <code>CheckedInvalidRowNumberException</code> is a big inconvenience, leading to bad programming and should be avoided. But how to tell the difference.</p>\n<p>I guess it's not an exact science and I guess that underlies and perhaps justifies to a certain extent Hejlsberg's argument. But I'm not happy throwing the baby out with the bathwater here, so allow me to extract some rules here to distinguish good checked exceptions from bad:</p>\n<ol>\n<li><p>Out of client's control or Closed vs Open:</p>\n<p>Checked exceptions should only be used where the error case is out of control of both the API <em>and</em> the client programmer.\nThis has to do with how <em>open</em> or <em>closed</em> the system is. In a <em>constrained</em> UI where the client programmer has control, say, over all of the buttons, keyboard commands etc that add and delete rows from the table view (a closed system), it is a client programming bug if it attempts to fetch data from a nonexistent row. In a file-based operating system where any number of users/applications can add and delete files (an open system), it is conceivable that the file the client is requesting has been deleted without their knowledge so they should be expected to deal with it.</p>\n</li>\n<li><p>Ubiquity:</p>\n<p>Checked exceptions should not be used on an API call that is made frequently by the client.\nBy frequently I mean from a lot of places in the client code - not frequently in time. So a client code doesn't tend to try to open the same file a lot, but my table view gets <code>RowData</code> all over the place from different methods. In particular, I'm going to be writing a lot of code like</p>\n<pre><code>if (model.getRowData().getCell(0).isEmpty())\n</code></pre>\n</li>\n</ol>\n<p>and it will be painful to have to wrap in try/catch every time.</p>\n<ol start=\"3\">\n<li><p>Informing the User:</p>\n<p>Checked exceptions should be used in cases where you can imagine a useful error message being presented to the end user.\nThis is the <em>&quot;and what will you do when it happens?&quot;</em> question I raised above. It also relates to item 1. Since you can predict that something outside of your client-API system might cause the file to not be there, you can reasonably tell the user about it:</p>\n<pre><code>&quot;Error: could not find the file 'goodluckfindingthisfile'&quot;\n</code></pre>\n<p>Since your illegal row number was caused by an internal bug and through no fault of the user, there's really no useful information you can give them. If your app doesn't let runtime exceptions fall through to the console it will probably end up giving them some ugly message like:</p>\n<pre><code>&quot;Internal error occured: IllegalArgumentException in ....&quot;\n</code></pre>\n<p>In short, if you don't think your client programmer can explain your exception in a way that helps the user, then you should probably not be using a checked exception.</p>\n</li>\n</ol>\n<p>So those are my rules. Somewhat contrived, and there will doubtless be exceptions (please help me refine them if you will). But my main argument is that there are cases like <code>FileNotFoundException</code> where the checked exception is as important and useful a part of the API contract as the parameter types. So we should not dispense with it just because it is misused.</p>\n<p>Sorry, didn't mean to make this so long and waffly. Let me finish with two suggestions:</p>\n<p>A: API programmers: use checked exceptions sparingly to preserve their usefulness. When in doubt use an unchecked exception.</p>\n<p>B: Client programmers: get in the habit of creating a wrapped exception (google it) early on in your development. JDK 1.4 and later provide a constructor in <code>RuntimeException</code> for this, but you can easily create your own too. Here's the constructor:</p>\n<pre><code>public RuntimeException(Throwable cause)\n</code></pre>\n<p>Then get in the habit of whenever you have to handle a checked exception and you're feeling lazy (or you think the API programmer was overzealous in using the checked exception in the first place), don't just swallow the exception, wrap it and rethrow it.</p>\n<pre><code>try {\n  overzealousAPI(thisArgumentWontWork);\n}\ncatch (OverzealousCheckedException exception) {\n  throw new RuntimeException(exception);  \n}\n</code></pre>\n<p>Put this in one of your IDE's little code templates and use it when you're feeling lazy. This way if you really need to handle the checked exception you'll be forced to come back and deal with it after seeing the problem at runtime. Because, believe me (and Anders Hejlsberg), you're never going to come back to that TODO in your</p>\n<pre><code>catch (Exception e) { /* TODO deal with this at some point (yeah right) */}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27383,"reputation":8900,"user_id":72211,"accept_rate":100,"display_name":"Kurt Schelfthout"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1412950688,"creation_date":1236255782,"answer_id":614558,"question_id":613954,"body_markdown":"Indeed, checked exceptions on the one hand increase robustness and correctness of your program (you&#39;re forced to make correct declarations of your interfaces -the exceptions a method throws are basically a special return type). On the other hand you face the problem that, since exceptions &quot;bubble up&quot;, very often you need to change a whole lot of methods (all the callers, and the callers of the callers, and so on) when you change the exceptions one method throws.\r\n\r\nChecked exceptions in Java do not solve the latter problem; C# and VB.NET throw out the baby with the bathwater.\r\n\r\nA nice approach that takes the middle road is described in [this OOPSLA 2005 paper][1] (or the [related technical report][2].)\r\n\r\nIn short, it allows you to say: `method g(x) throws like f(x)`, which means that g throws all the exceptions f throws. Voila, checked exceptions without the cascading changes problem.\r\n\r\nAlthough it is an academic paper, I&#39;d encourage you to read (parts of) it, as it does a good job of explaining what the benefits and downsides of checked exceptions are.\r\n\r\n\r\n  [1]: https://dl.acm.org/citation.cfm?id=1094847\r\n  [2]: http://www.cs.kuleuven.be/publicaties/rapporten/cw/CW407.pdf","title":"The case against checked exceptions","body":"<p>Indeed, checked exceptions on the one hand increase robustness and correctness of your program (you're forced to make correct declarations of your interfaces -the exceptions a method throws are basically a special return type). On the other hand you face the problem that, since exceptions \"bubble up\", very often you need to change a whole lot of methods (all the callers, and the callers of the callers, and so on) when you change the exceptions one method throws.</p>\n\n<p>Checked exceptions in Java do not solve the latter problem; C# and VB.NET throw out the baby with the bathwater.</p>\n\n<p>A nice approach that takes the middle road is described in <a href=\"https://dl.acm.org/citation.cfm?id=1094847\" rel=\"nofollow noreferrer\">this OOPSLA 2005 paper</a> (or the <a href=\"http://www.cs.kuleuven.be/publicaties/rapporten/cw/CW407.pdf\" rel=\"nofollow noreferrer\">related technical report</a>.)</p>\n\n<p>In short, it allows you to say: <code>method g(x) throws like f(x)</code>, which means that g throws all the exceptions f throws. Voila, checked exceptions without the cascading changes problem.</p>\n\n<p>Although it is an academic paper, I'd encourage you to read (parts of) it, as it does a good job of explaining what the benefits and downsides of checked exceptions are.</p>\n"},{"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1289774585,"creation_date":1236257814,"answer_id":614648,"question_id":613954,"body_markdown":"The article [Effective Java Exceptions][1] explains nicely when to use unchecked and when to use checked exceptions. Here are some quotes from that article to highlight the main points:\n\n&gt; **Contingency:**\n&gt; An expected condition demanding an alternative response from a method that can be expressed in terms of the method&#39;s intended purpose. The caller of the method expects these kinds of conditions and has a strategy for coping with them.\n&gt;\n&gt; **Fault:**\n&gt; An unplanned condition that prevents a method from achieving its intended purpose that cannot be described without reference to the method&#39;s internal implementation.\n\n(SO doesn&#39;t allow tables, so you might want to read the following from the [original page][2]...)\n\n&gt; \n&gt; **Contingency**\n&gt; \n&gt; - Is considered to be: A part of the design\n&gt; - Is expected to happen:  Regularly but rarely\n&gt; - Who cares about it: The upstream code that invokes the method\n&gt; - Examples:   Alternative return modes\n&gt; - Best Mapping:   A checked exception\n&gt; \n&gt; **Fault**\n&gt; \n&gt; - Is considered to be:    A nasty surprise\n&gt; - Is expected to happen:  Never\n&gt; - Who cares about it: The people who need to fix the problem\n&gt; - Examples:   Programming bugs, hardware malfunctions, configuration mistakes,\n&gt; missing files, unavailable servers\n&gt; - Best Mapping:   An unchecked exception\n\n\n\n  [1]: http://www.oracle.com/technetwork/articles/entarch/effective-exceptions-092345.html\n  [2]: http://www.oracle.com/technetwork/articles/entarch/effective-exceptions2-097044.html","title":"The case against checked exceptions","body":"<p>The article <a href=\"http://www.oracle.com/technetwork/articles/entarch/effective-exceptions-092345.html\" rel=\"noreferrer\">Effective Java Exceptions</a> explains nicely when to use unchecked and when to use checked exceptions. Here are some quotes from that article to highlight the main points:</p>\n<blockquote>\n<p><strong>Contingency:</strong>\nAn expected condition demanding an alternative response from a method that can be expressed in terms of the method's intended purpose. The caller of the method expects these kinds of conditions and has a strategy for coping with them.</p>\n<p><strong>Fault:</strong>\nAn unplanned condition that prevents a method from achieving its intended purpose that cannot be described without reference to the method's internal implementation.</p>\n</blockquote>\n<p>(SO doesn't allow tables, so you might want to read the following from the <a href=\"http://www.oracle.com/technetwork/articles/entarch/effective-exceptions2-097044.html\" rel=\"noreferrer\">original page</a>...)</p>\n<blockquote>\n<p><strong>Contingency</strong></p>\n<ul>\n<li>Is considered to be: A part of the design</li>\n<li>Is expected to happen:  Regularly but rarely</li>\n<li>Who cares about it: The upstream code that invokes the method</li>\n<li>Examples:   Alternative return modes</li>\n<li>Best Mapping:   A checked exception</li>\n</ul>\n<p><strong>Fault</strong></p>\n<ul>\n<li>Is considered to be:    A nasty surprise</li>\n<li>Is expected to happen:  Never</li>\n<li>Who cares about it: The people who need to fix the problem</li>\n<li>Examples:   Programming bugs, hardware malfunctions, configuration mistakes,\nmissing files, unavailable servers</li>\n<li>Best Mapping:   An unchecked exception</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1236273739,"creation_date":1236273282,"answer_id":615715,"question_id":613954,"body_markdown":"A problem with checked exceptions is that exceptions are often attached to methods of an interface if even one implementation of that interface uses it.\r\n\r\nAnother problem with checked exceptions is that they tend to be misused.  The perfect example of this is in [`java.sql.Connection`][1]&#39;s [`close()`][2] method.  It can throw a [`SQLException`][3], even though you&#39;ve already **explicitly stated** that you&#39;re done with the Connection.  What information could close() possibly convey that you&#39;d care about?\r\n\r\nUsually, when I close() a connection`*`, it looks something like this:\r\n\r\n    try {\r\n        conn.close();\r\n    } catch (SQLException ex) {\r\n        // Do nothing\r\n    }\r\n\r\nAlso, don&#39;t get me started on the various parse methods and NumberFormatException... .NET&#39;s TryParse, which doesn&#39;t throw exceptions, is so much easier to use it&#39;s painful to have to go back to Java (we use both Java and C# where I work).\r\n\r\n`*`As an additional comment, a PooledConnection&#39;s Connection.close() doesn&#39;t even *close* a connection, but you still have to catch the SQLException due to it being a checked exception.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/sql/Connection.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#close()\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/sql/SQLException.html\r\n","title":"The case against checked exceptions","body":"<p>A problem with checked exceptions is that exceptions are often attached to methods of an interface if even one implementation of that interface uses it.</p>\n\n<p>Another problem with checked exceptions is that they tend to be misused.  The perfect example of this is in <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Connection.html\" rel=\"nofollow noreferrer\"><code>java.sql.Connection</code></a>'s <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#close()\" rel=\"nofollow noreferrer\"><code>close()</code></a> method.  It can throw a <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/SQLException.html\" rel=\"nofollow noreferrer\"><code>SQLException</code></a>, even though you've already <strong>explicitly stated</strong> that you're done with the Connection.  What information could close() possibly convey that you'd care about?</p>\n\n<p>Usually, when I close() a connection<code>*</code>, it looks something like this:</p>\n\n<pre><code>try {\n    conn.close();\n} catch (SQLException ex) {\n    // Do nothing\n}\n</code></pre>\n\n<p>Also, don't get me started on the various parse methods and NumberFormatException... .NET's TryParse, which doesn't throw exceptions, is so much easier to use it's painful to have to go back to Java (we use both Java and C# where I work).</p>\n\n<p><code>*</code>As an additional comment, a PooledConnection's Connection.close() doesn't even <em>close</em> a connection, but you still have to catch the SQLException due to it being a checked exception.</p>\n"},{"tags":[],"owner":{"account_id":9886,"reputation":16495,"user_id":18437,"accept_rate":78,"display_name":"Luke Quinane"},"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1499710517,"creation_date":1238556332,"answer_id":703944,"question_id":613954,"body_markdown":"## SNR ##\r\n\r\nFirstly, checked exceptions decrease the &quot;signal-to-noise ratio&quot; for the code. Anders Hejlsberg also talks about imperative vs declarative programming which is a similar concept. Anyway consider the following code snippets:\r\n\r\nUpdate UI from non UI-thread in Java:\r\n\r\n    try {  \r\n        // Run the update code on the Swing thread  \r\n        SwingUtilities.invokeAndWait(() -&gt; {  \r\n            try {\r\n                // Update UI value from the file system data  \r\n                FileUtility f = new FileUtility();  \r\n                uiComponent.setValue(f.readSomething());\r\n            } catch (IOException e) {  \r\n                throw new UncheckedIOException(e);\r\n            }\r\n        });\r\n    } catch (InterruptedException ex) {  \r\n        throw new IllegalStateException(&quot;Interrupted updating UI&quot;, ex);  \r\n    } catch (InvocationTargetException ex) {\r\n        throw new IllegalStateException(&quot;Invocation target exception updating UI&quot;, ex);\r\n    }\r\n\r\nUpdate UI from non UI-thread in C#:\r\n\r\n    private void UpdateValue()  \r\n    {  \r\n       // Ensure the update happens on the UI thread  \r\n       if (InvokeRequired)  \r\n       {  \r\n           Invoke(new MethodInvoker(UpdateValue));  \r\n       }  \r\n       else  \r\n       {  \r\n           // Update UI value from the file system data  \r\n           FileUtility f = new FileUtility();  \r\n           uiComponent.Value = f.ReadSomething();  \r\n       }  \r\n    }  \r\n\r\nWhich seems a lot clearer to me. When you start to do more and more UI work in Swing checked exceptions start to become really annoying and useless.\r\n\r\n## Jail Break ##\r\n\r\n\r\nTo implement even the most basic of implementations, such as Java&#39;s List interface, checked exceptions as a tool for design by contract fall down. Consider a list that is backed by a database or a filesystem or any other implementation that throws a checked exception. The only possible implementation is to catch the checked exception and rethrow it as an unchecked exception:\r\n\r\n    @Override\r\n    public void clear()  \r\n    {  \r\n       try  \r\n       {  \r\n           backingImplementation.clear();  \r\n       }  \r\n       catch (CheckedBackingImplException ex)  \r\n       {  \r\n           throw new IllegalStateException(&quot;Error clearing underlying list.&quot;, ex);  \r\n       }  \r\n    }  \r\n\r\nAnd now you have to ask what is the point of all that code? The checked exceptions just add noise, the exception has been caught but not handled and design by contract (in terms of checked exceptions) has broken down.\r\n\r\n## Conclusion ##\r\n\r\n - Catching exceptions is different to handling them.\r\n - Checked exceptions add noise to the code.\r\n - Exception handling works well in C# without them.\r\n \r\nI blogged about this [previously][1].\r\n\r\n\r\n  [1]: http://lukequinane.blogspot.com/2009/03/java-exceptions.html","title":"The case against checked exceptions","body":"<h2>SNR</h2>\n\n<p>Firstly, checked exceptions decrease the \"signal-to-noise ratio\" for the code. Anders Hejlsberg also talks about imperative vs declarative programming which is a similar concept. Anyway consider the following code snippets:</p>\n\n<p>Update UI from non UI-thread in Java:</p>\n\n<pre><code>try {  \n    // Run the update code on the Swing thread  \n    SwingUtilities.invokeAndWait(() -&gt; {  \n        try {\n            // Update UI value from the file system data  \n            FileUtility f = new FileUtility();  \n            uiComponent.setValue(f.readSomething());\n        } catch (IOException e) {  \n            throw new UncheckedIOException(e);\n        }\n    });\n} catch (InterruptedException ex) {  \n    throw new IllegalStateException(\"Interrupted updating UI\", ex);  \n} catch (InvocationTargetException ex) {\n    throw new IllegalStateException(\"Invocation target exception updating UI\", ex);\n}\n</code></pre>\n\n<p>Update UI from non UI-thread in C#:</p>\n\n<pre><code>private void UpdateValue()  \n{  \n   // Ensure the update happens on the UI thread  \n   if (InvokeRequired)  \n   {  \n       Invoke(new MethodInvoker(UpdateValue));  \n   }  \n   else  \n   {  \n       // Update UI value from the file system data  \n       FileUtility f = new FileUtility();  \n       uiComponent.Value = f.ReadSomething();  \n   }  \n}  \n</code></pre>\n\n<p>Which seems a lot clearer to me. When you start to do more and more UI work in Swing checked exceptions start to become really annoying and useless.</p>\n\n<h2>Jail Break</h2>\n\n<p>To implement even the most basic of implementations, such as Java's List interface, checked exceptions as a tool for design by contract fall down. Consider a list that is backed by a database or a filesystem or any other implementation that throws a checked exception. The only possible implementation is to catch the checked exception and rethrow it as an unchecked exception:</p>\n\n<pre><code>@Override\npublic void clear()  \n{  \n   try  \n   {  \n       backingImplementation.clear();  \n   }  \n   catch (CheckedBackingImplException ex)  \n   {  \n       throw new IllegalStateException(\"Error clearing underlying list.\", ex);  \n   }  \n}  \n</code></pre>\n\n<p>And now you have to ask what is the point of all that code? The checked exceptions just add noise, the exception has been caught but not handled and design by contract (in terms of checked exceptions) has broken down.</p>\n\n<h2>Conclusion</h2>\n\n<ul>\n<li>Catching exceptions is different to handling them.</li>\n<li>Checked exceptions add noise to the code.</li>\n<li>Exception handling works well in C# without them.</li>\n</ul>\n\n<p>I blogged about this <a href=\"http://lukequinane.blogspot.com/2009/03/java-exceptions.html\" rel=\"noreferrer\">previously</a>.</p>\n"},{"tags":[],"owner":{"account_id":26972,"reputation":2815,"user_id":70665,"accept_rate":86,"display_name":"Martin"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1516981876,"creation_date":1242591340,"answer_id":875399,"question_id":613954,"body_markdown":"As folks have already stated, checked exceptions don&#39;t exist in Java bytecode. They are simply a compiler mechanism, not unlike other syntax checks. I see checked exceptions a lot like I see the compiler complaining about a redundant conditional: `if(true) { a; } b;`. That&#39;s helpful but I might have done this on purpose, so let me ignore your warnings.\r\n\r\nThe fact of the matter is, you aren&#39;t going to be able to force every programmer to &quot;do the right thing&quot; if you enforce checked exceptions and everyone else is now collateral damage who just hates you for the rule you made.\r\n\r\nFix the bad programs out there! Don&#39;t try to fix the language to not allow them! For most folks, &quot;doing something about an exception&quot; is really just telling the user about it. I can tell the user about an unchecked exception just as well, so keep your checked exception classes out of my API.","title":"The case against checked exceptions","body":"<p>As folks have already stated, checked exceptions don't exist in Java bytecode. They are simply a compiler mechanism, not unlike other syntax checks. I see checked exceptions a lot like I see the compiler complaining about a redundant conditional: <code>if(true) { a; } b;</code>. That's helpful but I might have done this on purpose, so let me ignore your warnings.</p>\n\n<p>The fact of the matter is, you aren't going to be able to force every programmer to \"do the right thing\" if you enforce checked exceptions and everyone else is now collateral damage who just hates you for the rule you made.</p>\n\n<p>Fix the bad programs out there! Don't try to fix the language to not allow them! For most folks, \"doing something about an exception\" is really just telling the user about it. I can tell the user about an unchecked exception just as well, so keep your checked exception classes out of my API.</p>\n"},{"tags":[],"owner":{"account_id":37283,"reputation":3124,"user_id":106550,"accept_rate":67,"display_name":"adrian.tarau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1242617766,"creation_date":1242617766,"answer_id":876162,"question_id":613954,"body_markdown":"I&#39;ve read a lot about exception handling, even if (most of the time) I cannot really say I&#39;m happy or sad about the existence of checked exceptions this is my take : checked exceptions in low-level code(IO, networking, OS, etc) and unchecked exceptions in high-level APIs/application level. \r\n\r\nEven if there is not so easy to draw a line between them, I find that it is really annoying/difficult to integrate several APIs/libraries under the same roof without wrapping all the time lots of checked exceptions but on the other hand, sometime it is useful/better to be forced to catch some exception and provide a different one which makes more sense in the current context.\r\n\r\nThe project I&#39;m working on takes lots of libraries and integrates them under the same API, API which is completely based on unchecked exceptions.This frameworks provides a high-level API which in the beginning was full of checked exceptions and had only several unchecked exceptions(Initialization Exception, ConfigurationException, etc) and I must say was not very *friendly*. Most of the time you had to catch or re-throw exceptions which you don&#39;t know how to handle, or you don&#39;t even care(not to be confused with you should ignore exceptions), especially on the client side where a single click could throw 10 possible (checked) exceptions.\r\n\r\nThe current version(3rd one) uses only unchecked exceptions, and it has a global exception handler which is responsible to handle anything uncaught. The API provides a way to register exception handlers, which will decide if an exception is considered an error(most of the time this is the case) which means log &amp; notify somebody, or it can mean something else - like this exception, AbortException, which means break the current execution thread and don&#39;t log any error &#39;cause it is desired not to. Of course, in order to work out all custom thread must handle the run() method with a try {...} catch(all).\r\n\r\npublic void run() {\r\n\r\n    try {\r\n         ... do something ...\r\n    } catch (Throwable throwable) {\r\n         ApplicationContext.getExceptionService().handleException(&quot;Handle this exception&quot;, throwable);\r\n    }\r\n}\r\n\r\nThis is not necessary if you use the WorkerService to schedule jobs(Runnable, Callable, Worker), which handles everything for you.\r\n\r\nOf course this is just my opinion, and it might not be the right one, but it looks like a good approach to me. I will see after I will release the project if what I think it is good for me, it is good for others too... :)","title":"The case against checked exceptions","body":"<p>I've read a lot about exception handling, even if (most of the time) I cannot really say I'm happy or sad about the existence of checked exceptions this is my take : checked exceptions in low-level code(IO, networking, OS, etc) and unchecked exceptions in high-level APIs/application level. </p>\n\n<p>Even if there is not so easy to draw a line between them, I find that it is really annoying/difficult to integrate several APIs/libraries under the same roof without wrapping all the time lots of checked exceptions but on the other hand, sometime it is useful/better to be forced to catch some exception and provide a different one which makes more sense in the current context.</p>\n\n<p>The project I'm working on takes lots of libraries and integrates them under the same API, API which is completely based on unchecked exceptions.This frameworks provides a high-level API which in the beginning was full of checked exceptions and had only several unchecked exceptions(Initialization Exception, ConfigurationException, etc) and I must say was not very <em>friendly</em>. Most of the time you had to catch or re-throw exceptions which you don't know how to handle, or you don't even care(not to be confused with you should ignore exceptions), especially on the client side where a single click could throw 10 possible (checked) exceptions.</p>\n\n<p>The current version(3rd one) uses only unchecked exceptions, and it has a global exception handler which is responsible to handle anything uncaught. The API provides a way to register exception handlers, which will decide if an exception is considered an error(most of the time this is the case) which means log &amp; notify somebody, or it can mean something else - like this exception, AbortException, which means break the current execution thread and don't log any error 'cause it is desired not to. Of course, in order to work out all custom thread must handle the run() method with a try {...} catch(all).</p>\n\n<p>public void run() {</p>\n\n<pre><code>try {\n     ... do something ...\n} catch (Throwable throwable) {\n     ApplicationContext.getExceptionService().handleException(\"Handle this exception\", throwable);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is not necessary if you use the WorkerService to schedule jobs(Runnable, Callable, Worker), which handles everything for you.</p>\n\n<p>Of course this is just my opinion, and it might not be the right one, but it looks like a good approach to me. I will see after I will release the project if what I think it is good for me, it is good for others too... :)</p>\n"},{"tags":[],"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1249666493,"creation_date":1249666493,"answer_id":1246039,"question_id":613954,"body_markdown":"Ok... Checked exceptions are not ideal and have some caveat but they do serve a purpose.  When creating an API there are specific cases of failures that are contractual of this API.  When in the context of a strongly statically typed language such as Java if one does not use checked exceptions then one must rely on ad-hoc documentation and convention to convey the possibility of error.  Doing so removes all benefit that the compiler can bring in handling error and you are left completely to the good will of programmers.\r\n\r\nSo, one removes Checked exception, such as was done in C#, how then can one programmatically and structurally convey the possibility of error ?  How to inform the client code that such and such errors can occur and must be dealt with ?\r\n\r\nI hear all sorts of horrors when dealing with checked exceptions, they are misused this is certain but so are unchecked exceptions.  I say wait a few years when APIs are stacked many layers deep and you will be begging for the return of some kind of structured mean to convey failures.\r\n\r\nTake the case when the exception was thrown somewhere at the bottom of the API layers and just bubbled up because nobody knew it was even possible for this error to occur, this even though it was a type of error that was very plausible when the calling code threw it (FileNotFoundException for example as opposed to VogonsTrashingEarthExcept... in which case it would not matter if we handle it or not since there is nothing left to handle it with).\r\n\r\nMany have argued that not being able to load the file was almost always the end of the world for the process and it must die a horrible and painful death.  So yeah.. sure ... ok.. you build an API for something and it loads file at some point... I as the user of said API can only respond... &quot;Who the hell are you to decide when my program should crash !&quot;  Sure Given the choice where exceptions are gobbled up and leave no trace or the EletroFlabbingChunkFluxManifoldChuggingException with a stack trace deeper than the Marianna trench I would take the latter without a cinch of hesitation, but does this mean that it is the desirable way to deal with exception ?  Can we not be somewhere in the middle, where the exception would be recast and wrapped each time it traversed into a new level of abstraction so that it actually means something ?\r\n\r\nLastly, most of the argument I see is &quot;I don&#39;t want to deal with exceptions, many people do not want to deal with exceptions.  Checked exceptions force me to deal with them thus I hate checked exception&quot;  To eliminate such mechanism altogether and relegate it to the chasm of goto hell is just silly and lacks jugement and vision.  \r\n\r\nIf we eliminate checked exception we could also eliminate the return type for functions and always return a &quot;anytype&quot; variable...  That would make life so much simpler now would it not ?\r\n","title":"The case against checked exceptions","body":"<p>Ok... Checked exceptions are not ideal and have some caveat but they do serve a purpose.  When creating an API there are specific cases of failures that are contractual of this API.  When in the context of a strongly statically typed language such as Java if one does not use checked exceptions then one must rely on ad-hoc documentation and convention to convey the possibility of error.  Doing so removes all benefit that the compiler can bring in handling error and you are left completely to the good will of programmers.</p>\n\n<p>So, one removes Checked exception, such as was done in C#, how then can one programmatically and structurally convey the possibility of error ?  How to inform the client code that such and such errors can occur and must be dealt with ?</p>\n\n<p>I hear all sorts of horrors when dealing with checked exceptions, they are misused this is certain but so are unchecked exceptions.  I say wait a few years when APIs are stacked many layers deep and you will be begging for the return of some kind of structured mean to convey failures.</p>\n\n<p>Take the case when the exception was thrown somewhere at the bottom of the API layers and just bubbled up because nobody knew it was even possible for this error to occur, this even though it was a type of error that was very plausible when the calling code threw it (FileNotFoundException for example as opposed to VogonsTrashingEarthExcept... in which case it would not matter if we handle it or not since there is nothing left to handle it with).</p>\n\n<p>Many have argued that not being able to load the file was almost always the end of the world for the process and it must die a horrible and painful death.  So yeah.. sure ... ok.. you build an API for something and it loads file at some point... I as the user of said API can only respond... \"Who the hell are you to decide when my program should crash !\"  Sure Given the choice where exceptions are gobbled up and leave no trace or the EletroFlabbingChunkFluxManifoldChuggingException with a stack trace deeper than the Marianna trench I would take the latter without a cinch of hesitation, but does this mean that it is the desirable way to deal with exception ?  Can we not be somewhere in the middle, where the exception would be recast and wrapped each time it traversed into a new level of abstraction so that it actually means something ?</p>\n\n<p>Lastly, most of the argument I see is \"I don't want to deal with exceptions, many people do not want to deal with exceptions.  Checked exceptions force me to deal with them thus I hate checked exception\"  To eliminate such mechanism altogether and relegate it to the chasm of goto hell is just silly and lacks jugement and vision.  </p>\n\n<p>If we eliminate checked exception we could also eliminate the return type for functions and always return a \"anytype\" variable...  That would make life so much simpler now would it not ?</p>\n"},{"tags":[],"owner":{"account_id":8252,"reputation":41549,"user_id":14768,"accept_rate":82,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1257698870,"creation_date":1257626078,"answer_id":1694321,"question_id":613954,"body_markdown":"My writeup on c2.com is still mostly unchanged from its original form: &lt;A HREF=&quot;http://c2.com/cgi/wiki?CheckedExceptionsAreIncompatibleWithVisitorPattern&quot;&gt;CheckedExceptionsAreIncompatibleWithVisitorPattern&lt;/A&gt;\r\n\r\nIn summary:\r\n\r\nVisitor Pattern and its relatives are a class of interfaces where the indirect caller and interface implementation both know about an exception but the interface and direct caller form a library that cannot know.\r\n\r\nThe fundamental assumption of CheckedExceptions is all declared exceptions can be thrown from any point that calls a method with that declaration. The VisitorPattern reveals this assumption to be faulty.\r\n\r\nThe final result of checked exceptions in cases like these is a lot of otherwise useless code that essentially removes the compiler&#39;s checked exception constraint at runtime.\r\n\r\nAs for the underlying problem:\r\n\r\nMy general idea is the top-level handler needs to interpret the exception and display an appropriate error message. I almost always see either IO exceptions, communication exceptions (for some reason APIs distinguish), or task-fatal errors (program bugs or severe problem on backing server), so this should not be too hard if we allow a stack trace for a severe server problem.","title":"The case against checked exceptions","body":"<p>My writeup on c2.com is still mostly unchanged from its original form: <A HREF=\"http://c2.com/cgi/wiki?CheckedExceptionsAreIncompatibleWithVisitorPattern\" rel=\"nofollow noreferrer\">CheckedExceptionsAreIncompatibleWithVisitorPattern</A></p>\n\n<p>In summary:</p>\n\n<p>Visitor Pattern and its relatives are a class of interfaces where the indirect caller and interface implementation both know about an exception but the interface and direct caller form a library that cannot know.</p>\n\n<p>The fundamental assumption of CheckedExceptions is all declared exceptions can be thrown from any point that calls a method with that declaration. The VisitorPattern reveals this assumption to be faulty.</p>\n\n<p>The final result of checked exceptions in cases like these is a lot of otherwise useless code that essentially removes the compiler's checked exception constraint at runtime.</p>\n\n<p>As for the underlying problem:</p>\n\n<p>My general idea is the top-level handler needs to interpret the exception and display an appropriate error message. I almost always see either IO exceptions, communication exceptions (for some reason APIs distinguish), or task-fatal errors (program bugs or severe problem on backing server), so this should not be too hard if we allow a stack trace for a severe server problem.</p>\n"},{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1401721598,"creation_date":1314082363,"answer_id":7157273,"question_id":613954,"body_markdown":"Despite having read the whole page, I still can&#39;t find a single reasonable argument against checked exceptions. Most people are instead talking about poor API design, either at some Java classes or at their own classes.\r\n\r\nThe only scenario where this feature may be annoying is prototiping. This could be solved by adding some mechanism to the language (for instance, some @supresscheckedexceptions annotation). But for regular programming, I think checked exceptions are a good thing.","title":"The case against checked exceptions","body":"<p>Despite having read the whole page, I still can't find a single reasonable argument against checked exceptions. Most people are instead talking about poor API design, either at some Java classes or at their own classes.</p>\n\n<p>The only scenario where this feature may be annoying is prototiping. This could be solved by adding some mechanism to the language (for instance, some @supresscheckedexceptions annotation). But for regular programming, I think checked exceptions are a good thing.</p>\n"},{"tags":[],"owner":{"account_id":367633,"reputation":6473,"user_id":713937,"accept_rate":84,"display_name":"Piotr Sobczyk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1468915183,"creation_date":1319839298,"answer_id":7935358,"question_id":613954,"body_markdown":"## The problem ##\n\nThe worst problem I see with exception handling mechanism is that **it introduces code duplication in a big scale**! Let&#39;s be honest: In most of projects in 95% of the time all that developers really need to do with exception is to communicate it somehow to the user (and, in some cases, to the development team as well, e.g. by sending an e-mail with the stack trace). So usually the same line/block of code is used in every place the exception is handled.\n\nLet&#39;s assume that we do simple logging in each catch block for some type of checked exception:\n\n    try{\n       methodDeclaringCheckedException();\n    }catch(CheckedException e){\n       logger.error(e);\n    }\n\nIf it&#39;s a common exception there may be even several hundreds of such try-catch blocks in a larger codebase. Now let&#39;s assume that we need to introduce popup dialog based exception handling instead of console logging or start to additionally send an e-mail to the development team.\n\nWait a moment... are we really going to edit all of that several hundreds of locations in the code?! You get my point :-).\n\n## The solution ##\n\nWhat we did to adress that issue was introducing the concept of *exception handlers* (to which I&#39;ll further refer as EH&#39;s) to *centralize* exception handling. To every class that needs to hande exceptions an instance of exception handler is injected by our [Dependency Injection][1] framework. So the typical pattern of exception handling now looks like this:\n\n    try{\n        methodDeclaringCheckedException();\n    }catch(CheckedException e){\n        exceptionHandler.handleError(e);\n    }\n\nNow to customize our exception handling we only need to change the code in a single place (EH code). \n\nOf course for more complex cases we can implement several subclasses of EHs and leverage features that our DI framework provides us. By changing our DI framework configuration we can easily switch EH implementation globally or provide specific implementations of EH to classes with special exception handling needs (for example using Guice @Named annotation). \n\nThat way we can differentiate exception handling behaviour in development and release version of application (eg. development - logging the error and halting the application, prod - logging the error with more details and letting the application continue its execution) with no effort.\n\n## Last one thing \n\nLast but not least, it may seem that the same kind of centralisation can be obtained by just passing our exceptions &quot;up&quot; until they arrive to some top level exception handling class. But that leads to cluttering of code and signatures of our methods and introduces maintenance problems mentioned by others in this thread. \n \n\n\n  [1]: http://en.wikipedia.org/wiki/Dependency_injection","title":"The case against checked exceptions","body":"<h2>The problem</h2>\n<p>The worst problem I see with exception handling mechanism is that <strong>it introduces code duplication in a big scale</strong>! Let's be honest: In most of projects in 95% of the time all that developers really need to do with exception is to communicate it somehow to the user (and, in some cases, to the development team as well, e.g. by sending an e-mail with the stack trace). So usually the same line/block of code is used in every place the exception is handled.</p>\n<p>Let's assume that we do simple logging in each catch block for some type of checked exception:</p>\n<pre><code>try{\n   methodDeclaringCheckedException();\n}catch(CheckedException e){\n   logger.error(e);\n}\n</code></pre>\n<p>If it's a common exception there may be even several hundreds of such try-catch blocks in a larger codebase. Now let's assume that we need to introduce popup dialog based exception handling instead of console logging or start to additionally send an e-mail to the development team.</p>\n<p>Wait a moment... are we really going to edit all of that several hundreds of locations in the code?! You get my point :-).</p>\n<h2>The solution</h2>\n<p>What we did to adress that issue was introducing the concept of <em>exception handlers</em> (to which I'll further refer as EH's) to <em>centralize</em> exception handling. To every class that needs to hande exceptions an instance of exception handler is injected by our <a href=\"http://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">Dependency Injection</a> framework. So the typical pattern of exception handling now looks like this:</p>\n<pre><code>try{\n    methodDeclaringCheckedException();\n}catch(CheckedException e){\n    exceptionHandler.handleError(e);\n}\n</code></pre>\n<p>Now to customize our exception handling we only need to change the code in a single place (EH code).</p>\n<p>Of course for more complex cases we can implement several subclasses of EHs and leverage features that our DI framework provides us. By changing our DI framework configuration we can easily switch EH implementation globally or provide specific implementations of EH to classes with special exception handling needs (for example using Guice @Named annotation).</p>\n<p>That way we can differentiate exception handling behaviour in development and release version of application (eg. development - logging the error and halting the application, prod - logging the error with more details and letting the application continue its execution) with no effort.</p>\n<h2>Last one thing</h2>\n<p>Last but not least, it may seem that the same kind of centralisation can be obtained by just passing our exceptions &quot;up&quot; until they arrive to some top level exception handling class. But that leads to cluttering of code and signatures of our methods and introduces maintenance problems mentioned by others in this thread.</p>\n"},{"tags":[],"owner":{"account_id":367633,"reputation":6473,"user_id":713937,"accept_rate":84,"display_name":"Piotr Sobczyk"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1363201093,"creation_date":1325324905,"answer_id":8687448,"question_id":613954,"body_markdown":"[This article](http://articles.vconst.com/2009/08/error-handling-and-exceptions-in-java.html) is the best piece of text on exception handling in Java I have ever read. \r\n\r\nIt favours unchecked over checked exceptions but this choice is explained very thouroughly and based on strong arguments.\r\n\r\nI don&#39;t want to cite too much of the article content here (it&#39;s best to read it as a whole) but it covers most of arguments of unchecked exceptions advocates from this thread. Especially this argument (which seems to be quite popular) is covered:\r\n\r\n&gt; Take the case when the exception was thrown somewhere at the bottom of the API layers and just bubbled up because nobody knew it was even possible for this error to occur, this even though it was a type of error that was very plausible when the calling code threw it (FileNotFoundException for example as opposed to VogonsTrashingEarthExcept... in which case it would not matter if we handle it or not since there is nothing left to handle it with).\r\n\r\nThe author &quot;responses&quot;:\r\n\r\n&gt; It is absolutely incorrect to assume that all runtime exceptions\r\n&gt; should not be caught and allowed to propagate to the very &quot;top&quot; of the\r\n&gt; application. (...) For every exceptional condition that is required to\r\n&gt; be handled distinctly - by the system/business requirements -\r\n&gt; programmers must decide where to catch it and what to do once the\r\n&gt; condition is caught. This must be done strictly according to the\r\n&gt; actual needs of the application, not based on a compiler alert. All\r\n&gt; other errors must be allowed to freely propagate to the topmost\r\n&gt; handler where they would be logged and a graceful (perhaps,\r\n&gt; termination) action will be taken.\r\n\r\n\r\nAnd the main thought or article is:\r\n\r\n&gt; When it comes to error handling in software, the only safe and correct assumption that may ever be made is that a failure may occur in absolutely every subroutine or module that exists!\r\n\r\nSo if &quot;*nobody knew it was even possible for this error to occur*&quot; there is something wrong with that project. Such exception should be handled by at least the most generic exception handler (e.g. the one that handles all Exceptions not handled by more specific handlers) as author suggests.\r\n\r\nSo sad not many poeple seems to discover this great article :-(. I recommend wholeheartly everyone who hesitates which approach is better to take some time and read it.","title":"The case against checked exceptions","body":"<p><a href=\"http://articles.vconst.com/2009/08/error-handling-and-exceptions-in-java.html\" rel=\"noreferrer\">This article</a> is the best piece of text on exception handling in Java I have ever read. </p>\n\n<p>It favours unchecked over checked exceptions but this choice is explained very thouroughly and based on strong arguments.</p>\n\n<p>I don't want to cite too much of the article content here (it's best to read it as a whole) but it covers most of arguments of unchecked exceptions advocates from this thread. Especially this argument (which seems to be quite popular) is covered:</p>\n\n<blockquote>\n  <p>Take the case when the exception was thrown somewhere at the bottom of the API layers and just bubbled up because nobody knew it was even possible for this error to occur, this even though it was a type of error that was very plausible when the calling code threw it (FileNotFoundException for example as opposed to VogonsTrashingEarthExcept... in which case it would not matter if we handle it or not since there is nothing left to handle it with).</p>\n</blockquote>\n\n<p>The author \"responses\":</p>\n\n<blockquote>\n  <p>It is absolutely incorrect to assume that all runtime exceptions\n  should not be caught and allowed to propagate to the very \"top\" of the\n  application. (...) For every exceptional condition that is required to\n  be handled distinctly - by the system/business requirements -\n  programmers must decide where to catch it and what to do once the\n  condition is caught. This must be done strictly according to the\n  actual needs of the application, not based on a compiler alert. All\n  other errors must be allowed to freely propagate to the topmost\n  handler where they would be logged and a graceful (perhaps,\n  termination) action will be taken.</p>\n</blockquote>\n\n<p>And the main thought or article is:</p>\n\n<blockquote>\n  <p>When it comes to error handling in software, the only safe and correct assumption that may ever be made is that a failure may occur in absolutely every subroutine or module that exists!</p>\n</blockquote>\n\n<p>So if \"<em>nobody knew it was even possible for this error to occur</em>\" there is something wrong with that project. Such exception should be handled by at least the most generic exception handler (e.g. the one that handles all Exceptions not handled by more specific handlers) as author suggests.</p>\n\n<p>So sad not many poeple seems to discover this great article :-(. I recommend wholeheartly everyone who hesitates which approach is better to take some time and read it.</p>\n"},{"tags":[],"owner":{"account_id":1488879,"reputation":145,"user_id":1396490,"display_name":"Dave E"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1341485054,"creation_date":1341408107,"answer_id":11329960,"question_id":613954,"body_markdown":"To attempt to address just the unanswered question:\r\n\r\n&gt; If you throw RuntimeException subclasses instead of Exception subclasses then how do you know what you are supposed to catch?\r\n\r\nThe question contains specious reasoning IMHO. Just because the API tells you what it throws doesn&#39;t mean you deal with it in the same way in all cases. \r\nTo put it another way, the exceptions you need to catch vary depending on the context in which you use the component throwing the exception.\r\n\r\nFor example:\r\n\r\nIf I&#39;m writing a connection tester for a database, or something to check the validity of a user entered XPath, then I&#39;d probably want to catch and report on all checked and unchecked exceptions that are thrown by the operation.\r\n\r\nIf, however, I am writing a processing engine, I will likely treat an XPathException (checked) in the same way as an NPE: I would let it run up to the top of the worker thread, skip the rest of that batch, log the issue (or send it to a support department for diagnosis) and leave feedback for the user to contact support. \r\n\r\n","title":"The case against checked exceptions","body":"<p>To attempt to address just the unanswered question:</p>\n\n<blockquote>\n  <p>If you throw RuntimeException subclasses instead of Exception subclasses then how do you know what you are supposed to catch?</p>\n</blockquote>\n\n<p>The question contains specious reasoning IMHO. Just because the API tells you what it throws doesn't mean you deal with it in the same way in all cases. \nTo put it another way, the exceptions you need to catch vary depending on the context in which you use the component throwing the exception.</p>\n\n<p>For example:</p>\n\n<p>If I'm writing a connection tester for a database, or something to check the validity of a user entered XPath, then I'd probably want to catch and report on all checked and unchecked exceptions that are thrown by the operation.</p>\n\n<p>If, however, I am writing a processing engine, I will likely treat an XPathException (checked) in the same way as an NPE: I would let it run up to the top of the worker thread, skip the rest of that batch, log the issue (or send it to a support department for diagnosis) and leave feedback for the user to contact support. </p>\n"},{"tags":[],"owner":{"account_id":1714733,"reputation":11,"user_id":1572073,"display_name":"Jacob Toronto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343926442,"creation_date":1343926442,"answer_id":11782220,"question_id":613954,"body_markdown":"We&#39;ve seen some references to C#&#39;s chief architect.\r\n\r\nHere&#39;s an alternate point of view from a Java guy about when to use checked exceptions. He acknowledges many of the negatives others have mentioned:\r\n[Effective Exceptions][1]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/entarch/effective-exceptions2-097044.html","title":"The case against checked exceptions","body":"<p>We've seen some references to C#'s chief architect.</p>\n\n<p>Here's an alternate point of view from a Java guy about when to use checked exceptions. He acknowledges many of the negatives others have mentioned:\n<a href=\"http://www.oracle.com/technetwork/articles/entarch/effective-exceptions2-097044.html\" rel=\"nofollow\">Effective Exceptions</a></p>\n"},{"tags":[],"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394745949,"creation_date":1368199003,"answer_id":16485510,"question_id":613954,"body_markdown":"The good proves that Checked Exception are not needed are:\r\n\r\n 1. A lot of framework that does some work for Java. Like Spring that wraps JDBC exception to unchecked exceptions, throwing messages to the log\r\n 2. Lot of languages that came after java, even on top on java platform - they do not use them \r\n 3. Checked exceptions, it is kind prediction about how the client would use the code that throws an exception. But a developer who writes this code would never know about the system and business that client of code is working in. As an example Interfcace methods that force to throw checked exception. There are 100 implementation over the system, 50 or even 90 of implementations do not throw this exception, but the client still must to catch this exception if he user reference to that interface. Those 50 or 90 implementations tend to handle those exceptions inside themself, putting exception to the log (and this is good behavior for them). What we should do with that? I would better have some background logic that would do all that job - sending message to the log. And If I, as a client of code, would feel I need handle the exception - I will do it. I may forget about it, right - but if I use TDD, all my steps are covered and I know what I want.\r\n 4. Another example when I&#39;m working with I/O in java, it forces me to check all exception, if file does not exists? what I should do with that? If it does not exists, the system would not go to the next step. The client of this method, would not get expected content from that file - he can handle Runtime Exception, otherwise I should first check Checked Exception, put a message to log, then throw exception up out form the method. No...no - I would better do it automatically with RuntimeEception, that does it / lits up automatically. There is no any sense to handle it manually - I would be happy I saw an error message in the log (AOP can help with that.. something that fixes java). If, eventually, I deice that system should shows pop-up message to the end user - I will show it, not a problem.\r\n\r\nI was happy if java would provide me with a **choice** what to use, when working with core libs, like I/O. Like provides two copies of same classes - one wrapped with RuntimeEception. **Then we can compare what people would use**. For now, though, many people would better go for some framework on top on java, or different language. Like Scala, JRuby whatever. Many just believe that SUN was right.\r\n\r\n ","title":"The case against checked exceptions","body":"<p>The good proves that Checked Exception are not needed are:</p>\n\n<ol>\n<li>A lot of framework that does some work for Java. Like Spring that wraps JDBC exception to unchecked exceptions, throwing messages to the log</li>\n<li>Lot of languages that came after java, even on top on java platform - they do not use them </li>\n<li>Checked exceptions, it is kind prediction about how the client would use the code that throws an exception. But a developer who writes this code would never know about the system and business that client of code is working in. As an example Interfcace methods that force to throw checked exception. There are 100 implementation over the system, 50 or even 90 of implementations do not throw this exception, but the client still must to catch this exception if he user reference to that interface. Those 50 or 90 implementations tend to handle those exceptions inside themself, putting exception to the log (and this is good behavior for them). What we should do with that? I would better have some background logic that would do all that job - sending message to the log. And If I, as a client of code, would feel I need handle the exception - I will do it. I may forget about it, right - but if I use TDD, all my steps are covered and I know what I want.</li>\n<li>Another example when I'm working with I/O in java, it forces me to check all exception, if file does not exists? what I should do with that? If it does not exists, the system would not go to the next step. The client of this method, would not get expected content from that file - he can handle Runtime Exception, otherwise I should first check Checked Exception, put a message to log, then throw exception up out form the method. No...no - I would better do it automatically with RuntimeEception, that does it / lits up automatically. There is no any sense to handle it manually - I would be happy I saw an error message in the log (AOP can help with that.. something that fixes java). If, eventually, I deice that system should shows pop-up message to the end user - I will show it, not a problem.</li>\n</ol>\n\n<p>I was happy if java would provide me with a <strong>choice</strong> what to use, when working with core libs, like I/O. Like provides two copies of same classes - one wrapped with RuntimeEception. <strong>Then we can compare what people would use</strong>. For now, though, many people would better go for some framework on top on java, or different language. Like Scala, JRuby whatever. Many just believe that SUN was right.</p>\n"},{"tags":[],"owner":{"account_id":49269,"reputation":48039,"user_id":146622,"accept_rate":79,"display_name":"Daniel A.A. Pelsmaeker"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1368392436,"creation_date":1368319740,"answer_id":16503128,"question_id":613954,"body_markdown":"## Exception categories\r\n\r\nWhen talking about exceptions I always refer back to [Eric Lippert&#39;s Vexing exceptions](https://blogs.msdn.com/b/ericlippert/archive/2008/09/10/vexing-exceptions.aspx) blog article. He places exceptions into these categories:\r\n\r\n* **Fatal** - These exceptions are _not your fault_: you cannot prevent then, and you cannot sensibly handle them. For example, `OutOfMemoryError` or `ThreadAbortException`.\r\n* **Boneheaded** - These exceptions _are your fault_: you should have prevented them, and they represent bugs in your code. For example, `ArrayIndexOutOfBoundsException`, `NullPointerException` or any `IllegalArgumentException`.\r\n* **Vexing** - These exceptions are _not exceptional_, not your fault, you cannot prevent them, but you&#39;ll have to deal with them. They are often the result of an unfortunate design decision, such as throwing `NumberFormatException` from `Integer.parseInt` instead of providing an `Integer.tryParseInt` method that returns a boolean false on parse failure.\r\n* **Exogenous** - These exceptions _are usually exceptional_, not your fault, you cannot (reasonably) prevent them, but _you must handle them_. For example, `FileNotFoundException`.\r\n\r\nAn API user:\r\n\r\n* _must not_ handle _fatal_ or _boneheaded_ exceptions.\r\n* _should_ handle _vexing_ exceptions, but they should not occur in an ideal API.\r\n* _must_ handle _exogenous_ exceptions.\r\n\r\n## Checked exceptions\r\n\r\nThe fact that the API user _must_ handle a particular exception is part of the method&#39;s contract between the caller and the callee. The contract specifies, among other things: the number and types of arguments the callee expects, the type of return value the caller can expect, and _the exceptions the caller is expected to handle_.\r\n\r\nSince _vexing_ exceptions should not exist in an API, only these _exogenous_ exceptions must be _checked exceptions_ to be part of the method&#39;s contract. Relatively few exceptions are _exogenous_, so any API should have relatively few checked exceptions.\r\n\r\nA checked exception is an exception that _must be handled_. Handling an exception can be as simple as swallowing it. There! The exception is handled. Period. If the developer wants to handle it that way, fine. But he can&#39;t ignore the exception, and has been warned.\r\n\r\n## API problems\r\n\r\nBut any API that has checked _vexing_ and _fatal_ exceptions (e.g. the JCL) will put unnecessary strain on the API users. Such exceptions _have_ to be handled, but either the exception is so common that it should not have been an exception in the first place, or nothing can be done when handling it. And _this_ causes Java developers to hate checked exceptions.\r\n\r\nAlso, many APIs don&#39;t have a proper exception class hierarchy, causing all kinds of non-exogenous exception causes to be represented by a single checked exception class (e.g. `IOException`). And this also causes Java developers to hate checked exceptions.\r\n\r\n## Conclusion\r\n\r\n_Exogenous_ exceptions are those that are not your fault, could not have been prevented, and which should be handled. These form a small subset of all the exceptions that can get thrown. APIs should only have **checked _exogenous_ exceptions**, and all other exceptions unchecked. This will make better APIs, put less strain on the API user, and therefore reduce the need to catch all, swallow or rethrow unchecked exceptions.\r\n\r\nSo don&#39;t hate Java and its checked exceptions. Instead, hate the APIs that overuse checked exceptions.\r\n","title":"The case against checked exceptions","body":"<h2>Exception categories</h2>\n\n<p>When talking about exceptions I always refer back to <a href=\"https://blogs.msdn.com/b/ericlippert/archive/2008/09/10/vexing-exceptions.aspx\" rel=\"noreferrer\">Eric Lippert's Vexing exceptions</a> blog article. He places exceptions into these categories:</p>\n\n<ul>\n<li><strong>Fatal</strong> - These exceptions are <em>not your fault</em>: you cannot prevent then, and you cannot sensibly handle them. For example, <code>OutOfMemoryError</code> or <code>ThreadAbortException</code>.</li>\n<li><strong>Boneheaded</strong> - These exceptions <em>are your fault</em>: you should have prevented them, and they represent bugs in your code. For example, <code>ArrayIndexOutOfBoundsException</code>, <code>NullPointerException</code> or any <code>IllegalArgumentException</code>.</li>\n<li><strong>Vexing</strong> - These exceptions are <em>not exceptional</em>, not your fault, you cannot prevent them, but you'll have to deal with them. They are often the result of an unfortunate design decision, such as throwing <code>NumberFormatException</code> from <code>Integer.parseInt</code> instead of providing an <code>Integer.tryParseInt</code> method that returns a boolean false on parse failure.</li>\n<li><strong>Exogenous</strong> - These exceptions <em>are usually exceptional</em>, not your fault, you cannot (reasonably) prevent them, but <em>you must handle them</em>. For example, <code>FileNotFoundException</code>.</li>\n</ul>\n\n<p>An API user:</p>\n\n<ul>\n<li><em>must not</em> handle <em>fatal</em> or <em>boneheaded</em> exceptions.</li>\n<li><em>should</em> handle <em>vexing</em> exceptions, but they should not occur in an ideal API.</li>\n<li><em>must</em> handle <em>exogenous</em> exceptions.</li>\n</ul>\n\n<h2>Checked exceptions</h2>\n\n<p>The fact that the API user <em>must</em> handle a particular exception is part of the method's contract between the caller and the callee. The contract specifies, among other things: the number and types of arguments the callee expects, the type of return value the caller can expect, and <em>the exceptions the caller is expected to handle</em>.</p>\n\n<p>Since <em>vexing</em> exceptions should not exist in an API, only these <em>exogenous</em> exceptions must be <em>checked exceptions</em> to be part of the method's contract. Relatively few exceptions are <em>exogenous</em>, so any API should have relatively few checked exceptions.</p>\n\n<p>A checked exception is an exception that <em>must be handled</em>. Handling an exception can be as simple as swallowing it. There! The exception is handled. Period. If the developer wants to handle it that way, fine. But he can't ignore the exception, and has been warned.</p>\n\n<h2>API problems</h2>\n\n<p>But any API that has checked <em>vexing</em> and <em>fatal</em> exceptions (e.g. the JCL) will put unnecessary strain on the API users. Such exceptions <em>have</em> to be handled, but either the exception is so common that it should not have been an exception in the first place, or nothing can be done when handling it. And <em>this</em> causes Java developers to hate checked exceptions.</p>\n\n<p>Also, many APIs don't have a proper exception class hierarchy, causing all kinds of non-exogenous exception causes to be represented by a single checked exception class (e.g. <code>IOException</code>). And this also causes Java developers to hate checked exceptions.</p>\n\n<h2>Conclusion</h2>\n\n<p><em>Exogenous</em> exceptions are those that are not your fault, could not have been prevented, and which should be handled. These form a small subset of all the exceptions that can get thrown. APIs should only have <strong>checked <em>exogenous</em> exceptions</strong>, and all other exceptions unchecked. This will make better APIs, put less strain on the API user, and therefore reduce the need to catch all, swallow or rethrow unchecked exceptions.</p>\n\n<p>So don't hate Java and its checked exceptions. Instead, hate the APIs that overuse checked exceptions.</p>\n"},{"tags":[],"owner":{"account_id":3208594,"reputation":23,"user_id":2709088,"display_name":"Rudi"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1377209485,"creation_date":1377209485,"answer_id":18391644,"question_id":613954,"body_markdown":"In my opinion the checked exceptions are a very fine concept. Unfortunately the most programmers who have worked together we me have another opinion so that the projects have a lot of wrong used exception handling. I have seen that the most programmers create one (only one) exception class, a subclass of RuntimeException. That contains a message, sometimes a multi language key. I have no chance to argument against this. I have the impression that I talk to a wall when I explain them what anti patterns are, what a contracts of a methods are... I&#39;m a little bit disappointed.\r\n\r\nBut today it has become obvious that the concept to have a general runtime exception for everything is an anti pattern. They have used it for a check of a user input. The exception is thrown so that a user dialogue can make an error message out of it. But not every caller of the method is a dialogue! By throwing the runtime exception the contract of the method was changed but not declared, because it was not a checked exception. \r\n\r\nHopefully they have learned something today and will make their checks (which are useful and necessary) at another place. Using only checked exception couldn&#39;t solve the problem but the checked exception would signal to the programmer that he implements something wrong.","title":"The case against checked exceptions","body":"<p>In my opinion the checked exceptions are a very fine concept. Unfortunately the most programmers who have worked together we me have another opinion so that the projects have a lot of wrong used exception handling. I have seen that the most programmers create one (only one) exception class, a subclass of RuntimeException. That contains a message, sometimes a multi language key. I have no chance to argument against this. I have the impression that I talk to a wall when I explain them what anti patterns are, what a contracts of a methods are... I'm a little bit disappointed.</p>\n\n<p>But today it has become obvious that the concept to have a general runtime exception for everything is an anti pattern. They have used it for a check of a user input. The exception is thrown so that a user dialogue can make an error message out of it. But not every caller of the method is a dialogue! By throwing the runtime exception the contract of the method was changed but not declared, because it was not a checked exception. </p>\n\n<p>Hopefully they have learned something today and will make their checks (which are useful and necessary) at another place. Using only checked exception couldn't solve the problem but the checked exception would signal to the programmer that he implements something wrong.</p>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":2,"up_vote_count":67,"is_accepted":false,"score":65,"last_activity_date":1415904697,"creation_date":1385517804,"answer_id":20231597,"question_id":613954,"body_markdown":"I know this is an old question but I&#39;ve spent a while wrestling with checked exceptions and I&#39;ve something to add. Please forgive me for the length of it!\r\n\r\nMy main beef with checked exceptions is that they ruin polymorphism. It&#39;s impossible to make them play nicely with polymorphic interfaces.\r\n\r\nTake the good ol&#39; Java [`List`](http://docs.oracle.com/javase/8/docs/api/java/util/List.html) interface. We have common in-memory implementations like `ArrayList` and `LinkedList`. We also have the the skeletal class [`AbstractList`](http://docs.oracle.com/javase/8/docs/api/java/util/AbstractList.html) which makes it easy to design new types of list. For a read-only list we need to implement only two methods: `size()` and `get(int index)`.\r\n\r\nThis example `WidgetList` class reads some fixed-size objects of type `Widget` (not shown) from a file:\r\n\r\n\tclass WidgetList extends AbstractList&lt;Widget&gt; {\r\n\t\tprivate static final int SIZE_OF_WIDGET = 100;\r\n\t\tprivate final RandomAccessFile file;\r\n\t\t\r\n\t\tpublic WidgetList(RandomAccessFile file) {\r\n\t\t\tthis.file = file;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic int size() {\r\n\t\t\treturn (int)(file.length() / SIZE_OF_WIDGET);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Widget get(int index) {\r\n\t\t\tfile.seek((long)index * SIZE_OF_WIDGET);\r\n\t\t\tbyte[] data = new byte[SIZE_OF_WIDGET];\r\n\t\t\tfile.read(data);\r\n\t\t\treturn new Widget(data);\r\n\t\t}\r\n\t}\r\n\r\nBy exposing the Widgets using the familiar `List` interface, you can retrieve items (`list.get(123)`) or iterate a list (`for (Widget w : list) ...`) without needing to know about `WidgetList` itself. One can pass this list to any standard methods that use generic lists, or wrap it in a `Collections.synchronizedList`. Code that uses it need neither know nor care whether the &quot;Widgets&quot; are made up on the spot, come from an array, or are read from a file, or a database, or from across the network, or from a future subspace relay. It will still work correctly because the `List` interface is correctly implemented.\r\n\r\nExcept it isn&#39;t. The above class doesn&#39;t compile because the file access methods may throw an `IOException`, a checked exception which you have to &quot;catch or specify&quot;. You ***can&#39;t specify it as thrown*** -- the compiler won&#39;t let you because that would violate the contract of the `List` interface. And there is no useful way that `WidgetList` itself can handle the exception (as I&#39;ll expound on later).\r\n\r\nApparently the only thing to do is catch and rethrow checked exceptions as some unchecked exception:\r\n\r\n\t@Override\r\n\tpublic int size() {\r\n\t\ttry {\r\n\t\t\treturn (int)(file.length() / SIZE_OF_WIDGET);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new WidgetListException(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static class WidgetListException extends RuntimeException {\r\n\t\tpublic WidgetListException(Throwable cause) {\r\n\t\t\tsuper(cause);\r\n\t\t}\r\n\t}\r\n\r\n((Edit: Java 8 has added an [`UncheckedIOException`](http://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html) class for exactly this case: for catching and rethrowing `IOException`s across polymorphic method boundaries. Kind of proves my point!))\r\n\r\nSo checked exceptions ***simply don&#39;t work*** in cases like this. You can&#39;t throw them. Ditto for a clever `Map` backed by a database, or an implementation of `java.util.Random` connected to a quantum entropy source via a COM port. As soon as you try to do anything novel with the implementation of a polymorphic interface, the concept of checked exceptions fails. But checked exceptions are so insidious that they still won&#39;t leave you in peace, because you still have to catch and rethrow any from lower-level methods, cluttering the code and cluttering the stack trace.\r\n\r\nI find that the ubiquitous [`Runnable`](http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html) interface is often backed into this corner, if it calls something which throws checked exceptions. It can&#39;t throw the exception as is, so all it can do is clutter the code by catching and rethrowing as a `RuntimeException`.\r\n\r\nActually, you *can* throw undeclared checked exceptions if you resort to hacks. The JVM, at run time, doesn&#39;t care about checked exception rules, so we need to fool only the compiler. The easiest way to do this is to abuse generics. This is my method for it (class name shown because (before Java 8) it&#39;s required in the calling syntax for the generic method):\r\n\r\n\tclass Util {\r\n\t\t/**\r\n\t\t * Throws any {@link Throwable} without needing to declare it in the\r\n\t\t * method&#39;s {@code throws} clause.\r\n\t\t * \r\n\t\t * &lt;p&gt;When calling, it is suggested to prepend this method by the\r\n\t\t * {@code throw} keyword. This tells the compiler about the control flow,\r\n\t\t * about reachable and unreachable code. (For example, you don&#39;t need to\r\n\t\t * specify a method return value when throwing an exception.) To support\r\n\t\t * this, this method has a return type of {@link RuntimeException},\r\n\t\t * although it never returns anything.\r\n\t\t * \r\n\t\t * @param t the {@code Throwable} to throw\r\n\t\t * @return nothing; this method never returns normally\r\n\t\t * @throws Throwable that was provided to the method\r\n\t\t * @throws NullPointerException if {@code t} is {@code null}\r\n\t\t */\r\n\t\tpublic static RuntimeException sneakyThrow(Throwable t) {\r\n\t\t\treturn Util.&lt;RuntimeException&gt;sneakyThrow1(t);\r\n\t\t}\r\n\t\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tprivate static &lt;T extends Throwable&gt; RuntimeException sneakyThrow1(\r\n\t\t\t\tThrowable t) throws T {\r\n\t\t\tthrow (T)t;\r\n\t\t}\r\n\t}\r\n\r\nHurray! Using this we can throw a checked exception any depth up the stack without declaring it, without wrapping it in a `RuntimeException`, and without cluttering the stack trace! Using the &quot;WidgetList&quot; example again:\r\n\r\n\t@Override\r\n\tpublic int size() {\r\n\t\ttry {\r\n\t\t\treturn (int)(file.length() / SIZE_OF_WIDGET);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow sneakyThrow(e);\r\n\t\t}\r\n\t}\r\n\r\nUnfortunately, the final insult of checked exceptions is that the compiler refuses to allow you to **catch** a checked exception if, in its flawed opinion, it could not have been thrown. (Unchecked exceptions do not have this rule.) To catch the sneakily thrown exception we have to do this:\r\n\r\n\ttry {\r\n\t\t...\r\n\t} catch (Throwable t) { // catch everything\r\n\t\tif (t instanceof IOException) {\r\n\t\t\t// handle it\r\n\t\t\t...\r\n\t\t} else {\r\n\t\t\t// didn&#39;t want to catch this one; let it go\r\n\t\t\tthrow t;\r\n\t\t}\r\n\t}\r\n\r\nThat is a bit awkward, but on the plus side, it is still slightly simpler than the code for extracting a checked exception that was wrapped in a `RuntimeException`.\r\n\r\nHappily, the `throw t;` statement is legal here, even though the type of `t` is checked, thanks to a rule added in Java 7 about rethrowing caught exceptions.\r\n\r\n--------------\r\n\r\nWhen checked exceptions meet polymorphism, the opposite case is also a problem: when a method is spec&#39;d as potentially throwing a checked exception, but an overridden implementation doesn&#39;t. For example, the abstract class [`OutputStream`](http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html)&#39;s `write` methods all specify `throws IOException`. [`ByteArrayOutputStream`](http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html) is a subclass that writes to an in-memory array instead of a true I/O source. Its overridden `write` methods cannot cause `IOException`s, so they have no `throws` clause, and you can call them without worrying about the catch-or-specify requirement.\r\n\r\nExcept not always. Suppose that `Widget` has a method for saving it out to a stream:\r\n\r\n\tpublic void writeTo(OutputStream out) throws IOException;\r\n\r\nDeclaring this method to accept a plain `OutputStream` is the right thing to do, so it can be used polymorphically with all kinds of outputs: files, databases, the network, and so on. And in-memory arrays. With an in-memory array, however, there is a spurious requirement to handle an exception that can&#39;t actually happen:\r\n\r\n\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\ttry {\r\n\t\tsomeWidget.writeTo(out);\r\n\t} catch (IOException e) {\r\n\t\t// can&#39;t happen (although we shouldn&#39;t ignore it if it does)\r\n\t\tthrow new RuntimeException(e);\r\n\t}\r\n\r\nAs usual, checked exceptions get in the way. If your variables are declared as a base type that has more open-ended exception requirements, you have to add handlers for those exceptions even if you *know* they won&#39;t occur in your application.\r\n\r\nBut wait, checked exceptions are actually *so* annoying, that *they won&#39;t even let you do the reverse!* Imagine you currently catch any `IOException` thrown by `write` calls on an `OutputStream`, but you want to change the variable&#39;s declared type to a `ByteArrayOutputStream`, the compiler will berate you for trying to catch a checked exception that it says cannot be thrown.\r\n\r\nThat rule causes some absurd problems. For example, one of the three `write` methods of `OutputStream` is *not* overridden by `ByteArrayOutputStream`. Specifically, `write(byte[] data)` is a convenience method that writes the full array by calling `write(byte[] data, int offset, int length)` with an offset of 0 and the length of the array. `ByteArrayOutputStream` overrides the three-argument method but inherits the one-argument convenience method as-is. The inherited method does exactly the right thing, but it includes an unwanted `throws` clause. That was perhaps an oversight in the design of `ByteArrayOutputStream`, but they can never fix it because it would break source compatibility with any code that does catch the exception -- the exception that has never, is never, and never will be thrown!\r\n \r\nThat rule is annoying during editing and debugging too. E.g., sometimes I&#39;ll comment out a method call temporarily, and if it could have thrown a checked exception, the compiler will now complain about the existence of the local `try` and `catch` blocks. So I have to comment those out too, and now when editing the code within, the IDE will indent to the wrong level because the `{` and `}` are commented out. Gah! It&#39;s a small complaint but it seems like the only thing checked exceptions ever do is cause trouble.\r\n\r\n--------------\r\n\r\nI&#39;m nearly done. My final frustration with checked exceptions is that *at most call sites*, there&#39;s nothing useful you can do with them. Ideally when something goes wrong we&#39;d have a competent application-specific handler that can inform the user of the problem and/or end or retry the operation as appropriate. Only a handler high up the stack can do this because it&#39;s the only one that knows the overall goal.\r\n\r\nInstead we get the following idiom, which is rampant as a way to shut the compiler up:\r\n\r\n\ttry {\r\n\t\t...\r\n\t} catch (SomeStupidExceptionOmgWhoCares e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nIn a GUI or automated program the printed message won&#39;t be seen. Worse, it plows on with the rest of the code after the exception. Is the exception not actually an error? Then don&#39;t print it. Otherwise, something else is going to blow up in a moment, by which time the original exception object will be gone. This idiom is no better than BASIC&#39;s `On Error Resume Next` or PHP&#39;s `error_reporting(0);`.\r\n\r\nCalling some kind of logger class is not much better:\r\n\r\n\ttry {\r\n\t\t...\r\n\t} catch (SomethingWeird e) {\r\n\t\tlogger.log(e);\r\n\t}\r\n\r\nThat is just as lazy as `e.printStackTrace();` and still plows on with code in an indeterminate state. Plus, the choice of a particular logging system or other handler is application-specific, so this hurts code reuse.\r\n\r\nBut wait! There is an easy and universal way to find the application-specific handler. It&#39;s higher up the call stack (or it is set as the Thread&#39;s [uncaught exception handler](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#setUncaughtExceptionHandler-java.lang.Thread.UncaughtExceptionHandler-)). So in most places, ***all you need to do is throw the exception higher up the stack***. E.g., `throw e;`. Checked exceptions just get in the way.\r\n\r\nI&#39;m sure checked exceptions sounded like a good idea when the language was designed, but in practice I&#39;ve found them to be all bother and no benefit.","title":"The case against checked exceptions","body":"<p>I know this is an old question but I've spent a while wrestling with checked exceptions and I've something to add. Please forgive me for the length of it!</p>\n\n<p>My main beef with checked exceptions is that they ruin polymorphism. It's impossible to make them play nicely with polymorphic interfaces.</p>\n\n<p>Take the good ol' Java <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a> interface. We have common in-memory implementations like <code>ArrayList</code> and <code>LinkedList</code>. We also have the the skeletal class <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/AbstractList.html\" rel=\"noreferrer\"><code>AbstractList</code></a> which makes it easy to design new types of list. For a read-only list we need to implement only two methods: <code>size()</code> and <code>get(int index)</code>.</p>\n\n<p>This example <code>WidgetList</code> class reads some fixed-size objects of type <code>Widget</code> (not shown) from a file:</p>\n\n<pre><code>class WidgetList extends AbstractList&lt;Widget&gt; {\n    private static final int SIZE_OF_WIDGET = 100;\n    private final RandomAccessFile file;\n\n    public WidgetList(RandomAccessFile file) {\n        this.file = file;\n    }\n\n    @Override\n    public int size() {\n        return (int)(file.length() / SIZE_OF_WIDGET);\n    }\n\n    @Override\n    public Widget get(int index) {\n        file.seek((long)index * SIZE_OF_WIDGET);\n        byte[] data = new byte[SIZE_OF_WIDGET];\n        file.read(data);\n        return new Widget(data);\n    }\n}\n</code></pre>\n\n<p>By exposing the Widgets using the familiar <code>List</code> interface, you can retrieve items (<code>list.get(123)</code>) or iterate a list (<code>for (Widget w : list) ...</code>) without needing to know about <code>WidgetList</code> itself. One can pass this list to any standard methods that use generic lists, or wrap it in a <code>Collections.synchronizedList</code>. Code that uses it need neither know nor care whether the \"Widgets\" are made up on the spot, come from an array, or are read from a file, or a database, or from across the network, or from a future subspace relay. It will still work correctly because the <code>List</code> interface is correctly implemented.</p>\n\n<p>Except it isn't. The above class doesn't compile because the file access methods may throw an <code>IOException</code>, a checked exception which you have to \"catch or specify\". You <strong><em>can't specify it as thrown</em></strong> -- the compiler won't let you because that would violate the contract of the <code>List</code> interface. And there is no useful way that <code>WidgetList</code> itself can handle the exception (as I'll expound on later).</p>\n\n<p>Apparently the only thing to do is catch and rethrow checked exceptions as some unchecked exception:</p>\n\n<pre><code>@Override\npublic int size() {\n    try {\n        return (int)(file.length() / SIZE_OF_WIDGET);\n    } catch (IOException e) {\n        throw new WidgetListException(e);\n    }\n}\n\npublic static class WidgetListException extends RuntimeException {\n    public WidgetListException(Throwable cause) {\n        super(cause);\n    }\n}\n</code></pre>\n\n<p>((Edit: Java 8 has added an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html\" rel=\"noreferrer\"><code>UncheckedIOException</code></a> class for exactly this case: for catching and rethrowing <code>IOException</code>s across polymorphic method boundaries. Kind of proves my point!))</p>\n\n<p>So checked exceptions <strong><em>simply don't work</em></strong> in cases like this. You can't throw them. Ditto for a clever <code>Map</code> backed by a database, or an implementation of <code>java.util.Random</code> connected to a quantum entropy source via a COM port. As soon as you try to do anything novel with the implementation of a polymorphic interface, the concept of checked exceptions fails. But checked exceptions are so insidious that they still won't leave you in peace, because you still have to catch and rethrow any from lower-level methods, cluttering the code and cluttering the stack trace.</p>\n\n<p>I find that the ubiquitous <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\" rel=\"noreferrer\"><code>Runnable</code></a> interface is often backed into this corner, if it calls something which throws checked exceptions. It can't throw the exception as is, so all it can do is clutter the code by catching and rethrowing as a <code>RuntimeException</code>.</p>\n\n<p>Actually, you <em>can</em> throw undeclared checked exceptions if you resort to hacks. The JVM, at run time, doesn't care about checked exception rules, so we need to fool only the compiler. The easiest way to do this is to abuse generics. This is my method for it (class name shown because (before Java 8) it's required in the calling syntax for the generic method):</p>\n\n<pre><code>class Util {\n    /**\n     * Throws any {@link Throwable} without needing to declare it in the\n     * method's {@code throws} clause.\n     * \n     * &lt;p&gt;When calling, it is suggested to prepend this method by the\n     * {@code throw} keyword. This tells the compiler about the control flow,\n     * about reachable and unreachable code. (For example, you don't need to\n     * specify a method return value when throwing an exception.) To support\n     * this, this method has a return type of {@link RuntimeException},\n     * although it never returns anything.\n     * \n     * @param t the {@code Throwable} to throw\n     * @return nothing; this method never returns normally\n     * @throws Throwable that was provided to the method\n     * @throws NullPointerException if {@code t} is {@code null}\n     */\n    public static RuntimeException sneakyThrow(Throwable t) {\n        return Util.&lt;RuntimeException&gt;sneakyThrow1(t);\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private static &lt;T extends Throwable&gt; RuntimeException sneakyThrow1(\n            Throwable t) throws T {\n        throw (T)t;\n    }\n}\n</code></pre>\n\n<p>Hurray! Using this we can throw a checked exception any depth up the stack without declaring it, without wrapping it in a <code>RuntimeException</code>, and without cluttering the stack trace! Using the \"WidgetList\" example again:</p>\n\n<pre><code>@Override\npublic int size() {\n    try {\n        return (int)(file.length() / SIZE_OF_WIDGET);\n    } catch (IOException e) {\n        throw sneakyThrow(e);\n    }\n}\n</code></pre>\n\n<p>Unfortunately, the final insult of checked exceptions is that the compiler refuses to allow you to <strong>catch</strong> a checked exception if, in its flawed opinion, it could not have been thrown. (Unchecked exceptions do not have this rule.) To catch the sneakily thrown exception we have to do this:</p>\n\n<pre><code>try {\n    ...\n} catch (Throwable t) { // catch everything\n    if (t instanceof IOException) {\n        // handle it\n        ...\n    } else {\n        // didn't want to catch this one; let it go\n        throw t;\n    }\n}\n</code></pre>\n\n<p>That is a bit awkward, but on the plus side, it is still slightly simpler than the code for extracting a checked exception that was wrapped in a <code>RuntimeException</code>.</p>\n\n<p>Happily, the <code>throw t;</code> statement is legal here, even though the type of <code>t</code> is checked, thanks to a rule added in Java 7 about rethrowing caught exceptions.</p>\n\n<hr>\n\n<p>When checked exceptions meet polymorphism, the opposite case is also a problem: when a method is spec'd as potentially throwing a checked exception, but an overridden implementation doesn't. For example, the abstract class <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html\" rel=\"noreferrer\"><code>OutputStream</code></a>'s <code>write</code> methods all specify <code>throws IOException</code>. <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"noreferrer\"><code>ByteArrayOutputStream</code></a> is a subclass that writes to an in-memory array instead of a true I/O source. Its overridden <code>write</code> methods cannot cause <code>IOException</code>s, so they have no <code>throws</code> clause, and you can call them without worrying about the catch-or-specify requirement.</p>\n\n<p>Except not always. Suppose that <code>Widget</code> has a method for saving it out to a stream:</p>\n\n<pre><code>public void writeTo(OutputStream out) throws IOException;\n</code></pre>\n\n<p>Declaring this method to accept a plain <code>OutputStream</code> is the right thing to do, so it can be used polymorphically with all kinds of outputs: files, databases, the network, and so on. And in-memory arrays. With an in-memory array, however, there is a spurious requirement to handle an exception that can't actually happen:</p>\n\n<pre><code>ByteArrayOutputStream out = new ByteArrayOutputStream();\ntry {\n    someWidget.writeTo(out);\n} catch (IOException e) {\n    // can't happen (although we shouldn't ignore it if it does)\n    throw new RuntimeException(e);\n}\n</code></pre>\n\n<p>As usual, checked exceptions get in the way. If your variables are declared as a base type that has more open-ended exception requirements, you have to add handlers for those exceptions even if you <em>know</em> they won't occur in your application.</p>\n\n<p>But wait, checked exceptions are actually <em>so</em> annoying, that <em>they won't even let you do the reverse!</em> Imagine you currently catch any <code>IOException</code> thrown by <code>write</code> calls on an <code>OutputStream</code>, but you want to change the variable's declared type to a <code>ByteArrayOutputStream</code>, the compiler will berate you for trying to catch a checked exception that it says cannot be thrown.</p>\n\n<p>That rule causes some absurd problems. For example, one of the three <code>write</code> methods of <code>OutputStream</code> is <em>not</em> overridden by <code>ByteArrayOutputStream</code>. Specifically, <code>write(byte[] data)</code> is a convenience method that writes the full array by calling <code>write(byte[] data, int offset, int length)</code> with an offset of 0 and the length of the array. <code>ByteArrayOutputStream</code> overrides the three-argument method but inherits the one-argument convenience method as-is. The inherited method does exactly the right thing, but it includes an unwanted <code>throws</code> clause. That was perhaps an oversight in the design of <code>ByteArrayOutputStream</code>, but they can never fix it because it would break source compatibility with any code that does catch the exception -- the exception that has never, is never, and never will be thrown!</p>\n\n<p>That rule is annoying during editing and debugging too. E.g., sometimes I'll comment out a method call temporarily, and if it could have thrown a checked exception, the compiler will now complain about the existence of the local <code>try</code> and <code>catch</code> blocks. So I have to comment those out too, and now when editing the code within, the IDE will indent to the wrong level because the <code>{</code> and <code>}</code> are commented out. Gah! It's a small complaint but it seems like the only thing checked exceptions ever do is cause trouble.</p>\n\n<hr>\n\n<p>I'm nearly done. My final frustration with checked exceptions is that <em>at most call sites</em>, there's nothing useful you can do with them. Ideally when something goes wrong we'd have a competent application-specific handler that can inform the user of the problem and/or end or retry the operation as appropriate. Only a handler high up the stack can do this because it's the only one that knows the overall goal.</p>\n\n<p>Instead we get the following idiom, which is rampant as a way to shut the compiler up:</p>\n\n<pre><code>try {\n    ...\n} catch (SomeStupidExceptionOmgWhoCares e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>In a GUI or automated program the printed message won't be seen. Worse, it plows on with the rest of the code after the exception. Is the exception not actually an error? Then don't print it. Otherwise, something else is going to blow up in a moment, by which time the original exception object will be gone. This idiom is no better than BASIC's <code>On Error Resume Next</code> or PHP's <code>error_reporting(0);</code>.</p>\n\n<p>Calling some kind of logger class is not much better:</p>\n\n<pre><code>try {\n    ...\n} catch (SomethingWeird e) {\n    logger.log(e);\n}\n</code></pre>\n\n<p>That is just as lazy as <code>e.printStackTrace();</code> and still plows on with code in an indeterminate state. Plus, the choice of a particular logging system or other handler is application-specific, so this hurts code reuse.</p>\n\n<p>But wait! There is an easy and universal way to find the application-specific handler. It's higher up the call stack (or it is set as the Thread's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#setUncaughtExceptionHandler-java.lang.Thread.UncaughtExceptionHandler-\" rel=\"noreferrer\">uncaught exception handler</a>). So in most places, <strong><em>all you need to do is throw the exception higher up the stack</em></strong>. E.g., <code>throw e;</code>. Checked exceptions just get in the way.</p>\n\n<p>I'm sure checked exceptions sounded like a good idea when the language was designed, but in practice I've found them to be all bother and no benefit.</p>\n"},{"tags":[],"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1401680081,"creation_date":1401680081,"answer_id":23987003,"question_id":613954,"body_markdown":"Checked exceptions were, in their original form, an attempt to handle contingencies rather than failures. The laudable goal was to highlight specific predictable points (unable to connect, file not found, etc) &amp; ensure developers handled these.\r\n\r\nWhat was never included in the original concept, was to force a vast range of systemic &amp; unrecoverable failures to be declared. These failures were never correct to be declared as checked exceptions.\r\n\r\nFailures are generally possible in code, and EJB, web &amp; Swing/AWT containers already cater for this by providing an outermost “failed request” exception-handler. The most basic correct strategy is to rollback the transaction &amp; return an error.\r\n\r\nOne crucial point, is that **runtime &amp; checked exceptions are functionally equivalent.** There is no handling or recovery which checked exceptions can do, that runtime exceptions can’t.\r\n\r\nThe biggest argument against “checked” exceptions is that most exceptions can’t be fixed. The simple fact is, we don’t own the code/ subsystem that broke. We can’t see the implementation, we’re not responsible for it, and can’t fix it.\r\n\r\nIf our application is not a DB.. we shouldn&#39;t try and fix the DB. That would violate the  _principle of encapsulation_.\r\n\r\nParticularly problematic have been the areas of JDBC (SQLException) and RMI for EJB (RemoteException). Rather than identifying fixable contingencies as per the original “checked exception” concept, these forced pervasive systemic reliability issues, not actually fixable, to be widely declared.\r\n\r\nThe other severe flaw in the Java design, was that exception-handling should correctly placed at the highest possible &quot;business&quot; or &quot;request&quot; level. The principle here is &quot;throw early, catch late&quot;. Checked exceptions do little but get in the way of this.\r\n\r\nWe have an obvious issue in Java of requiring thousands of do-nothing try-catch blocks, with a significant proportion (40%+) being miscoded. Almost none of these implement any genuine handling or reliability, but impose major coding overhead.\r\n\r\nLastly, &quot;checked exceptions&quot; are pretty much incompatible with FP functional programming. \r\n\r\nTheir insistence on &quot;handle immediately&quot; is at odds with both &quot;catch late&quot; exception-handling best practice, and any FP structure which abstracts loops/ or flow of control.\r\n\r\nMany people talk about &quot;handling&quot; checked exceptions, but are talking through their hats. Continuing after a failure with null, incomplete or incorrect data to _pretend_ success is not handling anything. It&#39;s engineering/ reliability malpractice of the lowest form.\r\n\r\nFailing cleanly, is the most basic correct strategy for handling an exception. Rolling back the transaction, logging the error &amp; reporting a &quot;failure&quot; response to the user are sound practice -- and most importantly, prevent incorrect business data being committed to the database.\r\n\r\nOther strategies for exception-handling are &quot;retry&quot;, &quot;reconnect&quot; or &quot;skip&quot;, at the business, subsystem, or request level. All of these are general reliability strategies, and work well/ better with runtime exceptions.\r\n\r\nLastly, it is far preferable to fail, than to run with incorrect data. Continuing will either cause secondary errors, distant from the original cause &amp; harder to debug; or will eventually result in erroneous data being committed. People get fired for that.\r\n\r\nSee:  \r\n- http://literatejava.com/exceptions/checked-exceptions-javas-biggest-mistake/","title":"The case against checked exceptions","body":"<p>Checked exceptions were, in their original form, an attempt to handle contingencies rather than failures. The laudable goal was to highlight specific predictable points (unable to connect, file not found, etc) &amp; ensure developers handled these.</p>\n\n<p>What was never included in the original concept, was to force a vast range of systemic &amp; unrecoverable failures to be declared. These failures were never correct to be declared as checked exceptions.</p>\n\n<p>Failures are generally possible in code, and EJB, web &amp; Swing/AWT containers already cater for this by providing an outermost “failed request” exception-handler. The most basic correct strategy is to rollback the transaction &amp; return an error.</p>\n\n<p>One crucial point, is that <strong>runtime &amp; checked exceptions are functionally equivalent.</strong> There is no handling or recovery which checked exceptions can do, that runtime exceptions can’t.</p>\n\n<p>The biggest argument against “checked” exceptions is that most exceptions can’t be fixed. The simple fact is, we don’t own the code/ subsystem that broke. We can’t see the implementation, we’re not responsible for it, and can’t fix it.</p>\n\n<p>If our application is not a DB.. we shouldn't try and fix the DB. That would violate the  <em>principle of encapsulation</em>.</p>\n\n<p>Particularly problematic have been the areas of JDBC (SQLException) and RMI for EJB (RemoteException). Rather than identifying fixable contingencies as per the original “checked exception” concept, these forced pervasive systemic reliability issues, not actually fixable, to be widely declared.</p>\n\n<p>The other severe flaw in the Java design, was that exception-handling should correctly placed at the highest possible \"business\" or \"request\" level. The principle here is \"throw early, catch late\". Checked exceptions do little but get in the way of this.</p>\n\n<p>We have an obvious issue in Java of requiring thousands of do-nothing try-catch blocks, with a significant proportion (40%+) being miscoded. Almost none of these implement any genuine handling or reliability, but impose major coding overhead.</p>\n\n<p>Lastly, \"checked exceptions\" are pretty much incompatible with FP functional programming. </p>\n\n<p>Their insistence on \"handle immediately\" is at odds with both \"catch late\" exception-handling best practice, and any FP structure which abstracts loops/ or flow of control.</p>\n\n<p>Many people talk about \"handling\" checked exceptions, but are talking through their hats. Continuing after a failure with null, incomplete or incorrect data to <em>pretend</em> success is not handling anything. It's engineering/ reliability malpractice of the lowest form.</p>\n\n<p>Failing cleanly, is the most basic correct strategy for handling an exception. Rolling back the transaction, logging the error &amp; reporting a \"failure\" response to the user are sound practice -- and most importantly, prevent incorrect business data being committed to the database.</p>\n\n<p>Other strategies for exception-handling are \"retry\", \"reconnect\" or \"skip\", at the business, subsystem, or request level. All of these are general reliability strategies, and work well/ better with runtime exceptions.</p>\n\n<p>Lastly, it is far preferable to fail, than to run with incorrect data. Continuing will either cause secondary errors, distant from the original cause &amp; harder to debug; or will eventually result in erroneous data being committed. People get fired for that.</p>\n\n<p>See:<br>\n- <a href=\"http://literatejava.com/exceptions/checked-exceptions-javas-biggest-mistake/\" rel=\"nofollow\">http://literatejava.com/exceptions/checked-exceptions-javas-biggest-mistake/</a></p>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437012935,"creation_date":1437012184,"answer_id":31444217,"question_id":613954,"body_markdown":"The programmer needs to know **all** of the exceptions that a method may throw, in order to use it correctly. So, beating him over the head with just some of the exceptions does not necessarily help a careless programmer avoid errors.\r\n\r\nThe slim benefit is outweighed by the burdensome cost (especially in larger, less flexible code bases where constantly modifying the interface signatures is not practical).\r\n\r\nStatic analysis can be nice, but truly reliable static analysis often inflexibly demands strict work from the programmer. There is a cost-benefit calculation, and the bar needs to be set high for a check that leads to a compile time error. It would be more helpful if the IDE took on the role of communicating which exceptions a method may throw (including which are unavoidable). Although perhaps it would not be as reliable without forced exception declarations, most exceptions would still be declared in documentation, and the reliability of an IDE warning is not so crucial.","title":"The case against checked exceptions","body":"<p>The programmer needs to know <strong>all</strong> of the exceptions that a method may throw, in order to use it correctly. So, beating him over the head with just some of the exceptions does not necessarily help a careless programmer avoid errors.</p>\n\n<p>The slim benefit is outweighed by the burdensome cost (especially in larger, less flexible code bases where constantly modifying the interface signatures is not practical).</p>\n\n<p>Static analysis can be nice, but truly reliable static analysis often inflexibly demands strict work from the programmer. There is a cost-benefit calculation, and the bar needs to be set high for a check that leads to a compile time error. It would be more helpful if the IDE took on the role of communicating which exceptions a method may throw (including which are unavoidable). Although perhaps it would not be as reliable without forced exception declarations, most exceptions would still be declared in documentation, and the reliability of an IDE warning is not so crucial.</p>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1460646550,"creation_date":1460646550,"answer_id":36627158,"question_id":613954,"body_markdown":"This isn&#39;t an argument against the pure concept of checked exceptions, but the class hierarchy Java uses for them is a freak show. We always call the things simply &quot;exceptions&quot; – which is correct, because the language specification [calls them that too](https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html) – but how is an exception named and represented in the type system?\r\n\r\nBy the class [`Exception`](https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html) one imagines? Well no, because `Exception`s are exceptions, and likewise exceptions are `Exception`s, except for those exceptions that are ***not*** `Exception`s, because other exceptions are actually [`Error`](https://docs.oracle.com/javase/8/docs/api/java/lang/Error.html)s, which are the other kind of exception, a kind of extra-exceptional exception that should never happen except when it does, and which you should never catch except sometimes you have to. Except that&#39;s not all because you can also define other exceptions that are neither `Exception`s nor `Error`s but merely [`Throwable`](https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html) exceptions.\r\n\r\nWhich of these are the &quot;checked&quot; exceptions? `Throwable`s are checked exceptions, except if they&#39;re also `Error`s, which are unchecked exceptions, and then there&#39;s the `Exception`s, which are also `Throwable`s and are the main type of checked exception, except there&#39;s one exception to that too, which is that if they are also [`RuntimeException`](https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html)s, because that&#39;s the other kind of unchecked exception.\r\n\r\nWhat are `RuntimeException`s for? Well just like the name implies, they&#39;re exceptions, like all `Exception`s, and they happen at run-time, like all exceptions actually, except that `RuntimeException`s are exceptional compared to other run-time `Exception`s because they aren&#39;t supposed to happen except when you make some silly error, although `RuntimeException`s are never `Error`s, so they&#39;re for things that are exceptionally erroneous but which aren&#39;t actually `Error`s. Except for [`RuntimeErrorException`](https://docs.oracle.com/javase/8/docs/api/javax/management/RuntimeErrorException.html), which really is a `RuntimeException` for `Error`s. But aren&#39;t all exceptions supposed to represent erroneous circumstances anyway? Yes, all of them. Except for [`ThreadDeath`](https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadDeath.html), an exceptionally unexceptional exception, as the documentation explains that it&#39;s a &quot;normal occurrence&quot; and that that&#39;s why they made it a type of `Error`.\r\n\r\nAnyway, since we&#39;re dividing all exceptions down the middle into `Error`s (which are for exceptional execution exceptions, so unchecked) and `Exception`s (which are for less exceptional execution errors, so checked except when they&#39;re not), we now need two different kinds of each of several exceptions. So we need [`IllegalAccessError`](https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalAccessError.html) and [`IllegalAccessException`](https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalAccessException.html), and [`InstantiationError`](https://docs.oracle.com/javase/8/docs/api/java/lang/InstantiationError.html) and [`InstantiationException`](https://docs.oracle.com/javase/8/docs/api/java/lang/InstantiationException.html), and [`NoSuchFieldError`](https://docs.oracle.com/javase/8/docs/api/java/lang/NoSuchFieldError.html) and [`NoSuchFieldException`](https://docs.oracle.com/javase/8/docs/api/java/lang/NoSuchFieldException.html), and [`NoSuchMethodError`](https://docs.oracle.com/javase/8/docs/api/java/lang/NoSuchMethodError.html) and [`NoSuchMethodException`](https://docs.oracle.com/javase/8/docs/api/java/lang/NoSuchMethodException.html), and [`ZipError`](https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipError.html) and [`ZipException`](https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipException.html).\r\n\r\nExcept that even when an exception is checked, there are always (fairly easy) ways to cheat the compiler and throw it without it being checked. If you do you that you may get an [`UndeclaredThrowableException`](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/UndeclaredThrowableException.html), except in other cases, where it could throw up as an [`UnexpectedException`](https://docs.oracle.com/javase/8/docs/api/java/rmi/UnexpectedException.html), or an [`UnknownException`](https://docs.oracle.com/javase/8/docs/api/org/omg/CORBA/portable/UnknownException.html) (which is unrelated to [`UnknownError`](https://docs.oracle.com/javase/8/docs/api/java/lang/UnknownError.html), which is only for &quot;serious exceptions&quot;), or an [`ExecutionException`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html), or an [`InvocationTargetException`](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/InvocationTargetException.html), or an [`ExceptionInInitializerError`](https://docs.oracle.com/javase/8/docs/api/java/lang/ExceptionInInitializerError.html).\r\n\r\nOh, and we mustn&#39;t forget Java 8&#39;s snazzy new [`UncheckedIOException`](https://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html), which is a `RuntimeException` exception designed to let you throw the exception checking concept out the window by wrapping checked [`IOException`](https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html) exceptions caused by I/O errors (which don&#39;t cause [`IOError`](https://docs.oracle.com/javase/8/docs/api/java/io/IOError.html) exceptions, although that exists too) that are exceptionally difficult to handle and so you need them to not be checked.\r\n\r\nThanks Java!","title":"The case against checked exceptions","body":"<p>This isn't an argument against the pure concept of checked exceptions, but the class hierarchy Java uses for them is a freak show. We always call the things simply \"exceptions\" – which is correct, because the language specification <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html\" rel=\"noreferrer\">calls them that too</a> – but how is an exception named and represented in the type system?</p>\n\n<p>By the class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html\" rel=\"noreferrer\"><code>Exception</code></a> one imagines? Well no, because <code>Exception</code>s are exceptions, and likewise exceptions are <code>Exception</code>s, except for those exceptions that are <strong><em>not</em></strong> <code>Exception</code>s, because other exceptions are actually <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Error.html\" rel=\"noreferrer\"><code>Error</code></a>s, which are the other kind of exception, a kind of extra-exceptional exception that should never happen except when it does, and which you should never catch except sometimes you have to. Except that's not all because you can also define other exceptions that are neither <code>Exception</code>s nor <code>Error</code>s but merely <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html\" rel=\"noreferrer\"><code>Throwable</code></a> exceptions.</p>\n\n<p>Which of these are the \"checked\" exceptions? <code>Throwable</code>s are checked exceptions, except if they're also <code>Error</code>s, which are unchecked exceptions, and then there's the <code>Exception</code>s, which are also <code>Throwable</code>s and are the main type of checked exception, except there's one exception to that too, which is that if they are also <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html\" rel=\"noreferrer\"><code>RuntimeException</code></a>s, because that's the other kind of unchecked exception.</p>\n\n<p>What are <code>RuntimeException</code>s for? Well just like the name implies, they're exceptions, like all <code>Exception</code>s, and they happen at run-time, like all exceptions actually, except that <code>RuntimeException</code>s are exceptional compared to other run-time <code>Exception</code>s because they aren't supposed to happen except when you make some silly error, although <code>RuntimeException</code>s are never <code>Error</code>s, so they're for things that are exceptionally erroneous but which aren't actually <code>Error</code>s. Except for <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/management/RuntimeErrorException.html\" rel=\"noreferrer\"><code>RuntimeErrorException</code></a>, which really is a <code>RuntimeException</code> for <code>Error</code>s. But aren't all exceptions supposed to represent erroneous circumstances anyway? Yes, all of them. Except for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadDeath.html\" rel=\"noreferrer\"><code>ThreadDeath</code></a>, an exceptionally unexceptional exception, as the documentation explains that it's a \"normal occurrence\" and that that's why they made it a type of <code>Error</code>.</p>\n\n<p>Anyway, since we're dividing all exceptions down the middle into <code>Error</code>s (which are for exceptional execution exceptions, so unchecked) and <code>Exception</code>s (which are for less exceptional execution errors, so checked except when they're not), we now need two different kinds of each of several exceptions. So we need <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalAccessError.html\" rel=\"noreferrer\"><code>IllegalAccessError</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalAccessException.html\" rel=\"noreferrer\"><code>IllegalAccessException</code></a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/InstantiationError.html\" rel=\"noreferrer\"><code>InstantiationError</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/InstantiationException.html\" rel=\"noreferrer\"><code>InstantiationException</code></a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/NoSuchFieldError.html\" rel=\"noreferrer\"><code>NoSuchFieldError</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/NoSuchFieldException.html\" rel=\"noreferrer\"><code>NoSuchFieldException</code></a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/NoSuchMethodError.html\" rel=\"noreferrer\"><code>NoSuchMethodError</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/NoSuchMethodException.html\" rel=\"noreferrer\"><code>NoSuchMethodException</code></a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipError.html\" rel=\"noreferrer\"><code>ZipError</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipException.html\" rel=\"noreferrer\"><code>ZipException</code></a>.</p>\n\n<p>Except that even when an exception is checked, there are always (fairly easy) ways to cheat the compiler and throw it without it being checked. If you do you that you may get an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/UndeclaredThrowableException.html\" rel=\"noreferrer\"><code>UndeclaredThrowableException</code></a>, except in other cases, where it could throw up as an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/rmi/UnexpectedException.html\" rel=\"noreferrer\"><code>UnexpectedException</code></a>, or an <a href=\"https://docs.oracle.com/javase/8/docs/api/org/omg/CORBA/portable/UnknownException.html\" rel=\"noreferrer\"><code>UnknownException</code></a> (which is unrelated to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/UnknownError.html\" rel=\"noreferrer\"><code>UnknownError</code></a>, which is only for \"serious exceptions\"), or an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html\" rel=\"noreferrer\"><code>ExecutionException</code></a>, or an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/InvocationTargetException.html\" rel=\"noreferrer\"><code>InvocationTargetException</code></a>, or an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ExceptionInInitializerError.html\" rel=\"noreferrer\"><code>ExceptionInInitializerError</code></a>.</p>\n\n<p>Oh, and we mustn't forget Java 8's snazzy new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html\" rel=\"noreferrer\"><code>UncheckedIOException</code></a>, which is a <code>RuntimeException</code> exception designed to let you throw the exception checking concept out the window by wrapping checked <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html\" rel=\"noreferrer\"><code>IOException</code></a> exceptions caused by I/O errors (which don't cause <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/IOError.html\" rel=\"noreferrer\"><code>IOError</code></a> exceptions, although that exists too) that are exceptionally difficult to handle and so you need them to not be checked.</p>\n\n<p>Thanks Java!</p>\n"},{"tags":[],"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1596712895,"creation_date":1507559948,"answer_id":46649027,"question_id":613954,"body_markdown":"One important thing nobody mentioned is how it interferes with interfaces and lambda expressions.\r\n\r\nLet&#39;s say you define a `MyAppException extends Exception`. It is the top level exception inherited by all exceptions thrown by your application. In some places you don&#39;t want to react to the particular exceptions, you want the caller to resolve it, so you declare `throws MyAppException`.\r\n\r\n\r\nAll looks OK until you want to use someone else&#39;s interface. Obviously they don&#39;t declare intention to throw `MyAppException`, so compiler doesn&#39;t allow you to even call your methods that declare `throws MyAppException` in there. This is especially painful with `java.util.function`.\r\n\r\nHowever, if your exception extends `RuntimeException`, there will be no problem with interfaces. You can mention the exception in JavaDoc if you wish. But other than that it just silently bubbless through anything. Of course that means it can terminate your application. But in lots of enterprise software you have exception handling layer and unchecked exceptions save lots of trouble.","title":"The case against checked exceptions","body":"<p>One important thing nobody mentioned is how it interferes with interfaces and lambda expressions.</p>\n<p>Let's say you define a <code>MyAppException extends Exception</code>. It is the top level exception inherited by all exceptions thrown by your application. In some places you don't want to react to the particular exceptions, you want the caller to resolve it, so you declare <code>throws MyAppException</code>.</p>\n<p>All looks OK until you want to use someone else's interface. Obviously they don't declare intention to throw <code>MyAppException</code>, so compiler doesn't allow you to even call your methods that declare <code>throws MyAppException</code> in there. This is especially painful with <code>java.util.function</code>.</p>\n<p>However, if your exception extends <code>RuntimeException</code>, there will be no problem with interfaces. You can mention the exception in JavaDoc if you wish. But other than that it just silently bubbless through anything. Of course that means it can terminate your application. But in lots of enterprise software you have exception handling layer and unchecked exceptions save lots of trouble.</p>\n"},{"tags":[],"owner":{"account_id":4416433,"reputation":1212,"user_id":3597909,"accept_rate":53,"display_name":"Zrom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658162545,"creation_date":1658152901,"answer_id":73023605,"question_id":613954,"body_markdown":"**Robert C. Martin** also does not recommend using checked exception in his book **Clean Code** and considers that checked exception is an **Open-Closed Principle** violation: \r\n\r\n&gt; What price? The price of checked exceptions is an Open/Closed\r\n&gt; Principle1 violation. If you throw a checked exception from a method\r\n&gt; in your code and the catch is three levels above, you must declare\r\n&gt; that exception in the signature of each method between you and the\r\n&gt; catch. This means that a change at a low level of the software can\r\n&gt; force signature changes on many higher levels. The changed modules\r\n&gt; must be rebuilt and redeployed, even though nothing they care about\r\n&gt; changed.","title":"The case against checked exceptions","body":"<p><strong>Robert C. Martin</strong> also does not recommend using checked exception in his book <strong>Clean Code</strong> and considers that checked exception is an <strong>Open-Closed Principle</strong> violation:</p>\n<blockquote>\n<p>What price? The price of checked exceptions is an Open/Closed\nPrinciple1 violation. If you throw a checked exception from a method\nin your code and the catch is three levels above, you must declare\nthat exception in the signature of each method between you and the\ncatch. This means that a change at a low level of the software can\nforce signature changes on many higher levels. The changed modules\nmust be rebuilt and redeployed, even though nothing they care about\nchanged.</p>\n</blockquote>\n"}],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":28,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83094,"favorite_count":0,"down_vote_count":6,"up_vote_count":537,"answer_count":33,"score":531,"last_activity_date":1658162545,"creation_date":1236241134,"question_id":613954,"body_markdown":"For a number of years now I have been unable to get a decent answer to the following question: why are some developers so against checked exceptions?  I have had numerous conversations, read things on blogs, read what Bruce Eckel had to say (the first person I saw speak out against them).  \r\n\r\nI am currently writing some new code and paying very careful attention to how I deal with exceptions.  I am trying to see the point of view of the &quot;we don&#39;t like checked exceptions&quot; crowd and I still cannot see it.\r\n\r\nEvery conversation I have ends with the same question going unanswered... let me set it up:\r\n\r\nIn general (from how Java was designed), \r\n\r\n- `Error` is for things that should never be caught (VM has a peanut allergy and someone dropped a jar of peanuts on it)\r\n- `RuntimeException` is for things that the programmer did wrong (programmer walked off the end of an array)\r\n- `Exception` (except `RuntimeException`) is for things that are out of the programmer&#39;s control (disk fills up while writing to the file system, file handle limit for the process has been reached and you cannot open any more files)\r\n- `Throwable` is simply the parent of all of the exception types.\r\n\r\nA common argument I hear is that if an exception happens then all the developer is going to do is exit the program.\r\n\r\nAnother common argument I hear is that checked exceptions make it harder to refactor code.\r\n\r\nFor the &quot;all I am going to do is exit&quot; argument I say that even if you are exiting you need to display a reasonable error message.  If you are just punting on handling errors then your users won&#39;t be overly happy when the program exits without a clear indication of why.\r\n\r\nFor the &quot;it makes it hard to refactor&quot; crowd, that indicates that the proper level of abstraction wasn&#39;t chosen.  Rather than declare a method throws an `IOException`, the `IOException` should be transformed into an exception that is more suited for what is going on. \r\n\r\nI don&#39;t have an issue with wrapping Main with `catch(Exception)` (or in some cases `catch(Throwable)` to ensure that the program can exit gracefully - but I always catch the specific exceptions I need to.  Doing that allows me to, at the very least, display an appropriate error message.\r\n\r\nThe question that people never reply to is this: \r\n\r\n&gt; If you throw `RuntimeException`\r\n&gt; subclasses instead of `Exception`\r\n&gt; subclasses then how do you know what\r\n&gt; you are supposed to catch?\r\n\r\nIf the answer is catch `Exception` then you are also dealing with programmer errors the same way as system exceptions.  That seems wrong to me.\r\n\r\nIf you catch `Throwable` then you are treating system exceptions and VM errors (and the like) the same way.  That seems wrong to me.\r\n\r\nIf the answer is that you catch only the exceptions you know are thrown then how do you know what ones are thrown?  What happens when programmer X throws a new exception and forgot to catch it?  That seems very dangerous to me.\r\n\r\nI would say that a program that displays a stack trace is wrong.  Do people who don&#39;t like checked exceptions not feel that way?\r\n\r\nSo, if you don&#39;t like checked exceptions can you explain why not AND answer the question that doesn&#39;t get answered please?\r\n\r\nI am not looking for advice on when to use either model, what I am looking for is _why_ people extend from `RuntimeException` because they don&#39;t like extending from `Exception` and/or why they catch an exception and then rethrow a `RuntimeException` rather than add throws to their method.  I want to understand the motivation for disliking checked exceptions. ","title":"The case against checked exceptions","body":"<p>For a number of years now I have been unable to get a decent answer to the following question: why are some developers so against checked exceptions?  I have had numerous conversations, read things on blogs, read what Bruce Eckel had to say (the first person I saw speak out against them).</p>\n<p>I am currently writing some new code and paying very careful attention to how I deal with exceptions.  I am trying to see the point of view of the &quot;we don't like checked exceptions&quot; crowd and I still cannot see it.</p>\n<p>Every conversation I have ends with the same question going unanswered... let me set it up:</p>\n<p>In general (from how Java was designed),</p>\n<ul>\n<li><code>Error</code> is for things that should never be caught (VM has a peanut allergy and someone dropped a jar of peanuts on it)</li>\n<li><code>RuntimeException</code> is for things that the programmer did wrong (programmer walked off the end of an array)</li>\n<li><code>Exception</code> (except <code>RuntimeException</code>) is for things that are out of the programmer's control (disk fills up while writing to the file system, file handle limit for the process has been reached and you cannot open any more files)</li>\n<li><code>Throwable</code> is simply the parent of all of the exception types.</li>\n</ul>\n<p>A common argument I hear is that if an exception happens then all the developer is going to do is exit the program.</p>\n<p>Another common argument I hear is that checked exceptions make it harder to refactor code.</p>\n<p>For the &quot;all I am going to do is exit&quot; argument I say that even if you are exiting you need to display a reasonable error message.  If you are just punting on handling errors then your users won't be overly happy when the program exits without a clear indication of why.</p>\n<p>For the &quot;it makes it hard to refactor&quot; crowd, that indicates that the proper level of abstraction wasn't chosen.  Rather than declare a method throws an <code>IOException</code>, the <code>IOException</code> should be transformed into an exception that is more suited for what is going on.</p>\n<p>I don't have an issue with wrapping Main with <code>catch(Exception)</code> (or in some cases <code>catch(Throwable)</code> to ensure that the program can exit gracefully - but I always catch the specific exceptions I need to.  Doing that allows me to, at the very least, display an appropriate error message.</p>\n<p>The question that people never reply to is this:</p>\n<blockquote>\n<p>If you throw <code>RuntimeException</code>\nsubclasses instead of <code>Exception</code>\nsubclasses then how do you know what\nyou are supposed to catch?</p>\n</blockquote>\n<p>If the answer is catch <code>Exception</code> then you are also dealing with programmer errors the same way as system exceptions.  That seems wrong to me.</p>\n<p>If you catch <code>Throwable</code> then you are treating system exceptions and VM errors (and the like) the same way.  That seems wrong to me.</p>\n<p>If the answer is that you catch only the exceptions you know are thrown then how do you know what ones are thrown?  What happens when programmer X throws a new exception and forgot to catch it?  That seems very dangerous to me.</p>\n<p>I would say that a program that displays a stack trace is wrong.  Do people who don't like checked exceptions not feel that way?</p>\n<p>So, if you don't like checked exceptions can you explain why not AND answer the question that doesn't get answered please?</p>\n<p>I am not looking for advice on when to use either model, what I am looking for is <em>why</em> people extend from <code>RuntimeException</code> because they don't like extending from <code>Exception</code> and/or why they catch an exception and then rethrow a <code>RuntimeException</code> rather than add throws to their method.  I want to understand the motivation for disliking checked exceptions.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8815,"page":1177,"page_size":100}
