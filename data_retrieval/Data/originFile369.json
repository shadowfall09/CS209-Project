{"items":[{"tags":["java","gradle","groovy","build-tools"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1686679745,"post_id":76466582,"comment_id":134831539,"body_markdown":"Not sure you can, why do you want to?","body":"Not sure you can, why do you want to?"},{"owner":{"account_id":20392426,"reputation":7,"user_id":20232843,"display_name":"Rostik"},"score":0,"creation_date":1686681771,"post_id":76466582,"comment_id":134831987,"body_markdown":"Obviously, to see only projects dependencies in multiple-project build ;)","body":"Obviously, to see only projects dependencies in multiple-project build ;)"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1686682414,"post_id":76466582,"comment_id":134832106,"body_markdown":"Have you tried using `--scan` to send a scan of the build to the public build scan service? There&#39;s a dependencies section in the UI, and you can just open the project you care about","body":"Have you tried using <code>--scan</code> to send a scan of the build to the public build scan service? There&#39;s a dependencies section in the UI, and you can just open the project you care about"}],"answers":[{"tags":[],"owner":{"account_id":4953345,"reputation":1778,"user_id":3986677,"display_name":"James Lamb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686792274,"creation_date":1686792274,"answer_id":76478502,"question_id":76466582,"body_markdown":"Is it absolutely necessary for some reason that this be solved only with arguments to `gradle`?\r\n\r\nIf not, then this will produce what you want:\r\n\r\n```shell\r\ngradle certainProject:dependencies | grep -E &#39; project \\:&#39;\r\n```","title":"How remove unnecessary dependencies in output from &quot;gradle dependencies&quot; task?","body":"<p>Is it absolutely necessary for some reason that this be solved only with arguments to <code>gradle</code>?</p>\n<p>If not, then this will produce what you want:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>gradle certainProject:dependencies | grep -E ' project \\:'\n</code></pre>\n"}],"owner":{"account_id":20392426,"reputation":7,"user_id":20232843,"display_name":"Rostik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76478502,"answer_count":1,"score":0,"last_activity_date":1686792274,"creation_date":1686670788,"question_id":76466582,"body_markdown":"Assume, we have multi-project build and we want to see all dependencies for certain module:\r\n\r\n```\r\ngradle certainProject:dependencies\r\n```\r\n\r\nThen we will get similar output:\r\n```\r\n+--- project :firstProject\r\n|    +--- project :anyProject\r\n|    +--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\r\n|    +--- org.projectlombok:lombok:1.18.20 -&gt; 1.18.22\r\n|    +--- org.springframework:spring-core:5.3.22 -&gt; 5.3.25 (*)\r\n+--- project :secondProject\r\n|    +--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\r\n|    +--- org.springframework.kafka:spring-kafka:2.8.6 (*)\r\n|    +--- org.mapstruct:mapstruct:1.4.2.Final\r\n|    \\--- org.mapstruct:mapstruct-processor:1.4.2.Final\r\n+--- project :thirdProject\r\n|    +--- … e.t.c\r\n```\r\n\r\n\r\n\r\nI&#39;m interesting in only see &quot;project :&quot; in output recursively in depth:\r\n```\r\n+--- project :firstProject\r\n|    +--- project :anyProject\r\n+--- project :secondProject\r\n+--- project :thirdProject\r\n```\r\n\r\nProbably exclude by pattern or smth same?\r\n\r\nThese deps add such way:\r\n```\r\ndependencies {\r\n    implementation(\r\n            project(&quot;:firstProject&quot;),\r\n            project(&quot;:secondProject&quot;),\r\n            project(&quot;:thirdProject&quot;),\r\n    )\r\n    \r\n    implementation(&quot;org.postgresql:postgresql:3.2.2&quot;)\r\n    //…\r\n}\r\n```","title":"How remove unnecessary dependencies in output from &quot;gradle dependencies&quot; task?","body":"<p>Assume, we have multi-project build and we want to see all dependencies for certain module:</p>\n<pre><code>gradle certainProject:dependencies\n</code></pre>\n<p>Then we will get similar output:</p>\n<pre><code>+--- project :firstProject\n|    +--- project :anyProject\n|    +--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\n|    +--- org.projectlombok:lombok:1.18.20 -&gt; 1.18.22\n|    +--- org.springframework:spring-core:5.3.22 -&gt; 5.3.25 (*)\n+--- project :secondProject\n|    +--- org.slf4j:slf4j-api:1.7.30 -&gt; 1.7.36\n|    +--- org.springframework.kafka:spring-kafka:2.8.6 (*)\n|    +--- org.mapstruct:mapstruct:1.4.2.Final\n|    \\--- org.mapstruct:mapstruct-processor:1.4.2.Final\n+--- project :thirdProject\n|    +--- … e.t.c\n</code></pre>\n<p>I'm interesting in only see &quot;project :&quot; in output recursively in depth:</p>\n<pre><code>+--- project :firstProject\n|    +--- project :anyProject\n+--- project :secondProject\n+--- project :thirdProject\n</code></pre>\n<p>Probably exclude by pattern or smth same?</p>\n<p>These deps add such way:</p>\n<pre><code>dependencies {\n    implementation(\n            project(&quot;:firstProject&quot;),\n            project(&quot;:secondProject&quot;),\n            project(&quot;:thirdProject&quot;),\n    )\n    \n    implementation(&quot;org.postgresql:postgresql:3.2.2&quot;)\n    //…\n}\n</code></pre>\n"},{"tags":["java","compilation","classpath"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686640793,"post_id":76454348,"comment_id":134822899,"body_markdown":"I think the duplicate question definitely answers your question, namely that it is not supported. Did you not see this part of the accepted answer to the duplicate question? _You are trying to call the Java compiler from source directly with its Java API. This source code does not contain the wildcard expansion._","body":"I think the duplicate question definitely answers your question, namely that it is not supported. Did you not see this part of the accepted answer to the duplicate question? <i>You are trying to call the Java compiler from source directly with its Java API. This source code does not contain the wildcard expansion.</i>"},{"owner":{"account_id":465422,"reputation":3287,"user_id":869488,"accept_rate":32,"display_name":"rajesh"},"score":0,"creation_date":1686816969,"post_id":76454348,"comment_id":134852198,"body_markdown":"@Abra Thanks for pointing this out. I had indeed missed that part where it gets called out. I have asked to close this question again.","body":"@Abra Thanks for pointing this out. I had indeed missed that part where it gets called out. I have asked to close this question again."}],"owner":{"account_id":465422,"reputation":3287,"user_id":869488,"accept_rate":32,"display_name":"rajesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686817160,"answer_count":0,"score":0,"last_activity_date":1686791673,"creation_date":1686554314,"question_id":76454348,"body_markdown":"I have a program that compiles a Java class. \r\n\r\n    JavaCompiler.CompilationTask compilationTask = compiler.getTask(null, fileManager, diagListener, compilerOptions, null, Arrays.asList(compilationUnit));\r\n    compilationTask.call;\r\n\r\nIn compilerOptions, classpath is being set with -classpath \r\n\r\nI need to modify this by adding wildchar in the classpath so that it will add all jar files from the directory.\r\n\r\nI tried the following values for being used for the -classpath flag, but all fails.\r\n\r\n    &quot;one.jar:two.jar:/data/third_party/*:&quot; \r\n    &quot;one.jar:two.jar:/data/third_party/*&quot; \r\n    &quot;\\&quot;one.jar:two.jar:/data/third_party/*\\&quot;&quot;\r\n\r\nIs there a way to make this work?\r\n\r\nEdit: This is not about the options we set from the command line. I am aware of existing questions on that. \r\n\r\n","title":"Setting Java classpath with wildchar when programmatically compiling the class file","body":"<p>I have a program that compiles a Java class.</p>\n<pre><code>JavaCompiler.CompilationTask compilationTask = compiler.getTask(null, fileManager, diagListener, compilerOptions, null, Arrays.asList(compilationUnit));\ncompilationTask.call;\n</code></pre>\n<p>In compilerOptions, classpath is being set with -classpath</p>\n<p>I need to modify this by adding wildchar in the classpath so that it will add all jar files from the directory.</p>\n<p>I tried the following values for being used for the -classpath flag, but all fails.</p>\n<pre><code>&quot;one.jar:two.jar:/data/third_party/*:&quot; \n&quot;one.jar:two.jar:/data/third_party/*&quot; \n&quot;\\&quot;one.jar:two.jar:/data/third_party/*\\&quot;&quot;\n</code></pre>\n<p>Is there a way to make this work?</p>\n<p>Edit: This is not about the options we set from the command line. I am aware of existing questions on that.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":229582,"reputation":39898,"user_id":492624,"accept_rate":97,"display_name":"Marek Sebera"},"score":1,"creation_date":1387210586,"post_id":20615448,"comment_id":30851254,"body_markdown":"Tried to use SparseBooleanArray? https://developer.android.com/reference/android/util/SparseBooleanArray.html","body":"Tried to use SparseBooleanArray? <a href=\"https://developer.android.com/reference/android/util/SparseBooleanArray.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/util/&hellip;</a>"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1387210624,"post_id":20615448,"comment_id":30851294,"body_markdown":"What do you mean by initially setting all of them to `false`? ArrayList is empty initially when it is created. Your question would have made more sense had you been talking about arrays.","body":"What do you mean by initially setting all of them to <code>false</code>? ArrayList is empty initially when it is created. Your question would have made more sense had you been talking about arrays."},{"owner":{"account_id":3098283,"reputation":1481,"user_id":2623052,"accept_rate":45,"display_name":"Allan Macmillan"},"score":0,"creation_date":1387211320,"post_id":20615448,"comment_id":30851819,"body_markdown":"Well initially I know exactly how many to create, but they may be added to or removed so need to use an arraylist and cant use an array.","body":"Well initially I know exactly how many to create, but they may be added to or removed so need to use an arraylist and cant use an array."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":2,"creation_date":1387211419,"post_id":20615448,"comment_id":30851889,"body_markdown":"You might also consider `java.util.BitSet`","body":"You might also consider <code>java.util.BitSet</code>"}],"answers":[{"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1437677180,"creation_date":1387210568,"answer_id":20615513,"question_id":20615448,"body_markdown":"Do like this\r\n\r\n    List&lt;Boolean&gt; list=new ArrayList&lt;Boolean&gt;(Arrays.asList(new Boolean[10]));\r\n    Collections.fill(list, Boolean.TRUE);\r\n\r\n","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>Do like this</p>\n\n<pre><code>List&lt;Boolean&gt; list=new ArrayList&lt;Boolean&gt;(Arrays.asList(new Boolean[10]));\nCollections.fill(list, Boolean.TRUE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1387210637,"creation_date":1387210637,"answer_id":20615538,"question_id":20615448,"body_markdown":"You can use the `fill` method from `Collections`:\r\n\r\n    Collections.fill(list, Boolean.FALSE);\r\n\r\nAnother option might be using an array instead of a `List`:\r\n\r\n    boolean[] arr = new boolean[10];\r\n\r\nThis will auto-initialize to `false` since `boolean`&#39;s default value is `false`.","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>You can use the <code>fill</code> method from <code>Collections</code>:</p>\n\n<pre><code>Collections.fill(list, Boolean.FALSE);\n</code></pre>\n\n<p>Another option might be using an array instead of a <code>List</code>:</p>\n\n<pre><code>boolean[] arr = new boolean[10];\n</code></pre>\n\n<p>This will auto-initialize to <code>false</code> since <code>boolean</code>'s default value is <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":4181684,"reputation":2258,"user_id":3426524,"accept_rate":60,"display_name":"Gaurav Sarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481924554,"creation_date":1481924554,"answer_id":41192832,"question_id":20615448,"body_markdown":"You could also use the following \r\n         \r\n    Arrays.fill(list, Boolean.FALSE);","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>You could also use the following </p>\n\n<pre><code>Arrays.fill(list, Boolean.FALSE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10528881,"reputation":1,"user_id":7758967,"display_name":"Dill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490298784,"creation_date":1490298784,"answer_id":42985760,"question_id":20615448,"body_markdown":"    ArrayList&lt;Boolean&gt; list = new ArrayList&lt;Boolean&gt;(size);\r\n    list.addAll(Collections.nCopies(size, Boolean.FALSE));","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<pre><code>ArrayList&lt;Boolean&gt; list = new ArrayList&lt;Boolean&gt;(size);\nlist.addAll(Collections.nCopies(size, Boolean.FALSE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1505362132,"creation_date":1505362132,"answer_id":46210370,"question_id":20615448,"body_markdown":"Use `Collections.nCopies`:\r\n\r\n    List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(n, false));","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>Use <code>Collections.nCopies</code>:</p>\n\n<pre><code>List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(n, false));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28823866,"reputation":1,"user_id":22075743,"display_name":"user22075743"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686791295,"creation_date":1686791295,"answer_id":76478451,"question_id":20615448,"body_markdown":"first of all we can create a boolean list by\r\nArrayList&lt;Boolean&gt;list=new ArrayList&lt;Boolean&gt;(size);\r\nthen u can add by if and else conditions whether it is true or not\r\nso\r\nlist.add(index position,element);\r\nas element should be of boolean data type u convert from string to boolean\r\ni.e.,\r\nlist.add(index position,Boolean.valueOf(element));\r\n","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>first of all we can create a boolean list by\nArrayListlist=new ArrayList(size);\nthen u can add by if and else conditions whether it is true or not\nso\nlist.add(index position,element);\nas element should be of boolean data type u convert from string to boolean\ni.e.,\nlist.add(index position,Boolean.valueOf(element));</p>\n"}],"owner":{"account_id":3098283,"reputation":1481,"user_id":2623052,"accept_rate":45,"display_name":"Allan Macmillan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116498,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"accepted_answer_id":20615513,"answer_count":6,"score":25,"last_activity_date":1686791295,"creation_date":1387210369,"question_id":20615448,"body_markdown":"Is there an ease way to create an `ArrayList&lt;Boolean&gt;` using Java and have them initially all set to false without looping through and assigning each to false?\r\n\r\n","title":"Set all values of ArrayList&lt;Boolean&gt; to false on instantiation","body":"<p>Is there an ease way to create an <code>ArrayList&lt;Boolean&gt;</code> using Java and have them initially all set to false without looping through and assigning each to false?</p>\n"},{"tags":["java","spring","gradle","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686821408,"post_id":76478449,"comment_id":134853145,"body_markdown":"And you left out **which version** of spring boot you are using. If you are using 3+ yo must use Tomcat 10.x, anything lower should work. Judging from the error you get you are using 3+. But why even deploy instead of using the embedded container. Finally `Built app as Gradle war`? What do you mean with that last part? Spring Boot should build the war through the proper plugin.","body":"And you left out <b>which version</b> of spring boot you are using. If you are using 3+ yo must use Tomcat 10.x, anything lower should work. Judging from the error you get you are using 3+. But why even deploy instead of using the embedded container. Finally <code>Built app as Gradle war</code>? What do you mean with that last part? Spring Boot should build the war through the proper plugin."},{"owner":{"account_id":8046375,"reputation":174,"user_id":6066477,"display_name":"Salvatore Maruccio"},"score":0,"creation_date":1686821941,"post_id":76478449,"comment_id":134853263,"body_markdown":"@M.Deinum I&#39;m using Spring 3.0.5. Yes i built the .war through the gradle plugin, and i need to deploy it on an external tomcat test server. So with Spring 3.x.x. I need Tomcat 10?","body":"@M.Deinum I&#39;m using Spring 3.0.5. Yes i built the .war through the gradle plugin, and i need to deploy it on an external tomcat test server. So with Spring 3.x.x. I need Tomcat 10?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686822044,"post_id":76478449,"comment_id":134853292,"body_markdown":"You are using Spring Boot (which uses Spring 6.0) 3.0. Yes minimum requirement is Java17 and Tomcat 10. Simply because Spring Boot 3.x is for JakartaEE and not JavaEE.","body":"You are using Spring Boot (which uses Spring 6.0) 3.0. Yes minimum requirement is Java17 and Tomcat 10. Simply because Spring Boot 3.x is for JakartaEE and not JavaEE."}],"owner":{"account_id":8046375,"reputation":174,"user_id":6066477,"display_name":"Salvatore Maruccio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686791242,"creation_date":1686791242,"question_id":76478449,"body_markdown":"I am trying to deploy a Spring Boot Application on external Tomcat 8.5.73 but when i browse on my `localhost:8080/myApplicationName` i get *&quot;The requested resource is not available&quot;* error.\r\n\r\nI have successfully deployed my Angular Front-End (on `localhost:8080/myAngularApp`) and it works fine.\r\n\r\nThese are the step that I&#39;ve already followed:\r\n\r\n - Set JRE_HOME (jre1.8.0_51) and CATALINA_HOME variables correctly;\r\n - Set WAR packaging in Gradle;\r\n - Added `spring-boot-starter-tomcat` as provided in my Gradle dependencies;\r\n - Extended my application with `SpringBootServletInitializer` and overrided the method `SpringApplicationBuilder configure`;\r\n - Built app as `Gradle War`;\r\n - Added the .war file in /webapps tomcat&#39;s folder.\r\n\r\nWhen I launch `startup.bat` i get:\r\n\r\n    WARNING [localhost-startStop-1] org.apache.tomcat.util.descriptor.web.WebXml.setVersion Unknown version string [5.0]. Default version will be used.\r\n    INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [ .. \\tomcat\\webapps\\myApplicationName.war] has finished in [4,823] ms\r\n    INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 10657 ms\r\n\r\nI&#39;ve also tried to set `java` instead of `jvm` on startup and shutdown properties in tomcat8w but i get the same error.\r\n\r\nI can see every deployed app on tomcat manager panel but it goes 404 every time except for my Frontend. \r\n\r\nI have sent the .war to one of my colleagues and it works fine on his machine, so I am 99% sure that the problem is somewhere in my tomcat config. Anyway the only difference between me and my colleague is that he can see the &quot;spring logo&quot; and spring logs on his tomcat log when he starts tomcat via startup.bat.","title":"Tomcat / Gradle Spring Application - The requested resource is not available","body":"<p>I am trying to deploy a Spring Boot Application on external Tomcat 8.5.73 but when i browse on my <code>localhost:8080/myApplicationName</code> i get <em>&quot;The requested resource is not available&quot;</em> error.</p>\n<p>I have successfully deployed my Angular Front-End (on <code>localhost:8080/myAngularApp</code>) and it works fine.</p>\n<p>These are the step that I've already followed:</p>\n<ul>\n<li>Set JRE_HOME (jre1.8.0_51) and CATALINA_HOME variables correctly;</li>\n<li>Set WAR packaging in Gradle;</li>\n<li>Added <code>spring-boot-starter-tomcat</code> as provided in my Gradle dependencies;</li>\n<li>Extended my application with <code>SpringBootServletInitializer</code> and overrided the method <code>SpringApplicationBuilder configure</code>;</li>\n<li>Built app as <code>Gradle War</code>;</li>\n<li>Added the .war file in /webapps tomcat's folder.</li>\n</ul>\n<p>When I launch <code>startup.bat</code> i get:</p>\n<pre><code>WARNING [localhost-startStop-1] org.apache.tomcat.util.descriptor.web.WebXml.setVersion Unknown version string [5.0]. Default version will be used.\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [ .. \\tomcat\\webapps\\myApplicationName.war] has finished in [4,823] ms\nINFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [main] org.apache.catalina.startup.Catalina.start Server startup in 10657 ms\n</code></pre>\n<p>I've also tried to set <code>java</code> instead of <code>jvm</code> on startup and shutdown properties in tomcat8w but i get the same error.</p>\n<p>I can see every deployed app on tomcat manager panel but it goes 404 every time except for my Frontend.</p>\n<p>I have sent the .war to one of my colleagues and it works fine on his machine, so I am 99% sure that the problem is somewhere in my tomcat config. Anyway the only difference between me and my colleague is that he can see the &quot;spring logo&quot; and spring logs on his tomcat log when he starts tomcat via startup.bat.</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1497637331,"post_id":44595433,"comment_id":76179378,"body_markdown":"`put()` returns previous *value* by that name, which means `null` in your case. `put()` is not a [chaining method](https://en.wikipedia.org/wiki/Method_chaining).","body":"<code>put()</code> returns previous <i>value</i> by that name, which means <code>null</code> in your case. <code>put()</code> is not a <a href=\"https://en.wikipedia.org/wiki/Method_chaining\" rel=\"nofollow noreferrer\">chaining method</a>."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":5,"up_vote_count":9,"is_accepted":true,"score":4,"last_activity_date":1497637419,"creation_date":1497637419,"answer_id":44595725,"question_id":44595433,"body_markdown":"[JSONArray](http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONArray.html) is a sub-class of `java.util.ArrayList` and [JSONObject](http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONObject.html) is a sub-class of `java.util.HashMap`.\r\n\r\nTherefore, `new JSONObject().put(&quot;name&quot;, &quot;John&quot;)` returns the previous value  associated with the key (`null`), not the `JSONObject` instance. As a result, `null` is added to the `JSONArray`.\r\n\r\nThis, on the other hand, works:\r\n\r\n        JSONArray jsonArray = new JSONArray();\r\n        JSONObject j1 = new JSONObject();\r\n        j1.put (&quot;name&quot;, &quot;John&quot;);\r\n        JSONObject j2 = new JSONObject();\r\n        j2.put (&quot;name&quot;, &quot;David&quot;);\r\n        jsonArray.add(j1);\r\n        jsonArray.add(j2);\r\n        Stream&lt;String&gt; ss = jsonArray.stream().map (json-&gt;json.toString ());\r\n        List&lt;String&gt; list = ss.collect (Collectors.toList ());\r\n        System.out.println(list);\r\n\r\nFor some reason I had to split the stream pipeline into two steps, because otherwise the compiler doesn&#39;t recognize that `.collect (Collectors.toList())` returns a `List`.\r\n\r\nThe output is:\r\n\r\n    [{&quot;name&quot;:&quot;John&quot;}, {&quot;name&quot;:&quot;David&quot;}]","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<p><a href=\"http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONArray.html\" rel=\"nofollow noreferrer\">JSONArray</a> is a sub-class of <code>java.util.ArrayList</code> and <a href=\"http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONObject.html\" rel=\"nofollow noreferrer\">JSONObject</a> is a sub-class of <code>java.util.HashMap</code>.</p>\n\n<p>Therefore, <code>new JSONObject().put(\"name\", \"John\")</code> returns the previous value  associated with the key (<code>null</code>), not the <code>JSONObject</code> instance. As a result, <code>null</code> is added to the <code>JSONArray</code>.</p>\n\n<p>This, on the other hand, works:</p>\n\n<pre><code>    JSONArray jsonArray = new JSONArray();\n    JSONObject j1 = new JSONObject();\n    j1.put (\"name\", \"John\");\n    JSONObject j2 = new JSONObject();\n    j2.put (\"name\", \"David\");\n    jsonArray.add(j1);\n    jsonArray.add(j2);\n    Stream&lt;String&gt; ss = jsonArray.stream().map (json-&gt;json.toString ());\n    List&lt;String&gt; list = ss.collect (Collectors.toList ());\n    System.out.println(list);\n</code></pre>\n\n<p>For some reason I had to split the stream pipeline into two steps, because otherwise the compiler doesn't recognize that <code>.collect (Collectors.toList())</code> returns a <code>List</code>.</p>\n\n<p>The output is:</p>\n\n<pre><code>[{\"name\":\"John\"}, {\"name\":\"David\"}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3055354,"reputation":537,"user_id":2589120,"display_name":"Ali Katkar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1551468901,"creation_date":1536681137,"answer_id":52279820,"question_id":44595433,"body_markdown":"Yes, I recognized that result of put is being added to json array instead of json object. Should be like this. \r\n\r\n    private static JSONObject getJson(String key, String value){\r\n        JSONObject result = new JSONObject();\r\n        result.put(key, value);\r\n        return result;        \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        JSONArray jsonArray = new JSONArray();\r\n        \r\n        jsonArray.add(getJson(&quot;name&quot;, &quot;John&quot;));\r\n        jsonArray.add(getJson(&quot;name&quot;, &quot;David&quot;));\r\n        \r\n        List list = (List) jsonArray.stream()\r\n                    .map(json -&gt; json.toString())\r\n                    .collect(Collectors.toList());\r\n        System.out.println(list);\r\n    }\r\nand output is now [{&quot;name&quot;:&quot;John&quot;}, {&quot;name&quot;:&quot;David&quot;}] like expected","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<p>Yes, I recognized that result of put is being added to json array instead of json object. Should be like this. </p>\n\n<pre><code>private static JSONObject getJson(String key, String value){\n    JSONObject result = new JSONObject();\n    result.put(key, value);\n    return result;        \n}\n\npublic static void main(String[] args) {\n    JSONArray jsonArray = new JSONArray();\n\n    jsonArray.add(getJson(\"name\", \"John\"));\n    jsonArray.add(getJson(\"name\", \"David\"));\n\n    List list = (List) jsonArray.stream()\n                .map(json -&gt; json.toString())\n                .collect(Collectors.toList());\n    System.out.println(list);\n}\n</code></pre>\n\n<p>and output is now [{\"name\":\"John\"}, {\"name\":\"David\"}] like expected</p>\n"},{"tags":[],"owner":{"account_id":5332250,"reputation":339,"user_id":4252528,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1577982854,"creation_date":1547841351,"answer_id":54260629,"question_id":44595433,"body_markdown":"Try with IntStream.\r\n\r\n    List&lt;String&gt; jsonObject = IntStream\r\n     \t   .range(0,jsonArray.size())\r\n     \t   .mapToObj(i -&gt; jsonArray.getJSONObject(i))\r\n     \t   .collect(Collectors.toList());","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<p>Try with IntStream.</p>\n\n<pre><code>List&lt;String&gt; jsonObject = IntStream\n       .range(0,jsonArray.size())\n       .mapToObj(i -&gt; jsonArray.getJSONObject(i))\n       .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27532212,"reputation":1,"user_id":21010529,"display_name":"Mohammed Yaseen M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686791169,"creation_date":1686724897,"answer_id":76470755,"question_id":44595433,"body_markdown":"    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            JSONArray jsonArray = new JSONArray();\r\n            jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;John&quot;));\r\n            jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;David&quot;));\r\n            List list = (List) jsonArray.stream().filter(Objects::nonNull).map(json -&gt; json.toString()).collect(Collectors.toList());\r\n            System.out.println(list);\r\n        }\r\n    }\r\n    \r\nI have added `filter(Objects::nonNull)`, you can try this instead.","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\npublic class Main {\n    public static void main(String[] args) {\n        JSONArray jsonArray = new JSONArray();\n        jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;John&quot;));\n        jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;David&quot;));\n        List list = (List) jsonArray.stream().filter(Objects::nonNull).map(json -&gt; json.toString()).collect(Collectors.toList());\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p>I have added <code>filter(Objects::nonNull)</code>, you can try this instead.</p>\n"}],"owner":{"account_id":7054874,"reputation":14062,"user_id":5402618,"accept_rate":45,"display_name":"CrazySynthax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84363,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":44595725,"answer_count":4,"score":17,"last_activity_date":1686791169,"creation_date":1497636253,"question_id":44595433,"body_markdown":"I&#39;m very new to Java 8 lambdas and stuff... I want to write a lambda function that takes a `JSONArray`, goes over its `JSONObject`s and creates a list of values of certain field. \r\n\r\nFor example, a function that takes the `JSONArray`: `[{name: &quot;John&quot;}, {name: &quot;David&quot;}]` and returns a list of `[&quot;John&quot;, &quot;David&quot;]`.\r\n\r\nI wrote the following code: \r\n\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            JSONArray jsonArray = new JSONArray();\r\n            jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;John&quot;));\r\n            jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;David&quot;));\r\n            List list = (List) jsonArray.stream().map(json -&gt; json.toString()).collect(Collectors.toList());\r\n            System.out.println(list);\r\n        }\r\n    }\r\n\r\nHowever, I get an error: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\r\nDO you know how to resolve it? \r\n","title":"Java 8: How to write lambda stream to work with JsonArray?","body":"<p>I'm very new to Java 8 lambdas and stuff... I want to write a lambda function that takes a <code>JSONArray</code>, goes over its <code>JSONObject</code>s and creates a list of values of certain field.</p>\n<p>For example, a function that takes the <code>JSONArray</code>: <code>[{name: &quot;John&quot;}, {name: &quot;David&quot;}]</code> and returns a list of <code>[&quot;John&quot;, &quot;David&quot;]</code>.</p>\n<p>I wrote the following code:</p>\n<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\npublic class Main {\n    public static void main(String[] args) {\n        JSONArray jsonArray = new JSONArray();\n        jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;John&quot;));\n        jsonArray.add(new JSONObject().put(&quot;name&quot;, &quot;David&quot;));\n        List list = (List) jsonArray.stream().map(json -&gt; json.toString()).collect(Collectors.toList());\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p>However, I get an error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException</p>\n</blockquote>\n<p>DO you know how to resolve it?</p>\n"},{"tags":["java","database","netbeans","get","null"],"comments":[{"owner":{"account_id":28815495,"reputation":9,"user_id":22069365,"display_name":"Ukantor"},"score":0,"creation_date":1686791378,"post_id":76478442,"comment_id":134849121,"body_markdown":"Sorry @ScaryWombat, I&#39;m new to programming, I just entered university, could you help me see what the error is in my code?","body":"Sorry @ScaryWombat, I&#39;m new to programming, I just entered university, could you help me see what the error is in my code?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686801195,"post_id":76478442,"comment_id":134849956,"body_markdown":"`List.get(i)` uses `i` as an index. It is not going to return the element with that id. You need to learn to use the debugger to step through your program.","body":"<code>List.get(i)</code> uses <code>i</code> as an index. It is not going to return the element with that id. You need to learn to use the debugger to step through your program."},{"owner":{"account_id":28815495,"reputation":9,"user_id":22069365,"display_name":"Ukantor"},"score":0,"creation_date":1686802309,"post_id":76478442,"comment_id":134850062,"body_markdown":"@tgdavies Could you give me an example of a way that gives you the value of tipoUsuario either by means of this variable or the &quot;id_user&quot;? It&#39;s that I&#39;m new to programming and I can&#39;t think of a way to do it, when I return the method &quot;getTipoUsuario()&quot; it returned a null value.","body":"@tgdavies Could you give me an example of a way that gives you the value of tipoUsuario either by means of this variable or the &quot;id_user&quot;? It&#39;s that I&#39;m new to programming and I can&#39;t think of a way to do it, when I return the method &quot;getTipoUsuario()&quot; it returned a null value."},{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":3,"creation_date":1686815992,"post_id":76478442,"comment_id":134852038,"body_markdown":"Does this answer your question? [I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?](https://stackoverflow.com/questions/76470574/i-want-to-give-privileges-to-the-users-of-my-point-of-sale-but-i-dont-know-how)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76470574/i-want-to-give-privileges-to-the-users-of-my-point-of-sale-but-i-dont-know-how\">I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?</a>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1689058166,"post_id":76478442,"comment_id":135155353,"body_markdown":"This question is almost identical to one you created earlier: [I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?](https://stackoverflow.com/q/76470574/2985643). Since someone took the time to answer that question, and it preceded this one, please delete your question above. FYI, it is not appropriate to create two open questions on Stack Overflow that are identical for all practical purposes.","body":"This question is almost identical to one you created earlier: <a href=\"https://stackoverflow.com/q/76470574/2985643\">I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?</a>. Since someone took the time to answer that question, and it preceded this one, please delete your question above. FYI, it is not appropriate to create two open questions on Stack Overflow that are identical for all practical purposes."}],"owner":{"account_id":28815495,"reputation":9,"user_id":22069365,"display_name":"Ukantor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1689109389,"answer_count":0,"score":0,"last_activity_date":1686791049,"creation_date":1686791049,"question_id":76478442,"body_markdown":"Good Afternoon!\r\n\r\nI have a problem, I have a system that is a point of sale made in netBeans, 2 users can register in my system: &quot;Administrador&quot; and &quot;Vendedor&quot;, there are several modules in the system, including the &quot;Inventario&quot; module that allows you to enter, modify, delete and search for articles in the database, the problem is that I want only the administrator to have permission to enter that module, and that the seller cannot access it.\r\n\r\nI had an idea that it was to put a code like this in the &quot;Inventario&quot; button method to prohibit it from entering but it didn&#39;t work for me, the code was like this:\r\n\r\n\r\n```\r\n//&quot;usu&quot; is the object of the &quot;Login&quot; class, which is where I declare the sets and gets of the user information, and &quot;admin&quot; is the name that is assigned to someone in the &quot;tipoUsuario&quot; variable when you register them as admin \r\n    String tUsuario=usu.getTipoUsuario();\r\n\r\n   \r\n    if(tUsuario.equals(&quot;admin&quot;))\r\n    {\r\n    LimpiarTable();\r\n    ListarArticulo();\r\n    jTabbedPane1.setSelectedIndex(1);\r\n    }\r\n```\r\n\r\nThe problem is that the code didn&#39;t work, and when printing what value the &quot;getTipoUsuario&quot; was taking, it told me that it was returning the value &quot;null&quot;. I know that the code is probably wrong and doesn&#39;t work since I&#39;m new to programming. Try another code that is the following, to try to take the value of the &quot;tipoUsuario&quot; variable through the &quot;id_usuario&quot; variable, the code is the following:\r\n\r\n\r\n```\r\n//&quot;login&quot; is the class where I have all the information of the users, the sets and gets, &quot;usuarios&quot; is the object of another class called &quot;loginDAO&quot; in which I have the method &quot;ListarUsuarios()&quot;\r\n\r\nList&lt;login&gt; ListarUsuario = usuarios.ListarUsuarios();\r\n   modelo = (DefaultTableModel) tablaUsuarios.getModel();\r\n    Object [] ob = new Object[4];\r\n    for(int i=0; i &lt; ListarUsuario.size();i++){\r\n        ob[0] = ListarUsuario.get(i).getId_usuario();\r\n        ob[1] = ListarUsuario.get(i).getTipoUsuario();\r\n        ob[2] = ListarUsuario.get(i).getNombre();\r\n        //ob[3] = ListarUsuario.get(i).getApellido_paterno();\r\n        //ob[4] = ListarUsuario.get(i).getApellido_materno();\r\n        ob[3] = ListarUsuario.get(i).getContrasena();\r\n        modelo.addRow(ob);\r\n    }\r\n        int tID  = usu.getId_usuario();\r\n    String tUsuario = ListarUsuario.get(tID).getTipoUsuario();//usu.getTipoUsuario();\r\n   \r\n    if(tUsuario.equals(&quot;admin&quot;))\r\n    {\r\n    LimpiarTable();\r\n    ListarArticulo();\r\n    jTabbedPane1.setSelectedIndex(1);\r\n    }\r\n```\r\n\r\nThe problem with the previous code is that when I gave print to the value of &quot;tUsuario&quot; it always gave me the typeUser of the first one in the list, not of the others.\r\n\r\nBelow I leave the code of the &quot;ListarUsuarios&quot; method that is in another class called &quot;LoginDAO&quot;:\r\n\r\n\r\n```\r\npublic List ListarUsuarios(){\r\n    List&lt;login&gt; ListaUsuarios = new ArrayList();\r\n    String sql = &quot;SELECT * FROM usuarios&quot;;\r\n    try{\r\n        con = cn.getConnection();\r\n        ps = con.prepareStatement(sql);\r\n        rs=ps.executeQuery();\r\n        while(rs.next()){\r\n            login ld = new login();\r\n            ld.setId_usuario(rs.getInt(&quot;id_usuario&quot;));\r\n            ld.setTipoUsuario(rs.getString(&quot;tipoUsuario&quot;));\r\n            ld.setNombre(rs.getString(&quot;nombre&quot;));\r\n            //ld.setApellido_paterno(rs.getString(&quot;apellido_paterno&quot;));\r\n            //ld.setApellido_materno(rs.getString(&quot;apellido_materno&quot;));\r\n            ld.setContrasena(rs.getString(&quot;contrasena&quot;));\r\n            ListaUsuarios.add(ld);\r\n        }\r\n    }catch(SQLException e){\r\n        System.out.println(e.toString());\r\n    }\r\n    return ListaUsuarios;\r\n}\r\n```\r\n\r\nAnd finally I leave you the code of the &quot;login&quot; class, which is where the sets and gets of the information of each user are located:\r\n\r\n\r\n```\r\npackage Modelo;\r\n//Constructor para varibles del Usario con getters y seters\r\npublic class login {\r\nprivate int id_usuario;\r\nprivate String nombre;\r\nprivate String apellido_paterno;\r\nprivate String apellido_materno;\r\nprivate String tipoUsuario;\r\nprivate String contrasena;\r\nprivate String correo;\r\nprivate int id_proveedor;\r\nprivate String nombre_proveedor;\r\nprivate String telefono_proveedor;\r\nprivate String direccion_proveedor;\r\nprivate String domicilio_proveedor;\r\nprivate String email_proveedor;\r\n\r\npublic login() {\r\n}\r\n\r\npublic String getDomicilio_proveedor() {\r\n    return domicilio_proveedor;\r\n}\r\n\r\npublic void setDomicilio_proveedor(String domicilio_proveedor) {\r\n    this.domicilio_proveedor = domicilio_proveedor;\r\n}\r\n\r\npublic login(int id_usuario, String nombre, String contrasena, String tipoUsuario, int id_proveedor,String nombre_proveedor,String telefono_proveedor,String direccion_proveedor,String email_proveedor) {\r\n    this.id_usuario = id_usuario;\r\n    this.nombre = nombre;\r\n    this.contrasena = contrasena;\r\n    this.apellido_paterno = apellido_paterno;\r\n    this.apellido_materno = apellido_materno;\r\n    this.tipoUsuario = tipoUsuario;\r\n    this.correo = correo;\r\n    this.id_proveedor = id_proveedor;\r\n    this.nombre_proveedor = nombre_proveedor;\r\n    this.telefono_proveedor = telefono_proveedor;\r\n    this.direccion_proveedor = direccion_proveedor;\r\n    this.email_proveedor = email_proveedor;\r\n}\r\n\r\npublic int getId_proveedor() {\r\n    return id_proveedor;\r\n}\r\n\r\npublic void setId_proveedor(int id_proveedor) {\r\n    this.id_proveedor = id_proveedor;\r\n}\r\n\r\n\r\n\r\npublic String getNombre_proveedor() {\r\n    return nombre_proveedor;\r\n}\r\n\r\npublic void setNombre_proveedor(String nombre_proveedor) {\r\n    this.nombre_proveedor = nombre_proveedor;\r\n}\r\n\r\npublic String getTelefono_proveedor() {\r\n    return telefono_proveedor;\r\n}\r\n\r\npublic void setTelefono_proveedor(String telefono_proveedor) {\r\n    this.telefono_proveedor = telefono_proveedor;\r\n}\r\n\r\npublic String getDireccion_proveedor() {\r\n    return direccion_proveedor;\r\n}\r\n\r\npublic void setDireccion_proveedor(String direccion_proveedor) {\r\n    this.direccion_proveedor = direccion_proveedor;\r\n}\r\n\r\npublic String getEmail_proveedor() {\r\n    return email_proveedor;\r\n}\r\n\r\npublic void setEmail_proveedor(String email_proveedor) {\r\n    this.email_proveedor = email_proveedor;\r\n}\r\n\r\npublic int getId_usuario() {\r\n    return id_usuario;\r\n}\r\n\r\npublic String getApellido_paterno() {\r\n    return apellido_paterno;\r\n}\r\n\r\npublic void setApellido_paterno(String apellido_paterno) {\r\n    this.apellido_paterno = apellido_paterno;\r\n}\r\n\r\npublic String getApellido_materno() {\r\n    return apellido_materno;\r\n}\r\n\r\npublic void setApellido_materno(String apellido_materno) {\r\n    this.apellido_materno = apellido_materno;\r\n}\r\n\r\npublic String getTipoUsuario() {\r\n    return tipoUsuario;\r\n}\r\n\r\npublic void setTipoUsuario(String tipoUsuario) {\r\n    this.tipoUsuario = tipoUsuario;\r\n}\r\n\r\npublic String getCorreo() {\r\n    return correo;\r\n}\r\n\r\npublic void setCorreo(String correo) {\r\n    this.correo = correo;\r\n}\r\n\r\npublic void setId_usuario(int id_usuario) {\r\n    this.id_usuario = id_usuario;\r\n}\r\n\r\npublic String getNombre() {\r\n    return nombre;\r\n}\r\n\r\npublic void setNombre(String nombre) {\r\n    this.nombre = nombre;\r\n}\r\n\r\npublic String getContrasena() {\r\n    return contrasena;\r\n}\r\n\r\npublic void setContrasena(String contrasena) {\r\n    this.contrasena = contrasena;\r\n}\r\n\r\n}\r\n```\r\n\r\nCould you tell me why my codes don&#39;t work or why the variable &quot;tUsuario&quot; returns &quot;null&quot;? Or if you see that my methods are wrong, could you leave me a method that works for that?\r\n\r\nThank you very much and have a nice afternoon!\r\n\r\n\r\nTry to solve with an &quot;if&quot; and retrieve the value of &quot;tipoUsuario&quot; to compare it with the string of &quot;admin&quot;, which is the value that takes &quot;tipoUsuarios&quot; when the user is administrator.","title":"Privileges to enter a system, does anyone know how to program them?","body":"<p>Good Afternoon!</p>\n<p>I have a problem, I have a system that is a point of sale made in netBeans, 2 users can register in my system: &quot;Administrador&quot; and &quot;Vendedor&quot;, there are several modules in the system, including the &quot;Inventario&quot; module that allows you to enter, modify, delete and search for articles in the database, the problem is that I want only the administrator to have permission to enter that module, and that the seller cannot access it.</p>\n<p>I had an idea that it was to put a code like this in the &quot;Inventario&quot; button method to prohibit it from entering but it didn't work for me, the code was like this:</p>\n<pre><code>//&quot;usu&quot; is the object of the &quot;Login&quot; class, which is where I declare the sets and gets of the user information, and &quot;admin&quot; is the name that is assigned to someone in the &quot;tipoUsuario&quot; variable when you register them as admin \n    String tUsuario=usu.getTipoUsuario();\n\n   \n    if(tUsuario.equals(&quot;admin&quot;))\n    {\n    LimpiarTable();\n    ListarArticulo();\n    jTabbedPane1.setSelectedIndex(1);\n    }\n</code></pre>\n<p>The problem is that the code didn't work, and when printing what value the &quot;getTipoUsuario&quot; was taking, it told me that it was returning the value &quot;null&quot;. I know that the code is probably wrong and doesn't work since I'm new to programming. Try another code that is the following, to try to take the value of the &quot;tipoUsuario&quot; variable through the &quot;id_usuario&quot; variable, the code is the following:</p>\n<pre><code>//&quot;login&quot; is the class where I have all the information of the users, the sets and gets, &quot;usuarios&quot; is the object of another class called &quot;loginDAO&quot; in which I have the method &quot;ListarUsuarios()&quot;\n\nList&lt;login&gt; ListarUsuario = usuarios.ListarUsuarios();\n   modelo = (DefaultTableModel) tablaUsuarios.getModel();\n    Object [] ob = new Object[4];\n    for(int i=0; i &lt; ListarUsuario.size();i++){\n        ob[0] = ListarUsuario.get(i).getId_usuario();\n        ob[1] = ListarUsuario.get(i).getTipoUsuario();\n        ob[2] = ListarUsuario.get(i).getNombre();\n        //ob[3] = ListarUsuario.get(i).getApellido_paterno();\n        //ob[4] = ListarUsuario.get(i).getApellido_materno();\n        ob[3] = ListarUsuario.get(i).getContrasena();\n        modelo.addRow(ob);\n    }\n        int tID  = usu.getId_usuario();\n    String tUsuario = ListarUsuario.get(tID).getTipoUsuario();//usu.getTipoUsuario();\n   \n    if(tUsuario.equals(&quot;admin&quot;))\n    {\n    LimpiarTable();\n    ListarArticulo();\n    jTabbedPane1.setSelectedIndex(1);\n    }\n</code></pre>\n<p>The problem with the previous code is that when I gave print to the value of &quot;tUsuario&quot; it always gave me the typeUser of the first one in the list, not of the others.</p>\n<p>Below I leave the code of the &quot;ListarUsuarios&quot; method that is in another class called &quot;LoginDAO&quot;:</p>\n<pre><code>public List ListarUsuarios(){\n    List&lt;login&gt; ListaUsuarios = new ArrayList();\n    String sql = &quot;SELECT * FROM usuarios&quot;;\n    try{\n        con = cn.getConnection();\n        ps = con.prepareStatement(sql);\n        rs=ps.executeQuery();\n        while(rs.next()){\n            login ld = new login();\n            ld.setId_usuario(rs.getInt(&quot;id_usuario&quot;));\n            ld.setTipoUsuario(rs.getString(&quot;tipoUsuario&quot;));\n            ld.setNombre(rs.getString(&quot;nombre&quot;));\n            //ld.setApellido_paterno(rs.getString(&quot;apellido_paterno&quot;));\n            //ld.setApellido_materno(rs.getString(&quot;apellido_materno&quot;));\n            ld.setContrasena(rs.getString(&quot;contrasena&quot;));\n            ListaUsuarios.add(ld);\n        }\n    }catch(SQLException e){\n        System.out.println(e.toString());\n    }\n    return ListaUsuarios;\n}\n</code></pre>\n<p>And finally I leave you the code of the &quot;login&quot; class, which is where the sets and gets of the information of each user are located:</p>\n<pre><code>package Modelo;\n//Constructor para varibles del Usario con getters y seters\npublic class login {\nprivate int id_usuario;\nprivate String nombre;\nprivate String apellido_paterno;\nprivate String apellido_materno;\nprivate String tipoUsuario;\nprivate String contrasena;\nprivate String correo;\nprivate int id_proveedor;\nprivate String nombre_proveedor;\nprivate String telefono_proveedor;\nprivate String direccion_proveedor;\nprivate String domicilio_proveedor;\nprivate String email_proveedor;\n\npublic login() {\n}\n\npublic String getDomicilio_proveedor() {\n    return domicilio_proveedor;\n}\n\npublic void setDomicilio_proveedor(String domicilio_proveedor) {\n    this.domicilio_proveedor = domicilio_proveedor;\n}\n\npublic login(int id_usuario, String nombre, String contrasena, String tipoUsuario, int id_proveedor,String nombre_proveedor,String telefono_proveedor,String direccion_proveedor,String email_proveedor) {\n    this.id_usuario = id_usuario;\n    this.nombre = nombre;\n    this.contrasena = contrasena;\n    this.apellido_paterno = apellido_paterno;\n    this.apellido_materno = apellido_materno;\n    this.tipoUsuario = tipoUsuario;\n    this.correo = correo;\n    this.id_proveedor = id_proveedor;\n    this.nombre_proveedor = nombre_proveedor;\n    this.telefono_proveedor = telefono_proveedor;\n    this.direccion_proveedor = direccion_proveedor;\n    this.email_proveedor = email_proveedor;\n}\n\npublic int getId_proveedor() {\n    return id_proveedor;\n}\n\npublic void setId_proveedor(int id_proveedor) {\n    this.id_proveedor = id_proveedor;\n}\n\n\n\npublic String getNombre_proveedor() {\n    return nombre_proveedor;\n}\n\npublic void setNombre_proveedor(String nombre_proveedor) {\n    this.nombre_proveedor = nombre_proveedor;\n}\n\npublic String getTelefono_proveedor() {\n    return telefono_proveedor;\n}\n\npublic void setTelefono_proveedor(String telefono_proveedor) {\n    this.telefono_proveedor = telefono_proveedor;\n}\n\npublic String getDireccion_proveedor() {\n    return direccion_proveedor;\n}\n\npublic void setDireccion_proveedor(String direccion_proveedor) {\n    this.direccion_proveedor = direccion_proveedor;\n}\n\npublic String getEmail_proveedor() {\n    return email_proveedor;\n}\n\npublic void setEmail_proveedor(String email_proveedor) {\n    this.email_proveedor = email_proveedor;\n}\n\npublic int getId_usuario() {\n    return id_usuario;\n}\n\npublic String getApellido_paterno() {\n    return apellido_paterno;\n}\n\npublic void setApellido_paterno(String apellido_paterno) {\n    this.apellido_paterno = apellido_paterno;\n}\n\npublic String getApellido_materno() {\n    return apellido_materno;\n}\n\npublic void setApellido_materno(String apellido_materno) {\n    this.apellido_materno = apellido_materno;\n}\n\npublic String getTipoUsuario() {\n    return tipoUsuario;\n}\n\npublic void setTipoUsuario(String tipoUsuario) {\n    this.tipoUsuario = tipoUsuario;\n}\n\npublic String getCorreo() {\n    return correo;\n}\n\npublic void setCorreo(String correo) {\n    this.correo = correo;\n}\n\npublic void setId_usuario(int id_usuario) {\n    this.id_usuario = id_usuario;\n}\n\npublic String getNombre() {\n    return nombre;\n}\n\npublic void setNombre(String nombre) {\n    this.nombre = nombre;\n}\n\npublic String getContrasena() {\n    return contrasena;\n}\n\npublic void setContrasena(String contrasena) {\n    this.contrasena = contrasena;\n}\n\n}\n</code></pre>\n<p>Could you tell me why my codes don't work or why the variable &quot;tUsuario&quot; returns &quot;null&quot;? Or if you see that my methods are wrong, could you leave me a method that works for that?</p>\n<p>Thank you very much and have a nice afternoon!</p>\n<p>Try to solve with an &quot;if&quot; and retrieve the value of &quot;tipoUsuario&quot; to compare it with the string of &quot;admin&quot;, which is the value that takes &quot;tipoUsuarios&quot; when the user is administrator.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1686045251,"post_id":76336116,"comment_id":134742073,"body_markdown":"Could you show us your organizationRepository and identityRepository classes ?","body":"Could you show us your organizationRepository and identityRepository classes ?"},{"owner":{"account_id":26649762,"reputation":1,"user_id":20264243,"display_name":"Clark Harris"},"score":0,"creation_date":1686181564,"post_id":76336116,"comment_id":134765644,"body_markdown":"Added the two repos","body":"Added the two repos"}],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686218318,"creation_date":1686218318,"answer_id":76430689,"question_id":76336116,"body_markdown":"As can be seen in your repositories, you have specified your ID as an `Integer` but in your entities they are `int`. Try by changing your entity ids to `Integer`","title":"Spring Data JPA Error on One to Many join table","body":"<p>As can be seen in your repositories, you have specified your ID as an <code>Integer</code> but in your entities they are <code>int</code>. Try by changing your entity ids to <code>Integer</code></p>\n"}],"owner":{"account_id":26649762,"reputation":1,"user_id":20264243,"display_name":"Clark Harris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686790846,"creation_date":1685047157,"question_id":76336116,"body_markdown":"Having a hard time getting this to work.\r\n\r\nI have three entities.\r\nUser / Organization / Membership\r\n\r\nMembership is a join table entity using a compound ID from userId and organizationId.... How do I save to this table using Spring JPA to show this relationship?\r\n\r\nCurrently I am getting this error\r\n `Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [java.lang.Integer] : `com.reeftrader.Hades.OrganizationMembership.OrganizationMembershipId.organizationId` (setter)] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null`\r\n\r\nUser entity\r\n```\r\npackage com.reeftrader.Hades.user;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(\r\n            name = &quot;user_id&quot;,\r\n            updatable = false\r\n    )\r\n    private int userId;\r\n    @Column(\r\n            name = &quot;first_name&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;varchar(100)&quot;\r\n    )\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;OrganizationMembership&gt; membership;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;user_identity&quot;,\r\n            joinColumns =\r\n                    { @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;) },\r\n            inverseJoinColumns =\r\n                    { @JoinColumn(name = &quot;identity_id&quot;, referencedColumnName = &quot;identity_id&quot;) })\r\n    private Identity identity;\r\n\r\n```\r\nOrganization entity\r\n```\r\npublic class Organization {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(\r\n            name = &quot;organization_id&quot;,\r\n            updatable = false\r\n    )\r\n    private int organizationId;\r\n\r\n    @OneToMany(mappedBy = &quot;organization&quot;, cascade = CascadeType.PERSIST)\r\n    private List&lt;OrganizationMembership&gt; membership;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;organization_identity&quot;,\r\n            joinColumns =\r\n                    { @JoinColumn(name = &quot;organization_id&quot;, referencedColumnName = &quot;organization_id&quot;) },\r\n            inverseJoinColumns =\r\n                    { @JoinColumn(name = &quot;identity_id&quot;, referencedColumnName = &quot;identity_id&quot;) })\r\n    private Identity identity;\r\n}\r\n```\r\nMembership entity\r\n\r\n```\r\npublic class OrganizationMembership {\r\n\r\n    @EmbeddedId\r\n    OrganizationMembershipId organizationMembershipId;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;organization_id&quot;)//Name comes from OrganizationMembershipId attribute\r\n    @JoinColumn(name = &quot;organization_id&quot;)\r\n    private Organization organization;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;user_id&quot;)//Name comes from OrganizationMembershipId attribute\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    @Column(name = &quot;membership_role&quot;)\r\n    @NonNull\r\n    private MembershipRole membershipRole;\r\n}\r\n```\r\nOrganizationMembershipID\r\n\r\n```\r\n@Data\r\n@Embeddable\r\npublic class OrganizationMembershipId implements Serializable {\r\n\r\n    @Column(name = &quot;organization_id&quot;)\r\n    private int organizationId;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    private int userId;\r\n}\r\n```\r\nService method to save(work in progress want to use hibernate persistence for the Identity save and membership save after creating an organization\r\n\r\n```\r\npublic Organization create(OrganizationRequest request) {\r\n        List&lt;OrganizationMembership&gt; membershipList = new ArrayList&lt;&gt;();\r\n        Organization organization = Organization.builder()\r\n                .organizationName(request.getOrganizationName())\r\n                .details(request.getDetails())\r\n                .establishedDate(request.getEstablishedDate())\r\n                .organizationType(request.getOrganizationType())\r\n                .membership(membershipList)\r\n                .build();\r\n\r\n        // build user to add to membership\r\n        User user = User.builder()\r\n                .userId(request.getUserId())\r\n                .build();\r\n\r\n        OrganizationMembership membership = OrganizationMembership.builder()\r\n                .user(user)\r\n                .organization(organization)\r\n                .membershipRole(MembershipRole.OWNER)\r\n                .build();\r\n        organization.getMembership().add(membership);\r\n        organizationRepository.save(organization);\r\n\r\n        // Create new identity for Organization\r\n        Identity identity = Identity.builder()\r\n                .organizationId(organization.getOrganizationId())\r\n                .identityType(IdentityType.ORGANIZATION)\r\n                .build();\r\n        identityRepository.save(identity);\r\n\r\n        return organization;\r\n    }\r\n```\r\nIdentity Repository\r\n```\r\npackage com.reeftrader.Hades.Identity;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface IdentityRepository extends JpaRepository&lt;Identity, Integer&gt; {\r\n\r\n    List&lt;Identity&gt; findByIdentityType(IdentityType identityType);\r\n}\r\n```\r\nOrganization Repository\r\n```\r\npackage com.reeftrader.Hades.organization;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface OrganizationRepository extends JpaRepository&lt;Organization, Integer&gt; {\r\n\r\n    List&lt;Organization&gt; findByOrganizationType(OrganizationType organizationType);\r\n}\r\n```","title":"Spring Data JPA Error on One to Many join table","body":"<p>Having a hard time getting this to work.</p>\n<p>I have three entities.\nUser / Organization / Membership</p>\n<p>Membership is a join table entity using a compound ID from userId and organizationId.... How do I save to this table using Spring JPA to show this relationship?</p>\n<p>Currently I am getting this error\n<code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [java.lang.Integer] : </code>com.reeftrader.Hades.OrganizationMembership.OrganizationMembershipId.organizationId` (setter)] with root cause</p>\n<p>java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null`</p>\n<p>User entity</p>\n<pre><code>package com.reeftrader.Hades.user;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(\n            name = &quot;user_id&quot;,\n            updatable = false\n    )\n    private int userId;\n    @Column(\n            name = &quot;first_name&quot;,\n            nullable = false,\n            columnDefinition = &quot;varchar(100)&quot;\n    )\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    private List&lt;OrganizationMembership&gt; membership;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;user_identity&quot;,\n            joinColumns =\n                    { @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;) },\n            inverseJoinColumns =\n                    { @JoinColumn(name = &quot;identity_id&quot;, referencedColumnName = &quot;identity_id&quot;) })\n    private Identity identity;\n\n</code></pre>\n<p>Organization entity</p>\n<pre><code>public class Organization {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(\n            name = &quot;organization_id&quot;,\n            updatable = false\n    )\n    private int organizationId;\n\n    @OneToMany(mappedBy = &quot;organization&quot;, cascade = CascadeType.PERSIST)\n    private List&lt;OrganizationMembership&gt; membership;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;organization_identity&quot;,\n            joinColumns =\n                    { @JoinColumn(name = &quot;organization_id&quot;, referencedColumnName = &quot;organization_id&quot;) },\n            inverseJoinColumns =\n                    { @JoinColumn(name = &quot;identity_id&quot;, referencedColumnName = &quot;identity_id&quot;) })\n    private Identity identity;\n}\n</code></pre>\n<p>Membership entity</p>\n<pre><code>public class OrganizationMembership {\n\n    @EmbeddedId\n    OrganizationMembershipId organizationMembershipId;\n\n    @ManyToOne\n    @MapsId(&quot;organization_id&quot;)//Name comes from OrganizationMembershipId attribute\n    @JoinColumn(name = &quot;organization_id&quot;)\n    private Organization organization;\n\n    @ManyToOne\n    @MapsId(&quot;user_id&quot;)//Name comes from OrganizationMembershipId attribute\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    @Column(name = &quot;membership_role&quot;)\n    @NonNull\n    private MembershipRole membershipRole;\n}\n</code></pre>\n<p>OrganizationMembershipID</p>\n<pre><code>@Data\n@Embeddable\npublic class OrganizationMembershipId implements Serializable {\n\n    @Column(name = &quot;organization_id&quot;)\n    private int organizationId;\n\n    @Column(name = &quot;user_id&quot;)\n    private int userId;\n}\n</code></pre>\n<p>Service method to save(work in progress want to use hibernate persistence for the Identity save and membership save after creating an organization</p>\n<pre><code>public Organization create(OrganizationRequest request) {\n        List&lt;OrganizationMembership&gt; membershipList = new ArrayList&lt;&gt;();\n        Organization organization = Organization.builder()\n                .organizationName(request.getOrganizationName())\n                .details(request.getDetails())\n                .establishedDate(request.getEstablishedDate())\n                .organizationType(request.getOrganizationType())\n                .membership(membershipList)\n                .build();\n\n        // build user to add to membership\n        User user = User.builder()\n                .userId(request.getUserId())\n                .build();\n\n        OrganizationMembership membership = OrganizationMembership.builder()\n                .user(user)\n                .organization(organization)\n                .membershipRole(MembershipRole.OWNER)\n                .build();\n        organization.getMembership().add(membership);\n        organizationRepository.save(organization);\n\n        // Create new identity for Organization\n        Identity identity = Identity.builder()\n                .organizationId(organization.getOrganizationId())\n                .identityType(IdentityType.ORGANIZATION)\n                .build();\n        identityRepository.save(identity);\n\n        return organization;\n    }\n</code></pre>\n<p>Identity Repository</p>\n<pre><code>package com.reeftrader.Hades.Identity;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface IdentityRepository extends JpaRepository&lt;Identity, Integer&gt; {\n\n    List&lt;Identity&gt; findByIdentityType(IdentityType identityType);\n}\n</code></pre>\n<p>Organization Repository</p>\n<pre><code>package com.reeftrader.Hades.organization;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface OrganizationRepository extends JpaRepository&lt;Organization, Integer&gt; {\n\n    List&lt;Organization&gt; findByOrganizationType(OrganizationType organizationType);\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc","oracle10g","oracle11g"],"answers":[{"tags":[],"owner":{"account_id":497155,"reputation":1862,"user_id":959296,"accept_rate":100,"display_name":"ivanatpr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360793521,"creation_date":1360793521,"answer_id":14864190,"question_id":14864055,"body_markdown":"&gt; I have seen the alternative example described here - http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php but they all require the use of functions or procedure. \r\n\r\nNo they don&#39;t. Scroll down and you&#39;ll see several options that don&#39;t require pl/sql.","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<blockquote>\n  <p>I have seen the alternative example described here - <a href=\"http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php\" rel=\"nofollow\">http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php</a> but they all require the use of functions or procedure. </p>\n</blockquote>\n\n<p>No they don't. Scroll down and you'll see several options that don't require pl/sql.</p>\n"},{"tags":[],"owner":{"account_id":1116895,"reputation":21689,"user_id":1106042,"display_name":"DazzaL"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1360795484,"creation_date":1360795484,"answer_id":14864692,"question_id":14864055,"body_markdown":"you can use xml functions to do it which return a CLOB. JDBC should be just fine with that.\r\n\r\n    select tm.product_id, \r\n           rtrim(extract(xmlagg(xmlelement(e, tm.book_id || &#39;(&#39; || tm.score || &#39;),&#39;)), \r\n                   &#39;/E/text()&#39;).getclobval(), &#39;,&#39;)\r\n      from tl_product_match tm\r\n     where tm.book_id is not null \r\n     group by tm.product_id;\r\n\r\neg: http://sqlfiddle.com/#!4/083a2/1","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<p>you can use xml functions to do it which return a CLOB. JDBC should be just fine with that.</p>\n\n<pre><code>select tm.product_id, \n       rtrim(extract(xmlagg(xmlelement(e, tm.book_id || '(' || tm.score || '),')), \n               '/E/text()').getclobval(), ',')\n  from tl_product_match tm\n where tm.book_id is not null \n group by tm.product_id;\n</code></pre>\n\n<p>eg: <a href=\"http://sqlfiddle.com/#!4/083a2/1\">http://sqlfiddle.com/#!4/083a2/1</a></p>\n"},{"tags":[],"owner":{"account_id":254603,"reputation":15157,"user_id":534120,"display_name":"tbone"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1360868654,"creation_date":1360868654,"answer_id":14882148,"question_id":14864055,"body_markdown":"Why not use nested tables?\r\n\r\n    set echo on;\r\n    set display on;\r\n    set linesize 200;\r\n    \r\n    drop table testA;\r\n    create table testA\r\n    (\r\n    col1 number,\r\n    col2 varchar2(50)\r\n    );\r\n    \r\n    drop table testB;\r\n    create table testB\r\n    (\r\n    col1 number,\r\n    col2 varchar2(50)\r\n    );\r\n    \r\n    create or replace type t_vchar_tab as table of varchar2(50);\r\n    \r\n    insert into testA values (1,&#39;A&#39;);\r\n    insert into testA values (2,&#39;B&#39;);\r\n    \r\n    insert into testB values (1,&#39;X&#39;);\r\n    insert into testB values (1,&#39;Y&#39;);\r\n    insert into testB values (1,&#39;Z&#39;);\r\n    commit;\r\n    \r\n    -- select all related testB.col2 values in a nested table for each testA.col1 value\r\n    select a.col1, \r\n    cast(multiset(select b.col2 from testB b where b.col1 = a.col1 order by b.col2) as t_vchar_tab) as testB_vals\r\n    from testA a;\r\n    \r\n    -- test size &gt; 4000\r\n    insert into testB\r\n    select 2 as col1, substr((object_name || object_type), 1, 50) as col2\r\n    from all_objects;\r\n    commit;\r\n    \r\n    -- select all related testB.col2 values in a nested table for each testA.col1 value\r\n    select a.col1, \r\n    cast(multiset(select b.col2 from testB b where b.col1 = a.col1 order by b.col2) as t_vchar_tab) as testB_vals\r\n    from testA a;\r\n\r\nI&#39;m no java expert, but this has been around for some time and I&#39;m sure java can pull the values out of the nested table.  And, no need to tokenize some delimited string on the other end.\r\n\r\n","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<p>Why not use nested tables?</p>\n\n<pre><code>set echo on;\nset display on;\nset linesize 200;\n\ndrop table testA;\ncreate table testA\n(\ncol1 number,\ncol2 varchar2(50)\n);\n\ndrop table testB;\ncreate table testB\n(\ncol1 number,\ncol2 varchar2(50)\n);\n\ncreate or replace type t_vchar_tab as table of varchar2(50);\n\ninsert into testA values (1,'A');\ninsert into testA values (2,'B');\n\ninsert into testB values (1,'X');\ninsert into testB values (1,'Y');\ninsert into testB values (1,'Z');\ncommit;\n\n-- select all related testB.col2 values in a nested table for each testA.col1 value\nselect a.col1, \ncast(multiset(select b.col2 from testB b where b.col1 = a.col1 order by b.col2) as t_vchar_tab) as testB_vals\nfrom testA a;\n\n-- test size &gt; 4000\ninsert into testB\nselect 2 as col1, substr((object_name || object_type), 1, 50) as col2\nfrom all_objects;\ncommit;\n\n-- select all related testB.col2 values in a nested table for each testA.col1 value\nselect a.col1, \ncast(multiset(select b.col2 from testB b where b.col1 = a.col1 order by b.col2) as t_vchar_tab) as testB_vals\nfrom testA a;\n</code></pre>\n\n<p>I'm no java expert, but this has been around for some time and I'm sure java can pull the values out of the nested table.  And, no need to tokenize some delimited string on the other end.</p>\n"},{"tags":[],"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686790318,"creation_date":1686790318,"answer_id":76478411,"question_id":14864055,"body_markdown":"If you only want the first 4,000 characters, the [`LISTAGG`](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/LISTAGG.html#GUID-B6E50D8E-F467-425B-9436-F7F8BF38D466) function since version 12.2 has an option to easily truncate the overflowing data, add an elipsis, and then add the number of truncated values.\r\n\r\n```\r\nselect owner, listagg(object_name, &#39;,&#39; on overflow truncate) within group (order by object_name) names\r\nfrom all_objects\r\ngroup by owner\r\norder by owner;\r\n\r\nOWNER   NAMES\r\n-----  ------\r\nSYS    ACCESS$,ACLMV$,[hundreds of names here],ALL_GOLDENGATE_RULES,...(47742)\r\n```\r\n","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<p>If you only want the first 4,000 characters, the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/LISTAGG.html#GUID-B6E50D8E-F467-425B-9436-F7F8BF38D466\" rel=\"nofollow noreferrer\"><code>LISTAGG</code></a> function since version 12.2 has an option to easily truncate the overflowing data, add an elipsis, and then add the number of truncated values.</p>\n<pre><code>select owner, listagg(object_name, ',' on overflow truncate) within group (order by object_name) names\nfrom all_objects\ngroup by owner\norder by owner;\n\nOWNER   NAMES\n-----  ------\nSYS    ACCESS$,ACLMV$,[hundreds of names here],ALL_GOLDENGATE_RULES,...(47742)\n</code></pre>\n"}],"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19815,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1686790318,"creation_date":1360793033,"question_id":14864055,"body_markdown":"When i run the following query:\r\n\r\n     Select\r\n      tm.product_id,\r\n      listagg(tm.book_id || &#39;(&#39; || tm.score || &#39;)&#39;,&#39;,&#39;)\r\n        within group (order by tm.product_id) as matches\r\n    from\r\n      tl_product_match tm \r\n    where\r\n      tm.book_id is not null \r\n    group by\r\n      tm.product_id\r\n\r\nOracle returns the following error:\r\n\r\n     ORA-01489: result of string concatenation is too long\r\n\r\nI know that the reason it is failing is that the listagg function is trying to concatenate a the values which are greater than 4000 characters which is not supported. \r\n\r\nI have seen the alternative example described here - http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php but they all require the use of functions or procedure. \r\n\r\nIs there a solution that is pure SQL without having to call a function or stored procedure and being able to read the value using standard JDBC? \r\n\r\nThe other difficulty i have is that most string aggregation examples i have seen shows examples with how to read the value as is. In my example about i am modifying the value first (i.e. i am aggregating two columns). \r\n\r\n\r\n","title":"Listagg function and ORA-01489: result of string concatenation is too long","body":"<p>When i run the following query:</p>\n\n<pre><code> Select\n  tm.product_id,\n  listagg(tm.book_id || '(' || tm.score || ')',',')\n    within group (order by tm.product_id) as matches\nfrom\n  tl_product_match tm \nwhere\n  tm.book_id is not null \ngroup by\n  tm.product_id\n</code></pre>\n\n<p>Oracle returns the following error:</p>\n\n<pre><code> ORA-01489: result of string concatenation is too long\n</code></pre>\n\n<p>I know that the reason it is failing is that the listagg function is trying to concatenate a the values which are greater than 4000 characters which is not supported. </p>\n\n<p>I have seen the alternative example described here - <a href=\"http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php\">http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php</a> but they all require the use of functions or procedure. </p>\n\n<p>Is there a solution that is pure SQL without having to call a function or stored procedure and being able to read the value using standard JDBC? </p>\n\n<p>The other difficulty i have is that most string aggregation examples i have seen shows examples with how to read the value as is. In my example about i am modifying the value first (i.e. i am aggregating two columns). </p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":20372882,"reputation":1,"user_id":15966469,"display_name":"Matheus Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686789849,"creation_date":1686314611,"question_id":76440378,"body_markdown":"The adjustPan helps a lot by raising the content present in the ScrollView, I&#39;m making a chat app and I want the messages to go up and the edittext to stay on top of the keyboard, but when I move the cursor through the EditText the entire layout goes down and the cursor is always stuck with the keyboard, I want to make the cursor move freely through the EditText without scrolling down the entire layout\r\n\r\n\r\n\r\n```\r\n&lt;android.support.v4.widget.NestedScrollView\r\n\t\tandroid:id=&quot;@+id/scroll&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\tandroid:isScrollContainer=&quot;true&quot;\r\n\t\tandroid:fillViewport=&quot;true&quot;\r\n\t\tandroid:layout_above=&quot;@+id/above&quot;\r\n\t\tandroid:layout_weight=&quot;1.0&quot;&gt;\r\n\r\n\t\t&lt;LinearLayout\r\n\t\t\tandroid:id=&quot;@+id/mensagens&quot;\r\n\t\t\tandroid:orientation=&quot;vertical&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\t\tandroid:background=&quot;@color/papel&quot;\r\n\t\t\tandroid:paddingBottom=&quot;5dp&quot;/&gt;\r\n\r\n\t&lt;/android.support.v4.widget.NestedScrollView&gt;\r\n\r\n\t&lt;LinearLayout\r\n\t\tandroid:id=&quot;@+id/above&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:background=&quot;@color/papel&quot;\r\n\t\tandroid:paddingBottom=&quot;3dp&quot;&gt;\r\n\r\n\t\t&lt;LinearLayout\r\n\t\t\tandroid:orientation=&quot;horizontal&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:background=&quot;@drawable/mensagem&quot;\r\n\t\t\tandroid:layout_marginLeft=&quot;20dp&quot;\r\n\t\t\tandroid:layout_marginRight=&quot;20dp&quot;\r\n\t\t\tandroid:paddingLeft=&quot;12dp&quot;\r\n\t\t\tandroid:gravity=&quot;center_vertical&quot;&gt;\r\n\r\n\t\t\t&lt;ImageView\r\n\t\t\t\tandroid:src=&quot;@drawable/icon_dimen_menu&quot;\r\n\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:id=&quot;@+id/comandos&quot;\r\n\t\t\t\tandroid:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n\r\n\t\t\t\t&lt;EditText\r\n                      \r\n\t\t\t\t\tandroid:id=&quot;@+id/textoMensagem&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\t\tandroid:inputType=&quot;textMultiLine&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_alignParentBottom=&quot;true&quot;\r\n\t\t\t\t\tandroid:background=&quot;@drawable/campo_mensagem&quot;\r\n\t\t\t\t\tandroid:padding=&quot;10dp&quot;\r\n\t\t\t\t\tandroid:hint=&quot;Mensagem...&quot;\r\n\t\t\t\t\tandroid:scrollbars=&quot;vertical&quot;\r\n\t\t\t\t\tandroid:maxLines=&quot;4&quot;\r\n\t\t\t\t\tandroid:paddingLeft=&quot;5dp&quot;\r\n\t\t\t\t\tandroid:gravity=&quot;top|left&quot;\r\n\t\t\t\t\tandroid:layout_gravity=&quot;center_vertical|bottom&quot;\r\n\t\t\t\t\tandroid:fadeScrollbars=&quot;true&quot;\r\n\t\t\t\t\tandroid:minLines=&quot;1&quot;\r\n\t\t\t\t\tandroid:layout_weight=&quot;1.0&quot;\r\n\t\t\t\t\tandroid:isScrollContainer=&quot;false&quot;/&gt;\r\n\r\n\t\t\t&lt;LinearLayout\r\n\t\t\t\tandroid:id=&quot;@+id/enviarMensagem&quot;\r\n\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_marginLeft=&quot;7dp&quot;&gt;\r\n\r\n\t\t\t\t&lt;ImageView\r\n\t\t\t\t\tandroid:src=&quot;@drawable/icon_dimen_enviar&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:padding=&quot;13dp&quot;\r\n\t\t\t\t\tandroid:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n\r\n\t\t\t&lt;/LinearLayout&gt;\r\n\r\n\t\t&lt;/LinearLayout&gt;\r\n\r\n\t&lt;/LinearLayout&gt;\r\n```\r\n\r\n(https://i.stack.imgur.com/vrJHn.jpg)","title":"Disable effect adjustPan in EditText","body":"<p>The adjustPan helps a lot by raising the content present in the ScrollView, I'm making a chat app and I want the messages to go up and the edittext to stay on top of the keyboard, but when I move the cursor through the EditText the entire layout goes down and the cursor is always stuck with the keyboard, I want to make the cursor move freely through the EditText without scrolling down the entire layout</p>\n<pre><code>&lt;android.support.v4.widget.NestedScrollView\n        android:id=&quot;@+id/scroll&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:isScrollContainer=&quot;true&quot;\n        android:fillViewport=&quot;true&quot;\n        android:layout_above=&quot;@+id/above&quot;\n        android:layout_weight=&quot;1.0&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/mensagens&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/papel&quot;\n            android:paddingBottom=&quot;5dp&quot;/&gt;\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/above&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/papel&quot;\n        android:paddingBottom=&quot;3dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:orientation=&quot;horizontal&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/mensagem&quot;\n            android:layout_marginLeft=&quot;20dp&quot;\n            android:layout_marginRight=&quot;20dp&quot;\n            android:paddingLeft=&quot;12dp&quot;\n            android:gravity=&quot;center_vertical&quot;&gt;\n\n            &lt;ImageView\n                android:src=&quot;@drawable/icon_dimen_menu&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/comandos&quot;\n                android:layout_gravity=&quot;center_vertical&quot;/&gt;\n\n                &lt;EditText\n                      \n                    android:id=&quot;@+id/textoMensagem&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:inputType=&quot;textMultiLine&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_alignParentBottom=&quot;true&quot;\n                    android:background=&quot;@drawable/campo_mensagem&quot;\n                    android:padding=&quot;10dp&quot;\n                    android:hint=&quot;Mensagem...&quot;\n                    android:scrollbars=&quot;vertical&quot;\n                    android:maxLines=&quot;4&quot;\n                    android:paddingLeft=&quot;5dp&quot;\n                    android:gravity=&quot;top|left&quot;\n                    android:layout_gravity=&quot;center_vertical|bottom&quot;\n                    android:fadeScrollbars=&quot;true&quot;\n                    android:minLines=&quot;1&quot;\n                    android:layout_weight=&quot;1.0&quot;\n                    android:isScrollContainer=&quot;false&quot;/&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/enviarMensagem&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;7dp&quot;&gt;\n\n                &lt;ImageView\n                    android:src=&quot;@drawable/icon_dimen_enviar&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;13dp&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>(<a href=\"https://i.stack.imgur.com/vrJHn.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/vrJHn.jpg</a>)</p>\n"},{"tags":["java","action"],"owner":{"account_id":22725921,"reputation":1,"user_id":16889688,"display_name":"王兆斌"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686788264,"creation_date":1686788264,"question_id":76478332,"body_markdown":"445 CRITICAL 403 {&quot;message&quot;: &quot;Resource not accessible by integration&quot;, &quot;documentation_url&quot;: &quot;https://docs.github.com/rest/reference/repos#create-or-update-file-contents&quot;}\r\n\r\n[enter image description here](https://i.stack.imgur.com/flMG0.png)\r\n\r\nI want to be able to get useful solutions,Now seems to be a resource problems","title":"445 CRITICAL 403 {&quot;message&quot;: &quot;Resource not accessible by integration&quot;, } gernerate a error in action","body":"<p>445 CRITICAL 403 {&quot;message&quot;: &quot;Resource not accessible by integration&quot;, &quot;documentation_url&quot;: &quot;https://docs.github.com/rest/reference/repos#create-or-update-file-contents&quot;}</p>\n<p><a href=\"https://i.stack.imgur.com/flMG0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to be able to get useful solutions,Now seems to be a resource problems</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1686746535,"post_id":76473700,"comment_id":134841218,"body_markdown":"calculate the date for two days ago, and compare it to the one you&#39;ve got","body":"calculate the date for two days ago, and compare it to the one you&#39;ve got"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1686746612,"post_id":76473700,"comment_id":134841239,"body_markdown":"&quot;but getting the exception&quot; - what exception? I would strongly advise you to separate the problem into two parts: parsing from text to appropriate types, and working with those appropriate types. Chances are only one of those parts is relevant to the question - so cut the other one out.","body":"&quot;but getting the exception&quot; - what exception? I would strongly advise you to separate the problem into two parts: parsing from text to appropriate types, and working with those appropriate types. Chances are only one of those parts is relevant to the question - so cut the other one out."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1686746613,"post_id":76473700,"comment_id":134841240,"body_markdown":"&quot;but getting the exception&quot; &lt;- What exception are you getting? The exception and the stacktrace is what will tell us and you what is wrong.","body":"&quot;but getting the exception&quot; &lt;- What exception are you getting? The exception and the stacktrace is what will tell us and you what is wrong."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1686746651,"post_id":76473700,"comment_id":134841247,"body_markdown":"posted code does not compile, ergo it is not the correct one - and I would check the posted time &#39;010&#39; seconds is not *usual* (and ISO8601 formatted date/times don&#39;t need a formatter - it is the default format) - **and** `SSS` is fraction of seconds (intentional?)","body":"posted code does not compile, ergo it is not the correct one - and I would check the posted time &#39;010&#39; seconds is not <i>usual</i> (and ISO8601 formatted date/times don&#39;t need a formatter - it is the default format) - <b>and</b> <code>SSS</code> is fraction of seconds (intentional?)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686747007,"post_id":76473700,"comment_id":134841327,"body_markdown":"**AND** the format `&quot;...MM- dd...&quot;` has an extra space that is missing in input (another copy&amp;paste error? What else should we expect is missing?)","body":"<b>AND</b> the format <code>&quot;...MM- dd...&quot;</code> has an extra space that is missing in input (another copy&amp;paste error? What else should we expect is missing?)"}],"answers":[{"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686747471,"creation_date":1686747471,"answer_id":76473851,"question_id":76473700,"body_markdown":"If you want to use ZonedDateTime you also have to specify a timezone. Easiest way would be to change your formatter to this:\r\n\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)withZone(ZoneId.systemDefault());\r\n\r\nAlso note that your pattern uses ```SSS``` which is milliseconds but I think you meant to use ```ss``` for seconds.\r\nUppercase S means milliseconds, lowercase s mean seconds. One is three digits the other is two.\r\n","title":"How to parse the date time and calculate if it is less than 2 days old from current date","body":"<p>If you want to use ZonedDateTime you also have to specify a timezone. Easiest way would be to change your formatter to this:</p>\n<pre><code>DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)withZone(ZoneId.systemDefault());\n</code></pre>\n<p>Also note that your pattern uses <code>SSS</code> which is milliseconds but I think you meant to use <code>ss</code> for seconds.\nUppercase S means milliseconds, lowercase s mean seconds. One is three digits the other is two.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686787700,"creation_date":1686787700,"answer_id":76478306,"question_id":76473700,"body_markdown":"Firstly, the format does not conform to _[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)_.\r\n\r\nThere are three-digits in the _&quot;seconds&quot;_ field.  \r\nAnd, these are subsequently identified as a _&quot;milliseconds&quot;_ field&amp;mdash;uppercase _&quot;SSS&quot;_.\r\n\r\nThere does not appear to be any way to include a _&quot;wildcard&quot;_ within a parse pattern.  \r\nSo, you&#39;ll have to remove the extra digit.  \r\nThis could be either index 17, 18, or 19.\r\n\r\nYou can use the _[StringBuilder#deleteCharAt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#deleteCharAt(int))_ method.\r\n\r\n```java\r\nString givenDate = &quot;2023-06-12T10:49:010Z&quot;;\r\nStringBuilder string = new StringBuilder(givenDate);\r\ngivenDate = string.deleteCharAt(19).toString();\r\n```\r\n\r\nAdditionally, instead of typing out the pattern, you can use, _[DateTimeFormatter#ISO_DATE_TIME](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME)_.\r\n\r\n```java\r\npublic boolean compareDates(){\r\n    String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\r\n    StringBuilder string = new StringBuilder(givenDate);\r\n    givenDate = string.deleteCharAt(19).toString();\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ISO_DATE_TIME;\r\n    ZonedDateTime givenDateTime = ZonedDateTime.parse(givenDate, dateTimeFormatter);\r\n    ZonedDateTime currentDateTime = ZonedDateTime.now();\r\n    long daysDiffernce = ChronoUnit.DAYS.between(currentDateTime, givenDateTime);\r\n    return daysDiffernce &lt; 2;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ntrue\r\n```","title":"How to parse the date time and calculate if it is less than 2 days old from current date","body":"<p>Firstly, the format does not conform to <em><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a></em>.</p>\n<p>There are three-digits in the <em>&quot;seconds&quot;</em> field.<br />\nAnd, these are subsequently identified as a <em>&quot;milliseconds&quot;</em> field—uppercase <em>&quot;SSS&quot;</em>.</p>\n<p>There does not appear to be any way to include a <em>&quot;wildcard&quot;</em> within a parse pattern.<br />\nSo, you'll have to remove the extra digit.<br />\nThis could be either index 17, 18, or 19.</p>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#deleteCharAt(int)\" rel=\"nofollow noreferrer\">StringBuilder#deleteCharAt</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\nStringBuilder string = new StringBuilder(givenDate);\ngivenDate = string.deleteCharAt(19).toString();\n</code></pre>\n<p>Additionally, instead of typing out the pattern, you can use, <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME\" rel=\"nofollow noreferrer\">DateTimeFormatter#ISO_DATE_TIME</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean compareDates(){\n    String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\n    StringBuilder string = new StringBuilder(givenDate);\n    givenDate = string.deleteCharAt(19).toString();\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ISO_DATE_TIME;\n    ZonedDateTime givenDateTime = ZonedDateTime.parse(givenDate, dateTimeFormatter);\n    ZonedDateTime currentDateTime = ZonedDateTime.now();\n    long daysDiffernce = ChronoUnit.DAYS.between(currentDateTime, givenDateTime);\n    return daysDiffernce &lt; 2;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\n</code></pre>\n"}],"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686787847,"creation_date":1686746450,"question_id":76473700,"body_markdown":"Tried something like below, but getting the exception \r\n\r\n```none\r\nText &#39;2023-06-12T10:49:010Z&#39; could not be parsed: Unable to obtain ZonedDateTime from TemporalAccessor: {HourOfDay=10, MinuteOfHour=49, NanoOfSecond=10000000},ISO resolved to 2023-06-12 of type java.time.format.Parsed\r\n```\r\n\r\n    public boolean compareDates(){\r\n        String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\r\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:SSS&#39;Z&#39;&quot;);\r\n        ZonedDateTime givenDateTime = ZonedDateTime.parse(givenDate, dateTimeFormatter);\r\n        ZonedDateTime currentDateTime = ZonedDateTime.now();\r\n        long daysDiffernce = ChronoUnit.DAYS.between(currentDateTime, givenDateTime);\r\n        return daysDiffernce &lt; 2;\r\n    }\r\nAny idea what&#39;s going wrong, is it something seconds is not correct means having three digits(010Z)","title":"How to parse the date time and calculate if it is less than 2 days old from current date","body":"<p>Tried something like below, but getting the exception</p>\n<pre class=\"lang-none prettyprint-override\"><code>Text '2023-06-12T10:49:010Z' could not be parsed: Unable to obtain ZonedDateTime from TemporalAccessor: {HourOfDay=10, MinuteOfHour=49, NanoOfSecond=10000000},ISO resolved to 2023-06-12 of type java.time.format.Parsed\n</code></pre>\n<pre><code>public boolean compareDates(){\n    String givenDate = &quot;2023-06-12T10:49:010Z&quot;;\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:SSS'Z'&quot;);\n    ZonedDateTime givenDateTime = ZonedDateTime.parse(givenDate, dateTimeFormatter);\n    ZonedDateTime currentDateTime = ZonedDateTime.now();\n    long daysDiffernce = ChronoUnit.DAYS.between(currentDateTime, givenDateTime);\n    return daysDiffernce &lt; 2;\n}\n</code></pre>\n<p>Any idea what's going wrong, is it something seconds is not correct means having three digits(010Z)</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686788453,"post_id":76478308,"comment_id":134848855,"body_markdown":"Do you want the ALL the text to be the same color or change the color of individual words/phrases?","body":"Do you want the ALL the text to be the same color or change the color of individual words/phrases?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1686788594,"post_id":76478308,"comment_id":134848866,"body_markdown":"I&#39;d start by looking at [`JTextArea#setForeground`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#setForeground(java.awt.Color)) and [How to Use Text Areas](https://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html). For something more richer (and therefore more complicated), I&#39;d have a look at [How to Use Editor Panes and Text Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html)","body":"I&#39;d start by looking at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#setForeground(java.awt.Color)\" rel=\"nofollow noreferrer\"><code>JTextArea#setForeground</code></a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html\" rel=\"nofollow noreferrer\">How to Use Text Areas</a>. For something more richer (and therefore more complicated), I&#39;d have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/editorpane.html\" rel=\"nofollow noreferrer\">How to Use Editor Panes and Text Panes</a>"}],"owner":{"account_id":28823550,"reputation":1,"user_id":22075507,"display_name":"Vin&#237;cius Andriolli Arndt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686788646,"answer_count":0,"score":0,"last_activity_date":1686787802,"creation_date":1686787802,"question_id":76478308,"body_markdown":"```\r\n itemsTextArea.append(&quot;You pulled a 5-star item\\n&quot;);\r\n            pullsSinceLast4Star = 0;\r\n            pullsSinceLast5Star = 0;\r\n        } else if (randomNumber &lt;= 22) {\r\n            itemsTextArea.append(&quot;You pulled a 4-star item\\n&quot;);\r\n            pullsSinceLast4Star = 0;\r\n        } else {\r\n            itemsTextArea.append(&quot;You pulled a 3-star item\\n&quot;);\r\n        }\r\n```\r\n\r\ni want that the &quot;you pulled a 5-star item&quot; have a color just to him","title":"How can i make text have color in a Jpanel in JAVA","body":"<pre><code> itemsTextArea.append(&quot;You pulled a 5-star item\\n&quot;);\n            pullsSinceLast4Star = 0;\n            pullsSinceLast5Star = 0;\n        } else if (randomNumber &lt;= 22) {\n            itemsTextArea.append(&quot;You pulled a 4-star item\\n&quot;);\n            pullsSinceLast4Star = 0;\n        } else {\n            itemsTextArea.append(&quot;You pulled a 3-star item\\n&quot;);\n        }\n</code></pre>\n<p>i want that the &quot;you pulled a 5-star item&quot; have a color just to him</p>\n"},{"tags":["java","unit-testing","javafx-8"],"owner":{"account_id":17072486,"reputation":1,"user_id":12352883,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686787547,"creation_date":1686787547,"question_id":76478298,"body_markdown":"I&#39;m a little new to java.\r\nI have a project that is 25% javafx GUI instantiation / GUI handling.\r\n\r\nI&#39;m attempting to reach project code coverage &gt;80%, but my untested GUI code is pulling it down.\r\nDo I need to test this code?\r\n\r\nI&#39;ve looked into using TestFx library, but struggling to find good teaching resources.\r\n","title":"Should javafx gui instantiation and gui handling code be unit tested","body":"<p>I'm a little new to java.\nI have a project that is 25% javafx GUI instantiation / GUI handling.</p>\n<p>I'm attempting to reach project code coverage &gt;80%, but my untested GUI code is pulling it down.\nDo I need to test this code?</p>\n<p>I've looked into using TestFx library, but struggling to find good teaching resources.</p>\n"},{"tags":["java","maven","mulesoft","anypoint-studio"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682622356,"post_id":76123369,"comment_id":134249091,"body_markdown":"Please share the source for the Java function you are trying to use.","body":"Please share the source for the Java function you are trying to use."},{"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"score":0,"creation_date":1682671040,"post_id":76123369,"comment_id":134255541,"body_markdown":"Just added MyUtills Class.","body":"Just added MyUtills Class."}],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686786331,"creation_date":1682618332,"question_id":76123369,"body_markdown":"I&#39;m trying to use a java library on my mule application. \r\nFollowing [this][1] tutorial, i successfully imported and invoked the extended StringUtils class in Datawave. But when i do the same for my own library, it fails.\r\n\r\nHere the steps o followed from the tutorial:\r\n\r\n1. Add the dependency to my `mylib` artifact:\r\n\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.example.shared&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mylib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\r\n2. configure the maven plugin to use the shared lib:\r\n\r\n      \t&lt;plugin&gt;\r\n\t\t  &lt;groupId&gt;org.mule.tools.maven&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;mule-maven-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;${mule.maven.plugin.version}&lt;/version&gt;\r\n\t\t  &lt;extensions&gt;true&lt;/extensions&gt;\r\n\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;sharedLibraries&gt;\r\n\t\t\t\t&lt;sharedLibrary&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.example.shared&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mylib&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/sharedLibrary&gt;\r\n\t\t\t&lt;/sharedLibraries&gt;\r\n\t\t &lt;/configuration&gt;\r\n\t   &lt;/plugin&gt;\r\n\r\n3. Add the package `com.example.shared` to the class loader:\r\n\r\n\r\n\t\t{\r\n\t\t  &quot;minMuleVersion&quot;: &quot;4.4.0&quot;,\r\n\t\t  &quot;classLoaderModelLoaderDescriptor&quot;: {\r\n\t\t\t\t&quot;id&quot;: &quot;mule&quot;,\r\n\t\t\t\t&quot;attributes&quot;: {\r\n\t\t\t\t\t&quot;exportedPackages&quot;: [\t\t\t\r\n\t\t\t\t\t &quot;com.example.shared&quot;\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n  \r\nYet, when i try to call it from `Datawave`, in the same way presented by the tutorial:\r\n\r\n    \r\n       \texample: java!com::example::shared::MyUtils::foo()\r\n\r\ni get:\r\n\r\n       Unable to resolve reference of: `com::example::shared::MyUtils::foo`. at 7 : 7&quot; evaluating expression: &quot;%dw 2.0\r\n\r\nNote: The `Anypoint Studio` shows an error in the `Datawave` preview window but it builds and runs successfully.\r\nThe same kind of error is present when using `StringUtills` from `common-lang3` library, that is used on the tutorial example.\r\n\r\nUpdate:\r\nHere is the java code:\r\n\r\n\tpackage com.example.shared;\r\n\r\n\tpublic class MyUtils {\r\n\r\n\t\tpublic static String foo() {\r\n\t\t\treturn &quot;I&#39;m here.&quot;;\r\n\t\t}\r\n\t}\r\n\r\n  [1]: https://mulesy.com/external-jar-class-in-dataweave/","title":"Unable to use external java JAR library into mulesoft datawave","body":"<p>I'm trying to use a java library on my mule application.\nFollowing <a href=\"https://mulesy.com/external-jar-class-in-dataweave/\" rel=\"nofollow noreferrer\">this</a> tutorial, i successfully imported and invoked the extended StringUtils class in Datawave. But when i do the same for my own library, it fails.</p>\n<p>Here the steps o followed from the tutorial:</p>\n<ol>\n<li><p>Add the dependency to my <code>mylib</code> artifact:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.example.shared&lt;/groupId&gt;\n     &lt;artifactId&gt;mylib&lt;/artifactId&gt;\n     &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>configure the maven plugin to use the shared lib:</p>\n<pre><code> &lt;plugin&gt;\n   &lt;groupId&gt;org.mule.tools.maven&lt;/groupId&gt;\n   &lt;artifactId&gt;mule-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;${mule.maven.plugin.version}&lt;/version&gt;\n   &lt;extensions&gt;true&lt;/extensions&gt;\n\n   &lt;configuration&gt;\n     &lt;sharedLibraries&gt;\n         &lt;sharedLibrary&gt;\n             &lt;groupId&gt;com.example.shared&lt;/groupId&gt;\n             &lt;artifactId&gt;mylib&lt;/artifactId&gt;\n         &lt;/sharedLibrary&gt;\n     &lt;/sharedLibraries&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n</li>\n<li><p>Add the package <code>com.example.shared</code> to the class loader:</p>\n<pre><code> {\n   &quot;minMuleVersion&quot;: &quot;4.4.0&quot;,\n   &quot;classLoaderModelLoaderDescriptor&quot;: {\n         &quot;id&quot;: &quot;mule&quot;,\n         &quot;attributes&quot;: {\n             &quot;exportedPackages&quot;: [           \n              &quot;com.example.shared&quot;\n             ]\n         }\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>Yet, when i try to call it from <code>Datawave</code>, in the same way presented by the tutorial:</p>\n<pre><code>    example: java!com::example::shared::MyUtils::foo()\n</code></pre>\n<p>i get:</p>\n<pre><code>   Unable to resolve reference of: `com::example::shared::MyUtils::foo`. at 7 : 7&quot; evaluating expression: &quot;%dw 2.0\n</code></pre>\n<p>Note: The <code>Anypoint Studio</code> shows an error in the <code>Datawave</code> preview window but it builds and runs successfully.\nThe same kind of error is present when using <code>StringUtills</code> from <code>common-lang3</code> library, that is used on the tutorial example.</p>\n<p>Update:\nHere is the java code:</p>\n<pre><code>package com.example.shared;\n\npublic class MyUtils {\n\n    public static String foo() {\n        return &quot;I'm here.&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1630134638,"post_id":68961647,"comment_id":121877315,"body_markdown":"You didn&#39;t include the one specific class where the NPE is, but most likely the problem is that it&#39;s not a Spring bean. Avoid `@Autowired` fields; generally replace them with constructors or (in the case of `@Bean` methods) parameters.","body":"You didn&#39;t include the one specific class where the NPE is, but most likely the problem is that it&#39;s not a Spring bean. Avoid <code>@Autowired</code> fields; generally replace them with constructors or (in the case of <code>@Bean</code> methods) parameters."},{"owner":{"account_id":21111045,"reputation":11,"user_id":15518999,"display_name":"gufran tech"},"score":0,"creation_date":1630135760,"post_id":68961647,"comment_id":121877512,"body_markdown":"thankx for your reply but i am not getting your answer properly can u explain it thanks a lot","body":"thankx for your reply but i am not getting your answer properly can u explain it thanks a lot"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1630258720,"post_id":68961647,"comment_id":121901991,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":22872215,"reputation":1,"user_id":17015083,"display_name":"Milind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632738095,"creation_date":1632738095,"answer_id":69345000,"question_id":68961647,"body_markdown":"Please make LineMapper method as public and add @Bean annotation. Also add @Bean annotation above the JdbcBatchItemWriter method.\r\n\r\n    @Bean\r\n    public LineMapper&lt;User&gt; getlineMapper() {\r\n            DefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n            DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n            lineTokenizer.setNames(new String[] { &quot;Emp ID&quot;, &quot;Name Prefix&quot;, &quot;First Name&quot;, &quot;Last Name&quot; });\r\n            lineTokenizer.setIncludedFields(new int[] { 0, 1, 2, 4 });\r\n            BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n            fieldSetMapper.setTargetType(User.class);\r\n            lineMapper.setLineTokenizer(lineTokenizer);\r\n            lineMapper.setFieldSetMapper(fieldSetMapper);\r\n            return lineMapper;\r\n        }\r\n    \r\n    @Bean\r\n    public JdbcBatchItemWriter&lt;User&gt; writer() {\r\n            JdbcBatchItemWriter&lt;User&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\r\n            writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\r\n            writer.setSql(\r\n                    &quot;insert into user(userId,namePrefix,firstName,lastName) values (:userId, :namePrefix, :firstName, :lastName)&quot;);\r\n            writer.setDataSource(this.dataSource);\r\n            return writer;\r\n        }\r\n\r\n  \r\n","title":"getting null pointer exception sending data to db using spring batch and csv file format","body":"<p>Please make LineMapper method as public and add @Bean annotation. Also add @Bean annotation above the JdbcBatchItemWriter method.</p>\n<pre><code>@Bean\npublic LineMapper&lt;User&gt; getlineMapper() {\n        DefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n        lineTokenizer.setNames(new String[] { &quot;Emp ID&quot;, &quot;Name Prefix&quot;, &quot;First Name&quot;, &quot;Last Name&quot; });\n        lineTokenizer.setIncludedFields(new int[] { 0, 1, 2, 4 });\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n        lineMapper.setLineTokenizer(lineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n        return lineMapper;\n    }\n\n@Bean\npublic JdbcBatchItemWriter&lt;User&gt; writer() {\n        JdbcBatchItemWriter&lt;User&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\n        writer.setSql(\n                &quot;insert into user(userId,namePrefix,firstName,lastName) values (:userId, :namePrefix, :firstName, :lastName)&quot;);\n        writer.setDataSource(this.dataSource);\n        return writer;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632759566,"creation_date":1632743724,"answer_id":69346142,"question_id":68961647,"body_markdown":"For simplicity use a separate temp user class as **UserInput** for reading the data and one entity class which represent in table e.i **User* entity\r\n\r\n**UserInput**\r\n\r\n    public class UserInput {\r\n    \r\n    \tprivate String userId;\r\n\t    private String namePrefix;\r\n\t    private String firstName;\r\n\t    private String lastName;\r\n\r\n    }\r\n\r\n**User**\r\n    \r\n    @Entity\r\n    @Table(name = &quot;USER&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate long id;\r\n    \tprivate String userId;\r\n    \tprivate String namePrefix;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;    \t\r\n    \r\n    }\r\n\r\n**UserDataProcessor** \r\n       \r\n    public class UserDataProcessor implements ItemProcessor&lt;UserInput, User&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic User process(UserInput userInput) throws Exception {\r\n    \t\tUser user = new User();\r\n    \t\tuser.setUserId(userInput.getUserId());\r\n    \t\tuser.setNamePrefix(userInput.getNamePrefix());\r\n    \t\tuser.setFirstName(userInput.getFirstName());\r\n    \t\tuser.setLastName(userInput.getLastName());\r\n    \t\tSystem.out.println(user);\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n **BatchConfig**\r\n     \r\n        \r\n        @Configuration\r\n        @EnableBatchProcessing\r\n        public class BatchConfig {\r\n        \r\n        \tprivate final String[] FIELD_NAMES = new String[] { &quot;userId&quot;, &quot;namePrefix&quot;, &quot;firstName&quot;, &quot;lastName&quot; };\r\n        \r\n        \t@Autowired\r\n        \tprivate DataSource dataSource;\r\n        \t@Autowired\r\n        \tprivate JobBuilderFactory jobBuilderFactory;\r\n        \t@Autowired\r\n        \tprivate StepBuilderFactory stepBuilderFactory;\r\n        \r\n        \t@Bean\r\n        \tpublic FlatFileItemReader&lt;UserInput&gt; reader() {\r\n        \t\treturn new FlatFileItemReaderBuilder&lt;UserInput&gt;().name(&quot;personItemReader&quot;)\r\n        \t\t\t\t.resource(new ClassPathResource(&quot;user-data.csv&quot;)).delimited().names(FIELD_NAMES)\r\n        \t\t\t\t.fieldSetMapper(new BeanWrapperFieldSetMapper&lt;UserInput&gt;() {\r\n        \t\t\t\t\t{\r\n        \t\t\t\t\t\tsetTargetType(UserInput.class);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}).build();\r\n        \t}\r\n        \r\n        \t@Bean\r\n        \tpublic UserDataProcessor processor() {\r\n        \t\treturn new UserDataProcessor();\r\n        \r\n        \t}\r\n        \t@Bean\r\n        \tpublic JdbcBatchItemWriter&lt;User&gt; writer() {\r\n        \t\treturn new JdbcBatchItemWriterBuilder&lt;User&gt;()\r\n        \t\t\t\t.itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\r\n        \t\t\t\t.sql(&quot;INSERT INTO user (userId,namePrefix,firstName,lastName) &quot;\r\n        \t\t\t\t\t\t+ &quot;VALUES (:userId,:namePrefix,:firstName,:lastName)&quot;)\r\n        \t\t\t\t.dataSource(dataSource).build();\r\n        \r\n        \t}\r\n        \r\n        \t@Bean\r\n        \tpublic Job importUserJob(JobCompletionNotificationListener listener, Step step1) {\r\n        \t\treturn jobBuilderFactory.get(&quot;importUserJob&quot;).incrementer(new RunIdIncrementer()).listener(listener).flow(step1)\r\n        \t\t\t\t.end().build();\r\n        \t}\r\n        \r\n        \t@Bean\r\n        \tpublic Step step1(JdbcBatchItemWriter&lt;User&gt; writer) {\r\n        \t\treturn stepBuilderFactory.get(&quot;step1&quot;).&lt;UserInput, User&gt;chunk(10).reader(reader()).processor(processor())\r\n        \t\t\t\t.writer(writer).build();\r\n        \t}\r\n        \r\n        }","title":"getting null pointer exception sending data to db using spring batch and csv file format","body":"<p>For simplicity use a separate temp user class as <strong>UserInput</strong> for reading the data and one entity class which represent in table e.i *<em>User</em> entity</p>\n<p><strong>UserInput</strong></p>\n<pre><code>public class UserInput {\n\n    private String userId;\n    private String namePrefix;\n    private String firstName;\n    private String lastName;\n\n}\n</code></pre>\n<p><strong>User</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;USER&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String userId;\n    private String namePrefix;\n    private String firstName;\n    private String lastName;        \n\n}\n</code></pre>\n<p><strong>UserDataProcessor</strong></p>\n<pre><code>public class UserDataProcessor implements ItemProcessor&lt;UserInput, User&gt; {\n\n    @Override\n    public User process(UserInput userInput) throws Exception {\n        User user = new User();\n        user.setUserId(userInput.getUserId());\n        user.setNamePrefix(userInput.getNamePrefix());\n        user.setFirstName(userInput.getFirstName());\n        user.setLastName(userInput.getLastName());\n        System.out.println(user);\n        return user;\n    }\n\n}\n</code></pre>\n<p><strong>BatchConfig</strong></p>\n<pre><code>    @Configuration\n    @EnableBatchProcessing\n    public class BatchConfig {\n    \n        private final String[] FIELD_NAMES = new String[] { &quot;userId&quot;, &quot;namePrefix&quot;, &quot;firstName&quot;, &quot;lastName&quot; };\n    \n        @Autowired\n        private DataSource dataSource;\n        @Autowired\n        private JobBuilderFactory jobBuilderFactory;\n        @Autowired\n        private StepBuilderFactory stepBuilderFactory;\n    \n        @Bean\n        public FlatFileItemReader&lt;UserInput&gt; reader() {\n            return new FlatFileItemReaderBuilder&lt;UserInput&gt;().name(&quot;personItemReader&quot;)\n                    .resource(new ClassPathResource(&quot;user-data.csv&quot;)).delimited().names(FIELD_NAMES)\n                    .fieldSetMapper(new BeanWrapperFieldSetMapper&lt;UserInput&gt;() {\n                        {\n                            setTargetType(UserInput.class);\n                        }\n                    }).build();\n        }\n    \n        @Bean\n        public UserDataProcessor processor() {\n            return new UserDataProcessor();\n    \n        }\n        @Bean\n        public JdbcBatchItemWriter&lt;User&gt; writer() {\n            return new JdbcBatchItemWriterBuilder&lt;User&gt;()\n                    .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\n                    .sql(&quot;INSERT INTO user (userId,namePrefix,firstName,lastName) &quot;\n                            + &quot;VALUES (:userId,:namePrefix,:firstName,:lastName)&quot;)\n                    .dataSource(dataSource).build();\n    \n        }\n    \n        @Bean\n        public Job importUserJob(JobCompletionNotificationListener listener, Step step1) {\n            return jobBuilderFactory.get(&quot;importUserJob&quot;).incrementer(new RunIdIncrementer()).listener(listener).flow(step1)\n                    .end().build();\n        }\n    \n        @Bean\n        public Step step1(JdbcBatchItemWriter&lt;User&gt; writer) {\n            return stepBuilderFactory.get(&quot;step1&quot;).&lt;UserInput, User&gt;chunk(10).reader(reader()).processor(processor())\n                    .writer(writer).build();\n        }\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3959103,"reputation":65,"user_id":3266700,"display_name":"Abhishek Madhusudhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686784576,"creation_date":1686784576,"answer_id":76478146,"question_id":68961647,"body_markdown":"call writer.afterPropertiesSet() for your writer. \r\n\r\nReference [https://salzotech.blogspot.com/2017/02/nullpointerexception-in.html]","title":"getting null pointer exception sending data to db using spring batch and csv file format","body":"<p>call writer.afterPropertiesSet() for your writer.</p>\n<p>Reference [https://salzotech.blogspot.com/2017/02/nullpointerexception-in.html]</p>\n"}],"owner":{"account_id":21111045,"reputation":11,"user_id":15518999,"display_name":"gufran tech"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1686784576,"creation_date":1630128972,"question_id":68961647,"body_markdown":" \r\n\r\n      package com.batch.config;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.batch.core.Job;\r\n    import org.springframework.batch.core.Step;\r\n    import org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\n    import org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\n    import org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\n    import org.springframework.batch.core.job.builder.JobBuilder;\r\n    import org.springframework.batch.core.launch.support.RunIdIncrementer;\r\n    import org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\r\n    import org.springframework.batch.item.database.JdbcBatchItemWriter;\r\n    import org.springframework.batch.item.file.FlatFileItemReader;\r\n    import org.springframework.batch.item.file.LineMapper;\r\n    import org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\r\n    import org.springframework.batch.item.file.mapping.DefaultLineMapper;\r\n    import org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    \r\n    import com.batch.model.User;\r\n    \r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfig {\r\n    \t@Autowired\r\n    \tprivate DataSource dataSource;\r\n    \t@Autowired\r\n    \tprivate JobBuilderFactory jobBuilderFactory;\r\n    \t@Autowired\r\n    \tprivate StepBuilderFactory stepBuildFactory;\r\n    \r\n    \t@Bean\r\n    \tpublic FlatFileItemReader&lt;User&gt; reader() {\r\n    \t\tFlatFileItemReader&lt;User&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n    \t\treader.setResource(new ClassPathResource(&quot;springbachdata.csv&quot;));\r\n    \t\treader.setLineMapper(getlineMapper());\r\n    \t\treader.setLinesToSkip(1);\r\n    \t\treturn reader;\r\n    \t}\r\n    \r\n    \tprivate LineMapper&lt;User&gt; getlineMapper() {\r\n    \t\tDefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n    \t\tDelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n    \t\tlineTokenizer.setNames(new String[] { &quot;Emp ID&quot;, &quot;Name Prefix&quot;, &quot;First Name&quot;, &quot;Last Name&quot; });\r\n    \t\tlineTokenizer.setIncludedFields(new int[] { 0, 1, 2, 4 });\r\n    \t\tBeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n    \t\tfieldSetMapper.setTargetType(User.class);\r\n    \t\tlineMapper.setLineTokenizer(lineTokenizer);\r\n    \t\tlineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \t\treturn lineMapper;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic UserItemProcessor processor() {\r\n    \t\treturn new UserItemProcessor();\r\n    \r\n    \t}\r\n    \r\n    \tpublic JdbcBatchItemWriter&lt;User&gt; writer() {\r\n    \t\tJdbcBatchItemWriter&lt;User&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\r\n    \t\twriter.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\r\n    \t\twriter.setSql(\r\n    \t\t\t\t&quot;insert into user(userId,namePrefix,firstName,lastName) values (:userId, :namePrefix, :firstName, :lastName)&quot;);\r\n    \t\twriter.setDataSource(this.dataSource);\r\n    \t\treturn writer;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic Job importUserJob() {\r\n    \t\treturn this.jobBuilderFactory.get(&quot;USER-IMPORT-JOB&quot;)\r\n    \t\t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t\t.flow(step1())\r\n    \t\t\t\t.end()\r\n    \t\t\t\t.build();\r\n    \t\t\t\t\r\n    \t}\r\n    @Bean\r\n    \tpublic Step step1() {\r\n    return this.stepBuildFactory.get(&quot;step1&quot;)\r\n    .&lt;User, User&gt;chunk(10)\r\n    .reader(reader())\r\n    .processor(processor())\r\n    .writer(writer())\r\n    .build();\r\n    \t\r\n    \t}\r\n    }\r\n\r\n&gt; &gt; &#39;java.lang.NullPointerException: Cannot invoke &quot;org.springframework.batch.item.database.ItemPreparedStatementSetter.setValues(Object,\r\n&gt; java.sql.PreparedStatement)&quot; because\r\n&gt; &quot;this.this$0.itemPreparedStatementSetter&quot; is null \tat\r\n&gt; org.springframework.batch.item.database.JdbcBatchItemWriter$1.doInPreparedStatement(JdbcBatchItemWriter.java:190)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.item.database.JdbcBatchItemWriter$1.doInPreparedStatement(JdbcBatchItemWriter.java:186)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\r\n&gt; ~[spring-jdbc-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:691)\r\n&gt; ~[spring-jdbc-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.batch.item.database.JdbcBatchItemWriter.write(JdbcBatchItemWriter.java:186)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:193)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:159)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.SimpleChunkProcessor.write(SimpleChunkProcessor.java:294)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:217)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n&gt; ~[spring-tx-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n&gt; ~[spring-batch-infrastructure-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n&gt; ~[spring-core-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) ~[na:na] \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n&gt; \tat\r\n&gt; org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n&gt; ~[spring-batch-core-4.3.3.jar:4.3.3] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n&gt; ~[spring-aop-5.3.9.jar:5.3.9] \tat\r\n&gt; jdk.proxy2/jdk.proxy2.$Proxy58.run(Unknown Source) ~[na:na] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\r\n&gt; ~[spring-boot-autoconfigure-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:782)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:345)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\r\n&gt; ~[spring-boot-2.5.4.jar:2.5.4] \tat\r\n&gt; com.batch.CsvToMysqlApplication.main(CsvToMysqlApplication.java:10)\r\n&gt; ~[classes/:na]\r\n&gt; \r\n&gt; \u001B[2m2021-08-28 10:24:36.741\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m10388\u001B[0;39m\r\n&gt; \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m\r\n&gt; \u001B[36mo.s.batch.core.step.AbstractStep        \u001B[0;39m \u001B[2m:\u001B[0;39m\r\n&gt; Step: [step1] executed in 72ms \u001B[2m2021-08-28 10:24:36.768\u001B[0;39m\r\n&gt; \u001B[32m INFO\u001B[0;39m \u001B[35m10388\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[          \r\n&gt; main]\u001B[0;39m \u001B[36mo.s.b.c.l.support.SimpleJobLauncher     \u001B[0;39m\r\n&gt; \u001B[2m:\u001B[0;39m Job: [FlowJob: [name=USER-IMPORT-JOB]] completed with the\r\n&gt; following parameters: [{run.id=4}] and the following status: [FAILED]\r\n&gt; in 134ms &#39;\r\n&gt; \r\n&gt; &gt; Blockquote\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"getting null pointer exception sending data to db using spring batch and csv file format","body":"<pre><code>  package com.batch.config;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.job.builder.JobBuilder;\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\nimport org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\nimport org.springframework.batch.item.database.JdbcBatchItemWriter;\nimport org.springframework.batch.item.file.FlatFileItemReader;\nimport org.springframework.batch.item.file.LineMapper;\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\n\nimport com.batch.model.User;\n\n@Configuration\n@EnableBatchProcessing\npublic class BatchConfig {\n    @Autowired\n    private DataSource dataSource;\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n    @Autowired\n    private StepBuilderFactory stepBuildFactory;\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; reader() {\n        FlatFileItemReader&lt;User&gt; reader = new FlatFileItemReader&lt;&gt;();\n        reader.setResource(new ClassPathResource(&quot;springbachdata.csv&quot;));\n        reader.setLineMapper(getlineMapper());\n        reader.setLinesToSkip(1);\n        return reader;\n    }\n\n    private LineMapper&lt;User&gt; getlineMapper() {\n        DefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n        lineTokenizer.setNames(new String[] { &quot;Emp ID&quot;, &quot;Name Prefix&quot;, &quot;First Name&quot;, &quot;Last Name&quot; });\n        lineTokenizer.setIncludedFields(new int[] { 0, 1, 2, 4 });\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n        lineMapper.setLineTokenizer(lineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n        return lineMapper;\n    }\n\n    @Bean\n    public UserItemProcessor processor() {\n        return new UserItemProcessor();\n\n    }\n\n    public JdbcBatchItemWriter&lt;User&gt; writer() {\n        JdbcBatchItemWriter&lt;User&gt; writer = new JdbcBatchItemWriter&lt;&gt;();\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\n        writer.setSql(\n                &quot;insert into user(userId,namePrefix,firstName,lastName) values (:userId, :namePrefix, :firstName, :lastName)&quot;);\n        writer.setDataSource(this.dataSource);\n        return writer;\n    }\n    @Bean\n    public Job importUserJob() {\n        return this.jobBuilderFactory.get(&quot;USER-IMPORT-JOB&quot;)\n                .incrementer(new RunIdIncrementer())\n                .flow(step1())\n                .end()\n                .build();\n                \n    }\n@Bean\n    public Step step1() {\nreturn this.stepBuildFactory.get(&quot;step1&quot;)\n.&lt;User, User&gt;chunk(10)\n.reader(reader())\n.processor(processor())\n.writer(writer())\n.build();\n    \n    }\n}\n</code></pre>\n<blockquote>\n<blockquote>\n<p>'java.lang.NullPointerException: Cannot invoke &quot;org.springframework.batch.item.database.ItemPreparedStatementSetter.setValues(Object,\njava.sql.PreparedStatement)&quot; because\n&quot;this.this$0.itemPreparedStatementSetter&quot; is null     at\norg.springframework.batch.item.database.JdbcBatchItemWriter$1.doInPreparedStatement(JdbcBatchItemWriter.java:190)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.item.database.JdbcBatchItemWriter$1.doInPreparedStatement(JdbcBatchItemWriter.java:186)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\n~[spring-jdbc-5.3.9.jar:5.3.9]    at\norg.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:691)\n~[spring-jdbc-5.3.9.jar:5.3.9]    at\norg.springframework.batch.item.database.JdbcBatchItemWriter.write(JdbcBatchItemWriter.java:186)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:193)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:159)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.item.SimpleChunkProcessor.write(SimpleChunkProcessor.java:294)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:217)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n~[spring-tx-5.3.9.jar:5.3.9]  at\norg.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n~[spring-batch-infrastructure-4.3.3.jar:4.3.3]    at\norg.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n~[spring-core-5.3.9.jar:5.3.9]    at\norg.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod) ~[na:na]  at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n~[na:na]  at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:na]  at\njava.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\nat\norg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n~[spring-aop-5.3.9.jar:5.3.9]     at\norg.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n~[spring-aop-5.3.9.jar:5.3.9]     at\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n~[spring-aop-5.3.9.jar:5.3.9]     at\norg.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n~[spring-batch-core-4.3.3.jar:4.3.3]  at\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n~[spring-aop-5.3.9.jar:5.3.9]     at\norg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n~[spring-aop-5.3.9.jar:5.3.9]     at\njdk.proxy2/jdk.proxy2.$Proxy58.run(Unknown Source) ~[na:na]   at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\n~[spring-boot-autoconfigure-2.5.4.jar:2.5.4]  at\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:782)\n~[spring-boot-2.5.4.jar:2.5.4]    at\norg.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772)\n~[spring-boot-2.5.4.jar:2.5.4]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:345)\n~[spring-boot-2.5.4.jar:2.5.4]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\n~[spring-boot-2.5.4.jar:2.5.4]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\n~[spring-boot-2.5.4.jar:2.5.4]    at\ncom.batch.CsvToMysqlApplication.main(CsvToMysqlApplication.java:10)\n~[classes/:na]</p>\n</blockquote>\n<p>[2m2021-08-28 10:24:36.741[0;39m [32m INFO[0;39m [35m10388[0;39m\n[2m---[0;39m [2m[           main][0;39m\n[36mo.s.batch.core.step.AbstractStep        [0;39m [2m:[0;39m\nStep: [step1] executed in 72ms [2m2021-08-28 10:24:36.768[0;39m\n[32m INFO[0;39m [35m10388[0;39m [2m---[0;39m [2m[<br />\nmain][0;39m [36mo.s.b.c.l.support.SimpleJobLauncher     [0;39m\n[2m:[0;39m Job: [FlowJob: [name=USER-IMPORT-JOB]] completed with the\nfollowing parameters: [{run.id=4}] and the following status: [FAILED]\nin 134ms '</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n</blockquote>\n"},{"tags":["java","spring-boot","apache-camel","ibm-mq"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1686713489,"post_id":76469597,"comment_id":134835502,"body_markdown":"How is the stub kicked off to pick up messages from the request queue? Is it polling? Is it triggered?","body":"How is the stub kicked off to pick up messages from the request queue? Is it polling? Is it triggered?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1686717141,"post_id":76469597,"comment_id":134835763,"body_markdown":"Added more details in the question","body":"Added more details in the question"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1686825401,"post_id":76469597,"comment_id":134853987,"body_markdown":"Is it only listening on one queue - the queue showing the problem, or does it have multiple queues it is listening on? Is it already listening on the queue before you put the messages or is there a start up process that must be considered too?","body":"Is it only listening on one queue - the queue showing the problem, or does it have multiple queues it is listening on? Is it already listening on the queue before you put the messages or is there a start up process that must be considered too?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1686897174,"post_id":76469597,"comment_id":134863990,"body_markdown":"The stab application is already started when the testing framework start throwing messages into the flow. Also for a very short run (seconds) the messages are processed immediately. If you follow the link I provided for `DefaultMessageListenerContainer` you will see Spring recommendation &quot;Note: Don&#39;t use Spring&#39;s CachingConnectionFactory in combination with dynamic scaling. Ideally, don&#39;t use it with a message listener container at all&quot;. I found out we were using that. Changed the code but not tested yet. Fingers crossed.","body":"The stab application is already started when the testing framework start throwing messages into the flow. Also for a very short run (seconds) the messages are processed immediately. If you follow the link I provided for <code>DefaultMessageListenerContainer</code> you will see Spring recommendation &quot;Note: Don&#39;t use Spring&#39;s CachingConnectionFactory in combination with dynamic scaling. Ideally, don&#39;t use it with a message listener container at all&quot;. I found out we were using that. Changed the code but not tested yet. Fingers crossed."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1686897224,"post_id":76469597,"comment_id":134864000,"body_markdown":"It is only one queue that the listener points to.","body":"It is only one queue that the listener points to."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1686909533,"post_id":76469597,"comment_id":134866417,"body_markdown":"Fingers Crossed","body":"Fingers Crossed"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1687413372,"post_id":76469597,"comment_id":134933703,"body_markdown":"Injecting a `DefaultMessageListenerContainer` that no longer uses a `CachingConnectionFactory` into the Camel route made a `huge difference`. The messages were processed off the queue in no time and we could see the number of concurrent consumers scaling up and down as the load increased/decreased.","body":"Injecting a <code>DefaultMessageListenerContainer</code> that no longer uses a <code>CachingConnectionFactory</code> into the Camel route made a <code>huge difference</code>. The messages were processed off the queue in no time and we could see the number of concurrent consumers scaling up and down as the load increased/decreased."}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686784135,"creation_date":1686705916,"question_id":76469597,"body_markdown":"We have a testing tool stabbing external systems our micro-services interact with via different endpoints. One of this stabs is a listener to an IBM MQ queue build as an Apache Camel route. Once receiving a message the stub builds three associate responses and sends them back to a response queue. This is very little processing usually taking anywhere between 10 to 20 milliseconds to complete.\r\n\r\nPart of our performance testing, messages are injected into our application and in turn the application will interact with the stab. At around 60 messages per second I cannot say the load is big. From application logs the processing is quite fast; however we noticed performance degradation because there is a big waiting time when messages stay in the request queue waiting to be picked up by the stub.\r\n\r\nWe have six instances of the testing tool running as ECS tasks and each one was running the given stub with one consumer. We increased the number of concurrent consumers to 3 than to 10 then to 20 but it did not make a lot of difference. Wondering where the problem is.\r\n\r\nThe message consumption is transactional (no XA) and we wrap `MQQueueConnectionFactory` with Spring&#39;s `CachingConnectionFactory` with a session cache size of 500\r\n\r\n**UPDATE:**\r\n\r\nThe Apache Camel route definition starts like below:\r\n\r\n    from(&quot;jms:my.request.queue?concurrentConsumers=20&amp;disableReplyTo=true&quot;)\r\n        .routeId(&quot;my-stub&quot;)\r\n        .autoStartup(true)\r\n        .policy(somePlatformTransactionPolicy)\r\n        .process(...)\r\n        // a bunch of processors doing their in memory stuff\r\n        .to(&quot;jms.my.response.queue&quot;)\r\n\r\nNote that behind the scenes Apache Camel JMS component uses a Spring `JmsTemplate` for sending messages and Spring `MessageListenerContainer` for consuming.\r\n\r\n[camel jms-component][1]\r\n\r\nI did not look into which `MessageListenerContainer` implementation Apache Camel uses but I am quite confident they will be using [DefaultMessageListenerContainer][2] which is the most used JMS listener in the Spring world. This default listener extends `AbstractPollingMessageListenerContainer` so it works by polling.\r\n \r\nI had a look at the JmsComponent implementation and I can confirm it is using an extension of Spring `DefaultMessageListenerContainer`\r\n\r\n    /**\r\n     * The default {@link DefaultMessageListenerContainer container} which listen for messages on the JMS destination.\r\n     * &lt;p/&gt;\r\n     * This implementation extends Springs {@link \r\n    DefaultMessageListenerContainer} supporting automatic recovery and\r\n     * throttling.\r\n     */\r\n    public class DefaultJmsMessageListenerContainer extends DefaultMessageListenerContainer {\r\n\r\n  [1]: https://camel.apache.org/components/3.20.x/jms-component.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html","title":"Camel route processing IBM MQ messages with a big delay","body":"<p>We have a testing tool stabbing external systems our micro-services interact with via different endpoints. One of this stabs is a listener to an IBM MQ queue build as an Apache Camel route. Once receiving a message the stub builds three associate responses and sends them back to a response queue. This is very little processing usually taking anywhere between 10 to 20 milliseconds to complete.</p>\n<p>Part of our performance testing, messages are injected into our application and in turn the application will interact with the stab. At around 60 messages per second I cannot say the load is big. From application logs the processing is quite fast; however we noticed performance degradation because there is a big waiting time when messages stay in the request queue waiting to be picked up by the stub.</p>\n<p>We have six instances of the testing tool running as ECS tasks and each one was running the given stub with one consumer. We increased the number of concurrent consumers to 3 than to 10 then to 20 but it did not make a lot of difference. Wondering where the problem is.</p>\n<p>The message consumption is transactional (no XA) and we wrap <code>MQQueueConnectionFactory</code> with Spring's <code>CachingConnectionFactory</code> with a session cache size of 500</p>\n<p><strong>UPDATE:</strong></p>\n<p>The Apache Camel route definition starts like below:</p>\n<pre><code>from(&quot;jms:my.request.queue?concurrentConsumers=20&amp;disableReplyTo=true&quot;)\n    .routeId(&quot;my-stub&quot;)\n    .autoStartup(true)\n    .policy(somePlatformTransactionPolicy)\n    .process(...)\n    // a bunch of processors doing their in memory stuff\n    .to(&quot;jms.my.response.queue&quot;)\n</code></pre>\n<p>Note that behind the scenes Apache Camel JMS component uses a Spring <code>JmsTemplate</code> for sending messages and Spring <code>MessageListenerContainer</code> for consuming.</p>\n<p><a href=\"https://camel.apache.org/components/3.20.x/jms-component.html\" rel=\"nofollow noreferrer\">camel jms-component</a></p>\n<p>I did not look into which <code>MessageListenerContainer</code> implementation Apache Camel uses but I am quite confident they will be using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\" rel=\"nofollow noreferrer\">DefaultMessageListenerContainer</a> which is the most used JMS listener in the Spring world. This default listener extends <code>AbstractPollingMessageListenerContainer</code> so it works by polling.</p>\n<p>I had a look at the JmsComponent implementation and I can confirm it is using an extension of Spring <code>DefaultMessageListenerContainer</code></p>\n<pre><code>/**\n * The default {@link DefaultMessageListenerContainer container} which listen for messages on the JMS destination.\n * &lt;p/&gt;\n * This implementation extends Springs {@link \nDefaultMessageListenerContainer} supporting automatic recovery and\n * throttling.\n */\npublic class DefaultJmsMessageListenerContainer extends DefaultMessageListenerContainer {\n</code></pre>\n"},{"tags":["java","json"],"owner":{"account_id":3498075,"reputation":4844,"user_id":4102299,"accept_rate":48,"display_name":"visc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686784079,"creation_date":1686784079,"question_id":76478108,"body_markdown":"I have a json body that has n number of optional fields that may or may not be present. I have a java model class which the json payload is deserialized to using jackson json. I would like the ability to attach metadata to each of the java model class member variables which stores whether or not the json field was present in the json payload.\r\n\r\nFor example my json could look like this\r\n\r\n    {\r\n        &quot;requiredFieldA&quot;: &quot;fieldA&quot;,\r\n        &quot;optionalFieldC&quot;: &quot;fieldC&quot;,\r\n        &quot;optionalFieldD&quot;: [{ &quot;ObjectName&quot; }]\r\n    }\r\n\r\nJava class model looks like this\r\n\r\n    public class MyModel {\r\n        string requiredFieldA;  &lt;- metadata didExistInJson == true\r\n        string requiredFieldB;  &lt;- metadata didExistInJson == false\r\n        string optionalFieldC;  &lt;- metadata didExistInJson == true\r\n        ArrayList&lt;SecondModel&gt; optionalFieldD; &lt;- metadata didExistInJson == true\r\n    }\r\n\r\nThe scenario / use case I&#39;m trying to handle is our models have null fields which get set to null if the json field is not present. But I have to reconcile fields stored in a database vs fields deserialized from the json payload. If the json payload field does not exist I must keep the database field. If it does exist then I must take the default or replace the database field value. This metadata on the deserialized object would help me achieve this design.\r\n\r\nCurious if a solution exists in jackson json or any tips on how I can implement this.","title":"How to attach &quot;field existed in json payload&quot; boolean metadata during deserialization of json?","body":"<p>I have a json body that has n number of optional fields that may or may not be present. I have a java model class which the json payload is deserialized to using jackson json. I would like the ability to attach metadata to each of the java model class member variables which stores whether or not the json field was present in the json payload.</p>\n<p>For example my json could look like this</p>\n<pre><code>{\n    &quot;requiredFieldA&quot;: &quot;fieldA&quot;,\n    &quot;optionalFieldC&quot;: &quot;fieldC&quot;,\n    &quot;optionalFieldD&quot;: [{ &quot;ObjectName&quot; }]\n}\n</code></pre>\n<p>Java class model looks like this</p>\n<pre><code>public class MyModel {\n    string requiredFieldA;  &lt;- metadata didExistInJson == true\n    string requiredFieldB;  &lt;- metadata didExistInJson == false\n    string optionalFieldC;  &lt;- metadata didExistInJson == true\n    ArrayList&lt;SecondModel&gt; optionalFieldD; &lt;- metadata didExistInJson == true\n}\n</code></pre>\n<p>The scenario / use case I'm trying to handle is our models have null fields which get set to null if the json field is not present. But I have to reconcile fields stored in a database vs fields deserialized from the json payload. If the json payload field does not exist I must keep the database field. If it does exist then I must take the default or replace the database field value. This metadata on the deserialized object would help me achieve this design.</p>\n<p>Curious if a solution exists in jackson json or any tips on how I can implement this.</p>\n"},{"tags":["java","selenium-webdriver","heroku","deployment","selenium-chromedriver"],"owner":{"account_id":23697573,"reputation":125,"user_id":17721106,"display_name":"Ali Mamedov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686783321,"creation_date":1686783321,"question_id":76478061,"body_markdown":"I&#39;m developing a Java application that uses Selenium WebDriver for web automation. Locally, everything works fine, but when I deploy the application to Heroku, I encounter an error related to the WebDriver not being found.\r\n\r\nI&#39;ve added the necessary Selenium dependencies to my pom.xml file and ensured that the correct versions are specified. I&#39;ve also included the WebDriverManager dependency to handle the automatic setup of the WebDriver executable.\r\n\r\nWhen I comment out the Selenium-related code and deploy the application to Heroku, it works correctly. However, when I uncomment the code and include the Selenium dependency, I receive the following error:\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\r\n...\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\r\n```\r\n\r\n\r\nPom.xml file : \r\n\r\n\r\n```\r\n &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n            &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;org.ceoBot.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nMain.class : \r\n\r\n\r\n```\r\n&lt;......&gt;\r\n public static boolean foo() throws InterruptedException {\r\n\r\n        WebDriverManager.chromedriver().setup();\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;some link&quot;);\r\n\r\n\r\n        WebElement element = driver.findElement(By.xpath(&quot;//img[@src=&#39;some.jpg&#39;]/parent::*/preceding-sibling::*&quot;));\r\n\r\n        if (!element.isSelected()) {\r\n            element.click();\r\n        }\r\n        Random random = new Random();\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int randomNumber = random.nextInt(144) + 1;\r\n            WebElement elem = driver.findElement(By.xpath(&quot;(//img/parent::*/preceding-sibling::*)[&quot; + randomNumber + &quot;]&quot;));\r\n            if (!elem.isSelected()) {\r\n                elem.click();\r\n            }\r\n        }\r\n\r\n        WebElement submitBtn = driver.findElement(By.xpath(&quot;//button&quot;));\r\n        submitBtn.click();\r\n\r\n        WebElement finishBtn = driver.findElement(By.xpath(&quot;//a&quot;));\r\n        finishBtn.click();\r\n\r\n        Thread.sleep(10000);\r\n        driver.quit();\r\n        return true;\r\n    }\r\n&lt;......&gt;\r\n```\r\n\r\n\r\n","title":"Selenium WebDriver not found when deploying Java application to Heroku","body":"<p>I'm developing a Java application that uses Selenium WebDriver for web automation. Locally, everything works fine, but when I deploy the application to Heroku, I encounter an error related to the WebDriver not being found.</p>\n<p>I've added the necessary Selenium dependencies to my pom.xml file and ensured that the correct versions are specified. I've also included the WebDriverManager dependency to handle the automatic setup of the WebDriver executable.</p>\n<p>When I comment out the Selenium-related code and deploy the application to Heroku, it works correctly. However, when I uncomment the code and include the Selenium dependency, I receive the following error:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\n...\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.WebDriver\n</code></pre>\n<p>Pom.xml file :</p>\n<pre><code> &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n            &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;org.ceoBot.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Main.class :</p>\n<pre><code>&lt;......&gt;\n public static boolean foo() throws InterruptedException {\n\n        WebDriverManager.chromedriver().setup();\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;some link&quot;);\n\n\n        WebElement element = driver.findElement(By.xpath(&quot;//img[@src='some.jpg']/parent::*/preceding-sibling::*&quot;));\n\n        if (!element.isSelected()) {\n            element.click();\n        }\n        Random random = new Random();\n\n        for (int i = 0; i &lt; 5; i++) {\n            int randomNumber = random.nextInt(144) + 1;\n            WebElement elem = driver.findElement(By.xpath(&quot;(//img/parent::*/preceding-sibling::*)[&quot; + randomNumber + &quot;]&quot;));\n            if (!elem.isSelected()) {\n                elem.click();\n            }\n        }\n\n        WebElement submitBtn = driver.findElement(By.xpath(&quot;//button&quot;));\n        submitBtn.click();\n\n        WebElement finishBtn = driver.findElement(By.xpath(&quot;//a&quot;));\n        finishBtn.click();\n\n        Thread.sleep(10000);\n        driver.quit();\n        return true;\n    }\n&lt;......&gt;\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686782635,"creation_date":1686782635,"answer_id":76478021,"question_id":76477960,"body_markdown":"Line\r\n\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\nis going to have an effect only when you save an entity using Java code.\r\n\r\nWhat you are doing is inserting values directly into the database and your mysql database doesn&#39;t know that it&#39;s supposed to be generated any values for the id.","title":"MySql GenerationType.AUTO does not generate anything and returns &#39;Field doesn&#39;t have a default value&#39;","body":"<p>Line</p>\n<pre><code>@GeneratedValue(strategy=GenerationType.AUTO)\n</code></pre>\n<p>is going to have an effect only when you save an entity using Java code.</p>\n<p>What you are doing is inserting values directly into the database and your mysql database doesn't know that it's supposed to be generated any values for the id.</p>\n"}],"owner":{"account_id":23829180,"reputation":37,"user_id":17835716,"display_name":"Sanne112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76478021,"answer_count":1,"score":0,"last_activity_date":1686782635,"creation_date":1686781640,"question_id":76477960,"body_markdown":"I have the following code which should auto-generate user_id (PK) in the table USER. However, when adding data to the table I get the error: *ERROR 1364 (HY000): Field &#39;user_id&#39; doesn&#39;t have a default value*. On the other hand, when I do manually insert bigInt there is no problem and the data is added to the table, however this is not the point and I want it to be automatically generated. Can someone help me find out what is wrong? \r\n\r\n        \r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    public class User implements Comparable&lt;User&gt;, Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;user_id&quot;)\r\n    \tprivate Long id;\r\n    \t@Column(name=&quot;username&quot;, unique=true)\r\n    \tprivate String username;\r\n    \t@Column(name=&quot;firstname&quot;, nullable =false)\r\n    \tprivate String firstname;\r\n    \t@Column(name=&quot;middlename&quot;, nullable =true)\r\n    \tprivate String middlename;\r\n    \t@Column(name=&quot;lastname&quot;, nullable =false)\r\n    \tprivate String lastname;\r\n    \t@Column(name=&quot;email&quot;, nullable = false)\r\n    \tprivate String email;\r\n    \t@Column(name=&quot;password&quot;, nullable =false)\r\n    \tprivate String password; \r\n\r\nmy persistence: \r\n\r\n     &lt;property name=&quot;hibernate.dialect&quot; value=&quot;com.app.central.dao.pagination.MySQLDialect&quot;/&gt;\r\n        \t&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL57Dialect&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.search.default.directory_provider&quot; value=&quot;filesystem&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.search.default.indexBase&quot; value=&quot;./lucene/indexes&quot;/&gt;\r\n            &lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;org.hibernate&quot; /&gt;\r\n      \t\t&lt;property name=&quot;wildfly.jpa.hibernate.search.module&quot; value=&quot;org.hibernate.search.orm&quot; /&gt;\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3Xj3o.png","title":"MySql GenerationType.AUTO does not generate anything and returns &#39;Field doesn&#39;t have a default value&#39;","body":"<p>I have the following code which should auto-generate user_id (PK) in the table USER. However, when adding data to the table I get the error: <em>ERROR 1364 (HY000): Field 'user_id' doesn't have a default value</em>. On the other hand, when I do manually insert bigInt there is no problem and the data is added to the table, however this is not the point and I want it to be automatically generated. Can someone help me find out what is wrong?</p>\n<pre><code>@Entity\n@Table(name=&quot;user&quot;)\npublic class User implements Comparable&lt;User&gt;, Serializable {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=&quot;user_id&quot;)\n    private Long id;\n    @Column(name=&quot;username&quot;, unique=true)\n    private String username;\n    @Column(name=&quot;firstname&quot;, nullable =false)\n    private String firstname;\n    @Column(name=&quot;middlename&quot;, nullable =true)\n    private String middlename;\n    @Column(name=&quot;lastname&quot;, nullable =false)\n    private String lastname;\n    @Column(name=&quot;email&quot;, nullable = false)\n    private String email;\n    @Column(name=&quot;password&quot;, nullable =false)\n    private String password; \n</code></pre>\n<p>my persistence:</p>\n<pre><code> &lt;property name=&quot;hibernate.dialect&quot; value=&quot;com.app.central.dao.pagination.MySQLDialect&quot;/&gt;\n        &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL57Dialect&quot; /&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.search.default.directory_provider&quot; value=&quot;filesystem&quot;/&gt;\n        &lt;property name=&quot;hibernate.search.default.indexBase&quot; value=&quot;./lucene/indexes&quot;/&gt;\n        &lt;property name=&quot;jboss.as.jpa.providerModule&quot; value=&quot;org.hibernate&quot; /&gt;\n        &lt;property name=&quot;wildfly.jpa.hibernate.search.module&quot; value=&quot;org.hibernate.search.orm&quot; /&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3Xj3o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Xj3o.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","hazelcast"],"comments":[{"owner":{"account_id":2621552,"reputation":328,"user_id":2269454,"display_name":"mrck"},"score":0,"creation_date":1686900231,"post_id":76477981,"comment_id":134864482,"body_markdown":"Maybe something else is going on but what you described is not expected. If you have a reproducer better to create an issue here: https://github.com/hazelcast/hazelcast/issues/new/choose","body":"Maybe something else is going on but what you described is not expected. If you have a reproducer better to create an issue here: <a href=\"https://github.com/hazelcast/hazelcast/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/hazelcast/hazelcast/issues/new/choose</a>"},{"owner":{"account_id":6459871,"reputation":102,"user_id":5004083,"display_name":"ihsan demir"},"score":0,"creation_date":1686924379,"post_id":76477981,"comment_id":134869565,"body_markdown":"Definitely, it should work similar to LinkedBlockingQueue. A reproducer would help to understand.","body":"Definitely, it should work similar to LinkedBlockingQueue. A reproducer would help to understand."}],"owner":{"account_id":1589697,"reputation":382,"user_id":1473320,"display_name":"kashev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686782020,"creation_date":1686782020,"question_id":76477981,"body_markdown":"I&#39;m working on a distributed system, written in Java, which is using a Hazelcast [`IQueue`][1] ([non Javadoc documentation][2]). I am using Hazelcast 3.12, and for business reasons, do not have the ability to change this version.\r\n\r\nOne one node, I have a thread calling [`poll`][3]. In another thread on that **same node**, I am calling [`drainTo`][4], a method in the `BlockingQueue` interface that `IQueue` implements.\r\n\r\nThe behavior I expect to see is that any thread calling `poll` (on the same node, or on a different node in the distributed system) does not see the same queue elements that I get in the `drainTo` call. What I instead see is that sometimes, the thread that&#39;s running `poll` sees an element that&#39;s also in the `drainTo` call.\r\n\r\nI *don&#39;t* see this behavior if I swap out the Hazelcast `IQueue` with an undistributed `LinkedBlockingQueue`. This makes sense given the answers on [this question][5].\r\n\r\nMy questions are:\r\n\r\n* Am I wrong in expecting that the contract of `BlockingQueue` includes this &quot;exclusivity&quot; in the elements seen when calling `poll` and `drainTo` in different threads?\r\n* Is there a way to get all the elements of the queue at once such that I never see any duplicate elements in this &quot;multiple consumers&quot; scenario?\r\n\r\n\r\n  [1]: https://docs.hazelcast.org/docs/3.12.12/javadoc/com/hazelcast/core/IQueue.html\r\n  [2]: https://docs.hazelcast.com/imdg/3.12/data-structures/queue\r\n  [3]: https://docs.hazelcast.org/docs/3.12.12/javadoc/com/hazelcast/core/IQueue.html#poll-long-java.util.concurrent.TimeUnit-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true#drainTo-java.util.Collection-\r\n  [5]: https://stackoverflow.com/q/6607195/1473320","title":"Does Hazelcast IQueue drainTo lock the queue?","body":"<p>I'm working on a distributed system, written in Java, which is using a Hazelcast <a href=\"https://docs.hazelcast.org/docs/3.12.12/javadoc/com/hazelcast/core/IQueue.html\" rel=\"nofollow noreferrer\"><code>IQueue</code></a> (<a href=\"https://docs.hazelcast.com/imdg/3.12/data-structures/queue\" rel=\"nofollow noreferrer\">non Javadoc documentation</a>). I am using Hazelcast 3.12, and for business reasons, do not have the ability to change this version.</p>\n<p>One one node, I have a thread calling <a href=\"https://docs.hazelcast.org/docs/3.12.12/javadoc/com/hazelcast/core/IQueue.html#poll-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\"><code>poll</code></a>. In another thread on that <strong>same node</strong>, I am calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true#drainTo-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>drainTo</code></a>, a method in the <code>BlockingQueue</code> interface that <code>IQueue</code> implements.</p>\n<p>The behavior I expect to see is that any thread calling <code>poll</code> (on the same node, or on a different node in the distributed system) does not see the same queue elements that I get in the <code>drainTo</code> call. What I instead see is that sometimes, the thread that's running <code>poll</code> sees an element that's also in the <code>drainTo</code> call.</p>\n<p>I <em>don't</em> see this behavior if I swap out the Hazelcast <code>IQueue</code> with an undistributed <code>LinkedBlockingQueue</code>. This makes sense given the answers on <a href=\"https://stackoverflow.com/q/6607195/1473320\">this question</a>.</p>\n<p>My questions are:</p>\n<ul>\n<li>Am I wrong in expecting that the contract of <code>BlockingQueue</code> includes this &quot;exclusivity&quot; in the elements seen when calling <code>poll</code> and <code>drainTo</code> in different threads?</li>\n<li>Is there a way to get all the elements of the queue at once such that I never see any duplicate elements in this &quot;multiple consumers&quot; scenario?</li>\n</ul>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","confluent-schema-registry"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1686595215,"post_id":76459401,"comment_id":134817551,"body_markdown":"This message on the stack trace is pretty straightforward `Caused by: java.lang.NoClassDefFoundError: io/confluent/kafka/schemaregistry/rules/RuleException` it means you are missing some classes in your classpath, hence you might need to check which dependencies you are missing, probably this one: https://mvnrepository.com/artifact/io.confluent/kafka-json-schema-serializer/5.5.1 (from a quick google search)","body":"This message on the stack trace is pretty straightforward <code>Caused by: java.lang.NoClassDefFoundError: io&#47;confluent&#47;kafka&#47;schemaregistry&#47;rules&#47;RuleException</code> it means you are missing some classes in your classpath, hence you might need to check which dependencies you are missing, probably this one: <a href=\"https://mvnrepository.com/artifact/io.confluent/kafka-json-schema-serializer/5.5.1\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/io.confluent/&hellip;</a> (from a quick google search)"},{"owner":{"account_id":26297276,"reputation":3,"user_id":19963299,"display_name":"Debjit Chattopadhyay"},"score":0,"creation_date":1686596309,"post_id":76459401,"comment_id":134817720,"body_markdown":"Hi Jorge, \nThanks for replying. But I am already having kafka-json-schema-serializer dependency in my pom.xml.","body":"Hi Jorge,  Thanks for replying. But I am already having kafka-json-schema-serializer dependency in my pom.xml."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1686686584,"post_id":76459401,"comment_id":134832795,"body_markdown":"Then it is probably something that this library depends on. You can search to which library this `RuleException` class belongs and then add it to your dependencies. If it is already there I would recommend checking whether you build tool is actually setting up the project correctly.","body":"Then it is probably something that this library depends on. You can search to which library this <code>RuleException</code> class belongs and then add it to your dependencies. If it is already there I would recommend checking whether you build tool is actually setting up the project correctly."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686781532,"creation_date":1686781532,"answer_id":76477951,"question_id":76459401,"body_markdown":"The RuleException class is part of the `kafka-schema-registry-client` dependency, which should be included as part of `json-schema-serializer` one, but really depends if you are using mismatched versions of both... \r\n\r\nThat class was only recently introduced to the Schema Registry codebase, so I would first verify if you need to be using the latest version of the json schema dependency or not","title":"Getting the below exception io.confluent.kafka.schemaregistry.rules.RuleException when trying to add a KafkaJsonSchemaDeserializer for confluent kafka","body":"<p>The RuleException class is part of the <code>kafka-schema-registry-client</code> dependency, which should be included as part of <code>json-schema-serializer</code> one, but really depends if you are using mismatched versions of both...</p>\n<p>That class was only recently introduced to the Schema Registry codebase, so I would first verify if you need to be using the latest version of the json schema dependency or not</p>\n"}],"owner":{"account_id":26297276,"reputation":3,"user_id":19963299,"display_name":"Debjit Chattopadhyay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76477951,"answer_count":1,"score":0,"last_activity_date":1686781674,"creation_date":1686594848,"question_id":76459401,"body_markdown":"`I am consuming messages from a topic using schema registry. For the consumer part i am trying to use `io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer` while consuming the messages in my KafkaListener. But after adding the `KafkaJsonSchemaDeserializer` my spring boot application is not starting and is showing the below exception. Sharing the app logs here:\r\n\r\n\r\n\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.0)\r\n\r\n2023-06-12T23:45:37.069+05:30  INFO 19132 --- [           main] c.example.KafkaPOC.demo.DemoApplication  : Starting DemoApplication using Java 17.0.1 with PID 19132 (C:\\Users\\Debjit\\Downloads\\demo\\target\\classes started by Debjit in C:\\Users\\Debjit\\Downloads\\demo)\r\n2023-06-12T23:45:37.075+05:30  INFO 19132 --- [           main] c.example.KafkaPOC.demo.DemoApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-06-12T23:45:39.997+05:30  INFO 19132 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 61002 (http)\r\n2023-06-12T23:45:40.020+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-06-12T23:45:40.021+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-06-12T23:45:40.336+05:30  INFO 19132 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-06-12T23:45:40.342+05:30  INFO 19132 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3158 ms\r\n2023-06-12T23:45:42.281+05:30  INFO 19132 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61002 (http) with context path &#39;&#39;\r\n2023-06-12T23:45:42.382+05:30  INFO 19132 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \r\n\tallow.auto.create.topics = true\r\n\tauto.commit.interval.ms = 5000\r\n\tauto.include.jmx.reporter = true\r\n\tauto.offset.reset = earliest\r\n\tbootstrap.servers = [pkc-ymrq7.us-east-2.aws.confluent.cloud:9092]\r\n\tcheck.crcs = true\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = consumer-aws-topic-consumer-group-1\r\n\tclient.rack = \r\n\tconnections.max.idle.ms = 540000\r\n\tdefault.api.timeout.ms = 60000\r\n\tenable.auto.commit = false\r\n\texclude.internal.topics = true\r\n\tfetch.max.bytes = 52428800\r\n\tfetch.max.wait.ms = 500\r\n\tfetch.min.bytes = 1\r\n\tgroup.id = aws-topic-consumer-group\r\n\tgroup.instance.id = null\r\n\theartbeat.interval.ms = 3000\r\n\tinterceptor.classes = []\r\n\tinternal.leave.group.on.close = true\r\n\tinternal.throw.on.fetch.stable.offset.unsupported = false\r\n\tisolation.level = read_uncommitted\r\n\tkey.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n\tmax.partition.fetch.bytes = 1048576\r\n\tmax.poll.interval.ms = 300000\r\n\tmax.poll.records = 500\r\n\tmetadata.max.age.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\tpartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\r\n\treceive.buffer.bytes = 65536\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = [hidden]\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = PLAIN\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = SASL_SSL\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsession.timeout.ms = 45000\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\tvalue.deserializer = class io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer\r\n\r\n2023-06-12T23:45:42.512+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Metrics scheduler closed\r\n2023-06-12T23:45:42.512+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Closing reporter org.apache.kafka.common.metrics.JmxReporter\r\n2023-06-12T23:45:42.518+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Metrics reporters closed\r\n2023-06-12T23:45:42.523+05:30  INFO 19132 --- [           main] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-aws-topic-consumer-group-1 unregistered\r\n2023-06-12T23:45:42.524+05:30  WARN 19132 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;\r\n2023-06-12T23:45:42.569+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-06-12T23:45:42.610+05:30  INFO 19132 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-12T23:45:42.652+05:30 ERROR 19132 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:958) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.example.KafkaPOC.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:830) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:665) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:867) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:382) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:555) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:231) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:555) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-3.0.7.jar:3.0.7]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-6.0.9.jar:6.0.9]\r\n\t... 13 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: io/confluent/kafka/schemaregistry/rules/RuleException\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[na:na]\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3578) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[na:na]\r\n\tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:436) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:421) ~[kafka-clients-3.4.0.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:716) ~[kafka-clients-3.4.0.jar:na]\r\n\t... 27 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: io.confluent.kafka.schemaregistry.rules.RuleException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 36 common frames omitted\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:49806&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\nFor the Kafka Topic i have set JSON Schema as the schema.\r\n```\r\n\r\n\r\nSharing my application.yml file : \r\n\r\n```\r\n`server:\r\n  port: 61002\r\n\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: pkc-ymrq7.us-east-2.aws.confluent.cloud:9092\r\n    properties:\r\n      schema:\r\n        registry:\r\n          url: https://psrc-mw0d1.us-east-2.aws.confluent.cloud\r\n      basic:\r\n        auth:\r\n          credentials:\r\n            source: USER_INFO\r\n          user:\r\n            info: API_KEY:API_SECRET\r\n      sasl:\r\n        jaas:\r\n          config: org.apache.kafka.common.security.plain.PlainLoginModule\r\n            required username=&quot;API_KEY&quot; password=&quot;API_SECRET&quot;;\r\n        mechanism: PLAIN\r\n      security:\r\n        protocol: SASL_SSL\r\n      ssl:\r\n        endpoint:\r\n          identification:\r\n            algorithm: https\r\n    consumer:\r\n      autoOffsetReset: earliest\r\n      group-id: aws-topic-consumer-group\r\n      keyDeserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      valueDeserializer: io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer\r\nconfluent:\r\n  topic: schema_topic`\r\n```\r\n\r\nThis is my KafkaConsumer : \r\n\r\n\r\n```\r\n`package com.example.KafkaPOC.demo.service;\r\n\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.kafka.annotation.KafkaListener;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@Slf4j\r\npublic class CoreService {\r\n\r\n    @Value(&quot;${confluent.topic}&quot;)\r\n    private String inputTopic;\r\n\r\n    @Autowired\r\n    KafkaTemplate&lt;String, String&gt; kafkaTemplate;`your text`\r\n\r\n    @KafkaListener(topics = &quot;schema_topic&quot;, groupId = &quot;aws-topic-consumer-group&quot;,containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n    public void consumeFromKafkaViaSchemaValidation(ConsumerRecord&lt;String, JsonNode&gt; record){\r\n        log.info(&quot;Message consumed from topic &quot;+inputTopic+&quot;:- &quot; + record.value());\r\n\r\n    }\r\n}`\r\n`\r\n```\r\n\r\nThis is my project structure for reference.\r\n\r\n[enter image description here](https://i.stack.imgur.com/BNJVF.png)\r\n\r\nI am consuming from the topic schema_topic which is having a JSON Schema set on it in confluent cloud. PFA the attachment.\r\n\r\n[enter image description here](https://i.stack.imgur.com/nhlw7.png)\r\n","title":"Getting the below exception io.confluent.kafka.schemaregistry.rules.RuleException when trying to add a KafkaJsonSchemaDeserializer for confluent kafka","body":"<p><code>I am consuming messages from a topic using schema registry. For the consumer part i am trying to use </code>io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer<code>while consuming the messages in my KafkaListener. But after adding the</code>KafkaJsonSchemaDeserializer` my spring boot application is not starting and is showing the below exception. Sharing the app logs here:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.0)\n\n2023-06-12T23:45:37.069+05:30  INFO 19132 --- [           main] c.example.KafkaPOC.demo.DemoApplication  : Starting DemoApplication using Java 17.0.1 with PID 19132 (C:\\Users\\Debjit\\Downloads\\demo\\target\\classes started by Debjit in C:\\Users\\Debjit\\Downloads\\demo)\n2023-06-12T23:45:37.075+05:30  INFO 19132 --- [           main] c.example.KafkaPOC.demo.DemoApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-06-12T23:45:39.997+05:30  INFO 19132 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 61002 (http)\n2023-06-12T23:45:40.020+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-06-12T23:45:40.021+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-06-12T23:45:40.336+05:30  INFO 19132 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-06-12T23:45:40.342+05:30  INFO 19132 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3158 ms\n2023-06-12T23:45:42.281+05:30  INFO 19132 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61002 (http) with context path ''\n2023-06-12T23:45:42.382+05:30  INFO 19132 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \n    allow.auto.create.topics = true\n    auto.commit.interval.ms = 5000\n    auto.include.jmx.reporter = true\n    auto.offset.reset = earliest\n    bootstrap.servers = [pkc-ymrq7.us-east-2.aws.confluent.cloud:9092]\n    check.crcs = true\n    client.dns.lookup = use_all_dns_ips\n    client.id = consumer-aws-topic-consumer-group-1\n    client.rack = \n    connections.max.idle.ms = 540000\n    default.api.timeout.ms = 60000\n    enable.auto.commit = false\n    exclude.internal.topics = true\n    fetch.max.bytes = 52428800\n    fetch.max.wait.ms = 500\n    fetch.min.bytes = 1\n    group.id = aws-topic-consumer-group\n    group.instance.id = null\n    heartbeat.interval.ms = 3000\n    interceptor.classes = []\n    internal.leave.group.on.close = true\n    internal.throw.on.fetch.stable.offset.unsupported = false\n    isolation.level = read_uncommitted\n    key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n    max.partition.fetch.bytes = 1048576\n    max.poll.interval.ms = 300000\n    max.poll.records = 500\n    metadata.max.age.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]\n    receive.buffer.bytes = 65536\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = [hidden]\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.connect.timeout.ms = null\n    sasl.login.read.timeout.ms = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.login.retry.backoff.max.ms = 10000\n    sasl.login.retry.backoff.ms = 100\n    sasl.mechanism = PLAIN\n    sasl.oauthbearer.clock.skew.seconds = 30\n    sasl.oauthbearer.expected.audience = null\n    sasl.oauthbearer.expected.issuer = null\n    sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n    sasl.oauthbearer.jwks.endpoint.url = null\n    sasl.oauthbearer.scope.claim.name = scope\n    sasl.oauthbearer.sub.claim.name = sub\n    sasl.oauthbearer.token.endpoint.url = null\n    security.protocol = SASL_SSL\n    security.providers = null\n    send.buffer.bytes = 131072\n    session.timeout.ms = 45000\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    value.deserializer = class io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer\n\n2023-06-12T23:45:42.512+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Metrics scheduler closed\n2023-06-12T23:45:42.512+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Closing reporter org.apache.kafka.common.metrics.JmxReporter\n2023-06-12T23:45:42.518+05:30  INFO 19132 --- [           main] o.apache.kafka.common.metrics.Metrics    : Metrics reporters closed\n2023-06-12T23:45:42.523+05:30  INFO 19132 --- [           main] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-aws-topic-consumer-group-1 unregistered\n2023-06-12T23:45:42.524+05:30  WARN 19132 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'\n2023-06-12T23:45:42.569+05:30  INFO 19132 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-06-12T23:45:42.610+05:30  INFO 19132 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-12T23:45:42.652+05:30 ERROR 19132 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-6.0.9.jar:6.0.9]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:958) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.example.KafkaPOC.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:830) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:665) ~[kafka-clients-3.4.0.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:867) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:382) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:555) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:231) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:555) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-3.0.7.jar:3.0.7]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-6.0.9.jar:6.0.9]\n    ... 13 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: io/confluent/kafka/schemaregistry/rules/RuleException\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[na:na]\n    at java.base/java.lang.Class.getConstructor0(Class.java:3578) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[na:na]\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:395) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:436) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:421) ~[kafka-clients-3.4.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:716) ~[kafka-clients-3.4.0.jar:na]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: io.confluent.kafka.schemaregistry.rules.RuleException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 36 common frames omitted\n\nDisconnected from the target VM, address: '127.0.0.1:49806', transport: 'socket'\n\nProcess finished with exit code 1\n\n\nFor the Kafka Topic i have set JSON Schema as the schema.\n</code></pre>\n<p>Sharing my application.yml file :</p>\n<pre><code>`server:\n  port: 61002\n\nspring:\n  kafka:\n    bootstrap-servers: pkc-ymrq7.us-east-2.aws.confluent.cloud:9092\n    properties:\n      schema:\n        registry:\n          url: https://psrc-mw0d1.us-east-2.aws.confluent.cloud\n      basic:\n        auth:\n          credentials:\n            source: USER_INFO\n          user:\n            info: API_KEY:API_SECRET\n      sasl:\n        jaas:\n          config: org.apache.kafka.common.security.plain.PlainLoginModule\n            required username=&quot;API_KEY&quot; password=&quot;API_SECRET&quot;;\n        mechanism: PLAIN\n      security:\n        protocol: SASL_SSL\n      ssl:\n        endpoint:\n          identification:\n            algorithm: https\n    consumer:\n      autoOffsetReset: earliest\n      group-id: aws-topic-consumer-group\n      keyDeserializer: org.apache.kafka.common.serialization.StringDeserializer\n      valueDeserializer: io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer\nconfluent:\n  topic: schema_topic`\n</code></pre>\n<p>This is my KafkaConsumer :</p>\n<pre><code>`package com.example.KafkaPOC.demo.service;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.stereotype.Service;\n\n@Service\n@Slf4j\npublic class CoreService {\n\n    @Value(&quot;${confluent.topic}&quot;)\n    private String inputTopic;\n\n    @Autowired\n    KafkaTemplate&lt;String, String&gt; kafkaTemplate;`your text`\n\n    @KafkaListener(topics = &quot;schema_topic&quot;, groupId = &quot;aws-topic-consumer-group&quot;,containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n    public void consumeFromKafkaViaSchemaValidation(ConsumerRecord&lt;String, JsonNode&gt; record){\n        log.info(&quot;Message consumed from topic &quot;+inputTopic+&quot;:- &quot; + record.value());\n\n    }\n}`\n`\n</code></pre>\n<p>This is my project structure for reference.</p>\n<p><a href=\"https://i.stack.imgur.com/BNJVF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am consuming from the topic schema_topic which is having a JSON Schema set on it in confluent cloud. PFA the attachment.</p>\n<p><a href=\"https://i.stack.imgur.com/nhlw7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","opengl-es","mesh","3d-reconstruction"],"comments":[{"owner":{"account_id":253976,"reputation":10814,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"score":0,"creation_date":1686902035,"post_id":76456161,"comment_id":134864805,"body_markdown":"You can use C++ in Android just fine - just set up some JNI bindings to the native code (see NDK samples for how to do this).","body":"You can use C++ in Android just fine - just set up some JNI bindings to the native code (see NDK samples for how to do this)."}],"owner":{"account_id":20090291,"reputation":1,"user_id":14730936,"display_name":"romanis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686781405,"creation_date":1686568871,"question_id":76456161,"body_markdown":"I need to reconstruct a mesh from a point cloud for an Android application. This app creates a mesh from a large point cloud and then measures the distance between two randomly selected points on the mesh. \r\nI tried to reconstruct the mesh using OpenGL ES with the glDrawArrays() function, but the results were unsatisfactory. Therefore, I started looking for a library capable of handling this task, specifically surface reconstruction. Unfortunately, I couldn&#39;t find anything suitable as most computer vision libraries are developed for Python or C++, which are not directly compatible with Android. Do you have any advice for achieving this in my particular use case? Which library fulfill my requirements?\r\n\r\nThe images below were implemented with glDrawArray(GL_POINTS) for the point cloud, the other image with gLDrawArray(GL_TRIANGLES) for the mesh.\r\n\r\npoint cloud:\r\n[![enter image description here][1]][1]\r\n\r\nmesh\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\nThat&#39;s the part of code where I initialise and implement the mesh.  \r\n\r\n```\r\npublic void onDrawFrame(GL10 gl) {\r\n            GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\r\n\r\n            ...\r\n\r\n            GLES20.glUseProgram(mProgram);\r\n\r\n            maPositionHandle = GLES20.glGetAttribLocation(mProgram, &quot;vPosition&quot;);\r\n            GLES20.glEnableVertexAttribArray(maPositionHandle);\r\n            GLES20.glVertexAttribPointer(maPositionHandle, 3, GLES20.GL_FLOAT, false, 12, vertexBuffer);\r\n\r\n            int colorHandle = GLES20.glGetAttribLocation(mProgram, &quot;vColorA&quot;);\r\n            GLES20.glEnableVertexAttribArray(colorHandle);\r\n            GLES20.glVertexAttribPointer(colorHandle, 3, GLES20.GL_FLOAT, false, 12, colorBuffer);\r\n\r\n            \r\n            GLES20.glUniformMatrix4fv(muMVPMatrixHandle, 1, false, mMVPMatrix, 0);\r\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, vertices.length);\r\n            GLES20.glDisableVertexAttribArray(maPositionHandle);\r\n            GLES20.glDisableVertexAttribArray(colorHandle);\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n\r\n@Override\r\n        public void onSurfaceCreated(GL10 gl, EGLConfig config) {\r\n            GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\r\n            GLES20.glEnable(GLES20.GL_DEPTH_TEST);\r\n            GLES20.glEnable(GLES20.GL_NICEST);\r\n            GLES20.glDepthFunc(GLES20.GL_LESS);\r\n            GLES20.glDepthMask(true);\r\n            initShapes();\r\n          \r\n            ...\r\n        }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z3QDf.jpg\r\n  [2]: https://i.stack.imgur.com/XHKrR.png","title":"android mesh reconstruction out of a point cloud","body":"<p>I need to reconstruct a mesh from a point cloud for an Android application. This app creates a mesh from a large point cloud and then measures the distance between two randomly selected points on the mesh.\nI tried to reconstruct the mesh using OpenGL ES with the glDrawArrays() function, but the results were unsatisfactory. Therefore, I started looking for a library capable of handling this task, specifically surface reconstruction. Unfortunately, I couldn't find anything suitable as most computer vision libraries are developed for Python or C++, which are not directly compatible with Android. Do you have any advice for achieving this in my particular use case? Which library fulfill my requirements?</p>\n<p>The images below were implemented with glDrawArray(GL_POINTS) for the point cloud, the other image with gLDrawArray(GL_TRIANGLES) for the mesh.</p>\n<p>point cloud:\n<a href=\"https://i.stack.imgur.com/z3QDf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3QDf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>mesh\n<a href=\"https://i.stack.imgur.com/XHKrR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XHKrR.png\" alt=\"enter image description here\" /></a></p>\n<p>That's the part of code where I initialise and implement the mesh.</p>\n<pre><code>public void onDrawFrame(GL10 gl) {\n            GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\n\n            ...\n\n            GLES20.glUseProgram(mProgram);\n\n            maPositionHandle = GLES20.glGetAttribLocation(mProgram, &quot;vPosition&quot;);\n            GLES20.glEnableVertexAttribArray(maPositionHandle);\n            GLES20.glVertexAttribPointer(maPositionHandle, 3, GLES20.GL_FLOAT, false, 12, vertexBuffer);\n\n            int colorHandle = GLES20.glGetAttribLocation(mProgram, &quot;vColorA&quot;);\n            GLES20.glEnableVertexAttribArray(colorHandle);\n            GLES20.glVertexAttribPointer(colorHandle, 3, GLES20.GL_FLOAT, false, 12, colorBuffer);\n\n            \n            GLES20.glUniformMatrix4fv(muMVPMatrixHandle, 1, false, mMVPMatrix, 0);\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, vertices.length);\n            GLES20.glDisableVertexAttribArray(maPositionHandle);\n            GLES20.glDisableVertexAttribArray(colorHandle);\n            System.out.println(&quot;\\n&quot;);\n        }\n\n@Override\n        public void onSurfaceCreated(GL10 gl, EGLConfig config) {\n            GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\n            GLES20.glEnable(GLES20.GL_DEPTH_TEST);\n            GLES20.glEnable(GLES20.GL_NICEST);\n            GLES20.glDepthFunc(GLES20.GL_LESS);\n            GLES20.glDepthMask(true);\n            initShapes();\n          \n            ...\n        }\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer","background-service","foreground-service"],"owner":{"account_id":23288910,"reputation":1381,"user_id":17371284,"display_name":"Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686781138,"creation_date":1686612198,"question_id":76460838,"body_markdown":"i have a mediaplayer java class that connect to service to show notification,\r\n\r\nthe service dose&#39;nt stop except when user clicks the notification cancel button \r\n\r\n    notification = new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID).setShowCancelButton(true).build();\r\n\r\nthe cancel code is:\r\n\r\n    public void hideNotification() {\r\n            notificationManager.cancel(NOTIFICATION_ID);\r\n            audioManager.abandonAudioFocus(this);\r\n            stopForeground(true);\r\n        }\r\ni have edit my code to start the foreground service in the first time the user choose an item to play,\r\nalso when the app is in the background the notification updated not start again.\r\ncheck this code:\r\n\r\n  \r\n\r\n \r\n\r\n   \r\n\r\n      if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S ){\r\n        \\\\check if the app in background and the notification exist then update it\r\n                            if(ProcessLifecycleOwner.get().getLifecycle().getCurrentState() == Lifecycle.State.CREATED\r\n                                    &amp;&amp; notificationManager != null){\r\n                                StatusBarNotification[] notifications = notificationManager.getActiveNotifications();\r\n                                for (StatusBarNotification notification1 : notifications){\r\n                                    if(notification1.getId() == NOTIFICATION_ID);{\r\n                                        notificationManager.notify(NOTIFICATION_ID,notification);\r\n                                        Log.w(&quot;App&quot;, &quot;Working in Background&quot;);\r\n                                    }\r\n                                }\r\n                            }else {\r\n                                startForeground(NOTIFICATION_ID, notification);\r\n                                Log.w(&quot;App&quot;, &quot;Working First Time&quot;);\r\n                            }\r\n                        }\r\n                        else {\r\n                            startForeground(NOTIFICATION_ID, notification);\r\n                        }\r\n\r\nmy manifests code:\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n\r\n      &lt;service android:name=&quot;com.app.example.playerservice&quot;\r\n                     android:foregroundServiceType=&quot;mediaPlayback&quot;/&gt;\r\n\r\ni&#39;m still getting this crash on my play console: ForegroundServiceStartNotAllowedException \r\n\r\nis there any solution for that?\r\n\r\nif i replace the service with Workmanager can this solve the issue ? i mean can i handle the notification buttons when using Workmanager? \r\n\r\nNote: I have tested the app many times with android studio emulator and with my phone with android 12, and i didn&#39;t catch any error.","title":"android.app.ForegroundServiceStartNotAllowedException Service.startForeground() not allowed due to mAllowStartForeground false","body":"<p>i have a mediaplayer java class that connect to service to show notification,</p>\n<p>the service dose'nt stop except when user clicks the notification cancel button</p>\n<pre><code>notification = new NotificationCompat.Builder(getApplicationContext(), CHANNEL_ID).setShowCancelButton(true).build();\n</code></pre>\n<p>the cancel code is:</p>\n<pre><code>public void hideNotification() {\n        notificationManager.cancel(NOTIFICATION_ID);\n        audioManager.abandonAudioFocus(this);\n        stopForeground(true);\n    }\n</code></pre>\n<p>i have edit my code to start the foreground service in the first time the user choose an item to play,\nalso when the app is in the background the notification updated not start again.\ncheck this code:</p>\n<pre><code>  if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S ){\n    \\\\check if the app in background and the notification exist then update it\n                        if(ProcessLifecycleOwner.get().getLifecycle().getCurrentState() == Lifecycle.State.CREATED\n                                &amp;&amp; notificationManager != null){\n                            StatusBarNotification[] notifications = notificationManager.getActiveNotifications();\n                            for (StatusBarNotification notification1 : notifications){\n                                if(notification1.getId() == NOTIFICATION_ID);{\n                                    notificationManager.notify(NOTIFICATION_ID,notification);\n                                    Log.w(&quot;App&quot;, &quot;Working in Background&quot;);\n                                }\n                            }\n                        }else {\n                            startForeground(NOTIFICATION_ID, notification);\n                            Log.w(&quot;App&quot;, &quot;Working First Time&quot;);\n                        }\n                    }\n                    else {\n                        startForeground(NOTIFICATION_ID, notification);\n                    }\n</code></pre>\n<p>my manifests code:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n\n  &lt;service android:name=&quot;com.app.example.playerservice&quot;\n                 android:foregroundServiceType=&quot;mediaPlayback&quot;/&gt;\n</code></pre>\n<p>i'm still getting this crash on my play console: ForegroundServiceStartNotAllowedException</p>\n<p>is there any solution for that?</p>\n<p>if i replace the service with Workmanager can this solve the issue ? i mean can i handle the notification buttons when using Workmanager?</p>\n<p>Note: I have tested the app many times with android studio emulator and with my phone with android 12, and i didn't catch any error.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1686783424,"post_id":76477923,"comment_id":134848420,"body_markdown":"Java can not read a file that doesn&#39;t exists.  You should investigate first what to put in the file and where to put it, then create it yourself.","body":"Java can not read a file that doesn&#39;t exists.  You should investigate first what to put in the file and where to put it, then create it yourself."}],"owner":{"account_id":22637739,"reputation":87,"user_id":16814335,"display_name":"SS.h777"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686781079,"creation_date":1686781079,"question_id":76477923,"body_markdown":"I&#39;m new in Java.\r\n\r\nActually I&#39;m on temurin-19.0.2 where I ddl this version directly on IntelliJ.\r\n\r\nWhen I launch my project on Debug mode.\r\nI always have *java.nio.file.NoSuchFileException: myPath/Library/Java/JavaVirtualMachines/temurin-19.0.2/Contents/Home/conf/jndi.properties*\r\n\r\nAnd yes the *jndi.properties* is missing, not generated when I add the SDK.\r\nWhen I search on internet about java.nio.file, It&#39;s already integrated on Java since Java 7 but for an unknown reason I have this problem.\r\n\r\nDo you have any idea how can I resolve this problem ?\r\nI don&#39;t find a great sample of jndi.properties file, so I don&#39;t how it looks like.\r\n","title":"jndi properties not found","body":"<p>I'm new in Java.</p>\n<p>Actually I'm on temurin-19.0.2 where I ddl this version directly on IntelliJ.</p>\n<p>When I launch my project on Debug mode.\nI always have <em>java.nio.file.NoSuchFileException: myPath/Library/Java/JavaVirtualMachines/temurin-19.0.2/Contents/Home/conf/jndi.properties</em></p>\n<p>And yes the <em>jndi.properties</em> is missing, not generated when I add the SDK.\nWhen I search on internet about java.nio.file, It's already integrated on Java since Java 7 but for an unknown reason I have this problem.</p>\n<p>Do you have any idea how can I resolve this problem ?\nI don't find a great sample of jndi.properties file, so I don't how it looks like.</p>\n"},{"tags":["java","spring","spring-boot","spring-web"],"comments":[{"owner":{"account_id":5923946,"reputation":643,"user_id":4660500,"display_name":"Simon Berthiaume"},"score":0,"creation_date":1518893507,"post_id":48844755,"comment_id":84693800,"body_markdown":"By console you mean the web browser console?","body":"By console you mean the web browser console?"},{"owner":{"account_id":8081421,"reputation":358,"user_id":6090489,"accept_rate":100,"display_name":"SpaceOso"},"score":0,"creation_date":1518893630,"post_id":48844755,"comment_id":84693838,"body_markdown":"@SimonBerthiaume no sorry, I mean the console in my IDE. I can see it print logs like this..    `2018-02-17 13:51:10.916 DEBUG 31564 --- [  restartedMain] o.s.w.c.s.StandardServletEnvironment     : Adding PropertySource &#39;servletConfigInitParams&#39; with lowest search precedence`","body":"@SimonBerthiaume no sorry, I mean the console in my IDE. I can see it print logs like this..    <code>2018-02-17 13:51:10.916 DEBUG 31564 --- [  restartedMain] o.s.w.c.s.StandardServletEnvironment     : Adding PropertySource &#39;servletConfigInitParams&#39; with lowest search precedence</code>"},{"owner":{"account_id":5923946,"reputation":643,"user_id":4660500,"display_name":"Simon Berthiaume"},"score":0,"creation_date":1518895015,"post_id":48844755,"comment_id":84694216,"body_markdown":"Unless you are explicitly building an app made to be operated from the commandline, it is considered bad practice to output straight to System.our and System.err but it should work. What should be done is using logging frameworks such as SLF4J on top of logback or log4j.","body":"Unless you are explicitly building an app made to be operated from the commandline, it is considered bad practice to output straight to System.our and System.err but it should work. What should be done is using logging frameworks such as SLF4J on top of logback or log4j."},{"owner":{"account_id":8081421,"reputation":358,"user_id":6090489,"accept_rate":100,"display_name":"SpaceOso"},"score":0,"creation_date":1518903890,"post_id":48844755,"comment_id":84696530,"body_markdown":"@SimonBerthiaume Oh ok, I didn&#39;t know this. I&#39;ll look into using a framework for this. Is the goal of the framework to be a dev / prod setup? So it will only do logs when run in dev?","body":"@SimonBerthiaume Oh ok, I didn&#39;t know this. I&#39;ll look into using a framework for this. Is the goal of the framework to be a dev / prod setup? So it will only do logs when run in dev?"}],"answers":[{"tags":[],"owner":{"account_id":5038650,"reputation":1124,"user_id":4046747,"display_name":"lrathod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518894956,"creation_date":1518894956,"answer_id":48844991,"question_id":48844755,"body_markdown":"Did you tried adding **console appender** in you logging configuration file.? Here is how you can do in slf4j + logback ecosystem \r\n\r\nin logback.xml, \r\n \r\n\r\n    &lt;configuration&gt;\r\n\t&lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n\t\t\t&lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n\t&lt;logger name=&quot;com.yourcompany.packagename&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\t&lt;root level=&quot;ERROR&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n\t&lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"How to print to console in Spring Boot Web Application","body":"<p>Did you tried adding <strong>console appender</strong> in you logging configuration file.? Here is how you can do in slf4j + logback ecosystem </p>\n\n<p>in logback.xml, </p>\n\n<pre><code>&lt;configuration&gt;\n&lt;appender name=\"consoleAppender\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;encoder class=\"net.logstash.logback.encoder.LogstashEncoder\"&gt;\n        &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n&lt;logger name=\"com.yourcompany.packagename\" level=\"INFO\" additivity=\"false\"&gt;\n    &lt;appender-ref ref=\"consoleAppender\" /&gt;\n&lt;/logger&gt;\n&lt;root level=\"ERROR\"&gt;\n    &lt;appender-ref ref=\"consoleAppender\" /&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12948283,"reputation":399,"user_id":9361935,"display_name":"Cimon"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1518895732,"creation_date":1518895458,"answer_id":48845065,"question_id":48844755,"body_markdown":"`System.out.println(job);` like you have done.\r\n\r\nIt prints something like yourpackage.Job@2g45e0f9\r\n\r\nTry to execute you code using debug mode and see if the post method will be executed as it has to do.\r\n","title":"How to print to console in Spring Boot Web Application","body":"<p><code>System.out.println(job);</code> like you have done.</p>\n\n<p>It prints something like yourpackage.Job@2g45e0f9</p>\n\n<p>Try to execute you code using debug mode and see if the post method will be executed as it has to do.</p>\n"},{"tags":[],"owner":{"account_id":4000164,"reputation":31,"user_id":3296390,"display_name":"kreitcher"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574746944,"creation_date":1574745101,"answer_id":59044144,"question_id":48844755,"body_markdown":"This is in addition to what @robocode posted. Override the `toString` method in the `Job` class to print the parameters the way you would like to see them.\r\n\r\n    public class Job{\r\n       String p1;\r\n       int p2;\r\n       .\r\n       .\r\n       @Override\r\n       public String toString(){\r\n          return &quot;p1: &quot;+p1+&quot;, p2: &quot;+p2;\r\n       }\r\n    }\r\n\r\nMakes it easier to simply sysout your objects.\r\n\r\n    Job job = new Job();\r\n    System.out.println(job);","title":"How to print to console in Spring Boot Web Application","body":"<p>This is in addition to what @robocode posted. Override the <code>toString</code> method in the <code>Job</code> class to print the parameters the way you would like to see them.</p>\n\n<pre><code>public class Job{\n   String p1;\n   int p2;\n   .\n   .\n   @Override\n   public String toString(){\n      return \"p1: \"+p1+\", p2: \"+p2;\n   }\n}\n</code></pre>\n\n<p>Makes it easier to simply sysout your objects.</p>\n\n<pre><code>Job job = new Job();\nSystem.out.println(job);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586109108,"creation_date":1586109108,"answer_id":61046915,"question_id":48844755,"body_markdown":"import log4j dependency in your pom file\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ndefine logger in your controller like:\r\n\r\n    private static Logger logger = LoggerFactory.getLogger(YourClassName.class);\r\n\r\nthen use\r\n\r\n    logger.info(&quot;your message&quot;);\r\n","title":"How to print to console in Spring Boot Web Application","body":"<p>import log4j dependency in your pom file</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>define logger in your controller like:</p>\n\n<pre><code>private static Logger logger = LoggerFactory.getLogger(YourClassName.class);\n</code></pre>\n\n<p>then use</p>\n\n<pre><code>logger.info(\"your message\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681691820,"creation_date":1600833537,"answer_id":64020839,"question_id":48844755,"body_markdown":"You can try **[Lombok][1]**\r\n\r\nUse `@Slf4j` at class level and `log.info(&#39;text&#39;)` anywhere in your class.\r\n\r\n```java\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class MyController {\r\n       \r\n       public void getAll() {\r\n          log.info(&#39;This is a test.&#39;);\r\n       }\r\n    }\r\n```\r\n \r\n\r\n\r\n  [1]: https://projectlombok.org/features/log","title":"How to print to console in Spring Boot Web Application","body":"<p>You can try <strong><a href=\"https://projectlombok.org/features/log\" rel=\"nofollow noreferrer\">Lombok</a></strong></p>\n<p>Use <code>@Slf4j</code> at class level and <code>log.info('text')</code> anywhere in your class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import lombok.extern.slf4j.Slf4j;\n    \n    @Slf4j\n    public class MyController {\n       \n       public void getAll() {\n          log.info('This is a test.');\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16305411,"reputation":455,"user_id":11775515,"display_name":"Prashant Joshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621420045,"creation_date":1621420045,"answer_id":67601473,"question_id":48844755,"body_markdown":"If the above doesn&#39;t solve the problem\r\nmake sure you are making the appropriate requests which has the sysout statement ","title":"How to print to console in Spring Boot Web Application","body":"<p>If the above doesn't solve the problem\nmake sure you are making the appropriate requests which has the sysout statement</p>\n"},{"tags":[],"owner":{"account_id":26695241,"reputation":11,"user_id":20303214,"display_name":"Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686775412,"creation_date":1686775412,"answer_id":76477397,"question_id":48844755,"body_markdown":"You seem to be confused it is an address where the object is stored you need to make the object useful by defining some methods and giving some properties","title":"How to print to console in Spring Boot Web Application","body":"<p>You seem to be confused it is an address where the object is stored you need to make the object useful by defining some methods and giving some properties</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686780238,"creation_date":1686779216,"answer_id":76477771,"question_id":48844755,"body_markdown":"The logging situation with Java is a bit complicated. Any application you write is going to have a framework and a bunch of libraries and they all write to loggers and different jars may use different loggers. I don&#39;t know about Node, maybe there everybody logs to stdout? That&#39;s not the case in Java land. \r\n\r\nBecause of that. even if for your own code you are ok with writing directly to stdout (with System.out.println), if you want all the logged info from your code and from all the other jars to go to the same place, you have to deal with loggers.\r\nSo you might as well use loggers for your own code too and keep things consistent. It&#39;s not just about how to log your own output, it&#39;s how to capture the log output from all parts of the application and make sure it&#39;s going to the right place and has the granularity that you need. \r\n\r\nSpring-boot provides a logging library for you to use by default, called logback. If you don&#39;t set up any appenders it will default to writing to the console. Your code doesn&#39;t use logback directly, it uses a facade called slf4j. Which sounds absurd I know because we&#39;ve added 2 libraries just to do what  System.out.println does already, but slf4j helps by providing adapters so that if a 3rd party jar uses log4j2 or java.util.logging then it can redirect the output to slf4j and from there to logback, making sure you get a unified view of all the logs from the application, and also giving you a way to configure what level of logging you want to see for the different parts of the application. That&#39;s something you don&#39;t get with writing to System.out. \r\n\r\n","title":"How to print to console in Spring Boot Web Application","body":"<p>The logging situation with Java is a bit complicated. Any application you write is going to have a framework and a bunch of libraries and they all write to loggers and different jars may use different loggers. I don't know about Node, maybe there everybody logs to stdout? That's not the case in Java land.</p>\n<p>Because of that. even if for your own code you are ok with writing directly to stdout (with System.out.println), if you want all the logged info from your code and from all the other jars to go to the same place, you have to deal with loggers.\nSo you might as well use loggers for your own code too and keep things consistent. It's not just about how to log your own output, it's how to capture the log output from all parts of the application and make sure it's going to the right place and has the granularity that you need.</p>\n<p>Spring-boot provides a logging library for you to use by default, called logback. If you don't set up any appenders it will default to writing to the console. Your code doesn't use logback directly, it uses a facade called slf4j. Which sounds absurd I know because we've added 2 libraries just to do what  System.out.println does already, but slf4j helps by providing adapters so that if a 3rd party jar uses log4j2 or java.util.logging then it can redirect the output to slf4j and from there to logback, making sure you get a unified view of all the logs from the application, and also giving you a way to configure what level of logging you want to see for the different parts of the application. That's something you don't get with writing to System.out.</p>\n"}],"owner":{"account_id":8081421,"reputation":358,"user_id":6090489,"accept_rate":100,"display_name":"SpaceOso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134541,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":48845065,"answer_count":8,"score":26,"last_activity_date":1686780238,"creation_date":1518893337,"question_id":48844755,"body_markdown":"Coming from a Node background, what is the equivalent of console.log() in spring boot?\r\n\r\nFor example I&#39;d like to see in my console the job info in the following method.\r\n\r\n    @RequestMapping(value = &quot;jobposts/create&quot;, method = RequestMethod.POST)\r\n    public Job create(@RequestBody Job job){\r\n        System.out.println(job);\r\n        return jobRepository.saveAndFlush(job);\r\n    }\r\n\r\nSystem.out.println(); is how I know to do it in Java but it doesn&#39;t seem to appear in my console. Using IntelliJ.","title":"How to print to console in Spring Boot Web Application","body":"<p>Coming from a Node background, what is the equivalent of console.log() in spring boot?</p>\n\n<p>For example I'd like to see in my console the job info in the following method.</p>\n\n<pre><code>@RequestMapping(value = \"jobposts/create\", method = RequestMethod.POST)\npublic Job create(@RequestBody Job job){\n    System.out.println(job);\n    return jobRepository.saveAndFlush(job);\n}\n</code></pre>\n\n<p>System.out.println(); is how I know to do it in Java but it doesn't seem to appear in my console. Using IntelliJ.</p>\n"},{"tags":["java","xml","logback","spring-tool-suite"],"owner":{"account_id":28611703,"reputation":1,"user_id":21906562,"display_name":"supraja067"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686779099,"creation_date":1686740621,"question_id":76472839,"body_markdown":"Want to delete log file for every three hours with specified naming pattern `yyyy-MM-dd_HH-HHmmss`\r\n\r\nBelow is the code snippet:\r\n```xml\r\n&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n    &lt;fileNamePattern&gt;${LOGS}/spring-boot-logger.%d{yyyy-MM-dd_HH}\\_%d{HHmmss,aux}.log&lt;/fileNamePattern&gt;  \r\n    &lt;maxHistory&gt;3&lt;/maxHistory&gt;&#160;  \r\n&lt;/rollingPolicy&gt;\r\n```\r\n\r\nIssue: \r\nWhen I use two `%d` its get confusing which `%d` is for rollback and which is for naming pattern. I want to delete logs for every three hours with this naming pattern `yyyy-MM-dd_HH-HHmmss`.\r\n\r\nThanks in Advance!","title":"Issue in deletion of logs using logback","body":"<p>Want to delete log file for every three hours with specified naming pattern <code>yyyy-MM-dd_HH-HHmmss</code></p>\n<p>Below is the code snippet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n    &lt;fileNamePattern&gt;${LOGS}/spring-boot-logger.%d{yyyy-MM-dd_HH}\\_%d{HHmmss,aux}.log&lt;/fileNamePattern&gt;  \n    &lt;maxHistory&gt;3&lt;/maxHistory&gt;   \n&lt;/rollingPolicy&gt;\n</code></pre>\n<p>Issue:\nWhen I use two <code>%d</code> its get confusing which <code>%d</code> is for rollback and which is for naming pattern. I want to delete logs for every three hours with this naming pattern <code>yyyy-MM-dd_HH-HHmmss</code>.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","android","android-glide","android-tv","google-tv"],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686778254,"creation_date":1686778254,"question_id":76477681,"body_markdown":"Hey all I am trying to figure out how to highlight the current focused image I am on when using a d-pad/remote control. This is on an Android/Google TV so I need to know what image has focus/what image I am currently on.\r\n\r\nI&#39;ve googled and this is the only thing I can find that *may* be something useful.\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\r\n        &lt;item android:state_focused=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\r\n        &lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\r\n    &lt;/selector&gt;\r\n\r\nMy layout for my image is this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:paddingStart=&quot;5dp&quot;\r\n        tools:ignore=&quot;RtlSymmetry&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/movieImg&quot;\r\n            android:layout_width=&quot;174dp&quot;\r\n            android:layout_height=&quot;245dp&quot;\r\n            android:contentDescription=&quot;@string/moviedescription&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_title&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:autoSizeTextType=&quot;uniform&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/movieImg&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n            tools:targetApi=&quot;o&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nSomething like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nor like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat can I do to accomplish this task?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SQsv4.png\r\n  [2]: https://i.stack.imgur.com/byXSQ.png","title":"Android Glide highlight selected image for Google TV","body":"<p>Hey all I am trying to figure out how to highlight the current focused image I am on when using a d-pad/remote control. This is on an Android/Google TV so I need to know what image has focus/what image I am currently on.</p>\n<p>I've googled and this is the only thing I can find that <em>may</em> be something useful.</p>\n\n<pre><code>&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\n    &lt;item android:state_focused=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\n    &lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@Color/black&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>My layout for my image is this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:paddingStart=&quot;5dp&quot;\n    tools:ignore=&quot;RtlSymmetry&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/movieImg&quot;\n        android:layout_width=&quot;174dp&quot;\n        android:layout_height=&quot;245dp&quot;\n        android:contentDescription=&quot;@string/moviedescription&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_title&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:gravity=&quot;center&quot;\n        android:autoSizeTextType=&quot;uniform&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/movieImg&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\n        tools:targetApi=&quot;o&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/SQsv4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SQsv4.png\" alt=\"enter image description here\" /></a></p>\n<p>or like this:</p>\n<p><a href=\"https://i.stack.imgur.com/byXSQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/byXSQ.png\" alt=\"enter image description here\" /></a></p>\n<p>What can I do to accomplish this task?</p>\n"},{"tags":["java","ubuntu","minecraft"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685758983,"creation_date":1685758983,"answer_id":76394318,"question_id":76394088,"body_markdown":"Possibly a bug in JDK https://bugs.openjdk.org/browse/JDK-8274053. Apparently fixed in latest builds of JDK 18 though I could not find in which one exactly.","title":"SIGSEGV error JDK18, how to debug core dump","body":"<p>Possibly a bug in JDK <a href=\"https://bugs.openjdk.org/browse/JDK-8274053\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8274053</a>. Apparently fixed in latest builds of JDK 18 though I could not find in which one exactly.</p>\n"}],"owner":{"account_id":17911506,"reputation":35,"user_id":13013527,"display_name":"MadAtTheKeyboard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685784399,"answer_count":1,"score":-1,"last_activity_date":1686776682,"creation_date":1685751102,"question_id":76394088,"body_markdown":"I am editing this question to better fit the rules. I am consistently getting a SIGSEGV error with libjvm(?). I was told it would be fixed in JDK18, but the issue persists. \r\n\r\n\r\nThe current error I receive is;\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f4628ef1f4b, pid=95484, tid=95504\r\n#\r\n# JRE version: OpenJDK Runtime Environment (18.0.2+9) (build 18.0.2-ea+9-Ubuntu-222.04)\r\n# Java VM: OpenJDK 64-Bit Server VM (18.0.2-ea+9-Ubuntu-222.04, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# J 2868 c2 java.util.AbstractMap.hashCode()I java.base@18.0.2-ea (45 bytes) @ 0x00007f4628ef1f4b [0x00007f4628ef1ae0+0x000000000000046b]\r\n#\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /opt/minecraft/server/core.95484)\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   Unknown\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -Xms1024M -Xmx10G Minecraft_Server_1.20.jar nogui\r\n\r\nHost: Intel(R) Core(TM) i5-7500 CPU @ 3.40GHz, 4 cores, 62G, Ubuntu 22.04.2 LTS\r\n...cont\r\n```\r\n\r\n**My question is;**\r\n\r\nHow would I diagnose why the bug is occurring? Believe it is likely a conflicting dependency, but I do not know where to look. There is no file at `/opt/minecraft/server/core.95484`, and I do not understand how to debug the core dump I generated at `/var/crash`. \r\n\r\nWhat I have tried;\r\n- running  gdb /`cat ExecutablePath` CoreDump\r\n-\r\n-","title":"SIGSEGV error JDK18, how to debug core dump","body":"<p>I am editing this question to better fit the rules. I am consistently getting a SIGSEGV error with libjvm(?). I was told it would be fixed in JDK18, but the issue persists.</p>\n<p>The current error I receive is;</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f4628ef1f4b, pid=95484, tid=95504\n#\n# JRE version: OpenJDK Runtime Environment (18.0.2+9) (build 18.0.2-ea+9-Ubuntu-222.04)\n# Java VM: OpenJDK 64-Bit Server VM (18.0.2-ea+9-Ubuntu-222.04, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n# Problematic frame:\n# J 2868 c2 java.util.AbstractMap.hashCode()I java.base@18.0.2-ea (45 bytes) @ 0x00007f4628ef1f4b [0x00007f4628ef1ae0+0x000000000000046b]\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /opt/minecraft/server/core.95484)\n#\n# If you would like to submit a bug report, please visit:\n#   Unknown\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -Xms1024M -Xmx10G Minecraft_Server_1.20.jar nogui\n\nHost: Intel(R) Core(TM) i5-7500 CPU @ 3.40GHz, 4 cores, 62G, Ubuntu 22.04.2 LTS\n...cont\n</code></pre>\n<p><strong>My question is;</strong></p>\n<p>How would I diagnose why the bug is occurring? Believe it is likely a conflicting dependency, but I do not know where to look. There is no file at <code>/opt/minecraft/server/core.95484</code>, and I do not understand how to debug the core dump I generated at <code>/var/crash</code>.</p>\n<p>What I have tried;</p>\n<ul>\n<li>running  gdb /<code>cat ExecutablePath</code> CoreDump</li>\n<li></li>\n<li></li>\n</ul>\n"},{"tags":["java","file-upload","multipartform-data","okhttp"],"owner":{"account_id":26512789,"reputation":11,"user_id":20147742,"display_name":"Nilesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686776324,"creation_date":1664783956,"question_id":73932571,"body_markdown":"I am trying to perform upload action using OkHttp client. Everything works fine as I can see the image file at the destination but its says &quot;File not supported&quot; Upon comparing with the original file I see some additional header and footer values being added such as &quot;Content Disposition&quot;, &quot;Content-Type&quot; and &quot;Content-Length&quot; I think this is corrupting the file. How do I avoid this. Below is my request body and client code\r\n\r\n     RequestBody requestBody = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n                 .addFormDataPart(&quot;Image&quot;,&quot;image1.jpg&quot;,RequestBody.create(file, MediaType.parse(&quot;image/*&quot;))\r\n                 .build();\r\n     OkhttpClient client = new OkhttpClient().newBuilder().proxy(proxy).build();\r\n     Request req = new Request.Builder()\r\n              .url(URL)\r\n              .post(requestBody)\r\n              .addHeader(&quot;X-Auth&quot;, Auth)\r\n              .buid();\r\n     Response res = client.newCall(req).execute();\r\n\r\n \r\nFile here is the image file and I can see it getting uploaded to destination successfully with some additional data appended at the begining and the end of file. How do I avoid this header and footer getting appended. Thanks for the suggestion","title":"OkHttp adding additional data at the start and end of image file while upload action in API call","body":"<p>I am trying to perform upload action using OkHttp client. Everything works fine as I can see the image file at the destination but its says &quot;File not supported&quot; Upon comparing with the original file I see some additional header and footer values being added such as &quot;Content Disposition&quot;, &quot;Content-Type&quot; and &quot;Content-Length&quot; I think this is corrupting the file. How do I avoid this. Below is my request body and client code</p>\n<pre><code> RequestBody requestBody = new MultipartBody.Builder().setType(MultipartBody.FORM)\n             .addFormDataPart(&quot;Image&quot;,&quot;image1.jpg&quot;,RequestBody.create(file, MediaType.parse(&quot;image/*&quot;))\n             .build();\n OkhttpClient client = new OkhttpClient().newBuilder().proxy(proxy).build();\n Request req = new Request.Builder()\n          .url(URL)\n          .post(requestBody)\n          .addHeader(&quot;X-Auth&quot;, Auth)\n          .buid();\n Response res = client.newCall(req).execute();\n</code></pre>\n<p>File here is the image file and I can see it getting uploaded to destination successfully with some additional data appended at the begining and the end of file. How do I avoid this header and footer getting appended. Thanks for the suggestion</p>\n"},{"tags":["java","ibm-integration-bus"],"owner":{"account_id":21151016,"reputation":23,"user_id":15551324,"display_name":"Adil Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686776317,"creation_date":1683040682,"question_id":76156369,"body_markdown":"**mqsistop &lt;NODE-NAME**&gt;\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com.ibm.broker.jmsclienthelper.JMSClientHelper\r\n\r\n        at java.lang.Class.forNameImpl(Native Method)\r\n\r\n        at java.lang.Class.forName(Class.java:410)\r\n\r\n        at com.ibm.broker.classloading.ClassLoadingUtils.getClasses(ClassLoadingUtils.java:60)\r\n\r\nCaused by: java.lang.ClassNotFoundException: com.ibm.broker.jmsclienthelper.JMSClientHelper\r\n\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:610)\r\n\r\n        at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\r\n\r\n       at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\r\n\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\r\n\r\n        at com.ibm.broker.classloading.ReverseDelegationClassLoader.findClass(ReverseDelegationClassLoader.java:130)\r\n\r\n        at com.ibm.broker.classloading.BrokerClassLoader.findClass(BrokerClassLoader.java:372)\r\n\r\n        at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\r\n\r\n        at com.ibm.broker.classloading.JavaResourceClassLoader.loadClass(JavaResourceClassLoader.java:579)\r\n\r\n        at com.ibm.broker.classloading.ReverseDelegationClassLoader.findClass(ReverseDelegationClassLoader.java:130)\r\n\r\n        at com.ibm.broker.classloading.WebServicesClassLoader.findClass(WebServicesClassLoader.java:255)\r\n\r\n        at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\r\n\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\r\n\r\n        at com.ibm.broker.classloading.JavaResourceClassLoader.loadClass(JavaResourceClassLoader.java:579)\r\n\r\n        ... 3 more\r\n\r\n**BIP4374S**: An unexpected exception has occurred in the Java API framework.\r\n\r\nAn internal processing error has occurred.\r\n\r\nThis is an internal error. Contact your IBM support center.\r\n\r\n \r\n\r\n**BIP8081E**: An error occurred while processing the command.\r\n\r\nAn error occurred while the command was running; the command has cleaned up and ended.\r\n\r\nUse messages prior to this one to determine the cause of the error.\r\n\r\nCheck for some common problems:\r\n\r\nDoes the user id have the correct authorities (for example a member of the mqbrkrs group)?\r\n\r\nIs any operating system limit set too low to allow the command to run?\r\n\r\nIs the environment correctly set up?\r\n\r\nCorrect the problem and retry the command, otherwise, contact your IBM support center.","title":"Exception occur while executing broker commands in IBM ACE","body":"<p><strong>mqsistop &lt;NODE-NAME</strong>&gt;</p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com.ibm.broker.jmsclienthelper.JMSClientHelper</p>\n<pre><code>    at java.lang.Class.forNameImpl(Native Method)\n\n    at java.lang.Class.forName(Class.java:410)\n\n    at com.ibm.broker.classloading.ClassLoadingUtils.getClasses(ClassLoadingUtils.java:60)\n</code></pre>\n<p>Caused by: java.lang.ClassNotFoundException: com.ibm.broker.jmsclienthelper.JMSClientHelper</p>\n<pre><code>    at java.net.URLClassLoader.findClass(URLClassLoader.java:610)\n\n    at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\n\n   at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\n\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\n\n    at com.ibm.broker.classloading.ReverseDelegationClassLoader.findClass(ReverseDelegationClassLoader.java:130)\n\n    at com.ibm.broker.classloading.BrokerClassLoader.findClass(BrokerClassLoader.java:372)\n\n    at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\n\n    at com.ibm.broker.classloading.JavaResourceClassLoader.loadClass(JavaResourceClassLoader.java:579)\n\n    at com.ibm.broker.classloading.ReverseDelegationClassLoader.findClass(ReverseDelegationClassLoader.java:130)\n\n    at com.ibm.broker.classloading.WebServicesClassLoader.findClass(WebServicesClassLoader.java:255)\n\n    at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:945)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:890)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:873)\n\n    at com.ibm.broker.classloading.JavaResourceClassLoader.loadClass(JavaResourceClassLoader.java:579)\n\n    ... 3 more\n</code></pre>\n<p><strong>BIP4374S</strong>: An unexpected exception has occurred in the Java API framework.</p>\n<p>An internal processing error has occurred.</p>\n<p>This is an internal error. Contact your IBM support center.</p>\n<p><strong>BIP8081E</strong>: An error occurred while processing the command.</p>\n<p>An error occurred while the command was running; the command has cleaned up and ended.</p>\n<p>Use messages prior to this one to determine the cause of the error.</p>\n<p>Check for some common problems:</p>\n<p>Does the user id have the correct authorities (for example a member of the mqbrkrs group)?</p>\n<p>Is any operating system limit set too low to allow the command to run?</p>\n<p>Is the environment correctly set up?</p>\n<p>Correct the problem and retry the command, otherwise, contact your IBM support center.</p>\n"},{"tags":["java","android","locale","android-resources"],"comments":[{"owner":{"account_id":7518082,"reputation":4987,"user_id":5710872,"accept_rate":57,"display_name":"Qamar"},"score":0,"creation_date":1481204238,"post_id":40942535,"comment_id":69288872,"body_markdown":"You need to root your device and add your language identifier. May be you need custom rom. Visit https://source.android.com/","body":"You need to root your device and add your language identifier. May be you need custom rom. Visit <a href=\"https://source.android.com/\" rel=\"nofollow noreferrer\">source.android.com</a>"},{"owner":{"account_id":3832138,"reputation":53,"user_id":3177439,"display_name":"canisLupusLupus"},"score":0,"creation_date":1481565021,"post_id":40942535,"comment_id":69417382,"body_markdown":"i use some thing like this in my Activity.onCreate() to define witch strings.xml is used. did u try it with &quot;ro&quot;, &quot;&quot;RO&quot; ?  \n\n            switch (var) {\n                case 1:\n                    loc = new Locale(&quot;de&quot;, &quot;CH&quot;);\n                    break;\n                case 2:\n                    loc = new Locale(&quot;de&quot;, &quot;DE&quot;);\n                    break;\n            }\n            Locale.setDefault(loc);","body":"i use some thing like this in my Activity.onCreate() to define witch strings.xml is used. did u try it with &quot;ro&quot;, &quot;&quot;RO&quot; ?                switch (var) {                 case 1:                     loc = new Locale(&quot;de&quot;, &quot;CH&quot;);                     break;                 case 2:                     loc = new Locale(&quot;de&quot;, &quot;DE&quot;);                     break;             }             Locale.setDefault(loc);"}],"answers":[{"tags":[],"owner":{"account_id":3991579,"reputation":19586,"user_id":3290339,"display_name":"Onik"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1515195421,"creation_date":1480986931,"answer_id":40986218,"question_id":40942535,"body_markdown":"&gt; Will this work? I.e., can we control which `strings.xml` file it uses via `Locale`, even if the device has no native support for that language?\r\n\r\nYes, you can, by updating [`Locale`][1] within [`Configuration`][2] (_see an example below_). If you try to use the locale for which there are no corresponding resources (either within your app or system), the [default string resources][3] (_res/values/strings.xml_) of your app will be utilized.\r\n\r\n&gt; Since Romanian is not a natively-supported language with this device we assume that system messages will still come up in English. Is this true?\r\n\r\nIt is true, if English is the current **system** locale.\r\n\r\n&gt; I just want to make sure that if we set the Locale to Romanian, or Czech or some other language without native support it won&#39;t crash the tablet if it does try to issue a system message.\r\n\r\nYour app won&#39;t crash. Locale changes made within an app effect locale resources of the app, not system one&#39;s.\r\n\r\n**An example** to answer _&quot;if so, how?&quot;_ The method can be used to test locale changes while an `Activity` is running*.\r\n\r\n    public static void changeLocale(Context context, String locale) {\r\n        Resources res = context.getResources();\r\n        Configuration conf = res.getConfiguration();\r\n        conf.locale = new Locale(locale);\r\n        res.updateConfiguration(conf, res.getDisplayMetrics());\r\n    }\r\n\r\n----------\r\n\r\n&lt;sup&gt; * You might want to call [recreate()][4] to see string resource changes &quot;on the fly&quot;. &lt;/sup&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/util/Locale.html\r\n  [2]: https://developer.android.com/reference/android/content/res/Configuration.html\r\n  [3]: https://developer.android.com/guide/topics/resources/localization.html#using-framework\r\n  [4]: https://developer.android.com/reference/android/app/Activity.html#recreate()","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<blockquote>\n  <p>Will this work? I.e., can we control which <code>strings.xml</code> file it uses via <code>Locale</code>, even if the device has no native support for that language?</p>\n</blockquote>\n\n<p>Yes, you can, by updating <a href=\"https://developer.android.com/reference/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> within <a href=\"https://developer.android.com/reference/android/content/res/Configuration.html\" rel=\"nofollow noreferrer\"><code>Configuration</code></a> (<em>see an example below</em>). If you try to use the locale for which there are no corresponding resources (either within your app or system), the <a href=\"https://developer.android.com/guide/topics/resources/localization.html#using-framework\" rel=\"nofollow noreferrer\">default string resources</a> (<em>res/values/strings.xml</em>) of your app will be utilized.</p>\n\n<blockquote>\n  <p>Since Romanian is not a natively-supported language with this device we assume that system messages will still come up in English. Is this true?</p>\n</blockquote>\n\n<p>It is true, if English is the current <strong>system</strong> locale.</p>\n\n<blockquote>\n  <p>I just want to make sure that if we set the Locale to Romanian, or Czech or some other language without native support it won't crash the tablet if it does try to issue a system message.</p>\n</blockquote>\n\n<p>Your app won't crash. Locale changes made within an app effect locale resources of the app, not system one's.</p>\n\n<p><strong>An example</strong> to answer <em>\"if so, how?\"</em> The method can be used to test locale changes while an <code>Activity</code> is running*.</p>\n\n<pre><code>public static void changeLocale(Context context, String locale) {\n    Resources res = context.getResources();\n    Configuration conf = res.getConfiguration();\n    conf.locale = new Locale(locale);\n    res.updateConfiguration(conf, res.getDisplayMetrics());\n}\n</code></pre>\n\n<hr>\n\n<p><sup> * You might want to call <a href=\"https://developer.android.com/reference/android/app/Activity.html#recreate()\" rel=\"nofollow noreferrer\">recreate()</a> to see string resource changes \"on the fly\". </sup></p>\n"},{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481648734,"creation_date":1480987532,"answer_id":40986303,"question_id":40942535,"body_markdown":"The best way to do this is to actually set the device locale.  The code to do that is\r\n\r\n    Class&lt;?&gt; activityManagerNative = Class.forName(&quot;android.app.ActivityManagerNative&quot;);\r\n    Object am = activityManagerNative.getMethod(&quot;getDefault&quot;).invoke(activityManagerNative);\r\n    Object config = am.getClass().getMethod(&quot;getConfiguration&quot;).invoke(am);\r\n    config.getClass().getDeclaredField(&quot;locale&quot;).set(config, item.getLocale());\r\n    config.getClass().getDeclaredField(&quot;userSetLocale&quot;).setBoolean(config, true);\r\n    am.getClass().getMethod(&quot;updateConfiguration&quot;, android.content.res.Configuration.class).invoke(am, config);\r\n\r\nActivityManagerNative.java\r\n\r\n    package android.app;\r\n    \r\n    public abstract class ActivityManagerNative implements IActivityManager {\r\n    \r\n        public static IActivityManager getDefault(){\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\nIActivityManager\r\n\r\n    package android.app;\r\n    \r\n    import android.content.res.Configuration;\r\n    import android.os.RemoteException;\r\n    \r\n    public interface IActivityManager {\r\n        public abstract Configuration getConfiguration () throws RemoteException;\r\n        public abstract void updateConfiguration (Configuration configuration) throws RemoteException;\r\n    }\r\n\r\n\r\n\r\nThis way you&#39;ll set the device locale, and let everything change through the normal pathways.  You&#39;ll need the `android:name=&quot;android.permission.CHANGE_CONFIGURATION&quot;` permission in your manifest.  This is a secure permission, but installing yourself as a system app shouldn&#39;t be a problem for you.\r\n","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<p>The best way to do this is to actually set the device locale.  The code to do that is</p>\n\n<pre><code>Class&lt;?&gt; activityManagerNative = Class.forName(\"android.app.ActivityManagerNative\");\nObject am = activityManagerNative.getMethod(\"getDefault\").invoke(activityManagerNative);\nObject config = am.getClass().getMethod(\"getConfiguration\").invoke(am);\nconfig.getClass().getDeclaredField(\"locale\").set(config, item.getLocale());\nconfig.getClass().getDeclaredField(\"userSetLocale\").setBoolean(config, true);\nam.getClass().getMethod(\"updateConfiguration\", android.content.res.Configuration.class).invoke(am, config);\n</code></pre>\n\n<p>ActivityManagerNative.java</p>\n\n<pre><code>package android.app;\n\npublic abstract class ActivityManagerNative implements IActivityManager {\n\n    public static IActivityManager getDefault(){\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>IActivityManager</p>\n\n<pre><code>package android.app;\n\nimport android.content.res.Configuration;\nimport android.os.RemoteException;\n\npublic interface IActivityManager {\n    public abstract Configuration getConfiguration () throws RemoteException;\n    public abstract void updateConfiguration (Configuration configuration) throws RemoteException;\n}\n</code></pre>\n\n<p>This way you'll set the device locale, and let everything change through the normal pathways.  You'll need the <code>android:name=\"android.permission.CHANGE_CONFIGURATION\"</code> permission in your manifest.  This is a secure permission, but installing yourself as a system app shouldn't be a problem for you.</p>\n"},{"tags":[],"owner":{"account_id":7518082,"reputation":4987,"user_id":5710872,"accept_rate":57,"display_name":"Qamar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481205715,"creation_date":1481205715,"answer_id":41041328,"question_id":40942535,"body_markdown":"Override getResources in Application and BaseActivity\r\n\r\n    @Override\r\n        public Resources getResources() {\r\n            if(mRes == null)\r\n            mRes = new PowerfulResources(getAssets(),new DisplayMetrics(), null);\r\n            return mRes;\r\n        }\r\n    \r\n        public static class PowerfulResources extends Resources{\r\n    \r\n            /**\r\n             * Create a new Resources object on top of an existing set of assets in an\r\n             * AssetManager.\r\n             *\r\n             * @param assets  Previously created AssetManager.\r\n             * @param metrics Current display metrics to consider when\r\n             *                selecting/computing resource values.\r\n             * @param config  Desired device configuration to consider when\r\n             */\r\n            public PowerfulResources(AssetManager assets, DisplayMetrics metrics, Configuration config) {\r\n                super(assets, metrics, config);\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public String getString(int id) throws NotFoundException {\r\n                //do your stuff here\r\n                return super.getString(id);\r\n            }\r\n        }\r\n\r\nalso read [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2564027/android-creating-custom-class-of-resources","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<p>Override getResources in Application and BaseActivity</p>\n\n<pre><code>@Override\n    public Resources getResources() {\n        if(mRes == null)\n        mRes = new PowerfulResources(getAssets(),new DisplayMetrics(), null);\n        return mRes;\n    }\n\n    public static class PowerfulResources extends Resources{\n\n        /**\n         * Create a new Resources object on top of an existing set of assets in an\n         * AssetManager.\n         *\n         * @param assets  Previously created AssetManager.\n         * @param metrics Current display metrics to consider when\n         *                selecting/computing resource values.\n         * @param config  Desired device configuration to consider when\n         */\n        public PowerfulResources(AssetManager assets, DisplayMetrics metrics, Configuration config) {\n            super(assets, metrics, config);\n        }\n\n        @NonNull\n        @Override\n        public String getString(int id) throws NotFoundException {\n            //do your stuff here\n            return super.getString(id);\n        }\n    }\n</code></pre>\n\n<p>also read <a href=\"https://stackoverflow.com/questions/2564027/android-creating-custom-class-of-resources\">this</a></p>\n"},{"tags":[],"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481548441,"creation_date":1481548441,"answer_id":41101742,"question_id":40942535,"body_markdown":"Yes you can definitely switch locale of single app. For that you have to extend every activity from a base class like following:\r\n    \r\n    public abstract class MyLangActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            Locale locale = // get the locale to use...\r\n            Configuration conf = getResources().getConfiguration();\r\n            if (Build.VERSION.SDK_INT &gt;= 17) {\r\n                conf.setLocale(locale);\r\n            } else {\r\n                conf.locale = locale;\r\n            }\r\n    \r\n            DisplayMetrics metrics = getResources().getDisplayMetrics();\r\n            getResources().updateConfiguration(conf, metrics);\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    }\r\n\r\nNow about the issue of device not supporting the language applied. The device font being used might not have support for characters in the custom language file. You might use your own fonts files to support that.","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<p>Yes you can definitely switch locale of single app. For that you have to extend every activity from a base class like following:</p>\n\n<pre><code>public abstract class MyLangActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        Locale locale = // get the locale to use...\n        Configuration conf = getResources().getConfiguration();\n        if (Build.VERSION.SDK_INT &gt;= 17) {\n            conf.setLocale(locale);\n        } else {\n            conf.locale = locale;\n        }\n\n        DisplayMetrics metrics = getResources().getDisplayMetrics();\n        getResources().updateConfiguration(conf, metrics);\n        super.onCreate(savedInstanceState);\n    }\n}\n</code></pre>\n\n<p>Now about the issue of device not supporting the language applied. The device font being used might not have support for characters in the custom language file. You might use your own fonts files to support that.</p>\n"}],"owner":{"account_id":122361,"reputation":8071,"user_id":316117,"accept_rate":57,"display_name":"user316117"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6571,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1686776294,"creation_date":1480722074,"question_id":40942535,"body_markdown":"...and if so, how?\r\n\r\nWe make a dedicated Android device for use in an industrial environment.   It&#39;s basically a tablet, but with only one app running.  The user is not expected to access any other features of the device and even the system settings, like WiFi and Time settings are performed through our app instead of through the Android Settings widget. **So basically every button and message they see uses our `strings.xml` file**.\r\n\r\nCurrently all of our customers are satisfied to use the default US-English settings but we will soon have some customers who want local languages and have supplied us with translation files. Currently one of them is Romanian, which is not a language with any native support on this device (a Samsung Galaxy tab 4); another is Czech.\r\n\r\nSo we want to add `strings.xml` files in appropriate res folders, for the non-English languages and a dropdown in our app to select which language we&#39;re using.  Programmatically we think we can use `Locale` to set which `strings.xml` file it uses, so for example, if Romanian has been selected from the dropdown we would use `Locale` to set the tablet into Romanian so all of our app&#39;s UI will use the Romanian `strings.xml` file.\r\n\r\nOur settings, including the new dropdown, are inaccessible to customers -  they&#39;re set at the customer site by a field-service engineer.\r\n\r\n**Questions:**   \r\n\r\n 1. Will this work?  I.e., can we control which `strings.xml` file it uses via `Locale`, even if the device has no native support for that language?\r\n 2. Since Romanian is not a natively-supported language with this device we assume that system messages will still come up in English. Is this true? (it&#39;s not a problem if it does - system messages are rare with our app and the users of our products are trained to contact support if that happens. I just want to make sure that if we set the `Locale` to Romanian, or Czech or some other language without native support it won&#39;t crash the tablet if it does try to issue a system message).","title":"Using Locale to force Android to use a specific strings.xml file for a non-supported language","body":"<p>...and if so, how?</p>\n\n<p>We make a dedicated Android device for use in an industrial environment.   It's basically a tablet, but with only one app running.  The user is not expected to access any other features of the device and even the system settings, like WiFi and Time settings are performed through our app instead of through the Android Settings widget. <strong>So basically every button and message they see uses our <code>strings.xml</code> file</strong>.</p>\n\n<p>Currently all of our customers are satisfied to use the default US-English settings but we will soon have some customers who want local languages and have supplied us with translation files. Currently one of them is Romanian, which is not a language with any native support on this device (a Samsung Galaxy tab 4); another is Czech.</p>\n\n<p>So we want to add <code>strings.xml</code> files in appropriate res folders, for the non-English languages and a dropdown in our app to select which language we're using.  Programmatically we think we can use <code>Locale</code> to set which <code>strings.xml</code> file it uses, so for example, if Romanian has been selected from the dropdown we would use <code>Locale</code> to set the tablet into Romanian so all of our app's UI will use the Romanian <code>strings.xml</code> file.</p>\n\n<p>Our settings, including the new dropdown, are inaccessible to customers -  they're set at the customer site by a field-service engineer.</p>\n\n<p><strong>Questions:</strong>   </p>\n\n<ol>\n<li>Will this work?  I.e., can we control which <code>strings.xml</code> file it uses via <code>Locale</code>, even if the device has no native support for that language?</li>\n<li>Since Romanian is not a natively-supported language with this device we assume that system messages will still come up in English. Is this true? (it's not a problem if it does - system messages are rare with our app and the users of our products are trained to contact support if that happens. I just want to make sure that if we set the <code>Locale</code> to Romanian, or Czech or some other language without native support it won't crash the tablet if it does try to issue a system message).</li>\n</ol>\n"},{"tags":["java","stream","grouping"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1686759920,"post_id":76475586,"comment_id":134844462,"body_markdown":"Can you provide a sample input and the expected output?","body":"Can you provide a sample input and the expected output?"},{"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"score":0,"creation_date":1686762846,"post_id":76475586,"comment_id":134845091,"body_markdown":"of course, edited :)","body":"of course, edited :)"}],"answers":[{"tags":[],"owner":{"account_id":14647990,"reputation":321,"user_id":11429968,"display_name":"iderkhangai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686775510,"creation_date":1686775510,"answer_id":76477412,"question_id":76475586,"body_markdown":"    List&lt;Round&gt; output = input.stream()\r\n        .collect(Collectors.groupingBy(Round::getBeginDate))\r\n        .values()\r\n        .stream()\r\n        .flatMap(rounds -&gt; {\r\n            int maxNumber = rounds.stream().mapToInt(Round::getNumber).max().orElse(0);\r\n            return rounds.stream().map(round -&gt; {\r\n                int differenceDays = 0;\r\n                if (rounds.size() &gt; 1 &amp;&amp; round.getNumber() == maxNumber) {\r\n                    differenceDays = rounds.get(rounds.size() - 1).getBeginDate().getDayOfMonth()\r\n                            - round.getBeginDate().getDayOfMonth();\r\n                } else if (rounds.size() &gt; 1) {\r\n                    differenceDays = rounds.get(rounds.indexOf(round) + 1).getBeginDate().getDayOfMonth()\r\n                            - round.getBeginDate().getDayOfMonth();\r\n                }\r\n                round.setDifferenceDaysNumber(differenceDays);\r\n                return round;\r\n            });\r\n        })\r\n        .collect(Collectors.toList());\r\n\r\n\r\n&gt; The code uses groupingBy to group the Round objects based on the\r\n&gt; beginDate. Then, it iterates over the grouped values, calculates the\r\n&gt; differenceDaysNumber based on the specified conditions, and sets the\r\n&gt; value for each Round object. Finally, it collects the updated Round\r\n&gt; objects into a new list named output.\r\n&gt; \r\n&gt; The resulting output list will contain Round objects with the\r\n&gt; differenceDaysNumber field calculated according to the given\r\n&gt; conditions.","title":"Using groupingBy to calculate","body":"<pre><code>List&lt;Round&gt; output = input.stream()\n    .collect(Collectors.groupingBy(Round::getBeginDate))\n    .values()\n    .stream()\n    .flatMap(rounds -&gt; {\n        int maxNumber = rounds.stream().mapToInt(Round::getNumber).max().orElse(0);\n        return rounds.stream().map(round -&gt; {\n            int differenceDays = 0;\n            if (rounds.size() &gt; 1 &amp;&amp; round.getNumber() == maxNumber) {\n                differenceDays = rounds.get(rounds.size() - 1).getBeginDate().getDayOfMonth()\n                        - round.getBeginDate().getDayOfMonth();\n            } else if (rounds.size() &gt; 1) {\n                differenceDays = rounds.get(rounds.indexOf(round) + 1).getBeginDate().getDayOfMonth()\n                        - round.getBeginDate().getDayOfMonth();\n            }\n            round.setDifferenceDaysNumber(differenceDays);\n            return round;\n        });\n    })\n    .collect(Collectors.toList());\n</code></pre>\n<blockquote>\n<p>The code uses groupingBy to group the Round objects based on the\nbeginDate. Then, it iterates over the grouped values, calculates the\ndifferenceDaysNumber based on the specified conditions, and sets the\nvalue for each Round object. Finally, it collects the updated Round\nobjects into a new list named output.</p>\n<p>The resulting output list will contain Round objects with the\ndifferenceDaysNumber field calculated according to the given\nconditions.</p>\n</blockquote>\n"}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686775510,"creation_date":1686759057,"question_id":76475586,"body_markdown":"I have a list of already sorted objects `Round` and in the middle a field `beginDate`. I would like using `groupingB`y in stream (or another method if it&#39;s better)\r\ncalculate the field `differenceDaysNumber` by differences of the field `beginDate` of the current element and the next element in the list, except that if the next element in the list has the same value in the field: and the larger field: `number`, then we rewrite this value to all copies.\r\nSomething like that, pseudocode:\r\n\r\n    1 ob1 (differenceDaysNumber: ob1.beginDate-ob2.beginDate)\r\n    2 ob2 (differenceDaysNumber: ob3.beginDate-ob2.beginDate)\r\n    3 ob3 (differenceDaysNumber: ob4.beginDate-ob3.beginDate)\r\n      3.1 ob3  (differenceDaysNumber: ob4.beginDate-ob3.beginDate) //this is copy with the same differenceDaysNumberas ob.3\r\n      3.2 ob3 (differenceDaysNumber: ob4.beginDate-ob3.beginDate)  //this is copy with the same durTime as ob.3\r\n    4 ob4 (differenceDaysNumber: null)\r\n    \r\n    @Builder\r\n    @Getter\r\n    public class Round {\r\n        \r\n        Integer number;\r\n        LocalDateTime beginDate;\r\n        @Setter\r\n        Integer differenceDaysNumber;\r\n    }\r\n\r\n        var result = seriesInfoList.stream()\r\n                .collect(Collectors.groupingBy(SeriesInfo::getStartTime));  //what next ?\r\n\r\n        //input\r\n        List&lt;Round&gt; input = List.of(\r\n                new Round(1, LocalDateTime.of(2020, 12, 1, 12, 12, 12, 12), null),\r\n                new Round(1, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\r\n                new Round(2, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\r\n                new Round(3, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\r\n                new Round(1, LocalDateTime.of(2020, 12, 17, 12, 12, 12, 12), null),\r\n                new Round(1, LocalDateTime.of(2020, 12, 12, 12, 12, 12, 12), null));\r\n\r\n        //expected result\r\n        List&lt;Round&gt; output = List.of(\r\n                new Round(1, LocalDateTime.of(2020, 12, 1, 12, 12, 12, 12), 10),\r\n                new Round(1, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6),\r\n                new Round(2, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6), //it is a copy because it has the same date and a larger number than the parent\r\n                new Round(3, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6), //it is a copy because it has the same date and a larger number than the parent\r\n                new Round(3, LocalDateTime.of(2020, 12, 17, 12, 12, 12, 12), 5),\r\n                new Round(1, LocalDateTime.of(2020, 12, 12, 12, 12, 12, 12), null));\r\n","title":"Using groupingBy to calculate","body":"<p>I have a list of already sorted objects <code>Round</code> and in the middle a field <code>beginDate</code>. I would like using <code>groupingB</code>y in stream (or another method if it's better)\ncalculate the field <code>differenceDaysNumber</code> by differences of the field <code>beginDate</code> of the current element and the next element in the list, except that if the next element in the list has the same value in the field: and the larger field: <code>number</code>, then we rewrite this value to all copies.\nSomething like that, pseudocode:</p>\n<pre><code>1 ob1 (differenceDaysNumber: ob1.beginDate-ob2.beginDate)\n2 ob2 (differenceDaysNumber: ob3.beginDate-ob2.beginDate)\n3 ob3 (differenceDaysNumber: ob4.beginDate-ob3.beginDate)\n  3.1 ob3  (differenceDaysNumber: ob4.beginDate-ob3.beginDate) //this is copy with the same differenceDaysNumberas ob.3\n  3.2 ob3 (differenceDaysNumber: ob4.beginDate-ob3.beginDate)  //this is copy with the same durTime as ob.3\n4 ob4 (differenceDaysNumber: null)\n\n@Builder\n@Getter\npublic class Round {\n    \n    Integer number;\n    LocalDateTime beginDate;\n    @Setter\n    Integer differenceDaysNumber;\n}\n\n    var result = seriesInfoList.stream()\n            .collect(Collectors.groupingBy(SeriesInfo::getStartTime));  //what next ?\n\n    //input\n    List&lt;Round&gt; input = List.of(\n            new Round(1, LocalDateTime.of(2020, 12, 1, 12, 12, 12, 12), null),\n            new Round(1, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\n            new Round(2, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\n            new Round(3, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), null),\n            new Round(1, LocalDateTime.of(2020, 12, 17, 12, 12, 12, 12), null),\n            new Round(1, LocalDateTime.of(2020, 12, 12, 12, 12, 12, 12), null));\n\n    //expected result\n    List&lt;Round&gt; output = List.of(\n            new Round(1, LocalDateTime.of(2020, 12, 1, 12, 12, 12, 12), 10),\n            new Round(1, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6),\n            new Round(2, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6), //it is a copy because it has the same date and a larger number than the parent\n            new Round(3, LocalDateTime.of(2020, 12, 11, 12, 12, 12, 12), 6), //it is a copy because it has the same date and a larger number than the parent\n            new Round(3, LocalDateTime.of(2020, 12, 17, 12, 12, 12, 12), 5),\n            new Round(1, LocalDateTime.of(2020, 12, 12, 12, 12, 12, 12), null));\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"owner":{"account_id":23660170,"reputation":1,"user_id":21996574,"display_name":"Carlos Uriel Rojo Ferrer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686774949,"creation_date":1686774949,"question_id":76477352,"body_markdown":"I have developed some part of code  \r\nMy pipeline seems like this:\r\n\r\n```\r\ndb.collection.aggregate(\r\n[\r\n  {\r\n    $sort: { fraccion: 1, fec_fin: 1 },\r\n  },\r\n  {\r\n    $group: {\r\n      _id: &quot;$fraccion&quot;,\r\n      fec_fin: { $last: &quot;$fec_fin&quot; },\r\n    },\r\n  },\r\n  {\r\n    $lookup: {\r\n      from: &quot;cat_nico&quot;,\r\n      let: { tigie_fraccion: &quot;$_id&quot; },\r\n      pipeline: [\r\n        {\r\n          $match: {\r\n            $expr: {\r\n              $and: [\r\n                {\r\n                  $eq: [\r\n                    &quot;$d_fraccion&quot;,\r\n                    &quot;$$tigie_fraccion&quot;,\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n          },\r\n        },\r\n        {\r\n          $group: {\r\n            _id: &quot;$d_nico&quot;,\r\n            f_fin_vig: { $last: &quot;$f_fin_vig&quot; },\r\n          },\r\n        },\r\n        {\r\n          $project: {\r\n            _id: 0,\r\n            d_nico: &quot;$_id&quot;,\r\n            f_fin_vig: 1,\r\n          },\r\n        },\r\n      ],\r\n      as: &quot;nico&quot;,\r\n    },\r\n  },\r\n  {\r\n    $project: {\r\n      _id: 0,\r\n      fraccion: &quot;$_id&quot;,\r\n      fec_fin: 1,\r\n      nico: {\r\n        $cond: [\r\n          { $eq: [{ $size: &quot;$nico&quot; }, 0] },\r\n          [\r\n            {\r\n              d_nico: &quot;00&quot;,\r\n              f_fin_vig: &quot;$fec_fin&quot;,\r\n            },\r\n          ],\r\n          &quot;$nico&quot;,\r\n        ],\r\n      },\r\n    },\r\n  },\r\n  {\r\n    $unwind: &quot;$nico&quot;,\r\n  },\r\n  {\r\n    $set: {\r\n      nico: &quot;$nico.d_nico&quot;,\r\n      f_fin_vig: &quot;$nico.f_fin_vig&quot;,\r\n    },\r\n  },\r\n  {\r\n    $match: {\r\n      fraccion: fraccion, \r\n      nico: nico,\r\n    },\r\n  },\r\n])\r\n```\r\n\r\nMi problem when I run mi server and I got the next error:\r\n\r\nForwarding to error page from request due to exception \\[Invalid reference &#39;d_nico&#39;!\\]\r\n\r\nI have tried using addfields to create my set and directly a project but I not very Pro to solve this.  \r\nAnyone have any Ideas?\r\n\r\n```\r\nString fraccion = f.getFraccion().substring(0, 8);\r\n\t\t\t\t\tString nico = f.getFraccion().substring(8);\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tSortOperation sortOperation = sort(Direction.ASC, &quot;fraccion&quot;, &quot;fec_fin&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tGroupOperation group = group(&quot;fraccion&quot;).last(&quot;fec_fin&quot;).as(&quot;fec_fin&quot;);\r\n\r\n\t\t\t\t\tMap&lt;String, Document&gt; letOperationParameters = new HashMap&lt;&gt;();\r\n\t\t\t\t\tletOperationParameters.put(&quot;tigie_fraccion&quot;, new Document(&quot;$toString&quot;, &quot;$_id&quot;));\r\n\t\t\t\t\t\r\n\t\t\t\t\tList&lt;AggregationOperation&gt; pipeline1 = Arrays.asList(\r\n\t\t\t\t\t\t\tmatch(Criteria.where(&quot;$expr&quot;).is(new Document(&quot;$eq&quot;, Arrays.asList(&quot;$d_fraccion&quot;, &quot;$$tigie_fraccion&quot;)))),\r\n\t\t\t\t\t\t\tgroup(&quot;d_nico&quot;).last(&quot;f_fin_vig&quot;).as(&quot;f_fin_vig&quot;),\r\n\t\t\t\t\t\t\tproject().and(&quot;_id&quot;).as(&quot;d_nico&quot;).andInclude(&quot;f_fin_vig&quot;)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\tLookupPipelineOperation lookupOperation1 = new LookupPipelineOperation(\r\n\t\t\t\t\t\t\t&quot;cat_nico&quot;,\r\n\t\t\t\t\t\t\tletOperationParameters,\r\n\t\t\t\t\t\t\tpipeline1,\r\n\t\t\t\t\t\t\t&quot;nico&quot;\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\r\n\t\t\t\t\tProjectionOperation projection1 = project()\r\n\t\t\t\t\t\t\t.andExclude(&quot;_id&quot;)\r\n\t\t\t\t\t\t\t.and(&quot;_id&quot;).as(&quot;fraccion&quot;)\r\n\t\t\t\t\t\t\t.and(&quot;fec_fin&quot;).as(&quot;fec_fin&quot;)\r\n\t\t\t\t\t\t\t.and(ConditionalOperators.Cond.when(Criteria.where(&quot;$nico&quot;).size(0))\r\n\t\t\t\t\t\t\t\t\t.then(Arrays.asList(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Document(&quot;d_nico&quot;, &quot;00&quot;),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew Document(&quot;f_fin_vig&quot;, &quot;$fec_fin&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t.otherwise(&quot;$nico&quot;)\r\n\t\t\t\t\t\t\t\t\t).as(&quot;nico&quot;);\r\n\r\n\t\t\t\t\tUnwindOperation unwind = unwind(&quot;nico&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//El error radica en que d_nico no esta definido hasta este contexto y hay que renombrarlo para usarlo en las operaciones posteriores\r\n\t\t\t\t\tFields setOperation = bind(&quot;nico&quot;, &quot;$nico.d_nico&quot;).and(&quot;f_fin_vig&quot;, &quot;$nico.f_fin_vig&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tMatchOperation match = match(Criteria.where(&quot;fraccion&quot;).is(fraccion).and(&quot;nico&quot;).is(nico));\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tList&lt;AggregationOperation&gt; aggregationFilter = new ArrayList&lt;&gt;();\r\n\t\t\t\t\taggregationFilter.add(sortOperation);\r\n\t\t\t\t\taggregationFilter.add(group);\r\n\t\t\t\t\taggregationFilter.add(lookupOperation1);\r\n\t\t\t\t\taggregationFilter.add(projection1);\r\n\t\t\t\t\taggregationFilter.add(unwind);\r\n\t\t\t\t\taggregationFilter.add(setOperation);\r\n\t\t\t\t\taggregationFilter.add(match);\r\n\t\t\t\t\t\r\n\t\t\t\t\tCatTigie unique_fracc = cattigierepository.firstByAggregation(CatTigie.class, aggregationFilter);\r\n```","title":"How to create springboot Aggregation from my mongodb query","body":"<p>I have developed some part of code<br />\nMy pipeline seems like this:</p>\n<pre><code>db.collection.aggregate(\n[\n  {\n    $sort: { fraccion: 1, fec_fin: 1 },\n  },\n  {\n    $group: {\n      _id: &quot;$fraccion&quot;,\n      fec_fin: { $last: &quot;$fec_fin&quot; },\n    },\n  },\n  {\n    $lookup: {\n      from: &quot;cat_nico&quot;,\n      let: { tigie_fraccion: &quot;$_id&quot; },\n      pipeline: [\n        {\n          $match: {\n            $expr: {\n              $and: [\n                {\n                  $eq: [\n                    &quot;$d_fraccion&quot;,\n                    &quot;$$tigie_fraccion&quot;,\n                  ],\n                },\n              ],\n            },\n          },\n        },\n        {\n          $group: {\n            _id: &quot;$d_nico&quot;,\n            f_fin_vig: { $last: &quot;$f_fin_vig&quot; },\n          },\n        },\n        {\n          $project: {\n            _id: 0,\n            d_nico: &quot;$_id&quot;,\n            f_fin_vig: 1,\n          },\n        },\n      ],\n      as: &quot;nico&quot;,\n    },\n  },\n  {\n    $project: {\n      _id: 0,\n      fraccion: &quot;$_id&quot;,\n      fec_fin: 1,\n      nico: {\n        $cond: [\n          { $eq: [{ $size: &quot;$nico&quot; }, 0] },\n          [\n            {\n              d_nico: &quot;00&quot;,\n              f_fin_vig: &quot;$fec_fin&quot;,\n            },\n          ],\n          &quot;$nico&quot;,\n        ],\n      },\n    },\n  },\n  {\n    $unwind: &quot;$nico&quot;,\n  },\n  {\n    $set: {\n      nico: &quot;$nico.d_nico&quot;,\n      f_fin_vig: &quot;$nico.f_fin_vig&quot;,\n    },\n  },\n  {\n    $match: {\n      fraccion: fraccion, \n      nico: nico,\n    },\n  },\n])\n</code></pre>\n<p>Mi problem when I run mi server and I got the next error:</p>\n<p>Forwarding to error page from request due to exception [Invalid reference 'd_nico'!]</p>\n<p>I have tried using addfields to create my set and directly a project but I not very Pro to solve this.<br />\nAnyone have any Ideas?</p>\n<pre><code>String fraccion = f.getFraccion().substring(0, 8);\n                    String nico = f.getFraccion().substring(8); \n                    \n                    SortOperation sortOperation = sort(Direction.ASC, &quot;fraccion&quot;, &quot;fec_fin&quot;);\n                    \n                    GroupOperation group = group(&quot;fraccion&quot;).last(&quot;fec_fin&quot;).as(&quot;fec_fin&quot;);\n\n                    Map&lt;String, Document&gt; letOperationParameters = new HashMap&lt;&gt;();\n                    letOperationParameters.put(&quot;tigie_fraccion&quot;, new Document(&quot;$toString&quot;, &quot;$_id&quot;));\n                    \n                    List&lt;AggregationOperation&gt; pipeline1 = Arrays.asList(\n                            match(Criteria.where(&quot;$expr&quot;).is(new Document(&quot;$eq&quot;, Arrays.asList(&quot;$d_fraccion&quot;, &quot;$$tigie_fraccion&quot;)))),\n                            group(&quot;d_nico&quot;).last(&quot;f_fin_vig&quot;).as(&quot;f_fin_vig&quot;),\n                            project().and(&quot;_id&quot;).as(&quot;d_nico&quot;).andInclude(&quot;f_fin_vig&quot;)\n                            );\n                    LookupPipelineOperation lookupOperation1 = new LookupPipelineOperation(\n                            &quot;cat_nico&quot;,\n                            letOperationParameters,\n                            pipeline1,\n                            &quot;nico&quot;\n                            );\n                    \n                    ProjectionOperation projection1 = project()\n                            .andExclude(&quot;_id&quot;)\n                            .and(&quot;_id&quot;).as(&quot;fraccion&quot;)\n                            .and(&quot;fec_fin&quot;).as(&quot;fec_fin&quot;)\n                            .and(ConditionalOperators.Cond.when(Criteria.where(&quot;$nico&quot;).size(0))\n                                    .then(Arrays.asList(\n                                                    new Document(&quot;d_nico&quot;, &quot;00&quot;),\n                                                    new Document(&quot;f_fin_vig&quot;, &quot;$fec_fin&quot;)\n                                                    )\n                                            )\n                                    .otherwise(&quot;$nico&quot;)\n                                    ).as(&quot;nico&quot;);\n\n                    UnwindOperation unwind = unwind(&quot;nico&quot;);\n                    \n                    //El error radica en que d_nico no esta definido hasta este contexto y hay que renombrarlo para usarlo en las operaciones posteriores\n                    Fields setOperation = bind(&quot;nico&quot;, &quot;$nico.d_nico&quot;).and(&quot;f_fin_vig&quot;, &quot;$nico.f_fin_vig&quot;);\n                    \n                    \n                    \n                    MatchOperation match = match(Criteria.where(&quot;fraccion&quot;).is(fraccion).and(&quot;nico&quot;).is(nico));\n                                        \n                    List&lt;AggregationOperation&gt; aggregationFilter = new ArrayList&lt;&gt;();\n                    aggregationFilter.add(sortOperation);\n                    aggregationFilter.add(group);\n                    aggregationFilter.add(lookupOperation1);\n                    aggregationFilter.add(projection1);\n                    aggregationFilter.add(unwind);\n                    aggregationFilter.add(setOperation);\n                    aggregationFilter.add(match);\n                    \n                    CatTigie unique_fracc = cattigierepository.firstByAggregation(CatTigie.class, aggregationFilter);\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","spark-streaming","spark-structured-streaming"],"owner":{"account_id":21426549,"reputation":423,"user_id":15783777,"display_name":"catGPT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686774894,"creation_date":1686774894,"question_id":76477345,"body_markdown":"Same as the topic - How to use window function in spark using java apis, while performing map operation on a dataframe ?\r\n\r\nSuppose, I am performing this map operation -\r\n\r\n```\r\nLongAccumulator accum1 = spark.sparkContext().longAccumulator();\r\nLongAccumulator accum2 = spark.sparkContext().longAccumulator();\r\n\r\nDataset&lt;String&gt; deviceNamesByDF = deviceDF.map(\r\n                (MapFunction&lt;Row, String&gt;) row -&gt; {\r\n                    if(row.getString(0).equals(&quot;nexus4_1&quot;)){\r\n                        accum1.add(1);\r\n                    }\r\n                    else if(row.getString(0).equals(&quot;nexus4_2&quot;)){\r\n                        accum2.add(1);\r\n                    }\r\n                    return &quot;Model: &quot; + row.getString(0);\r\n                },\r\n                stringEncoder);\r\n```\r\n\r\nNow, I want this operation to be windowed , just like we find the occurence of some cols using windowed aggregation like this - \r\n\r\n```\r\nDataset&lt;Row&gt; windowedCounts = words.groupBy(\r\n  functions.window(words.col(&quot;timestamp&quot;), &quot;10 minutes&quot;, &quot;5 minutes&quot;),\r\n  words.col(&quot;word&quot;)\r\n).count();\r\n```\r\n\r\nHow do I achieve this ?? How do I perform map operation on windows of data ??","title":"How to use windowed aggregations in spark using java apis, while performing map operation on a dataframe?","body":"<p>Same as the topic - How to use window function in spark using java apis, while performing map operation on a dataframe ?</p>\n<p>Suppose, I am performing this map operation -</p>\n<pre><code>LongAccumulator accum1 = spark.sparkContext().longAccumulator();\nLongAccumulator accum2 = spark.sparkContext().longAccumulator();\n\nDataset&lt;String&gt; deviceNamesByDF = deviceDF.map(\n                (MapFunction&lt;Row, String&gt;) row -&gt; {\n                    if(row.getString(0).equals(&quot;nexus4_1&quot;)){\n                        accum1.add(1);\n                    }\n                    else if(row.getString(0).equals(&quot;nexus4_2&quot;)){\n                        accum2.add(1);\n                    }\n                    return &quot;Model: &quot; + row.getString(0);\n                },\n                stringEncoder);\n</code></pre>\n<p>Now, I want this operation to be windowed , just like we find the occurence of some cols using windowed aggregation like this -</p>\n<pre><code>Dataset&lt;Row&gt; windowedCounts = words.groupBy(\n  functions.window(words.col(&quot;timestamp&quot;), &quot;10 minutes&quot;, &quot;5 minutes&quot;),\n  words.col(&quot;word&quot;)\n).count();\n</code></pre>\n<p>How do I achieve this ?? How do I perform map operation on windows of data ??</p>\n"},{"tags":["java","google-apps-script","google-drive-shared-drive"],"comments":[{"owner":{"account_id":9729507,"reputation":61490,"user_id":7215091,"accept_rate":71,"display_name":"Cooper"},"score":0,"creation_date":1686774803,"post_id":76477288,"comment_id":134847197,"body_markdown":"getFolderById() does not return an iterator.  So your loop won&#39;t work. https://developers.google.com/apps-script/reference/drive/drive-app#getFolderById(String)","body":"getFolderById() does not return an iterator.  So your loop won&#39;t work. <a href=\"https://developers.google.com/apps-script/reference/drive/drive-app#getFolderById(String)\" rel=\"nofollow noreferrer\">developers.google.com/apps-script/reference/drive/&hellip;</a>"}],"owner":{"account_id":28822865,"reputation":1,"user_id":22074992,"display_name":"user22074992"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686774351,"creation_date":1686774298,"question_id":76477288,"body_markdown":"I am trying to create backups of a google sheet to a file and organize it by date. The Parent file will remain constant and I am basing my code on that folder, but the first child folder would need to be the month (in this case June) and then a child folder with the file type name (in this case BackupEX). So I am trying to select the folder by the parent folder ID and iterate through the first and second child folders to paste the backup since the months will keep changing and would necessitate new Id&#39;s. \r\n\r\n\r\n\r\nOnce the correct file is found I would need it to move the copied file into this folder. But I keep getting TypeError: folders.hasNext is not a function. Any thoughts or better processes to achieve this? \r\n\r\n```\r\n\r\nvar parentFileID = &#39;(obmitted)&#39;;\r\nvar childFolderName = &#39;June 2023&#39;\r\nvar childFolderName2 = &#39;BackupEX&#39;\r\n\r\nvar folders = DriveApp.getFolderById(parentFileID);\r\nwhile(folders.hasNext()){\r\n  var folder = subFolders.next();\r\n\r\n  if(folder.getName() === childFolderName){\r\n    return newFolder.getID();\r\n  }\r\n  if(folder.getName() === childFolderName2){\r\n  return newFolder2.getID();\r\n  }\r\n  DriveApp.getFileById(id).moveTo(newFolder2)\r\n}\r\n```\r\n","title":"Select parent google drive folder by id, specify child folder then move a document into the child folder app script","body":"<p>I am trying to create backups of a google sheet to a file and organize it by date. The Parent file will remain constant and I am basing my code on that folder, but the first child folder would need to be the month (in this case June) and then a child folder with the file type name (in this case BackupEX). So I am trying to select the folder by the parent folder ID and iterate through the first and second child folders to paste the backup since the months will keep changing and would necessitate new Id's.</p>\n<p>Once the correct file is found I would need it to move the copied file into this folder. But I keep getting TypeError: folders.hasNext is not a function. Any thoughts or better processes to achieve this?</p>\n<pre><code>\nvar parentFileID = '(obmitted)';\nvar childFolderName = 'June 2023'\nvar childFolderName2 = 'BackupEX'\n\nvar folders = DriveApp.getFolderById(parentFileID);\nwhile(folders.hasNext()){\n  var folder = subFolders.next();\n\n  if(folder.getName() === childFolderName){\n    return newFolder.getID();\n  }\n  if(folder.getName() === childFolderName2){\n  return newFolder2.getID();\n  }\n  DriveApp.getFileById(id).moveTo(newFolder2)\n}\n</code></pre>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1686770854,"post_id":76443343,"comment_id":134846515,"body_markdown":"I don&#39;t have access to the app box due to security restrictions so I am unable to try what you suggested. I guess the issue is caused by dynamic scaling of consumers and the value of maxMessagesPerTask (prefetch). I have set concurrentConsumers = maxConcurrentConsumers, maxMessagesPerTask = 0, and started the app. I will see if the issue occur in next several days.","body":"I don&#39;t have access to the app box due to security restrictions so I am unable to try what you suggested. I guess the issue is caused by dynamic scaling of consumers and the value of maxMessagesPerTask (prefetch). I have set concurrentConsumers = maxConcurrentConsumers, maxMessagesPerTask = 0, and started the app. I will see if the issue occur in next several days."},{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1686862627,"post_id":76443343,"comment_id":134860575,"body_markdown":"What acknowledgement mode?  1 message dispatched and 0 dequeued means the broker has not received the &#39;ack&#39; for the message using AUTO_ACK, or the transaction is not committed (SESSION_TRANSACTED ackMode)","body":"What acknowledgement mode?  1 message dispatched and 0 dequeued means the broker has not received the &#39;ack&#39; for the message using AUTO_ACK, or the transaction is not committed (SESSION_TRANSACTED ackMode)"},{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1686925361,"post_id":76443343,"comment_id":134869819,"body_markdown":"The ack mode is AUTO_ACKNOWLEDGE. After some msgs got stuck, the listener method onMessage() was not called at all when a new msg had been put into the Q.","body":"The ack mode is AUTO_ACKNOWLEDGE. After some msgs got stuck, the listener method onMessage() was not called at all when a new msg had been put into the Q."},{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1687032684,"post_id":76443343,"comment_id":134881557,"body_markdown":"Why is maxMessagesPerTask set to 0?  Try setting it to 1","body":"Why is maxMessagesPerTask set to 0?  Try setting it to 1"},{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1687054190,"post_id":76443343,"comment_id":134882985,"body_markdown":"It is equivalent to prefetch = 0, which makes consumer pulls message. In this situation, it is impossible for messages to stuck in an inactive consumer.","body":"It is equivalent to prefetch = 0, which makes consumer pulls message. In this situation, it is impossible for messages to stuck in an inactive consumer."},{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1687184461,"post_id":76443343,"comment_id":134897538,"body_markdown":"What version of ActiveMQ, Spring, etc?","body":"What version of ActiveMQ, Spring, etc?"},{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1687288042,"post_id":76443343,"comment_id":134914936,"body_markdown":"ActiveMQ 5.16.5, springframework 5.32.4, java8","body":"ActiveMQ 5.16.5, springframework 5.32.4, java8"},{"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"score":0,"creation_date":1687288819,"post_id":76443343,"comment_id":134915060,"body_markdown":"It has been 5 days passed since I set prefetch to 0. No stuck messages occur.","body":"It has been 5 days passed since I set prefetch to 0. No stuck messages occur."}],"owner":{"account_id":27297893,"reputation":11,"user_id":20815239,"display_name":"szciz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686774107,"creation_date":1686341110,"question_id":76443343,"body_markdown":"I have a Spring application that consumes messages from ActiveMQ. The app runs fine initially. However, after a couple of days it stops consuming messages. The ActiveMQ Web Console shows that 1 enqueued, 0 dequeued, 1 dispatched, 1 is in Dispatched Queue. \r\n\r\nIf I restart the app the messages in Dispatched Queue get consumed and new messages are consumed as expected.\r\n\r\nIf I didn&#39;t take any action the after another one or two days the message in Dispatched Queue is eventually consumed. But the new messages go to Dispatched Queue again.\r\n\r\nFollowing is the configuration:\r\n```xml\r\n\t&lt;bean id=&quot;baseConnectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQSslConnectionFactory&quot;&gt;&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;singleConnectionFactory&quot; class=&quot;org.springframework.jms.connection.SingleConnectionFactory&quot;&gt;\r\n\t\t&lt;property name=&quot;targetConnectionFactory&quot; ref=&quot;baseConnectionFactory&quot;/&gt;\r\n\t\t&lt;property name=&quot;reconnectOnException&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;requestListenerContainer&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\r\n\t  &lt;property name=&quot;concurrentConsumers&quot; value=&quot;5&quot;/&gt;\r\n\t  &lt;property name=&quot;maxConcurrentConsumers&quot; value=&quot;10&quot;/&gt;\r\n\t  &lt;property name=&quot;idleTaskExecutionLimit&quot; value=&quot;5&quot;/&gt;\r\n\t  &lt;property name=&quot;maxMessagesPerTask&quot; value=&quot;1000&quot;/&gt;\r\n\t  &lt;property name=&quot;receiveTimeout&quot; value=&quot;${mq.i94dataentry.receivetimeout}&quot;/&gt;\r\n\t  &lt;property name=&quot;connectionFactory&quot; ref=&quot;singleConnectionFactory&quot; /&gt;\r\n\t  ...\r\n\t&lt;/bean&gt;\r\n```\r\nWhat could be the possible reason for this scenario?\r\n\r\nI don&#39;t have access to the app box due to security restrictions so I am unable to acquire any [thread dumps][1]. I guess the issue is caused by dynamic scaling of consumers and the value of `maxMessagesPerTask` (prefetch). I have set `concurrentConsumers` equal to `maxConcurrentConsumers` and `maxMessagesPerTask` to `0` and started the app. I will see if the issue occur in next several days. \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-thread-dump","title":"What is possible reason for messages stuck in Dispatched Queue of ActiveMQ","body":"<p>I have a Spring application that consumes messages from ActiveMQ. The app runs fine initially. However, after a couple of days it stops consuming messages. The ActiveMQ Web Console shows that 1 enqueued, 0 dequeued, 1 dispatched, 1 is in Dispatched Queue.</p>\n<p>If I restart the app the messages in Dispatched Queue get consumed and new messages are consumed as expected.</p>\n<p>If I didn't take any action the after another one or two days the message in Dispatched Queue is eventually consumed. But the new messages go to Dispatched Queue again.</p>\n<p>Following is the configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;bean id=&quot;baseConnectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQSslConnectionFactory&quot;&gt;&lt;/bean&gt;\n\n    &lt;bean id=&quot;singleConnectionFactory&quot; class=&quot;org.springframework.jms.connection.SingleConnectionFactory&quot;&gt;\n        &lt;property name=&quot;targetConnectionFactory&quot; ref=&quot;baseConnectionFactory&quot;/&gt;\n        &lt;property name=&quot;reconnectOnException&quot; value=&quot;true&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;requestListenerContainer&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\n      &lt;property name=&quot;concurrentConsumers&quot; value=&quot;5&quot;/&gt;\n      &lt;property name=&quot;maxConcurrentConsumers&quot; value=&quot;10&quot;/&gt;\n      &lt;property name=&quot;idleTaskExecutionLimit&quot; value=&quot;5&quot;/&gt;\n      &lt;property name=&quot;maxMessagesPerTask&quot; value=&quot;1000&quot;/&gt;\n      &lt;property name=&quot;receiveTimeout&quot; value=&quot;${mq.i94dataentry.receivetimeout}&quot;/&gt;\n      &lt;property name=&quot;connectionFactory&quot; ref=&quot;singleConnectionFactory&quot; /&gt;\n      ...\n    &lt;/bean&gt;\n</code></pre>\n<p>What could be the possible reason for this scenario?</p>\n<p>I don't have access to the app box due to security restrictions so I am unable to acquire any <a href=\"https://www.baeldung.com/java-thread-dump\" rel=\"nofollow noreferrer\">thread dumps</a>. I guess the issue is caused by dynamic scaling of consumers and the value of <code>maxMessagesPerTask</code> (prefetch). I have set <code>concurrentConsumers</code> equal to <code>maxConcurrentConsumers</code> and <code>maxMessagesPerTask</code> to <code>0</code> and started the app. I will see if the issue occur in next several days.</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":4714434,"reputation":41866,"user_id":3814029,"accept_rate":67,"display_name":"Andy Guibert"},"score":2,"creation_date":1469983848,"post_id":38682483,"comment_id":64751621,"body_markdown":"The exception comes from when you try `Class.forName(&quot;....OracleDriver&quot;)` because you don&#39;t have the Oracle JDBC classes on your classpath.  There are many, many other questions exactly like this, a quick google search will get you an answer.","body":"The exception comes from when you try <code>Class.forName(&quot;....OracleDriver&quot;)</code> because you don&#39;t have the Oracle JDBC classes on your classpath.  There are many, many other questions exactly like this, a quick google search will get you an answer."}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1470140416,"creation_date":1470139817,"answer_id":38720060,"question_id":38682483,"body_markdown":"The reason why you encounter this Exception is, that you use the wrong package to refer to the `OracleDriver` class\r\n\r\nTherefore, you should change the incorrect class load call \r\n\r\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\ninto \r\n\r\n    Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n     \r\nas this class file implements the `java.sql.Driver` interface which is actually checked for at runtime.\r\n\r\nFor reference, see also the description in the [official JavaDoc][1] provided by Oracle: \r\n&gt; The Oracle JDBC driver class that implements the java.sql.Driver interface.\r\n\r\n  [1]: http://download.oracle.com/otn_hosted_doc/jdeveloper/905/jdbc-javadoc/oracle/jdbc/OracleDriver.html","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<p>The reason why you encounter this Exception is, that you use the wrong package to refer to the <code>OracleDriver</code> class</p>\n\n<p>Therefore, you should change the incorrect class load call </p>\n\n<pre><code>Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n</code></pre>\n\n<p>into </p>\n\n<pre><code>Class.forName(\"oracle.jdbc.OracleDriver\");\n</code></pre>\n\n<p>as this class file implements the <code>java.sql.Driver</code> interface which is actually checked for at runtime.</p>\n\n<p>For reference, see also the description in the <a href=\"http://download.oracle.com/otn_hosted_doc/jdeveloper/905/jdbc-javadoc/oracle/jdbc/OracleDriver.html\" rel=\"noreferrer\">official JavaDoc</a> provided by Oracle: </p>\n\n<blockquote>\n  <p>The Oracle JDBC driver class that implements the java.sql.Driver interface.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10786363,"reputation":31,"user_id":7935241,"display_name":"Gopinath Padala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568372086,"creation_date":1493720564,"answer_id":43735529,"question_id":38682483,"body_markdown":"## Solution\r\n\r\n* 1) Firstly download `ojdbc6.jar` and `ojdbc6_g.jar` from google.\r\n\r\n* 2) If you are connecting to Oracle 11g from Java and running on version Java 6 then include `ojdbc6.jar` or `ojdbc6_g.jar` in your application&#39;s classpath.\r\n\r\n* 3) Once you complete the download, paste the files in `C:\\Program Files\\Java\\jdk1.6.0_23\\jre\\lib\\ext folder`.\r\n\r\n","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<h2>Solution</h2>\n\n<ul>\n<li><p>1) Firstly download <code>ojdbc6.jar</code> and <code>ojdbc6_g.jar</code> from google.</p></li>\n<li><p>2) If you are connecting to Oracle 11g from Java and running on version Java 6 then include <code>ojdbc6.jar</code> or <code>ojdbc6_g.jar</code> in your application's classpath.</p></li>\n<li><p>3) Once you complete the download, paste the files in <code>C:\\Program Files\\Java\\jdk1.6.0_23\\jre\\lib\\ext folder</code>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1800297,"reputation":59,"user_id":1638818,"display_name":"Touseef Zaki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570676587,"creation_date":1570676587,"answer_id":58314859,"question_id":38682483,"body_markdown":"This is just a reference solution for those who has Java 1.8 and oracle Version 12+. In my case i had Java 1.8 therefore downloading oracle8.jar and placing that in the classpath as mentioned above helped to solve my problem.","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<p>This is just a reference solution for those who has Java 1.8 and oracle Version 12+. In my case i had Java 1.8 therefore downloading oracle8.jar and placing that in the classpath as mentioned above helped to solve my problem.</p>\n"},{"tags":[],"owner":{"account_id":6679023,"reputation":1,"user_id":5152808,"display_name":"alexander perlov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686774079,"creation_date":1686595408,"answer_id":76459449,"question_id":38682483,"body_markdown":"You have to run `startNetworkServer` within derby Folder (using cmd.exe). Typically, you will get port 1527; then in Eclipse -&gt; Properties -&gt; java path -&gt; classpath you add .jar by browsing to `derby/lib/derbyclient.jar;` finally within java class with main() method you get \r\n\r\n`connection = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/nameOfDataBase&quot;);`\r\n\r\nEnjoy.","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<p>You have to run <code>startNetworkServer</code> within derby Folder (using cmd.exe). Typically, you will get port 1527; then in Eclipse -&gt; Properties -&gt; java path -&gt; classpath you add .jar by browsing to <code>derby/lib/derbyclient.jar;</code> finally within java class with main() method you get</p>\n<p><code>connection = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/nameOfDataBase&quot;);</code></p>\n<p>Enjoy.</p>\n"}],"owner":{"account_id":8924382,"reputation":502,"user_id":6659523,"accept_rate":25,"display_name":"Mohit Prakash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24360,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":38720060,"answer_count":4,"score":2,"last_activity_date":1686774079,"creation_date":1469956490,"question_id":38682483,"body_markdown":"There is a problem at runtime with this code which is :\r\n\r\n&gt;     java.lang.classNotFoundException: oracle:jdbc:driver:OracleDriver\r\n\r\nbut another program of same JDBC driver are run properly but this JDBC driver is found a exception in java applet. So please help me for this problem. \r\n\r\n*I&#39;m new in Java.*\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.applet.*;\r\n    import java.sql.*;\r\n    import java.io.*;\r\n\r\n    /*&lt;applet code=&quot;EmpDetails&quot; width=300 height=500&gt;&lt;/applet&gt;*/\r\n\r\n    public class EmpDetails extends Applet implements ActionListener{\r\n\tTextField firstName, lastName, userId, pass, email, phone;\r\n\tButton submit,cancel;\r\n\tString msg = &quot;&quot;;\r\n\t\r\n\tpublic void init(){\r\n\t\r\n\t\tsetLayout(new GridLayout(10,2,0,30));\r\n\t\t\r\n\t\t\r\n\t\tLabel fname = new Label(&quot;First Name : &quot;);\r\n\t\tLabel lname = new Label(&quot;\\nLast Name : &quot;);\r\n\t\tLabel uid = new Label(&quot;User Id : &quot;);\r\n\t\tLabel pas = new Label(&quot;Password : &quot;);\r\n\t\tLabel emailid = new Label(&quot;Email Id : &quot;);\r\n\t\tLabel ph = new Label(&quot;Phone : &quot;);\r\n\t\t\r\n\t\tfirstName = new TextField(10);\r\n\t\tlastName = new TextField(10);\r\n\t\tuserId = new TextField(16);\r\n\t\tpass = new TextField(16);\r\n\t\temail = new TextField(30);\r\n\t\tphone = new TextField(12);\r\n\t\tpass.setEchoChar(&#39;*&#39;);\r\n\t\t\r\n\t\tsubmit = new Button(&quot;Submit&quot;);\r\n\t\tcancel = new Button(&quot;Cancel&quot;);\r\n\t\t\r\n\t\tadd(fname);\r\n\t\tadd(firstName);\r\n\t\t\r\n\t\tadd(lname);\r\n\t\tadd(lastName);\r\n\t\tadd(uid);\r\n\t\tadd(userId);\r\n\t\tadd(pas);\r\n\t\tadd(pass);\r\n\t\tadd(emailid);\r\n\t\tadd(email);\r\n\t\tadd(ph);\r\n\t\tadd(phone);\r\n\t\tadd(submit);\r\n\t\tadd(cancel);\r\n\t\t\r\n\t\tfirstName.addActionListener(this);\r\n\t\tlastName.addActionListener(this);\r\n\t\tuserId.addActionListener(this);\r\n\t\tpass.addActionListener(this);\r\n\t\temail.addActionListener(this);\r\n\t\tphone.addActionListener(this);\r\n\t\tsubmit.addActionListener(this);\r\n\t\tcancel.addActionListener(this);\r\n\t\t}\r\n\t\tpublic void actionPerformed(ActionEvent ae)\r\n\t\t{\r\n\t\t\tString str = ae.getActionCommand();\r\n\t\t\tif(str.equals(&quot;Submit&quot;))\r\n\t\t\t{\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\t\t\t\t\tString url = &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;;\r\n\t\t\t\t\t\tString id = &quot;system&quot;;\r\n\t\t\t\t\t\tString passw = &quot;root&quot;;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tConnection con = DriverManager.getConnection(url , id , passw);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tStatement st = con.createStatement();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString u,fn,ln,ps,em,pn;\r\n\t\t\t\t\t\tu = userId.getText();\r\n\t\t\t\t\t\tfn = firstName.getText();\r\n\t\t\t\t\t\tln = lastName.getText();\r\n\t\t\t\t\t\tps = pass.getText();\r\n\t\t\t\t\t\tem = email.getText();\r\n\t\t\t\t\t\tpn = phone.getText();\r\n\t\t\t\t\t\tString urld = &quot;INSERT INTO EMPDETAILS(id,firstname,lastname,email,password,phone)&quot; + &quot;values&quot; + &quot;(&#39;&quot; + u + &quot;&#39;,&#39;&quot; + fn + &quot;&#39;,&#39;&quot; + ln + &quot;&#39;,&#39;&quot; + em + &quot;&#39;,&#39;&quot; + ps + &quot;&#39;,&#39;&quot; + pn + &quot;&#39;)&quot;;\r\n\t\t\t\t\t\tst.executeUpdate(urld);\r\n\t\t\t\t\t\tcon.close();\r\n\t\t\t\t\t\tst.close();\r\n\t\t\t\t\t\tmsg = &quot;Recode added successfull &quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcatch(Exception e){ msg = e.toString();}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse{\r\n\t\t\t\tmsg = &quot;No any data added&quot;;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\trepaint();\r\n\t\t}\r\n\t\tpublic void paint(Graphics g){\r\n\t\t\tg.drawString(msg,6,300);\r\n\t\t\t\r\n\t\t\r\n        }\r\n    }","title":"How to solve &quot;java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver&quot; at runtime?","body":"<p>There is a problem at runtime with this code which is :</p>\n\n<blockquote>\n<pre><code>java.lang.classNotFoundException: oracle:jdbc:driver:OracleDriver\n</code></pre>\n</blockquote>\n\n<p>but another program of same JDBC driver are run properly but this JDBC driver is found a exception in java applet. So please help me for this problem. </p>\n\n<p><em>I'm new in Java.</em></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.applet.*;\nimport java.sql.*;\nimport java.io.*;\n\n/*&lt;applet code=\"EmpDetails\" width=300 height=500&gt;&lt;/applet&gt;*/\n\npublic class EmpDetails extends Applet implements ActionListener{\nTextField firstName, lastName, userId, pass, email, phone;\nButton submit,cancel;\nString msg = \"\";\n\npublic void init(){\n\n    setLayout(new GridLayout(10,2,0,30));\n\n\n    Label fname = new Label(\"First Name : \");\n    Label lname = new Label(\"\\nLast Name : \");\n    Label uid = new Label(\"User Id : \");\n    Label pas = new Label(\"Password : \");\n    Label emailid = new Label(\"Email Id : \");\n    Label ph = new Label(\"Phone : \");\n\n    firstName = new TextField(10);\n    lastName = new TextField(10);\n    userId = new TextField(16);\n    pass = new TextField(16);\n    email = new TextField(30);\n    phone = new TextField(12);\n    pass.setEchoChar('*');\n\n    submit = new Button(\"Submit\");\n    cancel = new Button(\"Cancel\");\n\n    add(fname);\n    add(firstName);\n\n    add(lname);\n    add(lastName);\n    add(uid);\n    add(userId);\n    add(pas);\n    add(pass);\n    add(emailid);\n    add(email);\n    add(ph);\n    add(phone);\n    add(submit);\n    add(cancel);\n\n    firstName.addActionListener(this);\n    lastName.addActionListener(this);\n    userId.addActionListener(this);\n    pass.addActionListener(this);\n    email.addActionListener(this);\n    phone.addActionListener(this);\n    submit.addActionListener(this);\n    cancel.addActionListener(this);\n    }\n    public void actionPerformed(ActionEvent ae)\n    {\n        String str = ae.getActionCommand();\n        if(str.equals(\"Submit\"))\n        {\n                try{\n                    Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n                    String url = \"jdbc:oracle:thin:@localhost:1521:XE\";\n                    String id = \"system\";\n                    String passw = \"root\";\n\n                    Connection con = DriverManager.getConnection(url , id , passw);\n\n                    Statement st = con.createStatement();\n\n                    String u,fn,ln,ps,em,pn;\n                    u = userId.getText();\n                    fn = firstName.getText();\n                    ln = lastName.getText();\n                    ps = pass.getText();\n                    em = email.getText();\n                    pn = phone.getText();\n                    String urld = \"INSERT INTO EMPDETAILS(id,firstname,lastname,email,password,phone)\" + \"values\" + \"('\" + u + \"','\" + fn + \"','\" + ln + \"','\" + em + \"','\" + ps + \"','\" + pn + \"')\";\n                    st.executeUpdate(urld);\n                    con.close();\n                    st.close();\n                    msg = \"Recode added successfull \";\n                }\n\n                catch(Exception e){ msg = e.toString();}\n        }\n\n        else{\n            msg = \"No any data added\";\n\n        }\n        repaint();\n    }\n    public void paint(Graphics g){\n        g.drawString(msg,6,300);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","time-complexity","intellij-plugin","cyclomatic-complexity"],"answers":[{"tags":[],"owner":{"account_id":179691,"reputation":7704,"user_id":412519,"accept_rate":88,"display_name":"Raymund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686773747,"creation_date":1686773747,"answer_id":76477228,"question_id":74112861,"body_markdown":"To answer you first question here is the definition of those metrics in question\r\n\r\n - **CogC** - Cognitive complexity is essential for controlling and confirming high degrees of software maintainability which often\r\n   involves software change. \r\n   \r\n - **ev(G)** - Essential Complexity Metric is a measure of the degree to which a module contains unstructured constructs. This metric measures\r\n   the degree of structuredness and the quality of the code. It is used\r\n   to predict the maintenance effort and to help in the modularization\r\n   process.\r\n   \r\n - **iv(G)** - Module Design Complexity Metric is the complexity of the design-reduced module and reflects the complexity of the module&#39;s\r\n   calling patterns to its immediate subordinate modules. This metric\r\n   differentiates between modules which will seriously complicate the\r\n   design of any program they are part of and modules which simply\r\n   contain complex computational logic. \r\n   \r\n - **v(G)** - Cyclomatic Complexity is a measure of the complexity of a module&#39;s decision structure. It is the number of linearly independent\r\n   paths and therefore, the minimum number of paths that should be\r\n   tested.\r\n\r\nSources: \r\n\r\nhttps://www.sciencedirect.com/science/article/abs/pii/S0950584918301903\r\nhttp://www.mccabe.com/iq_research_metrics.htm","title":"Cyclomatic Complexity in Intellij","body":"<p>To answer you first question here is the definition of those metrics in question</p>\n<ul>\n<li><p><strong>CogC</strong> - Cognitive complexity is essential for controlling and confirming high degrees of software maintainability which often\ninvolves software change.</p>\n</li>\n<li><p><strong>ev(G)</strong> - Essential Complexity Metric is a measure of the degree to which a module contains unstructured constructs. This metric measures\nthe degree of structuredness and the quality of the code. It is used\nto predict the maintenance effort and to help in the modularization\nprocess.</p>\n</li>\n<li><p><strong>iv(G)</strong> - Module Design Complexity Metric is the complexity of the design-reduced module and reflects the complexity of the module's\ncalling patterns to its immediate subordinate modules. This metric\ndifferentiates between modules which will seriously complicate the\ndesign of any program they are part of and modules which simply\ncontain complex computational logic.</p>\n</li>\n<li><p><strong>v(G)</strong> - Cyclomatic Complexity is a measure of the complexity of a module's decision structure. It is the number of linearly independent\npaths and therefore, the minimum number of paths that should be\ntested.</p>\n</li>\n</ul>\n<p>Sources:</p>\n<p><a href=\"https://www.sciencedirect.com/science/article/abs/pii/S0950584918301903\" rel=\"nofollow noreferrer\">https://www.sciencedirect.com/science/article/abs/pii/S0950584918301903</a>\n<a href=\"http://www.mccabe.com/iq_research_metrics.htm\" rel=\"nofollow noreferrer\">http://www.mccabe.com/iq_research_metrics.htm</a></p>\n"}],"owner":{"account_id":26412918,"reputation":3,"user_id":20222257,"display_name":"Ben Sailor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76477228,"answer_count":1,"score":0,"last_activity_date":1686773747,"creation_date":1666103977,"question_id":74112861,"body_markdown":"I was working on an assignment today that basically asked us to write a Java program that checks if HTML syntax is valid in a text file. Pretty simple assignment, I did it very quickly, but in doing it so quickly I made it very convoluted (lots of loops and if statements). I know I can make it a lot simpler, and I will before turning it in, but Amid my procrastination, I started downloading plugins and seeing what information they could give me. \r\n\r\nI downloaded two in particular that I&#39;m curious about - CodeMetrics and MetricsReloaded. I was wondering what exactly these numbers that it generates correlate to. I saw one post that was semi-similar, and I read it as well as the linked articles, but I&#39;m still having some trouble understanding a couple of things. Namely, what the first two columns (CogC and ev(G)), as well as some more clarification on the other two (iv(G) and v(G)), mean.\r\n\r\nMetricsReloaded Method Metrics:\r\n\r\n![MetricsReloaded Method Metrics][1]\r\n\r\nMetricsReloaded Class Metrics:\r\n\r\n![MetricsReloaded Class Metrics][2]\r\n\r\nThese previous numbers are from MetricsReloaded, but this other application, CodeMetrics, which also calculates cyclomatic complexity gives slightly different numbers. I was wondering how these numbers correlate and if someone could just give a brief general explanation of all this. \r\n\r\nCodeMetrics Analysis Results:\r\n\r\n![CodeMetrics Analysis Results][3]\r\n\r\nMy final question is about time complexity. My understanding of Cyclomatic complexity is that it is the number of possible paths of execution and that it is determined by the number of conditionals and how they are nested. It doesn&#39;t seem like it would, but does this correlate in any way to time complexity? And if so, is there a conversion between them that can be easily done? If not, is there a way in either of these plug-ins (or any other in IntelliJ) that can automate time complexity calculations?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2yGo2.png\r\n  [2]: https://i.stack.imgur.com/K8guT.png\r\n  [3]: https://i.stack.imgur.com/5xJsn.png","title":"Cyclomatic Complexity in Intellij","body":"<p>I was working on an assignment today that basically asked us to write a Java program that checks if HTML syntax is valid in a text file. Pretty simple assignment, I did it very quickly, but in doing it so quickly I made it very convoluted (lots of loops and if statements). I know I can make it a lot simpler, and I will before turning it in, but Amid my procrastination, I started downloading plugins and seeing what information they could give me.</p>\n<p>I downloaded two in particular that I'm curious about - CodeMetrics and MetricsReloaded. I was wondering what exactly these numbers that it generates correlate to. I saw one post that was semi-similar, and I read it as well as the linked articles, but I'm still having some trouble understanding a couple of things. Namely, what the first two columns (CogC and ev(G)), as well as some more clarification on the other two (iv(G) and v(G)), mean.</p>\n<p>MetricsReloaded Method Metrics:</p>\n<p><img src=\"https://i.stack.imgur.com/2yGo2.png\" alt=\"MetricsReloaded Method Metrics\" /></p>\n<p>MetricsReloaded Class Metrics:</p>\n<p><img src=\"https://i.stack.imgur.com/K8guT.png\" alt=\"MetricsReloaded Class Metrics\" /></p>\n<p>These previous numbers are from MetricsReloaded, but this other application, CodeMetrics, which also calculates cyclomatic complexity gives slightly different numbers. I was wondering how these numbers correlate and if someone could just give a brief general explanation of all this.</p>\n<p>CodeMetrics Analysis Results:</p>\n<p><img src=\"https://i.stack.imgur.com/5xJsn.png\" alt=\"CodeMetrics Analysis Results\" /></p>\n<p>My final question is about time complexity. My understanding of Cyclomatic complexity is that it is the number of possible paths of execution and that it is determined by the number of conditionals and how they are nested. It doesn't seem like it would, but does this correlate in any way to time complexity? And if so, is there a conversion between them that can be easily done? If not, is there a way in either of these plug-ins (or any other in IntelliJ) that can automate time complexity calculations?</p>\n"},{"tags":["java","firebase","firebase-realtime-database","hacker-news-api"],"comments":[{"owner":{"account_id":14690143,"reputation":75,"user_id":10609033,"display_name":"J. Cool"},"score":0,"creation_date":1686845557,"post_id":76477190,"comment_id":134857337,"body_markdown":"@smitop I see that you helped solve: https://stackoverflow.com/questions/69518903/how-can-i-access-the-hacker-news-api-using-the-firebase-sdk. Do you have any idea how I could fix my similar issue?","body":"@smitop I see that you helped solve: <a href=\"https://stackoverflow.com/questions/69518903/how-can-i-access-the-hacker-news-api-using-the-firebase-sdk\" title=\"how can i access the hacker news api using the firebase sdk\">stackoverflow.com/questions/69518903/&hellip;</a>. Do you have any idea how I could fix my similar issue?"}],"owner":{"account_id":14690143,"reputation":75,"user_id":10609033,"display_name":"J. Cool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686773232,"creation_date":1686773232,"question_id":76477190,"body_markdown":"I&#39;m trying to use the HN firebase api to get realtime updates from HN but none of my event listeners are firing.\r\n\r\nI tried to do things like in this post: https://stackoverflow.com/questions/69518903/how-can-i-access-the-hacker-news-api-using-the-firebase-sdk but couldn&#39;t get it to work.\r\n\r\nHere&#39;s the code that I&#39;m using:\r\n```\r\nString hnApiCredsFile = &quot;/blah/blah/hn-firebase-adminsdk-foobar.json&quot;;\r\nString dbUrl = &quot;https://hacker-news.firebaseio.com&quot;;\r\n\r\nFileInputStream serviceAccount =\r\n                new FileInputStream(hnApiCredsFile);\r\n\r\nFirebaseOptions options = new FirebaseOptions.Builder()\r\n.setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n.setDatabaseUrl(dbUrl)\r\n.build();\r\n\r\nFirebaseApp.initializeApp(options);\r\n\r\nfinal FirebaseDatabase database = FirebaseDatabase.getInstance();\r\nDatabaseReference dbRef = database.getReference();\r\nDatabaseReference ref = dbRef.child(&quot;v0/user&quot;).child(&quot;jl&quot;);\r\nThread thread = new Thread(new ShowDbChanges(dbRef));\r\nthread.run();\r\n\r\ntry {\r\n System.out.println(&quot;About to sleep&quot;);\r\n Thread.sleep(100 * 1000 * 10);\r\n} catch (InterruptedException e) {\r\n e.printStackTrace();\r\n}\r\n\r\n```\r\nThe ShowDbChanges.java class is:\r\n```\r\npublic class ShowDbChanges implements Runnable {\r\n\r\n    private DatabaseReference dbRef;\r\n\r\n    public ShowDbChanges(DatabaseReference dbRef) {\r\n        this.dbRef = dbRef;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        dbRef.addValueEventListener(new ValueEventListener() {\r\n\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Object document = dataSnapshot.getValue();\r\n                System.out.println(document);\r\n            }\r\n\r\n\r\n            public void onCancelled(DatabaseError error) {\r\n                System.out.print(&quot;Error: &quot; + error.getMessage());\r\n            }\r\n        });\r\n\r\n        dbRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Object document = dataSnapshot.getValue();\r\n                System.out.println(document);\r\n            }\r\n\r\n\r\n            public void onCancelled(DatabaseError error) {\r\n                System.out.print(&quot;Error: &quot; + error.getMessage());\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\nHow do I listen to realtime updates on the firebase SDK for HN?","title":"How to use Hacker News firebase realtime api using the Firebase SDK?","body":"<p>I'm trying to use the HN firebase api to get realtime updates from HN but none of my event listeners are firing.</p>\n<p>I tried to do things like in this post: <a href=\"https://stackoverflow.com/questions/69518903/how-can-i-access-the-hacker-news-api-using-the-firebase-sdk\">How can I access the Hacker News API using the Firebase SDK?</a> but couldn't get it to work.</p>\n<p>Here's the code that I'm using:</p>\n<pre><code>String hnApiCredsFile = &quot;/blah/blah/hn-firebase-adminsdk-foobar.json&quot;;\nString dbUrl = &quot;https://hacker-news.firebaseio.com&quot;;\n\nFileInputStream serviceAccount =\n                new FileInputStream(hnApiCredsFile);\n\nFirebaseOptions options = new FirebaseOptions.Builder()\n.setCredentials(GoogleCredentials.fromStream(serviceAccount))\n.setDatabaseUrl(dbUrl)\n.build();\n\nFirebaseApp.initializeApp(options);\n\nfinal FirebaseDatabase database = FirebaseDatabase.getInstance();\nDatabaseReference dbRef = database.getReference();\nDatabaseReference ref = dbRef.child(&quot;v0/user&quot;).child(&quot;jl&quot;);\nThread thread = new Thread(new ShowDbChanges(dbRef));\nthread.run();\n\ntry {\n System.out.println(&quot;About to sleep&quot;);\n Thread.sleep(100 * 1000 * 10);\n} catch (InterruptedException e) {\n e.printStackTrace();\n}\n\n</code></pre>\n<p>The ShowDbChanges.java class is:</p>\n<pre><code>public class ShowDbChanges implements Runnable {\n\n    private DatabaseReference dbRef;\n\n    public ShowDbChanges(DatabaseReference dbRef) {\n        this.dbRef = dbRef;\n    }\n\n    @Override\n    public void run() {\n        dbRef.addValueEventListener(new ValueEventListener() {\n\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                Object document = dataSnapshot.getValue();\n                System.out.println(document);\n            }\n\n\n            public void onCancelled(DatabaseError error) {\n                System.out.print(&quot;Error: &quot; + error.getMessage());\n            }\n        });\n\n        dbRef.addListenerForSingleValueEvent(new ValueEventListener() {\n\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                Object document = dataSnapshot.getValue();\n                System.out.println(document);\n            }\n\n\n            public void onCancelled(DatabaseError error) {\n                System.out.print(&quot;Error: &quot; + error.getMessage());\n            }\n        });\n\n\n    }\n}\n\n</code></pre>\n<p>How do I listen to realtime updates on the firebase SDK for HN?</p>\n"},{"tags":["java","spring","spring-boot","jira","jira-rest-api"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1583311069,"creation_date":1583309511,"answer_id":60521576,"question_id":60520683,"body_markdown":"The client library you mentioned from the article doesn&#39;t provide any method for retrieval of all the issues. You need to call search REST api directly which uses jql.\r\n\r\n[https://developer.atlassian.com/server/jira/platform/jira-rest-api-examples/#searching-for-issues-examples][1]\r\n\r\nThere is parameter jql where you can query for a user\r\n\r\n    jpql=assignee%20%3D%20557058%3Ac64112ec-589f-4b56-8bb6-9eea49e26364\r\n\r\nThe string after jpql= must be url encoded\r\n\r\n\r\n  [1]: https://developer.atlassian.com/server/jira/platform/jira-rest-api-examples/#searching-for-issues-examples","title":"How can I find issue by user Springboot Jira API?","body":"<p>The client library you mentioned from the article doesn't provide any method for retrieval of all the issues. You need to call search REST api directly which uses jql.</p>\n\n<p><a href=\"https://developer.atlassian.com/server/jira/platform/jira-rest-api-examples/#searching-for-issues-examples\" rel=\"nofollow noreferrer\">https://developer.atlassian.com/server/jira/platform/jira-rest-api-examples/#searching-for-issues-examples</a></p>\n\n<p>There is parameter jql where you can query for a user</p>\n\n<pre><code>jpql=assignee%20%3D%20557058%3Ac64112ec-589f-4b56-8bb6-9eea49e26364\n</code></pre>\n\n<p>The string after jpql= must be url encoded</p>\n"},{"tags":[],"owner":{"account_id":28801703,"reputation":1,"user_id":22058437,"display_name":"Srk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686773147,"creation_date":1686542790,"answer_id":76453588,"question_id":60520683,"body_markdown":"``` java\r\n@Service\r\npublic class JiraService {\r\n\r\n    private static final String JIRA_URL = &quot;https://your-jira-url/rest/api/2/&quot;;\r\n    private static final String JIRA_USERNAME = &quot;your-username&quot;;\r\n    private static final String JIRA_PASSWORD = &quot;your-password&quot;;\r\n\r\n    private OkHttpClient client;\r\n\r\n    public JiraService() {\r\n        this.client = new OkHttpClient();\r\n    }\r\n\r\n    public String getIssue(String issueKey) throws IOException {\r\n        Request request = new Request.Builder()\r\n                .url(JIRA_URL + &quot;issue/&quot; + issueKey)\r\n                .header(&quot;Authorization&quot;, Credentials.basic(JIRA_USERNAME, JIRA_PASSWORD))\r\n                .build();\r\n\r\n        try (Response response = client.newCall(request).execute()) {\r\n            return response.body().string();\r\n        }\r\n    }\r\n}\r\n```","title":"How can I find issue by user Springboot Jira API?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class JiraService {\n\n    private static final String JIRA_URL = &quot;https://your-jira-url/rest/api/2/&quot;;\n    private static final String JIRA_USERNAME = &quot;your-username&quot;;\n    private static final String JIRA_PASSWORD = &quot;your-password&quot;;\n\n    private OkHttpClient client;\n\n    public JiraService() {\n        this.client = new OkHttpClient();\n    }\n\n    public String getIssue(String issueKey) throws IOException {\n        Request request = new Request.Builder()\n                .url(JIRA_URL + &quot;issue/&quot; + issueKey)\n                .header(&quot;Authorization&quot;, Credentials.basic(JIRA_USERNAME, JIRA_PASSWORD))\n                .build();\n\n        try (Response response = client.newCall(request).execute()) {\n            return response.body().string();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28801703,"reputation":1,"user_id":22058437,"display_name":"Srk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686602574,"creation_date":1686602574,"answer_id":76460200,"question_id":60520683,"body_markdown":"    @RestController\r\n@RequestMapping(&quot;/api/jira&quot;)\r\npublic class JiraController {\r\n\r\n    private final JiraService jiraService;\r\n\r\n    @Autowired\r\n    public JiraController(JiraService jiraService) {\r\n        this.jiraService = jiraService;\r\n    }\r\n\r\n    @GetMapping(&quot;/issue/{issueKey}&quot;)\r\n    public ResponseEntity&lt;String&gt; getIssue(@PathVariable String issueKey) {\r\n        try {\r\n            String issue = jiraService.getIssue(issueKey);\r\n            return ResponseEntity.ok(issue);\r\n        } catch (IOException e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error occurred while getting the issue&quot;);\r\n        }\r\n    }\r\n}\r\n","title":"How can I find issue by user Springboot Jira API?","body":"<pre><code>@RestController\n</code></pre>\n<p>@RequestMapping(&quot;/api/jira&quot;)\npublic class JiraController {</p>\n<pre><code>private final JiraService jiraService;\n\n@Autowired\npublic JiraController(JiraService jiraService) {\n    this.jiraService = jiraService;\n}\n\n@GetMapping(&quot;/issue/{issueKey}&quot;)\npublic ResponseEntity&lt;String&gt; getIssue(@PathVariable String issueKey) {\n    try {\n        String issue = jiraService.getIssue(issueKey);\n        return ResponseEntity.ok(issue);\n    } catch (IOException e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error occurred while getting the issue&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28815325,"reputation":1,"user_id":22069077,"display_name":"sri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686687626,"creation_date":1686687626,"answer_id":76468454,"question_id":60520683,"body_markdown":"Integrating a Spring Boot API with a Jira Board\r\nThis guide explains how to integrate a Spring Boot API with a Jira board using Jira&#39;s REST APIs.\r\n\r\nPrerequisites\r\nA Jira Cloud account with administrative privileges.\r\nBasic knowledge of Spring Boot.\r\nAn API token generated from your Jira account (https://id.atlassian.com/manage-profile/security/api-tokens).\r\nStep 1: Set Up Spring Boot Project\r\nFirst, create a new Spring Boot project. You can use Spring Initializr (https://start.spring.io/) to help you with this. Add the following dependencies to your pom.xml file:\r\n\r\nSpring Web\r\nSpring Boot Starter Data JPA (optional, if you need database interaction)\r\nOkHttp (For making HTTP requests)\r\nStep 2: Generate Jira API Token\r\nNext, generate an API token from your Jira Cloud account. This token will be used for authenticating your requests to Jira&#39;s API.\r\n\r\nLog in to https://id.atlassian.com/manage-profile/security/api-tokens.\r\nClick &#39;Create API token&#39;.\r\nName your token and then click &#39;Create&#39;.\r\nClick &#39;Copy to clipboard&#39;. Store the token securely.\r\nStep 3: Create a Jira Service in Spring Boot\r\nCreate a JiraService class in your Spring Boot application. This service will handle making HTTP requests to Jira&#39;s REST APIs. Here&#39;s a sample method for getting an issue:\r\n\r\n\r\nReplace &quot;your-jira-url&quot; with your Jira Cloud URL and &quot;your-api-token&quot; with the API token you generated.\r\n\r\nStep 4: Create a Spring Boot Controller\r\nNext, create a controller that calls methods from JiraService. This controller will expose endpoints that your users or other services can call:\r\n\r\n\r\nIn this code, getIssue corresponds to the GET HTTP method for the path /api/jira/issue/{issueKey}. This method will return the response from Jira&#39;s API as the body of the HTTP response.\r\n\r\n\r\nStep 5: Test Your Integration\r\nAfter completing the steps above, you can start your Spring Boot application and make a GET request to `http://localhost:8080/api/jira/issue/{","title":"How can I find issue by user Springboot Jira API?","body":"<p>Integrating a Spring Boot API with a Jira Board\nThis guide explains how to integrate a Spring Boot API with a Jira board using Jira's REST APIs.</p>\n<p>Prerequisites\nA Jira Cloud account with administrative privileges.\nBasic knowledge of Spring Boot.\nAn API token generated from your Jira account (<a href=\"https://id.atlassian.com/manage-profile/security/api-tokens\" rel=\"nofollow noreferrer\">https://id.atlassian.com/manage-profile/security/api-tokens</a>).\nStep 1: Set Up Spring Boot Project\nFirst, create a new Spring Boot project. You can use Spring Initializr (<a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>) to help you with this. Add the following dependencies to your pom.xml file:</p>\n<p>Spring Web\nSpring Boot Starter Data JPA (optional, if you need database interaction)\nOkHttp (For making HTTP requests)\nStep 2: Generate Jira API Token\nNext, generate an API token from your Jira Cloud account. This token will be used for authenticating your requests to Jira's API.</p>\n<p>Log in to <a href=\"https://id.atlassian.com/manage-profile/security/api-tokens\" rel=\"nofollow noreferrer\">https://id.atlassian.com/manage-profile/security/api-tokens</a>.\nClick 'Create API token'.\nName your token and then click 'Create'.\nClick 'Copy to clipboard'. Store the token securely.\nStep 3: Create a Jira Service in Spring Boot\nCreate a JiraService class in your Spring Boot application. This service will handle making HTTP requests to Jira's REST APIs. Here's a sample method for getting an issue:</p>\n<p>Replace &quot;your-jira-url&quot; with your Jira Cloud URL and &quot;your-api-token&quot; with the API token you generated.</p>\n<p>Step 4: Create a Spring Boot Controller\nNext, create a controller that calls methods from JiraService. This controller will expose endpoints that your users or other services can call:</p>\n<p>In this code, getIssue corresponds to the GET HTTP method for the path /api/jira/issue/{issueKey}. This method will return the response from Jira's API as the body of the HTTP response.</p>\n<p>Step 5: Test Your Integration\nAfter completing the steps above, you can start your Spring Boot application and make a GET request to `http://localhost:8080/api/jira/issue/{</p>\n"}],"owner":{"account_id":15649917,"reputation":13,"user_id":11291493,"display_name":"Mara Ayissi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60521576,"answer_count":4,"score":0,"last_activity_date":1686773147,"creation_date":1583305640,"question_id":60520683,"body_markdown":"I am working on a project in which I have to get existing Jira issues for a specific user. I have implemented the Jira REST API exactly how they show it on [Baeldung.com][1] but I have not found any api to get all issues for a user without having to use an ID.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jira-rest-api","title":"How can I find issue by user Springboot Jira API?","body":"<p>I am working on a project in which I have to get existing Jira issues for a specific user. I have implemented the Jira REST API exactly how they show it on <a href=\"https://www.baeldung.com/jira-rest-api\" rel=\"nofollow noreferrer\">Baeldung.com</a> but I have not found any api to get all issues for a user without having to use an ID.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":8202462,"reputation":4165,"user_id":6173350,"display_name":"Avinash"},"score":0,"creation_date":1483555279,"post_id":41470901,"comment_id":70147777,"body_markdown":"Please provide your code where you are facing this issue, you just mentioned your try.","body":"Please provide your code where you are facing this issue, you just mentioned your try."},{"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"score":0,"creation_date":1483556243,"post_id":41470901,"comment_id":70148256,"body_markdown":"what error are you getting ?","body":"what error are you getting ?"},{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":0,"creation_date":1483556776,"post_id":41470901,"comment_id":70148573,"body_markdown":"Why are you using that low-level API with Spring Data? Can we take a step back and understand what you&#39;re trying to do? You shouldn&#39;t use Clob directly.","body":"Why are you using that low-level API with Spring Data? Can we take a step back and understand what you&#39;re trying to do? You shouldn&#39;t use Clob directly."}],"answers":[{"tags":[],"owner":{"account_id":8202462,"reputation":4165,"user_id":6173350,"display_name":"Avinash"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1483557372,"creation_date":1483557372,"answer_id":41471611,"question_id":41470901,"body_markdown":"Without dragging the question further I want to answer it simply. \r\n\r\nIn Spring Data JPA there should be an entity which is String and needed to be saved as CLOB in DB. So, the CLOB column of entity should look like this.\r\n\r\n    @Entity\r\n    public class SampleData {\r\n        // other columns \r\n        \r\n        @Column(name=&quot;SAMPLE&quot;, columnDefinition=&quot;CLOB NOT NULL&quot;) \r\n        @Lob \r\n        private String sample;\r\n    \r\n        // setters and getters\r\n    }\r\n\r\nThen you should have a Repository like below\r\n\r\n    public interface SampleDataRepo extends PagingAndSortingRepository&lt;SampleData, Integer&gt; {\r\n    \r\n    }\r\n\r\nNow in Service method you could do something like below\r\n\r\n    @Service\r\n    public class SampleDataService {\r\n    \r\n        @Autowire \r\n        SampleDataRepo repo;\r\n        \r\n        public SampleData saveSampleData() {\r\n            SampleData sd = new SampleData();\r\n            sd.setSample(&quot;longtest&quot;);\r\n    \r\n            repo.save(sd);\r\n        }\r\n    }\r\n\r\nThis is how the String data is saved as CLOB in DB.","title":"Convert String to CLOB in Spring data JPA","body":"<p>Without dragging the question further I want to answer it simply. </p>\n\n<p>In Spring Data JPA there should be an entity which is String and needed to be saved as CLOB in DB. So, the CLOB column of entity should look like this.</p>\n\n<pre><code>@Entity\npublic class SampleData {\n    // other columns \n\n    @Column(name=\"SAMPLE\", columnDefinition=\"CLOB NOT NULL\") \n    @Lob \n    private String sample;\n\n    // setters and getters\n}\n</code></pre>\n\n<p>Then you should have a Repository like below</p>\n\n<pre><code>public interface SampleDataRepo extends PagingAndSortingRepository&lt;SampleData, Integer&gt; {\n\n}\n</code></pre>\n\n<p>Now in Service method you could do something like below</p>\n\n<pre><code>@Service\npublic class SampleDataService {\n\n    @Autowire \n    SampleDataRepo repo;\n\n    public SampleData saveSampleData() {\n        SampleData sd = new SampleData();\n        sd.setSample(\"longtest\");\n\n        repo.save(sd);\n    }\n}\n</code></pre>\n\n<p>This is how the String data is saved as CLOB in DB.</p>\n"}],"owner":{"account_id":8569333,"reputation":357,"user_id":6420853,"accept_rate":100,"display_name":"Samantha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33197,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41471611,"answer_count":1,"score":2,"last_activity_date":1686772876,"creation_date":1483554746,"question_id":41470901,"body_markdown":"I have large text which is in String format. I would like to know how to convert that String into CLOB. I&#39;m using Spring data JPA, Spring boot.\r\n\r\nI have tried using \r\n\r\n    clob.setString(position, string)","title":"Convert String to CLOB in Spring data JPA","body":"<p>I have large text which is in String format. I would like to know how to convert that String into CLOB. I'm using Spring data JPA, Spring boot.</p>\n\n<p>I have tried using </p>\n\n<pre><code>clob.setString(position, string)\n</code></pre>\n"},{"tags":["java","c++11","swig"],"comments":[{"owner":{"account_id":14020662,"reputation":2853,"user_id":10126955,"display_name":"mmomtchev"},"score":0,"creation_date":1686400885,"post_id":76422611,"comment_id":134795335,"body_markdown":"What is the point of using a `shared_ptr` to a primitive value? Why not simply use `double`? Do you need to be able to write to this value from Java?","body":"What is the point of using a <code>shared_ptr</code> to a primitive value? Why not simply use <code>double</code>? Do you need to be able to write to this value from Java?"},{"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"score":0,"creation_date":1686600450,"post_id":76422611,"comment_id":134818409,"body_markdown":"@mmomtchev I cant modify the C++ part. This value should be read and written from Java. `shared_ptr` is used to pass the NULL value.","body":"@mmomtchev I cant modify the C++ part. This value should be read and written from Java. <code>shared_ptr</code> is used to pass the NULL value."},{"owner":{"account_id":14020662,"reputation":2853,"user_id":10126955,"display_name":"mmomtchev"},"score":1,"creation_date":1686653380,"post_id":76422611,"comment_id":134825470,"body_markdown":"Create a typemap for `shared_ptr` that returns a `double`. While you can use a `shared_ptr` in SWIG, if you can avoid it, you will be better off without it.","body":"Create a typemap for <code>shared_ptr</code> that returns a <code>double</code>. While you can use a <code>shared_ptr</code> in SWIG, if you can avoid it, you will be better off without it."}],"answers":[{"tags":[],"owner":{"account_id":14020662,"reputation":2853,"user_id":10126955,"display_name":"mmomtchev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686653859,"creation_date":1686653859,"answer_id":76464199,"question_id":76422611,"body_markdown":"A very simply solution would be to simply ignore this function and create a Java-compatible wrapper.\r\n\r\n(not tested)\r\n```swig\r\n%ignore std::shared_ptr&lt;double&gt; YourClass::getMinScale() const;\r\n\r\n%extend YourClass {\r\n  double getMinScaleJava() const {\r\n    auto r = self-&gt;getMinScale();\r\n    return *r;\r\n  }\r\n}\r\n```\r\n\r\nIf you need the `shared_ptr`, then you will have to use a typemap.","title":"How to create SWIG mapping for std::shared_ptr&lt;double&gt; to Java","body":"<p>A very simply solution would be to simply ignore this function and create a Java-compatible wrapper.</p>\n<p>(not tested)</p>\n<pre><code>%ignore std::shared_ptr&lt;double&gt; YourClass::getMinScale() const;\n\n%extend YourClass {\n  double getMinScaleJava() const {\n    auto r = self-&gt;getMinScale();\n    return *r;\n  }\n}\n</code></pre>\n<p>If you need the <code>shared_ptr</code>, then you will have to use a typemap.</p>\n"},{"tags":[],"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686771990,"creation_date":1686771990,"answer_id":76477065,"question_id":76422611,"body_markdown":"I have come up with the following approach using `typemap`.  \r\nI convert `std::shared_ptr&lt;double&gt;` into `Double`, which allows passing null value.\r\n\r\n```\r\n%typemap(jstype) std::shared_ptr&lt;double&gt; &quot;Double&quot; // C++ to Java type mapping (Java wrapper class)\r\n%typemap(jtype) std::shared_ptr&lt;double&gt; &quot;Double&quot; // C++ to JNI Java type mapping\r\n%typemap(jni)  std::shared_ptr&lt;double&gt; &quot;jobject&quot; // C++ to JNI C++ type mapping (C++ file with JNI code)\r\n%typemap(javain) std::shared_ptr&lt;double&gt; &quot;$javainput&quot; // How Java type is passed to JNI\r\n%typemap(javaout) std::shared_ptr&lt;double&gt; { // How Java type is retrieved from JNI\r\n    return $jnicall;\r\n}\r\n\r\n%typemap(in) std::shared_ptr&lt;double&gt; { // How value is passed into C++\r\n    if($input != NULL){\r\n        jclass jcDouble = jenv-&gt;FindClass(&quot;java/lang/Double&quot;);\r\n        jmethodID jmidDoubleValue = jenv-&gt;GetMethodID(jcDouble, &quot;doubleValue&quot;, &quot;()D&quot;);\r\n        double value = jenv-&gt;CallDoubleMethod($input,jmidDoubleValue);\r\n        $1 = std::make_shared&lt;double&gt;(value);\r\n    }else{\r\n        $1 = NULL;\r\n    }\r\n}\r\n\r\n%typemap(out) std::shared_ptr&lt;double&gt; { //How value is retrieved from C++\r\n    jclass dClass = jenv-&gt;FindClass(&quot;java/lang/Double&quot;);\r\n    jmethodID initInt = jenv-&gt;GetMethodID(dClass, &quot;&lt;init&gt;&quot;, &quot;(D)V&quot;);\r\n    if (NULL == initInt) return NULL;\r\n    jobject newDoubleObj = jenv-&gt;NewObject(dClass, initInt, *($1.get()));\r\n\r\n    $result = newDoubleObj;\r\n}\r\n```","title":"How to create SWIG mapping for std::shared_ptr&lt;double&gt; to Java","body":"<p>I have come up with the following approach using <code>typemap</code>.<br />\nI convert <code>std::shared_ptr&lt;double&gt;</code> into <code>Double</code>, which allows passing null value.</p>\n<pre><code>%typemap(jstype) std::shared_ptr&lt;double&gt; &quot;Double&quot; // C++ to Java type mapping (Java wrapper class)\n%typemap(jtype) std::shared_ptr&lt;double&gt; &quot;Double&quot; // C++ to JNI Java type mapping\n%typemap(jni)  std::shared_ptr&lt;double&gt; &quot;jobject&quot; // C++ to JNI C++ type mapping (C++ file with JNI code)\n%typemap(javain) std::shared_ptr&lt;double&gt; &quot;$javainput&quot; // How Java type is passed to JNI\n%typemap(javaout) std::shared_ptr&lt;double&gt; { // How Java type is retrieved from JNI\n    return $jnicall;\n}\n\n%typemap(in) std::shared_ptr&lt;double&gt; { // How value is passed into C++\n    if($input != NULL){\n        jclass jcDouble = jenv-&gt;FindClass(&quot;java/lang/Double&quot;);\n        jmethodID jmidDoubleValue = jenv-&gt;GetMethodID(jcDouble, &quot;doubleValue&quot;, &quot;()D&quot;);\n        double value = jenv-&gt;CallDoubleMethod($input,jmidDoubleValue);\n        $1 = std::make_shared&lt;double&gt;(value);\n    }else{\n        $1 = NULL;\n    }\n}\n\n%typemap(out) std::shared_ptr&lt;double&gt; { //How value is retrieved from C++\n    jclass dClass = jenv-&gt;FindClass(&quot;java/lang/Double&quot;);\n    jmethodID initInt = jenv-&gt;GetMethodID(dClass, &quot;&lt;init&gt;&quot;, &quot;(D)V&quot;);\n    if (NULL == initInt) return NULL;\n    jobject newDoubleObj = jenv-&gt;NewObject(dClass, initInt, *($1.get()));\n\n    $result = newDoubleObj;\n}\n</code></pre>\n"}],"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686771990,"creation_date":1686135694,"question_id":76422611,"body_markdown":"What should be the proper SWIG mapping for the following function?\r\n```\r\nstd::shared_ptr&lt;double&gt; getMinScale() const;\r\n```\r\n","title":"How to create SWIG mapping for std::shared_ptr&lt;double&gt; to Java","body":"<p>What should be the proper SWIG mapping for the following function?</p>\n<pre><code>std::shared_ptr&lt;double&gt; getMinScale() const;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3832981,"reputation":3332,"user_id":3178068,"display_name":"TiiJ7"},"score":1,"creation_date":1686756221,"post_id":76475065,"comment_id":134843589,"body_markdown":"`matches` doesn&#39;t throw an exception when the match fails, that is for regex syntax errors. Use the boolean return value.","body":"<code>matches</code> doesn&#39;t throw an exception when the match fails, that is for regex syntax errors. Use the boolean return value."},{"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"score":0,"creation_date":1686756720,"post_id":76475065,"comment_id":134843696,"body_markdown":"I got it from here that it throws an exception, https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#matches-java.lang.String- Looks like I need to use Pattern.matches(regex, str)","body":"I got it from here that it throws an exception, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#matches-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a> Looks like I need to use Pattern.matches(regex, str)"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1686756728,"post_id":76475065,"comment_id":134843699,"body_markdown":"Why not just an if else condition!","body":"Why not just an if else condition!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1686757138,"post_id":76475065,"comment_id":134843799,"body_markdown":"basically `if (duration.matches(...)) { /* valid */ } else { /* not valid */ }`","body":"basically <code>if (duration.matches(...)) { &#47;* valid *&#47; } else { &#47;* not valid *&#47; }</code>"},{"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"score":0,"creation_date":1686758327,"post_id":76475065,"comment_id":134844104,"body_markdown":"I think I deserve to know what causes a negative vote! I did my research before I asking here.","body":"I think I deserve to know what causes a negative vote! I did my research before I asking here."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1686758792,"post_id":76475065,"comment_id":134844204,"body_markdown":"The exception is thrown when the regular expression pattern is invalid, it is not related to whether the test string matches a valid regular expression. For example: `&quot;abc&quot;.matches(&quot;(&quot;)` will throw `PatternSyntaxException: Unclosed group near index 1`","body":"The exception is thrown when the regular expression pattern is invalid, it is not related to whether the test string matches a valid regular expression. For example: <code>&quot;abc&quot;.matches(&quot;(&quot;)</code> will throw <code>PatternSyntaxException: Unclosed group near index 1</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686762264,"post_id":76475065,"comment_id":134844951,"body_markdown":"Why not just do `Duration.parse(&quot;PT&quot; + input);`? All your &quot;valid strings&quot; will work fine","body":"Why not just do <code>Duration.parse(&quot;PT&quot; + input);</code>? All your &quot;valid strings&quot; will work fine"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686756912,"creation_date":1686756137,"answer_id":76475150,"question_id":76475065,"body_markdown":"Why not just an if..else condition, for example:\r\n\r\n    final String regex = &quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;;\r\n    String[] durations = {&quot;1h2s&quot;, &quot;1m&quot;, &quot;2m15s&quot;, &quot;2h10s&quot;, &quot;2m1h&quot;, &quot;2k30s&quot;};\r\n\r\n    for (String duration : durations) {\r\n\r\n        // Just this\r\n        if (duration.matches(regex)) {\r\n            System.out.println(&quot;Valid&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not Valid&quot;);\r\n        }\r\n\r\n    }\r\n\r\n**Outputs**\r\n\r\n    Valid\r\n    Valid\r\n    Valid\r\n    Valid\r\n    Not Valid\r\n    Not Valid","title":"Java Regex for the pattern [#d][#h][#m][#s] to specify a time duration, fields are optional but ordered","body":"<p>Why not just an if..else condition, for example:</p>\n<pre><code>final String regex = &quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;;\nString[] durations = {&quot;1h2s&quot;, &quot;1m&quot;, &quot;2m15s&quot;, &quot;2h10s&quot;, &quot;2m1h&quot;, &quot;2k30s&quot;};\n\nfor (String duration : durations) {\n\n    // Just this\n    if (duration.matches(regex)) {\n        System.out.println(&quot;Valid&quot;);\n    } else {\n        System.out.println(&quot;Not Valid&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Outputs</strong></p>\n<pre><code>Valid\nValid\nValid\nValid\nNot Valid\nNot Valid\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686771090,"creation_date":1686758079,"answer_id":76475436,"question_id":76475065,"body_markdown":"To preface, your code implies that if the value does not match, the _PatternSyntaxException_ will be thrown.  \r\nThis is not the case; that is for when there is an error within the syntax&amp;mdash;e.g., an open group, _&quot;(\\\\d+d&quot;_.\r\n\r\nTo fix your code, just utilize a conditional statement.  \r\nAnd, in addition to that, you&#39;ll want to check if _duration_ is not empty.\r\n\r\nSince every group here specifies the _optional_, _?_, quantifier, an empty value would match.\r\n\r\n```java\r\nString duration = &quot;2d0k15s&quot;;\r\nif (!duration.isEmpty() &amp;&amp; duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;)) {\r\n    System.out.println(&quot;Valid.&quot;);\r\n} else {\r\n    System.out.println(&quot;Not valid!&quot;);\r\n}\r\n```\r\n\r\nFurthermore, you could check the value with a single regex, although it is somewhat verbose.  \r\nYou&#39;ll need to provide each combination.\r\n\r\nHere is the first, generic approach, which doesn&#39;t evaluate the numbers.\r\n\r\n```none\r\n^(?:(?:\\d+d)(?:(?:\\d+h)?(?:\\d+m)?(?:\\d+s)?)|(?:\\d+h)(?:(?:\\d+m)?(?:\\d+s)?)|(?:(?:\\d+m)(?:\\d+s)?)|(?:\\d+s))$\r\n```\r\n\r\nAnd, here is the second, which checks for the validity&amp;mdash;e.g., not _&quot;24h&quot;_, or _&quot;60m&quot;_, etc..\r\n\r\n```none\r\n^(?:(?:[1-9]+d)(?:(?:(?:2[0-3]|1\\d|[1-9])h)?(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:2[0-3]|1\\d|[1-9])h)(?:(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:(?:[1-5]\\d|[1-9])m)(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:[1-5]\\d|[1-9])s))$\r\n```\r\n\r\nFinally, here is your original pattern, with the validity checks.\r\n\r\n```none\r\n(?:[1-9]+d)?(?:(?:2[0-3]|1\\d|[1-9])h)?(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?\r\n```\r\n\r\nExample\r\n\r\n```java\r\nString[] strings = {\r\n    &quot;1h2s&quot;, &quot;1m&quot;, &quot;2m15s&quot;, &quot;2h10s&quot;,\r\n    &quot;2m1h&quot;, &quot;2k30s&quot;, &quot;&quot;, &quot;0d&quot;, &quot;24h&quot;, &quot;60m&quot;, &quot;60s&quot; };\r\nString regex = &quot;(?:[1-9]+d)?(?:(?:2[0-3]|1\\\\d|[1-9])h)?(?:(?:[1-5]\\\\d|[1-9])m)?(?:(?:[1-5]\\\\d|[1-9])s)?&quot;;\r\nboolean valid;\r\nfor (String string : strings) {\r\n    valid = !string.isEmpty() &amp;&amp; string.matches(regex);\r\n    System.out.printf(&quot;%-10s is %s%n&quot;, &quot;&#39;%s&#39;&quot;.formatted(string), valid ? &quot;valid&quot; : &quot;invalid&quot;);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n&#39;1h2s&#39;     is valid\r\n&#39;1m&#39;       is valid\r\n&#39;2m15s&#39;    is valid\r\n&#39;2h10s&#39;    is valid\r\n&#39;2m1h&#39;     is invalid\r\n&#39;2k30s&#39;    is invalid\r\n&#39;&#39;         is invalid\r\n&#39;0d&#39;       is invalid\r\n&#39;24h&#39;      is invalid\r\n&#39;60m&#39;      is invalid\r\n&#39;60s&#39;      is invalid\r\n```","title":"Java Regex for the pattern [#d][#h][#m][#s] to specify a time duration, fields are optional but ordered","body":"<p>To preface, your code implies that if the value does not match, the <em>PatternSyntaxException</em> will be thrown.<br />\nThis is not the case; that is for when there is an error within the syntax—e.g., an open group, <em>&quot;(\\d+d&quot;</em>.</p>\n<p>To fix your code, just utilize a conditional statement.<br />\nAnd, in addition to that, you'll want to check if <em>duration</em> is not empty.</p>\n<p>Since every group here specifies the <em>optional</em>, <em>?</em>, quantifier, an empty value would match.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String duration = &quot;2d0k15s&quot;;\nif (!duration.isEmpty() &amp;&amp; duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;)) {\n    System.out.println(&quot;Valid.&quot;);\n} else {\n    System.out.println(&quot;Not valid!&quot;);\n}\n</code></pre>\n<p>Furthermore, you could check the value with a single regex, although it is somewhat verbose.<br />\nYou'll need to provide each combination.</p>\n<p>Here is the first, generic approach, which doesn't evaluate the numbers.</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?:(?:\\d+d)(?:(?:\\d+h)?(?:\\d+m)?(?:\\d+s)?)|(?:\\d+h)(?:(?:\\d+m)?(?:\\d+s)?)|(?:(?:\\d+m)(?:\\d+s)?)|(?:\\d+s))$\n</code></pre>\n<p>And, here is the second, which checks for the validity—e.g., not <em>&quot;24h&quot;</em>, or <em>&quot;60m&quot;</em>, etc..</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?:(?:[1-9]+d)(?:(?:(?:2[0-3]|1\\d|[1-9])h)?(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:2[0-3]|1\\d|[1-9])h)(?:(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:(?:[1-5]\\d|[1-9])m)(?:(?:[1-5]\\d|[1-9])s)?)|(?:(?:[1-5]\\d|[1-9])s))$\n</code></pre>\n<p>Finally, here is your original pattern, with the validity checks.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?:[1-9]+d)?(?:(?:2[0-3]|1\\d|[1-9])h)?(?:(?:[1-5]\\d|[1-9])m)?(?:(?:[1-5]\\d|[1-9])s)?\n</code></pre>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = {\n    &quot;1h2s&quot;, &quot;1m&quot;, &quot;2m15s&quot;, &quot;2h10s&quot;,\n    &quot;2m1h&quot;, &quot;2k30s&quot;, &quot;&quot;, &quot;0d&quot;, &quot;24h&quot;, &quot;60m&quot;, &quot;60s&quot; };\nString regex = &quot;(?:[1-9]+d)?(?:(?:2[0-3]|1\\\\d|[1-9])h)?(?:(?:[1-5]\\\\d|[1-9])m)?(?:(?:[1-5]\\\\d|[1-9])s)?&quot;;\nboolean valid;\nfor (String string : strings) {\n    valid = !string.isEmpty() &amp;&amp; string.matches(regex);\n    System.out.printf(&quot;%-10s is %s%n&quot;, &quot;'%s'&quot;.formatted(string), valid ? &quot;valid&quot; : &quot;invalid&quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>'1h2s'     is valid\n'1m'       is valid\n'2m15s'    is valid\n'2h10s'    is valid\n'2m1h'     is invalid\n'2k30s'    is invalid\n''         is invalid\n'0d'       is invalid\n'24h'      is invalid\n'60m'      is invalid\n'60s'      is invalid\n</code></pre>\n"}],"owner":{"account_id":15927090,"reputation":186,"user_id":11492442,"display_name":"abhimanyue"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1686771090,"creation_date":1686755623,"question_id":76475065,"body_markdown":"I am looking for a regex that supports a String of the pattern `[#d][#h][#m][#s]` to specify a time duration, where &#39;d&#39; for days, &#39;h&#39; for hours and so on.\r\n\r\nSome valid Strings are,\r\n`1h2s`, `1m`, `2m15s`, `2h10s`, etc.\r\n\r\n`2m1h`, `2k30s` are Invalid\r\n\r\nI have tried the folowing code,\r\n\r\n    String duration = &quot;2d0k15s&quot;;\r\n    \r\n    try {\r\n    \tduration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;);\r\n        \r\n    \tSystem.out.println(&quot;Valid.&quot;);\r\n    } catch (final PatternSyntaxException pse) {\r\n        System.out.println(&quot;Not valid! &quot; + pse.getMessage());\r\n    }\r\n\r\nBut it says Valid for all inputs. I tried with,\r\n  `duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?$&quot;);`\r\n\r\nbut, still getting the same result.\r\n\t\r\n**What I need to change in my code to achieve what I&#39;m looking for? Thanks.**\r\n\r\n\r\n\r\n","title":"Java Regex for the pattern [#d][#h][#m][#s] to specify a time duration, fields are optional but ordered","body":"<p>I am looking for a regex that supports a String of the pattern <code>[#d][#h][#m][#s]</code> to specify a time duration, where 'd' for days, 'h' for hours and so on.</p>\n<p>Some valid Strings are,\n<code>1h2s</code>, <code>1m</code>, <code>2m15s</code>, <code>2h10s</code>, etc.</p>\n<p><code>2m1h</code>, <code>2k30s</code> are Invalid</p>\n<p>I have tried the folowing code,</p>\n<pre><code>String duration = &quot;2d0k15s&quot;;\n\ntry {\n    duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?&quot;);\n    \n    System.out.println(&quot;Valid.&quot;);\n} catch (final PatternSyntaxException pse) {\n    System.out.println(&quot;Not valid! &quot; + pse.getMessage());\n}\n</code></pre>\n<p>But it says Valid for all inputs. I tried with,\n<code>duration.matches(&quot;(\\\\d+d)?(\\\\d+h)?(\\\\d+m)?(\\\\d+s)?$&quot;);</code></p>\n<p>but, still getting the same result.</p>\n<p><strong>What I need to change in my code to achieve what I'm looking for? Thanks.</strong></p>\n"},{"tags":["java","2d","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1686774913,"post_id":76476938,"comment_id":134847215,"body_markdown":"1) You should NOT be using Threads to paint your images. Just iterate through the Map and paint each image. 2) Not sure I understand the question but maybe you can use the concept presented here: https://stackoverflow.com/a/65742492/131872. That is reset the AffineTransform of the Graphics object back to a scaling factor of 1 so no scaling is done. Post an [mre] demonstrating the problem. 3) Note, I&#39;m not even sure how the painting loops work since you always appear to be painting the image at (0, 0), so each image would paint over top of one another?","body":"1) You should NOT be using Threads to paint your images. Just iterate through the Map and paint each image. 2) Not sure I understand the question but maybe you can use the concept presented here: <a href=\"https://stackoverflow.com/a/65742492/131872\">stackoverflow.com/a/65742492/131872</a>. That is reset the AffineTransform of the Graphics object back to a scaling factor of 1 so no scaling is done. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. 3) Note, I&#39;m not even sure how the painting loops work since you always appear to be painting the image at (0, 0), so each image would paint over top of one another?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686784155,"post_id":76476938,"comment_id":134848493,"body_markdown":"Painting is for painting nothing else. Swing is not thread safe, so you shouldn’t be modifying the ui from outside the context of the event dispatching thread","body":"Painting is for painting nothing else. Swing is not thread safe, so you shouldn’t be modifying the ui from outside the context of the event dispatching thread"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686784293,"post_id":76476938,"comment_id":134848505,"body_markdown":"Also consider providing a [mcve]","body":"Also consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":14240652,"reputation":29,"user_id":10534332,"display_name":"Ярослав "},"score":2,"creation_date":1686810380,"post_id":76476938,"comment_id":134850940,"body_markdown":"thx for camickr, https://stackoverflow.com/questions/65742162/how-to-fix-the-blurry-image-when-i-run-my-java-swing-project/65742492#65742492 solve my problem","body":"thx for camickr, <a href=\"https://stackoverflow.com/questions/65742162/how-to-fix-the-blurry-image-when-i-run-my-java-swing-project/65742492#65742492\" title=\"how to fix the blurry image when i run my java swing project\">stackoverflow.com/questions/65742162/&hellip;</a> solve my problem"}],"owner":{"account_id":14240652,"reputation":29,"user_id":10534332,"display_name":"Ярослав "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686770985,"creation_date":1686770670,"question_id":76476938,"body_markdown":"i have screen with 4k resolution and 150% scaling on windows\r\n\r\n Main class \r\n\r\n    `   \r\n    public static void main(String[] args) throws IOException {\r\n     \r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n           frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n            frame.setPreferredSize(new Dimension(displayMode.getWidth(), displayMode.getHeight()));\r\n            frame.setUndecorated(true);\r\n            frame.add(new Background());\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n    }`\r\n\r\nAnd Background\r\n\r\n\r\n    `public class Background extends JPanel implements ActionListener {\r\n        public Background() throws IOException {\r\n            backGround = ImageIO.read(getClass().getClassLoader().getResourceAsStream(&quot;background.jpg&quot;));\r\n          \r\n            setBackground(Color.BLACK);\r\n            addMouseListener(new MyMouseListener(this));\r\n            addKeyListener(new MyKeyboardListener(this));\r\n            setFocusable(true);\r\n            requestFocusInWindow();\r\n            setOpaque(true);\r\n    `\r\n\r\n\r\nmethod paint in Background where iam trying to draw images in a few threads\r\n\r\n\r\n    `@Override\r\n        protected void paintComponent(Graphics g) {\r\n    for (Map.Entry&lt;String, Map&lt;BaseShip, Integer&gt;&gt; player : playersShips.entrySet()) {\r\n    \r\n                Thread thread = new Thread(new Runnable() {\r\n    @Override\r\n                    public void run() {\r\n                        DisplayMode displayMode = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDisplayMode();\r\n                        BufferedImage bufferedImage = new BufferedImage( displayMode.getWidth(), displayMode.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                        Graphics graphics = bufferedImage.getGraphics();\r\n                        Map&lt;BaseShip, Integer&gt; value = new HashMap&lt;&gt;(player.getValue());\r\n                        Iterator&lt;Map.Entry&lt;BaseShip, Integer&gt;&gt; iterator = value.entrySet().iterator();\r\n                        while (iterator.hasNext()) {\r\n                            Map.Entry&lt;BaseShip, Integer&gt; entry = iterator.next();\r\n                            BaseShip baseShip = entry.getKey();\r\n                            if (!baseShip.isKilled()) {\r\n                                baseShip.paint(graphics);\r\n                            } else {\r\n                                iterator.remove();\r\n                            }\r\n                        }\r\n    \r\n                        graphics.dispose();\r\n                        bufferedImages.put(player.getKey(), bufferedImage);\r\n                        player.setValue(value);\r\n                    }\r\n                });\r\n                threads.add(thread);\r\n                thread.start();\r\n            }\r\n            for (Thread thread : threads) {\r\n                try {\r\n                    thread.join();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            for (Map.Entry&lt;String, BufferedImage&gt; bufferedImage : bufferedImages.entrySet()) {\r\n                g.drawImage(bufferedImage.getValue(), 0, 0, null);\r\n            }\r\n    }`\r\n\r\nthe problem that `JPanel `method `paint` witch drawing another images, lines etc for `bufferedImage` draws with scaling in mind and does it in resolution 2600x1440, when `bufferedImage` has 3840x2160 from `DisplayMode `and what i can see at debug mode:\r\n[enter image description here](https://i.stack.imgur.com/yEpb2.jpg)\r\n\r\nafter this image will stretched to the resolution of the monitor to 4k cos i am using   `frame.setExtendedState(JFrame.MAXIMIZED_BOTH);`, but it lose quality\r\n\r\ntried remove `frame.setExtendedState(JFrame.MAXIMIZED_BOTH);`, and after this nothing is displayed on the screen\r\n\r\ntried add  `setSize(new Dimension(displayMode.getWidth(), displayMode.getHeight()));` at Background and it isn&#39;t helps, the image is still low resolution\r\n\r\n`setSize()` at Main at still low resolution and new problem where method `paint `is calling many times before main image on main thread shows at screen, this problem still staying if application working at 1 thread \r\n\r\nget Graphics2D for bufferedImage, same.\r\n\r\nand many combinations setSizes 4k for Main and Background \r\n\r\nonly if iam down screen scaling to 100% with JFrame.MAXIMIZED_BOTH all working good, but that&#39;s not the way, apllications must have to take into account screen scaling without down scaling images\r\n\r\nor discard from multi-threaded image processing, then my app working slowly and thats why need multi-threading for this\r\n\r\n","title":"How to render an image without scaling on java Graphics?","body":"<p>i have screen with 4k resolution and 150% scaling on windows</p>\n<p>Main class</p>\n<pre><code>`   \npublic static void main(String[] args) throws IOException {\n \n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n       frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.setPreferredSize(new Dimension(displayMode.getWidth(), displayMode.getHeight()));\n        frame.setUndecorated(true);\n        frame.add(new Background());\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n}`\n</code></pre>\n<p>And Background</p>\n<pre><code>`public class Background extends JPanel implements ActionListener {\n    public Background() throws IOException {\n        backGround = ImageIO.read(getClass().getClassLoader().getResourceAsStream(&quot;background.jpg&quot;));\n      \n        setBackground(Color.BLACK);\n        addMouseListener(new MyMouseListener(this));\n        addKeyListener(new MyKeyboardListener(this));\n        setFocusable(true);\n        requestFocusInWindow();\n        setOpaque(true);\n`\n</code></pre>\n<p>method paint in Background where iam trying to draw images in a few threads</p>\n<pre><code>`@Override\n    protected void paintComponent(Graphics g) {\nfor (Map.Entry&lt;String, Map&lt;BaseShip, Integer&gt;&gt; player : playersShips.entrySet()) {\n\n            Thread thread = new Thread(new Runnable() {\n@Override\n                public void run() {\n                    DisplayMode displayMode = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDisplayMode();\n                    BufferedImage bufferedImage = new BufferedImage( displayMode.getWidth(), displayMode.getHeight(), BufferedImage.TYPE_INT_ARGB);\n                    Graphics graphics = bufferedImage.getGraphics();\n                    Map&lt;BaseShip, Integer&gt; value = new HashMap&lt;&gt;(player.getValue());\n                    Iterator&lt;Map.Entry&lt;BaseShip, Integer&gt;&gt; iterator = value.entrySet().iterator();\n                    while (iterator.hasNext()) {\n                        Map.Entry&lt;BaseShip, Integer&gt; entry = iterator.next();\n                        BaseShip baseShip = entry.getKey();\n                        if (!baseShip.isKilled()) {\n                            baseShip.paint(graphics);\n                        } else {\n                            iterator.remove();\n                        }\n                    }\n\n                    graphics.dispose();\n                    bufferedImages.put(player.getKey(), bufferedImage);\n                    player.setValue(value);\n                }\n            });\n            threads.add(thread);\n            thread.start();\n        }\n        for (Thread thread : threads) {\n            try {\n                thread.join();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        for (Map.Entry&lt;String, BufferedImage&gt; bufferedImage : bufferedImages.entrySet()) {\n            g.drawImage(bufferedImage.getValue(), 0, 0, null);\n        }\n}`\n</code></pre>\n<p>the problem that <code>JPanel </code>method <code>paint</code> witch drawing another images, lines etc for <code>bufferedImage</code> draws with scaling in mind and does it in resolution 2600x1440, when <code>bufferedImage</code> has 3840x2160 from <code>DisplayMode </code>and what i can see at debug mode:\n<a href=\"https://i.stack.imgur.com/yEpb2.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>after this image will stretched to the resolution of the monitor to 4k cos i am using   <code>frame.setExtendedState(JFrame.MAXIMIZED_BOTH);</code>, but it lose quality</p>\n<p>tried remove <code>frame.setExtendedState(JFrame.MAXIMIZED_BOTH);</code>, and after this nothing is displayed on the screen</p>\n<p>tried add  <code>setSize(new Dimension(displayMode.getWidth(), displayMode.getHeight()));</code> at Background and it isn't helps, the image is still low resolution</p>\n<p><code>setSize()</code> at Main at still low resolution and new problem where method <code>paint </code>is calling many times before main image on main thread shows at screen, this problem still staying if application working at 1 thread</p>\n<p>get Graphics2D for bufferedImage, same.</p>\n<p>and many combinations setSizes 4k for Main and Background</p>\n<p>only if iam down screen scaling to 100% with JFrame.MAXIMIZED_BOTH all working good, but that's not the way, apllications must have to take into account screen scaling without down scaling images</p>\n<p>or discard from multi-threaded image processing, then my app working slowly and thats why need multi-threading for this</p>\n"},{"tags":["java","spring","maven","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1686781346,"post_id":76476965,"comment_id":134848215,"body_markdown":"Could you please try [the steps from the Gson Troubleshooting Guide](https://github.com/google/gson/blob/main/Troubleshooting.md#no-such-method-error) and report back if that helped or solved the issue?","body":"Could you please try <a href=\"https://github.com/google/gson/blob/main/Troubleshooting.md#no-such-method-error\" rel=\"nofollow noreferrer\">the steps from the Gson Troubleshooting Guide</a> and report back if that helped or solved the issue?"}],"owner":{"account_id":12131022,"reputation":3,"user_id":14376766,"display_name":"tgoel-dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686770981,"creation_date":1686770981,"question_id":76476965,"body_markdown":"I am using Gson&#39;s JsonParser.parseString(response) to convert a String response (which is in JSON format, validated manually) to JSON. This exact code is being refactored in from a different microservice, so I am certain that it works. \r\n\r\nBut the method throws NoSuchMethodError exception when the method is being called. \r\n\r\nMaven dependency: \r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\nNone of the methods I have tried have provided no improvement on the situation: \r\n- I tried upgrading the dependency version to 2.10.1\r\n- I tried adding the fully qualified name of the class, instead of importing it.\r\n- I tried multiple maven cleans and installs. \r\n\r\nNot sure what the underlying issue is.","title":"Gson JsonParser.parseString() resulting in NoSuchMethodError","body":"<p>I am using Gson's JsonParser.parseString(response) to convert a String response (which is in JSON format, validated manually) to JSON. This exact code is being refactored in from a different microservice, so I am certain that it works.</p>\n<p>But the method throws NoSuchMethodError exception when the method is being called.</p>\n<p>Maven dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.6&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>None of the methods I have tried have provided no improvement on the situation:</p>\n<ul>\n<li>I tried upgrading the dependency version to 2.10.1</li>\n<li>I tried adding the fully qualified name of the class, instead of importing it.</li>\n<li>I tried multiple maven cleans and installs.</li>\n</ul>\n<p>Not sure what the underlying issue is.</p>\n"},{"tags":["java","reactjs","spring","redirect"],"owner":{"account_id":15117182,"reputation":15,"user_id":10909119,"display_name":"Afrodeziak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686770585,"creation_date":1686770585,"question_id":76476923,"body_markdown":"So, I have Spring (backend) and React(frontend). I want to redirect from Spring to React by passing some object or attributes NOT in the URL. I have next code:\r\n```     @GetMapping(&quot;/oauth2/authorization/google/callback&quot;)\r\n    public ModelAndView receiveCallbackAuthorization(@RequestParam(&quot;code&quot;) String code) {\r\n        ...some code\r\n        ...\r\n        return new ModelAndView(&quot;redirect:&quot; + location, &quot;info&quot;, userInfo);\r\n```\r\nOn the React side, I got next:\r\n```\r\nconst MyComponent = (props) =&gt; {\r\n  if (!props.location || !props.location.state) {\r\n    // Redirect to another route or display an error message\r\n    return &lt;Redirect to=&quot;/error&quot; /&gt;;\r\n  }\r\n\r\n  const { data } = props.location.state;\r\n\r\n  return (\r\n    &lt;div&gt;\r\n      {data ? (\r\n        &lt;p&gt;Data: {data.info}&lt;/p&gt; // Render the received data\r\n      ) : (\r\n        &lt;p&gt;Loading...&lt;/p&gt; // Show a loading indicator while the data is being retrieved\r\n      )}\r\n    &lt;/div&gt;\r\n  );\r\n};\r\n```\r\n\r\nIs it possible to do so, or maybe there&#39;s another way? The problem here is that I get a call on the backend as a callback, and after that, I need to process it and return it to the UI, which actually didn&#39;t ask for that.\r\n","title":"Pass object as redirect attribute from Spring to React","body":"<p>So, I have Spring (backend) and React(frontend). I want to redirect from Spring to React by passing some object or attributes NOT in the URL. I have next code:</p>\n<pre><code>    public ModelAndView receiveCallbackAuthorization(@RequestParam(&quot;code&quot;) String code) {\n        ...some code\n        ...\n        return new ModelAndView(&quot;redirect:&quot; + location, &quot;info&quot;, userInfo);\n</code></pre>\n<p>On the React side, I got next:</p>\n<pre><code>const MyComponent = (props) =&gt; {\n  if (!props.location || !props.location.state) {\n    // Redirect to another route or display an error message\n    return &lt;Redirect to=&quot;/error&quot; /&gt;;\n  }\n\n  const { data } = props.location.state;\n\n  return (\n    &lt;div&gt;\n      {data ? (\n        &lt;p&gt;Data: {data.info}&lt;/p&gt; // Render the received data\n      ) : (\n        &lt;p&gt;Loading...&lt;/p&gt; // Show a loading indicator while the data is being retrieved\n      )}\n    &lt;/div&gt;\n  );\n};\n</code></pre>\n<p>Is it possible to do so, or maybe there's another way? The problem here is that I get a call on the backend as a callback, and after that, I need to process it and return it to the UI, which actually didn't ask for that.</p>\n"},{"tags":["java","android"],"owner":{"account_id":5100146,"reputation":869,"user_id":4090002,"display_name":"Marcell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686770425,"creation_date":1686770425,"question_id":76476907,"body_markdown":"I have a custom view which shows a dartboard. It overrides the `onTouchEvent` method. For improving the accessibility of the app I wanted to override the `performClick` method too and call it from within the `onTouchEvent`. So far it seems pretty obvious.\r\n\r\nMy problem is that the `performClick` method has no access to the clicked coordinates. But I need those to draw the darts on the dartboard at the clicked positions. Is there a way to accomplish this or is this a restriction of accessibility implementations?\r\n\r\nHere is what I am referring to in code:\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        super.onTouchEvent(event);\r\n\r\n        switch (event.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                return true;\r\n\r\n            case MotionEvent.ACTION_UP:\r\n                saveDartPosition(event.getX(), event.getY());  // SHOULD BE IN performClick\r\n                performClick();\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean performClick() {\r\n        super.performClick();\r\n        // NO WAY TO ACCESS COORDINATES HERE :-(\r\n        return true;\r\n    }","title":"How to get clicked coordinates of a View when performClick() is used for accessibility purposes?","body":"<p>I have a custom view which shows a dartboard. It overrides the <code>onTouchEvent</code> method. For improving the accessibility of the app I wanted to override the <code>performClick</code> method too and call it from within the <code>onTouchEvent</code>. So far it seems pretty obvious.</p>\n<p>My problem is that the <code>performClick</code> method has no access to the clicked coordinates. But I need those to draw the darts on the dartboard at the clicked positions. Is there a way to accomplish this or is this a restriction of accessibility implementations?</p>\n<p>Here is what I am referring to in code:</p>\n<pre><code>@Override\npublic boolean onTouchEvent(MotionEvent event) {\n    super.onTouchEvent(event);\n\n    switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            return true;\n\n        case MotionEvent.ACTION_UP:\n            saveDartPosition(event.getX(), event.getY());  // SHOULD BE IN performClick\n            performClick();\n            return true;\n    }\n    return false;\n}\n\n@Override\npublic boolean performClick() {\n    super.performClick();\n    // NO WAY TO ACCESS COORDINATES HERE :-(\n    return true;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","callback","completable-future"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1686784168,"post_id":76475410,"comment_id":134848494,"body_markdown":"If you want the response from the call to `restTemplate.postForObject` to be returned to the method that called it, then either don&#39;t execute this asynchronously, or block until you get a response.  You have no other options unless you want to return a CompletableFuture from your controller.","body":"If you want the response from the call to <code>restTemplate.postForObject</code> to be returned to the method that called it, then either don&#39;t execute this asynchronously, or block until you get a response.  You have no other options unless you want to return a CompletableFuture from your controller."}],"answers":[{"tags":[],"owner":{"account_id":26344646,"reputation":1,"user_id":20003216,"display_name":"abi rajasekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686760677,"creation_date":1686760677,"answer_id":76475780,"question_id":76475410,"body_markdown":"You can make it as a service and give a resttemplate call to another microservice like and get the response","title":"How to handle an instant response from an external API and a callback response in a single controller in Spring Boot?","body":"<p>You can make it as a service and give a resttemplate call to another microservice like and get the response</p>\n"},{"tags":[],"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686770378,"creation_date":1686770378,"answer_id":76476902,"question_id":76475410,"body_markdown":"Can&#39;t you just modify the callback url path?\r\n\r\nMove the `handleCallback` method to `MainController` and align the modified path for the header as well.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/main&quot;)\r\npublic class MainController {\r\n \r\n   ...\r\n    \r\n    @PostMapping(&quot;/sendCallback&quot;)\r\n    public void handleCallback(@RequestBody CallbackResponse callbackResponse) {\r\n        // Process the callback response\r\n        System.out.println(&quot;Received callback response: &quot; + callbackResponse);\r\n        // Perform further actions as needed\r\n    }\r\n}\r\n```\r\nNew header:\r\n```\r\nContent-type: application/json\r\nAuthorization : someEncryptedData\r\nCallBack: http://mycallback:8080/main/sendCallback\r\n```","title":"How to handle an instant response from an external API and a callback response in a single controller in Spring Boot?","body":"<p>Can't you just modify the callback url path?</p>\n<p>Move the <code>handleCallback</code> method to <code>MainController</code> and align the modified path for the header as well.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/main&quot;)\npublic class MainController {\n \n   ...\n    \n    @PostMapping(&quot;/sendCallback&quot;)\n    public void handleCallback(@RequestBody CallbackResponse callbackResponse) {\n        // Process the callback response\n        System.out.println(&quot;Received callback response: &quot; + callbackResponse);\n        // Perform further actions as needed\n    }\n}\n</code></pre>\n<p>New header:</p>\n<pre><code>Content-type: application/json\nAuthorization : someEncryptedData\nCallBack: http://mycallback:8080/main/sendCallback\n</code></pre>\n"}],"owner":{"account_id":19701832,"reputation":381,"user_id":14424407,"display_name":"Md. Sakhawath Hossain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686770378,"creation_date":1686757886,"question_id":76475410,"body_markdown":"I have a controller from where I am trying to trigger an POST external api call using headers and request body. \r\n\r\nSample external API URL: \r\n\r\n    http://sample:7070/test\r\n\r\nSample Headers: \r\n\r\n    Content-type: application/json\r\n    Authorization : someEncryptedData\r\n    CallBack: http://mycallback:8080/sendCallback\r\n\r\nSample Body: \r\n\r\n    {\r\n    &quot;A&quot;: {\r\n        &quot;B&quot;: 100,\r\n        &quot;C&quot;: &quot;TEST&quot;,\r\n    },\r\n    &quot;ReceiverParty&quot;: {\r\n        &quot;A&quot;: 41,\r\n        &quot;D&quot;: &quot;123214526&quot;\r\n    },\r\n    &quot;Reference&quot;: [\r\n        {\r\n            &quot;Key&quot;: &quot;A&quot;,\r\n            &quot;Value&quot;: &quot;B&quot;\r\n        }\r\n    ]\r\n    }\r\n\r\nNow this api will send an instant response when it is triggered. Also it will send another response to the callback url(POST) provided in the header. \r\n\r\n**I want to get the both response in one controller. What&#39;s the approach to get it? Kindly refer to any blog of topic for better understanding.** \r\n\r\nMy sample code: \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/main&quot;)\r\n    public class MainController {\r\n\r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n\r\n    @PostMapping(&quot;/call-api&quot;)\r\n    public ResponseEntity&lt;String&gt; callApi() {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n        // Create the request body\r\n        SamplePlayload requestPayload = createRequestPayload();\r\n\r\n        HttpEntity&lt;SamplePlayload&gt; requestEntity = new HttpEntity&lt;&gt;(requestPayload, headers);\r\n\r\n        ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(\r\n                &quot;http://sample:7070/test&quot;,\r\n                HttpMethod.POST,\r\n                requestEntity,\r\n                String.class\r\n        );\r\n\r\n        String initialResponse = responseEntity.getBody();\r\n        System.out.println(&quot;Received initial response: &quot; + initialResponse);\r\n\r\n        String callbackUrl = &quot;http://mycallback:8080/sendCallback&quot;; \r\n\r\n        CompletableFuture.supplyAsync(() -&gt; restTemplate.postForObject(callbackUrl, \r\n        requestPayload, String.class))\r\n                .thenAccept(callbackResponse -&gt; {\r\n                    System.out.println(&quot;Received callback response: &quot; + \r\n        callbackResponse);\r\n                    // Perform further actions as needed\r\n                });\r\n\r\n        return responseEntity;\r\n    }\r\n\r\n    private SamplePlayload createRequestPayload() {\r\n        //make the request body\r\n    }\r\n\r\n\r\nCallback Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/sendCallback&quot;)\r\n    public class CallbackController {\r\n\r\n    @PostMapping\r\n    public void handleCallback(@RequestBody CallbackResponse callbackResponse) {\r\n        // Process the callback response\r\n        System.out.println(&quot;Received callback response: &quot; + callbackResponse);\r\n        // Perform further actions as needed\r\n        }\r\n    }\r\n\r\nSample instant Response: \r\n\r\n    {\r\n    &quot;Header&quot;: {\r\n    //some elements\r\n    },\r\n    &quot;Body&quot;: {\r\n    //Some elements\r\n    }\r\n    }\r\n\r\nSample callback Response: \r\n\r\n    {\r\n    &quot;Header&quot;: {\r\n    //some elements\r\n    },\r\n    &quot;Body&quot;: {\r\n    //Some elements\r\n    }\r\n    }\r\n\r\n","title":"How to handle an instant response from an external API and a callback response in a single controller in Spring Boot?","body":"<p>I have a controller from where I am trying to trigger an POST external api call using headers and request body.</p>\n<p>Sample external API URL:</p>\n<pre><code>http://sample:7070/test\n</code></pre>\n<p>Sample Headers:</p>\n<pre><code>Content-type: application/json\nAuthorization : someEncryptedData\nCallBack: http://mycallback:8080/sendCallback\n</code></pre>\n<p>Sample Body:</p>\n<pre><code>{\n&quot;A&quot;: {\n    &quot;B&quot;: 100,\n    &quot;C&quot;: &quot;TEST&quot;,\n},\n&quot;ReceiverParty&quot;: {\n    &quot;A&quot;: 41,\n    &quot;D&quot;: &quot;123214526&quot;\n},\n&quot;Reference&quot;: [\n    {\n        &quot;Key&quot;: &quot;A&quot;,\n        &quot;Value&quot;: &quot;B&quot;\n    }\n]\n}\n</code></pre>\n<p>Now this api will send an instant response when it is triggered. Also it will send another response to the callback url(POST) provided in the header.</p>\n<p><strong>I want to get the both response in one controller. What's the approach to get it? Kindly refer to any blog of topic for better understanding.</strong></p>\n<p>My sample code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/main&quot;)\npublic class MainController {\n\n@Autowired\nprivate RestTemplate restTemplate;\n\n@PostMapping(&quot;/call-api&quot;)\npublic ResponseEntity&lt;String&gt; callApi() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n\n    // Create the request body\n    SamplePlayload requestPayload = createRequestPayload();\n\n    HttpEntity&lt;SamplePlayload&gt; requestEntity = new HttpEntity&lt;&gt;(requestPayload, headers);\n\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(\n            &quot;http://sample:7070/test&quot;,\n            HttpMethod.POST,\n            requestEntity,\n            String.class\n    );\n\n    String initialResponse = responseEntity.getBody();\n    System.out.println(&quot;Received initial response: &quot; + initialResponse);\n\n    String callbackUrl = &quot;http://mycallback:8080/sendCallback&quot;; \n\n    CompletableFuture.supplyAsync(() -&gt; restTemplate.postForObject(callbackUrl, \n    requestPayload, String.class))\n            .thenAccept(callbackResponse -&gt; {\n                System.out.println(&quot;Received callback response: &quot; + \n    callbackResponse);\n                // Perform further actions as needed\n            });\n\n    return responseEntity;\n}\n\nprivate SamplePlayload createRequestPayload() {\n    //make the request body\n}\n</code></pre>\n<p>Callback Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/sendCallback&quot;)\npublic class CallbackController {\n\n@PostMapping\npublic void handleCallback(@RequestBody CallbackResponse callbackResponse) {\n    // Process the callback response\n    System.out.println(&quot;Received callback response: &quot; + callbackResponse);\n    // Perform further actions as needed\n    }\n}\n</code></pre>\n<p>Sample instant Response:</p>\n<pre><code>{\n&quot;Header&quot;: {\n//some elements\n},\n&quot;Body&quot;: {\n//Some elements\n}\n}\n</code></pre>\n<p>Sample callback Response:</p>\n<pre><code>{\n&quot;Header&quot;: {\n//some elements\n},\n&quot;Body&quot;: {\n//Some elements\n}\n}\n</code></pre>\n"},{"tags":["java","botframework"],"answers":[{"tags":[],"owner":{"account_id":1840235,"reputation":4147,"user_id":1712343,"accept_rate":89,"display_name":"nvioli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686770346,"creation_date":1686770346,"answer_id":76476895,"question_id":76167778,"body_markdown":"This was fixed by upgrading the botbuilder SDK from `4.6.0-preview8` to `4.14.3`.","title":"Microsoft Teams BotBuilder -- get channel list empty when team id ends in `thread.skype`","body":"<p>This was fixed by upgrading the botbuilder SDK from <code>4.6.0-preview8</code> to <code>4.14.3</code>.</p>\n"}],"owner":{"account_id":1840235,"reputation":4147,"user_id":1712343,"accept_rate":89,"display_name":"nvioli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76476895,"answer_count":1,"score":1,"last_activity_date":1686770346,"creation_date":1683145968,"question_id":76167778,"body_markdown":"I have installed a bot in two different teams. When I do `TeamsInfo.getTeamChannels` for the team whose ID ends in `thread.tacv2`, I successfully get the list of channels. When I run the same code for the team whose ID ends in `thread.skype` I receive an empty list.\r\n\r\nFull code:\r\n\r\n```\r\npackage com.mytest;\r\n\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutionException;\r\n\r\nimport com.microsoft.bot.builder.BotFrameworkAdapter;\r\nimport com.microsoft.bot.builder.TurnContext;\r\nimport com.microsoft.bot.builder.teams.TeamsInfo;\r\nimport com.microsoft.bot.connector.authentication.AppCredentials;\r\nimport com.microsoft.bot.connector.authentication.SimpleCredentialProvider;\r\nimport com.microsoft.bot.schema.ConversationAccount;\r\nimport com.microsoft.bot.schema.ConversationReference;\r\nimport com.microsoft.bot.schema.teams.ChannelInfo;\r\n\r\npublic class TestChannelList {\r\n\r\n  private String appId;\r\n  private String appPassword;\r\n  private BotFrameworkAdapter bot;\r\n  private ConversationReference installationReference = new ConversationReference();\r\n\r\n  public TestChannelList() {\r\n    this.appId = &quot;***&quot;;\r\n    this.appPassword = &quot;***&quot;;\r\n    this.bot = new BotFrameworkAdapter(new SimpleCredentialProvider(appId, appPassword));\r\n\r\n    installationReference.setChannelId(&quot;msteams&quot;);\r\n    installationReference.setServiceUrl(&quot;https://smba.trafficmanager.net/amer/&quot;);\r\n\r\n//    this works:\r\n//    ConversationAccount conversation = new ConversationAccount(true,\r\n//            &quot;19:***@thread.tacv2&quot;,null);\r\n//        conversation.setConversationType(&quot;channel&quot;);\r\n//        conversation.setTenantId(&quot;***&quot;);\r\n\r\n//    this does not:\r\n    ConversationAccount conversation = new ConversationAccount(true,\r\n        &quot;19:***@thread.skype&quot;, &quot;***&quot;);\r\n    conversation.setConversationType(&quot;channel&quot;);\r\n    conversation.setTenantId(&quot;***&quot;);\r\n    installationReference.setConversation(conversation);\r\n\r\n    TurnContext tc = getTurnContextForConversationReference(installationReference);\r\n    CompletableFuture&lt;List&lt;ChannelInfo&gt;&gt; cf = TeamsInfo.getTeamChannels(tc,\r\n        installationReference.getConversation().getId());\r\n    List&lt;ChannelInfo&gt; channels = cf.get();\r\n  \tSystem.out.println(channels.size()); // 0 for the `thread.skype` team and non-zero for the `thread.tacv2` team\r\n  }\r\n\r\n  public TurnContext getTurnContextForConversationReference(ConversationReference cr)\r\n      {\r\n    // need to do this to avoid 401 errors\r\n   AppCredentials.trustServiceUrl(cr.getServiceUrl());\r\n    TeamsBotCallbackHandler callback = new TeamsBotCallbackHandler();\r\n    CompletableFuture&lt;Void&gt; cf = bot.continueConversation(appId, cr, callback);\r\n    try {\r\n      cf.get();\r\n      return callback.getTurnContext();\r\n    } catch (InterruptedException | ExecutionException e) {\r\n      System.out.println(&quot;caught&quot;);\r\n      e.printStackTrace();\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    new TestChannelList();\r\n  }\r\n}\r\n```\r\n\r\n```\r\npackage com.mytest;\r\n\r\nimport com.microsoft.bot.builder.BotCallbackHandler;\r\nimport com.microsoft.bot.builder.TurnContext;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class TeamsBotCallbackHandler implements BotCallbackHandler {\r\n\r\n  private TurnContext turnContext;\r\n\r\n  @Override\r\n  public CompletableFuture&lt;Void&gt; invoke(TurnContext turnContext) {\r\n    // set the instance field, then the Future should immediately return\r\n    this.turnContext = turnContext;\r\n    return CompletableFuture.completedFuture(null);\r\n  }\r\n\r\n  public TurnContext getTurnContext() {\r\n    return turnContext;\r\n  }\r\n}\r\n\r\n```","title":"Microsoft Teams BotBuilder -- get channel list empty when team id ends in `thread.skype`","body":"<p>I have installed a bot in two different teams. When I do <code>TeamsInfo.getTeamChannels</code> for the team whose ID ends in <code>thread.tacv2</code>, I successfully get the list of channels. When I run the same code for the team whose ID ends in <code>thread.skype</code> I receive an empty list.</p>\n<p>Full code:</p>\n<pre><code>package com.mytest;\n\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutionException;\n\nimport com.microsoft.bot.builder.BotFrameworkAdapter;\nimport com.microsoft.bot.builder.TurnContext;\nimport com.microsoft.bot.builder.teams.TeamsInfo;\nimport com.microsoft.bot.connector.authentication.AppCredentials;\nimport com.microsoft.bot.connector.authentication.SimpleCredentialProvider;\nimport com.microsoft.bot.schema.ConversationAccount;\nimport com.microsoft.bot.schema.ConversationReference;\nimport com.microsoft.bot.schema.teams.ChannelInfo;\n\npublic class TestChannelList {\n\n  private String appId;\n  private String appPassword;\n  private BotFrameworkAdapter bot;\n  private ConversationReference installationReference = new ConversationReference();\n\n  public TestChannelList() {\n    this.appId = &quot;***&quot;;\n    this.appPassword = &quot;***&quot;;\n    this.bot = new BotFrameworkAdapter(new SimpleCredentialProvider(appId, appPassword));\n\n    installationReference.setChannelId(&quot;msteams&quot;);\n    installationReference.setServiceUrl(&quot;https://smba.trafficmanager.net/amer/&quot;);\n\n//    this works:\n//    ConversationAccount conversation = new ConversationAccount(true,\n//            &quot;19:***@thread.tacv2&quot;,null);\n//        conversation.setConversationType(&quot;channel&quot;);\n//        conversation.setTenantId(&quot;***&quot;);\n\n//    this does not:\n    ConversationAccount conversation = new ConversationAccount(true,\n        &quot;19:***@thread.skype&quot;, &quot;***&quot;);\n    conversation.setConversationType(&quot;channel&quot;);\n    conversation.setTenantId(&quot;***&quot;);\n    installationReference.setConversation(conversation);\n\n    TurnContext tc = getTurnContextForConversationReference(installationReference);\n    CompletableFuture&lt;List&lt;ChannelInfo&gt;&gt; cf = TeamsInfo.getTeamChannels(tc,\n        installationReference.getConversation().getId());\n    List&lt;ChannelInfo&gt; channels = cf.get();\n    System.out.println(channels.size()); // 0 for the `thread.skype` team and non-zero for the `thread.tacv2` team\n  }\n\n  public TurnContext getTurnContextForConversationReference(ConversationReference cr)\n      {\n    // need to do this to avoid 401 errors\n   AppCredentials.trustServiceUrl(cr.getServiceUrl());\n    TeamsBotCallbackHandler callback = new TeamsBotCallbackHandler();\n    CompletableFuture&lt;Void&gt; cf = bot.continueConversation(appId, cr, callback);\n    try {\n      cf.get();\n      return callback.getTurnContext();\n    } catch (InterruptedException | ExecutionException e) {\n      System.out.println(&quot;caught&quot;);\n      e.printStackTrace();\n      return null;\n    }\n  }\n\n  public static void main(String[] args) {\n    new TestChannelList();\n  }\n}\n</code></pre>\n<pre><code>package com.mytest;\n\nimport com.microsoft.bot.builder.BotCallbackHandler;\nimport com.microsoft.bot.builder.TurnContext;\nimport java.util.concurrent.CompletableFuture;\n\npublic class TeamsBotCallbackHandler implements BotCallbackHandler {\n\n  private TurnContext turnContext;\n\n  @Override\n  public CompletableFuture&lt;Void&gt; invoke(TurnContext turnContext) {\n    // set the instance field, then the Future should immediately return\n    this.turnContext = turnContext;\n    return CompletableFuture.completedFuture(null);\n  }\n\n  public TurnContext getTurnContext() {\n    return turnContext;\n  }\n}\n\n</code></pre>\n"},{"tags":["java","annotations","overriding"],"answers":[{"tags":[],"owner":{"account_id":4305734,"reputation":1195,"user_id":3518134,"accept_rate":83,"display_name":"flopcoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686769862,"creation_date":1686769862,"answer_id":76476851,"question_id":76476763,"body_markdown":"You can write like this\r\n\r\n    public class ChildClass extends ParentClass {\r\n      @Override\r\n      @Deprecated\r\n      public void someMethod(){\r\n        super.someMethod();\r\n      }\r\n    }","title":"How to Add Annotations to Parent Method in Java Without Overriding It?","body":"<p>You can write like this</p>\n<pre><code>public class ChildClass extends ParentClass {\n  @Override\n  @Deprecated\n  public void someMethod(){\n    super.someMethod();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686769982,"creation_date":1686769982,"answer_id":76476860,"question_id":76476763,"body_markdown":"If I understood correctly, you can do it like that:\r\n\r\n    public class ChildClass extends ParentClass {\r\n        @Override\r\n        @Deprecated\r\n        public void someMethod() {\r\n            super.someMethod();\r\n        }\r\n    }\r\n\r\nHowever, here only calling `someMethod` on an object declared as `ChildClass` would be considered as call of a deprecated method. Calling `someMethod` on an object declared as `ParentClass` (even if it&#39;s actually an `ChildClass` object) wouldn&#39;t be seen as a deprecated method call.","title":"How to Add Annotations to Parent Method in Java Without Overriding It?","body":"<p>If I understood correctly, you can do it like that:</p>\n<pre><code>public class ChildClass extends ParentClass {\n    @Override\n    @Deprecated\n    public void someMethod() {\n        super.someMethod();\n    }\n}\n</code></pre>\n<p>However, here only calling <code>someMethod</code> on an object declared as <code>ChildClass</code> would be considered as call of a deprecated method. Calling <code>someMethod</code> on an object declared as <code>ParentClass</code> (even if it's actually an <code>ChildClass</code> object) wouldn't be seen as a deprecated method call.</p>\n"}],"owner":{"account_id":22211564,"reputation":109,"user_id":16450641,"display_name":"Brendan R."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76476860,"answer_count":2,"score":0,"last_activity_date":1686769982,"creation_date":1686769099,"question_id":76476763,"body_markdown":"In Java, how can I add an annotation to a parent method without changing the body of the method.\r\nFor example:\r\n```java\r\npublic class ParentClass {\r\n  public void someMethod() {\r\n    System.out.println(&quot;Hello world&quot;);\r\n  }\r\n}\r\n\r\npublic class ChildClass extends ParentClass {\r\n  // Add the @Deprecated annotation to someMethod, without changing its body\r\n}\r\n```\r\nI need the method to remain the same, but the only difference is now it has an annotation. How would I do this?\r\n\r\nI have tried not including a body to the method, ie:\r\n```java\r\npublic class ChildClass extends ParentClass {\r\n  @Override\r\n  @Deprecated\r\n  public void someMethod();\r\n}\r\n```\r\nThis doesn&#39;t work. I have also tried not using the `@Override` annotation, but it seems to expect that the method will have a body. Is there a way to just add the annotation without changing its actual value?","title":"How to Add Annotations to Parent Method in Java Without Overriding It?","body":"<p>In Java, how can I add an annotation to a parent method without changing the body of the method.\nFor example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ParentClass {\n  public void someMethod() {\n    System.out.println(&quot;Hello world&quot;);\n  }\n}\n\npublic class ChildClass extends ParentClass {\n  // Add the @Deprecated annotation to someMethod, without changing its body\n}\n</code></pre>\n<p>I need the method to remain the same, but the only difference is now it has an annotation. How would I do this?</p>\n<p>I have tried not including a body to the method, ie:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ChildClass extends ParentClass {\n  @Override\n  @Deprecated\n  public void someMethod();\n}\n</code></pre>\n<p>This doesn't work. I have also tried not using the <code>@Override</code> annotation, but it seems to expect that the method will have a body. Is there a way to just add the annotation without changing its actual value?</p>\n"},{"tags":["java","jdbc",".net-6.0"],"answers":[{"tags":[],"owner":{"account_id":92850,"reputation":1241,"user_id":254276,"accept_rate":92,"display_name":"tcables"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686769398,"creation_date":1686769398,"answer_id":76476802,"question_id":76052007,"body_markdown":"I was having the same issue as you. After searching through their github, I found this was identified as an issue on 06/01/2023. The project owner published a fix in the latest version 1.3.0.\r\n\r\n[evan-choi commented 06/01/2023][1]\r\n\r\nPlease upgrade your package dependencies to v1.3.0.\r\n\r\n[Also be aware the package names have changed][2]\r\n\r\n`J2NET.Runtime.Win64` is now `J2NET.Runtime.win-x64`\r\n\r\nDoing the upgrade got me past the runtime error, but then, another error occurred: `&quot;A task has been cancelled&quot;`. After stepping through the JDBC.Net source code the `var process = JavaRuntime.Execute(javaRunArgs);` (in `Models\\JdbcBridge.cs`) immediately exits, and they cancel the task. I found that the java runtime cannot find the `JDBC.NET.Bridge.jar` in the asp.net core project execution directory. So i put in a pull request to fix that and fully qualify the path to the jar files.\r\n\r\n[Support ASP.Net Core #29 ][3]\r\n\r\nYou can wait for evan to complete the pull request and publish another nuget package or you can include their source into your project like I did, and then add my code. You then may have to copy `JDBC.NET.Bridge.jar` from the console app exe directory to `JDBC.NET.Bridge\\target` as `JDBC.NET.Bridge-1.0-SNAPSHOT-jar-with-dependencies.jar` (for debug, or just `JDBC.NET.Bridge.jar` in release).\r\n\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://github.com/chequer-io/J2NET/issues/1#issuecomment-1571261751\r\n  [2]: https://github.com/chequer-io/J2NET#2-add-runtime-package-reference\r\n  [3]: https://github.com/chequer-io/JDBC.NET/pull/29","title":"J2NET.Runtime could not be found. Please check if the runtime is installed for your platform","body":"<p>I was having the same issue as you. After searching through their github, I found this was identified as an issue on 06/01/2023. The project owner published a fix in the latest version 1.3.0.</p>\n<p><a href=\"https://github.com/chequer-io/J2NET/issues/1#issuecomment-1571261751\" rel=\"nofollow noreferrer\">evan-choi commented 06/01/2023</a></p>\n<p>Please upgrade your package dependencies to v1.3.0.</p>\n<p><a href=\"https://github.com/chequer-io/J2NET#2-add-runtime-package-reference\" rel=\"nofollow noreferrer\">Also be aware the package names have changed</a></p>\n<p><code>J2NET.Runtime.Win64</code> is now <code>J2NET.Runtime.win-x64</code></p>\n<p>Doing the upgrade got me past the runtime error, but then, another error occurred: <code>&quot;A task has been cancelled&quot;</code>. After stepping through the JDBC.Net source code the <code>var process = JavaRuntime.Execute(javaRunArgs);</code> (in <code>Models\\JdbcBridge.cs</code>) immediately exits, and they cancel the task. I found that the java runtime cannot find the <code>JDBC.NET.Bridge.jar</code> in the asp.net core project execution directory. So i put in a pull request to fix that and fully qualify the path to the jar files.</p>\n<p><a href=\"https://github.com/chequer-io/JDBC.NET/pull/29\" rel=\"nofollow noreferrer\">Support ASP.Net Core #29 </a></p>\n<p>You can wait for evan to complete the pull request and publish another nuget package or you can include their source into your project like I did, and then add my code. You then may have to copy <code>JDBC.NET.Bridge.jar</code> from the console app exe directory to <code>JDBC.NET.Bridge\\target</code> as <code>JDBC.NET.Bridge-1.0-SNAPSHOT-jar-with-dependencies.jar</code> (for debug, or just <code>JDBC.NET.Bridge.jar</code> in release).</p>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":2365447,"reputation":67,"user_id":2071206,"accept_rate":0,"display_name":"Serhan Altug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686769398,"creation_date":1681890991,"question_id":76052007,"body_markdown":"I want to use JDBC.Net.Data on my project.\r\nIn .Net Core 6 console application it works but when I try it in a .Net Core 6 Web API I get the error below.\r\n\r\n&gt;&quot;J2NET.Runtime could not be found. Please check if the runtime is installed for your platform.&quot;\r\n\r\nEverything is similar in both projects.\r\n\r\nThe problem is, In Web App, Kesrel can&#39;t access the JRE files which is included in the bin/debug/net6.0/runtimes folder.\r\n\r\nBut in my console application, everything is same as web app, even the folder structures.\r\n\r\nHow can I set my web app to fix this problem?","title":"J2NET.Runtime could not be found. Please check if the runtime is installed for your platform","body":"<p>I want to use JDBC.Net.Data on my project.\nIn .Net Core 6 console application it works but when I try it in a .Net Core 6 Web API I get the error below.</p>\n<blockquote>\n<p>&quot;J2NET.Runtime could not be found. Please check if the runtime is installed for your platform.&quot;</p>\n</blockquote>\n<p>Everything is similar in both projects.</p>\n<p>The problem is, In Web App, Kesrel can't access the JRE files which is included in the bin/debug/net6.0/runtimes folder.</p>\n<p>But in my console application, everything is same as web app, even the folder structures.</p>\n<p>How can I set my web app to fix this problem?</p>\n"},{"tags":["java","time","datetime-format","java-time","gmt"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1685625858,"post_id":76382010,"comment_id":134688696,"body_markdown":"What exactly does not work? Is it just the format? In your output example is one line that differs from the others by using your format. Where do those logs come from? Maybe the `IAMFAUtil` uses a different log source than `MFA` and just doesn&#39;t apply your format…","body":"What exactly does not work? Is it just the format? In your output example is one line that differs from the others by using your format. Where do those logs come from? Maybe the <code>IAMFAUtil</code> uses a different log source than <code>MFA</code> and just doesn&#39;t apply your format…"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1685640298,"post_id":76382010,"comment_id":134692276,"body_markdown":"As an aside your tome zone conversion is wrong. You want `OffsetDateTime .now(ZoneOffset.UTC) .truncatedTo(ChronoUnit.SECONDS) .format(formatter)`. You don’t want to use `LocalDateTime` for anything since it does not define a point in time.","body":"As an aside your tome zone conversion is wrong. You want <code>OffsetDateTime .now(ZoneOffset.UTC) .truncatedTo(ChronoUnit.SECONDS) .format(formatter)</code>. You don’t want to use <code>LocalDateTime</code> for anything since it does not define a point in time."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685640426,"post_id":76382010,"comment_id":134692297,"body_markdown":"Your output generally looks fair to me. Please specify what you had desired instead.","body":"Your output generally looks fair to me. Please specify what you had desired instead."},{"owner":{"account_id":136031,"reputation":121,"user_id":339274,"accept_rate":60,"display_name":"kishjeff"},"score":0,"creation_date":1686768604,"post_id":76382010,"comment_id":134846132,"body_markdown":"I will retest to avoid misleading &#39;brain farc&#39; questions, thanks.","body":"I will retest to avoid misleading &#39;brain farc&#39; questions, thanks."}],"owner":{"account_id":136031,"reputation":121,"user_id":339274,"accept_rate":60,"display_name":"kishjeff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686768564,"creation_date":1685623527,"question_id":76382010,"body_markdown":"I have this code which is part of building a JWT token using a string in a certain format that should represent the current time in the GMT timezone:\r\n\r\n```Java\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                                    .appendPattern(&quot;MM/dd/yyyy &quot;)\r\n                                    .appendPattern(&quot;HH:mm:ss&quot;)\r\n                                    .toFormatter(Locale.ENGLISH)\r\n                                    .withResolverStyle(ResolverStyle.SMART);\r\n    \r\n// Get the current time in the GMT timezone\r\nLocalDateTime currentTime = LocalDateTime.now().withNano(0);\r\nString sDFM = currentTime.atZone(TimeZone.getTimeZone(&quot;GMT&quot;).toZoneId())\r\n                         .format(formatter);\r\ndebugLog(&quot; time to use for token is: &quot; + sDFM);\r\n```\r\n\r\nPerplexing as it is (to me), this does not always work, just enough to make me think its solved and then bang…. It fails.\r\n\r\n\r\nHere are some log file entries which have the websphere log time at the left in UTC and the time returned by the above code on the right:\r\n```none\r\nLine 243479: [5/31/23 23:07:39:596 UTC] 00000156 SystemOut     O 31 May 2023 23:07:39:596 [DEBUG] [MXServer] [] MFA  time to use for token is: May, 31 2023 23:07:39\r\nLine 358120: [5/31/23 23:30:55:926 UTC] 00000159 SystemOut     O 31 May 2023 23:30:55:926 [DEBUG] [MXServer] [] IAMFAUtil  time to use for token is: 05/31/2023 23:30:55\r\nLine 568091: [6/1/23 0:26:39:967 UTC] 00000158 SystemOut     O 01 Jun 2023 00:26:39:967 [DEBUG] [MXServer] [] MFA  time to use for token is: June, 01 2023 24:26:39\r\nLine 568178: [6/1/23 0:26:40:611 UTC] 00000158 SystemOut     O 01 Jun 2023 00:26:40:611 [DEBUG] [MXServer] [] MFA  time to use for token is: June, 01 2023 24:26:40\r\n```\r\n\r\n**I also sometimes get another time in some other zone that says 5am (occasionally)**\r\nThis happens just frequently enough that everything stops working …\r\nNew note: I didn&#39;t expect an output of &quot;24:26:40&quot; ever, I expected 0-23 for the hour (first segment of the output), i.e. pattern HH instead of pattern kk. I will retest to verify I am not misleading anyone here and get back. Thank you for your time and thoughts.\r\n\r\n\r\n","title":"java time inconsistently reporting results","body":"<p>I have this code which is part of building a JWT token using a string in a certain format that should represent the current time in the GMT timezone:</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                                    .appendPattern(&quot;MM/dd/yyyy &quot;)\n                                    .appendPattern(&quot;HH:mm:ss&quot;)\n                                    .toFormatter(Locale.ENGLISH)\n                                    .withResolverStyle(ResolverStyle.SMART);\n    \n// Get the current time in the GMT timezone\nLocalDateTime currentTime = LocalDateTime.now().withNano(0);\nString sDFM = currentTime.atZone(TimeZone.getTimeZone(&quot;GMT&quot;).toZoneId())\n                         .format(formatter);\ndebugLog(&quot; time to use for token is: &quot; + sDFM);\n</code></pre>\n<p>Perplexing as it is (to me), this does not always work, just enough to make me think its solved and then bang…. It fails.</p>\n<p>Here are some log file entries which have the websphere log time at the left in UTC and the time returned by the above code on the right:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Line 243479: [5/31/23 23:07:39:596 UTC] 00000156 SystemOut     O 31 May 2023 23:07:39:596 [DEBUG] [MXServer] [] MFA  time to use for token is: May, 31 2023 23:07:39\nLine 358120: [5/31/23 23:30:55:926 UTC] 00000159 SystemOut     O 31 May 2023 23:30:55:926 [DEBUG] [MXServer] [] IAMFAUtil  time to use for token is: 05/31/2023 23:30:55\nLine 568091: [6/1/23 0:26:39:967 UTC] 00000158 SystemOut     O 01 Jun 2023 00:26:39:967 [DEBUG] [MXServer] [] MFA  time to use for token is: June, 01 2023 24:26:39\nLine 568178: [6/1/23 0:26:40:611 UTC] 00000158 SystemOut     O 01 Jun 2023 00:26:40:611 [DEBUG] [MXServer] [] MFA  time to use for token is: June, 01 2023 24:26:40\n</code></pre>\n<p><strong>I also sometimes get another time in some other zone that says 5am (occasionally)</strong>\nThis happens just frequently enough that everything stops working …\nNew note: I didn't expect an output of &quot;24:26:40&quot; ever, I expected 0-23 for the hour (first segment of the output), i.e. pattern HH instead of pattern kk. I will retest to verify I am not misleading anyone here and get back. Thank you for your time and thoughts.</p>\n"},{"tags":["java","scala","apache-spark"],"owner":{"account_id":13276438,"reputation":33,"user_id":9585639,"display_name":"Sumanto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686767701,"creation_date":1686767701,"question_id":76476618,"body_markdown":"Facing the below error when we are doing a spark-submit v3.2.2. We are adding external spark-streaming-kafka-0-10 v2.12-3.1.1. When we tried to debug the issue, it looks like the slf4j-api-1.7.29 jar which is used by our application is causing the conflict.\r\nBut when we are trying to exclude the slf4j-api jar, Our application loggers are failing to initialise with error like &quot;No appenders could be found for logger (Main Class)&quot;. \r\nWe are also using logback jars which may be using slf4j-api internally, not exactly clear about it. But this issue we have found no resolution. \r\n&gt; java.lang.LinkageError: loader constraint violation in interface itable initialization: when resolving method &quot;org.apache.spark.streaming.kafka010.Subscribe.org$apache$spark$internal$Logging$$log_() Lorg/slf4j/Logger;&quot; the class loader (instance of org/apache/spark/util/ChildFirstURLClassLoader) of the current class, org/apache/spark/streaming/kafka010/Subscribe, and the class loader (instance of sun/misc/Launcher$AppClassLoader) for interface org/apache/spark/interna1/Logging have different Class objects for the type org/slf4j/Logger used in the signature at org.apache.spark.streaming.kafka010.Consumerstrategies$. Subscribe (Consumerstrategy.scala:299\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/oyIko.jpg","title":"LinkageError facing while doing spark-submit","body":"<p>Facing the below error when we are doing a spark-submit v3.2.2. We are adding external spark-streaming-kafka-0-10 v2.12-3.1.1. When we tried to debug the issue, it looks like the slf4j-api-1.7.29 jar which is used by our application is causing the conflict.\nBut when we are trying to exclude the slf4j-api jar, Our application loggers are failing to initialise with error like &quot;No appenders could be found for logger (Main Class)&quot;.\nWe are also using logback jars which may be using slf4j-api internally, not exactly clear about it. But this issue we have found no resolution.</p>\n<blockquote>\n<p>java.lang.LinkageError: loader constraint violation in interface itable initialization: when resolving method &quot;org.apache.spark.streaming.kafka010.Subscribe.org$apache$spark$internal$Logging$$log_() Lorg/slf4j/Logger;&quot; the class loader (instance of org/apache/spark/util/ChildFirstURLClassLoader) of the current class, org/apache/spark/streaming/kafka010/Subscribe, and the class loader (instance of sun/misc/Launcher$AppClassLoader) for interface org/apache/spark/interna1/Logging have different Class objects for the type org/slf4j/Logger used in the signature at org.apache.spark.streaming.kafka010.Consumerstrategies$. Subscribe (Consumerstrategy.scala:299</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/oyIko.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oyIko.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk","aws-s3-client"],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686767676,"creation_date":1686752188,"question_id":76474550,"body_markdown":"I am uploading a file directory from windows system to S3 bucket using S3TransferManager uploadDirectory method below is the code for that ..\r\n\r\n   ```\r\n    \tprivate static void copyFromServerToS3(S3TransferManager transferManager, File sourceFile, String s3URI)\r\n\t\t\tthrows URISyntaxException, InterruptedException, ExecutionException, TimeoutException {\r\n\r\n\t\tDirectoryUpload directoryUpload;\r\n\t\tString prefix = S3URLUtils.key(s3URI);\r\n\t\tif (StringUtils.isNotEmpty(prefix)) {\r\n\t\t\tdirectoryUpload = transferManager.uploadDirectory(UploadDirectoryRequest.builder()\r\n\t\t\t\t\t.source(sourceFile.toPath()).bucket(URLUtils.bucketNameForURI(s3URI)).s3Prefix(prefix).build());\r\n\t\t} else {\r\n\t\t\tdirectoryUpload = transferManager.uploadDirectory(UploadDirectoryRequest.builder()\r\n\t\t\t\t\t.source(sourceFile.toPath()).bucket(S3URLUtils.bucketNameForURI(s3URI)).build());\r\n\t\t}\r\n\t\tCompletedDirectoryUpload completedDirectoryUpload = directoryUpload.completionFuture().get();\r\n\t\tcompletedDirectoryUpload.failedTransfers()\r\n\t\t\t\t.forEach(fail -&gt; LOG.warn(String.format(&quot;Object [%s] failed to transfer&quot;, fail.toString())));\r\n\t}\r\n\r\n   ```\r\nFor the above code when I am trying to upload a directory to s3 from windows file system which is having multiple files then the above code uploads the files which are small in size but its not uploading one of the file which is around 530 mb size and it fails with below exception ...\\\r\n\r\n  ```\r\n   exception=software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Write timed out)] failed to transfer\r\n  ```\r\n\r\n Is there something I can do to get this bigger file too uploaded to S3 bucket ? Please suggest.\r\n","title":"Getting write timed out SdkClientException while uploading a directory with large file size","body":"<p>I am uploading a file directory from windows system to S3 bucket using S3TransferManager uploadDirectory method below is the code for that ..</p>\n<pre><code>     private static void copyFromServerToS3(S3TransferManager transferManager, File sourceFile, String s3URI)\n         throws URISyntaxException, InterruptedException, ExecutionException, TimeoutException {\n\n     DirectoryUpload directoryUpload;\n     String prefix = S3URLUtils.key(s3URI);\n     if (StringUtils.isNotEmpty(prefix)) {\n         directoryUpload = transferManager.uploadDirectory(UploadDirectoryRequest.builder()\n                 .source(sourceFile.toPath()).bucket(URLUtils.bucketNameForURI(s3URI)).s3Prefix(prefix).build());\n     } else {\n         directoryUpload = transferManager.uploadDirectory(UploadDirectoryRequest.builder()\n                 .source(sourceFile.toPath()).bucket(S3URLUtils.bucketNameForURI(s3URI)).build());\n     }\n     CompletedDirectoryUpload completedDirectoryUpload = directoryUpload.completionFuture().get();\n     completedDirectoryUpload.failedTransfers()\n             .forEach(fail -&gt; LOG.warn(String.format(&quot;Object [%s] failed to transfer&quot;, fail.toString())));\n }\n\n</code></pre>\n<p>For the above code when I am trying to upload a directory to s3 from windows file system which is having multiple files then the above code uploads the files which are small in size but its not uploading one of the file which is around 530 mb size and it fails with below exception ...\\</p>\n<pre><code> exception=software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Write timed out)] failed to transfer\n</code></pre>\n<p>Is there something I can do to get this bigger file too uploaded to S3 bucket ? Please suggest.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"score":0,"creation_date":1647835239,"post_id":71548830,"comment_id":126462621,"body_markdown":"You can catch the exception throws by Spring when no handler is found for a request. Details here: https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found","body":"You can catch the exception throws by Spring when no handler is found for a request. Details here: <a href=\"https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found\" title=\"spring boot taking control of 404 not found\">stackoverflow.com/questions/30329543/&hellip;</a>"},{"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"score":0,"creation_date":1652449921,"post_id":71548830,"comment_id":127616074,"body_markdown":"Do you find a solution @sineverba","body":"Do you find a solution @sineverba"}],"answers":[{"tags":[],"owner":{"account_id":4360995,"reputation":172,"user_id":3558080,"display_name":"Daniel Santana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657742803,"creation_date":1657742803,"answer_id":72972039,"question_id":71548830,"body_markdown":"Add following property in your application.properties:\r\n\r\n    spring.web.resources.add-mappings=false","title":"Override the handleNoHandlerFoundException","body":"<p>Add following property in your application.properties:</p>\n<pre><code>spring.web.resources.add-mappings=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14593315,"reputation":109,"user_id":10539821,"display_name":"Emmanuel Madarassou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686767663,"creation_date":1686767663,"answer_id":76476613,"question_id":71548830,"body_markdown":"For those who are still looking an answer:\r\n\r\n1. Define your custom ExceptionHandler that extends ResponseEntityExceptionHandler.\r\n2. Override the methode handleNoHandlerFoundException and return a ResponseEntity with your custom Error object.\r\n3. Add the following properties in your application.properties file: \r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n\r\n    spring.web.resources.add-mappings=false","title":"Override the handleNoHandlerFoundException","body":"<p>For those who are still looking an answer:</p>\n<ol>\n<li><p>Define your custom ExceptionHandler that extends ResponseEntityExceptionHandler.</p>\n</li>\n<li><p>Override the methode handleNoHandlerFoundException and return a ResponseEntity with your custom Error object.</p>\n</li>\n<li><p>Add the following properties in your application.properties file:</p>\n<p>spring.mvc.throw-exception-if-no-handler-found=true</p>\n<p>spring.web.resources.add-mappings=false</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1405071,"reputation":5124,"user_id":1333012,"accept_rate":56,"display_name":"sineverba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686767663,"creation_date":1647795865,"question_id":71548830,"body_markdown":"I want override the Spring Boot default result when calling a not-existing route:\r\n\r\n```json\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-03-20T17:01:07.453+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;path&quot;: &quot;/api/v1/not-found&quot;\r\n}\r\n```\r\n\r\nI have a `ControllerAdvisor`\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class ControllerAdvisor extends ResponseEntityExceptionHandler {\r\n  @Override\r\n  protected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\t  return ResponseEntity.badRequest().body(new ErrorResponse(&quot;path not found&quot;));\r\n  }\r\n}\r\n```\r\n\r\nthat it works for others custom exception.\r\n\r\nI have also added (or removed) this property on application.properties but nothing change:\r\n\r\n`spring.mvc.throw-exception-if-no-handler-found=true`\r\n\r\nSpring boot starter parent is v. 2.6.4","title":"Override the handleNoHandlerFoundException","body":"<p>I want override the Spring Boot default result when calling a not-existing route:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2022-03-20T17:01:07.453+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/api/v1/not-found&quot;\n}\n</code></pre>\n<p>I have a <code>ControllerAdvisor</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ControllerAdvisor extends ResponseEntityExceptionHandler {\n  @Override\n  protected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n      return ResponseEntity.badRequest().body(new ErrorResponse(&quot;path not found&quot;));\n  }\n}\n</code></pre>\n<p>that it works for others custom exception.</p>\n<p>I have also added (or removed) this property on application.properties but nothing change:</p>\n<p><code>spring.mvc.throw-exception-if-no-handler-found=true</code></p>\n<p>Spring boot starter parent is v. 2.6.4</p>\n"},{"tags":["java","algorithm","bit-manipulation","bit-shift","biginteger"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":3,"creation_date":1686768462,"post_id":76476586,"comment_id":134846104,"body_markdown":"This is an algorithm that you learned in elementary school, maybe you are confusing yourself with the implementation details but the algorithm itself is trivial. How do you multiply 123456 by 8? With this algorithm, probably. Multiply 6 by 8, write down an 8, carry the 4.. that&#39;s what&#39;s happening here but with a higher base.","body":"This is an algorithm that you learned in elementary school, maybe you are confusing yourself with the implementation details but the algorithm itself is trivial. How do you multiply 123456 by 8? With this algorithm, probably. Multiply 6 by 8, write down an 8, carry the 4.. that&#39;s what&#39;s happening here but with a higher base."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686771450,"post_id":76476586,"comment_id":134846614,"body_markdown":"Could you please go into more detail ? The internal representation of `12345678901234567890123456789012345678901234567890` looks like `[8, 1920951145, -1426572127, 1344697466, -121114218, -834729262]`. Could you please show an example with a higher base ? **How does the internal representation correlate to the actual number ?**","body":"Could you please go into more detail ? The internal representation of <code>12345678901234567890123456789012345678901234567890</code> looks like <code>[8, 1920951145, -1426572127, 1344697466, -121114218, -834729262]</code>. Could you please show an example with a higher base ? <b>How does the internal representation correlate to the actual number ?</b>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686771498,"post_id":76476586,"comment_id":134846628,"body_markdown":"@harold I am unable to ascertain how this is just a simple multiplication.","body":"@harold I am unable to ascertain how this is just a simple multiplication."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686772118,"post_id":76476586,"comment_id":134846726,"body_markdown":"Just as 123 means 3 * 10^0 + 2 * 10^1 + 1 * 10^2, here `int[] { 1, 2, 3 }` would mean 3 * (2^32)^0 + 2 * (2^32)^1 + 1 * (2^32)^2. Limbs with their highest bit set will be presented as being negative, but you&#39;re supposed to interpret them as unsigned values, which the code does by bitwise-ANDing them with `LONG_MASK`","body":"Just as 123 means 3 * 10^0 + 2 * 10^1 + 1 * 10^2, here <code>int[] { 1, 2, 3 }</code> would mean 3 * (2^32)^0 + 2 * (2^32)^1 + 1 * (2^32)^2. Limbs with their highest bit set will be presented as being negative, but you&#39;re supposed to interpret them as unsigned values, which the code does by bitwise-ANDing them with <code>LONG_MASK</code>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686775293,"post_id":76476586,"comment_id":134847270,"body_markdown":"@harold Ok maybe I am beginning to understand a bit. The base of the number is `10^9`, right? Each digit can have `0 - 10^9-1` symbols, right? Each digit is an element in the `int[]` array, right? So just like in decimal to add a digit to its correct position I multiply the partial number I have then add the digit to that, I am multiplying by `10^9` as that is the base we are using. So its `y*10^9 + z`, correct ?","body":"@harold Ok maybe I am beginning to understand a bit. The base of the number is <code>10^9</code>, right? Each digit can have <code>0 - 10^9-1</code> symbols, right? Each digit is an element in the <code>int[]</code> array, right? So just like in decimal to add a digit to its correct position I multiply the partial number I have then add the digit to that, I am multiplying by <code>10^9</code> as that is the base we are using. So its <code>y*10^9 + z</code>, correct ?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686775425,"post_id":76476586,"comment_id":134847286,"body_markdown":"@harold But then I have a confusion about the way the multiplication is being done. **Why is it multiplying each digit with the `radix` ?** That&#39;s not how the algorithm works right ? You are supposed to take the entire number as it is now right ?","body":"@harold But then I have a confusion about the way the multiplication is being done. <b>Why is it multiplying each digit with the <code>radix</code> ?</b> That&#39;s not how the algorithm works right ? You are supposed to take the entire number as it is now right ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1686776256,"post_id":76476586,"comment_id":134847432,"body_markdown":"The base of the number in the `int[]` is `2^32`, the base of the number being parsed is effectively `10^9` (by pulling out 9 digits and parsing them to an `int` first). We multiply the number in the `int[]` by `10^9`, because that&#39;s the base of the number being parsed (effectively), but that multiplication happens in a representation that is base `2^32`.","body":"The base of the number in the <code>int[]</code> is <code>2^32</code>, the base of the number being parsed is effectively <code>10^9</code> (by pulling out 9 digits and parsing them to an <code>int</code> first). We multiply the number in the <code>int[]</code> by <code>10^9</code>, because that&#39;s the base of the number being parsed (effectively), but that multiplication happens in a representation that is base <code>2^32</code>."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686860330,"post_id":76476586,"comment_id":134860146,"body_markdown":"@harold Why not just convert base `10` to base `10^9` ? Why convert to base `2^32` ? Keeping it as `10^9` wont even have to change the representation. Each base `10^9` block can be one element in the `mag[]` array. **It seems so much easier. Where am I going wrong ?**","body":"@harold Why not just convert base <code>10</code> to base <code>10^9</code> ? Why convert to base <code>2^32</code> ? Keeping it as <code>10^9</code> wont even have to change the representation. Each base <code>10^9</code> block can be one element in the <code>mag[]</code> array. <b>It seems so much easier. Where am I going wrong ?</b>"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1686860462,"post_id":76476586,"comment_id":134860172,"body_markdown":"Absolutely, that would be much easier - for conversion to and from a (decimal) string. It would be less efficient to implement arithmetic on that representation, but it&#39;s possible and sometimes done that way. Java&#39;s `BigInteger` doesn&#39;t do it that way.","body":"Absolutely, that would be much easier - for conversion to and from a (decimal) string. It would be less efficient to implement arithmetic on that representation, but it&#39;s possible and sometimes done that way. Java&#39;s <code>BigInteger</code> doesn&#39;t do it that way."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686861036,"post_id":76476586,"comment_id":134860293,"body_markdown":"@harold Why do the comments in the code say that the magnitude is stored in `big-endian` format ? Shouldn&#39;t it be `little endian` as it parses the number from `left to right` but stores in the array from `right to left` ?","body":"@harold Why do the comments in the code say that the magnitude is stored in <code>big-endian</code> format ? Shouldn&#39;t it be <code>little endian</code> as it parses the number from <code>left to right</code> but stores in the array from <code>right to left</code> ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686861135,"post_id":76476586,"comment_id":134860319,"body_markdown":"The most significant part of the number is stored at the lowest index, which is similar to big-endian although I normally only use that terminology for a byte order. That&#39;s why the loops for multiplication and addition are &quot;backwards&quot;.","body":"The most significant part of the number is stored at the lowest index, which is similar to big-endian although I normally only use that terminology for a byte order. That&#39;s why the loops for multiplication and addition are &quot;backwards&quot;."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686861158,"post_id":76476586,"comment_id":134860329,"body_markdown":"@harold How is implementing arithmetic on `2^32` easier than `10^9` ?","body":"@harold How is implementing arithmetic on <code>2^32</code> easier than <code>10^9</code> ?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686861432,"post_id":76476586,"comment_id":134860381,"body_markdown":"@harold When you say &quot;lowest index&quot; do you mean `len -1` index or `0` index ?","body":"@harold When you say &quot;lowest index&quot; do you mean <code>len -1</code> index or <code>0</code> index ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686861544,"post_id":76476586,"comment_id":134860402,"body_markdown":"For the purposes of eg addition and multiplication: if you use base 2^32 you never have to use annoying operations such as modulo by 10^9 or divide by 10^9, just truncation and shift. Even worse, for the purposes of eg `bitCount`, `shiftRight`, `xor`, having a non-power-of-two base would be very annoying. By &quot;lowest index&quot; I just mean zero.","body":"For the purposes of eg addition and multiplication: if you use base 2^32 you never have to use annoying operations such as modulo by 10^9 or divide by 10^9, just truncation and shift. Even worse, for the purposes of eg <code>bitCount</code>, <code>shiftRight</code>, <code>xor</code>, having a non-power-of-two base would be very annoying. By &quot;lowest index&quot; I just mean zero."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1686905102,"post_id":76476586,"comment_id":134865433,"body_markdown":"@harold Ok, I am unable to understand how the most significant part of the number is in `0` index. For example, take the number `1234567890123456789`, the implementation (verified via debugger) will take `12345` from the left and then put it in the `len - 1` index of the `mag` array. **So it is taking the most significant part of the number and placing it in highest index ie. `len - 1`**. **And isn&#39;t that little endian ?** Where am I going wrong ?","body":"@harold Ok, I am unable to understand how the most significant part of the number is in <code>0</code> index. For example, take the number <code>1234567890123456789</code>, the implementation (verified via debugger) will take <code>12345</code> from the left and then put it in the <code>len - 1</code> index of the <code>mag</code> array. <b>So it is taking the most significant part of the number and placing it in highest index ie. <code>len - 1</code></b>. <b>And isn&#39;t that little endian ?</b> Where am I going wrong ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686937080,"post_id":76476586,"comment_id":134872231,"body_markdown":"It just looks that way. If you look at the final result, or at how the arithmetic works, you will see that it&#39;s not so. The number in the `int[]` is iteratively changed by multiplying it by 10^9 and adding a chunk from the string. The *first* part of the string that gets added to it, starts at the least significant end of the `int[]` indeed, but then it gets multiplied by 10^9 the most times so it ends up in the most significant part eventually. Try parsing &quot;340282367079394788547243514857164636165&quot;","body":"It just looks that way. If you look at the final result, or at how the arithmetic works, you will see that it&#39;s not so. The number in the <code>int[]</code> is iteratively changed by multiplying it by 10^9 and adding a chunk from the string. The <i>first</i> part of the string that gets added to it, starts at the least significant end of the <code>int[]</code> indeed, but then it gets multiplied by 10^9 the most times so it ends up in the most significant part eventually. Try parsing &quot;340282367079394788547243514857164636165&quot;"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1686945420,"post_id":76476586,"comment_id":134873550,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254109/discussion-between-harold-and-ng-newbie).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254109/discussion-between-harold-and-ng-newbie\">continue this discussion in chat</a>."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1688415332,"post_id":76476586,"comment_id":135068628,"body_markdown":"@harold Hey I now fully understand the `destructivemuladd` thanks to you. But I still am not entirely sure about why use `10^9` as the radix and not `10^10`. A 32-bit integer in Java can have 10 digits, so why restrict yourself to 9 digits on each iteration ?","body":"@harold Hey I now fully understand the <code>destructivemuladd</code> thanks to you. But I still am not entirely sure about why use <code>10^9</code> as the radix and not <code>10^10</code>. A 32-bit integer in Java can have 10 digits, so why restrict yourself to 9 digits on each iteration ?"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1688415749,"post_id":76476586,"comment_id":135068686,"body_markdown":"There are some ints that have 10 digits in decimal, but not all numbers that have 10 digits in decimal fit in an int.","body":"There are some ints that have 10 digits in decimal, but not all numbers that have 10 digits in decimal fit in an int."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1688442092,"post_id":76476586,"comment_id":135071166,"body_markdown":"@harold I don&#39;t understand, can you please elaborate? The 32-bit int can store 10 digits, right? so why place only 9 digits in it? is it to protect against overflows? it slices it up into 9 digits on each iteration, I just feel 10 digits would be a more efficient utilization of space.","body":"@harold I don&#39;t understand, can you please elaborate? The 32-bit int can store 10 digits, right? so why place only 9 digits in it? is it to protect against overflows? it slices it up into 9 digits on each iteration, I just feel 10 digits would be a more efficient utilization of space."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1688451231,"post_id":76476586,"comment_id":135071967,"body_markdown":"Even when using int in an unsigned way (`parseUnsignedInt` etc), it can still only go up to 4,294,967,295, but 10 digit numbers go up to 9,999,999,999 so over half of them don&#39;t fit","body":"Even when using int in an unsigned way (<code>parseUnsignedInt</code> etc), it can still only go up to 4,294,967,295, but 10 digit numbers go up to 9,999,999,999 so over half of them don&#39;t fit"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1688730112,"post_id":76476586,"comment_id":135116469,"body_markdown":"@harold I can&#39;t thank you enough. I wish you would just compile these points and add it into an answer.","body":"@harold I can&#39;t thank you enough. I wish you would just compile these points and add it into an answer."}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686767525,"creation_date":1686767525,"question_id":76476586,"body_markdown":"I am doing this side project where I try to understand the internal implementation of some of the widely used utility classes in Java.\r\n\r\nI want to know how BigInteger store&#39;s the number internally.\r\n\r\nWhat I found was that it is [using an int\\[\\]][1] for storing the magnitude of a number in &quot;big-endian&quot; format.\r\n\r\nIt does this via the [destructiveMulAdd][2] add function:\r\n\r\n    private static void destructiveMulAdd(int[] x, int y, int z) {\r\n            // Perform the multiplication word by word\r\n            long ylong = y &amp; LONG_MASK;\r\n            long zlong = z &amp; LONG_MASK;\r\n            int len = x.length;\r\n    \r\n            long product = 0;\r\n            long carry = 0;\r\n            for (int i = len-1; i &gt;= 0; i--) {\r\n                product = ylong * (x[i] &amp; LONG_MASK) + carry;\r\n                x[i] = (int)product;\r\n                carry = product &gt;&gt;&gt; 32;\r\n            }\r\n    \r\n            // Perform the addition\r\n            long sum = (x[len-1] &amp; LONG_MASK) + zlong;\r\n            x[len-1] = (int)sum;\r\n            carry = sum &gt;&gt;&gt; 32;\r\n            for (int i = len-2; i &gt;= 0; i--) {\r\n                sum = (x[i] &amp; LONG_MASK) + carry;\r\n                x[i] = (int)sum;\r\n                carry = sum &gt;&gt;&gt; 32;\r\n            }\r\n        }\r\n\r\nWhat is really going on here ?\r\n\r\nUsing a debugger I was able to find out the following things:\r\n\r\n 1. Given a large number: segments of the number are broken down and [converted to integers][3] and sent to this function along with something called a &quot;superRadix&quot; which for base 10 = 10^9\r\n 2. Once in the function both are converted to long [with some masking][4] to preserve the sign bit.\r\n 3. `product` is calculated from the last index of the magnitude array by [multiplying with &quot;superRadix&quot; and adding the carry][5].\r\n 4. The `product` is truncated to an int, ie. only least significant 32-bits from the 64-bit long are stored in `x[i]`.\r\n 5. The most significant bits of the product are shifted 32 places to occupy the place where the product was truncated. That becomes the `carry`.\r\n 6. The operation repeats till the last index of the magnitude array.\r\n\r\nNext the summation phase begins:\r\n\r\n 1. The original segment `zlong` is added with the last content of the magnitude array to form the new `sum`.\r\n 2. The last index is set to the &quot;int truncated&quot; value of the `long sum` ie. only the least significant 32 bits are taken of the 64-bit `sum`.\r\n 3. `carry` is equal to setting `sum` shifted by 32 bits ie. taking the remaining non-truncated 32 bits of the 64 bit `sum`.\r\n 4. For some reason we start from `len-2` of the magnitude array and work backwards. Doing the same truncate and shift for `sum` and `carry`.\r\n\r\n**My questions are as follows:**\r\n\r\n 1. In what way is the array storing the magnitude ? It seems like madness, it is taking the previously calculated value and then multiplying with new segment... ugghh\r\n\r\n 2. Shouldn&#39;t this be **little endian** ? For example given `12345678890123`, it will take the **leftmost** digits and put it `len-1`(last) index of the array. **So isn&#39;t it placing the most significant bits in the least significant array indexes ?**\r\n\r\n 3. What is going on with `superRadix` being 10^9 for base10 ?\r\n\r\n 4. What is the truncate and shift actually doing ? **Is it doing a mod then divide?**\r\n\r\n 5. Just basically how this entire thing is actually working ?\r\n\r\n\r\nI wish there were better documentation of the algorithms used, however there is none I could find hence here I am.\r\n \r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L155\r\n  [2]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L640\r\n  [3]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L550\r\n  [4]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L642\r\n  [5]: https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L649","title":"java BigInteger - How does destructiveMulAdd convert a number to big endian magnitude?","body":"<p>I am doing this side project where I try to understand the internal implementation of some of the widely used utility classes in Java.</p>\n<p>I want to know how BigInteger store's the number internally.</p>\n<p>What I found was that it is <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L155\" rel=\"nofollow noreferrer\">using an int[]</a> for storing the magnitude of a number in &quot;big-endian&quot; format.</p>\n<p>It does this via the <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L640\" rel=\"nofollow noreferrer\">destructiveMulAdd</a> add function:</p>\n<pre><code>private static void destructiveMulAdd(int[] x, int y, int z) {\n        // Perform the multiplication word by word\n        long ylong = y &amp; LONG_MASK;\n        long zlong = z &amp; LONG_MASK;\n        int len = x.length;\n\n        long product = 0;\n        long carry = 0;\n        for (int i = len-1; i &gt;= 0; i--) {\n            product = ylong * (x[i] &amp; LONG_MASK) + carry;\n            x[i] = (int)product;\n            carry = product &gt;&gt;&gt; 32;\n        }\n\n        // Perform the addition\n        long sum = (x[len-1] &amp; LONG_MASK) + zlong;\n        x[len-1] = (int)sum;\n        carry = sum &gt;&gt;&gt; 32;\n        for (int i = len-2; i &gt;= 0; i--) {\n            sum = (x[i] &amp; LONG_MASK) + carry;\n            x[i] = (int)sum;\n            carry = sum &gt;&gt;&gt; 32;\n        }\n    }\n</code></pre>\n<p>What is really going on here ?</p>\n<p>Using a debugger I was able to find out the following things:</p>\n<ol>\n<li>Given a large number: segments of the number are broken down and <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L550\" rel=\"nofollow noreferrer\">converted to integers</a> and sent to this function along with something called a &quot;superRadix&quot; which for base 10 = 10^9</li>\n<li>Once in the function both are converted to long <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L642\" rel=\"nofollow noreferrer\">with some masking</a> to preserve the sign bit.</li>\n<li><code>product</code> is calculated from the last index of the magnitude array by <a href=\"https://github.com/openjdk/jdk/blob/57b8251241e2044d5039ce162bf4637a9b2e5466/src/java.base/share/classes/java/math/BigInteger.java#L649\" rel=\"nofollow noreferrer\">multiplying with &quot;superRadix&quot; and adding the carry</a>.</li>\n<li>The <code>product</code> is truncated to an int, ie. only least significant 32-bits from the 64-bit long are stored in <code>x[i]</code>.</li>\n<li>The most significant bits of the product are shifted 32 places to occupy the place where the product was truncated. That becomes the <code>carry</code>.</li>\n<li>The operation repeats till the last index of the magnitude array.</li>\n</ol>\n<p>Next the summation phase begins:</p>\n<ol>\n<li>The original segment <code>zlong</code> is added with the last content of the magnitude array to form the new <code>sum</code>.</li>\n<li>The last index is set to the &quot;int truncated&quot; value of the <code>long sum</code> ie. only the least significant 32 bits are taken of the 64-bit <code>sum</code>.</li>\n<li><code>carry</code> is equal to setting <code>sum</code> shifted by 32 bits ie. taking the remaining non-truncated 32 bits of the 64 bit <code>sum</code>.</li>\n<li>For some reason we start from <code>len-2</code> of the magnitude array and work backwards. Doing the same truncate and shift for <code>sum</code> and <code>carry</code>.</li>\n</ol>\n<p><strong>My questions are as follows:</strong></p>\n<ol>\n<li><p>In what way is the array storing the magnitude ? It seems like madness, it is taking the previously calculated value and then multiplying with new segment... ugghh</p>\n</li>\n<li><p>Shouldn't this be <strong>little endian</strong> ? For example given <code>12345678890123</code>, it will take the <strong>leftmost</strong> digits and put it <code>len-1</code>(last) index of the array. <strong>So isn't it placing the most significant bits in the least significant array indexes ?</strong></p>\n</li>\n<li><p>What is going on with <code>superRadix</code> being 10^9 for base10 ?</p>\n</li>\n<li><p>What is the truncate and shift actually doing ? <strong>Is it doing a mod then divide?</strong></p>\n</li>\n<li><p>Just basically how this entire thing is actually working ?</p>\n</li>\n</ol>\n<p>I wish there were better documentation of the algorithms used, however there is none I could find hence here I am.</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1686764290,"post_id":76474982,"comment_id":134845400,"body_markdown":"You could define the database table that it uses the sequence as default value","body":"You could define the database table that it uses the sequence as default value"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1686764352,"post_id":76474982,"comment_id":134845416,"body_markdown":"Thanks for your comment. Right now, we are moving our remaining Hibernate DAOs to jOOQ. We don&#39;t want to modify the database at this time.","body":"Thanks for your comment. Right now, we are moving our remaining Hibernate DAOs to jOOQ. We don&#39;t want to modify the database at this time."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686767242,"creation_date":1686767242,"answer_id":76476552,"question_id":76474982,"body_markdown":"You almost had it with one of your attempts. Write this instead:\r\n\r\n```java\r\ndsl.insertInto(TABLE)\r\n   .set(record)\r\n   .set(TABLE.ID, SEQUENCE.nextval())\r\n   .execute();\r\n```\r\n\r\nThere are also other options:\r\n\r\n- You could turn your `TABLE.ID` column into [a client side computed column][1]\r\n- You could use the [replacement API][2] to auto-transform all your `INSERT` statements to this table and replace any value for the `TABLE.ID` value by `SEQUENCE.nextval()`\r\n- You could use a `DEFAULT` expression on the server, or a trigger\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-computed/\r\n  [2]: https://www.jooq.org/doc/3.18/manual/sql-building/model-api/model-api-replacement/","title":"jOOQ query that inserts all values but specify one","body":"<p>You almost had it with one of your attempts. Write this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl.insertInto(TABLE)\n   .set(record)\n   .set(TABLE.ID, SEQUENCE.nextval())\n   .execute();\n</code></pre>\n<p>There are also other options:</p>\n<ul>\n<li>You could turn your <code>TABLE.ID</code> column into <a href=\"https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-computed/\" rel=\"nofollow noreferrer\">a client side computed column</a></li>\n<li>You could use the <a href=\"https://www.jooq.org/doc/3.18/manual/sql-building/model-api/model-api-replacement/\" rel=\"nofollow noreferrer\">replacement API</a> to auto-transform all your <code>INSERT</code> statements to this table and replace any value for the <code>TABLE.ID</code> value by <code>SEQUENCE.nextval()</code></li>\n<li>You could use a <code>DEFAULT</code> expression on the server, or a trigger</li>\n</ul>\n"}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76476552,"answer_count":1,"score":1,"last_activity_date":1686767242,"creation_date":1686755040,"question_id":76474982,"body_markdown":"Is it possible to write an insert query that uses all values from a record but ones that I specify. The use case is that I want to perform an insert of all fields, but specify the ID from a sequence without having to perform multiple queries or specify each field separately.\r\n\r\nConsider the following:\r\n\r\n```java\r\ndsl\r\n    .insertInto(TABLE)\r\n    .values(record)\r\n    .execute();\r\n```\r\n\r\nThat will use all values of `record`. I could specify each field with `set`:\r\n\r\n```java\r\ndsl\r\n    .insertInto(TABLE)\r\n    .set(TABLE.ID, SEQUENCE.nextval())\r\n    ... // Other sets.\r\n    .execute();\r\n```\r\n\r\nOr create a map of the remaining fields, but there must be a better way. Effectively, I want to write something like the following (invalid):\r\n\r\n```java\r\ndsl\r\n    .insertInto(TABLE)\r\n    .values(record)\r\n    .set(TABLE.ID, SEQUENCE.nextval())\r\n    .execute()l\r\n```\r\n\r\nI could do it like:\r\n\r\n```java\r\ndsl\r\n    .insertInto(TABLE)\r\n    .set(TABLE.ID, SEQUENCE.nextval())\r\n    .set(Arrays.stream(ArrayUtils.removeElement(record.fields(), TABLE.ID))\r\n        .map(field -&gt; Map.entry(field, record.getValue(field)))\r\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\r\n    .execute();\r\n```\r\n\r\nI am hoping that there is a better way.","title":"jOOQ query that inserts all values but specify one","body":"<p>Is it possible to write an insert query that uses all values from a record but ones that I specify. The use case is that I want to perform an insert of all fields, but specify the ID from a sequence without having to perform multiple queries or specify each field separately.</p>\n<p>Consider the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl\n    .insertInto(TABLE)\n    .values(record)\n    .execute();\n</code></pre>\n<p>That will use all values of <code>record</code>. I could specify each field with <code>set</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl\n    .insertInto(TABLE)\n    .set(TABLE.ID, SEQUENCE.nextval())\n    ... // Other sets.\n    .execute();\n</code></pre>\n<p>Or create a map of the remaining fields, but there must be a better way. Effectively, I want to write something like the following (invalid):</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl\n    .insertInto(TABLE)\n    .values(record)\n    .set(TABLE.ID, SEQUENCE.nextval())\n    .execute()l\n</code></pre>\n<p>I could do it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dsl\n    .insertInto(TABLE)\n    .set(TABLE.ID, SEQUENCE.nextval())\n    .set(Arrays.stream(ArrayUtils.removeElement(record.fields(), TABLE.ID))\n        .map(field -&gt; Map.entry(field, record.getValue(field)))\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\n    .execute();\n</code></pre>\n<p>I am hoping that there is a better way.</p>\n"},{"tags":["java","spring-boot","swagger"],"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686767225,"creation_date":1686767225,"question_id":76476550,"body_markdown":"I am currently documenting my API requests, and I have encountered an issue with a request that includes a JsonNode property. I have been attempting to use the @Schema annotation to add a description to this particular field, but unfortunately, it does not seem to be functioning as expected, the description is not appearing on Swagger. The @Schema annotation works properly for other fields in the request.\r\n\r\nExample class:\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    \r\n\r\n    public class UserRequest {\r\n         @Schema(name = &quot;name&quot;, description = &quot;Username&quot;, example = &quot;Rafael&quot;)\r\n         private String name;\r\n\r\n         @Schema(name = &quot;params&quot;, description = &quot;Parameters XPTO&quot;)\r\n         private JsonNode params;\r\n    }\r\n\r\nI would appreciate any suggestions on how to make the description visible for the JsonNode property in Swagger.","title":"How to describe a JsonNode property with Swagger annotations","body":"<p>I am currently documenting my API requests, and I have encountered an issue with a request that includes a JsonNode property. I have been attempting to use the @Schema annotation to add a description to this particular field, but unfortunately, it does not seem to be functioning as expected, the description is not appearing on Swagger. The @Schema annotation works properly for other fields in the request.</p>\n<p>Example class:</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport io.swagger.v3.oas.annotations.media.Schema;\n\n\npublic class UserRequest {\n     @Schema(name = &quot;name&quot;, description = &quot;Username&quot;, example = &quot;Rafael&quot;)\n     private String name;\n\n     @Schema(name = &quot;params&quot;, description = &quot;Parameters XPTO&quot;)\n     private JsonNode params;\n}\n</code></pre>\n<p>I would appreciate any suggestions on how to make the description visible for the JsonNode property in Swagger.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1686767276,"post_id":76476388,"comment_id":134845921,"body_markdown":"SPRING_PROFILES_ACTIVE accepts *multiple* (comma separated) profiles. This seems also a suited use case for [Profile Groups](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles.groups).","body":"SPRING_PROFILES_ACTIVE accepts <i>multiple</i> (comma separated) profiles. This seems also a suited use case for <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles.groups\" rel=\"nofollow noreferrer\">Profile Groups</a>."}],"answers":[{"tags":[],"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686766154,"creation_date":1686766154,"answer_id":76476438,"question_id":76476388,"body_markdown":"You can do it by injecting the env variables: `-Dspring.profiles.active=dev,dev-eu1`\r\nThe default profile is picked up by default amoung the others","title":"Load multiple application property files in Springboot","body":"<p>You can do it by injecting the env variables: <code>-Dspring.profiles.active=dev,dev-eu1</code>\nThe default profile is picked up by default amoung the others</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686766589,"creation_date":1686766589,"answer_id":76476472,"question_id":76476388,"body_markdown":"Spring Active Profiles is plural you can provide a list of profiles. Either as an environment variable like in the other answer or as an annotation:\r\n\r\n    @Profile({&quot;dev&quot;, &quot;dev-us1&quot;})\r\n\r\nThe `application.properties` file (= default profile) will be loaded in any case.","title":"Load multiple application property files in Springboot","body":"<p>Spring Active Profiles is plural you can provide a list of profiles. Either as an environment variable like in the other answer or as an annotation:</p>\n<pre><code>@Profile({&quot;dev&quot;, &quot;dev-us1&quot;})\n</code></pre>\n<p>The <code>application.properties</code> file (= default profile) will be loaded in any case.</p>\n"}],"owner":{"account_id":4804924,"reputation":1426,"user_id":3880363,"display_name":"krisnik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76476438,"answer_count":2,"score":0,"last_activity_date":1686766589,"creation_date":1686765709,"question_id":76476388,"body_markdown":"I have following property files. \r\n\r\n- application.properties\r\n- application-dev.properties\r\n- application-dev-us1.properties\r\n- application-dev-eu1.properties\r\n\r\nI want to have common dev properties in the dev file and region specific properties in us1 and eu1 files. \r\n\r\nI can load default and specific file properties by providing SPRING_ACTIVE_PROFILE environment variable. But how can I make spring pick up three files, default, dev and dev-us1 ?\r\n","title":"Load multiple application property files in Springboot","body":"<p>I have following property files.</p>\n<ul>\n<li>application.properties</li>\n<li>application-dev.properties</li>\n<li>application-dev-us1.properties</li>\n<li>application-dev-eu1.properties</li>\n</ul>\n<p>I want to have common dev properties in the dev file and region specific properties in us1 and eu1 files.</p>\n<p>I can load default and specific file properties by providing SPRING_ACTIVE_PROFILE environment variable. But how can I make spring pick up three files, default, dev and dev-us1 ?</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1686765504,"post_id":76476344,"comment_id":134845631,"body_markdown":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question *as text*, [not as pictures of text](https://meta.stackoverflow.com/q/285551/328193).  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question <i>as text</i>, <a href=\"https://meta.stackoverflow.com/q/285551/328193\">not as pictures of text</a>.  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1686765527,"post_id":76476344,"comment_id":134845639,"body_markdown":"Additionally... This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?","body":"Additionally... This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686766387,"creation_date":1686766387,"answer_id":76476452,"question_id":76476344,"body_markdown":"You&#39;ll need to use the _ob_ instance to access _a_ and _b_.\r\n\r\n```java\r\nob.a = sc.nextDouble();\r\nob.b = sc.nextDouble();\r\n```","title":"There is no syntax error in this program, but the values aren&#39;t coming as intended.....How can I make this program run?","body":"<p>You'll need to use the <em>ob</em> instance to access <em>a</em> and <em>b</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ob.a = sc.nextDouble();\nob.b = sc.nextDouble();\n</code></pre>\n"}],"owner":{"account_id":28822072,"reputation":1,"user_id":22074377,"display_name":"Supratik Dash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1686766387,"creation_date":1686765374,"question_id":76476344,"body_markdown":"(https://i.stack.imgur.com/kDec2.jpg)\r\n\r\n\r\nI&#39;m a newbie to Java, and haven&#39;t completed learned it yet. Still, I&#39;m trying my best to solve as many problems as possible and get better.\r\n\r\nSo my query is, how can this program be fixed ??\r\n\r\nThe output is something like (https://i.stack.imgur.com/c4qCn.jpg)\r\n\r\nSomeone please correct this program, without removing the Scanner class.\r\n\r\nI really tried to make this program run, but it just wasn&#39;t working. The values were always 0 or 0.0, no matter what I did....\r\n\r\nCan someone also explain what went wrong here ??\r\n\r\nThank you in advance.&#129303;&#129303;","title":"There is no syntax error in this program, but the values aren&#39;t coming as intended.....How can I make this program run?","body":"<p>(<a href=\"https://i.stack.imgur.com/kDec2.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/kDec2.jpg</a>)</p>\n<p>I'm a newbie to Java, and haven't completed learned it yet. Still, I'm trying my best to solve as many problems as possible and get better.</p>\n<p>So my query is, how can this program be fixed ??</p>\n<p>The output is something like (<a href=\"https://i.stack.imgur.com/c4qCn.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/c4qCn.jpg</a>)</p>\n<p>Someone please correct this program, without removing the Scanner class.</p>\n<p>I really tried to make this program run, but it just wasn't working. The values were always 0 or 0.0, no matter what I did....</p>\n<p>Can someone also explain what went wrong here ??</p>\n<p>Thank you in advance.🤗🤗</p>\n"},{"tags":["java","api","filter","parameters","qs"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686766554,"post_id":76476449,"comment_id":134845801,"body_markdown":"You should ask about the problem that you are trying to resolve rather than asking for recommendations.","body":"You should ask about the problem that you are trying to resolve rather than asking for recommendations."}],"owner":{"account_id":26495549,"reputation":1,"user_id":20133370,"display_name":"Ram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686766327,"creation_date":1686766327,"question_id":76476449,"body_markdown":"Is there an established Java library for parsing URL parameters with nested LHS brackets,like what might be outputted through js qs? Maybe taking all of the params and mapping them to an object? Or do people typically just manually parse those?\r\n\r\nex:`GET /items?filter[price][gte]=10&amp;filter[price][lte]=100&amp;name=apple`\r\n\r\nI&#39;ve found a couple of small personal projects that look promising, but just wondering what other people are using.","title":"Java Parser for LHS brackets URL parameters","body":"<p>Is there an established Java library for parsing URL parameters with nested LHS brackets,like what might be outputted through js qs? Maybe taking all of the params and mapping them to an object? Or do people typically just manually parse those?</p>\n<p>ex:<code>GET /items?filter[price][gte]=10&amp;filter[price][lte]=100&amp;name=apple</code></p>\n<p>I've found a couple of small personal projects that look promising, but just wondering what other people are using.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8388208,"reputation":856,"user_id":6297856,"accept_rate":56,"display_name":"ImJustACowLol"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686765937,"creation_date":1686765937,"answer_id":76476411,"question_id":76476360,"body_markdown":"In Spring Boot, you do not have to box the object that you are trying to return as JSON to the client inside of a HashMap. \r\n\r\nInstead, typically one writes a `DTO` (Data Transfer Object) class that resembles the JSON that you want to return. For example, if I want to return:\r\n\r\n```json\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;,\r\n  &quot;fooList&quot;: [&quot;bar&quot;, &quot;bar&quot;, &quot;bar&quot;],\r\n  &quot;fooObject&quot;: { &quot;field&quot;: &quot;...&quot; }\r\n}\r\n```\r\n\r\nThen in Java, I&#39;d write a DTO class as follows:\r\n\r\n```java\r\npublic class MyDTO {\r\n  private String foo;\r\n  private String[] fooList; // Can be a list as well\r\n  private FooObject fooObject;\r\n\r\n  // Getters to get access to the fields here\r\n}\r\n\r\npublic class FooObject {\r\n  private Object object;\r\n  // Getters to get access to the fields here\r\n}\r\n```\r\n\r\nThen, to return this with Spring Boot, you just set it as the object on the `ResponseEntity`: `return new ResponseEntity&lt;&gt;(new MyDTO(...), HttpStatusCode.valueOf(200));`\r\n\r\nI would highly suggest that you follow the approach of creating a DTO class specific to the response that you want to return.","title":"Can&#39;t return JSONObject in the ResponseEntity properly in spring boot","body":"<p>In Spring Boot, you do not have to box the object that you are trying to return as JSON to the client inside of a HashMap.</p>\n<p>Instead, typically one writes a <code>DTO</code> (Data Transfer Object) class that resembles the JSON that you want to return. For example, if I want to return:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n  &quot;fooList&quot;: [&quot;bar&quot;, &quot;bar&quot;, &quot;bar&quot;],\n  &quot;fooObject&quot;: { &quot;field&quot;: &quot;...&quot; }\n}\n</code></pre>\n<p>Then in Java, I'd write a DTO class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDTO {\n  private String foo;\n  private String[] fooList; // Can be a list as well\n  private FooObject fooObject;\n\n  // Getters to get access to the fields here\n}\n\npublic class FooObject {\n  private Object object;\n  // Getters to get access to the fields here\n}\n</code></pre>\n<p>Then, to return this with Spring Boot, you just set it as the object on the <code>ResponseEntity</code>: <code>return new ResponseEntity&lt;&gt;(new MyDTO(...), HttpStatusCode.valueOf(200));</code></p>\n<p>I would highly suggest that you follow the approach of creating a DTO class specific to the response that you want to return.</p>\n"}],"owner":{"account_id":21626683,"reputation":1061,"user_id":15950932,"display_name":"Ankit Kumar Maurya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686765937,"creation_date":1686765536,"question_id":76476360,"body_markdown":"I am trying to return the json object into the hashmap of response entity object along with other fields, but I getting something else for the fields where the corresponding value is a json object.\r\n\r\nI tried debugging but every hashmap in the response flow was having the required response structure.\r\n\r\nI tried sending this from the backend:\r\n```\r\nHashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n        HashMap&lt;String, Object&gt; hashMap2 = new HashMap&lt;&gt;();\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;key&quot;, &quot;dummy value&quot;);\r\n        hashMap2.put(&quot;key&quot;, &quot;dummy value&quot;);\r\n        hashMap2.put(&quot;new key&quot;, jsonObject);\r\n        hashMap.put(&quot;data&quot;, jsonObject);\r\n        hashMap.put(&quot;data2&quot;, hashMap2);\r\n        hashMap.put(&quot;extra field&quot;, &quot;extra value&quot;);\r\n        return new ResponseEntity&lt;&gt;(hashMap, HttpStatusCode.valueOf(200));\r\n```\r\n\r\nAnd I am getting this in the response:\r\n```\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;empty&quot;: false,\r\n        &quot;mapType&quot;: &quot;java.util.HashMap&quot;\r\n    },\r\n    &quot;data2&quot;: {\r\n        &quot;new key&quot;: {\r\n            &quot;empty&quot;: false,\r\n            &quot;mapType&quot;: &quot;java.util.HashMap&quot;\r\n        },\r\n        &quot;key&quot;: &quot;dummy value&quot;\r\n    },\r\n    &quot;extra field&quot;: &quot;extra value&quot;\r\n}\r\n```","title":"Can&#39;t return JSONObject in the ResponseEntity properly in spring boot","body":"<p>I am trying to return the json object into the hashmap of response entity object along with other fields, but I getting something else for the fields where the corresponding value is a json object.</p>\n<p>I tried debugging but every hashmap in the response flow was having the required response structure.</p>\n<p>I tried sending this from the backend:</p>\n<pre><code>HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n        HashMap&lt;String, Object&gt; hashMap2 = new HashMap&lt;&gt;();\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;key&quot;, &quot;dummy value&quot;);\n        hashMap2.put(&quot;key&quot;, &quot;dummy value&quot;);\n        hashMap2.put(&quot;new key&quot;, jsonObject);\n        hashMap.put(&quot;data&quot;, jsonObject);\n        hashMap.put(&quot;data2&quot;, hashMap2);\n        hashMap.put(&quot;extra field&quot;, &quot;extra value&quot;);\n        return new ResponseEntity&lt;&gt;(hashMap, HttpStatusCode.valueOf(200));\n</code></pre>\n<p>And I am getting this in the response:</p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;empty&quot;: false,\n        &quot;mapType&quot;: &quot;java.util.HashMap&quot;\n    },\n    &quot;data2&quot;: {\n        &quot;new key&quot;: {\n            &quot;empty&quot;: false,\n            &quot;mapType&quot;: &quot;java.util.HashMap&quot;\n        },\n        &quot;key&quot;: &quot;dummy value&quot;\n    },\n    &quot;extra field&quot;: &quot;extra value&quot;\n}\n</code></pre>\n"},{"tags":["java","mysql","xml","spring","mybatis"],"comments":[{"owner":{"account_id":7426697,"reputation":2793,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"score":0,"creation_date":1463413257,"post_id":37257251,"comment_id":62042585,"body_markdown":"Do you have another mapping with id=&quot;Question&quot;?","body":"Do you have another mapping with id=&quot;Question&quot;?"},{"owner":{"account_id":8453068,"reputation":71,"user_id":6341298,"display_name":"Russell Fillmore"},"score":0,"creation_date":1463413820,"post_id":37257251,"comment_id":62042938,"body_markdown":"No. That&#39;s something I even tried changing incase I had another mapping somewhere named Question. I have searched through my mappings and can&#39;t find one and changing the name gives me the same error just with a reference to the new name.","body":"No. That&#39;s something I even tried changing incase I had another mapping somewhere named Question. I have searched through my mappings and can&#39;t find one and changing the name gives me the same error just with a reference to the new name."},{"owner":{"account_id":7890476,"reputation":12318,"user_id":5960800,"accept_rate":67,"display_name":"Blank"},"score":0,"creation_date":1463455070,"post_id":37257251,"comment_id":62059634,"body_markdown":"Is `Mapper.Java` and `Mapper.xml` in one same directory?","body":"Is <code>Mapper.Java</code> and <code>Mapper.xml</code> in one same directory?"},{"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"score":0,"creation_date":1463485658,"post_id":37257251,"comment_id":62075862,"body_markdown":"This error just means that you have syntax error in your mapping file (very confusing I would say). You may try to simplify it and start with some small and working file and incrementally change it.","body":"This error just means that you have syntax error in your mapping file (very confusing I would say). You may try to simplify it and start with some small and working file and incrementally change it."}],"answers":[{"tags":[],"owner":{"account_id":8453068,"reputation":71,"user_id":6341298,"display_name":"Russell Fillmore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1463491646,"creation_date":1463491646,"answer_id":37277575,"question_id":37257251,"body_markdown":"Yep It looks like there was an error somewhere in my select statement. I ended up just rewriting it a different way. \r\n\r\n    &lt;select id=&quot;getQuestions&quot; resultMap=&quot;Question&quot;&gt;\r\n\t\tSELECT\r\n\t\t\tq.field_id,\r\n\t\t\tq.data_type,\r\n\t\t\tq.title,\r\n\t\t\tq.description,\r\n\t\t\tq.options\r\n\t\tFROM\r\n\t\t\tquestions q\r\n\t\tWHERE\r\n\t\t \tjob_id = #{job_id}\r\n\t\tAND\r\n\t\t\tfield_id\r\n\t\tIN\r\n\t\t\t(SELECT \r\n\t\t\t\tfs.field_id\r\n\t\t\tFROM\r\n\t\t\t\tquestion_services qs\r\n\t\t\tINNER JOIN \r\n\t\t\t\tservices s \r\n\t\t\tON\r\n\t\t\t\tqs.service_id = s.service_id \r\n\t\t\tAND\r\n\t\t\t\tqs.job_id = s.job_id\r\n\t\t\tWHERE\r\n\t\t\t\ts.job_id=#{job_id}\r\n\t\t\tAND\r\n\t\t\t\ts.service_id\r\n\t\t\tIN\r\n\t\t\t&lt;foreach item=&quot;item&quot; index=&quot;index&quot; collection=&quot;shifts&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\r\n        \t\t#{item}\r\n  \t\t\t&lt;/foreach&gt;\r\n\t\t\t);\r\n\t&lt;/select&gt;","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>Yep It looks like there was an error somewhere in my select statement. I ended up just rewriting it a different way. </p>\n\n<pre><code>&lt;select id=\"getQuestions\" resultMap=\"Question\"&gt;\n    SELECT\n        q.field_id,\n        q.data_type,\n        q.title,\n        q.description,\n        q.options\n    FROM\n        questions q\n    WHERE\n        job_id = #{job_id}\n    AND\n        field_id\n    IN\n        (SELECT \n            fs.field_id\n        FROM\n            question_services qs\n        INNER JOIN \n            services s \n        ON\n            qs.service_id = s.service_id \n        AND\n            qs.job_id = s.job_id\n        WHERE\n            s.job_id=#{job_id}\n        AND\n            s.service_id\n        IN\n        &lt;foreach item=\"item\" index=\"index\" collection=\"shifts\" open=\"(\" separator=\",\" close=\")\"&gt;\n            #{item}\n        &lt;/foreach&gt;\n        );\n&lt;/select&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5112610,"reputation":135,"user_id":4098779,"accept_rate":40,"display_name":"Manu Bhat"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491627325,"creation_date":1491627325,"answer_id":43290343,"question_id":37257251,"body_markdown":"Adding this answer since in my case the problem was different but the exception was same . The exception said ,\r\n\r\n    Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Result Maps collection already contains value for com.mypackage.model.mymapper.BaseResultMap\r\n\r\nThis can also happen if you have the same mapper xml present in multiple locations and that duplicate xml gets picked up and parsed. Its good to check that even if by mistake you have taken a backup of the mapper xmls and that lies in the location or sub folders which the mybatis configurer scans for.","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>Adding this answer since in my case the problem was different but the exception was same . The exception said ,</p>\n\n<pre><code>Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Result Maps collection already contains value for com.mypackage.model.mymapper.BaseResultMap\n</code></pre>\n\n<p>This can also happen if you have the same mapper xml present in multiple locations and that duplicate xml gets picked up and parsed. Its good to check that even if by mistake you have taken a backup of the mapper xmls and that lies in the location or sub folders which the mybatis configurer scans for.</p>\n"},{"tags":[],"owner":{"account_id":19626105,"reputation":1,"user_id":14365380,"display_name":"Akil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601450381,"creation_date":1601446600,"answer_id":64131879,"question_id":37257251,"body_markdown":"I will suggest to use mapper file auto loading feature instead of. (this solution is recommended)\r\n    \r\ndelete the mybatis.mapperLocations property.\r\n    \r\n    mybatis:\r\n      typeAliasesPackage: com.fiberhome.payroll.model\r\n      mapperLocations: classpath*:**/mapper/*.xml\r\n\r\nchange storing directory and file name of mapper file as follow:\r\n    \r\nAnd you can use the `@Mapper` instead of the `@MapperScan`.\r\n    \r\nAdd the `@org.apache.ibatis.annotations.Mapper` interface on mapper interfaces as follow:\r\n    \r\n    @Mapper\r\n    public interface DmClassInfoDao {\r\n        // ...\r\n    }\r\n    Delete the @MapperScan from java config\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = {&quot;com.fiberhome.payroll&quot;})\r\n    @MapperScan(&quot;com.fiberhome.payroll.dao&quot;)\r\n    public class MybatisSpringBootApp {\r\n        // ...\r\n    }","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>I will suggest to use mapper file auto loading feature instead of. (this solution is recommended)</p>\n<p>delete the mybatis.mapperLocations property.</p>\n<pre><code>mybatis:\n  typeAliasesPackage: com.fiberhome.payroll.model\n  mapperLocations: classpath*:**/mapper/*.xml\n</code></pre>\n<p>change storing directory and file name of mapper file as follow:</p>\n<p>And you can use the <code>@Mapper</code> instead of the <code>@MapperScan</code>.</p>\n<p>Add the <code>@org.apache.ibatis.annotations.Mapper</code> interface on mapper interfaces as follow:</p>\n<pre><code>@Mapper\npublic interface DmClassInfoDao {\n    // ...\n}\nDelete the @MapperScan from java config\n\n@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.fiberhome.payroll&quot;})\n@MapperScan(&quot;com.fiberhome.payroll.dao&quot;)\npublic class MybatisSpringBootApp {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6435198,"reputation":154,"user_id":4986987,"display_name":"brt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664770382,"creation_date":1664770382,"answer_id":73931063,"question_id":37257251,"body_markdown":"I was getting this same error when extending a resultMap before declaring it in the xml.  Solved by moving the extending `&lt;resultMap&gt;` declaration below the source map, like so:\r\n\r\n```\r\n&lt;resultMap id=&quot;sourceMap&quot;&gt;\r\n  // results\r\n&lt;/resultMap&gt;\r\n\r\n&lt;resultMap id=&quot;extendingMap&quot; extends=&quot;sourceMap&quot;&gt;\r\n  // more results\r\n&lt;/resultMap&gt;\r\n","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>I was getting this same error when extending a resultMap before declaring it in the xml.  Solved by moving the extending <code>&lt;resultMap&gt;</code> declaration below the source map, like so:</p>\n<pre><code>&lt;resultMap id=&quot;sourceMap&quot;&gt;\n  // results\n&lt;/resultMap&gt;\n\n&lt;resultMap id=&quot;extendingMap&quot; extends=&quot;sourceMap&quot;&gt;\n  // more results\n&lt;/resultMap&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7425610,"reputation":9,"user_id":7351955,"display_name":"lstan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686765871,"creation_date":1686765871,"answer_id":76476405,"question_id":37257251,"body_markdown":"Old post but I had same issue with different solution so hopefully this will help others who find this error.\r\n\r\nI was trying to get away from mappers defined in xml and use in java annotations. \r\n\r\nTwo things caused this error for me\r\n1. I was setting setConfigLocation for mybatis-config.xml plus the setMapperLocations. setMapperLocations scans the package for mappers and the config file had mappers defined so I had duplicates thus &quot;Mapped Statements collection already contains value...&quot;\r\n\r\n        @Bean\r\n        public static SqlSessionFactory sqlSessionFactory() throws Exception {\r\n                        SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\r\n                        sqlSessionFactoryBean.setDataSource(dataSource());\r\n                        sqlSessionFactoryBean.setConfigLocation(\r\n                                new PathMatchingResourcePatternResolver().getResource(&quot;classpath:mybatis-config.xml&quot;)\r\n                        );\r\n                        sqlSessionFactoryBean.setTypeAliasesPackage(&quot;org.xxxxx&quot;);\r\n                      sqlSessionFactoryBean.setMapperLocations(\r\n                                new PathMatchingResourcePatternResolver().getResources(&quot;classpath:sql/*.xml&quot;)\r\n                        );\r\n                \r\n                        return sqlSessionFactoryBean.getObject();\r\n        }\r\n    \r\n    2. I had 2 selects of the same name in .xml mapper \r\n    \r\n      \r\n    \r\n          &lt;select id=&quot;selectListOld&quot; resultMap=&quot;myResultMap&quot;&gt;\r\n\r\n","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>Old post but I had same issue with different solution so hopefully this will help others who find this error.</p>\n<p>I was trying to get away from mappers defined in xml and use in java annotations.</p>\n<p>Two things caused this error for me</p>\n<ol>\n<li><p>I was setting setConfigLocation for mybatis-config.xml plus the setMapperLocations. setMapperLocations scans the package for mappers and the config file had mappers defined so I had duplicates thus &quot;Mapped Statements collection already contains value...&quot;</p>\n<pre><code> @Bean\n public static SqlSessionFactory sqlSessionFactory() throws Exception {\n                 SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\n                 sqlSessionFactoryBean.setDataSource(dataSource());\n                 sqlSessionFactoryBean.setConfigLocation(\n                         new PathMatchingResourcePatternResolver().getResource(&quot;classpath:mybatis-config.xml&quot;)\n                 );\n                 sqlSessionFactoryBean.setTypeAliasesPackage(&quot;org.xxxxx&quot;);\n               sqlSessionFactoryBean.setMapperLocations(\n                         new PathMatchingResourcePatternResolver().getResources(&quot;classpath:sql/*.xml&quot;)\n                 );\n\n                 return sqlSessionFactoryBean.getObject();\n }\n</code></pre>\n<ol start=\"2\">\n<li><p>I had 2 selects of the same name in .xml mapper</p>\n   \n</li>\n</ol>\n</li>\n</ol>\n"}],"owner":{"account_id":8453068,"reputation":71,"user_id":6341298,"display_name":"Russell Fillmore"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19535,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37277575,"answer_count":5,"score":5,"last_activity_date":1686765871,"creation_date":1463411484,"question_id":37257251,"body_markdown":"Hey I&#39;m using Mybatis with Spring Annotations. \r\n\r\nand getting this error:\r\n\r\n    Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Result Maps collection already contains value for com.mypackage.mappers.QuestionsMapper.Question\r\n\r\nhere is the domain class (sans getters and setters):\r\n\r\n    public class Question {\r\n\r\n\t\r\n\t    String optionsAsString;\r\n\t    String typeAsString;\r\n\t    Integer fieldId;\r\n\t    String title;\r\n\t    String description;\r\n\t\r\n\t    public Question(){\r\n\t    }\t\r\n\t}\r\n\r\nhere is my Mapper.Java class\r\n\r\n    @MapperScan\r\n    public interface Mapper {\r\n\t\r\n\tpublic List&lt;Question&gt; getQuestions(@Param(&quot;shifts&quot;) List&lt;Integer&gt; shifts, @Param(&quot;job_id&quot;) Integer job_id);\r\n    }\r\nlastly here is the Mapper.xml\r\n\r\n    &lt;mapper namespace=&quot;com.mypackage.mappers.Mapper&quot;&gt;\r\n\t&lt;resultMap type=&quot;com.mypackage.domain.Question&quot; id=&quot;Question&quot;&gt;\r\n\t\t&lt;id column=&quot;field_id&quot; property=&quot;fieldId&quot; /&gt;\r\n\t\t&lt;result column=&quot;data_type&quot; property=&quot;typeAsString&quot; /&gt;\r\n\t\t&lt;result column=&quot;title&quot; property=&quot;title&quot; /&gt;\r\n\t\t&lt;result column=&quot;description&quot; property=&quot;description&quot; /&gt;\r\n\t\t&lt;result column=&quot;options&quot; property=&quot;optionsAsString&quot; /&gt;\r\n\t&lt;/resultMap&gt;\r\n\r\n\t&lt;select id=&quot;com.mypackage.mappers.Mapper.getQuestions&quot; resultMap=&quot;Question&quot; timeout=&quot;10&quot;&gt;\r\n\t\tSELECT\r\n\t\tf.field_id,\r\n\t\tf.data_type,\r\n\t\tf.title,\r\n\t\tf.options,\r\n\t\tf.description \r\n\t\tFROM\r\n\t\t \t(SELECT DISTINCT q.*\r\n\t\t \tFROM\r\n\t\t\t\tquestion_services qs INNER JOIN\r\n\t\t\t\tquestions q \r\n\t\t\t\tON qs.field_id=q.field_id AND q.job_id = qs.job_id INNER JOIN\r\n\t\t\t\tservices s\r\n\t\t\t\tON qs.service_id = s.service_id and qs.job_id = s.job_id\r\n\t\t\t\tWHERE s.job_id = #{job_id} AND s.service_id in\r\n\t\t\t\t&lt;foreach item=&quot;shift&quot; collection=&quot;shifts&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\r\n\t\t\t\t\t#{shift}\r\n\t\t\t\t&lt;/foreach&gt;\r\n\t\t\t) f\r\n\t&lt;/select&gt;\r\n&lt;/mapper&gt;\r\n\r\nI&#39;m inclined to believe there is something wrong with the xml select statement. Probably with how I am using foreach. I have another mapper using a similar format it just does not use for each and it is not having any problems.\r\n\r\n","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>Hey I'm using Mybatis with Spring Annotations. </p>\n\n<p>and getting this error:</p>\n\n<pre><code>Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Result Maps collection already contains value for com.mypackage.mappers.QuestionsMapper.Question\n</code></pre>\n\n<p>here is the domain class (sans getters and setters):</p>\n\n<pre><code>public class Question {\n\n\n    String optionsAsString;\n    String typeAsString;\n    Integer fieldId;\n    String title;\n    String description;\n\n    public Question(){\n    }   \n}\n</code></pre>\n\n<p>here is my Mapper.Java class</p>\n\n<pre><code>@MapperScan\npublic interface Mapper {\n\npublic List&lt;Question&gt; getQuestions(@Param(\"shifts\") List&lt;Integer&gt; shifts, @Param(\"job_id\") Integer job_id);\n}\n</code></pre>\n\n<p>lastly here is the Mapper.xml</p>\n\n<pre><code>&lt;mapper namespace=\"com.mypackage.mappers.Mapper\"&gt;\n&lt;resultMap type=\"com.mypackage.domain.Question\" id=\"Question\"&gt;\n    &lt;id column=\"field_id\" property=\"fieldId\" /&gt;\n    &lt;result column=\"data_type\" property=\"typeAsString\" /&gt;\n    &lt;result column=\"title\" property=\"title\" /&gt;\n    &lt;result column=\"description\" property=\"description\" /&gt;\n    &lt;result column=\"options\" property=\"optionsAsString\" /&gt;\n&lt;/resultMap&gt;\n\n&lt;select id=\"com.mypackage.mappers.Mapper.getQuestions\" resultMap=\"Question\" timeout=\"10\"&gt;\n    SELECT\n    f.field_id,\n    f.data_type,\n    f.title,\n    f.options,\n    f.description \n    FROM\n        (SELECT DISTINCT q.*\n        FROM\n            question_services qs INNER JOIN\n            questions q \n            ON qs.field_id=q.field_id AND q.job_id = qs.job_id INNER JOIN\n            services s\n            ON qs.service_id = s.service_id and qs.job_id = s.job_id\n            WHERE s.job_id = #{job_id} AND s.service_id in\n            &lt;foreach item=\"shift\" collection=\"shifts\" open=\"(\" separator=\",\" close=\")\"&gt;\n                #{shift}\n            &lt;/foreach&gt;\n        ) f\n&lt;/select&gt;\n</code></pre>\n\n<p></p>\n\n<p>I'm inclined to believe there is something wrong with the xml select statement. Probably with how I am using foreach. I have another mapper using a similar format it just does not use for each and it is not having any problems.</p>\n"},{"tags":["java","biginteger","modulo"],"comments":[{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":2,"creation_date":1686753610,"post_id":76474681,"comment_id":134843004,"body_markdown":"Can you show the value of `B`instead of `b`? I suspect overflow while calculating `b`.","body":"Can you show the value of <code>B</code>instead of <code>b</code>? I suspect overflow while calculating <code>b</code>."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1686753642,"post_id":76474681,"comment_id":134843013,"body_markdown":"You are clearly dealing with integer (or long) overflow. It should be obvious that 10e9+7 (which is 10000000007 in other notation) multiplied with itself will not result in a number that starts with 776.....","body":"You are clearly dealing with integer (or long) overflow. It should be obvious that 10e9+7 (which is 10000000007 in other notation) multiplied with itself will not result in a number that starts with 776....."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1686754169,"post_id":76474681,"comment_id":134843132,"body_markdown":"Does this answer your question? [Incorrect Multiplication Result](https://stackoverflow.com/questions/23299070/incorrect-multiplication-result)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23299070/incorrect-multiplication-result\">Incorrect Multiplication Result</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1686754183,"post_id":76474681,"comment_id":134843136,"body_markdown":"Did you mean `1.0e9+7`? That would actually work, since that number squared fits in a `long`. But `10e9+7` squared doesn&#39;t. Note that `10e9 == 1.0e10`.","body":"Did you mean <code>1.0e9+7</code>? That would actually work, since that number squared fits in a <code>long</code>. But <code>10e9+7</code> squared doesn&#39;t. Note that <code>10e9 == 1.0e10</code>."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686753668,"creation_date":1686753668,"answer_id":76474761,"question_id":76474681,"body_markdown":"`a * a` overflows the value of `Long.MAX_VALUE`. As Benoit suggested in his comment, you&#39;re printing `b` twice. The value of `B` is not `7766279771452241969` but `100000000140000000049`.","title":"modulo gives wrong result for big number in Java","body":"<p><code>a * a</code> overflows the value of <code>Long.MAX_VALUE</code>. As Benoit suggested in his comment, you're printing <code>b</code> twice. The value of <code>B</code> is not <code>7766279771452241969</code> but <code>100000000140000000049</code>.</p>\n"},{"tags":[],"owner":{"account_id":14260298,"reputation":784,"user_id":10301322,"display_name":"CcmU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686760504,"creation_date":1686759026,"answer_id":76475581,"question_id":76474681,"body_markdown":"First things first, `long b = a * a` overflows, since it should have the value `100.000.000.140.000.000.049` and it&#39;s greater than the max value of a signed long (`2^63 - 1 = 9.223.372.036.854.775.807`).\r\n\r\nSecondly, I think it should be said that there are some differences between the two operation that you&#39;ve used. As stated in the comments of [this answer][1], java has the [*_reminder_* operator `%`][2] and does not provide a *_modulo_* operator or a function, like `BigInteger` does. Those are two slightly different things.\r\n\r\nMathematically if you want the result of *c*, given as *c = a (mod b)*, it will be a number such that *1 &lt; c &lt; b* (e.g. `4 (mod 3) = 1`). Consequently, if *b = a * a*, then *b (mod a) = a * a (mod a) = 0*.\r\nIf you want to read more about it, I suggest you to take a look at [modular arithmetic][3].\r\n\r\nThe java reminder operator `%`, gives the reminder of the division (considering `n % d`), which has *n* as the numerator and *d* as the denominator. When mixing positive and negative numbers, there could be some inconsistencies with *n (mod d)*, since \r\n&gt;[mod and remainder are actually semantically different operations][6]\r\n\r\nIn conclusion, if you want to use modulo, you should rely on the [functions provided from BigInteger][5], otherwise use the reminder operator.\r\nI also suggest [this reading][4] that explain the difference between modulus and reminder.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/90247/10301322\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\r\n  [3]: https://en.wikipedia.org/wiki/Modular_arithmetic\r\n  [4]: https://therenegadecoder.com/blog/java-has-a-remainder-operator-not-a-mod-operator/\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html\r\n  [6]: https://therenegadecoder.com/blog/java-has-a-remainder-operator-not-a-mod-operator/#the-blurry-line-between-mod-and-remainder","title":"modulo gives wrong result for big number in Java","body":"<p>First things first, <code>long b = a * a</code> overflows, since it should have the value <code>100.000.000.140.000.000.049</code> and it's greater than the max value of a signed long (<code>2^63 - 1 = 9.223.372.036.854.775.807</code>).</p>\n<p>Secondly, I think it should be said that there are some differences between the two operation that you've used. As stated in the comments of <a href=\"https://stackoverflow.com/a/90247/10301322\">this answer</a>, java has the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"nofollow noreferrer\"><em><em>reminder</em></em> operator <code>%</code></a> and does not provide a <em><em>modulo</em></em> operator or a function, like <code>BigInteger</code> does. Those are two slightly different things.</p>\n<p>Mathematically if you want the result of <em>c</em>, given as <em>c = a (mod b)</em>, it will be a number such that <em>1 &lt; c &lt; b</em> (e.g. <code>4 (mod 3) = 1</code>). Consequently, if <em>b = a * a</em>, then <em>b (mod a) = a * a (mod a) = 0</em>.\nIf you want to read more about it, I suggest you to take a look at <a href=\"https://en.wikipedia.org/wiki/Modular_arithmetic\" rel=\"nofollow noreferrer\">modular arithmetic</a>.</p>\n<p>The java reminder operator <code>%</code>, gives the reminder of the division (considering <code>n % d</code>), which has <em>n</em> as the numerator and <em>d</em> as the denominator. When mixing positive and negative numbers, there could be some inconsistencies with <em>n (mod d)</em>, since</p>\n<blockquote>\n<p><a href=\"https://therenegadecoder.com/blog/java-has-a-remainder-operator-not-a-mod-operator/#the-blurry-line-between-mod-and-remainder\" rel=\"nofollow noreferrer\">mod and remainder are actually semantically different operations</a></p>\n</blockquote>\n<p>In conclusion, if you want to use modulo, you should rely on the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">functions provided from BigInteger</a>, otherwise use the reminder operator.\nI also suggest <a href=\"https://therenegadecoder.com/blog/java-has-a-remainder-operator-not-a-mod-operator/\" rel=\"nofollow noreferrer\">this reading</a> that explain the difference between modulus and reminder.</p>\n"}],"owner":{"account_id":7652132,"reputation":51,"user_id":5800424,"display_name":"Pawan Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76474761,"answer_count":2,"score":0,"last_activity_date":1686765215,"creation_date":1686753163,"question_id":76474681,"body_markdown":"look at the below Java Code : \r\n```java\r\n        long a = (long) 10e9+7;\r\n        long b = (a * a);\r\n\r\n        System.out.println(&quot;b is &quot; + b);\r\n        System.out.println(&quot;b%a is &quot; + (b%a));\r\n\r\n        System.out.println();\r\n\r\n\r\n        BigInteger A = BigInteger.valueOf((long) 10e9+7);\r\n        BigInteger B = A.multiply(A);\r\n\r\n\r\n        System.out.println(&quot;B is &quot; + B.longValue());\r\n        System.out.println(&quot;B.mod(A) is &quot; + B.mod(A));\r\n```\r\n\r\nOutput: \r\n\r\n```\r\nb is 7766279771452241969\r\nb%a is 6015846137   ///-&gt;&gt; why ?? overflow \r\n\r\nB is 7766279771452241969 //// -&gt; should not overflow \r\nB.mod(A) is 0\r\n```\r\n\r\nI was expecting % to give 0 in above case. But it gives some other numbers for the % ","title":"modulo gives wrong result for big number in Java","body":"<p>look at the below Java Code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        long a = (long) 10e9+7;\n        long b = (a * a);\n\n        System.out.println(&quot;b is &quot; + b);\n        System.out.println(&quot;b%a is &quot; + (b%a));\n\n        System.out.println();\n\n\n        BigInteger A = BigInteger.valueOf((long) 10e9+7);\n        BigInteger B = A.multiply(A);\n\n\n        System.out.println(&quot;B is &quot; + B.longValue());\n        System.out.println(&quot;B.mod(A) is &quot; + B.mod(A));\n</code></pre>\n<p>Output:</p>\n<pre><code>b is 7766279771452241969\nb%a is 6015846137   ///-&gt;&gt; why ?? overflow \n\nB is 7766279771452241969 //// -&gt; should not overflow \nB.mod(A) is 0\n</code></pre>\n<p>I was expecting % to give 0 in above case. But it gives some other numbers for the %</p>\n"},{"tags":["java","xml","jaxb","eclipselink","moxy"],"answers":[{"tags":[],"owner":{"account_id":4738824,"reputation":663,"user_id":3832336,"display_name":"marcelv3612"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686764713,"creation_date":1629616266,"answer_id":68879213,"question_id":67733375,"body_markdown":"As you wrote, you are trying to implement JAXB following documentation, but the documentation you linked is for EclipseLink version 2.5 and you are running into problems with a feature that was added in EL v2.6. The current stable release is 3.0.0, which you are running, based on your `pom.xml`.\r\n\r\nCheck out the newer documentation for EL. And since the link for the documentation for the feature you are running into problems with is not present on the homepage, you can find it here:\r\nhttps://wiki.eclipse.org/EclipseLink/Examples/MOXy/BVinJAXB and presentation of the concepts [here][1].\r\n\r\n\r\n  [1]: https://bugzillaattachments.eclipsecontent.org/bugs/attachment.cgi?id=252463","title":"Dynamic JAXB/MOXy Marshalling throws MOXy BV: Facets generation could not be configured","body":"<p>As you wrote, you are trying to implement JAXB following documentation, but the documentation you linked is for EclipseLink version 2.5 and you are running into problems with a feature that was added in EL v2.6. The current stable release is 3.0.0, which you are running, based on your <code>pom.xml</code>.</p>\n<p>Check out the newer documentation for EL. And since the link for the documentation for the feature you are running into problems with is not present on the homepage, you can find it here:\n<a href=\"https://wiki.eclipse.org/EclipseLink/Examples/MOXy/BVinJAXB\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/EclipseLink/Examples/MOXy/BVinJAXB</a> and presentation of the concepts <a href=\"https://bugzillaattachments.eclipsecontent.org/bugs/attachment.cgi?id=252463\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23815599,"reputation":1,"user_id":17823905,"display_name":"busyandnot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641478850,"creation_date":1641478850,"answer_id":70608557,"question_id":67733375,"body_markdown":"### Solution ####\r\n\r\nThe message\r\n\r\n    &quot;[EL Warning]: moxy: 2022-01-06 14:59:32.0--MOXy BV: Facets generation could not be configured. EclipseLink&#39;s JavaModelInputImpl was not detected, instead...&quot;\r\n\r\nis not responsible for the NullPointerException, Hence, it is not an issue. Apart from it use matching versions of Eclipselink moxy and jasb-xjc:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIf there, remove file jaxb.properties as it is not needed in case of dynamic jaxb context.\r\n\r\n","title":"Dynamic JAXB/MOXy Marshalling throws MOXy BV: Facets generation could not be configured","body":"<h3>Solution</h3>\n<p>The message</p>\n<pre><code>&quot;[EL Warning]: moxy: 2022-01-06 14:59:32.0--MOXy BV: Facets generation could not be configured. EclipseLink's JavaModelInputImpl was not detected, instead...&quot;\n</code></pre>\n<p>is not responsible for the NullPointerException, Hence, it is not an issue. Apart from it use matching versions of Eclipselink moxy and jasb-xjc:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n  &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If there, remove file jaxb.properties as it is not needed in case of dynamic jaxb context.</p>\n"}],"owner":{"account_id":21749395,"reputation":31,"user_id":16055584,"display_name":"Rise_Against"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686764713,"creation_date":1622179991,"question_id":67733375,"body_markdown":"I am trying to follow the [documentation][1] and implement the `Dynamic JAXB/Moxy marshalling`. But it&#39;s not working as desired and throws the following error:\r\n```\r\n[EL Warning]: moxy: 2021-05-28 10:54:09.432--MOXy BV: Facets generation could not be configured. EclipseLink&#39;s JavaModelInputImpl was not detected, instead JavaModelInput is of class: class org.eclipse.persistence.jaxb.javamodel.xjc.XJCJavaModelInputImpl\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n```\r\n\r\nMy `XSD` is in the `resources` folder and I am using the `XSD` from the [documentation][2]. After reading I am trying to create the `POJO` for it on the go and using the marshaling method to create the XML. Following is the code for it:\r\n```\r\nimport org.eclipse.persistence.dynamic.DynamicEntity;\r\nimport org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext;\r\nimport org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContextFactory;\r\n\r\nimport jakarta.xml.bind.JAXBException;\r\nimport jakarta.xml.bind.Marshaller;\r\n\r\npublic class Demo {\r\n\r\n\tpublic static void main(String[] args) throws JAXBException {\r\n\t\tfinal ClassLoader classLoader = Demo.class.getClassLoader();\r\n\t\tfinal InputStream xsd = classLoader.getResourceAsStream(&quot;customer.xsd&quot;);\r\n\t\t//final InputStream xml = classLoader.getResourceAsStream(&quot;customer.xml&quot;);\r\n\r\n\t\tMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;(1);\r\n\t\tproperties.put(&quot;eclipselink.beanvalidation.facets&quot;, true);\r\n\r\n\t\tSystem.setProperty(&quot;com.sun.tools.xjc.api.impl.s2j.SchemaCompilerImpl.noCorrectnessCheck&quot;, &quot;true&quot;);\r\n\t\tfinal DynamicJAXBContext jaxbContext = DynamicJAXBContextFactory.createContextFromXSD(xsd, null, classLoader, properties);\r\n\t\tDynamicEntity customer = jaxbContext.newDynamicEntity(&quot;org.JaxBDynamic.Customer&quot;);\r\n\t\tDynamicEntity address = jaxbContext.newDynamicEntity(&quot;org.JaxBDynamic.Address&quot;);\r\n\t\tcustomer.set(&quot;name&quot;, &quot;Jane Doe&quot;);\r\n\t\taddress.set(&quot;street&quot;, &quot;1 Any Street&quot;).set(&quot;city&quot;, &quot;Any Town&quot;);\r\n\t\tcustomer.set(&quot;address&quot;, address);\r\n\t\tMarshaller marshaller = jaxbContext.createMarshaller();\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t\tmarshaller.marshal(customer, System.out);\r\n\t}\r\n}\r\n```\r\n\r\nI have following `dependency` in `pom.xml`:\r\n\r\n&lt;dependencies&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2-b01&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;\r\n\r\n\r\nWhen I run I get following error:\r\n```\r\n[EL Warning]: moxy: 2021-05-28 10:54:09.432--MOXy BV: Facets generation could not be configured. EclipseLink&#39;s JavaModelInputImpl was not detected, instead JavaModelInput is of class: class org.eclipse.persistence.jaxb.javamodel.xjc.XJCJavaModelInputImpl\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.preProcessXmlAccessorType(AnnotationsProcessor.java:1628)\r\n\tat org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.preBuildTypeInfo(AnnotationsProcessor.java:603)\r\n\tat org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.processClassesAndProperties(AnnotationsProcessor.java:304)\r\n\tat org.eclipse.persistence.jaxb.compiler.Generator.&lt;init&gt;(Generator.java:115)\r\n\tat org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext$SchemaContextInput.createContextState(DynamicJAXBContext.java:350)\r\n\tat org.eclipse.persistence.jaxb.JAXBContext.&lt;init&gt;(JAXBContext.java:206)\r\n\tat org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext.&lt;init&gt;(DynamicJAXBContext.java:85)\r\n\tat org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContextFactory.createContextFromXSD(DynamicJAXBContextFactory.java:281)\r\n\tat com.JaxBDynamic.Demo.main(Demo.java:25)\r\n```\r\n\r\nI am not sure what&#39;s wrong as I am following the steps as mentioned in the [documentation][1]. I could not find anything related to this issue so posting here to get some feedback.\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm\r\n  [2]: https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm#:~:text=Example%2015-27%20Sample%20XML%20Schema%20Document","title":"Dynamic JAXB/MOXy Marshalling throws MOXy BV: Facets generation could not be configured","body":"<p>I am trying to follow the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm\" rel=\"nofollow noreferrer\">documentation</a> and implement the <code>Dynamic JAXB/Moxy marshalling</code>. But it's not working as desired and throws the following error:</p>\n<pre><code>[EL Warning]: moxy: 2021-05-28 10:54:09.432--MOXy BV: Facets generation could not be configured. EclipseLink's JavaModelInputImpl was not detected, instead JavaModelInput is of class: class org.eclipse.persistence.jaxb.javamodel.xjc.XJCJavaModelInputImpl\nException in thread &quot;main&quot; java.lang.NullPointerException\n</code></pre>\n<p>My <code>XSD</code> is in the <code>resources</code> folder and I am using the <code>XSD</code> from the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm#:%7E:text=Example%2015-27%20Sample%20XML%20Schema%20Document\" rel=\"nofollow noreferrer\">documentation</a>. After reading I am trying to create the <code>POJO</code> for it on the go and using the marshaling method to create the XML. Following is the code for it:</p>\n<pre><code>import org.eclipse.persistence.dynamic.DynamicEntity;\nimport org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext;\nimport org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContextFactory;\n\nimport jakarta.xml.bind.JAXBException;\nimport jakarta.xml.bind.Marshaller;\n\npublic class Demo {\n\n    public static void main(String[] args) throws JAXBException {\n        final ClassLoader classLoader = Demo.class.getClassLoader();\n        final InputStream xsd = classLoader.getResourceAsStream(&quot;customer.xsd&quot;);\n        //final InputStream xml = classLoader.getResourceAsStream(&quot;customer.xml&quot;);\n\n        Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;(1);\n        properties.put(&quot;eclipselink.beanvalidation.facets&quot;, true);\n\n        System.setProperty(&quot;com.sun.tools.xjc.api.impl.s2j.SchemaCompilerImpl.noCorrectnessCheck&quot;, &quot;true&quot;);\n        final DynamicJAXBContext jaxbContext = DynamicJAXBContextFactory.createContextFromXSD(xsd, null, classLoader, properties);\n        DynamicEntity customer = jaxbContext.newDynamicEntity(&quot;org.JaxBDynamic.Customer&quot;);\n        DynamicEntity address = jaxbContext.newDynamicEntity(&quot;org.JaxBDynamic.Address&quot;);\n        customer.set(&quot;name&quot;, &quot;Jane Doe&quot;);\n        address.set(&quot;street&quot;, &quot;1 Any Street&quot;).set(&quot;city&quot;, &quot;Any Town&quot;);\n        customer.set(&quot;address&quot;, address);\n        Marshaller marshaller = jaxbContext.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        marshaller.marshal(customer, System.out);\n    }\n}\n</code></pre>\n<p>I have following <code>dependency</code> in <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2-b01&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When I run I get following error:</p>\n<pre><code>[EL Warning]: moxy: 2021-05-28 10:54:09.432--MOXy BV: Facets generation could not be configured. EclipseLink's JavaModelInputImpl was not detected, instead JavaModelInput is of class: class org.eclipse.persistence.jaxb.javamodel.xjc.XJCJavaModelInputImpl\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.preProcessXmlAccessorType(AnnotationsProcessor.java:1628)\n    at org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.preBuildTypeInfo(AnnotationsProcessor.java:603)\n    at org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.processClassesAndProperties(AnnotationsProcessor.java:304)\n    at org.eclipse.persistence.jaxb.compiler.Generator.&lt;init&gt;(Generator.java:115)\n    at org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext$SchemaContextInput.createContextState(DynamicJAXBContext.java:350)\n    at org.eclipse.persistence.jaxb.JAXBContext.&lt;init&gt;(JAXBContext.java:206)\n    at org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext.&lt;init&gt;(DynamicJAXBContext.java:85)\n    at org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContextFactory.createContextFromXSD(DynamicJAXBContextFactory.java:281)\n    at com.JaxBDynamic.Demo.main(Demo.java:25)\n</code></pre>\n<p>I am not sure what's wrong as I am following the steps as mentioned in the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm\" rel=\"nofollow noreferrer\">documentation</a>. I could not find anything related to this issue so posting here to get some feedback.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":3157647,"reputation":447,"user_id":2669657,"display_name":"user2669657"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1451935518,"creation_date":1451935518,"answer_id":34598356,"question_id":34595605,"body_markdown":"It&#39;s strange because @ControllerAdvice should works, are you catching the correct Exception?\r\n\r\n    @ControllerAdvice\r\n    public class GlobalDefaultExceptionHandler {\r\n\r\n        @ResponseBody\r\n    \t@ExceptionHandler(value = DataAccessException.class)\r\n    \tpublic String defaultErrorHandler(HttpServletResponse response, DataAccessException e) throws Exception {\r\n           response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n           //Json return\r\n        }\r\n    }\r\n\r\nAlso try to catch this exception in CorsFilter and send 500 error, something like this\r\n\r\n    @ExceptionHandler(DataAccessException.class)\r\n    @ResponseBody\r\n    public String handleDataException(DataAccessException ex, HttpServletResponse response) {\r\n        response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n        //Json return\r\n    }","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>It's strange because @ControllerAdvice should works, are you catching the correct Exception?</p>\n\n<pre><code>@ControllerAdvice\npublic class GlobalDefaultExceptionHandler {\n\n    @ResponseBody\n    @ExceptionHandler(value = DataAccessException.class)\n    public String defaultErrorHandler(HttpServletResponse response, DataAccessException e) throws Exception {\n       response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\n       //Json return\n    }\n}\n</code></pre>\n\n<p>Also try to catch this exception in CorsFilter and send 500 error, something like this</p>\n\n<pre><code>@ExceptionHandler(DataAccessException.class)\n@ResponseBody\npublic String handleDataException(DataAccessException ex, HttpServletResponse response) {\n    response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\n    //Json return\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1452000247,"creation_date":1452000247,"answer_id":34612801,"question_id":34595605,"body_markdown":"If you want a generic way, you can define an error page in web.xml:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;error-page&gt;\r\n      &lt;exception-type&gt;java.lang.Throwable&lt;/exception-type&gt;\r\n      &lt;location&gt;/500&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\nAnd add mapping in Spring MVC:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Controller\r\n    public class ErrorController {\r\n\r\n        @RequestMapping(value=&quot;/500&quot;)\r\n        public @ResponseBody String handleException(HttpServletRequest req) {\r\n            // you can get the exception thrown\r\n            Throwable t = (Throwable)req.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n\r\n            // customize response to what you want\r\n            return &quot;Internal server error.&quot;;\r\n        }\r\n    }\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>If you want a generic way, you can define an error page in web.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error-page&gt;\n  &lt;exception-type&gt;java.lang.Throwable&lt;/exception-type&gt;\n  &lt;location&gt;/500&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>And add mapping in Spring MVC:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class ErrorController {\n\n    @RequestMapping(value=\"/500\")\n    public @ResponseBody String handleException(HttpServletRequest req) {\n        // you can get the exception thrown\n        Throwable t = (Throwable)req.getAttribute(\"javax.servlet.error.exception\");\n\n        // customize response to what you want\n        return \"Internal server error.\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":428741,"reputation":3863,"user_id":811257,"display_name":"kopelitsa"},"down_vote_count":2,"up_vote_count":150,"is_accepted":true,"score":148,"last_activity_date":1452085350,"creation_date":1452084824,"answer_id":34633687,"question_id":34595605,"body_markdown":"So this is what I did:\r\n\r\nI read the basics about filters [here](http://tutorials.jenkov.com/java-servlets/servlet-filters.html) and I figured out that I need to create a custom filter that will be first in the filter chain and will have a try catch to catch all runtime exceptions that might occur there. Then i need to create the json manually and put it in the response.\r\n\r\nSo here is my custom filter:\r\n\r\n    public class ExceptionHandlerFilter extends OncePerRequestFilter {\r\n\r\n        @Override\r\n        public void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            try {\r\n                filterChain.doFilter(request, response);\r\n            } catch (RuntimeException e) {\r\n \r\n                // custom error response class used across my project\r\n                ErrorResponse errorResponse = new ErrorResponse(e);\r\n\r\n                response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n                response.getWriter().write(convertObjectToJson(errorResponse));\r\n        }\r\n    }\r\n\r\n        public String convertObjectToJson(Object object) throws JsonProcessingException {\r\n            if (object == null) {\r\n                return null;\r\n            }\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            return mapper.writeValueAsString(object);\r\n        }\r\n    }\r\n\r\nAnd then i added it in the web.xml before the `CorsFilter`. And it works! \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt; \r\n        &lt;filter-name&gt;exceptionHandlerFilter&lt;/filter-name&gt; \r\n        &lt;filter-class&gt;xx.xxxxxx.xxxxx.api.controllers.filters.ExceptionHandlerFilter&lt;/filter-class&gt; \r\n    &lt;/filter&gt; \r\n \r\n\r\n    &lt;filter-mapping&gt; \r\n        &lt;filter-name&gt;exceptionHandlerFilter&lt;/filter-name&gt; \r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt; \r\n    &lt;/filter-mapping&gt; \r\n \r\n    &lt;filter&gt; \r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt; \r\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt; \r\n    &lt;/filter&gt; \r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>So this is what I did:</p>\n\n<p>I read the basics about filters <a href=\"http://tutorials.jenkov.com/java-servlets/servlet-filters.html\">here</a> and I figured out that I need to create a custom filter that will be first in the filter chain and will have a try catch to catch all runtime exceptions that might occur there. Then i need to create the json manually and put it in the response.</p>\n\n<p>So here is my custom filter:</p>\n\n<pre><code>public class ExceptionHandlerFilter extends OncePerRequestFilter {\n\n    @Override\n    public void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        try {\n            filterChain.doFilter(request, response);\n        } catch (RuntimeException e) {\n\n            // custom error response class used across my project\n            ErrorResponse errorResponse = new ErrorResponse(e);\n\n            response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\n            response.getWriter().write(convertObjectToJson(errorResponse));\n    }\n}\n\n    public String convertObjectToJson(Object object) throws JsonProcessingException {\n        if (object == null) {\n            return null;\n        }\n        ObjectMapper mapper = new ObjectMapper();\n        return mapper.writeValueAsString(object);\n    }\n}\n</code></pre>\n\n<p>And then i added it in the web.xml before the <code>CorsFilter</code>. And it works! </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt; \n    &lt;filter-name&gt;exceptionHandlerFilter&lt;/filter-name&gt; \n    &lt;filter-class&gt;xx.xxxxxx.xxxxx.api.controllers.filters.ExceptionHandlerFilter&lt;/filter-class&gt; \n&lt;/filter&gt; \n\n\n&lt;filter-mapping&gt; \n    &lt;filter-name&gt;exceptionHandlerFilter&lt;/filter-name&gt; \n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt; \n&lt;/filter-mapping&gt; \n\n&lt;filter&gt; \n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt; \n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt; \n&lt;/filter&gt; \n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2404464,"reputation":1067,"user_id":2101345,"display_name":"Cyva"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1484322621,"creation_date":1484322621,"answer_id":41638440,"question_id":34595605,"body_markdown":"When you want to test a state of application and in case of a problem return HTTP error I would suggest a filter. The filter below handles all HTTP requests. The shortest solution in Spring Boot with a javax filter.\r\n\r\nIn the implementation can be various conditions. In my case the applicationManager testing if the application is ready. \r\n\r\n\r\n    import ...ApplicationManager;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    @Component\r\n    public class SystemIsReadyFilter implements Filter {\r\n    \r\n    \t@Autowired\r\n    \tprivate ApplicationManager applicationManager;\r\n    \r\n    \t@Override\r\n    \tpublic void init(FilterConfig filterConfig) throws ServletException {}\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n    \t\tif (!applicationManager.isApplicationReady()) {\r\n    \t\t\t((HttpServletResponse) response).sendError(HttpServletResponse.SC_SERVICE_UNAVAILABLE, &quot;The service is booting.&quot;);\r\n    \t\t} else {\r\n    \t\t\tchain.doFilter(request, response);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void destroy() {}\r\n    }","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>When you want to test a state of application and in case of a problem return HTTP error I would suggest a filter. The filter below handles all HTTP requests. The shortest solution in Spring Boot with a javax filter.</p>\n\n<p>In the implementation can be various conditions. In my case the applicationManager testing if the application is ready. </p>\n\n<pre><code>import ...ApplicationManager;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class SystemIsReadyFilter implements Filter {\n\n    @Autowired\n    private ApplicationManager applicationManager;\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {}\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        if (!applicationManager.isApplicationReady()) {\n            ((HttpServletResponse) response).sendError(HttpServletResponse.SC_SERVICE_UNAVAILABLE, \"The service is booting.\");\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\n\n    @Override\n    public void destroy() {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1492901857,"creation_date":1491429934,"answer_id":43242424,"question_id":34595605,"body_markdown":"I come across this issue myself and I performed the steps below to reuse my ```ExceptionController``` that is annotated with ```@ControllerAdvise``` for ```Exceptions``` thrown in a registered Filter.\r\n\r\nThere are obviously many ways to handle exception but, in my case, I wanted the exception to be handled by my ```ExceptionController``` because I am stubborn and also because I don&#39;t want to copy/paste the same code (i.e. I have some processing/logging code in ```ExceptionController```). I would like to return the beautiful ```JSON``` response just like the rest of the exceptions thrown not from a Filter. \r\n\r\n    {\r\n      &quot;status&quot;: 400,\r\n      &quot;message&quot;: &quot;some exception thrown when executing the request&quot;\r\n    }\r\n\r\nAnyway, I managed to make use of my ```ExceptionHandler``` and I had to do a little bit of extra as shown below in steps:\r\n\r\n**Steps**\r\n_____________________________\r\n\r\n 1. You have a custom filter that may or may not throw an exception\r\n 2. You have a Spring controller that handles exceptions using ```@ControllerAdvise``` i.e. MyExceptionController\r\n\r\n\r\n**Sample code**\r\n\r\n    //sample Filter, to be added in web.xml\r\n    public MyFilterThatThrowException implements Filter {\r\n       //Spring Controller annotated with @ControllerAdvise which has handlers\r\n       //for exceptions\r\n       private MyExceptionController myExceptionController; \r\n       \r\n       @Override\r\n       public void destroy() {\r\n    \t\t// TODO Auto-generated method stub\r\n       }\r\n       \r\n       @Override\r\n       public void init(FilterConfig arg0) throws ServletException {\r\n           //Manually get an instance of MyExceptionController\r\n           ApplicationContext ctx = WebApplicationContextUtils\r\n    \t\t\t      .getRequiredWebApplicationContext(arg0.getServletContext());\r\n           \r\n           //MyExceptionHanlder is now accessible because I loaded it manually\r\n           this.myExceptionController = ctx.getBean(MyExceptionController.class); \r\n       }\r\n     \r\n       @Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\tHttpServletRequest req = (HttpServletRequest) request;\r\n    \t\tHttpServletResponse res = (HttpServletResponse) response;\r\n            \r\n            try {\r\n               //code that throws exception\r\n            } catch(Exception ex) {\r\n              //MyObject is whatever the output of the below method\r\n              MyObject errorDTO = myExceptionController.handleMyException(req, ex); \r\n    \t\t  \r\n              //set the response object\r\n              res.setStatus(errorDTO .getStatus());\r\n    \t\t  res.setContentType(&quot;application/json&quot;);\r\n    \t\t  \r\n              //pass down the actual obj that exception handler normally send\r\n    \t\t  ObjectMapper mapper = new ObjectMapper();\r\n    \t\t  PrintWriter out = res.getWriter(); \r\n    \t\t  out.print(mapper.writeValueAsString(errorDTO ));\r\n    \t\t  out.flush();\r\n    \t\t\t\t\r\n    \t\t  return; \r\n            }\r\n    \r\n            //proceed normally otherwise\r\n            chain.doFilter(request, response); \r\n         }\r\n    }\r\n\r\nAnd now the sample Spring Controller that handles ```Exception``` in normal cases (i.e. exceptions that are not  usually thrown in Filter level, the one we want to use for exceptions thrown in a Filter) \r\n\r\n    //sample SpringController \r\n    @ControllerAdvice\r\n    public class ExceptionController extends ResponseEntityExceptionHandler {\r\n        \r\n        //sample handler\r\n    \t@ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n    \t@ExceptionHandler(SQLException.class)\r\n    \tpublic @ResponseBody MyObject handleSQLException(HttpServletRequest request,\r\n    \t\t\tException ex){\r\n    \t\tErrorDTO response = new ErrorDTO (400, &quot;some exception thrown when &quot;\r\n    \t\t\t\t+ &quot;executing the request.&quot;); \r\n    \t\treturn response;\r\n    \t}\r\n        //other handlers\r\n    }\r\n\r\nSharing the solution with those who wish to use ```ExceptionController``` for ```Exceptions``` thrown in a Filter.","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>I come across this issue myself and I performed the steps below to reuse my <code>ExceptionController</code> that is annotated with <code>@ControllerAdvise</code> for <code>Exceptions</code> thrown in a registered Filter.</p>\n\n<p>There are obviously many ways to handle exception but, in my case, I wanted the exception to be handled by my <code>ExceptionController</code> because I am stubborn and also because I don't want to copy/paste the same code (i.e. I have some processing/logging code in <code>ExceptionController</code>). I would like to return the beautiful <code>JSON</code> response just like the rest of the exceptions thrown not from a Filter. </p>\n\n<pre><code>{\n  \"status\": 400,\n  \"message\": \"some exception thrown when executing the request\"\n}\n</code></pre>\n\n<p>Anyway, I managed to make use of my <code>ExceptionHandler</code> and I had to do a little bit of extra as shown below in steps:</p>\n\n<p><strong>Steps</strong></p>\n\n<hr>\n\n<ol>\n<li>You have a custom filter that may or may not throw an exception</li>\n<li>You have a Spring controller that handles exceptions using <code>@ControllerAdvise</code> i.e. MyExceptionController</li>\n</ol>\n\n<p><strong>Sample code</strong></p>\n\n<pre><code>//sample Filter, to be added in web.xml\npublic MyFilterThatThrowException implements Filter {\n   //Spring Controller annotated with @ControllerAdvise which has handlers\n   //for exceptions\n   private MyExceptionController myExceptionController; \n\n   @Override\n   public void destroy() {\n        // TODO Auto-generated method stub\n   }\n\n   @Override\n   public void init(FilterConfig arg0) throws ServletException {\n       //Manually get an instance of MyExceptionController\n       ApplicationContext ctx = WebApplicationContextUtils\n                  .getRequiredWebApplicationContext(arg0.getServletContext());\n\n       //MyExceptionHanlder is now accessible because I loaded it manually\n       this.myExceptionController = ctx.getBean(MyExceptionController.class); \n   }\n\n   @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse res = (HttpServletResponse) response;\n\n        try {\n           //code that throws exception\n        } catch(Exception ex) {\n          //MyObject is whatever the output of the below method\n          MyObject errorDTO = myExceptionController.handleMyException(req, ex); \n\n          //set the response object\n          res.setStatus(errorDTO .getStatus());\n          res.setContentType(\"application/json\");\n\n          //pass down the actual obj that exception handler normally send\n          ObjectMapper mapper = new ObjectMapper();\n          PrintWriter out = res.getWriter(); \n          out.print(mapper.writeValueAsString(errorDTO ));\n          out.flush();\n\n          return; \n        }\n\n        //proceed normally otherwise\n        chain.doFilter(request, response); \n     }\n}\n</code></pre>\n\n<p>And now the sample Spring Controller that handles <code>Exception</code> in normal cases (i.e. exceptions that are not  usually thrown in Filter level, the one we want to use for exceptions thrown in a Filter) </p>\n\n<pre><code>//sample SpringController \n@ControllerAdvice\npublic class ExceptionController extends ResponseEntityExceptionHandler {\n\n    //sample handler\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(SQLException.class)\n    public @ResponseBody MyObject handleSQLException(HttpServletRequest request,\n            Exception ex){\n        ErrorDTO response = new ErrorDTO (400, \"some exception thrown when \"\n                + \"executing the request.\"); \n        return response;\n    }\n    //other handlers\n}\n</code></pre>\n\n<p>Sharing the solution with those who wish to use <code>ExceptionController</code> for <code>Exceptions</code> thrown in a Filter.</p>\n"},{"tags":[],"owner":{"account_id":1168340,"reputation":2740,"user_id":2014439,"accept_rate":86,"display_name":"walv"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492455016,"creation_date":1492455016,"answer_id":43457607,"question_id":34595605,"body_markdown":"This is my solution by overriding default Spring Boot /error handler\r\n\r\n    package com.mypackage;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.web.ErrorAttributes;\r\n    import org.springframework.core.annotation.AnnotationUtils;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.util.Assert;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.context.request.RequestAttributes;\r\n    import org.springframework.web.context.request.ServletRequestAttributes;\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.util.Map;\r\n\r\n    /**\r\n     * This controller is vital in order to handle exceptions thrown in Filters.\r\n     */\r\n    @RestController\r\n    @RequestMapping(&quot;/error&quot;)\r\n    public class ErrorController implements org.springframework.boot.autoconfigure.web.ErrorController {\r\n\r\n        private final static Logger LOGGER = LoggerFactory.getLogger(ErrorController.class);\r\n\r\n        private final ErrorAttributes errorAttributes;\r\n\r\n        @Autowired\r\n        public ErrorController(ErrorAttributes errorAttributes) {\r\n            Assert.notNull(errorAttributes, &quot;ErrorAttributes must not be null&quot;);\r\n            this.errorAttributes = errorAttributes;\r\n        }\r\n\r\n        @Override\r\n        public String getErrorPath() {\r\n            return &quot;/error&quot;;\r\n        }\r\n\r\n        @RequestMapping\r\n        public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest aRequest, HttpServletResponse response) {\r\n            RequestAttributes requestAttributes = new ServletRequestAttributes(aRequest);\r\n            Map&lt;String, Object&gt; result =     this.errorAttributes.getErrorAttributes(requestAttributes, false);\r\n\r\n            Throwable error = this.errorAttributes.getError(requestAttributes);\r\n\r\n            ResponseStatus annotation =     AnnotationUtils.getAnnotation(error.getClass(), ResponseStatus.class);\r\n            HttpStatus statusCode = annotation != null ? annotation.value() : HttpStatus.INTERNAL_SERVER_ERROR;\r\n    \r\n            result.put(&quot;status&quot;, statusCode.value());\r\n            result.put(&quot;error&quot;, statusCode.getReasonPhrase());\r\n    \r\n            LOGGER.error(result.toString());\r\n            return new ResponseEntity&lt;&gt;(result, statusCode) ;\r\n        }\r\n    \r\n    }\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>This is my solution by overriding default Spring Boot /error handler</p>\n\n<pre><code>package com.mypackage;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.web.ErrorAttributes;\nimport org.springframework.core.annotation.AnnotationUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.util.Assert;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.context.request.RequestAttributes;\nimport org.springframework.web.context.request.ServletRequestAttributes;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.util.Map;\n\n/**\n * This controller is vital in order to handle exceptions thrown in Filters.\n */\n@RestController\n@RequestMapping(\"/error\")\npublic class ErrorController implements org.springframework.boot.autoconfigure.web.ErrorController {\n\n    private final static Logger LOGGER = LoggerFactory.getLogger(ErrorController.class);\n\n    private final ErrorAttributes errorAttributes;\n\n    @Autowired\n    public ErrorController(ErrorAttributes errorAttributes) {\n        Assert.notNull(errorAttributes, \"ErrorAttributes must not be null\");\n        this.errorAttributes = errorAttributes;\n    }\n\n    @Override\n    public String getErrorPath() {\n        return \"/error\";\n    }\n\n    @RequestMapping\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest aRequest, HttpServletResponse response) {\n        RequestAttributes requestAttributes = new ServletRequestAttributes(aRequest);\n        Map&lt;String, Object&gt; result =     this.errorAttributes.getErrorAttributes(requestAttributes, false);\n\n        Throwable error = this.errorAttributes.getError(requestAttributes);\n\n        ResponseStatus annotation =     AnnotationUtils.getAnnotation(error.getClass(), ResponseStatus.class);\n        HttpStatus statusCode = annotation != null ? annotation.value() : HttpStatus.INTERNAL_SERVER_ERROR;\n\n        result.put(\"status\", statusCode.value());\n        result.put(\"error\", statusCode.getReasonPhrase());\n\n        LOGGER.error(result.toString());\n        return new ResponseEntity&lt;&gt;(result, statusCode) ;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23953,"reputation":463,"user_id":60548,"accept_rate":50,"display_name":"AndyB"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1528809895,"creation_date":1528809895,"answer_id":50818385,"question_id":34595605,"body_markdown":"So, here&#39;s what I did based on an amalgamation of the above answers... We already had a `GlobalExceptionHandler` annotated with `@ControllerAdvice` and I also wanted to find a way to re-use that code to handle exceptions that come from filters.\r\n\r\nThe simplest solution I could find was to leave the exception handler alone, and implement an error controller as follows:\r\n\r\n    @Controller\r\n    public class ErrorControllerImpl implements ErrorController {\r\n      @RequestMapping(&quot;/error&quot;)\r\n      public void handleError(HttpServletRequest request) throws Throwable {\r\n        if (request.getAttribute(&quot;javax.servlet.error.exception&quot;) != null) {\r\n          throw (Throwable) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nSo, any errors caused by exceptions first pass through the `ErrorController` and are re-directed off to the exception handler by rethrowing them from within a `@Controller` context, whereas any other errors (not caused directly by an exception) pass through the `ErrorController` without modification.\r\n\r\nAny reasons why this is actually a bad idea?","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>So, here's what I did based on an amalgamation of the above answers... We already had a <code>GlobalExceptionHandler</code> annotated with <code>@ControllerAdvice</code> and I also wanted to find a way to re-use that code to handle exceptions that come from filters.</p>\n\n<p>The simplest solution I could find was to leave the exception handler alone, and implement an error controller as follows:</p>\n\n<pre><code>@Controller\npublic class ErrorControllerImpl implements ErrorController {\n  @RequestMapping(\"/error\")\n  public void handleError(HttpServletRequest request) throws Throwable {\n    if (request.getAttribute(\"javax.servlet.error.exception\") != null) {\n      throw (Throwable) request.getAttribute(\"javax.servlet.error.exception\");\n    }\n  }\n}\n</code></pre>\n\n<p>So, any errors caused by exceptions first pass through the <code>ErrorController</code> and are re-directed off to the exception handler by rethrowing them from within a <code>@Controller</code> context, whereas any other errors (not caused directly by an exception) pass through the <code>ErrorController</code> without modification.</p>\n\n<p>Any reasons why this is actually a bad idea?</p>\n"},{"tags":[],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1550532738,"creation_date":1550515958,"answer_id":54753653,"question_id":34595605,"body_markdown":"Just to complement the other fine answers provided, as I too recently wanted a **single** error/exception handling component in a simple SpringBoot app containing filters that may throw exceptions, with other exceptions potentially thrown from controller methods.  \r\n\r\nFortunately, it seems there is nothing to prevent you from combining your controller advice with an override of Spring&#39;s default error handler to provide consistent response payloads, allow you to share logic, inspect exceptions from filters, trap specific service-thrown exceptions, etc.  \r\n\r\nE.g.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n@ControllerAdvice\r\n@RestController\r\npublic class GlobalErrorHandler implements ErrorController {\r\n\r\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n  @ExceptionHandler(ValidationException.class)\r\n  public Error handleValidationException(\r\n      final ValidationException validationException) {\r\n    return new Error(&quot;400&quot;, &quot;Incorrect params&quot;); // whatever\r\n  }\r\n\r\n  @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n  @ExceptionHandler(Exception.class)\r\n  public Error handleUnknownException(final Exception exception) {\r\n    return new Error(&quot;500&quot;, &quot;Unexpected error processing request&quot;);\r\n  }\r\n\r\n  @RequestMapping(&quot;/error&quot;)\r\n  public ResponseEntity&lt;Error&gt; handleError(final HttpServletRequest request,\r\n      final HttpServletResponse response) {\r\n\r\n    Object exception = request.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n    \r\n    // TODO: Logic to inspect exception thrown from Filters...\r\n    return ResponseEntity.badRequest().body(new Error(/* whatever */));\r\n  }\r\n\r\n  @Override\r\n  public String getErrorPath() {\r\n    return &quot;/error&quot;;\r\n  }\r\n\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>Just to complement the other fine answers provided, as I too recently wanted a <strong>single</strong> error/exception handling component in a simple SpringBoot app containing filters that may throw exceptions, with other exceptions potentially thrown from controller methods.  </p>\n\n<p>Fortunately, it seems there is nothing to prevent you from combining your controller advice with an override of Spring's default error handler to provide consistent response payloads, allow you to share logic, inspect exceptions from filters, trap specific service-thrown exceptions, etc.  </p>\n\n<p>E.g.</p>\n\n<pre><code>\n@ControllerAdvice\n@RestController\npublic class GlobalErrorHandler implements ErrorController {\n\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\n  @ExceptionHandler(ValidationException.class)\n  public Error handleValidationException(\n      final ValidationException validationException) {\n    return new Error(\"400\", \"Incorrect params\"); // whatever\n  }\n\n  @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n  @ExceptionHandler(Exception.class)\n  public Error handleUnknownException(final Exception exception) {\n    return new Error(\"500\", \"Unexpected error processing request\");\n  }\n\n  @RequestMapping(\"/error\")\n  public ResponseEntity handleError(final HttpServletRequest request,\n      final HttpServletResponse response) {\n\n    Object exception = request.getAttribute(\"javax.servlet.error.exception\");\n\n    // TODO: Logic to inspect exception thrown from Filters...\n    return ResponseEntity.badRequest().body(new Error(/* whatever */));\n  }\n\n  @Override\n  public String getErrorPath() {\n    return \"/error\";\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"down_vote_count":2,"up_vote_count":135,"is_accepted":false,"score":133,"last_activity_date":1569307525,"creation_date":1556269336,"answer_id":55864206,"question_id":34595605,"body_markdown":"I wanted to provide a solution based on [the answer of @kopelitsa](https://stackoverflow.com/a/34633687/3233827). The main differences being:\r\n\r\n 1. Reusing the controller exception handling by using the `HandlerExceptionResolver`.\r\n 2. Using Java config over XML config\r\n\r\n---\r\n\r\nFirst, you need to make sure, that you have a class that handles exceptions occurring in a regular RestController/Controller (a class annotated with `@RestControllerAdvice` or `@ControllerAdvice` and method(s) annotated with `@ExceptionHandler`). This handles your exceptions occurring in a controller. Here is an example using the RestControllerAdvice:\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionTranslator {\r\n\r\n        @ExceptionHandler(RuntimeException.class)\r\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        public ErrorDTO processRuntimeException(RuntimeException e) {\r\n            return createErrorDTO(HttpStatus.INTERNAL_SERVER_ERROR, &quot;An internal server error occurred.&quot;, e);\r\n        }\r\n\r\n        private ErrorDTO createErrorDTO(HttpStatus status, String message, Exception e) {\r\n            (...)\r\n        }\r\n    }\r\n\r\nTo reuse this behavior in the Spring Security filter chain, you need to define a Filter and hook it into your security configuration. The filter needs to redirect the exception to the above defined exception handling. Here is an example:\r\n\r\n    @Component\r\n    public class FilterChainExceptionHandler extends OncePerRequestFilter {\r\n\r\n        private final Logger log = LoggerFactory.getLogger(getClass());\r\n\r\n        @Autowired\r\n        @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n\t    private HandlerExceptionResolver resolver;\r\n\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n\r\n            try {\r\n                filterChain.doFilter(request, response);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Spring Security Filter Chain Exception:&quot;, e);\r\n                resolver.resolveException(request, response, null, e);\r\n            }\r\n\t\t}\r\n\t}\r\n\r\nThe created filter then needs to be added to the SecurityConfiguration. You need to hook it into the chain very early, because all preceding filter&#39;s exceptions won&#39;t be caught. In my case, it was reasonable to add it before the `LogoutFilter`. See the default filter chain and its order [in the official docs](https://docs.spring.io/spring-security/site/docs/current/reference/html/ns-config.html#ns-custom-filters). Here is an example:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n        @Autowired\r\n        private FilterChainExceptionHandler filterChainExceptionHandler;\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .addFilterBefore(filterChainExceptionHandler, LogoutFilter.class)\r\n                (...)\r\n        }\r\n\r\n    }","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>I wanted to provide a solution based on <a href=\"https://stackoverflow.com/a/34633687/3233827\">the answer of @kopelitsa</a>. The main differences being:</p>\n\n<ol>\n<li>Reusing the controller exception handling by using the <code>HandlerExceptionResolver</code>.</li>\n<li>Using Java config over XML config</li>\n</ol>\n\n<hr>\n\n<p>First, you need to make sure, that you have a class that handles exceptions occurring in a regular RestController/Controller (a class annotated with <code>@RestControllerAdvice</code> or <code>@ControllerAdvice</code> and method(s) annotated with <code>@ExceptionHandler</code>). This handles your exceptions occurring in a controller. Here is an example using the RestControllerAdvice:</p>\n\n<pre><code>@RestControllerAdvice\npublic class ExceptionTranslator {\n\n    @ExceptionHandler(RuntimeException.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public ErrorDTO processRuntimeException(RuntimeException e) {\n        return createErrorDTO(HttpStatus.INTERNAL_SERVER_ERROR, \"An internal server error occurred.\", e);\n    }\n\n    private ErrorDTO createErrorDTO(HttpStatus status, String message, Exception e) {\n        (...)\n    }\n}\n</code></pre>\n\n<p>To reuse this behavior in the Spring Security filter chain, you need to define a Filter and hook it into your security configuration. The filter needs to redirect the exception to the above defined exception handling. Here is an example:</p>\n\n<pre><code>@Component\npublic class FilterChainExceptionHandler extends OncePerRequestFilter {\n\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    @Autowired\n    @Qualifier(\"handlerExceptionResolver\")\n    private HandlerExceptionResolver resolver;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        try {\n            filterChain.doFilter(request, response);\n        } catch (Exception e) {\n            log.error(\"Spring Security Filter Chain Exception:\", e);\n            resolver.resolveException(request, response, null, e);\n        }\n    }\n}\n</code></pre>\n\n<p>The created filter then needs to be added to the SecurityConfiguration. You need to hook it into the chain very early, because all preceding filter's exceptions won't be caught. In my case, it was reasonable to add it before the <code>LogoutFilter</code>. See the default filter chain and its order <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/ns-config.html#ns-custom-filters\" rel=\"noreferrer\">in the official docs</a>. Here is an example:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private FilterChainExceptionHandler filterChainExceptionHandler;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .addFilterBefore(filterChainExceptionHandler, LogoutFilter.class)\n            (...)\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8978785,"reputation":51,"user_id":6694666,"display_name":"Adewagold"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564753327,"creation_date":1564753327,"answer_id":57327708,"question_id":34595605,"body_markdown":"After reading through different methods suggested in the above answers, I decided to handle the authentication exceptions by using a custom filter. I was able to handle the response status and codes using an error response class using the following method.\r\n\r\nI created a custom filter and modified my security config by using the addFilterAfter method and added after the CorsFilter class.\r\n\r\n    @Component\r\n    public class AuthFilter implements Filter {\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        //Cast the servlet request and response to HttpServletRequest and HttpServletResponse\r\n        HttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n        \r\n        // Grab the exception from the request attribute\r\n        Exception exception = (Exception) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n        //Set response content type to application/json\r\n        httpServletResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n        \r\n        //check if exception is not null and determine the instance of the exception to further manipulate the status codes and messages of your exception\r\n        if(exception!=null &amp;&amp; exception instanceof AuthorizationParameterNotFoundException){\r\n            ErrorResponse errorResponse = new ErrorResponse(exception.getMessage(),&quot;Authetication Failed!&quot;);\r\n            httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n            PrintWriter writer = httpServletResponse.getWriter();\r\n            writer.write(convertObjectToJson(errorResponse));\r\n            writer.flush();\r\n            return;\r\n        }\r\n        // If exception instance cannot be determined, then throw a nice exception and desired response code.\r\n        else if(exception!=null){\r\n                ErrorResponse errorResponse = new ErrorResponse(exception.getMessage(),&quot;Authetication Failed!&quot;);\r\n                PrintWriter writer = httpServletResponse.getWriter();\r\n                writer.write(convertObjectToJson(errorResponse));\r\n                writer.flush();\r\n                return;\r\n            }\r\n            else {\r\n            // proceed with the initial request if no exception is thrown.\r\n                chain.doFilter(httpServletRequest,httpServletResponse);\r\n            }\r\n        }\r\n\r\n    public String convertObjectToJson(Object object) throws JsonProcessingException {\r\n        if (object == null) {\r\n            return null;\r\n        }\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return mapper.writeValueAsString(object);\r\n    }\r\n    }\r\n\r\nSecurityConfig class\r\n\r\n        @Configuration\r\n        public class JwtSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        AuthFilter authenticationFilter;\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.addFilterAfter(authenticationFilter, CorsFilter.class).csrf().disable()\r\n                    .cors(); //........\r\n            return http;\r\n         }\r\n       }\r\n\r\nErrorResponse class\r\n\r\n    public class ErrorResponse  {\r\n    private final String message;\r\n    private final String description;\r\n\r\n    public ErrorResponse(String description, String message) {\r\n        this.message = message;\r\n        this.description = description;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }}","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>After reading through different methods suggested in the above answers, I decided to handle the authentication exceptions by using a custom filter. I was able to handle the response status and codes using an error response class using the following method.</p>\n\n<p>I created a custom filter and modified my security config by using the addFilterAfter method and added after the CorsFilter class.</p>\n\n<pre><code>@Component\npublic class AuthFilter implements Filter {\n@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n    //Cast the servlet request and response to HttpServletRequest and HttpServletResponse\n    HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n    HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n    // Grab the exception from the request attribute\n    Exception exception = (Exception) request.getAttribute(\"javax.servlet.error.exception\");\n    //Set response content type to application/json\n    httpServletResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\n\n    //check if exception is not null and determine the instance of the exception to further manipulate the status codes and messages of your exception\n    if(exception!=null &amp;&amp; exception instanceof AuthorizationParameterNotFoundException){\n        ErrorResponse errorResponse = new ErrorResponse(exception.getMessage(),\"Authetication Failed!\");\n        httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        PrintWriter writer = httpServletResponse.getWriter();\n        writer.write(convertObjectToJson(errorResponse));\n        writer.flush();\n        return;\n    }\n    // If exception instance cannot be determined, then throw a nice exception and desired response code.\n    else if(exception!=null){\n            ErrorResponse errorResponse = new ErrorResponse(exception.getMessage(),\"Authetication Failed!\");\n            PrintWriter writer = httpServletResponse.getWriter();\n            writer.write(convertObjectToJson(errorResponse));\n            writer.flush();\n            return;\n        }\n        else {\n        // proceed with the initial request if no exception is thrown.\n            chain.doFilter(httpServletRequest,httpServletResponse);\n        }\n    }\n\npublic String convertObjectToJson(Object object) throws JsonProcessingException {\n    if (object == null) {\n        return null;\n    }\n    ObjectMapper mapper = new ObjectMapper();\n    return mapper.writeValueAsString(object);\n}\n}\n</code></pre>\n\n<p>SecurityConfig class</p>\n\n<pre><code>    @Configuration\n    public class JwtSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    AuthFilter authenticationFilter;\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.addFilterAfter(authenticationFilter, CorsFilter.class).csrf().disable()\n                .cors(); //........\n        return http;\n     }\n   }\n</code></pre>\n\n<p>ErrorResponse class</p>\n\n<pre><code>public class ErrorResponse  {\nprivate final String message;\nprivate final String description;\n\npublic ErrorResponse(String description, String message) {\n    this.message = message;\n    this.description = description;\n}\n\npublic String getMessage() {\n    return message;\n}\n\npublic String getDescription() {\n    return description;\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1975861,"reputation":612,"user_id":1773664,"display_name":"Santiago Carrillo"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1585591023,"creation_date":1585591023,"answer_id":60936580,"question_id":34595605,"body_markdown":"You can use the following method inside the catch block:\r\n\r\n    response.sendError(HttpStatus.UNAUTHORIZED.value(), &quot;Invalid token&quot;)\r\n\r\n\r\nNotice that you can use any HttpStatus code and a custom message.","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>You can use the following method inside the catch block:</p>\n\n<pre><code>response.sendError(HttpStatus.UNAUTHORIZED.value(), \"Invalid token\")\n</code></pre>\n\n<p>Notice that you can use any HttpStatus code and a custom message.</p>\n"},{"tags":[],"owner":{"account_id":2289030,"reputation":288,"user_id":2012411,"accept_rate":75,"display_name":"beta-brad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589307836,"creation_date":1589307836,"answer_id":61759224,"question_id":34595605,"body_markdown":"You do not need to create a custom Filter for this.  We solved this by creating custom exceptions that extend ServletException (which is thrown from the doFilter method, shown in the declaration). These are then caught and handled by our global error handler. \r\n\r\nedit: grammar","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>You do not need to create a custom Filter for this.  We solved this by creating custom exceptions that extend ServletException (which is thrown from the doFilter method, shown in the declaration). These are then caught and handled by our global error handler. </p>\n\n<p>edit: grammar</p>\n"},{"tags":[],"owner":{"account_id":8604418,"reputation":31,"user_id":6445004,"display_name":"thomas Miller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614922735,"creation_date":1614922735,"answer_id":66487380,"question_id":34595605,"body_markdown":"I had the same issue in webflux, going on the theme that someone is looking to resuse there @ControllerAdvice, you do not want to throw a direct exception or return a mono error in the webfilter, however you want to set the response to be the mono error.\r\n\r\n```\r\n    public class YourFilter implements WebFilter {\r\n\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final WebFilterChain chain) {\r\n        exchange.getResponse().writeWith(Mono.error(new YouException()));\r\n        return chain.filter(exchange)\r\n    }\r\n}\r\n```\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>I had the same issue in webflux, going on the theme that someone is looking to resuse there @ControllerAdvice, you do not want to throw a direct exception or return a mono error in the webfilter, however you want to set the response to be the mono error.</p>\n<pre><code>    public class YourFilter implements WebFilter {\n\n\n    @Override\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final WebFilterChain chain) {\n        exchange.getResponse().writeWith(Mono.error(new YouException()));\n        return chain.filter(exchange)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14109827,"reputation":35,"user_id":10192987,"display_name":"Sumit Basu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620544945,"creation_date":1620544945,"answer_id":67455229,"question_id":34595605,"body_markdown":"In Filters, we don&#39;t have a control with `@ControllerAdvice` or `@RestControllerAdvice` to handle our exceptions that could occur at the time of doing the authentication. Because, DispatcherServlet will only come into picture after the Controller class hits.\r\nSo, we need to do the following.\r\n\r\n1) we need to have \r\n\r\n    HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n\r\n&quot;response&quot; object we can pass it from `public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)` of `GenericFilterBean.java` implementation class.\r\n2) We can use the below utility class to write or print our error JSON model or String object into the ServletResponse output stream.\r\n\r\n\r\n    public static void handleUnAuthorizedError(ServletResponse response,Exception e)\r\n\t{\r\n\t\tErrorModel error = null;\r\n\t\tif(e!=null)\r\n\t\t\terror = new ErrorModel(ErrorCodes.ACCOUNT_UNAUTHORIZED, e.getMessage());\r\n\t\telse\r\n\t\t\terror = new ErrorModel(ErrorCodes.ACCOUNT_UNAUTHORIZED, ApplicationConstants.UNAUTHORIZED);\r\n\t\t\r\n\t\tJsonUtils jsonUtils = new JsonUtils();\r\n\t\tHttpServletResponse httpResponse = (HttpServletResponse) response;\r\n\t\thttpResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n\t\thttpResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n\t\ttry {\r\n\t\t\thttpResponse.getOutputStream().println(jsonUtils.convertToJSON(error));\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\n    public String convertToJSON(Object inputObj) {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\tString orderJson = null;\r\n    \t\ttry {\r\n    \t\t\torderJson = objectMapper.writeValueAsString(inputObj);\r\n    \t\t}\r\n    \t\tcatch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn orderJson;\r\n    \t}","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>In Filters, we don't have a control with <code>@ControllerAdvice</code> or <code>@RestControllerAdvice</code> to handle our exceptions that could occur at the time of doing the authentication. Because, DispatcherServlet will only come into picture after the Controller class hits.\nSo, we need to do the following.</p>\n<ol>\n<li><p>we need to have</p>\n<p>HttpServletResponse httpResponse = (HttpServletResponse) response;</p>\n</li>\n</ol>\n<p>&quot;response&quot; object we can pass it from <code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)</code> of <code>GenericFilterBean.java</code> implementation class.\n2) We can use the below utility class to write or print our error JSON model or String object into the ServletResponse output stream.</p>\n<pre><code>public static void handleUnAuthorizedError(ServletResponse response,Exception e)\n{\n    ErrorModel error = null;\n    if(e!=null)\n        error = new ErrorModel(ErrorCodes.ACCOUNT_UNAUTHORIZED, e.getMessage());\n    else\n        error = new ErrorModel(ErrorCodes.ACCOUNT_UNAUTHORIZED, ApplicationConstants.UNAUTHORIZED);\n    \n    JsonUtils jsonUtils = new JsonUtils();\n    HttpServletResponse httpResponse = (HttpServletResponse) response;\n    httpResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    httpResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n    try {\n        httpResponse.getOutputStream().println(jsonUtils.convertToJSON(error));\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n\n\npublic String convertToJSON(Object inputObj) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        String orderJson = null;\n        try {\n            orderJson = objectMapper.writeValueAsString(inputObj);\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n        return orderJson;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3091204,"reputation":319,"user_id":2617244,"display_name":"Vivek Dhiman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649833001,"creation_date":1649833001,"answer_id":71853131,"question_id":34595605,"body_markdown":"Late to the party but we can also use it like this:\r\n\r\n    @ApiIgnore\r\n    @RestControllerAdvice\r\n    public class ExceptionHandlerController {\r\n    \r\n    \t@Autowired\r\n    \tprivate MessageSource messageSource;\r\n    \r\n\r\nAnd in the filter:\r\n\r\n    @Component\r\n    public class MyFilter extends OncePerRequestFilter {\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;handlerExceptionResolver&quot;)\r\n    \tprivate HandlerExceptionResolver exceptionResolver;\r\n    \r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, @NotNull HttpServletResponse response, @NotNull FilterChain filterChain) {\r\n        \t\ttry {\r\n        \t\t  // Some exception\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tthis.exceptionResolver.resolveException(request, response, null, e);\r\n        \t\t}\r\n        \t}\r\n\r\n\r\n    \r\n\r\n\r\n\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>Late to the party but we can also use it like this:</p>\n<pre><code>@ApiIgnore\n@RestControllerAdvice\npublic class ExceptionHandlerController {\n\n    @Autowired\n    private MessageSource messageSource;\n</code></pre>\n<p>And in the filter:</p>\n<pre><code>@Component\npublic class MyFilter extends OncePerRequestFilter {\n\n    @Autowired\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\n    private HandlerExceptionResolver exceptionResolver;\n\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, @NotNull HttpServletResponse response, @NotNull FilterChain filterChain) {\n            try {\n              // Some exception\n            } catch (Exception e) {\n                this.exceptionResolver.resolveException(request, response, null, e);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4060289,"reputation":891,"user_id":3337028,"accept_rate":67,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674979167,"creation_date":1674979167,"answer_id":75273396,"question_id":34595605,"body_markdown":"Global Default Exception Handlers will work only at Controller or Service level. They will not work at filter level. I found below solution working fine with Spring Boot Security - JWT filter\r\n\r\n[https://www.jvt.me/posts/2022/01/17/spring-servlet-filter-error-handling/][1]\r\n\r\n\r\n  [1]: https://www.jvt.me/posts/2022/01/17/spring-servlet-filter-error-handling/\r\n\r\nBelow is the snippet I added\r\n\r\n        httpServletResponse.setContentType(&quot;application/json&quot;);\r\n        httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n        httpServletResponse.getWriter().write(&quot;{\\&quot;error\\&quot;:\\&quot;invalid_token\\&quot;,\\&quot;error_description\\&quot;:\\&quot;Invalid Token\\&quot;}&quot;);","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>Global Default Exception Handlers will work only at Controller or Service level. They will not work at filter level. I found below solution working fine with Spring Boot Security - JWT filter</p>\n<p><a href=\"https://www.jvt.me/posts/2022/01/17/spring-servlet-filter-error-handling/\" rel=\"nofollow noreferrer\">https://www.jvt.me/posts/2022/01/17/spring-servlet-filter-error-handling/</a></p>\n<p>Below is the snippet I added</p>\n<pre><code>    httpServletResponse.setContentType(&quot;application/json&quot;);\n    httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n    httpServletResponse.getWriter().write(&quot;{\\&quot;error\\&quot;:\\&quot;invalid_token\\&quot;,\\&quot;error_description\\&quot;:\\&quot;Invalid Token\\&quot;}&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18980491,"reputation":11,"user_id":13851970,"display_name":"kashyap jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686764341,"creation_date":1677346078,"answer_id":75567172,"question_id":34595605,"body_markdown":"FIlter:\r\n-------\r\n\r\n    @Autowired\r\n    UnauthenticatedRequestHandler unauthenticatedRequestHandler;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        try{\r\n            //...\r\n\r\n            if (!isValid) throw new BadCredentialsException(&quot;exception.jwt.inValid&quot;);\r\n\r\n            //...\r\n\r\n            if (!accessTokenDTO.isValid()) throw new BadCredentialsException(&quot;exception.token.inValid&quot;);\r\n\r\n            //...\r\n\r\n            if (!user.isEmailVerified()) throw new DisabledException(&quot;exception.user.notVerified&quot;);\r\n\r\n            //...\r\n\r\n            filterChain.doFilter(request, response);\r\n        }\r\n        catch (AuthenticationException ex){\r\n            unauthenticatedRequestHandler.commence(request,response,ex);\r\n        }\r\n\r\nHandler:\r\n--------\r\n\r\n    @Component\r\n    public class UnauthenticatedRequestHandler implements \r\n    AuthenticationEntryPoint {\r\n    final Logger log = LoggerFactory.getLogger(getClass());\r\n    @Autowired\r\n    private MessageSource messageSource;\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\r\n        log.error(authException.toString());\r\n\r\n        String message = messageSource.getMessage(authException.getMessage(),null,null, Locale.getDefault());\r\n\r\n        if(message == null) message = authException.getMessage();\r\n\r\n        ResponseDTO&lt;Object&gt; res = ResponseDTO.builder()\r\n                .status(false)\r\n                .message(message)\r\n                .build();\r\n\r\n        String jsonString = new ObjectMapper().writeValueAsString(res);\r\n\r\n        response.setContentType(&quot;application/json&quot;);\r\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n        response.getOutputStream().println(jsonString);\r\n    }\r\n\r\nRegistering AuthenticationEntryPoint in security config:\r\n-------------------------------------------------------\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .exceptionHandling().authenticationEntryPoint(unauthenticatedHandler).and()}","title":"How to manage exceptions thrown in filters in Spring?","body":"<h2>FIlter:</h2>\n<pre><code>@Autowired\nUnauthenticatedRequestHandler unauthenticatedRequestHandler;\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    try{\n        //...\n\n        if (!isValid) throw new BadCredentialsException(&quot;exception.jwt.inValid&quot;);\n\n        //...\n\n        if (!accessTokenDTO.isValid()) throw new BadCredentialsException(&quot;exception.token.inValid&quot;);\n\n        //...\n\n        if (!user.isEmailVerified()) throw new DisabledException(&quot;exception.user.notVerified&quot;);\n\n        //...\n\n        filterChain.doFilter(request, response);\n    }\n    catch (AuthenticationException ex){\n        unauthenticatedRequestHandler.commence(request,response,ex);\n    }\n</code></pre>\n<h2>Handler:</h2>\n<pre><code>@Component\npublic class UnauthenticatedRequestHandler implements \nAuthenticationEntryPoint {\nfinal Logger log = LoggerFactory.getLogger(getClass());\n@Autowired\nprivate MessageSource messageSource;\n@Override\npublic void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n    log.error(authException.toString());\n\n    String message = messageSource.getMessage(authException.getMessage(),null,null, Locale.getDefault());\n\n    if(message == null) message = authException.getMessage();\n\n    ResponseDTO&lt;Object&gt; res = ResponseDTO.builder()\n            .status(false)\n            .message(message)\n            .build();\n\n    String jsonString = new ObjectMapper().writeValueAsString(res);\n\n    response.setContentType(&quot;application/json&quot;);\n    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n    response.getOutputStream().println(jsonString);\n}\n</code></pre>\n<h2>Registering AuthenticationEntryPoint in security config:</h2>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .exceptionHandling().authenticationEntryPoint(unauthenticatedHandler).and()}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22908132,"reputation":31,"user_id":17045864,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679662326,"creation_date":1679662326,"answer_id":75833892,"question_id":34595605,"body_markdown":"**As specified by the java servlet specification Filters execute always before a Servlet is invoked. Now a @ControllerAdvice is only useful for controller which are executed inside the DispatcherServlet. So using a Filter and expecting a @ControllerAdvice or in this case the @ExceptionHandler, to be invoked isn&#39;t going to happen.**\r\n\r\n[ssc-hrep3][1] has beautifully solved this problem.\r\n\r\nIn the Spring Security filter chain, you just need to define a new FilterChainExceptionHandler Filter and hook it into your security configuration. The filter needs to redirect the exception to the above defined exception handling.\r\n\r\n  [1]: https://stackoverflow.com/users/3233827/ssc-hrep3","title":"How to manage exceptions thrown in filters in Spring?","body":"<p><strong>As specified by the java servlet specification Filters execute always before a Servlet is invoked. Now a @ControllerAdvice is only useful for controller which are executed inside the DispatcherServlet. So using a Filter and expecting a @ControllerAdvice or in this case the @ExceptionHandler, to be invoked isn't going to happen.</strong></p>\n<p><a href=\"https://stackoverflow.com/users/3233827/ssc-hrep3\">ssc-hrep3</a> has beautifully solved this problem.</p>\n<p>In the Spring Security filter chain, you just need to define a new FilterChainExceptionHandler Filter and hook it into your security configuration. The filter needs to redirect the exception to the above defined exception handling.</p>\n"},{"tags":[],"owner":{"account_id":5890453,"reputation":1,"user_id":4637248,"display_name":"Karol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684160085,"creation_date":1682693961,"answer_id":76130837,"question_id":34595605,"body_markdown":"@ssc-hrep3\r\n\r\nAnswering instead of comment - as commenting is not possible for me:\r\nYour solution is the cleanest one - but I would change one thing in the answer.\r\n\r\nThe @Component annotation on the intended Security Filter will add the same filter to the application filter chain. You can verify this by simply logging the call.\r\n\r\n- I would instead build this object from a simple method without @Bean annotation in the SecurityConfiguration - making sure this filter is only executed inside the Spring Security Filter Chain Proxy.\r\n- Or you would not configure this filter for spring security specifically but making sure your filter runs before spring security filter chain proxy.\r\n\r\nI guess the first variant was intended by your implementation.\r\n\r\nInstead of:\r\n\r\n    @Component\r\n    public class FilterChainExceptionHandler extends OncePerRequestFilter {...}\r\n\r\n\r\nRemoving the @Component annotation:\r\n\r\n    public class FilterChainExceptionHandler extends OncePerRequestFilter {...}\r\n\r\nIn the SecurityConfiguration class then:\r\n\r\n    private FilterChainExceptionHandler filterChainExceptionHandler(...args){\r\n      return new FilterChainExceptionHandler(...args)\r\n    }\r\n\r\nThe registration in the SecurityFilterChain basically remains the same\r\n\r\n    .addFilterBefore(filterChainExceptionHandler(...args), LogoutFilter.class)\r\n\r\nRequired beans can be injected into the SecurityConfiguration class by constructor injection and then used when calling the factory method defined above.","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>@ssc-hrep3</p>\n<p>Answering instead of comment - as commenting is not possible for me:\nYour solution is the cleanest one - but I would change one thing in the answer.</p>\n<p>The @Component annotation on the intended Security Filter will add the same filter to the application filter chain. You can verify this by simply logging the call.</p>\n<ul>\n<li>I would instead build this object from a simple method without @Bean annotation in the SecurityConfiguration - making sure this filter is only executed inside the Spring Security Filter Chain Proxy.</li>\n<li>Or you would not configure this filter for spring security specifically but making sure your filter runs before spring security filter chain proxy.</li>\n</ul>\n<p>I guess the first variant was intended by your implementation.</p>\n<p>Instead of:</p>\n<pre><code>@Component\npublic class FilterChainExceptionHandler extends OncePerRequestFilter {...}\n</code></pre>\n<p>Removing the @Component annotation:</p>\n<pre><code>public class FilterChainExceptionHandler extends OncePerRequestFilter {...}\n</code></pre>\n<p>In the SecurityConfiguration class then:</p>\n<pre><code>private FilterChainExceptionHandler filterChainExceptionHandler(...args){\n  return new FilterChainExceptionHandler(...args)\n}\n</code></pre>\n<p>The registration in the SecurityFilterChain basically remains the same</p>\n<pre><code>.addFilterBefore(filterChainExceptionHandler(...args), LogoutFilter.class)\n</code></pre>\n<p>Required beans can be injected into the SecurityConfiguration class by constructor injection and then used when calling the factory method defined above.</p>\n"}],"owner":{"account_id":428741,"reputation":3863,"user_id":811257,"display_name":"kopelitsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213538,"favorite_count":0,"down_vote_count":0,"up_vote_count":200,"accepted_answer_id":34633687,"answer_count":19,"score":200,"last_activity_date":1686764341,"creation_date":1451925278,"question_id":34595605,"body_markdown":"I want to use generic way to manage 5xx error codes, let&#39;s say specifically the case when the db is down across my whole spring application. I want a pretty error json instead of a stack trace. \r\n\r\nFor the controllers I have a `@ControllerAdvice` class for the different exceptions and this is also catching the case that the db is stopping in the middle of the request. But this is not all. I also happen to have a custom `CorsFilter` extending `OncePerRequestFilter` and there when i call `doFilter` i get the `CannotGetJdbcConnectionException` and it will not be managed by the `@ControllerAdvice`. I read several things online that only made me more confused. \r\n\r\nSo I have a lot of questions:\r\n \r\n- Do i need to implement a custom filter? I found the `ExceptionTranslationFilter` but this only handles `AuthenticationException` or `AccessDeniedException`. \r\n- I thought of implementing my own `HandlerExceptionResolver`, but this made me doubt, I don&#39;t have any custom exception to manage, there must be a more obvious way than this. I also tried to add a try/catch and call an implementation of the `HandlerExceptionResolver` (should be good enough, my exception is nothing special) but this is not returning anything in the response, i get a status 200 and an empty body. \r\n\r\nIs there any good way to deal with this? Thanks\r\n\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>I want to use generic way to manage 5xx error codes, let's say specifically the case when the db is down across my whole spring application. I want a pretty error json instead of a stack trace. </p>\n\n<p>For the controllers I have a <code>@ControllerAdvice</code> class for the different exceptions and this is also catching the case that the db is stopping in the middle of the request. But this is not all. I also happen to have a custom <code>CorsFilter</code> extending <code>OncePerRequestFilter</code> and there when i call <code>doFilter</code> i get the <code>CannotGetJdbcConnectionException</code> and it will not be managed by the <code>@ControllerAdvice</code>. I read several things online that only made me more confused. </p>\n\n<p>So I have a lot of questions:</p>\n\n<ul>\n<li>Do i need to implement a custom filter? I found the <code>ExceptionTranslationFilter</code> but this only handles <code>AuthenticationException</code> or <code>AccessDeniedException</code>. </li>\n<li>I thought of implementing my own <code>HandlerExceptionResolver</code>, but this made me doubt, I don't have any custom exception to manage, there must be a more obvious way than this. I also tried to add a try/catch and call an implementation of the <code>HandlerExceptionResolver</code> (should be good enough, my exception is nothing special) but this is not returning anything in the response, i get a status 200 and an empty body. </li>\n</ul>\n\n<p>Is there any good way to deal with this? Thanks</p>\n"},{"tags":["java","postgresql","hibernate"],"owner":{"account_id":25499801,"reputation":3,"user_id":19293271,"display_name":"Roi Tiefenbrunn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686763994,"creation_date":1686763994,"question_id":76476187,"body_markdown":"I have the following configuration:\r\n\r\n# Entity A\r\n```\r\n@Entity\r\npublic class A {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    int id;\r\n\r\n    @OneToMany(mappedBy = &quot;key.a&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    Set&lt;B&gt;  bs;\r\n\r\n    public A() {\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public Set&lt;B&gt; getBs() {\r\n        return bs;\r\n    }\r\n}\r\n```\r\n\r\n# Entity B\r\n```\r\n@Entity\r\npublic class B {\r\n    @EmbeddedId\r\n    BKey key;\r\n\r\n    @OneToMany(mappedBy = &quot;key.b&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    Set&lt;C&gt; cs;\r\n\r\n    public B() {\r\n    }\r\n\r\n    public B(A a) {\r\n        this.key = new BKey(a);\r\n    }\r\n\r\n    public BKey getKey() {\r\n        return key;\r\n    }\r\n\r\n    public Set&lt;C&gt; getCs() {\r\n        return cs;\r\n    }\r\n}\r\n\r\n@Embeddable\r\npublic class BKey implements Serializable {\r\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\r\n\r\n    @Column(name = &quot;b_id&quot;)\r\n    int id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;a_id&quot;)\r\n    A a;\r\n\r\n    public BKey() {\r\n    }\r\n\r\n    public BKey(A a) {\r\n        try (Session session = DbConfig.sessionFactory.openSession()) {\r\n            Query&lt;Integer&gt; query = session.createQuery(\r\n                    &quot;SELECT MAX(o.key.id) FROM B o&quot;,\r\n                    Integer.class\r\n            );\r\n            Integer maxID = query.uniqueResult();\r\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\r\n        }\r\n        this.a = a;\r\n        id = ID_GEN.getAndIncrement();\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public A getA() {\r\n        return a;\r\n    }\r\n}\r\n```\r\n\r\n# Entity C\r\n```\r\n@Entity\r\npublic class C {\r\n    @EmbeddedId\r\n    CKey key;\r\n\r\n    @OneToMany(mappedBy = &quot;key.c&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    Set&lt;D&gt; ds;\r\n\r\n    public C() {\r\n    }\r\n\r\n    public C(B b){\r\n        this.key = new CKey(b);\r\n    }\r\n\r\n    public CKey getKey() {\r\n        return key;\r\n    }\r\n\r\n    public Set&lt;D&gt; getDs() {\r\n        return ds;\r\n    }\r\n}\r\n\r\n@Embeddable\r\npublic class CKey implements Serializable {\r\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\r\n\r\n    @Column(name = &quot;c_id&quot;)\r\n    int id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;b_id&quot;, referencedColumnName = &quot;b_id&quot;),\r\n            @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;)\r\n    })\r\n    B b;\r\n\r\n    public CKey() {\r\n    }\r\n\r\n    public CKey(B b) {\r\n        try (Session session = DbConfig.sessionFactory.openSession()) {\r\n            Query&lt;Integer&gt; query = session.createQuery(\r\n                    &quot;SELECT MAX(o.key.id) FROM C o&quot;,\r\n                    Integer.class\r\n            );\r\n            Integer maxID = query.uniqueResult();\r\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\r\n        }\r\n        this.b = b;\r\n        id = ID_GEN.getAndIncrement();\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public B getB() {\r\n        return b;\r\n    }\r\n}\r\n```\r\n\r\n# Entity D\r\n```\r\n@Entity\r\npublic class D {\r\n    @EmbeddedId\r\n    DKey key;\r\n\r\n    public D() {\r\n    }\r\n\r\n    public D(C c) {\r\n        this.key = new DKey(c);\r\n    }\r\n\r\n    public DKey getKey() {\r\n        return key;\r\n    }\r\n}\r\n\r\n@Embeddable\r\npublic class DKey implements Serializable {\r\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\r\n\r\n    @Column(name = &quot;d_id&quot;)\r\n    int id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;c_id&quot;, referencedColumnName = &quot;c_id&quot;),\r\n            @JoinColumn(name = &quot;b_id&quot;, referencedColumnName = &quot;b_id&quot;),\r\n            @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;)\r\n    })\r\n    C c;\r\n\r\n    public DKey() {\r\n    }\r\n\r\n    public DKey(C c) {\r\n        try (Session session = DbConfig.sessionFactory.openSession()) {\r\n            Query&lt;Integer&gt; query = session.createQuery(\r\n                    &quot;SELECT MAX(o.key.id) FROM D o&quot;,\r\n                    Integer.class\r\n            );\r\n            Integer maxID = query.uniqueResult();\r\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\r\n        }\r\n        this.c = c;\r\n        id = ID_GEN.getAndIncrement();\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public C getC() {\r\n        return c;\r\n    }\r\n}\r\n```\r\n\r\nSeems like I didn&#39;t configure the `@JoinColumns` annotation for field `c` in class `DKey` correctly, as when I try to run the program I get the following error:\r\n```\r\norg.hibernate.MappingException: Error creating SQL create commands for table : D\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\r\n\tat org.hibernate.mapping.Column.getTypeForEntityValue(Column.java:401)\r\n\tat org.hibernate.mapping.Column.getColumnSize(Column.java:345)\r\n\tat org.hibernate.mapping.Column.getSqlTypeName(Column.java:269)\r\n\tat org.hibernate.mapping.Column.getSqlType(Column.java:293)\r\n\tat org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:99)\r\n\t... 71 more\r\n```\r\n\r\nWhat should have I done?\r\n\r\n\r\nI have tried to configure these annotations in many different ways with no better results. \r\nThis has to be at the configuration of class `DKey` as without that class everything works fine. ","title":"@JoinColumns to an entity who already has @JoinColumns in JAVA Hibernate","body":"<p>I have the following configuration:</p>\n<h1>Entity A</h1>\n<pre><code>@Entity\npublic class A {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    int id;\n\n    @OneToMany(mappedBy = &quot;key.a&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    Set&lt;B&gt;  bs;\n\n    public A() {\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public Set&lt;B&gt; getBs() {\n        return bs;\n    }\n}\n</code></pre>\n<h1>Entity B</h1>\n<pre><code>@Entity\npublic class B {\n    @EmbeddedId\n    BKey key;\n\n    @OneToMany(mappedBy = &quot;key.b&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    Set&lt;C&gt; cs;\n\n    public B() {\n    }\n\n    public B(A a) {\n        this.key = new BKey(a);\n    }\n\n    public BKey getKey() {\n        return key;\n    }\n\n    public Set&lt;C&gt; getCs() {\n        return cs;\n    }\n}\n\n@Embeddable\npublic class BKey implements Serializable {\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\n\n    @Column(name = &quot;b_id&quot;)\n    int id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;a_id&quot;)\n    A a;\n\n    public BKey() {\n    }\n\n    public BKey(A a) {\n        try (Session session = DbConfig.sessionFactory.openSession()) {\n            Query&lt;Integer&gt; query = session.createQuery(\n                    &quot;SELECT MAX(o.key.id) FROM B o&quot;,\n                    Integer.class\n            );\n            Integer maxID = query.uniqueResult();\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\n        }\n        this.a = a;\n        id = ID_GEN.getAndIncrement();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public A getA() {\n        return a;\n    }\n}\n</code></pre>\n<h1>Entity C</h1>\n<pre><code>@Entity\npublic class C {\n    @EmbeddedId\n    CKey key;\n\n    @OneToMany(mappedBy = &quot;key.c&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    Set&lt;D&gt; ds;\n\n    public C() {\n    }\n\n    public C(B b){\n        this.key = new CKey(b);\n    }\n\n    public CKey getKey() {\n        return key;\n    }\n\n    public Set&lt;D&gt; getDs() {\n        return ds;\n    }\n}\n\n@Embeddable\npublic class CKey implements Serializable {\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\n\n    @Column(name = &quot;c_id&quot;)\n    int id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;b_id&quot;, referencedColumnName = &quot;b_id&quot;),\n            @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;)\n    })\n    B b;\n\n    public CKey() {\n    }\n\n    public CKey(B b) {\n        try (Session session = DbConfig.sessionFactory.openSession()) {\n            Query&lt;Integer&gt; query = session.createQuery(\n                    &quot;SELECT MAX(o.key.id) FROM C o&quot;,\n                    Integer.class\n            );\n            Integer maxID = query.uniqueResult();\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\n        }\n        this.b = b;\n        id = ID_GEN.getAndIncrement();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public B getB() {\n        return b;\n    }\n}\n</code></pre>\n<h1>Entity D</h1>\n<pre><code>@Entity\npublic class D {\n    @EmbeddedId\n    DKey key;\n\n    public D() {\n    }\n\n    public D(C c) {\n        this.key = new DKey(c);\n    }\n\n    public DKey getKey() {\n        return key;\n    }\n}\n\n@Embeddable\npublic class DKey implements Serializable {\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\n\n    @Column(name = &quot;d_id&quot;)\n    int id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;c_id&quot;, referencedColumnName = &quot;c_id&quot;),\n            @JoinColumn(name = &quot;b_id&quot;, referencedColumnName = &quot;b_id&quot;),\n            @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;)\n    })\n    C c;\n\n    public DKey() {\n    }\n\n    public DKey(C c) {\n        try (Session session = DbConfig.sessionFactory.openSession()) {\n            Query&lt;Integer&gt; query = session.createQuery(\n                    &quot;SELECT MAX(o.key.id) FROM D o&quot;,\n                    Integer.class\n            );\n            Integer maxID = query.uniqueResult();\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\n        }\n        this.c = c;\n        id = ID_GEN.getAndIncrement();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public C getC() {\n        return c;\n    }\n}\n</code></pre>\n<p>Seems like I didn't configure the <code>@JoinColumns</code> annotation for field <code>c</code> in class <code>DKey</code> correctly, as when I try to run the program I get the following error:</p>\n<pre><code>org.hibernate.MappingException: Error creating SQL create commands for table : D\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\n    at org.hibernate.mapping.Column.getTypeForEntityValue(Column.java:401)\n    at org.hibernate.mapping.Column.getColumnSize(Column.java:345)\n    at org.hibernate.mapping.Column.getSqlTypeName(Column.java:269)\n    at org.hibernate.mapping.Column.getSqlType(Column.java:293)\n    at org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:99)\n    ... 71 more\n</code></pre>\n<p>What should have I done?</p>\n<p>I have tried to configure these annotations in many different ways with no better results.\nThis has to be at the configuration of class <code>DKey</code> as without that class everything works fine.</p>\n"},{"tags":["java","vtk"],"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686763539,"creation_date":1686763539,"question_id":76476135,"body_markdown":"Trying to run/debug my project using intellij (windows), got errors like:\r\n\r\n    java.lang.UnsatisfiedLinkError: no vtk{Anything} in java.library.path\r\n\r\n{Anything} can be any class of vtk i&#39;m trying to use, for example:\r\n\r\n    java.lang.UnsatisfiedLinkError: no vtkRenderingCoreJava in java.library.path\r\n    java.lang.UnsatisfiedLinkError: no vtkFiltersModelingJava in java.library.path\r\n    java.lang.UnsatisfiedLinkError: no vtkViewsContext2DJava in java.library.path\r\n    etc...\r\n\r\nI know this problem can be solved adding `-Djava.library.path=` to VM option.\r\nI had a very similar problem with simpleITK and solved it: https://stackoverflow.com/questions/76472858/where-do-i-get-simpleitk-jni-lib\r\n\r\nBut my answer now is: How can i get JNI lib for vtk? Or native lib? Or any file that solves my problem?\r\nI tried with this one but doesn&#39;t work: https://people.ece.ubc.ca/andrewkh/vtk-jni.html\r\n\r\nthen, i try following this: https://discourse.vtk.org/t/installation-of-vtk-9-0-with-python-java-wrappers/3325\r\n\r\ni &#39;git clone VTK&#39; and use cmake/visual-studio to make a build.\r\nconfiguration is Debug x64 ALL-BUILD, using VTK_WRAP_JAVA=ON.\r\nmy build finish with no errors, but now i dont know what is the path to the file that i need to put into `-Djava.library.path=`","title":"VTK java.lang.UnsatisfiedLinkError","body":"<p>Trying to run/debug my project using intellij (windows), got errors like:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no vtk{Anything} in java.library.path\n</code></pre>\n<p>{Anything} can be any class of vtk i'm trying to use, for example:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no vtkRenderingCoreJava in java.library.path\njava.lang.UnsatisfiedLinkError: no vtkFiltersModelingJava in java.library.path\njava.lang.UnsatisfiedLinkError: no vtkViewsContext2DJava in java.library.path\netc...\n</code></pre>\n<p>I know this problem can be solved adding <code>-Djava.library.path=</code> to VM option.\nI had a very similar problem with simpleITK and solved it: <a href=\"https://stackoverflow.com/questions/76472858/where-do-i-get-simpleitk-jni-lib\">Where do i get SimpleITK JNI Lib?</a></p>\n<p>But my answer now is: How can i get JNI lib for vtk? Or native lib? Or any file that solves my problem?\nI tried with this one but doesn't work: <a href=\"https://people.ece.ubc.ca/andrewkh/vtk-jni.html\" rel=\"nofollow noreferrer\">https://people.ece.ubc.ca/andrewkh/vtk-jni.html</a></p>\n<p>then, i try following this: <a href=\"https://discourse.vtk.org/t/installation-of-vtk-9-0-with-python-java-wrappers/3325\" rel=\"nofollow noreferrer\">https://discourse.vtk.org/t/installation-of-vtk-9-0-with-python-java-wrappers/3325</a></p>\n<p>i 'git clone VTK' and use cmake/visual-studio to make a build.\nconfiguration is Debug x64 ALL-BUILD, using VTK_WRAP_JAVA=ON.\nmy build finish with no errors, but now i dont know what is the path to the file that i need to put into <code>-Djava.library.path=</code></p>\n"},{"tags":["java","spring-boot","resources","classpath","eclipse-classpath"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686763208,"creation_date":1686763208,"answer_id":76476091,"question_id":76475495,"body_markdown":"It is an error to try to save files in the resource directory of the source project. It may not even exist at execution time, for example if the application is deployed as a .war or .jar file. The resources directories are only expected to exist only when building the application, not when executing. You need to configure a directory separated from the application to upload files.","title":"Static file doesn&#39;t exist error . Springboot","body":"<p>It is an error to try to save files in the resource directory of the source project. It may not even exist at execution time, for example if the application is deployed as a .war or .jar file. The resources directories are only expected to exist only when building the application, not when executing. You need to configure a directory separated from the application to upload files.</p>\n"}],"owner":{"account_id":18638542,"reputation":11,"user_id":13584863,"display_name":"Pradeep pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686763208,"creation_date":1686758487,"question_id":76475495,"body_markdown":"I am trying to create a folder named img under static folder of springboot .Wanting it in a dynamic manner / in a way that it works on other peoples computer hence not preferring hardcoding. I am new to springboot \r\n\r\nthe location of the static folder is src/main/resources/static .\r\n \r\nThe output for the below statement is :- C:\\Users\\Pradeep\\Documents\\workspace-spring-tool-suite-4-4.17.2.RELEASE\\EventHub\\target\\classes ( providing this thinking this might help)\r\n\r\nSystem.out.println(new ClassPathResource(&quot;&quot;).getFile().getAbsolutePath()); \r\n\r\n\r\n```\r\npackage com.eventhub.service.impl;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.StandardCopyOption;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport com.eventhub.service.FileService;\r\n\r\n\r\n\r\n\r\n\r\n\r\n@Service\r\npublic class FileServiceImpl implements FileService{\r\n\r\n\r\n\r\n\t@Override\r\n\tpublic String uploadFile(MultipartFile file) throws IOException {\r\n\t\t// getting file name\r\n\r\n\t\tString fileName = file.getOriginalFilename();\r\n\r\n\t\t// Create a random name for our file to be stored in the db\r\n\r\n\t\tString randomId = UUID.randomUUID().toString();\r\n\r\n\t\t// adding the extension of our uploaded file\r\n\r\n\t\tString fileNameDb = randomId.concat(fileName.substring(fileName.lastIndexOf(&quot;.&quot;)));\r\n\r\n\t\t// full storage path\r\n\r\n\t\t//String fileStoragePath = path + File.separator + fileNameDb;\r\n\r\n\r\n\r\n\r\n\r\n\t\t//creating the storage folder if it doesn&#39;t exists (for now img )\r\n\r\n\t//\tFile f = new File(path);\r\n\r\n\t//\tFile saveFile = new ClassPathResource(&quot;static/img&quot;).getFile();\r\n\r\n\t\tResource resource = new ClassPathResource(&quot;static&quot;);\r\n\t    File staticDir = resource.getFile();\r\n\r\n\t    System.out.println(staticDir);\r\n\r\n\r\n\t    File saveFile = new File(staticDir, &quot;img&quot;);\r\n\r\n\t\tif(!saveFile.exists()) {\r\n\r\n\t\t\tsaveFile.mkdirs();\r\n\r\n\t\t}\r\n\r\n\t\t// coping the file in our folder / directory\r\n\r\n\t\ttry {\r\n\r\n//\t\t\tPath path1 =   Paths.get(saveFile.getAbsolutePath() + File.separator + fileNameDb);\r\n//\r\n//\t\t\tFiles.copy(file.getInputStream(), path1);\r\n\r\n\t\t\tFile targetFile = new File(saveFile, fileNameDb);\r\n\t\t    Files.copy(file.getInputStream(), targetFile.toPath(),                 StandardCopyOption.REPLACE_EXISTING);\r\n\r\n\t\t//\tFiles.copy(file.getInputStream(),Paths.get(fileStoragePath));\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn fileNameDb;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nerror when the method is called is :- \r\n```\r\n\r\njava.io.FileNotFoundException: class path resource [static] cannot be resolved to URL because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:226) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:169) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat com.eventhub.service.impl.FileServiceImpl.uploadFile(FileServiceImpl.java:55) ~[classes/:na]\r\n\tat com.eventhub.service.impl.EventServiceImpl.createEvent(EventServiceImpl.java:75) ~[classes/:na]\r\n\tat com.eventhub.controllers.EventController.addEvent(EventController.java:79) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na][2m2023-06-14T21:16:27.103+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36minMXBeanRegistrar$SpringApplicationAdmin[0;39m [2m:[0;39m Application shutdown requested.\r\n[2m2023-06-14T21:16:27.168+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n[2m2023-06-14T21:16:27.172+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Destroying Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n[2m2023-06-14T21:16:27.208+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[2m2023-06-14T21:16:27.225+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m eventhub - Shutdown initiated...\r\n[2m2023-06-14T21:16:27.286+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m eventhub - Shutdown completed.\r\n```\r\n\r\n\r\n\r\nwhen i tried Resource resource = new ClassPathResource(&quot;&quot;); use this the image gets uploaded under img folder which is created under the target folder .\r\n\r\nResource resource = new ClassPathResource(&quot;static/&quot;);\r\nResource resource = new ClassPathResource(&quot;/static&quot;);\r\n\r\nthese also didnt work ","title":"Static file doesn&#39;t exist error . Springboot","body":"<p>I am trying to create a folder named img under static folder of springboot .Wanting it in a dynamic manner / in a way that it works on other peoples computer hence not preferring hardcoding. I am new to springboot</p>\n<p>the location of the static folder is src/main/resources/static .</p>\n<p>The output for the below statement is :- C:\\Users\\Pradeep\\Documents\\workspace-spring-tool-suite-4-4.17.2.RELEASE\\EventHub\\target\\classes ( providing this thinking this might help)</p>\n<p>System.out.println(new ClassPathResource(&quot;&quot;).getFile().getAbsolutePath());</p>\n<pre><code>package com.eventhub.service.impl;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.StandardCopyOption;\nimport java.util.UUID;\n\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport com.eventhub.service.FileService;\n\n\n\n\n\n\n@Service\npublic class FileServiceImpl implements FileService{\n\n\n\n    @Override\n    public String uploadFile(MultipartFile file) throws IOException {\n        // getting file name\n\n        String fileName = file.getOriginalFilename();\n\n        // Create a random name for our file to be stored in the db\n\n        String randomId = UUID.randomUUID().toString();\n\n        // adding the extension of our uploaded file\n\n        String fileNameDb = randomId.concat(fileName.substring(fileName.lastIndexOf(&quot;.&quot;)));\n\n        // full storage path\n\n        //String fileStoragePath = path + File.separator + fileNameDb;\n\n\n\n\n\n        //creating the storage folder if it doesn't exists (for now img )\n\n    //  File f = new File(path);\n\n    //  File saveFile = new ClassPathResource(&quot;static/img&quot;).getFile();\n\n        Resource resource = new ClassPathResource(&quot;static&quot;);\n        File staticDir = resource.getFile();\n\n        System.out.println(staticDir);\n\n\n        File saveFile = new File(staticDir, &quot;img&quot;);\n\n        if(!saveFile.exists()) {\n\n            saveFile.mkdirs();\n\n        }\n\n        // coping the file in our folder / directory\n\n        try {\n\n//          Path path1 =   Paths.get(saveFile.getAbsolutePath() + File.separator + fileNameDb);\n//\n//          Files.copy(file.getInputStream(), path1);\n\n            File targetFile = new File(saveFile, fileNameDb);\n            Files.copy(file.getInputStream(), targetFile.toPath(),                 StandardCopyOption.REPLACE_EXISTING);\n\n        //  Files.copy(file.getInputStream(),Paths.get(fileStoragePath));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return fileNameDb;\n    }\n\n\n\n\n\n\n\n}\n\n</code></pre>\n<p>error when the method is called is :-</p>\n<pre><code>\njava.io.FileNotFoundException: class path resource [static] cannot be resolved to URL because it does not exist\n    at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:226) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:169) ~[spring-core-6.0.9.jar:6.0.9]\n    at com.eventhub.service.impl.FileServiceImpl.uploadFile(FileServiceImpl.java:55) ~[classes/:na]\n    at com.eventhub.service.impl.EventServiceImpl.createEvent(EventServiceImpl.java:75) ~[classes/:na]\n    at com.eventhub.controllers.EventController.addEvent(EventController.java:79) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na][2m2023-06-14T21:16:27.103+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36minMXBeanRegistrar$SpringApplicationAdmin[0;39m [2m:[0;39m Application shutdown requested.\n[2m2023-06-14T21:16:27.168+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\n[2m2023-06-14T21:16:27.172+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Destroying Spring FrameworkServlet 'dispatcherServlet'\n[2m2023-06-14T21:16:27.208+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Closing JPA EntityManagerFactory for persistence unit 'default'\n[2m2023-06-14T21:16:27.225+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m eventhub - Shutdown initiated...\n[2m2023-06-14T21:16:27.286+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m eventhub - Shutdown completed.\n</code></pre>\n<p>when i tried Resource resource = new ClassPathResource(&quot;&quot;); use this the image gets uploaded under img folder which is created under the target folder .</p>\n<p>Resource resource = new ClassPathResource(&quot;static/&quot;);\nResource resource = new ClassPathResource(&quot;/static&quot;);</p>\n<p>these also didnt work</p>\n"},{"tags":["java","android"],"owner":{"account_id":24081623,"reputation":1,"user_id":18056226,"display_name":"Human"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686762454,"creation_date":1686762454,"question_id":76476008,"body_markdown":"I am using AIDE to make an android app. I figured it would be easier for me to iterate through a list of permissions since there are so many. My current code is giving no errors, it&#39;s just simply not working. All it is supposed to do so far is iterate through and check all the permissions listed in a string and if they are not granted it is supposed to request them.\n\nMy Current Code:\n```\npackage blah.blah.blah;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_CODE_MULTIPLE = 1;\n\n    private static final String[] PERMISSIONS = {\n\t\t&quot;android.permission.ACCESS_ALL_DOWNLOADS&quot;,\n//Other permissions \n\t\t&quot;android.permission.WRITE_USER_DICTIONARY&quot; \n    };\n\n    private Map&lt;String, Integer&gt; permissionRequestCodes;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        checkAndRequestPermissions();\n    }\n\n    private void checkAndRequestPermissions() {\n        List&lt;String&gt; permissionsNeeded = new ArrayList&lt;&gt;();\n        permissionRequestCodes = new HashMap&lt;&gt;();\n\n        // Check each permission\n        for (String permission : PERMISSIONS) {\n            if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\n                permissionsNeeded.add(permission);\n\n                // Assign a unique request code for each permission\n                permissionRequestCodes.put(permission, generateUniqueRequestCode(permission));\n            }\n        }\n\n        // Request permissions\n        if (!permissionsNeeded.isEmpty()) {\n            ActivityCompat.requestPermissions(\n                this,\n                permissionsNeeded.toArray(new String[0]),\n                PERMISSION_REQUEST_CODE_MULTIPLE\n            );\n        } else {\n            // All permissions already granted\n            proceedWithApp();\n        }\n    }\n\n    private int generateUniqueRequestCode(String permission) {\n        // Generate a unique request code based on the permission string\n        return permission.hashCode();\n    }\n\n    private void proceedWithApp() {\n        // Do something with the app after all permissions are granted\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == PERMISSION_REQUEST_CODE_MULTIPLE) {\n            boolean allPermissionsGranted = true;\n\n            for (int i = 0; i &lt; grantResults.length; i++) {\n                String permission = permissions[i];\n                int grantResult = grantResults[i];\n\n                if (grantResult != PackageManager.PERMISSION_GRANTED) {\n                    allPermissionsGranted = false;\n                    Log.d(&quot;Permission&quot;, permission + &quot; denied&quot;);\n                }\n            }\n\n            if (allPermissionsGranted) {\n                // All permissions granted\n                proceedWithApp();\n            } else {\n                // Handle the case when some permissions were denied\n            }\n        } else {\n            // Handle other permission request codes if needed\n            Integer permissionRequestCode = permissionRequestCodes.get(permissions[0]);\n\n            if (permissionRequestCode != null) {\n                // Handle individual permission request result\n                handlePermissionRequestResult(permissionRequestCode, permissions, grantResults);\n            }\n        }\n    }\n\n    private void handlePermissionRequestResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        // Find the permission that matches the request code\n        for (int i = 0; i &lt; permissions.length; i++) {\n            String permission = permissions[i];\n\n            if (requestCode == permissionRequestCodes.get(permission)) {\n                int grantResult = grantResults[i];\n\n                if (grantResult == PackageManager.PERMISSION_GRANTED) {\n                    Log.d(&quot;Permission&quot;, permission + &quot; granted&quot;);\n                } else {\n                    Log.d(&quot;Permission&quot;, permission + &quot; denied&quot;);\n                }\n\n                // Handle the permission request result for this specific permission if needed\n                break;\n            }\n        }\n\t}\n}\n```\n\nThe app opens but it does nothing.","title":"Iterating permission requests on Android","body":"<p>I am using AIDE to make an android app. I figured it would be easier for me to iterate through a list of permissions since there are so many. My current code is giving no errors, it's just simply not working. All it is supposed to do so far is iterate through and check all the permissions listed in a string and if they are not granted it is supposed to request them.</p>\n<p>My Current Code:</p>\n<pre><code>package blah.blah.blah;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_CODE_MULTIPLE = 1;\n\n    private static final String[] PERMISSIONS = {\n        &quot;android.permission.ACCESS_ALL_DOWNLOADS&quot;,\n//Other permissions \n        &quot;android.permission.WRITE_USER_DICTIONARY&quot; \n    };\n\n    private Map&lt;String, Integer&gt; permissionRequestCodes;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        checkAndRequestPermissions();\n    }\n\n    private void checkAndRequestPermissions() {\n        List&lt;String&gt; permissionsNeeded = new ArrayList&lt;&gt;();\n        permissionRequestCodes = new HashMap&lt;&gt;();\n\n        // Check each permission\n        for (String permission : PERMISSIONS) {\n            if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\n                permissionsNeeded.add(permission);\n\n                // Assign a unique request code for each permission\n                permissionRequestCodes.put(permission, generateUniqueRequestCode(permission));\n            }\n        }\n\n        // Request permissions\n        if (!permissionsNeeded.isEmpty()) {\n            ActivityCompat.requestPermissions(\n                this,\n                permissionsNeeded.toArray(new String[0]),\n                PERMISSION_REQUEST_CODE_MULTIPLE\n            );\n        } else {\n            // All permissions already granted\n            proceedWithApp();\n        }\n    }\n\n    private int generateUniqueRequestCode(String permission) {\n        // Generate a unique request code based on the permission string\n        return permission.hashCode();\n    }\n\n    private void proceedWithApp() {\n        // Do something with the app after all permissions are granted\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == PERMISSION_REQUEST_CODE_MULTIPLE) {\n            boolean allPermissionsGranted = true;\n\n            for (int i = 0; i &lt; grantResults.length; i++) {\n                String permission = permissions[i];\n                int grantResult = grantResults[i];\n\n                if (grantResult != PackageManager.PERMISSION_GRANTED) {\n                    allPermissionsGranted = false;\n                    Log.d(&quot;Permission&quot;, permission + &quot; denied&quot;);\n                }\n            }\n\n            if (allPermissionsGranted) {\n                // All permissions granted\n                proceedWithApp();\n            } else {\n                // Handle the case when some permissions were denied\n            }\n        } else {\n            // Handle other permission request codes if needed\n            Integer permissionRequestCode = permissionRequestCodes.get(permissions[0]);\n\n            if (permissionRequestCode != null) {\n                // Handle individual permission request result\n                handlePermissionRequestResult(permissionRequestCode, permissions, grantResults);\n            }\n        }\n    }\n\n    private void handlePermissionRequestResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        // Find the permission that matches the request code\n        for (int i = 0; i &lt; permissions.length; i++) {\n            String permission = permissions[i];\n\n            if (requestCode == permissionRequestCodes.get(permission)) {\n                int grantResult = grantResults[i];\n\n                if (grantResult == PackageManager.PERMISSION_GRANTED) {\n                    Log.d(&quot;Permission&quot;, permission + &quot; granted&quot;);\n                } else {\n                    Log.d(&quot;Permission&quot;, permission + &quot; denied&quot;);\n                }\n\n                // Handle the permission request result for this specific permission if needed\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The app opens but it does nothing.</p>\n"},{"tags":["java","user-interface","netbeans"],"comments":[{"owner":{"account_id":3474675,"reputation":649,"user_id":2908213,"display_name":"hankd"},"score":0,"creation_date":1384965099,"post_id":20101383,"comment_id":29950941,"body_markdown":"Go try it out, then come back with the code you tried and a specific question about it. You should probably start by reading this: http://docs.oracle.com/javase/tutorial/uiswing/components/button.html","body":"Go try it out, then come back with the code you tried and a specific question about it. You should probably start by reading this: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/button.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"score":0,"creation_date":1384965161,"post_id":20101383,"comment_id":29950988,"body_markdown":"NetBeans 6.7.1 is quite old. Insist upon using 7.x.","body":"NetBeans 6.7.1 is quite old. Insist upon using 7.x."}],"answers":[{"tags":[],"owner":{"account_id":3325430,"reputation":121,"user_id":2795607,"display_name":"ckinfos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416627927,"creation_date":1384965753,"answer_id":20101743,"question_id":20101383,"body_markdown":"Quicky one: \r\n i assume u have already created a jframe and inside u have the button.\r\n\r\n 1.in design mode select the jButton and on the right property panel go to the events. find the onclick event of the jbutton\r\n 2. in the method the netbeans creates in your code window go and write :\r\n\r\n`jFrame.getContentPane().setBackground(Color.Green);`    \r\n\r\nWith this u tell the application when u click the button change the color of the jFrame. Offcourse u have to change the name to what u r using i.e. i use jFrame but you may have called it xFramex. so u have to write it as :\r\n\r\n    xFramex.getContentPane().setBackgroundcolor(Color.Green);\r\n\r\nwhat u should know is that all containers(jPanel, JFrame etc) in java have the getContentPane() method for handing the colors and other styles.\r\nIf u dont want the default colors like i have shown above (Color.Green) then u have to change it to something like this :\r\n\r\n`jFrame.getContentPane().setBackground(new Color(128, 234, 10));`\r\n\r\nThe Color syntax is : Red (0-255), Green (0-255), Blue (0-255)\r\nU can easily find the combination desired if u open the Paint app of windows and look the numbers in the color palette there.\r\nHope i helped a bit.\r\n","title":"Netbeans GUI Background Color Change on Button Press","body":"<p>Quicky one: \n i assume u have already created a jframe and inside u have the button.</p>\n\n<p>1.in design mode select the jButton and on the right property panel go to the events. find the onclick event of the jbutton\n 2. in the method the netbeans creates in your code window go and write :</p>\n\n<p><code>jFrame.getContentPane().setBackground(Color.Green);</code>    </p>\n\n<p>With this u tell the application when u click the button change the color of the jFrame. Offcourse u have to change the name to what u r using i.e. i use jFrame but you may have called it xFramex. so u have to write it as :</p>\n\n<pre><code>xFramex.getContentPane().setBackgroundcolor(Color.Green);\n</code></pre>\n\n<p>what u should know is that all containers(jPanel, JFrame etc) in java have the getContentPane() method for handing the colors and other styles.\nIf u dont want the default colors like i have shown above (Color.Green) then u have to change it to something like this :</p>\n\n<p><code>jFrame.getContentPane().setBackground(new Color(128, 234, 10));</code></p>\n\n<p>The Color syntax is : Red (0-255), Green (0-255), Blue (0-255)\nU can easily find the combination desired if u open the Paint app of windows and look the numbers in the color palette there.\nHope i helped a bit.</p>\n"},{"tags":[],"owner":{"account_id":3929063,"reputation":1,"user_id":3248403,"display_name":"JAthey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390995272,"creation_date":1390991927,"answer_id":21428501,"question_id":20101383,"body_markdown":"This is what I used to change the background using a button add this to your jbutton that I called blue \r\n\r\n\tblue.addActionListener(new ActionListener() {\r\n    \tpublic void actionPerformed(ActionEvent evt) {\r\n    \tSystem.out.println(&quot;blue.actionPerformed, event=&quot;+evt);\r\n\tsetDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n    \tgetContentPane().setLayout(null);\r\n    \tgetContentPane().setBackground(newjava.awt.Color(51,98,118));\r\n    \t\t\t\t\t}","title":"Netbeans GUI Background Color Change on Button Press","body":"<p>This is what I used to change the background using a button add this to your jbutton that I called blue </p>\n\n<pre><code>blue.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent evt) {\n    System.out.println(\"blue.actionPerformed, event=\"+evt);\nsetDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n    getContentPane().setLayout(null);\n    getContentPane().setBackground(newjava.awt.Color(51,98,118));\n                    }\n</code></pre>\n"}],"owner":{"account_id":3613533,"reputation":1,"user_id":3013990,"display_name":"user3013990"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686762395,"creation_date":1384964783,"question_id":20101383,"body_markdown":"I&#39;m using Netbeans 6.7.1. I&#39;m making a GUI application. \r\n\r\nWhat I want to have happen when I press a button (btnEnter, I named it) is for the background color of my application to change (not the color of the button, but of the mainPanel). Does anyone know how to achieve this?\r\n\r\nThanks!","title":"Netbeans GUI Background Color Change on Button Press","body":"<p>I'm using Netbeans 6.7.1. I'm making a GUI application. </p>\n\n<p>What I want to have happen when I press a button (btnEnter, I named it) is for the background color of my application to change (not the color of the button, but of the mainPanel). Does anyone know how to achieve this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","firebase","firebase-authentication","firebase-cloud-messaging"],"owner":{"account_id":12869851,"reputation":113,"user_id":9308720,"display_name":"thank you"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686762361,"creation_date":1686762361,"question_id":76475997,"body_markdown":"I was building an app one year ago. The app was working perfectly at that time. After a year, I want to run the app again but now when I run the app this error is showed everytime.\r\n\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/appcheck/interop/InternalAppCheckTokenProvider;                                                                                                    \tat com.google.firebase.database.DatabaseRegistrar.getComponents(DatabaseRegistrar.java:38)\r\n                                                                                                    \tat com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)\r\n                                                                                                    \tat com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)\r\n                                                                                                    \tat com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)\r\n                                                                                                    \tat com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)\r\n                                                                                                    \tat com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)\r\n                                                                                                    \tat com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:439)\r\n                                                                                                    \tat com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:296)\r\n                                                                                                    \tat com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:264)\r\n                                                                                                    \tat com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:249)\r\n                                                                                                    \tat com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:66)\r\n                                                                                                    \tat android.content.ContentProvider.attachInfo(ContentProvider.java:2429)\r\n                                                                                                    \tat android.content.ContentProvider.attachInfo(ContentProvider.java:2399)\r\n                                                                                                    \tat com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:58)\r\n                                                                                                    \tat android.app.ActivityThread.installProvider(ActivityThread.java:8190)\r\n                                                                                                    \tat android.app.ActivityThread.installContentProviders(ActivityThread.java:7726)\r\n                                                                                                    \tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:7546)\r\n                                                                                                    \tat android.app.ActivityThread.access$1400(ActivityThread.java:301)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2166)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:246)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8633)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n                                                                                                    Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.firebase.appcheck.interop.InternalAppCheckTokenProvider&quot; on path: DexPathList[[zip file &quot;/data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAMCM==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAMCM==/lib/arm64, /data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAWCw==/base.apk!/lib/arm64-v8a, /system/lib64]]\r\n                                                                                                    \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\r\n                                                                                                    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n                                                                                                    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n\r\n\r\nHere is my build.gradle(:app) file\r\n\r\n  \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n    android {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &quot;31.0.0&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.application.testapp&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        // Enabling multidex support.\r\n        multiDexEnabled true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n\r\n    implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n\r\n    //    implementation &#39;com.google.firebase:firebase-iid&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-functions:20.3.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics:19.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:19.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-config:21.0.2&#39;\r\n\r\n    // Add the SDK for Firebase Cloud Messaging\r\n    implementation &#39;com.google.firebase:firebase-messaging:20.2.4&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-appcheck:17.0.1&#39;\r\n\r\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n    implementation &#39;com.github.chrisbanes:PhotoView:2.3.0&#39;\r\n\r\n    implementation &#39;com.github.barteksc:android-pdf-viewer:2.8.2&#39;\r\n\r\n    }\r\n\r\nHere is my build.gradle(:testapp) file\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n\r\n        //For Glide\r\n        mavenCentral()\r\n        \r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.5.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n        \r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n    }\r\n\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n\r\n        //Zoom in/out\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n        \r\n    }\r\n    }\r\n \r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\n\r\nAndroid Gradle Plugin Version 3.5.2 and Gradle Version is 5.4.1\r\n\r\nPlease help me to solve the problem. I search the solution on Internet but unfortunately not able to solve the problem. Thank you.\r\n\r\n","title":"Cannot solve java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/appcheck/interop/InternalAppCheckTokenProvider","body":"<p>I was building an app one year ago. The app was working perfectly at that time. After a year, I want to run the app again but now when I run the app this error is showed everytime.</p>\n<pre><code>java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/appcheck/interop/InternalAppCheckTokenProvider;                                                                                                      at com.google.firebase.database.DatabaseRegistrar.getComponents(DatabaseRegistrar.java:38)\n                                                                                                    at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)\n                                                                                                    at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)\n                                                                                                    at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)\n                                                                                                    at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)\n                                                                                                    at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)\n                                                                                                    at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:439)\n                                                                                                    at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:296)\n                                                                                                    at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:264)\n                                                                                                    at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:249)\n                                                                                                    at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:66)\n                                                                                                    at android.content.ContentProvider.attachInfo(ContentProvider.java:2429)\n                                                                                                    at android.content.ContentProvider.attachInfo(ContentProvider.java:2399)\n                                                                                                    at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:58)\n                                                                                                    at android.app.ActivityThread.installProvider(ActivityThread.java:8190)\n                                                                                                    at android.app.ActivityThread.installContentProviders(ActivityThread.java:7726)\n                                                                                                    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7546)\n                                                                                                    at android.app.ActivityThread.access$1400(ActivityThread.java:301)\n                                                                                                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2166)\n                                                                                                    at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                    at android.os.Looper.loop(Looper.java:246)\n                                                                                                    at android.app.ActivityThread.main(ActivityThread.java:8633)\n                                                                                                    at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n                                                                                                Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.google.firebase.appcheck.interop.InternalAppCheckTokenProvider&quot; on path: DexPathList[[zip file &quot;/data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAMCM==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAMCM==/lib/arm64, /data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAWCw==/base.apk!/lib/arm64-v8a, /system/lib64]]\n                                                                                                    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\n                                                                                                    at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n                                                                                                    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n</code></pre>\n<p>Here is my build.gradle(:app) file</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\ncompileSdkVersion 33\nbuildToolsVersion &quot;31.0.0&quot;\ndefaultConfig {\n    applicationId &quot;com.application.testapp&quot;\n    minSdkVersion 19\n    targetSdkVersion 33\n    versionCode 1\n    versionName &quot;1.0.0&quot;\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n    // Enabling multidex support.\n    multiDexEnabled true\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\nlintOptions {\n    checkReleaseBuilds false\n    // Or, if you prefer, you can continue to check for errors in release builds,\n    // but continue the build even when errors are found:\n    abortOnError false\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'androidx.appcompat:appcompat:1.1.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\ntestImplementation 'junit:junit:4.13'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\nimplementation 'com.google.android.material:material:1.1.0'\n\nimplementation 'androidx.recyclerview:recyclerview:1.1.0'\nimplementation 'androidx.cardview:cardview:1.0.0'\n\n//    implementation 'com.google.firebase:firebase-iid'\nimplementation 'com.google.firebase:firebase-storage:20.2.0'\nimplementation 'com.google.firebase:firebase-functions:20.3.0'\n\nimplementation 'com.google.firebase:firebase-analytics:19.0.0'\nimplementation 'com.google.firebase:firebase-database:20.0.1'\nimplementation 'com.google.firebase:firebase-auth:21.0.1'\nimplementation 'com.google.android.gms:play-services-auth:19.2.0'\nimplementation 'com.google.firebase:firebase-config:21.0.2'\n\n// Add the SDK for Firebase Cloud Messaging\nimplementation 'com.google.firebase:firebase-messaging:20.2.4'\n\nimplementation 'com.google.firebase:firebase-appcheck:17.0.1'\n\nimplementation &quot;androidx.multidex:multidex:2.0.1&quot;\n\nimplementation 'com.github.bumptech.glide:glide:4.11.0'\nannotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\nimplementation 'com.github.chrisbanes:PhotoView:2.3.0'\n\nimplementation 'com.github.barteksc:android-pdf-viewer:2.8.2'\n\n}\n</code></pre>\n<p>Here is my build.gradle(:testapp) file</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\nrepositories {\n    google()\n    jcenter()\n\n    //For Glide\n    mavenCentral()\n    \n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.5.2'\n    classpath 'com.google.gms:google-services:4.3.3'\n    \n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n    mavenCentral()\n\n    //Zoom in/out\n    maven { url &quot;https://jitpack.io&quot; }\n    \n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n<p>Android Gradle Plugin Version 3.5.2 and Gradle Version is 5.4.1</p>\n<p>Please help me to solve the problem. I search the solution on Internet but unfortunately not able to solve the problem. Thank you.</p>\n"},{"tags":["java","intellij-idea","build"],"answers":[{"tags":[],"owner":{"account_id":5475023,"reputation":90,"user_id":4353227,"accept_rate":100,"display_name":"Suresh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686755919,"creation_date":1686755600,"answer_id":76475062,"question_id":76474447,"body_markdown":"If you need to configure vm options in intellij. Run -&gt; Edit configurations -&gt; Modify options -&gt;Add VM Options. There you can configure.  Reference intellij 2023.1 Version.\r\n\r\nRefer this if you are looking at runtime, assuming maven is used as build tool.\r\n\r\nhttps://stackoverflow.com/questions/72482376/add-jvm-options-to-a-spring-boot-application-started-via-mvn-spring-bootrun","title":"Intellij build vm option setting: -Djava.library.path=","body":"<p>If you need to configure vm options in intellij. Run -&gt; Edit configurations -&gt; Modify options -&gt;Add VM Options. There you can configure.  Reference intellij 2023.1 Version.</p>\n<p>Refer this if you are looking at runtime, assuming maven is used as build tool.</p>\n<p><a href=\"https://stackoverflow.com/questions/72482376/add-jvm-options-to-a-spring-boot-application-started-via-mvn-spring-bootrun\">Add jvm options to a Spring Boot application started via mvn spring-boot:run</a></p>\n"}],"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686762037,"creation_date":1686751459,"question_id":76474447,"body_markdown":"My project need the vm option to run properly, with this:\r\n\r\n-Djava.library.path=&quot;C:\\your-path\\SimpleITK-2.2.1-Java-win64&quot;\r\n\r\nif not configured, every run/debug returns this error:\r\n\r\njava.lang.UnsatisfiedLinkError: no SimpleITKJava in java.library.path\r\n\r\nand this is the exact error that i get when i build my project and try to execute the jar.\r\nI&#39;m using intellij with windows. How can i &quot;configure the vm option&quot; for build?","title":"Intellij build vm option setting: -Djava.library.path=","body":"<p>My project need the vm option to run properly, with this:</p>\n<p>-Djava.library.path=&quot;C:\\your-path\\SimpleITK-2.2.1-Java-win64&quot;</p>\n<p>if not configured, every run/debug returns this error:</p>\n<p>java.lang.UnsatisfiedLinkError: no SimpleITKJava in java.library.path</p>\n<p>and this is the exact error that i get when i build my project and try to execute the jar.\nI'm using intellij with windows. How can i &quot;configure the vm option&quot; for build?</p>\n"},{"tags":["java","griddb"],"answers":[{"tags":[],"owner":{"account_id":5285429,"reputation":253,"user_id":4219597,"accept_rate":55,"display_name":"Chuah Cheng Jun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686761289,"creation_date":1685583191,"answer_id":76378161,"question_id":76378160,"body_markdown":"After some digging and researching, I found the way to get the gridstore.jar dependency. Here are the steps listed below:\r\n\r\n1. Go to https://github.com/griddb/griddb and clone the repository down into your local machine. Open your terminal and navigate to the folder, run the following command:\r\n```\r\ncd java_client\r\n./make_source_for_mvn.sh\r\nmvn clean\r\nmvn install\r\n```\r\n2. After the Maven has done the compilation, it could create a gridstore JAR file located under the java_client/target path, the name would be something like this: gridstore-x.x.x\r\n\r\n3. Then go to the terminal and navigate to your own repository that you want to install this dependency, run the following command:\r\n\r\n```\r\nmvn install:install-file -Dfile=/path_to_the_griddb_folder/java_client/target/gridstore-x.x.x.jar\r\n-DgroupId=com.toshiba.mwcloud -DartifactId=gs -Dversion=4.0 -Dpackaging=jar\r\n```\r\n\r\n4. It should install the dependency into your repository. Then inside your pom.xml file, add the following dependency:\r\n```\r\n&lt;dependency&gt; \r\n    &lt;groupId&gt;com.toshiba.mwcloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gs&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd then you should be able to import the libraries now.","title":"Getting GridDB dependency for pom.xml","body":"<p>After some digging and researching, I found the way to get the gridstore.jar dependency. Here are the steps listed below:</p>\n<ol>\n<li>Go to <a href=\"https://github.com/griddb/griddb\" rel=\"nofollow noreferrer\">https://github.com/griddb/griddb</a> and clone the repository down into your local machine. Open your terminal and navigate to the folder, run the following command:</li>\n</ol>\n<pre><code>cd java_client\n./make_source_for_mvn.sh\nmvn clean\nmvn install\n</code></pre>\n<ol start=\"2\">\n<li><p>After the Maven has done the compilation, it could create a gridstore JAR file located under the java_client/target path, the name would be something like this: gridstore-x.x.x</p>\n</li>\n<li><p>Then go to the terminal and navigate to your own repository that you want to install this dependency, run the following command:</p>\n</li>\n</ol>\n<pre><code>mvn install:install-file -Dfile=/path_to_the_griddb_folder/java_client/target/gridstore-x.x.x.jar\n-DgroupId=com.toshiba.mwcloud -DartifactId=gs -Dversion=4.0 -Dpackaging=jar\n</code></pre>\n<ol start=\"4\">\n<li>It should install the dependency into your repository. Then inside your pom.xml file, add the following dependency:</li>\n</ol>\n<pre><code>&lt;dependency&gt; \n    &lt;groupId&gt;com.toshiba.mwcloud&lt;/groupId&gt;\n    &lt;artifactId&gt;gs&lt;/artifactId&gt;\n    &lt;version&gt;4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then you should be able to import the libraries now.</p>\n"}],"owner":{"account_id":5285429,"reputation":253,"user_id":4219597,"accept_rate":55,"display_name":"Chuah Cheng Jun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686761289,"creation_date":1685583191,"question_id":76378160,"body_markdown":"I am trying to use GridDB with my Java application, and I am following this tutorial (https://medium.com/griddb/migrating-from-mysql-to-griddb-8e1ad82e1cee) to play around with it. \r\n\r\nSo before starting, I am required to get the GridDB dependency into my Java application but it doesn&#39;t work, while Maven repository doesn&#39;t have the dependency either. The GridDB official website is lacking some steps on how to install the dependency, does anyone knows how?","title":"Getting GridDB dependency for pom.xml","body":"<p>I am trying to use GridDB with my Java application, and I am following this tutorial (<a href=\"https://medium.com/griddb/migrating-from-mysql-to-griddb-8e1ad82e1cee\" rel=\"nofollow noreferrer\">https://medium.com/griddb/migrating-from-mysql-to-griddb-8e1ad82e1cee</a>) to play around with it.</p>\n<p>So before starting, I am required to get the GridDB dependency into my Java application but it doesn't work, while Maven repository doesn't have the dependency either. The GridDB official website is lacking some steps on how to install the dependency, does anyone knows how?</p>\n"},{"tags":["java","mapper"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1686771608,"post_id":76475762,"comment_id":134846643,"body_markdown":"Does this answer your question? [Jackson converting LocalDatetime](https://stackoverflow.com/questions/53820977/jackson-converting-localdatetime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53820977/jackson-converting-localdatetime\">Jackson converting LocalDatetime</a>"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686760479,"creation_date":1686760479,"question_id":76475762,"body_markdown":"Entity class\r\n\r\n    class User {\r\n      String name;\r\n      LocalDateTime date;\r\n    }\r\n\r\nAnd dto\r\n\r\n    class UserDto {\r\n      String name;\r\n      String date;\r\n    }\r\n\r\nWhen I transform the dto into an entity object\r\n\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    public User dtoToEntityConverter(UserDto dto) {\r\n       return modelMapper.map(dto, User.class);\r\n    }\r\n\r\nI get the date field of the dto object in this format:\r\n\r\n    &quot;2021-03-17T23:05:33.371479&quot;\r\n\r\nand after the conversion I get NULL Why doesn&#39;t ModelMapper convert LocalDateTime?\r\n","title":"ModelMapper returns null for LocalDateTime after conversion","body":"<p>Entity class</p>\n<pre><code>class User {\n  String name;\n  LocalDateTime date;\n}\n</code></pre>\n<p>And dto</p>\n<pre><code>class UserDto {\n  String name;\n  String date;\n}\n</code></pre>\n<p>When I transform the dto into an entity object</p>\n<pre><code>ModelMapper modelMapper = new ModelMapper();\npublic User dtoToEntityConverter(UserDto dto) {\n   return modelMapper.map(dto, User.class);\n}\n</code></pre>\n<p>I get the date field of the dto object in this format:</p>\n<pre><code>&quot;2021-03-17T23:05:33.371479&quot;\n</code></pre>\n<p>and after the conversion I get NULL Why doesn't ModelMapper convert LocalDateTime?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"score":0,"creation_date":1686315018,"post_id":76440281,"comment_id":134785721,"body_markdown":"Would you show a portion of the file you want to import?","body":"Would you show a portion of the file you want to import?"}],"owner":{"account_id":26344646,"reputation":1,"user_id":20003216,"display_name":"abi rajasekar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686760150,"creation_date":1686313856,"question_id":76440281,"body_markdown":"I have tried importing a excel file using mongoDB compass. Using Import and selecting CSV file in mongo db compass but Its not successfully importing showing following error.key **PK must not contain null bytes in mongo db compass**. If i try using other option like delimiter and tried all but using space its importing but all records in collection is like encoded something like this..**&quot;   3 &#39; H ? W3    c޺8 ** How to import the excel file.  \r\n\r\nPlease help with this thing.","title":"How to Import excel file in Mongo DB compass. Facing Error like key PK must not contain null bytes inmongo db compass","body":"<p>I have tried importing a excel file using mongoDB compass. Using Import and selecting CSV file in mongo db compass but Its not successfully importing showing following error.key <strong>PK must not contain null bytes in mongo db compass</strong>. If i try using other option like delimiter and tried all but using space its importing but all records in collection is like encoded something like this..**&quot;   3 ' H ? W3    c޺8 ** How to import the excel file.</p>\n<p>Please help with this thing.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1686756326,"post_id":76475017,"comment_id":134843612,"body_markdown":"Someone had the same problem: https://stackoverflow.com/questions/66071165/how-to-pass-parameters-in-a-native-query-jpa","body":"Someone had the same problem: <a href=\"https://stackoverflow.com/questions/66071165/how-to-pass-parameters-in-a-native-query-jpa\" title=\"how to pass parameters in a native query jpa\">stackoverflow.com/questions/66071165/&hellip;</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1686756668,"post_id":76475017,"comment_id":134843686,"body_markdown":"Have you tried without the single quotes?","body":"Have you tried without the single quotes?"},{"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"score":0,"creation_date":1686758080,"post_id":76475017,"comment_id":134844043,"body_markdown":"tried , inject the param but query blows \n\n`Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: text[] @&gt; character varying[]\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.`","body":"tried , inject the param but query blows   <code>Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: text[] @&gt; character varying[]   Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.</code>"}],"answers":[{"tags":[],"owner":{"account_id":3822950,"reputation":74,"user_id":3170573,"display_name":"JMPG Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686759651,"creation_date":1686759651,"answer_id":76475664,"question_id":76475017,"body_markdown":"In your query, you are using a named parameter &quot;:tenantId&quot; in the native SQL query. However, when you&#39;re trying to reference it in the array literal, you are using single quotes around the parameter, which is causing the issue. Additionally, the parameter name in the @Param annotation should match the parameter name in the query.\r\n\r\nTo resolve this issue, you should remove the single quotes around the parameter in the array literal and ensure that the parameter name in the @Param annotation matches the parameter name in the query.\r\n\r\nHere&#39;s an updated version of your code:\r\n\r\n       \r\n    public interface MyUserRepo extends CrudRepository&lt;MyUser, String&gt; {\r\n    \r\n       @Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[:tenantId] AND x.roles @&gt; ARRAY[&#39;driver&#39;]&quot;, nativeQuery = true)\r\n       Set&lt;MyUser&gt; findDrivers(@Param(&quot;tenantId&quot;) String tenantId);\r\n    \r\n    }\r\n\r\n","title":"Native Query JPA - not replacing parameters","body":"<p>In your query, you are using a named parameter &quot;:tenantId&quot; in the native SQL query. However, when you're trying to reference it in the array literal, you are using single quotes around the parameter, which is causing the issue. Additionally, the parameter name in the @Param annotation should match the parameter name in the query.</p>\n<p>To resolve this issue, you should remove the single quotes around the parameter in the array literal and ensure that the parameter name in the @Param annotation matches the parameter name in the query.</p>\n<p>Here's an updated version of your code:</p>\n<pre><code>public interface MyUserRepo extends CrudRepository&lt;MyUser, String&gt; {\n\n   @Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[:tenantId] AND x.roles @&gt; ARRAY['driver']&quot;, nativeQuery = true)\n   Set&lt;MyUser&gt; findDrivers(@Param(&quot;tenantId&quot;) String tenantId);\n\n}\n</code></pre>\n"}],"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76475664,"answer_count":1,"score":3,"last_activity_date":1686759651,"creation_date":1686755296,"question_id":76475017,"body_markdown":"I got an text[] column type in postgres \r\n\r\nI am trying to do this \r\n\r\n```\r\npublic interface MyUserRepo extends CrudRepository&lt;MyUser, String&gt; {\r\n\r\n   @Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[&#39;:tenantId&#39;] AND x.roles @&gt; ARRAY[&#39;driver&#39;]&quot;, nativeQuery = true)\r\n    Set&lt;MyUser&gt; findDrivers(String tenantId);\r\n\r\n}\r\n\r\n ```\r\n\r\nMy issue is that the param is not replaces. I guessing it&#39;s because of the single quote. \r\n\r\nI tried using `@Param(&quot;tenant_id&quot;)` didn&#39;t work.\r\n \r\nAlso tried with Indexed Parameters like `?1` \r\n","title":"Native Query JPA - not replacing parameters","body":"<p>I got an text[] column type in postgres</p>\n<p>I am trying to do this</p>\n<pre><code>public interface MyUserRepo extends CrudRepository&lt;MyUser, String&gt; {\n\n   @Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[':tenantId'] AND x.roles @&gt; ARRAY['driver']&quot;, nativeQuery = true)\n    Set&lt;MyUser&gt; findDrivers(String tenantId);\n\n}\n\n</code></pre>\n<p>My issue is that the param is not replaces. I guessing it's because of the single quote.</p>\n<p>I tried using <code>@Param(&quot;tenant_id&quot;)</code> didn't work.</p>\n<p>Also tried with Indexed Parameters like <code>?1</code></p>\n"},{"tags":["java","hibernate","jpa","many-to-many","one-to-many"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686770318,"post_id":76475647,"comment_id":134846423,"body_markdown":"Revisit your Registro &#39;fetcha&#39; and &#39;columna&#39; relationships, as it isn&#39;t clear why a Registro would have only a single fetcha and columna instance and that you&#39;d try to map them as a ManyToMany. Look at your image again, as you are missing or incorrectly mapping your &#39;orderDetail&#39; intermediary entity with ManyToMany mappings when your diagram shows it should be using ManyToOne","body":"Revisit your Registro &#39;fetcha&#39; and &#39;columna&#39; relationships, as it isn&#39;t clear why a Registro would have only a single fetcha and columna instance and that you&#39;d try to map them as a ManyToMany. Look at your image again, as you are missing or incorrectly mapping your &#39;orderDetail&#39; intermediary entity with ManyToMany mappings when your diagram shows it should be using ManyToOne"}],"owner":{"account_id":28659275,"reputation":1,"user_id":21944531,"display_name":"Alfredo Amaya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686759637,"creation_date":1686759492,"question_id":76475647,"body_markdown":"I wanted to make this:\r\n[enter image description here](https://i.stack.imgur.com/IwCrT.png)\r\nA many to many relation whit an entity in the niddle \r\nso i created 2 entities, both One-to-may and the new entity with 2 many-to-many relations\r\n\r\nAlso i read that the collection mapping using the one-to-many annotation must be  one of these (java.util.Set, java.util.Collection, java.util.List, java.util.Map, java.util.SortedSet, java.util.SortedMap) \r\n\r\nWhat am i missing ??\r\n\r\n```\r\npackage com.SplitTable.model;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Temporal;\r\nimport javax.persistence.TemporalType;\r\n\r\n@Entity\r\n@Table(name=&quot;Fechas&quot;) \r\npublic class Fecha implements Serializable {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;fecha_ID&quot;)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id=null;\r\n\t\r\n\t@Column(name=&quot;fecha&quot;, unique = true)\r\n\t@Temporal(TemporalType.DATE)\r\n\tprivate Date fecha;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;Fecha&quot;, cascade = CascadeType.ALL)\r\n\tprivate Set&lt;Registro&gt; Registros_fecha = new HashSet&lt;&gt;();\r\n\t\r\n\tpublic Fecha(Date fecha) {\r\n\t\tthis.fecha=fecha;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Date getFecha() {\r\n\t\treturn fecha;\r\n\t}\r\n\r\n\tpublic void setFecha(Date fecha) {\r\n\t\tthis.fecha = fecha;\r\n\t}\r\n\r\n\tpublic Set&lt;Registro&gt; getRegistros() {\r\n\t\treturn Registros_fecha;\r\n\t}\r\n\r\n\tpublic void setRegistros(Set&lt;Registro&gt; registros) {\r\n\t\tRegistros_fecha = registros;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;Registros&quot;)\r\npublic class Registro {\r\n\t@Id\r\n\t@Column(name = &quot;registro_Id&quot;)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id;\r\n\t\r\n\t@ManyToMany\r\n\t@JoinColumn(name=&quot;fecha_id&quot;)\r\n\t@Column(name=&quot;fecha&quot;)\r\n\tprivate Fecha fecha;\r\n\r\n\t@ManyToMany\r\n\t@JoinColumn(name=&quot;column_id&quot;)\r\n\t@Column(name=&quot;columna&quot;)\r\n\tprivate Columna columna;\r\n\t\r\n\t@Column(name=&quot;valor&quot;) // valor de la columna\r\n\tprivate Integer val;\r\n\t\r\n\tpublic Registro(Fecha fec, Columna col ,Integer val) {\r\n\t\tthis.fecha=fec;\r\n\t\tthis.columna=col;\r\n\t\tthis.val=val;\r\n\t}\r\n\t\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Fecha getFecha() {\r\n\t\treturn fecha;\r\n\t}\r\n\r\n\tpublic void setFecha(Fecha fecha) {\r\n\t\tthis.fecha = fecha;\r\n\t}\r\n\r\n\tpublic Columna getCol() {\r\n\t\treturn columna;\r\n\t}\r\n\r\n\tpublic void setCol(Columna col) {\r\n\t\tthis.columna = col;\r\n\t}\r\n\r\n\tpublic Integer getVal() {\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic void setVal(Integer val) {\r\n\t\tthis.val = val;\r\n\t}\r\n```\r\n\r\n```\r\npackage com.SplitTable.model;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;Columnas&quot;)\r\npublic class Columna implements Serializable{\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;columna_ID&quot;)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id=null;\r\n\t\r\n\r\n\t@Column(name=&quot;columna&quot;, unique = true)\r\n\tprivate String columna;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;Columna&quot;, cascade = CascadeType.ALL)\r\n\tprivate Set&lt;Registro&gt; Registros_columna = new HashSet&lt;&gt;();\r\n\t\r\n\tpublic Columna(String columna) {\r\n\t\tthis.columna=columna;\r\n\t}\r\n\t\tpublic Long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setId(Long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getColumna() {\r\n\t\t\treturn columna;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setColumna(String columna) {\r\n\t\t\tthis.columna = columna;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Set&lt;Registro&gt; getRegistros() {\r\n\t\t\treturn Registros_columna;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setRegistros(Set&lt;Registro&gt; registros) {\r\n\t\t\tRegistros_columna = registros;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\n\r\n\r\n```\r\n\r\n\r\n\r\nI wanted to make something like this\r\n[enter image description here](https://i.stack.imgur.com/R2JXv.png)\r\n\r\nThe error says that i am not using the annotations correctly but i think i am\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat com.SplitTable.test.Schema_Creation_test.main(Schema_Creation_test.java:14)\r\nCaused by: org.hibernate.AnnotationException: Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: com.SplitTable.model.Registro.columna\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.getCollectionBinder(CollectionBinder.java:325)\r\n\tat org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:1977)\r\n\tat org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:968)\r\n\tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:793)\r\n\tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat com.SSimport.utils.JPA_Utils.&lt;clinit&gt;(JPA_Utils.java:8)\r\n\t... 1 more\r\n\r\n```\r\n","title":"Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: (Already tried other posts suggestions)","body":"<p>I wanted to make this:\n<a href=\"https://i.stack.imgur.com/IwCrT.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nA many to many relation whit an entity in the niddle\nso i created 2 entities, both One-to-may and the new entity with 2 many-to-many relations</p>\n<p>Also i read that the collection mapping using the one-to-many annotation must be  one of these (java.util.Set, java.util.Collection, java.util.List, java.util.Map, java.util.SortedSet, java.util.SortedMap)</p>\n<p>What am i missing ??</p>\n<pre><code>package com.SplitTable.model;\n\nimport java.io.Serializable;\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\n\n@Entity\n@Table(name=&quot;Fechas&quot;) \npublic class Fecha implements Serializable {\n    \n    @Id\n    @Column(name = &quot;fecha_ID&quot;)\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id=null;\n    \n    @Column(name=&quot;fecha&quot;, unique = true)\n    @Temporal(TemporalType.DATE)\n    private Date fecha;\n    \n    @OneToMany(mappedBy = &quot;Fecha&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Registro&gt; Registros_fecha = new HashSet&lt;&gt;();\n    \n    public Fecha(Date fecha) {\n        this.fecha=fecha;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Date getFecha() {\n        return fecha;\n    }\n\n    public void setFecha(Date fecha) {\n        this.fecha = fecha;\n    }\n\n    public Set&lt;Registro&gt; getRegistros() {\n        return Registros_fecha;\n    }\n\n    public void setRegistros(Set&lt;Registro&gt; registros) {\n        Registros_fecha = registros;\n    }\n    \n    \n    \n}\n</code></pre>\n<pre><code>@Entity\n@Table(name=&quot;Registros&quot;)\npublic class Registro {\n    @Id\n    @Column(name = &quot;registro_Id&quot;)\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    \n    @ManyToMany\n    @JoinColumn(name=&quot;fecha_id&quot;)\n    @Column(name=&quot;fecha&quot;)\n    private Fecha fecha;\n\n    @ManyToMany\n    @JoinColumn(name=&quot;column_id&quot;)\n    @Column(name=&quot;columna&quot;)\n    private Columna columna;\n    \n    @Column(name=&quot;valor&quot;) // valor de la columna\n    private Integer val;\n    \n    public Registro(Fecha fec, Columna col ,Integer val) {\n        this.fecha=fec;\n        this.columna=col;\n        this.val=val;\n    }\n    \n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Fecha getFecha() {\n        return fecha;\n    }\n\n    public void setFecha(Fecha fecha) {\n        this.fecha = fecha;\n    }\n\n    public Columna getCol() {\n        return columna;\n    }\n\n    public void setCol(Columna col) {\n        this.columna = col;\n    }\n\n    public Integer getVal() {\n        return val;\n    }\n\n    public void setVal(Integer val) {\n        this.val = val;\n    }\n</code></pre>\n<pre><code>package com.SplitTable.model;\n\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;Columnas&quot;)\npublic class Columna implements Serializable{\n    \n    @Id\n    @Column(name = &quot;columna_ID&quot;)\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id=null;\n    \n\n    @Column(name=&quot;columna&quot;, unique = true)\n    private String columna;\n    \n    @OneToMany(mappedBy = &quot;Columna&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Registro&gt; Registros_columna = new HashSet&lt;&gt;();\n    \n    public Columna(String columna) {\n        this.columna=columna;\n    }\n        public Long getId() {\n            return id;\n        }\n        \n        public void setId(Long id) {\n            this.id = id;\n        }\n        \n        public String getColumna() {\n            return columna;\n        }\n        \n        public void setColumna(String columna) {\n            this.columna = columna;\n        }\n        \n        public Set&lt;Registro&gt; getRegistros() {\n            return Registros_columna;\n        }\n        \n        public void setRegistros(Set&lt;Registro&gt; registros) {\n            Registros_columna = registros;\n        }\n    }\n</code></pre>\n<pre><code>\n\n</code></pre>\n<p>I wanted to make something like this\n<a href=\"https://i.stack.imgur.com/R2JXv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The error says that i am not using the annotations correctly but i think i am</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at com.SplitTable.test.Schema_Creation_test.main(Schema_Creation_test.java:14)\nCaused by: org.hibernate.AnnotationException: Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: com.SplitTable.model.Registro.columna\n    at org.hibernate.cfg.annotations.CollectionBinder.getCollectionBinder(CollectionBinder.java:325)\n    at org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:1977)\n    at org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:968)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:793)\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at com.SSimport.utils.JPA_Utils.&lt;clinit&gt;(JPA_Utils.java:8)\n    ... 1 more\n\n</code></pre>\n"},{"tags":["java","archlinux","pacman-package-manager"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673277821,"post_id":75059197,"comment_id":132456897,"body_markdown":"This should not be necessary. Please clarify &quot;messed up tomcat projects&quot;. What is the exact error you see for them?","body":"This should not be necessary. Please clarify &quot;messed up tomcat projects&quot;. What is the exact error you see for them?"},{"owner":{"account_id":5431662,"reputation":659,"user_id":4322337,"accept_rate":75,"display_name":"rilent"},"score":0,"creation_date":1673278159,"post_id":75059197,"comment_id":132457038,"body_markdown":"Hello @OneCricketeer, I have updated my question with more informations about the issue","body":"Hello @OneCricketeer, I have updated my question with more informations about the issue"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673311720,"post_id":75059197,"comment_id":132466141,"body_markdown":"I see. In that case, have you tried purging `jre11-openjdk` package first before downgrading? You may also need to run `jps` and stop existing JVM processes","body":"I see. In that case, have you tried purging <code>jre11-openjdk</code> package first before downgrading? You may also need to run <code>jps</code> and stop existing JVM processes"},{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":1,"creation_date":1673312492,"post_id":75059197,"comment_id":132466248,"body_markdown":"I found https://www.mail-archive.com/users@tomcat.apache.org/msg140646.html and https://bugs.openjdk.org/browse/JDK-8277072.","body":"I found <a href=\"https://www.mail-archive.com/users@tomcat.apache.org/msg140646.html\" rel=\"nofollow noreferrer\">mail-archive.com/users@tomcat.apache.org/msg140646.html</a> and <a href=\"https://bugs.openjdk.org/browse/JDK-8277072\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8277072</a>."},{"owner":{"account_id":5431662,"reputation":659,"user_id":4322337,"accept_rate":75,"display_name":"rilent"},"score":0,"creation_date":1673620187,"post_id":75059197,"comment_id":132546431,"body_markdown":"Can you provide me a full procedure on how to downgrade java?","body":"Can you provide me a full procedure on how to downgrade java?"}],"answers":[{"tags":[],"owner":{"account_id":471566,"reputation":1676,"user_id":879444,"display_name":"TheEllis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686759438,"creation_date":1686759438,"answer_id":76475637,"question_id":75059197,"body_markdown":"The error,\r\n\r\n&gt; WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches Failed to clear soft references from ObjectStreamClass$Caches for web application [docs]\r\n    java.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n appears to be a bug in certain openjdk versions, and can be ignored.\r\n\r\nAccording to [this tomcat thread][1], tomcat versions &gt;= 9.0.64 automatically suppress this error message. \r\n\r\nIn my case, I wasn&#39;t in a position to upgrade tomcat immediately, but you tell tomcat to suppress the message by adding the following to the context.xml file, either within the web application context.xml or the global context.xml. I chose to update the global context.xml.\r\n\r\n    &lt;Context clearReferencesObjectStreamClassCaches=&quot;false&quot;&gt;\r\n\r\n\r\n  [1]: https://www.mail-archive.com/users@tomcat.apache.org/msg140646.html","title":"downgrade java version on archlinux","body":"<p>The error,</p>\n<blockquote>\n<p>WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches Failed to clear soft references from ObjectStreamClass$Caches for web application [docs]\njava.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader 'bootstrap')</p>\n</blockquote>\n<p>appears to be a bug in certain openjdk versions, and can be ignored.</p>\n<p>According to <a href=\"https://www.mail-archive.com/users@tomcat.apache.org/msg140646.html\" rel=\"nofollow noreferrer\">this tomcat thread</a>, tomcat versions &gt;= 9.0.64 automatically suppress this error message.</p>\n<p>In my case, I wasn't in a position to upgrade tomcat immediately, but you tell tomcat to suppress the message by adding the following to the context.xml file, either within the web application context.xml or the global context.xml. I chose to update the global context.xml.</p>\n<pre><code>&lt;Context clearReferencesObjectStreamClassCaches=&quot;false&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":5431662,"reputation":659,"user_id":4322337,"accept_rate":75,"display_name":"rilent"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686759438,"creation_date":1673276756,"question_id":75059197,"body_markdown":"I have just updated java on my archlinux server and now it mess up my tomcat projects.\r\n\r\nI want to downgrade java from 11.0.17.u1 to 11.0.13.u8\r\n\r\nI looked at my var/cache/pacman/pkg folder and it seems like my old package are still there\r\n\r\n    jre11-openjdk-11.0.13.u8-1-x86_64.pkg.tar.zst \r\n    \r\n    jre11-openjdk-headless-11.0.13.u8-1-x86_64.pkg.tar.zst\r\n\r\nI am trying to run this command to force the installation of this java version : \r\n\r\n    sudo pacman -U jre11-openjdk-11.0.13.u8-1-x86_64.pkg.tar.zst\r\nBut it does not let me and I get this message :\r\n\r\n    loading packages...\r\n    warning: downgrading package jre11-openjdk (11.0.17.u1-1 =&gt; 11.0.13.u8-1)\r\n    resolving dependencies...\r\n    warning: cannot resolve &quot;jre11-openjdk-headless=11.0.13.u8-1&quot;, a dependency of &quot;jre11-openjdk&quot;\r\n    :: The following package cannot be upgraded due to unresolvable dependencies:\r\n          jre11-openjdk\r\n\r\nWhat can I do to force the downgrade?\r\n\r\n\r\n\r\n----\r\nFurther infos:\r\n\r\nThis is the error I am getting since I updated the JVM\r\n\r\n    09-Jan-2023 15:46:44.910 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches Failed to clear soft references from ObjectStreamClass$Caches for web application [docs]\r\n    \tjava.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nThe tomcat servers I have not restarted yet (which are still running under the old jvm are doing just fine.\r\n\r\nI found this topic here : \r\n\r\n[https://stackoverflow.com/questions/73457793/classcastexception-when-stopping-tomcat-10-inside-eclipse][1]\r\n\r\nThe solution that is brought is to upgrade the tomcat version. I am in an emergency situation where I don&#39;t have the time to update all my tomcat servers right now.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73457793/classcastexception-when-stopping-tomcat-10-inside-eclipse","title":"downgrade java version on archlinux","body":"<p>I have just updated java on my archlinux server and now it mess up my tomcat projects.</p>\n<p>I want to downgrade java from 11.0.17.u1 to 11.0.13.u8</p>\n<p>I looked at my var/cache/pacman/pkg folder and it seems like my old package are still there</p>\n<pre><code>jre11-openjdk-11.0.13.u8-1-x86_64.pkg.tar.zst \n\njre11-openjdk-headless-11.0.13.u8-1-x86_64.pkg.tar.zst\n</code></pre>\n<p>I am trying to run this command to force the installation of this java version :</p>\n<pre><code>sudo pacman -U jre11-openjdk-11.0.13.u8-1-x86_64.pkg.tar.zst\n</code></pre>\n<p>But it does not let me and I get this message :</p>\n<pre><code>loading packages...\nwarning: downgrading package jre11-openjdk (11.0.17.u1-1 =&gt; 11.0.13.u8-1)\nresolving dependencies...\nwarning: cannot resolve &quot;jre11-openjdk-headless=11.0.13.u8-1&quot;, a dependency of &quot;jre11-openjdk&quot;\n:: The following package cannot be upgraded due to unresolvable dependencies:\n      jre11-openjdk\n</code></pre>\n<p>What can I do to force the downgrade?</p>\n<hr />\n<p>Further infos:</p>\n<p>This is the error I am getting since I updated the JVM</p>\n<pre><code>09-Jan-2023 15:46:44.910 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches Failed to clear soft references from ObjectStreamClass$Caches for web application [docs]\n    java.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>The tomcat servers I have not restarted yet (which are still running under the old jvm are doing just fine.</p>\n<p>I found this topic here :</p>\n<p><a href=\"https://stackoverflow.com/questions/73457793/classcastexception-when-stopping-tomcat-10-inside-eclipse\">ClassCastException when stopping Tomcat 10 inside Eclipse</a></p>\n<p>The solution that is brought is to upgrade the tomcat version. I am in an emergency situation where I don't have the time to update all my tomcat servers right now.</p>\n"},{"tags":["java","sql-injection","checkmarx"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1519700266,"post_id":49000382,"comment_id":85005958,"body_markdown":"*whatever query it was in text area is being executed directly* - well that is very dangerous isn&#39;t it","body":"<i>whatever query it was in text area is being executed directly</i> - well that is very dangerous isn&#39;t it"},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":0,"creation_date":1519700413,"post_id":49000382,"comment_id":85005989,"body_markdown":"Is your question &quot;how do I make this secure&quot;, or &quot;how do I make this alert go away?&quot; If you have to run SQL directly from the user (really consider if you do), security needs to happen in a lot of layers. Managed access to this functionality, a SQL user (or user(s) as appropriate) with extremely limited rights, etc.","body":"Is your question &quot;how do I make this secure&quot;, or &quot;how do I make this alert go away?&quot; If you have to run SQL directly from the user (really consider if you do), security needs to happen in a lot of layers. Managed access to this functionality, a SQL user (or user(s) as appropriate) with extremely limited rights, etc."},{"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"score":0,"creation_date":1519700433,"post_id":49000382,"comment_id":85005994,"body_markdown":"@ScaryWombat agreed but this is a feature for couple of user one or two and controlled by role.","body":"@ScaryWombat agreed but this is a feature for couple of user one or two and controlled by role."},{"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"score":0,"creation_date":1519700486,"post_id":49000382,"comment_id":85006017,"body_markdown":"@CollinD how to I make this vulnerability go away !! Yeah it is validating the user at server layer and its rights to execute the query before really interacting with the database","body":"@CollinD how to I make this vulnerability go away !! Yeah it is validating the user at server layer and its rights to execute the query before really interacting with the database"},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":1,"creation_date":1519700522,"post_id":49000382,"comment_id":85006022,"body_markdown":"@KundanSaini You&#39;re baking a vulnerability into your application in my opinion.","body":"@KundanSaini You&#39;re baking a vulnerability into your application in my opinion."},{"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"score":0,"creation_date":1519700944,"post_id":49000382,"comment_id":85006119,"body_markdown":"@CollinD any suggestion to make it more secure and same time passes with checkmarx scan.","body":"@CollinD any suggestion to make it more secure and same time passes with checkmarx scan."},{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":3,"creation_date":1519701327,"post_id":49000382,"comment_id":85006214,"body_markdown":"You make the vulnerability go away by changing your app to not directly execute SQL entered by users. Your entire design is flawed from a security standpoint, and you can&#39;t just pretend it&#39;s not. Your question is like *I drive around with a paper bag over my head. The person giving me my driving test says that&#39;s dangerous and won&#39;t give me a passing grade.. How do I keep driving around with a paper bag over my head and still pass my test?*. The answer: &quot;You can&#39;t. Quit being silly and pull the bag off your head.&quot;","body":"You make the vulnerability go away by changing your app to not directly execute SQL entered by users. Your entire design is flawed from a security standpoint, and you can&#39;t just pretend it&#39;s not. Your question is like <i>I drive around with a paper bag over my head. The person giving me my driving test says that&#39;s dangerous and won&#39;t give me a passing grade.. How do I keep driving around with a paper bag over my head and still pass my test?</i>. The answer: &quot;You can&#39;t. Quit being silly and pull the bag off your head.&quot;"},{"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"score":1,"creation_date":1519701633,"post_id":49000382,"comment_id":85006273,"body_markdown":"@KenWhite Thanks Ken !! Let me change the design, it doesn&#39;t make sense to have this feature with the security threat.","body":"@KenWhite Thanks Ken !! Let me change the design, it doesn&#39;t make sense to have this feature with the security threat."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520448299,"creation_date":1520448299,"answer_id":49159171,"question_id":49000382,"body_markdown":"CW answer:\r\n\r\nThere is no way to allow users to enter arbitrary SQL safely.\r\n\r\nCheckmarx is correct in warning about this as a security vulnerability.\r\n\r\nChange the design of the application so that it does not accept arbitrary user input and execute it as code (e.g. SQL queries). This is the definition of an injection attack. ","title":"Checkmarx high vulnerability issue SQL injection","body":"<p>CW answer:</p>\n\n<p>There is no way to allow users to enter arbitrary SQL safely.</p>\n\n<p>Checkmarx is correct in warning about this as a security vulnerability.</p>\n\n<p>Change the design of the application so that it does not accept arbitrary user input and execute it as code (e.g. SQL queries). This is the definition of an injection attack. </p>\n"},{"tags":[],"owner":{"account_id":5094001,"reputation":592,"user_id":4086042,"display_name":"SPoint"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543574827,"creation_date":1543574827,"answer_id":53555983,"question_id":49000382,"body_markdown":"There is only one solution to solve an SQL-Injection : Parametrize yours queries !\r\n\r\nSee https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet","title":"Checkmarx high vulnerability issue SQL injection","body":"<p>There is only one solution to solve an SQL-Injection : Parametrize yours queries !</p>\n\n<p>See <a href=\"https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet\" rel=\"nofollow noreferrer\">https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet</a></p>\n"},{"tags":[],"owner":{"account_id":10963357,"reputation":21,"user_id":8055904,"display_name":"mdamircoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686759253,"creation_date":1686759253,"answer_id":76475616,"question_id":49000382,"body_markdown":"Checkmarx captures lot of False Positive scenarios - and it&#39;s justifiable as to warn user. But the problem is, even if you write validation functions to sanitize the inputs, it still flags them as bug - biggest issue of this tool.\r\n\r\nFurthermore, it captures SQL Injection bugs even with MongoDB.\r\n\r\nMy recommendation is, **just add validation functions which removes unnecessary characters, checks string length, data type, etc. That&#39;s good enough.** Don&#39;t bother if Checkmarx still captures that as error. As rightly said - Checkmarx is far far behind from perfection. ","title":"Checkmarx high vulnerability issue SQL injection","body":"<p>Checkmarx captures lot of False Positive scenarios - and it's justifiable as to warn user. But the problem is, even if you write validation functions to sanitize the inputs, it still flags them as bug - biggest issue of this tool.</p>\n<p>Furthermore, it captures SQL Injection bugs even with MongoDB.</p>\n<p>My recommendation is, <strong>just add validation functions which removes unnecessary characters, checks string length, data type, etc. That's good enough.</strong> Don't bother if Checkmarx still captures that as error. As rightly said - Checkmarx is far far behind from perfection.</p>\n"}],"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11999,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1686759253,"creation_date":1519700166,"question_id":49000382,"body_markdown":"I am getting a checkmarx HIGH vulnerability issue SQL Injection. \r\n\r\nrequirement is user can insert any SQL query in the text area, on click on submit this query passes through request payload and server side it is being hold using request body annotation to pass across the layer.\r\n\r\nvulnerability 1 :- saying this request is not sanitized.\r\n\r\nvulnerability 2 :- second place is where I am doing executeUpdate for the sql query using Statement object as I can not use PreparedStatement, there is no dynamic parameter available. whatever query it was in text area is being executed directly.\r\n\r\nI have tried HtmlUtils.htmlEscape(sqlQuery) and StringEscapeUtils but it fails to resolve the vulnerability.\r\n\r\nThe requirement is like this only I had to give text area to the user to put the query so that server can take it and execute it directly.\r\n\r\nAny suggestion ? how to resolve it !!\r\nThanks ","title":"Checkmarx high vulnerability issue SQL injection","body":"<p>I am getting a checkmarx HIGH vulnerability issue SQL Injection. </p>\n\n<p>requirement is user can insert any SQL query in the text area, on click on submit this query passes through request payload and server side it is being hold using request body annotation to pass across the layer.</p>\n\n<p>vulnerability 1 :- saying this request is not sanitized.</p>\n\n<p>vulnerability 2 :- second place is where I am doing executeUpdate for the sql query using Statement object as I can not use PreparedStatement, there is no dynamic parameter available. whatever query it was in text area is being executed directly.</p>\n\n<p>I have tried HtmlUtils.htmlEscape(sqlQuery) and StringEscapeUtils but it fails to resolve the vulnerability.</p>\n\n<p>The requirement is like this only I had to give text area to the user to put the query so that server can take it and execute it directly.</p>\n\n<p>Any suggestion ? how to resolve it !!\nThanks </p>\n"},{"tags":["java","spring-boot","eclipse","hibernate","jpa"],"comments":[{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1686769762,"post_id":76475605,"comment_id":134846324,"body_markdown":"Please show some relevant code like the entities, pom.xml/build.gradle file, application properties.","body":"Please show some relevant code like the entities, pom.xml/build.gradle file, application properties."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1686870696,"post_id":76475605,"comment_id":134861644,"body_markdown":"[Generating tables from entities](https://www.eclipse.org/webtools/dali/docs/3.2/user_guide/tasks007.htm)","body":"<a href=\"https://www.eclipse.org/webtools/dali/docs/3.2/user_guide/tasks007.htm\" rel=\"nofollow noreferrer\">Generating tables from entities</a>"}],"owner":{"account_id":9016705,"reputation":940,"user_id":6719286,"display_name":"racerX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686759193,"creation_date":1686759193,"question_id":76475605,"body_markdown":"I am trying to create the ddl from entities in a spring boot project. I am using eclipse Version: 2023-03 (4.27.0). Ideally, I am looking for something similar to the JPA Buddy plugin in intellij where you can right click on an entity and it gives the option &quot;Show ddl ...&quot;. Most solutions I look at assume you already have a &quot;JPA&quot; project, I don&#39;t, mine is a Spring Boot Project. Next, some solutions talk about adding JPA facet to the project. When I select properties for the project, there is no such thing as &quot;Project Facet&quot;, but there is &quot;Project Natures&quot; which currently includes &quot;Java&quot; and &quot;Maven Nature&quot; for me. And when I try to add a nature, the only options I see are &quot; Gradle Project Nature&quot; and &quot;WikiTextNature&quot;, so I assumed I have to install a JPA specific software like mentioned here https://stackoverflow.com/questions/50817803/jpa-tools-menu-missing-from-eclipse, but could not find that specific one. I didn&#39;t see any obvious looking candidate, I tried the &quot;Hibernate Tools (Helios) 3.4.x&quot; and the &quot;Hibernate Tools (Indigo) 3.4.x&quot; but none worked. I also tried adding the required properties in the properties file as mentioned here, https://www.baeldung.com/spring-data-jpa-generate-db-schema, but that too did not work.","title":"How to generate DDL from entities in eclipse","body":"<p>I am trying to create the ddl from entities in a spring boot project. I am using eclipse Version: 2023-03 (4.27.0). Ideally, I am looking for something similar to the JPA Buddy plugin in intellij where you can right click on an entity and it gives the option &quot;Show ddl ...&quot;. Most solutions I look at assume you already have a &quot;JPA&quot; project, I don't, mine is a Spring Boot Project. Next, some solutions talk about adding JPA facet to the project. When I select properties for the project, there is no such thing as &quot;Project Facet&quot;, but there is &quot;Project Natures&quot; which currently includes &quot;Java&quot; and &quot;Maven Nature&quot; for me. And when I try to add a nature, the only options I see are &quot; Gradle Project Nature&quot; and &quot;WikiTextNature&quot;, so I assumed I have to install a JPA specific software like mentioned here <a href=\"https://stackoverflow.com/questions/50817803/jpa-tools-menu-missing-from-eclipse\">JPA Tools Menu Missing From Eclipse</a>, but could not find that specific one. I didn't see any obvious looking candidate, I tried the &quot;Hibernate Tools (Helios) 3.4.x&quot; and the &quot;Hibernate Tools (Indigo) 3.4.x&quot; but none worked. I also tried adding the required properties in the properties file as mentioned here, <a href=\"https://www.baeldung.com/spring-data-jpa-generate-db-schema\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-generate-db-schema</a>, but that too did not work.</p>\n"},{"tags":["java","postgresql","jdbc","classloader","servletexception"],"comments":[{"owner":{"account_id":4186934,"reputation":746,"user_id":3430478,"display_name":"Shweta Gupta"},"score":0,"creation_date":1561373776,"post_id":56734786,"comment_id":100028910,"body_markdown":"Strange. This is usually due to missing jar in classpath. Can you please provide bit more detailed stacktrace?","body":"Strange. This is usually due to missing jar in classpath. Can you please provide bit more detailed stacktrace?"},{"owner":{"account_id":16193589,"reputation":31,"user_id":11691760,"display_name":"Matteo Lunghi"},"score":0,"creation_date":1561374005,"post_id":56734786,"comment_id":100029020,"body_markdown":"Yeah! Thanks for your reply!                                                        \n                                                                                                                   \nSEVERE: Servlet.service() for servlet [login.submit.register.LoginRegister] in context with path [/RegistrationPage] threw exception [Servlet execution threw an exception] with root cause\njava.lang.NoClassDefFoundError: java/sql/Driver\n\tat java.base/java.lang.ClassLoader.findBootstrapClass(Native Method)\n\tat java.base/java.lang.ClassLoader.findBootstrapClassOrNull(ClassLoader.java:1257)","body":"Yeah! Thanks for your reply!                                                                                                                                                                             SEVERE: Servlet.service() for servlet [login.submit.register.LoginRegister] in context with path [/RegistrationPage] threw exception [Servlet execution threw an exception] with root cause java.lang.NoClassDefFoundError: java/sql/Driver \tat java.base/java.lang.ClassLoader.findBootstrapClass(Native Method) \tat java.base/java.lang.ClassLoader.findBootstrapClassOrNull(Cla&zwnj;&#8203;ssLoader.java:1257)"},{"owner":{"account_id":16193589,"reputation":31,"user_id":11691760,"display_name":"Matteo Lunghi"},"score":0,"creation_date":1561374135,"post_id":56734786,"comment_id":100029085,"body_markdown":"I have the postgres and mysql connectors jars - am I missing any?","body":"I have the postgres and mysql connectors jars - am I missing any?"},{"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"score":1,"creation_date":1561374375,"post_id":56734786,"comment_id":100029240,"body_markdown":"Please see https://stackoverflow.com/questions/17484764/java-lang-classnotfoundexception-com-mysql-jdbc-driver-in-eclipse","body":"Please see <a href=\"https://stackoverflow.com/questions/17484764/java-lang-classnotfoundexception-com-mysql-jdbc-driver-in-eclipse\" title=\"java lang classnotfoundexception com mysql jdbc driver in eclipse\">stackoverflow.com/questions/17484764/&hellip;</a>"},{"owner":{"account_id":16193589,"reputation":31,"user_id":11691760,"display_name":"Matteo Lunghi"},"score":0,"creation_date":1561374535,"post_id":56734786,"comment_id":100029321,"body_markdown":"I am using postgres, not mysql, so my link is &quot;org.postgres.Driver&quot;, and I have already added the driver jars to the project. What else can I do?","body":"I am using postgres, not mysql, so my link is &quot;org.postgres.Driver&quot;, and I have already added the driver jars to the project. What else can I do?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1581513794,"post_id":56734786,"comment_id":106459076,"body_markdown":"`java.sql.Driver` is part of the JDK, seems like your Java installation is broken","body":"<code>java.sql.Driver</code> is part of the JDK, seems like your Java installation is broken"},{"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"score":0,"creation_date":1666988944,"post_id":56734786,"comment_id":131073037,"body_markdown":"NoClassDefFound indicates that the class was found but could not be initialised. Sounds like a URL or password problem, or the Tomcat server does not have access to the DB server.","body":"NoClassDefFound indicates that the class was found but could not be initialised. Sounds like a URL or password problem, or the Tomcat server does not have access to the DB server."}],"answers":[{"tags":[],"owner":{"account_id":2139570,"reputation":168,"user_id":1898593,"display_name":"tony-orlando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589741348,"creation_date":1589741348,"answer_id":61857026,"question_id":56734786,"body_markdown":"I know this has nothing to do with Servlets, but I had the same problem with a module application that uses SQLite:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/sql/Driver\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:206)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:759)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassInModuleOrNull(BuiltinClassLoader.java:680)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:605)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\t...\r\n    Caused by: java.lang.ClassNotFoundException: java.sql.Driver\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 14 more\r\n\r\n\r\nA little puzzling at at first, but I finally figured it out.  I just had to add the *requires* statement for *java.sql* to the `module-info.java`:\r\n\r\n    module mymodule {\r\n        ...\r\n        requires sqlite.jdbc;\r\n        requires java.sql;\r\n    }\r\n\r\n(The *requires sqlite.jdbc* was already in there, added it above just for clarity)\r\n","title":"java.lang.NoClassDefFoundError: java/sql/Driver?","body":"<p>I know this has nothing to do with Servlets, but I had the same problem with a module application that uses SQLite:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: java/sql/Driver\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:206)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:759)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassInModuleOrNull(BuiltinClassLoader.java:680)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:605)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:315)\n...\nCaused by: java.lang.ClassNotFoundException: java.sql.Driver\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 14 more\n</code></pre>\n\n<p>A little puzzling at at first, but I finally figured it out.  I just had to add the <em>requires</em> statement for <em>java.sql</em> to the <code>module-info.java</code>:</p>\n\n<pre><code>module mymodule {\n    ...\n    requires sqlite.jdbc;\n    requires java.sql;\n}\n</code></pre>\n\n<p>(The <em>requires sqlite.jdbc</em> was already in there, added it above just for clarity)</p>\n"},{"tags":[],"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666982708,"creation_date":1666982708,"answer_id":74239698,"question_id":56734786,"body_markdown":"If you are getting this problem while running Jetpack compose desktop app,\r\nconsider adding this line into `build.gradle.kts`\r\n\r\n```gradle\r\ncompose.desktop {\r\n    application {\r\n        // ..\r\n        nativeDistributions {\r\n            // ...\r\n            modules(&quot;java.sql&quot;)\r\n        }\r\n    }\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: java/sql/Driver?","body":"<p>If you are getting this problem while running Jetpack compose desktop app,\nconsider adding this line into <code>build.gradle.kts</code></p>\n<pre><code>compose.desktop {\n    application {\n        // ..\n        nativeDistributions {\n            // ...\n            modules(&quot;java.sql&quot;)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1549929,"reputation":4174,"user_id":1442571,"display_name":"Nantoka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686759037,"creation_date":1686759037,"answer_id":76475582,"question_id":56734786,"body_markdown":"For Kotlin Compose Multiplatform this seems to fall in the category &quot;It&#39;s a feature and not a bug&quot;. philoopher97 posted already the solution. \r\n\r\nSee [here][1] for a complete explanation including a hint on how to configure Proguard. \r\n\r\n\r\n  [1]: https://github.com/JetBrains/compose-multiplatform/issues/2668#issuecomment-1419178642","title":"java.lang.NoClassDefFoundError: java/sql/Driver?","body":"<p>For Kotlin Compose Multiplatform this seems to fall in the category &quot;It's a feature and not a bug&quot;. philoopher97 posted already the solution.</p>\n<p>See <a href=\"https://github.com/JetBrains/compose-multiplatform/issues/2668#issuecomment-1419178642\" rel=\"nofollow noreferrer\">here</a> for a complete explanation including a hint on how to configure Proguard.</p>\n"}],"owner":{"account_id":16193589,"reputation":31,"user_id":11691760,"display_name":"Matteo Lunghi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4870,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1686759037,"creation_date":1561372570,"question_id":56734786,"body_markdown":"I am trying to build a login-registration web app which essentially lets users register on a database and then allows them to log in. I have written all the code, and I am trying to connect my program to my database. Here is the error I receive: \r\n\r\n    Exception\r\n    \r\n    javax.servlet.ServletException: Servlet execution threw an exception\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\n    Root Cause\r\n    \r\n    java.lang.NoClassDefFoundError: java/sql/Driver\r\n\r\nI have added all the Postgres, Tomcat, and SQL connector/driver jar to my `classpath` and my `WEB-INF/lib` folders. I am not really sure what else to do. I have tried testing with another class and I am able to connect to my database. I have triple check my connection URL as well. What&#39;s wrong?\r\n\r\nThanks!\r\n","title":"java.lang.NoClassDefFoundError: java/sql/Driver?","body":"<p>I am trying to build a login-registration web app which essentially lets users register on a database and then allows them to log in. I have written all the code, and I am trying to connect my program to my database. Here is the error I receive: </p>\n\n<pre><code>Exception\n\njavax.servlet.ServletException: Servlet execution threw an exception\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n\nRoot Cause\n\njava.lang.NoClassDefFoundError: java/sql/Driver\n</code></pre>\n\n<p>I have added all the Postgres, Tomcat, and SQL connector/driver jar to my <code>classpath</code> and my <code>WEB-INF/lib</code> folders. I am not really sure what else to do. I have tried testing with another class and I am able to connect to my database. I have triple check my connection URL as well. What's wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","bluetooth","ime","soft-input-panel"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686783431,"post_id":76475507,"comment_id":134848422,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2263582,"reputation":21,"user_id":1992976,"display_name":"Ney Candido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686758949,"creation_date":1686758949,"answer_id":76475567,"question_id":76475507,"body_markdown":"Never mind folks, is my reconnecting routine that is totally idiot! I made the same function to connect and reconnect, so when you hide the keyboard it invokes the reconnect function and disconnects the device... OH MY!","title":"Keep Android 11 IME active in background","body":"<p>Never mind folks, is my reconnecting routine that is totally idiot! I made the same function to connect and reconnect, so when you hide the keyboard it invokes the reconnect function and disconnects the device... OH MY!</p>\n"}],"owner":{"account_id":2263582,"reputation":21,"user_id":1992976,"display_name":"Ney Candido"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686758949,"creation_date":1686758558,"question_id":76475507,"body_markdown":"I developed a IME for Android that connects on bluetooth device and receive reading from it but still expose a conventional software keyboard. The problem is that if I hide the keyboard, the bluetooth device disconnects. \r\n\r\nI made it reconnect automatically when the keyboard is displayed again. But I what want is that even if keyboard is hidden my device still able to send data to app. This is possible?","title":"Keep Android 11 IME active in background","body":"<p>I developed a IME for Android that connects on bluetooth device and receive reading from it but still expose a conventional software keyboard. The problem is that if I hide the keyboard, the bluetooth device disconnects.</p>\n<p>I made it reconnect automatically when the keyboard is displayed again. But I what want is that even if keyboard is hidden my device still able to send data to app. This is possible?</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686758611,"creation_date":1686758611,"answer_id":76475512,"question_id":76475435,"body_markdown":"It looks like you are missing this option on that `Files.splitter()`:\r\n\r\n\t/**\r\n\t * Specify the header name for the first line to be carried as a header in the\r\n\t * messages emitted for the remaining lines.\r\n\t * @param firstLineHeaderName the header name to carry first line.\r\n\t * @return the FileSplitterSpec\r\n\t */\r\n\tpublic FileSplitterSpec firstLineAsHeader(String firstLineHeaderName) {\r\n\r\nThe `org.springframework.integration.file.splitter.FileSplitter$FileMarker` error is not possible if you don&#39;t use `markers = true` for that `FileSplitter`.\r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-splitter","title":"Transform InputStream into Object, then Object into Json","body":"<p>It looks like you are missing this option on that <code>Files.splitter()</code>:</p>\n<pre><code>/**\n * Specify the header name for the first line to be carried as a header in the\n * messages emitted for the remaining lines.\n * @param firstLineHeaderName the header name to carry first line.\n * @return the FileSplitterSpec\n */\npublic FileSplitterSpec firstLineAsHeader(String firstLineHeaderName) {\n</code></pre>\n<p>The <code>org.springframework.integration.file.splitter.FileSplitter$FileMarker</code> error is not possible if you don't use <code>markers = true</code> for that <code>FileSplitter</code>.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-splitter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-splitter</a></p>\n"}],"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76475512,"answer_count":1,"score":0,"last_activity_date":1686758611,"creation_date":1686758068,"question_id":76475435,"body_markdown":"I am reading in an InputStream from an `Sftp.inboundStreamingAdapter` that stream is passed to a message channel that this flow reads from and tries to convert the stream (which is a .csv) into an object, and then for the secondary transformation it should convert that object into json. The problem is the header file (I think). The csv looks like this the screenshot below. My object uses the headers to map to my object, but since I am splitting the file up by each line in the file I believe that causes the error. I&#39;m assuming this isn&#39;t the correct approach to this problem, any help would be much appreciated.\r\n\r\n\r\n[![Sample Csv][1]][1]\r\n\r\n    @Bean\r\n    public IntegrationFlow readCsvFileFlow(MessageChannel inboundFilesMessageChannel,\r\n                                           QueueChannel kafkaPojoMessageChannel) {\r\n\r\n        return IntegrationFlow.from(inboundFilesMessageChannel)\r\n                              .split(Files.splitter())\r\n                              .transform(new StreamToMyObject) // TODO: Turn InputStream to MyObject Object\r\n                              .transform(new ObjectToJsonTransformer())\r\n                              .log(LoggingHandler.Level.DEBUG,\r\n                                   &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;,\r\n                                   m -&gt; &quot;Payload: &quot; + m.getPayload())\r\n                              .channel(kafkaPojoMessageChannel)\r\n                              .get();\r\n    }\r\n\r\nI have tried creating my own custom InputStreamToObject Transformers, but I have came up short, my latest attempt I used an `ObjectInputStream` and have tried to use the ois.readFrom(inputStream) method to convert it into my ObjectClass using something like this, and adding the StreamToObject class in the first transformer. \r\n\r\n```\r\npublic class StreamToMyObjectConverter implements GenericTransformer&lt;InputStream, MyObject&gt; {\r\n    @Override\r\n    public MyObject transform(InputStream inputStream) {\r\n        try (ObjectInputStream ois = new ObjectInputStream(inputStream)){\r\n            return (MyObject) ois.readObject();\r\n        }\r\n        catch (IOException | ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```\r\nObject: Which is generated by jsonschema2pojo.\r\n\r\nI think the issue is I can&#39;t map to the object from the stream because of the headers. I&#39;m not sure if this is the best approach. Any suggestions would be much appreciated.\r\n\r\n```\r\n@JsonInclude(Include.NON_NULL)\r\n@JsonPropertyOrder({&quot;email&quot;, &quot;RECIPIENT_ID&quot;, &quot;ENCODED_RECIPIENT_ID&quot;, &quot;contactId&quot;, &quot;code&quot;, &quot;messageId&quot;, &quot;userAgent&quot;, &quot;messageName&quot;, &quot;mailingTemplateId&quot;, &quot;subjectLine&quot;, &quot;docType&quot;, &quot;reportId&quot;, &quot;sendType&quot;, &quot;bounceType&quot;, &quot;urlDescription&quot;, &quot;clickUrl&quot;, &quot;optOutDetails&quot;, &quot;messageGroupId&quot;, &quot;programId&quot;, &quot;timestamp&quot;, &quot;originatedFrom&quot;, &quot;eventId&quot;, &quot;externalSystemName&quot;, &quot;externalSystemReferenceId&quot;, &quot;trackingCode&quot;})\r\npublic class MyObject {\r\n    @JsonProperty(&quot;email&quot;)\r\n    private String email;\r\n    @JsonProperty(&quot;RECIPIENT_ID&quot;)\r\n    private String recipientId;\r\n    @JsonProperty(&quot;ENCODED_RECIPIENT_ID&quot;)\r\n    private String encodedRecipientId;\r\n    @JsonProperty(&quot;contactId&quot;)\r\n    private String contactId;\r\n    @JsonProperty(&quot;code&quot;)\r\n    private String code;\r\n    @JsonProperty(&quot;messageId&quot;)\r\n    private String messageId;\r\n    @JsonProperty(&quot;userAgent&quot;)\r\n    private String userAgent;\r\n    @JsonProperty(&quot;messageName&quot;)\r\n    private String messageName;\r\n    @JsonProperty(&quot;mailingTemplateId&quot;)\r\n    private String mailingTemplateId;\r\n    @JsonProperty(&quot;subjectLine&quot;)\r\n    private String subjectLine;\r\n    @JsonProperty(&quot;docType&quot;)\r\n    private String docType;\r\n    @JsonProperty(&quot;reportId&quot;)\r\n    private String reportId;\r\n    @JsonProperty(&quot;sendType&quot;)\r\n    private String sendType;\r\n    @JsonProperty(&quot;bounceType&quot;)\r\n    private String bounceType;\r\n    @JsonProperty(&quot;urlDescription&quot;)\r\n    private String urlDescription;\r\n    @JsonProperty(&quot;clickUrl&quot;)\r\n    private String clickUrl;\r\n    @JsonProperty(&quot;optOutDetails&quot;)\r\n    private String optOutDetails;\r\n    @JsonProperty(&quot;messageGroupId&quot;)\r\n    private String messageGroupId;\r\n    @JsonProperty(&quot;programId&quot;)\r\n    private String programId;\r\n    @JsonProperty(&quot;timestamp&quot;)\r\n    private String timestamp;\r\n    @JsonProperty(&quot;originatedFrom&quot;)\r\n    private String originatedFrom;\r\n    @JsonProperty(&quot;eventId&quot;)\r\n    private String eventId;\r\n    @JsonProperty(&quot;externalSystemName&quot;)\r\n    private String externalSystemName;\r\n    @JsonProperty(&quot;externalSystemReferenceId&quot;)\r\n    private String externalSystemReferenceId;\r\n    @JsonProperty(&quot;trackingCode&quot;)\r\n    private String trackingCode;\r\n}\r\n\r\n```\r\nStackTrace:\r\n\r\n```\r\nCaused by: org.springframework.messaging.MessageHandlingException: error occurred during processing message in &#39;MethodInvokingMessageProcessor&#39; [org.springframework.integration.handler.MethodInvokingMessageProcessor@5f2f9a4d], failedMessage=GenericMessage [payload=FileMarker [filePath=/downloaddummy_acoustic.csv, mark=START], headers={file_remoteHostPort=transfer-campaign-us-2.goacoustic.com:22, file_remoteFileInfo={&quot;directory&quot;:false,&quot;filename&quot;:&quot;dummy_acoustic.csv&quot;,&quot;link&quot;:false,&quot;modified&quot;:1686691008000,&quot;permissions&quot;:&quot;rw-r-----&quot;,&quot;remoteDirectory&quot;:&quot;/download&quot;,&quot;size&quot;:1250}, file_remoteDirectory=/download, id=ca7bd14f-6967-0040-4f56-e63c715ae1c5, file_marker=START, closeableResource=org.springframework.integration.file.remote.session.CachingSessionFactory$CachedSession@4e9ca373, file_remoteFile=dummy_acoustic.csv, timestamp=1686758001364}]\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n\tat org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:117)\r\n\tat org.springframework.integration.transformer.AbstractMessageProcessingTransformer.transform(AbstractMessageProcessingTransformer.java:115)\r\n\tat org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:119)\r\n\t... 42 more\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method transform(org.springframework.integration.file.splitter.FileSplitter$FileMarker) cannot be found on type com.thrivent.enterprisemarketingchannelactivation.engage.converter.StreamToEmailInteractionConverter\r\n\tat org.springframework.expression.spel.ast.MethodReference.findAccessorForMethod(MethodReference.java:225)\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:135)\r\n\tat org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:380)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:93)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:119)\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:376)\r\n\tat org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)\r\n\tat org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:154)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeExpression(MessagingMethodInvokerHelper.java:611)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.fallbackToInvokeExpression(MessagingMethodInvokerHelper.java:604)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInvokeExceptionAndFallbackToExpressionIfAny(MessagingMethodInvokerHelper.java:590)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:561)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:476)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:354)\r\n\tat org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:114)\r\n\t... 44 more\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3peq.png","title":"Transform InputStream into Object, then Object into Json","body":"<p>I am reading in an InputStream from an <code>Sftp.inboundStreamingAdapter</code> that stream is passed to a message channel that this flow reads from and tries to convert the stream (which is a .csv) into an object, and then for the secondary transformation it should convert that object into json. The problem is the header file (I think). The csv looks like this the screenshot below. My object uses the headers to map to my object, but since I am splitting the file up by each line in the file I believe that causes the error. I'm assuming this isn't the correct approach to this problem, any help would be much appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/r3peq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3peq.png\" alt=\"Sample Csv\" /></a></p>\n<pre><code>@Bean\npublic IntegrationFlow readCsvFileFlow(MessageChannel inboundFilesMessageChannel,\n                                       QueueChannel kafkaPojoMessageChannel) {\n\n    return IntegrationFlow.from(inboundFilesMessageChannel)\n                          .split(Files.splitter())\n                          .transform(new StreamToMyObject) // TODO: Turn InputStream to MyObject Object\n                          .transform(new ObjectToJsonTransformer())\n                          .log(LoggingHandler.Level.DEBUG,\n                               &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;,\n                               m -&gt; &quot;Payload: &quot; + m.getPayload())\n                          .channel(kafkaPojoMessageChannel)\n                          .get();\n}\n</code></pre>\n<p>I have tried creating my own custom InputStreamToObject Transformers, but I have came up short, my latest attempt I used an <code>ObjectInputStream</code> and have tried to use the ois.readFrom(inputStream) method to convert it into my ObjectClass using something like this, and adding the StreamToObject class in the first transformer.</p>\n<pre><code>public class StreamToMyObjectConverter implements GenericTransformer&lt;InputStream, MyObject&gt; {\n    @Override\n    public MyObject transform(InputStream inputStream) {\n        try (ObjectInputStream ois = new ObjectInputStream(inputStream)){\n            return (MyObject) ois.readObject();\n        }\n        catch (IOException | ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n<p>Object: Which is generated by jsonschema2pojo.</p>\n<p>I think the issue is I can't map to the object from the stream because of the headers. I'm not sure if this is the best approach. Any suggestions would be much appreciated.</p>\n<pre><code>@JsonInclude(Include.NON_NULL)\n@JsonPropertyOrder({&quot;email&quot;, &quot;RECIPIENT_ID&quot;, &quot;ENCODED_RECIPIENT_ID&quot;, &quot;contactId&quot;, &quot;code&quot;, &quot;messageId&quot;, &quot;userAgent&quot;, &quot;messageName&quot;, &quot;mailingTemplateId&quot;, &quot;subjectLine&quot;, &quot;docType&quot;, &quot;reportId&quot;, &quot;sendType&quot;, &quot;bounceType&quot;, &quot;urlDescription&quot;, &quot;clickUrl&quot;, &quot;optOutDetails&quot;, &quot;messageGroupId&quot;, &quot;programId&quot;, &quot;timestamp&quot;, &quot;originatedFrom&quot;, &quot;eventId&quot;, &quot;externalSystemName&quot;, &quot;externalSystemReferenceId&quot;, &quot;trackingCode&quot;})\npublic class MyObject {\n    @JsonProperty(&quot;email&quot;)\n    private String email;\n    @JsonProperty(&quot;RECIPIENT_ID&quot;)\n    private String recipientId;\n    @JsonProperty(&quot;ENCODED_RECIPIENT_ID&quot;)\n    private String encodedRecipientId;\n    @JsonProperty(&quot;contactId&quot;)\n    private String contactId;\n    @JsonProperty(&quot;code&quot;)\n    private String code;\n    @JsonProperty(&quot;messageId&quot;)\n    private String messageId;\n    @JsonProperty(&quot;userAgent&quot;)\n    private String userAgent;\n    @JsonProperty(&quot;messageName&quot;)\n    private String messageName;\n    @JsonProperty(&quot;mailingTemplateId&quot;)\n    private String mailingTemplateId;\n    @JsonProperty(&quot;subjectLine&quot;)\n    private String subjectLine;\n    @JsonProperty(&quot;docType&quot;)\n    private String docType;\n    @JsonProperty(&quot;reportId&quot;)\n    private String reportId;\n    @JsonProperty(&quot;sendType&quot;)\n    private String sendType;\n    @JsonProperty(&quot;bounceType&quot;)\n    private String bounceType;\n    @JsonProperty(&quot;urlDescription&quot;)\n    private String urlDescription;\n    @JsonProperty(&quot;clickUrl&quot;)\n    private String clickUrl;\n    @JsonProperty(&quot;optOutDetails&quot;)\n    private String optOutDetails;\n    @JsonProperty(&quot;messageGroupId&quot;)\n    private String messageGroupId;\n    @JsonProperty(&quot;programId&quot;)\n    private String programId;\n    @JsonProperty(&quot;timestamp&quot;)\n    private String timestamp;\n    @JsonProperty(&quot;originatedFrom&quot;)\n    private String originatedFrom;\n    @JsonProperty(&quot;eventId&quot;)\n    private String eventId;\n    @JsonProperty(&quot;externalSystemName&quot;)\n    private String externalSystemName;\n    @JsonProperty(&quot;externalSystemReferenceId&quot;)\n    private String externalSystemReferenceId;\n    @JsonProperty(&quot;trackingCode&quot;)\n    private String trackingCode;\n}\n\n</code></pre>\n<p>StackTrace:</p>\n<pre><code>Caused by: org.springframework.messaging.MessageHandlingException: error occurred during processing message in 'MethodInvokingMessageProcessor' [org.springframework.integration.handler.MethodInvokingMessageProcessor@5f2f9a4d], failedMessage=GenericMessage [payload=FileMarker [filePath=/downloaddummy_acoustic.csv, mark=START], headers={file_remoteHostPort=transfer-campaign-us-2.goacoustic.com:22, file_remoteFileInfo={&quot;directory&quot;:false,&quot;filename&quot;:&quot;dummy_acoustic.csv&quot;,&quot;link&quot;:false,&quot;modified&quot;:1686691008000,&quot;permissions&quot;:&quot;rw-r-----&quot;,&quot;remoteDirectory&quot;:&quot;/download&quot;,&quot;size&quot;:1250}, file_remoteDirectory=/download, id=ca7bd14f-6967-0040-4f56-e63c715ae1c5, file_marker=START, closeableResource=org.springframework.integration.file.remote.session.CachingSessionFactory$CachedSession@4e9ca373, file_remoteFile=dummy_acoustic.csv, timestamp=1686758001364}]\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n    at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:117)\n    at org.springframework.integration.transformer.AbstractMessageProcessingTransformer.transform(AbstractMessageProcessingTransformer.java:115)\n    at org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:119)\n    ... 42 more\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method transform(org.springframework.integration.file.splitter.FileSplitter$FileMarker) cannot be found on type com.thrivent.enterprisemarketingchannelactivation.engage.converter.StreamToEmailInteractionConverter\n    at org.springframework.expression.spel.ast.MethodReference.findAccessorForMethod(MethodReference.java:225)\n    at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:135)\n    at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:380)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:93)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:119)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:376)\n    at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)\n    at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:154)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeExpression(MessagingMethodInvokerHelper.java:611)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.fallbackToInvokeExpression(MessagingMethodInvokerHelper.java:604)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInvokeExceptionAndFallbackToExpressionIfAny(MessagingMethodInvokerHelper.java:590)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:561)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:476)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:354)\n    at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:114)\n    ... 44 more\n\n</code></pre>\n"},{"tags":["java","json","api","azure-functions","content-type"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686758183,"creation_date":1686758183,"answer_id":76475457,"question_id":76475157,"body_markdown":"You were nearly there: in HTTP there are separated headers for request and response, and you tried to add a request header instead of a response header.\r\n\r\nTry this in your last statement:\r\n``` lang-java\r\nreturn request.createResponseBuilder(HttpStatus.OK).header(&quot;Content-Type&quot;, &quot;application/json&quot;).body(orders).build();\r\n```","title":"Setting the Content-Type to application/json in a Java Azure Function","body":"<p>You were nearly there: in HTTP there are separated headers for request and response, and you tried to add a request header instead of a response header.</p>\n<p>Try this in your last statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return request.createResponseBuilder(HttpStatus.OK).header(&quot;Content-Type&quot;, &quot;application/json&quot;).body(orders).build();\n</code></pre>\n"}],"owner":{"account_id":10592686,"reputation":5,"user_id":7802665,"display_name":"Fra_Di_Rienzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76475457,"answer_count":1,"score":0,"last_activity_date":1686758183,"creation_date":1686756162,"question_id":76475157,"body_markdown":"I have developed a Java Azure function that is triggered by an HTTP Request, performs a query to CosmosDB, and return the retrieved data to the caller (front end). The problem is that the Content-Type of the Azure Function is plain text instead of application/json.\r\n\r\nthis is the code of my azure function:\r\n\r\n```\r\n@FunctionName(&quot;backorders&quot;)\r\n    public HttpResponseMessage run(\r\n            @HttpTrigger(\r\n                name = &quot;req&quot;,\r\n                methods = {HttpMethod.GET},\r\n                authLevel = AuthorizationLevel.ANONYMOUS)\r\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n            final ExecutionContext context) {\r\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\r\n        try{     \r\n            createConnection();\r\n        } catch (Exception e){\r\n            System.out.println(&quot;An error occured when connecting to the DB&quot;);\r\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occured when connecting to the DB&quot;).build();\r\n        }\r\n        ArrayList&lt;String&gt; supplyPlannerIds = new ArrayList&lt;&gt;();\r\n        try{\r\n            Map&lt;String,String&gt; headers = request.getQueryParameters();\r\n            System.out.println(headers.values());\r\n            String param = headers.getOrDefault(&quot;spids&quot;, &quot;&quot;);\r\n            if(param.equals(&quot;&quot;)){\r\n                System.out.println(&quot;The list of Supply Planner IDs can not be empty&quot;);\r\n                return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;The list of Supply Planner IDs can not be empty&quot;).build();\r\n            } else {\r\n                System.out.println(&quot;Parsing the request body&quot;);\r\n                supplyPlannerIds = new ArrayList&lt;String&gt;(Arrays.asList(param.split(&quot;,&quot;)));\r\n            }\r\n        } catch (Exception e){\r\n            System.out.println(&quot;An error occured when fetching the SupplyPlannerIds&quot;);\r\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occured when retrieving the list of SupplyPlannerIds from the request&quot;).build();\r\n        }\r\n        BackorderListRepo orderRepo = new BackorderListRepo(container, supplyPlannerIds);\r\n        ArrayList&lt;Backorder&gt; orders = orderRepo.retrieveBackorders();\r\n        //String json = new Gson().toJson(orders);\r\n        return request.createResponseBuilder(HttpStatus.OK).body(orders).build();   \r\n    }\r\n```\r\n\r\nthis is my local.settings.json:\r\n\r\n```\r\n{\r\n  &quot;IsEncrypted&quot;: false,\r\n  &quot;Values&quot;: {\r\n    &quot;AzureWebJobsStorage&quot;: &quot;&quot;,\r\n    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;\r\n  }\r\n}\r\n```\r\n\r\nthis is my host.json\r\n\r\n```\r\n{\r\n  &quot;version&quot;: &quot;2.0&quot;,\r\n  &quot;extensionBundle&quot;: {\r\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n    &quot;version&quot;: &quot;[3.*, 4.0.0)&quot;\r\n  } \r\n}\r\n```\r\n\r\nin particular when I call it using Postman this is what I get \r\n[postman call][1]\r\n\r\n\r\nI tried the following line of code but it didn&#39;t work\r\n`String json = new Gson().toJson(orders);`\r\n\r\nI also tried the following but it didn&#39;t work\r\n`request.getHeaders().put(&quot;content-type&quot;, &quot;application/json&quot;);`\r\n\r\nthanks a lot in advance for your appreciated help :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fHhe1.png","title":"Setting the Content-Type to application/json in a Java Azure Function","body":"<p>I have developed a Java Azure function that is triggered by an HTTP Request, performs a query to CosmosDB, and return the retrieved data to the caller (front end). The problem is that the Content-Type of the Azure Function is plain text instead of application/json.</p>\n<p>this is the code of my azure function:</p>\n<pre><code>@FunctionName(&quot;backorders&quot;)\n    public HttpResponseMessage run(\n            @HttpTrigger(\n                name = &quot;req&quot;,\n                methods = {HttpMethod.GET},\n                authLevel = AuthorizationLevel.ANONYMOUS)\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) {\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\n        try{     \n            createConnection();\n        } catch (Exception e){\n            System.out.println(&quot;An error occured when connecting to the DB&quot;);\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occured when connecting to the DB&quot;).build();\n        }\n        ArrayList&lt;String&gt; supplyPlannerIds = new ArrayList&lt;&gt;();\n        try{\n            Map&lt;String,String&gt; headers = request.getQueryParameters();\n            System.out.println(headers.values());\n            String param = headers.getOrDefault(&quot;spids&quot;, &quot;&quot;);\n            if(param.equals(&quot;&quot;)){\n                System.out.println(&quot;The list of Supply Planner IDs can not be empty&quot;);\n                return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;The list of Supply Planner IDs can not be empty&quot;).build();\n            } else {\n                System.out.println(&quot;Parsing the request body&quot;);\n                supplyPlannerIds = new ArrayList&lt;String&gt;(Arrays.asList(param.split(&quot;,&quot;)));\n            }\n        } catch (Exception e){\n            System.out.println(&quot;An error occured when fetching the SupplyPlannerIds&quot;);\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occured when retrieving the list of SupplyPlannerIds from the request&quot;).build();\n        }\n        BackorderListRepo orderRepo = new BackorderListRepo(container, supplyPlannerIds);\n        ArrayList&lt;Backorder&gt; orders = orderRepo.retrieveBackorders();\n        //String json = new Gson().toJson(orders);\n        return request.createResponseBuilder(HttpStatus.OK).body(orders).build();   \n    }\n</code></pre>\n<p>this is my local.settings.json:</p>\n<pre><code>{\n  &quot;IsEncrypted&quot;: false,\n  &quot;Values&quot;: {\n    &quot;AzureWebJobsStorage&quot;: &quot;&quot;,\n    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;\n  }\n}\n</code></pre>\n<p>this is my host.json</p>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[3.*, 4.0.0)&quot;\n  } \n}\n</code></pre>\n<p>in particular when I call it using Postman this is what I get\n<a href=\"https://i.stack.imgur.com/fHhe1.png\" rel=\"nofollow noreferrer\">postman call</a></p>\n<p>I tried the following line of code but it didn't work\n<code>String json = new Gson().toJson(orders);</code></p>\n<p>I also tried the following but it didn't work\n<code>request.getHeaders().put(&quot;content-type&quot;, &quot;application/json&quot;);</code></p>\n<p>thanks a lot in advance for your appreciated help :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1686742757,"post_id":76473016,"comment_id":134840274,"body_markdown":"@aled when I wrap t1.wait with a synchronized keyword it never waits.","body":"@aled when I wrap t1.wait with a synchronized keyword it never waits."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1686743173,"post_id":76473016,"comment_id":134840387,"body_markdown":"It seems like you do not understand the concept of wait/notify methods, more details here - https://stackoverflow.com/questions/2536692/a-simple-scenario-using-wait-and-notify-in-java . Also would be great to know the whole scenario of your program to be able to advice you a proper solution.","body":"It seems like you do not understand the concept of wait/notify methods, more details here - <a href=\"https://stackoverflow.com/questions/2536692/a-simple-scenario-using-wait-and-notify-in-java\" title=\"a simple scenario using wait and notify in java\">stackoverflow.com/questions/2536692/&hellip;</a> . Also would be great to know the whole scenario of your program to be able to advice you a proper solution."}],"answers":[{"tags":[],"owner":{"account_id":16042704,"reputation":1,"user_id":11578739,"display_name":"hyz"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1686742554,"creation_date":1686742554,"answer_id":76473102,"question_id":76473016,"body_markdown":"1. Object.wait() use in conjunction with synchronzed. \r\n2. by Thread.sleep(long millis)","title":"How can I pause a runnable or a thread in Java?","body":"<ol>\n<li>Object.wait() use in conjunction with synchronzed.</li>\n<li>by Thread.sleep(long millis)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686758025,"creation_date":1686743288,"answer_id":76473207,"question_id":76473016,"body_markdown":"The methods wait and notify need to be used inside of synchronized methods or blocks, where they&#39;re called on the object whose intrinsic lock is being held. Entering the synchronized block gives a thread the chance to check the state of the object without interference from other threads, so that it can decide whether it needs to wait. \r\n\r\nThe wait/notify mechanism has a lot of assumptions baked into it and is pretty involved, for details see the Java concurrency tutorial. In particular there is lots of good information in\r\nhttps://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html. but it sounds like it&#39;s too complicated for what you want. \r\n\r\nIf you want to pause for a fixed amount of time, have the pausing thread use Thread.sleep. sleep is a static method that always affects the current thread, you can&#39;t use it to put another thread to sleep.  If you could, that would be a security issue; malicious code could suppress other threads.\r\n\r\nIf you want the thread to pause until some other thread tells it it can go, CountdownLatch is a simpler alternative.","title":"How can I pause a runnable or a thread in Java?","body":"<p>The methods wait and notify need to be used inside of synchronized methods or blocks, where they're called on the object whose intrinsic lock is being held. Entering the synchronized block gives a thread the chance to check the state of the object without interference from other threads, so that it can decide whether it needs to wait.</p>\n<p>The wait/notify mechanism has a lot of assumptions baked into it and is pretty involved, for details see the Java concurrency tutorial. In particular there is lots of good information in\n<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html</a>. but it sounds like it's too complicated for what you want.</p>\n<p>If you want to pause for a fixed amount of time, have the pausing thread use Thread.sleep. sleep is a static method that always affects the current thread, you can't use it to put another thread to sleep.  If you could, that would be a security issue; malicious code could suppress other threads.</p>\n<p>If you want the thread to pause until some other thread tells it it can go, CountdownLatch is a simpler alternative.</p>\n"},{"tags":[],"owner":{"account_id":11051358,"reputation":9,"user_id":8115698,"display_name":"lu kevin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686744309,"creation_date":1686743394,"answer_id":76473220,"question_id":76473016,"body_markdown":"\r\nIf you want to change your task state, the better way is to design a FSM (Finite State Machine), that means :\r\n1) set task default state, `false` for example\r\n2) change it to `true` when you call t1.start()\r\n3) change it to `false` when you wanna stop it\r\n\r\nsomething like below\r\n\r\n    private AtomicBoolean running = new AtomicBoolean(false);\r\n\r\n    @Override\r\n    public void run() {\r\n        final boolean success = running.compareAndSet(false, true);\r\n        if (! success) {\r\n            throw new IllegalStateException(&quot;xxxxx&quot;);\r\n        }\r\n        while (running.get()) {\r\n            System.out.println(&quot;Running &quot; + Thread.currentThread().getId() + &quot; &quot; + Math.random());\r\n            try {\r\n                Thread.sleep(1_000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void stop()  {\r\n        if (! running.compareAndSet(true, false)) {\r\n            throw new IllegalStateException(&quot;stop task failure.&quot;);\r\n        }\r\n    }\r\n\r\n    \r\n    public static void main(String[] args) throws InterruptedException {\r\n        FootballRunner footballRunner = new FootballRunner();\r\n        Thread t1 = new Thread(footballRunner, &quot;one&quot;);\r\n        t1.start();\r\n        // sleep for a while to wait t1 start\r\n        Thread.sleep(100);\r\n        footballRunner.stop();\r\n    }\r\n\r\n","title":"How can I pause a runnable or a thread in Java?","body":"<p>If you want to change your task state, the better way is to design a FSM (Finite State Machine), that means :</p>\n<ol>\n<li>set task default state, <code>false</code> for example</li>\n<li>change it to <code>true</code> when you call t1.start()</li>\n<li>change it to <code>false</code> when you wanna stop it</li>\n</ol>\n<p>something like below</p>\n<pre><code>private AtomicBoolean running = new AtomicBoolean(false);\n\n@Override\npublic void run() {\n    final boolean success = running.compareAndSet(false, true);\n    if (! success) {\n        throw new IllegalStateException(&quot;xxxxx&quot;);\n    }\n    while (running.get()) {\n        System.out.println(&quot;Running &quot; + Thread.currentThread().getId() + &quot; &quot; + Math.random());\n        try {\n            Thread.sleep(1_000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\npublic void stop()  {\n    if (! running.compareAndSet(true, false)) {\n        throw new IllegalStateException(&quot;stop task failure.&quot;);\n    }\n}\n\n\npublic static void main(String[] args) throws InterruptedException {\n    FootballRunner footballRunner = new FootballRunner();\n    Thread t1 = new Thread(footballRunner, &quot;one&quot;);\n    t1.start();\n    // sleep for a while to wait t1 start\n    Thread.sleep(100);\n    footballRunner.stop();\n}\n</code></pre>\n"}],"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1686743650,"answer_count":3,"score":1,"last_activity_date":1686758025,"creation_date":1686741923,"question_id":76473016,"body_markdown":"I have `Runnable` class:\r\n\r\n    package com.example.testtest;\r\n    \r\n    public class FootballRunner implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            while (true) {\r\n                System.out.println(&quot;Running &quot; + Thread.currentThread().getId() + &quot; &quot; + Math.random());\r\n                try {\r\n                    Thread.sleep(1_000);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nand have the main class:\r\n\r\n    package com.example.testtest;\r\n    \r\n    public class TestScheduling {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            FootballRunner footballRunner = new FootballRunner();\r\n            Thread t1 = new Thread(footballRunner, &quot;one&quot;);\r\n            t1.start();\r\n            t1.wait();\r\n        }\r\n    }\r\n\r\n\r\nbut when I try to make it wait it throws an exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException: current thread is not owner\r\n    \tat java.base/java.lang.Object.wait(Native Method)\r\n    \tat java.base/java.lang.Object.wait(Object.java:338)\r\n    \tat com.example.testtest.TestScheduling.main(TestScheduling.java:8)\r\n\r\nWhat does &quot;current thread is not owner&quot; mean? How I can make `t1` to pause?","title":"How can I pause a runnable or a thread in Java?","body":"<p>I have <code>Runnable</code> class:</p>\n<pre><code>package com.example.testtest;\n\npublic class FootballRunner implements Runnable {\n    @Override\n    public void run() {\n        while (true) {\n            System.out.println(&quot;Running &quot; + Thread.currentThread().getId() + &quot; &quot; + Math.random());\n            try {\n                Thread.sleep(1_000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>and have the main class:</p>\n<pre><code>package com.example.testtest;\n\npublic class TestScheduling {\n    public static void main(String[] args) throws InterruptedException {\n        FootballRunner footballRunner = new FootballRunner();\n        Thread t1 = new Thread(footballRunner, &quot;one&quot;);\n        t1.start();\n        t1.wait();\n    }\n}\n</code></pre>\n<p>but when I try to make it wait it throws an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException: current thread is not owner\n    at java.base/java.lang.Object.wait(Native Method)\n    at java.base/java.lang.Object.wait(Object.java:338)\n    at com.example.testtest.TestScheduling.main(TestScheduling.java:8)\n</code></pre>\n<p>What does &quot;current thread is not owner&quot; mean? How I can make <code>t1</code> to pause?</p>\n"},{"tags":["java","javafx","textarea","listener"],"comments":[{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1686664407,"post_id":76465547,"comment_id":134828034,"body_markdown":"You have already outlined a possible solution. I am not sure where exactly you see a problem.","body":"You have already outlined a possible solution. I am not sure where exactly you see a problem."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1686666412,"post_id":76465547,"comment_id":134828505,"body_markdown":"*but the problem is, that it detects a change every time the Notes Text Area is updated.* - not understanding why that is a problem? Just keep setting the variable to &quot;true&quot; every time a change is made. You only need to test the variable when the user invokes a action that requires the text area to be saved.","body":"<i>but the problem is, that it detects a change every time the Notes Text Area is updated.</i> - not understanding why that is a problem? Just keep setting the variable to &quot;true&quot; every time a change is made. You only need to test the variable when the user invokes a action that requires the text area to be saved."},{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1686668401,"post_id":76465547,"comment_id":134829062,"body_markdown":"@camickr The problem is, that a change is detetected even though just the relevant note is loaded. There should only be a detection of a change if the text is in the note text area is manually changed by the user.","body":"@camickr The problem is, that a change is detetected even though just the relevant note is loaded. There should only be a detection of a change if the text is in the note text area is manually changed by the user."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1686671617,"post_id":76465547,"comment_id":134829858,"body_markdown":"So you need to add your &quot;change listener&quot; AFTER the code is loaded. Or you need to reset the boolean variable to false AFTER the code is loaded. Can&#39;t give any more specific advice because we don&#39;t know what GUI toolkit you are using.","body":"So you need to add your &quot;change listener&quot; AFTER the code is loaded. Or you need to reset the boolean variable to false AFTER the code is loaded. Can&#39;t give any more specific advice because we don&#39;t know what GUI toolkit you are using."},{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1686675561,"post_id":76465547,"comment_id":134830710,"body_markdown":"I tried but it is not working. I am using JavaFX.","body":"I tried but it is not working. I am using JavaFX."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1686689805,"post_id":76465547,"comment_id":134833348,"body_markdown":"I don&#39;t use JavaFX so I can&#39;t help. Post an [mre] demonstrating the problem for others to see what you are doing.","body":"I don&#39;t use JavaFX so I can&#39;t help. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem for others to see what you are doing."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1686732579,"post_id":76465547,"comment_id":134838244,"body_markdown":"show code its easier to help / fix problem","body":"show code its easier to help / fix problem"},{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1686734372,"post_id":76465547,"comment_id":134838601,"body_markdown":"@Anon I have added code to my question.","body":"@Anon I have added code to my question."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1686754256,"post_id":76465547,"comment_id":134843153,"body_markdown":"the method you added has nothing to do with saving its only retrieving info?","body":"the method you added has nothing to do with saving its only retrieving info?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1686755801,"post_id":76465547,"comment_id":134843499,"body_markdown":"The code you posted doesn&#39;t seem to have anything at all to do with the problem you describe. Please post a [mre] as requested. I don&#39;t see a way this question can be answered without one.","body":"The code you posted doesn&#39;t seem to have anything at all to do with the problem you describe. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as requested. I don&#39;t see a way this question can be answered without one."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686757961,"creation_date":1686756928,"answer_id":76475270,"question_id":76465547,"body_markdown":"My guess is that you are looking for `primaryStage.setOnCloseRequest`. Here is an example app. This app uses the `Button&#39;s` style to determine if a save needs to happen. You may choose to use a variable/property.\r\n\r\n\r\n----------\r\n\r\n\r\n**Main**\r\n```\r\nimport java.util.Optional;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n    String originalText;\r\n    \r\n    public static void main(String[] args) {\r\n        App.launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button btnSave = new Button(&quot;Save&quot;);\r\n        btnSave.setOnAction(event -&gt; System.out.println(&quot;Saving text!!!&quot;));\r\n        \r\n        originalText = loadOriginalText();        \r\n        TextArea textArea = new TextArea(originalText);\r\n        textArea.setWrapText(true);\r\n        textArea.textProperty().addListener((obs, oldText, newText) -&gt;{\r\n            if(newText != null)\r\n            {\r\n                if(!originalText.equals(newText))\r\n                {\r\n                    btnSave.setStyle(&quot;-fx-border-color: red;&quot;);\r\n                }\r\n                else\r\n                {\r\n                    btnSave.setStyle(null);\r\n                }                \r\n            }\r\n        });        \r\n        \r\n        VBox root = new VBox(new StackPane(textArea), new StackPane(btnSave));\r\n        Scene scene = new Scene(root, 500, 500);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        \r\n        primaryStage.setOnCloseRequest((windowEvent)-&gt;{\r\n            if(btnSave.getStyle().equals(&quot;-fx-border-color: red;&quot;))\r\n            {\r\n                Alert alert = new Alert(AlertType.CONFIRMATION);\r\n                alert.setTitle(&quot;Confirmation Dialog&quot;);\r\n                alert.setHeaderText(&quot;Do you want to save the text before ending the app?&quot;);\r\n                alert.setContentText(&quot;Press &#39;Ok&#39; to close the app with save. Press &#39;Cancel&#39; to close the app with out save.&quot;);\r\n\r\n                Optional&lt;ButtonType&gt; result = alert.showAndWait();\r\n                if (result.get() == ButtonType.OK)\r\n                {\r\n                   btnSave.fire();\r\n                   \r\n                } \r\n                \r\n                Platform.exit();\r\n            }\r\n        });        \r\n    }\r\n    \r\n    public String loadOriginalText()\r\n    {\r\n        return &quot;&quot;&quot;\r\n               Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n               &quot;&quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n**Note: Doing this in `FXML` will require the `Main` have access to the save `Button`. This is something I would do in the `Main` using ideas from [MVC](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) or [passing parameters](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml). The code below does not work as-is. I freestyle it without an IDE.**\r\n\r\nbasically something like\r\n\r\n```\r\nimport java.util.Optional;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n    Button btnSave;\r\n    \r\n    public static void main(String[] args) {\r\n        App.launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        \r\n        FXMLLoader yourControllerLoader = new FXMLLoader(getClass().getResource(&quot;yourfxml.fxml&quot;));\r\n        YourFxmlRootNodeType fxmlRoot = yourControllerLoader.load();\r\n        YourController yourController = yourControllerLoader.getController();\r\n        \r\n        Button btnSave = yourController.getSaveButton();        \r\n        \r\n        Scene scene = new Scene(fxmlRoot, 500, 500);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        \r\n        primaryStage.setOnCloseRequest((windowEvent)-&gt;{\r\n            if(btnSave.getStyle().equals(&quot;-fx-border-color: red;&quot;))\r\n            {\r\n                Alert alert = new Alert(AlertType.CONFIRMATION);\r\n                alert.setTitle(&quot;Confirmation Dialog&quot;);\r\n                alert.setHeaderText(&quot;Do you want to save the text before ending the app?&quot;);\r\n                alert.setContentText(&quot;Press &#39;Ok&#39; to close the app with save. Press &#39;Cancel&#39; to close the app with out save.&quot;);\r\n\r\n                Optional&lt;ButtonType&gt; result = alert.showAndWait();\r\n                if (result.get() == ButtonType.OK)\r\n                {\r\n                   btnSave.fire();\r\n                   \r\n                } \r\n                \r\n                Platform.exit();\r\n            }\r\n        });        \r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/HuDsI.gif","title":"Listener for TextArea which changes several times - Java","body":"<p>My guess is that you are looking for <code>primaryStage.setOnCloseRequest</code>. Here is an example app. This app uses the <code>Button's</code> style to determine if a save needs to happen. You may choose to use a variable/property.</p>\n<hr />\n<p><strong>Main</strong></p>\n<pre><code>import java.util.Optional;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n    String originalText;\n    \n    public static void main(String[] args) {\n        App.launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        Button btnSave = new Button(&quot;Save&quot;);\n        btnSave.setOnAction(event -&gt; System.out.println(&quot;Saving text!!!&quot;));\n        \n        originalText = loadOriginalText();        \n        TextArea textArea = new TextArea(originalText);\n        textArea.setWrapText(true);\n        textArea.textProperty().addListener((obs, oldText, newText) -&gt;{\n            if(newText != null)\n            {\n                if(!originalText.equals(newText))\n                {\n                    btnSave.setStyle(&quot;-fx-border-color: red;&quot;);\n                }\n                else\n                {\n                    btnSave.setStyle(null);\n                }                \n            }\n        });        \n        \n        VBox root = new VBox(new StackPane(textArea), new StackPane(btnSave));\n        Scene scene = new Scene(root, 500, 500);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        \n        primaryStage.setOnCloseRequest((windowEvent)-&gt;{\n            if(btnSave.getStyle().equals(&quot;-fx-border-color: red;&quot;))\n            {\n                Alert alert = new Alert(AlertType.CONFIRMATION);\n                alert.setTitle(&quot;Confirmation Dialog&quot;);\n                alert.setHeaderText(&quot;Do you want to save the text before ending the app?&quot;);\n                alert.setContentText(&quot;Press 'Ok' to close the app with save. Press 'Cancel' to close the app with out save.&quot;);\n\n                Optional&lt;ButtonType&gt; result = alert.showAndWait();\n                if (result.get() == ButtonType.OK)\n                {\n                   btnSave.fire();\n                   \n                } \n                \n                Platform.exit();\n            }\n        });        \n    }\n    \n    public String loadOriginalText()\n    {\n        return &quot;&quot;&quot;\n               Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\n               &quot;&quot;&quot;;\n    }\n}\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/HuDsI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HuDsI.gif\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>Note: Doing this in <code>FXML</code> will require the <code>Main</code> have access to the save <code>Button</code>. This is something I would do in the <code>Main</code> using ideas from <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC</a> or <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">passing parameters</a>. The code below does not work as-is. I freestyle it without an IDE.</strong></p>\n<p>basically something like</p>\n<pre><code>import java.util.Optional;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n    Button btnSave;\n    \n    public static void main(String[] args) {\n        App.launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        \n        FXMLLoader yourControllerLoader = new FXMLLoader(getClass().getResource(&quot;yourfxml.fxml&quot;));\n        YourFxmlRootNodeType fxmlRoot = yourControllerLoader.load();\n        YourController yourController = yourControllerLoader.getController();\n        \n        Button btnSave = yourController.getSaveButton();        \n        \n        Scene scene = new Scene(fxmlRoot, 500, 500);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        \n        primaryStage.setOnCloseRequest((windowEvent)-&gt;{\n            if(btnSave.getStyle().equals(&quot;-fx-border-color: red;&quot;))\n            {\n                Alert alert = new Alert(AlertType.CONFIRMATION);\n                alert.setTitle(&quot;Confirmation Dialog&quot;);\n                alert.setHeaderText(&quot;Do you want to save the text before ending the app?&quot;);\n                alert.setContentText(&quot;Press 'Ok' to close the app with save. Press 'Cancel' to close the app with out save.&quot;);\n\n                Optional&lt;ButtonType&gt; result = alert.showAndWait();\n                if (result.get() == ButtonType.OK)\n                {\n                   btnSave.fire();\n                   \n                } \n                \n                Platform.exit();\n            }\n        });        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686757961,"creation_date":1686663499,"question_id":76465547,"body_markdown":"I have a programm with a TextArea which enables the user to add notes to a particular verse number. Every verse number has a dedicated note entry. The values for the verses and the notes are loaded from a SQLite database. The text is loaded correctly and the &quot;Save&quot; (&quot;Speichern&quot;) button is working.\r\n\r\nI want to show an alert window, which displays the question &quot;Do you want to save the text?&quot;, when the user has changed the TextArea and not clicked on the &quot;Save&quot; button. I have tried to add a listener for the TextArea having a variable , but the problem is, that it detects a change every time the Notes Text Area is updated.\r\n\r\nMy idea is to save the text of the Notes Text Area to a String or HashMap, after the verse is loaded. There should be a respective String or a HashMap which saves the original notes. The String / HashMap should then be compared to the value of the listener, but only if the &quot;Save&quot; button hasn&#39;t been clicked on before closing the programm.\r\n\r\nHow do I achieve this?\r\n\r\n\r\n\r\n[This is how the relevant of the programm looks like.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EWuBR.png\r\n\r\nThis is the method which I am trying to change:\r\n\r\n    private void loadNotesFromPaliVerse() throws SQLException {\r\n\r\n\r\n        // Check if a number has been selected\r\n        Integer selectedNumber = comboBoxVerseNr.getValue();\r\n\r\n        if (selectedNumber == null) {\r\n            return;\r\n        }\r\n\r\n        if (selectedNumber.equals(previousSelectedNumber)) {\r\n            return;\r\n        }\r\n\r\n\r\n        // Retrieve verse number based on comboBoxVerseNr\r\n\r\n        String queryNote = DatabaseMethods.notesToPaliVerse(comboBoxVerseNr.getValue());\r\n\r\n\r\n        try (PreparedStatement statement = connection.prepareStatement(queryNote)) {\r\n\r\n            try (ResultSet resultSet = statement.executeQuery()) {\r\n                if (resultSet.next()) {\r\n\r\n                    // Retrieve text value from the table\r\n                    String textValue = resultSet.getString(&quot;Notes&quot;);\r\n\r\n                    // Insert text into TextArea\r\n                    notesTextArea.setText(textValue);\r\n\r\n\r\n\r\n\r\n                } else {\r\n\r\n                    // No corresponding entry found, clear the TextArea\r\n                    notesTextArea.clear();\r\n                  \r\n\r\n                }\r\n            }\r\n        }\r\n    }","title":"Listener for TextArea which changes several times - Java","body":"<p>I have a programm with a TextArea which enables the user to add notes to a particular verse number. Every verse number has a dedicated note entry. The values for the verses and the notes are loaded from a SQLite database. The text is loaded correctly and the &quot;Save&quot; (&quot;Speichern&quot;) button is working.</p>\n<p>I want to show an alert window, which displays the question &quot;Do you want to save the text?&quot;, when the user has changed the TextArea and not clicked on the &quot;Save&quot; button. I have tried to add a listener for the TextArea having a variable , but the problem is, that it detects a change every time the Notes Text Area is updated.</p>\n<p>My idea is to save the text of the Notes Text Area to a String or HashMap, after the verse is loaded. There should be a respective String or a HashMap which saves the original notes. The String / HashMap should then be compared to the value of the listener, but only if the &quot;Save&quot; button hasn't been clicked on before closing the programm.</p>\n<p>How do I achieve this?</p>\n<p><a href=\"https://i.stack.imgur.com/EWuBR.png\" rel=\"nofollow noreferrer\">This is how the relevant of the programm looks like.</a></p>\n<p>This is the method which I am trying to change:</p>\n<pre><code>private void loadNotesFromPaliVerse() throws SQLException {\n\n\n    // Check if a number has been selected\n    Integer selectedNumber = comboBoxVerseNr.getValue();\n\n    if (selectedNumber == null) {\n        return;\n    }\n\n    if (selectedNumber.equals(previousSelectedNumber)) {\n        return;\n    }\n\n\n    // Retrieve verse number based on comboBoxVerseNr\n\n    String queryNote = DatabaseMethods.notesToPaliVerse(comboBoxVerseNr.getValue());\n\n\n    try (PreparedStatement statement = connection.prepareStatement(queryNote)) {\n\n        try (ResultSet resultSet = statement.executeQuery()) {\n            if (resultSet.next()) {\n\n                // Retrieve text value from the table\n                String textValue = resultSet.getString(&quot;Notes&quot;);\n\n                // Insert text into TextArea\n                notesTextArea.setText(textValue);\n\n\n\n\n            } else {\n\n                // No corresponding entry found, clear the TextArea\n                notesTextArea.clear();\n              \n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","graphql","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1593865989,"creation_date":1593865989,"answer_id":62729171,"question_id":62728773,"body_markdown":"I have this and it&#39;s working for me. Pretty much regular spring stuff for exception handling, but there is no `@ControllerAdvice` (it&#39;s kotlin btw, if you can&#39;t understand - let me know, but I think it&#39;s pretty clear even without kotlin knowledge).\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-kotlin --&gt;\r\n\r\n    import org.springframework.web.bind.annotation.ExceptionHandler\r\n    import com.oembedler.moon.graphql.boot.error.ThrowableGraphQLError\r\n\r\n    internal class GraphQLExceptionHandler {\r\n        @ExceptionHandler(AppException::class)\r\n        fun handleGenericException(ex: AppException): ThrowableGraphQLError {\r\n            return ThrowableGraphQLError(ex)\r\n        }\r\n\r\n        @ExceptionHandler(Exception::class)\r\n        fun handleGenericException(ex: Exception): ThrowableGraphQLError {\r\n            return ThrowableGraphQLError(TechnicalException())\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    internal open class GraphQLConfiguration {\r\n        @Bean\r\n        open fun graphQLExceptionHandler(): GraphQLExceptionHandler {\r\n            return GraphQLExceptionHandler()\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have quite a few dependencies tho, in case they matter here:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;graphql.version&gt;5.4.1&lt;/graphql.version&gt;\r\n    &lt;graphql-datetime-spring-boot-starter.version&gt;1.4.0&lt;/graphql-datetime-spring-boot-starter.version&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n      &lt;artifactId&gt;voyager-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.zhokhov.graphql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-datetime-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql-datetime-spring-boot-starter.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to override DataFetcherExceptionHandler in GraphQL Java?","body":"<p>I have this and it's working for me. Pretty much regular spring stuff for exception handling, but there is no <code>@ControllerAdvice</code> (it's kotlin btw, if you can't understand - let me know, but I think it's pretty clear even without kotlin knowledge).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.web.bind.annotation.ExceptionHandler\nimport com.oembedler.moon.graphql.boot.error.ThrowableGraphQLError\n\ninternal class GraphQLExceptionHandler {\n    @ExceptionHandler(AppException::class)\n    fun handleGenericException(ex: AppException): ThrowableGraphQLError {\n        return ThrowableGraphQLError(ex)\n    }\n\n    @ExceptionHandler(Exception::class)\n    fun handleGenericException(ex: Exception): ThrowableGraphQLError {\n        return ThrowableGraphQLError(TechnicalException())\n    }\n}\n\n@Configuration\ninternal open class GraphQLConfiguration {\n    @Bean\n    open fun graphQLExceptionHandler(): GraphQLExceptionHandler {\n        return GraphQLExceptionHandler()\n    }\n}\n</code></pre>\n<p>I have quite a few dependencies tho, in case they matter here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;graphql.version&gt;5.4.1&lt;/graphql.version&gt;\n&lt;graphql-datetime-spring-boot-starter.version&gt;1.4.0&lt;/graphql-datetime-spring-boot-starter.version&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n  &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n  &lt;artifactId&gt;voyager-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.zhokhov.graphql&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-datetime-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;${graphql-datetime-spring-boot-starter.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13871294,"reputation":29,"user_id":10014331,"display_name":"Abhinav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2694,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62729171,"answer_count":1,"score":1,"last_activity_date":1686757741,"creation_date":1593863631,"question_id":62728773,"body_markdown":"I am using the following starter for Graphql integration\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n    &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n1) I am not sure how to override the SimpleDataFetcherExceptionHandler with my own CustomExceptionHandler. The library already autowires a lot of stuff. Do I need to create a separate configuration for graphQl object? The documentation is not much helpful.\r\n\r\n2) I also tried to integrate @ControllerAdvice to my Graphql java spring boot application but the errors are not matched by the exception handlers inside it. They are handled by GraphQl error handler. How does error propagates inside Graphql?\r\n\r\n\r\nHow can I change this behaviour?\r\n\r\n\r\n\r\n\r\n","title":"How to override DataFetcherExceptionHandler in GraphQL Java?","body":"<p>I am using the following starter for Graphql integration</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n    &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol>\n<li><p>I am not sure how to override the SimpleDataFetcherExceptionHandler with my own CustomExceptionHandler. The library already autowires a lot of stuff. Do I need to create a separate configuration for graphQl object? The documentation is not much helpful.</p>\n</li>\n<li><p>I also tried to integrate @ControllerAdvice to my Graphql java spring boot application but the errors are not matched by the exception handlers inside it. They are handled by GraphQl error handler. How does error propagates inside Graphql?</p>\n</li>\n</ol>\n<p>How can I change this behaviour?</p>\n"},{"tags":["c#","java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":946,"reputation":18105,"user_id":1247,"accept_rate":91,"display_name":"Mike Deck"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1222712042,"creation_date":1222712042,"answer_id":149959,"question_id":149932,"body_markdown":"I tend to approach naming threads the same as naming methods or variables.  Pick something that concisely describes the process that the thread is responsible for.  I don&#39;t think there&#39;s a lot of extra information that you can or should put into a thread-name.  Expressive but terse is the primary goal.\r\n\r\nThe only convention might be to add an incremented suffix to threads that are part of a pool.","title":"Naming conventions for threads?","body":"<p>I tend to approach naming threads the same as naming methods or variables.  Pick something that concisely describes the process that the thread is responsible for.  I don't think there's a lot of extra information that you can or should put into a thread-name.  Expressive but terse is the primary goal.</p>\n\n<p>The only convention might be to add an incremented suffix to threads that are part of a pool.</p>\n"},{"tags":[],"owner":{"account_id":10442,"reputation":10058,"user_id":19734,"accept_rate":91,"display_name":"Thorsten79"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1222713880,"creation_date":1222712044,"answer_id":149960,"question_id":149932,"body_markdown":"There&#39;s to my knowledge no standard. Over the time I&#39;ve found these guidelines to be helpful:\r\n\r\n  - Use short names because they don&#39;t make the lines in a log file too long.\r\n\r\n  - Create names where the important part is at the beginning. Log viewers in a graphical user interface tend to have tables with columns, and the thread column is usually small or will be made small by you to read everything else.\r\n\r\n  - Do not use the word &quot;thread&quot; in the thread name because it is obvious.\r\n\r\n  - make the thread names easily grep-able. Avoid similar sounding thread names\r\n\r\n  - if you have several threads of the same nature, enumerate them with IDs that are unique to one execution of the application or one log file, whichever fits your logging habits.\r\n\r\n  - avoid generalizations like &quot;WorkerThread&quot; (how do you name the next 5 worker threads?), &quot;GUIThread&quot; (which GUI? is it for one window? for everything?) or &quot;Calculation&quot; (what does it calculate?).\r\n\r\n  - if you have a test group that uses thread names to grep your application&#39;s log files, do not rename your threads after some time. Your testers will hate you for doing so. Thread names in well-tested applications should be there to stay.\r\n\r\n  - when you have threads that service a network connection, try to include the target network address in the thread name (e.g. channel_123.212.123.3). Don&#39;t forget about enumeration though if there are multiple connections to the same host.\r\n\r\nIf you have many threads and forgot to name one, your log mechanism should output a unique thread ID instead (API-specific, e.g. by calling pthread_self() )","title":"Naming conventions for threads?","body":"<p>There's to my knowledge no standard. Over the time I've found these guidelines to be helpful:</p>\n\n<ul>\n<li><p>Use short names because they don't make the lines in a log file too long.</p></li>\n<li><p>Create names where the important part is at the beginning. Log viewers in a graphical user interface tend to have tables with columns, and the thread column is usually small or will be made small by you to read everything else.</p></li>\n<li><p>Do not use the word \"thread\" in the thread name because it is obvious.</p></li>\n<li><p>make the thread names easily grep-able. Avoid similar sounding thread names</p></li>\n<li><p>if you have several threads of the same nature, enumerate them with IDs that are unique to one execution of the application or one log file, whichever fits your logging habits.</p></li>\n<li><p>avoid generalizations like \"WorkerThread\" (how do you name the next 5 worker threads?), \"GUIThread\" (which GUI? is it for one window? for everything?) or \"Calculation\" (what does it calculate?).</p></li>\n<li><p>if you have a test group that uses thread names to grep your application's log files, do not rename your threads after some time. Your testers will hate you for doing so. Thread names in well-tested applications should be there to stay.</p></li>\n<li><p>when you have threads that service a network connection, try to include the target network address in the thread name (e.g. channel_123.212.123.3). Don't forget about enumeration though if there are multiple connections to the same host.</p></li>\n</ul>\n\n<p>If you have many threads and forgot to name one, your log mechanism should output a unique thread ID instead (API-specific, e.g. by calling pthread_self() )</p>\n"},{"tags":[],"owner":{"account_id":5640,"reputation":6378,"user_id":9193,"accept_rate":75,"display_name":"William"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222712390,"creation_date":1222712390,"answer_id":149990,"question_id":149932,"body_markdown":"Naming threads is useful and you should follow a naming convention that would for anything else, be that variables, methods or classes. Name them according to what they do and be succinct. If you ever run into a problem that requires a thread dump it will be nice to look at the name and know where to look in your code for the problem rather than examining stack traces and guessing.\r\n\r\nThe only different is that if there are multiple threads of the same type you really should add an index of some sort as thread names should be unique to satisfy certain APIs. It can also help with logging if you show the thread name to know how your application behaves with partial execution happening on different threads.","title":"Naming conventions for threads?","body":"<p>Naming threads is useful and you should follow a naming convention that would for anything else, be that variables, methods or classes. Name them according to what they do and be succinct. If you ever run into a problem that requires a thread dump it will be nice to look at the name and know where to look in your code for the problem rather than examining stack traces and guessing.</p>\n\n<p>The only different is that if there are multiple threads of the same type you really should add an index of some sort as thread names should be unique to satisfy certain APIs. It can also help with logging if you show the thread name to know how your application behaves with partial execution happening on different threads.</p>\n"},{"tags":[],"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222716907,"creation_date":1222716907,"answer_id":150292,"question_id":149932,"body_markdown":"while Thorsten&#39;s answer is the most comprehensive, you might want to look at how Tomcat names its Threads. I&#39;ve found that useful. We were running multiple threads with a quartz scheduler and many of the naming rules that Thorsten suggests were useful.\r\n\r\nAre you going to be using a Thread pool ? If yes, then that will reduce the chances that you can add more useful meta info. If not, the sky is the limit to how much useful info you can have.","title":"Naming conventions for threads?","body":"<p>while Thorsten's answer is the most comprehensive, you might want to look at how Tomcat names its Threads. I've found that useful. We were running multiple threads with a quartz scheduler and many of the naming rules that Thorsten suggests were useful.</p>\n\n<p>Are you going to be using a Thread pool ? If yes, then that will reduce the chances that you can add more useful meta info. If not, the sky is the limit to how much useful info you can have.</p>\n"},{"tags":[],"owner":{"account_id":6812,"reputation":32631,"user_id":11574,"accept_rate":68,"display_name":"core"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223351314,"creation_date":1223351314,"answer_id":177170,"question_id":149932,"body_markdown":"What about:\r\n\r\n[namespace].[Class][.Class...].[Method][current thread]?\r\n\r\nSo you have the names:\r\n\r\nBiz.Caching.ExpireDeadItems1&lt;br/&gt;\r\nBiz.Caching.ExpireDeadItems2&lt;br/&gt;\r\nBiz.Caching.ExpireDeadItems3&lt;br/&gt;\r\n\r\netc., for each thread.","title":"Naming conventions for threads?","body":"<p>What about:</p>\n\n<p>[namespace].[Class][.Class...].[Method][current thread]?</p>\n\n<p>So you have the names:</p>\n\n<p>Biz.Caching.ExpireDeadItems1<br/>\nBiz.Caching.ExpireDeadItems2<br/>\nBiz.Caching.ExpireDeadItems3<br/></p>\n\n<p>etc., for each thread.</p>\n"},{"tags":[],"owner":{"account_id":6692,"reputation":30422,"user_id":11361,"accept_rate":97,"display_name":"Dror Helper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1223451805,"creation_date":1223451805,"answer_id":181710,"question_id":149932,"body_markdown":"I&#39;ve seen several naming conventions for threads in .NET.\r\n\r\nSome prefer using &#39;t&#39; in the beginning of the name (ex. *tMain Thread*) but I don&#39;t think it has any real value.\r\nInstead why not just use plain descriptive names (line variables) such as *HouseKeeping*, *Scheduler* and so on.","title":"Naming conventions for threads?","body":"<p>I've seen several naming conventions for threads in .NET.</p>\n\n<p>Some prefer using 't' in the beginning of the name (ex. <em>tMain Thread</em>) but I don't think it has any real value.\nInstead why not just use plain descriptive names (line variables) such as <em>HouseKeeping</em>, <em>Scheduler</em> and so on.</p>\n"},{"tags":[],"owner":{"account_id":1980669,"reputation":35,"user_id":1777374,"display_name":"Ginjitzu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686757661,"creation_date":1686757661,"answer_id":76475371,"question_id":149932,"body_markdown":"I&#39;d like to contribute an pattern that I have begun using to make my thread names meaningful. As I see it, a thread is like a worker who performs a task. As such, I like to look at the task the thread is to perform, and give the thread a name that identifies it as the performer of that task.\r\n\r\nFor instance, a person whose task is to mop a floor might be called a janitor. In this case `Mop(floor)` would be my task and `janitor` would be my thread.\r\nIn C#, my code might look something like, \r\n\r\n```\r\nThread janitor = new Thread(() =&gt; Mop(floor));\r\njanitor.Start();\r\n```\r\n\r\nOr, if I have a stream that I want to monitor for incoming data, then the task is to monitor a stream. The thread, who&#39;s duty is to perform that task would be a stream monitor.\r\n\r\n```\r\n_streamMonitor = new Thread(() =&gt; Monitor(stream));\r\n_streamMonitor.Start();\r\n```","title":"Naming conventions for threads?","body":"<p>I'd like to contribute an pattern that I have begun using to make my thread names meaningful. As I see it, a thread is like a worker who performs a task. As such, I like to look at the task the thread is to perform, and give the thread a name that identifies it as the performer of that task.</p>\n<p>For instance, a person whose task is to mop a floor might be called a janitor. In this case <code>Mop(floor)</code> would be my task and <code>janitor</code> would be my thread.\nIn C#, my code might look something like,</p>\n<pre><code>Thread janitor = new Thread(() =&gt; Mop(floor));\njanitor.Start();\n</code></pre>\n<p>Or, if I have a stream that I want to monitor for incoming data, then the task is to monitor a stream. The thread, who's duty is to perform that task would be a stream monitor.</p>\n<pre><code>_streamMonitor = new Thread(() =&gt; Monitor(stream));\n_streamMonitor.Start();\n</code></pre>\n"}],"owner":{"account_id":6812,"reputation":32631,"user_id":11574,"accept_rate":68,"display_name":"core"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15122,"favorite_count":0,"down_vote_count":1,"up_vote_count":48,"accepted_answer_id":149960,"answer_count":7,"score":47,"last_activity_date":1686757661,"creation_date":1222711582,"question_id":149932,"body_markdown":"It&#39;s helpful to name threads so one can sort out which threads are doing what for diagnostic and debugging purposes.\r\n\r\nIs there a particular naming convention for threads in a heavily multi-threaded application that works better than another? Any guidelines? What kind of information should go into the name for a thread? What have you learned about naming your threads that could be helpful to others?\r\n","title":"Naming conventions for threads?","body":"<p>It's helpful to name threads so one can sort out which threads are doing what for diagnostic and debugging purposes.</p>\n\n<p>Is there a particular naming convention for threads in a heavily multi-threaded application that works better than another? Any guidelines? What kind of information should go into the name for a thread? What have you learned about naming your threads that could be helpful to others?</p>\n"},{"tags":["java","android","qt"],"owner":{"account_id":17885002,"reputation":171,"user_id":12992909,"display_name":"Fausto01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686756748,"creation_date":1686756748,"question_id":76475249,"body_markdown":"Is there a way to open the app switcher programmatically in Java?\r\nI&#39;ve managed to handle the home button by invoking\r\n\r\n    moveTaskToBack(true);\r\nbut I haven&#39;t find anything on how to handle the app switch button.\r\nI need to handle these buttons because on my device (PAX A920), using Qt, the os is not intercepting them.","title":"Android open app switcher programmatically","body":"<p>Is there a way to open the app switcher programmatically in Java?\nI've managed to handle the home button by invoking</p>\n<pre><code>moveTaskToBack(true);\n</code></pre>\n<p>but I haven't find anything on how to handle the app switch button.\nI need to handle these buttons because on my device (PAX A920), using Qt, the os is not intercepting them.</p>\n"},{"tags":["java","c#","azure-devops","tfs","clearcase"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686756314,"creation_date":1686756314,"answer_id":76475178,"question_id":76474717,"body_markdown":"&gt; the Team who takes care of ClearCase tweaks the view in such a way that 2nd developer will not be able to access the files/code which the 1st developer is working on. It would pop an error stating that another branch is currently working on, so will not be able to checkout.\r\n\r\nI suspect this would involve, with ClearCase:\r\n\r\n- a dedicated branch type for the first developer: Using the [`mkbrtype` command](https://www.ibm.com/docs/en/rational-clearcase/8.0.1?topic=ucm-mkbrtype), the admin can create a new branch type that is used only for the first developer&#39;s work.\r\n\r\n- a config spec for the first developer&#39;s view:The admin can edit the config spec for the first developer&#39;s view to include the new branch type. The config spec might look something like this:\r\n\r\n   ```\r\n   element * CHECKEDOUT\r\n   element * .../first_developer_branch/LATEST\r\n   element * /main/LATEST -mkbranch first_developer_branch\r\n   ```\r\n\r\n   This config spec tells ClearCase to show the first developer any files they have checked out, then the latest version on their branch, and finally to make a new branch if they check out a file that does not already have a branch of this type.\r\n\r\n- an access restriction to the new branch type: Using the `cleartool protect -chgrp` and `cleartool protect -chmod` commands, the admin can change the group and permissions of the new branch type so that only the first developer (and the admin) can check out files on this branch.\r\n\r\n- a config spec for the second developer&#39;s view: The admin can edit the config spec for the second developer&#39;s view to exclude the new branch type. The config spec might look something like this:\r\n\r\n   ```\r\n   element * CHECKEDOUT\r\n   element * !.../first_developer_branch/LATEST\r\n   element * /main/LATEST -mkbranch second_developer_branch\r\n   ```\r\n\r\n   This config spec tells ClearCase to show the second developer any files they have checked out, then the latest version on the main branch, but not to show them any files on the first developer&#39;s branch. If they try to check out a file that the first developer has already checked out on their branch, they will receive an error.\r\n\r\nThis setup would allow the first developer to work on files without the second developer being able to access them. However, it is a very restrictive setup that goes against the collaborative nature of most modern development workflows. The idea in most modern workflows is that developers should be able to work on any part of the codebase, and any conflicts between their work should be resolved through communication and code reviews, rather than preventing access to the code.\r\n\r\nSince the [Azure Devops branching strategies](https://learn.microsoft.com/en-us/azure/devops/repos/git/git-branching-guidance?view=azure-devops) do not emulate directly this ClearCase approach, you could instead use Azure DevOps to manage a similar process of concurrent development by multiple developers.  \r\nThat would involve:\r\n\r\n- creating a branch for the first developer to work on. This branch would be based off the `main` branch (or whatever your primary development branch is.\r\n\r\n- setting the &quot;Branch Policies and Permissions&quot; on the first developer&#39;s branch to restrict who can push changes. You can require pull requests for any changes and set up reviewers for these pull requests. You can also restrict who has push and merge permissions on this branch to just the first developer and any necessary admins.\r\n\r\n- creating  a branch for the second developer to work on. This branch would also be based off the `main` branch.\r\n\r\n- setting the &quot;Branch Policies and Permissions&quot; for the second developer&#39;s branch to restrict who can push changes.  \r\nAgain, you can require pull requests for any changes and set up reviewers for these pull requests. Restrict who has push and merge permissions on this branch to just the second developer and any necessary admins.\r\n\r\nNow, both developers can work independently on their respective branches without affecting each other&#39;s work. When they are ready to merge their changes into the main codebase, they can create a pull request, which can be reviewed and approved by the relevant parties.\r\n\r\nThis set-up does not prevent the second developer from seeing the first developer&#39;s changes, but it does prevent them from pushing changes to the first developer&#39;s branch. This is more in line with the collaborative nature of modern development workflows, where all code is visible to all developers and conflicts are resolved through communication and code reviews.  \r\n\r\nHowever, if the second developer needs to work on the same file as the first developer, they could potentially face merge conflicts when they try to merge their changes back to the main branch. In this case, they would need to resolve these conflicts, which could involve integrating the first developer&#39;s changes into their own code. This process is facilitated by [Azure DevOps&#39; built-in conflict resolution tools](https://learn.microsoft.com/en-us/azure/devops/repos/git/merging?view=azure-devops&amp;tabs=visual-studio-2022).","title":"Can Clearcase Branch Strategy be applied on AzureDevops Platform","body":"<blockquote>\n<p>the Team who takes care of ClearCase tweaks the view in such a way that 2nd developer will not be able to access the files/code which the 1st developer is working on. It would pop an error stating that another branch is currently working on, so will not be able to checkout.</p>\n</blockquote>\n<p>I suspect this would involve, with ClearCase:</p>\n<ul>\n<li><p>a dedicated branch type for the first developer: Using the <a href=\"https://www.ibm.com/docs/en/rational-clearcase/8.0.1?topic=ucm-mkbrtype\" rel=\"nofollow noreferrer\"><code>mkbrtype</code> command</a>, the admin can create a new branch type that is used only for the first developer's work.</p>\n</li>\n<li><p>a config spec for the first developer's view:The admin can edit the config spec for the first developer's view to include the new branch type. The config spec might look something like this:</p>\n<pre><code>element * CHECKEDOUT\nelement * .../first_developer_branch/LATEST\nelement * /main/LATEST -mkbranch first_developer_branch\n</code></pre>\n<p>This config spec tells ClearCase to show the first developer any files they have checked out, then the latest version on their branch, and finally to make a new branch if they check out a file that does not already have a branch of this type.</p>\n</li>\n<li><p>an access restriction to the new branch type: Using the <code>cleartool protect -chgrp</code> and <code>cleartool protect -chmod</code> commands, the admin can change the group and permissions of the new branch type so that only the first developer (and the admin) can check out files on this branch.</p>\n</li>\n<li><p>a config spec for the second developer's view: The admin can edit the config spec for the second developer's view to exclude the new branch type. The config spec might look something like this:</p>\n<pre><code>element * CHECKEDOUT\nelement * !.../first_developer_branch/LATEST\nelement * /main/LATEST -mkbranch second_developer_branch\n</code></pre>\n<p>This config spec tells ClearCase to show the second developer any files they have checked out, then the latest version on the main branch, but not to show them any files on the first developer's branch. If they try to check out a file that the first developer has already checked out on their branch, they will receive an error.</p>\n</li>\n</ul>\n<p>This setup would allow the first developer to work on files without the second developer being able to access them. However, it is a very restrictive setup that goes against the collaborative nature of most modern development workflows. The idea in most modern workflows is that developers should be able to work on any part of the codebase, and any conflicts between their work should be resolved through communication and code reviews, rather than preventing access to the code.</p>\n<p>Since the <a href=\"https://learn.microsoft.com/en-us/azure/devops/repos/git/git-branching-guidance?view=azure-devops\" rel=\"nofollow noreferrer\">Azure Devops branching strategies</a> do not emulate directly this ClearCase approach, you could instead use Azure DevOps to manage a similar process of concurrent development by multiple developers.<br />\nThat would involve:</p>\n<ul>\n<li><p>creating a branch for the first developer to work on. This branch would be based off the <code>main</code> branch (or whatever your primary development branch is.</p>\n</li>\n<li><p>setting the &quot;Branch Policies and Permissions&quot; on the first developer's branch to restrict who can push changes. You can require pull requests for any changes and set up reviewers for these pull requests. You can also restrict who has push and merge permissions on this branch to just the first developer and any necessary admins.</p>\n</li>\n<li><p>creating  a branch for the second developer to work on. This branch would also be based off the <code>main</code> branch.</p>\n</li>\n<li><p>setting the &quot;Branch Policies and Permissions&quot; for the second developer's branch to restrict who can push changes.<br />\nAgain, you can require pull requests for any changes and set up reviewers for these pull requests. Restrict who has push and merge permissions on this branch to just the second developer and any necessary admins.</p>\n</li>\n</ul>\n<p>Now, both developers can work independently on their respective branches without affecting each other's work. When they are ready to merge their changes into the main codebase, they can create a pull request, which can be reviewed and approved by the relevant parties.</p>\n<p>This set-up does not prevent the second developer from seeing the first developer's changes, but it does prevent them from pushing changes to the first developer's branch. This is more in line with the collaborative nature of modern development workflows, where all code is visible to all developers and conflicts are resolved through communication and code reviews.</p>\n<p>However, if the second developer needs to work on the same file as the first developer, they could potentially face merge conflicts when they try to merge their changes back to the main branch. In this case, they would need to resolve these conflicts, which could involve integrating the first developer's changes into their own code. This process is facilitated by <a href=\"https://learn.microsoft.com/en-us/azure/devops/repos/git/merging?view=azure-devops&amp;tabs=visual-studio-2022\" rel=\"nofollow noreferrer\">Azure DevOps' built-in conflict resolution tools</a>.</p>\n"}],"owner":{"account_id":28820779,"reputation":19,"user_id":22073339,"display_name":"Balaji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1686756314,"creation_date":1686753355,"question_id":76474717,"body_markdown":"When there is a possibility of developers working simultaneously on the same application and the VOB (files/code) in the clearcase, got their release planned next consecutive months then the 2nd developer won&#39;t have the latest production code (The 2nd developer won&#39;t have the 1st developer&#39;s changes on his branch).  \r\n\r\nIn my scenario, the Team who takes care of clearcase tweaks the view in such a way that 2nd developer won&#39;t be able to access the files/code which the 1st developer is working on. It would pop an error stating that another branch is currently working on, so won&#39;t be able to checkout. Clearcase Branch Strategy will be applied to the development and release view configuration as planned by the team.  \r\n  \r\nWanted to know if there is any method as above, could be followed on the AzureDevops to overcome the scenario. ","title":"Can Clearcase Branch Strategy be applied on AzureDevops Platform","body":"<p>When there is a possibility of developers working simultaneously on the same application and the VOB (files/code) in the clearcase, got their release planned next consecutive months then the 2nd developer won't have the latest production code (The 2nd developer won't have the 1st developer's changes on his branch).</p>\n<p>In my scenario, the Team who takes care of clearcase tweaks the view in such a way that 2nd developer won't be able to access the files/code which the 1st developer is working on. It would pop an error stating that another branch is currently working on, so won't be able to checkout. Clearcase Branch Strategy will be applied to the development and release view configuration as planned by the team.</p>\n<p>Wanted to know if there is any method as above, could be followed on the AzureDevops to overcome the scenario.</p>\n"},{"tags":["java","algorithm","matrix","optimization"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1686639236,"post_id":76462320,"comment_id":134822584,"body_markdown":"If all you want is to improve your working code, it&#39;s better to post on the Code Review Stack Exchange","body":"If all you want is to improve your working code, it&#39;s better to post on the Code Review Stack Exchange"},{"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1686639264,"post_id":76462320,"comment_id":134822588,"body_markdown":"So what exactly is the question?","body":"So what exactly is the question?"},{"owner":{"account_id":26559860,"reputation":49,"user_id":20187870,"display_name":"Juan David"},"score":1,"creation_date":1686639571,"post_id":76462320,"comment_id":134822650,"body_markdown":"@Jorn I understand. I did not know Code Review Stack exchange existed. Thank you for showing me that.","body":"@Jorn I understand. I did not know Code Review Stack exchange existed. Thank you for showing me that."}],"answers":[{"tags":[],"owner":{"account_id":8016064,"reputation":980,"user_id":11148084,"display_name":"asds_asds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686756227,"creation_date":1686756227,"answer_id":76475165,"question_id":76462320,"body_markdown":"Assuming the matrix has N rows and M columns\r\nObservations:\r\n\r\n 1. Elements at Position `(x,y) &lt;-&gt; (N-x,y) &lt;-&gt; (x, M-y) &lt;-&gt; (N-x, M-y)` can be exchanged among themselves but not with any other position.\r\n 2. If the maximum element among these is fixed at the top left position, i.e. `(x,y)` then the other three can occupy the remaining positions in 3P3 = 6 `(nPr = n!/(n-r)!)` ways.\r\n\r\nTo find any maximum matrix, you can fix the maximum element for each value of (x,y) at the top left and arrange the remaining in any way you want.\r\n\r\n\r\nTo find all the maximum matrices you&#39;ll have to generate all possible combinations `(6^(N/2 * M/2))`","title":"Flip rows and columns of an array until the sum of the elements in the upper left quadrant is maximal","body":"<p>Assuming the matrix has N rows and M columns\nObservations:</p>\n<ol>\n<li>Elements at Position <code>(x,y) &lt;-&gt; (N-x,y) &lt;-&gt; (x, M-y) &lt;-&gt; (N-x, M-y)</code> can be exchanged among themselves but not with any other position.</li>\n<li>If the maximum element among these is fixed at the top left position, i.e. <code>(x,y)</code> then the other three can occupy the remaining positions in 3P3 = 6 <code>(nPr = n!/(n-r)!)</code> ways.</li>\n</ol>\n<p>To find any maximum matrix, you can fix the maximum element for each value of (x,y) at the top left and arrange the remaining in any way you want.</p>\n<p>To find all the maximum matrices you'll have to generate all possible combinations <code>(6^(N/2 * M/2))</code></p>\n"}],"owner":{"account_id":26559860,"reputation":49,"user_id":20187870,"display_name":"Juan David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686756227,"creation_date":1686639162,"question_id":76462320,"body_markdown":"There is a HackerRank coding challenge on which asks the programmer to find the largest sum of the elements in the upper left quadrant of a matrix by reversing either rows or columns.\r\n\r\n[Here&#39;s a link to a similar post with working answers][1]\r\n\r\nI&#39;m trying to actually return the new matrix rather than just the sum. I&#39;ve come up with something, but I&#39;m not sure if this is the best way to go about it. I could really use some pointers on how to make this better. My algorithm goes something like this\r\n\r\n 1. Calculate the sum of the upper left quadrant\r\n 2. Clone data of input matrix into a variable &quot;maxMatrix&quot;\r\n 3. Flip a row\r\n 4. Check if the current sum &gt; previous sum\r\n 5. If true, make appropriate changes to maxMatrix\r\n 6. Flip column\r\n 7. Repeat steps 4-5\r\n 8. Repeat until sum is maximal\r\n\r\nThe code I came up with looks like this\r\n\r\n```\r\npublic static int upperLeftSum(int[][] arr) {\r\n\t\tint sum = 0;\r\n\t\t\r\n\t\t// Find sum of upper left quadrant\r\n\t\tfor(int l =0;l&lt;arr.length/2;l++) {\r\n\t\t\tfor(int c= 0;c&lt;arr.length/2;c++) {\r\n\t\t\t\t//System.out.print(arr[l][c] + &quot; &quot;);\r\n\t\t\t\tsum += arr[l][c];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sum;\r\n\t\r\n\t}\r\n\t\r\n\tpublic static int[][] reverseRow(int[][] arr, int row){\r\n\r\n\t\t// We calculate the sum of the elements at each half of the row\r\n        int firsthalf = 0, secondhalf = 0;\r\n\t\tfor(int i=0;i&lt;arr.length/2;i++) {\r\n\t\t\tfirsthalf += arr[row][i];\r\n\t\t\tsecondhalf += arr[row][arr.length - i -1];\r\n\t\t}\r\n\t\t\r\n        // If the sum of the right half of the row is bigger, we flip the row\r\n        if(firsthalf &lt; secondhalf){\r\n            int start = 0, end = arr.length -1;\r\n\r\n\t\t    while(start &lt; end) {\r\n\t\t\t    int temp = arr[row][start];\r\n\t\t\t    arr[row][start] = arr[row][end];\r\n\t\t\t    arr[row][end] = temp;\r\n\t\t\t\r\n\t\t\t    start++;\r\n\t\t\t    end--;\r\n\t\t    }\r\n        }\r\n\t\t\r\n\t\t\r\n\t\treturn arr;\r\n\t}\r\n\t\r\n\tpublic static int[][] reverseColumn(int[][] arr, int col){\r\n\r\n\t\t// We calculate the sum of the elements at each half of the column\r\n        int firsthalf = 0, secondhalf = 0;\r\n\t\tfor(int i=0;i&lt;arr.length/2;i++) {\r\n\t\t\tfirsthalf += arr[i][col];\r\n\t\t\tsecondhalf += arr[arr.length - i - 1][col];\r\n\t\t}\r\n\r\n        // If the sum of the right half of the row is bigger, we flip the column\r\n        if(firsthalf &lt; secondhalf){\r\n            int start = 0, end = arr.length -1;\r\n\r\n\t\t    while(start &lt; end) {\r\n\t\t\t    int temp = arr[start][col];\r\n\t\t\t    arr[start][col] = arr[end][col];\r\n\t\t\t    arr[end][col] = temp;\r\n\t\t\t\r\n\t\t\t    start++;\r\n\t\t\t    end--;\r\n\t\t    }    \r\n        }\r\n        \r\n\r\n\t\treturn arr;\r\n\t}\r\n\t\r\n\tpublic static int[][] matrixGame(int[][] arr){\r\n\t\tint maxSum = upperLeftSum(arr);\r\n\t\tint[][] maxMatrix = new int[arr.length][arr.length];\r\n\t\t\r\n\t\tfor(int i=0;i&lt;arr.length;i++) {\r\n\t\t\tmaxMatrix[i] = arr[i].clone();\r\n\t\t}\r\n\t\t\r\n\t\tboolean maximal = false;\r\n\t\tint l = 0;\r\n\t\twhile(l&lt;arr.length*2) {\r\n\t\t\tint firsthalf = 0, secondhalf = 0;\r\n\r\n\t\t\t\r\n\t\t\tif(l % 2 == 0){\r\n\t\t\t\tarr = reverseRow(arr, l/2);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tarr = reverseColumn(arr, l/2);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tint sum = upperLeftSum(arr);\r\n\t\t\tif(sum &gt; maxSum) {\r\n\t\t\t\t//System.out.println(sum + &quot; is greater than &quot; + maxSum + &quot;. Therefore, the currently maximized array is&quot;);\r\n\t\t\t\tmaxSum = sum;\r\n\t\t\t\t//maxMatrix = arr.clone();\r\n\t\t\t\tfor(int i=0;i&lt;arr.length;i++) {\r\n\t\t\t\t\tmaxMatrix[i] = arr[i].clone();\r\n\t\t\t\t}\r\n\t\t\t\t//printMatrix(maxMatrix);\r\n\t\t\t\tl=0;\r\n\t\t\t} else {\r\n\t\t\t\tl++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn maxMatrix;\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40205519/largest-sum-of-upper-left-quadrant-of-matrix-that-can-be-formed-by-reversing-row","title":"Flip rows and columns of an array until the sum of the elements in the upper left quadrant is maximal","body":"<p>There is a HackerRank coding challenge on which asks the programmer to find the largest sum of the elements in the upper left quadrant of a matrix by reversing either rows or columns.</p>\n<p><a href=\"https://stackoverflow.com/questions/40205519/largest-sum-of-upper-left-quadrant-of-matrix-that-can-be-formed-by-reversing-row\">Here's a link to a similar post with working answers</a></p>\n<p>I'm trying to actually return the new matrix rather than just the sum. I've come up with something, but I'm not sure if this is the best way to go about it. I could really use some pointers on how to make this better. My algorithm goes something like this</p>\n<ol>\n<li>Calculate the sum of the upper left quadrant</li>\n<li>Clone data of input matrix into a variable &quot;maxMatrix&quot;</li>\n<li>Flip a row</li>\n<li>Check if the current sum &gt; previous sum</li>\n<li>If true, make appropriate changes to maxMatrix</li>\n<li>Flip column</li>\n<li>Repeat steps 4-5</li>\n<li>Repeat until sum is maximal</li>\n</ol>\n<p>The code I came up with looks like this</p>\n<pre><code>public static int upperLeftSum(int[][] arr) {\n        int sum = 0;\n        \n        // Find sum of upper left quadrant\n        for(int l =0;l&lt;arr.length/2;l++) {\n            for(int c= 0;c&lt;arr.length/2;c++) {\n                //System.out.print(arr[l][c] + &quot; &quot;);\n                sum += arr[l][c];\n            }\n        }\n        return sum;\n    \n    }\n    \n    public static int[][] reverseRow(int[][] arr, int row){\n\n        // We calculate the sum of the elements at each half of the row\n        int firsthalf = 0, secondhalf = 0;\n        for(int i=0;i&lt;arr.length/2;i++) {\n            firsthalf += arr[row][i];\n            secondhalf += arr[row][arr.length - i -1];\n        }\n        \n        // If the sum of the right half of the row is bigger, we flip the row\n        if(firsthalf &lt; secondhalf){\n            int start = 0, end = arr.length -1;\n\n            while(start &lt; end) {\n                int temp = arr[row][start];\n                arr[row][start] = arr[row][end];\n                arr[row][end] = temp;\n            \n                start++;\n                end--;\n            }\n        }\n        \n        \n        return arr;\n    }\n    \n    public static int[][] reverseColumn(int[][] arr, int col){\n\n        // We calculate the sum of the elements at each half of the column\n        int firsthalf = 0, secondhalf = 0;\n        for(int i=0;i&lt;arr.length/2;i++) {\n            firsthalf += arr[i][col];\n            secondhalf += arr[arr.length - i - 1][col];\n        }\n\n        // If the sum of the right half of the row is bigger, we flip the column\n        if(firsthalf &lt; secondhalf){\n            int start = 0, end = arr.length -1;\n\n            while(start &lt; end) {\n                int temp = arr[start][col];\n                arr[start][col] = arr[end][col];\n                arr[end][col] = temp;\n            \n                start++;\n                end--;\n            }    \n        }\n        \n\n        return arr;\n    }\n    \n    public static int[][] matrixGame(int[][] arr){\n        int maxSum = upperLeftSum(arr);\n        int[][] maxMatrix = new int[arr.length][arr.length];\n        \n        for(int i=0;i&lt;arr.length;i++) {\n            maxMatrix[i] = arr[i].clone();\n        }\n        \n        boolean maximal = false;\n        int l = 0;\n        while(l&lt;arr.length*2) {\n            int firsthalf = 0, secondhalf = 0;\n\n            \n            if(l % 2 == 0){\n                arr = reverseRow(arr, l/2);\n            }\n            else{\n                arr = reverseColumn(arr, l/2);\n            }\n            \n            int sum = upperLeftSum(arr);\n            if(sum &gt; maxSum) {\n                //System.out.println(sum + &quot; is greater than &quot; + maxSum + &quot;. Therefore, the currently maximized array is&quot;);\n                maxSum = sum;\n                //maxMatrix = arr.clone();\n                for(int i=0;i&lt;arr.length;i++) {\n                    maxMatrix[i] = arr[i].clone();\n                }\n                //printMatrix(maxMatrix);\n                l=0;\n            } else {\n                l++;\n            }\n        }\n        \n        return maxMatrix;\n    }\n</code></pre>\n"},{"tags":["java","testing","matrix","junit","determinants"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1686756509,"post_id":76475129,"comment_id":134843652,"body_markdown":"check the documentation of `assertEquals` - I am pretty sure the first value is the expected one; the second is the *calculated* one (and `(-2 * -3) - (3 * 1) = 6 - 3 = 3` not `9`)","body":"check the documentation of <code>assertEquals</code> - I am pretty sure the first value is the expected one; the second is the <i>calculated</i> one (and <code>(-2 * -3) - (3 * 1) = 6 - 3 = 3</code> not <code>9</code>)"},{"owner":{"account_id":27072453,"reputation":33,"user_id":20622911,"display_name":"cnd"},"score":0,"creation_date":1686756842,"post_id":76475129,"comment_id":134843730,"body_markdown":"That&#39;s right, I just tried it with the 3 and it works, I had put -1 and not 1 in the calculator. I cant believe that was the error...","body":"That&#39;s right, I just tried it with the 3 and it works, I had put -1 and not 1 in the calculator. I cant believe that was the error..."}],"owner":{"account_id":27072453,"reputation":33,"user_id":20622911,"display_name":"cnd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686756056,"creation_date":1686756056,"question_id":76475129,"body_markdown":"I was testing a code to calculate the determinant of a 2x2 matrix. This is the code: \r\n\r\n```\r\npackage maths;\r\n\r\npublic class Matrix {\r\n\r\n    public static int determinant(int[][] matrix){\r\n    \tint result = (matrix[0][0] * matrix[1][1]) - (matrix[0][1] * matrix[1][0]);\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am 99.9% sure that this code is fine, in fact I tried displaying the matrices and results on the screen and they were fine. Then I created this test in another class.\r\n\r\n```\r\npackage maths;\r\n\r\nimport org.junit.Test;\r\nimport static org.junit.Assert.assertEquals;\r\n\r\npublic class SolutionTest {\r\n\t\r\n    @Test\r\n    public void detTest() {\r\n    \tint[][] matrix1 = { { 1, 2 }, { 3, 4 } };\r\n    \tint[][] matrix2 = { { 5, 6 }, { 7, 8 } };\r\n    \tint[][] matrix3 = { { -2, 3 }, { 1, -3 } };\r\n        assertEquals(Matrix.det2(matrix1), -2);\r\n        assertEquals(Matrix.det2(matrix2), -2);\r\n        assertEquals(Matrix.det2(matrix3), 9);\r\n    }\r\n}\r\n```\r\n\r\nI have tried other matrices calculating by hand and in determinant calculators in case I was entering wrong expected solutions but I am not. In fact sometimes I get ```expected&lt;3&gt; but was &lt;9&gt;``` when I have not put 3 in the tests as expected result but 9.","title":"My tests to calculate the determinant of a 2x2 matrix do not work","body":"<p>I was testing a code to calculate the determinant of a 2x2 matrix. This is the code:</p>\n<pre><code>package maths;\n\npublic class Matrix {\n\n    public static int determinant(int[][] matrix){\n        int result = (matrix[0][0] * matrix[1][1]) - (matrix[0][1] * matrix[1][0]);\n        return result;\n    }\n\n}\n</code></pre>\n<p>I am 99.9% sure that this code is fine, in fact I tried displaying the matrices and results on the screen and they were fine. Then I created this test in another class.</p>\n<pre><code>package maths;\n\nimport org.junit.Test;\nimport static org.junit.Assert.assertEquals;\n\npublic class SolutionTest {\n    \n    @Test\n    public void detTest() {\n        int[][] matrix1 = { { 1, 2 }, { 3, 4 } };\n        int[][] matrix2 = { { 5, 6 }, { 7, 8 } };\n        int[][] matrix3 = { { -2, 3 }, { 1, -3 } };\n        assertEquals(Matrix.det2(matrix1), -2);\n        assertEquals(Matrix.det2(matrix2), -2);\n        assertEquals(Matrix.det2(matrix3), 9);\n    }\n}\n</code></pre>\n<p>I have tried other matrices calculating by hand and in determinant calculators in case I was entering wrong expected solutions but I am not. In fact sometimes I get <code>expected&lt;3&gt; but was &lt;9&gt;</code> when I have not put 3 in the tests as expected result but 9.</p>\n"},{"tags":["java","file-io","text-processing"],"comments":[{"owner":{"account_id":1306229,"reputation":1510,"user_id":1255181,"accept_rate":20,"display_name":"Waldemar Wosiński"},"score":1,"creation_date":1359534155,"post_id":9149648,"comment_id":20382316,"body_markdown":"Important question. Such thing gives ability to work with big files with low RAM usage and low IO operations.","body":"Important question. Such thing gives ability to work with big files with low RAM usage and low IO operations."}],"answers":[{"tags":[],"owner":{"account_id":229289,"reputation":8836,"user_id":492158,"display_name":"MForster"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1328449206,"creation_date":1328449206,"answer_id":9149691,"question_id":9149648,"body_markdown":"You could find the beginning of the last line by scanning the file and then truncate it using [`FileChannel.truncate`][1] or [`RandomAccessFile.setLength`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#truncate%28long%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#setLength%28long%29","title":"Deleting the last line of a file with Java","body":"<p>You could find the beginning of the last line by scanning the file and then truncate it using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#truncate%28long%29\"><code>FileChannel.truncate</code></a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#setLength%28long%29\"><code>RandomAccessFile.setLength</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1306229,"reputation":1510,"user_id":1255181,"accept_rate":20,"display_name":"Waldemar Wosiński"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686755753,"creation_date":1349265660,"answer_id":12708069,"question_id":9149648,"body_markdown":"\r\nBy using `RandomAccessFile` you can:\r\n\r\n - find the position of the last new line character. To read the position: **getFilePointer()**. To truncate the file: **setLength(long)**.\r\n - optimization: to read only end of the file use method **seek(long)** to jump ahead. Challenge is to define the jump. \r\n\r\nOtherwise read whole file and store only the last position of the &quot;\\n&quot;. // Unix new line convention\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class TruncateFileExample {\r\n    public static void main(String[] args) {\r\n        String filename = &quot;path/to/your/file.txt&quot;;\r\n\r\n        try (RandomAccessFile raf = new RandomAccessFile(filename, &quot;rw&quot;)) {\r\n            long fileLength = raf.length();\r\n            if (fileLength == 0) {\r\n                // File is empty, nothing to delete\r\n                return;\r\n            }\r\n\r\n            // Start searching for the last newline character from the end of the file\r\n            long position = fileLength - 1;\r\n            raf.seek(position);\r\n\r\n            int lastByte;\r\n            while ((lastByte = raf.read()) != -1) {\r\n                if (lastByte == &#39;\\n&#39;) {\r\n                    // Found the last newline character\r\n                    break;\r\n                }\r\n                position--;\r\n                raf.seek(position);\r\n            }\r\n\r\n            // Truncate the file at the position of the last newline character\r\n            raf.setLength(position);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Deleting the last line of a file with Java","body":"<p>By using <code>RandomAccessFile</code> you can:</p>\n<ul>\n<li>find the position of the last new line character. To read the position: <strong>getFilePointer()</strong>. To truncate the file: <strong>setLength(long)</strong>.</li>\n<li>optimization: to read only end of the file use method <strong>seek(long)</strong> to jump ahead. Challenge is to define the jump.</li>\n</ul>\n<p>Otherwise read whole file and store only the last position of the &quot;\\n&quot;. // Unix new line convention</p>\n<pre><code>import java.io.*;\n\npublic class TruncateFileExample {\n    public static void main(String[] args) {\n        String filename = &quot;path/to/your/file.txt&quot;;\n\n        try (RandomAccessFile raf = new RandomAccessFile(filename, &quot;rw&quot;)) {\n            long fileLength = raf.length();\n            if (fileLength == 0) {\n                // File is empty, nothing to delete\n                return;\n            }\n\n            // Start searching for the last newline character from the end of the file\n            long position = fileLength - 1;\n            raf.seek(position);\n\n            int lastByte;\n            while ((lastByte = raf.read()) != -1) {\n                if (lastByte == '\\n') {\n                    // Found the last newline character\n                    break;\n                }\n                position--;\n                raf.seek(position);\n            }\n\n            // Truncate the file at the position of the last newline character\n            raf.setLength(position);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":249310,"reputation":2533,"user_id":525271,"accept_rate":67,"display_name":"Sergiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9868,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":9149691,"answer_count":2,"score":9,"last_activity_date":1686755753,"creation_date":1328448774,"question_id":9149648,"body_markdown":"I have a `.txt` file, which I want to process in Java. I want to delete its last line.\r\n\r\nI need ideas on how to achieve this without having to copy the entire content into another file and ignoring the last line.  Any suggestions?\r\n","title":"Deleting the last line of a file with Java","body":"<p>I have a <code>.txt</code> file, which I want to process in Java. I want to delete its last line.</p>\n\n<p>I need ideas on how to achieve this without having to copy the entire content into another file and ignoring the last line.  Any suggestions?</p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686795385,"post_id":76475086,"comment_id":134849502,"body_markdown":"Seems like a plugin applied implicitly with the `org.openjfx.javafxplugin` plugin isn&#39;t compatible with your version of Gradle. Try updating that plugin from `0.0.10` to the latest version (`0.0.14` at the time of writing this comment).","body":"Seems like a plugin applied implicitly with the <code>org.openjfx.javafxplugin</code> plugin isn&#39;t compatible with your version of Gradle. Try updating that plugin from <code>0.0.10</code> to the latest version (<code>0.0.14</code> at the time of writing this comment)."}],"owner":{"account_id":21503239,"reputation":1,"user_id":17331937,"display_name":"Metatronix "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686755746,"creation_date":1686755746,"question_id":76475086,"body_markdown":"I&#39;m trying to build a JavaFX application using Gradle. This is my first time using Gradle, so it is a fresh install. Like the title suggests, when I go to build my application, there is a build failure when it gets to the task responsible for creating the start scripts: startScripts.\r\nThe traceback goes as such:\r\n\r\n```\r\nCaused by: java.lang.NoSuchMethodError: &#39;java.lang.String org.gradle.api.tasks.JavaExec.getMain()&#39;\t\r\nat org.javamodularity.moduleplugin.tasks.AbstractExecutionMutator.getMainClassName(AbstractExecutionMutator.java:26)\t\r\nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator.buildStartScriptsJvmArgs(StartScriptsMutator.java:83)\t\r\nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator.configureStartScriptsDoFirst(StartScriptsMutator.java:61)\t\r\nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator$1.execute(StartScriptsMutator.java:42)\t\r\nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator$1.execute(StartScriptsMutator.java:39)\t\r\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:828)\t\r\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:801)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\t\r\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\t\r\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\t\r\nat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\t\r\nat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\t\r\nat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\t\r\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\t\r\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\t\r\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\t\r\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\t\r\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\t\r\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\t\r\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\t\r\nat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\t\r\nat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)\t\r\nat org.gradle.internal.Either$Right.fold(Either.java:175)\t\r\nat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\t\r\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\t\r\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\t\r\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\t\r\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\t\r\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\t\r\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\t\r\nat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\t\r\nat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\t\r\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\t\r\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\t\r\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\t\r\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\t\r\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\t\r\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\t\r\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\t\r\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\t\r\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\t\r\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\t\r\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\t\r\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\t\r\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\t\r\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\t\r\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\t\r\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\t\r\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\t\r\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\t\r\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\t\r\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\t\r\nat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\t\r\nat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\t\r\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\t\r\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\t\r\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\t\r\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\t\r\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\t\r\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\t\r\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\t\r\nat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\t\r\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\t\r\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\t\r\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\t\r\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\t\r\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\t\r\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\t\r\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\t\r\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\t\r\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\t\r\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\t\r\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\t\r\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\t\r\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\t\r\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\t\r\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\t\r\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\t\r\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\t\r\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\t\r\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\t\r\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\n```\r\n\r\nIt should also be mentioned that Gradle is warning me about a deprecation: \r\n```\r\nThe AbstractCompile.destinationDir property has been deprecated.\t\r\nThis is scheduled to be removed in Gradle 9.0.\t\r\nPlease use the destinationDirectory property instead.\r\n```\r\nMy build.gradle file is as follows:\r\n\r\n```\r\nplugins {\r\n  id &#39;application&#39;\r\n  id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n  id &#39;org.beryx.jlink&#39; version &#39;2.24.4&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njavafx {\r\n    version = &quot;20&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;tech.jimothy.InitiativeTracker&#39;\r\n    }\r\n}\r\n\r\napplication {\r\n    mainClass = &quot;tech.jimothy.InitiativeTracker&quot;\r\n    mainModule = &quot;tech.jimothy&quot;\r\n}\r\n\r\njlink {\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;tech.jimothy&#39;\r\n    }\r\n}\r\n```\r\n\r\n&#39;gradle -version&#39; yields:\r\n\r\n```\r\n------------------------------------------------------------\r\nGradle 8.1.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-04-21 12:31:26 UTC\r\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\r\n\r\nKotlin:       1.8.10\r\nGroovy:       3.0.15\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9)\r\nOS:           Linux 6.3.5-arch1-1 amd64\r\n```\r\n\r\n\r\n\r\n\r\nAt first, I thought maybe the deprecation had something to do with it, but the documentation on it wasn&#39;t too clear to me. I am new to the Gradle DSL based on Groovy, so a lot of this is confusing to me. I would really appreciate some guidance with this error. ","title":"Gradle failing to build at startScripts task: java.lang.NoSuchMethodError: &#39;java.lang.String org.gradle.api.tasks.JavaExec.getMain()&#39;","body":"<p>I'm trying to build a JavaFX application using Gradle. This is my first time using Gradle, so it is a fresh install. Like the title suggests, when I go to build my application, there is a build failure when it gets to the task responsible for creating the start scripts: startScripts.\nThe traceback goes as such:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: 'java.lang.String org.gradle.api.tasks.JavaExec.getMain()'  \nat org.javamodularity.moduleplugin.tasks.AbstractExecutionMutator.getMainClassName(AbstractExecutionMutator.java:26)    \nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator.buildStartScriptsJvmArgs(StartScriptsMutator.java:83)  \nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator.configureStartScriptsDoFirst(StartScriptsMutator.java:61)  \nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator$1.execute(StartScriptsMutator.java:42) \nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator$1.execute(StartScriptsMutator.java:39) \nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:828)    \nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:801)    \nat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157) \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)  \nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)  \nat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)  \nat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210) \nat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193) \nat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)    \nat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)    \nat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)  \nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)  \nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157) \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53) \nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73) \nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56) \nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44) \nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67) \nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37) \nat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41) \nat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)   \nat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55) \nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50) \nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28) \nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)   \nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)   \nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)   \nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40) \nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29) \nat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)  \nat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)  \nat org.gradle.internal.Either$Right.fold(Either.java:175)   \nat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)    \nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)   \nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)   \nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36) \nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25) \nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36) \nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22) \nat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)    \nat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)  \nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)   \nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)   \nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)   \nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)   \nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)    \nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)    \nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76) \nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37) \nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)   \nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)   \nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71) \nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45) \nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177) \nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81) \nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53) \nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32) \nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21) \nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)  \nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)   \nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)   \nat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75) \nat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41) \nat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)    \nat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)    \nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30) \nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21) \nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37) \nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27) \nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)   \nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)   \nat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)  \nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)   \nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)  \nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)   \nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)   \nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57) \nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)   \nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)   \nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)   \nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)  \nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157) \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53) \nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73) \nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52) \nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)   \nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)   \nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)   \nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)  \nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)  \nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)   \nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)   \nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)   \nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\n</code></pre>\n<p>It should also be mentioned that Gradle is warning me about a deprecation:</p>\n<pre><code>The AbstractCompile.destinationDir property has been deprecated.    \nThis is scheduled to be removed in Gradle 9.0.  \nPlease use the destinationDirectory property instead.\n</code></pre>\n<p>My build.gradle file is as follows:</p>\n<pre><code>plugins {\n  id 'application'\n  id 'org.openjfx.javafxplugin' version '0.0.10'\n  id 'org.beryx.jlink' version '2.24.4'\n}\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;20&quot;\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'tech.jimothy.InitiativeTracker'\n    }\n}\n\napplication {\n    mainClass = &quot;tech.jimothy.InitiativeTracker&quot;\n    mainModule = &quot;tech.jimothy&quot;\n}\n\njlink {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'tech.jimothy'\n    }\n}\n</code></pre>\n<p>'gradle -version' yields:</p>\n<pre><code>------------------------------------------------------------\nGradle 8.1.1\n------------------------------------------------------------\n\nBuild time:   2023-04-21 12:31:26 UTC\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\n\nKotlin:       1.8.10\nGroovy:       3.0.15\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9)\nOS:           Linux 6.3.5-arch1-1 amd64\n</code></pre>\n<p>At first, I thought maybe the deprecation had something to do with it, but the documentation on it wasn't too clear to me. I am new to the Gradle DSL based on Groovy, so a lot of this is confusing to me. I would really appreciate some guidance with this error.</p>\n"},{"tags":["java","arraylist","java-8"],"comments":[{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":0,"creation_date":1686744409,"post_id":76473282,"comment_id":134840698,"body_markdown":"Please fix your question, your Employee class won&#39;t compile as it has not types for its fields","body":"Please fix your question, your Employee class won&#39;t compile as it has not types for its fields"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686744755,"post_id":76473282,"comment_id":134840793,"body_markdown":"Why is that class called `Components` if it encapsulates *one* entity?","body":"Why is that class called <code>Components</code> if it encapsulates <i>one</i> entity?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686744768,"post_id":76473282,"comment_id":134840796,"body_markdown":"Use a set instead of a list and make equals/hashCode look at empId.","body":"Use a set instead of a list and make equals/hashCode look at empId."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686745937,"post_id":76473282,"comment_id":134841067,"body_markdown":"You still don&#39;t have the right code posted. You can&#39;t &quot;convert&quot; a single employee with a *collection* of the class you wrongly call `Components` since an employee only has one according to your code","body":"You still don&#39;t have the right code posted. You can&#39;t &quot;convert&quot; a single employee with a <i>collection</i> of the class you wrongly call <code>Components</code> since an employee only has one according to your code"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686747684,"creation_date":1686747684,"answer_id":76473880,"question_id":76473282,"body_markdown":"First you should change your expected result, because it contains a collection of elements and not one property twice (hard to perform that in Java):\r\n``` lang-json\r\n{\r\n  &quot;convertedEmployees&quot;: [\r\n    {\r\n      &quot;empId&quot;: 30594,\r\n      &quot;components&quot;: [\r\n        {\r\n          &quot;cmpId&quot;: 1,\r\n          &quot;cmpName&quot;: &quot;ABC&quot;\r\n        },\r\n        {\r\n          &quot;cmpId&quot;: 2,\r\n          &quot;cmpName&quot;: &quot;BCD&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThe Java classes to achieve this (please separate them into individual files,  add annotations as appropriate and set visibility as private as possible):\r\n``` lang-java\r\nclass Root {\r\n  Set&lt;EmployeeConverter&gt; convertedEmployees = new HashSet&lt;&gt;();\r\n}\r\n\r\nclass EmployeeConverter {\r\n  int empId;\r\n  Set&lt;Component&gt; components = new HashSet&lt;&gt;();\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return empId;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (o == null || getClass() != o.getClass()) {\r\n      return false;\r\n    }\r\n    EmployeeConverter employeeConverter = (EmployeeConverter) o;\r\n    return empId == employeeConverter.empId;\r\n  }\r\n}\r\n\r\nclass Component {\r\n  int cmpId;\r\n  String cmpName;\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return cmpId;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (o == null || getClass() != o.getClass()) {\r\n      return false;\r\n    }\r\n    Component component = (Component) o;\r\n    return cmpId == component.cmpId;\r\n  }\r\n}\r\n```\r\n\r\nThe outer `Root` class is necessary because the outer object also has a property `convertedEmployees` that is already a collection. I made all of your collections actually sets because you want to deduplicate contents. For this it is necessary to provide proper `equals` and `hashcode` implementations (they always have to go together) - you can let them generate in most IDEs that are a bit specialized on Java. I distinguished just by the IDs, not by the other content in my implementation, since that&#39;s what seems appropriate for your requirements.\r\n\r\nWhen you now put multiple `Component`s into one `EmployeeConverter` they will automatically be deduplicated. Also when you put multiple `EmployeeConverter`s into the `Root`.\r\n\r\nAs I&#39;m not sure about how you read in the JSON, `Map`s with the ID as key could be better suited instead of the `Set`s.","title":"How to remove the duplicate from inner list","body":"<p>First you should change your expected result, because it contains a collection of elements and not one property twice (hard to perform that in Java):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;convertedEmployees&quot;: [\n    {\n      &quot;empId&quot;: 30594,\n      &quot;components&quot;: [\n        {\n          &quot;cmpId&quot;: 1,\n          &quot;cmpName&quot;: &quot;ABC&quot;\n        },\n        {\n          &quot;cmpId&quot;: 2,\n          &quot;cmpName&quot;: &quot;BCD&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>The Java classes to achieve this (please separate them into individual files,  add annotations as appropriate and set visibility as private as possible):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Root {\n  Set&lt;EmployeeConverter&gt; convertedEmployees = new HashSet&lt;&gt;();\n}\n\nclass EmployeeConverter {\n  int empId;\n  Set&lt;Component&gt; components = new HashSet&lt;&gt;();\n\n  @Override\n  public int hashCode() {\n    return empId;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    EmployeeConverter employeeConverter = (EmployeeConverter) o;\n    return empId == employeeConverter.empId;\n  }\n}\n\nclass Component {\n  int cmpId;\n  String cmpName;\n\n  @Override\n  public int hashCode() {\n    return cmpId;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    Component component = (Component) o;\n    return cmpId == component.cmpId;\n  }\n}\n</code></pre>\n<p>The outer <code>Root</code> class is necessary because the outer object also has a property <code>convertedEmployees</code> that is already a collection. I made all of your collections actually sets because you want to deduplicate contents. For this it is necessary to provide proper <code>equals</code> and <code>hashcode</code> implementations (they always have to go together) - you can let them generate in most IDEs that are a bit specialized on Java. I distinguished just by the IDs, not by the other content in my implementation, since that's what seems appropriate for your requirements.</p>\n<p>When you now put multiple <code>Component</code>s into one <code>EmployeeConverter</code> they will automatically be deduplicated. Also when you put multiple <code>EmployeeConverter</code>s into the <code>Root</code>.</p>\n<p>As I'm not sure about how you read in the JSON, <code>Map</code>s with the ID as key could be better suited instead of the <code>Set</code>s.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686755703,"creation_date":1686755703,"answer_id":76475077,"question_id":76473282,"body_markdown":"You may try library _Josson_ to transform the JSON and remove the duplicate by function `group()`.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;Employee\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\r\n        &quot;      \\&quot;components\\&quot;: {&quot; +\r\n        &quot;        \\&quot;cmpid\\&quot;: 1,&quot; +\r\n        &quot;        \\&quot;cmpName\\&quot;: \\&quot;ABC\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\r\n        &quot;      \\&quot;components\\&quot;: {&quot; +\r\n        &quot;        \\&quot;cmpid\\&quot;: 1,&quot; +\r\n        &quot;        \\&quot;cmpName\\&quot;: \\&quot;ABC\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\r\n        &quot;      \\&quot;components\\&quot;: {&quot; +\r\n        &quot;        \\&quot;cmpid\\&quot;: 2,&quot; +\r\n        &quot;        \\&quot;cmpName\\&quot;: \\&quot;BCD\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(EmployeeConverter:&quot; +\r\n        &quot;        Employee&quot; +\r\n        &quot;        .group(empId,components)&quot; +\r\n        &quot;        .field(components&quot; +\r\n        &quot;               .group(cmpid,cmpName)&quot; +\r\n        &quot;               .field(cmpName[0])&quot; +\r\n        &quot;         )&quot; +\r\n        &quot;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;EmployeeConverter&quot; : [ {\r\n        &quot;empId&quot; : 30594,\r\n        &quot;components&quot; : [ {\r\n          &quot;cmpid&quot; : 1,\r\n          &quot;cmpName&quot; : &quot;ABC&quot;\r\n        }, {\r\n          &quot;cmpid&quot; : 2,\r\n          &quot;cmpName&quot; : &quot;BCD&quot;\r\n        } ]\r\n      } ]\r\n    }\r\n","title":"How to remove the duplicate from inner list","body":"<p>You may try library <em>Josson</em> to transform the JSON and remove the duplicate by function <code>group()</code>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;Employee\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\n    &quot;      \\&quot;components\\&quot;: {&quot; +\n    &quot;        \\&quot;cmpid\\&quot;: 1,&quot; +\n    &quot;        \\&quot;cmpName\\&quot;: \\&quot;ABC\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\n    &quot;      \\&quot;components\\&quot;: {&quot; +\n    &quot;        \\&quot;cmpid\\&quot;: 1,&quot; +\n    &quot;        \\&quot;cmpName\\&quot;: \\&quot;ABC\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\n    &quot;      \\&quot;components\\&quot;: {&quot; +\n    &quot;        \\&quot;cmpid\\&quot;: 2,&quot; +\n    &quot;        \\&quot;cmpName\\&quot;: \\&quot;BCD\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    }&quot; +\n    &quot;  ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;map(EmployeeConverter:&quot; +\n    &quot;        Employee&quot; +\n    &quot;        .group(empId,components)&quot; +\n    &quot;        .field(components&quot; +\n    &quot;               .group(cmpid,cmpName)&quot; +\n    &quot;               .field(cmpName[0])&quot; +\n    &quot;         )&quot; +\n    &quot;)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;EmployeeConverter&quot; : [ {\n    &quot;empId&quot; : 30594,\n    &quot;components&quot; : [ {\n      &quot;cmpid&quot; : 1,\n      &quot;cmpName&quot; : &quot;ABC&quot;\n    }, {\n      &quot;cmpid&quot; : 2,\n      &quot;cmpName&quot; : &quot;BCD&quot;\n    } ]\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76475077,"answer_count":2,"score":0,"last_activity_date":1686755703,"creation_date":1686743794,"question_id":76473282,"body_markdown":"Below is the model class\r\n\r\n``` lang-java\r\npublic class Employee {\r\n    private int empId;\r\n    private Components components;\r\n}\r\n\r\npublic class Components{\r\n    private int cmpid;\r\n    private String cmpName;\r\n}\r\n```\r\nBelow is the Json response which I got from Database\r\n\r\n``` lang-json\r\n{\r\n  &quot;Employee&quot;: [\r\n    {\r\n      &quot;empId&quot;: 30594,      \r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 1,\r\n        &quot;cmpName&quot;: &quot;ABC&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;empId&quot;: 30594,      \r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 1,\r\n        &quot;cmpName&quot;: &quot;ABC&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;empId&quot;: 30594,      \r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 2,\r\n        &quot;cmpName&quot;: &quot;BCD&quot;\r\n      },\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI want to convert in to the below Object (remove the component object if duplicate example componenetid 1 and name ABC )\r\n\r\n``` lang-java\r\npublic class EmployeeConverter {\r\n\r\n    private int employeeID\r\n    List&lt;Components&gt; components\r\n}\r\n```\r\n``` lang-json    \r\n{\r\n  &quot;EmployeeConverter&quot;: [\r\n    {\r\n      &quot;empId&quot;: 30594,      \r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 1,\r\n        &quot;cmpName&quot;: &quot;ABC&quot;\r\n      },\r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 2,\r\n        &quot;cmpName&quot;: &quot;BCD&quot;\r\n      }                \r\n    }\r\n  ]\r\n}\r\n```\r\nI am able to achieve using the for loop by going through each record but just wanted to check if there is there any way to achieve using the java8 ","title":"How to remove the duplicate from inner list","body":"<p>Below is the model class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n    private int empId;\n    private Components components;\n}\n\npublic class Components{\n    private int cmpid;\n    private String cmpName;\n}\n</code></pre>\n<p>Below is the Json response which I got from Database</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Employee&quot;: [\n    {\n      &quot;empId&quot;: 30594,      \n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 1,\n        &quot;cmpName&quot;: &quot;ABC&quot;\n      }\n    },\n    {\n      &quot;empId&quot;: 30594,      \n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 1,\n        &quot;cmpName&quot;: &quot;ABC&quot;\n      }\n    },\n    {\n      &quot;empId&quot;: 30594,      \n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 2,\n        &quot;cmpName&quot;: &quot;BCD&quot;\n      },\n    }\n  ]\n}\n</code></pre>\n<p>I want to convert in to the below Object (remove the component object if duplicate example componenetid 1 and name ABC )</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeConverter {\n\n    private int employeeID\n    List&lt;Components&gt; components\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;EmployeeConverter&quot;: [\n    {\n      &quot;empId&quot;: 30594,      \n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 1,\n        &quot;cmpName&quot;: &quot;ABC&quot;\n      },\n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 2,\n        &quot;cmpName&quot;: &quot;BCD&quot;\n      }                \n    }\n  ]\n}\n</code></pre>\n<p>I am able to achieve using the for loop by going through each record but just wanted to check if there is there any way to achieve using the java8</p>\n"},{"tags":["java","git"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1686748002,"post_id":76472484,"comment_id":134841613,"body_markdown":"_&quot;Git has the function of recording the modification history of files&quot;_ funnily enough it doesn&#39;t. It takes snapshots of files, and the diffs are calculated dynamically.","body":"<i>&quot;Git has the function of recording the modification history of files&quot;</i> funnily enough it doesn&#39;t. It takes snapshots of files, and the diffs are calculated dynamically."},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1686749634,"post_id":76472484,"comment_id":134841983,"body_markdown":"@evolutionxbox Sorry, I misunderstood Git. But if git saves each snapshot, doesn&#39;t it need to consume a lot of storage space?","body":"@evolutionxbox Sorry, I misunderstood Git. But if git saves each snapshot, doesn&#39;t it need to consume a lot of storage space?"},{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1686749785,"post_id":76472484,"comment_id":134842016,"body_markdown":"Not really since it uses very efficient compression algorithms. This is also why we don&#39;t store binaries, or similar files, in git without using git-lfs.","body":"Not really since it uses very efficient compression algorithms. This is also why we don&#39;t store binaries, or similar files, in git without using git-lfs."},{"owner":{"account_id":10847936,"reputation":84922,"user_id":7976758,"display_name":"phd"},"score":0,"creation_date":1686755737,"post_id":76472484,"comment_id":134843482,"body_markdown":"@SageJustus &quot;*…if git saves each snapshot, doesn&#39;t it need to consume a lot of storage space?*&quot; Quite a common misunderstanding. Git actually never saves copies of identical files — it stores references to previous files.","body":"@SageJustus &quot;<i>…if git saves each snapshot, doesn&#39;t it need to consume a lot of storage space?</i>&quot; Quite a common misunderstanding. Git actually never saves copies of identical files — it stores references to previous files."},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1686786262,"post_id":76472484,"comment_id":134848674,"body_markdown":"@phd Are the `identical files` you mean the exact same files? If only one line is different, is it `identical files`?","body":"@phd Are the <code>identical files</code> you mean the exact same files? If only one line is different, is it <code>identical files</code>?"},{"owner":{"account_id":10847936,"reputation":84922,"user_id":7976758,"display_name":"phd"},"score":0,"creation_date":1686805560,"post_id":76472484,"comment_id":134850324,"body_markdown":"@SageJustus No, identical files must be identical. One line different — and Git stores the different files under different addresses in its DB. But again, it employs tricks to lower required disk space. Sometimes it stores full blobs and sometimes it optimizes storage by storing only difference (deltas).","body":"@SageJustus No, identical files must be identical. One line different — and Git stores the different files under different addresses in its DB. But again, it employs tricks to lower required disk space. Sometimes it stores full blobs and sometimes it optimizes storage by storing only difference (deltas)."}],"answers":[{"tags":[],"owner":{"account_id":6540,"reputation":14591,"user_id":11047,"display_name":"Adrian J. Moreno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686755333,"creation_date":1686755333,"answer_id":76475019,"question_id":76472484,"body_markdown":"I think you&#39;re trying to reinvent the wheel here. There is an offering called [GitHub Pages][1], which allows you to create a blog using markdown files. Under the hood, the static site generator https://jekyllrb.com (Ruby) converts the markdown files to HTML. You manage all the blog files with `git`, tracking changes over time of course. Push an update to your production branch, then relative files are generated and pushed live. \r\n\r\nThere&#39;s also a static site generator built with Java called https://jbake.org. You can view the source code for that, which should give you some insight into how to accomplish what you&#39;re describing. \r\n\r\n\r\n  [1]: https://pages.github.com/","title":"How to use git to record the modification history of blog posts in building a blog website?","body":"<p>I think you're trying to reinvent the wheel here. There is an offering called <a href=\"https://pages.github.com/\" rel=\"nofollow noreferrer\">GitHub Pages</a>, which allows you to create a blog using markdown files. Under the hood, the static site generator <a href=\"https://jekyllrb.com\" rel=\"nofollow noreferrer\">https://jekyllrb.com</a> (Ruby) converts the markdown files to HTML. You manage all the blog files with <code>git</code>, tracking changes over time of course. Push an update to your production branch, then relative files are generated and pushed live.</p>\n<p>There's also a static site generator built with Java called <a href=\"https://jbake.org\" rel=\"nofollow noreferrer\">https://jbake.org</a>. You can view the source code for that, which should give you some insight into how to accomplish what you're describing.</p>\n"}],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686755333,"creation_date":1686738016,"question_id":76472484,"body_markdown":"I found out that SO can record the history of modifying questions.\r\n\r\n[![Edit Record Screenshot][1]][1]\r\n\r\nI want to build a blog with a function to view and record the modification history of all blog posts.\r\n\r\nGit has the function of recording the modification history of files.\r\n\r\n**How should I combine Git and Java to achieve this functionality? Or shouldn&#39;t Git be used for this functionality?**\r\n\r\nAny ideas can help me, thanks.\r\n\r\n  [1]: https://i.stack.imgur.com/6jUtO.png","title":"How to use git to record the modification history of blog posts in building a blog website?","body":"<p>I found out that SO can record the history of modifying questions.</p>\n<p><a href=\"https://i.stack.imgur.com/6jUtO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6jUtO.png\" alt=\"Edit Record Screenshot\" /></a></p>\n<p>I want to build a blog with a function to view and record the modification history of all blog posts.</p>\n<p>Git has the function of recording the modification history of files.</p>\n<p><strong>How should I combine Git and Java to achieve this functionality? Or shouldn't Git be used for this functionality?</strong></p>\n<p>Any ideas can help me, thanks.</p>\n"},{"tags":["java","floating-point","double","rounding"],"comments":[{"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"score":0,"creation_date":1332920092,"post_id":9902968,"comment_id":12634790,"body_markdown":"In my case the answer is 0 and not 1 and the last line it is not printing as it breaks the loop there. Here is my output ......\n8.499999999999998 rounded is 8\n7.5 rounded is 8\n7.499999999999999 rounded is 7\n6.5 rounded is 7\n6.499999999999999 rounded is 6\n5.5 rounded is 6\n5.499999999999999 rounded is 5\n4.5 rounded is 5\n4.499999999999999 rounded is 4\n3.5 rounded is 4\n3.4999999999999996 rounded is 3\n2.5 rounded is 3\n2.4999999999999996 rounded is 2\n1.5 rounded is 2\n1.4999999999999998 rounded is 1\n0.5 rounded is 1\n0.49999999999999994 rounded is 0","body":"In my case the answer is 0 and not 1 and the last line it is not printing as it breaks the loop there. Here is my output ...... 8.499999999999998 rounded is 8 7.5 rounded is 8 7.499999999999999 rounded is 7 6.5 rounded is 7 6.499999999999999 rounded is 6 5.5 rounded is 6 5.499999999999999 rounded is 5 4.5 rounded is 5 4.499999999999999 rounded is 4 3.5 rounded is 4 3.4999999999999996 rounded is 3 2.5 rounded is 3 2.4999999999999996 rounded is 2 1.5 rounded is 2 1.4999999999999998 rounded is 1 0.5 rounded is 1 0.49999999999999994 rounded is 0"},{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":1,"creation_date":1332920647,"post_id":9902968,"comment_id":12634957,"body_markdown":"On java 1.7.0 it works ok http://i.imgur.com/hZeqx.png","body":"On java 1.7.0 it works ok <a href=\"http://i.imgur.com/hZeqx.png\" rel=\"nofollow noreferrer\">i.imgur.com/hZeqx.png</a>"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1332921182,"post_id":9902968,"comment_id":12635121,"body_markdown":"@Adel: See my comment on [Oli&#39;s answer](http://stackoverflow.com/a/9903075/157247), looks like Java 6 implements this (and [documents that it does](http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round(double))) in a way that can cause a further loss of precision by adding `0.5` to the number and then using `floor`; Java 7 [no longer documents it that way](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)) (presumably/hopefully because they fixed it).","body":"@Adel: See my comment on <a href=\"http://stackoverflow.com/a/9903075/157247\">Oli&#39;s answer</a>, looks like Java 6 implements this (and <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\">documents that it does</a>) in a way that can cause a further loss of precision by adding <code>0.5</code> to the number and then using <code>floor</code>; Java 7 <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\">no longer documents it that way</a> (presumably/hopefully because they fixed it)."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1332955955,"post_id":9902968,"comment_id":12649090,"body_markdown":"It was a bug in a test program I wrote. ;)","body":"It was a bug in a test program I wrote. ;)"},{"owner":{"account_id":1489317,"reputation":9140,"user_id":1396822,"accept_rate":82,"display_name":"aka.nice"},"score":0,"creation_date":1342002665,"post_id":9902968,"comment_id":15079312,"body_markdown":"Ah good find ! I found another problem of floor(x+0.5) in old Squeak Smalltalk http://bugs.squeak.org/view.php?id=7134","body":"Ah good find ! I found another problem of floor(x+0.5) in old Squeak Smalltalk <a href=\"http://bugs.squeak.org/view.php?id=7134\" rel=\"nofollow noreferrer\">bugs.squeak.org/view.php?id=7134</a>"},{"owner":{"account_id":1038955,"reputation":55573,"user_id":1045444,"accept_rate":89,"display_name":"Somnath Muluk"},"score":0,"creation_date":1472562792,"post_id":9902968,"comment_id":65794028,"body_markdown":"Because [Accuracy_problems](https://en.wikipedia.org/wiki/Floating_point#Accuracy_problems)","body":"Because <a href=\"https://en.wikipedia.org/wiki/Floating_point#Accuracy_problems\" rel=\"nofollow noreferrer\">Accuracy_problems</a>"},{"owner":{"account_id":2796858,"reputation":6358,"user_id":2430669,"display_name":"Micha&#235;l Roy"},"score":1,"creation_date":1512730441,"post_id":9902968,"comment_id":82385582,"body_markdown":"Another example that shows floating point values cannot be taken at face value.","body":"Another example that shows floating point values cannot be taken at face value."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1512732420,"post_id":9902968,"comment_id":82386648,"body_markdown":"@Micha&#235;lRoy esp when work on the edge of it&#39;s accuracy. A favourite example for me is `1.0 % 0.1` is hard to explain.","body":"@Micha&#235;lRoy esp when work on the edge of it&#39;s accuracy. A favourite example for me is <code>1.0 % 0.1</code> is hard to explain."},{"owner":{"account_id":2796858,"reputation":6358,"user_id":2430669,"display_name":"Micha&#235;l Roy"},"score":1,"creation_date":1512735099,"post_id":9902968,"comment_id":82388151,"body_markdown":"After thinking about it.  I don&#39;t see a problem.   0.49999999999999994 is larger than the smallest representable number less than 0.5, and the representation in **decimal human-readable form is itself an approximation** that is trying to fool us.","body":"After thinking about it.  I don&#39;t see a problem.   0.49999999999999994 is larger than the smallest representable number less than 0.5, and the representation in <b>decimal human-readable form is itself an approximation</b> that is trying to fool us."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1512739161,"post_id":9902968,"comment_id":82390419,"body_markdown":"@Micha&#235;lRoy `0.49999999999999994 &lt; 0.5` as `double`s is true. As it is less than 0.5 it should round down.","body":"@Micha&#235;lRoy <code>0.49999999999999994 &lt; 0.5</code> as <code>double</code>s is true. As it is less than 0.5 it should round down."},{"owner":{"account_id":2796858,"reputation":6358,"user_id":2430669,"display_name":"Micha&#235;l Roy"},"score":1,"creation_date":1512740691,"post_id":9902968,"comment_id":82391293,"body_markdown":"I do understand. and the error is half of the precision.  Which is itself half of the precision after a single addition.  This is akin to sampling noise, in a way.","body":"I do understand. and the error is half of the precision.  Which is itself half of the precision after a single addition.  This is akin to sampling noise, in a way."}],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"down_vote_count":4,"up_vote_count":597,"is_accepted":true,"score":593,"last_activity_date":1686754580,"creation_date":1332920281,"answer_id":9903075,"question_id":9902968,"body_markdown":"**Summary**\r\n\r\nIn Java 6 (and presumably earlier), `round(x)` is implemented as `floor(x+0.5)`.&lt;sup&gt;1&lt;/sup&gt;   This is a specification bug, for precisely this one pathological case.&lt;sup&gt;2&lt;/sup&gt;  Java 7 no longer mandates this broken implementation.&lt;sup&gt;3&lt;/sup&gt;\r\n\r\n**The problem**\r\n\r\n0.5+0.49999999999999994 is exactly 1 in double precision:\r\n\r\n    static void print(double d) {\r\n        System.out.printf(&quot;%016x\\n&quot;, Double.doubleToLongBits(d));\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        double a = 0.5;\r\n        double b = 0.49999999999999994;\r\n\r\n        print(a);      // 3fe0000000000000\r\n        print(b);      // 3fdfffffffffffff\r\n        print(a+b);    // 3ff0000000000000\r\n        print(1.0);    // 3ff0000000000000\r\n    }\r\n\r\nThis is because 0.49999999999999994 has a smaller exponent than 0.5, so when they&#39;re added, its mantissa is shifted, and the ULP gets bigger.\r\n\r\n**The solution**\r\n\r\nSince Java 7, OpenJDK (for example) implements it thus:&lt;sup&gt;4&lt;/sup&gt;\r\n\r\n    public static long round(double a) {\r\n        if (a != 0x1.fffffffffffffp-2) // greatest double value less than 0.5\r\n            return (long)floor(a + 0.5d);\r\n        else\r\n            return 0;\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\n&lt;sub&gt;\r\n1. http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round%28double%29\r\n&lt;/sub&gt;\r\n\r\n&lt;sub&gt;\r\n2. https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675 (credits to @SimonNickerson for finding this)\r\n&lt;/sub&gt;\r\n\r\n&lt;sub&gt;\r\n3. http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round%28double%29\r\n&lt;/sub&gt;\r\n\r\n&lt;sub&gt;\r\n4. http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/lang/Math.java#Math.round%28double%29\r\n&lt;/sub&gt;","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p><strong>Summary</strong></p>\n<p>In Java 6 (and presumably earlier), <code>round(x)</code> is implemented as <code>floor(x+0.5)</code>.<sup>1</sup>   This is a specification bug, for precisely this one pathological case.<sup>2</sup>  Java 7 no longer mandates this broken implementation.<sup>3</sup></p>\n<p><strong>The problem</strong></p>\n<p>0.5+0.49999999999999994 is exactly 1 in double precision:</p>\n<pre><code>static void print(double d) {\n    System.out.printf(&quot;%016x\\n&quot;, Double.doubleToLongBits(d));\n}\n\npublic static void main(String args[]) {\n    double a = 0.5;\n    double b = 0.49999999999999994;\n\n    print(a);      // 3fe0000000000000\n    print(b);      // 3fdfffffffffffff\n    print(a+b);    // 3ff0000000000000\n    print(1.0);    // 3ff0000000000000\n}\n</code></pre>\n<p>This is because 0.49999999999999994 has a smaller exponent than 0.5, so when they're added, its mantissa is shifted, and the ULP gets bigger.</p>\n<p><strong>The solution</strong></p>\n<p>Since Java 7, OpenJDK (for example) implements it thus:<sup>4</sup></p>\n<pre><code>public static long round(double a) {\n    if (a != 0x1.fffffffffffffp-2) // greatest double value less than 0.5\n        return (long)floor(a + 0.5d);\n    else\n        return 0;\n}\n</code></pre>\n<hr>\n<sub>\n1. http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round%28double%29\n</sub>\n<sub>\n2. https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675 (credits to @SimonNickerson for finding this)\n</sub>\n<sub>\n3. http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round%28double%29\n</sub>\n<sub>\n4. http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/lang/Math.java#Math.round%28double%29\n</sub>\n"},{"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1510770238,"creation_date":1332920550,"answer_id":9903125,"question_id":9902968,"body_markdown":"I&#39;ve got the same on JDK 1.6 32-bit, but on Java 7 64-bit I&#39;ve got 0 for 0.49999999999999994 which rounded is 0 and the last line is not printed. It seems to be a VM issue, however, using floating points, you should expect the results to differ a bit on various environments (CPU, 32- or 64-bit mode).\r\n\r\nAnd, when using `round` or inverting matrices, etc., these *bits* can make a huge difference.\r\n\r\nx64 output:\r\n\r\n    10.5 rounded is 11\r\n    10.499999999999998 rounded is 10\r\n    9.5 rounded is 10\r\n    9.499999999999998 rounded is 9\r\n    8.5 rounded is 9\r\n    8.499999999999998 rounded is 8\r\n    7.5 rounded is 8\r\n    7.499999999999999 rounded is 7\r\n    6.5 rounded is 7\r\n    6.499999999999999 rounded is 6\r\n    5.5 rounded is 6\r\n    5.499999999999999 rounded is 5\r\n    4.5 rounded is 5\r\n    4.499999999999999 rounded is 4\r\n    3.5 rounded is 4\r\n    3.4999999999999996 rounded is 3\r\n    2.5 rounded is 3\r\n    2.4999999999999996 rounded is 2\r\n    1.5 rounded is 2\r\n    1.4999999999999998 rounded is 1\r\n    0.5 rounded is 1\r\n    0.49999999999999994 rounded is 0\r\n","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>I've got the same on JDK 1.6 32-bit, but on Java 7 64-bit I've got 0 for 0.49999999999999994 which rounded is 0 and the last line is not printed. It seems to be a VM issue, however, using floating points, you should expect the results to differ a bit on various environments (CPU, 32- or 64-bit mode).</p>\n\n<p>And, when using <code>round</code> or inverting matrices, etc., these <em>bits</em> can make a huge difference.</p>\n\n<p>x64 output:</p>\n\n<pre><code>10.5 rounded is 11\n10.499999999999998 rounded is 10\n9.5 rounded is 10\n9.499999999999998 rounded is 9\n8.5 rounded is 9\n8.499999999999998 rounded is 8\n7.5 rounded is 8\n7.499999999999999 rounded is 7\n6.5 rounded is 7\n6.499999999999999 rounded is 6\n5.5 rounded is 6\n5.499999999999999 rounded is 5\n4.5 rounded is 5\n4.499999999999999 rounded is 4\n3.5 rounded is 4\n3.4999999999999996 rounded is 3\n2.5 rounded is 3\n2.4999999999999996 rounded is 2\n1.5 rounded is 2\n1.4999999999999998 rounded is 1\n0.5 rounded is 1\n0.49999999999999994 rounded is 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"down_vote_count":0,"up_vote_count":241,"is_accepted":false,"score":241,"last_activity_date":1686754770,"creation_date":1332921233,"answer_id":9903269,"question_id":9902968,"body_markdown":"This appears to be a known bug (&lt;a href=&quot;https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675&quot;&gt;Java bug 6430675: Math.round has surprising behavior for 0x1.fffffffffffffp-2&lt;/a&gt;) which has been fixed in Java 7.","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>This appears to be a known bug (<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675\" rel=\"nofollow noreferrer\">Java bug 6430675: Math.round has surprising behavior for 0x1.fffffffffffffp-2</a>) which has been fixed in Java 7.</p>\n"},{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1510771311,"creation_date":1332923397,"answer_id":9903777,"question_id":9902968,"body_markdown":"Source code in JDK 6:\r\n\r\n    public static long round(double a) {\r\n        return (long)Math.floor(a + 0.5d);\r\n    }\r\n\r\nSource code in JDK 7:\r\n\r\n    public static long round(double a) {\r\n        if (a != 0x1.fffffffffffffp-2) {\r\n            // a is not the greatest double value less than 0.5\r\n            return (long)Math.floor(a + 0.5d);\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\nWhen the value is 0.49999999999999994d, in JDK 6, it will call **floor** and hence returns 1, but in JDK 7, the `if` condition is checking whether the number is the greatest double value less than 0.5 or not. As in this case the number is not the greatest double value less than 0.5, so the `else` block returns 0.\r\n\r\nYou can try 0.49999999999999999d, which will return 1, but not 0, because this is the greatest double value less than 0.5.\r\n","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>Source code in JDK 6:</p>\n\n<pre><code>public static long round(double a) {\n    return (long)Math.floor(a + 0.5d);\n}\n</code></pre>\n\n<p>Source code in JDK 7:</p>\n\n<pre><code>public static long round(double a) {\n    if (a != 0x1.fffffffffffffp-2) {\n        // a is not the greatest double value less than 0.5\n        return (long)Math.floor(a + 0.5d);\n    } else {\n        return 0;\n    }\n}\n</code></pre>\n\n<p>When the value is 0.49999999999999994d, in JDK 6, it will call <strong>floor</strong> and hence returns 1, but in JDK 7, the <code>if</code> condition is checking whether the number is the greatest double value less than 0.5 or not. As in this case the number is not the greatest double value less than 0.5, so the <code>else</code> block returns 0.</p>\n\n<p>You can try 0.49999999999999999d, which will return 1, but not 0, because this is the greatest double value less than 0.5.</p>\n"},{"tags":[],"owner":{"account_id":953085,"reputation":1269,"user_id":978865,"accept_rate":11,"display_name":"S.P Singh"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1510774314,"creation_date":1370431181,"answer_id":16938560,"question_id":9902968,"body_markdown":"The answer hereafter is an excerpt of an [Oracle][1] [bug report 6430675][2] at. Visit the report for the full explanation.\r\n\r\n**The methods {Math, StrictMath.round are operationally defined as**\r\n\r\n    (long)Math.floor(a + 0.5d)\r\n\r\nfor double arguments. While this definition usually works as expected, it gives the surprising result of 1, rather than 0, for 0x1.fffffffffffffp-2 (0.49999999999999994).\r\n\r\nThe value 0.49999999999999994 is the greatest floating-point value less than 0.5. As a hexadecimal floating-point literal its value is 0x1.fffffffffffffp-2, which is equal to (2 - 2^52) * 2^-2. == (0.5 - 2^54).  Therefore, the exact value of the sum\r\n\r\n    (0.5 - 2^54) + 0.5\r\n\r\nis 1 - 2^54. This is halfway between the two adjacent floating-point numbers (1 - 2^53) and 1. In the IEEE 754 arithmetic round to nearest even rounding mode used by Java, when a floating-point results is inexact, the closer of the two representable floating-point values which bracket the exact result must be returned; if both values are equally close, the one which its last bit zero is returned. In this case the correct return value from the add is 1, not the greatest value less than 1.\r\n\r\nWhile the method is operating as defined, the behavior on this input is very surprising; the specification could be amended to something more like &quot;Round to the closest long, rounding ties up,&quot; which would allow the behavior on this input to be changed.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675\r\n","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>The answer hereafter is an excerpt of an <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"nofollow noreferrer\">Oracle</a> <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675\" rel=\"nofollow noreferrer\">bug report 6430675</a> at. Visit the report for the full explanation.</p>\n<p><strong>The methods {Math, StrictMath.round are operationally defined as</strong></p>\n<pre><code>(long)Math.floor(a + 0.5d)\n</code></pre>\n<p>for double arguments. While this definition usually works as expected, it gives the surprising result of 1, rather than 0, for 0x1.fffffffffffffp-2 (0.49999999999999994).</p>\n<p>The value 0.49999999999999994 is the greatest floating-point value less than 0.5. As a hexadecimal floating-point literal its value is 0x1.fffffffffffffp-2, which is equal to (2 - 2^52) * 2^-2. == (0.5 - 2^54).  Therefore, the exact value of the sum</p>\n<pre><code>(0.5 - 2^54) + 0.5\n</code></pre>\n<p>is 1 - 2^54. This is halfway between the two adjacent floating-point numbers (1 - 2^53) and 1. In the IEEE 754 arithmetic round to nearest even rounding mode used by Java, when a floating-point results is inexact, the closer of the two representable floating-point values which bracket the exact result must be returned; if both values are equally close, the one which its last bit zero is returned. In this case the correct return value from the add is 1, not the greatest value less than 1.</p>\n<p>While the method is operating as defined, the behavior on this input is very surprising; the specification could be amended to something more like &quot;Round to the closest long, rounding ties up,&quot; which would allow the behavior on this input to be changed.</p>\n"}],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78952,"favorite_count":0,"down_vote_count":3,"up_vote_count":593,"accepted_answer_id":9903075,"answer_count":5,"score":590,"last_activity_date":1686754770,"creation_date":1332919827,"question_id":9902968,"body_markdown":"In the following program you can see that each value slightly less than `.5` is rounded down, except for `0.5`.\r\n\r\n    for (int i = 10; i &gt;= 0; i--) {\r\n        long l = Double.doubleToLongBits(i + 0.5);\r\n        double x;\r\n        do {\r\n            x = Double.longBitsToDouble(l);\r\n            System.out.println(x + &quot; rounded is &quot; + Math.round(x));\r\n            l--;\r\n        } while (Math.round(x) &gt; i);\r\n    }\r\n\r\nprints\r\n\r\n    10.5 rounded is 11\r\n    10.499999999999998 rounded is 10\r\n    9.5 rounded is 10\r\n    9.499999999999998 rounded is 9\r\n    8.5 rounded is 9\r\n    8.499999999999998 rounded is 8\r\n    7.5 rounded is 8\r\n    7.499999999999999 rounded is 7\r\n    6.5 rounded is 7\r\n    6.499999999999999 rounded is 6\r\n    5.5 rounded is 6\r\n    5.499999999999999 rounded is 5\r\n    4.5 rounded is 5\r\n    4.499999999999999 rounded is 4\r\n    3.5 rounded is 4\r\n    3.4999999999999996 rounded is 3\r\n    2.5 rounded is 3\r\n    2.4999999999999996 rounded is 2\r\n    1.5 rounded is 2\r\n    1.4999999999999998 rounded is 1\r\n    0.5 rounded is 1\r\n    0.49999999999999994 rounded is 1\r\n    0.4999999999999999 rounded is 0\r\n\r\nI am using Java 6 update 31.\r\n","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>In the following program you can see that each value slightly less than <code>.5</code> is rounded down, except for <code>0.5</code>.</p>\n\n<pre><code>for (int i = 10; i &gt;= 0; i--) {\n    long l = Double.doubleToLongBits(i + 0.5);\n    double x;\n    do {\n        x = Double.longBitsToDouble(l);\n        System.out.println(x + \" rounded is \" + Math.round(x));\n        l--;\n    } while (Math.round(x) &gt; i);\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>10.5 rounded is 11\n10.499999999999998 rounded is 10\n9.5 rounded is 10\n9.499999999999998 rounded is 9\n8.5 rounded is 9\n8.499999999999998 rounded is 8\n7.5 rounded is 8\n7.499999999999999 rounded is 7\n6.5 rounded is 7\n6.499999999999999 rounded is 6\n5.5 rounded is 6\n5.499999999999999 rounded is 5\n4.5 rounded is 5\n4.499999999999999 rounded is 4\n3.5 rounded is 4\n3.4999999999999996 rounded is 3\n2.5 rounded is 3\n2.4999999999999996 rounded is 2\n1.5 rounded is 2\n1.4999999999999998 rounded is 1\n0.5 rounded is 1\n0.49999999999999994 rounded is 1\n0.4999999999999999 rounded is 0\n</code></pre>\n\n<p>I am using Java 6 update 31.</p>\n"},{"tags":["java","java-8","httpurlconnection","http-patch"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686739266,"post_id":76472589,"comment_id":134839602,"body_markdown":"If you got error 405, or any other HTTP status code, it means there is no problem with your client code. The server rejected the verb PATCH. That&#39;s where you need to look. NB &quot;please ignore multiple try/catch block added in above code since it is just TEST code&quot; is not any kind of an excuse. Test code needs to be just as good as production code. Otherwise you&#39;re only testing bugs in the test code. There is no point in writing rubbish in the first place, let alone debugging the rubbish to remove the rubbish that you shouldn&#39;t have written in the first place.","body":"If you got error 405, or any other HTTP status code, it means there is no problem with your client code. The server rejected the verb PATCH. That&#39;s where you need to look. NB &quot;please ignore multiple try/catch block added in above code since it is just TEST code&quot; is not any kind of an excuse. Test code needs to be just as good as production code. Otherwise you&#39;re only testing bugs in the test code. There is no point in writing rubbish in the first place, let alone debugging the rubbish to remove the rubbish that you shouldn&#39;t have written in the first place."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686740334,"post_id":76472589,"comment_id":134839818,"body_markdown":"As @xerx593 says: What happened when you actually used PATCH? And are you certain that the URL you are hitting supports that method?","body":"As @xerx593 says: What happened when you actually used PATCH? And are you certain that the URL you are hitting supports that method?"},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1686743978,"post_id":76472589,"comment_id":134840582,"body_markdown":"Hi @tgdavies \nPlease see updated code by using PATCH method directly and corresponding ERROR Logs too. yes client API only accept PATCH method (works via curl/postman). Let me know if you need anymore info","body":"Hi @tgdavies  Please see updated code by using PATCH method directly and corresponding ERROR Logs too. yes client API only accept PATCH method (works via curl/postman). Let me know if you need anymore info"},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1686744287,"post_id":76472589,"comment_id":134840671,"body_markdown":"Hi @user207421\nAs you suggested remodified code by removing multiple try/catch blocks. That client API only accepts PATCH, not sure why this PATCH request rejected , so after googling added below mentioned lined in code to overcome issue, unfortunately not working even after added below lines...\npatchConnection.setRequestMethod(&quot;POST&quot;);patchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);","body":"Hi @user207421 As you suggested remodified code by removing multiple try/catch blocks. That client API only accepts PATCH, not sure why this PATCH request rejected , so after googling added below mentioned lined in code to overcome issue, unfortunately not working even after added below lines... patchConnection.setRequestMethod(&quot;POST&quot;);patchConnection.set&zwnj;&#8203;RequestProperty(&quot;X-H&zwnj;&#8203;TTP-Method-Override&quot;&zwnj;&#8203;, &quot;PATCH&quot;);"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686745947,"post_id":76472589,"comment_id":134841071,"body_markdown":"I can only repeat. You need to investigate the server. The error message shows that the PATCH got through, so the problem isn&#39;t at the client.","body":"I can only repeat. You need to investigate the server. The error message shows that the PATCH got through, so the problem isn&#39;t at the client."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1686750812,"post_id":76472589,"comment_id":134842295,"body_markdown":"Correct, this jdk version client unfortunately (due to an [outdated restriction](https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/net/HttpURLConnection.java#L314)) doesn&#39;t support this (PATCH) http method. i would not try to hack (method-override), but (with java8) look for an alternative (/3rd party) client or try to upgrade java...","body":"Correct, this jdk version client unfortunately (due to an <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/net/HttpURLConnection.java#L314\" rel=\"nofollow noreferrer\">outdated restriction</a>) doesn&#39;t support this (PATCH) http method. i would not try to hack (method-override), but (with java8) look for an alternative (/3rd party) client or try to upgrade java..."},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1686751366,"post_id":76472589,"comment_id":134842438,"body_markdown":"Hi @xerx593\nThanks for your valuable response. Even tried with &quot;X-HTTP-Method-Override&quot; , seems like not working, what other 3rd party libraries available to send PATCH request?can you suggest some other way in java 8 itself? Note: As told earlier Java upgrade is not possible in my case since there is dependency with Infra","body":"Hi @xerx593 Thanks for your valuable response. Even tried with &quot;X-HTTP-Method-Override&quot; , seems like not working, what other 3rd party libraries available to send PATCH request?can you suggest some other way in java 8 itself? Note: As told earlier Java upgrade is not possible in my case since there is dependency with Infra"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686752601,"post_id":76472589,"comment_id":134842723,"body_markdown":"you tried [this fix](https://stackoverflow.com/a/32503192/592355) (without considering the &quot;server part&quot;:) ...when the server is not under your control (and it doesn&#39;t work out of box), it is waste of time. Alternatively (staying on java8): https://hc.apache.org/index.html seems an &quot;approved oss&quot; choice, as confirmed by [1](https://stackoverflow.com/a/25163132/592355), [2](https://stackoverflow.com/a/46907921/592355). &quot;Hacking client&quot; though seems also quite popular [3](https://stackoverflow.com/a/46323891/592355), [4](https://stackoverflow.com/a/40606633/592355)","body":"you tried <a href=\"https://stackoverflow.com/a/32503192/592355\">this fix</a> (without considering the &quot;server part&quot;:) ...when the server is not under your control (and it doesn&#39;t work out of box), it is waste of time. Alternatively (staying on java8): <a href=\"https://hc.apache.org/index.html\" rel=\"nofollow noreferrer\">hc.apache.org/index.html</a> seems an &quot;approved oss&quot; choice, as confirmed by <a href=\"https://stackoverflow.com/a/25163132/592355\">1</a>, <a href=\"https://stackoverflow.com/a/46907921/592355\">2</a>. &quot;Hacking client&quot; though seems also quite popular <a href=\"https://stackoverflow.com/a/46323891/592355\">3</a>, <a href=\"https://stackoverflow.com/a/40606633/592355\">4</a>"}],"answers":[{"tags":[],"owner":{"account_id":22429349,"reputation":130,"user_id":16635445,"display_name":"evren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686754677,"creation_date":1686754677,"answer_id":76474925,"question_id":76472589,"body_markdown":"&quot;PATCH&quot; is not supported with Java 8 for setRequestedMethod within HttpURLConnection. You can use &quot;POST&quot; instead and set &quot;X-HTTP-Method-Override&quot; header attribute to &quot;PATCH&quot; as a work-around solution.\r\n\r\n    patchConnection.setRequestMethod(&quot;POST&quot;);\r\n    patchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\r\n\r\n","title":"Invalid HTTP method: PATCH in Java 8","body":"<p>&quot;PATCH&quot; is not supported with Java 8 for setRequestedMethod within HttpURLConnection. You can use &quot;POST&quot; instead and set &quot;X-HTTP-Method-Override&quot; header attribute to &quot;PATCH&quot; as a work-around solution.</p>\n<pre><code>patchConnection.setRequestMethod(&quot;POST&quot;);\npatchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\n</code></pre>\n"}],"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686754677,"creation_date":1686738822,"question_id":76472589,"body_markdown":"I am trying to post payload to ClientApp RESTAPI via `PATCH` as `HTTP_METHOD` in Java.\r\n\r\nThere are lot of similar ERROR found in google and got suggestion to use `X-HTTP-Method-Override` header.\r\n\r\nI followed [this blog][1] code base to achieve the same.\r\n\r\n**Java Version:** `1.8.0_171`\r\n\r\nCode:\r\n\r\n    package com.in.Test;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.ProtocolException;\r\n    import java.net.URL;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Base64;\r\n    \r\n    public class ConnectToCorbion {\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\t String PATCH_PARAMS = &quot;[ { \\&quot;op\\&quot;: \\&quot;replace\\&quot;, \\&quot;path\\&quot;: \\&quot;/optionalFields1/text1\\&quot;, \\&quot;value\\&quot;: \\&quot;SR234568\\&quot;, \\&quot;from\\&quot; : \\&quot;string\\&quot; }]&quot;;\r\n    \t\tString my_url = &quot;https://uat.clientapp.com/api/ChangeActivities&quot;;\r\n    \t\tbyte[] patchData       = PATCH_PARAMS.getBytes( StandardCharsets.UTF_8 );\r\n    \t\tURL obj = null;\r\n    \t\t\r\n    \t\t\tSystem.out.println(&quot;BEFORE&quot;);\r\n    \t\t\tobj = new URL(my_url);\r\n    \t\t\tSystem.out.println(&quot;AFTER&quot;);\r\n    \t\r\n    \t\t\r\n    \t\tString username = &quot;username&quot;;\r\n    \t\tString password = &quot;password&quot;;\r\n    \r\n    \t\tHttpURLConnection patchConnection = null;\r\n    \t\r\n    \t\t\tSystem.out.println(&quot;BEFORE openConnection&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tpatchConnection = (HttpURLConnection) obj.openConnection();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;AFTER openConnection&quot;);\r\n    \t\t\tpatchConnection.setRequestMethod(&quot;PATCH&quot;);\r\n    \t\t//patchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tpatchConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \t\tpatchConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json-patch+json&quot;);\r\n    \t\tpatchConnection.setRequestProperty(&quot;messageType&quot;, &quot;application/json-patch+json&quot;);\r\n    \r\n    \t\t// connection code if you are using java 8 or above\r\n    \t\tpatchConnection.setRequestProperty(&quot;Authorization&quot;,\r\n    \t\t    &quot;Basic &quot; + Base64.getEncoder().encodeToString(\r\n    \t\t      (username + &quot;:&quot; + password).getBytes()\r\n    \t\t    )\r\n    \t\t);\r\n    \t\t// connection code if you are using java 8 or above ends here\r\n    \r\n    \t\t\r\n    \r\n    \t\tpatchConnection.setDoOutput(true);\r\n    \t\tOutputStream os = null;\r\n    \t\t\r\n    \t\t\tSystem.out.println(&quot;BEFORE getOutputStream&quot;);\r\n    \t\t\tos = patchConnection.getOutputStream();\r\n    \t\t\tSystem.out.println(&quot;AFTER getOutputStream&quot;);\r\n    \t\t\r\n    \t\r\n    \t\t\tos.write(PATCH_PARAMS.getBytes());\r\n    \t\t\r\n    \t\r\n    \t\t\tos.flush();\r\n    \t\t\r\n    \t\t\tos.close();\r\n    \t\t\r\n    \r\n    \t\tint responseCode = 0;\r\n    \t\t\r\n    \t\t\tresponseCode = patchConnection.getResponseCode();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Response Code :  &quot; + responseCode);\r\n    \r\n    \t\tif (responseCode == HttpURLConnection.HTTP_CREATED) { //success\r\n    \t\t    BufferedReader in = null;\r\n    \t\t\r\n    \t\t\t\tin = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\t\t\tpatchConnection.getInputStream()));\r\n    \t\t\t\r\n    \t\t    String inputLine;\r\n    \t\t    StringBuffer response = new StringBuffer();\r\n    \r\n    \t\t   \r\n    \t\t\t\twhile ((inputLine = in .readLine()) != null) {\r\n    \t\t\t\t    response.append(inputLine);\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\tin .close();\r\n    \t\t\t\r\n    \t\t    System.out.println(response.toString());\r\n    \t\t} else {\r\n    \t\t    System.out.println(&quot;PATCH NOT WORKING&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**ERROR LOG:**\r\n\r\n    BEFORE\r\n    AFTER\r\n    BEFORE openConnection\r\n    AFTER openConnection\r\n    Exception in thread &quot;main&quot; java.net.ProtocolException: Invalid HTTP method: PATCH\r\n    \tat java.net.HttpURLConnection.setRequestMethod(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.setRequestMethod(Unknown Source)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestMethod(Unknown Source)\r\n    \tat com.in.Test.ConnectToCorbion.main(ConnectToCorbion.java:44)\r\n\r\n**Note:** Not able to upgrade Java version as it depends on Organization infra setup.\r\n\r\nHow can i able to achieve this PATCH Request ? Kindly suggest me what went wrong or some other way to achieve the same\r\n\r\n  [1]: https://www.technicalbridge.in/2022/08/how-to-invoke-rest-api-patch-request-with-auth-using-java.html?sc=1686736475347#c1023887268308670265\r\n","title":"Invalid HTTP method: PATCH in Java 8","body":"<p>I am trying to post payload to ClientApp RESTAPI via <code>PATCH</code> as <code>HTTP_METHOD</code> in Java.</p>\n<p>There are lot of similar ERROR found in google and got suggestion to use <code>X-HTTP-Method-Override</code> header.</p>\n<p>I followed <a href=\"https://www.technicalbridge.in/2022/08/how-to-invoke-rest-api-patch-request-with-auth-using-java.html?sc=1686736475347#c1023887268308670265\" rel=\"nofollow noreferrer\">this blog</a> code base to achieve the same.</p>\n<p><strong>Java Version:</strong> <code>1.8.0_171</code></p>\n<p>Code:</p>\n<pre><code>package com.in.Test;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.ProtocolException;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\n\npublic class ConnectToCorbion {\n    \n    \n    \n    public static void main(String[] args) throws IOException {\n        \n         String PATCH_PARAMS = &quot;[ { \\&quot;op\\&quot;: \\&quot;replace\\&quot;, \\&quot;path\\&quot;: \\&quot;/optionalFields1/text1\\&quot;, \\&quot;value\\&quot;: \\&quot;SR234568\\&quot;, \\&quot;from\\&quot; : \\&quot;string\\&quot; }]&quot;;\n        String my_url = &quot;https://uat.clientapp.com/api/ChangeActivities&quot;;\n        byte[] patchData       = PATCH_PARAMS.getBytes( StandardCharsets.UTF_8 );\n        URL obj = null;\n        \n            System.out.println(&quot;BEFORE&quot;);\n            obj = new URL(my_url);\n            System.out.println(&quot;AFTER&quot;);\n    \n        \n        String username = &quot;username&quot;;\n        String password = &quot;password&quot;;\n\n        HttpURLConnection patchConnection = null;\n    \n            System.out.println(&quot;BEFORE openConnection&quot;);\n            try {\n                patchConnection = (HttpURLConnection) obj.openConnection();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            System.out.println(&quot;AFTER openConnection&quot;);\n            patchConnection.setRequestMethod(&quot;PATCH&quot;);\n        //patchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\n        \n        \n        \n        patchConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        patchConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json-patch+json&quot;);\n        patchConnection.setRequestProperty(&quot;messageType&quot;, &quot;application/json-patch+json&quot;);\n\n        // connection code if you are using java 8 or above\n        patchConnection.setRequestProperty(&quot;Authorization&quot;,\n            &quot;Basic &quot; + Base64.getEncoder().encodeToString(\n              (username + &quot;:&quot; + password).getBytes()\n            )\n        );\n        // connection code if you are using java 8 or above ends here\n\n        \n\n        patchConnection.setDoOutput(true);\n        OutputStream os = null;\n        \n            System.out.println(&quot;BEFORE getOutputStream&quot;);\n            os = patchConnection.getOutputStream();\n            System.out.println(&quot;AFTER getOutputStream&quot;);\n        \n    \n            os.write(PATCH_PARAMS.getBytes());\n        \n    \n            os.flush();\n        \n            os.close();\n        \n\n        int responseCode = 0;\n        \n            responseCode = patchConnection.getResponseCode();\n        \n        System.out.println(&quot;Response Code :  &quot; + responseCode);\n\n        if (responseCode == HttpURLConnection.HTTP_CREATED) { //success\n            BufferedReader in = null;\n        \n                in = new BufferedReader(new InputStreamReader(\n                        patchConnection.getInputStream()));\n            \n            String inputLine;\n            StringBuffer response = new StringBuffer();\n\n           \n                while ((inputLine = in .readLine()) != null) {\n                    response.append(inputLine);\n                }\n            \n                in .close();\n            \n            System.out.println(response.toString());\n        } else {\n            System.out.println(&quot;PATCH NOT WORKING&quot;);\n        }\n        \n    }\n\n}\n</code></pre>\n<p><strong>ERROR LOG:</strong></p>\n<pre><code>BEFORE\nAFTER\nBEFORE openConnection\nAFTER openConnection\nException in thread &quot;main&quot; java.net.ProtocolException: Invalid HTTP method: PATCH\n    at java.net.HttpURLConnection.setRequestMethod(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.setRequestMethod(Unknown Source)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestMethod(Unknown Source)\n    at com.in.Test.ConnectToCorbion.main(ConnectToCorbion.java:44)\n</code></pre>\n<p><strong>Note:</strong> Not able to upgrade Java version as it depends on Organization infra setup.</p>\n<p>How can i able to achieve this PATCH Request ? Kindly suggest me what went wrong or some other way to achieve the same</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":458111,"reputation":397,"user_id":4693472,"display_name":"Laurent G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686754529,"creation_date":1686754359,"question_id":76474859,"body_markdown":"I got a Spring based (boot 2.4.13 &amp; integration 5.4.12) project and aside it another Spring based project that uses some of its code.\r\n\r\nMy problem is that using jars of the first project with a main class from the second, the run fails with a missing dependency diagnostic.\r\n\r\nFunny enough, if I unzip the jars, each in its (new clean) directory and replace its place in the classpath with the unjarred/unzipped directory, it falls into functioning, not failing with missing dependency.\r\n\r\nI checked that unzip -l and find in the unjarred top directory both list .class files in the same order. Same thing for *.properties files that are not pom.properties.\r\n\r\nSo I can not explain the difference in behaviour by plain order between classes nor configuration properties files.\r\n\r\nSo I wonder : is there something done differently (and on purpose) by Spring when classes come from a jar or could it be a lack of luck that directories and pom.properties files order has mattered ?","title":"What would explain Spring Boot behaviour change between jars and plain directories","body":"<p>I got a Spring based (boot 2.4.13 &amp; integration 5.4.12) project and aside it another Spring based project that uses some of its code.</p>\n<p>My problem is that using jars of the first project with a main class from the second, the run fails with a missing dependency diagnostic.</p>\n<p>Funny enough, if I unzip the jars, each in its (new clean) directory and replace its place in the classpath with the unjarred/unzipped directory, it falls into functioning, not failing with missing dependency.</p>\n<p>I checked that unzip -l and find in the unjarred top directory both list .class files in the same order. Same thing for *.properties files that are not pom.properties.</p>\n<p>So I can not explain the difference in behaviour by plain order between classes nor configuration properties files.</p>\n<p>So I wonder : is there something done differently (and on purpose) by Spring when classes come from a jar or could it be a lack of luck that directories and pom.properties files order has mattered ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9623,"page":369,"page_size":100}
