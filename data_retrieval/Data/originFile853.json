{"items":[{"tags":["java","nlp","pos-tagger","part-of-speech"],"comments":[{"owner":{"account_id":43694,"reputation":2250,"user_id":127839,"accept_rate":100,"display_name":"Oliver Mason"},"score":0,"creation_date":1646230967,"post_id":71321745,"comment_id":126071797,"body_markdown":"What do you mean by &#39;outdated&#39;? German morphology isn&#39;t changing that quickly.","body":"What do you mean by &#39;outdated&#39;? German morphology isn&#39;t changing that quickly."},{"owner":{"account_id":15667436,"reputation":13,"user_id":11304860,"display_name":"MK2112"},"score":0,"creation_date":1646233213,"post_id":71321745,"comment_id":126072822,"body_markdown":"@OliverMason Correct. The morphology isn&#39;t outdated, but the RFTagger itself is. I tested it and it does not work with Java 8 or above as it was written in Java 6. (the dependency com.sun.jna.NativeLibrary throws an UnsatisfiedLinkError)","body":"@OliverMason Correct. The morphology isn&#39;t outdated, but the RFTagger itself is. I tested it and it does not work with Java 8 or above as it was written in Java 6. (the dependency com.sun.jna.NativeLibrary throws an UnsatisfiedLinkError)"},{"owner":{"account_id":43694,"reputation":2250,"user_id":127839,"accept_rate":100,"display_name":"Oliver Mason"},"score":0,"creation_date":1646236086,"post_id":71321745,"comment_id":126074158,"body_markdown":"You can download the source code from that page, apparently with Linux binaries (not sure if they would still work); if all fails, just ask the author...","body":"You can download the source code from that page, apparently with Linux binaries (not sure if they would still work); if all fails, just ask the author..."},{"owner":{"account_id":15667436,"reputation":13,"user_id":11304860,"display_name":"MK2112"},"score":0,"creation_date":1646580269,"post_id":71321745,"comment_id":126153657,"body_markdown":"@OliverMason Correct, there is a download link. However the downloadable version is in Beta and only for Java 6. Asking the author is an interesting option, but I wanted to look out for available, Java 8+ compatible POS Taggers with RFTagger&#39;s capability first.","body":"@OliverMason Correct, there is a download link. However the downloadable version is in Beta and only for Java 6. Asking the author is an interesting option, but I wanted to look out for available, Java 8+ compatible POS Taggers with RFTagger&#39;s capability first."}],"owner":{"account_id":15667436,"reputation":13,"user_id":11304860,"display_name":"MK2112"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669500791,"creation_date":1646219804,"question_id":71321745,"body_markdown":"The [RFTagger](https://www.cis.uni-muenchen.de/~schmid/tools/RFTagger/) is a Part-Of-Speech Tagger with very detailed tags for german words.\r\n\r\nAccording to their website, output looks like this:\r\n\r\n|word|part of speech|\r\n|--|--|\r\n|Das|`PRO.Dem.Subst.-3.Nom.Sg.Neut`|\r\n|ist|`VFIN.Sein.3.Sg.Pres.Ind`|\r\n|ein|`ART.Indef.Nom.Sg.Masc`|\r\n|Test|`N.Reg.Nom.Sg.Masc`|\r\n|.|`SYM.Pun.Sent`|\r\n\r\n**The tags contain information about the respective word&#39;s declension. This information is what I need.**&lt;br&gt;However the [RFTagger](https://www.cis.uni-muenchen.de/~schmid/tools/RFTagger/) is pretty outdated (available [here](http://sifnos.sfs.uni-tuebingen.de/resource/A4/rftj/) as Beta for Java 6).\r\n\r\nIs there any alternative POSTagger out there that is able to give me the declension of a german word?\r\n","title":"POS Tagger for declension of german words in Java","body":"<p>The <a href=\"https://www.cis.uni-muenchen.de/%7Eschmid/tools/RFTagger/\" rel=\"nofollow noreferrer\">RFTagger</a> is a Part-Of-Speech Tagger with very detailed tags for german words.</p>\n<p>According to their website, output looks like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>word</th>\n<th>part of speech</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Das</td>\n<td><code>PRO.Dem.Subst.-3.Nom.Sg.Neut</code></td>\n</tr>\n<tr>\n<td>ist</td>\n<td><code>VFIN.Sein.3.Sg.Pres.Ind</code></td>\n</tr>\n<tr>\n<td>ein</td>\n<td><code>ART.Indef.Nom.Sg.Masc</code></td>\n</tr>\n<tr>\n<td>Test</td>\n<td><code>N.Reg.Nom.Sg.Masc</code></td>\n</tr>\n<tr>\n<td>.</td>\n<td><code>SYM.Pun.Sent</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>The tags contain information about the respective word's declension. This information is what I need.</strong><br>However the <a href=\"https://www.cis.uni-muenchen.de/%7Eschmid/tools/RFTagger/\" rel=\"nofollow noreferrer\">RFTagger</a> is pretty outdated (available <a href=\"http://sifnos.sfs.uni-tuebingen.de/resource/A4/rftj/\" rel=\"nofollow noreferrer\">here</a> as Beta for Java 6).</p>\n<p>Is there any alternative POSTagger out there that is able to give me the declension of a german word?</p>\n"},{"tags":["java","xml","dom","jaxb","sax"],"comments":[{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1669492810,"post_id":74585189,"comment_id":131654458,"body_markdown":"Please show code of  DtoPerson.","body":"Please show code of  DtoPerson."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669500523,"creation_date":1669500523,"answer_id":74585936,"question_id":74585189,"body_markdown":"You need to add annotation @XmlAttribute to affected fields in DtoPerson. ","title":"How could i create a XML file using my java object and set the specific format for this XML file?","body":"<p>You need to add annotation @XmlAttribute to affected fields in DtoPerson.</p>\n"}],"owner":{"account_id":22648788,"reputation":11,"user_id":16823780,"display_name":"Dudka Dima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74585936,"answer_count":1,"score":-1,"last_activity_date":1669500523,"creation_date":1669492506,"question_id":74585189,"body_markdown":"I have to create an XML file from java object with specific format of my XML file. \r\n\r\nMy xml should look like this.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persons&gt;\r\n    &lt;person\r\n            name=&quot;Nick&quot;\r\n            birthday = &quot;09.03.1814&quot;/&gt;\r\n&lt;/persons&gt;\r\n```\r\nOr like this one.\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persons&gt;\r\n    &lt;person surname=&quot;Sd&quot; name=&quot;aaa&quot; birthday = &quot;09.03.1814&quot;/&gt;\r\n&lt;/persons&gt;\r\n```\r\n Depends on old format of xml. How could i do this?\r\n Thanks!\r\n\r\n\r\nI&#39;ve try to use this code for creating xml \r\n\r\n\r\n```\r\npublic static void createNewXml(List&lt;Person&gt; persons) {\r\n    List&lt;DtoPerson&gt; dtoPersonList = new ArrayList&lt;&gt;();\r\n    for (Person person : persons) {\r\n        dtoPersonList.add(new DtoPerson(person));\r\n    }\r\n    try {\r\n        JAXBContext jaxbContext =  JAXBContext.newInstance(DtoPerson.class);\r\n        Marshaller marshaller = jaxbContext.createMarshaller();\r\n        File file = new File(&quot;personx.xml&quot;);\r\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\r\n        for(DtoPerson personDto : dtoPersonList) {\r\n            marshaller.marshal(personDto, file);\r\n        }\r\n\r\n    } catch (JAXBException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n    System.out.println(Arrays.toString(dtoPersonList.toArray()));\r\n}\r\n```\r\n\r\nBut this code create an xml with other format \r\n\r\n```\r\n&lt;dtoPerson&gt;\r\n    &lt;birthday&gt;09.03.1814&lt;/birthday&gt;\r\n    &lt;name&gt;aaa Sd&lt;/name&gt;\r\n&lt;/dtoPerson&gt;\r\n```\r\n","title":"How could i create a XML file using my java object and set the specific format for this XML file?","body":"<p>I have to create an XML file from java object with specific format of my XML file.</p>\n<p>My xml should look like this.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persons&gt;\n    &lt;person\n            name=&quot;Nick&quot;\n            birthday = &quot;09.03.1814&quot;/&gt;\n&lt;/persons&gt;\n</code></pre>\n<p>Or like this one.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persons&gt;\n    &lt;person surname=&quot;Sd&quot; name=&quot;aaa&quot; birthday = &quot;09.03.1814&quot;/&gt;\n&lt;/persons&gt;\n</code></pre>\n<p>Depends on old format of xml. How could i do this?\nThanks!</p>\n<p>I've try to use this code for creating xml</p>\n<pre><code>public static void createNewXml(List&lt;Person&gt; persons) {\n    List&lt;DtoPerson&gt; dtoPersonList = new ArrayList&lt;&gt;();\n    for (Person person : persons) {\n        dtoPersonList.add(new DtoPerson(person));\n    }\n    try {\n        JAXBContext jaxbContext =  JAXBContext.newInstance(DtoPerson.class);\n        Marshaller marshaller = jaxbContext.createMarshaller();\n        File file = new File(&quot;personx.xml&quot;);\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\n        for(DtoPerson personDto : dtoPersonList) {\n            marshaller.marshal(personDto, file);\n        }\n\n    } catch (JAXBException e) {\n        throw new RuntimeException(e);\n    }\n    System.out.println(Arrays.toString(dtoPersonList.toArray()));\n}\n</code></pre>\n<p>But this code create an xml with other format</p>\n<pre><code>&lt;dtoPerson&gt;\n    &lt;birthday&gt;09.03.1814&lt;/birthday&gt;\n    &lt;name&gt;aaa Sd&lt;/name&gt;\n&lt;/dtoPerson&gt;\n</code></pre>\n"},{"tags":["java","jmeter","windows-10"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658996879,"creation_date":1658996879,"answer_id":73149574,"question_id":73149454,"body_markdown":"I don&#39;t think it&#39;s connected with JMeter by any means, most probably it&#39;s some form of [antivirus software][1] which prevents clipboard actions somehow. \r\n\r\nYou can try [increasing JMeter&#39;s logging verbosity to DEBUG level][2] just in case and see if there are any suspicious entries in [jmeter.log file][3], however I&#39;m more than sure that the behaviour is caused by some 3rd-party software running on your laptop, if it&#39;s not the antivirus it could be something like [WRITEit application][4] so do a [clean boot][5] and the issue will go away and then add the startup programs and start services one by one unless you detect the one which causes this problem \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Antivirus_software\r\n  [2]: https://www.blazemeter.com/blog/jmeter-logging\r\n  [3]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [4]: https://writeit.en.softonic.com/\r\n  [5]: https://support.microsoft.com/en-us/topic/how-to-perform-a-clean-boot-in-windows-da2f9573-6eec-00ad-2f8a-a97a1807f3dd","title":"JMeter can&#39;t copy-paste to and from JMeter and Windows 10","body":"<p>I don't think it's connected with JMeter by any means, most probably it's some form of <a href=\"https://en.wikipedia.org/wiki/Antivirus_software\" rel=\"nofollow noreferrer\">antivirus software</a> which prevents clipboard actions somehow.</p>\n<p>You can try <a href=\"https://www.blazemeter.com/blog/jmeter-logging\" rel=\"nofollow noreferrer\">increasing JMeter's logging verbosity to DEBUG level</a> just in case and see if there are any suspicious entries in <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a>, however I'm more than sure that the behaviour is caused by some 3rd-party software running on your laptop, if it's not the antivirus it could be something like <a href=\"https://writeit.en.softonic.com/\" rel=\"nofollow noreferrer\">WRITEit application</a> so do a <a href=\"https://support.microsoft.com/en-us/topic/how-to-perform-a-clean-boot-in-windows-da2f9573-6eec-00ad-2f8a-a97a1807f3dd\" rel=\"nofollow noreferrer\">clean boot</a> and the issue will go away and then add the startup programs and start services one by one unless you detect the one which causes this problem</p>\n"},{"tags":[],"owner":{"account_id":14390736,"reputation":129,"user_id":10395384,"display_name":"Ivan Markov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659007909,"creation_date":1659007909,"answer_id":73152166,"question_id":73149454,"body_markdown":"I find the solution.  \r\n@Dmitri T was right. The issue appears because of antivirus protection. The fix was to run the jmeter.bat file as an administrator.","title":"JMeter can&#39;t copy-paste to and from JMeter and Windows 10","body":"<p>I find the solution.<br />\n@Dmitri T was right. The issue appears because of antivirus protection. The fix was to run the jmeter.bat file as an administrator.</p>\n"},{"tags":[],"owner":{"account_id":24649743,"reputation":11,"user_id":18546972,"display_name":"Artyom Potapov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669500107,"creation_date":1669499553,"answer_id":74585844,"question_id":73149454,"body_markdown":"I had the same problem with JMeter 5.5 when I had changed Option-&gt;LookAndFeel-&gt;&quot;Metal&quot;. Then I returned back to &quot;System&quot; and the problem had gone. Now copy-paste are working well.","title":"JMeter can&#39;t copy-paste to and from JMeter and Windows 10","body":"<p>I had the same problem with JMeter 5.5 when I had changed Option-&gt;LookAndFeel-&gt;&quot;Metal&quot;. Then I returned back to &quot;System&quot; and the problem had gone. Now copy-paste are working well.</p>\n"}],"owner":{"account_id":14390736,"reputation":129,"user_id":10395384,"display_name":"Ivan Markov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669500107,"creation_date":1658996284,"question_id":73149454,"body_markdown":"I met a bizarre issue on my working laptop. Usually, I use my desktop PC for work, but I am in the office today. I am using my working laptop. For some reason, I cannot copy from Windows 10 to JMeter and from JMeter to Windows 10. For example, I am using Notepad++ for creating test cases for interface testing. I am trying to copy-paste from Notepad++ to JMeter. It is not possible.\r\n\r\nSomething that is very strange for me is that JMeter window has some strange green line at the edge of the window.\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nI am using JMeter version 5.5  \r\nWindows 10 - 64 bit  \r\nI tried with JDK 17.0.1 and JDK 1.8_202 (because I wasn&#39;t sure if the issue came from Java at all)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ia0Kp.png\r\n  [2]: https://i.stack.imgur.com/nnQDQ.png","title":"JMeter can&#39;t copy-paste to and from JMeter and Windows 10","body":"<p>I met a bizarre issue on my working laptop. Usually, I use my desktop PC for work, but I am in the office today. I am using my working laptop. For some reason, I cannot copy from Windows 10 to JMeter and from JMeter to Windows 10. For example, I am using Notepad++ for creating test cases for interface testing. I am trying to copy-paste from Notepad++ to JMeter. It is not possible.</p>\n<p>Something that is very strange for me is that JMeter window has some strange green line at the edge of the window.\n<a href=\"https://i.stack.imgur.com/Ia0Kp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ia0Kp.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/nnQDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nnQDQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using JMeter version 5.5<br />\nWindows 10 - 64 bit<br />\nI tried with JDK 17.0.1 and JDK 1.8_202 (because I wasn't sure if the issue came from Java at all)</p>\n"},{"tags":["java","string","stack"],"answers":[{"tags":[],"owner":{"account_id":4531172,"reputation":379,"user_id":3681614,"display_name":"S. Miller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669495403,"creation_date":1669495403,"answer_id":74585464,"question_id":74585438,"body_markdown":"Before your loop, you need to create your stack like \r\n`Stack&lt;String&gt; wordStack = new Stack&lt;String&gt;();`\r\n\r\nYou would do your current push operations on `wordStack,` and then you would pop in your second loop as you would expect.\r\n\r\nYou got very close.\r\n","title":"Need help reading through my String to push to Stack","body":"<p>Before your loop, you need to create your stack like\n<code>Stack&lt;String&gt; wordStack = new Stack&lt;String&gt;();</code></p>\n<p>You would do your current push operations on <code>wordStack,</code> and then you would pop in your second loop as you would expect.</p>\n<p>You got very close.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669499729,"creation_date":1669496939,"answer_id":74585595,"question_id":74585438,"body_markdown":"You were thinking in the right direction: you do need one more loop to empty out the stack when the end of a sentence has been encountered, and you need some mean of storing the data (*it could be an* `ArrayList`*, or a* `StringBuilder`).\r\n\r\nI would use a [`StringBuilder`][stringBuilder] to store reversed sentences.\r\n\r\nThe logic of generating a reversed sentence by retrieving the elements from the stack can be extracted into a separate method. In a nutshell, it&#39;s `while`-loop that runs until the stack is not empty. To join the string back into a sentence, I would use a [`StringJoiner`][stringJoiner] which facilitates combining the strings using a specified delimiter (*feel free to reimplement this logic as you see fit, the point of this answer is to explain the algorithm and provide a source of inspiration rather than be a ready to go copy-past solution, for instance, you can use two* `StringJoiner`s *instead of the combination* `StringJoiner` + `StringBuilder`*, I&#39;ve only shown one possibility*).\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static String reverseSentences(String[] wordArray) {\r\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n        StringBuilder reversedSentences = new StringBuilder();\r\n        \r\n        for (String word : wordArray) {\r\n            if (word.endsWith(&quot;.&quot;)) {\r\n                \r\n                stack.push(word.substring(0, word.length() - 1));\r\n                \r\n                reversedSentences\r\n                    .append(createSentence(stack)) // appending the reversed sentence\r\n                    .append(&quot;. &quot;);                 // adding a period and a white space at the end of the sentence\r\n\r\n            } else {\r\n                stack.push(word);\r\n            }\r\n        }\r\n        return reversedSentences.toString();\r\n    }\r\n    \r\n    public static String createSentence(Stack&lt;String&gt; stack) {\r\n        StringJoiner sentence = new StringJoiner(&quot; &quot;); // white space would be used a delimiter between the words\r\n        while (!stack.isEmpty()) {\r\n            sentence.add(stack.pop());\r\n        }\r\n        return sentence.toString();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(reverseSentences(&quot;Cats are cool. Dogs are cool. So are turtles.&quot;.split(&quot; &quot;)));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\ncool are Cats. cool are Dogs. turtles are So.\r\n```\r\n\r\n\r\n\r\n   [stringBuilder]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html\r\n\r\n   [stringJoiner]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html","title":"Need help reading through my String to push to Stack","body":"<p>You were thinking in the right direction: you do need one more loop to empty out the stack when the end of a sentence has been encountered, and you need some mean of storing the data (<em>it could be an</em> <code>ArrayList</code><em>, or a</em> <code>StringBuilder</code>).</p>\n<p>I would use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a> to store reversed sentences.</p>\n<p>The logic of generating a reversed sentence by retrieving the elements from the stack can be extracted into a separate method. In a nutshell, it's <code>while</code>-loop that runs until the stack is not empty. To join the string back into a sentence, I would use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a> which facilitates combining the strings using a specified delimiter (<em>feel free to reimplement this logic as you see fit, the point of this answer is to explain the algorithm and provide a source of inspiration rather than be a ready to go copy-past solution, for instance, you can use two</em> <code>StringJoiner</code>s <em>instead of the combination</em> <code>StringJoiner</code> + <code>StringBuilder</code><em>, I've only shown one possibility</em>).</p>\n<p>That's how it might be implemented:</p>\n<pre><code>public static String reverseSentences(String[] wordArray) {\n    Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n    StringBuilder reversedSentences = new StringBuilder();\n    \n    for (String word : wordArray) {\n        if (word.endsWith(&quot;.&quot;)) {\n            \n            stack.push(word.substring(0, word.length() - 1));\n            \n            reversedSentences\n                .append(createSentence(stack)) // appending the reversed sentence\n                .append(&quot;. &quot;);                 // adding a period and a white space at the end of the sentence\n\n        } else {\n            stack.push(word);\n        }\n    }\n    return reversedSentences.toString();\n}\n\npublic static String createSentence(Stack&lt;String&gt; stack) {\n    StringJoiner sentence = new StringJoiner(&quot; &quot;); // white space would be used a delimiter between the words\n    while (!stack.isEmpty()) {\n        sentence.add(stack.pop());\n    }\n    return sentence.toString();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(reverseSentences(&quot;Cats are cool. Dogs are cool. So are turtles.&quot;.split(&quot; &quot;)));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>cool are Cats. cool are Dogs. turtles are So.\n</code></pre>\n"}],"owner":{"account_id":26809631,"reputation":21,"user_id":20400438,"display_name":"ScarletCas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74585595,"answer_count":2,"score":1,"last_activity_date":1669499729,"creation_date":1669494959,"question_id":74585438,"body_markdown":"Hello and thank you for reading. I have written a program to reverse the words in a string using a stack. I am to use 3 sentences and reverse each sentence separately. I have been able to reverse the entire string, which wasn&#39;t an issue. Then I changed my program so I am reading to the period and reversing the first sentence. However, I can&#39;t get it to read the next sentence. I believe I need a second loop but this is where I struggle. There are several questions/answers on this site that address this assignment, but none that have really taken the approach I have so they aren&#39;t relevant. At least, not from what I can tell. This is what I have:\r\n   \r\n    for (String word : wordArray) {\r\n        if (word.endsWith(&quot;.&quot;) {\r\n            Stack.push(word.substring(0, word.length()-1));\r\n            break;\r\n        }\r\n        else {\r\n            Stack.push(word);\r\n        }\r\n    }\r\n\r\nSo my sentences are: &quot;Cats are cool. Dogs are cool. So are turtles.&quot; My program will print:\r\n&quot;cool are Cats&quot;\r\nI know I need to append a period and I can figure that out later. I&#39;m just struggling with how to create a second loop to continue reading the rest of the string.\r\nWhat I need is: &quot;cool are Cats. cool are Dogs. turtles are So.&quot;","title":"Need help reading through my String to push to Stack","body":"<p>Hello and thank you for reading. I have written a program to reverse the words in a string using a stack. I am to use 3 sentences and reverse each sentence separately. I have been able to reverse the entire string, which wasn't an issue. Then I changed my program so I am reading to the period and reversing the first sentence. However, I can't get it to read the next sentence. I believe I need a second loop but this is where I struggle. There are several questions/answers on this site that address this assignment, but none that have really taken the approach I have so they aren't relevant. At least, not from what I can tell. This is what I have:</p>\n<pre><code>for (String word : wordArray) {\n    if (word.endsWith(&quot;.&quot;) {\n        Stack.push(word.substring(0, word.length()-1));\n        break;\n    }\n    else {\n        Stack.push(word);\n    }\n}\n</code></pre>\n<p>So my sentences are: &quot;Cats are cool. Dogs are cool. So are turtles.&quot; My program will print:\n&quot;cool are Cats&quot;\nI know I need to append a period and I can figure that out later. I'm just struggling with how to create a second loop to continue reading the rest of the string.\nWhat I need is: &quot;cool are Cats. cool are Dogs. turtles are So.&quot;</p>\n"},{"tags":["java","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1669511250,"post_id":74585857,"comment_id":131657213,"body_markdown":"If you&#39;re using Maven&#39;s/Gradle&#39;s standard directory layout (i.e., `src/main/java` and `src/main/resources`), then `resources` should never be part of the resource path (the argument to `getResource(...)`).","body":"If you&#39;re using Maven&#39;s/Gradle&#39;s standard directory layout (i.e., <code>src&#47;main&#47;java</code> and <code>src&#47;main&#47;resources</code>), then <code>resources</code> should never be part of the resource path (the argument to <code>getResource(...)</code>)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1669517726,"post_id":74585857,"comment_id":131657872,"body_markdown":"@Slaw Note, however, the package name for `App`. In this (highly non-standard) setup, the “correct” path is perhaps `”/main/resources/view/MainScene.fxml”`. It’s probably better to fix the setup though.","body":"@Slaw Note, however, the package name for <code>App</code>. In this (highly non-standard) setup, the “correct” path is perhaps <code>”&#47;main&#47;resources&#47;view&#47;MainScene.fxml”</code>. It’s probably better to fix the setup though."}],"owner":{"account_id":13119676,"reputation":13,"user_id":9477554,"display_name":"Nick "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669503622,"answer_count":0,"score":0,"last_activity_date":1669499689,"creation_date":1669499689,"question_id":74585857,"body_markdown":"I am attempting to run a JavaFX application in visual studio code, and whenever I run it, I get the following stack trace. I am not sure how to set my resources folder as the resource root in VS code, so I put &quot;resources/view/MainScene.fxml&quot; as the file path for the FXMLLoader. I also tried using the full file path from the C drive, but same result. I have also checked that the FXML file has the proper controller selected (main.java.controller.AppController) and I have included the following in the launch.json file:\r\n```\r\n&quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\r\n```\r\n\r\nHere is the stack trace:\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NullPointerException: Location is required.\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\r\n        at main.java.application.App.start(App.java:20)\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n        at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n        at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n        at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n        ... 1 more\r\nException running application main.java.application.App\r\n```\r\n\r\nHere is my folder structure:\r\n```\r\n|-src\r\n    |-main\r\n        |-java\r\n            |-application\r\n                |-App.java ---location of main method being run\r\n            |-controllers\r\n                |-AppController.java\r\n            |-services\r\n                |-HttpConection.java\r\n        |-resources\r\n            |-view\r\n                |-MainScene.fxml\r\n```\r\n\r\nHere is my FXML file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.lang.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n\r\n&lt;AnchorPane fx:id=&quot;mainPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;main.java.controllers.AppController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;GridPane fx:id=&quot;displayGrid&quot; layoutX=&quot;11.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;372.0&quot; prefWidth=&quot;578.0&quot;&gt;\r\n        &lt;columnConstraints&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n        &lt;/columnConstraints&gt;\r\n        &lt;rowConstraints&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n        &lt;/rowConstraints&gt;\r\n      &lt;/GridPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nHere is my App.java file where I am trying to run the application:\r\n```\r\npackage main.java.application;\r\n\r\n\r\nimport java.io.IOException;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application{\r\n    public static void main(String[] args) throws Exception {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        \r\n        try {\r\n            AnchorPane root = (AnchorPane) FXMLLoader.load(getClass().getResource(&quot;resources/view/MainScene.fxml&quot;));\r\n            Scene scene = new Scene(root);\r\n\r\n            primaryStage.setTitle(&quot;Application&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n\r\nHere is the launch.json file:\r\n```\r\n{\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;main.java.application.App&quot;,\r\n            &quot;projectName&quot;: &quot;FrontEnd_2e0d9572&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nHere is the settings.json file:\r\n```\r\n{\r\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;\r\n    ]\r\n}\r\n```\r\n\r\nI&#39;m pretty certain it&#39;s something to do with the FXML file, but I am not sure what exactly. I can update the post with any additional details that are needed.","title":"java.lang.reflect.InvocationTargetException when trying to run JavaFX application in visual studio code","body":"<p>I am attempting to run a JavaFX application in visual studio code, and whenever I run it, I get the following stack trace. I am not sure how to set my resources folder as the resource root in VS code, so I put &quot;resources/view/MainScene.fxml&quot; as the file path for the FXMLLoader. I also tried using the full file path from the C drive, but same result. I have also checked that the FXML file has the proper controller selected (main.java.controller.AppController) and I have included the following in the launch.json file:</p>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\n</code></pre>\n<p>Here is the stack trace:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Location is required.\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\n        at main.java.application.App.start(App.java:20)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n        at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n        at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n        at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n        ... 1 more\nException running application main.java.application.App\n</code></pre>\n<p>Here is my folder structure:</p>\n<pre><code>|-src\n    |-main\n        |-java\n            |-application\n                |-App.java ---location of main method being run\n            |-controllers\n                |-AppController.java\n            |-services\n                |-HttpConection.java\n        |-resources\n            |-view\n                |-MainScene.fxml\n</code></pre>\n<p>Here is my FXML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n\n&lt;AnchorPane fx:id=&quot;mainPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;main.java.controllers.AppController&quot;&gt;\n   &lt;children&gt;\n      &lt;GridPane fx:id=&quot;displayGrid&quot; layoutX=&quot;11.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;372.0&quot; prefWidth=&quot;578.0&quot;&gt;\n        &lt;columnConstraints&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n        &lt;/columnConstraints&gt;\n        &lt;rowConstraints&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n        &lt;/rowConstraints&gt;\n      &lt;/GridPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Here is my App.java file where I am trying to run the application:</p>\n<pre><code>package main.java.application;\n\n\nimport java.io.IOException;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\npublic class App extends Application{\n    public static void main(String[] args) throws Exception {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        \n        try {\n            AnchorPane root = (AnchorPane) FXMLLoader.load(getClass().getResource(&quot;resources/view/MainScene.fxml&quot;));\n            Scene scene = new Scene(root);\n\n            primaryStage.setTitle(&quot;Application&quot;);\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n}\n</code></pre>\n<p>Here is the launch.json file:</p>\n<pre><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch Current File&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch App&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;main.java.application.App&quot;,\n            &quot;projectName&quot;: &quot;FrontEnd_2e0d9572&quot;,\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Here is the settings.json file:</p>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;\n    ]\n}\n</code></pre>\n<p>I'm pretty certain it's something to do with the FXML file, but I am not sure what exactly. I can update the post with any additional details that are needed.</p>\n"},{"tags":["java","events","migration","vlc","vlcj"],"comments":[{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668963977,"post_id":74506552,"comment_id":131528487,"body_markdown":"I am not using my own timer, I&#39;m doing it exactly the way you described it. I am listening to vlcj&#39;s time-changed events and whenever there is one, I am calling the getMediaTime() method on the vlcj media player. The media time that is returned is then passed to the time display","body":"I am not using my own timer, I&#39;m doing it exactly the way you described it. I am listening to vlcj&#39;s time-changed events and whenever there is one, I am calling the getMediaTime() method on the vlcj media player. The media time that is returned is then passed to the time display"},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668978838,"post_id":74506552,"comment_id":131531815,"body_markdown":"You are right there, but as you said, it&#39;s not the issue. vlcj gives me the length of the media. The elapsed time is the time that comes with the time-changed event, the remaining time is the length of the media minus the current media time. The log shows that vlcj tells me the media duration is 24 seconds, but it sends the finished event after 22 seconds. Which causes the problem. It should be easy to reproduce","body":"You are right there, but as you said, it&#39;s not the issue. vlcj gives me the length of the media. The elapsed time is the time that comes with the time-changed event, the remaining time is the length of the media minus the current media time. The log shows that vlcj tells me the media duration is 24 seconds, but it sends the finished event after 22 seconds. Which causes the problem. It should be easy to reproduce"},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668978952,"post_id":74506552,"comment_id":131531847,"body_markdown":"I also observed that VLC now sends a stopped event after finished (which was not the case earlier), but the stopped event is fired only a few milliseconds after the finished event. So that&#39;s also not where the 2 seconds did go...","body":"I also observed that VLC now sends a stopped event after finished (which was not the case earlier), but the stopped event is fired only a few milliseconds after the finished event. So that&#39;s also not where the 2 seconds did go..."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668981254,"post_id":74506552,"comment_id":131532336,"body_markdown":"It&#39;s hard to extract the code and post it here, as it is distributed among several classes and quite complex. I&#39;ll try what I can do, but it&#39;ll take time...","body":"It&#39;s hard to extract the code and post it here, as it is distributed among several classes and quite complex. I&#39;ll try what I can do, but it&#39;ll take time..."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1669236888,"post_id":74506552,"comment_id":131601657,"body_markdown":"That&#39;s interesting. I&#39;ve always ignored those events as I didn&#39;t understand what they are useful for. I logged them now, but it doesn&#39;t make a difference:\nInitial length after the playing event: 24171.\nLength after the first lenghth-changed event: 24172.\nLength after the last lenghth-changed event: 24171.\nMedia time of last time-changed event: 22112.\nThen the finished event is fired.\nI really don&#39;t understand what&#39;s going on there. I downloaded your vlcj sample application and I don&#39;t see the issue there, playing the same file. So far I could not figure out major differences in our codes","body":"That&#39;s interesting. I&#39;ve always ignored those events as I didn&#39;t understand what they are useful for. I logged them now, but it doesn&#39;t make a difference: Initial length after the playing event: 24171. Length after the first lenghth-changed event: 24172. Length after the last lenghth-changed event: 24171. Media time of last time-changed event: 22112. Then the finished event is fired. I really don&#39;t understand what&#39;s going on there. I downloaded your vlcj sample application and I don&#39;t see the issue there, playing the same file. So far I could not figure out major differences in our codes"},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1669373721,"post_id":74506552,"comment_id":131632403,"body_markdown":"I have found the issue. It is due to the following VLC parameters that I have passed to the MediaPlayerFactory: [--file-caching=2000 --network-caching=2000]. It&#39;s exactly these 2 seconds the player stops earlier. I&#39;ve been using these settings for years and it never was a problem in previous versions of VLC. I always thought that caching would prevent the player from possible &quot;stuttering&quot; when playing larger files (audio or video) from a network drive, but obviously it has some weird side effects now. Maybe it&#39;s a bug. I have removed caching for now and everything is back to normal","body":"I have found the issue. It is due to the following VLC parameters that I have passed to the MediaPlayerFactory: [--file-caching=2000 --network-caching=2000]. It&#39;s exactly these 2 seconds the player stops earlier. I&#39;ve been using these settings for years and it never was a problem in previous versions of VLC. I always thought that caching would prevent the player from possible &quot;stuttering&quot; when playing larger files (audio or video) from a network drive, but obviously it has some weird side effects now. Maybe it&#39;s a bug. I have removed caching for now and everything is back to normal"},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1669393049,"post_id":74506552,"comment_id":131638537,"body_markdown":"Interesting, never knew it worked like that. You could write your own answer and accept it, you never know it might help someone in future.","body":"Interesting, never knew it worked like that. You could write your own answer and accept it, you never know it might help someone in future."}],"answers":[{"tags":[],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669499273,"creation_date":1669499273,"answer_id":74585826,"question_id":74506552,"body_markdown":"I have found the solution. The issue was related to the following VLC parameters that I passed to the MediaPlayerFactory:\r\n\r\n    --file-caching=2000\r\n    --network-caching=2000\r\n\r\nIt is exactly these 2 seconds that the media player skips playing at the end of the file. Not sure how this is related, maybe it&#39;s a bug. These settings haven&#39;t caused any trouble in previuos versions of VLC. I have removed caching for now and everything is back to normal. ","title":"VLCJ-4: audio playback stops too early (&quot;finished&quot; event is fired before end of media)","body":"<p>I have found the solution. The issue was related to the following VLC parameters that I passed to the MediaPlayerFactory:</p>\n<pre><code>--file-caching=2000\n--network-caching=2000\n</code></pre>\n<p>It is exactly these 2 seconds that the media player skips playing at the end of the file. Not sure how this is related, maybe it's a bug. These settings haven't caused any trouble in previuos versions of VLC. I have removed caching for now and everything is back to normal.</p>\n"}],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74585826,"answer_count":1,"score":1,"last_activity_date":1669499273,"creation_date":1668931800,"question_id":74506552,"body_markdown":"After migrating my Java application from `vlcj-3.12.1` to `vlcj-4.8.2` I am observing that the `finished()` event is being fired approximately 2 seconds before the media has reached its end/full length/duration. This messes up my GUI as I have a media time display showing both elapsed and remaining time. So when it shows 2 seconds remaining now, it suddenly jumps down to 0 and it sounds like the last bit of the audio is being &quot;cut off&quot;.&lt;br&gt;\r\n\r\nI have tried various media files and various audio formats with different bitrates (including VBR) - the result is identical in all cases. The following [logfile snipplet][1] shows that the length of the media is being correctly read when the `playing()` event is received (**24 secs**). I am logging the `timeChanged()` events during playback. You can see that these events stop coming right before the media time reaches **~22 secs**. Then the `finished()` event gets fired. No more `timeChanged()` events thereafter - the last 2 seconds of playback are missing.&lt;br&gt;\r\n\r\nIs this a bug in `VLC` or `VLCJ` which is targeted for an upcoming version or might I be doing something wrong? The issue did not occur with `vlcj-3.12.1` and it also does not occur when playing the media with native VLC. I really don&#39;t want to downgrade again but this is kind of a let-down. I am running the latest `VLC` version `3.0.17.4` on Windows 10 with `Java 17.0.5`.&lt;br&gt;\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yCFRk.png&gt;","title":"VLCJ-4: audio playback stops too early (&quot;finished&quot; event is fired before end of media)","body":"<p>After migrating my Java application from <code>vlcj-3.12.1</code> to <code>vlcj-4.8.2</code> I am observing that the <code>finished()</code> event is being fired approximately 2 seconds before the media has reached its end/full length/duration. This messes up my GUI as I have a media time display showing both elapsed and remaining time. So when it shows 2 seconds remaining now, it suddenly jumps down to 0 and it sounds like the last bit of the audio is being &quot;cut off&quot;.<br></p>\n<p>I have tried various media files and various audio formats with different bitrates (including VBR) - the result is identical in all cases. The following <a href=\"https://i.stack.imgur.com/yCFRk.png%3E\" rel=\"nofollow noreferrer\">logfile snipplet</a> shows that the length of the media is being correctly read when the <code>playing()</code> event is received (<strong>24 secs</strong>). I am logging the <code>timeChanged()</code> events during playback. You can see that these events stop coming right before the media time reaches <strong>~22 secs</strong>. Then the <code>finished()</code> event gets fired. No more <code>timeChanged()</code> events thereafter - the last 2 seconds of playback are missing.<br></p>\n<p>Is this a bug in <code>VLC</code> or <code>VLCJ</code> which is targeted for an upcoming version or might I be doing something wrong? The issue did not occur with <code>vlcj-3.12.1</code> and it also does not occur when playing the media with native VLC. I really don't want to downgrade again but this is kind of a let-down. I am running the latest <code>VLC</code> version <code>3.0.17.4</code> on Windows 10 with <code>Java 17.0.5</code>.<br></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","string","charat"],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669498617,"creation_date":1669498617,"answer_id":74585750,"question_id":74585700,"body_markdown":"    if (myword.charAt(0)==&#39;H&#39; || myword.charAt(0)== &#39;M&#39;){\r\n      System.out.println(&quot;True&quot;);\r\n    } else {\r\n      System.out.println(&quot;False&quot;);\r\n    }\r\n\r\nOr\r\n\r\n    System.out.println(\r\n      myword.charAt(0)==&#39;H&#39; || myword.charAt(0)== &#39;M&#39;\r\n    );","title":"Java - confirming a match at a specific index in a string","body":"<pre><code>if (myword.charAt(0)=='H' || myword.charAt(0)== 'M'){\n  System.out.println(&quot;True&quot;);\n} else {\n  System.out.println(&quot;False&quot;);\n}\n</code></pre>\n<p>Or</p>\n<pre><code>System.out.println(\n  myword.charAt(0)=='H' || myword.charAt(0)== 'M'\n);\n</code></pre>\n"}],"owner":{"account_id":23174659,"reputation":3,"user_id":17273353,"display_name":"user17273353"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74585750,"answer_count":1,"score":0,"last_activity_date":1669498893,"creation_date":1669498158,"question_id":74585700,"body_markdown":"Problem: Confirm if a specific character is at a specific index point of a string. For example, &#39;Hello&#39; - is character H at index 0. I have managed to get this to work (as shown below). My issue is trying to add logical operators &#39;or&#39; - || to allow for multiple options.\r\n\r\nFor example, at index 0, the letter could be H **or** M\r\n\r\n\r\n\r\n\r\nThe below works for confirming &#39;H&#39; is at index &#39;0&#39;\r\n\r\n    if (myword.charAt(0)==(&#39;H&#39;)){\r\n        System.out.println(&quot;True&quot;);\r\n    }    \r\n    else {\r\n        System.out.println(&quot;False&quot;);\r\n    }\r\n\r\nHOWEVER\r\n\r\nif I then try to add a logical operator, this doesn&#39;t work and I just can&#39;t work out how to add logical operators to these type of scenarios.\r\n\r\n    if (myword.charAt(0)==(&#39;H&#39;)||(&#39;M&#39;)){\r\n        System.out.println(&quot;True&quot;);\r\n    }    \r\n    else {\r\n        System.out.println(&quot;False&quot;);\r\n    }\r\n\r\n","title":"Java - confirming a match at a specific index in a string","body":"<p>Problem: Confirm if a specific character is at a specific index point of a string. For example, 'Hello' - is character H at index 0. I have managed to get this to work (as shown below). My issue is trying to add logical operators 'or' - || to allow for multiple options.</p>\n<p>For example, at index 0, the letter could be H <strong>or</strong> M</p>\n<p>The below works for confirming 'H' is at index '0'</p>\n<pre><code>if (myword.charAt(0)==('H')){\n    System.out.println(&quot;True&quot;);\n}    \nelse {\n    System.out.println(&quot;False&quot;);\n}\n</code></pre>\n<p>HOWEVER</p>\n<p>if I then try to add a logical operator, this doesn't work and I just can't work out how to add logical operators to these type of scenarios.</p>\n<pre><code>if (myword.charAt(0)==('H')||('M')){\n    System.out.println(&quot;True&quot;);\n}    \nelse {\n    System.out.println(&quot;False&quot;);\n}\n</code></pre>\n"},{"tags":["java","database","jpa","one-to-many","cascading-deletes"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1668804237,"post_id":74495074,"comment_id":131503393,"body_markdown":"What do you do in `deleteFromUserList`?","body":"What do you do in <code>deleteFromUserList</code>?"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1668804346,"post_id":74495074,"comment_id":131503421,"body_markdown":"Where exactly you see that `receipe` is not deleted from user","body":"Where exactly you see that <code>receipe</code> is not deleted from user"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668804413,"post_id":74495074,"comment_id":131503438,"body_markdown":"public void deleteFromUserList(Recipe recipe){\n        recipes.remove(recipe);\n    }","body":"public void deleteFromUserList(Recipe recipe){         recipes.remove(recipe);     }"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668804517,"post_id":74495074,"comment_id":131503472,"body_markdown":"@GetMapping(&quot;/api/recipe/{id}&quot;)\n    public ResponseEntity&lt;Recipe&gt; getRecipes(@PathVariable Long id) {\n        return ResponseEntity.ok(recipeService.getRecipeById(id));\n    }\n\npublic Recipe getRecipeById(Long id) {\n        return recipeRepository.findById(id)\n                .orElseThrow(RecipeNotFoundException::new);\n    }\n\nthat&#39;s still find recipe in db","body":"@GetMapping(&quot;/api/recipe/{id}&quot;)     public ResponseEntity&lt;Recipe&gt; getRecipes(@PathVariable Long id) {         return ResponseEntity.ok(recipeService.getRecipeById(id));     }  public Recipe getRecipeById(Long id) {         return recipeRepository.findById(id)                 .orElseThrow(RecipeNotFoundException::new);     }  that&#39;s still find recipe in db"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1668804657,"post_id":74495074,"comment_id":131503515,"body_markdown":"So what you did is that you called `deleteRecipeById` API, then you called `getRecipes` API and it still return you the recipe you think it should have been deleted when called`deleteRecipeById` ?","body":"So what you did is that you called <code>deleteRecipeById</code> API, then you called <code>getRecipes</code> API and it still return you the recipe you think it should have been deleted when called<code>deleteRecipeById</code> ?"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668804707,"post_id":74495074,"comment_id":131503529,"body_markdown":"also do you use a Transaction?","body":"also do you use a Transaction?"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668804740,"post_id":74495074,"comment_id":131503537,"body_markdown":"did you make sure it was deleted from DB?","body":"did you make sure it was deleted from DB?"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668804881,"post_id":74495074,"comment_id":131503571,"body_markdown":"no i don&#39;t use tansaction , \nits deleted from data baze but field user don&#39;t know it and he has saved recipe on list","body":"no i don&#39;t use tansaction ,  its deleted from data baze but field user don&#39;t know it and he has saved recipe on list"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668804999,"post_id":74495074,"comment_id":131503608,"body_markdown":"where do you see that user still has the recipe even after deleting it?","body":"where do you see that user still has the recipe even after deleting it?"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668805266,"post_id":74495074,"comment_id":131503682,"body_markdown":"/api/recipe/{id} still returns  recipe with that id","body":"/api/recipe/{id} still returns  recipe with that id"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668805341,"post_id":74495074,"comment_id":131503697,"body_markdown":"Can you show `recipeService.getRecipeById` code","body":"Can you show <code>recipeService.getRecipeById</code> code"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668805472,"post_id":74495074,"comment_id":131503733,"body_markdown":"also when you delete, you don&#39;t actualy do hard delete you just mark the record as deleted correct?","body":"also when you delete, you don&#39;t actualy do hard delete you just mark the record as deleted correct?"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668806554,"post_id":74495074,"comment_id":131503976,"body_markdown":"public Recipe getRecipeById(Long id) { return recipeRepository.findById(id) .orElseThrow(RecipeNotFoundException::new); }","body":"public Recipe getRecipeById(Long id) { return recipeRepository.findById(id) .orElseThrow(RecipeNotFoundException::new); }"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668806690,"post_id":74495074,"comment_id":131504006,"body_markdown":"i think i have to do hard delete in db","body":"i think i have to do hard delete in db"}],"answers":[{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669498844,"creation_date":1668806798,"answer_id":74495476,"question_id":74495074,"body_markdown":"Ok the real issue given info you posted, is that you remove `recipe` from `user` but you don&#39;t save `user` after\r\n\r\nYou either do:\r\n\r\n1- Call `userRepository.save(currentUser)`, after removing `recipe` from user\r\n\r\nOR better &gt;\r\n\r\n2- Annotate `deleteRecipeById` with `@Transactional` and it will do the job\r\n\r\n\r\nIf you wonder how no.2 will do the job, it is because when you load entity from DB talking `user` here, the entity becomes in a Managed state meaning that if you do any updates to that entity like `recipes.remove(recipe);`\r\nthen this managed entity `user` becomes eligible for updates, if you are in an opened transaction and that transaction gets committed [meaning function annotated with `@Transactional` comes to end] that managed entity `user` updates will be written to DB since transaction is committed, which will issue update SQL query to remove that `receipe` from user\r\n\r\n\r\n*TIP, BTW, you can not use write operation against DB without a transaction scope, the fact you deleted `recipe` when you called \r\n`recipeRepository.delete(currentRecipe);`\r\nit is because Spring Repositories are annotated with `@Transactional` by default and that is why solution no 2 is better since now you would use only one transaction for both operations instead of the solution no 1 that would issue 2 transactions","title":"How to let to know parent that their child was deleted?","body":"<p>Ok the real issue given info you posted, is that you remove <code>recipe</code> from <code>user</code> but you don't save <code>user</code> after</p>\n<p>You either do:</p>\n<p>1- Call <code>userRepository.save(currentUser)</code>, after removing <code>recipe</code> from user</p>\n<p>OR better &gt;</p>\n<p>2- Annotate <code>deleteRecipeById</code> with <code>@Transactional</code> and it will do the job</p>\n<p>If you wonder how no.2 will do the job, it is because when you load entity from DB talking <code>user</code> here, the entity becomes in a Managed state meaning that if you do any updates to that entity like <code>recipes.remove(recipe);</code>\nthen this managed entity <code>user</code> becomes eligible for updates, if you are in an opened transaction and that transaction gets committed [meaning function annotated with <code>@Transactional</code> comes to end] that managed entity <code>user</code> updates will be written to DB since transaction is committed, which will issue update SQL query to remove that <code>receipe</code> from user</p>\n<p>*TIP, BTW, you can not use write operation against DB without a transaction scope, the fact you deleted <code>recipe</code> when you called\n<code>recipeRepository.delete(currentRecipe);</code>\nit is because Spring Repositories are annotated with <code>@Transactional</code> by default and that is why solution no 2 is better since now you would use only one transaction for both operations instead of the solution no 1 that would issue 2 transactions</p>\n"}],"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74495476,"answer_count":1,"score":0,"last_activity_date":1669498844,"creation_date":1668803850,"question_id":74495074,"body_markdown":"&gt; Hi i&#39;m making application for recipe. One user could have many recipes and then he can delete his recipe. I store date in data base. User have a list of recipes in one of the field in db.I dont know what to do to delete a recipe on that list. I delete a recipe in db but is still on list in user field so we still can reach that recipe. I use JpaResporitory .There i give a part of my code. Could you help me please ?\r\n\r\n```\r\npublic ResponseEntity&lt;String&gt; deleteRecipeById(long id, @AuthenticationPrincipal UserDetails details) {//toDo\r\n   Recipe currentRecipe = getRecipeById(id);\r\n   User currentUser = userRepository.findByEmail(details.getUsername())\r\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n    if(currentRecipe.getUser().equals(currentUser) ){\r\n        currentUser.deleteFromUserList(currentRecipe);\r\n        recipeRepository.delete(currentRecipe);\r\n        // AND WHAT HERE ?\r\n        return ResponseEntity.status(HttpStatus.OK).build();\r\n    }\r\n    return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\r\n```\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\npublic class Recipe {\r\n...\r\n  @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;,  nullable = false)\r\n    private User user;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\nclass User {\r\n...\r\n   @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL,orphanRemoval = true ,  fetch = FetchType.EAGER)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    @ToString.Exclude\r\n    @Column(name = &quot;recipes&quot;)\r\n    private List&lt;Recipe&gt; recipes = new ArrayList&lt;&gt;();\r\n} THERE IS THAT LIST THAT I CAN&#39;T CHANGE AND  NEED THIS TO DELETE RECIPE\r\n```\r\nthere is how i save recipe \r\n\r\n      public Long create(Recipe recipe, UserDetails details) {\r\n            User currentUser = userRepository.findByEmail(details.getUsername())\r\n                    .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n            recipe.setUser(currentUser);\r\n            currentUser.getRecipes()\r\n                    .add(recipe);\r\n            userRepository.save(currentUser);\r\n            return userRepository.findByEmail(details.getUsername())\r\n                    .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;))\r\n                    .getRecipes()\r\n                    .get(userRepository.findByEmail(details.getUsername())\r\n                            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;))\r\n                            .getRecipes()\r\n                            .size() - 1)\r\n                    .getId();\r\n        }\r\n\r\nI tried googling that i read article about jpa but i still dont know what i have to do\r\n","title":"How to let to know parent that their child was deleted?","body":"<blockquote>\n<p>Hi i'm making application for recipe. One user could have many recipes and then he can delete his recipe. I store date in data base. User have a list of recipes in one of the field in db.I dont know what to do to delete a recipe on that list. I delete a recipe in db but is still on list in user field so we still can reach that recipe. I use JpaResporitory .There i give a part of my code. Could you help me please ?</p>\n</blockquote>\n<pre><code>public ResponseEntity&lt;String&gt; deleteRecipeById(long id, @AuthenticationPrincipal UserDetails details) {//toDo\n   Recipe currentRecipe = getRecipeById(id);\n   User currentUser = userRepository.findByEmail(details.getUsername())\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n    if(currentRecipe.getUser().equals(currentUser) ){\n        currentUser.deleteFromUserList(currentRecipe);\n        recipeRepository.delete(currentRecipe);\n        // AND WHAT HERE ?\n        return ResponseEntity.status(HttpStatus.OK).build();\n    }\n    return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\n</code></pre>\n<pre><code>@Entity\n@Getter\n@Setter\n@RequiredArgsConstructor\npublic class Recipe {\n...\n  @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;,  nullable = false)\n    private User user;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@Getter\n@Setter\n@RequiredArgsConstructor\nclass User {\n...\n   @JsonIgnore\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL,orphanRemoval = true ,  fetch = FetchType.EAGER)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @ToString.Exclude\n    @Column(name = &quot;recipes&quot;)\n    private List&lt;Recipe&gt; recipes = new ArrayList&lt;&gt;();\n} THERE IS THAT LIST THAT I CAN'T CHANGE AND  NEED THIS TO DELETE RECIPE\n</code></pre>\n<p>there is how i save recipe</p>\n<pre><code>  public Long create(Recipe recipe, UserDetails details) {\n        User currentUser = userRepository.findByEmail(details.getUsername())\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n        recipe.setUser(currentUser);\n        currentUser.getRecipes()\n                .add(recipe);\n        userRepository.save(currentUser);\n        return userRepository.findByEmail(details.getUsername())\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;))\n                .getRecipes()\n                .get(userRepository.findByEmail(details.getUsername())\n                        .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;))\n                        .getRecipes()\n                        .size() - 1)\n                .getId();\n    }\n</code></pre>\n<p>I tried googling that i read article about jpa but i still dont know what i have to do</p>\n"},{"tags":["java","maven","jenkins","gradle","timeout"],"comments":[{"owner":{"account_id":2201246,"reputation":833,"user_id":1945596,"display_name":"Ankit Batra"},"score":0,"creation_date":1626000583,"post_id":66901695,"comment_id":120771969,"body_markdown":"Hi, Did you manage to solve it?","body":"Hi, Did you manage to solve it?"}],"answers":[{"tags":[],"owner":{"account_id":2126153,"reputation":21,"user_id":1888259,"display_name":"Andrey Hitrikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669498841,"creation_date":1669498841,"answer_id":74585779,"question_id":66901695,"body_markdown":"You should use &quot;https&quot; instead of &quot;http&quot;:\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven {\r\n            url &quot;https://repo.e-iceblue.com/nexus/content/groups/public/&quot;\r\n        }\r\n    }","title":"E-Iceblue Spire PDF Free Jenkins Timeout","body":"<p>You should use &quot;https&quot; instead of &quot;http&quot;:</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url &quot;https://repo.e-iceblue.com/nexus/content/groups/public/&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7155615,"reputation":597,"user_id":5468199,"accept_rate":100,"display_name":"Revnic Robert-Nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669498841,"creation_date":1617268411,"question_id":66901695,"body_markdown":"I&#39;m trying to use the Spire Free PDF library from the E-Iceblue repository and it just takes too long for the dependency to be downloaded on my computer. The big problem is that I use Jenkins for CI/CD and it gives me a timeout error:\r\n\r\n```\r\nWhat went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not download spire.doc.free-3.9.0.jar (e-iceblue:spire.doc.free:3.9.0)\r\n   &gt; Could not get resource &#39;http://repo.e-iceblue.com/nexus/content/groups/public/e-iceblue/spire.doc.free/3.9.0/spire.doc.free-3.9.0.jar&#39;.\r\n      &gt; Read timed out\r\n```\r\n\r\nI tried to increase the timeout using these two properties in the Gradle Wrapper, but without success:&lt;br&gt;\r\n`/gradlew build -Dorg.gradle.internal.http.socketTimeout=60000 -Dorg.gradle.internal.http.connectionTimeout=60000 jacocoTestReport`\r\n\r\nOn my personal computer, it takes around 5 minutes to download the dependency. On my work computer, where I have the VPN provided by my company, the download time is the same: 4-5 minutes. The Jenkins that I&#39;m using is hosted by my company to manage different projects and the Gradle file looks like this:\r\n\r\n```\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven {\r\n\t\turl &quot;http://repo.e-iceblue.com/nexus/content/groups/public/&quot;\r\n\t}\r\n}\r\n\r\ndependencies {\r\n\timplementation group: &#39;e-iceblue&#39;, name: &#39;spire.doc.free&#39;, version: &#39;3.9.0&#39;\r\n}\r\n```\r\n\r\nIs there something I can do to fix this issue? Or maybe there is a problem with the repository itself?","title":"E-Iceblue Spire PDF Free Jenkins Timeout","body":"<p>I'm trying to use the Spire Free PDF library from the E-Iceblue repository and it just takes too long for the dependency to be downloaded on my computer. The big problem is that I use Jenkins for CI/CD and it gives me a timeout error:</p>\n<pre><code>What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not download spire.doc.free-3.9.0.jar (e-iceblue:spire.doc.free:3.9.0)\n   &gt; Could not get resource 'http://repo.e-iceblue.com/nexus/content/groups/public/e-iceblue/spire.doc.free/3.9.0/spire.doc.free-3.9.0.jar'.\n      &gt; Read timed out\n</code></pre>\n<p>I tried to increase the timeout using these two properties in the Gradle Wrapper, but without success:<br>\n<code>/gradlew build -Dorg.gradle.internal.http.socketTimeout=60000 -Dorg.gradle.internal.http.connectionTimeout=60000 jacocoTestReport</code></p>\n<p>On my personal computer, it takes around 5 minutes to download the dependency. On my work computer, where I have the VPN provided by my company, the download time is the same: 4-5 minutes. The Jenkins that I'm using is hosted by my company to manage different projects and the Gradle file looks like this:</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url &quot;http://repo.e-iceblue.com/nexus/content/groups/public/&quot;\n    }\n}\n\ndependencies {\n    implementation group: 'e-iceblue', name: 'spire.doc.free', version: '3.9.0'\n}\n</code></pre>\n<p>Is there something I can do to fix this issue? Or maybe there is a problem with the repository itself?</p>\n"},{"tags":["java","grid","vaadin","dataprovider"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1669622682,"post_id":74585584,"comment_id":131675325,"body_markdown":"I’m voting to close this question because original author asked to close it.","body":"I’m voting to close this question because original author asked to close it."}],"answers":[{"tags":[],"owner":{"account_id":16854213,"reputation":173,"user_id":12186398,"display_name":"Mari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669497892,"creation_date":1669497892,"answer_id":74585675,"question_id":74585584,"body_markdown":"Ok i asked here because i spent almost 5 hours trying to figure out what is wrong. Turns out another dev added a grid.setItems() (which creates a new data provider) where he passed a new instance of list with same elements because we do have other threads updating grids...\r\n\r\nI really felt hopeless at some point, but the second i posted the question i found what the problem was.\r\n\r\nI guess this question can be deleted by mod. My bad.","title":"Vaadin Grid filtering - DataProvider.refreshAll() does not trigger filter which is set in DataProvider","body":"<p>Ok i asked here because i spent almost 5 hours trying to figure out what is wrong. Turns out another dev added a grid.setItems() (which creates a new data provider) where he passed a new instance of list with same elements because we do have other threads updating grids...</p>\n<p>I really felt hopeless at some point, but the second i posted the question i found what the problem was.</p>\n<p>I guess this question can be deleted by mod. My bad.</p>\n"}],"owner":{"account_id":16854213,"reputation":173,"user_id":12186398,"display_name":"Mari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74585675,"answer_count":1,"score":0,"last_activity_date":1669497892,"creation_date":1669496758,"question_id":74585584,"body_markdown":"We have a lot of grids in our Vaadin app, every one of them has some filters on string columns.\r\n\r\nRecently we noticed that not all of them are working. There are no errors in the log, no exceptions, no nothing.\r\n\r\nWe have one method for adding all the filters to string columns in the whole app, it adds a text field to a HeaderRow of a grid with specific listener:\r\n\r\n        public &lt;T&gt; void addFilterToSpecificStringColumn(ListDataProvider&lt;T&gt; dataProvider, HeaderRow filterRow, String columnName, FilterObject filter) {\r\n        TextField filterField = new TextField();\r\n        filterField.setValueChangeMode(ValueChangeMode.EAGER);\r\n        filterField.addValueChangeListener(event -&gt; {\r\n            filter.setCorrectFieldByName(columnName, event.getValue());\r\n            dataProvider.refreshAll();\r\n        });\r\n        filterRow.getCell(this.getColumnByKey(columnName)).setComponent(filterField);\r\n    }\r\n\r\nThis is how we add the filter:\r\n    \r\n\r\n    dataProvider.setFilter(filterObject::searchForOffer);\r\n\r\nand this is a basic filter method of FilterObject added to DataProvider by setFilter() method and seems like this is not always working:\r\n\r\n    public boolean searchForOffer(Offer offer) {\r\n        return name.length() == 0 || StringUtils.containsIgnoreCase(String.valueOf(offer.getName()), name);\r\n    }\r\n\r\nIn normal case the dataProvider.refreshAll() called in the text field listener would trigger the searchForOffer() method which goes through data provider list elements one by one and returns offers which meet the filter condition (name in this case). This basically stopped working in some grids and i am not sure why.\r\n\r\nListener is called, i am able to debug it, dataProvider.refreshAll() is called but it never calls the filter method which is the case in other grids.\r\n\r\nWhat could be the problem here? Ive checked and the dataProvider.getItems() is the same instance of list that is set when invoking grid.setItems().\r\n\r\nWe are using Vaadin 14(java only), Java 11.\r\n\r\n\r\n","title":"Vaadin Grid filtering - DataProvider.refreshAll() does not trigger filter which is set in DataProvider","body":"<p>We have a lot of grids in our Vaadin app, every one of them has some filters on string columns.</p>\n<p>Recently we noticed that not all of them are working. There are no errors in the log, no exceptions, no nothing.</p>\n<p>We have one method for adding all the filters to string columns in the whole app, it adds a text field to a HeaderRow of a grid with specific listener:</p>\n<pre><code>    public &lt;T&gt; void addFilterToSpecificStringColumn(ListDataProvider&lt;T&gt; dataProvider, HeaderRow filterRow, String columnName, FilterObject filter) {\n    TextField filterField = new TextField();\n    filterField.setValueChangeMode(ValueChangeMode.EAGER);\n    filterField.addValueChangeListener(event -&gt; {\n        filter.setCorrectFieldByName(columnName, event.getValue());\n        dataProvider.refreshAll();\n    });\n    filterRow.getCell(this.getColumnByKey(columnName)).setComponent(filterField);\n}\n</code></pre>\n<p>This is how we add the filter:</p>\n<pre><code>dataProvider.setFilter(filterObject::searchForOffer);\n</code></pre>\n<p>and this is a basic filter method of FilterObject added to DataProvider by setFilter() method and seems like this is not always working:</p>\n<pre><code>public boolean searchForOffer(Offer offer) {\n    return name.length() == 0 || StringUtils.containsIgnoreCase(String.valueOf(offer.getName()), name);\n}\n</code></pre>\n<p>In normal case the dataProvider.refreshAll() called in the text field listener would trigger the searchForOffer() method which goes through data provider list elements one by one and returns offers which meet the filter condition (name in this case). This basically stopped working in some grids and i am not sure why.</p>\n<p>Listener is called, i am able to debug it, dataProvider.refreshAll() is called but it never calls the filter method which is the case in other grids.</p>\n<p>What could be the problem here? Ive checked and the dataProvider.getItems() is the same instance of list that is set when invoking grid.setItems().</p>\n<p>We are using Vaadin 14(java only), Java 11.</p>\n"},{"tags":["java","kotlin","reactor"],"answers":[{"tags":[],"owner":{"account_id":7644621,"reputation":488,"user_id":5795699,"display_name":"Kristian Ferkić"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669497582,"creation_date":1669497582,"answer_id":74585650,"question_id":74580282,"body_markdown":"You could just fold your operator list, like this:\r\n\r\n    fun combine(): Mono&lt;Double&gt; {\r\n    \tval plusOperators = listOf(Plus(&quot;first&quot;), Plus(&quot;second&quot;), Plus(&quot;third&quot;))\r\n    \treturn plusOperators.fold(Mono.just(1.0)) { acc, op -&gt;\r\n    \t\tacc.flatMap { op.apply(it, 1.0) }\r\n    \t}\r\n    }","title":"Chain Multiple Reactor Monos","body":"<p>You could just fold your operator list, like this:</p>\n<pre><code>fun combine(): Mono&lt;Double&gt; {\n    val plusOperators = listOf(Plus(&quot;first&quot;), Plus(&quot;second&quot;), Plus(&quot;third&quot;))\n    return plusOperators.fold(Mono.just(1.0)) { acc, op -&gt;\n        acc.flatMap { op.apply(it, 1.0) }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24025614,"reputation":37,"user_id":18007264,"display_name":"mb2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74585650,"answer_count":1,"score":0,"last_activity_date":1669497582,"creation_date":1669445280,"question_id":74580282,"body_markdown":"\r\n\r\nI am new to reactive programming and it may happen that this question is easily solvable or I am doing something completely wrong. \r\nLet us consider following interface\r\n\r\n```\r\ninterface NumbersOperator{fun apply(value:Double,value2:Double):Mono&lt;Double&gt;}\r\n```\r\nimplementation \r\n\r\n\r\n```\r\nclass Plus(val name:String):NumbersOperator{\r\n  fun apply(value:Double,value2:Double):Mono&lt;Double&gt;{\r\n    return Mono.just(value+value2)    \r\n}\r\n}\r\n```\r\n\r\nAt the moment I have a list of `\r\n```\r\nval plusOperators = listOf(Plus(&quot;first&quot;), Plus(&quot;second&quot;), Plus(&quot;third&quot;))\r\n```\r\n`\r\nand the way how i combine the operators is the following\r\n\r\n```\r\nfun combine():Mono&lt;Double&gt;{\r\n  val first=plusOperators.firstOrNull(it.name==&quot;first&quot;)\r\n  val second=plusOperators.firstOrNull(it.name==&quot;second&quot;)\r\n  val third=plusOperators.firstOrNull(it.name==&quot;third&quot;)\r\n\r\n  return first.apply(1.0,1.0).map{it*1.0}.flatMap{second.apply(it,1.0)}.map{it*1.0}.flatMap{third.apply(it,1.0)}\r\n \r\n}\r\n```\r\nAt the moment i can live with this but it would be much easier and more generic if I could just create the above chain from the list of plusOperators. \r\nPlease be noted, this is just a simplification of what i am doing, basically i have to map result from previous and to call another mono and so on\r\n\r\n\r\n\r\n","title":"Chain Multiple Reactor Monos","body":"<p>I am new to reactive programming and it may happen that this question is easily solvable or I am doing something completely wrong.\nLet us consider following interface</p>\n<pre><code>interface NumbersOperator{fun apply(value:Double,value2:Double):Mono&lt;Double&gt;}\n</code></pre>\n<p>implementation</p>\n<pre><code>class Plus(val name:String):NumbersOperator{\n  fun apply(value:Double,value2:Double):Mono&lt;Double&gt;{\n    return Mono.just(value+value2)    \n}\n}\n</code></pre>\n<p>At the moment I have a list of `</p>\n<pre><code>val plusOperators = listOf(Plus(&quot;first&quot;), Plus(&quot;second&quot;), Plus(&quot;third&quot;))\n</code></pre>\n<p>`\nand the way how i combine the operators is the following</p>\n<pre><code>fun combine():Mono&lt;Double&gt;{\n  val first=plusOperators.firstOrNull(it.name==&quot;first&quot;)\n  val second=plusOperators.firstOrNull(it.name==&quot;second&quot;)\n  val third=plusOperators.firstOrNull(it.name==&quot;third&quot;)\n\n  return first.apply(1.0,1.0).map{it*1.0}.flatMap{second.apply(it,1.0)}.map{it*1.0}.flatMap{third.apply(it,1.0)}\n \n}\n</code></pre>\n<p>At the moment i can live with this but it would be much easier and more generic if I could just create the above chain from the list of plusOperators.\nPlease be noted, this is just a simplification of what i am doing, basically i have to map result from previous and to call another mono and so on</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669479505,"post_id":74583743,"comment_id":131651850,"body_markdown":"Your pattern doesn&#39;t really make sense. An asterisk means &quot;zero or more occurrences of the preceding character&quot;","body":"Your pattern doesn&#39;t really make sense. An asterisk means &quot;zero or more occurrences of the preceding character&quot;"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1669480687,"post_id":74583743,"comment_id":131652136,"body_markdown":"`Pattern regexBinary2 = Pattern.compile(&quot;^(?!.*([01])\\\\1)[01]+&quot;);`","body":"<code>Pattern regexBinary2 = Pattern.compile(&quot;^(?!.*([01])\\\\1)[01]+&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669497201,"creation_date":1669496461,"answer_id":74585556,"question_id":74583743,"body_markdown":"Here is a regular expression that doesn&#39;t use look around:\r\n\r\n    ^0?(10)*1?$\r\n\r\nIt says that valid input starts with an optional 0, is followed by zero or more sequences of `10`, and optionally has one more 1 at the end.\r\n\r\nThis will also match empty input. If an empty input should be rejected, then add a `\\b`:\r\n\r\n    ^\\b0?(10)*1?$\r\n\r\nMake sure to escape the backslash when placing this in a string literal:\r\n\r\n\r\n        Pattern regexBinary2 = Pattern.compile(&quot;^\\\\b0?(10)*1?$&quot;);\r\n","title":"Regular expression where Binary numbers have no ones and zeros follow each other directly","body":"<p>Here is a regular expression that doesn't use look around:</p>\n<pre><code>^0?(10)*1?$\n</code></pre>\n<p>It says that valid input starts with an optional 0, is followed by zero or more sequences of <code>10</code>, and optionally has one more 1 at the end.</p>\n<p>This will also match empty input. If an empty input should be rejected, then add a <code>\\b</code>:</p>\n<pre><code>^\\b0?(10)*1?$\n</code></pre>\n<p>Make sure to escape the backslash when placing this in a string literal:</p>\n<pre><code>    Pattern regexBinary2 = Pattern.compile(&quot;^\\\\b0?(10)*1?$&quot;);\n</code></pre>\n"}],"owner":{"account_id":26307847,"reputation":13,"user_id":19971974,"display_name":"haruka kudo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74585556,"answer_count":1,"score":-1,"last_activity_date":1669497201,"creation_date":1669479366,"question_id":74583743,"body_markdown":"Hi I&#39;m trying to find a regular expression where a binary number has no ones and zeros follow each other directly. \r\nThis is the regular expression I have:\r\n```\r\npublic static boolean isBin2(String bin2) {\r\n        Pattern regexBinary2 = Pattern.compile(&quot;(01*01)*&quot;);\r\n\r\n        Matcher matcher = regexBinary2.matcher(bin2);\r\n        return matcher.matches();\r\n    }\r\n```\r\nThis is the String I&#39;m using for my tests: &quot;10101010&quot;\r\n\r\n\r\nThe expression should check like this:\r\n\r\n10101010 --&gt; is allowed\r\n\r\n10010101 --&gt; is not allowed\r\n\r\nBut this expression always returns false even when the binary number is allowed and I can&#39;t find the cause of it. Would be nice if you could help me.","title":"Regular expression where Binary numbers have no ones and zeros follow each other directly","body":"<p>Hi I'm trying to find a regular expression where a binary number has no ones and zeros follow each other directly.\nThis is the regular expression I have:</p>\n<pre><code>public static boolean isBin2(String bin2) {\n        Pattern regexBinary2 = Pattern.compile(&quot;(01*01)*&quot;);\n\n        Matcher matcher = regexBinary2.matcher(bin2);\n        return matcher.matches();\n    }\n</code></pre>\n<p>This is the String I'm using for my tests: &quot;10101010&quot;</p>\n<p>The expression should check like this:</p>\n<p>10101010 --&gt; is allowed</p>\n<p>10010101 --&gt; is not allowed</p>\n<p>But this expression always returns false even when the binary number is allowed and I can't find the cause of it. Would be nice if you could help me.</p>\n"},{"tags":["java","recursion","tree","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":1,"creation_date":1669494590,"post_id":74584935,"comment_id":131654789,"body_markdown":"i just found out my issue, i was calling the child nodes with root instead of using R...","body":"i just found out my issue, i was calling the child nodes with root instead of using R..."},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669494642,"post_id":74584935,"comment_id":131654795,"body_markdown":"i spent hours debugging and analyzing both this and another excercise, and BOTH had the same issue, i passed both after realizing, appreciate it tho.","body":"i spent hours debugging and analyzing both this and another excercise, and BOTH had the same issue, i passed both after realizing, appreciate it tho."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1669494683,"post_id":74584935,"comment_id":131654803,"body_markdown":"Good, so there is no more question then?","body":"Good, so there is no more question then?"},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669494891,"post_id":74584935,"comment_id":131654847,"body_markdown":"Nope, appreciate the intention tho, i still have 2 more excercises left and i may need help on one of them, maybe ill post it.","body":"Nope, appreciate the intention tho, i still have 2 more excercises left and i may need help on one of them, maybe ill post it."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1669494921,"post_id":74584935,"comment_id":131654854,"body_markdown":"Just realise that (1) this algorithm doesn&#39;t meet the requirement *&quot;must be ordered in pre-order&quot;*, and (2) isn&#39;t efficient, as it visits *all* nodes of the tree.","body":"Just realise that (1) this algorithm doesn&#39;t meet the requirement <i>&quot;must be ordered in pre-order&quot;</i>, and (2) isn&#39;t efficient, as it visits <i>all</i> nodes of the tree."},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669495647,"post_id":74584935,"comment_id":131655002,"body_markdown":"i agree with (2) but about (1), why? it does imo, pre-order = root,left,right afaik","body":"i agree with (2) but about (1), why? it does imo, pre-order = root,left,right afaik"}],"answers":[{"tags":[],"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669494818,"creation_date":1669494776,"answer_id":74585423,"question_id":74584935,"body_markdown":"The recursive call inside the last 2 if statements should have:\r\n\r\nR.getLeftChild()    and R.getRightChild() \r\n\r\ninstead of:\r\n\r\nroot.getLeftChild() and root.getRightChild()","title":"Why does the current node not change to its left child even though it has one","body":"<p>The recursive call inside the last 2 if statements should have:</p>\n<p>R.getLeftChild()    and R.getRightChild()</p>\n<p>instead of:</p>\n<p>root.getLeftChild() and root.getRightChild()</p>\n"}],"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669497001,"creation_date":1669489984,"question_id":74584935,"body_markdown":"I debugged it and noticed that when the current node is 10, it goes through the second as it should, then it&#39;s called again, but the current node is still 10 instead of being 2\r\n\r\nInstructions:\r\n\r\nImplement a member method inRangeValues which returns a Java Array List with all the key value pairs from the tree that have a key that is greater than or equal to a key key1,\r\nand less than a second key key2 (this is called a range query).\r\n\r\nThe two keys are passed as parameters. Recall the private class MapEntry from theBinarySearchTree that implements the interface KeyValuePair.&#160;\r\n\r\nThe elements in the array list must be ordered in pre-order.\r\n\r\n\r\n```\r\n        inRangeValues(20, 51)\r\n\t\tT1.put(50, 50);\r\n\t\tT1.put(10, 10);\r\n\t\tT1.put(56, 56);\r\n\t\tT1.put(2, 2);\r\n\t\tT1.put(23, 23);\r\n\t\tT1.put(70, 70);\r\n\t\tT1.put(0, 0);\r\n\t\tT1.put(61, 61);\r\n        Expected value: [50 23]\r\n                          \r\n```    \r\n       this is how the tree looks: \r\n                       50\r\n\t           10______||______56 \r\n          2____||___23          |____70\t\t\t\t\r\n     0____|                    61____|\r\n```\r\n\r\n\r\n\t\t\t\tpublic ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; inRangeValues(K key1, K key2) {\r\n\t\t\t\t\tArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; L = new ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt;();\r\n\t\t\t\t\trecIRV(L, key1, key2, root);\r\n\t\t\t\t\treturn L;\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tpublic void recIRV(ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; L, K key1, K key2, BinaryTreeNode&lt;MapEntry&lt;K,V&gt;&gt; R) {\r\n\t\t\t\t\tif(keyComparator.compare(R.getValue().getKey(), key1) &gt;= 0 &amp;&amp; keyComparator.compare(R.getValue().getKey(), key2) &lt; 0) {\r\n\t\t\t\t\t\tL.add(R.getValue());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(R.getLeftChild() != null) {\r\n\t\t\t\t\t\trecIRV(L, key1, key2, root.getLeftChild());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(R.getRightChild() != null) {\t\r\n\t\t\t\t\t\trecIRV(L, key1, key2, root.getRightChild());\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n```\r\n\r\n\r\n","title":"Why does the current node not change to its left child even though it has one","body":"<p>I debugged it and noticed that when the current node is 10, it goes through the second as it should, then it's called again, but the current node is still 10 instead of being 2</p>\n<p>Instructions:</p>\n<p>Implement a member method inRangeValues which returns a Java Array List with all the key value pairs from the tree that have a key that is greater than or equal to a key key1,\nand less than a second key key2 (this is called a range query).</p>\n<p>The two keys are passed as parameters. Recall the private class MapEntry from theBinarySearchTree that implements the interface KeyValuePair. </p>\n<p>The elements in the array list must be ordered in pre-order.</p>\n<pre><code>        inRangeValues(20, 51)\n        T1.put(50, 50);\n        T1.put(10, 10);\n        T1.put(56, 56);\n        T1.put(2, 2);\n        T1.put(23, 23);\n        T1.put(70, 70);\n        T1.put(0, 0);\n        T1.put(61, 61);\n        Expected value: [50 23]\n                          \n</code></pre>\n<pre><code>   this is how the tree looks: \n                   50\n           10______||______56 \n      2____||___23          |____70             \n 0____|                    61____|\n</code></pre>\n<pre><code>\n\n                public ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; inRangeValues(K key1, K key2) {\n                    ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; L = new ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt;();\n                    recIRV(L, key1, key2, root);\n                    return L;           \n                }\n                public void recIRV(ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; L, K key1, K key2, BinaryTreeNode&lt;MapEntry&lt;K,V&gt;&gt; R) {\n                    if(keyComparator.compare(R.getValue().getKey(), key1) &gt;= 0 &amp;&amp; keyComparator.compare(R.getValue().getKey(), key2) &lt; 0) {\n                        L.add(R.getValue());\n                    }\n                    if(R.getLeftChild() != null) {\n                        recIRV(L, key1, key2, root.getLeftChild());\n                    }\n                    if(R.getRightChild() != null) { \n                        recIRV(L, key1, key2, root.getRightChild());\n                    }\n                    else {\n                        return;\n                    }\n                }\n</code></pre>\n"},{"tags":["java","maven","jpa","persistence","classnotfoundexception"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669738179,"post_id":74585166,"comment_id":131708535,"body_markdown":"Having dependencies in a POM can help with the compile and build, but they still need to be made available where you run the application classes - How are you deploying your app, and how are you building it, and what exactly are you executing to get this exception?","body":"Having dependencies in a POM can help with the compile and build, but they still need to be made available where you run the application classes - How are you deploying your app, and how are you building it, and what exactly are you executing to get this exception?"},{"owner":{"account_id":25353287,"reputation":1,"user_id":19169817,"display_name":"Ahmed Bentaj Hamyani"},"score":0,"creation_date":1669972499,"post_id":74585166,"comment_id":131768935,"body_markdown":"Thankyou for your time, but I resolved the problem by adding the .jar to lib directory","body":"Thankyou for your time, but I resolved the problem by adding the .jar to lib directory"}],"owner":{"account_id":25353287,"reputation":1,"user_id":19169817,"display_name":"Ahmed Bentaj Hamyani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669496610,"creation_date":1669492298,"question_id":74585166,"body_markdown":"I&#39;m getting this error in my application JPA + EclipseLink with maven, I already added the dependencies of the persistence and eclipseLink api.\r\n\r\n    java.lang.ClassNotFoundException: javax.persistence.Persistence\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n    \tat ma.fstt.persistence.ProductOperations.\\&lt;clinit\\&gt;(ProductOperations.java:12)\r\n    \tat ma.fstt.web.ProductServlet.listProducts(ProductServlet.java:51)\r\n    \tat ma.fstt.web.ProductServlet.doGet(ProductServlet.java:35)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\r\nThis is my `pom.xml` :\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.0.12&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nPlease anyone can help me","title":"java.lang.ClassNotFoundException: javax.persistence.Persistence JPA","body":"<p>I'm getting this error in my application JPA + EclipseLink with maven, I already added the dependencies of the persistence and eclipseLink api.</p>\n<pre><code>java.lang.ClassNotFoundException: javax.persistence.Persistence\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at ma.fstt.persistence.ProductOperations.\\&lt;clinit\\&gt;(ProductOperations.java:12)\n    at ma.fstt.web.ProductServlet.listProducts(ProductServlet.java:51)\n    at ma.fstt.web.ProductServlet.doGet(ProductServlet.java:35)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n</code></pre>\n<p>This is my <code>pom.xml</code> :</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Please anyone can help me</p>\n"},{"tags":["java","spring","spring-boot","checkmarx","cross-origin-resource-policy"],"answers":[{"tags":[],"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669494959,"creation_date":1669494959,"answer_id":74585439,"question_id":74464124,"body_markdown":"As part of the Same-Origin Policy, browsers by default does not allow sharing of resources between different domains from accessing one another&#39;s cookie or DOM objects to prevent users from falling victim to malicious websites. The [CORS][1] policy with the use of specific headers relaxes this restrictive behavior to enable cross-site communications.\r\n\r\nYour [@CrossOrigin][2] is too relaxed with wildcards (*) defined allowing **ALL** domains, so you will have to define a whitelist of domains that are only allowed to access the resources in your web app. For example:\r\n\r\n    @CrossOrigin(origins = &quot;https://yourdomain.com&quot;, allowedHeaders = &quot;Accept,Accept-Language,Content-Language,Content-Type&quot;, methods = {RequestMethod.GET, RequestMethod.OPTIONS, RequestMethod.POST, RequestMethod.PUT, RequestMethod.DELETE})\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\r\n  [2]: https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/cors.html","title":"Checkmarx issue - Spring overly permissive cross origin resource sharing policy","body":"<p>As part of the Same-Origin Policy, browsers by default does not allow sharing of resources between different domains from accessing one another's cookie or DOM objects to prevent users from falling victim to malicious websites. The <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">CORS</a> policy with the use of specific headers relaxes this restrictive behavior to enable cross-site communications.</p>\n<p>Your <a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/cors.html\" rel=\"nofollow noreferrer\">@CrossOrigin</a> is too relaxed with wildcards (*) defined allowing <strong>ALL</strong> domains, so you will have to define a whitelist of domains that are only allowed to access the resources in your web app. For example:</p>\n<pre><code>@CrossOrigin(origins = &quot;https://yourdomain.com&quot;, allowedHeaders = &quot;Accept,Accept-Language,Content-Language,Content-Type&quot;, methods = {RequestMethod.GET, RequestMethod.OPTIONS, RequestMethod.POST, RequestMethod.PUT, RequestMethod.DELETE})\n</code></pre>\n"}],"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669494959,"creation_date":1668616639,"question_id":74464124,"body_markdown":"On every method of every controller in my application checkmarx complains that **&quot;The method getCertificate sets an overly permissive CORS access control origin header&quot;**. I can see in this controller class no @crossOrigin is used. \r\n\r\n    @GetMapping(produces = APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;CertificateDTO&gt; getCertificate(HttpServletRequest request)  {\r\n            return ResponseEntity.ok(certificatePropertiesService.getCertificateDetails());\r\n        }\r\n\r\nBut i can see in Main class below is used. I am not able to establish the relation here. \r\n**@CrossOrigin(origins = &quot; * &quot;, allowedHeaders = &quot; * &quot;, methods = {RequestMethod.GET, RequestMethod.OPTIONS, RequestMethod.POST, RequestMethod.PUT, RequestMethod.DELETE})**\r\n\r\n\r\nWhat is happening here. How can we solve this issue? Where can i look in the code? Note this is existing code in the project\r\n\r\n","title":"Checkmarx issue - Spring overly permissive cross origin resource sharing policy","body":"<p>On every method of every controller in my application checkmarx complains that <strong>&quot;The method getCertificate sets an overly permissive CORS access control origin header&quot;</strong>. I can see in this controller class no @crossOrigin is used.</p>\n<pre><code>@GetMapping(produces = APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;CertificateDTO&gt; getCertificate(HttpServletRequest request)  {\n        return ResponseEntity.ok(certificatePropertiesService.getCertificateDetails());\n    }\n</code></pre>\n<p>But i can see in Main class below is used. I am not able to establish the relation here.\n<strong>@CrossOrigin(origins = &quot; * &quot;, allowedHeaders = &quot; * &quot;, methods = {RequestMethod.GET, RequestMethod.OPTIONS, RequestMethod.POST, RequestMethod.PUT, RequestMethod.DELETE})</strong></p>\n<p>What is happening here. How can we solve this issue? Where can i look in the code? Note this is existing code in the project</p>\n"},{"tags":["java","spring-mvc","checkmarx"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1668693994,"post_id":74476643,"comment_id":131472051,"body_markdown":"No, but there may not be much you can do about it. A best practice is to use char[] instead of String for passwords, as the characters can be modified after use. A String on the other hand remains as-is on the heap, so if someone can get a heap dump they can steal it. If you can change to char[] everywhere that would be better, but if the password is stored in a String at least once the damage has been done. Or if you use char[] without wiping the contents, of course.","body":"No, but there may not be much you can do about it. A best practice is to use char[] instead of String for passwords, as the characters can be modified after use. A String on the other hand remains as-is on the heap, so if someone can get a heap dump they can steal it. If you can change to char[] everywhere that would be better, but if the password is stored in a String at least once the damage has been done. Or if you use char[] without wiping the contents, of course."}],"answers":[{"tags":[],"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669494119,"creation_date":1669494119,"answer_id":74585353,"question_id":74476643,"body_markdown":"It is considered as a best security practice to not store passwords in immutable strings and use an encrypted memory object such as [SealedObject][1]. This specialized class can store encrypted data in memory and helps ensure that it can&#39;t be easily retrieved from memory.\r\n\r\n    @PutMapping(path = &quot;/changepassword&quot;, produces = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; changePassword(@RequestBody UserUpdate user, HttpServletRequest request, HttpServletResponse response)  {\r\n        String uid= user.getId();\r\n        SealedObject oldPassword = user.getOldPwrd();\r\n        SealedObject newPassword = user.getPwrd();\r\n        userDetails.changeUserPassword(uid, oldPassword, newPassword);\r\n        return ResponseEntity.ok(SUCCESS);\r\n    }\r\n\r\nYou will have to change your changeUserPassword method to handle SealedObject which involves defining a cipher and key for encryption:\r\n\r\n\tKey key = getKeyFromConfiguration();\r\n\tCipher c = Cipher.getInstance(CIPHER_NAME);\r\n\tc.init(Cipher.ENCRYPT_MODE, key);\r\n\tList&lt;Character&gt; characterList = Arrays.asList(input);\r\n\tpassword = new SealedObject((Serializable) characterList, c);\r\n\tArrays.fill(input, &#39;\\0&#39;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/crypto/SealedObject.html","title":"Checkmarx issue : Heap Inspection","body":"<p>It is considered as a best security practice to not store passwords in immutable strings and use an encrypted memory object such as <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/SealedObject.html\" rel=\"nofollow noreferrer\">SealedObject</a>. This specialized class can store encrypted data in memory and helps ensure that it can't be easily retrieved from memory.</p>\n<pre><code>@PutMapping(path = &quot;/changepassword&quot;, produces = APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;String&gt; changePassword(@RequestBody UserUpdate user, HttpServletRequest request, HttpServletResponse response)  {\n    String uid= user.getId();\n    SealedObject oldPassword = user.getOldPwrd();\n    SealedObject newPassword = user.getPwrd();\n    userDetails.changeUserPassword(uid, oldPassword, newPassword);\n    return ResponseEntity.ok(SUCCESS);\n}\n</code></pre>\n<p>You will have to change your changeUserPassword method to handle SealedObject which involves defining a cipher and key for encryption:</p>\n<pre><code>Key key = getKeyFromConfiguration();\nCipher c = Cipher.getInstance(CIPHER_NAME);\nc.init(Cipher.ENCRYPT_MODE, key);\nList&lt;Character&gt; characterList = Arrays.asList(input);\npassword = new SealedObject((Serializable) characterList, c);\nArrays.fill(input, '\\0');\n</code></pre>\n"}],"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669494119,"creation_date":1668693143,"question_id":74476643,"body_markdown":"Checkmarx complains &quot;Method changePassword defines oldPassword, which is designated to contain user passwords. However, while plaintext passwords are later assigned to oldPassword, this variable is never cleared from memory. It this a false positive?\r\n\r\n    @PutMapping(path = &quot;/changepassword&quot;, produces = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; changePassword(@RequestBody UserUpdate user, HttpServletRequest request, HttpServletResponse response)  {\r\n        String uid= user.getId();\r\n        String oldPassword = user.getOldPwrd();\r\n        String newPassword = user.getPwrd();\r\n        userDetails.changeUserPassword(uid, oldPassword, newPassword);\r\n        return ResponseEntity.ok(SUCCESS);\r\n    }\r\n\r\n","title":"Checkmarx issue : Heap Inspection","body":"<p>Checkmarx complains &quot;Method changePassword defines oldPassword, which is designated to contain user passwords. However, while plaintext passwords are later assigned to oldPassword, this variable is never cleared from memory. It this a false positive?</p>\n<pre><code>@PutMapping(path = &quot;/changepassword&quot;, produces = APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;String&gt; changePassword(@RequestBody UserUpdate user, HttpServletRequest request, HttpServletResponse response)  {\n    String uid= user.getId();\n    String oldPassword = user.getOldPwrd();\n    String newPassword = user.getPwrd();\n    userDetails.changeUserPassword(uid, oldPassword, newPassword);\n    return ResponseEntity.ok(SUCCESS);\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-aop"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669494082,"post_id":74585316,"comment_id":131654711,"body_markdown":"Does class `CustomerService` have a bean-defining annotation (`@Service`, `@Component`, ...)? --- I recommend reading: [What exactly is Field Injection and how to avoid it?](https://stackoverflow.com/questions/39890849/what-exactly-is-field-injection-and-how-to-avoid-it)","body":"Does class <code>CustomerService</code> have a bean-defining annotation (<code>@Service</code>, <code>@Component</code>, ...)? --- I recommend reading: <a href=\"https://stackoverflow.com/questions/39890849/what-exactly-is-field-injection-and-how-to-avoid-it\">What exactly is Field Injection and how to avoid it?</a>"},{"owner":{"account_id":4704408,"reputation":21,"user_id":3807023,"display_name":"HamidYari"},"score":0,"creation_date":1669494977,"post_id":74585316,"comment_id":131654867,"body_markdown":"Yes, it does. I wonder how is it working in list function :(\n\n`@Service\npublic class CustomerServiceImpl implements CustomerService {\n//services\n}`\n@Turing85","body":"Yes, it does. I wonder how is it working in list function :(  <code>@Service public class CustomerServiceImpl implements CustomerService { &#47;&#47;services }</code> @Turing85"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669495262,"post_id":74585316,"comment_id":131654920,"body_markdown":"Can you provide a [MRE], e.g. in form of a github project?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. in form of a github project?"},{"owner":{"account_id":4704408,"reputation":21,"user_id":3807023,"display_name":"HamidYari"},"score":0,"creation_date":1669495449,"post_id":74585316,"comment_id":131654961,"body_markdown":"I&#39;m just learning and I&#39;m watching the Udemy course and writing the code simultaneously. I can share zip of my project, is it good?","body":"I&#39;m just learning and I&#39;m watching the Udemy course and writing the code simultaneously. I can share zip of my project, is it good?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669495571,"post_id":74585316,"comment_id":131654986,"body_markdown":"I am not willing to download some zip from somewhere. Creating a github account is free and not time-consuming. Learning git should be on your to-dos anyway, and you should be up and running within minutes.","body":"I am not willing to download some zip from somewhere. Creating a github account is free and not time-consuming. Learning git should be on your to-dos anyway, and you should be up and running within minutes."}],"owner":{"account_id":4704408,"reputation":21,"user_id":3807023,"display_name":"HamidYari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669493747,"creation_date":1669493747,"question_id":74585316,"body_markdown":"I&#39;m new to Java and Spring. My problem is that using the autowired field in some of my controller functions throws NullPointerException.\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/customer&quot;)\r\npublic class CustomerController {\r\n\t \r\n\t@Autowired\r\n\tprivate CustomerService customerService;\r\n\t\r\n\t@GetMapping(&quot;/list&quot;)\r\n\tpublic String listCustomers(Model model) {\r\n\t\tList&lt;Customer&gt; customers = customerService.getCustomers();\r\n\t\tmodel.addAttribute(&quot;customers&quot;, customers);\r\n\t\treturn &quot;list-customer&quot;;\r\n\t}\r\n\r\n\t@PostMapping(&quot;/save&quot;)\r\n\tprivate String save(@ModelAttribute(&quot;customer&quot;) Customer customer) {\r\n\t\tcustomerService.saveCustomer(customer);\r\n\t\treturn &quot;redirect:/customer/list&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/delete&quot;)\r\n\tprivate String delete(@RequestParam(&quot;customerId&quot;) int id, Model model) {\r\n\t\tcustomerService.removeCustomer(customerService.getCustomer(id));\r\n\t\treturn &quot;redirect:/customer/list&quot;;\r\n\t}\r\n}\r\n```\r\nThis happens in the `save` or `delete` function but not in the `list`.\r\n\r\n&gt;java.lang.NullPointerException: Cannot invoke &quot;com.hamid.springdemo.service.CustomerService.getCustomer(int)&quot; because &quot;this.customerService&quot; is null\r\n\r\nI should mention that I recently added AOP support to my project, but I have no idea whether it is related or not.","title":"Null autowired field in some controller functions","body":"<p>I'm new to Java and Spring. My problem is that using the autowired field in some of my controller functions throws NullPointerException.</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/customer&quot;)\npublic class CustomerController {\n     \n    @Autowired\n    private CustomerService customerService;\n    \n    @GetMapping(&quot;/list&quot;)\n    public String listCustomers(Model model) {\n        List&lt;Customer&gt; customers = customerService.getCustomers();\n        model.addAttribute(&quot;customers&quot;, customers);\n        return &quot;list-customer&quot;;\n    }\n\n    @PostMapping(&quot;/save&quot;)\n    private String save(@ModelAttribute(&quot;customer&quot;) Customer customer) {\n        customerService.saveCustomer(customer);\n        return &quot;redirect:/customer/list&quot;;\n    }\n\n    @GetMapping(&quot;/delete&quot;)\n    private String delete(@RequestParam(&quot;customerId&quot;) int id, Model model) {\n        customerService.removeCustomer(customerService.getCustomer(id));\n        return &quot;redirect:/customer/list&quot;;\n    }\n}\n</code></pre>\n<p>This happens in the <code>save</code> or <code>delete</code> function but not in the <code>list</code>.</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;com.hamid.springdemo.service.CustomerService.getCustomer(int)&quot; because &quot;this.customerService&quot; is null</p>\n</blockquote>\n<p>I should mention that I recently added AOP support to my project, but I have no idea whether it is related or not.</p>\n"},{"tags":["java","spring","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669493628,"creation_date":1669493628,"answer_id":74585301,"question_id":74585262,"body_markdown":"You need a `version` tag for your dependency which specifies the version of the artifact you are trying to pull.\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Pom.xml cannot find artifact from m2 local repository","body":"<p>You need a <code>version</code> tag for your dependency which specifies the version of the artifact you are trying to pull.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\n            &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22923307,"reputation":51,"user_id":17058817,"display_name":"Kirill Zhurbin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669493628,"creation_date":1669493170,"question_id":74585262,"body_markdown":"I have created two projects using Spring Initializr: `message-spring-boot-starter` and `message-app`.\r\n\r\nWith the command `mvn clean install` I builded the artifact of the project `message-spring-boot-starter` and it appeared in the local m2 repository &quot;com.message-starter&quot;\r\n\r\nPom.xml of message-spring-boot-starter:\r\n\r\n```\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;message-spring-boot-starter&lt;/name&gt;\r\n    &lt;description&gt;message-spring-boot-starter&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nPom.xml of message-app:\r\n\r\n```\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;message-app&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;message-app&lt;/name&gt;\r\n    &lt;description&gt;message-app&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nI end up with an error: `Could not find artifact com.message-starter:message-spring-boot-starter:jar:unknown in central (https://repo.maven.apache.org/maven2)`\r\n\r\nI want to add `message-spring-boot-starter` to the dependency of `message-app` project but I get this error every time.\r\n\r\nPlease tell me what I&#39;m doing wrong and how to fix it","title":"Pom.xml cannot find artifact from m2 local repository","body":"<p>I have created two projects using Spring Initializr: <code>message-spring-boot-starter</code> and <code>message-app</code>.</p>\n<p>With the command <code>mvn clean install</code> I builded the artifact of the project <code>message-spring-boot-starter</code> and it appeared in the local m2 repository &quot;com.message-starter&quot;</p>\n<p>Pom.xml of message-spring-boot-starter:</p>\n<pre><code>\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\n    &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;message-spring-boot-starter&lt;/name&gt;\n    &lt;description&gt;message-spring-boot-starter&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Pom.xml of message-app:</p>\n<pre><code>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;message-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;message-app&lt;/name&gt;\n    &lt;description&gt;message-app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\n            &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I end up with an error: <code>Could not find artifact com.message-starter:message-spring-boot-starter:jar:unknown in central (https://repo.maven.apache.org/maven2)</code></p>\n<p>I want to add <code>message-spring-boot-starter</code> to the dependency of <code>message-app</code> project but I get this error every time.</p>\n<p>Please tell me what I'm doing wrong and how to fix it</p>\n"},{"tags":["java","maven","intellij-idea","jar","web3-java"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1612564651,"post_id":66070039,"comment_id":116816016,"body_markdown":"`org.web3j:core` is not a maven plugin so it can&#39;t be used one.","body":"<code>org.web3j:core</code> is not a maven plugin so it can&#39;t be used one."},{"owner":{"account_id":13270574,"reputation":557,"user_id":9581773,"display_name":"DIIMIIM"},"score":0,"creation_date":1612566363,"post_id":66070039,"comment_id":116816421,"body_markdown":"@khmarbaise I understand, any other idea how to use it with spigotmc ?","body":"@khmarbaise I understand, any other idea how to use it with spigotmc ?"}],"answers":[{"tags":[],"owner":{"account_id":13270574,"reputation":557,"user_id":9581773,"display_name":"DIIMIIM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612640983,"creation_date":1612640983,"answer_id":66081233,"question_id":66070039,"body_markdown":"I&#39;m not sure how much is this gonna help but I&#39;ve solved my problem by giving up on using maven and add it as jar to project modules.","title":"Failed to parse plugin descriptor for org.web3j:core:5.0.0","body":"<p>I'm not sure how much is this gonna help but I've solved my problem by giving up on using maven and add it as jar to project modules.</p>\n"}],"owner":{"account_id":13270574,"reputation":557,"user_id":9581773,"display_name":"DIIMIIM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669493536,"creation_date":1612556253,"question_id":66070039,"body_markdown":"I&#39;m trying to add the web3j library ( version 5.0.0 ) into the generated .jar of a java project, but for some reason I keep getting the error : \r\n\r\n`Failed to parse plugin descriptor for org.web3j:core:5.0.0 (C:\\Users\\...\\.m2\\repository\\org\\web3j\\core\\5.0.0\\core-5.0.0.jar): No plugin descriptor found at META-INF/maven/plugin.xml -&gt; [Help 1]` \r\n\r\n( Tried different versions , same error )\r\n\r\nThe `pom.xml` file content is the following :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;BMarketMC-v2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.4-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.web3j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.web3j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.16.4-R0.1-SNAPSHOT&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nThis error occurs when I run the `package` operation of the lifecycle , e.g :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pSbZr.png\r\n\r\nWhere exactly should be this `META-INF` folder? Because it&#39;s not in the project directory.\r\n\r\nPlease some help, any idea how can I fix this?","title":"Failed to parse plugin descriptor for org.web3j:core:5.0.0","body":"<p>I'm trying to add the web3j library ( version 5.0.0 ) into the generated .jar of a java project, but for some reason I keep getting the error :</p>\n<p><code>Failed to parse plugin descriptor for org.web3j:core:5.0.0 (C:\\Users\\...\\.m2\\repository\\org\\web3j\\core\\5.0.0\\core-5.0.0.jar): No plugin descriptor found at META-INF/maven/plugin.xml -&gt; [Help 1]</code></p>\n<p>( Tried different versions , same error )</p>\n<p>The <code>pom.xml</code> file content is the following :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;BMarketMC-v2&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n        &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n        &lt;version&gt;1.16.4-R0.1-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.web3j&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;4.8.4&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.web3j&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n            &lt;version&gt;1.16.4-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This error occurs when I run the <code>package</code> operation of the lifecycle , e.g :\n<a href=\"https://i.stack.imgur.com/pSbZr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSbZr.png\" alt=\"enter image description here\" /></a></p>\n<p>Where exactly should be this <code>META-INF</code> folder? Because it's not in the project directory.</p>\n<p>Please some help, any idea how can I fix this?</p>\n"},{"tags":["java","sqlite","android-studio"],"comments":[{"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"score":0,"creation_date":1669489822,"post_id":74584848,"comment_id":131653931,"body_markdown":"Previously deleted as I thought I instantly solved it by adding .getApplicationContext to getContext(), but it turns out it doesn&#39;t so I undeleted it as I still have no clue why its happening.  Oh, and by the way, the reason why I use DBhelper Dat = new DBhelper(getContext) or DBhelper Dat = new DBhelper(getContext.getApplicationContext) is because using DBHelper Dat = new DBHelper(this); makes it scream about wanting to change context to second fragment.","body":"Previously deleted as I thought I instantly solved it by adding .getApplicationContext to getContext(), but it turns out it doesn&#39;t so I undeleted it as I still have no clue why its happening.  Oh, and by the way, the reason why I use DBhelper Dat = new DBhelper(getContext) or DBhelper Dat = new DBhelper(getContext.getApplicationContext) is because using DBHelper Dat = new DBHelper(this); makes it scream about wanting to change context to second fragment."},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1669490374,"post_id":74584848,"comment_id":131654038,"body_markdown":"First, uninstall the app and rerun to recreate the tables.","body":"First, uninstall the app and rerun to recreate the tables."},{"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"score":0,"creation_date":1669490562,"post_id":74584848,"comment_id":131654068,"body_markdown":"uninstall android studio, or the app I created?","body":"uninstall android studio, or the app I created?"},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1669490602,"post_id":74584848,"comment_id":131654074,"body_markdown":"Uninstall the app from the device/emulator where you test it.","body":"Uninstall the app from the device/emulator where you test it."},{"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"score":0,"creation_date":1669491255,"post_id":74584848,"comment_id":131654173,"body_markdown":"tried xing out of the emulator on android studio and replayed it (think that is what you mean), same issue. Even tried creating an entire new device/virtual emulator, same issue still.","body":"tried xing out of the emulator on android studio and replayed it (think that is what you mean), same issue. Even tried creating an entire new device/virtual emulator, same issue still."}],"answers":[{"tags":[],"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669492599,"creation_date":1669492599,"answer_id":74585197,"question_id":74584848,"body_markdown":"Yeah, turns out that as @forpas said, the problem with the app was a matter of resetting the device. However, as I had no idea how to do that, or even that it was necessary, I kept on trying even though nothing worked, even though a better term would be &quot;wiping&quot; the app, as the way to do it seems to be the &quot;wipe data&quot; setting.","title":"SQLite getting error that it doesn&#39;t see stored column/table despite it showing it exists","body":"<p>Yeah, turns out that as @forpas said, the problem with the app was a matter of resetting the device. However, as I had no idea how to do that, or even that it was necessary, I kept on trying even though nothing worked, even though a better term would be &quot;wiping&quot; the app, as the way to do it seems to be the &quot;wipe data&quot; setting.</p>\n"}],"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669492599,"creation_date":1669489290,"question_id":74584848,"body_markdown":"While working on a school project that uses SQLite, I have been having a multidute of problems with it, but after getting most of them working, the main problem I am facing right not is twofold, that as far as I know, it is not seeing all of the content that is stored in the sql, getting four main errors: &quot;SQLiteLog: (1) table customers has no column named international in &quot;INSERT INTO customers(salary,skills,userType,age,name,international) VALUES (?,?,?,?,?,?)&quot;, &quot;SQLiteDataBase: Error inserting salary=123 skills=testing,coding,stuff userType=0 age=18 name=Josh international=N                                                                                                android.database.sqlite.SQLiteException: table customers has no column named international (code 1 SQLITE_ERROR): , while compiling: INSERT INTO customers(salary,skills,userType,age,name,international) VALUES (?,?,?,?,?,?)&quot;, &quot;SQLiteLog (1) no such table: security in &quot;INSERT INTO security(username,password) VALUES (?,?)&quot; and &quot;SQLiteDatabase Error inserting username=Josher password=password\r\n                                                                                                    android.database.sqlite.SQLiteException: no such table: security (code 1 SQLITE_ERROR): , while compiling: INSERT INTO security(username,password) VALUES (?,?)&quot;. The even more confusing thing is that for some of the errors they list the very thing that the error says is missing, which I find even weirder. While there was a post about someone having a similar issue, not only is the code seem very different, but was happening while updating the database, which I haven&#39;t even attempting, and has an answer that I don&#39;t know how to apply to my current code. What exactly is causing these four error, as they seem to be connected, and have no idea what is wrong? Is there a problem with my code? Are you not allowed to have two tables at once with SQLite or something? The code below is the DBHelper,java code, and xml for the section that is having the issue.\r\n\r\nDBHelper:\r\n\r\n    public class DBHelper extends SQLiteOpenHelper {\r\n        public static final String DBNAME = &quot;Customers.db&quot;;\r\n        public DBHelper(Context context){\r\n            super(context,DBNAME,null,1);\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase Dat) {\r\n            Dat.execSQL(&quot;create Table customers(name TEXT primary key, age INTEGER, skills TEXT,salary INTEGER, international TEXT,userType INTEGER)&quot;);\r\n            Dat.execSQL(&quot;create Table security(username TEXT primary key, password TEXT)&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase Dat, int i, int i1) {\r\n            Dat.execSQL(&quot;drop Table if exists customers&quot;);\r\n        }\r\n        public Boolean insertData(String name, int age, String skills, int salary,String international, int userType){\r\n            SQLiteDatabase Dat = this.getWritableDatabase();\r\n            ContentValues content = new ContentValues();\r\n    \r\n            content.put(&quot;name&quot;,name);\r\n            content.put(&quot;age&quot;,age);\r\n            content.put(&quot;skills&quot;,skills);\r\n            content.put(&quot;salary&quot;,salary);\r\n            content.put(&quot;international&quot;,international);\r\n            content.put(&quot;userType&quot;,userType);\r\n            long result = Dat.insert(&quot;customers&quot;,null,content);\r\n            if(result == -1){\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        public Boolean insertSecurity(String username, String password){\r\n            SQLiteDatabase Dat = this.getWritableDatabase();\r\n            ContentValues content = new ContentValues();\r\n            content.put(&quot;username&quot;,username);\r\n            content.put(&quot;password&quot;,password);\r\n            long result = Dat.insert(&quot;security&quot;,null,content);\r\n            if(result == -1){\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n\r\nJava file Second Fragment (main activity and first fragment have no issues as far as I know)\r\n\r\n    public class SecondFragment extends Fragment {\r\n    \r\n        private FragmentSecondBinding binding;\r\n    \r\n        @Override\r\n        public View onCreateView(\r\n                LayoutInflater inflater, ViewGroup container,\r\n                Bundle savedInstanceState\r\n        ) {\r\n    \r\n            binding = FragmentSecondBinding.inflate(inflater, container, false);\r\n            return binding.getRoot();\r\n    \r\n        }\r\n    \r\n        public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n            view.getId();\r\n            super.onViewCreated(view, savedInstanceState);\r\n            EditText StudentName = (EditText) view.findViewById(R.id.editTextStudentName);\r\n            EditText StudentsAge = (EditText) view.findViewById(R.id.editTextStudentAge);\r\n            EditText StudentSalary = (EditText) view.findViewById(R.id.editTextStudentSalary);\r\n            EditText StudentInternational = (EditText) view.findViewById(R.id.editTextStudentInternational);\r\n            EditText StudentUsername = (EditText) view.findViewById(R.id.editTextStudentUsername);\r\n            EditText StudentPassword = (EditText) view.findViewById(R.id.editTextStudentPassword);\r\n            EditText StudentSkills = (EditText) view.findViewById(R.id.editTextStudentSkills);\r\n    \r\n    \r\n            DBHelper Dat = new DBHelper(getContext());\r\n    \r\n    \r\n            binding.buttonBack.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    NavHostFragment.findNavController(SecondFragment.this)\r\n                            .navigate(R.id.action_SecondFragment_to_FirstFragment);\r\n                }\r\n            });\r\n            binding.buttonNext.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String name = StudentName.getText().toString();\r\n                    String age = StudentsAge.getText().toString();\r\n                    String salary = StudentSalary.getText().toString();\r\n                    int savedSalary = tryParse(salary);\r\n                    String international = StudentInternational.getText().toString();\r\n                    String user = StudentUsername.getText().toString();\r\n                    String pass = StudentPassword.getText().toString();\r\n                    String skills = StudentSkills.getText().toString();\r\n                    int savedAge = tryParse(age);\r\n                    if(name.equals(&quot;&quot;)|| age.equals(&quot;&quot;) || salary.equals(&quot;&quot;) || international.equals(&quot;&quot;) || user.equals(&quot;&quot;) || pass.equals(&quot;&quot;) || skills.equals(&quot;&quot;)) {\r\n                        Toast.makeText(getContext(), &quot;A field is empty&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else if(savedSalary == -1 || savedAge == -1){\r\n                        Toast.makeText(getContext(), &quot;Salary and Age should be integers&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else{\r\n                        Boolean try1 = Dat.insertData(name,savedAge,skills,savedSalary,international,0);\r\n                        Boolean try2 = Dat.insertSecurity(user, pass);\r\n                        NavHostFragment.findNavController(SecondFragment.this)\r\n                                    .navigate(R.id.action_SecondFragment_to_FourthFragment);\r\n                        }\r\n                    }\r\n                \r\n            });\r\n        }\r\n        public Integer tryParse(Object obj) {\r\n            Integer retVal;\r\n            try {\r\n                retVal = Integer.parseInt((String) obj);\r\n            } catch (NumberFormatException nfe) {\r\n                retVal = -1; // or null if that is your preference\r\n            }\r\n            return retVal;\r\n        }\r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n    \r\n            binding = null;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\nXML code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.SecondFragment&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textview_second&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;100dp&quot;\r\n            android:text=&quot;Enter Student Info&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/button_back&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_back&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;100dp&quot;\r\n            android:layout_marginTop=&quot;450dp&quot;\r\n            android:text=&quot;@string/previous&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/textview_second&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_next&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;24dp&quot;\r\n            android:layout_marginTop=&quot;450dp&quot;\r\n            android:text=&quot;Next&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/button_back&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textview_second&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentName&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;3dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Student Name&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textview_second&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentSalary&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;start|top&quot;\r\n            android:hint=&quot;Enter minimum accepted salary&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentAge&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentAge&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;start|top&quot;\r\n            android:hint=&quot;Enter Student Age&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentName&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentInternational&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;start|top&quot;\r\n            android:hint=&quot;Enter if Internation student, use Y or N&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentSalary&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentUsername&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Username&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentInternational&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentPassword&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Password&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n    \r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentUsername&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentSkills&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;start|top&quot;\r\n            android:hint=&quot;Enter skills seperated by commas&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentPassword&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"SQLite getting error that it doesn&#39;t see stored column/table despite it showing it exists","body":"<p>While working on a school project that uses SQLite, I have been having a multidute of problems with it, but after getting most of them working, the main problem I am facing right not is twofold, that as far as I know, it is not seeing all of the content that is stored in the sql, getting four main errors: &quot;SQLiteLog: (1) table customers has no column named international in &quot;INSERT INTO customers(salary,skills,userType,age,name,international) VALUES (?,?,?,?,?,?)&quot;, &quot;SQLiteDataBase: Error inserting salary=123 skills=testing,coding,stuff userType=0 age=18 name=Josh international=N                                                                                                android.database.sqlite.SQLiteException: table customers has no column named international (code 1 SQLITE_ERROR): , while compiling: INSERT INTO customers(salary,skills,userType,age,name,international) VALUES (?,?,?,?,?,?)&quot;, &quot;SQLiteLog (1) no such table: security in &quot;INSERT INTO security(username,password) VALUES (?,?)&quot; and &quot;SQLiteDatabase Error inserting username=Josher password=password\nandroid.database.sqlite.SQLiteException: no such table: security (code 1 SQLITE_ERROR): , while compiling: INSERT INTO security(username,password) VALUES (?,?)&quot;. The even more confusing thing is that for some of the errors they list the very thing that the error says is missing, which I find even weirder. While there was a post about someone having a similar issue, not only is the code seem very different, but was happening while updating the database, which I haven't even attempting, and has an answer that I don't know how to apply to my current code. What exactly is causing these four error, as they seem to be connected, and have no idea what is wrong? Is there a problem with my code? Are you not allowed to have two tables at once with SQLite or something? The code below is the DBHelper,java code, and xml for the section that is having the issue.</p>\n<p>DBHelper:</p>\n<pre><code>public class DBHelper extends SQLiteOpenHelper {\n    public static final String DBNAME = &quot;Customers.db&quot;;\n    public DBHelper(Context context){\n        super(context,DBNAME,null,1);\n    }\n\n\n\n    @Override\n    public void onCreate(SQLiteDatabase Dat) {\n        Dat.execSQL(&quot;create Table customers(name TEXT primary key, age INTEGER, skills TEXT,salary INTEGER, international TEXT,userType INTEGER)&quot;);\n        Dat.execSQL(&quot;create Table security(username TEXT primary key, password TEXT)&quot;);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase Dat, int i, int i1) {\n        Dat.execSQL(&quot;drop Table if exists customers&quot;);\n    }\n    public Boolean insertData(String name, int age, String skills, int salary,String international, int userType){\n        SQLiteDatabase Dat = this.getWritableDatabase();\n        ContentValues content = new ContentValues();\n\n        content.put(&quot;name&quot;,name);\n        content.put(&quot;age&quot;,age);\n        content.put(&quot;skills&quot;,skills);\n        content.put(&quot;salary&quot;,salary);\n        content.put(&quot;international&quot;,international);\n        content.put(&quot;userType&quot;,userType);\n        long result = Dat.insert(&quot;customers&quot;,null,content);\n        if(result == -1){\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    public Boolean insertSecurity(String username, String password){\n        SQLiteDatabase Dat = this.getWritableDatabase();\n        ContentValues content = new ContentValues();\n        content.put(&quot;username&quot;,username);\n        content.put(&quot;password&quot;,password);\n        long result = Dat.insert(&quot;security&quot;,null,content);\n        if(result == -1){\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n</code></pre>\n<p>Java file Second Fragment (main activity and first fragment have no issues as far as I know)</p>\n<pre><code>public class SecondFragment extends Fragment {\n\n    private FragmentSecondBinding binding;\n\n    @Override\n    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n\n        binding = FragmentSecondBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        view.getId();\n        super.onViewCreated(view, savedInstanceState);\n        EditText StudentName = (EditText) view.findViewById(R.id.editTextStudentName);\n        EditText StudentsAge = (EditText) view.findViewById(R.id.editTextStudentAge);\n        EditText StudentSalary = (EditText) view.findViewById(R.id.editTextStudentSalary);\n        EditText StudentInternational = (EditText) view.findViewById(R.id.editTextStudentInternational);\n        EditText StudentUsername = (EditText) view.findViewById(R.id.editTextStudentUsername);\n        EditText StudentPassword = (EditText) view.findViewById(R.id.editTextStudentPassword);\n        EditText StudentSkills = (EditText) view.findViewById(R.id.editTextStudentSkills);\n\n\n        DBHelper Dat = new DBHelper(getContext());\n\n\n        binding.buttonBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                NavHostFragment.findNavController(SecondFragment.this)\n                        .navigate(R.id.action_SecondFragment_to_FirstFragment);\n            }\n        });\n        binding.buttonNext.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String name = StudentName.getText().toString();\n                String age = StudentsAge.getText().toString();\n                String salary = StudentSalary.getText().toString();\n                int savedSalary = tryParse(salary);\n                String international = StudentInternational.getText().toString();\n                String user = StudentUsername.getText().toString();\n                String pass = StudentPassword.getText().toString();\n                String skills = StudentSkills.getText().toString();\n                int savedAge = tryParse(age);\n                if(name.equals(&quot;&quot;)|| age.equals(&quot;&quot;) || salary.equals(&quot;&quot;) || international.equals(&quot;&quot;) || user.equals(&quot;&quot;) || pass.equals(&quot;&quot;) || skills.equals(&quot;&quot;)) {\n                    Toast.makeText(getContext(), &quot;A field is empty&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else if(savedSalary == -1 || savedAge == -1){\n                    Toast.makeText(getContext(), &quot;Salary and Age should be integers&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else{\n                    Boolean try1 = Dat.insertData(name,savedAge,skills,savedSalary,international,0);\n                    Boolean try2 = Dat.insertSecurity(user, pass);\n                    NavHostFragment.findNavController(SecondFragment.this)\n                                .navigate(R.id.action_SecondFragment_to_FourthFragment);\n                    }\n                }\n            \n        });\n    }\n    public Integer tryParse(Object obj) {\n        Integer retVal;\n        try {\n            retVal = Integer.parseInt((String) obj);\n        } catch (NumberFormatException nfe) {\n            retVal = -1; // or null if that is your preference\n        }\n        return retVal;\n    }\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n\n        binding = null;\n    }\n\n\n\n}\n</code></pre>\n<p>XML code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SecondFragment&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textview_second&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;100dp&quot;\n        android:text=&quot;Enter Student Info&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/button_back&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_back&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;100dp&quot;\n        android:layout_marginTop=&quot;450dp&quot;\n        android:text=&quot;@string/previous&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/textview_second&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_next&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;24dp&quot;\n        android:layout_marginTop=&quot;450dp&quot;\n        android:text=&quot;Next&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button_back&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textview_second&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentName&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;3dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Student Name&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textview_second&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentSalary&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n        android:hint=&quot;Enter minimum accepted salary&quot;\n        android:inputType=&quot;number&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentAge&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentAge&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;1dp&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n        android:hint=&quot;Enter Student Age&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentName&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentInternational&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n        android:hint=&quot;Enter if Internation student, use Y or N&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentSalary&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentUsername&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Username&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentInternational&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentPassword&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Password&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:minHeight=&quot;48dp&quot;\n\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentUsername&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentSkills&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n        android:hint=&quot;Enter skills seperated by commas&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentPassword&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","nlp","data-dictionary","text-segmentation"],"comments":[{"owner":{"account_id":3987,"reputation":15843,"user_id":5856,"display_name":"Stompchicken"},"score":0,"creation_date":1294222881,"post_id":4580877,"comment_id":5057839,"body_markdown":"Are you certain that you want to exclude any words that are not in your lexicon? There will always be &#39;interesting&#39; words that are not in the lexicon.","body":"Are you certain that you want to exclude any words that are not in your lexicon? There will always be &#39;interesting&#39; words that are not in the lexicon."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1294237644,"post_id":4580877,"comment_id":5060596,"body_markdown":"@StompChicken: 1) Technical manuals + business documents `-&gt;` corpus. 2) Corpus + dictionary (w/lemmas) `-&gt;` probability lexicon. 3) Algorithm( lexicon + columns ) `-&gt;` split words. I have since tested the solution against 3300+ column names. The software correctly split 87% (random sample of 100) of the words. The remaining 13% that I saw could be accurately split if (a) the dictionary included lemmas; and (b) the corpus had more data. Both of those issues can be easily and quickly resolved.","body":"@StompChicken: 1) Technical manuals + business documents <code>-&gt;</code> corpus. 2) Corpus + dictionary (w/lemmas) <code>-&gt;</code> probability lexicon. 3) Algorithm( lexicon + columns ) <code>-&gt;</code> split words. I have since tested the solution against 3300+ column names. The software correctly split 87% (random sample of 100) of the words. The remaining 13% that I saw could be accurately split if (a) the dictionary included lemmas; and (b) the corpus had more data. Both of those issues can be easily and quickly resolved."},{"owner":{"account_id":3987,"reputation":15843,"user_id":5856,"display_name":"Stompchicken"},"score":0,"creation_date":1294237937,"post_id":4580877,"comment_id":5060679,"body_markdown":"@Dave Jarvis I&#39;m not sure if that&#39;s a yes or a no. My point is that word distributions are long-tailed and the amount of data required to get those extra % increase exponentially.","body":"@Dave Jarvis I&#39;m not sure if that&#39;s a yes or a no. My point is that word distributions are long-tailed and the amount of data required to get those extra % increase exponentially."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1294240388,"post_id":4580877,"comment_id":5061288,"body_markdown":"@StompChicken: Words not in the lexicon are parsed correctly (e.g., ageconrolnoticeperiod `-&gt;` age **conrol** notice period). The closest answer to your question is *yes*, but that does not mean that the &#39;interesting&#39; words are discarded from the solution. Keep in mind that the goal is not 100% conversion. Attaining 95% will suffice: the rest can be fixed manually.","body":"@StompChicken: Words not in the lexicon are parsed correctly (e.g., ageconrolnoticeperiod <code>-&gt;</code> age <b>conrol</b> notice period). The closest answer to your question is <i>yes</i>, but that does not mean that the &#39;interesting&#39; words are discarded from the solution. Keep in mind that the goal is not 100% conversion. Attaining 95% will suffice: the rest can be fixed manually."}],"answers":[{"tags":[],"owner":{"account_id":260457,"reputation":2364,"user_id":544024,"accept_rate":100,"display_name":"killdash9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294009128,"creation_date":1294009128,"answer_id":4580980,"question_id":4580877,"body_markdown":"I would approach the problem slightly differently.  It&#39;s significant that &quot;end&quot; and &quot;dependent&quot; overlap, yet that is lost in your word Map.  If instead of a single word map you were to create a set of word maps, with each one representing a possible segmentation of the column name, consisting only of non-overlapping words, you could compute a score for each segmentation based on the word&#39;s probabilities and word length.  The score for a segmentation would be the average of the scores of the individual words in the segmentation.  The score for an individual word would be some function of the word&#39;s length(l) and probability(p), something like &lt;pre&gt;score=al + bp&lt;/pre&gt; where a and b are weights that you can tweak to get the right mix.  Average the scores for each word to get the score for the segmentation and pick the segmentation with the highest score.  The score function would not have to be a linear weighting either, you could experiment with logarithmic, exponential or higher-order polynomials (squares for instance)","title":"Text segmentation: dictionary-based word splitting","body":"<p>I would approach the problem slightly differently.  It's significant that \"end\" and \"dependent\" overlap, yet that is lost in your word Map.  If instead of a single word map you were to create a set of word maps, with each one representing a possible segmentation of the column name, consisting only of non-overlapping words, you could compute a score for each segmentation based on the word's probabilities and word length.  The score for a segmentation would be the average of the scores of the individual words in the segmentation.  The score for an individual word would be some function of the word's length(l) and probability(p), something like <pre>score=al + bp</pre> where a and b are weights that you can tweak to get the right mix.  Average the scores for each word to get the score for the segmentation and pick the segmentation with the highest score.  The score function would not have to be a linear weighting either, you could experiment with logarithmic, exponential or higher-order polynomials (squares for instance)</p>\n"},{"tags":[],"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294009791,"creation_date":1294009791,"answer_id":4581021,"question_id":4580877,"body_markdown":"Your problem is a very common one in NLP - don&#39;t start by reinventing the wheel - it will take you a long time and not be as good as what is out there already.\r\n\r\nYou should certainly start by seeing what the NLP libraries have to offer: http://en.wikipedia.org/wiki/Natural_language_processing and http://en.wikipedia.org/wiki/Category:Natural_language_processing_toolkits. Your problem is a common one and there are different approaches which you will need to explore for your corpus.\r\n\r\nYour wordsplitting may be found under hyphenation routines. Two possible approaches are n-grams (where the frequency of (say) 4-character substrings are used to predict boundaries) and tries which show common starts or ends to words. Some of these may help with misspellings.\r\n\r\nBut there is no trivial answer - find what works best for you.","title":"Text segmentation: dictionary-based word splitting","body":"<p>Your problem is a very common one in NLP - don't start by reinventing the wheel - it will take you a long time and not be as good as what is out there already.</p>\n\n<p>You should certainly start by seeing what the NLP libraries have to offer: <a href=\"http://en.wikipedia.org/wiki/Natural_language_processing\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Natural_language_processing</a> and <a href=\"http://en.wikipedia.org/wiki/Category:Natural_language_processing_toolkits\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Category:Natural_language_processing_toolkits</a>. Your problem is a common one and there are different approaches which you will need to explore for your corpus.</p>\n\n<p>Your wordsplitting may be found under hyphenation routines. Two possible approaches are n-grams (where the frequency of (say) 4-character substrings are used to predict boundaries) and tries which show common starts or ends to words. Some of these may help with misspellings.</p>\n\n<p>But there is no trivial answer - find what works best for you.</p>\n"},{"tags":[],"owner":{"account_id":699298,"reputation":11,"user_id":587716,"display_name":"Mike St. John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669491899,"creation_date":1295883883,"answer_id":4783888,"question_id":4580877,"body_markdown":"Peter Norvig has written some stuff in python.\r\n\r\nhttp://norvig.com/ngrams/ngrams.py\r\n\r\ncontains a function called segment.    It run a Naive Bayes probability of a sequence of words.   works well.   Can be a good basis for what your trying to accomplish in java.\r\n","title":"Text segmentation: dictionary-based word splitting","body":"<p>Peter Norvig has written some stuff in python.</p>\n<p><a href=\"http://norvig.com/ngrams/ngrams.py\" rel=\"nofollow noreferrer\">http://norvig.com/ngrams/ngrams.py</a></p>\n<p>contains a function called segment.    It run a Naive Bayes probability of a sequence of words.   works well.   Can be a good basis for what your trying to accomplish in java.</p>\n"}],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7534,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1422605933,"answer_count":3,"score":5,"last_activity_date":1669492259,"creation_date":1294007545,"question_id":4580877,"body_markdown":"## Background\r\nSplit database column names into equivalent English text to seed a data dictionary. The English dictionary is created from a corpus of corporate documents, wikis, and email. The dictionary (`lexicon.csv`) is a CSV file with words and probabilities. Thus, the more often someone writes the word &quot;therapist&quot; (in email or on a wiki page) the higher the chance of &quot;therapistname&quot; splits to &quot;therapist name&quot; as opposed to something else. (The lexicon probably won&#39;t even include the word rapist.)\r\n\r\n## Source Code\r\n - TextSegmenter.java @ http://pastebin.com/taXyE03L\r\n - SortableValueMap.java @ http://pastebin.com/v3hRXYan\r\n\r\n## Data Files\r\n - lexicon.csv - http://pastebin.com/0crECtXY\r\n - columns.txt - http://pastebin.com/EtN9Qesr\r\n\r\n## Problem (updated 2011-01-03)\r\nWhen the following problem is encountered:\r\n\r\n    dependentrelationship::end depend ent dependent relationship\r\n    end=0.86\r\n    ent=0.001\r\n    dependent=0.8\r\n    relationship=0.9\r\n\r\nThese possible solutions exist:\r\n\r\n    dependentrelationship::dependent relationship\r\n    dependentrelationship::dep end ent relationship\r\n    dependentrelationship::depend ent relationship\r\n\r\nThe lexicon contains words with their relative probabilities (based on word frequency): `dependent 0.8`, `end 0.86`, `relationship 0.9`, `depend 0.3`, and `ent 0.001`.\r\n\r\nEliminate the solution of `dep end ent relationship` because `dep` is not in the lexicon (i.e., 75% word usage), whereas the other two solutions cover 100% of words in the lexicon. Of the remaining solutions, the probability of `dependent relationship` is *0.72* whereas `depend ent relationship` is *0.00027*. We can therefore select `dependent relationship` as the correct solution.\r\n\r\n## Related\r\n- https://stackoverflow.com/questions/3856630/how-to-separate-words-in-a-sentence-with-spaces\r\n- [Top Coder - Text Segmentation Presentation 1/2][1]\r\n- [Top Coder - Text Segmentation Presentation 2/2][2]\r\n- [Linear Text Segmentation using Dynamic Programming Algorithm][3]\r\n- [Dynamic Programming: Segmentation][4]\r\n- [Dynamic Programming: A Computational Tool][5]\r\n\r\n## Question\r\nGiven:\r\n\r\n    // The concatenated phrase or database column (e.g., dependentrelationship).\r\n    String concat;\r\n\r\n    // All words (String) in the lexicon within concat, in left-to-right order; and\r\n    // the ranked probability of those words (Double). (E.g., {end, 0.97}\r\n    // {dependent, 0.86}, {relationship, 0.95}.)\r\n    Map.Entry&lt;String, Double&gt; word;\r\n\r\nHow would you implement a routine that generates the most likely solution based on lexicon coverage and probabilities? For example:\r\n\r\n    for( Map.Entry&lt;String, Double&gt; word : words ) {\r\n      result.append( word.getKey() ).append( &#39; &#39; );\r\n\r\n      // What goes here?\r\n\r\n      System.out.printf( &quot;%s=%f\\n&quot;, word.getKey(), word.getValue() );\r\n    }\r\n\r\nThank you!\r\n\r\n  [1]: https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjMzMTEzYTA5NTk3NjFjOTc\r\n  [2]: https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjQ1YmFiZTNhODVjMzY2MmY\r\n  [3]: https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjYyN2I4NTA0OTIxZDNlMGE\r\n  [4]: https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjUxZmFkNzc0MmMzOTc5ZmI\r\n  [5]: https://sites.google.com/site/djpdfstore/text-segmentation-02.pdf?attredirects=0&amp;d=1\r\n","title":"Text segmentation: dictionary-based word splitting","body":"<h2>Background</h2>\n\n<p>Split database column names into equivalent English text to seed a data dictionary. The English dictionary is created from a corpus of corporate documents, wikis, and email. The dictionary (<code>lexicon.csv</code>) is a CSV file with words and probabilities. Thus, the more often someone writes the word \"therapist\" (in email or on a wiki page) the higher the chance of \"therapistname\" splits to \"therapist name\" as opposed to something else. (The lexicon probably won't even include the word rapist.)</p>\n\n<h2>Source Code</h2>\n\n<ul>\n<li>TextSegmenter.java @ <a href=\"http://pastebin.com/taXyE03L\" rel=\"nofollow noreferrer\">http://pastebin.com/taXyE03L</a></li>\n<li>SortableValueMap.java @ <a href=\"http://pastebin.com/v3hRXYan\" rel=\"nofollow noreferrer\">http://pastebin.com/v3hRXYan</a></li>\n</ul>\n\n<h2>Data Files</h2>\n\n<ul>\n<li>lexicon.csv - <a href=\"http://pastebin.com/0crECtXY\" rel=\"nofollow noreferrer\">http://pastebin.com/0crECtXY</a></li>\n<li>columns.txt - <a href=\"http://pastebin.com/EtN9Qesr\" rel=\"nofollow noreferrer\">http://pastebin.com/EtN9Qesr</a></li>\n</ul>\n\n<h2>Problem (updated 2011-01-03)</h2>\n\n<p>When the following problem is encountered:</p>\n\n<pre><code>dependentrelationship::end depend ent dependent relationship\nend=0.86\nent=0.001\ndependent=0.8\nrelationship=0.9\n</code></pre>\n\n<p>These possible solutions exist:</p>\n\n<pre><code>dependentrelationship::dependent relationship\ndependentrelationship::dep end ent relationship\ndependentrelationship::depend ent relationship\n</code></pre>\n\n<p>The lexicon contains words with their relative probabilities (based on word frequency): <code>dependent 0.8</code>, <code>end 0.86</code>, <code>relationship 0.9</code>, <code>depend 0.3</code>, and <code>ent 0.001</code>.</p>\n\n<p>Eliminate the solution of <code>dep end ent relationship</code> because <code>dep</code> is not in the lexicon (i.e., 75% word usage), whereas the other two solutions cover 100% of words in the lexicon. Of the remaining solutions, the probability of <code>dependent relationship</code> is <em>0.72</em> whereas <code>depend ent relationship</code> is <em>0.00027</em>. We can therefore select <code>dependent relationship</code> as the correct solution.</p>\n\n<h2>Related</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3856630/how-to-separate-words-in-a-sentence-with-spaces\">How to separate words in a &quot;sentence&quot; with spaces?</a></li>\n<li><a href=\"https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjMzMTEzYTA5NTk3NjFjOTc\" rel=\"nofollow noreferrer\">Top Coder - Text Segmentation Presentation 1/2</a></li>\n<li><a href=\"https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjQ1YmFiZTNhODVjMzY2MmY\" rel=\"nofollow noreferrer\">Top Coder - Text Segmentation Presentation 2/2</a></li>\n<li><a href=\"https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjYyN2I4NTA0OTIxZDNlMGE\" rel=\"nofollow noreferrer\">Linear Text Segmentation using Dynamic Programming Algorithm</a></li>\n<li><a href=\"https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjUxZmFkNzc0MmMzOTc5ZmI\" rel=\"nofollow noreferrer\">Dynamic Programming: Segmentation</a></li>\n<li><a href=\"https://sites.google.com/site/djpdfstore/text-segmentation-02.pdf?attredirects=0&amp;d=1\" rel=\"nofollow noreferrer\">Dynamic Programming: A Computational Tool</a></li>\n</ul>\n\n<h2>Question</h2>\n\n<p>Given:</p>\n\n<pre><code>// The concatenated phrase or database column (e.g., dependentrelationship).\nString concat;\n\n// All words (String) in the lexicon within concat, in left-to-right order; and\n// the ranked probability of those words (Double). (E.g., {end, 0.97}\n// {dependent, 0.86}, {relationship, 0.95}.)\nMap.Entry&lt;String, Double&gt; word;\n</code></pre>\n\n<p>How would you implement a routine that generates the most likely solution based on lexicon coverage and probabilities? For example:</p>\n\n<pre><code>for( Map.Entry&lt;String, Double&gt; word : words ) {\n  result.append( word.getKey() ).append( ' ' );\n\n  // What goes here?\n\n  System.out.printf( \"%s=%f\\n\", word.getKey(), word.getValue() );\n}\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["java","velocity","apache-velocity"],"comments":[{"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"score":0,"creation_date":1669449690,"post_id":74574363,"comment_id":131646959,"body_markdown":"Several questions: under which form is your example data given to Velocity in the context? Is it a String, a Json object instance of some Json library? And do you have access to the Velocity Tools `JsonTool` in your context?","body":"Several questions: under which form is your example data given to Velocity in the context? Is it a String, a Json object instance of some Json library? And do you have access to the Velocity Tools <code>JsonTool</code> in your context?"},{"owner":{"account_id":20852934,"reputation":51,"user_id":15317030,"display_name":"James Stan"},"score":0,"creation_date":1669462341,"post_id":74574363,"comment_id":131648680,"body_markdown":"@ClaudeBrisson the input or data source is in JSON. I have provided the sample above and yes I have access to JsonTool. Now to read a non list elements from JSON I did $document.StudentName and store the attribute value in a variable but I can not do the same thing for list for example\n#set(listofuniversity = $document.List&lt;University&gt;) the special character &lt; &amp; &gt; won;t let me do that.","body":"@ClaudeBrisson the input or data source is in JSON. I have provided the sample above and yes I have access to JsonTool. Now to read a non list elements from JSON I did $document.StudentName and store the attribute value in a variable but I can not do the same thing for list for example #set(listofuniversity = $document.List&lt;University&gt;) the special character &lt; &amp; &gt; won;t let me do that."},{"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"score":0,"creation_date":1669477095,"post_id":74574363,"comment_id":131651311,"body_markdown":"When you say &quot;the input or data source is in JSON&quot;, it doesn&#39;t tell us if the JSON is in string format, or if it has already been parsed in a Java Json library, and in this case which Json library you are using...","body":"When you say &quot;the input or data source is in JSON&quot;, it doesn&#39;t tell us if the JSON is in string format, or if it has already been parsed in a Java Json library, and in this case which Json library you are using..."},{"owner":{"account_id":20852934,"reputation":51,"user_id":15317030,"display_name":"James Stan"},"score":0,"creation_date":1669480712,"post_id":74574363,"comment_id":131652144,"body_markdown":"@ClaudeBrisson we are using the Jackson parser. When the JSON gets to a program which is using velocity for transformation the input JSON is already parsed.","body":"@ClaudeBrisson we are using the Jackson parser. When the JSON gets to a program which is using velocity for transformation the input JSON is already parsed."}],"answers":[{"tags":[],"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669492111,"creation_date":1669492111,"answer_id":74585143,"question_id":74574363,"body_markdown":"The solution is dependent upon the JSON library you use, but for many of them, the following code should work:\r\n\r\n```\r\n#set( $universities = $document.get(&#39;List&lt;University&gt;&#39;) )\r\n#foreach( $university in $universities )\r\n  ... do something ...\r\n#end\r\n```\r\n\r\nThe main point to note here is that you can call any Java method on the object you get.\r\n\r\nAlso, if the security uberspector is not present, for debugging purposes you can display the Java class name of any object in the context, for instance: `$document.class.name` should display, in your case, something like `com.fasterxml.jackson.databind.node.ObjectNode`.\r\n","title":"Read JSON with special character in keys using apache velocity","body":"<p>The solution is dependent upon the JSON library you use, but for many of them, the following code should work:</p>\n<pre><code>#set( $universities = $document.get('List&lt;University&gt;') )\n#foreach( $university in $universities )\n  ... do something ...\n#end\n</code></pre>\n<p>The main point to note here is that you can call any Java method on the object you get.</p>\n<p>Also, if the security uberspector is not present, for debugging purposes you can display the Java class name of any object in the context, for instance: <code>$document.class.name</code> should display, in your case, something like <code>com.fasterxml.jackson.databind.node.ObjectNode</code>.</p>\n"}],"owner":{"account_id":20852934,"reputation":51,"user_id":15317030,"display_name":"James Stan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74585143,"answer_count":1,"score":0,"last_activity_date":1669492111,"creation_date":1669387065,"question_id":74574363,"body_markdown":"I have a JSON which has an attribute with its List type. Can someone help me on how to read the value in Apache Velocity template? Following is an example of JSON. The challenge is to read the list of University from JSON and iterate through it.\r\n\r\n    {\r\n       &quot;StudentName&quot;:&quot;XYZ&quot;,\r\n      \r\n          &quot;List&lt;Univesity&gt;&quot;: [\r\n            {\r\n                &quot;Name&quot;: &quot;NYU&quot;,\r\n                &quot;City&quot;: &quot;NY&quot;,\r\n                &quot;Country&quot;:&quot;US&quot;,\r\n            } ]\r\n    }\r\n\r\n","title":"Read JSON with special character in keys using apache velocity","body":"<p>I have a JSON which has an attribute with its List type. Can someone help me on how to read the value in Apache Velocity template? Following is an example of JSON. The challenge is to read the list of University from JSON and iterate through it.</p>\n<pre><code>{\n   &quot;StudentName&quot;:&quot;XYZ&quot;,\n  \n      &quot;List&lt;Univesity&gt;&quot;: [\n        {\n            &quot;Name&quot;: &quot;NYU&quot;,\n            &quot;City&quot;: &quot;NY&quot;,\n            &quot;Country&quot;:&quot;US&quot;,\n        } ]\n}\n</code></pre>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669491956,"creation_date":1669475245,"answer_id":74583282,"question_id":74581796,"body_markdown":"From the error message we can see that you have defined `nested` as a variable of type `BooleanQuery`. \r\n\r\nAs the error messages say, the class `BooleanQuery` does not have a method `add(Query, Occur)`. This means the following line will not compile:\r\n\r\n    nested.add(query1, BooleanClause.Occur.SHOULD);\r\n\r\nInstead, the code should be using a `BooleanClause` here, instead of a `BooleanQuery`.\r\n\r\nOne `BooleanQuery` is made up of one or more clauses, using `BooleanClause`.\r\n\r\nSo, you can do the following:\r\n\r\n```java\r\nBooleanQuery.Builder bqBuilder = new BooleanQuery.Builder();\r\n\r\nQuery query1 = new TermQuery(new Term(&quot;titulo&quot;, &quot;cobra kai&quot;));\r\nQuery query2 = new TermQuery(new Term(&quot;titulo&quot;, &quot;cobra&quot;));\r\nQuery query3 = new TermQuery(new Term(&quot;titulo&quot;, &quot;kai&quot;));\r\n\r\nBooleanClause nested1 = new BooleanClause(query1, BooleanClause.Occur.SHOULD);\r\nBooleanClause nested2 = new BooleanClause(query2, BooleanClause.Occur.SHOULD);\r\nBooleanClause nested3 = new BooleanClause(query3, BooleanClause.Occur.SHOULD);\r\n\r\nbqBuilder.add(nested1);\r\nbqBuilder.add(nested2);\r\nbqBuilder.add(nested3);\r\n\r\nBooleanQuery bq = bqBuilder.build();\r\n```\r\n\r\nThat builds a boolean query containing 3 clauses: \r\n\r\n_Find titles containing &quot;cobra kai&quot; OR &quot;cobra&quot; OR &quot;kai&quot;._\r\n\r\nI am not sure what this is for:\r\n\r\n    bqbuilder.add(nested, BooleanClause.Occur.MUST);\r\n\r\nThe `BooleanClause.Occur.MUST` does not appear to be needed, so I have dropped it from my code.\r\n\r\n---\r\n\r\nYou can simplify the above code by using a loop.\r\n\r\nAssuming you already have a list containing your search terms (your `busqueda_separada` list):\r\n\r\n    List&lt;String&gt; terms = Arrays.asList(&quot;cobra kai&quot;, &quot;cobra&quot;, &quot;kai&quot;);\r\n\r\nYou can use that list as follows:\r\n\r\n```java\r\nfor (String term : terms) {\r\n    Query query = new TermQuery(new Term(&quot;titulo&quot;, term));\r\n    BooleanClause nested = new BooleanClause(query, BooleanClause.Occur.SHOULD);\r\n    bqBuilder.add(nested);\r\n}\r\nBooleanQuery bq2 = bqBuilder.build();\r\n```\r\n\r\n---\r\n\r\n**Update**\r\n\r\nOne point I forgot to mention:\r\n\r\nIn your data, you have a search phrase: `cobra kai`. It&#39;s possible that you do not need to search for this, depending on how your data was indexed, and how you expect your search to work.\r\n\r\nBut assuming you _do_ need it, you need to wrap the phrase in double-quotes, so that it is treated as a single search phrase by Lucene:\r\n\r\n    List&lt;String&gt; terms = Arrays.asList(&quot;\\&quot;cobra kai\\&quot;&quot;, &quot;cobra&quot;, &quot;kai&quot;);\r\n\r\nThis ensures the generated search is:\r\n\r\n    titulo:&quot;cobra kai&quot; titulo:cobra titulo:kai\r\n\r\nAnd, by default, there is an implied &quot;OR&quot; in between each clause in the search.\r\n\r\n---\r\n\r\nYour &quot;extra&quot; question:\r\n\r\n&gt; query should be like `(titulo=“cobra kai” OR titulo=“cobra” OR titulo=“kai”) AND anio=“2018”`\r\n\r\nThis is really a completely new question and you can see approaches in existing answers such as:\r\n\r\n - [How to create nested boolean query with lucene API (a AND (b OR c))?](https://stackoverflow.com/q/3130908/12567365)\r\n - [Lucene 6.0! How to instantiate a BooleanQuery and add other search queries in it?](https://stackoverflow.com/q/37904977/12567365)\r\n - and probably several more...\r\n\r\nBut one more approach (if I have understood correctly) is to nest 2 queries inside another boolean query and use `Occur.MUST` in that outer query for each clause.\r\n\r\nSo, you already have your first boolean query.\r\n\r\nNow create another one. Actually if you only have one term, you don&#39;t even need a boolean query - just a term query:\r\n\r\n    Query query2 = new TermQuery(new Term(&quot;year&quot;, &quot;2018&quot;));\r\n\r\nNow place these two queries into a brand new boolean query (this new query _contains_ the first two queries):\r\n\r\n    BooleanQuery.Builder bqBuilder = new BooleanQuery.Builder();\r\n    bqBuilder.add(bq1, BooleanClause.Occur.MUST);\r\n    bqBuilder.add(query2, BooleanClause.Occur.MUST);\r\n    BooleanQuery bq = bqBuilder.build();\r\n\r\nThe above is equivalent to the following Lucene classic query:\r\n   \r\n    +(body:&quot;cobra kai&quot; body:cobra body:kai) +year:2018\r\n\r\nAnd that, in turn, is equivalent to:\r\n\r\n    (body:&quot;cobra kai&quot; OR body:cobra OR body:kai) AND year:2018\r\n\r\nNote that this uses the [plus operator](https://lucene.apache.org/core/9_4_2/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#Boolean_operators).\r\n\r\nSo the results MUST contain matches for both clauses - the clause for my `body` field and the clause for my `year` field.\r\n\r\n---\r\n\r\nThis can all get quite confusing if you think about Lucene boolean operators in the same way that you think about Boolean algebra. But they are not the same and serve different purposes. Lucene is not (only) about including and excluding records, but about _scoring_ those records for relevance.","title":"&quot;OR&quot; query in lucene","body":"<p>From the error message we can see that you have defined <code>nested</code> as a variable of type <code>BooleanQuery</code>.</p>\n<p>As the error messages say, the class <code>BooleanQuery</code> does not have a method <code>add(Query, Occur)</code>. This means the following line will not compile:</p>\n<pre><code>nested.add(query1, BooleanClause.Occur.SHOULD);\n</code></pre>\n<p>Instead, the code should be using a <code>BooleanClause</code> here, instead of a <code>BooleanQuery</code>.</p>\n<p>One <code>BooleanQuery</code> is made up of one or more clauses, using <code>BooleanClause</code>.</p>\n<p>So, you can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BooleanQuery.Builder bqBuilder = new BooleanQuery.Builder();\n\nQuery query1 = new TermQuery(new Term(&quot;titulo&quot;, &quot;cobra kai&quot;));\nQuery query2 = new TermQuery(new Term(&quot;titulo&quot;, &quot;cobra&quot;));\nQuery query3 = new TermQuery(new Term(&quot;titulo&quot;, &quot;kai&quot;));\n\nBooleanClause nested1 = new BooleanClause(query1, BooleanClause.Occur.SHOULD);\nBooleanClause nested2 = new BooleanClause(query2, BooleanClause.Occur.SHOULD);\nBooleanClause nested3 = new BooleanClause(query3, BooleanClause.Occur.SHOULD);\n\nbqBuilder.add(nested1);\nbqBuilder.add(nested2);\nbqBuilder.add(nested3);\n\nBooleanQuery bq = bqBuilder.build();\n</code></pre>\n<p>That builds a boolean query containing 3 clauses:</p>\n<p><em>Find titles containing &quot;cobra kai&quot; OR &quot;cobra&quot; OR &quot;kai&quot;.</em></p>\n<p>I am not sure what this is for:</p>\n<pre><code>bqbuilder.add(nested, BooleanClause.Occur.MUST);\n</code></pre>\n<p>The <code>BooleanClause.Occur.MUST</code> does not appear to be needed, so I have dropped it from my code.</p>\n<hr />\n<p>You can simplify the above code by using a loop.</p>\n<p>Assuming you already have a list containing your search terms (your <code>busqueda_separada</code> list):</p>\n<pre><code>List&lt;String&gt; terms = Arrays.asList(&quot;cobra kai&quot;, &quot;cobra&quot;, &quot;kai&quot;);\n</code></pre>\n<p>You can use that list as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String term : terms) {\n    Query query = new TermQuery(new Term(&quot;titulo&quot;, term));\n    BooleanClause nested = new BooleanClause(query, BooleanClause.Occur.SHOULD);\n    bqBuilder.add(nested);\n}\nBooleanQuery bq2 = bqBuilder.build();\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>One point I forgot to mention:</p>\n<p>In your data, you have a search phrase: <code>cobra kai</code>. It's possible that you do not need to search for this, depending on how your data was indexed, and how you expect your search to work.</p>\n<p>But assuming you <em>do</em> need it, you need to wrap the phrase in double-quotes, so that it is treated as a single search phrase by Lucene:</p>\n<pre><code>List&lt;String&gt; terms = Arrays.asList(&quot;\\&quot;cobra kai\\&quot;&quot;, &quot;cobra&quot;, &quot;kai&quot;);\n</code></pre>\n<p>This ensures the generated search is:</p>\n<pre><code>titulo:&quot;cobra kai&quot; titulo:cobra titulo:kai\n</code></pre>\n<p>And, by default, there is an implied &quot;OR&quot; in between each clause in the search.</p>\n<hr />\n<p>Your &quot;extra&quot; question:</p>\n<blockquote>\n<p>query should be like <code>(titulo=“cobra kai” OR titulo=“cobra” OR titulo=“kai”) AND anio=“2018”</code></p>\n</blockquote>\n<p>This is really a completely new question and you can see approaches in existing answers such as:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/3130908/12567365\">How to create nested boolean query with lucene API (a AND (b OR c))?</a></li>\n<li><a href=\"https://stackoverflow.com/q/37904977/12567365\">Lucene 6.0! How to instantiate a BooleanQuery and add other search queries in it?</a></li>\n<li>and probably several more...</li>\n</ul>\n<p>But one more approach (if I have understood correctly) is to nest 2 queries inside another boolean query and use <code>Occur.MUST</code> in that outer query for each clause.</p>\n<p>So, you already have your first boolean query.</p>\n<p>Now create another one. Actually if you only have one term, you don't even need a boolean query - just a term query:</p>\n<pre><code>Query query2 = new TermQuery(new Term(&quot;year&quot;, &quot;2018&quot;));\n</code></pre>\n<p>Now place these two queries into a brand new boolean query (this new query <em>contains</em> the first two queries):</p>\n<pre><code>BooleanQuery.Builder bqBuilder = new BooleanQuery.Builder();\nbqBuilder.add(bq1, BooleanClause.Occur.MUST);\nbqBuilder.add(query2, BooleanClause.Occur.MUST);\nBooleanQuery bq = bqBuilder.build();\n</code></pre>\n<p>The above is equivalent to the following Lucene classic query:</p>\n<pre><code>+(body:&quot;cobra kai&quot; body:cobra body:kai) +year:2018\n</code></pre>\n<p>And that, in turn, is equivalent to:</p>\n<pre><code>(body:&quot;cobra kai&quot; OR body:cobra OR body:kai) AND year:2018\n</code></pre>\n<p>Note that this uses the <a href=\"https://lucene.apache.org/core/9_4_2/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#Boolean_operators\" rel=\"nofollow noreferrer\">plus operator</a>.</p>\n<p>So the results MUST contain matches for both clauses - the clause for my <code>body</code> field and the clause for my <code>year</code> field.</p>\n<hr />\n<p>This can all get quite confusing if you think about Lucene boolean operators in the same way that you think about Boolean algebra. But they are not the same and serve different purposes. Lucene is not (only) about including and excluding records, but about <em>scoring</em> those records for relevance.</p>\n"}],"owner":{"account_id":25543056,"reputation":13,"user_id":19371023,"display_name":"leyva_7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669491956,"creation_date":1669462506,"question_id":74581796,"body_markdown":"I am trying to design an information retrieval system of a film database. I want to search by title so when i search &quot;Cobra Kai&quot; my analyzer descompose this string into &quot;cobra kai&quot;, &quot;cobra&quot; and &quot;kai&quot; to do a better pairing. So my problem is that I have to do a query like this: &quot;cobra kai&quot; OR &quot;cobra&quot; OR &quot;kai&quot; but it&#39;s not working for me. Here is the code:\r\n\r\n\r\n```\r\nArrayList&lt;String&gt; busqueda_separada = muestraTexto(analyzer_titulo(), busquedaTitulo.getText());\r\n                        \r\n                        query1 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(0)));\r\n                        query2 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(1)));\r\n                        query3 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(2)));\r\n\r\n                        nested.add(query1, BooleanClause.Occur.SHOULD);\r\n                        nested.add(query2, BooleanClause.Occur.SHOULD);\r\n                        nested.add(query3, BooleanClause.Occur.SHOULD);\r\n\r\n                        bqbuilder.add(nested, BooleanClause.Occur.MUST);\r\n```\r\n\r\n\r\nAnd this is my error: [![Error](https://i.stack.imgur.com/kG9UO.png)](https://i.stack.imgur.com/kG9UO.png)\r\n\r\nI have tried to do differents boolean clauses but it keeps the same.","title":"&quot;OR&quot; query in lucene","body":"<p>I am trying to design an information retrieval system of a film database. I want to search by title so when i search &quot;Cobra Kai&quot; my analyzer descompose this string into &quot;cobra kai&quot;, &quot;cobra&quot; and &quot;kai&quot; to do a better pairing. So my problem is that I have to do a query like this: &quot;cobra kai&quot; OR &quot;cobra&quot; OR &quot;kai&quot; but it's not working for me. Here is the code:</p>\n<pre><code>ArrayList&lt;String&gt; busqueda_separada = muestraTexto(analyzer_titulo(), busquedaTitulo.getText());\n                        \n                        query1 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(0)));\n                        query2 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(1)));\n                        query3 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(2)));\n\n                        nested.add(query1, BooleanClause.Occur.SHOULD);\n                        nested.add(query2, BooleanClause.Occur.SHOULD);\n                        nested.add(query3, BooleanClause.Occur.SHOULD);\n\n                        bqbuilder.add(nested, BooleanClause.Occur.MUST);\n</code></pre>\n<p>And this is my error: <a href=\"https://i.stack.imgur.com/kG9UO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kG9UO.png\" alt=\"Error\" /></a></p>\n<p>I have tried to do differents boolean clauses but it keeps the same.</p>\n"},{"tags":["java","apache-flink","amazon-kinesis"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669491942,"creation_date":1669491942,"answer_id":74585125,"question_id":74585035,"body_markdown":"One big difference between map and flatmap or process is that a map emits the return value of the MapFunction, whereas a FlatMap or a ProcessFunction uses a Collector to emit events.\r\n\r\nFor a working example you can use as a starting point, I suggest taking a look at https://docs.immerok.cloud/docs/how-to-guides/development/batch-and-streaming-with-the-apache-flink-table-and-datastream-apis/#the-datastream-workflow. You&#39;ll find the code in https://github.com/immerok/recipes/tree/main/latest-transaction.\r\n\r\nNote: I work for Immerok.","title":"Apache Flink sink doesn&#39;t get invoked when using ProcessFunction or RichFlatMapFunction","body":"<p>One big difference between map and flatmap or process is that a map emits the return value of the MapFunction, whereas a FlatMap or a ProcessFunction uses a Collector to emit events.</p>\n<p>For a working example you can use as a starting point, I suggest taking a look at <a href=\"https://docs.immerok.cloud/docs/how-to-guides/development/batch-and-streaming-with-the-apache-flink-table-and-datastream-apis/#the-datastream-workflow\" rel=\"nofollow noreferrer\">https://docs.immerok.cloud/docs/how-to-guides/development/batch-and-streaming-with-the-apache-flink-table-and-datastream-apis/#the-datastream-workflow</a>. You'll find the code in <a href=\"https://github.com/immerok/recipes/tree/main/latest-transaction\" rel=\"nofollow noreferrer\">https://github.com/immerok/recipes/tree/main/latest-transaction</a>.</p>\n<p>Note: I work for Immerok.</p>\n"}],"owner":{"account_id":179202,"reputation":7876,"user_id":411709,"accept_rate":75,"display_name":"Abidi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74585125,"answer_count":1,"score":1,"last_activity_date":1669491942,"creation_date":1669490961,"question_id":74585035,"body_markdown":"My Flink application reads data from one kafka source, maps it into an object and writes to another kafka topic. All works fine if I use `MapFunction` to transform but as soon as I use an implementation that `extends ProcessFunction or RichFlatMapFunction` classes, sink doesn&#39;t get called (write to kafka topic code doesn&#39;t get executed) at all. The reason I&#39;m using `ProcessFunction` or `RichFlatMapFunction` is because I need RuntimeConext() to read and write ValueState. How should I achieve calling of sink in this case?\r\n\r\n&gt; env.addSource(new FlinkKafkaConsumer&lt;&gt;(&quot;READ_FROM_TOPIC&quot;, new\r\n&gt; Deserializer(), pros)).keyBy(Order::getId)\r\n&gt;         .process(new StatefulOrderMapper()).addSink(new FlinkKafkaProducer&lt;&gt;(&quot;WRITE_TO_TOPIC&quot;, new Serializer(), props)); // StatefulOrderMapper extends ProcessFunction\r\n&gt; \r\n&gt; env.addSource(new FlinkKafkaConsumer&lt;&gt;(&quot;READ_FROM_TOPIC&quot;, new\r\n&gt; Deserializer(), pros)).keyBy(Order::getId)\r\n&gt;         .map(new DoSomeMapping()).addSink(new FlinkKafkaProducer&lt;&gt;(&quot;WRITE_TO_TOPIC&quot;, new OrderSerializer(), props)); //DoSomeMapping extends MapFunction\r\n\r\n","title":"Apache Flink sink doesn&#39;t get invoked when using ProcessFunction or RichFlatMapFunction","body":"<p>My Flink application reads data from one kafka source, maps it into an object and writes to another kafka topic. All works fine if I use <code>MapFunction</code> to transform but as soon as I use an implementation that <code>extends ProcessFunction or RichFlatMapFunction</code> classes, sink doesn't get called (write to kafka topic code doesn't get executed) at all. The reason I'm using <code>ProcessFunction</code> or <code>RichFlatMapFunction</code> is because I need RuntimeConext() to read and write ValueState. How should I achieve calling of sink in this case?</p>\n<blockquote>\n<p>env.addSource(new FlinkKafkaConsumer&lt;&gt;(&quot;READ_FROM_TOPIC&quot;, new\nDeserializer(), pros)).keyBy(Order::getId)\n.process(new StatefulOrderMapper()).addSink(new FlinkKafkaProducer&lt;&gt;(&quot;WRITE_TO_TOPIC&quot;, new Serializer(), props)); // StatefulOrderMapper extends ProcessFunction</p>\n<p>env.addSource(new FlinkKafkaConsumer&lt;&gt;(&quot;READ_FROM_TOPIC&quot;, new\nDeserializer(), pros)).keyBy(Order::getId)\n.map(new DoSomeMapping()).addSink(new FlinkKafkaProducer&lt;&gt;(&quot;WRITE_TO_TOPIC&quot;, new OrderSerializer(), props)); //DoSomeMapping extends MapFunction</p>\n</blockquote>\n"},{"tags":["java","spring-boot","csv","unit-testing","junit"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669490509,"post_id":74584959,"comment_id":131654061,"body_markdown":"An abstract class on its own is neither instantiable nor testworthy. We normally have implementations of that abstract class. We can test them (and thus also test the implementation of the abstract class).","body":"An abstract class on its own is neither instantiable nor testworthy. We normally have implementations of that abstract class. We can test them (and thus also test the implementation of the abstract class)."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669490715,"post_id":74584959,"comment_id":131654091,"body_markdown":"No, `getData()`, `getFileName()` and `getColumns()` methods have their implementation in another services and I wrote Unit Tests for those services. But `readFromCsv()` method is not abstract and I think I need to write Unit Test for that method. So, how can I write test for this method?","body":"No, <code>getData()</code>, <code>getFileName()</code> and <code>getColumns()</code> methods have their implementation in another services and I wrote Unit Tests for those services. But <code>readFromCsv()</code> method is not abstract and I think I need to write Unit Test for that method. So, how can I write test for this method?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669490848,"post_id":74584959,"comment_id":131654111,"body_markdown":"@Turing85 In here, I used Template Method Design pattern and there is no implementation for `readFromCsv()` and the implementation is already in this class. I agree with you and I do not write Unit Test for the abstract methods (I already wrote for its implementations). So, I think I should write Unit Test for this method, right?","body":"@Turing85 In here, I used Template Method Design pattern and there is no implementation for <code>readFromCsv()</code> and the implementation is already in this class. I agree with you and I do not write Unit Test for the abstract methods (I already wrote for its implementations). So, I think I should write Unit Test for this method, right?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669490907,"post_id":74584959,"comment_id":131654120,"body_markdown":"Looking at the implementation, it is hard-wired to read content from a file. There are ways to mock - for example - a constructor call and return a mock for `new ClassPathResource(&quot;data/&quot; + getFileName())`, but I would not recommend doing this. Instead, I would recommend creating different files for different test cases, thus testing with different (known) file contents.","body":"Looking at the implementation, it is hard-wired to read content from a file. There are ways to mock - for example - a constructor call and return a mock for <code>new ClassPathResource(&quot;data&#47;&quot; + getFileName())</code>, but I would not recommend doing this. Instead, I would recommend creating different files for different test cases, thus testing with different (known) file contents."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669491167,"post_id":74584959,"comment_id":131654156,"body_markdown":"Thanks for help, but I could not understand what you mean. Could you add an example as an answer for the most proper way for this scenario?","body":"Thanks for help, but I could not understand what you mean. Could you add an example as an answer for the most proper way for this scenario?"}],"answers":[{"tags":[],"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669491443,"creation_date":1669490876,"answer_id":74585022,"question_id":74584959,"body_markdown":"Either (1) create a `Spy` instead of the `AirportService` and mock the `getFileName()` method:\r\n```\r\nservice = Mockito.spy(new AirportService());\r\n```\r\nand then mock the desired method:\r\n```\r\nMockito.doReturn((/* your value */)).when(service).getFileName();\r\n```\r\nor (2) create yet another class, this time extending the `AirportService`; there you can implement the `getFileName` so it returns your mock file name.","title":"JUnit : Unit Test for abstract class in a Spring Boot app?","body":"<p>Either (1) create a <code>Spy</code> instead of the <code>AirportService</code> and mock the <code>getFileName()</code> method:</p>\n<pre><code>service = Mockito.spy(new AirportService());\n</code></pre>\n<p>and then mock the desired method:</p>\n<pre><code>Mockito.doReturn((/* your value */)).when(service).getFileName();\n</code></pre>\n<p>or (2) create yet another class, this time extending the <code>AirportService</code>; there you can implement the <code>getFileName</code> so it returns your mock file name.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74585022,"answer_count":1,"score":1,"last_activity_date":1669491443,"creation_date":1669490301,"question_id":74584959,"body_markdown":"In my Java (Spring Boot) app, I am trying to test the following method using JUnit5 and Mockito:\r\n\r\n```\r\npublic abstract class CsvService&lt;T extends CsvBean&gt; {\r\n\r\n    public List&lt;T&gt; readFromCsv(Class&lt;T&gt; type, CsvToBeanFilter filter) {\r\n        List&lt;T&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            Resource resource = new ClassPathResource(&quot;data/&quot; + getFileName());\r\n            Reader reader = new FileReader(resource.getFile());\r\n\r\n            ColumnPositionMappingStrategy&lt;T&gt; strategy = \r\n                new ColumnPositionMappingStrategy&lt;&gt;();\r\n            strategy.setType(type);\r\n            strategy.setColumnMapping(getColumns());\r\n            \r\n            CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(reader)                    \r\n                    .withFilter(filter)\r\n                    .build();\r\n\r\n            data = getData(csvToBean);\r\n            reader.close();\r\n\r\n        } catch (IOException ex) {\r\n            log.error(FILE_READ_ERROR, ex);\r\n            ex.printStackTrace();\r\n        }\r\n        return data;\r\n    }\r\n\r\n    protected abstract String getFileName();\r\n\r\n    protected abstract String[] getColumns();\r\n\r\n    protected abstract List&lt;T&gt; getData(CsvToBean&lt;T&gt; csvToBean);\r\n}\r\n```\r\n\r\nI already wrote Unit Test for the method implementations of the abstract methods (`getData()`, etc.), but I also want to write Unit Test for this `readFromCsv()` method.\r\n\r\n\r\n```\r\n@Service\r\npublic class AirportService extends CsvService&lt;Airport&gt; {\r\n\r\n    // code omitted\r\n\r\n    @Override\r\n    protected List&lt;Airport&gt; getData(CsvToBean&lt;Airport&gt; csvToBean) {\r\n        List&lt;Airport&gt; airports = new ArrayList&lt;&gt;();\r\n\r\n        for (Airport bean : csvToBean) {\r\n            Airport airport = new Airport(\r\n                    bean.getId()\r\n            );\r\n            airports.add(airport);\r\n        }\r\n        return airports;\r\n    }\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\nHere is my Unit Test:\r\n\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass CsvServiceTest {\r\n\r\n    private CsvService service;\r\n\r\n    @Mock\r\n    private AirportService airportService;\r\n\r\n    @Mock\r\n    private CsvToBean&lt;Airport&gt; csvToBean;\r\n\r\n    @Mock\r\n    private CsvToBeanFilter filter;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        service = new AirportService();\r\n    }\r\n\r\n\r\n    @Test\r\n    void test() {\r\n        csvToBean.setFilter(filter);\r\n\r\n        Airport airport = new Airport(101, &quot;DK&quot;);\r\n        when(filter.allowLine((String[]) any())).thenReturn(true);\r\n        when(csvToBean.iterator())\r\n            .thenReturn(new ArrayIterator&lt;&gt;(new Airport[]{airport}));\r\n\r\n        List&lt;Airport&gt; result = service.readFromCsv(Airport.class, filter);\r\n        \r\n        // assertions\r\n    }\r\n}\r\n```\r\n\r\nBut the test is always read the CSV file as it retrieved via `getFileName()` method (the file in the project). But I want to mock it and read the provided airport data via stub. So, how can I make this unit test properly testing this CSV reader method?\r\n\r\n\r\n\r\n\r\n","title":"JUnit : Unit Test for abstract class in a Spring Boot app?","body":"<p>In my Java (Spring Boot) app, I am trying to test the following method using JUnit5 and Mockito:</p>\n<pre><code>public abstract class CsvService&lt;T extends CsvBean&gt; {\n\n    public List&lt;T&gt; readFromCsv(Class&lt;T&gt; type, CsvToBeanFilter filter) {\n        List&lt;T&gt; data = new ArrayList&lt;&gt;();\n\n        try {\n            Resource resource = new ClassPathResource(&quot;data/&quot; + getFileName());\n            Reader reader = new FileReader(resource.getFile());\n\n            ColumnPositionMappingStrategy&lt;T&gt; strategy = \n                new ColumnPositionMappingStrategy&lt;&gt;();\n            strategy.setType(type);\n            strategy.setColumnMapping(getColumns());\n            \n            CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(reader)                    \n                    .withFilter(filter)\n                    .build();\n\n            data = getData(csvToBean);\n            reader.close();\n\n        } catch (IOException ex) {\n            log.error(FILE_READ_ERROR, ex);\n            ex.printStackTrace();\n        }\n        return data;\n    }\n\n    protected abstract String getFileName();\n\n    protected abstract String[] getColumns();\n\n    protected abstract List&lt;T&gt; getData(CsvToBean&lt;T&gt; csvToBean);\n}\n</code></pre>\n<p>I already wrote Unit Test for the method implementations of the abstract methods (<code>getData()</code>, etc.), but I also want to write Unit Test for this <code>readFromCsv()</code> method.</p>\n<pre><code>@Service\npublic class AirportService extends CsvService&lt;Airport&gt; {\n\n    // code omitted\n\n    @Override\n    protected List&lt;Airport&gt; getData(CsvToBean&lt;Airport&gt; csvToBean) {\n        List&lt;Airport&gt; airports = new ArrayList&lt;&gt;();\n\n        for (Airport bean : csvToBean) {\n            Airport airport = new Airport(\n                    bean.getId()\n            );\n            airports.add(airport);\n        }\n        return airports;\n    }\n}\n</code></pre>\n<br/>\n<p>Here is my Unit Test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass CsvServiceTest {\n\n    private CsvService service;\n\n    @Mock\n    private AirportService airportService;\n\n    @Mock\n    private CsvToBean&lt;Airport&gt; csvToBean;\n\n    @Mock\n    private CsvToBeanFilter filter;\n\n    @BeforeEach\n    void setup() {\n        service = new AirportService();\n    }\n\n\n    @Test\n    void test() {\n        csvToBean.setFilter(filter);\n\n        Airport airport = new Airport(101, &quot;DK&quot;);\n        when(filter.allowLine((String[]) any())).thenReturn(true);\n        when(csvToBean.iterator())\n            .thenReturn(new ArrayIterator&lt;&gt;(new Airport[]{airport}));\n\n        List&lt;Airport&gt; result = service.readFromCsv(Airport.class, filter);\n        \n        // assertions\n    }\n}\n</code></pre>\n<p>But the test is always read the CSV file as it retrieved via <code>getFileName()</code> method (the file in the project). But I want to mock it and read the provided airport data via stub. So, how can I make this unit test properly testing this CSV reader method?</p>\n"},{"tags":["java","arrays","for-loop","math","methods"],"answers":[{"tags":[],"owner":{"account_id":22828513,"reputation":344,"user_id":16977407,"display_name":"Gandhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669490729,"creation_date":1669285690,"answer_id":74559218,"question_id":74555570,"body_markdown":"You can fill the &quot;empty&quot; part of your array with `0`s and then at the `printGrid()` part check if there is a `0` in the grid `if(grid[row][col] == 0)` and if there is one `break`.\r\n\r\nFor the part where you want to fill in the new row just do the same. Check until you reach a row which has `0`s in it and overwrite it.\r\n\r\nAn example for that could look like this:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int[][] myIntArray = {{1, 2, 3}, {4, 5, 6}, {0, 0, 0}};\r\n        Random random = new Random();\r\n        int[] newRandomArray = random.ints(myIntArray[0].length, 0,4).toArray();\r\n        System.out.println(&quot;Random:&quot;);\r\n        System.out.println(Arrays.toString(newRandomArray));\r\n        System.out.println(&quot;Before:&quot;);\r\n        System.out.println(Arrays.deepToString(myIntArray));\r\n        for (int i = 0; i &lt; myIntArray.length; i++) {\r\n            if (myIntArray[i][0] == 0) {\r\n                myIntArray[i] = newRandomArray;\r\n            }\r\n        }\r\n        System.out.println(&quot;After:&quot;);\r\n        System.out.println(Arrays.deepToString(myIntArray));\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nRandom:\r\n[2, 3, 0]\r\nBefore:\r\n[[1, 2, 3], [4, 5, 6], [0, 0, 0]]\r\nAfter:\r\n[[1, 2, 3], [4, 5, 6], [2, 3, 0]]\r\n```","title":"How to fill an array with a new row in Java?","body":"<p>You can fill the &quot;empty&quot; part of your array with <code>0</code>s and then at the <code>printGrid()</code> part check if there is a <code>0</code> in the grid <code>if(grid[row][col] == 0)</code> and if there is one <code>break</code>.</p>\n<p>For the part where you want to fill in the new row just do the same. Check until you reach a row which has <code>0</code>s in it and overwrite it.</p>\n<p>An example for that could look like this:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class Main {\n    public static void main(String[] args) {\n        int[][] myIntArray = {{1, 2, 3}, {4, 5, 6}, {0, 0, 0}};\n        Random random = new Random();\n        int[] newRandomArray = random.ints(myIntArray[0].length, 0,4).toArray();\n        System.out.println(&quot;Random:&quot;);\n        System.out.println(Arrays.toString(newRandomArray));\n        System.out.println(&quot;Before:&quot;);\n        System.out.println(Arrays.deepToString(myIntArray));\n        for (int i = 0; i &lt; myIntArray.length; i++) {\n            if (myIntArray[i][0] == 0) {\n                myIntArray[i] = newRandomArray;\n            }\n        }\n        System.out.println(&quot;After:&quot;);\n        System.out.println(Arrays.deepToString(myIntArray));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Random:\n[2, 3, 0]\nBefore:\n[[1, 2, 3], [4, 5, 6], [0, 0, 0]]\nAfter:\n[[1, 2, 3], [4, 5, 6], [2, 3, 0]]\n</code></pre>\n"}],"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74559218,"answer_count":1,"score":0,"last_activity_date":1669490729,"creation_date":1669263427,"question_id":74555570,"body_markdown":"\r\nSo what I have so far is a randomized board containing numbers 1, 2 and 3. The board is 6 * 10. (So 6 Columns and 10 rows). The plan is when the user gives an input, a new row of randomized numbers should be added to the board. The thing is that the 2D array will be 6 * 10 but only half of the board is going to be filled with randomized numbers and the other half will be empty. But if the user gives an input, the 2D array will be filled with one row, replacing an empty row with a new row. \r\n\r\nSo this is the original board:\r\n\r\n```\r\n3 1 1 2 2 2 \r\n3 3 3 3 2 3 \r\n1 1 1 3 3 2 \r\n2 3 2 3 1 2 \r\n3 3 1 2 2 2 \r\n\r\nWhat column do you want to shoot at?\r\n```\r\n\r\nand after the user gives the input (when the user shoots) the board should look like this, with a new row of randomized numbers as I mentioned before. \r\n\r\n```\r\n3 1 1 2 2 2 \r\n3 3 3 3 2 3 \r\n1 1 1 3 3 2 \r\n2 3 2 3 1 2 \r\n3 3 1 2 2 2 \r\n2 3 3 1 1 1\r\n\r\nWhat column do you want to shoot at?\r\n```\r\n\r\nthat is how it should go until the board reaches 10 rows. \r\n\r\nMy two main problems are how to make an array that is half empty and half full and then how to fill the empty half with new rows. Here&#39;s the code I have so far:\r\n\r\n```\r\n\r\nimport java.util.Scanner;\r\npublic class Project {\r\n    public static void main( String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int [][] grid = createBoard(6, /*Number of colums*/ 5, /*Number of rows*/ 3 /*Bubble types in the board (1, 2 or 3)*/);\r\n        printGrid( grid );\r\n        System.out.println(&quot;What column do you want to shoot at?&quot;);\r\n        shoot();\r\n    }\r\n    \r\n      public static int[][] createBoard(int cols, int rows, int numBubbleTypes) {\r\n        int[][] board = new int[rows][cols]; \r\n        for( int row = 0; row &lt; rows;  row++ ) {\r\n            for( int col = 0; col &lt; cols; col++ ) {\r\n                board[row][col] = (int)(Math.random() * (double)numBubbleTypes) + 1;\r\n            }\r\n        }\r\n        return board;\r\n    }\r\n    \r\n    public static void printGrid(int[][] grid) {\r\n        for( int row = 0; row &lt; grid.length; row++ ) {\r\n            for( int col = 0; col &lt; grid[row].length; col++ ) {\r\n                System.out.print( grid[row][col] + &quot; &quot; ); \r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n    \r\n  \r\n    \r\n    public static void fillBoard(int[] grid) {\r\n        \r\n    }\r\n    \r\n    public static void shoot() {\r\n        Scanner scanShoot = new Scanner(System.in);\r\n        String input = scanShoot.nextLine();\r\n    }\r\n    \r\n    private static void clearConsole() {\r\n        System.out.print(&#39;\\u000C&#39;); //Clear terminal\r\n    }\r\n    \r\n}\r\n```\r\n","title":"How to fill an array with a new row in Java?","body":"<p>So what I have so far is a randomized board containing numbers 1, 2 and 3. The board is 6 * 10. (So 6 Columns and 10 rows). The plan is when the user gives an input, a new row of randomized numbers should be added to the board. The thing is that the 2D array will be 6 * 10 but only half of the board is going to be filled with randomized numbers and the other half will be empty. But if the user gives an input, the 2D array will be filled with one row, replacing an empty row with a new row.</p>\n<p>So this is the original board:</p>\n<pre><code>3 1 1 2 2 2 \n3 3 3 3 2 3 \n1 1 1 3 3 2 \n2 3 2 3 1 2 \n3 3 1 2 2 2 \n\nWhat column do you want to shoot at?\n</code></pre>\n<p>and after the user gives the input (when the user shoots) the board should look like this, with a new row of randomized numbers as I mentioned before.</p>\n<pre><code>3 1 1 2 2 2 \n3 3 3 3 2 3 \n1 1 1 3 3 2 \n2 3 2 3 1 2 \n3 3 1 2 2 2 \n2 3 3 1 1 1\n\nWhat column do you want to shoot at?\n</code></pre>\n<p>that is how it should go until the board reaches 10 rows.</p>\n<p>My two main problems are how to make an array that is half empty and half full and then how to fill the empty half with new rows. Here's the code I have so far:</p>\n<pre><code>\nimport java.util.Scanner;\npublic class Project {\n    public static void main( String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int [][] grid = createBoard(6, /*Number of colums*/ 5, /*Number of rows*/ 3 /*Bubble types in the board (1, 2 or 3)*/);\n        printGrid( grid );\n        System.out.println(&quot;What column do you want to shoot at?&quot;);\n        shoot();\n    }\n    \n      public static int[][] createBoard(int cols, int rows, int numBubbleTypes) {\n        int[][] board = new int[rows][cols]; \n        for( int row = 0; row &lt; rows;  row++ ) {\n            for( int col = 0; col &lt; cols; col++ ) {\n                board[row][col] = (int)(Math.random() * (double)numBubbleTypes) + 1;\n            }\n        }\n        return board;\n    }\n    \n    public static void printGrid(int[][] grid) {\n        for( int row = 0; row &lt; grid.length; row++ ) {\n            for( int col = 0; col &lt; grid[row].length; col++ ) {\n                System.out.print( grid[row][col] + &quot; &quot; ); \n            }\n            System.out.println(&quot;&quot;);\n        }\n    }\n    \n  \n    \n    public static void fillBoard(int[] grid) {\n        \n    }\n    \n    public static void shoot() {\n        Scanner scanShoot = new Scanner(System.in);\n        String input = scanShoot.nextLine();\n    }\n    \n    private static void clearConsole() {\n        System.out.print('\\u000C'); //Clear terminal\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":3,"creation_date":1669488280,"post_id":74584721,"comment_id":131653636,"body_markdown":"What is `streamer`? Is it `data.stream()`?","body":"What is <code>streamer</code>? Is it <code>data.stream()</code>?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1669488468,"post_id":74584721,"comment_id":131653672,"body_markdown":"You don&#39;t need to make a new interface, you can use one of the existing ones.  Look at the definition of `Stream.filter`.","body":"You don&#39;t need to make a new interface, you can use one of the existing ones.  Look at the definition of <code>Stream.filter</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669500468,"post_id":74584721,"comment_id":131655849,"body_markdown":"[Functional interfaces](https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html) (and how to use them in situations like this) may be difficult to grasp. I found [this answer](https://stackoverflow.com/a/28422318/12567365) helpful because of its &quot;_structure not semantics_&quot; insight.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">Functional interfaces</a> (and how to use them in situations like this) may be difficult to grasp. I found <a href=\"https://stackoverflow.com/a/28422318/12567365\">this answer</a> helpful because of its &quot;<i>structure not semantics</i>&quot; insight."}],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669490587,"creation_date":1669490587,"answer_id":74584991,"question_id":74584721,"body_markdown":"your method should accept a [Predicate][1]. all lambda that take one arg and return boolean implement that interface. invoking the Predicate is done by executing its `test()` method.\r\n\r\nexample:\r\n\r\n\tpublic &lt;T&gt; long count(Collection&lt;T&gt; collection, Predicate&lt;T&gt; filter) {\r\n\t\treturn collection.stream()\r\n\t\t\t\t.filter(filter)\r\n\t\t\t\t.count();\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html","title":"Using a predefined lambda as an argument in Java","body":"<p>your method should accept a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"noreferrer\">Predicate</a>. all lambda that take one arg and return boolean implement that interface. invoking the Predicate is done by executing its <code>test()</code> method.</p>\n<p>example:</p>\n<pre><code>public &lt;T&gt; long count(Collection&lt;T&gt; collection, Predicate&lt;T&gt; filter) {\n    return collection.stream()\n            .filter(filter)\n            .count();\n}\n</code></pre>\n"}],"owner":{"account_id":17748524,"reputation":35,"user_id":12887286,"display_name":"Kole Davis"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1669535975,"accepted_answer_id":74584991,"answer_count":1,"score":-2,"last_activity_date":1669490587,"creation_date":1669487870,"question_id":74584721,"body_markdown":"So i&#39;m trying to pass this test:\r\n```\r\npublic void testCountWithCondition() {\r\n\t\tList&lt;Integer&gt; data = Arrays.asList(1, 3, 8, 4, 6);\r\n\t\tint count = streamer.count(data, x -&gt; x % 3 == 0);\r\n\t\tassertEquals(2, count);\r\n\t}\r\n```\r\n\r\nI&#39;m having a really hard time understanding how to create a method `count` that can take the lambda expression as an argument. I&#39;ve seen other posts that say you need to create an interface class but how do I program it to be able to accept any lambda expression? Also, the assignment specifically says I need to use streams. Thanks!","title":"Using a predefined lambda as an argument in Java","body":"<p>So i'm trying to pass this test:</p>\n<pre><code>public void testCountWithCondition() {\n        List&lt;Integer&gt; data = Arrays.asList(1, 3, 8, 4, 6);\n        int count = streamer.count(data, x -&gt; x % 3 == 0);\n        assertEquals(2, count);\n    }\n</code></pre>\n<p>I'm having a really hard time understanding how to create a method <code>count</code> that can take the lambda expression as an argument. I've seen other posts that say you need to create an interface class but how do I program it to be able to accept any lambda expression? Also, the assignment specifically says I need to use streams. Thanks!</p>\n"},{"tags":["java","json","gson","pojo","android-room"],"comments":[{"owner":{"account_id":3474542,"reputation":253,"user_id":2908119,"accept_rate":86,"display_name":"Tineler"},"score":0,"creation_date":1550829368,"post_id":48379962,"comment_id":96423626,"body_markdown":"Did you find a solution for this? I&#39;m encountering the same problem right now","body":"Did you find a solution for this? I&#39;m encountering the same problem right now"}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669490394,"creation_date":1669490394,"answer_id":74584966,"question_id":48379962,"body_markdown":"You can use a custom TypeAdaptor:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    final MyObject myObject = new MyObject(&quot;Fardwark&quot;, 123, 9999L);\r\n    final String json = gson.toJson(myObject);\r\n    System.out.println(json);\r\n\r\n    final MyObject myObject2 = gson.fromJson(json, MyObject.class);\r\n    final String json2 = gson.toJson(myObject2);\r\n    System.out.println(json2);\r\n}\r\n\r\nprivate static final Gson gson = new GsonBuilder()\r\n        .registerTypeAdapter(MyObject.class, new MyTypeAdapter())\r\n        .create();\r\n\r\nprivate static final class MyTypeAdapter extends TypeAdapter&lt;MyObject&gt; {\r\n\r\n    @Override\r\n    public void write(JsonWriter jsonWriter, MyObject myObject) throws IOException {\r\n        jsonWriter.beginObject()\r\n                .name(&quot;ownerName&quot;).value(myObject.generalInfo.ownerName)\r\n                .name(&quot;wellId&quot;).value(myObject.generalInfo.wellId)\r\n                .name(&quot;objectId&quot;).value(myObject.objectId)\r\n                .endObject();\r\n    }\r\n\r\n    @Override\r\n    public MyObject read(JsonReader jsonReader) throws IOException {\r\n        String ownerName = null;\r\n        int wellId = 0;\r\n        long objectId = 0;\r\n\r\n        jsonReader.beginObject();;\r\n\r\n        for (int i = 0; i &lt; 3; ++i) {\r\n            switch (jsonReader.nextName()) {\r\n                case &quot;ownerName&quot;:\r\n                    ownerName = jsonReader.nextString();\r\n                    break;\r\n                case &quot;wellId&quot;:\r\n                    wellId = jsonReader.nextInt();\r\n                    break;\r\n                case &quot;objectId&quot;:\r\n                    objectId = jsonReader.nextLong();\r\n                    break;\r\n            }\r\n        }\r\n\r\n        jsonReader.endObject();\r\n\r\n        return new MyObject(ownerName, wellId, objectId);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```json\r\n{&quot;ownerName&quot;:&quot;Fardwark&quot;,&quot;wellId&quot;:123,&quot;objectId&quot;:9999}\r\n{&quot;ownerName&quot;:&quot;Fardwark&quot;,&quot;wellId&quot;:123,&quot;objectId&quot;:9999}\r\n```\r\n","title":"Use @Embedded from Room persistence Library beside Gson deserializer","body":"<p>You can use a custom TypeAdaptor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    final MyObject myObject = new MyObject(&quot;Fardwark&quot;, 123, 9999L);\n    final String json = gson.toJson(myObject);\n    System.out.println(json);\n\n    final MyObject myObject2 = gson.fromJson(json, MyObject.class);\n    final String json2 = gson.toJson(myObject2);\n    System.out.println(json2);\n}\n\nprivate static final Gson gson = new GsonBuilder()\n        .registerTypeAdapter(MyObject.class, new MyTypeAdapter())\n        .create();\n\nprivate static final class MyTypeAdapter extends TypeAdapter&lt;MyObject&gt; {\n\n    @Override\n    public void write(JsonWriter jsonWriter, MyObject myObject) throws IOException {\n        jsonWriter.beginObject()\n                .name(&quot;ownerName&quot;).value(myObject.generalInfo.ownerName)\n                .name(&quot;wellId&quot;).value(myObject.generalInfo.wellId)\n                .name(&quot;objectId&quot;).value(myObject.objectId)\n                .endObject();\n    }\n\n    @Override\n    public MyObject read(JsonReader jsonReader) throws IOException {\n        String ownerName = null;\n        int wellId = 0;\n        long objectId = 0;\n\n        jsonReader.beginObject();;\n\n        for (int i = 0; i &lt; 3; ++i) {\n            switch (jsonReader.nextName()) {\n                case &quot;ownerName&quot;:\n                    ownerName = jsonReader.nextString();\n                    break;\n                case &quot;wellId&quot;:\n                    wellId = jsonReader.nextInt();\n                    break;\n                case &quot;objectId&quot;:\n                    objectId = jsonReader.nextLong();\n                    break;\n            }\n        }\n\n        jsonReader.endObject();\n\n        return new MyObject(ownerName, wellId, objectId);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;ownerName&quot;:&quot;Fardwark&quot;,&quot;wellId&quot;:123,&quot;objectId&quot;:9999}\n{&quot;ownerName&quot;:&quot;Fardwark&quot;,&quot;wellId&quot;:123,&quot;objectId&quot;:9999}\n</code></pre>\n"}],"owner":{"account_id":8144431,"reputation":2924,"user_id":6133481,"accept_rate":64,"display_name":"Mneckoee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1669490394,"creation_date":1516618597,"question_id":48379962,"body_markdown":"I use Google Room Persistence Library for saving data in database. in Room there is an annotation (@Embedded) :  \r\n\r\n&gt; you can use the @Embedded annotation to represent an object that you&#39;d like to decompose into its subfields within a table. You can then query the embedded fields just as you would for other individual columns  \r\n\r\n    @Entity\r\n    public class MyObject {\r\n\r\n    // nested class\r\n    public class GeneralInfo {\r\n\r\n        public String ownerName;\r\n\r\n        @PrimaryKey\r\n        public long wellId;\r\n    }\r\n\r\n    @Embedded\r\n    public GeneralInfo generalInfo;\r\n\r\n    public long objectId;\r\n\r\n    // other fields\r\n    }\r\n\r\nI use Gson to deserialize json string from REST API, I want Gson to deserialize `GeneralInfo` fields into `MyObject` fields directly. How can I do this?  \r\n\r\nI want Gson to deserialize `MyObject`s like this:\r\n\r\n    {\r\n        objectId : 1\r\n        wellId : 1\r\n        ownerName : &quot;Me&quot;\r\n    }\r\n\r\n**NOT** this  \r\n\r\n    {\r\n        generalInfo : {        \r\n            wellId : 1\r\n            ownerName : &quot;Me&quot;        \r\n        } \r\n        objectId : 1\r\n    }\r\n\r\nIs there any way other than using `JsonAdapter` ? I can write my own `convertToJson` and `convertFromJson` but I want to use Gson and it&#39;s better to use annotation to tell Gson &quot;don&#39;t deserialize this embeddede object to a jsonObject, insert its field in its parent json fields&quot;","title":"Use @Embedded from Room persistence Library beside Gson deserializer","body":"<p>I use Google Room Persistence Library for saving data in database. in Room there is an annotation (@Embedded) :  </p>\n\n<blockquote>\n  <p>you can use the @Embedded annotation to represent an object that you'd like to decompose into its subfields within a table. You can then query the embedded fields just as you would for other individual columns  </p>\n</blockquote>\n\n<pre><code>@Entity\npublic class MyObject {\n\n// nested class\npublic class GeneralInfo {\n\n    public String ownerName;\n\n    @PrimaryKey\n    public long wellId;\n}\n\n@Embedded\npublic GeneralInfo generalInfo;\n\npublic long objectId;\n\n// other fields\n}\n</code></pre>\n\n<p>I use Gson to deserialize json string from REST API, I want Gson to deserialize <code>GeneralInfo</code> fields into <code>MyObject</code> fields directly. How can I do this?  </p>\n\n<p>I want Gson to deserialize <code>MyObject</code>s like this:</p>\n\n<pre><code>{\n    objectId : 1\n    wellId : 1\n    ownerName : \"Me\"\n}\n</code></pre>\n\n<p><strong>NOT</strong> this  </p>\n\n<pre><code>{\n    generalInfo : {        \n        wellId : 1\n        ownerName : \"Me\"        \n    } \n    objectId : 1\n}\n</code></pre>\n\n<p>Is there any way other than using <code>JsonAdapter</code> ? I can write my own <code>convertToJson</code> and <code>convertFromJson</code> but I want to use Gson and it's better to use annotation to tell Gson \"don't deserialize this embeddede object to a jsonObject, insert its field in its parent json fields\"</p>\n"},{"tags":["java","spring-boot","spring-security","spring-security-rest"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669489428,"creation_date":1669486245,"answer_id":74584549,"question_id":74584207,"body_markdown":"Pragmatically we can print/write to `response[.getWriter()]` within our entry point, like:\r\n```\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\n//...\r\nprivate static AuthenticationEntryPoint authenticationEntryPoint() {\r\n  return (request, response, authException) -&gt; {\r\n    response.addHeader( // identic/similar to &quot;basic&quot; entry point\r\n        &quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Realm\\&quot;&quot;\r\n    );\r\n    // subtle difference to &quot;basic&quot; entry point :\r\n    // better/looks like:\r\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n    // response.addHeader...\r\n    response.setStatus(HttpStatus.UNAUTHORIZED.value() /*, no message!(?) */);\r\n    // &quot;print&quot; custom to &quot;response&quot; (with String#format, jackson, gson... (templating fw...)):\r\n    response.getWriter().format(&quot;&quot;&quot;\r\n      {\r\n        &quot;errors&quot;:[\r\n          {\r\n            &quot;status&quot;: %d,\r\n            &quot;title&quot;: &quot;%s&quot;,\r\n            &quot;detail&quot;: &quot;%s&quot;\r\n          }\r\n        ]\r\n      }\r\n      &quot;&quot;&quot;,\r\n      HttpStatus.UNAUTHORIZED.value(),\r\n      HttpStatus.UNAUTHORIZED.name(),\r\n      authException.getMessage() // or whatever message/params/format we see fit\r\n    );\r\n  };\r\n}\r\n```\r\n[`BasicAuthenticationEntryPoint@github`](https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/www/BasicAuthenticationEntryPoint.java)\r\n\r\nThen we can pass a test like:\r\n```\r\npackage com.example.security.custom.entrypoint;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\n@WebMvcTest\r\nclass SecurityCustomEntrypointApplicationTests {\r\n\r\n  @Autowired\r\n  private MockMvc mvc;\r\n\r\n  @Test\r\n  void testUnauthorized() throws Exception {\r\n    mvc\r\n        .perform(post(&quot;/somewhere&quot;)) // no (basic) credentials(!), assuming no 404 :)\r\n        .andDo(print())\r\n        .andExpectAll(\r\n            status().isUnauthorized(),\r\n            header().exists(&quot;WWW-Authenticate&quot;),\r\n            jsonPath(&quot;$.errors[0].detail&quot;).exists(),\r\n            jsonPath(&quot;$.errors[0].title&quot;).value(&quot;UNAUTHORIZED&quot;),\r\n            jsonPath(&quot;$.errors[0].status&quot;).value(401) // , ...\r\n        );\r\n  }\r\n}\r\n\r\n```\r\n\r\nTo make it work for basic authetication *and* &quot;wrong credentials&quot; see also:\r\nhttps://stackoverflow.com/a/74547059/592355 .\r\n\r\nDup/Related:\r\n\r\n- https://stackoverflow.com/q/74545265/592355\r\n- https://stackoverflow.com/q/19767267/592355\r\n","title":"Spring security exception handling custom response","body":"<p>Pragmatically we can print/write to <code>response[.getWriter()]</code> within our entry point, like:</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\n//...\nprivate static AuthenticationEntryPoint authenticationEntryPoint() {\n  return (request, response, authException) -&gt; {\n    response.addHeader( // identic/similar to &quot;basic&quot; entry point\n        &quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Realm\\&quot;&quot;\n    );\n    // subtle difference to &quot;basic&quot; entry point :\n    // better/looks like:\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    // response.addHeader...\n    response.setStatus(HttpStatus.UNAUTHORIZED.value() /*, no message!(?) */);\n    // &quot;print&quot; custom to &quot;response&quot; (with String#format, jackson, gson... (templating fw...)):\n    response.getWriter().format(&quot;&quot;&quot;\n      {\n        &quot;errors&quot;:[\n          {\n            &quot;status&quot;: %d,\n            &quot;title&quot;: &quot;%s&quot;,\n            &quot;detail&quot;: &quot;%s&quot;\n          }\n        ]\n      }\n      &quot;&quot;&quot;,\n      HttpStatus.UNAUTHORIZED.value(),\n      HttpStatus.UNAUTHORIZED.name(),\n      authException.getMessage() // or whatever message/params/format we see fit\n    );\n  };\n}\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/www/BasicAuthenticationEntryPoint.java\" rel=\"nofollow noreferrer\"><code>BasicAuthenticationEntryPoint@github</code></a></p>\n<p>Then we can pass a test like:</p>\n<pre><code>package com.example.security.custom.entrypoint;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.test.web.servlet.MockMvc;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@WebMvcTest\nclass SecurityCustomEntrypointApplicationTests {\n\n  @Autowired\n  private MockMvc mvc;\n\n  @Test\n  void testUnauthorized() throws Exception {\n    mvc\n        .perform(post(&quot;/somewhere&quot;)) // no (basic) credentials(!), assuming no 404 :)\n        .andDo(print())\n        .andExpectAll(\n            status().isUnauthorized(),\n            header().exists(&quot;WWW-Authenticate&quot;),\n            jsonPath(&quot;$.errors[0].detail&quot;).exists(),\n            jsonPath(&quot;$.errors[0].title&quot;).value(&quot;UNAUTHORIZED&quot;),\n            jsonPath(&quot;$.errors[0].status&quot;).value(401) // , ...\n        );\n  }\n}\n\n</code></pre>\n<p>To make it work for basic authetication <em>and</em> &quot;wrong credentials&quot; see also:\n<a href=\"https://stackoverflow.com/a/74547059/592355\">https://stackoverflow.com/a/74547059/592355</a> .</p>\n<p>Dup/Related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/74545265/592355\">How to set a response body before sending it to client</a></li>\n<li><a href=\"https://stackoverflow.com/q/19767267/592355\">Handle spring security authentication exceptions with @ExceptionHandler</a></li>\n</ul>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74584549,"answer_count":1,"score":1,"last_activity_date":1669489428,"creation_date":1669483109,"question_id":74584207,"body_markdown":"How is it possible to return a json instead a html?\r\n\r\nI got:\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n\r\n&lt;head&gt;\r\n\t&lt;title&gt;HTTP Status 401 – Unauthorized&lt;/title&gt;\r\n\t&lt;style type=&quot;text/css&quot;&gt;\r\n\t\tbody {\r\n\t\t\tfont-family: Tahoma, Arial, sans-serif;\r\n\t\t}\r\n\r\n\t\th1,\r\n\t\th2,\r\n\t\th3,\r\n\t\tb {\r\n\t\t\tcolor: white;\r\n\t\t\tbackground-color: #525D76;\r\n\t\t}\r\n\r\n\t\th1 {\r\n\t\t\tfont-size: 22px;\r\n\t\t}\r\n\r\n\t\th2 {\r\n\t\t\tfont-size: 16px;\r\n\t\t}\r\n\r\n\t\th3 {\r\n\t\t\tfont-size: 14px;\r\n\t\t}\r\n\r\n\t\tp {\r\n\t\t\tfont-size: 12px;\r\n\t\t}\r\n\r\n\t\ta {\r\n\t\t\tcolor: black;\r\n\t\t}\r\n\r\n\t\t.line {\r\n\t\t\theight: 1px;\r\n\t\t\tbackground-color: #525D76;\r\n\t\t\tborder: none;\r\n\t\t}\r\n\t&lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;h1&gt;HTTP Status 401 – Unauthorized&lt;/h1&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\ni need something like this:\r\n```\r\n{\r\n    &quot;errors&quot;: [\r\n        {\r\n            &quot;status&quot;: &quot;401&quot;,\r\n            &quot;title&quot;: &quot;UNAUTHORIZED&quot;,\r\n            &quot;detail&quot;: &quot;xyz ...&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nMy Adapter:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\r\n{\r\n   @Override\r\n   protected void configure(HttpSecurity httpSecurity) throws Exception\r\n   {\r\n      // @formatter:off\r\n      httpSecurity\r\n               .csrf()\r\n               .disable()\r\n               .authorizeRequests()\r\n               .antMatchers(HttpMethod.GET).permitAll()\r\n               .anyRequest()\r\n               .authenticated()\r\n               .and()\r\n               .httpBasic()\r\n               .and()\r\n               .exceptionHandling()\r\n               .authenticationEntryPoint(new CustomAuthenticationEntryPoint());\r\n      // @formatter:on\r\n   }\r\n}\r\n```\r\nThe `CustomAuthenticationEntryPoint`\r\n```\r\n@Component\r\nclass CustomAuthenticationEntryPoint implements AuthenticationEntryPoint\r\n{\r\n   @Override\r\n   public void commence(HttpServletRequest request, HttpServletResponse response,\r\n                        AuthenticationException authException) throws IOException\r\n   {\r\n      Collection&lt;String&gt; authorities = response.getHeaders(&quot;Authorization&quot;);\r\n      response.addHeader(&quot;access_denied_reason&quot;, &quot;authentication_required&quot;);\r\n      response.sendError(HttpStatus.UNAUTHORIZED.value(), &quot;Unauthorized&quot;);\r\n   }\r\n}\r\n```","title":"Spring security exception handling custom response","body":"<p>How is it possible to return a json instead a html?</p>\n<p>I got:</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;HTTP Status 401 – Unauthorized&lt;/title&gt;\n    &lt;style type=&quot;text/css&quot;&gt;\n        body {\n            font-family: Tahoma, Arial, sans-serif;\n        }\n\n        h1,\n        h2,\n        h3,\n        b {\n            color: white;\n            background-color: #525D76;\n        }\n\n        h1 {\n            font-size: 22px;\n        }\n\n        h2 {\n            font-size: 16px;\n        }\n\n        h3 {\n            font-size: 14px;\n        }\n\n        p {\n            font-size: 12px;\n        }\n\n        a {\n            color: black;\n        }\n\n        .line {\n            height: 1px;\n            background-color: #525D76;\n            border: none;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;h1&gt;HTTP Status 401 – Unauthorized&lt;/h1&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>i need something like this:</p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;status&quot;: &quot;401&quot;,\n            &quot;title&quot;: &quot;UNAUTHORIZED&quot;,\n            &quot;detail&quot;: &quot;xyz ...&quot;\n        }\n    ]\n}\n</code></pre>\n<p>My Adapter:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n   @Override\n   protected void configure(HttpSecurity httpSecurity) throws Exception\n   {\n      // @formatter:off\n      httpSecurity\n               .csrf()\n               .disable()\n               .authorizeRequests()\n               .antMatchers(HttpMethod.GET).permitAll()\n               .anyRequest()\n               .authenticated()\n               .and()\n               .httpBasic()\n               .and()\n               .exceptionHandling()\n               .authenticationEntryPoint(new CustomAuthenticationEntryPoint());\n      // @formatter:on\n   }\n}\n</code></pre>\n<p>The <code>CustomAuthenticationEntryPoint</code></p>\n<pre><code>@Component\nclass CustomAuthenticationEntryPoint implements AuthenticationEntryPoint\n{\n   @Override\n   public void commence(HttpServletRequest request, HttpServletResponse response,\n                        AuthenticationException authException) throws IOException\n   {\n      Collection&lt;String&gt; authorities = response.getHeaders(&quot;Authorization&quot;);\n      response.addHeader(&quot;access_denied_reason&quot;, &quot;authentication_required&quot;);\n      response.sendError(HttpStatus.UNAUTHORIZED.value(), &quot;Unauthorized&quot;);\n   }\n}\n</code></pre>\n"},{"tags":["java","nullpointerexception","struts","struts-1"],"comments":[{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1364985818,"post_id":15785138,"comment_id":22441977,"body_markdown":"Please post *full* stack trace (with cause). It should help to identify the problem","body":"Please post <i>full</i> stack trace (with cause). It should help to identify the problem"},{"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"score":0,"creation_date":1364987358,"post_id":15785138,"comment_id":22442847,"body_markdown":"What&#39;s on line 21 of uploadAction? And not to be picky (ok, maybe I am...), you&#39;re not following standard Java naming conventions. Class names should start with an uppercase letter.","body":"What&#39;s on line 21 of uploadAction? And not to be picky (ok, maybe I am...), you&#39;re not following standard Java naming conventions. Class names should start with an uppercase letter."},{"owner":{"account_id":1506923,"reputation":61,"user_id":1410094,"accept_rate":0,"display_name":"toutou"},"score":0,"creation_date":1364987831,"post_id":15785138,"comment_id":22443102,"body_markdown":"line 21 of uploadAction : String fileName= fichier.getFileName();","body":"line 21 of uploadAction : String fileName= fichier.getFileName();"}],"answers":[{"tags":[],"owner":{"account_id":1004335,"reputation":3147,"user_id":1018473,"accept_rate":100,"display_name":"Erik Kaju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364987595,"creation_date":1364987595,"answer_id":15785766,"question_id":15785138,"body_markdown":"You have several problems here:\r\n\r\n1) You need to have a html form binded to your FormFile object (Property) Just like that:\r\n\r\n `&lt;html:file property=&quot;fichier&quot;/&gt;`\r\n\r\n2) Your setter has incorrect name - it won&#39;t be able to set the value in your form object. It must be `setFichier(FormFile fichier)`\r\n\r\n3) `property=&quot;submit&quot;` not needed in `&lt;html:submit /&gt;`\r\n\r\nStart resolving the bug with these things.","title":"java.lang.NullPointerException in uployding File Struts","body":"<p>You have several problems here:</p>\n\n<p>1) You need to have a html form binded to your FormFile object (Property) Just like that:</p>\n\n<p><code>&lt;html:file property=\"fichier\"/&gt;</code></p>\n\n<p>2) Your setter has incorrect name - it won't be able to set the value in your form object. It must be <code>setFichier(FormFile fichier)</code></p>\n\n<p>3) <code>property=\"submit\"</code> not needed in <code>&lt;html:submit /&gt;</code></p>\n\n<p>Start resolving the bug with these things.</p>\n"},{"tags":[],"owner":{"account_id":81348,"reputation":1032,"user_id":229461,"accept_rate":93,"display_name":"DDK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364988010,"creation_date":1364988010,"answer_id":15785918,"question_id":15785138,"body_markdown":"The value of action attribute in `html:form` tag should be equal to what you have used in `action-mapping` tag in `struts-config.xml`. Use either `/upload` or `/fiche` in the action attribute.\r\n\r\nYou can just use `&lt;html:submit value=&quot;Submit&quot;/&gt;`. Since the UploadForm doesnt have the property &quot;submit&quot; you will get error if you include property attribute in `html:submit` tag.\r\n\r\nChange the access modifier of `FormFile fichier;` to `public` so that the Action class gets the reference of the form object. and change the method `setFile` to `setFichier`\r\n\r\nThe value of `resultat` is null. Assign a forward name such as `succes`.\r\n\r\nThe name and input  attribute values of the action tag should also be changed from `FicheRenseignementForm` to `UploadForm`\r\n","title":"java.lang.NullPointerException in uployding File Struts","body":"<p>The value of action attribute in <code>html:form</code> tag should be equal to what you have used in <code>action-mapping</code> tag in <code>struts-config.xml</code>. Use either <code>/upload</code> or <code>/fiche</code> in the action attribute.</p>\n\n<p>You can just use <code>&lt;html:submit value=\"Submit\"/&gt;</code>. Since the UploadForm doesnt have the property \"submit\" you will get error if you include property attribute in <code>html:submit</code> tag.</p>\n\n<p>Change the access modifier of <code>FormFile fichier;</code> to <code>public</code> so that the Action class gets the reference of the form object. and change the method <code>setFile</code> to <code>setFichier</code></p>\n\n<p>The value of <code>resultat</code> is null. Assign a forward name such as <code>succes</code>.</p>\n\n<p>The name and input  attribute values of the action tag should also be changed from <code>FicheRenseignementForm</code> to <code>UploadForm</code></p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364988282,"creation_date":1364988282,"answer_id":15786019,"question_id":15785138,"body_markdown":"Rename `setFile` method to setter `setFichier`. Struts unable to set this field upon submit caused you by NPE.","title":"java.lang.NullPointerException in uployding File Struts","body":"<p>Rename <code>setFile</code> method to setter <code>setFichier</code>. Struts unable to set this field upon submit caused you by NPE.</p>\n"}],"owner":{"account_id":1506923,"reputation":61,"user_id":1410094,"accept_rate":0,"display_name":"toutou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669488728,"creation_date":1364985648,"question_id":15785138,"body_markdown":" I&#180;m working with Struts 1.3.10 in Eclipse, I&#39;m developing a web app, I&#39;m using JSP, well, I&#39;m implementing a JSP where I upload a file, but is giving me problems. I have the next code and configurations.\r\n\r\n    &lt;body&gt;\r\n        &lt;html:form action=&quot;upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; \r\n            &lt;input type=&quot;file&quot; name=&quot;fichier&quot; /&gt; \r\n          &lt;tr&gt;\r\n              &lt;td&gt;&lt;html:submit property=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;/td&gt;\r\n              &lt;td align=&quot;left&quot;&gt;&lt;html:reset/&gt;&lt;/td&gt;\r\n          &lt;/tr&gt;\r\n        &lt;/html:form&gt;\r\n    &lt;/body&gt;\r\n\r\nIn the Form bean I have \r\n\r\n    public class uploadForm extends ActionForm  {\r\n\tprotected FormFile fichier;\r\n\tpublic FormFile getFichier() \r\n\t   {   \r\n\t      return fichier;\r\n\t   }\r\n\r\n\t   public void setFile(FormFile fichier) \r\n\t   {\r\n\t      this.fichier = fichier;}}\r\n\r\nIn the Action I have\r\n\r\n    public class uploadAction extends Action  {\r\n\tpublic ActionForward execute(ActionMapping mapping, ActionForm form, \r\n            HttpServletRequest req, \r\n            HttpServletResponse res) throws Exception {\r\n           \r\n            String resultat = null;\r\n            FormFile fichier = ((uploadForm) form).getFichier();\r\n            String fileName = fichier.getFileName();\r\n            System.out.println(fileName);\r\n            return mapping.findForward(resultat);\r\n        }\r\n    }\r\n\r\nIn the struts-config I have \r\n\r\n    &lt;form-beans type=&quot;org.apache.struts.action.ActionFormBean&quot;&gt;\r\n\t  &lt;form-bean name=&quot;uploadForm&quot; type=&quot;struts.ActionForm.uploadForm&quot; /&gt;\r\n\t&lt;/form-beans&gt;&lt;action-mappings type=&quot;org.apache.struts.action.ActionMapping&quot;&gt;\r\n\t\r\n\t\t&lt;action path=&quot;/fiche&quot; input=&quot;/FormulaireFiche.jsp&quot; scope=&quot;request&quot;\r\n\t\tname=&quot;FicheRenseignementForm&quot; type=&quot;struts.action.FicheRenseignementAction&quot;&gt;\r\n\t\t  &lt;forward name=&quot;succes&quot; path=&quot;/personnel_succes.jsp&quot; redirect=&quot;false&quot; /&gt;\r\n\t\t  &lt;forward name=&quot;echec&quot; path=&quot;/FormulaireFiche.jsp&quot; redirect=&quot;false&quot; /&gt;\r\n\t\t&lt;/action&gt;&lt;/action-mappings&gt;\r\nAnd when I run the aplication, and I select the file, the server send me the exception \r\n\r\n    javax.servlet.ServletException: java.lang.NullPointerException\r\n\torg.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:286)\r\n\torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\torg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\ncause m&#232;re \r\n\r\n    java.lang.NullPointerException\r\n\tstruts.action.uploadAction.execute(uploadAction.java:21)\r\n\torg.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)\r\n\torg.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)\r\n\torg.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)\r\n\torg.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)\r\n\torg.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)\r\n\torg.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)\r\n\torg.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)\r\n\torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\torg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\r\n\r\n\r\n    ","title":"java.lang.NullPointerException in uployding File Struts","body":"<p>I´m working with Struts 1.3.10 in Eclipse, I'm developing a web app, I'm using JSP, well, I'm implementing a JSP where I upload a file, but is giving me problems. I have the next code and configurations.</p>\n<pre><code>&lt;body&gt;\n    &lt;html:form action=&quot;upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; \n        &lt;input type=&quot;file&quot; name=&quot;fichier&quot; /&gt; \n      &lt;tr&gt;\n          &lt;td&gt;&lt;html:submit property=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;/td&gt;\n          &lt;td align=&quot;left&quot;&gt;&lt;html:reset/&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/html:form&gt;\n&lt;/body&gt;\n</code></pre>\n<p>In the Form bean I have</p>\n<pre><code>public class uploadForm extends ActionForm  {\nprotected FormFile fichier;\npublic FormFile getFichier() \n   {   \n      return fichier;\n   }\n\n   public void setFile(FormFile fichier) \n   {\n      this.fichier = fichier;}}\n</code></pre>\n<p>In the Action I have</p>\n<pre><code>public class uploadAction extends Action  {\npublic ActionForward execute(ActionMapping mapping, ActionForm form, \n        HttpServletRequest req, \n        HttpServletResponse res) throws Exception {\n       \n        String resultat = null;\n        FormFile fichier = ((uploadForm) form).getFichier();\n        String fileName = fichier.getFileName();\n        System.out.println(fileName);\n        return mapping.findForward(resultat);\n    }\n}\n</code></pre>\n<p>In the struts-config I have</p>\n<pre><code>&lt;form-beans type=&quot;org.apache.struts.action.ActionFormBean&quot;&gt;\n  &lt;form-bean name=&quot;uploadForm&quot; type=&quot;struts.ActionForm.uploadForm&quot; /&gt;\n&lt;/form-beans&gt;&lt;action-mappings type=&quot;org.apache.struts.action.ActionMapping&quot;&gt;\n\n    &lt;action path=&quot;/fiche&quot; input=&quot;/FormulaireFiche.jsp&quot; scope=&quot;request&quot;\n    name=&quot;FicheRenseignementForm&quot; type=&quot;struts.action.FicheRenseignementAction&quot;&gt;\n      &lt;forward name=&quot;succes&quot; path=&quot;/personnel_succes.jsp&quot; redirect=&quot;false&quot; /&gt;\n      &lt;forward name=&quot;echec&quot; path=&quot;/FormulaireFiche.jsp&quot; redirect=&quot;false&quot; /&gt;\n    &lt;/action&gt;&lt;/action-mappings&gt;\n</code></pre>\n<p>And when I run the aplication, and I select the file, the server send me the exception</p>\n<pre><code>javax.servlet.ServletException: java.lang.NullPointerException\norg.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:286)\norg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\norg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:637)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n</code></pre>\n<p>cause mère</p>\n<pre><code>java.lang.NullPointerException\nstruts.action.uploadAction.execute(uploadAction.java:21)\norg.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)\norg.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)\norg.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)\norg.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)\norg.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)\norg.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)\norg.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)\norg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\norg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:637)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n</code></pre>\n"},{"tags":["java","javafx","jpackage"],"answers":[{"tags":[],"owner":{"account_id":20529459,"reputation":51,"user_id":15067110,"display_name":"Peter Jerkewitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669488409,"creation_date":1669488409,"answer_id":74584772,"question_id":74414545,"body_markdown":"Unfortunately, I needed to replace my boot drive, which involved reinstalling Windows and WIX Toolkit and Java plus all the other stuff. The error no longer occurs. I have no idea what fixed it, the new SSD is built the same as the old with the same versions of all software. There is not a software migration history on the new SSD as there was on the old HD. I&#39;m using the same procedures as before.\r\nI hate when we fix things and not know why, but such is life.\r\n ","title":"JPackage getting ERROR: Unknown exception caught trying to find MSI installer","body":"<p>Unfortunately, I needed to replace my boot drive, which involved reinstalling Windows and WIX Toolkit and Java plus all the other stuff. The error no longer occurs. I have no idea what fixed it, the new SSD is built the same as the old with the same versions of all software. There is not a software migration history on the new SSD as there was on the old HD. I'm using the same procedures as before.\nI hate when we fix things and not know why, but such is life.</p>\n"}],"owner":{"account_id":20529459,"reputation":51,"user_id":15067110,"display_name":"Peter Jerkewitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669488409,"creation_date":1668269672,"question_id":74414545,"body_markdown":"I&#39;m getting the following error in JPackage using JDK-19 and JavaFX-19. Same configuration used to work using JDK-18 and JavaFX-16. It builds the install image, but is missing the msi installer.\r\n```\r\nRequired environment variables: \r\n PATH_TO_FX      = C:\\Java\\javafx-19\\sdk\\lib\r\n PATH_TO_FX_MODS = C:\\Java\\javafx-19\\jmods\r\n JPackage Version 19\r\n```\r\n```\r\n[2022/11/12 10:46:54.801, jpackage.dll (PID: 5696, TID: 11192), jpackage.cpp:155 (Java_jdk_jpackage_internal_WinExeBundler_embedMSI)]\r\n        ERROR: Unknown exception caught\r\n[10:45:03.636] Running candle.exe\r\n[10:45:03.647] Running C:\\Program Files (x86)\\WiX Toolset v3.11\\bin\\candle.exe\r\n[10:45:03.784] Running light.exe\r\n[10:45:03.788] Running C:\\Program Files (x86)\\WiX Toolset v3.11\\bin\\light.exe\r\n[10:45:03.989] Detected [candle.exe] version [3.11.2.4516].\r\n[10:45:03.989] Detected [light.exe] version [3.11.2.4516].\r\n[10:45:03.990] WiX 3.11.2.4516 detected. Enabling advanced cleanup action.     \r\n```\r\nAny guidance or where I might get help is much appreciated.\r\nThank you\r\n\r\n     ","title":"JPackage getting ERROR: Unknown exception caught trying to find MSI installer","body":"<p>I'm getting the following error in JPackage using JDK-19 and JavaFX-19. Same configuration used to work using JDK-18 and JavaFX-16. It builds the install image, but is missing the msi installer.</p>\n<pre><code>Required environment variables: \n PATH_TO_FX      = C:\\Java\\javafx-19\\sdk\\lib\n PATH_TO_FX_MODS = C:\\Java\\javafx-19\\jmods\n JPackage Version 19\n</code></pre>\n<pre><code>[2022/11/12 10:46:54.801, jpackage.dll (PID: 5696, TID: 11192), jpackage.cpp:155 (Java_jdk_jpackage_internal_WinExeBundler_embedMSI)]\n        ERROR: Unknown exception caught\n[10:45:03.636] Running candle.exe\n[10:45:03.647] Running C:\\Program Files (x86)\\WiX Toolset v3.11\\bin\\candle.exe\n[10:45:03.784] Running light.exe\n[10:45:03.788] Running C:\\Program Files (x86)\\WiX Toolset v3.11\\bin\\light.exe\n[10:45:03.989] Detected [candle.exe] version [3.11.2.4516].\n[10:45:03.989] Detected [light.exe] version [3.11.2.4516].\n[10:45:03.990] WiX 3.11.2.4516 detected. Enabling advanced cleanup action.     \n</code></pre>\n<p>Any guidance or where I might get help is much appreciated.\nThank you</p>\n"},{"tags":["java","arrays","autofill"],"comments":[{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1613850082,"post_id":66293761,"comment_id":117205583,"body_markdown":"Welcome to Stack Overflow. Please read [how to ask](https://stackoverflow.com/help/how-to-ask) a question on this site. While you definitely can ask a question, this site is not a service to solve your home-works or tasks, when you don&#39;t invest in it, yourself. On this kind of questions, people will ask you: what have you tried? where did you struggle at? what did you research? what attempts did you give it to find something on the internet? have you read at least one little article on this? in the future, try things yourself, and then, if you can&#39;t - we&#39;ll be glad to help you.","body":"Welcome to Stack Overflow. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> a question on this site. While you definitely can ask a question, this site is not a service to solve your home-works or tasks, when you don&#39;t invest in it, yourself. On this kind of questions, people will ask you: what have you tried? where did you struggle at? what did you research? what attempts did you give it to find something on the internet? have you read at least one little article on this? in the future, try things yourself, and then, if you can&#39;t - we&#39;ll be glad to help you."}],"answers":[{"tags":[],"owner":{"account_id":10886388,"reputation":13,"user_id":8003755,"display_name":"Xemor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613849666,"creation_date":1613838263,"answer_id":66293864,"question_id":66293761,"body_markdown":"    int[] array = new int[size];\r\n\r\nWhere `size` is the number on the first line of the text file.\r\nThis is how you create an array, you don&#39;t have to know the `size` of the array at `compile` time, we can just use a variable for `size`.\r\n\r\nAlso, not sure where you heard that arrays greater than `100` in size destroy your computer, that&#39;s just not true!","title":"How to auto create arrays","body":"<pre><code>int[] array = new int[size];\n</code></pre>\n<p>Where <code>size</code> is the number on the first line of the text file.\nThis is how you create an array, you don't have to know the <code>size</code> of the array at <code>compile</code> time, we can just use a variable for <code>size</code>.</p>\n<p>Also, not sure where you heard that arrays greater than <code>100</code> in size destroy your computer, that's just not true!</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669488098,"creation_date":1613838346,"answer_id":66293880,"question_id":66293761,"body_markdown":" 1. Read the first line and convert the result to a number that you store to `count`.\r\n 2. Then add this line: `int [] array = new int [count];`\r\n 3. Next setup a `for` loop: `for( var i = 0; i &lt; count; ++i )` and in this loop, you read the current line, convert the value to a number and store it to `array [i]`.\r\n\r\nIs this explanation simple enough?\r\n\r\nFor the concrete Java code, you should use your own brain, otherwise it will never change that you don&#39;t understand …\r\n\r\n----------\r\n\r\nIf this &quot;100 entries&quot; limit is relevant, you create a list of arrays (`List&lt;int[]&gt; arrays`) and the sequence of code looks a bit different:\r\n\r\n 1. Get the amount of numbers in the file. \r\n 2. Setup a `while` loop: `while( count &gt; 100 )`. \r\n 3. In that loop, you create an array for 100 values and store it to the list:\r\n    ```\r\n    int [] array = new int [100];\r\n    arrays.add( array );\r\n    ```\r\n    Further you read the next 100 lines, convert the values to numbers and store them to `array [i]`; for that, you use a `for` loop as above.\r\n 4. The last operation in the `while` loop is this: `count -= 100;`.\r\n 5. After the `while` loop, you add the code from above the separator line, with one addition: after creating the array, you need to add it to the list of arrays before you start the `for` loop. ","title":"How to auto create arrays","body":"<ol>\n<li>Read the first line and convert the result to a number that you store to <code>count</code>.</li>\n<li>Then add this line: <code>int [] array = new int [count];</code></li>\n<li>Next setup a <code>for</code> loop: <code>for( var i = 0; i &lt; count; ++i )</code> and in this loop, you read the current line, convert the value to a number and store it to <code>array [i]</code>.</li>\n</ol>\n<p>Is this explanation simple enough?</p>\n<p>For the concrete Java code, you should use your own brain, otherwise it will never change that you don't understand …</p>\n<hr />\n<p>If this &quot;100 entries&quot; limit is relevant, you create a list of arrays (<code>List&lt;int[]&gt; arrays</code>) and the sequence of code looks a bit different:</p>\n<ol>\n<li>Get the amount of numbers in the file.</li>\n<li>Setup a <code>while</code> loop: <code>while( count &gt; 100 )</code>.</li>\n<li>In that loop, you create an array for 100 values and store it to the list:\n<pre><code>int [] array = new int [100];\narrays.add( array );\n</code></pre>\nFurther you read the next 100 lines, convert the values to numbers and store them to <code>array [i]</code>; for that, you use a <code>for</code> loop as above.</li>\n<li>The last operation in the <code>while</code> loop is this: <code>count -= 100;</code>.</li>\n<li>After the <code>while</code> loop, you add the code from above the separator line, with one addition: after creating the array, you need to add it to the list of arrays before you start the <code>for</code> loop.</li>\n</ol>\n"}],"owner":{"account_id":20131928,"reputation":41,"user_id":15249553,"display_name":"Рик Plays"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":66293880,"answer_count":2,"score":0,"last_activity_date":1669488098,"creation_date":1613837687,"question_id":66293761,"body_markdown":"***Hello! So there&#39;s a problem.***\r\n\r\nWe&#39;re given a file.txt with a lot of numbers (let&#39;s consider the amount is greater than 1000). On the first line we can see the amount of numbers. The next lines contain numbers (1 line = 1 number). So we need to write a code which will autofill arrays with all these numbers. We&#39;re not allowed to fill one array with more than 100 elements, because it will destroy our PC (I&#39;ve read it somewhere).\r\n\r\nExample of the file.txt:\r\n\r\n    5\r\n    78\r\n    67\r\n    56\r\n    45\r\n    23\r\n\r\nI don&#39;t know how to auto create arrays depending on an amount of numbers we have.\r\n\r\nI will be grateful for the help.\r\n\r\n**P. S. please don&#39;t write and suggest very difficult constructions, I won&#39;t understand them, because I am the beginner in programming :D**","title":"How to auto create arrays","body":"<p><em><strong>Hello! So there's a problem.</strong></em></p>\n<p>We're given a file.txt with a lot of numbers (let's consider the amount is greater than 1000). On the first line we can see the amount of numbers. The next lines contain numbers (1 line = 1 number). So we need to write a code which will autofill arrays with all these numbers. We're not allowed to fill one array with more than 100 elements, because it will destroy our PC (I've read it somewhere).</p>\n<p>Example of the file.txt:</p>\n<pre><code>5\n78\n67\n56\n45\n23\n</code></pre>\n<p>I don't know how to auto create arrays depending on an amount of numbers we have.</p>\n<p>I will be grateful for the help.</p>\n<p><strong>P. S. please don't write and suggest very difficult constructions, I won't understand them, because I am the beginner in programming :D</strong></p>\n"},{"tags":["java","android","keyboard","ime"],"answers":[{"tags":[],"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669488031,"creation_date":1669488031,"answer_id":74584734,"question_id":42769120,"body_markdown":"5 years later.\r\n\r\nThe problem is your method.xml file.\r\n\r\nIt should be defined like this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;input-method \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     android:supportsSwitchingToNextInputMethod=&quot;true&quot;&gt;\r\n    &lt;subtype \r\n       android:label=&quot;@string/keyboard_grk_label&quot;\r\n       android:imeSubtypeLocale=&quot;el_Gr&quot;\r\n       android:imeSubtypeMode=&quot;keyboard&quot; /&gt;\r\n&lt;/input-method&gt;\r\n```\r\n\r\n\r\n\r\nhttps://developer.android.com/develop/ui/views/touch-and-input/creating-input-method#IMESubTypes","title":"Android won&#39;t recognize Soft Keyboard","body":"<p>5 years later.</p>\n<p>The problem is your method.xml file.</p>\n<p>It should be defined like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;input-method \n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     android:supportsSwitchingToNextInputMethod=&quot;true&quot;&gt;\n    &lt;subtype \n       android:label=&quot;@string/keyboard_grk_label&quot;\n       android:imeSubtypeLocale=&quot;el_Gr&quot;\n       android:imeSubtypeMode=&quot;keyboard&quot; /&gt;\n&lt;/input-method&gt;\n</code></pre>\n<p><a href=\"https://developer.android.com/develop/ui/views/touch-and-input/creating-input-method#IMESubTypes\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/touch-and-input/creating-input-method#IMESubTypes</a></p>\n"}],"owner":{"account_id":10449291,"reputation":11,"user_id":7703433,"display_name":"N. Hen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669488031,"creation_date":1489423800,"question_id":42769120,"body_markdown":"I&#39;m new to the android environment, so please bear with me:\r\n\r\nI&#39;ve been trying to develop a soft keyboard as part of a vocabulary-building app I&#39;m creating. When I run the app, through Android Studio (v2.3), the app successfully launches, but the input method service seems to be ignored, and the keyboard is not listed in the system&#39;s input methods (to where I got by entering Settings -&gt; Language &amp; Input -&gt; Current keyboard -&gt; Choose Keyboards). I&#39;m using a Nexus 5, and Android version 6.0.1, if it helps.\r\n\r\nIn order to create the keyboard I&#39;ve been following the guide on Android Developers (under &quot;Creating An Input Method&quot;), as well as the sample keyboard referenced there (&quot;SoftKeyboard&quot;, [Link](https://android.googlesource.com/platform/development/+/master/samples/SoftKeyboard/)). I didn&#39;t need all the features that the SoftKeyboard example gives (for example, candidates), and so I adapted only a part of the sample project to my own; this might be the cause for problems.\r\n\r\nTo clarify, the app launches successfully, but the keyboard service seems to be ignored. I&#39;ve searched the logs, and have found a single error which is related to input methods, but it seems quite minor. The full log can be found [here](http://pastebin.com/tJa6Azhj) (noted error starts at line 274).\r\n\r\nAlso, here are some code snippets I think are important to the problem (of course, I can provide any other requested file):\r\n\r\nThe AndroidManifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              package=&quot;com.akuros.glossa.keyboard&quot;&gt;\r\n     \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n     \r\n            &lt;!-- Declares the input method service --&gt;\r\n            &lt;service android:name=&quot;GlossaKeyboard&quot;\r\n                     android:label=&quot;greek_keyboard&quot;\r\n                     android:permission=&quot;android.permission.BIND_INPUT_METHOD&quot;\r\n                &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.view.InputMethod&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;meta-data android:name=&quot;android.view.im&quot;\r\n                           android:resource=&quot;@xml/method&quot; /&gt;\r\n            &lt;/service&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n     \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n     \r\n    &lt;/manifest&gt;\r\n\r\nThe method.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;InputMethod\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:supportsSwitchingToNextInputMethod=&quot;true&quot;\r\n    &gt;\r\n        &lt;Subtype\r\n        android:label=&quot;@string/keyboard_grk_label&quot;\r\n        android:imeSubtypeLocale=&quot;el_Gr&quot;\r\n        android:imeSubtypeMode=&quot;keyboard&quot;\r\n        /&gt;\r\n    &lt;/InputMethod&gt;\r\n\r\nand the central class (which extends the InputMethodService), GlossaKeyboard:\r\n\r\n    package com.akuros.glossa.keyboard;\r\n     \r\n    /*\r\n     * This class defines the Greek Keyboard used by this application.\r\n     *\r\n     * Created by Nitzan on 15/02/2017.\r\n     */\r\n     \r\n    //TODO have the keyboard adapt its state according to the language needed\r\n     \r\n    import android.app.Dialog;\r\n    import android.inputmethodservice.InputMethodService;\r\n    import android.inputmethodservice.Keyboard;\r\n    import android.inputmethodservice.KeyboardView;\r\n    import android.os.IBinder;\r\n    import android.text.InputType;\r\n    import android.view.KeyEvent;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.inputmethod.EditorInfo;\r\n    import android.view.inputmethod.InputConnection;\r\n    import android.view.inputmethod.InputMethodManager;\r\n     \r\n    import static android.inputmethodservice.Keyboard.KEYCODE_DELETE;\r\n    import static android.inputmethodservice.Keyboard.KEYCODE_SHIFT;\r\n     \r\n    public class GlossaKeyboard extends InputMethodService\r\n            implements KeyboardView.OnKeyboardActionListener\r\n    {\r\n        //------ Key Codes ------//\r\n        private static final int KEYCODE_ENGLISH = -101;\r\n        private static final int KEYCODE_LANGUAGE_SWITCH = -102;\r\n        private static final int KEYCODE_CAPS = -103;\r\n     \r\n        //------ Fields ------ //\r\n     \r\n        private GlossaKeyboardView keyboardView;\r\n        private StringBuilder composing;\r\n     \r\n        private InputMethodManager imm;\r\n     \r\n        private Keyboard greekKeyboard;\r\n        private Keyboard englishKeyboard;\r\n        private Keyboard currKeyboard;\r\n     \r\n        private int shiftState;\r\n     \r\n        @Override\r\n        public void onCreate()\r\n        {\r\n            super.onCreate();\r\n            imm = (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);\r\n            composing = new StringBuilder();\r\n     \r\n            shiftState = 0;\r\n        }\r\n     \r\n        @Override\r\n        public void onInitializeInterface()\r\n        {\r\n            greekKeyboard = new Keyboard(this, R.xml.qwerty_greek);\r\n            englishKeyboard = new Keyboard(this, R.xml.qwerty_english);\r\n        }\r\n     \r\n        @Override\r\n        public View onCreateInputView()\r\n        {\r\n            keyboardView = (GlossaKeyboardView) getLayoutInflater().inflate(\r\n                    R.layout.keyboard_greek, null);\r\n            keyboardView.setOnKeyboardActionListener(this);\r\n            keyboardView.setKeyboard(greekKeyboard);\r\n            return keyboardView;\r\n        }\r\n     \r\n        @Override\r\n        public void onStartInput(EditorInfo attribute, boolean restarting)\r\n        {\r\n            super.onStartInput(attribute, restarting);\r\n     \r\n            composing.setLength(0);\r\n            shiftState = 0;\r\n     \r\n            currKeyboard = greekKeyboard;\r\n     \r\n        }\r\n     \r\n     \r\n        @Override\r\n        public void onFinishInput()\r\n        {\r\n            super.onFinishInput();\r\n     \r\n            composing.setLength(0);\r\n     \r\n            if (keyboardView != null)\r\n                keyboardView.closing();\r\n        }\r\n     \r\n        /* Interface Required Methods */\r\n     \r\n        @Override\r\n        public void onPress(int primaryCode)\r\n        {\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public void onRelease(int primaryCode)\r\n        {\r\n     \r\n        }\r\n     \r\n        @Override\r\n        //note the static import of Keyboard&#39;s KEYCODE values\r\n        public void onKey(int primaryCode, int[] keyCodes)\r\n        {\r\n     \r\n            switch (primaryCode)\r\n            {\r\n                case KEYCODE_SHIFT:\r\n                    shiftState = (shiftState == 0) ? 1 : 0;\r\n                    break;\r\n     \r\n                case KEYCODE_CAPS:\r\n                    shiftState = (shiftState == 0) ? 2 : 0;\r\n                    break;\r\n     \r\n                case KEYCODE_DELETE:\r\n                    handleBackspace();\r\n                    break;\r\n     \r\n                case KEYCODE_LANGUAGE_SWITCH:\r\n                    handleLanguageSwitch();\r\n                    break;\r\n     \r\n                case KEYCODE_ENGLISH:\r\n                    handleEnglishSwitch();\r\n                    break;\r\n     \r\n                default:\r\n                    handleCharacter(primaryCode);\r\n                    break;\r\n     \r\n            }\r\n     \r\n            updateShiftKeyState(getCurrentInputEditorInfo());\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public void onText(CharSequence text)\r\n        {\r\n            InputConnection ic = getCurrentInputConnection();\r\n            if (ic == null) return;\r\n            ic.beginBatchEdit();\r\n     \r\n            if (composing.length() &gt; 0)\r\n                commitTyped(ic);\r\n     \r\n            ic.commitText(text, 0); //not sure why this call needs to exist, commitText(ic) should already\r\n            //do the work.\r\n     \r\n            ic.endBatchEdit();\r\n            updateShiftKeyState(getCurrentInputEditorInfo());\r\n        }\r\n     \r\n     \r\n        //------ Private methods ------//\r\n     \r\n        /* Handlers */\r\n     \r\n        private void handleCharacter(int primaryCode)\r\n        {\r\n            if(isInputViewShown())\r\n            {\r\n                if(keyboardView.isShifted())\r\n                    primaryCode = Character.toUpperCase(primaryCode);\r\n            }\r\n            CharSequence str = String.valueOf((char) primaryCode);\r\n            getCurrentInputConnection().commitText(str, 1);\r\n        }\r\n     \r\n        private void handleBackspace()\r\n        {\r\n            final int length = composing.length();\r\n            if(length &gt; 1)\r\n            {\r\n                composing.delete(length - 1, length);\r\n                getCurrentInputConnection().setComposingText(composing,1);\r\n            }\r\n            else if(length &gt; 0)\r\n            {\r\n                composing.setLength(0);\r\n                getCurrentInputConnection().commitText(&quot;&quot;, 0);\r\n            }\r\n            else\r\n            {\r\n                keyDownUp(KeyEvent.KEYCODE_DEL);\r\n            }\r\n            updateShiftKeyState(getCurrentInputEditorInfo());\r\n        }\r\n     \r\n        private void handleLanguageSwitch()\r\n        {\r\n            imm.switchToNextInputMethod(getToken(), false);\r\n        }\r\n     \r\n        private void handleEnglishSwitch()\r\n        {\r\n            if(currKeyboard != englishKeyboard )\r\n            {\r\n                currKeyboard = englishKeyboard;\r\n                keyboardView.setKeyboard(englishKeyboard);\r\n            }\r\n        }\r\n     \r\n        /* Helper Methods */\r\n     \r\n        public IBinder getToken() {\r\n            final Dialog dialog = getWindow();\r\n            if (dialog == null) {\r\n                return null;\r\n            }\r\n            final Window window = dialog.getWindow();\r\n            if (window == null) {\r\n                return null;\r\n            }\r\n            return window.getAttributes().token;\r\n        }\r\n     \r\n        private void commitTyped(InputConnection ic)\r\n        {\r\n            if (composing.length() &gt; 0)\r\n            {\r\n                ic.commitText(composing, composing.length());\r\n                composing.setLength(0);\r\n            }\r\n        }\r\n     \r\n        private void keyDownUp(int keyEventCode)\r\n        {\r\n            getCurrentInputConnection().sendKeyEvent(\r\n                    new KeyEvent(KeyEvent.ACTION_DOWN, keyEventCode));\r\n            getCurrentInputConnection().sendKeyEvent(\r\n                    new KeyEvent(KeyEvent.ACTION_UP, keyEventCode));\r\n        }\r\n     \r\n        private void updateShiftKeyState(EditorInfo attr)\r\n        {\r\n            if (attr != null &amp;&amp; keyboardView != null)\r\n            {\r\n                Keyboard keyboard = keyboardView.getKeyboard();\r\n                if (keyboard == greekKeyboard\r\n                        || keyboard == englishKeyboard)\r\n                {\r\n                    int caps = 0;\r\n                    EditorInfo ei = getCurrentInputEditorInfo();\r\n                    if (ei != null &amp;&amp; ei.inputType != InputType.TYPE_NULL)\r\n                    {\r\n                        caps = getCurrentInputConnection().getCursorCapsMode(attr.inputType);\r\n                    }\r\n                    keyboardView.setShifted(shiftState &gt; 0 || caps != 0);\r\n                }\r\n            }\r\n            if (shiftState == 1)\r\n                shiftState = 0;\r\n        }\r\n     \r\n     \r\n        /* Unused Methods */\r\n        //These methods are implemented simply because the OnKeyboardActionListener interface demands it.\r\n        //their implementation is empty.\r\n     \r\n        @Override\r\n        public void swipeLeft()\r\n        {\r\n            //do nothing\r\n        }\r\n     \r\n        @Override\r\n        public void swipeRight()\r\n        {\r\n            //do nothing\r\n        }\r\n     \r\n        @Override\r\n        public void swipeDown()\r\n        {\r\n            //do nothing\r\n        }\r\n     \r\n        @Override\r\n        public void swipeUp()\r\n        {\r\n            //do nothing\r\n        }\r\n    }\r\n\r\nSo far, I&#39;ve tried:\r\n\r\n- moving all Input-Method related files into a separate project, and running that (same results)\r\n\r\n- debugging the project (breakpoints at the GlossaKeyboard class were never reached)\r\n\r\n- Searching the logs (as mentioned, nothing found)\r\n\r\n- Comparing my files to the ones in the SoftKeyboard sample app (no errors found in my version; haven&#39;t found anything missing except for unwanted features [such as word suggestions, spell check, etc.]).\r\n\r\nAny help is appreciated.","title":"Android won&#39;t recognize Soft Keyboard","body":"<p>I'm new to the android environment, so please bear with me:</p>\n\n<p>I've been trying to develop a soft keyboard as part of a vocabulary-building app I'm creating. When I run the app, through Android Studio (v2.3), the app successfully launches, but the input method service seems to be ignored, and the keyboard is not listed in the system's input methods (to where I got by entering Settings -> Language &amp; Input -> Current keyboard -> Choose Keyboards). I'm using a Nexus 5, and Android version 6.0.1, if it helps.</p>\n\n<p>In order to create the keyboard I've been following the guide on Android Developers (under \"Creating An Input Method\"), as well as the sample keyboard referenced there (\"SoftKeyboard\", <a href=\"https://android.googlesource.com/platform/development/+/master/samples/SoftKeyboard/\" rel=\"nofollow noreferrer\">Link</a>). I didn't need all the features that the SoftKeyboard example gives (for example, candidates), and so I adapted only a part of the sample project to my own; this might be the cause for problems.</p>\n\n<p>To clarify, the app launches successfully, but the keyboard service seems to be ignored. I've searched the logs, and have found a single error which is related to input methods, but it seems quite minor. The full log can be found <a href=\"http://pastebin.com/tJa6Azhj\" rel=\"nofollow noreferrer\">here</a> (noted error starts at line 274).</p>\n\n<p>Also, here are some code snippets I think are important to the problem (of course, I can provide any other requested file):</p>\n\n<p>The AndroidManifest.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          package=\"com.akuros.glossa.keyboard\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        &lt;!-- Declares the input method service --&gt;\n        &lt;service android:name=\"GlossaKeyboard\"\n                 android:label=\"greek_keyboard\"\n                 android:permission=\"android.permission.BIND_INPUT_METHOD\"\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.view.InputMethod\" /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=\"android.view.im\"\n                       android:resource=\"@xml/method\" /&gt;\n        &lt;/service&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>The method.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;InputMethod\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:supportsSwitchingToNextInputMethod=\"true\"\n&gt;\n    &lt;Subtype\n    android:label=\"@string/keyboard_grk_label\"\n    android:imeSubtypeLocale=\"el_Gr\"\n    android:imeSubtypeMode=\"keyboard\"\n    /&gt;\n&lt;/InputMethod&gt;\n</code></pre>\n\n<p>and the central class (which extends the InputMethodService), GlossaKeyboard:</p>\n\n<pre><code>package com.akuros.glossa.keyboard;\n\n/*\n * This class defines the Greek Keyboard used by this application.\n *\n * Created by Nitzan on 15/02/2017.\n */\n\n//TODO have the keyboard adapt its state according to the language needed\n\nimport android.app.Dialog;\nimport android.inputmethodservice.InputMethodService;\nimport android.inputmethodservice.Keyboard;\nimport android.inputmethodservice.KeyboardView;\nimport android.os.IBinder;\nimport android.text.InputType;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.inputmethod.EditorInfo;\nimport android.view.inputmethod.InputConnection;\nimport android.view.inputmethod.InputMethodManager;\n\nimport static android.inputmethodservice.Keyboard.KEYCODE_DELETE;\nimport static android.inputmethodservice.Keyboard.KEYCODE_SHIFT;\n\npublic class GlossaKeyboard extends InputMethodService\n        implements KeyboardView.OnKeyboardActionListener\n{\n    //------ Key Codes ------//\n    private static final int KEYCODE_ENGLISH = -101;\n    private static final int KEYCODE_LANGUAGE_SWITCH = -102;\n    private static final int KEYCODE_CAPS = -103;\n\n    //------ Fields ------ //\n\n    private GlossaKeyboardView keyboardView;\n    private StringBuilder composing;\n\n    private InputMethodManager imm;\n\n    private Keyboard greekKeyboard;\n    private Keyboard englishKeyboard;\n    private Keyboard currKeyboard;\n\n    private int shiftState;\n\n    @Override\n    public void onCreate()\n    {\n        super.onCreate();\n        imm = (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);\n        composing = new StringBuilder();\n\n        shiftState = 0;\n    }\n\n    @Override\n    public void onInitializeInterface()\n    {\n        greekKeyboard = new Keyboard(this, R.xml.qwerty_greek);\n        englishKeyboard = new Keyboard(this, R.xml.qwerty_english);\n    }\n\n    @Override\n    public View onCreateInputView()\n    {\n        keyboardView = (GlossaKeyboardView) getLayoutInflater().inflate(\n                R.layout.keyboard_greek, null);\n        keyboardView.setOnKeyboardActionListener(this);\n        keyboardView.setKeyboard(greekKeyboard);\n        return keyboardView;\n    }\n\n    @Override\n    public void onStartInput(EditorInfo attribute, boolean restarting)\n    {\n        super.onStartInput(attribute, restarting);\n\n        composing.setLength(0);\n        shiftState = 0;\n\n        currKeyboard = greekKeyboard;\n\n    }\n\n\n    @Override\n    public void onFinishInput()\n    {\n        super.onFinishInput();\n\n        composing.setLength(0);\n\n        if (keyboardView != null)\n            keyboardView.closing();\n    }\n\n    /* Interface Required Methods */\n\n    @Override\n    public void onPress(int primaryCode)\n    {\n\n    }\n\n    @Override\n    public void onRelease(int primaryCode)\n    {\n\n    }\n\n    @Override\n    //note the static import of Keyboard's KEYCODE values\n    public void onKey(int primaryCode, int[] keyCodes)\n    {\n\n        switch (primaryCode)\n        {\n            case KEYCODE_SHIFT:\n                shiftState = (shiftState == 0) ? 1 : 0;\n                break;\n\n            case KEYCODE_CAPS:\n                shiftState = (shiftState == 0) ? 2 : 0;\n                break;\n\n            case KEYCODE_DELETE:\n                handleBackspace();\n                break;\n\n            case KEYCODE_LANGUAGE_SWITCH:\n                handleLanguageSwitch();\n                break;\n\n            case KEYCODE_ENGLISH:\n                handleEnglishSwitch();\n                break;\n\n            default:\n                handleCharacter(primaryCode);\n                break;\n\n        }\n\n        updateShiftKeyState(getCurrentInputEditorInfo());\n\n    }\n\n    @Override\n    public void onText(CharSequence text)\n    {\n        InputConnection ic = getCurrentInputConnection();\n        if (ic == null) return;\n        ic.beginBatchEdit();\n\n        if (composing.length() &gt; 0)\n            commitTyped(ic);\n\n        ic.commitText(text, 0); //not sure why this call needs to exist, commitText(ic) should already\n        //do the work.\n\n        ic.endBatchEdit();\n        updateShiftKeyState(getCurrentInputEditorInfo());\n    }\n\n\n    //------ Private methods ------//\n\n    /* Handlers */\n\n    private void handleCharacter(int primaryCode)\n    {\n        if(isInputViewShown())\n        {\n            if(keyboardView.isShifted())\n                primaryCode = Character.toUpperCase(primaryCode);\n        }\n        CharSequence str = String.valueOf((char) primaryCode);\n        getCurrentInputConnection().commitText(str, 1);\n    }\n\n    private void handleBackspace()\n    {\n        final int length = composing.length();\n        if(length &gt; 1)\n        {\n            composing.delete(length - 1, length);\n            getCurrentInputConnection().setComposingText(composing,1);\n        }\n        else if(length &gt; 0)\n        {\n            composing.setLength(0);\n            getCurrentInputConnection().commitText(\"\", 0);\n        }\n        else\n        {\n            keyDownUp(KeyEvent.KEYCODE_DEL);\n        }\n        updateShiftKeyState(getCurrentInputEditorInfo());\n    }\n\n    private void handleLanguageSwitch()\n    {\n        imm.switchToNextInputMethod(getToken(), false);\n    }\n\n    private void handleEnglishSwitch()\n    {\n        if(currKeyboard != englishKeyboard )\n        {\n            currKeyboard = englishKeyboard;\n            keyboardView.setKeyboard(englishKeyboard);\n        }\n    }\n\n    /* Helper Methods */\n\n    public IBinder getToken() {\n        final Dialog dialog = getWindow();\n        if (dialog == null) {\n            return null;\n        }\n        final Window window = dialog.getWindow();\n        if (window == null) {\n            return null;\n        }\n        return window.getAttributes().token;\n    }\n\n    private void commitTyped(InputConnection ic)\n    {\n        if (composing.length() &gt; 0)\n        {\n            ic.commitText(composing, composing.length());\n            composing.setLength(0);\n        }\n    }\n\n    private void keyDownUp(int keyEventCode)\n    {\n        getCurrentInputConnection().sendKeyEvent(\n                new KeyEvent(KeyEvent.ACTION_DOWN, keyEventCode));\n        getCurrentInputConnection().sendKeyEvent(\n                new KeyEvent(KeyEvent.ACTION_UP, keyEventCode));\n    }\n\n    private void updateShiftKeyState(EditorInfo attr)\n    {\n        if (attr != null &amp;&amp; keyboardView != null)\n        {\n            Keyboard keyboard = keyboardView.getKeyboard();\n            if (keyboard == greekKeyboard\n                    || keyboard == englishKeyboard)\n            {\n                int caps = 0;\n                EditorInfo ei = getCurrentInputEditorInfo();\n                if (ei != null &amp;&amp; ei.inputType != InputType.TYPE_NULL)\n                {\n                    caps = getCurrentInputConnection().getCursorCapsMode(attr.inputType);\n                }\n                keyboardView.setShifted(shiftState &gt; 0 || caps != 0);\n            }\n        }\n        if (shiftState == 1)\n            shiftState = 0;\n    }\n\n\n    /* Unused Methods */\n    //These methods are implemented simply because the OnKeyboardActionListener interface demands it.\n    //their implementation is empty.\n\n    @Override\n    public void swipeLeft()\n    {\n        //do nothing\n    }\n\n    @Override\n    public void swipeRight()\n    {\n        //do nothing\n    }\n\n    @Override\n    public void swipeDown()\n    {\n        //do nothing\n    }\n\n    @Override\n    public void swipeUp()\n    {\n        //do nothing\n    }\n}\n</code></pre>\n\n<p>So far, I've tried:</p>\n\n<ul>\n<li><p>moving all Input-Method related files into a separate project, and running that (same results)</p></li>\n<li><p>debugging the project (breakpoints at the GlossaKeyboard class were never reached)</p></li>\n<li><p>Searching the logs (as mentioned, nothing found)</p></li>\n<li><p>Comparing my files to the ones in the SoftKeyboard sample app (no errors found in my version; haven't found anything missing except for unwanted features [such as word suggestions, spell check, etc.]).</p></li>\n</ul>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","asp.net","http","go","networking"],"answers":[{"tags":[],"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668891048,"creation_date":1668890706,"answer_id":74503580,"question_id":74500889,"body_markdown":"# tl;dr\r\n## problem description\r\nSo assuming your server application called `server_app` for instance, has 3 pods:\r\n``` \r\n     +---------------------+\r\n     |  server_app_service |\r\n     +---------------------+\r\n     |  server_app_pod_a   |\r\n     |  server_app_pod_b   |\r\n     |  server_app_pod_c   |\r\n     +---------------------+\r\n```\r\nyour **service** receives a request called `&quot;request A&quot;`, and decides to pass it to `server_app_pod_a`. Now your `server_app_pod_a` forwards the request to some gateway, and waits for some sort of **notification**, to continue the processing of client&#39;s response. And as you already know, there&#39;s no assurance that when gateway does the `request B`, the service passes it to `server_app_pod_a` again. And even if it did so, your application&#39;s state management would become a difficult task to do. \r\n\r\n# Messaging\r\nAs you might&#39;ve noticed, I bolded the word &quot;notification&quot; in the past paragraph, that&#39;s because if you really think about it, the `request &quot;B&quot;` looks more like a notification with some **message** rather than a request for some resource. So my number 1 choice would be a message queue like kafka (there are plenty of those, again, as you know). And the idea is, if you could define an algorithm to calculate unique keys for your requests, you can expect the resulting notifications in your exact same pod. This way, state management would be much simpler, and also, the chance of getting the notification in the same pod would be much higher (this depends on many factors of course, like the state of the message queue). Taking a look at your questions:\r\n\r\n&gt; 1. I want to do this best possible way keeping scaling in mind.\r\n\r\nSure thing, you can use these message queues like kafka, to achieve scaling and fewer data loss, both for the message queue and your application.\r\n\r\n&gt; 4. There will be timeouts for all request making initial request timed out after 60 seconds.\r\n\r\nThis one depends on how you manage timeouts in your codebase, using contexts would be a good idea.\r\n\r\n&gt; I would also like to know how it could have been achieved in other programming languages.\r\n\r\nUsing message queues is a general idea, which would be applicable to almost any programming language, but depending on the programming paradigms of a language, and language-specific libraries and tools, there might be some other approaches to this problem. For instance in `Scala`, if you use some specific tool called `akka` (which provides actor model programming paradigm), you can use something so called `akka-cluster-sharding`, to handle this problem. And the idea is pretty simple, we know that there must be some sort of superviser, which knows the exact location and state of its own subscribers. So when it receives some message, it just knows where and which actor (we&#39;re talking about actor model programming) to forward the request to. In other words, it can be used to share state between actors spawned on a cluster, either on the same machine or not. But as a personal preference, I wouldn&#39;t go for language-specific communications, and would stick to general ideas, because of the problems it might cause in the future.\r\n\r\n# Wrap-up\r\nLong enough explanations :). Just to make some sense of what I&#39;m talking about, let&#39;s follow up the exact same scenario, with a difference in communication model:\r\n 1. Client sends request &quot;A&quot; to `server_app` service.\r\n 2. The service, choses one of the pods (`server_app_pod_b` for instance) to handle the request.\r\n 3. The pod then tries to define some key for the request, and passes it to the gateway, along with the request, and **waits** for a message with the key, to be published in the queue.\r\n 4. The gateway does what it&#39;s supposed to, and **sends a message** with the key, to the message queue.\r\n 5. The exact same pod `serer_app_pod_b` receives the message with the key, fetches the data of the message, and continues to process the client&#39;s request.\r\n\r\nThere are probably other approaches available to address this issue, but this is what I would go for. Hope that it helps!","title":"Serve response of an HTTP request after receiving another request","body":"<h1>tl;dr</h1>\n<h2>problem description</h2>\n<p>So assuming your server application called <code>server_app</code> for instance, has 3 pods:</p>\n<pre><code>     +---------------------+\n     |  server_app_service |\n     +---------------------+\n     |  server_app_pod_a   |\n     |  server_app_pod_b   |\n     |  server_app_pod_c   |\n     +---------------------+\n</code></pre>\n<p>your <strong>service</strong> receives a request called <code>&quot;request A&quot;</code>, and decides to pass it to <code>server_app_pod_a</code>. Now your <code>server_app_pod_a</code> forwards the request to some gateway, and waits for some sort of <strong>notification</strong>, to continue the processing of client's response. And as you already know, there's no assurance that when gateway does the <code>request B</code>, the service passes it to <code>server_app_pod_a</code> again. And even if it did so, your application's state management would become a difficult task to do.</p>\n<h1>Messaging</h1>\n<p>As you might've noticed, I bolded the word &quot;notification&quot; in the past paragraph, that's because if you really think about it, the <code>request &quot;B&quot;</code> looks more like a notification with some <strong>message</strong> rather than a request for some resource. So my number 1 choice would be a message queue like kafka (there are plenty of those, again, as you know). And the idea is, if you could define an algorithm to calculate unique keys for your requests, you can expect the resulting notifications in your exact same pod. This way, state management would be much simpler, and also, the chance of getting the notification in the same pod would be much higher (this depends on many factors of course, like the state of the message queue). Taking a look at your questions:</p>\n<blockquote>\n<ol>\n<li>I want to do this best possible way keeping scaling in mind.</li>\n</ol>\n</blockquote>\n<p>Sure thing, you can use these message queues like kafka, to achieve scaling and fewer data loss, both for the message queue and your application.</p>\n<blockquote>\n<ol start=\"4\">\n<li>There will be timeouts for all request making initial request timed out after 60 seconds.</li>\n</ol>\n</blockquote>\n<p>This one depends on how you manage timeouts in your codebase, using contexts would be a good idea.</p>\n<blockquote>\n<p>I would also like to know how it could have been achieved in other programming languages.</p>\n</blockquote>\n<p>Using message queues is a general idea, which would be applicable to almost any programming language, but depending on the programming paradigms of a language, and language-specific libraries and tools, there might be some other approaches to this problem. For instance in <code>Scala</code>, if you use some specific tool called <code>akka</code> (which provides actor model programming paradigm), you can use something so called <code>akka-cluster-sharding</code>, to handle this problem. And the idea is pretty simple, we know that there must be some sort of superviser, which knows the exact location and state of its own subscribers. So when it receives some message, it just knows where and which actor (we're talking about actor model programming) to forward the request to. In other words, it can be used to share state between actors spawned on a cluster, either on the same machine or not. But as a personal preference, I wouldn't go for language-specific communications, and would stick to general ideas, because of the problems it might cause in the future.</p>\n<h1>Wrap-up</h1>\n<p>Long enough explanations :). Just to make some sense of what I'm talking about, let's follow up the exact same scenario, with a difference in communication model:</p>\n<ol>\n<li>Client sends request &quot;A&quot; to <code>server_app</code> service.</li>\n<li>The service, choses one of the pods (<code>server_app_pod_b</code> for instance) to handle the request.</li>\n<li>The pod then tries to define some key for the request, and passes it to the gateway, along with the request, and <strong>waits</strong> for a message with the key, to be published in the queue.</li>\n<li>The gateway does what it's supposed to, and <strong>sends a message</strong> with the key, to the message queue.</li>\n<li>The exact same pod <code>serer_app_pod_b</code> receives the message with the key, fetches the data of the message, and continues to process the client's request.</li>\n</ol>\n<p>There are probably other approaches available to address this issue, but this is what I would go for. Hope that it helps!</p>\n"},{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669487780,"creation_date":1669321662,"answer_id":74565925,"question_id":74500889,"body_markdown":" - client fires HTTP call to server A.\r\n - server A creates a unique key &amp; store it in cache server for 60s(timeout period).\r\n - server A forwards the request to B via HTTP call. It is a fire &amp; forget call to B.\r\n - server A immediately returns response to the client with the unique key.\r\n - client starts polling (let&#39;s say every 500ms) using a GET status HTTP API to check if processing is done at server A.\r\n - mean while server B completes the task &amp; calls back to server A via HTTP API.\r\n - server A stores the response in cache against the unique key for short period (let&#39;s say 60s).\r\n- client call to A for status check API will get the data from cache &amp; returns it to the client.\r\n\r\nThere is no other component except server A &amp; server B. There is cache server, but it is internal to A. B doesn&#39;t need to know about it. Which service maintains what is clearly defined, so easy to maintain. B can have internal queue to process the forwarded request. But A doesn&#39;t need to know how B is implemented. Each service can be maintained by different teams using simple HTTP contract.\r\n\r\nAnother advantage is that client is not holding a long running HTTP connection to A. I mentioned polling thinking of most primitive clients like an old browser. If your client supports web socket, you can use that to send response back from A. Anyways polling here would perform well as status check API is just a cache call &amp; nothing else.\r\n\r\nSomeone can ask, where is the retry logic for server to server communication between A &amp; B? But we don&#39;t need a queue for that. Essentially client wants a synchronous type of call here. We are just breaking it down to multiple calls. Response anyways needs to be quick. We can have a retry mechanism of 3-5 retries in the HTTP client in case of network failure. We are using pods. I expect it to be behind a k8s load balancer. That load balancer will anyway retry to a healthy pod if first pod goes down. So you are pretty much covered there.\r\n\r\nI don&#39;t know your exact requirements &amp; I am writing this after a quick thought. But overall this looks fine to me. It would be robust &amp; have low latency calls. Maybe few tweaks would be needed here &amp; there.\r\n\r\n**Update based on comment:**\r\n\r\nImplementation of client polling is pretty basic. Basically, it is a loop which runs every 0.5s &amp; makes HTTP GET call to check the status. I believe any client should be able to implement that. But there might be some restrictions where client team don&#39;t want to make any changes. I don&#39;t want to get into that.\r\n\r\nLet&#39;s say some clients don&#39;t have polling capabilities &amp; some clients don&#39;t have web socket support. Then only thing remaining is a long lived HTTP connection between client &amp; server A. Suppose we take this approach. Not going into the obvious problems of having a long lived request thread in server, there is another issue specific to this scenario. Request thread in server A needs to be notified when server B makes the callback.\r\n\r\n**Approach 1:** We use some kind of queue as mentioned the other answer (I would keep the queue internal to A, but let&#39;s not get into that). And we use some message key so that the consumption happens in the same pod. We have API &amp; consumer both running in the same pod. That is achievable. But request thread &amp; consumer thread are different. Consumer thread somehow needs to notify request thread that result is available. So some inter-thread communication is required which only makes things complex. And it is not responsibility of a queue. So I would discard this approach. \r\n\r\nSomeone can ask, can request thread directly listens for some message with specific key. I don&#39;t think so. For the argument&#39;s sake, there are some queue technologies where you can do that. But you are essentially having ephemeral consumer &amp; separate partition for each key which won&#39;t scale. Listening for all messages &amp; ignoring all but one in the ephemeral consumer is not a viable solution either. \r\n\r\n**Approach 2:** From approach 1, we understood that request thread needs to be notified when server B sends the callback. That would make the flow whole lot complex &amp; you would need additional components like ZooKeeper to do the distributed locking or watching on some change. Instead of doing that, we can simply extend our current system to do server side polling. It shouldn&#39;t have any noticeable difference in response time as we are already doing client side polling. We are just moving it to server side. Also, anyways we would have to maintain long running request thread in server A whether we built distributed notification or server polling. The flow would look like:\r\n \r\n- Client calls server A.\r\n- Server A request thread makes a HTTP call to server B.\r\n- Server B starts background processing &amp; returns HTTP response immediately to A.\r\n- Request thread in A starts a loop checking in cache server if key is available every 500ms.\r\n- B processes the result &amp; makes HTTP callback to A.\r\n- callback thread in A caches the result against same key.\r\n- Original A request thread reads the value from cache &amp; returns the response to client.\r\n\r\nOriginal request thread would be sleeping for 500ms before making next cache call. So other threads would be able to utilize the time. Also cache get by key is super fast &amp; you won&#39;t have any scalability issue there.\r\n\r\nBut you will exhaust your request threads quicker if you maintain long running HTTP connection from client. So you will need more A pods to handle same request rate. I would still recommend to talk to the client team &amp; make the necessary changes there so that short lived connection (same as your current flow) is used.","title":"Serve response of an HTTP request after receiving another request","body":"<ul>\n<li>client fires HTTP call to server A.</li>\n<li>server A creates a unique key &amp; store it in cache server for 60s(timeout period).</li>\n<li>server A forwards the request to B via HTTP call. It is a fire &amp; forget call to B.</li>\n<li>server A immediately returns response to the client with the unique key.</li>\n<li>client starts polling (let's say every 500ms) using a GET status HTTP API to check if processing is done at server A.</li>\n<li>mean while server B completes the task &amp; calls back to server A via HTTP API.</li>\n<li>server A stores the response in cache against the unique key for short period (let's say 60s).</li>\n<li>client call to A for status check API will get the data from cache &amp; returns it to the client.</li>\n</ul>\n<p>There is no other component except server A &amp; server B. There is cache server, but it is internal to A. B doesn't need to know about it. Which service maintains what is clearly defined, so easy to maintain. B can have internal queue to process the forwarded request. But A doesn't need to know how B is implemented. Each service can be maintained by different teams using simple HTTP contract.</p>\n<p>Another advantage is that client is not holding a long running HTTP connection to A. I mentioned polling thinking of most primitive clients like an old browser. If your client supports web socket, you can use that to send response back from A. Anyways polling here would perform well as status check API is just a cache call &amp; nothing else.</p>\n<p>Someone can ask, where is the retry logic for server to server communication between A &amp; B? But we don't need a queue for that. Essentially client wants a synchronous type of call here. We are just breaking it down to multiple calls. Response anyways needs to be quick. We can have a retry mechanism of 3-5 retries in the HTTP client in case of network failure. We are using pods. I expect it to be behind a k8s load balancer. That load balancer will anyway retry to a healthy pod if first pod goes down. So you are pretty much covered there.</p>\n<p>I don't know your exact requirements &amp; I am writing this after a quick thought. But overall this looks fine to me. It would be robust &amp; have low latency calls. Maybe few tweaks would be needed here &amp; there.</p>\n<p><strong>Update based on comment:</strong></p>\n<p>Implementation of client polling is pretty basic. Basically, it is a loop which runs every 0.5s &amp; makes HTTP GET call to check the status. I believe any client should be able to implement that. But there might be some restrictions where client team don't want to make any changes. I don't want to get into that.</p>\n<p>Let's say some clients don't have polling capabilities &amp; some clients don't have web socket support. Then only thing remaining is a long lived HTTP connection between client &amp; server A. Suppose we take this approach. Not going into the obvious problems of having a long lived request thread in server, there is another issue specific to this scenario. Request thread in server A needs to be notified when server B makes the callback.</p>\n<p><strong>Approach 1:</strong> We use some kind of queue as mentioned the other answer (I would keep the queue internal to A, but let's not get into that). And we use some message key so that the consumption happens in the same pod. We have API &amp; consumer both running in the same pod. That is achievable. But request thread &amp; consumer thread are different. Consumer thread somehow needs to notify request thread that result is available. So some inter-thread communication is required which only makes things complex. And it is not responsibility of a queue. So I would discard this approach.</p>\n<p>Someone can ask, can request thread directly listens for some message with specific key. I don't think so. For the argument's sake, there are some queue technologies where you can do that. But you are essentially having ephemeral consumer &amp; separate partition for each key which won't scale. Listening for all messages &amp; ignoring all but one in the ephemeral consumer is not a viable solution either.</p>\n<p><strong>Approach 2:</strong> From approach 1, we understood that request thread needs to be notified when server B sends the callback. That would make the flow whole lot complex &amp; you would need additional components like ZooKeeper to do the distributed locking or watching on some change. Instead of doing that, we can simply extend our current system to do server side polling. It shouldn't have any noticeable difference in response time as we are already doing client side polling. We are just moving it to server side. Also, anyways we would have to maintain long running request thread in server A whether we built distributed notification or server polling. The flow would look like:</p>\n<ul>\n<li>Client calls server A.</li>\n<li>Server A request thread makes a HTTP call to server B.</li>\n<li>Server B starts background processing &amp; returns HTTP response immediately to A.</li>\n<li>Request thread in A starts a loop checking in cache server if key is available every 500ms.</li>\n<li>B processes the result &amp; makes HTTP callback to A.</li>\n<li>callback thread in A caches the result against same key.</li>\n<li>Original A request thread reads the value from cache &amp; returns the response to client.</li>\n</ul>\n<p>Original request thread would be sleeping for 500ms before making next cache call. So other threads would be able to utilize the time. Also cache get by key is super fast &amp; you won't have any scalability issue there.</p>\n<p>But you will exhaust your request threads quicker if you maintain long running HTTP connection from client. So you will need more A pods to handle same request rate. I would still recommend to talk to the client team &amp; make the necessary changes there so that short lived connection (same as your current flow) is used.</p>\n"}],"owner":{"account_id":4013092,"reputation":2396,"user_id":3305978,"accept_rate":83,"display_name":"anwerj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":74503580,"answer_count":2,"score":6,"last_activity_date":1669487780,"creation_date":1668868350,"question_id":74500889,"body_markdown":"My use case is to serve response of an HTTP request after receiving another request from separate server.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n1. I want to do this best possible way keeping scaling in mind.\r\n2. We are using Golang 1.19 with Gin Framework.\r\n3. Server will have multiple pods thus channels will not work.\r\n4. There will be timeouts for all request making initial request timed out after 60 seconds.\r\n\r\nMy current solution is to use a shared cache where each pod will keep checking the cache. I believe, I can optimize this with channels where rather than checking in cache one by one, system periodically checks for any completed response.\r\n\r\nI would also like to know how it could have been achieved in other programming languages. \r\n\r\nPS: This is design based query, I have some reputation here to share bounty thus asking here. Please feel free to edit if question is not clear.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CHQX1.png","title":"Serve response of an HTTP request after receiving another request","body":"<p>My use case is to serve response of an HTTP request after receiving another request from separate server.</p>\n<p><a href=\"https://i.stack.imgur.com/CHQX1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHQX1.png\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li>I want to do this best possible way keeping scaling in mind.</li>\n<li>We are using Golang 1.19 with Gin Framework.</li>\n<li>Server will have multiple pods thus channels will not work.</li>\n<li>There will be timeouts for all request making initial request timed out after 60 seconds.</li>\n</ol>\n<p>My current solution is to use a shared cache where each pod will keep checking the cache. I believe, I can optimize this with channels where rather than checking in cache one by one, system periodically checks for any completed response.</p>\n<p>I would also like to know how it could have been achieved in other programming languages.</p>\n<p>PS: This is design based query, I have some reputation here to share bounty thus asking here. Please feel free to edit if question is not clear.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669486988,"creation_date":1669486988,"answer_id":74584630,"question_id":74584116,"body_markdown":"As the readme file of the [github repo][1] of sqlite-asset-helper states:\r\n\r\n&gt; An Android helper class to manage database creation and version management using an application&#39;s raw asset files.\r\n\r\nMeaning, only the creation and version management of the database itself can be handled with it. It doesn&#39;t provide functionality to load or retrieve data.\r\n\r\nYou should use another library, not only because of this. The last change of the library was made 9 years ago and **the library is no longer maintained**.\r\n\r\nAndroid itself already provides a library to work with SQLite Databases in `android.database.sqlite`. A extensive explanation of how to use this library can be found in [this article][2]. The [official documentation][3] is also worth a read.\r\n\r\n\r\n  [1]: https://github.com/jgilfelt/android-sqlite-asset-helper#this-project-is-no-longer-maintained\r\n\r\n  [2]: https://www.digitalocean.com/community/tutorials/android-sqlite-database-example-tutorial\r\n\r\n  [3]: https://developer.android.com/training/data-storage/sqlite#java","title":"How to add data to .db file?","body":"<p>As the readme file of the <a href=\"https://github.com/jgilfelt/android-sqlite-asset-helper#this-project-is-no-longer-maintained\" rel=\"nofollow noreferrer\">github repo</a> of sqlite-asset-helper states:</p>\n<blockquote>\n<p>An Android helper class to manage database creation and version management using an application's raw asset files.</p>\n</blockquote>\n<p>Meaning, only the creation and version management of the database itself can be handled with it. It doesn't provide functionality to load or retrieve data.</p>\n<p>You should use another library, not only because of this. The last change of the library was made 9 years ago and <strong>the library is no longer maintained</strong>.</p>\n<p>Android itself already provides a library to work with SQLite Databases in <code>android.database.sqlite</code>. A extensive explanation of how to use this library can be found in <a href=\"https://www.digitalocean.com/community/tutorials/android-sqlite-database-example-tutorial\" rel=\"nofollow noreferrer\">this article</a>. The <a href=\"https://developer.android.com/training/data-storage/sqlite#java\" rel=\"nofollow noreferrer\">official documentation</a> is also worth a read.</p>\n"}],"owner":{"account_id":26785242,"reputation":9,"user_id":20379528,"display_name":"James Black"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669486988,"creation_date":1669482308,"question_id":74584116,"body_markdown":"I use sqliteassethelper to retrieve the data, but I don&#39;t know how to import the data into that database, it&#39;s stored in assets/databases/...how should I search them with keywords?\r\n\r\nShould I create a new sql management java file or use it with the declared file sqliteassethelper? My .db file already has a table that I can import data into","title":"How to add data to .db file?","body":"<p>I use sqliteassethelper to retrieve the data, but I don't know how to import the data into that database, it's stored in assets/databases/...how should I search them with keywords?</p>\n<p>Should I create a new sql management java file or use it with the declared file sqliteassethelper? My .db file already has a table that I can import data into</p>\n"},{"tags":["java","netbeans","linked-list"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669485773,"post_id":74584483,"comment_id":131653164,"body_markdown":"`rs.next()` is true if the ResultSet has a valid row available, meaning the database query returned something. If the user name and password matches, then this will occur. Otherwise the ResultSet will be empty and `rs.next()` will return false.","body":"<code>rs.next()</code> is true if the ResultSet has a valid row available, meaning the database query returned something. If the user name and password matches, then this will occur. Otherwise the ResultSet will be empty and <code>rs.next()</code> will return false."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669485777,"post_id":74584483,"comment_id":131653165,"body_markdown":"&quot;*`String sql = &quot;SELECT * FROM akun WHERE username=&#39;&quot; + username + &quot;&#39; and password=&#39;&quot; + password + &quot;&#39;&quot;`*&quot; - I recommend studying this query.","body":"&quot;<i><code>String sql = &quot;SELECT * FROM akun WHERE username=&#39;&quot; + username + &quot;&#39; and password=&#39;&quot; + password + &quot;&#39;&quot;</code></i>&quot; - I recommend studying this query."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1669485791,"post_id":74584483,"comment_id":131653172,"body_markdown":"It doesn&#39;t need to compare anything. The query is selecting all rows of a table that contain the username and password that the user entered. If that query returns any results at all, the username and password exist in the database in the same row.","body":"It doesn&#39;t need to compare anything. The query is selecting all rows of a table that contain the username and password that the user entered. If that query returns any results at all, the username and password exist in the database in the same row."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1669485851,"post_id":74584483,"comment_id":131653186,"body_markdown":"Strong suggestion: don&#39;t use YouTube videos to learn key programming concepts. Use decent tutorials, books or coursework to do this.","body":"Strong suggestion: don&#39;t use YouTube videos to learn key programming concepts. Use decent tutorials, books or coursework to do this."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669485860,"post_id":74584483,"comment_id":131653187,"body_markdown":"As an aside: I really, really, REALLY hope that this code is not part of any production system. It seems to store password in clear text.","body":"As an aside: I really, really, REALLY hope that this code is not part of any production system. It seems to store password in clear text."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669486217,"post_id":74584483,"comment_id":131653244,"body_markdown":"Another aside: there does not seem to be any sanitization, this means the implementation is prone to SQL injection. This, together with the fact that passwords are stored in clear text is a recipe for a password dump.","body":"Another aside: there does not seem to be any sanitization, this means the implementation is prone to SQL injection. This, together with the fact that passwords are stored in clear text is a recipe for a password dump."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669487024,"post_id":74584483,"comment_id":131653402,"body_markdown":"You&#39;re probably better off using a [`CardLayout`](https://technojeeves.com/index.php/aliasjava1/64-java-login-with-cardlayout)","body":"You&#39;re probably better off using a <a href=\"https://technojeeves.com/index.php/aliasjava1/64-java-login-with-cardlayout\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a>"}],"owner":{"account_id":22606818,"reputation":21,"user_id":16787623,"display_name":"carlise"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669486370,"creation_date":1669485625,"question_id":74584483,"body_markdown":"soo i recently followed a tutorial on youtube about login form in java swing but connected with mysql. when the input ont the text field same with the data on the database(which is username and password ) it jump to another jform. but i dont understand something, the code is listed below.\r\n\r\n    private void loginbuttonActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            String dataBase = &quot;jdbc:mysql://localhost/laundry_akun&quot;;\r\n            String dbUsername = &quot;root&quot;;\r\n            String dbPassword = &quot;&quot;;\r\n            Connection con = DriverManager.getConnection(dataBase,dbUsername,dbPassword);\r\n            \r\n            String username = username_textfield.getText();\r\n            String password = password_textfield.getText();\r\n            \r\n            Statement st = con.createStatement();\r\n            String sql = &quot;SELECT * FROM akun WHERE username=&#39;&quot; + username + &quot;&#39; and password=&#39;&quot; + password + &quot;&#39;&quot;;\r\n            ResultSet rs = st.executeQuery(sql);\r\n            \r\n            if(rs.next()){\r\n                dispose();\r\n                testpage tes = new testpage();\r\n                tes.show();\r\n            }else{\r\n                JOptionPane.showMessageDialog(this, &quot;Username or Password Wrong&quot;);\r\n                username_textfield.setText(&quot;&quot;);\r\n                password_textfield.setText(&quot;&quot;);\r\n            }\r\n            \r\n            con.close();\r\n\r\n        }  catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }   \r\n\r\n**How can the linked list or &quot;rs.next&quot;** is detecting my input and then comparing it with the database? since there is no comparason like example &quot;rs.next==username_textfield.getText()&quot; inside the if ? im quite confused about this. also, *the code works just fine* but i just confused on how it works...","title":"how is this login form on java works without comparing String with the text input, how this code works?","body":"<p>soo i recently followed a tutorial on youtube about login form in java swing but connected with mysql. when the input ont the text field same with the data on the database(which is username and password ) it jump to another jform. but i dont understand something, the code is listed below.</p>\n<pre><code>private void loginbuttonActionPerformed(java.awt.event.ActionEvent evt) {                                            \n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        String dataBase = &quot;jdbc:mysql://localhost/laundry_akun&quot;;\n        String dbUsername = &quot;root&quot;;\n        String dbPassword = &quot;&quot;;\n        Connection con = DriverManager.getConnection(dataBase,dbUsername,dbPassword);\n        \n        String username = username_textfield.getText();\n        String password = password_textfield.getText();\n        \n        Statement st = con.createStatement();\n        String sql = &quot;SELECT * FROM akun WHERE username='&quot; + username + &quot;' and password='&quot; + password + &quot;'&quot;;\n        ResultSet rs = st.executeQuery(sql);\n        \n        if(rs.next()){\n            dispose();\n            testpage tes = new testpage();\n            tes.show();\n        }else{\n            JOptionPane.showMessageDialog(this, &quot;Username or Password Wrong&quot;);\n            username_textfield.setText(&quot;&quot;);\n            password_textfield.setText(&quot;&quot;);\n        }\n        \n        con.close();\n\n    }  catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n}   \n</code></pre>\n<p><strong>How can the linked list or &quot;rs.next&quot;</strong> is detecting my input and then comparing it with the database? since there is no comparason like example &quot;rs.next==username_textfield.getText()&quot; inside the if ? im quite confused about this. also, <em>the code works just fine</em> but i just confused on how it works...</p>\n"},{"tags":["java","json","apache-kafka","jackson","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1669479090,"post_id":74578991,"comment_id":131651752,"body_markdown":"Have you added Jackson databind to your dependencies?","body":"Have you added Jackson databind to your dependencies?"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1669482359,"post_id":74578991,"comment_id":131652484,"body_markdown":"yes i have @OneCricketeer","body":"yes i have @OneCricketeer"}],"answers":[{"tags":[],"owner":{"account_id":170897,"reputation":1391,"user_id":397940,"accept_rate":66,"display_name":"panza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669485241,"creation_date":1669483641,"answer_id":74584273,"question_id":74578991,"body_markdown":"It might be a version issue with your dependencies. Try adding the following:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan you also share your full dependencies list? Your application properties look fine as well as the other info.\r\n\r\n**EDIT**\r\nAs the the latest error, I think we moved a bit further and I believe you are missing a configuration class. It will be pretty much like this:\r\n\r\n    @EnableKafka\r\n    @Configuration\r\n    public class KafkaConsumerConfig {\r\n    \r\n        @Bean\r\n        public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(\r\n              ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \r\n              bootstrapAddress);\r\n            props.put(\r\n              ConsumerConfig.GROUP_ID_CONFIG, \r\n              groupId);\r\n            props.put(\r\n              ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, \r\n              StringDeserializer.class);\r\n            props.put(\r\n              ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \r\n              StringDeserializer.class);\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n        }","title":"How to configure JsonDeserializer in consumer kafka","body":"<p>It might be a version issue with your dependencies. Try adding the following:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Can you also share your full dependencies list? Your application properties look fine as well as the other info.</p>\n<p><strong>EDIT</strong>\nAs the the latest error, I think we moved a bit further and I believe you are missing a configuration class. It will be pretty much like this:</p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(\n          ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \n          bootstrapAddress);\n        props.put(\n          ConsumerConfig.GROUP_ID_CONFIG, \n          groupId);\n        props.put(\n          ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, \n          StringDeserializer.class);\n        props.put(\n          ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \n          StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n</code></pre>\n"}],"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669485241,"creation_date":1669424529,"question_id":74578991,"body_markdown":"How to configure JsonDeserializer in consumer kafka\r\n\r\nI can do JsonSerializer in producer and pass an object but I wanted to do the same in consumer with JsonDeserializer but I&#39;m getting an error\r\n\r\n    Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat com.example.userinsert.UserInsertApplication.main(UserInsertApplication.java:10) ~[classes/:na]\r\n    Caused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:823) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:795) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:363) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:209) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \t... 13 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/JavaType\r\n    \tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[na:na]\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3578) ~[na:na]\r\n    \tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[na:na]\r\n    \tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:392) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:399) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:434) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:419) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:715) ~[kafka-clients-3.1.2.jar:na]\r\n    \t... 27 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.JavaType\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \t... 36 common frames omitted\r\n\r\nThe producer configuration:\r\n\r\n    spring.kafka.producer.bootstrap-servers=localhost:9092\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    #spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n\r\nMy class:\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, Object&gt; kafkaTemplate;\r\n    \r\n    @Override\r\n    public void createKfaka(Object object) \r\n    {\r\n        logger.info(String.format(&quot;Message sent -&gt; %s&quot;, object.toString()));\r\n        this.kafkaTemplate.send(&quot;user&quot;, object);\r\n    \r\n    }\r\n\r\nThe consumer configuration:\r\n\r\n    spring.kafka.consumer.bootstrap-servers=localhost:9092\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\n    spring.kafka.consumer.properties[spring.json.value.default.type]=com.example.Invoice\r\n    spring.kafka.consumer.properties[spring.json.trusted.packages]=*\r\n    spring.kafka.consumer.group-id=users\r\n\r\nMy class:\r\n\r\n    @Override\r\n    @KafkaListener(topics = &quot;user&quot; , groupId = &quot;users&quot;)\r\n    public void consume(Object message) \r\n    {\r\n        logger.info(String.format(&quot;Message recieved -&gt; %s&quot;, message));\r\n        //mongoTemplate.insert(message, &quot;user&quot;);\r\n        \r\n    }\r\n\r\nMy dependencies:\r\n\t\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n\r\nNew error:\r\n\r\n    Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat com.example.userinsert.UserInsertApplication.main(UserInsertApplication.java:10) ~[classes/:na]\r\n    Caused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:823) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:795) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:363) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:209) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \t... 13 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: java.lang.ClassNotFoundException: com.example.Invoice\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.setupTarget(JsonDeserializer.java:491) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.configure(JsonDeserializer.java:410) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:716) ~[kafka-clients-3.1.2.jar:na]\r\n    \t... 27 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.example.Invoice\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n    \tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.setupTargetType(JsonDeserializer.java:515) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.setupTarget(JsonDeserializer.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \t... 29 common frames omitted\r\n\r\nDoes anyone have any ideas on how to resolve this error?\r\n","title":"How to configure JsonDeserializer in consumer kafka","body":"<p>How to configure JsonDeserializer in consumer kafka</p>\n<p>I can do JsonSerializer in producer and pass an object but I wanted to do the same in consumer with JsonDeserializer but I'm getting an error</p>\n<pre><code>Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.example.userinsert.UserInsertApplication.main(UserInsertApplication.java:10) ~[classes/:na]\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:823) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664) ~[kafka-clients-3.1.2.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:795) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:363) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:209) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 13 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/JavaType\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[na:na]\n    at java.base/java.lang.Class.getConstructor0(Class.java:3578) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[na:na]\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:392) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:399) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:434) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:419) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:715) ~[kafka-clients-3.1.2.jar:na]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.JavaType\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 36 common frames omitted\n</code></pre>\n<p>The producer configuration:</p>\n<pre><code>spring.kafka.producer.bootstrap-servers=localhost:9092\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\n#spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>My class:</p>\n<pre><code>@Autowired\nprivate KafkaTemplate&lt;String, Object&gt; kafkaTemplate;\n\n@Override\npublic void createKfaka(Object object) \n{\n    logger.info(String.format(&quot;Message sent -&gt; %s&quot;, object.toString()));\n    this.kafkaTemplate.send(&quot;user&quot;, object);\n\n}\n</code></pre>\n<p>The consumer configuration:</p>\n<pre><code>spring.kafka.consumer.bootstrap-servers=localhost:9092\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\nspring.kafka.consumer.properties[spring.json.value.default.type]=com.example.Invoice\nspring.kafka.consumer.properties[spring.json.trusted.packages]=*\nspring.kafka.consumer.group-id=users\n</code></pre>\n<p>My class:</p>\n<pre><code>@Override\n@KafkaListener(topics = &quot;user&quot; , groupId = &quot;users&quot;)\npublic void consume(Object message) \n{\n    logger.info(String.format(&quot;Message recieved -&gt; %s&quot;, message));\n    //mongoTemplate.insert(message, &quot;user&quot;);\n    \n}\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>New error:</p>\n<pre><code>Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.example.userinsert.UserInsertApplication.main(UserInsertApplication.java:10) ~[classes/:na]\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:823) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664) ~[kafka-clients-3.1.2.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:795) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:363) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:209) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 13 common frames omitted\nCaused by: java.lang.IllegalStateException: java.lang.ClassNotFoundException: com.example.Invoice\n    at org.springframework.kafka.support.serializer.JsonDeserializer.setupTarget(JsonDeserializer.java:491) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.support.serializer.JsonDeserializer.configure(JsonDeserializer.java:410) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:716) ~[kafka-clients-3.1.2.jar:na]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.example.Invoice\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.kafka.support.serializer.JsonDeserializer.setupTargetType(JsonDeserializer.java:515) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.support.serializer.JsonDeserializer.setupTarget(JsonDeserializer.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\n    ... 29 common frames omitted\n</code></pre>\n<p>Does anyone have any ideas on how to resolve this error?</p>\n"},{"tags":["java","android","textview","line-count"],"answers":[{"tags":[],"owner":{"account_id":1197390,"reputation":1157,"user_id":4467687,"display_name":"Crispert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669485193,"creation_date":1669393938,"answer_id":74575635,"question_id":74573952,"body_markdown":"It might be because of the definition of [TextView.getLineCount()][1]\r\n\r\n    public int getLineCount() {\r\n        return mLayout != null ? mLayout.getLineCount() : 0;\r\n    }\r\n\r\nif mLayout is a [BoringLayout][2] then getLineCount() always returns 1.\r\nTo use a different kind of text layout (DynamicLayout) that actually computes its line count, you could try either to make the text selectable by calling setTextIsSelectable  or set a Spannable instead of a CharSequence in the TextView (see [makeSingleLayout][3]).\r\n\r\nI agree with your sentence and this is not the best solution for your use case for which you might get less trouble by using something like a [FlowLayout][4] instead of the LinearLayouts and placing each word inside a separate TextView.\r\n\r\n---\r\nEdit to answer questions in comment \r\n\r\n1. After adding the FlowLayout to the activity&#39;s layout xml you can create the TextViews for the words in the sentence dynamically:\r\n\r\n```\r\n    // in onCreate()\r\n    FlowLayout flowLayout = findViewById(R.id.flow_id);\r\n\r\n    String[] words = sentence.split(&quot; &quot;);\r\n    TextView wordText;\r\n    for (int i = 0; i &lt; words.length; i++) {\r\n        String word = words[i];\r\n        //if an edit text is needed for user input\r\n        if (i == keywordIndex) {\r\n           wordText = new EditText(this);\r\n           wordText.setHint(&quot;____&quot;); \r\n        } else {\r\n           wordText = new TextView(this);           \r\n           wordText.setText(word);\r\n        }\r\n        wordText.setTextColor(getResources()\r\n                                   .getColor(R.color.your_color));\r\n        wordText.setBackgroundColor(getResources()\r\n                                   .getColor(android.R.color.white));\r\n        flowLayout.add(wordText);\r\n    }\r\n\r\n```\r\n\r\n2. Yes, you could use a RecyclerView with a GridLayoutManager or StaggeredGridLayoutManager to layout the views for the sentence words but it would require creating a RecyclerView.Adapter. But I think the RecyclerView would be more suitable for displaying a vertical set of \r\nsentences (as FlowLayouts for example).\r\n\r\n\r\n\r\n  [1]: https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/widget/TextView.java;bpv=1;bpt=1;l=8433?q=TextView&amp;ss=android%2Fplatform%2Fsuperproject\r\n  [2]: \r\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/text/BoringLayout.java;drc=849e933dd99026c9453bfa7386d07739674a56df;bpv=1;bpt=1;l=513?gsn=getLineCount&amp;gs=kythe%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fsuperproject%3Flang%3Djava%3Fpath%3Dandroid.text.BoringLayout%23a1600dee1c1c98e7c954f24637ca2855a9a16bbc93f921a0b9aa8432d21c8d98\r\n[3]:\r\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/widget/TextView.java;drc=849e933dd99026c9453bfa7386d07739674a56df;l=9469?q=TextView&amp;ss=android%2Fplatform%2Fsuperproject\r\n[4]:\r\nhttps://github.com/ApmeM/android-flowlayout","title":"Separate second line of TextView into another TextView with Java","body":"<p>It might be because of the definition of <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/widget/TextView.java;bpv=1;bpt=1;l=8433?q=TextView&amp;ss=android%2Fplatform%2Fsuperproject\" rel=\"nofollow noreferrer\">TextView.getLineCount()</a></p>\n<pre><code>public int getLineCount() {\n    return mLayout != null ? mLayout.getLineCount() : 0;\n}\n</code></pre>\n<p>if mLayout is a <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/text/BoringLayout.java;drc=849e933dd99026c9453bfa7386d07739674a56df;bpv=1;bpt=1;l=513?gsn=getLineCount&amp;gs=kythe%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fsuperproject%3Flang%3Djava%3Fpath%3Dandroid.text.BoringLayout%23a1600dee1c1c98e7c954f24637ca2855a9a16bbc93f921a0b9aa8432d21c8d98\" rel=\"nofollow noreferrer\">BoringLayout</a> then getLineCount() always returns 1.\nTo use a different kind of text layout (DynamicLayout) that actually computes its line count, you could try either to make the text selectable by calling setTextIsSelectable  or set a Spannable instead of a CharSequence in the TextView (see <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/widget/TextView.java;drc=849e933dd99026c9453bfa7386d07739674a56df;l=9469?q=TextView&amp;ss=android%2Fplatform%2Fsuperproject\" rel=\"nofollow noreferrer\">makeSingleLayout</a>).</p>\n<p>I agree with your sentence and this is not the best solution for your use case for which you might get less trouble by using something like a <a href=\"https://github.com/ApmeM/android-flowlayout\" rel=\"nofollow noreferrer\">FlowLayout</a> instead of the LinearLayouts and placing each word inside a separate TextView.</p>\n<hr />\n<p>Edit to answer questions in comment</p>\n<ol>\n<li>After adding the FlowLayout to the activity's layout xml you can create the TextViews for the words in the sentence dynamically:</li>\n</ol>\n<pre><code>    // in onCreate()\n    FlowLayout flowLayout = findViewById(R.id.flow_id);\n\n    String[] words = sentence.split(&quot; &quot;);\n    TextView wordText;\n    for (int i = 0; i &lt; words.length; i++) {\n        String word = words[i];\n        //if an edit text is needed for user input\n        if (i == keywordIndex) {\n           wordText = new EditText(this);\n           wordText.setHint(&quot;____&quot;); \n        } else {\n           wordText = new TextView(this);           \n           wordText.setText(word);\n        }\n        wordText.setTextColor(getResources()\n                                   .getColor(R.color.your_color));\n        wordText.setBackgroundColor(getResources()\n                                   .getColor(android.R.color.white));\n        flowLayout.add(wordText);\n    }\n\n</code></pre>\n<ol start=\"2\">\n<li>Yes, you could use a RecyclerView with a GridLayoutManager or StaggeredGridLayoutManager to layout the views for the sentence words but it would require creating a RecyclerView.Adapter. But I think the RecyclerView would be more suitable for displaying a vertical set of\nsentences (as FlowLayouts for example).</li>\n</ol>\n"}],"owner":{"account_id":11462096,"reputation":15,"user_id":8401453,"display_name":"Nacho Novoa Mayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74575635,"answer_count":1,"score":1,"last_activity_date":1669485193,"creation_date":1669384912,"question_id":74573952,"body_markdown":"I&#39;m trying to create a fill the gap game in Android Studio with Java, for that I&#39;m taking a sentence, separating the keyword (to fill by the user) from the String, and adding the Strings as follow in a horizontal LinearLayout (within a vertical Layout):\r\n\r\nTextView before keyword + TextView keyword + TextView after keyword\r\n\r\nIn a different LinearLayout below I have a following TextView (TextView Line3) making a second line with the same width as the horizontal LinearLayout above. -- Something like a line 2\r\n\r\nAs TextView after keyword is too long and makes a second line starting after the &quot;TextView keyword&quot;, I want to take what goes to the second line of &quot;TextView after keyword&quot; and move it to &quot;TextView Line3&quot;.\r\n\r\nThe problem is that it keeps saying there is only 1 line and &quot;TextView after keyword&quot; displays two\r\n\r\n\r\nI defined them as such:\r\n\r\n```\r\nprivate TextView firstSentence, secondSentence, thirdSentence;\r\npublic TextView answerText;\r\n\r\nprivate String sentence = &quot;I do not like anyone in this world of idiots&quot;;\r\n\r\nprivate boolean newLineBoolean = true;\r\nprivate String keyword = &quot;like&quot;;\r\nprivate String[] sentenceDivision;\r\n\r\nprivate String displayForKeyword = &quot;&quot;;\r\nprivate String thirdLine = &quot;&quot;;\r\n```\r\n\r\n\r\nthis in onCreate\r\n\r\n```\r\nanswerText = findViewById(R.id.answerPlace);\r\n\r\nfirstSentence = findViewById(R.id.firstSentence);\r\nsecondSentence = findViewById(R.id.secondSentence);\r\nthirdSentence = findViewById(R.id.thirdSentence);\r\n\r\n\r\nsentenceDivision = sentence.split(keyword);\r\nfirstSentence.setText(sentenceDivision[0]);\r\nsecondSentence.setText(sentenceDivision[1]);\r\n\r\n\r\nfor(int i = 0; i&lt;keyword.length();i++)\r\n{\r\n    displayForKeyword = displayForKeyword + &quot;   &quot;;\r\n}\r\nanswerText.setText(displayForKeyword);\r\ncheckNumberOfLines();\r\n```\r\n\r\nAnd this method\r\n\r\n```\r\nprivate void checkNumberOfLines(){\r\n\r\n    String firstWords = sentenceDivision[1].substring(0, sentenceDivision[1].lastIndexOf(&quot; &quot;));\r\n    String lastWord = sentenceDivision[1].substring(sentenceDivision[1].lastIndexOf(&quot; &quot;) + 1);\r\n    sentenceDivision[1] = firstWords;\r\n    thirdLine = lastWord + &quot; &quot; + thirdLine;\r\n    secondSentence.setText(sentenceDivision[1]);\r\n    thirdSentence.setText(thirdLine);\r\n\r\n    secondSentence.post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            int lineCount = secondSentence.getLineCount();\r\n            if (lineCount &gt; 0) {\r\n                checkNumberOfLines();\r\n            }\r\n            else{ newLineBoolean = false;\r\n            }\r\n        }\r\n    });\r\n\r\n}\r\n```\r\n\r\nBut it displays as follows:\r\n\r\n[enter image description here](https://i.stack.imgur.com/fjgUG.png)\r\n\r\nDoes someone know why? Thanks in advance!","title":"Separate second line of TextView into another TextView with Java","body":"<p>I'm trying to create a fill the gap game in Android Studio with Java, for that I'm taking a sentence, separating the keyword (to fill by the user) from the String, and adding the Strings as follow in a horizontal LinearLayout (within a vertical Layout):</p>\n<p>TextView before keyword + TextView keyword + TextView after keyword</p>\n<p>In a different LinearLayout below I have a following TextView (TextView Line3) making a second line with the same width as the horizontal LinearLayout above. -- Something like a line 2</p>\n<p>As TextView after keyword is too long and makes a second line starting after the &quot;TextView keyword&quot;, I want to take what goes to the second line of &quot;TextView after keyword&quot; and move it to &quot;TextView Line3&quot;.</p>\n<p>The problem is that it keeps saying there is only 1 line and &quot;TextView after keyword&quot; displays two</p>\n<p>I defined them as such:</p>\n<pre><code>private TextView firstSentence, secondSentence, thirdSentence;\npublic TextView answerText;\n\nprivate String sentence = &quot;I do not like anyone in this world of idiots&quot;;\n\nprivate boolean newLineBoolean = true;\nprivate String keyword = &quot;like&quot;;\nprivate String[] sentenceDivision;\n\nprivate String displayForKeyword = &quot;&quot;;\nprivate String thirdLine = &quot;&quot;;\n</code></pre>\n<p>this in onCreate</p>\n<pre><code>answerText = findViewById(R.id.answerPlace);\n\nfirstSentence = findViewById(R.id.firstSentence);\nsecondSentence = findViewById(R.id.secondSentence);\nthirdSentence = findViewById(R.id.thirdSentence);\n\n\nsentenceDivision = sentence.split(keyword);\nfirstSentence.setText(sentenceDivision[0]);\nsecondSentence.setText(sentenceDivision[1]);\n\n\nfor(int i = 0; i&lt;keyword.length();i++)\n{\n    displayForKeyword = displayForKeyword + &quot;   &quot;;\n}\nanswerText.setText(displayForKeyword);\ncheckNumberOfLines();\n</code></pre>\n<p>And this method</p>\n<pre><code>private void checkNumberOfLines(){\n\n    String firstWords = sentenceDivision[1].substring(0, sentenceDivision[1].lastIndexOf(&quot; &quot;));\n    String lastWord = sentenceDivision[1].substring(sentenceDivision[1].lastIndexOf(&quot; &quot;) + 1);\n    sentenceDivision[1] = firstWords;\n    thirdLine = lastWord + &quot; &quot; + thirdLine;\n    secondSentence.setText(sentenceDivision[1]);\n    thirdSentence.setText(thirdLine);\n\n    secondSentence.post(new Runnable() {\n        @Override\n        public void run() {\n            int lineCount = secondSentence.getLineCount();\n            if (lineCount &gt; 0) {\n                checkNumberOfLines();\n            }\n            else{ newLineBoolean = false;\n            }\n        }\n    });\n\n}\n</code></pre>\n<p>But it displays as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/fjgUG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Does someone know why? Thanks in advance!</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669284674,"post_id":74558938,"comment_id":131611804,"body_markdown":"It doesn&#39;t commit it only flushes the pending changes to the database when doing a select.","body":"It doesn&#39;t commit it only flushes the pending changes to the database when doing a select."},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669289780,"post_id":74558938,"comment_id":131613605,"body_markdown":"Indeed, the select will trigger the flush of pending update queries, but `save` isn&#39;t supposed to do it as well ?","body":"Indeed, the select will trigger the flush of pending update queries, but <code>save</code> isn&#39;t supposed to do it as well ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669304559,"post_id":74558938,"comment_id":131618638,"body_markdown":"Why would save (merge/persist) do it? Flush is expensive and unnecessary most of the time. It is only required to be called immediately before the transaction commits, in a before completion event. It is also done automatically when queries that hit the database might need to see changes within the persistence context. Otherwise, JPA providers (mostly, as the spec doesn&#39;t require it) batch up changes as much as possible instead of flushing on each call. If a delete must be performed before other save operations occur, you need to force a flush to control the order of statements.","body":"Why would save (merge/persist) do it? Flush is expensive and unnecessary most of the time. It is only required to be called immediately before the transaction commits, in a before completion event. It is also done automatically when queries that hit the database might need to see changes within the persistence context. Otherwise, JPA providers (mostly, as the spec doesn&#39;t require it) batch up changes as much as possible instead of flushing on each call. If a delete must be performed before other save operations occur, you need to force a flush to control the order of statements."},{"owner":{"account_id":23998094,"reputation":1,"user_id":17983389,"display_name":"黃奕翔"},"score":0,"creation_date":1669340583,"post_id":74558938,"comment_id":131625879,"body_markdown":"Thanks for everyone&#39;s replies, it seems that if I want to use delete and save at the same time, I have to use flush after delete","body":"Thanks for everyone&#39;s replies, it seems that if I want to use delete and save at the same time, I have to use flush after delete"}],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669483264,"creation_date":1669483264,"answer_id":74584227,"question_id":74558938,"body_markdown":"To add to what @Chris has already said, the order in which the operations are carried out is as follows (see [performExecutions(EventSource session)][1]):\r\n\r\n&gt; 1. Inserts, in the order they were performed\r\n&gt;\r\n&gt; 2. Updates\r\n&gt; \r\n&gt; 3. Deletion of collection elements\r\n&gt; \r\n&gt; 4. Insertion of collection elements\r\n&gt; \r\n&gt; 5. Deletes, in the order they were performed\r\n\r\n\r\nIf you want the data operation to be reflected immediately so that you can take into account the change. You must perform a flush and, as it is in a transaction, it can always be rolled back before it&#39;s committed.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/event/internal/AbstractFlushingEventListener.html#performExecutions(org.hibernate.event.spi.EventSource)","title":"Why use jpa findall will cause transaction commit first","body":"<p>To add to what @Chris has already said, the order in which the operations are carried out is as follows (see <a href=\"https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/event/internal/AbstractFlushingEventListener.html#performExecutions(org.hibernate.event.spi.EventSource)\" rel=\"nofollow noreferrer\">performExecutions(EventSource session)</a>):</p>\n<blockquote>\n<ol>\n<li><p>Inserts, in the order they were performed</p>\n</li>\n<li><p>Updates</p>\n</li>\n<li><p>Deletion of collection elements</p>\n</li>\n<li><p>Insertion of collection elements</p>\n</li>\n<li><p>Deletes, in the order they were performed</p>\n</li>\n</ol>\n</blockquote>\n<p>If you want the data operation to be reflected immediately so that you can take into account the change. You must perform a flush and, as it is in a transaction, it can always be rolled back before it's committed.</p>\n"}],"owner":{"account_id":23998094,"reputation":1,"user_id":17983389,"display_name":"黃奕翔"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669483264,"creation_date":1669284485,"question_id":74558938,"body_markdown":"\r\n```\r\n@Transactional\r\npublic boolean updateAdminUser(Long userId, CreateUpdateAdminUserDto createUpdateAdminUserDto) {\r\n\r\n//other code\r\n\r\nadminUserRoleRepository.deleteAdminUsersRolesByAdminUserId(userId);\r\nadminUserRoleRepository.findAll();\r\ndminUserRepository.save(adminUser);\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I want to add data after deletion, because there is no commit at the time of deletion, it will cause duplication of data, but when I add **adminUserRoleRepository.findAll()** \r\nthe deletion  will be committed first, and my data will be successfully added to the database. I would like to ask why the findAll() of jpa will cause the transaction to be committed first.","title":"Why use jpa findall will cause transaction commit first","body":"<pre><code>@Transactional\npublic boolean updateAdminUser(Long userId, CreateUpdateAdminUserDto createUpdateAdminUserDto) {\n\n//other code\n\nadminUserRoleRepository.deleteAdminUsersRolesByAdminUserId(userId);\nadminUserRoleRepository.findAll();\ndminUserRepository.save(adminUser);\n\n}\n</code></pre>\n<p>When I want to add data after deletion, because there is no commit at the time of deletion, it will cause duplication of data, but when I add <strong>adminUserRoleRepository.findAll()</strong>\nthe deletion  will be committed first, and my data will be successfully added to the database. I would like to ask why the findAll() of jpa will cause the transaction to be committed first.</p>\n"},{"tags":["java","regex","positive-lookahead"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1669462996,"post_id":74581788,"comment_id":131648779,"body_markdown":"*&quot;tokenize email address&quot;*: can you provide examples (more than one, please) of input and expected output?","body":"<i>&quot;tokenize email address&quot;</i>: can you provide examples (more than one, please) of input and expected output?"},{"owner":{"account_id":13639472,"reputation":597,"user_id":9839769,"display_name":"akash"},"score":0,"creation_date":1669472743,"post_id":74581788,"comment_id":131650462,"body_markdown":"pop it in regex101.com, give it a sample which it should FAIL and one which is very very long in the domain part, and check if a failure occurs","body":"pop it in regex101.com, give it a sample which it should FAIL and one which is very very long in the domain part, and check if a failure occurs"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1669475485,"post_id":74581788,"comment_id":131650961,"body_markdown":"As long as you don&#39;t use nested quantified groups like e.g. [`((a*b*)*c)*`](https://regex101.com/r/iV6ugK/1) or [`(?=((a*b*)*c))`](https://regex101.com/r/h3Z4MG/1) I don&#39;t think you will run into [any issues](https://www.rexegg.com/regex-explosive-quantifiers.html). Further have a look in [charater classes](https://www.regular-expressions.info/charclass.html). You don&#39;t need to alternate between characters inside a class. It&#39;s a *defined set* of characters. Also no need for so much escaping: [`(?=([@.!x#$%&amp;&#39;*+=?\\`{}_~\\/\\^\\-](.+)))`](https://regex101.com/r/gCJLfj/1) will suffice.","body":"As long as you don&#39;t use nested quantified groups like e.g. <a href=\"https://regex101.com/r/iV6ugK/1\" rel=\"nofollow noreferrer\"><code>((a*b*)*c)*</code></a> or <a href=\"https://regex101.com/r/h3Z4MG/1\" rel=\"nofollow noreferrer\"><code>(?=((a*b*)*c))</code></a> I don&#39;t think you will run into <a href=\"https://www.rexegg.com/regex-explosive-quantifiers.html\" rel=\"nofollow noreferrer\">any issues</a>. Further have a look in <a href=\"https://www.regular-expressions.info/charclass.html\" rel=\"nofollow noreferrer\">charater classes</a>. You don&#39;t need to alternate between characters inside a class. It&#39;s a <i>defined set</i> of characters. Also no need for so much escaping: <a href=\"https://regex101.com/r/gCJLfj/1\" rel=\"nofollow noreferrer\"><code>(?=([@.!x#$%&amp;&#39;*+=?`{}_~\\&#47;\\^\\-](.+)))</code></a> will suffice."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1669476948,"post_id":74581788,"comment_id":131651282,"body_markdown":"These regexes that are triggered at any position in a string are certainly costly and can still [soon time out](https://regex101.com/r/wrrIgM/1) if you use them on *too long input* so best to precheck length. Afaik that&#39;s not what is meant with *catastophic backtracking*. Whenever indeed dealing with exponential growth the best friends to prevent [runaway regexes](https://www.regular-expressions.info/toolong.html) are [possessive quantifiers](https://www.regular-expressions.info/possessive.html) and [atomic groups](https://www.regular-expressions.info/atomic.html).","body":"These regexes that are triggered at any position in a string are certainly costly and can still <a href=\"https://regex101.com/r/wrrIgM/1\" rel=\"nofollow noreferrer\">soon time out</a> if you use them on <i>too long input</i> so best to precheck length. Afaik that&#39;s not what is meant with <i>catastophic backtracking</i>. Whenever indeed dealing with exponential growth the best friends to prevent <a href=\"https://www.regular-expressions.info/toolong.html\" rel=\"nofollow noreferrer\">runaway regexes</a> are <a href=\"https://www.regular-expressions.info/possessive.html\" rel=\"nofollow noreferrer\">possessive quantifiers</a> and <a href=\"https://www.regular-expressions.info/atomic.html\" rel=\"nofollow noreferrer\">atomic groups</a>."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1669478030,"post_id":74581788,"comment_id":131651509,"body_markdown":"To make your pattern a bit more efficient, you can move the separator-part out of the lookahead, e.g. [`([@.!x#$%&amp;&#39;*+=?\\`{}_~\\/\\^\\-])(?=(.+))`](https://regex101.com/r/gCJLfj/2)","body":"To make your pattern a bit more efficient, you can move the separator-part out of the lookahead, e.g. <a href=\"https://regex101.com/r/gCJLfj/2\" rel=\"nofollow noreferrer\"><code>([@.!x#$%&amp;&#39;*+=?`{}_~\\&#47;\\^\\-])(?=(.+))</code></a>"}],"owner":{"account_id":27051209,"reputation":11,"user_id":20604540,"display_name":"Adhish Kandhan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669483130,"creation_date":1669462428,"question_id":74581788,"body_markdown":"I am using positive lookahead regular expression in java to tokenize email addresses.\r\nI need to tokenize the email address(for example John.doe@abc.co.in) like this\r\ndoe@abc.co.in, doe@abc.co.in, @abc.co.in, abc.co.in, .co.in, co.in, .in, in\r\n\r\nI am using the following regex to tokenize email address\r\n\r\n```\r\n(?=([\\@|\\.|\\!|\\#|\\$|\\%|\\&amp;|\\&#39;|\\*|\\+|\\-|\\/|\\=|\\?|\\^|\\_|\\`|\\{|\\||\\}|\\~](.+)))\r\n```\r\n\r\nThis regex works perfectly and gives the result. Is there any possibility for catastrophic backtracking at some point of time while using this regex. If there is a possibility for catastrophic backtracking, what is the alternative solution to tokenize email addresses?\r\n\r\n\r\n","title":"Is there any possibility for catastrophic backtracking at any point of time while using capturing groups inside positive lookahead regular expression?","body":"<p>I am using positive lookahead regular expression in java to tokenize email addresses.\nI need to tokenize the email address(for example John.doe@abc.co.in) like this\ndoe@abc.co.in, doe@abc.co.in, @abc.co.in, abc.co.in, .co.in, co.in, .in, in</p>\n<p>I am using the following regex to tokenize email address</p>\n<pre><code>(?=([\\@|\\.|\\!|\\#|\\$|\\%|\\&amp;|\\'|\\*|\\+|\\-|\\/|\\=|\\?|\\^|\\_|\\`|\\{|\\||\\}|\\~](.+)))\n</code></pre>\n<p>This regex works perfectly and gives the result. Is there any possibility for catastrophic backtracking at some point of time while using this regex. If there is a possibility for catastrophic backtracking, what is the alternative solution to tokenize email addresses?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669503757,"post_id":74584161,"comment_id":131656318,"body_markdown":"are you using something like ProcessBuilder ? because that error,  \n\n&gt; &quot;The method exec(String) from the type Runtime is deprecated&quot;\n\n, indicates that.","body":"are you using something like ProcessBuilder ? because that error,    &gt; &quot;The method exec(String) from the type Runtime is deprecated&quot;  , indicates that."},{"owner":{"account_id":25158330,"reputation":1,"user_id":19002855,"display_name":"Oliver Smth"},"score":0,"creation_date":1669505118,"post_id":74584161,"comment_id":131656492,"body_markdown":"No I use `Runtime runtime = Runtime.getRuntime();` check my code above","body":"No I use <code>Runtime runtime = Runtime.getRuntime();</code> check my code above"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669505425,"post_id":74584161,"comment_id":131656526,"body_markdown":"ok, as it&#39;s mentioned, this method is deprecated, instead of that, you can `ProcessBuilder` -&gt; https://stackoverflow.com/a/10723391/2165146","body":"ok, as it&#39;s mentioned, this method is deprecated, instead of that, you can <code>ProcessBuilder</code> -&gt; <a href=\"https://stackoverflow.com/a/10723391/2165146\">stackoverflow.com/a/10723391/2165146</a>"},{"owner":{"account_id":25158330,"reputation":1,"user_id":19002855,"display_name":"Oliver Smth"},"score":0,"creation_date":1669506102,"post_id":74584161,"comment_id":131656615,"body_markdown":"I know but I&#39;m new in java I don&#39;t now how applied this insted of current code any help pls","body":"I know but I&#39;m new in java I don&#39;t now how applied this insted of current code any help pls"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669506379,"post_id":74584161,"comment_id":131656661,"body_markdown":"by the way, that screenshot you shared, it says &quot;Je n&#39;ai pas pu lancer de navigateur sur votre syst&#232;me d&#39;exploitation.&quot; which means &quot;I was unable to launch a browser on your operating system.&quot;, so it doesn&#39;t belong to any os, depends on your code but is it true ? first check that.","body":"by the way, that screenshot you shared, it says &quot;Je n&#39;ai pas pu lancer de navigateur sur votre syst&#232;me d&#39;exploitation.&quot; which means &quot;I was unable to launch a browser on your operating system.&quot;, so it doesn&#39;t belong to any os, depends on your code but is it true ? first check that."},{"owner":{"account_id":25158330,"reputation":1,"user_id":19002855,"display_name":"Oliver Smth"},"score":0,"creation_date":1669506445,"post_id":74584161,"comment_id":131656669,"body_markdown":"I checked this but I don&#39;t know where the problem is coming from","body":"I checked this but I don&#39;t know where the problem is coming from"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669506447,"post_id":74584161,"comment_id":131656670,"body_markdown":"after that, you can create ProcessBuilder then start it -&gt;  `ProcessBuilder pb = new ProcessBuilder(&quot;open&quot; + uri);\n Process p = pb.start();`","body":"after that, you can create ProcessBuilder then start it -&gt;  <code>ProcessBuilder pb = new ProcessBuilder(&quot;open&quot; + uri);  Process p = pb.start();</code>"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669506558,"post_id":74584161,"comment_id":131656689,"body_markdown":"you can debug your code line by line for examine why it&#39;s not detecting any os.","body":"you can debug your code line by line for examine why it&#39;s not detecting any os."}],"owner":{"account_id":25158330,"reputation":1,"user_id":19002855,"display_name":"Oliver Smth"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669482705,"creation_date":1669482705,"question_id":74584161,"body_markdown":"I&#39;m running my app on **CLI** using **Spring Boot with REST API** everything works well just I have one problem after running the app and finishing the process on CLI the image did not display moreover I have this message displayed on my code ***&quot;The method exec(String) from the type Runtime is deprecated&quot;***.\r\n\r\n**Full Code Below:**\r\n\r\n```\r\npackage com.example.demo.cli;\r\n\r\nimport java.awt.Desktop;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URI;\r\nimport java.sql.Timestamp;\r\nimport java.text.DecimalFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport com.example.demo.models.Agence;\r\nimport com.example.demo.models.CarteCredit;\r\nimport com.example.demo.models.Chambre;\r\nimport com.example.demo.models.Client;\r\nimport com.example.demo.models.HotelPartenaireTarif;\r\nimport com.example.demo.models.Lit;\r\nimport com.example.demo.models.Propose;\r\nimport com.example.demo.models.Reservation;\r\n\r\n@Component\r\npublic class HotelRestClientCLI extends AbstractMain implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tprivate RestTemplate proxy;\r\n\tpublic static StringToCalendar inputStringToCalendar;\r\n\tpublic static StringToDouble inputStringToDouble;\r\n\tpublic static StringToInt inputStringToInt;\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tBufferedReader inputReader;\r\n\t\tString userInput = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tinputReader = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tsetHotelSearchUrl(inputReader);\r\n\t\t\tsetHotelBookUrl(inputReader);\r\n\t\t\tdo {\r\n\t\t\t\tmenu();\r\n\t\t\t\tuserInput = inputReader.readLine();\r\n\t\t\t\tprocessUserInput(inputReader, userInput);\r\n\t\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t} while (!userInput.equals(QUIT));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tprotected boolean validHotelSearchUrl() {\r\n\t\treturn HOTEL_SEARCH_URL.equals(&quot;http://localhost:8080/hotelsearch/api&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected boolean validHotelBookUrl() {\r\n\t\treturn HOTEL_BOOK_URL.equals(&quot;http://localhost:8080/hotelbook/api&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void menu() {\r\n\t\tStringBuilder builder = new StringBuilder();\r\n\t\tbuilder.append(QUIT + &quot;. Quitter.&quot;);\r\n\t\tbuilder.append(&quot;\\n1. Agence Login.&quot;);\r\n\t\tSystem.out.println(builder);\r\n\t}\r\n\r\n\tprivate void processUserInput(BufferedReader reader, String userInput) {\r\n\t\ttry {\r\n\t\t\tswitch (userInput) {\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, mauvaise saisie. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\treturn;\r\n\t\t\tcase QUIT:\r\n\t\t\t\tSystem.out.println(&quot;Au revoir ...&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\tcase &quot;1&quot;:\r\n\t\t\t\tAgence[] agenceLogin = this.login(reader);\r\n\t\t\t\twhile (agenceLogin.length == 0) {\r\n\t\t\t\t\tSystem.err.println(&quot;Identifiant ou mot de passe n&#39;est pas correct, veuillez r&#233;essayer !\\n&quot;);\r\n\t\t\t\t\tagenceLogin = this.login(reader);\r\n\t\t\t\t}\r\n\t\t\t\tString agenceLoginId = agenceLogin[0].getIdentifiant();\r\n\t\t\t\tSystem.out.println(agenceLoginId + &quot; login Avec succ&#232;s!&quot;);\r\n\r\n\t\t\t\tSystem.out.println(&quot;Date arriv&#233;e (dd/MM/yyyy) aujourd&#39;hui ou apr&#232;s aujourd&#39;hui: &quot;);\r\n\t\t\t\tinputStringToCalendar = new StringToCalendar(reader);\r\n\t\t\t\tString dateArrivee = inputStringToCalendar.process();\r\n\t\t\t\tCalendar dateArriveeCal = (Calendar) inputStringToCalendar.processToCalendar(dateArrivee);\r\n\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\tSystem.out.println(&quot;Date d&#233;part (dd/MM/yyyy) apr&#232;s date arriv&#233;e: &quot;);\r\n\t\t\t\tinputStringToCalendar = new StringToCalendar(reader);\r\n\t\t\t\tString dateDepart = inputStringToCalendar.process();\r\n\t\t\t\tCalendar dateDepartCal = (Calendar) inputStringToCalendar.processToCalendar(dateDepart);\r\n\t\t\t\twhile (!dateDepartCal.after(dateArriveeCal)) {\r\n\t\t\t\t\tSystem.err.println(&quot;Date d&#233;part doit &#234;tre apr&#232;s date arriv&#233;e! &quot;);\r\n\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\tSystem.out.println(&quot;Date d&#233;part (dd/MM/yyyy):&quot;);\r\n\t\t\t\t\tinputStringToCalendar = new StringToCalendar(reader);\r\n\t\t\t\t\tdateDepart = inputStringToCalendar.process();\r\n\t\t\t\t\tdateDepartCal = (Calendar) inputStringToCalendar.processToCalendar(dateDepart);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\tSystem.out.println(&quot;Nombre de personnes &#224; h&#233;berger: &quot;);\r\n\t\t\t\tinputStringToInt = new StringToInt(reader);\r\n\t\t\t\tint nombrePerson = (int) inputStringToInt.process();\r\n\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\tString uri = HOTEL_SEARCH_URL + &quot;/agence/propose?&quot; + &quot;agenceLoginId=&quot; + agenceLoginId + &quot;&amp;dateArrivee=&quot;\r\n\t\t\t\t\t\t+ dateArrivee + &quot;&amp;dateDepart=&quot; + dateDepart + &quot;&amp;nombrePerson=&quot; + nombrePerson;\r\n\t\t\t\tSystem.out.println(uri);\r\n\t\t\t\tPropose[] allCombinations = proxy.getForObject(uri, Propose[].class);\r\n\t\t\t\tif (allCombinations.length == 0) {\r\n\t\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, pas d&#39;h&#244;tel correspond. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Voici tous les propositions:&quot;);\r\n\t\t\t\t\tint days = this.daysBetween(dateArriveeCal, dateDepartCal);\r\n\t\t\t\t\tList&lt;String&gt; listChambreId = this.displayAllCombinations(allCombinations, dateArriveeCal,\r\n\t\t\t\t\t\t\tdateDepartCal, agenceLogin, days);\r\n\t\t\t\t\tString display = &quot;&quot;;\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Display image de chambre? y/n &quot;);\r\n\t\t\t\t\t\tdisplay = reader.readLine();\r\n\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\tthis.processDisplayInput(reader, display, listChambreId);\r\n\t\t\t\t\t} while (!display.equals(&quot;n&quot;));\r\n\r\n\t\t\t\t\t// IHotelServiceWeb2 reserver\r\n\t\t\t\t\tSystem.out.println(&quot;Saisir l&#39;identifiant de l&#39;offre pour r&#233;server: &quot;);\r\n\t\t\t\t\tString identifiantOffre = reader.readLine();\r\n\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\tPropose offreChoisi = this.checkPropose(allCombinations, identifiantOffre);\r\n\t\t\t\t\twhile (offreChoisi == null) {\r\n\t\t\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, pas d&#39;h&#244;tel correspond. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Saisir l&#39;identifiant de l&#39;offre pour r&#233;server: &quot;);\r\n\t\t\t\t\t\tidentifiantOffre = reader.readLine();\r\n\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\toffreChoisi = this.checkPropose(allCombinations, identifiantOffre);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tSystem.out.println(identifiantOffre + &quot; est choisi.&quot;);\r\n\t\t\t\t\t// Agence login\r\n\t\t\t\t\tAgence[] agenceLoginRes = this.loginRes(reader);\r\n\t\t\t\t\twhile (agenceLoginRes.length == 0\r\n\t\t\t\t\t\t\t|| !agenceLoginRes[0].getIdentifiant().equals(agenceLogin[0].getIdentifiant())\r\n\t\t\t\t\t\t\t|| !agenceLoginRes[0].getMdp().equals(agenceLogin[0].getMdp())) {\r\n\t\t\t\t\t\tSystem.err.println(&quot;Identifiant ou mot de passe n&#39;est pas correct, veuillez r&#233;essayer !\\n&quot;);\r\n\t\t\t\t\t\tagenceLoginRes = this.loginRes(reader);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString agenceId = agenceLoginRes[0].getIdentifiant();\r\n\t\t\t\t\tSystem.out.println(agenceId + &quot; login Avec succ&#232;s!&quot;);\r\n\t\t\t\t\t// Client\r\n\t\t\t\t\tSystem.out.println(&quot;Nom du client principal: &quot;);\r\n\t\t\t\t\tString nom = reader.readLine();\r\n\t\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;Pr&#233;nom de client principal: &quot;);\r\n\t\t\t\t\tString prenom = reader.readLine();\r\n\t\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\t\tCarteCredit createdCarteCredit = createCarteCredit(reader);\r\n\r\n\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/cartecredit&quot;;\r\n\t\t\t\t\tCarteCredit returnedCarteCredit = proxy.postForObject(uri, createdCarteCredit, CarteCredit.class);\r\n\r\n\t\t\t\t\tClient createdClient = new Client(nom, prenom, returnedCarteCredit);\r\n\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/client&quot;;\r\n\t\t\t\t\tClient returnedClient = proxy.postForObject(uri, createdClient, Client.class);\r\n\r\n\t\t\t\t\tHotelPartenaireTarif hotelPartenaireTarif = offreChoisi.getHotelPartenaireTarif();\r\n\t\t\t\t\tint hotelId = hotelPartenaireTarif.getHotel().getHotelId();\r\n\t\t\t\t\tList&lt;Chambre&gt; chambreChoisi = offreChoisi.getListChambre();\r\n\t\t\t\t\tdouble prixChoisi = agenceLogin[0].prixChoisi(offreChoisi) * days;\r\n\r\n\t\t\t\t\tString reservationId = this.generateResId(agenceLoginRes[0], hotelPartenaireTarif, returnedClient);\r\n\t\t\t\t\treservationId = reservationId.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n\t\t\t\t\tReservation createdRes = new Reservation(reservationId, chambreChoisi, dateArriveeCal,\r\n\t\t\t\t\t\t\tdateDepartCal, returnedClient, prixChoisi);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/reservation&quot;;\r\n\t\t\t\t\t\tReservation returnedRes = proxy.postForObject(uri, createdRes, Reservation.class);\r\n\t\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/addreservationagence/&quot; + agenceId;\r\n\t\t\t\t\t\tproxy.put(uri, returnedRes);\r\n\t\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/addreservationhotel/&quot; + hotelId;\r\n\t\t\t\t\t\tproxy.put(uri, returnedRes);\r\n\t\t\t\t\t\tSystem.out.println(&quot;R&#233;serv&#233; avec succ&#232;s. Votre num&#233;ro de r&#233;servation est &quot; + reservationId);\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, il y a un probl&#232;me avec la r&#233;servation. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (HttpClientErrorException e) { // format error in cli\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic List&lt;String&gt; displayAllCombinations(Propose[] allCombinations, Calendar dateArrivee, Calendar dateDepart,\r\n\t\t\tAgence[] agenceLogin, int days) {\r\n\t\tList&lt;String&gt; listChambreId = new ArrayList&lt;&gt;();\r\n\t\tfor (Propose propose : allCombinations) {\r\n\t\t\tSystem.out.println(&quot;Identifiant de l&#39;offre:&quot; + propose.getOffreId() + &quot;\\n&quot; + &quot;Nom de l&#39;h&#244;tel&quot;\r\n\t\t\t\t\t+ propose.getHotelPartenaireTarif().getHotel().getNom() + &quot;\\n&quot; + &quot;Date de disponibilit&#233;: de &quot;\r\n\t\t\t\t\t+ this.calendarToString(dateArrivee) + &quot; &#224; &quot; + this.calendarToString(dateDepart));\r\n\t\t\tint nombreLits = 0;\r\n\t\t\tfor (Chambre c : propose.getListChambre()) {\r\n\t\t\t\tlistChambreId.add(c.getChambreId());\r\n\t\t\t\tString descLit = &quot;&quot;;\r\n\t\t\t\tSystem.out.println(&quot;#Chambre Id:&quot; + c.getChambreId());\r\n\t\t\t\tfor (Lit lit : c.getLitCollection()) {\r\n\t\t\t\t\tdescLit = descLit + lit.toString() + &quot;\\n&quot;;\r\n\t\t\t\t\tnombreLits++;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(descLit);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Nombre de lits totaux propos&#233;s:&quot; + nombreLits + &quot;\\n&quot; + &quot;Prix total &#224; payer:&quot;\r\n\t\t\t\t\t+ this.doubleToString(agenceLogin[0].prixChoisi(propose) * days)\r\n\t\t\t\t\t+ &quot; (avec pourcentage de commission)&quot; + &quot; (Pour &quot; + days + &quot; nuits)&quot; + &quot;\\n&quot;\r\n\t\t\t\t\t+ &quot;--------------------&quot;);\r\n\t\t}\r\n\t\treturn listChambreId;\r\n\t}\r\n\r\n\tprivate String calendarToString(Calendar date) {\r\n\t\tSimpleDateFormat format1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\tString dateString = format1.format(date.getTime());\r\n\t\treturn dateString;\r\n\t}\r\n\r\n\tprivate String doubleToString(double prix) {\r\n\t\tDecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n\t\treturn df.format(prix);\r\n\t}\r\n\r\n\tprivate int daysBetween(Calendar dateArrivee, Calendar dateDepart) {\r\n\t\tDate d1 = dateArrivee.getTime();\r\n\t\tDate d2 = dateDepart.getTime();\r\n\t\treturn (int) ((d2.getTime() - d1.getTime()) / (1000 * 60 * 60 * 24));\r\n\t}\r\n\r\n\tprivate Agence[] login(BufferedReader reader) {\r\n\t\tString identifiant = null;\r\n\t\tString mdp = null;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Veuillez login pour rechercher!&quot;);\r\n\t\t\tSystem.out.println(&quot;Saisir identifiant de l&#39;agence:&quot;);\r\n\r\n\t\t\tidentifiant = reader.readLine();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;Saisir mot de passe de l&#39;agence:&quot;);\r\n\t\t\tmdp = reader.readLine();\r\n\t\t\tSystem.out.println();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString uri = HOTEL_SEARCH_URL + &quot;/agence/identifiantandmdp?identifiant=&quot; + identifiant + &quot;&amp;mdp=&quot; + mdp;\r\n\t\tAgence[] agenceLogin = proxy.getForObject(uri, Agence[].class);\r\n\t\treturn agenceLogin;\r\n\t}\r\n\r\n\tprivate Agence[] loginRes(BufferedReader reader) {\r\n\t\tString identifiant = null;\r\n\t\tString mdp = null;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Veuillez login pour r&#233;server!&quot;);\r\n\t\t\tSystem.out.println(\r\n\t\t\t\t\t&quot;Saisir identifiant de l&#39;agence (le m&#234;me identifiant d&#39;agence qui a r&#233;cup&#233;r&#233; les offres):&quot;);\r\n\r\n\t\t\tidentifiant = reader.readLine();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;Saisir mot de passe de l&#39;agence:&quot;);\r\n\t\t\tmdp = reader.readLine();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString uri = HOTEL_BOOK_URL + &quot;/agence/identifiantandmdp?identifiant=&quot; + identifiant + &quot;&amp;mdp=&quot; + mdp;\r\n\t\tAgence[] agenceLoginRes = proxy.getForObject(uri, Agence[].class);\r\n\t\treturn agenceLoginRes;\r\n\t}\r\n\r\n\tprivate String generateResId(Agence agenceLoginRes, HotelPartenaireTarif hotelPartenaireTarif, Client client) {\r\n\t\tTimestamp timestamp = new Timestamp(System.currentTimeMillis());\r\n\t\tString reservationId = agenceLoginRes.getIdentifiant() + client.getNom() + timestamp.getTime();\r\n\t\treturn reservationId;\r\n\t}\r\n\r\n\tprivate Propose checkPropose(Propose[] allCombinationsList, String identifiantOffre) {\r\n\t\tfor (Propose propose : allCombinationsList) {\r\n\t\t\tif (propose.getOffreId().equals(identifiantOffre)) {\r\n\t\t\t\treturn propose;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic void displayImage(String imageName) throws Exception {\r\n\t    String uri = HOTEL_SEARCH_URL + &quot;/hotel/image?imageName=&quot; + imageName;\r\n\t    //\t\tImage image = proxy.getForObject(uri, Image.class);\r\n\t    //\t\tJFrame imageFrame = new JFrame();\r\n\t    //        imageFrame.setSize(1024, 683);\r\n\t    //        JLabel imageLabel = new JLabel(new ImageIcon(image));\r\n\t    //        imageFrame.add(imageLabel);\r\n\t    //        imageFrame.setVisible(true);\r\n\t    //        imageFrame.setAlwaysOnTop(true);\r\n\t    //\t\tproxy.getForObject(uri, null);\r\n\r\n\t    //        if (Desktop.isDesktopSupported()) {\r\n\t    //            // Windows\r\n\t    //            Desktop.getDesktop().browse(new URI(uri));\r\n\t    //        } else {\r\n\t    //            // Ubuntu\r\n\t    //            Runtime runtime = Runtime.getRuntime();\r\n\t    //            runtime.exec(&quot;/usr/bin/firefox -new-window &quot; + uri);\r\n\t    //        }\r\n\t    //\t\tRuntime rt = Runtime.getRuntime();\r\n\t    //\t\trt.exec(&quot;open &quot; + uri);\r\n\r\n\t    String myOS = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n\t    System.out.println(&quot;(Votre syst&#232;me d&#39;exploitation est: &quot; + myOS + &quot;)\\n&quot;);\r\n\t    try {\r\n\t        if (Desktop.isDesktopSupported()) { // Probably Windows\r\n\t            System.out.println(&quot; -- Aller avec Desktop.browse ...&quot;);\r\n\t            Desktop desktop = Desktop.getDesktop();\r\n\t            desktop.browse(new URI(uri));\r\n\t        } else { // Definitely Non-windows\r\n\t        \tRuntime runtime = Runtime.getRuntime();\r\n\t            if (myOS.contains(&quot;mac&quot;)) { // Apples\r\n\t                System.out.println(&quot; -- Aller sur Apple avec &#39;ouverte&#39;...&quot;);\r\n\t                runtime.exec(&quot;open &quot; + uri);\r\n\t            } else if (myOS.contains(&quot;nix&quot;) || myOS.contains(&quot;nux&quot;)) { // Linux flavours \r\n\t                System.out.println(&quot; -- Passer sous Linux avec &#39;xdg-open&#39;...&quot;);\r\n\t               runtime.exec(&quot;xdg-open &quot; + uri);\r\n\t            } else\r\n\t                System.out.println(&quot;Je n&#39;ai pas pu lancer de navigateur sur votre syst&#232;me d&#39;exploitation.&quot;);\r\n\t        }\r\n\t    } catch (Exception e) {\r\n\t        System.out.println(&quot;**Trucs &#224; tort: &quot; + e.getMessage());\r\n\t    }\r\n\t}\r\n\r\n\tpublic void processDisplayInput(BufferedReader reader, String display, List&lt;String&gt; listChambreId) {\r\n\t\ttry {\r\n\t\t\tswitch (display) {\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, mauvaise saisie. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\treturn;\r\n\t\t\tcase &quot;n&quot;:\r\n\t\t\t\treturn;\r\n\t\t\tcase &quot;y&quot;:\r\n\t\t\t\tSystem.out.println(&quot;Chambre Id ?&quot;);\r\n\t\t\t\tString chambreId = reader.readLine();\r\n\t\t\t\tif (listChambreId.contains(chambreId)) {\r\n\t\t\t\t\tthis.displayImage(chambreId);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.err.println(&quot;Chambre Id n&#39;est pas correct.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate CarteCredit createCarteCredit(BufferedReader reader) {\r\n\t\t// carte credit\r\n\t\tCarteCredit createdCarteCredit = null;\r\n\t\twhile (!(createdCarteCredit instanceof CarteCredit)) {\r\n\t\t\tSystem.out.println(&quot;Num&#233;ro de carte cr&#233;dit (16 chiffres) : &quot;);\r\n\t\t\tString carteNumero = null;\r\n\t\t\ttry {\r\n\t\t\t\tcarteNumero = reader.readLine();\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;Mois expir&#233; (2 chiffres) : &quot;);\r\n\t\t\tinputStringToInt = new StringToInt(reader);\r\n\t\t\tint expireMois = (int) inputStringToInt.process();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;Ann&#233;e expir&#233;e (4 chiffres) : &quot;);\r\n\t\t\tinputStringToInt = new StringToInt(reader);\r\n\t\t\tint expireAnnee = (int) inputStringToInt.process();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;CVC code (3 chiffres) : &quot;);\r\n\t\t\tString cvcCode = null;\r\n\t\t\ttry {\r\n\t\t\t\tcvcCode = reader.readLine();\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tcreatedCarteCredit = new CarteCredit(carteNumero, cvcCode, expireMois, expireAnnee);\r\n\t\t}\r\n\t\treturn createdCarteCredit;\r\n\t}\r\n\r\n//\tprivate XMLGregorianCalendar calendarToXMLGregorianCalendar(Calendar cal) {\r\n//\t\tXMLGregorianCalendar gDateFormatted = null;\r\n//\t\ttry {\r\n//\t\t\tgDateFormatted =\r\n//\t\t\t\t\tDatatypeFactory.newInstance().newXMLGregorianCalendar(\r\n//\t\t\t\t\t\tcal.get(Calendar.YEAR),\r\n//\t\t\t\t\t\tcal.get(Calendar.MONTH) + 1,\r\n//\t\t\t\t\t\tcal.get(Calendar.DAY_OF_MONTH),\r\n//\t\t\t\t\t\tcal.get(Calendar.HOUR_OF_DAY),\r\n//\t\t\t\t\t\tcal.get(Calendar.MINUTE),\r\n//\t\t\t\t\t\tcal.get(Calendar.SECOND), DatatypeConstants.FIELD_UNDEFINED, DatatypeConstants.FIELD_UNDEFINED);\r\n//\t\t} catch (DatatypeConfigurationException e) {\r\n//\t\t\te.printStackTrace();\r\n//\t\t}\r\n//\t\treturn gDateFormatted;\r\n//\t}\r\n\r\n}\r\n```\r\n\r\nI think the problem comes from this code below but I don&#39;t know how to fix any suggestions.\r\n\r\n```\r\n\tpublic void displayImage(String imageName) throws Exception {\r\n\t    String uri = HOTEL_SEARCH_URL + &quot;/hotel/image?imageName=&quot; + imageName;\r\n\t    String myOS = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n\t    System.out.println(&quot;(Votre syst&#232;me d&#39;exploitation est: &quot; + myOS + &quot;)\\n&quot;);\r\n\t    try {\r\n\t        if (Desktop.isDesktopSupported()) { // Probably Windows\r\n\t            System.out.println(&quot; -- Aller avec Desktop.browse ...&quot;);\r\n\t            Desktop desktop = Desktop.getDesktop();\r\n\t            desktop.browse(new URI(uri));\r\n\t        } else { // Definitely Non-windows\r\n\t            Runtime runtime = Runtime.getRuntime();\r\n\t            if (myOS.contains(&quot;mac&quot;)) { // Apples\r\n\t                System.out.println(&quot; -- Aller sur Apple avec &#39;ouverte&#39;...&quot;);\r\n\t                runtime.exec(&quot;open &quot; + uri);\r\n\t            } else if (myOS.contains(&quot;nix&quot;) || myOS.contains(&quot;nux&quot;)) { // Linux flavours \r\n\t                System.out.println(&quot; -- Passer sous Linux avec &#39;xdg-open&#39;...&quot;);\r\n\t                runtime.exec(&quot;xdg-open &quot; + uri);\r\n\t            } else\r\n\t                System.out.println(&quot;Je n&#39;ai pas pu lancer de navigateur sur votre syst&#232;me d&#39;exploitation.&quot;);\r\n\t        }\r\n\t    } catch (Exception e) {\r\n\t        System.out.println(&quot;**Trucs &#224; tort: &quot; + e.getMessage());\r\n\t    }\r\n\t}\r\n```\r\n\r\nThe result that I get after finishing the process using CLI (**See image below**):\r\n\r\n[enter image description here](https://i.stack.imgur.com/q5bEk.png)\r\n\r\nI expect a solution to this problem, thank you","title":"Java Spring Boot my app did not display the image (the method exec(String) from the type Runtime is deprecated)","body":"<p>I'm running my app on <strong>CLI</strong> using <strong>Spring Boot with REST API</strong> everything works well just I have one problem after running the app and finishing the process on CLI the image did not display moreover I have this message displayed on my code <em><strong>&quot;The method exec(String) from the type Runtime is deprecated&quot;</strong></em>.</p>\n<p><strong>Full Code Below:</strong></p>\n<pre><code>package com.example.demo.cli;\n\nimport java.awt.Desktop;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URI;\nimport java.sql.Timestamp;\nimport java.text.DecimalFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.client.HttpClientErrorException;\nimport org.springframework.web.client.RestTemplate;\n\nimport com.example.demo.models.Agence;\nimport com.example.demo.models.CarteCredit;\nimport com.example.demo.models.Chambre;\nimport com.example.demo.models.Client;\nimport com.example.demo.models.HotelPartenaireTarif;\nimport com.example.demo.models.Lit;\nimport com.example.demo.models.Propose;\nimport com.example.demo.models.Reservation;\n\n@Component\npublic class HotelRestClientCLI extends AbstractMain implements CommandLineRunner {\n\n    @Autowired\n    private RestTemplate proxy;\n    public static StringToCalendar inputStringToCalendar;\n    public static StringToDouble inputStringToDouble;\n    public static StringToInt inputStringToInt;\n\n    @Override\n    public void run(String... args) throws Exception {\n        BufferedReader inputReader;\n        String userInput = &quot;&quot;;\n        try {\n            inputReader = new BufferedReader(new InputStreamReader(System.in));\n            setHotelSearchUrl(inputReader);\n            setHotelBookUrl(inputReader);\n            do {\n                menu();\n                userInput = inputReader.readLine();\n                processUserInput(inputReader, userInput);\n                Thread.sleep(1000);\n\n            } while (!userInput.equals(QUIT));\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected boolean validHotelSearchUrl() {\n        return HOTEL_SEARCH_URL.equals(&quot;http://localhost:8080/hotelsearch/api&quot;);\n    }\n\n    @Override\n    protected boolean validHotelBookUrl() {\n        return HOTEL_BOOK_URL.equals(&quot;http://localhost:8080/hotelbook/api&quot;);\n    }\n\n    @Override\n    protected void menu() {\n        StringBuilder builder = new StringBuilder();\n        builder.append(QUIT + &quot;. Quitter.&quot;);\n        builder.append(&quot;\\n1. Agence Login.&quot;);\n        System.out.println(builder);\n    }\n\n    private void processUserInput(BufferedReader reader, String userInput) {\n        try {\n            switch (userInput) {\n            default:\n                System.err.println(&quot;Désolé, mauvaise saisie. Veuillez réessayer.&quot;);\n                return;\n            case QUIT:\n                System.out.println(&quot;Au revoir ...&quot;);\n                System.exit(0);\n            case &quot;1&quot;:\n                Agence[] agenceLogin = this.login(reader);\n                while (agenceLogin.length == 0) {\n                    System.err.println(&quot;Identifiant ou mot de passe n'est pas correct, veuillez réessayer !\\n&quot;);\n                    agenceLogin = this.login(reader);\n                }\n                String agenceLoginId = agenceLogin[0].getIdentifiant();\n                System.out.println(agenceLoginId + &quot; login Avec succès!&quot;);\n\n                System.out.println(&quot;Date arrivée (dd/MM/yyyy) aujourd'hui ou après aujourd'hui: &quot;);\n                inputStringToCalendar = new StringToCalendar(reader);\n                String dateArrivee = inputStringToCalendar.process();\n                Calendar dateArriveeCal = (Calendar) inputStringToCalendar.processToCalendar(dateArrivee);\n                System.out.println();\n\n                System.out.println(&quot;Date départ (dd/MM/yyyy) après date arrivée: &quot;);\n                inputStringToCalendar = new StringToCalendar(reader);\n                String dateDepart = inputStringToCalendar.process();\n                Calendar dateDepartCal = (Calendar) inputStringToCalendar.processToCalendar(dateDepart);\n                while (!dateDepartCal.after(dateArriveeCal)) {\n                    System.err.println(&quot;Date départ doit être après date arrivée! &quot;);\n                    System.out.println();\n                    System.out.println(&quot;Date départ (dd/MM/yyyy):&quot;);\n                    inputStringToCalendar = new StringToCalendar(reader);\n                    dateDepart = inputStringToCalendar.process();\n                    dateDepartCal = (Calendar) inputStringToCalendar.processToCalendar(dateDepart);\n                }\n                System.out.println();\n\n                System.out.println(&quot;Nombre de personnes à héberger: &quot;);\n                inputStringToInt = new StringToInt(reader);\n                int nombrePerson = (int) inputStringToInt.process();\n                System.out.println();\n\n                String uri = HOTEL_SEARCH_URL + &quot;/agence/propose?&quot; + &quot;agenceLoginId=&quot; + agenceLoginId + &quot;&amp;dateArrivee=&quot;\n                        + dateArrivee + &quot;&amp;dateDepart=&quot; + dateDepart + &quot;&amp;nombrePerson=&quot; + nombrePerson;\n                System.out.println(uri);\n                Propose[] allCombinations = proxy.getForObject(uri, Propose[].class);\n                if (allCombinations.length == 0) {\n                    System.err.println(&quot;Désolé, pas d'hôtel correspond. Veuillez réessayer.&quot;);\n                    break;\n                } else {\n                    System.out.println(&quot;Voici tous les propositions:&quot;);\n                    int days = this.daysBetween(dateArriveeCal, dateDepartCal);\n                    List&lt;String&gt; listChambreId = this.displayAllCombinations(allCombinations, dateArriveeCal,\n                            dateDepartCal, agenceLogin, days);\n                    String display = &quot;&quot;;\n                    do {\n                        System.out.println(&quot;Display image de chambre? y/n &quot;);\n                        display = reader.readLine();\n                        System.out.println();\n                        this.processDisplayInput(reader, display, listChambreId);\n                    } while (!display.equals(&quot;n&quot;));\n\n                    // IHotelServiceWeb2 reserver\n                    System.out.println(&quot;Saisir l'identifiant de l'offre pour réserver: &quot;);\n                    String identifiantOffre = reader.readLine();\n                    System.out.println();\n                    Propose offreChoisi = this.checkPropose(allCombinations, identifiantOffre);\n                    while (offreChoisi == null) {\n                        System.err.println(&quot;Désolé, pas d'hôtel correspond. Veuillez réessayer.&quot;);\n                        System.out.println(&quot;Saisir l'identifiant de l'offre pour réserver: &quot;);\n                        identifiantOffre = reader.readLine();\n                        System.out.println();\n                        offreChoisi = this.checkPropose(allCombinations, identifiantOffre);\n                    }\n\n                    System.out.println(identifiantOffre + &quot; est choisi.&quot;);\n                    // Agence login\n                    Agence[] agenceLoginRes = this.loginRes(reader);\n                    while (agenceLoginRes.length == 0\n                            || !agenceLoginRes[0].getIdentifiant().equals(agenceLogin[0].getIdentifiant())\n                            || !agenceLoginRes[0].getMdp().equals(agenceLogin[0].getMdp())) {\n                        System.err.println(&quot;Identifiant ou mot de passe n'est pas correct, veuillez réessayer !\\n&quot;);\n                        agenceLoginRes = this.loginRes(reader);\n                    }\n                    String agenceId = agenceLoginRes[0].getIdentifiant();\n                    System.out.println(agenceId + &quot; login Avec succès!&quot;);\n                    // Client\n                    System.out.println(&quot;Nom du client principal: &quot;);\n                    String nom = reader.readLine();\n                    System.out.println();\n\n                    System.out.println(&quot;Prénom de client principal: &quot;);\n                    String prenom = reader.readLine();\n                    System.out.println();\n\n                    CarteCredit createdCarteCredit = createCarteCredit(reader);\n\n                    uri = HOTEL_BOOK_URL + &quot;/cartecredit&quot;;\n                    CarteCredit returnedCarteCredit = proxy.postForObject(uri, createdCarteCredit, CarteCredit.class);\n\n                    Client createdClient = new Client(nom, prenom, returnedCarteCredit);\n                    uri = HOTEL_BOOK_URL + &quot;/client&quot;;\n                    Client returnedClient = proxy.postForObject(uri, createdClient, Client.class);\n\n                    HotelPartenaireTarif hotelPartenaireTarif = offreChoisi.getHotelPartenaireTarif();\n                    int hotelId = hotelPartenaireTarif.getHotel().getHotelId();\n                    List&lt;Chambre&gt; chambreChoisi = offreChoisi.getListChambre();\n                    double prixChoisi = agenceLogin[0].prixChoisi(offreChoisi) * days;\n\n                    String reservationId = this.generateResId(agenceLoginRes[0], hotelPartenaireTarif, returnedClient);\n                    reservationId = reservationId.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n                    Reservation createdRes = new Reservation(reservationId, chambreChoisi, dateArriveeCal,\n                            dateDepartCal, returnedClient, prixChoisi);\n                    try {\n                        uri = HOTEL_BOOK_URL + &quot;/reservation&quot;;\n                        Reservation returnedRes = proxy.postForObject(uri, createdRes, Reservation.class);\n                        uri = HOTEL_BOOK_URL + &quot;/addreservationagence/&quot; + agenceId;\n                        proxy.put(uri, returnedRes);\n                        uri = HOTEL_BOOK_URL + &quot;/addreservationhotel/&quot; + hotelId;\n                        proxy.put(uri, returnedRes);\n                        System.out.println(&quot;Réservé avec succès. Votre numéro de réservation est &quot; + reservationId);\n                    } catch (Exception e) {\n                        System.err.println(&quot;Désolé, il y a un problème avec la réservation. Veuillez réessayer.&quot;);\n                        break;\n                    }\n                }\n                break;\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (HttpClientErrorException e) { // format error in cli\n            System.err.println(e.getMessage());\n        }\n    }\n\n    public List&lt;String&gt; displayAllCombinations(Propose[] allCombinations, Calendar dateArrivee, Calendar dateDepart,\n            Agence[] agenceLogin, int days) {\n        List&lt;String&gt; listChambreId = new ArrayList&lt;&gt;();\n        for (Propose propose : allCombinations) {\n            System.out.println(&quot;Identifiant de l'offre:&quot; + propose.getOffreId() + &quot;\\n&quot; + &quot;Nom de l'hôtel&quot;\n                    + propose.getHotelPartenaireTarif().getHotel().getNom() + &quot;\\n&quot; + &quot;Date de disponibilité: de &quot;\n                    + this.calendarToString(dateArrivee) + &quot; à &quot; + this.calendarToString(dateDepart));\n            int nombreLits = 0;\n            for (Chambre c : propose.getListChambre()) {\n                listChambreId.add(c.getChambreId());\n                String descLit = &quot;&quot;;\n                System.out.println(&quot;#Chambre Id:&quot; + c.getChambreId());\n                for (Lit lit : c.getLitCollection()) {\n                    descLit = descLit + lit.toString() + &quot;\\n&quot;;\n                    nombreLits++;\n                }\n                System.out.println(descLit);\n            }\n            System.out.println(&quot;Nombre de lits totaux proposés:&quot; + nombreLits + &quot;\\n&quot; + &quot;Prix total à payer:&quot;\n                    + this.doubleToString(agenceLogin[0].prixChoisi(propose) * days)\n                    + &quot; (avec pourcentage de commission)&quot; + &quot; (Pour &quot; + days + &quot; nuits)&quot; + &quot;\\n&quot;\n                    + &quot;--------------------&quot;);\n        }\n        return listChambreId;\n    }\n\n    private String calendarToString(Calendar date) {\n        SimpleDateFormat format1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        String dateString = format1.format(date.getTime());\n        return dateString;\n    }\n\n    private String doubleToString(double prix) {\n        DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n        return df.format(prix);\n    }\n\n    private int daysBetween(Calendar dateArrivee, Calendar dateDepart) {\n        Date d1 = dateArrivee.getTime();\n        Date d2 = dateDepart.getTime();\n        return (int) ((d2.getTime() - d1.getTime()) / (1000 * 60 * 60 * 24));\n    }\n\n    private Agence[] login(BufferedReader reader) {\n        String identifiant = null;\n        String mdp = null;\n        try {\n            System.out.println(&quot;Veuillez login pour rechercher!&quot;);\n            System.out.println(&quot;Saisir identifiant de l'agence:&quot;);\n\n            identifiant = reader.readLine();\n            System.out.println();\n\n            System.out.println(&quot;Saisir mot de passe de l'agence:&quot;);\n            mdp = reader.readLine();\n            System.out.println();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        String uri = HOTEL_SEARCH_URL + &quot;/agence/identifiantandmdp?identifiant=&quot; + identifiant + &quot;&amp;mdp=&quot; + mdp;\n        Agence[] agenceLogin = proxy.getForObject(uri, Agence[].class);\n        return agenceLogin;\n    }\n\n    private Agence[] loginRes(BufferedReader reader) {\n        String identifiant = null;\n        String mdp = null;\n        try {\n            System.out.println(&quot;Veuillez login pour réserver!&quot;);\n            System.out.println(\n                    &quot;Saisir identifiant de l'agence (le même identifiant d'agence qui a récupéré les offres):&quot;);\n\n            identifiant = reader.readLine();\n            System.out.println();\n\n            System.out.println(&quot;Saisir mot de passe de l'agence:&quot;);\n            mdp = reader.readLine();\n            System.out.println();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        String uri = HOTEL_BOOK_URL + &quot;/agence/identifiantandmdp?identifiant=&quot; + identifiant + &quot;&amp;mdp=&quot; + mdp;\n        Agence[] agenceLoginRes = proxy.getForObject(uri, Agence[].class);\n        return agenceLoginRes;\n    }\n\n    private String generateResId(Agence agenceLoginRes, HotelPartenaireTarif hotelPartenaireTarif, Client client) {\n        Timestamp timestamp = new Timestamp(System.currentTimeMillis());\n        String reservationId = agenceLoginRes.getIdentifiant() + client.getNom() + timestamp.getTime();\n        return reservationId;\n    }\n\n    private Propose checkPropose(Propose[] allCombinationsList, String identifiantOffre) {\n        for (Propose propose : allCombinationsList) {\n            if (propose.getOffreId().equals(identifiantOffre)) {\n                return propose;\n            }\n        }\n        return null;\n    }\n\n    public void displayImage(String imageName) throws Exception {\n        String uri = HOTEL_SEARCH_URL + &quot;/hotel/image?imageName=&quot; + imageName;\n        //      Image image = proxy.getForObject(uri, Image.class);\n        //      JFrame imageFrame = new JFrame();\n        //        imageFrame.setSize(1024, 683);\n        //        JLabel imageLabel = new JLabel(new ImageIcon(image));\n        //        imageFrame.add(imageLabel);\n        //        imageFrame.setVisible(true);\n        //        imageFrame.setAlwaysOnTop(true);\n        //      proxy.getForObject(uri, null);\n\n        //        if (Desktop.isDesktopSupported()) {\n        //            // Windows\n        //            Desktop.getDesktop().browse(new URI(uri));\n        //        } else {\n        //            // Ubuntu\n        //            Runtime runtime = Runtime.getRuntime();\n        //            runtime.exec(&quot;/usr/bin/firefox -new-window &quot; + uri);\n        //        }\n        //      Runtime rt = Runtime.getRuntime();\n        //      rt.exec(&quot;open &quot; + uri);\n\n        String myOS = System.getProperty(&quot;os.name&quot;).toLowerCase();\n        System.out.println(&quot;(Votre système d'exploitation est: &quot; + myOS + &quot;)\\n&quot;);\n        try {\n            if (Desktop.isDesktopSupported()) { // Probably Windows\n                System.out.println(&quot; -- Aller avec Desktop.browse ...&quot;);\n                Desktop desktop = Desktop.getDesktop();\n                desktop.browse(new URI(uri));\n            } else { // Definitely Non-windows\n                Runtime runtime = Runtime.getRuntime();\n                if (myOS.contains(&quot;mac&quot;)) { // Apples\n                    System.out.println(&quot; -- Aller sur Apple avec 'ouverte'...&quot;);\n                    runtime.exec(&quot;open &quot; + uri);\n                } else if (myOS.contains(&quot;nix&quot;) || myOS.contains(&quot;nux&quot;)) { // Linux flavours \n                    System.out.println(&quot; -- Passer sous Linux avec 'xdg-open'...&quot;);\n                   runtime.exec(&quot;xdg-open &quot; + uri);\n                } else\n                    System.out.println(&quot;Je n'ai pas pu lancer de navigateur sur votre système d'exploitation.&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;**Trucs à tort: &quot; + e.getMessage());\n        }\n    }\n\n    public void processDisplayInput(BufferedReader reader, String display, List&lt;String&gt; listChambreId) {\n        try {\n            switch (display) {\n            default:\n                System.err.println(&quot;Désolé, mauvaise saisie. Veuillez réessayer.&quot;);\n                return;\n            case &quot;n&quot;:\n                return;\n            case &quot;y&quot;:\n                System.out.println(&quot;Chambre Id ?&quot;);\n                String chambreId = reader.readLine();\n                if (listChambreId.contains(chambreId)) {\n                    this.displayImage(chambreId);\n                } else {\n                    System.err.println(&quot;Chambre Id n'est pas correct.&quot;);\n                }\n                return;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private CarteCredit createCarteCredit(BufferedReader reader) {\n        // carte credit\n        CarteCredit createdCarteCredit = null;\n        while (!(createdCarteCredit instanceof CarteCredit)) {\n            System.out.println(&quot;Numéro de carte crédit (16 chiffres) : &quot;);\n            String carteNumero = null;\n            try {\n                carteNumero = reader.readLine();\n            } catch (IOException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n            System.out.println();\n\n            System.out.println(&quot;Mois expiré (2 chiffres) : &quot;);\n            inputStringToInt = new StringToInt(reader);\n            int expireMois = (int) inputStringToInt.process();\n            System.out.println();\n\n            System.out.println(&quot;Année expirée (4 chiffres) : &quot;);\n            inputStringToInt = new StringToInt(reader);\n            int expireAnnee = (int) inputStringToInt.process();\n            System.out.println();\n\n            System.out.println(&quot;CVC code (3 chiffres) : &quot;);\n            String cvcCode = null;\n            try {\n                cvcCode = reader.readLine();\n            } catch (IOException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n            System.out.println();\n            createdCarteCredit = new CarteCredit(carteNumero, cvcCode, expireMois, expireAnnee);\n        }\n        return createdCarteCredit;\n    }\n\n//  private XMLGregorianCalendar calendarToXMLGregorianCalendar(Calendar cal) {\n//      XMLGregorianCalendar gDateFormatted = null;\n//      try {\n//          gDateFormatted =\n//                  DatatypeFactory.newInstance().newXMLGregorianCalendar(\n//                      cal.get(Calendar.YEAR),\n//                      cal.get(Calendar.MONTH) + 1,\n//                      cal.get(Calendar.DAY_OF_MONTH),\n//                      cal.get(Calendar.HOUR_OF_DAY),\n//                      cal.get(Calendar.MINUTE),\n//                      cal.get(Calendar.SECOND), DatatypeConstants.FIELD_UNDEFINED, DatatypeConstants.FIELD_UNDEFINED);\n//      } catch (DatatypeConfigurationException e) {\n//          e.printStackTrace();\n//      }\n//      return gDateFormatted;\n//  }\n\n}\n</code></pre>\n<p>I think the problem comes from this code below but I don't know how to fix any suggestions.</p>\n<pre><code>    public void displayImage(String imageName) throws Exception {\n        String uri = HOTEL_SEARCH_URL + &quot;/hotel/image?imageName=&quot; + imageName;\n        String myOS = System.getProperty(&quot;os.name&quot;).toLowerCase();\n        System.out.println(&quot;(Votre système d'exploitation est: &quot; + myOS + &quot;)\\n&quot;);\n        try {\n            if (Desktop.isDesktopSupported()) { // Probably Windows\n                System.out.println(&quot; -- Aller avec Desktop.browse ...&quot;);\n                Desktop desktop = Desktop.getDesktop();\n                desktop.browse(new URI(uri));\n            } else { // Definitely Non-windows\n                Runtime runtime = Runtime.getRuntime();\n                if (myOS.contains(&quot;mac&quot;)) { // Apples\n                    System.out.println(&quot; -- Aller sur Apple avec 'ouverte'...&quot;);\n                    runtime.exec(&quot;open &quot; + uri);\n                } else if (myOS.contains(&quot;nix&quot;) || myOS.contains(&quot;nux&quot;)) { // Linux flavours \n                    System.out.println(&quot; -- Passer sous Linux avec 'xdg-open'...&quot;);\n                    runtime.exec(&quot;xdg-open &quot; + uri);\n                } else\n                    System.out.println(&quot;Je n'ai pas pu lancer de navigateur sur votre système d'exploitation.&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;**Trucs à tort: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>The result that I get after finishing the process using CLI (<strong>See image below</strong>):</p>\n<p><a href=\"https://i.stack.imgur.com/q5bEk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I expect a solution to this problem, thank you</p>\n"},{"tags":["java","license-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1688086,"reputation":2868,"user_id":1550964,"display_name":"Duarte Meneses"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597838894,"creation_date":1509465332,"answer_id":47039584,"question_id":47030364,"body_markdown":"Try switching to the [com.mycila:license-maven-plugin][1]. Their documentation is very easy to follow.\r\n\r\n\r\n**Create a template in a file**\r\n\r\nFor example, put in `license-header.txt`:\r\n\r\n    Copyright (C) ${license.years} ${license.owner} &lt;${license.email}&gt;\r\n\r\n    ====================================================================\r\n    This software is the property of ${license.owner}. Etc. Etc. \r\n    ====================================================================\r\n    \r\n**Configure the plugin**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;com.mycila&lt;/groupId&gt;\r\n      &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;header&gt;license-header.txt&lt;/header&gt;   \r\n        &lt;properties&gt;\r\n          &lt;license.owner&gt;My Company&lt;/license.owner&gt;\r\n          &lt;license.years&gt;2009 - 2018&lt;/license.years&gt;\r\n          &lt;license.email&gt;info@mycompany.com&lt;/license.email&gt;\r\n        &lt;/properties&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;src/*/java/**/*.java&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;first&lt;/id&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;check&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;phase&gt;process-sources&lt;/phase&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nYou can format with `mvn license:format` or just change the goal in the configuration to `format` to do it in every run.\r\n\r\n  [1]: http://code.mycila.com/license-maven-plugin/","title":"license-maven-plugin:update-file-header How to exclude project name?","body":"<p>Try switching to the <a href=\"http://code.mycila.com/license-maven-plugin/\" rel=\"nofollow noreferrer\">com.mycila:license-maven-plugin</a>. Their documentation is very easy to follow.</p>\n<p><strong>Create a template in a file</strong></p>\n<p>For example, put in <code>license-header.txt</code>:</p>\n<pre><code>Copyright (C) ${license.years} ${license.owner} &lt;${license.email}&gt;\n\n====================================================================\nThis software is the property of ${license.owner}. Etc. Etc. \n====================================================================\n</code></pre>\n<p><strong>Configure the plugin</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;com.mycila&lt;/groupId&gt;\n  &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;header&gt;license-header.txt&lt;/header&gt;   \n    &lt;properties&gt;\n      &lt;license.owner&gt;My Company&lt;/license.owner&gt;\n      &lt;license.years&gt;2009 - 2018&lt;/license.years&gt;\n      &lt;license.email&gt;info@mycompany.com&lt;/license.email&gt;\n    &lt;/properties&gt;\n    &lt;includes&gt;\n      &lt;include&gt;src/*/java/**/*.java&lt;/include&gt;\n    &lt;/includes&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;first&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;check&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;phase&gt;process-sources&lt;/phase&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>You can format with <code>mvn license:format</code> or just change the goal in the configuration to <code>format</code> to do it in every run.</p>\n"}],"owner":{"account_id":2593882,"reputation":2074,"user_id":2247949,"accept_rate":21,"display_name":"SST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669482498,"creation_date":1509436504,"question_id":47030364,"body_markdown":"I am using license-maven-plugin to insert license headers in each files in source tree successfully. \r\nIt generates the following: \r\n\r\n    /*-\r\n     * #%L\r\n     * my-unqualified-package-name\r\n     * %%\r\n     * Copyright (C) 2009 - 2017 My Company. &lt;info@mycompany.com&gt;\r\n     * %%\r\n     * This software is the property of My Company. Etc. Etc. \r\n     * \r\n     * #L%\r\n     */\r\n\r\nMy pom,\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;inceptionYear&gt;2009&lt;/inceptionYear&gt;\r\n                    &lt;addJavaLicenseAfterPackage&gt;false&lt;/addJavaLicenseAfterPackage&gt;\r\n                    &lt;organizationName&gt;My Company. &amp;lt;info@mycompany.com&amp;gt;&lt;/organizationName&gt;\r\n                    &lt;licenseName&gt;my_license&lt;/licenseName&gt;\r\n                    &lt;licenseResolver&gt;${project.baseUri}/src/license&lt;/licenseResolver&gt;\r\n                    &lt;roots&gt;\r\n                       &lt;!-- &lt;root&gt;src/main/java&lt;/root&gt; --&gt;\r\n                        &lt;root&gt;src/test&lt;/root&gt;\r\n                    &lt;/roots&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;first&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;update-file-header&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nBut I want the following format,\r\n\r\n    /**\r\n    * Copyright (C) 2009 - 2018 My Company. &lt;info@mycompany.com&gt;\r\n    *\r\n    * ====================================================================\r\n    * This software is the property of My Company. Etc. Etc. \r\n    * ====================================================================\r\n    */\r\n","title":"license-maven-plugin:update-file-header How to exclude project name?","body":"<p>I am using license-maven-plugin to insert license headers in each files in source tree successfully. \nIt generates the following: </p>\n\n<pre><code>/*-\n * #%L\n * my-unqualified-package-name\n * %%\n * Copyright (C) 2009 - 2017 My Company. &lt;info@mycompany.com&gt;\n * %%\n * This software is the property of My Company. Etc. Etc. \n * \n * #L%\n */\n</code></pre>\n\n<p>My pom,</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.14&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;inceptionYear&gt;2009&lt;/inceptionYear&gt;\n                &lt;addJavaLicenseAfterPackage&gt;false&lt;/addJavaLicenseAfterPackage&gt;\n                &lt;organizationName&gt;My Company. &amp;lt;info@mycompany.com&amp;gt;&lt;/organizationName&gt;\n                &lt;licenseName&gt;my_license&lt;/licenseName&gt;\n                &lt;licenseResolver&gt;${project.baseUri}/src/license&lt;/licenseResolver&gt;\n                &lt;roots&gt;\n                   &lt;!-- &lt;root&gt;src/main/java&lt;/root&gt; --&gt;\n                    &lt;root&gt;src/test&lt;/root&gt;\n                &lt;/roots&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;first&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;update-file-header&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>But I want the following format,</p>\n\n<pre><code>/**\n* Copyright (C) 2009 - 2018 My Company. &lt;info@mycompany.com&gt;\n*\n* ====================================================================\n* This software is the property of My Company. Etc. Etc. \n* ====================================================================\n*/\n</code></pre>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":19044032,"reputation":1085,"user_id":16973338,"display_name":"Risheek Mittal"},"score":0,"creation_date":1669265706,"post_id":74555718,"comment_id":131606547,"body_markdown":"can you tell me what will happen if there are only two consecutive numbers and not three?","body":"can you tell me what will happen if there are only two consecutive numbers and not three?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669266154,"post_id":74555718,"comment_id":131606610,"body_markdown":"Please explain what part of this you are having trouble with.","body":"Please explain what part of this you are having trouble with."},{"owner":{"account_id":8722811,"reputation":7426,"user_id":6689725,"display_name":"Z4-tier"},"score":0,"creation_date":1669266222,"post_id":74555718,"comment_id":131606623,"body_markdown":"999 is an integer, what if i want to enter that as input as on of my numbers?","body":"999 is an integer, what if i want to enter that as input as on of my numbers?"},{"owner":{"account_id":27030852,"reputation":3,"user_id":20587243,"display_name":"orbarkalifa"},"score":0,"creation_date":1669266534,"post_id":74555718,"comment_id":131606671,"body_markdown":"999 is the condition when I need to stop taking the inputs,\nif there are only 2 inputs then i just need to print their sum.\nI cant think of a way to stop the input and calculate the largest sum at the same time","body":"999 is the condition when I need to stop taking the inputs, if there are only 2 inputs then i just need to print their sum. I cant think of a way to stop the input and calculate the largest sum at the same time"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669283705,"creation_date":1669268195,"answer_id":74556040,"question_id":74555718,"body_markdown":"[Sliding Window Algorithm Technique][1] is your friend! You can do it with **O(n)**.\r\n\r\n```java\r\npublic static long findThreeConsecutiveSum(Iterator&lt;Integer&gt; it) {\r\n    long maxSum = Long.MIN_VALUE;\r\n    long curSum = 0;\r\n    Deque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;(4);\r\n\r\n    while (it.hasNext()) {\r\n        int val = it.next();\r\n\r\n        curSum += val;\r\n        deque.addLast(val);\r\n\r\n        if (deque.size() == 4) {\r\n            curSum -= deque.removeFirst();\r\n        }\r\n\r\n        maxSum = Math.max(maxSum, curSum);\r\n    }\r\n\r\n\r\n    return maxSum;\r\n}\r\n```\r\n\r\nor in case you can&#39;t use `Deque`:\r\n\r\n```java\r\npublic static long findThreeConsecutiveSum(Iterator&lt;Integer&gt; it) {\r\n    long maxSum = Long.MIN_VALUE;\r\n    int[] arr = new int[3];\r\n    int i = 0;\r\n\r\n    while (it.hasNext()) {\r\n        int val = it.next();\r\n\r\n        if (i == arr.length) {\r\n            arr[0] = arr[1];\r\n            arr[1] = arr[2];\r\n            arr[2] = val;\r\n        } else\r\n            arr[i++] = val;\r\n\r\n        maxSum = Math.max(maxSum, arr[0] + arr[1] + arr[2]);\r\n    }\r\n\r\n\r\n    return maxSum;\r\n}\r\n```\r\n\r\n**Demo**\r\n\r\n```java\r\nList&lt;Integer&gt; values = List.of(7, 2, 9, 8, 7, 6, 7, 5, 9);\r\nlong maxSum = findThreeConsecutiveSum(values.iterator());\r\nSystem.out.println(maxSum); // 24\r\n```\r\n\r\n  [1]: https://Sliding%20Window%20Algorithm%20Technique","title":"find largest sum of 3 consecutive integers from inputs (Java)","body":"<p><a href=\"https://Sliding%20Window%20Algorithm%20Technique\" rel=\"nofollow noreferrer\">Sliding Window Algorithm Technique</a> is your friend! You can do it with <strong>O(n)</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long findThreeConsecutiveSum(Iterator&lt;Integer&gt; it) {\n    long maxSum = Long.MIN_VALUE;\n    long curSum = 0;\n    Deque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;(4);\n\n    while (it.hasNext()) {\n        int val = it.next();\n\n        curSum += val;\n        deque.addLast(val);\n\n        if (deque.size() == 4) {\n            curSum -= deque.removeFirst();\n        }\n\n        maxSum = Math.max(maxSum, curSum);\n    }\n\n\n    return maxSum;\n}\n</code></pre>\n<p>or in case you can't use <code>Deque</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long findThreeConsecutiveSum(Iterator&lt;Integer&gt; it) {\n    long maxSum = Long.MIN_VALUE;\n    int[] arr = new int[3];\n    int i = 0;\n\n    while (it.hasNext()) {\n        int val = it.next();\n\n        if (i == arr.length) {\n            arr[0] = arr[1];\n            arr[1] = arr[2];\n            arr[2] = val;\n        } else\n            arr[i++] = val;\n\n        maxSum = Math.max(maxSum, arr[0] + arr[1] + arr[2]);\n    }\n\n\n    return maxSum;\n}\n</code></pre>\n<p><strong>Demo</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; values = List.of(7, 2, 9, 8, 7, 6, 7, 5, 9);\nlong maxSum = findThreeConsecutiveSum(values.iterator());\nSystem.out.println(maxSum); // 24\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669271821,"creation_date":1669271821,"answer_id":74556529,"question_id":74555718,"body_markdown":"Since this is homework, I&#39;m not going to write the code.\r\n\r\nLet&#39;s take your example.  I&#39;m assuming that all input values will be positive integers.\r\n\r\n    7 2 9 8 7 6 7 5 9 999\r\n\r\nNow, how would you do this with a pencil and paper?\r\n\r\nYou have to save 3 numbers.  An array would be helpful here, but since you can&#39;t use an array, you can define 3 int values to hold the previous values.  We also define a sum and maxSum.\r\n\r\n    value1 = 0\r\n    value2 = 0\r\n    value3 = 0\r\n    sum = 0\r\n    maxSum = 0\r\n\r\nSo, the first number is 7.  After reading 7, we now have the following on paper.\r\n\r\n    value1 = 7\r\n    value2 = 0\r\n    value3 = 0\r\n    sum = 7\r\n    maxSum = 7\r\n\r\nThe next number is 2.  After reading 2, we now have the following on paper.\r\n\r\n    value1 = 7\r\n    value2 = 2\r\n    value3 = 0\r\n    sum = 9\r\n    maxSum = 9\r\n\r\nThe next number is 9.  After reading 9, we now have the following on paper.\r\n\r\n    value1 = 7\r\n    value2 = 2\r\n    value3 = 9\r\n    sum = 18\r\n    maxSum = 18\r\n\r\nThe next number is 8.  After reading 8, we now have the following on paper.\r\n\r\n    value1 = 2\r\n    value2 = 9\r\n    value3 = 8\r\n    sum = 19\r\n    maxSum = 19\r\n\r\nNotice how the numbers stored in value1 through value3 have shifted.  You keep the last three values.\r\n\r\nYou can work out how reading the rest of the values works using the same method.\r\n\r\nYou walk through the algorithm using a pencil and paper.\r\n","title":"find largest sum of 3 consecutive integers from inputs (Java)","body":"<p>Since this is homework, I'm not going to write the code.</p>\n<p>Let's take your example.  I'm assuming that all input values will be positive integers.</p>\n<pre><code>7 2 9 8 7 6 7 5 9 999\n</code></pre>\n<p>Now, how would you do this with a pencil and paper?</p>\n<p>You have to save 3 numbers.  An array would be helpful here, but since you can't use an array, you can define 3 int values to hold the previous values.  We also define a sum and maxSum.</p>\n<pre><code>value1 = 0\nvalue2 = 0\nvalue3 = 0\nsum = 0\nmaxSum = 0\n</code></pre>\n<p>So, the first number is 7.  After reading 7, we now have the following on paper.</p>\n<pre><code>value1 = 7\nvalue2 = 0\nvalue3 = 0\nsum = 7\nmaxSum = 7\n</code></pre>\n<p>The next number is 2.  After reading 2, we now have the following on paper.</p>\n<pre><code>value1 = 7\nvalue2 = 2\nvalue3 = 0\nsum = 9\nmaxSum = 9\n</code></pre>\n<p>The next number is 9.  After reading 9, we now have the following on paper.</p>\n<pre><code>value1 = 7\nvalue2 = 2\nvalue3 = 9\nsum = 18\nmaxSum = 18\n</code></pre>\n<p>The next number is 8.  After reading 8, we now have the following on paper.</p>\n<pre><code>value1 = 2\nvalue2 = 9\nvalue3 = 8\nsum = 19\nmaxSum = 19\n</code></pre>\n<p>Notice how the numbers stored in value1 through value3 have shifted.  You keep the last three values.</p>\n<p>You can work out how reading the rest of the values works using the same method.</p>\n<p>You walk through the algorithm using a pencil and paper.</p>\n"}],"owner":{"account_id":27030852,"reputation":3,"user_id":20587243,"display_name":"orbarkalifa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1669302613,"accepted_answer_id":74556529,"answer_count":2,"score":-1,"last_activity_date":1669481957,"creation_date":1669264952,"question_id":74555718,"body_markdown":"hey guys I need some help here\r\n\r\nthe goal:\r\ntake input as long is inputs != 999, print greatest sum of 3 consecutive numbers (999 excluded). if less than 3 inputs entered, print all inputs&#39; sum.\r\n\r\ncan&#39;t use arrays\r\n\r\nfor example\r\n\r\n\r\n```7 2 **9 8 7** 6 7 5 9 999 ```\r\n\r\nThe max sum is 24 \r\n\r\nbecause 9+8+7 = 24 (9,8,7 makes the greatest sum of consecutive numbers)\r\n\r\n\r\nthanks\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter numbers followed by 999: &quot;);\r\n\t\tint num=0, sum=0, maxSum=0;\r\n\t\t\r\n\t\twhile (num != 999) {\r\n\t\t\tnum = input.nextInt();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;The max sum is &quot;);\r\n\t\t\r\n\t\tinput.close();\r\n\t}\r\n\r\n}\r\n```\r\n","title":"find largest sum of 3 consecutive integers from inputs (Java)","body":"<p>hey guys I need some help here</p>\n<p>the goal:\ntake input as long is inputs != 999, print greatest sum of 3 consecutive numbers (999 excluded). if less than 3 inputs entered, print all inputs' sum.</p>\n<p>can't use arrays</p>\n<p>for example</p>\n<p><code>7 2 **9 8 7** 6 7 5 9 999 </code></p>\n<p>The max sum is 24</p>\n<p>because 9+8+7 = 24 (9,8,7 makes the greatest sum of consecutive numbers)</p>\n<p>thanks</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        \n        System.out.print(&quot;Please enter numbers followed by 999: &quot;);\n        int num=0, sum=0, maxSum=0;\n        \n        while (num != 999) {\n            num = input.nextInt();\n        }\n        \n        \n        System.out.println(&quot;The max sum is &quot;);\n        \n        input.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669481164,"creation_date":1669481164,"answer_id":74583977,"question_id":74526632,"body_markdown":"You could use a `Processor` to implement this logic:\r\n\r\n    .process( ex -&gt; ex.setProperty(&quot;2n&quot;, ex.getProperty(&quot;n&quot;, Integer.class)*2) )","title":"How to reference an Apache Camel Exchange within a route in Java","body":"<p>You could use a <code>Processor</code> to implement this logic:</p>\n<pre><code>.process( ex -&gt; ex.setProperty(&quot;2n&quot;, ex.getProperty(&quot;n&quot;, Integer.class)*2) )\n</code></pre>\n"}],"owner":{"account_id":8208786,"reputation":1,"user_id":18864255,"display_name":"Kelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669481164,"creation_date":1669081314,"question_id":74526632,"body_markdown":"Within a Camel route I add a property to the Exchange:\r\n\r\n```\r\n.setProperty(&quot;n&quot;, Integer.valueOf(n))\r\n```\r\nfor some `int` `n`.\r\nIf I wanted to later set another property\r\n```\r\n.setProperty(&quot;2n&quot;, 2*[expression that evaluates to n])\r\n```\r\nwith value `2*n`, what would I put in for `[expression that evaluates to n]`?\r\nI want to reference the exchange property `&quot;n&quot;` and not the original `int` `n`.\r\n\r\nI&#39;ve considered using \r\n```\r\nsimple(&quot;${properties:n}&quot;).evaluate([reference to Exchange])\r\n```\r\nbut I don&#39;t know how to reference the Exchange.","title":"How to reference an Apache Camel Exchange within a route in Java","body":"<p>Within a Camel route I add a property to the Exchange:</p>\n<pre><code>.setProperty(&quot;n&quot;, Integer.valueOf(n))\n</code></pre>\n<p>for some <code>int</code> <code>n</code>.\nIf I wanted to later set another property</p>\n<pre><code>.setProperty(&quot;2n&quot;, 2*[expression that evaluates to n])\n</code></pre>\n<p>with value <code>2*n</code>, what would I put in for <code>[expression that evaluates to n]</code>?\nI want to reference the exchange property <code>&quot;n&quot;</code> and not the original <code>int</code> <code>n</code>.</p>\n<p>I've considered using</p>\n<pre><code>simple(&quot;${properties:n}&quot;).evaluate([reference to Exchange])\n</code></pre>\n<p>but I don't know how to reference the Exchange.</p>\n"},{"tags":["java","eclipse","unit-testing","testing","junit"],"answers":[{"tags":[],"owner":{"account_id":19763845,"reputation":11,"user_id":14472339,"display_name":"dixbadix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603023858,"creation_date":1603023858,"answer_id":64413256,"question_id":64135232,"body_markdown":"Because they created and used mutant versions of the Demo.java. Mutant code is a version of the original code with single syntactical change, like &#39;+&#39; is changed to &#39;-&#39;, variable A to variable B, or &#39;&gt;&#39; changed to &#39;&gt;=&#39;.\r\n\r\nEach of these changes can make the code behave differently from the original code and your test script should detect these changes.\r\n\r\nmutant1: -0.020833333333333332 *** Learner did not properly terminate mutant version!  ----- means that your test script passed against a mutant code in which it should not, it means that your test script does not cover much of the possible errors in the code.\r\n\r\nTry: add input combinations using 1,2,3","title":"Eclipse(java testing) - terminate mutant version","body":"<p>Because they created and used mutant versions of the Demo.java. Mutant code is a version of the original code with single syntactical change, like '+' is changed to '-', variable A to variable B, or '&gt;' changed to '&gt;='.</p>\n<p>Each of these changes can make the code behave differently from the original code and your test script should detect these changes.</p>\n<p>mutant1: -0.020833333333333332 *** Learner did not properly terminate mutant version!  ----- means that your test script passed against a mutant code in which it should not, it means that your test script does not cover much of the possible errors in the code.</p>\n<p>Try: add input combinations using 1,2,3</p>\n"},{"tags":[],"owner":{"account_id":13225625,"reputation":11,"user_id":9550793,"display_name":"Milos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669480692,"creation_date":1669480692,"answer_id":74583913,"question_id":64135232,"body_markdown":"This error just means that you didn&#39;t write enough unit tests. &quot;Mutant&quot; is a changed code, which is invalid and which should make some of your unit tests fail. So basically this error message says that tests were executed against invalidly changed code and that all passed. So you should add more test to cover all cases.","title":"Eclipse(java testing) - terminate mutant version","body":"<p>This error just means that you didn't write enough unit tests. &quot;Mutant&quot; is a changed code, which is invalid and which should make some of your unit tests fail. So basically this error message says that tests were executed against invalidly changed code and that all passed. So you should add more test to cover all cases.</p>\n"}],"owner":{"account_id":19627681,"reputation":1,"user_id":14366670,"display_name":"Afshan khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669480692,"creation_date":1601460169,"question_id":64135232,"body_markdown":"I am a learner on the Coursera &quot;Introduction to Software Testing&quot; course. I am submitting my unit test assignment but the grader output on the Coursera site shows me this:\r\n\r\nmutant1: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant10: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant15: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant18: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant2: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant21: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant23: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant25: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant3: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\n\r\n\r\nKindly help! I have to submit the assignment to get a certificate.\r\n\r\n    // Demo.java\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) {\r\n            // Reading from System.in\r\n            Scanner reader = new Scanner(System.in);  \r\n            \r\n            System.out.println(&quot;Enter side 1: &quot;);\r\n            // Scans the next token of the input as an int.\r\n            int side_1 = reader.nextInt();\r\n            \r\n            System.out.println(&quot;Enter side 2: &quot;);\r\n            // Scans the next token of the input as an int.\r\n            int side_2 = reader.nextInt();\r\n            \r\n            System.out.println(&quot;Enter side 3: &quot;);\r\n            // Scans the next token of the input as an int.\r\n            int side_3 = reader.nextInt();\r\n            \r\n            if (isTriangle(side_1, side_2, side_3)) {\r\n                System.out.println(&quot;This is a triangle.&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;This is not a triangle.&quot;);\r\n            }\r\n            \r\n            reader.close();\r\n    \r\n        }\r\n        \r\n        public static boolean isTriangle(double a, double b, double c) {\r\n            if ((a + b &gt; c) &amp;&amp;\r\n                (a + c &gt; b) &amp;&amp; // should be a + c &gt; b\r\n                (b + c &gt; a)) {\r\n                return true; \r\n            }\r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\nthe testing code is:\r\n\r\n    import static org.junit.Assert.*;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class DemoTest {\r\n    \r\n    \t@Test\r\n    \tpublic void triangle_test_1() {\r\n    \t\tassertTrue(Demo.isTriangle(3,2,4));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_2() {\r\n    \t\tassertTrue(Demo.isTriangle(4,3,5));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_3() {\r\n    \t\tassertTrue(Demo.isTriangle(5,3,5));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_4() {\r\n    \t\tassertTrue(Demo.isTriangle(6,4,5));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_5() {\r\n    \t\tassertTrue(Demo.isTriangle(7,5,6));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_6() {\r\n    \t\tassertFalse(Demo.isTriangle(13,2,4));\r\n    \t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_7() {\r\n    \t\tassertFalse(Demo.isTriangle(4,3,15));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_8() {\r\n    \t\tassertFalse(Demo.isTriangle(3,22,4));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_9() {\r\n    \t\tassertFalse(Demo.isTriangle(24,2,5));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_10() {\r\n    \t\tassertFalse(Demo.isTriangle(34,2,4));\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_11() {\r\n    \t\tassertFalse(Demo.isTriangle(2,10,4));\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n","title":"Eclipse(java testing) - terminate mutant version","body":"<p>I am a learner on the Coursera &quot;Introduction to Software Testing&quot; course. I am submitting my unit test assignment but the grader output on the Coursera site shows me this:</p>\n<p>mutant1: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant10: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant15: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant18: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant2: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant21: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant23: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant25: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant3: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***</p>\n<p>Kindly help! I have to submit the assignment to get a certificate.</p>\n<pre><code>// Demo.java\n\nimport java.util.Scanner;\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        // Reading from System.in\n        Scanner reader = new Scanner(System.in);  \n        \n        System.out.println(&quot;Enter side 1: &quot;);\n        // Scans the next token of the input as an int.\n        int side_1 = reader.nextInt();\n        \n        System.out.println(&quot;Enter side 2: &quot;);\n        // Scans the next token of the input as an int.\n        int side_2 = reader.nextInt();\n        \n        System.out.println(&quot;Enter side 3: &quot;);\n        // Scans the next token of the input as an int.\n        int side_3 = reader.nextInt();\n        \n        if (isTriangle(side_1, side_2, side_3)) {\n            System.out.println(&quot;This is a triangle.&quot;);\n        }\n        else {\n            System.out.println(&quot;This is not a triangle.&quot;);\n        }\n        \n        reader.close();\n\n    }\n    \n    public static boolean isTriangle(double a, double b, double c) {\n        if ((a + b &gt; c) &amp;&amp;\n            (a + c &gt; b) &amp;&amp; // should be a + c &gt; b\n            (b + c &gt; a)) {\n            return true; \n        }\n        return false;\n    }\n\n}\n</code></pre>\n<p>the testing code is:</p>\n<pre><code>import static org.junit.Assert.*;\n\nimport org.junit.Test;\n\npublic class DemoTest {\n\n    @Test\n    public void triangle_test_1() {\n        assertTrue(Demo.isTriangle(3,2,4));\n    }\n    \n    @Test\n    public void triangle_test_2() {\n        assertTrue(Demo.isTriangle(4,3,5));\n    }\n    \n    @Test\n    public void triangle_test_3() {\n        assertTrue(Demo.isTriangle(5,3,5));\n    }\n    \n    @Test\n    public void triangle_test_4() {\n        assertTrue(Demo.isTriangle(6,4,5));\n    }\n    \n    @Test\n    public void triangle_test_5() {\n        assertTrue(Demo.isTriangle(7,5,6));\n    }\n    \n    @Test\n    public void triangle_test_6() {\n        assertFalse(Demo.isTriangle(13,2,4));\n    \n    }\n    \n    @Test\n    public void triangle_test_7() {\n        assertFalse(Demo.isTriangle(4,3,15));\n    }\n    \n    @Test\n    public void triangle_test_8() {\n        assertFalse(Demo.isTriangle(3,22,4));\n    }\n    \n    @Test\n    public void triangle_test_9() {\n        assertFalse(Demo.isTriangle(24,2,5));\n    }\n    \n    @Test\n    public void triangle_test_10() {\n        assertFalse(Demo.isTriangle(34,2,4));\n    }\n    \n    \n    @Test\n    public void triangle_test_11() {\n        assertFalse(Demo.isTriangle(2,10,4));\n        \n    }\n    \n    \n\n}\n</code></pre>\n"},{"tags":["java","arraylist","syntax"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479070,"post_id":74583692,"comment_id":131651743,"body_markdown":"&quot;Doesn&#39;t work&quot; doesn&#39;t give us a lot of information - please show expected output, and either actual output or the text of the error you&#39;re getting.","body":"&quot;Doesn&#39;t work&quot; doesn&#39;t give us a lot of information - please show expected output, and either actual output or the text of the error you&#39;re getting."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479217,"post_id":74583692,"comment_id":131651786,"body_markdown":"That said, you&#39;re running this check on *every* element of the list - so if you have `&quot;apples&quot;`, `&quot;bananas&quot;` and `&quot;long pork&quot;` on your list, then when you try to update the calories for `&quot;bananas&quot;` you will also add `&quot;bananas&quot;` to the list twice, as it does not equal `&quot;apples&quot;` or `&quot;long pork&quot;`. (Also, what if `c == 0`?`)","body":"That said, you&#39;re running this check on <i>every</i> element of the list - so if you have <code>&quot;apples&quot;</code>, <code>&quot;bananas&quot;</code> and <code>&quot;long pork&quot;</code> on your list, then when you try to update the calories for <code>&quot;bananas&quot;</code> you will also add <code>&quot;bananas&quot;</code> to the list twice, as it does not equal <code>&quot;apples&quot;</code> or <code>&quot;long pork&quot;</code>. (Also, what if <code>c == 0</code>?`)"},{"owner":{"account_id":26436221,"reputation":15,"user_id":20081540,"display_name":"secretlymaia"},"score":0,"creation_date":1669479344,"post_id":74583692,"comment_id":131651816,"body_markdown":"@EdwardPeters, but doesn&#39;t this only happen if we find the same name in the foodList?","body":"@EdwardPeters, but doesn&#39;t this only happen if we find the same name in the foodList?"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479498,"post_id":74583692,"comment_id":131651847,"body_markdown":"So your first `if` block is checking if the food you&#39;re searching for is the food *at this index*. The other conditions are therefor checked if it is not the food at *this* index, even if it&#39;s the food at some other index.","body":"So your first <code>if</code> block is checking if the food you&#39;re searching for is the food <i>at this index</i>. The other conditions are therefor checked if it is not the food at <i>this</i> index, even if it&#39;s the food at some other index."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1669479532,"post_id":74583692,"comment_id":131651859,"body_markdown":"Your code doesn&#39;t compile. You have one closing brace more than opening braces.","body":"Your code doesn&#39;t compile. You have one closing brace more than opening braces."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479679,"post_id":74583692,"comment_id":131651886,"body_markdown":"This is a variation of a bug I see here pretty often - `for{if...else...}`, where the programmer only intended the `else` block to run if the `if` statement *never* fire.","body":"This is a variation of a bug I see here pretty often - <code>for{if...else...}</code>, where the programmer only intended the <code>else</code> block to run if the <code>if</code> statement <i>never</i> fire."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1669479711,"post_id":74583692,"comment_id":131651894,"body_markdown":"Probably not your immediate problem, but when you add a food F to the list (and set its calories to C)  then you&#39;ll increase the size of the list, and assuming F was added at the end, you&#39;ll encounter F again, thus &#39;updating&#39; its calories again.","body":"Probably not your immediate problem, but when you add a food F to the list (and set its calories to C)  then you&#39;ll increase the size of the list, and assuming F was added at the end, you&#39;ll encounter F again, thus &#39;updating&#39; its calories again."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479827,"post_id":74583692,"comment_id":131651923,"body_markdown":"Oh, right, that&#39;s the other common bug pattern - operating on a list as a whole while from inside a block of code that&#39;s iterating over the list. Usually (not always) operations on individual elements should be nested in your iteration block, and operations on the list as a whole should be arranged sequentially.","body":"Oh, right, that&#39;s the other common bug pattern - operating on a list as a whole while from inside a block of code that&#39;s iterating over the list. Usually (not always) operations on individual elements should be nested in your iteration block, and operations on the list as a whole should be arranged sequentially."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669480430,"creation_date":1669480430,"answer_id":74583886,"question_id":74583692,"body_markdown":"What I suppose your program is intended to do is to look for a food, and do different things depending on whether it&#39;s been seen before.  It may be helpful to consider &#39;look for food&#39; as a separate step.  Here I add a &#39;helper method&#39; to do that.\r\n\r\n    private int findFood(String name) {\r\n        for (int x = 0; x &lt; foodList.size(); x++) {\r\n            if (name.equals(foodList.get(x).getFoodName())) {\r\n                return x;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    \r\n    public String addFood(String name, double cals) {\r\n           int index = findFood(name);\r\n           if (index &gt;= 0) {  // found\r\n                currentFood.updateCalories(cals);\r\n           } else if (cals &gt; 0) {\r\n                foodList.add(new Food(name, cals));\r\n                System.out.println(&quot;Added Food &quot; + name + &quot; with &quot; + cals + &quot; kcal.&quot;);\r\n            } else if (cals &lt; 0) {\r\n                System.out.println(&quot;Negative calories detected. Please try again.&quot;);\r\n            }\r\n        }\r\n\r\nThe overall lessons here are (a) you&#39;re not obliged to cram all the logic into a single method, and (b) breaking the logic down often helps clarify what is going on.\r\n\r\n(The function of &#39;currentFood&#39; seems obscure to me, since it was not modified by anything in your original code.  Should &#39;currentFood&#39; be set to the food found at index &#39;x&#39;?)\r\n","title":"for loop syntax error or if statement syntax error in java?","body":"<p>What I suppose your program is intended to do is to look for a food, and do different things depending on whether it's been seen before.  It may be helpful to consider 'look for food' as a separate step.  Here I add a 'helper method' to do that.</p>\n<pre><code>private int findFood(String name) {\n    for (int x = 0; x &lt; foodList.size(); x++) {\n        if (name.equals(foodList.get(x).getFoodName())) {\n            return x;\n        }\n    }\n    return -1;\n}\n\npublic String addFood(String name, double cals) {\n       int index = findFood(name);\n       if (index &gt;= 0) {  // found\n            currentFood.updateCalories(cals);\n       } else if (cals &gt; 0) {\n            foodList.add(new Food(name, cals));\n            System.out.println(&quot;Added Food &quot; + name + &quot; with &quot; + cals + &quot; kcal.&quot;);\n        } else if (cals &lt; 0) {\n            System.out.println(&quot;Negative calories detected. Please try again.&quot;);\n        }\n    }\n</code></pre>\n<p>The overall lessons here are (a) you're not obliged to cram all the logic into a single method, and (b) breaking the logic down often helps clarify what is going on.</p>\n<p>(The function of 'currentFood' seems obscure to me, since it was not modified by anything in your original code.  Should 'currentFood' be set to the food found at index 'x'?)</p>\n"}],"owner":{"account_id":26436221,"reputation":15,"user_id":20081540,"display_name":"secretlymaia"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1669480654,"accepted_answer_id":74583886,"answer_count":1,"score":-2,"last_activity_date":1669480430,"creation_date":1669478901,"question_id":74583692,"body_markdown":"This a very straight forward problem, but I have this method, and I think nothing is wrong with it, but for some reason it doesn&#39;t work. It compiles, but I expect to get a print out in the cmd that the food is added to the list.This method is only called when you type the word &quot;food,&quot; the name of a food, and a double (calories per serving). Basically, it&#39;s storing the food names and the food calories per servings in an ArrayList called foodList. \r\n\r\nThe first if statement is for the program to check if you&#39;re trying to add a food already added in the list by comparing the food names in the list. If the for loop gets a hit, then it automatically recognizes it as the user wanting to update the calories of the said food. \r\n\r\nThe else if statement checks if c (servings) is equal to 0, which then proceeds to add the food into the list as well as its said calories. \r\n\r\nThe last else statement is self explanatory. If a negative servings is inputed, then it tells the user. \r\n\r\nHowever, upon running the program, the code doesn&#39;t work. Any fixes, or maybe some syntax errors I might have not noticed? Thanks!  \r\n\r\n    public String addFood( String n, double c) {\r\n        for (int x = 0; x &lt; foodList.size(); x++) {\r\n            if (n.equals(foodList.get(x).getFoodName())) {\r\n                currentFood.updateCalories(c);\r\n            } else if (c &gt; 0) {\r\n\t\t\t\tfoodList.add(new Food (n,c));\r\n\t\t\t\tSystem.out.println(&quot;Added Food &quot; + n + &quot; with &quot; + c + &quot; kcal.&quot;);\r\n            } else if (c &lt; 0) {\r\n\t\t\t\tSystem.out.println(&quot;Negative calories detected. Please try again.&quot;);\r\n            }\r\n        }\r\n  return foodName;\r\n    }","title":"for loop syntax error or if statement syntax error in java?","body":"<p>This a very straight forward problem, but I have this method, and I think nothing is wrong with it, but for some reason it doesn't work. It compiles, but I expect to get a print out in the cmd that the food is added to the list.This method is only called when you type the word &quot;food,&quot; the name of a food, and a double (calories per serving). Basically, it's storing the food names and the food calories per servings in an ArrayList called foodList.</p>\n<p>The first if statement is for the program to check if you're trying to add a food already added in the list by comparing the food names in the list. If the for loop gets a hit, then it automatically recognizes it as the user wanting to update the calories of the said food.</p>\n<p>The else if statement checks if c (servings) is equal to 0, which then proceeds to add the food into the list as well as its said calories.</p>\n<p>The last else statement is self explanatory. If a negative servings is inputed, then it tells the user.</p>\n<p>However, upon running the program, the code doesn't work. Any fixes, or maybe some syntax errors I might have not noticed? Thanks!</p>\n<pre><code>public String addFood( String n, double c) {\n    for (int x = 0; x &lt; foodList.size(); x++) {\n        if (n.equals(foodList.get(x).getFoodName())) {\n            currentFood.updateCalories(c);\n        } else if (c &gt; 0) {\n            foodList.add(new Food (n,c));\n            System.out.println(&quot;Added Food &quot; + n + &quot; with &quot; + c + &quot; kcal.&quot;);\n        } else if (c &lt; 0) {\n            System.out.println(&quot;Negative calories detected. Please try again.&quot;);\n        }\n    }\n</code></pre>\n<p>return foodName;\n}</p>\n"},{"tags":["java","apache-camel","seda"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669479730,"creation_date":1669479730,"answer_id":74583802,"question_id":74517498,"body_markdown":"Why not just introduce an intermediary sub-route, so that the onCompletion can reside on top of this (sub) route ?\r\n\r\n    from(&quot;seda:queue-with-multiple-consumers?multipleConsumers=true&quot;)\r\n        ...\r\n        .choice().when(consumerCheckIfEligible())\r\n            .to(&quot;direct:conditionalProcessing&quot;)\r\n            .to(&quot;direct:delegate-to-actual-processing-route&quot;)\r\n        .end();\r\n    \r\n    \r\n    from(&quot;direct:conditionalProcessing&quot;)\r\n        .onCompletion().onCompleteOnly()\r\n                .process(...)\r\n        .end()\r\n        .onCompletion().onFailureOnly()\r\n                .process(...)\r\n        .end()\r\n        .onException(Exception.class)\r\n                .process(...)\r\n        .end();","title":"Apache Camel conditional onCompletion() for specific SEDA consumers with .choice()","body":"<p>Why not just introduce an intermediary sub-route, so that the onCompletion can reside on top of this (sub) route ?</p>\n<pre><code>from(&quot;seda:queue-with-multiple-consumers?multipleConsumers=true&quot;)\n    ...\n    .choice().when(consumerCheckIfEligible())\n        .to(&quot;direct:conditionalProcessing&quot;)\n        .to(&quot;direct:delegate-to-actual-processing-route&quot;)\n    .end();\n\n\nfrom(&quot;direct:conditionalProcessing&quot;)\n    .onCompletion().onCompleteOnly()\n            .process(...)\n    .end()\n    .onCompletion().onFailureOnly()\n            .process(...)\n    .end()\n    .onException(Exception.class)\n            .process(...)\n    .end();\n</code></pre>\n"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669479730,"creation_date":1669026681,"question_id":74517498,"body_markdown":"I have **multiple consumers** connected to a **SEDA queue**, and **every consumer decides for itself** if he handles the event or not using a **choice-when**.\r\n\r\nEach consumer should react on completion and on failure of the whole process through every route that follows.\r\n\r\n```\r\n//this exists in a super class and is inherited multiple times\r\nfrom(&quot;seda:queue-with-multiple-consumers?multipleConsumers=true&quot;)\r\n    .routeId(&quot;id-of-some-consumer-1&quot;) //will be set per consumer\r\n    .choice().when(consumerCheckIfEligible())\r\n        .onCompletion().onCompleteOnly()\r\n            .process(exchange -&gt; {\r\n                //should be triggered if direct:delegate-to-actual-processing-route succeeds\r\n                log.info(&quot;onCompletion().onCompleteOnly()&quot;);\r\n            })\r\n        .end()\r\n        \r\n        .onCompletion().onFailureOnly()\r\n            .process(exchange -&gt; {\r\n                //should be triggered if direct:delegate-to-actual-processing-route fails\r\n                log.info(&quot;onCompletion().onFailureOnly()&quot;);\r\n            })\r\n        .end()\r\n\r\n        .onException(Exception.class)\r\n            .process(e -&gt; {\r\n                //should be triggered if direct:delegate-to-actual-processing-route fails\r\n                log.info(&quot;onException(Exception.class)&quot;);\r\n            })\r\n        .end()\r\n\r\n        .to(&quot;direct:delegate-to-actual-processing-route&quot;)\r\n\r\n    .end()    \r\n```\r\n\r\n\r\nHowever, Apache Camel won&#39;t tolerate the onCompletion() hooks anywhere but at the top\r\nand produces this error:\r\n\r\n```\r\n java.lang.IllegalArgumentException: The output must be added as top-level on the route. Try moving onCompletion[[]] to the top of route.\r\n\tat org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:212)\r\n\tat org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:58)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\r\n\tat com.my.project.Application.main(Application.java:37)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalArgumentException: The output must be added as top-level on the route. Try moving onCompletion[[]] to the top of route.\r\n\tat org.apache.camel.model.ProcessorDefinition.addOutput(ProcessorDefinition.java:206)\r\n\tat org.apache.camel.model.ChoiceDefinition.addOutput(ChoiceDefinition.java:151)\r\n\tat org.apache.camel.model.ProcessorDefinition.onCompletion(ProcessorDefinition.java:3639)\r\n\tat com.my.project.webhook.camel.CamelFileReceiver.configure(CamelFileReceiver.java:114)\r\n\tat org.apache.camel.builder.RouteBuilder.checkInitialized(RouteBuilder.java:672)\r\n\tat org.apache.camel.builder.RouteBuilder.configureRoutes(RouteBuilder.java:618)\r\n\tat org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:554)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.addRoutes(AbstractCamelContext.java:1178)\r\n\tat org.apache.camel.main.RoutesConfigurer.addDiscoveredRoutes(RoutesConfigurer.java:237)\r\n\tat org.apache.camel.main.RoutesConfigurer.configureRoutes(RoutesConfigurer.java:212)\r\n\tat org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:106)\r\n\t... 19 common frames omitted\r\n```\r\n\r\nHow can I get around the **The output must be added as top-level on the route** error and use the **onCompletion() / onException() hooks conditionally?**","title":"Apache Camel conditional onCompletion() for specific SEDA consumers with .choice()","body":"<p>I have <strong>multiple consumers</strong> connected to a <strong>SEDA queue</strong>, and <strong>every consumer decides for itself</strong> if he handles the event or not using a <strong>choice-when</strong>.</p>\n<p>Each consumer should react on completion and on failure of the whole process through every route that follows.</p>\n<pre><code>//this exists in a super class and is inherited multiple times\nfrom(&quot;seda:queue-with-multiple-consumers?multipleConsumers=true&quot;)\n    .routeId(&quot;id-of-some-consumer-1&quot;) //will be set per consumer\n    .choice().when(consumerCheckIfEligible())\n        .onCompletion().onCompleteOnly()\n            .process(exchange -&gt; {\n                //should be triggered if direct:delegate-to-actual-processing-route succeeds\n                log.info(&quot;onCompletion().onCompleteOnly()&quot;);\n            })\n        .end()\n        \n        .onCompletion().onFailureOnly()\n            .process(exchange -&gt; {\n                //should be triggered if direct:delegate-to-actual-processing-route fails\n                log.info(&quot;onCompletion().onFailureOnly()&quot;);\n            })\n        .end()\n\n        .onException(Exception.class)\n            .process(e -&gt; {\n                //should be triggered if direct:delegate-to-actual-processing-route fails\n                log.info(&quot;onException(Exception.class)&quot;);\n            })\n        .end()\n\n        .to(&quot;direct:delegate-to-actual-processing-route&quot;)\n\n    .end()    \n</code></pre>\n<p>However, Apache Camel won't tolerate the onCompletion() hooks anywhere but at the top\nand produces this error:</p>\n<pre><code> java.lang.IllegalArgumentException: The output must be added as top-level on the route. Try moving onCompletion[[]] to the top of route.\n    at org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:212)\n    at org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:58)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\n    at com.my.project.Application.main(Application.java:37)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalArgumentException: The output must be added as top-level on the route. Try moving onCompletion[[]] to the top of route.\n    at org.apache.camel.model.ProcessorDefinition.addOutput(ProcessorDefinition.java:206)\n    at org.apache.camel.model.ChoiceDefinition.addOutput(ChoiceDefinition.java:151)\n    at org.apache.camel.model.ProcessorDefinition.onCompletion(ProcessorDefinition.java:3639)\n    at com.my.project.webhook.camel.CamelFileReceiver.configure(CamelFileReceiver.java:114)\n    at org.apache.camel.builder.RouteBuilder.checkInitialized(RouteBuilder.java:672)\n    at org.apache.camel.builder.RouteBuilder.configureRoutes(RouteBuilder.java:618)\n    at org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:554)\n    at org.apache.camel.impl.engine.AbstractCamelContext.addRoutes(AbstractCamelContext.java:1178)\n    at org.apache.camel.main.RoutesConfigurer.addDiscoveredRoutes(RoutesConfigurer.java:237)\n    at org.apache.camel.main.RoutesConfigurer.configureRoutes(RoutesConfigurer.java:212)\n    at org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:106)\n    ... 19 common frames omitted\n</code></pre>\n<p>How can I get around the <strong>The output must be added as top-level on the route</strong> error and use the <strong>onCompletion() / onException() hooks conditionally?</strong></p>\n"},{"tags":["java","android","mediametadataretriever"],"answers":[{"tags":[],"owner":{"account_id":24379425,"reputation":11,"user_id":18311243,"display_name":"nomocs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645817958,"creation_date":1645817958,"answer_id":71270953,"question_id":71269938,"body_markdown":"To get the frames with getFrameeAtTime() youd have to know the time of every frame in the video. You could roughly calculate that if u already know the frame count by getting the frametime (duration/frames), taking the math.ceil() method on that and taking that as your incrementor. however, youd have to check if the last frame gets read since u can&#39;t always get the exact frame time, bc they tend to have alot of decimal places wich can lead to wrong representation as float.\r\nA 60fps video for example would have a frame time of 16+1/3 ms. Wich has infinite deecimal places.\r\nIn addition this method wouldn&#39;t even work at all if you have a video with too high fps since in that case the round up done by math.ceil() can lead to a big enough margin to skip frames.\r\nTo be precise this method only works if:\r\n\r\n*(math.ceil(frameTime)-frameTime)⋅frameCount&lt;frameTime*\r\n\r\n\r\nI hope, by now u got that it&#39;s a pretty bad idea and u should probably use another way to get the individual frames.\r\nBut still, heres an implementation:\r\n\r\n    int lastTime;\r\n    long mVideoDuration = 9000;\r\n    mVideoDuration*=1000;\r\n    int frameTime=math.ceil(mVideoDuration/frameCount)\r\n    for(int i =0, i&lt;=mVideoDuration, i+=frameTime){\r\n        Bitmap thumbnail = mMediaMetadataRetriever.getFrameAtTime(i);\r\n        lastTime=i;\r\n    }\r\n    if (lastTime&lt;mVideoDuration){\r\n       mMediaMetadataRetriever.getFrameAtTime(mVideoDuration);\r\n    }\r\n\r\nOf couse this is already assuming that,\r\n\r\n*(math.ceil(frameTime)-frameTime)⋅frameCount&lt;frameTime*\r\n\r\nis given.\r\nAnd i can&#39;t guarantee that the declaframeTime will result the correct value since i dont know exactly how decimal dividing is handleed internally and its entirely possible that is causes problems due to floating point overflow\r\n","title":"Get all frames from video using MediaMetadataRetriever","body":"<p>To get the frames with getFrameeAtTime() youd have to know the time of every frame in the video. You could roughly calculate that if u already know the frame count by getting the frametime (duration/frames), taking the math.ceil() method on that and taking that as your incrementor. however, youd have to check if the last frame gets read since u can't always get the exact frame time, bc they tend to have alot of decimal places wich can lead to wrong representation as float.\nA 60fps video for example would have a frame time of 16+1/3 ms. Wich has infinite deecimal places.\nIn addition this method wouldn't even work at all if you have a video with too high fps since in that case the round up done by math.ceil() can lead to a big enough margin to skip frames.\nTo be precise this method only works if:</p>\n<p><em>(math.ceil(frameTime)-frameTime)⋅frameCount&lt;frameTime</em></p>\n<p>I hope, by now u got that it's a pretty bad idea and u should probably use another way to get the individual frames.\nBut still, heres an implementation:</p>\n<pre><code>int lastTime;\nlong mVideoDuration = 9000;\nmVideoDuration*=1000;\nint frameTime=math.ceil(mVideoDuration/frameCount)\nfor(int i =0, i&lt;=mVideoDuration, i+=frameTime){\n    Bitmap thumbnail = mMediaMetadataRetriever.getFrameAtTime(i);\n    lastTime=i;\n}\nif (lastTime&lt;mVideoDuration){\n   mMediaMetadataRetriever.getFrameAtTime(mVideoDuration);\n}\n</code></pre>\n<p>Of couse this is already assuming that,</p>\n<p><em>(math.ceil(frameTime)-frameTime)⋅frameCount&lt;frameTime</em></p>\n<p>is given.\nAnd i can't guarantee that the declaframeTime will result the correct value since i dont know exactly how decimal dividing is handleed internally and its entirely possible that is causes problems due to floating point overflow</p>\n"},{"tags":[],"owner":{"account_id":7545914,"reputation":135,"user_id":5728971,"display_name":"bashar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669478994,"creation_date":1669478994,"answer_id":74583702,"question_id":71269938,"body_markdown":"you can use `getFramesAtIndex(int frameIndex, int numFrames)` instead of `getFrameAt()`, it will return list of Bitmaps containing the requested video frames.\r\n\r\n&gt; This method is similar to getFramesAtIndex(int, int, MediaMetadataRetriever.BitmapParams) except that the default for MediaMetadataRetriever.BitmapParams will be used.\r\nParams:\r\nframeIndex – 0-based index of the first video frame to retrieve. The frame index must be that of a valid frame. The total number of frames available for retrieval can be queried via the METADATA_KEY_VIDEO_FRAME_COUNT key.\r\nnumFrames – number of consecutive video frames to retrieve. Must be a positive value. The stream must contain at least numFrames frames starting at frameIndex.\r\nReturns:\r\nAn list of Bitmaps containing the requested video frames. The returned array could contain less frames than requested if the retrieval fails.\r\nThrows:\r\nIllegalStateException – if the container doesn&#39;t contain video or image sequences.\r\nIllegalArgumentException – if the frameIndex or numFrames is invalid, or the stream doesn&#39;t contain at least numFrames starting at frameIndex.\r\nSee Also:\r\ngetFrameAtIndex(int, MediaMetadataRetriever.BitmapParams), getFrameAtIndex(int), getFramesAtIndex(int, int, MediaMetadataRetriever.BitmapParams)\r\n\r\nregarding to `numFrames`, you can get number of frames this way:\r\n\r\n\r\n    m_mediaMetadataRetriever = new MediaMetadataRetriever();\r\n    m_mediaMetadataRetriever.setDataSource(getApplicationContext(), your_video_path);\r\n    int numFrames = Integer.parseInt(m_mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_FRAME_COUNT));\r\n\r\n","title":"Get all frames from video using MediaMetadataRetriever","body":"<p>you can use <code>getFramesAtIndex(int frameIndex, int numFrames)</code> instead of <code>getFrameAt()</code>, it will return list of Bitmaps containing the requested video frames.</p>\n<blockquote>\n<p>This method is similar to getFramesAtIndex(int, int, MediaMetadataRetriever.BitmapParams) except that the default for MediaMetadataRetriever.BitmapParams will be used.\nParams:\nframeIndex – 0-based index of the first video frame to retrieve. The frame index must be that of a valid frame. The total number of frames available for retrieval can be queried via the METADATA_KEY_VIDEO_FRAME_COUNT key.\nnumFrames – number of consecutive video frames to retrieve. Must be a positive value. The stream must contain at least numFrames frames starting at frameIndex.\nReturns:\nAn list of Bitmaps containing the requested video frames. The returned array could contain less frames than requested if the retrieval fails.\nThrows:\nIllegalStateException – if the container doesn't contain video or image sequences.\nIllegalArgumentException – if the frameIndex or numFrames is invalid, or the stream doesn't contain at least numFrames starting at frameIndex.\nSee Also:\ngetFrameAtIndex(int, MediaMetadataRetriever.BitmapParams), getFrameAtIndex(int), getFramesAtIndex(int, int, MediaMetadataRetriever.BitmapParams)</p>\n</blockquote>\n<p>regarding to <code>numFrames</code>, you can get number of frames this way:</p>\n<pre><code>m_mediaMetadataRetriever = new MediaMetadataRetriever();\nm_mediaMetadataRetriever.setDataSource(getApplicationContext(), your_video_path);\nint numFrames = Integer.parseInt(m_mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_FRAME_COUNT));\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669478994,"creation_date":1645811963,"question_id":71269938,"body_markdown":"I&#39;m trying to get all frames from a video using `MediaMetadataRetriever` and `getFrameAt()` method.\r\nUsing **FFMPEG**, I&#39;ve got the following information :\r\n\r\n 1. **Video frame counts : 234 frames**\r\n 2. **Video duration in milliseconds : 90000**\r\n\r\n        int counter = 0;\r\n        long mVideoDuration = 9000;\r\n        for (long i = 0; i &lt; mVideoDuration * 1000; i += 1000) {\r\n            Bitmap thumbnail = mMediaMetadataRetriever.getFrameAtTime(i);\r\n        }\r\n\r\nThe above code does not work, it&#39;s loop for almost **8944** times, and this is too much, I don&#39;t want to get all these frames, I just want to get the **234** frames.\r\n\r\n`getFrameAtIndex()` **WORKS VERY WELL**, but due to API level compatibility, I would like to make it work with `getFrameAt()` method","title":"Get all frames from video using MediaMetadataRetriever","body":"<p>I'm trying to get all frames from a video using <code>MediaMetadataRetriever</code> and <code>getFrameAt()</code> method.\nUsing <strong>FFMPEG</strong>, I've got the following information :</p>\n<ol>\n<li><p><strong>Video frame counts : 234 frames</strong></p>\n</li>\n<li><p><strong>Video duration in milliseconds : 90000</strong></p>\n<pre><code>int counter = 0;\nlong mVideoDuration = 9000;\nfor (long i = 0; i &lt; mVideoDuration * 1000; i += 1000) {\n    Bitmap thumbnail = mMediaMetadataRetriever.getFrameAtTime(i);\n}\n</code></pre>\n</li>\n</ol>\n<p>The above code does not work, it's loop for almost <strong>8944</strong> times, and this is too much, I don't want to get all these frames, I just want to get the <strong>234</strong> frames.</p>\n<p><code>getFrameAtIndex()</code> <strong>WORKS VERY WELL</strong>, but due to API level compatibility, I would like to make it work with <code>getFrameAt()</code> method</p>\n"},{"tags":["java","multithreading","swing","keylistener"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669471750,"post_id":74582844,"comment_id":131650318,"body_markdown":"You don&#39;t use threads for this type of Swing animation, not directly. You should be using Swing Timers instead which uses background threading in a Swing-thread-safe manner.","body":"You don&#39;t use threads for this type of Swing animation, not directly. You should be using Swing Timers instead which uses background threading in a Swing-thread-safe manner."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669473011,"post_id":74582844,"comment_id":131650509,"body_markdown":"Any of the answers to this question, [How to make an image move while listening to a keypress in Java](https://stackoverflow.com/questions/6887296/how-to-make-an-image-move-while-listening-to-a-keypress-in-java) can be used to move two sprites independently of each other. Note that the answers use key-bindings which are much preferred compared to using key listeners.","body":"Any of the answers to this question, <a href=\"https://stackoverflow.com/questions/6887296/how-to-make-an-image-move-while-listening-to-a-keypress-in-java\">How to make an image move while listening to a keypress in Java</a> can be used to move two sprites independently of each other. Note that the answers use key-bindings which are much preferred compared to using key listeners."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1669476609,"post_id":74582844,"comment_id":131651197,"body_markdown":"Swing is a GUI.  GUIs tend to be event-driven. This means that everything we do is not being done in a long-running thread, it is done as a response to an event. &quot;Key Pressed&quot; is such an event.","body":"Swing is a GUI.  GUIs tend to be event-driven. This means that everything we do is not being done in a long-running thread, it is done as a response to an event. &quot;Key Pressed&quot; is such an event."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669478108,"post_id":74582844,"comment_id":131651536,"body_markdown":"@MikeNakis: while I agree with what you state above, if a sprite is moved only on keypress, then its speed and behavior is dependent on the OS, which usually means that the sprite will move one delta on initial keypress followed by a delay and then will continue to move further if the keypress is held. In order to avoid the initial delay and in order to better control sprite animation speed, and also to allow continuous motion that changes direction based on keypress, better to use a Swing Timer to control the animation. The keypress can start and stop the timer and can control direction.","body":"@MikeNakis: while I agree with what you state above, if a sprite is moved only on keypress, then its speed and behavior is dependent on the OS, which usually means that the sprite will move one delta on initial keypress followed by a delay and then will continue to move further if the keypress is held. In order to avoid the initial delay and in order to better control sprite animation speed, and also to allow continuous motion that changes direction based on keypress, better to use a Swing Timer to control the animation. The keypress can start and stop the timer and can control direction."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1669479650,"post_id":74582844,"comment_id":131651883,"body_markdown":"@HovercraftFullOfEels of course this is all true. But a) it still requires first responding to the events, so all of what you have written can be thought of as improvements, and b) I would be willing to bet that Taher Afsar will already have a very high sense of accomplishment if he/she manages to just handle the events.","body":"@HovercraftFullOfEels of course this is all true. But a) it still requires first responding to the events, so all of what you have written can be thought of as improvements, and b) I would be willing to bet that Taher Afsar will already have a very high sense of accomplishment if he/she manages to just handle the events."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669478776,"creation_date":1669478776,"answer_id":74583679,"question_id":74582844,"body_markdown":"To make several character move simultaneously you do not need threading at all. What you need is a game loop, which\r\n\r\n- checks events\r\n- calculates the world\r\n- renders the world\r\n\r\nIf you know there are two characters, it means when checking the events you need to figure out player controls for two characters. When you calculate the world, you need to figure out new positions for both of the characters.\r\nAnd finally render everything so the user can see the new world.\r\nThis needs to be repeated fast enough to have a smooth movement.","title":"How do I run 2 functions simultaneously using thread","body":"<p>To make several character move simultaneously you do not need threading at all. What you need is a game loop, which</p>\n<ul>\n<li>checks events</li>\n<li>calculates the world</li>\n<li>renders the world</li>\n</ul>\n<p>If you know there are two characters, it means when checking the events you need to figure out player controls for two characters. When you calculate the world, you need to figure out new positions for both of the characters.\nAnd finally render everything so the user can see the new world.\nThis needs to be repeated fast enough to have a smooth movement.</p>\n"}],"owner":{"account_id":23197891,"reputation":1,"user_id":17293236,"display_name":"Taher Afsar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669478776,"creation_date":1669471566,"question_id":74582844,"body_markdown":"I want to move 2  characters simultaneously on screen when their respective keys are pressed.\r\n\r\n\r\nI am making a java swing game. Wherein I want take inputs from 2 players using &quot;AWSD&quot; and another using &quot;up down right left arrow&quot; . I  want both the character to move simultaneously when pressed their respective keys.I thought of making 2 threads and calling them everytime the key is pressed, but isn&#39;t working as expected. Any Solutions?","title":"How do I run 2 functions simultaneously using thread","body":"<p>I want to move 2  characters simultaneously on screen when their respective keys are pressed.</p>\n<p>I am making a java swing game. Wherein I want take inputs from 2 players using &quot;AWSD&quot; and another using &quot;up down right left arrow&quot; . I  want both the character to move simultaneously when pressed their respective keys.I thought of making 2 threads and calling them everytime the key is pressed, but isn't working as expected. Any Solutions?</p>\n"},{"tags":["java","swing","command"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669476665,"post_id":74583363,"comment_id":131651213,"body_markdown":"It&#39;s not Java that controls the terminal. There are broadly two ways of running a java app: A. open terminal and enter commands and B. double-click an app to start. Now, it&#39;s down to your OS and desktop environment as to whether you see a terminal in scenario B. It&#39;s not up to Java and it knows nothing about it.\nNow, if you get your terminal, the Java code you describe is non-trivial. If you want to run arbitrary commands and app *via* Java (I&#39;m not sure why you wouldn&#39;t do that directly at the terminal) then it&#39;s actually quite tricky to ensure that it always work. Depends on what&#39;s run","body":"It&#39;s not Java that controls the terminal. There are broadly two ways of running a java app: A. open terminal and enter commands and B. double-click an app to start. Now, it&#39;s down to your OS and desktop environment as to whether you see a terminal in scenario B. It&#39;s not up to Java and it knows nothing about it. Now, if you get your terminal, the Java code you describe is non-trivial. If you want to run arbitrary commands and app <i>via</i> Java (I&#39;m not sure why you wouldn&#39;t do that directly at the terminal) then it&#39;s actually quite tricky to ensure that it always work. Depends on what&#39;s run"},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":1,"creation_date":1669478776,"post_id":74583363,"comment_id":131651688,"body_markdown":"Perhaps this question will be useful for MacOS: https://superuser.com/q/174576","body":"Perhaps this question will be useful for MacOS: <a href=\"https://superuser.com/q/174576\">superuser.com/q/174576</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669478235,"creation_date":1669477914,"answer_id":74583583,"question_id":74583363,"body_markdown":"In your example the process might get stuck as you are not reading it&#39;s stdout and stderr streams. From the [Process documentation][1]:\r\n\r\n*Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the process may cause the process to block, or even deadlock.* \r\n\r\nSo essentially you are just asking how to execute a process from Java. It is irrelevant that to the user your program would display a terminal-like UI. Knowing this we could rephrase your question and find answers like\r\n\r\n- https://stackoverflow.com/questions/3774432/starting-a-process-in-java\r\n- https://stackoverflow.com/questions/24814966/java-execute-a-bash-script-using-java-process-builder\r\n- https://stackoverflow.com/questions/18655538/execute-process-from-java-irrespective-of-underlying-os\r\n- https://stackoverflow.com/questions/45050390/java-processbuilder-get-output-immediately\r\n- https://alvinalexander.com/java/java-exec-processbuilder-process-1/\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html","title":"How do i launch a GUI Terminal and run commands on it in java","body":"<p>In your example the process might get stuck as you are not reading it's stdout and stderr streams. From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html\" rel=\"nofollow noreferrer\">Process documentation</a>:</p>\n<p><em>Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the process may cause the process to block, or even deadlock.</em></p>\n<p>So essentially you are just asking how to execute a process from Java. It is irrelevant that to the user your program would display a terminal-like UI. Knowing this we could rephrase your question and find answers like</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3774432/starting-a-process-in-java\">Starting a process in Java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24814966/java-execute-a-bash-script-using-java-process-builder\">Java Execute a bash script using Java process builder</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18655538/execute-process-from-java-irrespective-of-underlying-os\">Execute process from Java irrespective of underlying OS</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45050390/java-processbuilder-get-output-immediately\">Java ProcessBuilder - get Output immediately</a></li>\n<li><a href=\"https://alvinalexander.com/java/java-exec-processbuilder-process-1/\" rel=\"nofollow noreferrer\">https://alvinalexander.com/java/java-exec-processbuilder-process-1/</a></li>\n</ul>\n"}],"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669478235,"creation_date":1669475826,"question_id":74583363,"body_markdown":"I have a program which runs when you double click it. What i want to do is:\r\n\r\nDouble click a jar File\r\n\r\n![enter image description here](https://i.stack.imgur.com/Nj2cu.png) \\\r\nLaunch some GUI\r\n[![enter image description here](https://i.stack.imgur.com/adhUw.png)](https://i.stack.imgur.com/adhUw.png)\r\nAnd Run Commands in the terminal through the  java program\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6rY8V.png)](https://i.stack.imgur.com/6rY8V.png)\r\n\r\n(just an example, this is not what i want to do)\r\n\r\nI Tried this:\r\n\r\n```java\r\npublic class Main{\r\n    public static void main(String [] args){\r\n        Runtime.getRuntime().exec(&quot;/bin/bash sudo SOME_COMMAND_HERE&quot;);\r\n    }\r\n}\r\n```\r\n\r\n(`SOME_COMMAND_HERE` is just a replacement)\r\n\r\nIt didn&#39;t launch a terminal.\r\n\r\n(i have the GUI part so no need to write code for that)\r\n\r\nSo how do i do this? I have been spending a past day or two for just finding answers on stack overflow, and intense googling.\r\nPlus the Reason why i need it is because i want to show the user some progress and entering the password when running sudo commands.\r\n\r\nCan some Please help? Thanks in advance.","title":"How do i launch a GUI Terminal and run commands on it in java","body":"<p>I have a program which runs when you double click it. What i want to do is:</p>\n<p>Double click a jar File</p>\n<p><img src=\"https://i.stack.imgur.com/Nj2cu.png\" alt=\"enter image description here\" /> <br />\nLaunch some GUI\n<a href=\"https://i.stack.imgur.com/adhUw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/adhUw.png\" alt=\"enter image description here\" /></a>\nAnd Run Commands in the terminal through the  java program</p>\n<p><a href=\"https://i.stack.imgur.com/6rY8V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rY8V.png\" alt=\"enter image description here\" /></a></p>\n<p>(just an example, this is not what i want to do)</p>\n<p>I Tried this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main{\n    public static void main(String [] args){\n        Runtime.getRuntime().exec(&quot;/bin/bash sudo SOME_COMMAND_HERE&quot;);\n    }\n}\n</code></pre>\n<p>(<code>SOME_COMMAND_HERE</code> is just a replacement)</p>\n<p>It didn't launch a terminal.</p>\n<p>(i have the GUI part so no need to write code for that)</p>\n<p>So how do i do this? I have been spending a past day or two for just finding answers on stack overflow, and intense googling.\nPlus the Reason why i need it is because i want to show the user some progress and entering the password when running sudo commands.</p>\n<p>Can some Please help? Thanks in advance.</p>\n"},{"tags":["java","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1669227537,"post_id":74550707,"comment_id":131599124,"body_markdown":"&quot;it doesn&#39;t work&quot; is really hard to help with. I recommend debugging the problem locally, and then telling us the results of that. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"&quot;it doesn&#39;t work&quot; is really hard to help with. I recommend debugging the problem locally, and then telling us the results of that. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"score":0,"creation_date":1669231896,"post_id":74550707,"comment_id":131600378,"body_markdown":"When I say it doesn&#39;t work I mean that I can&#39;t register a user, it doesn&#39;t say anything it just doesn&#39;t do it.","body":"When I say it doesn&#39;t work I mean that I can&#39;t register a user, it doesn&#39;t say anything it just doesn&#39;t do it."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1669233757,"post_id":74550707,"comment_id":131600862,"body_markdown":"Please debug the problem in the step-by-step way that I described, and share the result of *that*.","body":"Please debug the problem in the step-by-step way that I described, and share the result of <i>that</i>."},{"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"score":0,"creation_date":1669291227,"post_id":74550707,"comment_id":131614068,"body_markdown":"I have added a picture of the debugger output","body":"I have added a picture of the debugger output"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1669305609,"post_id":74550707,"comment_id":131619014,"body_markdown":"You say &quot;The problem is in the first: `if(task.isComplete()){}`&quot;, but there is no `task.isComplete()` in the code you shared.","body":"You say &quot;The problem is in the first: <code>if(task.isComplete()){}</code>&quot;, but there is no <code>task.isComplete()</code> in the code you shared."},{"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"score":0,"creation_date":1669452462,"post_id":74550707,"comment_id":131647272,"body_markdown":"yeah sorry i meant the first if(task is.Successfull())","body":"yeah sorry i meant the first if(task is.Successfull())"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669477033,"creation_date":1669477033,"answer_id":74583497,"question_id":74550707,"body_markdown":"If a task fails it contains an exception with information about why it failed. You should log that exception, to find out the root cause of the problem:\r\n\r\n```\r\nmAuth.createUserWithEmailAndPassword(email,password)\r\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            //if the user has been registered\r\n            if(task.isSuccessful()){\r\n                ...\r\n            } else {\r\n                // &#128071;\r\n                Log.e(&quot;AUTH&quot;, &quot;createUserWithEmailAndPassword failed&quot;, task.getException());\r\n                ...\r\n            }\r\n        }\r\n    });\r\n```","title":"Firebase adding user prublem -- JAVA","body":"<p>If a task fails it contains an exception with information about why it failed. You should log that exception, to find out the root cause of the problem:</p>\n<pre><code>mAuth.createUserWithEmailAndPassword(email,password)\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n            //if the user has been registered\n            if(task.isSuccessful()){\n                ...\n            } else {\n                // 👇\n                Log.e(&quot;AUTH&quot;, &quot;createUserWithEmailAndPassword failed&quot;, task.getException());\n                ...\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74583497,"answer_count":1,"score":0,"last_activity_date":1669477033,"creation_date":1669223783,"question_id":74550707,"body_markdown":"Hi this is my first time using Android Studio and databases in general, I can&#39;t connect my app to the DB. In the DB i have set .write and .read to &quot;true&quot; for both of them:\r\n\r\n    {\r\n    &quot;rules&quot;: {\r\n    &quot;.read&quot;: &quot;true&quot;, //&quot;now &lt; 1671750000000&quot;, // 2022-12-23\r\n    &quot;.write&quot;:&quot;true&quot; // &quot;now &lt; 1671750000000&quot;, // 2022-12-23\r\n      }\r\n    }\r\nBut Whenever I try to register a user it doesn&#39;t work. \r\nThis is my code in JAVA in case it helps:\r\n```\r\n    //DATABASE\r\n//Checking if the user is already registered\r\nmAuth.createUserWithEmailAndPassword(email,password)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                //if the user has been registered\r\n                if(task.isSuccessful()){\r\n                    User user = new User(fullname, age, email);\r\n\r\n                    //sending the user to the DATABASE\r\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid()) //This will return the ID of the Registered User\r\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    //If the user has been registered and has been inserted into the DB\r\n                                    if(task.isSuccessful()){\r\n                                        Toast.makeText(registerUser.this, &quot;El usuario se ha registrado.&quot;, Toast.LENGTH_LONG).show();\r\n                                        pBprogressbar.setVisibility(View.GONE);\r\n                                    }\r\n                                    //if the user doesn&#39;t register\r\n                                    else{\r\n                                        Toast.makeText(registerUser.this, &quot;Ha habido un fallo en el registro&quot;, Toast.LENGTH_LONG).show();\r\n                                        pBprogressbar.setVisibility(View.GONE);\r\n                                    }\r\n                                }\r\n                            });\r\n                } else {\r\n                    Toast.makeText(registerUser.this, &quot;Ha habido un fallo en el registro&quot;, Toast.LENGTH_LONG).show();\r\n                    pBprogressbar.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nI have run the Debugger on it and this is what it comes out:\r\n[![enter image description here][1]][1]\r\n\r\nBut this is my User constructor:\r\n\r\n    package com.example.kmeco;\r\n//So we store the user information in the object. And then we send it to FIREBASE\r\npublic class User {\r\n    public String fullName, age, email;\r\n\r\n    //Creating two constructors\r\n    //First one is an empty public constructor that doesn&#39;t accept or return anything\r\n    public User(){\r\n\r\n    }\r\n    //Second constructor\r\n    public User(String fullName, String age, String email){\r\n        //initializing values\r\n        this.fullName = fullName;\r\n        this.age = age;\r\n        this.email = email;\r\n    }\r\n}\r\n\r\n\r\nThe problem is in the first:\r\n\r\n    if(task isSuccessful())\r\n\r\nAnd I don&#39;t know why it doesn&#39;t read it,\r\n\r\nI would appreciate any help\r\n\r\n  [1]: https://i.stack.imgur.com/qEq02.jpg","title":"Firebase adding user prublem -- JAVA","body":"<p>Hi this is my first time using Android Studio and databases in general, I can't connect my app to the DB. In the DB i have set .write and .read to &quot;true&quot; for both of them:</p>\n<pre><code>{\n&quot;rules&quot;: {\n&quot;.read&quot;: &quot;true&quot;, //&quot;now &lt; 1671750000000&quot;, // 2022-12-23\n&quot;.write&quot;:&quot;true&quot; // &quot;now &lt; 1671750000000&quot;, // 2022-12-23\n  }\n}\n</code></pre>\n<p>But Whenever I try to register a user it doesn't work.\nThis is my code in JAVA in case it helps:</p>\n<pre><code>    //DATABASE\n//Checking if the user is already registered\nmAuth.createUserWithEmailAndPassword(email,password)\n        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                //if the user has been registered\n                if(task.isSuccessful()){\n                    User user = new User(fullname, age, email);\n\n                    //sending the user to the DATABASE\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid()) //This will return the ID of the Registered User\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    //If the user has been registered and has been inserted into the DB\n                                    if(task.isSuccessful()){\n                                        Toast.makeText(registerUser.this, &quot;El usuario se ha registrado.&quot;, Toast.LENGTH_LONG).show();\n                                        pBprogressbar.setVisibility(View.GONE);\n                                    }\n                                    //if the user doesn't register\n                                    else{\n                                        Toast.makeText(registerUser.this, &quot;Ha habido un fallo en el registro&quot;, Toast.LENGTH_LONG).show();\n                                        pBprogressbar.setVisibility(View.GONE);\n                                    }\n                                }\n                            });\n                } else {\n                    Toast.makeText(registerUser.this, &quot;Ha habido un fallo en el registro&quot;, Toast.LENGTH_LONG).show();\n                    pBprogressbar.setVisibility(View.GONE);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I have run the Debugger on it and this is what it comes out:\n<a href=\"https://i.stack.imgur.com/qEq02.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qEq02.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But this is my User constructor:</p>\n<pre><code>package com.example.kmeco;\n</code></pre>\n<p>//So we store the user information in the object. And then we send it to FIREBASE\npublic class User {\npublic String fullName, age, email;</p>\n<pre><code>//Creating two constructors\n//First one is an empty public constructor that doesn't accept or return anything\npublic User(){\n\n}\n//Second constructor\npublic User(String fullName, String age, String email){\n    //initializing values\n    this.fullName = fullName;\n    this.age = age;\n    this.email = email;\n}\n</code></pre>\n<p>}</p>\n<p>The problem is in the first:</p>\n<pre><code>if(task isSuccessful())\n</code></pre>\n<p>And I don't know why it doesn't read it,</p>\n<p>I would appreciate any help</p>\n"},{"tags":["java","sql","date","netbeans"],"comments":[{"owner":{"account_id":3557648,"reputation":8235,"user_id":2970960,"accept_rate":43,"display_name":"Jai"},"score":0,"creation_date":1573183251,"post_id":58759801,"comment_id":103807174,"body_markdown":"`PreparedStatement.setDate()` expects `java.sql.Date` instead of `java.util.Date`. The former is the subclass of the latter, so passing in a `java.util.Date` wouldn&#39;t work.","body":"<code>PreparedStatement.setDate()</code> expects <code>java.sql.Date</code> instead of <code>java.util.Date</code>. The former is the subclass of the latter, so passing in a <code>java.util.Date</code> wouldn&#39;t work."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1573187742,"post_id":58759801,"comment_id":103808056,"body_markdown":"Re _&quot;It seems that LocalDateTime, Date and Time are depreciated...&quot;_, `LocalDateTime` isn&#39;t deprecated, and there&#39;s nothing wrong with using it, but steer clear of `Date` and `Time` if possible. At the risk of confusing you further, the SO question [Should I use java.util.Date or switch to java.time.LocalDate](https://stackoverflow.com/questions/28730136/should-i-use-java-util-date-or-switch-to-java-time-localdate) has some good answers which provide a lot of detail on this issue. Also see [Migrating to the New Java 8 Date Time API](https://www.baeldung.com/migrating-to-java-8-date-time-api).","body":"Re <i>&quot;It seems that LocalDateTime, Date and Time are depreciated...&quot;</i>, <code>LocalDateTime</code> isn&#39;t deprecated, and there&#39;s nothing wrong with using it, but steer clear of <code>Date</code> and <code>Time</code> if possible. At the risk of confusing you further, the SO question <a href=\"https://stackoverflow.com/questions/28730136/should-i-use-java-util-date-or-switch-to-java-time-localdate\">Should I use java.util.Date or switch to java.time.LocalDate</a> has some good answers which provide a lot of detail on this issue. Also see <a href=\"https://www.baeldung.com/migrating-to-java-8-date-time-api\" rel=\"nofollow noreferrer\">Migrating to the New Java 8 Date Time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1573195001,"post_id":58759801,"comment_id":103809807,"body_markdown":"Related: [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2)","body":"Related: <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1573183101,"creation_date":1573183101,"answer_id":58759873,"question_id":58759801,"body_markdown":"You may use `LocalDateTime` along with `PreparedStatement#setTimestamp()`.  Here is roughly how you would do that:\r\n\r\n    String birthDate = request.getParameter(&quot;data_birthdate&quot;);\r\n    // assuming your text birthdates look like 1980-12-30 00:30:05\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    LocalDateTime dt = LocalDateTime.parse(birthDate, formatter);\r\n\r\n    try {\r\n        connect = db.getConnect();\r\n        ps = connect.prepareStatement(SQL_CreateUser);\r\n        ps.setTimestamp(3, Timestamp.valueOf(dt));\r\n    }\r\n    catch (Exception e) {\r\n        // handle exception\r\n    }\r\n\r\nNote carefully the format mask being used in the call to `DateTimeFormatter#ofPattern`.  You need to replace that with whatever mask actually fits your string dates.","title":"(JAVA) Need to convert DATE to prepared statement for SQL","body":"<p>You may use <code>LocalDateTime</code> along with <code>PreparedStatement#setTimestamp()</code>.  Here is roughly how you would do that:</p>\n\n<pre><code>String birthDate = request.getParameter(\"data_birthdate\");\n// assuming your text birthdates look like 1980-12-30 00:30:05\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nLocalDateTime dt = LocalDateTime.parse(birthDate, formatter);\n\ntry {\n    connect = db.getConnect();\n    ps = connect.prepareStatement(SQL_CreateUser);\n    ps.setTimestamp(3, Timestamp.valueOf(dt));\n}\ncatch (Exception e) {\n    // handle exception\n}\n</code></pre>\n\n<p>Note carefully the format mask being used in the call to <code>DateTimeFormatter#ofPattern</code>.  You need to replace that with whatever mask actually fits your string dates.</p>\n"}],"owner":{"account_id":17010575,"reputation":1009,"user_id":12305676,"display_name":"pensum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58759873,"answer_count":1,"score":3,"last_activity_date":1669476963,"creation_date":1573182475,"question_id":58759801,"body_markdown":"I have been looking and trying solutions provided on the web (and SO) for the last hour on how to use the `Date` type in Java but I can&#39;t seem to get it working. I am using NetBeans 11.2 and I am **not** used to Java and it is giving me a hard time (no pun intended). It seems that `LocalDateTime`, `Date` and `Time` are deprecated and that I should be using `java.time`. \r\n\r\nTo be honest, I don&#39;t know what to do anymore. I am trying to build a query with inputs value to save in `mySQL` database.\r\n\r\nThe source of the Date is from `&lt;input type=&quot;date&quot;&gt;`\r\n\r\n\r\n\r\n**SignIn.java (servlet)** :\r\n```java\r\nString birthDate = request.getParameter(&quot;data_birthdate&quot;);\r\n        \r\nUserDto userDto = null;\r\nUserDao userDao = new UserDao(); \r\n        \r\ntry \r\n{ \r\n// Tried this \r\n    userDto = userDao.CreateUser(LocalDateTime.parse(birthDate));\r\n// Tried that\r\n    userDto = userDao.CreateUser(Date.parse(birthDate));\r\n// Tried this \r\n    userDto = userDao.CreateUser(Time.parse(birthDate));\r\n}\r\n```\r\n**userDao.java (Dao)** : \r\n```java \r\npublic void CreateUser(Date dateBirth) throws SQLException {\r\ntry {\r\n        connect = db.getConnect();\r\n        ps = connect.prepareStatement(SQL_CreateUser);\r\n        ps.setDate(1, dateBirth);\r\n        ps.executeUpdate();\r\n    }\r\n}\r\n```","title":"(JAVA) Need to convert DATE to prepared statement for SQL","body":"<p>I have been looking and trying solutions provided on the web (and SO) for the last hour on how to use the <code>Date</code> type in Java but I can't seem to get it working. I am using NetBeans 11.2 and I am <strong>not</strong> used to Java and it is giving me a hard time (no pun intended). It seems that <code>LocalDateTime</code>, <code>Date</code> and <code>Time</code> are deprecated and that I should be using <code>java.time</code>.</p>\n<p>To be honest, I don't know what to do anymore. I am trying to build a query with inputs value to save in <code>mySQL</code> database.</p>\n<p>The source of the Date is from <code>&lt;input type=&quot;date&quot;&gt;</code></p>\n<p><strong>SignIn.java (servlet)</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String birthDate = request.getParameter(&quot;data_birthdate&quot;);\n        \nUserDto userDto = null;\nUserDao userDao = new UserDao(); \n        \ntry \n{ \n// Tried this \n    userDto = userDao.CreateUser(LocalDateTime.parse(birthDate));\n// Tried that\n    userDto = userDao.CreateUser(Date.parse(birthDate));\n// Tried this \n    userDto = userDao.CreateUser(Time.parse(birthDate));\n}\n</code></pre>\n<p><strong>userDao.java (Dao)</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void CreateUser(Date dateBirth) throws SQLException {\ntry {\n        connect = db.getConnect();\n        ps = connect.prepareStatement(SQL_CreateUser);\n        ps.setDate(1, dateBirth);\n        ps.executeUpdate();\n    }\n}\n</code></pre>\n"},{"tags":["java","graphiql","graphql-schema","spring-graphql"],"owner":{"account_id":13559347,"reputation":196,"user_id":9781655,"display_name":"Oromis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669476631,"creation_date":1669476631,"question_id":74583453,"body_markdown":"I have a GraphQL schema:\r\n\r\n```graphql\r\nenum CustomType {\r\n  Foo\r\n  Bar\r\n}\r\n```\r\n\r\nBut I need to add enum items from my database. For that, I have made a Visitor that modify the schema model during runtime:\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\nclass GraphQlConfig {\r\n\r\n    @Bean\r\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\r\n        return builder -&gt; builder.typeVisitors(List.of(new AssetGraphQlVisitor()));\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\npublic class AssetGraphQlVisitor extends GraphQLTypeVisitorStub {\r\n\r\n    @Override\r\n    public TraversalControl visitGraphQLEnumType(GraphQLEnumType node, TraverserContext&lt;GraphQLSchemaElement&gt; context) {\r\n        GraphQLEnumType returnedNode = node;\r\n        if (node.getName().equals(&quot;CustomType&quot;)) {\r\n            returnedNode = returnedNode\r\n                    .transform(builder -&gt; CustomType.getAll().forEach(type -&gt; builder.value(type.getName())));\r\n        }\r\n        return super.visitGraphQLEnumType(returnedNode, context);\r\n    }\r\n}\r\n```\r\n\r\nThis seems to work well but when I go to my GraphiQL web interface, my custom types aren&#39;t present in the displayed schema...\r\n\r\nHow can I update the schema used by GraphiQL received from Spring GraphQL ?\r\n\r\nThanks!","title":"Dynamically modify GraphQL schema and see updated schema with GraphiQL","body":"<p>I have a GraphQL schema:</p>\n<pre><code>enum CustomType {\n  Foo\n  Bar\n}\n</code></pre>\n<p>But I need to add enum items from my database. For that, I have made a Visitor that modify the schema model during runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\nclass GraphQlConfig {\n\n    @Bean\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\n        return builder -&gt; builder.typeVisitors(List.of(new AssetGraphQlVisitor()));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class AssetGraphQlVisitor extends GraphQLTypeVisitorStub {\n\n    @Override\n    public TraversalControl visitGraphQLEnumType(GraphQLEnumType node, TraverserContext&lt;GraphQLSchemaElement&gt; context) {\n        GraphQLEnumType returnedNode = node;\n        if (node.getName().equals(&quot;CustomType&quot;)) {\n            returnedNode = returnedNode\n                    .transform(builder -&gt; CustomType.getAll().forEach(type -&gt; builder.value(type.getName())));\n        }\n        return super.visitGraphQLEnumType(returnedNode, context);\n    }\n}\n</code></pre>\n<p>This seems to work well but when I go to my GraphiQL web interface, my custom types aren't present in the displayed schema...</p>\n<p>How can I update the schema used by GraphiQL received from Spring GraphQL ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":2,"creation_date":1669474971,"post_id":74582995,"comment_id":131650862,"body_markdown":"Batch writes and transactions don&#39;t care which collections the documents are in. If your code isn&#39;t working, it&#39;s not because of that.","body":"Batch writes and transactions don&#39;t care which collections the documents are in. If your code isn&#39;t working, it&#39;s not because of that."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669475107,"creation_date":1669475107,"answer_id":74583266,"question_id":74582995,"body_markdown":"As Doug commented, there is nothing special that is required to write to multiple collections in a batched write or transaction.\r\n\r\nSo if you&#39;d want to write the same data to another collection int he same batched write, that can be done with:\r\n\r\n    writeBatches.get(batchIndex)\r\n            .update(db.collection(&quot;Monitoring&quot;).document(monitoring.getId()), monitoringMap);\r\n    writeBatches.get(batchIndex)\r\n            .update(db.collection(&quot;AnotherCollection&quot;).document(monitoring.getId()), monitoringMap);\r\n","title":"Multiple collections in 1 batched write firestore","body":"<p>As Doug commented, there is nothing special that is required to write to multiple collections in a batched write or transaction.</p>\n<p>So if you'd want to write the same data to another collection int he same batched write, that can be done with:</p>\n<pre><code>writeBatches.get(batchIndex)\n        .update(db.collection(&quot;Monitoring&quot;).document(monitoring.getId()), monitoringMap);\nwriteBatches.get(batchIndex)\n        .update(db.collection(&quot;AnotherCollection&quot;).document(monitoring.getId()), monitoringMap);\n</code></pre>\n"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669475107,"creation_date":1669472833,"question_id":74582995,"body_markdown":"I want to update documents from multiple collections using 1 batched write in Firestore. How can I achieve this? I&#39;ve seen in Firestore documentation that we can update multiple documents at once using batched write, but how about updating multiple documents in multiple collections at once?\r\n\r\nThis is what I tried so far, but it is not working,\r\n\r\n    //Update in User and Monitoring collections\r\n    List&lt;WriteBatch&gt; writeBatches = new ArrayList&lt;&gt;();\r\n    List&lt;Task&lt;Void&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n    writeBatches.add(db.batch());\r\n    List&lt;DocumentSnapshot&gt; documentSnapshotList = task.getResult().getDocuments();\r\n\r\n    writeBatches.get(batchIndex).update(db.collection(&quot;User&quot;).document(userId), userMap);\r\n    counter++;\r\n\r\n    for(DocumentSnapshot document : documentSnapshotList){\r\n        Monitoring monitoring = document.toObject(Monitoring.class);\r\n\r\n        if(counter == 499){\r\n            tasks.add(writeBatches.get(batchIndex).commit());\r\n            writeBatches.add(db.batch());\r\n            counter = 0;\r\n            batchIndex++;\r\n        }\r\n\r\n        writeBatches.get(batchIndex)\r\n                .update(db.collection(&quot;Monitoring&quot;).document(monitoring.getId()), monitoringMap);\r\n        counter++;\r\n    }\r\n\r\n    Tasks.whenAllSuccess(tasks)\r\n            .addOnCompleteListener(new OnCompleteListener&lt;List&lt;Object&gt;&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;List&lt;Object&gt;&gt; task) {\r\n                    helper.dismissProgressDialog();\r\n\r\n                    if(task.isSuccessful()){\r\n                        Toast.makeText(EditUserDetailsActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                        resetFields();\r\n                        counter = 0;\r\n                        batchIndex = 0;\r\n\r\n                        Intent intentforBackButton = NavUtils.getParentActivityIntent(EditUserDetailsActivity.this);\r\n                        intentforBackButton.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n                        NavUtils.navigateUpTo(EditUserDetailsActivity.this, intentforBackButton);\r\n                    }else{\r\n                        Toast.makeText(EditUserDetailsActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                        Log.e(&quot;App Error&quot;, task.getException().getMessage());\r\n                    }\r\n                }\r\n            });","title":"Multiple collections in 1 batched write firestore","body":"<p>I want to update documents from multiple collections using 1 batched write in Firestore. How can I achieve this? I've seen in Firestore documentation that we can update multiple documents at once using batched write, but how about updating multiple documents in multiple collections at once?</p>\n<p>This is what I tried so far, but it is not working,</p>\n<pre><code>//Update in User and Monitoring collections\nList&lt;WriteBatch&gt; writeBatches = new ArrayList&lt;&gt;();\nList&lt;Task&lt;Void&gt;&gt; tasks = new ArrayList&lt;&gt;();\nwriteBatches.add(db.batch());\nList&lt;DocumentSnapshot&gt; documentSnapshotList = task.getResult().getDocuments();\n\nwriteBatches.get(batchIndex).update(db.collection(&quot;User&quot;).document(userId), userMap);\ncounter++;\n\nfor(DocumentSnapshot document : documentSnapshotList){\n    Monitoring monitoring = document.toObject(Monitoring.class);\n\n    if(counter == 499){\n        tasks.add(writeBatches.get(batchIndex).commit());\n        writeBatches.add(db.batch());\n        counter = 0;\n        batchIndex++;\n    }\n\n    writeBatches.get(batchIndex)\n            .update(db.collection(&quot;Monitoring&quot;).document(monitoring.getId()), monitoringMap);\n    counter++;\n}\n\nTasks.whenAllSuccess(tasks)\n        .addOnCompleteListener(new OnCompleteListener&lt;List&lt;Object&gt;&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;List&lt;Object&gt;&gt; task) {\n                helper.dismissProgressDialog();\n\n                if(task.isSuccessful()){\n                    Toast.makeText(EditUserDetailsActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                    resetFields();\n                    counter = 0;\n                    batchIndex = 0;\n\n                    Intent intentforBackButton = NavUtils.getParentActivityIntent(EditUserDetailsActivity.this);\n                    intentforBackButton.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n                    NavUtils.navigateUpTo(EditUserDetailsActivity.this, intentforBackButton);\n                }else{\n                    Toast.makeText(EditUserDetailsActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                    Log.e(&quot;App Error&quot;, task.getException().getMessage());\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":26771290,"reputation":1,"user_id":20367626,"display_name":"mrguz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669473635,"creation_date":1669473635,"answer_id":74583090,"question_id":74582805,"body_markdown":"It&#39;s because of your program does not compare the first `j` value (which is 0) with itself. Since every value equals itself you can add manually `*` for each line like this.\r\n\r\n    int arr [][] = {{0,4,8,12,13,14,15,18,19,20,21,24,28},\r\n    \t\t       {0,4,7,9,12,16,18,22,25,27},\r\n    \t\t       {0,1,2,3,4,6,10,12,16,18,22,26},\r\n    \t\t       {0,4,6,10,12,13,14,15,18,19,20,21,26},\r\n    \t\t       {0,4,6,7,8,9,10,12,18,26},\r\n    \t\t       {0,4,6,10,12,18,26}};\r\n    \t \r\n    \t \r\n    \t for (int i = 0; i &lt; arr.length; i++)\r\n         {\r\n    \t\t System.out.print(&quot;*&quot;);\r\n    \t\t \r\n             for (int j = 0; j &lt; arr[i].length - 1; j++)\r\n             {\r\n                 for (int spaces = 1; spaces &lt; arr[i][j + 1]-arr[i][j]; spaces++)\r\n                 {\r\n                  System.out.print(&quot; &quot;);\r\n                 }\r\n                 System.out.print(&quot;*&quot;);\r\n             }\r\n             System.out.println();\r\n         }","title":"Printing pattern using Jagged Array","body":"<p>It's because of your program does not compare the first <code>j</code> value (which is 0) with itself. Since every value equals itself you can add manually <code>*</code> for each line like this.</p>\n<pre><code>int arr [][] = {{0,4,8,12,13,14,15,18,19,20,21,24,28},\n               {0,4,7,9,12,16,18,22,25,27},\n               {0,1,2,3,4,6,10,12,16,18,22,26},\n               {0,4,6,10,12,13,14,15,18,19,20,21,26},\n               {0,4,6,7,8,9,10,12,18,26},\n               {0,4,6,10,12,18,26}};\n     \n     \n     for (int i = 0; i &lt; arr.length; i++)\n     {\n         System.out.print(&quot;*&quot;);\n         \n         for (int j = 0; j &lt; arr[i].length - 1; j++)\n         {\n             for (int spaces = 1; spaces &lt; arr[i][j + 1]-arr[i][j]; spaces++)\n             {\n              System.out.print(&quot; &quot;);\n             }\n             System.out.print(&quot;*&quot;);\n         }\n         System.out.println();\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669474954,"creation_date":1669474954,"answer_id":74583242,"question_id":74582805,"body_markdown":"Try this.\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = 0, p = -1; j &lt; arr[i].length; p = arr[i][j++])\r\n                System.out.print(&quot; &quot;.repeat(arr[i][j] - p - 1) + &quot;*&quot;);\r\n            System.out.println();\r\n        }\r\n\r\noutput:\r\n\r\n    *   *   *   ****  ****  *   *\r\n    *   *  * *  *   * *   *  * *\r\n    ***** *   * *   * *   *   *\r\n    *   * *   * ****  ****    *\r\n    *   * ***** *     *       *\r\n    *   * *   * *     *       *\r\n\r\n","title":"Printing pattern using Jagged Array","body":"<p>Try this.</p>\n<pre><code>    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = 0, p = -1; j &lt; arr[i].length; p = arr[i][j++])\n            System.out.print(&quot; &quot;.repeat(arr[i][j] - p - 1) + &quot;*&quot;);\n        System.out.println();\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>*   *   *   ****  ****  *   *\n*   *  * *  *   * *   *  * *\n***** *   * *   * *   *   *\n*   * *   * ****  ****    *\n*   * ***** *     *       *\n*   * *   * *     *       *\n</code></pre>\n"}],"owner":{"account_id":27054259,"reputation":11,"user_id":20607200,"display_name":"JASON REINFRED REYES"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669474954,"creation_date":1669471155,"question_id":74582805,"body_markdown":"Given the jagged Array, we are asked to use a looping statement to display the character based on the position. Display a &quot;*&quot; if the position matched or a &quot; &quot; if it doesn&#39;t.\r\n\r\n```\r\n\t    int arr [][] = {{0,4,8,12,13,14,15,18,19,20,21,24,28},\r\n\t   {0,4,7,9,12,16,18,22,25,27},\r\n\t   {0,1,2,3,4,6,10,12,16,18,22,26},\r\n\t   {0,4,6,10,12,13,14,15,18,19,20,21,26},\r\n\t   {0,4,6,7,8,9,10,12,18,26},\r\n\t   {0,4,6,10,12,18,26}};\r\n\t   \r\n```\r\nI have created a program, but the output is not what I expected and I am now stuck.\r\n\r\n\r\n```\r\n\t  for (int i = 0; i &lt; arr.length; i++)\r\n\t  {\r\n\t      for (int j = 0; j &lt; arr[i].length - 1; j++)\r\n\t      {\r\n\t          for (int spaces = 1; spaces &lt; arr[i][j + 1]-arr[i][j]; spaces++)\r\n\t          {\r\n\t           System.out.print(&quot; &quot;);\r\n\t          }\r\n\t          System.out.print(&quot;*&quot;);\r\n\t      }\r\n\t      System.out.println();\r\n\t  }\r\n\r\n```\r\n\r\n\r\nThe output was suppose to be Happy but I get:\r\n[enter image description here](https://i.stack.imgur.com/2dcIl.png)","title":"Printing pattern using Jagged Array","body":"<p>Given the jagged Array, we are asked to use a looping statement to display the character based on the position. Display a &quot;*&quot; if the position matched or a &quot; &quot; if it doesn't.</p>\n<pre><code>        int arr [][] = {{0,4,8,12,13,14,15,18,19,20,21,24,28},\n       {0,4,7,9,12,16,18,22,25,27},\n       {0,1,2,3,4,6,10,12,16,18,22,26},\n       {0,4,6,10,12,13,14,15,18,19,20,21,26},\n       {0,4,6,7,8,9,10,12,18,26},\n       {0,4,6,10,12,18,26}};\n       \n</code></pre>\n<p>I have created a program, but the output is not what I expected and I am now stuck.</p>\n<pre><code>      for (int i = 0; i &lt; arr.length; i++)\n      {\n          for (int j = 0; j &lt; arr[i].length - 1; j++)\n          {\n              for (int spaces = 1; spaces &lt; arr[i][j + 1]-arr[i][j]; spaces++)\n              {\n               System.out.print(&quot; &quot;);\n              }\n              System.out.print(&quot;*&quot;);\n          }\n          System.out.println();\n      }\n\n</code></pre>\n<p>The output was suppose to be Happy but I get:\n<a href=\"https://i.stack.imgur.com/2dcIl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","linux","docker","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1647195645,"post_id":71457545,"comment_id":126304990,"body_markdown":"The Linux inside the docker platform is not binary compatible with your host platform. Add additional details.","body":"The Linux inside the docker platform is not binary compatible with your host platform. Add additional details."},{"owner":{"account_id":17110009,"reputation":132,"user_id":12381095,"display_name":"QuocNg"},"score":0,"creation_date":1647214350,"post_id":71457545,"comment_id":126308515,"body_markdown":"@Thorbj&#248;rnRavnAndersen could you please provide more information?","body":"@Thorbj&#248;rnRavnAndersen could you please provide more information?"}],"answers":[{"tags":[],"owner":{"account_id":17110009,"reputation":132,"user_id":12381095,"display_name":"QuocNg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647611809,"creation_date":1647611809,"answer_id":71528139,"question_id":71457545,"body_markdown":"(answer to my own question)\r\n\r\n&gt; Can we create native image from inside a graalvm docker and run it anywhere?\r\n\r\nThe answer is YES!\r\n\r\nFor some specific reasons I am now able to build the native image file inside docker container and run it.","title":"Can we create native image from inside a graalvm docker and run it anywhere?","body":"<p>(answer to my own question)</p>\n<blockquote>\n<p>Can we create native image from inside a graalvm docker and run it anywhere?</p>\n</blockquote>\n<p>The answer is YES!</p>\n<p>For some specific reasons I am now able to build the native image file inside docker container and run it.</p>\n"},{"tags":[],"owner":{"account_id":22500313,"reputation":1,"user_id":16696736,"display_name":"Neha Rane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669473603,"creation_date":1669473603,"answer_id":74583087,"question_id":71457545,"body_markdown":"I think you can by doing this way, https://github.com/swseighman/Spring-GraalVM-REST-Example/blob/main/src/main/resources/containers/Dockerfile.stage\r\nI tried doing the same and it did not work as you got to use same architecture  to build and run the image. Linux built image would run on Linux and so as macOS built on mac. I use builtpacks and it give you OCI image which runs perfectly fine.","title":"Can we create native image from inside a graalvm docker and run it anywhere?","body":"<p>I think you can by doing this way, <a href=\"https://github.com/swseighman/Spring-GraalVM-REST-Example/blob/main/src/main/resources/containers/Dockerfile.stage\" rel=\"nofollow noreferrer\">https://github.com/swseighman/Spring-GraalVM-REST-Example/blob/main/src/main/resources/containers/Dockerfile.stage</a>\nI tried doing the same and it did not work as you got to use same architecture  to build and run the image. Linux built image would run on Linux and so as macOS built on mac. I use builtpacks and it give you OCI image which runs perfectly fine.</p>\n"}],"owner":{"account_id":17110009,"reputation":132,"user_id":12381095,"display_name":"QuocNg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71528139,"answer_count":2,"score":0,"last_activity_date":1669473603,"creation_date":1647180546,"question_id":71457545,"body_markdown":"We are new to Graalvm and are building a simple Java command line app. The jar runs fine in jvm mode (`java -jar &lt;file&gt;.jar`). We don&#39;t install Graalvm on our machines (yet) so we tried to create the native image from inside Docker container which runs Graalvm, the Dockerfile is this simple:\r\n```Dockerfile\r\nFROM ghcr.io/graalvm/native-image:ol8-java17\r\n\r\nCOPY . /home/app\r\nWORKDIR /home/app\r\n\r\nRUN ./mvnw clean package\r\nRUN native-image -cp target/appj-1.0.0.jar &quot;org.nqm.Appj&quot;\r\nRUN mv org.nqm.Appj appj\r\nRUN chmod +x appj\r\n```\r\nThe docker image was successfully built.\r\n\r\nThen we tried to access the container (`docker run --rm --name dkappj -it --entrypoint bash dkappj`) to collect the native image file. From inside the docker container, we could run it with `./appj` without any errors.\r\n\r\nHowever, when we copied the native image file to the host machine and run it with `./appj` it produces an error:\r\n```\r\nzsh: exec format error: ./appj\r\n```\r\n\r\nSo my question is can we create native image from inside a graalvm docker container, copy it and run it anywhere? Or we have to install Graalvm on our host machine to be able to execute the native image? Because I thought graalvm native image is actually the machine code (like the apps created from C language)\r\n\r\n**Edit:**\r\nwhen I replicated the whole code base on a new computer which runs the same os (ubuntu 20.04) the native image runs fine on that host machine.","title":"Can we create native image from inside a graalvm docker and run it anywhere?","body":"<p>We are new to Graalvm and are building a simple Java command line app. The jar runs fine in jvm mode (<code>java -jar &lt;file&gt;.jar</code>). We don't install Graalvm on our machines (yet) so we tried to create the native image from inside Docker container which runs Graalvm, the Dockerfile is this simple:</p>\n<pre><code>FROM ghcr.io/graalvm/native-image:ol8-java17\n\nCOPY . /home/app\nWORKDIR /home/app\n\nRUN ./mvnw clean package\nRUN native-image -cp target/appj-1.0.0.jar &quot;org.nqm.Appj&quot;\nRUN mv org.nqm.Appj appj\nRUN chmod +x appj\n</code></pre>\n<p>The docker image was successfully built.</p>\n<p>Then we tried to access the container (<code>docker run --rm --name dkappj -it --entrypoint bash dkappj</code>) to collect the native image file. From inside the docker container, we could run it with <code>./appj</code> without any errors.</p>\n<p>However, when we copied the native image file to the host machine and run it with <code>./appj</code> it produces an error:</p>\n<pre><code>zsh: exec format error: ./appj\n</code></pre>\n<p>So my question is can we create native image from inside a graalvm docker container, copy it and run it anywhere? Or we have to install Graalvm on our host machine to be able to execute the native image? Because I thought graalvm native image is actually the machine code (like the apps created from C language)</p>\n<p><strong>Edit:</strong>\nwhen I replicated the whole code base on a new computer which runs the same os (ubuntu 20.04) the native image runs fine on that host machine.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1521562913,"creation_date":1521562149,"answer_id":49389077,"question_id":49386434,"body_markdown":"Running the application from the IDE is not a constraint to make Developer tools working.\r\nYour problem is somewhere else.\r\n\r\n\r\nThese commands :\r\n\r\n    mvn clean package; \r\n    java -jar target\\project-name-version.jar\r\n\r\nmean that you don&#39;t use the spring-boot maven plugin to run your application.  \r\nYou run the autobootable jar of your fully packaged application.\r\nConsequently, Spring Boot devtools are disabled as stated by the [documentation][1] :\r\n\r\n&gt; **Developer tools are automatically disabled when running a fully\r\n&gt; packaged application**. If your application is launched from java -jar\r\n&gt; or if it is started from a special classloader, then it is considered\r\n&gt; a “production application”. Flagging the dependency as optional is a\r\n&gt; best practice that prevents devtools from being transitively applied\r\n&gt; to other modules that use your project. Gradle does not support\r\n&gt; optional dependencies out-of-the-box, so you may want to have a look\r\n&gt; at the propdeps-plugin.\r\n\r\n\r\nTo run the application from command line in exploded/dev mode, `mvn clean package` is not required and helpless.  \r\nJust execute `mvn spring-boot:run`\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools","title":"Live reload not working in Spring boot devtools","body":"<p>Running the application from the IDE is not a constraint to make Developer tools working.\nYour problem is somewhere else.</p>\n\n<p>These commands :</p>\n\n<pre><code>mvn clean package; \njava -jar target\\project-name-version.jar\n</code></pre>\n\n<p>mean that you don't use the spring-boot maven plugin to run your application.<br>\nYou run the autobootable jar of your fully packaged application.\nConsequently, Spring Boot devtools are disabled as stated by the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools\" rel=\"noreferrer\">documentation</a> :</p>\n\n<blockquote>\n  <p><strong>Developer tools are automatically disabled when running a fully\n  packaged application</strong>. If your application is launched from java -jar\n  or if it is started from a special classloader, then it is considered\n  a “production application”. Flagging the dependency as optional is a\n  best practice that prevents devtools from being transitively applied\n  to other modules that use your project. Gradle does not support\n  optional dependencies out-of-the-box, so you may want to have a look\n  at the propdeps-plugin.</p>\n</blockquote>\n\n<p>To run the application from command line in exploded/dev mode, <code>mvn clean package</code> is not required and helpless.<br>\nJust execute <code>mvn spring-boot:run</code></p>\n"},{"tags":[],"owner":{"account_id":13417623,"reputation":111,"user_id":9681548,"display_name":"Abhishek Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631290371,"creation_date":1631290371,"answer_id":69135110,"question_id":49386434,"body_markdown":"I fixed this issue by below approach - \r\n\r\n - First open setting.json (ctrl + shift+P) file and define a property there as &quot;java.autobuild.enabled&quot;: true.\r\n - second open application.properties file and define a property as spring.devtools.restart.pollInterval=10s\r\n\r\nHope it should work.\r\n\r\n ","title":"Live reload not working in Spring boot devtools","body":"<p>I fixed this issue by below approach -</p>\n<ul>\n<li>First open setting.json (ctrl + shift+P) file and define a property there as &quot;java.autobuild.enabled&quot;: true.</li>\n<li>second open application.properties file and define a property as spring.devtools.restart.pollInterval=10s</li>\n</ul>\n<p>Hope it should work.</p>\n"},{"tags":[],"owner":{"account_id":15743333,"reputation":1,"user_id":18177848,"display_name":"user18177848"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669473586,"creation_date":1669473586,"answer_id":74583082,"question_id":49386434,"body_markdown":"Set Build project automatically.\r\nIn intellij  File –&gt; Setting –&gt; Build, Execution, Deployment –&gt; Compiler –&gt; check the Build project automatically \r\nIn eclipse  Window -&gt; Preferences -&gt; Workspace -&gt; General -&gt; Build -&gt; Check ‘build automatically’\r\n","title":"Live reload not working in Spring boot devtools","body":"<p>Set Build project automatically.\nIn intellij  File –&gt; Setting –&gt; Build, Execution, Deployment –&gt; Compiler –&gt; check the Build project automatically\nIn eclipse  Window -&gt; Preferences -&gt; Workspace -&gt; General -&gt; Build -&gt; Check ‘build automatically’</p>\n"}],"owner":{"account_id":6602409,"reputation":9636,"user_id":5100278,"accept_rate":78,"display_name":"Kingamere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15104,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":49389077,"answer_count":3,"score":9,"last_activity_date":1669473586,"creation_date":1521554762,"question_id":49386434,"body_markdown":"I am using this dependency in a spring boot application:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThe [documentation][1] says:\r\n\r\n&gt; By default, changing resources in /META-INF/maven,\r\n&gt; /META-INF/resources, /resources, **/static**, /public, or /templates does\r\n&gt; not trigger a restart but **does trigger a live reload**.\r\n\r\nThe [live reload documentation][2] says:\r\n\r\n&gt; The spring-boot-devtools module includes an embedded LiveReload server\r\n&gt; that can be used to trigger a browser refresh when a resource is\r\n&gt; changed. LiveReload browser extensions are freely available for\r\n&gt; Chrome, Firefox and Safari from livereload.com.\r\n\r\nNow, I am using Maven and my static folder is under src/main/resources, so my folder structure is:\r\n\r\nsrc/main/resources/static/index.html\r\n\r\nThis is what&#39;s in my index.html file:\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Getting Started: Serving Web Content&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;p&gt;HI THERE! Get your greeting &lt;a href=&quot;/greeting&quot;&gt;here&lt;/a&gt;&lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI using chrome browser but am not using any live reload browser extension in chrome.\r\n\r\nI run the application with this Powershell command (since I&#39;m using spring boot maven plugin):\r\n\r\n    mvn clean package; java -jar target\\project-name-version.jar\r\n\r\nThis starts up the server on localhost:8080 and displays the contents of index.html in a web page.\r\n\r\nHowever, when I then make changes to index.html in Eclipse IDE and save the file, and I then refresh the browser page, **I do not see the new changes.**\r\n\r\nHow come live reload isn&#39;t working for me? What am I doing wrong?\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#using-boot-devtools-restart-exclude\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#using-boot-devtools-livereload","title":"Live reload not working in Spring boot devtools","body":"<p>I am using this dependency in a spring boot application:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#using-boot-devtools-restart-exclude\" rel=\"noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>By default, changing resources in /META-INF/maven,\n  /META-INF/resources, /resources, <strong>/static</strong>, /public, or /templates does\n  not trigger a restart but <strong>does trigger a live reload</strong>.</p>\n</blockquote>\n\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#using-boot-devtools-livereload\" rel=\"noreferrer\">live reload documentation</a> says:</p>\n\n<blockquote>\n  <p>The spring-boot-devtools module includes an embedded LiveReload server\n  that can be used to trigger a browser refresh when a resource is\n  changed. LiveReload browser extensions are freely available for\n  Chrome, Firefox and Safari from livereload.com.</p>\n</blockquote>\n\n<p>Now, I am using Maven and my static folder is under src/main/resources, so my folder structure is:</p>\n\n<p>src/main/resources/static/index.html</p>\n\n<p>This is what's in my index.html file:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Getting Started: Serving Web Content&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p&gt;HI THERE! Get your greeting &lt;a href=\"/greeting\"&gt;here&lt;/a&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I using chrome browser but am not using any live reload browser extension in chrome.</p>\n\n<p>I run the application with this Powershell command (since I'm using spring boot maven plugin):</p>\n\n<pre><code>mvn clean package; java -jar target\\project-name-version.jar\n</code></pre>\n\n<p>This starts up the server on localhost:8080 and displays the contents of index.html in a web page.</p>\n\n<p>However, when I then make changes to index.html in Eclipse IDE and save the file, and I then refresh the browser page, <strong>I do not see the new changes.</strong></p>\n\n<p>How come live reload isn't working for me? What am I doing wrong?</p>\n"},{"tags":["java","osgi","hazelcast","apache-karaf","osgi-bundle"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669472632,"creation_date":1669471323,"question_id":74582818,"body_markdown":"I am creating one application in which I am using java 17,Spring Boot, karaf for osgi and hazelcast jet as doing some join for data coming from different sources(modules) but as using Hazelcast Jet module cannot identified by the ServiceReference they are the getting registered in different references, So how register them in one context.\r\n\r\nMy Common module interface which used in different modules (packaging as jar in all modules):\r\n\r\n    public interface DataService {\r\n        String name();\r\n        public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source);\r\n    }\r\n\r\nFirst Module here we implement the above interface: \r\n\r\n    public class JDBCDataSource implements DataService, Serializable {\r\n             public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source) {\r\n              //Hazelcast Jdbc implementation\r\n           }\r\n        }\r\n\r\nAnd Activator for First module:\r\n\r\n    public class Activator implements BundleActivator {\r\n     public static BundleContext bundleContext;\r\n     ConfigurableApplicationContext appContext;\r\n     @Override\r\n     public void start(BundleContext context) throws Exception {\r\n       Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\r\n      appContext = SpringApplication.run(Activator.class);\r\n      bundleContext = context;\r\n      registerServices();\r\n     }\r\n     @Override\r\n     public void stop(BundleContext context) throws Exception {\r\n      bundleContext = null;\r\n      SpringApplication.exit(appContext, () -&gt; 0);\r\n     }\r\n     public static BundleContext getBundleContext() {\r\n      return bundleContext;\r\n     }\r\n     private void registerServices() {\r\n      DataService  service = new JDBCDataSource();\r\n      bundleContext.registerService(DataService.class.getName(), service, new HashMap&lt;String, Object&gt;());\r\n      System.out.println(&quot;Service registered: &quot; + service.name());\r\n     }\r\n     public static void main(String[] args) {\r\n      SpringApplication.run(Activator.class, args);\r\n     }\r\n    }\r\n\r\n    \r\n\r\nAnd one rest controller in First Module via which we fetch all services\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/data&quot;)\r\n    @Component\r\n    public class RController {\r\n    public Map&lt;String, Object&gt; fetchRecordsPipline() {\r\n       BundleContext bundleContext = Activator.getBundleContext();\r\n    \r\n                Collection&lt;ServiceReference&lt;DataService&gt;&gt; references = bundleContext\r\n                        .getServiceReferences(DataService.class, null);\r\n                for (ServiceReference&lt;DataService&gt; reference : references) {\r\n                    DataService calcService = bundleContext.getService(reference);\r\n                    System.out.println(calcService.name());\r\n    \r\n                }\r\n    \r\n    }\r\n    }\r\n\r\nSame way second Module here we implement the above interface: \r\n\r\n    public class JsonDataSource implements DataService, Serializable {\r\n             public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source) {\r\n              //Hazelcast json implementation\r\n           }\r\n        }\r\n\r\nAnd Activator for Second module:\r\n\r\n    public class Activator implements BundleActivator {\r\n     public static BundleContext bundleContext;\r\n     ConfigurableApplicationContext appContext;\r\n     @Override\r\n     public void start(BundleContext context) throws Exception {\r\n       Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\r\n      appContext = SpringApplication.run(Activator.class);\r\n      bundleContext = context;\r\n      registerServices();\r\n     }\r\n     @Override\r\n     public void stop(BundleContext context) throws Exception {\r\n      bundleContext = null;\r\n      SpringApplication.exit(appContext, () -&gt; 0);\r\n     }\r\n     public static BundleContext getBundleContext() {\r\n      return bundleContext;\r\n     }\r\n     private void registerServices() {\r\n      DataService  service = new JsonDataSource();\r\n      bundleContext.registerService(DataService.class.getName(), service, new HashMap&lt;String, Object&gt;());\r\n      System.out.println(&quot;Service registered: &quot; + service.name());\r\n     }\r\n     public static void main(String[] args) {\r\n      SpringApplication.run(Activator.class, args);\r\n     }\r\n    }\r\n\r\n\r\nHazelcast jet Instance in generated in First Module.\r\n\r\nNow we run it in karaf both the modules are getting registered and when we call rest controller request it is only fetching First module from the **Collection&lt;ServiceReference&lt;DataService&gt;&gt;** &quot;JDBC Service&quot; only not &quot;Json Service&quot; but both the service are registered properly in karaf, as per my understanding as I am using Hazelcast Jet it causing them to get registered in different context so now how to registered them both in same context(BundleContex/Spring Context) so they can communicate and I can join both sources data?","title":"How to put all Activator in same context while using karaf and hazelcast jet?","body":"<p>I am creating one application in which I am using java 17,Spring Boot, karaf for osgi and hazelcast jet as doing some join for data coming from different sources(modules) but as using Hazelcast Jet module cannot identified by the ServiceReference they are the getting registered in different references, So how register them in one context.</p>\n<p>My Common module interface which used in different modules (packaging as jar in all modules):</p>\n<pre><code>public interface DataService {\n    String name();\n    public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source);\n}\n</code></pre>\n<p>First Module here we implement the above interface:</p>\n<pre><code>public class JDBCDataSource implements DataService, Serializable {\n         public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source) {\n          //Hazelcast Jdbc implementation\n       }\n    }\n</code></pre>\n<p>And Activator for First module:</p>\n<pre><code>public class Activator implements BundleActivator {\n public static BundleContext bundleContext;\n ConfigurableApplicationContext appContext;\n @Override\n public void start(BundleContext context) throws Exception {\n   Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\n  appContext = SpringApplication.run(Activator.class);\n  bundleContext = context;\n  registerServices();\n }\n @Override\n public void stop(BundleContext context) throws Exception {\n  bundleContext = null;\n  SpringApplication.exit(appContext, () -&gt; 0);\n }\n public static BundleContext getBundleContext() {\n  return bundleContext;\n }\n private void registerServices() {\n  DataService  service = new JDBCDataSource();\n  bundleContext.registerService(DataService.class.getName(), service, new HashMap&lt;String, Object&gt;());\n  System.out.println(&quot;Service registered: &quot; + service.name());\n }\n public static void main(String[] args) {\n  SpringApplication.run(Activator.class, args);\n }\n}\n</code></pre>\n<p>And one rest controller in First Module via which we fetch all services</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/data&quot;)\n@Component\npublic class RController {\npublic Map&lt;String, Object&gt; fetchRecordsPipline() {\n   BundleContext bundleContext = Activator.getBundleContext();\n\n            Collection&lt;ServiceReference&lt;DataService&gt;&gt; references = bundleContext\n                    .getServiceReferences(DataService.class, null);\n            for (ServiceReference&lt;DataService&gt; reference : references) {\n                DataService calcService = bundleContext.getService(reference);\n                System.out.println(calcService.name());\n\n            }\n\n}\n}\n</code></pre>\n<p>Same way second Module here we implement the above interface:</p>\n<pre><code>public class JsonDataSource implements DataService, Serializable {\n         public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source) {\n          //Hazelcast json implementation\n       }\n    }\n</code></pre>\n<p>And Activator for Second module:</p>\n<pre><code>public class Activator implements BundleActivator {\n public static BundleContext bundleContext;\n ConfigurableApplicationContext appContext;\n @Override\n public void start(BundleContext context) throws Exception {\n   Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\n  appContext = SpringApplication.run(Activator.class);\n  bundleContext = context;\n  registerServices();\n }\n @Override\n public void stop(BundleContext context) throws Exception {\n  bundleContext = null;\n  SpringApplication.exit(appContext, () -&gt; 0);\n }\n public static BundleContext getBundleContext() {\n  return bundleContext;\n }\n private void registerServices() {\n  DataService  service = new JsonDataSource();\n  bundleContext.registerService(DataService.class.getName(), service, new HashMap&lt;String, Object&gt;());\n  System.out.println(&quot;Service registered: &quot; + service.name());\n }\n public static void main(String[] args) {\n  SpringApplication.run(Activator.class, args);\n }\n}\n</code></pre>\n<p>Hazelcast jet Instance in generated in First Module.</p>\n<p>Now we run it in karaf both the modules are getting registered and when we call rest controller request it is only fetching First module from the <strong>Collection&lt;ServiceReference&gt;</strong> &quot;JDBC Service&quot; only not &quot;Json Service&quot; but both the service are registered properly in karaf, as per my understanding as I am using Hazelcast Jet it causing them to get registered in different context so now how to registered them both in same context(BundleContex/Spring Context) so they can communicate and I can join both sources data?</p>\n"},{"tags":["java","generics","refactoring","simplify"],"answers":[{"tags":[],"owner":{"account_id":991688,"reputation":4726,"user_id":1008794,"display_name":"Rulle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669472601,"creation_date":1669410611,"answer_id":74577872,"question_id":74576860,"body_markdown":"Add a method\r\n\r\n    public &lt;T&gt; Builder addIfNonNull(List&lt;T&gt; dst, T x)\r\n    {\r\n        if (x != null) {\r\n            dst.add(x);\r\n        }   \r\n        return this;\r\n    }\r\n\r\nand implement `withUnit` like\r\n\r\n    public Builder withUnit( final UnitIf aUnit )\r\n    {\r\n        return addIfNonNull(unit, aUnit);\r\n    }\r\n\r\nand change `withTime` the same way.\r\n\r\n# Non-generic version\r\n\r\nIf you don&#39;t want it to be a generic method, just omit the type parameter `T` and change the type of `x` to be `Object`:\r\n\r\n    public Builder addIfNonNull(List dst, Object x)\r\n    {\r\n        if (x != null) {\r\n            dst.add(x);\r\n        }   \r\n        return this;\r\n    }\r\n\r\nInternally, the Java compiler will compile `List&lt;T&gt;` to just `List`. I think it is called &quot;type erasure&quot;.","title":"Refactoring. How extract code to a generic method?","body":"<p>Add a method</p>\n<pre><code>public &lt;T&gt; Builder addIfNonNull(List&lt;T&gt; dst, T x)\n{\n    if (x != null) {\n        dst.add(x);\n    }   \n    return this;\n}\n</code></pre>\n<p>and implement <code>withUnit</code> like</p>\n<pre><code>public Builder withUnit( final UnitIf aUnit )\n{\n    return addIfNonNull(unit, aUnit);\n}\n</code></pre>\n<p>and change <code>withTime</code> the same way.</p>\n<h1>Non-generic version</h1>\n<p>If you don't want it to be a generic method, just omit the type parameter <code>T</code> and change the type of <code>x</code> to be <code>Object</code>:</p>\n<pre><code>public Builder addIfNonNull(List dst, Object x)\n{\n    if (x != null) {\n        dst.add(x);\n    }   \n    return this;\n}\n</code></pre>\n<p>Internally, the Java compiler will compile <code>List&lt;T&gt;</code> to just <code>List</code>. I think it is called &quot;type erasure&quot;.</p>\n"}],"owner":{"account_id":12047855,"reputation":35,"user_id":8812144,"display_name":"ArtRac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74577872,"answer_count":1,"score":0,"last_activity_date":1669472601,"creation_date":1669401895,"question_id":74576860,"body_markdown":"To avoid duplication in the code, is there a way to extract to a separate method of the selected code?\r\n\r\n```java\r\nclass Builder\r\n{\r\n    private final List&lt; UnitIf &gt; unit = new ArrayList&lt;&gt;();\r\n    private final List&lt; TimeIf &gt; time = new ArrayList&lt;&gt;();\r\n\r\n    public Builder withUnit( final UnitIf aUnit )\r\n    {\r\n        //Extract to method\r\n        if( aUnit != null )\r\n        {\r\n            unit.add( aUnit );\r\n        }\r\n        return this;\r\n        //----------------\r\n    }\r\n\r\n    public Builder withTime( final TimeIf aTime )\r\n    {\r\n        //Extract to method\r\n        if( aTime != null )\r\n        {\r\n            time.add( aTime );\r\n        }\r\n        return this;\r\n        //----------------\r\n    }\r\n}\r\n```\r\n\r\nMy goal is to simplify the code by eliminating duplication. But the parts of code use different data types.","title":"Refactoring. How extract code to a generic method?","body":"<p>To avoid duplication in the code, is there a way to extract to a separate method of the selected code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Builder\n{\n    private final List&lt; UnitIf &gt; unit = new ArrayList&lt;&gt;();\n    private final List&lt; TimeIf &gt; time = new ArrayList&lt;&gt;();\n\n    public Builder withUnit( final UnitIf aUnit )\n    {\n        //Extract to method\n        if( aUnit != null )\n        {\n            unit.add( aUnit );\n        }\n        return this;\n        //----------------\n    }\n\n    public Builder withTime( final TimeIf aTime )\n    {\n        //Extract to method\n        if( aTime != null )\n        {\n            time.add( aTime );\n        }\n        return this;\n        //----------------\n    }\n}\n</code></pre>\n<p>My goal is to simplify the code by eliminating duplication. But the parts of code use different data types.</p>\n"},{"tags":["java","html","jsp"],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669472480,"creation_date":1669472480,"answer_id":74582953,"question_id":74576299,"body_markdown":"The `Cliente` class is empty (apart from an empty constructor that does nothing by itself if you don&#39;t tell it what to do). You have to define both the data it contains and the methods to get the data. Something like this:\r\n\r\n    public class Cliente {\r\n        // the data in the class\r\n        String dni;\r\n        String nombre;\r\n        String apellido;\r\n        String telefono;\r\n    \r\n        // manually set all members here\r\n        public Cliente(String dni, String nombre, String apellido, String telefono) {\r\n            this.dni = dni;\r\n            this.nombre = nombre;\r\n            this.apellido = apellido;\r\n            this.telefono = telefono;\r\n        }\r\n    \r\n        // getter methods are not created automatically, you have to define them\r\n        public String getDni() { return dni; }\r\n        public String getNombre() { return nombre; }\r\n        public String getApellido() { return apellido; }\r\n        public String getTelefono() { return telefono; }\r\n    }","title":"Problems with cli.get() and getting attributes in JSP and Servlet","body":"<p>The <code>Cliente</code> class is empty (apart from an empty constructor that does nothing by itself if you don't tell it what to do). You have to define both the data it contains and the methods to get the data. Something like this:</p>\n<pre><code>public class Cliente {\n    // the data in the class\n    String dni;\n    String nombre;\n    String apellido;\n    String telefono;\n\n    // manually set all members here\n    public Cliente(String dni, String nombre, String apellido, String telefono) {\n        this.dni = dni;\n        this.nombre = nombre;\n        this.apellido = apellido;\n        this.telefono = telefono;\n    }\n\n    // getter methods are not created automatically, you have to define them\n    public String getDni() { return dni; }\n    public String getNombre() { return nombre; }\n    public String getApellido() { return apellido; }\n    public String getTelefono() { return telefono; }\n}\n</code></pre>\n"}],"owner":{"account_id":27045857,"reputation":3,"user_id":20600060,"display_name":"Tomyrex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74582953,"answer_count":1,"score":0,"last_activity_date":1669472480,"creation_date":1669398013,"question_id":74576299,"body_markdown":"Good morning, I have this problem.\r\nI have a java class &quot;Cliente&quot; with the corresponding data (I leave you the code)\r\n\r\n```\r\npackage Clases;\r\n\r\npublic class Cliente {\r\n    public Cliente(String dni, String nombre, String apellido, String telefono){\r\n    }\r\n}\r\n```\r\n\r\nThen, I have this Servlet with DoGet where I generate a list of Cliente and get my session, and a dopost that asks for the parameters:\r\n\r\n\r\n```\r\npackage Servlets;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport jakarta.servlet.RequestDispatcher;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport jakarta.servlet.http.HttpSession;\r\nimport java.util.*;\r\nimport Clases.Cliente;\r\n\r\n\r\n@WebServlet(name = &quot;SvPrueba&quot;, urlPatterns = {&quot;/SvPrueba&quot;})\r\npublic class SvPrueba extends HttpServlet {\r\n\r\n\r\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n\r\n    }\r\n    \r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        \r\n        List&lt;Cliente&gt; listaClientes = new ArrayList&lt;&gt; ();\r\n        listaClientes.add(new Cliente(&quot;12345678&quot;, &quot;Luisina&quot;, &quot;de Paula&quot;, &quot;444222357&quot;));        \r\n        listaClientes.add(new Cliente(&quot;46325965&quot;, &quot;Avril&quot;, &quot;Lavigne&quot;, &quot;774568931&quot;));        \r\n        listaClientes.add(new Cliente(&quot;69584123&quot;, &quot;Gianluigi&quot;, &quot;Guidicci&quot;, &quot;4567531654&quot;));\r\n        HttpSession misession = request.getSession();\r\n        misession.setAttribute(&quot;listaClientes&quot;, listaClientes);\r\n        response.sendRedirect(&quot;MostrarJSP.jsp&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        String dni = request.getParameter(&quot;dni&quot;);\r\n        String nombre = request.getParameter(&quot;nombre&quot;);\r\n        String apellido = request.getParameter(&quot;apellido&quot;);\r\n        String telefono = request.getParameter(&quot;telefono&quot;);\r\n        processRequest(request, response);\r\n    }   \r\n\r\n     @Override\r\n    public String getServletInfo() {\r\n        return &quot;Short description&quot;;\r\n    }\r\n    \r\n\r\n}\r\n```\r\n\r\nFinally, I have a JSP where it presents the error: In it I bring the session and ask for the attributes to write them. However, on every &quot;cli.get&quot; I get cannot find symbol error\r\n\r\n\r\n```\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;Clientes&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Lista de Clientes&lt;/h1&gt;\r\n        &lt;%@ page import=&quot;java.util.List&quot; %&gt;\r\n        &lt;%@ page import=&quot;Clases.Cliente&quot; %&gt;\r\n        &lt;%\r\n            List&lt;Cliente&gt; listaClientes = (List) request.getSession().getAttribute(&quot;listaClientes&quot;);\r\n            int cont=1;\r\n            for (Cliente cli : listaClientes) { %&gt;\r\n                &lt;p&gt;&lt;b&gt;Cliente N&#186; &lt;%=cont%&gt;&lt;/b&gt;&lt;/p&gt;\r\n                &lt;p&gt;Dni: &lt;%=cli.getDni()%&gt;&lt;/p&gt;\r\n                &lt;p&gt;Nombre: &lt;%=cli.getNombre()%&gt;&lt;/p&gt;\r\n                &lt;p&gt;Apellido: &lt;%=cli.getApellido()%&gt;&lt;/p&gt;\r\n                &lt;p&gt;Tel&#233;fono: &lt;%=cli.getTelefono()%&gt;&lt;/p&gt;\r\n            &lt;% cont= cont+1;%&gt;\r\n        &lt;%}%&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI&#39;m starting in Java and I can&#39;t fix this :(\r\n\r\n\r\n\r\nI hope that getDni, getNombre, etc. will bring me the data and write it in the HTML code, but I have some error and I don&#39;t know what it is.\r\nThank you ^^\r\n","title":"Problems with cli.get() and getting attributes in JSP and Servlet","body":"<p>Good morning, I have this problem.\nI have a java class &quot;Cliente&quot; with the corresponding data (I leave you the code)</p>\n<pre><code>package Clases;\n\npublic class Cliente {\n    public Cliente(String dni, String nombre, String apellido, String telefono){\n    }\n}\n</code></pre>\n<p>Then, I have this Servlet with DoGet where I generate a list of Cliente and get my session, and a dopost that asks for the parameters:</p>\n<pre><code>package Servlets;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport jakarta.servlet.RequestDispatcher;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport jakarta.servlet.http.HttpSession;\nimport java.util.*;\nimport Clases.Cliente;\n\n\n@WebServlet(name = &quot;SvPrueba&quot;, urlPatterns = {&quot;/SvPrueba&quot;})\npublic class SvPrueba extends HttpServlet {\n\n\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\n\n    }\n    \n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        \n        List&lt;Cliente&gt; listaClientes = new ArrayList&lt;&gt; ();\n        listaClientes.add(new Cliente(&quot;12345678&quot;, &quot;Luisina&quot;, &quot;de Paula&quot;, &quot;444222357&quot;));        \n        listaClientes.add(new Cliente(&quot;46325965&quot;, &quot;Avril&quot;, &quot;Lavigne&quot;, &quot;774568931&quot;));        \n        listaClientes.add(new Cliente(&quot;69584123&quot;, &quot;Gianluigi&quot;, &quot;Guidicci&quot;, &quot;4567531654&quot;));\n        HttpSession misession = request.getSession();\n        misession.setAttribute(&quot;listaClientes&quot;, listaClientes);\n        response.sendRedirect(&quot;MostrarJSP.jsp&quot;);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String dni = request.getParameter(&quot;dni&quot;);\n        String nombre = request.getParameter(&quot;nombre&quot;);\n        String apellido = request.getParameter(&quot;apellido&quot;);\n        String telefono = request.getParameter(&quot;telefono&quot;);\n        processRequest(request, response);\n    }   \n\n     @Override\n    public String getServletInfo() {\n        return &quot;Short description&quot;;\n    }\n    \n\n}\n</code></pre>\n<p>Finally, I have a JSP where it presents the error: In it I bring the session and ask for the attributes to write them. However, on every &quot;cli.get&quot; I get cannot find symbol error</p>\n<pre><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;Clientes&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Lista de Clientes&lt;/h1&gt;\n        &lt;%@ page import=&quot;java.util.List&quot; %&gt;\n        &lt;%@ page import=&quot;Clases.Cliente&quot; %&gt;\n        &lt;%\n            List&lt;Cliente&gt; listaClientes = (List) request.getSession().getAttribute(&quot;listaClientes&quot;);\n            int cont=1;\n            for (Cliente cli : listaClientes) { %&gt;\n                &lt;p&gt;&lt;b&gt;Cliente Nº &lt;%=cont%&gt;&lt;/b&gt;&lt;/p&gt;\n                &lt;p&gt;Dni: &lt;%=cli.getDni()%&gt;&lt;/p&gt;\n                &lt;p&gt;Nombre: &lt;%=cli.getNombre()%&gt;&lt;/p&gt;\n                &lt;p&gt;Apellido: &lt;%=cli.getApellido()%&gt;&lt;/p&gt;\n                &lt;p&gt;Teléfono: &lt;%=cli.getTelefono()%&gt;&lt;/p&gt;\n            &lt;% cont= cont+1;%&gt;\n        &lt;%}%&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I'm starting in Java and I can't fix this :(</p>\n<p>I hope that getDni, getNombre, etc. will bring me the data and write it in the HTML code, but I have some error and I don't know what it is.\nThank you ^^</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1652529873,"post_id":72239867,"comment_id":127631103,"body_markdown":"What is SOClass? And do you think it makes sense to add just a single tag that is also new? Often such questions end up untagged, because the new single tag was not used by any other question for a while and the tag got deleted again.","body":"What is SOClass? And do you think it makes sense to add just a single tag that is also new? Often such questions end up untagged, because the new single tag was not used by any other question for a while and the tag got deleted again."},{"owner":{"account_id":2876637,"reputation":2736,"user_id":2468508,"display_name":"Rashad Saleh"},"score":0,"creation_date":1652532068,"post_id":72239867,"comment_id":127631532,"body_markdown":"[SOClass](https://strategyobject.com/products/about-soclass/) is a Java based framework that is used by the [ASYCUDA](https://asycuda.org/en/) software which is used by many Customs agencies around the world. As for the tag getting deleted due to lack of activity, this is very possible. I am not sure what to do about that though.","body":"<a href=\"https://strategyobject.com/products/about-soclass/\" rel=\"nofollow noreferrer\">SOClass</a> is a Java based framework that is used by the <a href=\"https://asycuda.org/en/\" rel=\"nofollow noreferrer\">ASYCUDA</a> software which is used by many Customs agencies around the world. As for the tag getting deleted due to lack of activity, this is very possible. I am not sure what to do about that though."},{"owner":{"account_id":2876637,"reputation":2736,"user_id":2468508,"display_name":"Rashad Saleh"},"score":0,"creation_date":1652537834,"post_id":72239867,"comment_id":127632737,"body_markdown":"@jps I just realized I did not answer your second question. The two other tags I considered were `java` and `asycuda`. However, all the concepts in the question are defined at the SOClass framework level, even though they are implemented in java and used by ASYCUDA. In other words, `java` would be too general, and `asycuda` would be too specific. I also made sure to put &quot;In SOClass,...&quot; at the beginning of the question so that people know right away if the question concerns them or not. Do you think I should change that to &quot;In the SOClass framework,...&quot; just to be sure?","body":"@jps I just realized I did not answer your second question. The two other tags I considered were <code>java</code> and <code>asycuda</code>. However, all the concepts in the question are defined at the SOClass framework level, even though they are implemented in java and used by ASYCUDA. In other words, <code>java</code> would be too general, and <code>asycuda</code> would be too specific. I also made sure to put &quot;In SOClass,...&quot; at the beginning of the question so that people know right away if the question concerns them or not. Do you think I should change that to &quot;In the SOClass framework,...&quot; just to be sure?"}],"answers":[{"tags":[],"owner":{"account_id":2876637,"reputation":2736,"user_id":2468508,"display_name":"Rashad Saleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652528618,"creation_date":1652528618,"answer_id":72239868,"question_id":72239867,"body_markdown":"One solution is to add a client rule to the FINAL_ACTION_REQUESTED event that consumes it. This will stop the operation from completing:\r\n\r\n```java\r\ndocument.addRule(new Rule() {\r\n            @Override\r\n            protected void apply(KernelEvent e) {\r\n                e.consume();\r\n            }\r\n        }, KernelEventConstants.FINAL_ACTION_REQUESTED);\r\n```\r\n\r\nSince this could be a common scenario for you, you might also want to define a utility class to handle this situation. This also helps in preventing adding that rule multiple times across your code, which is not neat and also might have a performance penalty:\r\n\r\n```java\r\npublic final class OperationUtility {\r\n\r\n    private static volatile Rule preventOperationFromCompletingRule = null;\r\n\r\n\r\n    public static void preventOperationFromCompleting(KDocument doc) {\r\n        if (preventOperationFromCompletingRule == null) {\r\n            synchronized (OperationUtility.class) {\r\n                if (preventOperationFromCompletingRule == null) {\r\n                    preventOperationFromCompletingRule = new Rule() {\r\n                        @Override\r\n                        protected void apply(KernelEvent e) {\r\n                            e.consume();\r\n                        }\r\n                    };\r\n\r\n                    doc.addRule(preventOperationFromCompletingRule, KernelEventConstants.FINAL_ACTION_REQUESTED);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis code uses the Singleton Pattern with Lazy Initialization as described here: https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization\r\n\r\nAnd in your code you use the utility as follows:\r\n\r\n```java\r\nOperationUtility.preventOperationFromCompleting(doc);\r\n```\r\n","title":"In SOClass, how to prevent an Operation from completing from the client side?","body":"<p>One solution is to add a client rule to the FINAL_ACTION_REQUESTED event that consumes it. This will stop the operation from completing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>document.addRule(new Rule() {\n            @Override\n            protected void apply(KernelEvent e) {\n                e.consume();\n            }\n        }, KernelEventConstants.FINAL_ACTION_REQUESTED);\n</code></pre>\n<p>Since this could be a common scenario for you, you might also want to define a utility class to handle this situation. This also helps in preventing adding that rule multiple times across your code, which is not neat and also might have a performance penalty:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class OperationUtility {\n\n    private static volatile Rule preventOperationFromCompletingRule = null;\n\n\n    public static void preventOperationFromCompleting(KDocument doc) {\n        if (preventOperationFromCompletingRule == null) {\n            synchronized (OperationUtility.class) {\n                if (preventOperationFromCompletingRule == null) {\n                    preventOperationFromCompletingRule = new Rule() {\n                        @Override\n                        protected void apply(KernelEvent e) {\n                            e.consume();\n                        }\n                    };\n\n                    doc.addRule(preventOperationFromCompletingRule, KernelEventConstants.FINAL_ACTION_REQUESTED);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>This code uses the Singleton Pattern with Lazy Initialization as described here: <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization</a></p>\n<p>And in your code you use the utility as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OperationUtility.preventOperationFromCompleting(doc);\n</code></pre>\n"}],"owner":{"account_id":2876637,"reputation":2736,"user_id":2468508,"display_name":"Rashad Saleh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72239868,"answer_count":1,"score":-1,"last_activity_date":1669472423,"creation_date":1652528618,"question_id":72239867,"body_markdown":"Sometimes in your client code, you want to cancel the current operation or prevent it from completing. How can you do that?","title":"In SOClass, how to prevent an Operation from completing from the client side?","body":"<p>Sometimes in your client code, you want to cancel the current operation or prevent it from completing. How can you do that?</p>\n"},{"tags":["java","mysql","postgresql","hibernate","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669472363,"creation_date":1669472363,"answer_id":74582942,"question_id":74575759,"body_markdown":"What you are asking for is supported, see [this][1] part of the datasource documentation and [this][2] part of the Hibernate ORM documentation.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/datasource#multiple-datasources\r\n  [2]: https://quarkus.io/guides/hibernate-orm#multiple-persistence-units","title":"Can I use multiple and different databases in the same Quarkus app?","body":"<p>What you are asking for is supported, see <a href=\"https://quarkus.io/guides/datasource#multiple-datasources\" rel=\"nofollow noreferrer\">this</a> part of the datasource documentation and <a href=\"https://quarkus.io/guides/hibernate-orm#multiple-persistence-units\" rel=\"nofollow noreferrer\">this</a> part of the Hibernate ORM documentation.</p>\n"}],"owner":{"account_id":6126500,"reputation":198,"user_id":4778283,"display_name":"nevzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669472363,"creation_date":1669394716,"question_id":74575759,"body_markdown":"I want my Quarkus app to connect to both a PostgreSQL database and a MySQL database.\r\n\r\nI&#39;ve researched through https://quarkus.io/guides/datasource#multiple-datasources and https://quarkus.io/guides/hibernate-orm#multitenancy, but could not figure out if this is possible.\r\n\r\nmy application.properties is as below;\r\n\r\n    quarkus.datasource.postgresql.db-kind=postgresql\r\n    quarkus.datasource.postgresql.username=xyz\r\n    quarkus.datasource.postgresql.password=xyz\r\n    quarkus.datasource.postgresql.jdbc.url=jdbc:postgresql://localhost:5432/xyz\r\n    \r\n    quarkus.datasource.mysql.db-kind=mysql\r\n    quarkus.datasource.mysql.username=xyz\r\n    quarkus.datasource.mysql.password=xyz\r\n    quarkus.datasource.mysql.jdbc.url=jdbc:mysql://localhost:3305/xyz\r\n\r\nmy pom.xml has both;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-mysql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n1. Is it possible to connect to multiple different types of database from Quarkus?\r\n2. How do I persist() an Entity to the correct database if such capability exists?\r\nThank you!\r\n","title":"Can I use multiple and different databases in the same Quarkus app?","body":"<p>I want my Quarkus app to connect to both a PostgreSQL database and a MySQL database.</p>\n<p>I've researched through <a href=\"https://quarkus.io/guides/datasource#multiple-datasources\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/datasource#multiple-datasources</a> and <a href=\"https://quarkus.io/guides/hibernate-orm#multitenancy\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-orm#multitenancy</a>, but could not figure out if this is possible.</p>\n<p>my application.properties is as below;</p>\n<pre><code>quarkus.datasource.postgresql.db-kind=postgresql\nquarkus.datasource.postgresql.username=xyz\nquarkus.datasource.postgresql.password=xyz\nquarkus.datasource.postgresql.jdbc.url=jdbc:postgresql://localhost:5432/xyz\n\nquarkus.datasource.mysql.db-kind=mysql\nquarkus.datasource.mysql.username=xyz\nquarkus.datasource.mysql.password=xyz\nquarkus.datasource.mysql.jdbc.url=jdbc:mysql://localhost:3305/xyz\n</code></pre>\n<p>my pom.xml has both;</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-jdbc-mysql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ol>\n<li>Is it possible to connect to multiple different types of database from Quarkus?</li>\n<li>How do I persist() an Entity to the correct database if such capability exists?\nThank you!</li>\n</ol>\n"},{"tags":["java","gradle","groovy","spock","micronaut"],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669471688,"creation_date":1669471688,"answer_id":74582865,"question_id":74580602,"body_markdown":"First of all I recommend to cleanup your `build.gradle` file, since you define a lots of dependencies that are automatically provided by the Micronaut `application` plugin.\r\n\r\n```gradle\r\nplugins {\r\n    id(&quot;groovy&quot;) \r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.0.0&quot;\r\n    id(&quot;io.micronaut.application&quot;) version &quot;1.5.4&quot;\r\n}\r\n\r\nversion = &quot;0.1&quot;\r\ngroup = &quot;com.example&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nmicronaut {\r\n    runtime(&quot;netty&quot;)\r\n    testRuntime(&quot;spock2&quot;)\r\n    processing {\r\n        incremental(true)\r\n        annotations(&quot;com.suvodip.panapplication.*&quot;)\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-runtime&quot;)\r\n    implementation(&quot;javax.annotation:javax.annotation-api&quot;)\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\r\n    // put your app specific dependencies here, but don&#39;t add any test deps such as Spock or JUnit\r\n}\r\n\r\n\r\napplication {\r\n    mainClass.set(&quot;com.suvodip.panapplication.Application&quot;)\r\n}\r\njava {\r\n    sourceCompatibility = JavaVersion.toVersion(&quot;11&quot;)\r\n    targetCompatibility = JavaVersion.toVersion(&quot;11&quot;)\r\n}\r\n```\r\nThen I see you are using Micronaut CRAC, as far as I know this is only supported when using Micronaut 3.7+. \r\n\r\nMy recommendation is to start with a blank Micronaut 3.7.4, copy your Spock test into that project and run it. If this works, start adding your additional dependencies such as \r\n\r\n- Postgres JDBC Driver\r\n- JDBI\r\n- …","title":"Micronaut test: Execution failed for task &#39;:compileTestGroovy&#39;. &gt; java.lang.ExceptionInInitializerError","body":"<p>First of all I recommend to cleanup your <code>build.gradle</code> file, since you define a lots of dependencies that are automatically provided by the Micronaut <code>application</code> plugin.</p>\n<pre><code>plugins {\n    id(&quot;groovy&quot;) \n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.0.0&quot;\n    id(&quot;io.micronaut.application&quot;) version &quot;1.5.4&quot;\n}\n\nversion = &quot;0.1&quot;\ngroup = &quot;com.example&quot;\n\nrepositories {\n    mavenCentral()\n}\n\nmicronaut {\n    runtime(&quot;netty&quot;)\n    testRuntime(&quot;spock2&quot;)\n    processing {\n        incremental(true)\n        annotations(&quot;com.suvodip.panapplication.*&quot;)\n    }\n}\n\ndependencies {\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\n    implementation(&quot;io.micronaut:micronaut-runtime&quot;)\n    implementation(&quot;javax.annotation:javax.annotation-api&quot;)\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\n    // put your app specific dependencies here, but don't add any test deps such as Spock or JUnit\n}\n\n\napplication {\n    mainClass.set(&quot;com.suvodip.panapplication.Application&quot;)\n}\njava {\n    sourceCompatibility = JavaVersion.toVersion(&quot;11&quot;)\n    targetCompatibility = JavaVersion.toVersion(&quot;11&quot;)\n}\n</code></pre>\n<p>Then I see you are using Micronaut CRAC, as far as I know this is only supported when using Micronaut 3.7+.</p>\n<p>My recommendation is to start with a blank Micronaut 3.7.4, copy your Spock test into that project and run it. If this works, start adding your additional dependencies such as</p>\n<ul>\n<li>Postgres JDBC Driver</li>\n<li>JDBI</li>\n<li>…</li>\n</ul>\n"}],"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669471688,"creation_date":1669449546,"question_id":74580602,"body_markdown":"I am new to micronaut and I am trying to implement spock test on my project. I am currently using `micronautVersion=2.5.13` and I am having my tests in `src/test/groovy/{package_name}`. I am trying to run this test :\r\n```\r\nimport io.micronaut.context.ApplicationContext\r\nimport io.micronaut.context.env.Environment\r\nimport io.micronaut.runtime.EmbeddedApplication\r\nimport io.micronaut.test.extensions.spock.annotation.MicronautTest\r\nimport spock.lang.Specification\r\nimport spock.lang.Unroll\r\n\r\nimport javax.inject.Inject\r\n\r\n@MicronautTest\r\nclass EnvironmentDetectionSpec extends Specification {\r\n    @Unroll\r\n    void &quot;test environment is detected automatically&quot; () {\r\n        given:\r\n        ApplicationContext ctx = ApplicationContext.run()\r\n\r\n        expect:\r\n        ctx.environment.getActiveNames().contains(Environment.TEST)\r\n\r\n        cleanup:\r\n        ctx.close()\r\n    }\r\n}\r\n```\r\n\r\non running the test I am getting this exception:\r\n\r\n```\r\nException is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:compileTestGroovy&#39;.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n        at io.micronaut.ast.groovy.utils.AstAnnotationUtils$_getAnnotationMetadata_closure1.doCall(AstAnnotationUtils.groovy:54)\r\n        at com.sun.proxy.$Proxy36.apply(Unknown Source)\r\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.lambda$compute$0(ConcurrentLinkedHashMap.java:721)\r\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.compute(ConcurrentLinkedHashMap.java:733)\r\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.computeIfAbsent(ConcurrentLinkedHashMap.java:710)\r\n        at io.micronaut.ast.groovy.utils.AstAnnotationUtils.getAnnotationMetadata(AstAnnotationUtils.groovy:53)\r\n        at io.micronaut.ast.groovy.visitor.LoadedVisitor.matches(LoadedVisitor.groovy:114)\r\n        at io.micronaut.ast.groovy.TypeElementVisitorTransform$_visit_closure1.doCall(TypeElementVisitorTransform.groovy:81)\r\n        at io.micronaut.ast.groovy.TypeElementVisitorTransform.visit(TypeElementVisitorTransform.groovy:81)\r\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\r\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\r\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\r\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\r\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\r\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\r\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\r\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\r\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\r\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.ClassCastException: io.micronaut.inject.annotation.internal.KotlinNullableMapper cannot be cast to io.micronaut.inject.annotation.AnnotationMapper\r\n        at io.micronaut.inject.annotation.AbstractAnnotationMetadataBuilder.&lt;clinit&gt;(AbstractAnnotationMetadataBuilder.java:70)\r\n        ... 33 more\r\n```\r\n\r\nHere is my `build.gradle`:\r\n\r\n```\r\nplugins {\r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.0.0&quot;\r\n    id(&quot;io.micronaut.application&quot;) version &quot;1.5.4&quot;\r\n    id &quot;groovy&quot;\r\n}\r\n\r\nversion = &quot;0.1&quot;\r\ngroup = {groupName}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation (&#39;org.projectlombok:lombok:1.18.24&#39;)\r\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-runtime&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jdbi&quot;)\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    implementation &#39;io.micronaut:micronaut-inject-java:3.4.3&#39;\r\n    implementation &#39;io.micronaut:micronaut-inject:3.4.3&#39;\r\n    implementation &#39;io.github.crac.io.micronaut:micronaut-inject-java:1.3.7&#39;\r\n//    implementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n//    implementation &#39;io.micronaut.test:micronaut-test-junit5:3.2.0&#39;\r\n//    implementation &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    implementation &#39;redis.clients:jedis:2.8.2&#39;\r\n    implementation group: &#39;io.reactivex.rxjava2&#39;, name: &#39;rxjava&#39;, version: &#39;2.2.19&#39;\r\n//    implementation &#39;org.junit.jupiter:junit-jupiter:5.8.2&#39;\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\r\n\r\n    // Testing dependencies\r\n    testImplementation(&quot;org.spockframework:spock-core&quot;) {\r\n        exclude group: &quot;org.codehaus.groovy&quot;, module: &quot;groovy-all&quot;\r\n    }\r\n    testImplementation &quot;io.micronaut:micronaut-inject-groovy&quot;\r\n    testImplementation &quot;io.micronaut.test:micronaut-test-spock&quot;\r\n}\r\n\r\n\r\napplication {\r\n    mainClass.set(&quot;com.suvodip.panapplication.Application&quot;)\r\n}\r\njava {\r\n    sourceCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\r\n    targetCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\r\n}\r\n\r\nmicronaut {\r\n    runtime(&quot;netty&quot;)\r\n    testRuntime(&quot;spock2&quot;)\r\n    processing {\r\n        incremental(true)\r\n        annotations({packageName})\r\n    }\r\n}\r\n```\r\n\r\nI have even tried to eliminate the junit from dependencies but still getting the same error. Would be really thankful if someone could help me here.","title":"Micronaut test: Execution failed for task &#39;:compileTestGroovy&#39;. &gt; java.lang.ExceptionInInitializerError","body":"<p>I am new to micronaut and I am trying to implement spock test on my project. I am currently using <code>micronautVersion=2.5.13</code> and I am having my tests in <code>src/test/groovy/{package_name}</code>. I am trying to run this test :</p>\n<pre><code>import io.micronaut.context.ApplicationContext\nimport io.micronaut.context.env.Environment\nimport io.micronaut.runtime.EmbeddedApplication\nimport io.micronaut.test.extensions.spock.annotation.MicronautTest\nimport spock.lang.Specification\nimport spock.lang.Unroll\n\nimport javax.inject.Inject\n\n@MicronautTest\nclass EnvironmentDetectionSpec extends Specification {\n    @Unroll\n    void &quot;test environment is detected automatically&quot; () {\n        given:\n        ApplicationContext ctx = ApplicationContext.run()\n\n        expect:\n        ctx.environment.getActiveNames().contains(Environment.TEST)\n\n        cleanup:\n        ctx.close()\n    }\n}\n</code></pre>\n<p>on running the test I am getting this exception:</p>\n<pre><code>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileTestGroovy'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.ExceptionInInitializerError\n        at io.micronaut.ast.groovy.utils.AstAnnotationUtils$_getAnnotationMetadata_closure1.doCall(AstAnnotationUtils.groovy:54)\n        at com.sun.proxy.$Proxy36.apply(Unknown Source)\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.lambda$compute$0(ConcurrentLinkedHashMap.java:721)\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.compute(ConcurrentLinkedHashMap.java:733)\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.computeIfAbsent(ConcurrentLinkedHashMap.java:710)\n        at io.micronaut.ast.groovy.utils.AstAnnotationUtils.getAnnotationMetadata(AstAnnotationUtils.groovy:53)\n        at io.micronaut.ast.groovy.visitor.LoadedVisitor.matches(LoadedVisitor.groovy:114)\n        at io.micronaut.ast.groovy.TypeElementVisitorTransform$_visit_closure1.doCall(TypeElementVisitorTransform.groovy:81)\n        at io.micronaut.ast.groovy.TypeElementVisitorTransform.visit(TypeElementVisitorTransform.groovy:81)\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.ClassCastException: io.micronaut.inject.annotation.internal.KotlinNullableMapper cannot be cast to io.micronaut.inject.annotation.AnnotationMapper\n        at io.micronaut.inject.annotation.AbstractAnnotationMetadataBuilder.&lt;clinit&gt;(AbstractAnnotationMetadataBuilder.java:70)\n        ... 33 more\n</code></pre>\n<p>Here is my <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.0.0&quot;\n    id(&quot;io.micronaut.application&quot;) version &quot;1.5.4&quot;\n    id &quot;groovy&quot;\n}\n\nversion = &quot;0.1&quot;\ngroup = {groupName}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation ('org.projectlombok:lombok:1.18.24')\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\n    implementation(&quot;io.micronaut:micronaut-runtime&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbi&quot;)\n    implementation 'com.google.code.gson:gson:2.9.0'\n    implementation 'io.micronaut:micronaut-inject-java:3.4.3'\n    implementation 'io.micronaut:micronaut-inject:3.4.3'\n    implementation 'io.github.crac.io.micronaut:micronaut-inject-java:1.3.7'\n//    implementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n//    implementation 'io.micronaut.test:micronaut-test-junit5:3.2.0'\n//    implementation 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n    implementation 'redis.clients:jedis:2.8.2'\n    implementation group: 'io.reactivex.rxjava2', name: 'rxjava', version: '2.2.19'\n//    implementation 'org.junit.jupiter:junit-jupiter:5.8.2'\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\n\n    // Testing dependencies\n    testImplementation(&quot;org.spockframework:spock-core&quot;) {\n        exclude group: &quot;org.codehaus.groovy&quot;, module: &quot;groovy-all&quot;\n    }\n    testImplementation &quot;io.micronaut:micronaut-inject-groovy&quot;\n    testImplementation &quot;io.micronaut.test:micronaut-test-spock&quot;\n}\n\n\napplication {\n    mainClass.set(&quot;com.suvodip.panapplication.Application&quot;)\n}\njava {\n    sourceCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\n    targetCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\n}\n\nmicronaut {\n    runtime(&quot;netty&quot;)\n    testRuntime(&quot;spock2&quot;)\n    processing {\n        incremental(true)\n        annotations({packageName})\n    }\n}\n</code></pre>\n<p>I have even tried to eliminate the junit from dependencies but still getting the same error. Would be really thankful if someone could help me here.</p>\n"},{"tags":["java","spring","spring-boot","apache-zookeeper","spring-test"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580302679,"creation_date":1580302679,"answer_id":59967654,"question_id":59967476,"body_markdown":"As an idea - have you tried to put a `@Conditional` annotation on your ZooKeeper Auto Configuration class? \r\n\r\n~~~\r\n@Configuration\r\n@ConditionalOn....\r\npublic class com.company.name.ZooKeeperAutoConfig  {\r\n}\r\n~~~\r\n\r\nI can&#39;t check this by myself but maybe conditional on property could be relevant or, `org.springframework.boot.autoconfigure.condition.ConditionalOnNotWebApplication` that is supposed to match if the application context is not a web application context (but test appplication context relevant for tests)","title":"exclude BootstrapConfiguration classes in spring boot for tests","body":"<p>As an idea - have you tried to put a <code>@Conditional</code> annotation on your ZooKeeper Auto Configuration class? </p>\n\n<pre><code>@Configuration\n@ConditionalOn....\npublic class com.company.name.ZooKeeperAutoConfig  {\n}\n</code></pre>\n\n<p>I can't check this by myself but maybe conditional on property could be relevant or, <code>org.springframework.boot.autoconfigure.condition.ConditionalOnNotWebApplication</code> that is supposed to match if the application context is not a web application context (but test appplication context relevant for tests)</p>\n"},{"tags":[],"owner":{"account_id":27054276,"reputation":1,"user_id":20607216,"display_name":"wei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669471549,"creation_date":1669471549,"answer_id":74582841,"question_id":59967476,"body_markdown":"I have the same issue as you;\r\nhere are properties I don&#39;t want to load in my unit test,\r\n```\r\norg.springframework.cloud.bootstrap.BootstrapConfiguration=\\\r\ncom.alibaba.cloud.nacos.NacosConfigBootstrapConfiguration\r\n```\r\n``NacosConfigBootstrapConfiguration`` defines as this:\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\n@ConditionalOnProperty(name = &quot;spring.cloud.nacos.config.enabled&quot;, matchIfMissing = true)\r\npublic class NacosConfigBootstrapConfiguration {\r\n}\r\n```\r\nI fixed the issue through:\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n@Slf4j\r\n@EnableAutoConfiguration(exclude=\r\n        {NacosConfigAutoConfiguration.class, NacosConfigEndpointAutoConfiguration.class,})\r\n@TestPropertySource(properties = {&quot;spring.cloud.nacos.config.enabled=false&quot;})\r\npublic class XXXDemo {}\r\n```\r\nthis line ``@TestPropertySource(properties = {&quot;spring.cloud.nacos.config.enabled=false&quot;})`` takes effect!","title":"exclude BootstrapConfiguration classes in spring boot for tests","body":"<p>I have the same issue as you;\nhere are properties I don't want to load in my unit test,</p>\n<pre><code>org.springframework.cloud.bootstrap.BootstrapConfiguration=\\\ncom.alibaba.cloud.nacos.NacosConfigBootstrapConfiguration\n</code></pre>\n<p><code>NacosConfigBootstrapConfiguration</code> defines as this:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@ConditionalOnProperty(name = &quot;spring.cloud.nacos.config.enabled&quot;, matchIfMissing = true)\npublic class NacosConfigBootstrapConfiguration {\n}\n</code></pre>\n<p>I fixed the issue through:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\n@Slf4j\n@EnableAutoConfiguration(exclude=\n        {NacosConfigAutoConfiguration.class, NacosConfigEndpointAutoConfiguration.class,})\n@TestPropertySource(properties = {&quot;spring.cloud.nacos.config.enabled=false&quot;})\npublic class XXXDemo {}\n</code></pre>\n<p>this line <code>@TestPropertySource(properties = {&quot;spring.cloud.nacos.config.enabled=false&quot;})</code> takes effect!</p>\n"}],"owner":{"account_id":200272,"reputation":1214,"user_id":446029,"accept_rate":19,"display_name":"Kuldeep Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669471549,"creation_date":1580302126,"question_id":59967476,"body_markdown":"I have an application which reads its configuration properties from Zookeeper instance.\r\n\r\nThere is one internal spring-boot-auto-configure module which helps in reading the information from zookeeper instance.\r\n\r\nWe need to set the zookeeper instance information in `bootstrap.properties` file.\r\n\r\n**spring.factories from auto-configure module**\r\n\r\n    org.springframework.cloud.bootstrap.BootstrapConfiguration=\\\r\n      com.company.name.ZooKeeperAutoConfig\r\n\r\nThere are also AutoConfiguration classes in the same file\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n      com.company.name.XyzAutoConfig\r\n\r\nSo when application starts, it gets the info from bootstrap.properties and connect to zookeeper instance via auto-configure-module.\r\n\r\nI want to write tests for Spring API controller layer using `@WebMvcTest` annotation.\r\nBut even in tests it tries to connect to zookeeper instance, which I dont want. I dont want unit tests talking to external services.\r\n\r\nI want to exclude the zookeeper bootstrap configuration during tests. \r\n\r\nFew ways I have tried without any luck.\r\n\r\n1) I tried to exclude like following, but still it connects to Zookeeper\r\n\r\n    @TestPropertySource(properties=\r\n    {&quot;spring.autoconfigure.exclude=com.company.name.ZooKeeperAutoConfig&quot;})\r\n\r\n2) I created bootstrap-test.properties and added some dummy values for zookeeper properties. And in test I added `@ActiveProfile(&quot;test&quot;)` . This tries to connect to zookeeper via dummy values and fails in the end.\r\n\r\nIs there any way I can totally ignore/exclude the Zookeeper bootstrap configuration. Application should not aware that it needs to connect to zookeeper to be working.\r\n\r\nIs it feasible to exclude BootstrapConfiguration in tests or not?\r\n\r\nPlease let me know if any more information is required.\r\n","title":"exclude BootstrapConfiguration classes in spring boot for tests","body":"<p>I have an application which reads its configuration properties from Zookeeper instance.</p>\n\n<p>There is one internal spring-boot-auto-configure module which helps in reading the information from zookeeper instance.</p>\n\n<p>We need to set the zookeeper instance information in <code>bootstrap.properties</code> file.</p>\n\n<p><strong>spring.factories from auto-configure module</strong></p>\n\n<pre><code>org.springframework.cloud.bootstrap.BootstrapConfiguration=\\\n  com.company.name.ZooKeeperAutoConfig\n</code></pre>\n\n<p>There are also AutoConfiguration classes in the same file</p>\n\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  com.company.name.XyzAutoConfig\n</code></pre>\n\n<p>So when application starts, it gets the info from bootstrap.properties and connect to zookeeper instance via auto-configure-module.</p>\n\n<p>I want to write tests for Spring API controller layer using <code>@WebMvcTest</code> annotation.\nBut even in tests it tries to connect to zookeeper instance, which I dont want. I dont want unit tests talking to external services.</p>\n\n<p>I want to exclude the zookeeper bootstrap configuration during tests. </p>\n\n<p>Few ways I have tried without any luck.</p>\n\n<p>1) I tried to exclude like following, but still it connects to Zookeeper</p>\n\n<pre><code>@TestPropertySource(properties=\n{\"spring.autoconfigure.exclude=com.company.name.ZooKeeperAutoConfig\"})\n</code></pre>\n\n<p>2) I created bootstrap-test.properties and added some dummy values for zookeeper properties. And in test I added <code>@ActiveProfile(\"test\")</code> . This tries to connect to zookeeper via dummy values and fails in the end.</p>\n\n<p>Is there any way I can totally ignore/exclude the Zookeeper bootstrap configuration. Application should not aware that it needs to connect to zookeeper to be working.</p>\n\n<p>Is it feasible to exclude BootstrapConfiguration in tests or not?</p>\n\n<p>Please let me know if any more information is required.</p>\n"},{"tags":["java","tomcat","servlets","tomcat8","servletcontextlistener"],"comments":[{"owner":{"display_name":"user3335083"},"score":0,"creation_date":1520604622,"post_id":49195295,"comment_id":85395944,"body_markdown":"i don&#39;t see enough code here.","body":"i don&#39;t see enough code here."},{"owner":{"account_id":4323335,"reputation":1550,"user_id":3530799,"accept_rate":77,"display_name":"Kirill"},"score":0,"creation_date":1520608027,"post_id":49195295,"comment_id":85398093,"body_markdown":"@DieNerd I&#39;ve added code","body":"@DieNerd I&#39;ve added code"}],"answers":[{"tags":[],"owner":{"account_id":4323335,"reputation":1550,"user_id":3530799,"accept_rate":77,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1520885742,"creation_date":1520885742,"answer_id":49243730,"question_id":49195295,"body_markdown":"I did it using `ServletContainerInitializer`.\r\n\r\n    StandardContext context = buildContext(tomcat);\r\n    ...\r\n    context.addServletContainerInitializer(new DataBaseInitializer(DATA_BASE_SCHEMA), null);","title":"How to add ServletContextListener in embedded tomcat","body":"<p>I did it using <code>ServletContainerInitializer</code>.</p>\n\n<pre><code>StandardContext context = buildContext(tomcat);\n...\ncontext.addServletContainerInitializer(new DataBaseInitializer(DATA_BASE_SCHEMA), null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669471276,"creation_date":1668894293,"answer_id":74504006,"question_id":49195295,"body_markdown":"I made a working example at [github.jakarta][1].&lt;br&gt;\r\n\r\nI just used jakarta.servlet.annotation.WebListener and contextInitialized is triggered.&lt;br&gt;\r\n\r\nI degraded from jakarta to javax for your use case [github.javax][2]&lt;br&gt;\r\n\r\n  [1]: https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded\r\n  [2]: https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded.gwt","title":"How to add ServletContextListener in embedded tomcat","body":"<p>I made a working example at <a href=\"https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded\" rel=\"nofollow noreferrer\">github.jakarta</a>.<br></p>\n<p>I just used jakarta.servlet.annotation.WebListener and contextInitialized is triggered.<br></p>\n<p>I degraded from jakarta to javax for your use case <a href=\"https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded.gwt\" rel=\"nofollow noreferrer\">github.javax</a><br></p>\n"}],"owner":{"account_id":4323335,"reputation":1550,"user_id":3530799,"accept_rate":77,"display_name":"Kirill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2282,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49243730,"answer_count":2,"score":2,"last_activity_date":1669471276,"creation_date":1520603497,"question_id":49195295,"body_markdown":"I have a simple application with embedded tomcat. And I trying to do some initialization work and I need JNDI resources.\r\n\r\nI trying to do it in `ServletContextListener.contextInitialized`.\r\n\r\nWhen I add `ServletContextListener` before `tomcat.start()`, `context.getServletContext()` returns `null`.\r\n\r\nIf I doing it after `tomcat.start()`, I got an error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Listeners cannot be added to context [] as the context has been initialised\r\n\r\nThis is launcher code:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Tomcat server = new Tomcat();\r\n        server.setPort(8080);\r\n\r\n        Context context = server.addContext(&quot;&quot;, Paths.get(&quot;.&quot;).toAbsolutePath().toString());\r\n\r\n        Tomcat.addServlet(context, &quot;hello&quot;, new HelloServlet());\r\n        context.addServletMappingDecoded(&quot;/&quot;, &quot;hello&quot;);\r\n\r\n        ContextResource resource = buildResource(\r\n            H2_DATA_SOURCE_NAME,\r\n            DataSource.class.getName(),\r\n            h2DatasourceProperties()\r\n        );\r\n\r\n        context.getNamingResources().addResource(resource);\r\n        context.getServletContext().addListener(DataBaseSchemaInit.class);\r\n\r\n        server.start();\r\n        server.getServer().await();\r\n    }\r\n\r\nHow can I add `ServletContextListener` in embedded tomcat v.8.5.28 ?","title":"How to add ServletContextListener in embedded tomcat","body":"<p>I have a simple application with embedded tomcat. And I trying to do some initialization work and I need JNDI resources.</p>\n\n<p>I trying to do it in <code>ServletContextListener.contextInitialized</code>.</p>\n\n<p>When I add <code>ServletContextListener</code> before <code>tomcat.start()</code>, <code>context.getServletContext()</code> returns <code>null</code>.</p>\n\n<p>If I doing it after <code>tomcat.start()</code>, I got an error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: Listeners cannot be added to context [] as the context has been initialised\n</code></pre>\n\n<p>This is launcher code:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Tomcat server = new Tomcat();\n    server.setPort(8080);\n\n    Context context = server.addContext(\"\", Paths.get(\".\").toAbsolutePath().toString());\n\n    Tomcat.addServlet(context, \"hello\", new HelloServlet());\n    context.addServletMappingDecoded(\"/\", \"hello\");\n\n    ContextResource resource = buildResource(\n        H2_DATA_SOURCE_NAME,\n        DataSource.class.getName(),\n        h2DatasourceProperties()\n    );\n\n    context.getNamingResources().addResource(resource);\n    context.getServletContext().addListener(DataBaseSchemaInit.class);\n\n    server.start();\n    server.getServer().await();\n}\n</code></pre>\n\n<p>How can I add <code>ServletContextListener</code> in embedded tomcat v.8.5.28 ?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1669243491,"post_id":74547019,"comment_id":131603207,"body_markdown":"I learned that I should use inorder: tomcat.stop; tomcat.destroy; @ https://stackoverflow.com/questions/67804452/embedded-tomcat-running-as-windows-service-takes-long-time-to-stop-the-service?rq=1 I will check it, wheater it fixes the problem","body":"I learned that I should use inorder: tomcat.stop; tomcat.destroy; @ <a href=\"https://stackoverflow.com/questions/67804452/embedded-tomcat-running-as-windows-service-takes-long-time-to-stop-the-service?rq=1\" title=\"embedded tomcat running as windows service takes long time to stop the service\">stackoverflow.com/questions/67804452/&hellip;</a> I will check it, wheater it fixes the problem"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1669438946,"post_id":74547019,"comment_id":131645876,"body_markdown":"When i look into code deeply, I figured out that WebServlet created by Annotation is not seeing the static Tomcat Object. So it does not process shutdown at all. I will try to add the servlet by mapping (without annotation) while sending the Tomcat object on its contructor.","body":"When i look into code deeply, I figured out that WebServlet created by Annotation is not seeing the static Tomcat Object. So it does not process shutdown at all. I will try to add the servlet by mapping (without annotation) while sending the Tomcat object on its contructor."}],"answers":[{"tags":[],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669471165,"creation_date":1669471165,"answer_id":74582808,"question_id":74547019,"body_markdown":"For some reason Servlet classes attached to context by annotation cannot read static objects.&lt;br&gt;\r\nI fixed this issue, by sending tomcat object while constructing the ServletDestroy class and mapped it to contexed manually.","title":"how to shutdown tomcat embedded gracefully (without spring)","body":"<p>For some reason Servlet classes attached to context by annotation cannot read static objects.<br>\nI fixed this issue, by sending tomcat object while constructing the ServletDestroy class and mapped it to contexed manually.</p>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74582808,"answer_count":1,"score":0,"last_activity_date":1669471165,"creation_date":1669207548,"question_id":74547019,"body_markdown":"I created sample projects to understand how to use tomcat embedded:&lt;br&gt;\r\n[tomcat embedded 9 with javax][1]&lt;br&gt;\r\n[tomcat embedded 10 with jakarta][2]&lt;br&gt;\r\n&lt;br&gt;\r\nOn ServletDestroy, in below order:\r\n- I destroyed connectors.\r\n- I wait 5 seconds.\r\n- I destroyed context.\r\n- I wait 5 seconds.\r\n- I stopped tomcat.\r\n- I wait 5 seconds.\r\n- I destroyed tomcat.\r\n\r\nBut it does not shutdown gracefully; function TS_TomcatListener.contextDestroyed never called.\r\n\r\nWhat is the right way to do it?\r\n\r\n\r\n\r\n  [1]: https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded.gwt\r\n  [2]: https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded","title":"how to shutdown tomcat embedded gracefully (without spring)","body":"<p>I created sample projects to understand how to use tomcat embedded:<br>\n<a href=\"https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded.gwt\" rel=\"nofollow noreferrer\">tomcat embedded 9 with javax</a><br>\n<a href=\"https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded\" rel=\"nofollow noreferrer\">tomcat embedded 10 with jakarta</a><br>\n<br>\nOn ServletDestroy, in below order:</p>\n<ul>\n<li>I destroyed connectors.</li>\n<li>I wait 5 seconds.</li>\n<li>I destroyed context.</li>\n<li>I wait 5 seconds.</li>\n<li>I stopped tomcat.</li>\n<li>I wait 5 seconds.</li>\n<li>I destroyed tomcat.</li>\n</ul>\n<p>But it does not shutdown gracefully; function TS_TomcatListener.contextDestroyed never called.</p>\n<p>What is the right way to do it?</p>\n"},{"tags":["java","swing","jbutton","jlabel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1669473669,"post_id":74582647,"comment_id":131650651,"body_markdown":"Don&#39;t post images of code. Post the actual formatted code with your question. *I want a label to display over the button* - Why? It looks to me like all you need to do is change the text of the button when you click on it.","body":"Don&#39;t post images of code. Post the actual formatted code with your question. <i>I want a label to display over the button</i> - Why? It looks to me like all you need to do is change the text of the button when you click on it."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1669483661,"post_id":74582647,"comment_id":131652749,"body_markdown":"`jButton1.setVisible(false);`. When you want to display the button again: `jButton1.setVisible(true);`.","body":"<code>jButton1.setVisible(false);</code>. When you want to display the button again: <code>jButton1.setVisible(true);</code>."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669471085,"creation_date":1669471085,"answer_id":74582799,"question_id":74582647,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nSince you posted an image of your code fragment, I created the following GUI.\r\n\r\n[![Example][1]][1]\r\n\r\nI should post an image of the code, but I&#39;m going to be nice and post the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class JLabelOverJButtonGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new JLabelOverJButtonGUI());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \r\n    \t\tJLabel label = new JLabel(&quot;Label&quot;);\r\n    \t\tpanel.add(label);\r\n    \r\n    \t\tJButton button = new JButton(&quot;Button&quot;);\r\n    \t\tpanel.add(button);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/id97r.png\r\n","title":"How do I display a JLabel over a JButton","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>Since you posted an image of your code fragment, I created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/id97r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/id97r.png\" alt=\"Example\" /></a></p>\n<p>I should post an image of the code, but I'm going to be nice and post the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class JLabelOverJButtonGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new JLabelOverJButtonGUI());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n\n        JLabel label = new JLabel(&quot;Label&quot;);\n        panel.add(label);\n\n        JButton button = new JButton(&quot;Button&quot;);\n        panel.add(button);\n\n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27054079,"reputation":1,"user_id":20607039,"display_name":"Hazrd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669471107,"creation_date":1669469763,"question_id":74582647,"body_markdown":"\r\n[I can see the button and when I get rid of the button, I can see the JLabel](https://i.stack.imgur.com/Sm0C9.png)I&#39;m using the Eclipse IDE and I&#39;m trying to have a JLabel display over a JButton. \r\n\r\nI already tried creating my JLabel above my JButton, still doesn&#39;t work","title":"How do I display a JLabel over a JButton","body":"<p><a href=\"https://i.stack.imgur.com/Sm0C9.png\" rel=\"nofollow noreferrer\">I can see the button and when I get rid of the button, I can see the JLabel</a>I'm using the Eclipse IDE and I'm trying to have a JLabel display over a JButton.</p>\n<p>I already tried creating my JLabel above my JButton, still doesn't work</p>\n"},{"tags":["java","xml","tree","jframe","jtree"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669467772,"creation_date":1669467371,"answer_id":74582349,"question_id":74582130,"body_markdown":"If you serialize the tree with `XMLEncoder` you can produce something like the below. By extension, you can edit it and then deserialize it. That can of course compress well as there&#39;s a lot of redundancy. Serialization would look like:\r\n\r\n    public void serialize(TreeModel model) {\r\n        try (XMLEncoder enc = new XMLEncoder(Files.newOutputStream(Path.of(&quot;tree.xml&quot;)))) {\r\n            enc.writeObject(model);\r\n        }\r\n        catch(IOException e) {\r\n            e.printStackTrace();    \r\n        }\r\n    }\r\n\r\nProducing:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;java version=&quot;18.0.2.1&quot; class=&quot;java.beans.XMLDecoder&quot;&gt;\r\n     &lt;object class=&quot;javax.swing.tree.DefaultTreeModel&quot;&gt;\r\n      &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\r\n       &lt;void property=&quot;userObject&quot;&gt;\r\n        &lt;string&gt;Life&lt;/string&gt;\r\n       &lt;/void&gt;\r\n       &lt;void method=&quot;add&quot;&gt;\r\n        &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\r\n         &lt;void property=&quot;userObject&quot;&gt;\r\n          &lt;string&gt;Plants&lt;/string&gt;\r\n         &lt;/void&gt;\r\n         &lt;void method=&quot;add&quot;&gt;\r\n          &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\r\n           &lt;void property=&quot;userObject&quot;&gt;\r\n            &lt;string&gt;Cryptogamers&lt;/string&gt;\r\n           &lt;/void&gt;\r\n          &lt;/object&gt;\r\n         &lt;/void&gt;\r\n        &lt;/object&gt;\r\n       &lt;/void&gt;\r\n       &lt;void method=&quot;add&quot;&gt;\r\n        &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\r\n         &lt;void property=&quot;userObject&quot;&gt;\r\n          &lt;string&gt;Animals&lt;/string&gt;\r\n         &lt;/void&gt;\r\n         &lt;void method=&quot;add&quot;&gt;\r\n          &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\r\n           &lt;void property=&quot;userObject&quot;&gt;\r\n            &lt;string&gt;Mammals&lt;/string&gt;\r\n           &lt;/void&gt;\r\n          &lt;/object&gt;\r\n         &lt;/void&gt;\r\n        &lt;/object&gt;\r\n       &lt;/void&gt;\r\n      &lt;/object&gt;\r\n     &lt;/object&gt;\r\n    &lt;/java&gt;\r\n\r\n\r\n","title":"Implementing JTree where the DefaultMutableTreeNode is read from xml file","body":"<p>If you serialize the tree with <code>XMLEncoder</code> you can produce something like the below. By extension, you can edit it and then deserialize it. That can of course compress well as there's a lot of redundancy. Serialization would look like:</p>\n<pre><code>public void serialize(TreeModel model) {\n    try (XMLEncoder enc = new XMLEncoder(Files.newOutputStream(Path.of(&quot;tree.xml&quot;)))) {\n        enc.writeObject(model);\n    }\n    catch(IOException e) {\n        e.printStackTrace();    \n    }\n}\n</code></pre>\n<p>Producing:</p>\n\n<pre><code>&lt;java version=&quot;18.0.2.1&quot; class=&quot;java.beans.XMLDecoder&quot;&gt;\n &lt;object class=&quot;javax.swing.tree.DefaultTreeModel&quot;&gt;\n  &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\n   &lt;void property=&quot;userObject&quot;&gt;\n    &lt;string&gt;Life&lt;/string&gt;\n   &lt;/void&gt;\n   &lt;void method=&quot;add&quot;&gt;\n    &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\n     &lt;void property=&quot;userObject&quot;&gt;\n      &lt;string&gt;Plants&lt;/string&gt;\n     &lt;/void&gt;\n     &lt;void method=&quot;add&quot;&gt;\n      &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\n       &lt;void property=&quot;userObject&quot;&gt;\n        &lt;string&gt;Cryptogamers&lt;/string&gt;\n       &lt;/void&gt;\n      &lt;/object&gt;\n     &lt;/void&gt;\n    &lt;/object&gt;\n   &lt;/void&gt;\n   &lt;void method=&quot;add&quot;&gt;\n    &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\n     &lt;void property=&quot;userObject&quot;&gt;\n      &lt;string&gt;Animals&lt;/string&gt;\n     &lt;/void&gt;\n     &lt;void method=&quot;add&quot;&gt;\n      &lt;object class=&quot;javax.swing.tree.DefaultMutableTreeNode&quot;&gt;\n       &lt;void property=&quot;userObject&quot;&gt;\n        &lt;string&gt;Mammals&lt;/string&gt;\n       &lt;/void&gt;\n      &lt;/object&gt;\n     &lt;/void&gt;\n    &lt;/object&gt;\n   &lt;/void&gt;\n  &lt;/object&gt;\n &lt;/object&gt;\n&lt;/java&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669471032,"creation_date":1669468381,"answer_id":74582474,"question_id":74582130,"body_markdown":"There are various XML tree representation you can parse an XML document into e.g. DOM, Xdm, JDOM and build your JTree recursively by recursively processing that XML tree, here is an example using Saxon HE and `XdmNode` e.g.\r\n\r\n\r\n    import net.sf.saxon.s9api.Processor;\r\n    import net.sf.saxon.s9api.SaxonApiException;\r\n    import net.sf.saxon.s9api.XdmNode;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTree;\r\n    import javax.swing.tree.DefaultMutableTreeNode;\r\n    import javax.swing.tree.MutableTreeNode;\r\n    import java.io.File;\r\n\r\n    public class Main {\r\n        Main(XdmNode inputDoc) {\r\n            JFrame f = new JFrame(&quot;Swing&quot;);\r\n    \r\n            JTree root = new JTree(parseXdmTreeToSwingTree((XdmNode)inputDoc.children(&quot;*&quot;).iterator().next()));\r\n    \r\n    \r\n    \r\n            f.setSize(200, 200);\r\n            f.add(root);\r\n            f.setVisible(true);\r\n    \r\n        }\r\n    \r\n        MutableTreeNode parseXdmTreeToSwingTree(XdmNode inputNode) {\r\n            DefaultMutableTreeNode treeNode = new DefaultMutableTreeNode(inputNode.attribute(&quot;name&quot;));\r\n            for (XdmNode child : inputNode.children( &quot;*&quot;))\r\n                treeNode.add(parseXdmTreeToSwingTree(child));\r\n            return treeNode;\r\n        }\r\n    \r\n        public static void main(String[] args) throws SaxonApiException {\r\n            Processor processor = new Processor(true);\r\n            XdmNode inputDoc = processor.newDocumentBuilder().build(new File(&quot;sample1.xml&quot;));\r\n            new Main(inputDoc);\r\n        }\r\n    }\r\n\r\nSaxon HE is on Maven e.g.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\r\n            &lt;version&gt;11.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nadds the current version 11.4 to your project.","title":"Implementing JTree where the DefaultMutableTreeNode is read from xml file","body":"<p>There are various XML tree representation you can parse an XML document into e.g. DOM, Xdm, JDOM and build your JTree recursively by recursively processing that XML tree, here is an example using Saxon HE and <code>XdmNode</code> e.g.</p>\n<pre><code>import net.sf.saxon.s9api.Processor;\nimport net.sf.saxon.s9api.SaxonApiException;\nimport net.sf.saxon.s9api.XdmNode;\n\nimport javax.swing.JFrame;\nimport javax.swing.JTree;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.MutableTreeNode;\nimport java.io.File;\n\npublic class Main {\n    Main(XdmNode inputDoc) {\n        JFrame f = new JFrame(&quot;Swing&quot;);\n\n        JTree root = new JTree(parseXdmTreeToSwingTree((XdmNode)inputDoc.children(&quot;*&quot;).iterator().next()));\n\n\n\n        f.setSize(200, 200);\n        f.add(root);\n        f.setVisible(true);\n\n    }\n\n    MutableTreeNode parseXdmTreeToSwingTree(XdmNode inputNode) {\n        DefaultMutableTreeNode treeNode = new DefaultMutableTreeNode(inputNode.attribute(&quot;name&quot;));\n        for (XdmNode child : inputNode.children( &quot;*&quot;))\n            treeNode.add(parseXdmTreeToSwingTree(child));\n        return treeNode;\n    }\n\n    public static void main(String[] args) throws SaxonApiException {\n        Processor processor = new Processor(true);\n        XdmNode inputDoc = processor.newDocumentBuilder().build(new File(&quot;sample1.xml&quot;));\n        new Main(inputDoc);\n    }\n}\n</code></pre>\n<p>Saxon HE is on Maven e.g.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\n        &lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\n        &lt;version&gt;11.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>adds the current version 11.4 to your project.</p>\n"}],"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74582349,"answer_count":2,"score":0,"last_activity_date":1669471032,"creation_date":1669465428,"question_id":74582130,"body_markdown":"Is it possible to create at JTree without hardcoding every tree node but rather reading in from a xml file and getting the same output as following code will give:\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTree;\r\n    import javax.swing.tree.DefaultMutableTreeNode;\r\n\r\n    public class test {\r\n\r\n    test() {\r\n        JFrame f = new JFrame(&quot;Swing&quot;);\r\n        DefaultMutableTreeNode life = new DefaultMutableTreeNode(&quot;Life&quot;);\r\n        DefaultMutableTreeNode plants = new DefaultMutableTreeNode(&quot;Plants&quot;);\r\n        DefaultMutableTreeNode animals = new DefaultMutableTreeNode(&quot;Animals&quot;);\r\n        DefaultMutableTreeNode cryptogamers = new DefaultMutableTreeNode(&quot;Cryptogamers&quot;);\r\n        DefaultMutableTreeNode mammals = new DefaultMutableTreeNode(&quot;Mammals&quot;);\r\n        JTree root = new JTree(life);\r\n\r\n        life.add(plants);\r\n        life.add(animals);\r\n\r\n        plants.add(cryptogamers);\r\n        animals.add(mammals);\r\n\r\n        f.setSize(200, 200);\r\n        f.add(root);\r\n        f.setVisible(true);\r\n\r\n        }\r\n\r\n    public static void main(String[] args) {\r\n        new test();\r\n        }\r\n\r\n    }\r\n\r\nI want to produce the same result but without hardcoding every node by using this XML file I created: \r\n\r\n    &lt;Biosphere name=&quot;Life&quot;&gt; \r\n    &lt;Kingdom name=&quot;Plants&quot;&gt; \r\n    &lt;Division name=&quot;Cryptogamers&quot;&gt; \r\n    &lt;/Division&gt;\r\n    &lt;/Kingdom&gt;\r\n    &lt;Kingdom name=&quot;Animals&quot;&gt; \r\n    &lt;Division name=&quot;Mammals&quot;&gt; \r\n    &lt;/Division&gt;\r\n    &lt;/Kingdom&gt;\r\n    &lt;/Biosphere&gt;\r\n\r\n","title":"Implementing JTree where the DefaultMutableTreeNode is read from xml file","body":"<p>Is it possible to create at JTree without hardcoding every tree node but rather reading in from a xml file and getting the same output as following code will give:</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JTree;\nimport javax.swing.tree.DefaultMutableTreeNode;\n\npublic class test {\n\ntest() {\n    JFrame f = new JFrame(&quot;Swing&quot;);\n    DefaultMutableTreeNode life = new DefaultMutableTreeNode(&quot;Life&quot;);\n    DefaultMutableTreeNode plants = new DefaultMutableTreeNode(&quot;Plants&quot;);\n    DefaultMutableTreeNode animals = new DefaultMutableTreeNode(&quot;Animals&quot;);\n    DefaultMutableTreeNode cryptogamers = new DefaultMutableTreeNode(&quot;Cryptogamers&quot;);\n    DefaultMutableTreeNode mammals = new DefaultMutableTreeNode(&quot;Mammals&quot;);\n    JTree root = new JTree(life);\n\n    life.add(plants);\n    life.add(animals);\n\n    plants.add(cryptogamers);\n    animals.add(mammals);\n\n    f.setSize(200, 200);\n    f.add(root);\n    f.setVisible(true);\n\n    }\n\npublic static void main(String[] args) {\n    new test();\n    }\n\n}\n</code></pre>\n<p>I want to produce the same result but without hardcoding every node by using this XML file I created:</p>\n<pre><code>&lt;Biosphere name=&quot;Life&quot;&gt; \n&lt;Kingdom name=&quot;Plants&quot;&gt; \n&lt;Division name=&quot;Cryptogamers&quot;&gt; \n&lt;/Division&gt;\n&lt;/Kingdom&gt;\n&lt;Kingdom name=&quot;Animals&quot;&gt; \n&lt;Division name=&quot;Mammals&quot;&gt; \n&lt;/Division&gt;\n&lt;/Kingdom&gt;\n&lt;/Biosphere&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668900064,"creation_date":1668898809,"answer_id":74504414,"question_id":74479848,"body_markdown":"You can do this in different ways.\r\n\r\nFor example, let&#39;s assume your Basic Authentication properties YAML file, with minimum tweaks for simplicity:\r\n\r\n```yaml\r\nbasic-auth:\r\n    users:\r\n        oliver:\r\n            password: twist\r\n            id: 1\r\n        ruskin:\r\n            password: bond\r\n            id: 2\r\n        mark:\r\n            password: twain\r\n            id: 3\r\n```\r\n\r\nTo make this information accessible to your `UserDetailsService` service you can use encapsulate this information in form of [`@ConfigurationProperties`](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties), something like the following: \r\n\r\n```java\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;basic-auth&quot;)\r\npublic class BasicAuthProperties {\r\n  private Map&lt;String, Credential&gt; users = new HashMap&lt;&gt;();\r\n\r\n  // Getter &amp; setter\r\n\r\n  // Convenient method\r\n  public Optional&lt;Credential&gt; getCredential(String username) {\r\n    Optional.ofNullable(users.get(username)); \r\n  }\r\n\r\n  public static class Credential {\r\n    \t\r\n    private int id;\r\n    private String password;\r\n        \r\n    // Getter &amp; setter\r\n        \r\n  }\r\n}\r\n```\r\n\r\nAnd use this `@ConfigurationProperties` in your `UserDetailsService`:\r\n\r\n\r\n```java\r\npublic class UserService implements UserDetailsService {\r\n\r\n  private final BasicAuthProperties basicAuthProperties;\r\n\r\n  public UserService(BasicAuthProperties basicAuthProperties) {\r\n    this.basicAuthProperties = basicAuthProperties;\r\n  }\r\n\r\n  @Override\r\n  public UserDetails loadUserByUsername(String username) {\r\n    Optional&lt;BasicAuthProperties.Credential&gt; optCredential = basicAuthProperties.getCredential(username);\r\n    if (!optCredential.isPresent()) {\r\n      // handle as appropriate, consider at least logging it\r\n      return null;\r\n    }\r\n\r\n    BasicAuthProperties.Credential credential = optCredential.get();\r\n    String encodedPassword = passwordEncoder.encode(credential.getPassword());\r\n    // I assume int, the value is numeric in your YAML file, but modify it\r\n    // if necessary\r\n    int id = credential.getId();\r\n    return new User(username, encodedPassword, id);\r\n  }\r\n}\r\n```","title":"Configure Basic Auth using UserDetailsService for multiple uses in application properties","body":"<p>You can do this in different ways.</p>\n<p>For example, let's assume your Basic Authentication properties YAML file, with minimum tweaks for simplicity:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>basic-auth:\n    users:\n        oliver:\n            password: twist\n            id: 1\n        ruskin:\n            password: bond\n            id: 2\n        mark:\n            password: twain\n            id: 3\n</code></pre>\n<p>To make this information accessible to your <code>UserDetailsService</code> service you can use encapsulate this information in form of <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\"><code>@ConfigurationProperties</code></a>, something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties(prefix = &quot;basic-auth&quot;)\npublic class BasicAuthProperties {\n  private Map&lt;String, Credential&gt; users = new HashMap&lt;&gt;();\n\n  // Getter &amp; setter\n\n  // Convenient method\n  public Optional&lt;Credential&gt; getCredential(String username) {\n    Optional.ofNullable(users.get(username)); \n  }\n\n  public static class Credential {\n        \n    private int id;\n    private String password;\n        \n    // Getter &amp; setter\n        \n  }\n}\n</code></pre>\n<p>And use this <code>@ConfigurationProperties</code> in your <code>UserDetailsService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserService implements UserDetailsService {\n\n  private final BasicAuthProperties basicAuthProperties;\n\n  public UserService(BasicAuthProperties basicAuthProperties) {\n    this.basicAuthProperties = basicAuthProperties;\n  }\n\n  @Override\n  public UserDetails loadUserByUsername(String username) {\n    Optional&lt;BasicAuthProperties.Credential&gt; optCredential = basicAuthProperties.getCredential(username);\n    if (!optCredential.isPresent()) {\n      // handle as appropriate, consider at least logging it\n      return null;\n    }\n\n    BasicAuthProperties.Credential credential = optCredential.get();\n    String encodedPassword = passwordEncoder.encode(credential.getPassword());\n    // I assume int, the value is numeric in your YAML file, but modify it\n    // if necessary\n    int id = credential.getId();\n    return new User(username, encodedPassword, id);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27024396,"reputation":51,"user_id":20581896,"display_name":"Ferenc Hrutka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669470522,"creation_date":1669470522,"answer_id":74582738,"question_id":74479848,"body_markdown":"This is my solution for Basic Authentication with yaml from scratch.\r\n\r\n1.You need to put this file to the resource folder\r\n\r\nappUserList.yml:\r\n\r\n    constants:\r\n    appUserList:\r\n    - userId: 1\r\n      userName: oliver\r\n      password: twist\r\n      role: USER\r\n\r\n    - userId: 2\r\n      userName: ruskin\r\n      password: bond\r\n      role: USER\r\n\r\n    - userId: 3\r\n      userName: mark\r\n      password: twain\r\n      role: ADMIN\r\n\r\n2.You need to make an AppUser class:\r\n\r\n    public class AppUser {\r\n    \r\n        private String userId;\r\n        private String userName;\r\n        private String password;\r\n        private String role;\r\n    \r\n        public AppUser() {\r\n        }\r\n    \r\n        public AppUser(String userId, String userName, String password, String role) {\r\n            this.userId = userId;\r\n            this.userName = userName;\r\n            this.password = password;\r\n            this.role = role;\r\n        }\r\n    \r\n        //Getter and Setters\r\n    }\r\n\r\n3.You need to make a YamlPropertySourceFactory class:\r\n\r\n    public class YamlPropertySourceFactory implements PropertySourceFactory {\r\n    \r\n        @Override\r\n        public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource) throws IOException {\r\n            YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n            factory.setResources(encodedResource.getResource());\r\n    \r\n            Properties properties = factory.getObject();\r\n    \r\n            return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\r\n        }\r\n    }\r\n\r\n4.Now you can use the yaml file and the other two classes to create the AppUserProperties class:\r\n\r\n    @Component\r\n    @PropertySource(value = &quot;classpath:appUserList.yml&quot;, factory = YamlPropertySourceFactory.class)\r\n    @ConfigurationProperties(prefix = &quot;constants&quot;)\r\n    public class AppUserProperties {\r\n    \r\n        private List&lt;AppUser&gt; appUserList;\r\n    \r\n        public List&lt;AppUser&gt; getAppUserList() {\r\n            return appUserList;\r\n        }\r\n    \r\n        public void setAppUserList(List&lt;AppUser&gt; appUserList) {\r\n            this.appUserList = appUserList;\r\n        }\r\n    }\r\n\r\n5.Now you need to make a SecurityConf class where you will get the users with this method: appUserProperties.getAppUserList(). If you want use other identifiers for the users, just create the parameters in the AppUser class. \r\n\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    @Configuration\r\n    public class SecurityConf extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        AppUserProperties appUserProperties;\r\n    \r\n        @Autowired\r\n        public void configureAuth(AuthenticationManagerBuilder auth) throws Exception {\r\n    \r\n            List&lt;AppUser&gt; appUserList = appUserProperties.getAppUserList();\r\n    \r\n            for (AppUser appUser : appUserList) {\r\n                auth\r\n                        .inMemoryAuthentication()\r\n                        .withUser(appUser.getUserName())\r\n                        .password(appUser.getPassword())\r\n                        .roles(appUser.getRole());\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .permitAll()\r\n                    .and()\r\n                    .logout()\r\n                    .logoutSuccessUrl(&quot;/login?logout&quot;)\r\n                    .permitAll();\r\n        }\r\n    \r\n    }\r\n\r\nThese are all the important steps for it to work.\r\n\r\nOtherwise, here is the fully working code:\r\nhttps://github.com/FerencHrutka/Basic-Auth-with-yaml-file\r\n\r\nI hope this answers your question.\r\n\r\n","title":"Configure Basic Auth using UserDetailsService for multiple uses in application properties","body":"<p>This is my solution for Basic Authentication with yaml from scratch.</p>\n<p>1.You need to put this file to the resource folder</p>\n<p>appUserList.yml:</p>\n<pre><code>constants:\nappUserList:\n- userId: 1\n  userName: oliver\n  password: twist\n  role: USER\n\n- userId: 2\n  userName: ruskin\n  password: bond\n  role: USER\n\n- userId: 3\n  userName: mark\n  password: twain\n  role: ADMIN\n</code></pre>\n<p>2.You need to make an AppUser class:</p>\n<pre><code>public class AppUser {\n\n    private String userId;\n    private String userName;\n    private String password;\n    private String role;\n\n    public AppUser() {\n    }\n\n    public AppUser(String userId, String userName, String password, String role) {\n        this.userId = userId;\n        this.userName = userName;\n        this.password = password;\n        this.role = role;\n    }\n\n    //Getter and Setters\n}\n</code></pre>\n<p>3.You need to make a YamlPropertySourceFactory class:</p>\n<pre><code>public class YamlPropertySourceFactory implements PropertySourceFactory {\n\n    @Override\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource) throws IOException {\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n        factory.setResources(encodedResource.getResource());\n\n        Properties properties = factory.getObject();\n\n        return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\n    }\n}\n</code></pre>\n<p>4.Now you can use the yaml file and the other two classes to create the AppUserProperties class:</p>\n<pre><code>@Component\n@PropertySource(value = &quot;classpath:appUserList.yml&quot;, factory = YamlPropertySourceFactory.class)\n@ConfigurationProperties(prefix = &quot;constants&quot;)\npublic class AppUserProperties {\n\n    private List&lt;AppUser&gt; appUserList;\n\n    public List&lt;AppUser&gt; getAppUserList() {\n        return appUserList;\n    }\n\n    public void setAppUserList(List&lt;AppUser&gt; appUserList) {\n        this.appUserList = appUserList;\n    }\n}\n</code></pre>\n<p>5.Now you need to make a SecurityConf class where you will get the users with this method: appUserProperties.getAppUserList(). If you want use other identifiers for the users, just create the parameters in the AppUser class.</p>\n<pre><code>@EnableGlobalMethodSecurity(securedEnabled = true)\n@Configuration\npublic class SecurityConf extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    AppUserProperties appUserProperties;\n\n    @Autowired\n    public void configureAuth(AuthenticationManagerBuilder auth) throws Exception {\n\n        List&lt;AppUser&gt; appUserList = appUserProperties.getAppUserList();\n\n        for (AppUser appUser : appUserList) {\n            auth\n                    .inMemoryAuthentication()\n                    .withUser(appUser.getUserName())\n                    .password(appUser.getPassword())\n                    .roles(appUser.getRole());\n        }\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n                .and()\n                .logout()\n                .logoutSuccessUrl(&quot;/login?logout&quot;)\n                .permitAll();\n    }\n\n}\n</code></pre>\n<p>These are all the important steps for it to work.</p>\n<p>Otherwise, here is the fully working code:\n<a href=\"https://github.com/FerencHrutka/Basic-Auth-with-yaml-file\" rel=\"nofollow noreferrer\">https://github.com/FerencHrutka/Basic-Auth-with-yaml-file</a></p>\n<p>I hope this answers your question.</p>\n"}],"owner":{"account_id":887484,"reputation":784,"user_id":926572,"accept_rate":50,"display_name":"sonic boom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1669470522,"creation_date":1668706852,"question_id":74479848,"body_markdown":"I&#39;ve multiple users which I want to configure into spring-boot&#39;s `UserDetailsService` for basic authentication.\r\n\r\n`User` has a additional field `id` tagged with it.\r\n\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    public class User implements UserDetails {\r\n    \tprivate final String username;\r\n      \tprivate final String password;\r\n      \tprivate final String id;\r\n    \r\n      \tprivate static final String ROLE_USER = &quot;ROLE_USER&quot;;\r\n    \r\n    \t@Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t\tSimpleGrantedAuthority simpleGrantedAuthority = new SimpleGrantedAuthority(ROLE_USER);\r\n    \t\treturn Stream.of(simpleGrantedAuthority).collect(Collectors.toList());\r\n    \t}\r\n    \r\n      \t// Getter &amp; setter\r\n    }\r\n\r\nProperties yml looks like:\r\n\r\n    basic-auth:\r\n        oliver:\r\n            password: twist\r\n            id: 1\r\n        ruskin:\r\n        \tpassword: bond\r\n           \tid: 2\r\n        mark:\r\n        \tpassword: twain\r\n            id: 3\r\n\r\nIn `UserDetailsService`, I&#39;m not sure how to configure users using application properties dynamically.\r\n\r\n    public class UserService implements UserDetailsService {\r\n    \r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String username) {\r\n    \r\n    \t\tString encodedPassword = passwordEncoder.encode( // How to fetch password );\r\n    \r\n    \t\tString id = // How to fetch id\r\n    \r\n    \t\treturn new User(username, encodedPassword, id);\r\n    \t}\r\n    }\r\n\r\n","title":"Configure Basic Auth using UserDetailsService for multiple uses in application properties","body":"<p>I've multiple users which I want to configure into spring-boot's <code>UserDetailsService</code> for basic authentication.</p>\n<p><code>User</code> has a additional field <code>id</code> tagged with it.</p>\n<pre><code>import org.springframework.security.core.userdetails.UserDetails;\n\npublic class User implements UserDetails {\n    private final String username;\n    private final String password;\n    private final String id;\n\n    private static final String ROLE_USER = &quot;ROLE_USER&quot;;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        SimpleGrantedAuthority simpleGrantedAuthority = new SimpleGrantedAuthority(ROLE_USER);\n        return Stream.of(simpleGrantedAuthority).collect(Collectors.toList());\n    }\n\n    // Getter &amp; setter\n}\n</code></pre>\n<p>Properties yml looks like:</p>\n<pre><code>basic-auth:\n    oliver:\n        password: twist\n        id: 1\n    ruskin:\n        password: bond\n        id: 2\n    mark:\n        password: twain\n        id: 3\n</code></pre>\n<p>In <code>UserDetailsService</code>, I'm not sure how to configure users using application properties dynamically.</p>\n<pre><code>public class UserService implements UserDetailsService {\n\n    @Override\n    public UserDetails loadUserByUsername(String username) {\n\n        String encodedPassword = passwordEncoder.encode( // How to fetch password );\n\n        String id = // How to fetch id\n\n        return new User(username, encodedPassword, id);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","osmdroid"],"answers":[{"tags":[],"owner":{"account_id":46017,"reputation":5640,"user_id":135837,"display_name":"Josef Adamcik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1546852872,"creation_date":1546852872,"answer_id":54071526,"question_id":54070715,"body_markdown":"Your `onOpen` method inflates new layout, sets value for a text view in that layout...and than finishes leaving the layout for the garbage collector to be removed. The layout is not attched to a view hiearchy (because `myRoot` is not part of the view hiearchy) so it&#39;s not displayed anywhere.\r\n\r\nInfoWindow actually inflates and creates its view hiearchy for you. You can access it through the protected field `mView`.\r\n\r\nSo your onOpen method could be written like this:\r\n\r\n    public void onOpen(Object arg0) {\r\n            TextView moreinfo=mView.findViewById(R.id.details_txt);\r\n            TextView name=mView.findViewById(R.id.name_txt);\r\n            name.setText(de.name);\r\n    }\r\n\r\nFor more insight you could check out [the source code of the InfoWindow class][1].\r\n\r\n\r\n  [1]: https://github.com/osmdroid/osmdroid/blob/master/osmdroid-android/src/main/java/org/osmdroid/views/overlay/infowindow/InfoWindow.java","title":"osmdroid custom info window not accepting changes","body":"<p>Your <code>onOpen</code> method inflates new layout, sets value for a text view in that layout...and than finishes leaving the layout for the garbage collector to be removed. The layout is not attched to a view hiearchy (because <code>myRoot</code> is not part of the view hiearchy) so it's not displayed anywhere.</p>\n\n<p>InfoWindow actually inflates and creates its view hiearchy for you. You can access it through the protected field <code>mView</code>.</p>\n\n<p>So your onOpen method could be written like this:</p>\n\n<pre><code>public void onOpen(Object arg0) {\n        TextView moreinfo=mView.findViewById(R.id.details_txt);\n        TextView name=mView.findViewById(R.id.name_txt);\n        name.setText(de.name);\n}\n</code></pre>\n\n<p>For more insight you could check out <a href=\"https://github.com/osmdroid/osmdroid/blob/master/osmdroid-android/src/main/java/org/osmdroid/views/overlay/infowindow/InfoWindow.java\" rel=\"nofollow noreferrer\">the source code of the InfoWindow class</a>.</p>\n"}],"owner":{"account_id":4720440,"reputation":92,"user_id":3818488,"accept_rate":57,"display_name":"Abol_Fa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54071526,"answer_count":1,"score":0,"last_activity_date":1669469940,"creation_date":1546849140,"question_id":54070715,"body_markdown":"I&#39;m using a custom InfoWindow layout for my osmdroid markers(OSMDroid version 6.0.3)&lt;br&gt;\r\nMarkers are added like this:\r\n\r\n    for(int i=0;i&lt;10;i++){\r\n\r\n    GeoPoint startPoint = new GeoPoint(Double.parseDouble(lat_lon[0]), Double.parseDouble(lat_lon[1]));\r\n                            Marker startMarker = new Marker(map);\r\n                            startMarker.setPosition(startPoint);\r\n                            InfoWindow infoWindow = new MyInfoWindow(R.layout.listview_layout, map,device);\r\n                            startMarker.setAnchor(Marker.ANCHOR_CENTER, Marker.ANCHOR_BOTTOM);                            \r\n                            startMarker.setInfoWindow(infoWindow);                            \r\n                            startMarker.setId(Integer.toString(i));\r\n                            startMarker.setOnMarkerClickListener(new Marker.OnMarkerClickListener() {\r\n                                @Override\r\n                                public boolean onMarkerClick(Marker marker, MapView mapView) {\r\n                                    int d_id=Integer.parseInt(marker.getId());\r\n    \r\n    \r\n                                    start_details(items.get(d_id));\r\n                                    return true;\r\n                                }\r\n                            });\r\n                            map.getOverlays().add(startMarker);\r\n    \r\n                            startMarker.showInfoWindow();\r\n    }\r\n\r\nand my custom InfoWindow is an inner class of my activity and is defined as:&lt;br&gt;\r\n\r\n    private class MyInfoWindow extends InfoWindow{\r\n            public int index=0;\r\n            private datalogger de=null;\r\n            public MyInfoWindow(int layoutResId, MapView mapView,datalogger dev) {\r\n                super(layoutResId, mapView);\r\n                de=dev;\r\n            }\r\n            public void onClose() {\r\n            }\r\n    \r\n            public void onOpen(Object arg0) {\r\n                LayoutInflater l=(LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);\r\n                LinearLayout myRoot = new LinearLayout(getBaseContext());\r\n                View v=l.inflate(R.layout.listview_layout,myRoot,false);\r\n                TextView moreinfo=v.findViewById(R.id.details_txt);\r\n                TextView name=v.findViewById(R.id.name_txt);\r\n                name.setText(de.name);\r\n    }\r\nAfter running my app, InfoWindows show up but the elements inside them have their predefined values from the android studio designer. I also tried using `findViewById()` directly (instead of using layoutinflater) but that returns a null value.","title":"osmdroid custom info window not accepting changes","body":"<p>I'm using a custom InfoWindow layout for my osmdroid markers(OSMDroid version 6.0.3)<br>\nMarkers are added like this:</p>\n\n<pre><code>for(int i=0;i&lt;10;i++){\n\nGeoPoint startPoint = new GeoPoint(Double.parseDouble(lat_lon[0]), Double.parseDouble(lat_lon[1]));\n                        Marker startMarker = new Marker(map);\n                        startMarker.setPosition(startPoint);\n                        InfoWindow infoWindow = new MyInfoWindow(R.layout.listview_layout, map,device);\n                        startMarker.setAnchor(Marker.ANCHOR_CENTER, Marker.ANCHOR_BOTTOM);                            \n                        startMarker.setInfoWindow(infoWindow);                            \n                        startMarker.setId(Integer.toString(i));\n                        startMarker.setOnMarkerClickListener(new Marker.OnMarkerClickListener() {\n                            @Override\n                            public boolean onMarkerClick(Marker marker, MapView mapView) {\n                                int d_id=Integer.parseInt(marker.getId());\n\n\n                                start_details(items.get(d_id));\n                                return true;\n                            }\n                        });\n                        map.getOverlays().add(startMarker);\n\n                        startMarker.showInfoWindow();\n}\n</code></pre>\n\n<p>and my custom InfoWindow is an inner class of my activity and is defined as:<br></p>\n\n<pre><code>private class MyInfoWindow extends InfoWindow{\n        public int index=0;\n        private datalogger de=null;\n        public MyInfoWindow(int layoutResId, MapView mapView,datalogger dev) {\n            super(layoutResId, mapView);\n            de=dev;\n        }\n        public void onClose() {\n        }\n\n        public void onOpen(Object arg0) {\n            LayoutInflater l=(LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);\n            LinearLayout myRoot = new LinearLayout(getBaseContext());\n            View v=l.inflate(R.layout.listview_layout,myRoot,false);\n            TextView moreinfo=v.findViewById(R.id.details_txt);\n            TextView name=v.findViewById(R.id.name_txt);\n            name.setText(de.name);\n}\n</code></pre>\n\n<p>After running my app, InfoWindows show up but the elements inside them have their predefined values from the android studio designer. I also tried using <code>findViewById()</code> directly (instead of using layoutinflater) but that returns a null value.</p>\n"},{"tags":["java","image","loops","android-glide"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669468321,"creation_date":1669468321,"answer_id":74582463,"question_id":74582377,"body_markdown":"Sounds like you&#39;re bound by the network speed and the size of the images, not by the library.\r\n\r\nThe only solution that I can think of is to try to make your images smaller (e.g. a format with better compression, use a lower dpi, etc.).","title":"Loading Of Multiple Images ( Android studio - Glide )","body":"<p>Sounds like you're bound by the network speed and the size of the images, not by the library.</p>\n<p>The only solution that I can think of is to try to make your images smaller (e.g. a format with better compression, use a lower dpi, etc.).</p>\n"}],"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669468321,"creation_date":1669467576,"question_id":74582377,"body_markdown":"*this question may sound dumb or irrelevant **- but i would love to learn the way this problem will be solved*** \r\n\r\n**Surface Coverage Of The Working Of App :**\r\nThe Data Being Displayed On The Screen Is Dynamic , And Is Displayed In a Loop , The Images Are Also Being Loaded During the Loop - **the URL for image and rest data is dynamically received**\r\n\r\n**Problem :**\r\nMultiple Images Are Getting Loaded Slowly\r\n\r\n**Detailed View Of The Problem**\r\nThe Images Are Being Fetched From Github And I&#39;m using glide library to load the images from the url ... the images are getting loaded fast when connected to a **high-speed Wi-Fi** but when speed is reduced to the **average download speed of mobile networks** it takes a long time while loading the images\r\n\r\n**PS- its a dumb question but would need this problem to be solved**\r\n\r\n**Code Snippet :**\r\n\r\n    loop\r\n    {\r\n      ........\r\n\r\n      Glide.with(getApplicationContext())\r\n           .load(link[c]).centerCrop().placeholder(drawable)\r\n           .into(imb);\r\n\r\n      ........\r\n    }\r\n\r\n**I tried Using cache Method ( memory&amp;disk ) and preloading** \r\nbut it only works when the image is loaded at-least one ( on a fast network )\r\n\r\n**--------------------------**\r\n\r\n# **if the answer to this problem is something around lazy load / progressive loading of images , then please give a detailed answer below**\r\n\r\n**--------------------------**\r\n\r\n*not sure whether the change should be done in the code or the way the image is accessed or from where it is accessed*\r\n\r\nAll I need to know is **how do i load multiple images faster on a slower network** using *glide or any other library* ...","title":"Loading Of Multiple Images ( Android studio - Glide )","body":"<p><em>this question may sound dumb or irrelevant <strong>- but i would love to learn the way this problem will be solved</strong></em></p>\n<p><strong>Surface Coverage Of The Working Of App :</strong>\nThe Data Being Displayed On The Screen Is Dynamic , And Is Displayed In a Loop , The Images Are Also Being Loaded During the Loop - <strong>the URL for image and rest data is dynamically received</strong></p>\n<p><strong>Problem :</strong>\nMultiple Images Are Getting Loaded Slowly</p>\n<p><strong>Detailed View Of The Problem</strong>\nThe Images Are Being Fetched From Github And I'm using glide library to load the images from the url ... the images are getting loaded fast when connected to a <strong>high-speed Wi-Fi</strong> but when speed is reduced to the <strong>average download speed of mobile networks</strong> it takes a long time while loading the images</p>\n<p><strong>PS- its a dumb question but would need this problem to be solved</strong></p>\n<p><strong>Code Snippet :</strong></p>\n<pre><code>loop\n{\n  ........\n\n  Glide.with(getApplicationContext())\n       .load(link[c]).centerCrop().placeholder(drawable)\n       .into(imb);\n\n  ........\n}\n</code></pre>\n<p><strong>I tried Using cache Method ( memory&amp;disk ) and preloading</strong>\nbut it only works when the image is loaded at-least one ( on a fast network )</p>\n<p><strong>--------------------------</strong></p>\n<h1><strong>if the answer to this problem is something around lazy load / progressive loading of images , then please give a detailed answer below</strong></h1>\n<p><strong>--------------------------</strong></p>\n<p><em>not sure whether the change should be done in the code or the way the image is accessed or from where it is accessed</em></p>\n<p>All I need to know is <strong>how do i load multiple images faster on a slower network</strong> using <em>glide or any other library</em> ...</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":27042767,"reputation":33,"user_id":20597388,"display_name":"pvpb0t"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669467766,"creation_date":1669467766,"answer_id":74582399,"question_id":73626332,"body_markdown":"Your windows enviroment variables PATH seems to be incorrectly setup. Do you have a variable called JAVA_HOME where you&#39;ve set the appropriate path as value for it. \r\n\r\nIf you have done that, go to system variable and edit PATH, then click new and paste the path to your jdk download ","title":"Forge 1.16.5 Unable to get mutable Windows environment variable map","body":"<p>Your windows enviroment variables PATH seems to be incorrectly setup. Do you have a variable called JAVA_HOME where you've set the appropriate path as value for it.</p>\n<p>If you have done that, go to system variable and edit PATH, then click new and paste the path to your jdk download</p>\n"}],"owner":{"account_id":24758797,"reputation":23,"user_id":18643443,"display_name":"Magnus Schlieben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74582399,"answer_count":1,"score":1,"last_activity_date":1669467766,"creation_date":1662488627,"question_id":73626332,"body_markdown":"When I try to build my mod I get the error:\r\n&gt;  Unable to get mutable Windows environment variable map\r\n\r\nsome infos about what Im using:\r\n````Gradle 5.6.4;\r\n    JDK 8.0;\r\n    Minecraft 1.16.5; \r\n    Forge 20210309-1.16.5; \r\n    IDEA: Intellij\r\n    Addons: Citadel; JEI;\r\n    Gradle: 4.10.3\r\n````\r\nbtw my Windows enviroment variable is set","title":"Forge 1.16.5 Unable to get mutable Windows environment variable map","body":"<p>When I try to build my mod I get the error:</p>\n<blockquote>\n<p>Unable to get mutable Windows environment variable map</p>\n</blockquote>\n<p>some infos about what Im using:</p>\n<pre><code>    JDK 8.0;\n    Minecraft 1.16.5; \n    Forge 20210309-1.16.5; \n    IDEA: Intellij\n    Addons: Citadel; JEI;\n    Gradle: 4.10.3\n</code></pre>\n<p>btw my Windows enviroment variable is set</p>\n"},{"tags":["java","swing","google-chrome","ubuntu","drag-and-drop"],"owner":{"account_id":20319621,"reputation":31,"user_id":14904622,"display_name":"andy28"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1669467475,"creation_date":1668338368,"question_id":74420435,"body_markdown":"I&#39;m trying to implement drag and drop to receive URL items from a web browser. Drag and drop works fine for almost everything (files from Dolphin, URLs from LibreWolf, document objects (e.g. images) from LibreWolf), but fails (i.e. does nothing at all) when I try to drop anything (URLs, images) from Chrome (or Brave). Drag and drop from Chrome to Dolphin seems to work just fine.\r\n\r\n\r\n```\r\npublic class Main\r\n{\r\n    private final JFrame frame;\r\n\r\n    private Main ()\r\n    {\r\n        frame = new JFrame ();\r\n        frame.setSize (640, 480);\r\n        //\r\n        // window init stuff\r\n        //\r\n        frame.setVisible (true);\r\n\r\n        // add handler to exit on window close\r\n        frame.addWindowListener (new WindowAdapter ()\r\n        {\r\n            @Override\r\n            public void windowClosing (WindowEvent e)\r\n            {\r\n                System.exit (0);\r\n            }\r\n        });\r\n\r\n        // drop handler to deal with receiving drag\r\n        // and drop events\r\n        frame.setTransferHandler (new TransferHandler () {\r\n            @Override\r\n            public boolean canImport (TransferSupport support)\r\n            {\r\n                System.out.printf (&quot;canImport called...\\n&quot;);\r\n                return super.canImport (support);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main (String[] args)\r\n    {\r\n        new Main ();\r\n    }\r\n}\r\n```\r\n\r\n\r\nUsing:\r\n* Ubuntu 20.04\r\n* Plasmashell 5.18.8\r\n* Chrome 103.0.5060.53\r\n* Java 17\r\n\r\nWhen dropping items from anything but Chrome (and Brave), I get the expected output showing that `canImport` was called, as expected. But with Chrome, nothing. Interestingly, the exact same code works as expected under Windows.\r\n\r\nAny suggestions or more information would be very much appreciated!\r\n\r\nEDIT: I&#39;ve tried it on Chromium 107.0.5304.121 (via a snap), with the same result (i.e. it didn&#39;t work). I can drag and drop from Chromium to other applications.","title":"Java drag and drop (Swing) from Chrome on Ubuntu","body":"<p>I'm trying to implement drag and drop to receive URL items from a web browser. Drag and drop works fine for almost everything (files from Dolphin, URLs from LibreWolf, document objects (e.g. images) from LibreWolf), but fails (i.e. does nothing at all) when I try to drop anything (URLs, images) from Chrome (or Brave). Drag and drop from Chrome to Dolphin seems to work just fine.</p>\n<pre><code>public class Main\n{\n    private final JFrame frame;\n\n    private Main ()\n    {\n        frame = new JFrame ();\n        frame.setSize (640, 480);\n        //\n        // window init stuff\n        //\n        frame.setVisible (true);\n\n        // add handler to exit on window close\n        frame.addWindowListener (new WindowAdapter ()\n        {\n            @Override\n            public void windowClosing (WindowEvent e)\n            {\n                System.exit (0);\n            }\n        });\n\n        // drop handler to deal with receiving drag\n        // and drop events\n        frame.setTransferHandler (new TransferHandler () {\n            @Override\n            public boolean canImport (TransferSupport support)\n            {\n                System.out.printf (&quot;canImport called...\\n&quot;);\n                return super.canImport (support);\n            }\n        });\n    }\n\n    public static void main (String[] args)\n    {\n        new Main ();\n    }\n}\n</code></pre>\n<p>Using:</p>\n<ul>\n<li>Ubuntu 20.04</li>\n<li>Plasmashell 5.18.8</li>\n<li>Chrome 103.0.5060.53</li>\n<li>Java 17</li>\n</ul>\n<p>When dropping items from anything but Chrome (and Brave), I get the expected output showing that <code>canImport</code> was called, as expected. But with Chrome, nothing. Interestingly, the exact same code works as expected under Windows.</p>\n<p>Any suggestions or more information would be very much appreciated!</p>\n<p>EDIT: I've tried it on Chromium 107.0.5304.121 (via a snap), with the same result (i.e. it didn't work). I can drag and drop from Chromium to other applications.</p>\n"},{"tags":["java","struts2"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669193416,"post_id":74542683,"comment_id":131586426,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":31567,"reputation":4953,"user_id":86809,"display_name":"David Gorsline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669215324,"creation_date":1669215324,"answer_id":74548786,"question_id":74542683,"body_markdown":"`ActionSupport` is in a different library.  To get the current implementation of `ActionSupport`,\r\n\r\n    import com.opensymphony.xwork2.ActionSupport;\r\n\r\nMy team is on [Apache Struts 2.5.30][1], and the [distribution .jar][2] includes the class you seek.  You can also look at Struts 6.0.3.\r\n\r\nDocs: https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/ActionSupport.html \r\n\r\n\r\n  [1]: https://struts.apache.org/announce-2022\r\n  [2]: https://archive.apache.org/dist/struts/2.5.30/","title":"Need to clear the error in the package of struts","body":"<p><code>ActionSupport</code> is in a different library.  To get the current implementation of <code>ActionSupport</code>,</p>\n<pre><code>import com.opensymphony.xwork2.ActionSupport;\n</code></pre>\n<p>My team is on <a href=\"https://struts.apache.org/announce-2022\" rel=\"nofollow noreferrer\">Apache Struts 2.5.30</a>, and the <a href=\"https://archive.apache.org/dist/struts/2.5.30/\" rel=\"nofollow noreferrer\">distribution .jar</a> includes the class you seek.  You can also look at Struts 6.0.3.</p>\n<p>Docs: <a href=\"https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/ActionSupport.html\" rel=\"nofollow noreferrer\">https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/ActionSupport.html</a></p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669467391,"creation_date":1669467391,"answer_id":74582353,"question_id":74542683,"body_markdown":"Since you have added a library xwork.jar on the classpath manually you can&#39;t run your project because this library is removed from the lib set. \r\n\r\nFor more details how to resolve conflict between packages xwork and xwork-core see this answer [Conflicts in xwork and xwork-core][1].\r\n\r\n&gt;Each distro of Struts2 supplied with the corresponding set of libraries in the lib folder that are compatible with the version of distro. If you use maven to resolve and fetch the dependencies you should consider the artifact struts2-core.\r\n\r\n  [1]: https://stackoverflow.com/a/17830175/573032","title":"Need to clear the error in the package of struts","body":"<p>Since you have added a library xwork.jar on the classpath manually you can't run your project because this library is removed from the lib set.</p>\n<p>For more details how to resolve conflict between packages xwork and xwork-core see this answer <a href=\"https://stackoverflow.com/a/17830175/573032\">Conflicts in xwork and xwork-core</a>.</p>\n<blockquote>\n<p>Each distro of Struts2 supplied with the corresponding set of libraries in the lib folder that are compatible with the version of distro. If you use maven to resolve and fetch the dependencies you should consider the artifact struts2-core.</p>\n</blockquote>\n"}],"owner":{"account_id":27020837,"reputation":1,"user_id":20578845,"display_name":"shanthosh Balaji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669467391,"creation_date":1669185572,"question_id":74542683,"body_markdown":"AddBookAction.java\r\n\r\n```\r\n    import com.opensymphony.xwork2.ActionSupport;\r\n    public class AddBookAction extends ActionSupport {\r\n    private static final long serialVersionUID = 1L;\r\n    private String id, name,aname,badd;\r\n    private String msg = &quot;&quot;;\r\n    int ok = 0;\r\n\r\n\r\n    public String execute() throws Exception {\r\n    Main main = new Main();\r\n    try {\r\nok = main.AddBook(id,name);\r\nif (ok &gt; 0) {\r\nmsg = &quot;Registration Successfull&quot;;\r\n} else {\r\nmsg = &quot;error&quot;;\r\n}\r\n} catch (Exception e) {\r\ne.printStackTrace();\r\n}\r\nreturn &quot;SUCCESS&quot;;\r\n}\r\npublic String getId() {\r\nreturn id;\r\n}\r\npublic void setId(String id) {\r\nthis.id = id;\r\n}\r\npublic String getName() {\r\nreturn name;\r\n}\r\npublic void setName(String name) {\r\nthis.name = name;\r\n}\r\npublic String getAname() {\r\nreturn aname;\r\n}\r\npublic void setAname(String aname) {\r\nthis.aname = aname;\r\n}\r\npublic String getBadd() {\r\nreturn badd;\r\n}\r\npublic void setBadd(String badd) {\r\nthis.badd = badd;\r\n}\r\n}\r\n```\r\n\r\nError:\r\n```\r\nC:\\Program Files (x86)\\Apache Software Foundation\\Tomcat 9.0\\webapps\\Library\\WEB-INF\\classes&gt;javac -cp ..\\lib\\xwork.jar AddBookAction.java\r\nAddBookAction.java:1: error: package com.opensymphony.xwork2 does not exist\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n                              ^\r\nAddBookAction.java:3: error: cannot find symbol\r\npublic class AddBookAction extends ActionSupport\r\n```\r\njars in my lib\r\n\r\n[![enter image description here][1]][1]\r\n \r\nPath added in system variable\r\n\r\n[![enter image description here][2]][2]\r\n\r\nxwork package added in my lib folder, system variable[class path], but while compiling I&#39;m getting  the error stating that the package isn&#39;t added on my class path. Doing the project only by notepad file not in the eclipse or any other IDE. This is my task need to do. Tried so many ways but unable to fix.\r\n\r\n  [1]: https://i.stack.imgur.com/1LMfg.png\r\n  [2]: https://i.stack.imgur.com/9vdny.png","title":"Need to clear the error in the package of struts","body":"<p>AddBookAction.java</p>\n<pre><code>    import com.opensymphony.xwork2.ActionSupport;\n    public class AddBookAction extends ActionSupport {\n    private static final long serialVersionUID = 1L;\n    private String id, name,aname,badd;\n    private String msg = &quot;&quot;;\n    int ok = 0;\n\n\n    public String execute() throws Exception {\n    Main main = new Main();\n    try {\nok = main.AddBook(id,name);\nif (ok &gt; 0) {\nmsg = &quot;Registration Successfull&quot;;\n} else {\nmsg = &quot;error&quot;;\n}\n} catch (Exception e) {\ne.printStackTrace();\n}\nreturn &quot;SUCCESS&quot;;\n}\npublic String getId() {\nreturn id;\n}\npublic void setId(String id) {\nthis.id = id;\n}\npublic String getName() {\nreturn name;\n}\npublic void setName(String name) {\nthis.name = name;\n}\npublic String getAname() {\nreturn aname;\n}\npublic void setAname(String aname) {\nthis.aname = aname;\n}\npublic String getBadd() {\nreturn badd;\n}\npublic void setBadd(String badd) {\nthis.badd = badd;\n}\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>C:\\Program Files (x86)\\Apache Software Foundation\\Tomcat 9.0\\webapps\\Library\\WEB-INF\\classes&gt;javac -cp ..\\lib\\xwork.jar AddBookAction.java\nAddBookAction.java:1: error: package com.opensymphony.xwork2 does not exist\nimport com.opensymphony.xwork2.ActionSupport;\n                              ^\nAddBookAction.java:3: error: cannot find symbol\npublic class AddBookAction extends ActionSupport\n</code></pre>\n<p>jars in my lib</p>\n<p><a href=\"https://i.stack.imgur.com/1LMfg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1LMfg.png\" alt=\"enter image description here\" /></a></p>\n<p>Path added in system variable</p>\n<p><a href=\"https://i.stack.imgur.com/9vdny.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9vdny.png\" alt=\"enter image description here\" /></a></p>\n<p>xwork package added in my lib folder, system variable[class path], but while compiling I'm getting  the error stating that the package isn't added on my class path. Doing the project only by notepad file not in the eclipse or any other IDE. This is my task need to do. Tried so many ways but unable to fix.</p>\n"},{"tags":["java","method-reference"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1669465020,"post_id":74581961,"comment_id":131649103,"body_markdown":"sry, cannot reproduce: it compiles &amp; runs as expected. (`private final List&lt;Function&lt;Integer, Integer&gt;&gt; lookupTable = Arrays.asList(this::f3, this::f4);`, prints `9`) ... `$ ./java.exe -version\njava version &quot;18.0.2.1&quot; 2022-08-18\nJava(TM) SE Runtime Environment (build 18.0.2.1+1-1)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing)\n`","body":"sry, cannot reproduce: it compiles &amp; runs as expected. (<code>private final List&lt;Function&lt;Integer, Integer&gt;&gt; lookupTable = Arrays.asList(this::f3, this::f4);</code>, prints <code>9</code>) ... <code>$ .&#47;java.exe -version java version &quot;18.0.2.1&quot; 2022-08-18 Java(TM) SE Runtime Environment (build 18.0.2.1+1-1) Java HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing) </code>"},{"owner":{"account_id":15382183,"reputation":154,"user_id":11097309,"display_name":"ThePythonator"},"score":0,"creation_date":1669465954,"post_id":74581961,"comment_id":131649237,"body_markdown":"Ok, I tried it on a different machine and I&#39;m not sure why it wasn&#39;t working initially. I can confirm that it works with OpenJDK 11 and 17, however I am certain that it didn&#39;t work when being instantiated by another class. Using a BiFunction definitely works though.","body":"Ok, I tried it on a different machine and I&#39;m not sure why it wasn&#39;t working initially. I can confirm that it works with OpenJDK 11 and 17, however I am certain that it didn&#39;t work when being instantiated by another class. Using a BiFunction definitely works though."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1669466561,"post_id":74581961,"comment_id":131649362,"body_markdown":"Does this answer your question? [Method reference for static and instance methods](https://stackoverflow.com/questions/66930573/method-reference-for-static-and-instance-methods)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66930573/method-reference-for-static-and-instance-methods\">Method reference for static and instance methods</a>"},{"owner":{"account_id":15382183,"reputation":154,"user_id":11097309,"display_name":"ThePythonator"},"score":0,"creation_date":1669467088,"post_id":74581961,"comment_id":131649458,"body_markdown":"@DidierL It definitely sheds a little more light on it, but unfortunately it isn&#39;t clear that for functions with an input parameter, you need `BiFunction` instead, and the class must go first.","body":"@DidierL It definitely sheds a little more light on it, but unfortunately it isn&#39;t clear that for functions with an input parameter, you need <code>BiFunction</code> instead, and the class must go first."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1669475238,"post_id":74581961,"comment_id":131650909,"body_markdown":"Well you need a `BiFunction` if you want to to let the caller choose which instance of the containing class to use, otherwise using a simple `Function` with `this::` makes it easier both sides.","body":"Well you need a <code>BiFunction</code> if you want to to let the caller choose which instance of the containing class to use, otherwise using a simple <code>Function</code> with <code>this::</code> makes it easier both sides."}],"answers":[{"tags":[],"owner":{"account_id":15382183,"reputation":154,"user_id":11097309,"display_name":"ThePythonator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669466883,"creation_date":1669464381,"answer_id":74582022,"question_id":74581961,"body_markdown":"For instance method references which use the `ClassName::functionName` format, instead of `instanceName::functionName`, you also need to pass the specific instance of the class to the function when calling `.apply()`.\r\n\r\nThis means that your method references are actually need to be a `BiFunction&lt;MethodReferences, Integer, Integer&gt;`, even though there is only one explicit parameter to the function.\r\n\r\nWhen calling the method, you also need to pass `this` into apply:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.function.BiFunction;\r\n\r\npublic class MethodReferences {\r\n    // To refer to non-static methods by class name,\r\n    // you must pass in the instance explicitly:\r\n    private final List&lt;BiFunction&lt;MethodReferences, Integer, Integer&gt;&gt; lookupTable = Arrays.asList(MethodReferences::f3, MethodReferences::f4);\r\n\r\n    private int f3(int x) {\r\n        return x * 2;\r\n    }\r\n\r\n    private int f4(int x) {\r\n        return x * 3;\r\n    }\r\n\r\n    public void run() {\r\n        // We need to pass this in, because it isn&#39;t implicit\r\n        // for ClassName::functionName references:\r\n        System.out.println(lookupTable.get(1).apply(3));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MethodReferences testClass = new MethodReferences();\r\n\r\n        testClass.run();\r\n    }\r\n}\r\n```","title":"List of non-static method references in Java","body":"<p>For instance method references which use the <code>ClassName::functionName</code> format, instead of <code>instanceName::functionName</code>, you also need to pass the specific instance of the class to the function when calling <code>.apply()</code>.</p>\n<p>This means that your method references are actually need to be a <code>BiFunction&lt;MethodReferences, Integer, Integer&gt;</code>, even though there is only one explicit parameter to the function.</p>\n<p>When calling the method, you also need to pass <code>this</code> into apply:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.function.BiFunction;\n\npublic class MethodReferences {\n    // To refer to non-static methods by class name,\n    // you must pass in the instance explicitly:\n    private final List&lt;BiFunction&lt;MethodReferences, Integer, Integer&gt;&gt; lookupTable = Arrays.asList(MethodReferences::f3, MethodReferences::f4);\n\n    private int f3(int x) {\n        return x * 2;\n    }\n\n    private int f4(int x) {\n        return x * 3;\n    }\n\n    public void run() {\n        // We need to pass this in, because it isn't implicit\n        // for ClassName::functionName references:\n        System.out.println(lookupTable.get(1).apply(3));\n    }\n\n    public static void main(String[] args) {\n        MethodReferences testClass = new MethodReferences();\n\n        testClass.run();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669466183,"creation_date":1669465387,"answer_id":74582124,"question_id":74581961,"body_markdown":"You need to use `BiFunction` instead of `Function`. The first argument is the implicit this argument.\r\n\r\n    public class MethodReferences {\r\n        private final static List&lt;BiFunction&lt;MethodReferences, Integer, Integer&gt;&gt; lookupTable\r\n            = Arrays.asList(MethodReferences::f3, MethodReferences::f4);\r\n\r\n        private int f3(int x) { return x * 2; }\r\n        private int f4(int x) { return x * 3; }\r\n\r\n        public void run() {\r\n            System.out.println(lookupTable.get(1).apply(this, 3));\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            MethodReferences testClass = new MethodReferences();\r\n            testClass.run();\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    9","title":"List of non-static method references in Java","body":"<p>You need to use <code>BiFunction</code> instead of <code>Function</code>. The first argument is the implicit this argument.</p>\n<pre><code>public class MethodReferences {\n    private final static List&lt;BiFunction&lt;MethodReferences, Integer, Integer&gt;&gt; lookupTable\n        = Arrays.asList(MethodReferences::f3, MethodReferences::f4);\n\n    private int f3(int x) { return x * 2; }\n    private int f4(int x) { return x * 3; }\n\n    public void run() {\n        System.out.println(lookupTable.get(1).apply(this, 3));\n    }\n\n    public static void main(String[] args) {\n        MethodReferences testClass = new MethodReferences();\n        testClass.run();\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>9\n</code></pre>\n"}],"owner":{"account_id":15382183,"reputation":154,"user_id":11097309,"display_name":"ThePythonator"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74582022,"answer_count":2,"score":-1,"last_activity_date":1669466883,"creation_date":1669463826,"question_id":74581961,"body_markdown":"I am trying to use a list of function references as a lookup table (avoiding the need for a long switch statement). The code worked for a list of static methods, but when I tried to use non-static (i.e. instance) methods in the list, Java gives several errors regarding the types not matching.\r\n\r\nHere is a minimal example:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\npublic class MethodReferences {\r\n    // My original list of static references\r\n    private final static List&lt;Function&lt;Integer, Integer&gt;&gt; lookupTable = Arrays.asList(MethodReferences::f1, MethodReferences::f2);\r\n\r\n    // This doesn&#39;t work\r\n    // private final List&lt;Function&lt;Integer, Integer&gt;&gt; lookupTable = Arrays.asList(MethodReferences::f3, MethodReferences::f4);\r\n\r\n    private static int f1(int x) { return x * 2; }\r\n\r\n    private static int f2(int x) { return x * 3; }\r\n\r\n    private int f3(int x) { return x * 2; }\r\n\r\n    private int f4(int x) { return x * 3; }\r\n\r\n    public void run() {\r\n        System.out.println(lookupTable.get(1).apply(3));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MethodReferences testClass = new MethodReferences();\r\n\r\n        testClass.run();\r\n    }\r\n}\r\n```\r\n\r\nThe errors I received were all for the line containing the non-static definition:\r\n\r\n```\r\nType mismatch: cannot convert from List&lt;Object&gt; to List&lt;Function&lt;Integer,Integer&gt;&gt;\r\n```\r\n\r\nand:\r\n\r\n```\r\nThe target type of this expression must be a functional interface\r\n```\r\n\r\nI tried using `this::` instead of `MethodReferences::` before the function names. The code then compiled, but when it runs, nothing happens, probably because `this` has to be used within non-static functions.\r\nI then moved the initialisation of the array (still using `this::` to within the class constructor, but it continued to produce no output when run.\r\n\r\nI&#39;ve checked through the documentation and tutorials on method references in Java, but I cannot find an examples of creating references to instance methods within the class it is defined in (and I cannot find any examples of lists of function references either).\r\n\r\nI&#39;m aware that in the `main` method, you can do `testClass::f1`, but for my specific situation (not the example code) I do not even have a main class (the class is instantiated by another library), so this approach isn&#39;t possible. The methods have to be non-static because I need to be able to modify instance variables within them.\r\n\r\n\r\n----------\r\n\r\n\r\nEdit:\r\nIt turns out that using `this::` does work for the example code, although I am still unsure as to why it is valid (surely you can only use `this` within a non-static function?)","title":"List of non-static method references in Java","body":"<p>I am trying to use a list of function references as a lookup table (avoiding the need for a long switch statement). The code worked for a list of static methods, but when I tried to use non-static (i.e. instance) methods in the list, Java gives several errors regarding the types not matching.</p>\n<p>Here is a minimal example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic class MethodReferences {\n    // My original list of static references\n    private final static List&lt;Function&lt;Integer, Integer&gt;&gt; lookupTable = Arrays.asList(MethodReferences::f1, MethodReferences::f2);\n\n    // This doesn't work\n    // private final List&lt;Function&lt;Integer, Integer&gt;&gt; lookupTable = Arrays.asList(MethodReferences::f3, MethodReferences::f4);\n\n    private static int f1(int x) { return x * 2; }\n\n    private static int f2(int x) { return x * 3; }\n\n    private int f3(int x) { return x * 2; }\n\n    private int f4(int x) { return x * 3; }\n\n    public void run() {\n        System.out.println(lookupTable.get(1).apply(3));\n    }\n\n    public static void main(String[] args) {\n        MethodReferences testClass = new MethodReferences();\n\n        testClass.run();\n    }\n}\n</code></pre>\n<p>The errors I received were all for the line containing the non-static definition:</p>\n<pre><code>Type mismatch: cannot convert from List&lt;Object&gt; to List&lt;Function&lt;Integer,Integer&gt;&gt;\n</code></pre>\n<p>and:</p>\n<pre><code>The target type of this expression must be a functional interface\n</code></pre>\n<p>I tried using <code>this::</code> instead of <code>MethodReferences::</code> before the function names. The code then compiled, but when it runs, nothing happens, probably because <code>this</code> has to be used within non-static functions.\nI then moved the initialisation of the array (still using <code>this::</code> to within the class constructor, but it continued to produce no output when run.</p>\n<p>I've checked through the documentation and tutorials on method references in Java, but I cannot find an examples of creating references to instance methods within the class it is defined in (and I cannot find any examples of lists of function references either).</p>\n<p>I'm aware that in the <code>main</code> method, you can do <code>testClass::f1</code>, but for my specific situation (not the example code) I do not even have a main class (the class is instantiated by another library), so this approach isn't possible. The methods have to be non-static because I need to be able to modify instance variables within them.</p>\n<hr />\n<p>Edit:\nIt turns out that using <code>this::</code> does work for the example code, although I am still unsure as to why it is valid (surely you can only use <code>this</code> within a non-static function?)</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1669390327,"post_id":74574907,"comment_id":131637661,"body_markdown":"What did you try in Java?","body":"What did you try in Java?"},{"owner":{"account_id":11647494,"reputation":13,"user_id":8529798,"display_name":"john"},"score":0,"creation_date":1669390522,"post_id":74574907,"comment_id":131637725,"body_markdown":"I tried to use a for loop but it was too slow. I tried something like this:\n`df.withColumn(&quot;temp&quot;, IntStream.range(0,100).map(i-&gt;split(col(&quot;temp&quot;),&quot;:&quot;).getItem(i).as(col(&quot;col&quot;+i))));`. Tried many variations of that command but could never get it to work.","body":"I tried to use a for loop but it was too slow. I tried something like this: <code>df.withColumn(&quot;temp&quot;, IntStream.range(0,100).map(i-&gt;split(col(&quot;temp&quot;),&quot;:&quot;).getItem&zwnj;&#8203;(i).as(col(&quot;col&quot;+i))&zwnj;&#8203;));</code>. Tried many variations of that command but could never get it to work."}],"answers":[{"tags":[],"owner":{"account_id":11647494,"reputation":13,"user_id":8529798,"display_name":"john"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669466804,"creation_date":1669466804,"answer_id":74582276,"question_id":74574907,"body_markdown":"For anybody who encounters a similar problem, the solution is to use IntStream, map each column as an object and finally convert it to a list of columns.\r\n\r\nHere is the answer:\r\n\r\n    import scala.collection.JavaConverters;\r\n    import java.util.List;\r\n    import org.apache.spark.sql.Column;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    List&lt;Column&gt; c = IntStream.range(0, 100).mapToObj(i-&gt;col(&quot;data&quot;).getItem(i).as(&quot;col&quot;+i)).sequential().collect(Collectors.toList());\r\n    df.select(JavaConverters.asScalaIteratorConverter(c.iterator()).asScala().toSeq());","title":"Split a single column into multiple columns in Spark using Java","body":"<p>For anybody who encounters a similar problem, the solution is to use IntStream, map each column as an object and finally convert it to a list of columns.</p>\n<p>Here is the answer:</p>\n<pre><code>import scala.collection.JavaConverters;\nimport java.util.List;\nimport org.apache.spark.sql.Column;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nList&lt;Column&gt; c = IntStream.range(0, 100).mapToObj(i-&gt;col(&quot;data&quot;).getItem(i).as(&quot;col&quot;+i)).sequential().collect(Collectors.toList());\ndf.select(JavaConverters.asScalaIteratorConverter(c.iterator()).asScala().toSeq());\n</code></pre>\n"}],"owner":{"account_id":11647494,"reputation":13,"user_id":8529798,"display_name":"john"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74582276,"answer_count":1,"score":0,"last_activity_date":1669466804,"creation_date":1669390036,"question_id":74574907,"body_markdown":"I want to create multiple columns from a single column in Spark with Java. I have tried multiple methods including the answer from this [question given in scala](https://stackoverflow.com/questions/58749333/split-one-column-into-multiple-columns-in-spark-dataframe-using-comma-separator) but I can&#39;t seem to make it work in Java.\r\n\r\nFor example I have this column with a very long sequence (about 100):\r\n```\r\n+---------------------------------+\r\n|                data             |\r\n+---------------------------------+\r\n|1111:1111:1111:2222:6666:1111....|\r\n|ABC2:XYZ2:GDH2:KLN2:JUL2:HAI2....|\r\n+---------------------------------+\r\n```\r\n\r\nI tried using `IntStream.range(0,16)` to replicate the answer in Java but it does not work.\r\n\r\nOne example I tried that does not work is:\r\n`df.withColumn(&quot;temp&quot;, IntStream.range(0,100).map(i-&gt;split(col(&quot;temp&quot;),&quot;:&quot;).getItem(i).as(col(&quot;col&quot;+i))));`\r\nI used a variation of the above but never got it to work.\r\n\r\nI want to get this output:\r\n```\r\n+-------------------------------------------+\r\n|col1|col2|col3|col4|col5|col6|col...|col100|\r\n+-------------------------------------------+\r\n|1111|1111|1111|2222|6666|1111|......| 9999 |\r\n|ABC2|XYZ2|GDH2|KLN2|JUL2|HAI2|......| PAHD |\r\n+-------------------------------------------+\r\n```\r\n\r\nA for loop on this is very slow so it is not feasible.\r\n\r\nThank you.","title":"Split a single column into multiple columns in Spark using Java","body":"<p>I want to create multiple columns from a single column in Spark with Java. I have tried multiple methods including the answer from this <a href=\"https://stackoverflow.com/questions/58749333/split-one-column-into-multiple-columns-in-spark-dataframe-using-comma-separator\">question given in scala</a> but I can't seem to make it work in Java.</p>\n<p>For example I have this column with a very long sequence (about 100):</p>\n<pre><code>+---------------------------------+\n|                data             |\n+---------------------------------+\n|1111:1111:1111:2222:6666:1111....|\n|ABC2:XYZ2:GDH2:KLN2:JUL2:HAI2....|\n+---------------------------------+\n</code></pre>\n<p>I tried using <code>IntStream.range(0,16)</code> to replicate the answer in Java but it does not work.</p>\n<p>One example I tried that does not work is:\n<code>df.withColumn(&quot;temp&quot;, IntStream.range(0,100).map(i-&gt;split(col(&quot;temp&quot;),&quot;:&quot;).getItem(i).as(col(&quot;col&quot;+i))));</code>\nI used a variation of the above but never got it to work.</p>\n<p>I want to get this output:</p>\n<pre><code>+-------------------------------------------+\n|col1|col2|col3|col4|col5|col6|col...|col100|\n+-------------------------------------------+\n|1111|1111|1111|2222|6666|1111|......| 9999 |\n|ABC2|XYZ2|GDH2|KLN2|JUL2|HAI2|......| PAHD |\n+-------------------------------------------+\n</code></pre>\n<p>A for loop on this is very slow so it is not feasible.</p>\n<p>Thank you.</p>\n"},{"tags":["java","input","java.util.scanner"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1669462803,"post_id":74581744,"comment_id":131648744,"body_markdown":"Do not compare strings with `==` or `!=`. Use `equals()` or `!equals()`.","body":"Do not compare strings with <code>==</code> or <code>!=</code>. Use <code>equals()</code> or <code>!equals()</code>."}],"answers":[{"tags":[],"owner":{"account_id":27042767,"reputation":33,"user_id":20597388,"display_name":"pvpb0t"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669466469,"creation_date":1669466469,"answer_id":74582239,"question_id":74581744,"body_markdown":"Is creating a new Scanner object every iteration neccessary? \r\nAlso try use\r\n\r\n    inputting.equals(&quot;0&quot;)\r\n\r\n ","title":"While condition not met, but still continuing","body":"<p>Is creating a new Scanner object every iteration neccessary?\nAlso try use</p>\n<pre><code>inputting.equals(&quot;0&quot;)\n</code></pre>\n"}],"owner":{"account_id":21306880,"reputation":15,"user_id":15681969,"display_name":"Faruk Nergiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74582239,"answer_count":1,"score":0,"last_activity_date":1669466469,"creation_date":1669461951,"question_id":74581744,"body_markdown":"I wrote a code for inputting integers as strings and wanted to end the loop when I am inputting a &quot;0&quot;. I tried it and it didn&#39;t work. I am inputting a zero, it is printing &quot;Next&quot;, it is printing the zero means that it is saving the zero in the &quot;inputting&quot; variable, but the loop is still continuing. \r\n\r\nThe code(Without Main and class):\r\n```\r\nimport java.util.*;\r\n\r\nString inputting = &quot;&quot;;\r\n            \r\n       while(inputting != &quot;0&quot;)\r\n       {\r\n         Scanner scan = new Scanner(System.in);\r\n         inputting = scan.next();\r\n         System.out.println(&quot;Next&quot;);\r\n         System.out.println(inputting);\r\n       }\r\n\r\n```\r\n\r\nWhat could be the reason? How can I maybe improve it that the loop stops continuing? \r\n\r\nThanks\r\n\r\nI tried to input as many characters as possible, but when a zero comes, it should stop. It didn&#39;t stop.","title":"While condition not met, but still continuing","body":"<p>I wrote a code for inputting integers as strings and wanted to end the loop when I am inputting a &quot;0&quot;. I tried it and it didn't work. I am inputting a zero, it is printing &quot;Next&quot;, it is printing the zero means that it is saving the zero in the &quot;inputting&quot; variable, but the loop is still continuing.</p>\n<p>The code(Without Main and class):</p>\n<pre><code>import java.util.*;\n\nString inputting = &quot;&quot;;\n            \n       while(inputting != &quot;0&quot;)\n       {\n         Scanner scan = new Scanner(System.in);\n         inputting = scan.next();\n         System.out.println(&quot;Next&quot;);\n         System.out.println(inputting);\n       }\n\n</code></pre>\n<p>What could be the reason? How can I maybe improve it that the loop stops continuing?</p>\n<p>Thanks</p>\n<p>I tried to input as many characters as possible, but when a zero comes, it should stop. It didn't stop.</p>\n"},{"tags":["java","unit-testing","groovy","okhttp","spock"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1669404848,"post_id":74575745,"comment_id":131641340,"body_markdown":"What have you tried so far? A unit test requires that you can test the interceptor in isolation, so having an anonymous class is bad, you&#39;d need to make the interceptor a top-level class and then use Mocks to simulate the execution.","body":"What have you tried so far? A unit test requires that you can test the interceptor in isolation, so having an anonymous class is bad, you&#39;d need to make the interceptor a top-level class and then use Mocks to simulate the execution."},{"owner":{"account_id":7972669,"reputation":57,"user_id":6016781,"display_name":"Prem"},"score":0,"creation_date":1669445443,"post_id":74575745,"comment_id":131646528,"body_markdown":"@LeonardBr&#252;nings I have edited the question with granular details and what I have tried so far","body":"@LeonardBr&#252;nings I have edited the question with granular details and what I have tried so far"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669463549,"post_id":74575745,"comment_id":131648872,"body_markdown":"Verifying the **response** header and checking for a header that you put into the **request** does not make much sense.","body":"Verifying the <b>response</b> header and checking for a header that you put into the <b>request</b> does not make much sense."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669466423,"creation_date":1669466423,"answer_id":74582231,"question_id":74575745,"body_markdown":"**Helper class:**\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q74575745;\r\n\r\nclass WebClientException extends RuntimeException {\r\n  public WebClientException(Throwable cause) {\r\n    super(cause);\r\n  }\r\n}\r\n```\r\n\r\n**Class under test:**\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q74575745;\r\n\r\nimport okhttp3.Interceptor;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\n\r\nimport java.io.IOException;\r\n\r\nclass AuthRequestInterceptor implements Interceptor {\r\n  @Override\r\n  public Response intercept(Interceptor.Chain chain) throws IOException {\r\n    Request original = chain.request();\r\n\r\n    // Request customization: add request headers\r\n    Request.Builder requestBuilder = original.newBuilder()\r\n      .header(&quot;Authorization&quot;, &quot;auth-value&quot;);\r\n\r\n    Request request = requestBuilder.build();\r\n    return chain.proceed(request);\r\n  }\r\n}\r\n```\r\n\r\n**Spock specification:**\r\n\r\nIn order to test your interceptor in isolation, just mock the interceptor chain parameter, making sure that it returns a request without headers. Then verify that the `proceed(Request)` method is called with a request parameter containing the header you expect.\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q74575745\r\n\r\nimport okhttp3.Interceptor\r\nimport okhttp3.Request\r\nimport spock.lang.Specification\r\n\r\nclass AuthRequestInterceptorTest extends Specification {\r\n  def &quot;request contains authorization header&quot;() {\r\n    given: &quot;a mock interceptor chain returning a prepared request without headers&quot;\r\n    def chain = Mock(Interceptor.Chain) {\r\n      request() &gt;&gt; new Request.Builder()\r\n        .url(&quot;http://1.1.1.1/heath-check&quot;)\r\n        .build()\r\n    }\r\n\r\n    when: &quot;running the interceptor under test&quot;\r\n    new AuthRequestInterceptor().intercept(chain)\r\n\r\n    then: &quot;the expected authorization header is added to the request before proceeding&quot;\r\n    1 * chain.proceed({ Request request -&gt; request.headers(&quot;Authorization&quot;) == [&quot;auth-value&quot;] })\r\n  }\r\n}\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJytVE1r20AQvetXDLpEKvUaNw0BG4ekoZQcSiAN9FBKWa_G1tbSrrIfdmjIf89Iq7UVJ82ltcCSdmbefLw3arhY8xVCgcwK4-tfNbcODbOODHqDZlnpLbs7_XhyekJ_SSLrRhsHel061xyzK0XeAhunzaHpBu88WhePbaPFmlVcrdi3BoVcSsGd1CpJRMWthQvvyj5kAHpLr4D3DlVh4VkcPCRAZS8hNSEKhFaOS2WBE5Q28k_wK5EXaNIs7yIAVnKDagoph5oqArlPBqKkeDDovFFSrYBDY7DhBguISbaSsL3rUW3aQbZlhNg5fCXQbNABu2wNMTlEICrn7AwUbqFvmn3ysiLILO8dAZg3VZa205yOxxPWXWNK7MqRKFGs04Hroo3uYx-T7rYtuz6NV10zrsRnzXpF2cBR6tBEW8vrJGQ52wVmXZ95yOBChhYZ74kcR4N6bfggiZSiIKvTXR1xmgtcaoM0ZS0QC6oylDKBd2GerLdkD3FMu9DRWXxkPRdZejHMneYwn8OPtC1otOGVx_QnPLYTekxoQuMxjP7h99YmzP6yCq-c01Yoi7Md2m--4UxqdnX9-b4Foz7IeP7F8EV2JHTN7J0nPfqG9RjTcJ8es8kHNjk-yt9cJ6A0FdaonIXhcSvO82tadyMLpOfGLyopINa3181LZQeicqLV6C2h7gvvJR-JI2JWUvGKdiRwu9uEWVATMRJ9hbdO1z2R01Y7O957sofQcXWiT3yd73IyEvfhfvWyOVTNexgqJtZ2qL75Qa64f7Mk7Hj7BTmQcB_QufwfBQamv-PispJE6X7w8YN545WTNT5npOf2ZVh221LIFxWC4N5i_GZZ39CYwlEs_gnmggs-).\r\n\r\nYou probably want to learn about Spock [argument constraints](https://spockframework.org/spock/docs/2.3/all_in_one.html#_argument_constraints).","title":"Writing Unit Test of Interceptors","body":"<p><strong>Helper class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q74575745;\n\nclass WebClientException extends RuntimeException {\n  public WebClientException(Throwable cause) {\n    super(cause);\n  }\n}\n</code></pre>\n<p><strong>Class under test:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q74575745;\n\nimport okhttp3.Interceptor;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\nimport java.io.IOException;\n\nclass AuthRequestInterceptor implements Interceptor {\n  @Override\n  public Response intercept(Interceptor.Chain chain) throws IOException {\n    Request original = chain.request();\n\n    // Request customization: add request headers\n    Request.Builder requestBuilder = original.newBuilder()\n      .header(&quot;Authorization&quot;, &quot;auth-value&quot;);\n\n    Request request = requestBuilder.build();\n    return chain.proceed(request);\n  }\n}\n</code></pre>\n<p><strong>Spock specification:</strong></p>\n<p>In order to test your interceptor in isolation, just mock the interceptor chain parameter, making sure that it returns a request without headers. Then verify that the <code>proceed(Request)</code> method is called with a request parameter containing the header you expect.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q74575745\n\nimport okhttp3.Interceptor\nimport okhttp3.Request\nimport spock.lang.Specification\n\nclass AuthRequestInterceptorTest extends Specification {\n  def &quot;request contains authorization header&quot;() {\n    given: &quot;a mock interceptor chain returning a prepared request without headers&quot;\n    def chain = Mock(Interceptor.Chain) {\n      request() &gt;&gt; new Request.Builder()\n        .url(&quot;http://1.1.1.1/heath-check&quot;)\n        .build()\n    }\n\n    when: &quot;running the interceptor under test&quot;\n    new AuthRequestInterceptor().intercept(chain)\n\n    then: &quot;the expected authorization header is added to the request before proceeding&quot;\n    1 * chain.proceed({ Request request -&gt; request.headers(&quot;Authorization&quot;) == [&quot;auth-value&quot;] })\n  }\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJytVE1r20AQvetXDLpEKvUaNw0BG4ekoZQcSiAN9FBKWa_G1tbSrrIfdmjIf89Iq7UVJ82ltcCSdmbefLw3arhY8xVCgcwK4-tfNbcODbOODHqDZlnpLbs7_XhyekJ_SSLrRhsHel061xyzK0XeAhunzaHpBu88WhePbaPFmlVcrdi3BoVcSsGd1CpJRMWthQvvyj5kAHpLr4D3DlVh4VkcPCRAZS8hNSEKhFaOS2WBE5Q28k_wK5EXaNIs7yIAVnKDagoph5oqArlPBqKkeDDovFFSrYBDY7DhBguISbaSsL3rUW3aQbZlhNg5fCXQbNABu2wNMTlEICrn7AwUbqFvmn3ysiLILO8dAZg3VZa205yOxxPWXWNK7MqRKFGs04Hroo3uYx-T7rYtuz6NV10zrsRnzXpF2cBR6tBEW8vrJGQ52wVmXZ95yOBChhYZ74kcR4N6bfggiZSiIKvTXR1xmgtcaoM0ZS0QC6oylDKBd2GerLdkD3FMu9DRWXxkPRdZejHMneYwn8OPtC1otOGVx_QnPLYTekxoQuMxjP7h99YmzP6yCq-c01Yoi7Md2m--4UxqdnX9-b4Foz7IeP7F8EV2JHTN7J0nPfqG9RjTcJ8es8kHNjk-yt9cJ6A0FdaonIXhcSvO82tadyMLpOfGLyopINa3181LZQeicqLV6C2h7gvvJR-JI2JWUvGKdiRwu9uEWVATMRJ9hbdO1z2R01Y7O957sofQcXWiT3yd73IyEvfhfvWyOVTNexgqJtZ2qL75Qa64f7Mk7Hj7BTmQcB_QufwfBQamv-PispJE6X7w8YN545WTNT5npOf2ZVh221LIFxWC4N5i_GZZ39CYwlEs_gnmggs-\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<p>You probably want to learn about Spock <a href=\"https://spockframework.org/spock/docs/2.3/all_in_one.html#_argument_constraints\" rel=\"nofollow noreferrer\">argument constraints</a>.</p>\n"}],"owner":{"account_id":7972669,"reputation":57,"user_id":6016781,"display_name":"Prem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1851,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74582231,"answer_count":1,"score":1,"last_activity_date":1669466423,"creation_date":1669394643,"question_id":74575745,"body_markdown":"I am working on a project where I need to write an interceptor which basically modifies headers. Below is a similar code \r\n\r\n    class AuthRequestInterceptor implements Interceptor {\r\n      @Override public Response intercept(Interceptor.Chain chain) throws IOException {\r\n            Request original = chain.request();\r\n    \r\n            // Request customization: add request headers\r\n            Request.Builder requestBuilder = original.newBuilder()\r\n                    .header(&quot;Authorization&quot;, &quot;auth-value&quot;); \r\n        \r\n            Request request = requestBuilder.build();\r\n            return chain.proceed(request);\r\n      }\r\n    }\r\n\r\nI want to test if Authorization has been added to the request header by the interceptor. Here is the code for testing \r\n\r\n    class AuthRequestInterceptorTest extends Specification {\r\n        AuthRequestInterceptor authRequestInterceptor = new AuthRequestInterceptor();\r\n        OkHttpClient okHttpClient = new OkHttpClient();\r\n    \r\n        void setup() {\r\n            try {\r\n                okHttpClient = new OkHttpClient()\r\n                    .newBuilder()\r\n                    .addInterceptor(authRequestInterceptor)\r\n                    .build();\r\n            } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n                throw new WebClientException(e)\r\n            }\r\n        }\r\n    \r\n    \r\n        def &quot;Get Authorization in to header&quot;() {\r\n    \r\n            given:\r\n            HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;()\r\n    \r\n            when:\r\n            Request mockRequest = new Request.Builder()\r\n                .url(&quot;http://1.1.1.1/heath-check&quot;)\r\n                .headers(Headers.of(headers))\r\n                .build()\r\n    \r\n           Response res = okHttpClient.newCall(mockRequest).execute()\r\n    \r\n            then:\r\n            res.headers(&quot;Authorization&quot;)\r\n        }\r\n    }\r\nThe test is failing so I debugged the Response returned by AuthRequestInterceptor and it is as below\r\n\r\n    Response{protocol=h2, code=200, message=, url=https://1.1.1.1/}\r\n\r\nI want to test if the Authorization key is added in request headers, But I an able to get Response only and not able to figure out how to get the request header","title":"Writing Unit Test of Interceptors","body":"<p>I am working on a project where I need to write an interceptor which basically modifies headers. Below is a similar code</p>\n<pre><code>class AuthRequestInterceptor implements Interceptor {\n  @Override public Response intercept(Interceptor.Chain chain) throws IOException {\n        Request original = chain.request();\n\n        // Request customization: add request headers\n        Request.Builder requestBuilder = original.newBuilder()\n                .header(&quot;Authorization&quot;, &quot;auth-value&quot;); \n    \n        Request request = requestBuilder.build();\n        return chain.proceed(request);\n  }\n}\n</code></pre>\n<p>I want to test if Authorization has been added to the request header by the interceptor. Here is the code for testing</p>\n<pre><code>class AuthRequestInterceptorTest extends Specification {\n    AuthRequestInterceptor authRequestInterceptor = new AuthRequestInterceptor();\n    OkHttpClient okHttpClient = new OkHttpClient();\n\n    void setup() {\n        try {\n            okHttpClient = new OkHttpClient()\n                .newBuilder()\n                .addInterceptor(authRequestInterceptor)\n                .build();\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            throw new WebClientException(e)\n        }\n    }\n\n\n    def &quot;Get Authorization in to header&quot;() {\n\n        given:\n        HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;()\n\n        when:\n        Request mockRequest = new Request.Builder()\n            .url(&quot;http://1.1.1.1/heath-check&quot;)\n            .headers(Headers.of(headers))\n            .build()\n\n       Response res = okHttpClient.newCall(mockRequest).execute()\n\n        then:\n        res.headers(&quot;Authorization&quot;)\n    }\n}\n</code></pre>\n<p>The test is failing so I debugged the Response returned by AuthRequestInterceptor and it is as below</p>\n<pre><code>Response{protocol=h2, code=200, message=, url=https://1.1.1.1/}\n</code></pre>\n<p>I want to test if the Authorization key is added in request headers, But I an able to get Response only and not able to figure out how to get the request header</p>\n"},{"tags":["java","nlp","named-entity-recognition","opennlp"],"owner":{"account_id":25882471,"reputation":31,"user_id":19611262,"display_name":"Namib&#242;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669465788,"creation_date":1669030403,"question_id":74518261,"body_markdown":"I have to do a project with OpenNLP, strictly in italian language. Since it&#39;s almost impossible to find some existing structures in this language, my idea is to create a simple model myself. Reading some [posts](https://stackoverflow.com/questions/46950036/opennlp-model-builder-addon-doesnt-continue) on this platform, my idea is try to do this using [model-builder addon](https://github.com/apache/opennlp-addons/tree/master/modelbuilder-addon). \r\n\r\nFirst of all, it&#39;s possible to obtain my goal with this addon?\r\nIf so, referring to this other [post](https://stackoverflow.com/questions/20509678/opennlp-foreign-names-does-not-get-recognized/21323571#21323571), what kind of file is meant by &quot;modelOutFile&quot;? In my case I don&#39;t have an existing model.\r\nN.B.: the addon uses some deprecated functions (such as `nameFinderME.train()`).\r\n\r\nNaively, I tried to pass as a &quot;modelOutFile&quot; a simple empty file &quot;model.bin&quot;, but, of course I bumped into an error: \r\n\r\n&gt;    Cannot invoke &quot;java.util.Properties.getProperty(String)&quot; because &quot;manifest&quot; is null\r\n\r\nFurthermore, I used a few names and sentences for the test (I only wanted to know if this worked), not the large amount requested (15000 sentences at least).\r\nI&#39;m open to other suggestions instead of the use of modelbuilder addons.\r\nHope someone can help me.","title":"How to create a simple Italian Model for a Named Entity Extraction of Persons using OpenNLP?","body":"<p>I have to do a project with OpenNLP, strictly in italian language. Since it's almost impossible to find some existing structures in this language, my idea is to create a simple model myself. Reading some <a href=\"https://stackoverflow.com/questions/46950036/opennlp-model-builder-addon-doesnt-continue\">posts</a> on this platform, my idea is try to do this using <a href=\"https://github.com/apache/opennlp-addons/tree/master/modelbuilder-addon\" rel=\"nofollow noreferrer\">model-builder addon</a>.</p>\n<p>First of all, it's possible to obtain my goal with this addon?\nIf so, referring to this other <a href=\"https://stackoverflow.com/questions/20509678/opennlp-foreign-names-does-not-get-recognized/21323571#21323571\">post</a>, what kind of file is meant by &quot;modelOutFile&quot;? In my case I don't have an existing model.\nN.B.: the addon uses some deprecated functions (such as <code>nameFinderME.train()</code>).</p>\n<p>Naively, I tried to pass as a &quot;modelOutFile&quot; a simple empty file &quot;model.bin&quot;, but, of course I bumped into an error:</p>\n<blockquote>\n<p>Cannot invoke &quot;java.util.Properties.getProperty(String)&quot; because &quot;manifest&quot; is null</p>\n</blockquote>\n<p>Furthermore, I used a few names and sentences for the test (I only wanted to know if this worked), not the large amount requested (15000 sentences at least).\nI'm open to other suggestions instead of the use of modelbuilder addons.\nHope someone can help me.</p>\n"},{"tags":["java","jdbc","jar","mariadb"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1579764983,"post_id":59872850,"comment_id":105877504,"body_markdown":"What is the content of your `module-info.java`? My guess is that you haven&#39;t added the necessary modules using a `requires` statement.","body":"What is the content of your <code>module-info.java</code>? My guess is that you haven&#39;t added the necessary modules using a <code>requires</code> statement."},{"owner":{"account_id":3754967,"reputation":1375,"user_id":3121518,"accept_rate":40,"display_name":"Harley"},"score":0,"creation_date":1579765208,"post_id":59872850,"comment_id":105877581,"body_markdown":"I was just considering that the module-info.java file might be a problem. In fact I don&#39;t even know what it is for. I seem to recall i have deleted it in the past. I&#39;m going to Google what it is for right now.","body":"I was just considering that the module-info.java file might be a problem. In fact I don&#39;t even know what it is for. I seem to recall i have deleted it in the past. I&#39;m going to Google what it is for right now."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1579765433,"post_id":59872850,"comment_id":105877676,"body_markdown":"It is for creating modular Java applications, which requires you to explicitly declare which parts of the java runtime (and other libraries) you depend on. This in turn allows you to create &#39;minimal&#39; application deployments excluding parts of the Java runtime library you don&#39;t use (+ some other benefits). I haven&#39;t used it myself yet, though.","body":"It is for creating modular Java applications, which requires you to explicitly declare which parts of the java runtime (and other libraries) you depend on. This in turn allows you to create &#39;minimal&#39; application deployments excluding parts of the Java runtime library you don&#39;t use (+ some other benefits). I haven&#39;t used it myself yet, though."},{"owner":{"account_id":3754967,"reputation":1375,"user_id":3121518,"accept_rate":40,"display_name":"Harley"},"score":1,"creation_date":1579773026,"post_id":59872850,"comment_id":105881231,"body_markdown":"in the module-info.java\n\n    requires java.sql;\n    requires java.desktop;\n\nproblem solved, thanks","body":"in the module-info.java      requires java.sql;     requires java.desktop;  problem solved, thanks"}],"answers":[{"tags":[],"owner":{"account_id":9203871,"reputation":617,"user_id":6839898,"display_name":"John Adeshola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669465705,"creation_date":1579763092,"answer_id":59873142,"question_id":59872850,"body_markdown":"I can see you are doing the right thing here. I guess you need to change your maria-db-client jar or look into how to import the jar file into your project. I can also see that your imports are not fixed as well. Here is a link to maven repository to download the latest version of maria-db-client:[mariadb][1]\r\n\r\n\r\n  [1]: http://%20https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client\r\n\r\nHere are the steps on how to add *jar* files to your project in Eclipse:\r\n\r\n- Create a folder called lib in your project folder.\r\n\r\n- Copy your jar file to the lib folder.\r\n\r\n- Refresh your project in eclipse.\r\n\r\n- Select the jar file, then right click on it and select Build Path -&gt; Add to Build Path.\r\n\r\n\r\nI hope this help you and good luck coding.\r\n\r\nCheers.\r\n","title":"Java imports not working - Ubuntu Eclipse OpenJDK","body":"<p>I can see you are doing the right thing here. I guess you need to change your maria-db-client jar or look into how to import the jar file into your project. I can also see that your imports are not fixed as well. Here is a link to maven repository to download the latest version of maria-db-client:<a href=\"http://%20https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client\" rel=\"nofollow noreferrer\">mariadb</a></p>\n<p>Here are the steps on how to add <em>jar</em> files to your project in Eclipse:</p>\n<ul>\n<li><p>Create a folder called lib in your project folder.</p>\n</li>\n<li><p>Copy your jar file to the lib folder.</p>\n</li>\n<li><p>Refresh your project in eclipse.</p>\n</li>\n<li><p>Select the jar file, then right click on it and select Build Path -&gt; Add to Build Path.</p>\n</li>\n</ul>\n<p>I hope this help you and good luck coding.</p>\n<p>Cheers.</p>\n"}],"owner":{"account_id":3754967,"reputation":1375,"user_id":3121518,"accept_rate":40,"display_name":"Harley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669465705,"creation_date":1579761560,"question_id":59872850,"body_markdown":"I&#39;m using eclipse with OpenJDK 11 on Ubuntu 18.04. It&#39;s like my mariadb-java-client-2.5.3.jar can&#39;t be accessed, but I really think it should be. I put the jar in a folder lib and added it to the build path. \r\n\r\nIn fact it seems no imports are working anywhere.\r\n\r\nAnyone got any ideas what is going wrong here?\r\n\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n\r\n     public class DatabaseConnector {\r\n\t\t\r\n\t     private static Connection connection = null;\r\n\r\n\t     public static Connection connect() {\r\n\t\t\r\n\t\t     try {\r\n\t\t\t     connection = DriverManager.getConnection(&quot;jdbc:mariadb://localhost:3306/DB?user=bob&amp;password=EO750FAS7F6Tvpzx&quot;);\r\n\r\n\t\t     } catch (SQLException e) {\r\n\t\t\t     e.printStackTrace();\r\n\t\t     }\r\n\r\n\t\t     return connection;\r\n\t     }\r\n\t\r\n\t     public static void disconnect() {\r\n\t\t     if (connection != null) {\r\n\t\t     \ttry {\r\n\t\t\t\t     connection.close();\r\n\t\t\t     } catch (SQLException e) {\r\n\t\t\t     \te.printStackTrace();\r\n\t\t\t     }\r\n\t\t     }\r\n\t     }\r\n\t\r\n     }\r\n\r\n[![eclipse view of problem][1]][1]\r\n\r\n\r\nI&#39;ve started on the login file, and again imports are not working\r\n\r\n[![imports not working][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6tGYP.png\r\n  [2]: https://i.stack.imgur.com/1wErj.png","title":"Java imports not working - Ubuntu Eclipse OpenJDK","body":"<p>I'm using eclipse with OpenJDK 11 on Ubuntu 18.04. It's like my mariadb-java-client-2.5.3.jar can't be accessed, but I really think it should be. I put the jar in a folder lib and added it to the build path. </p>\n\n<p>In fact it seems no imports are working anywhere.</p>\n\n<p>Anyone got any ideas what is going wrong here?</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\n public class DatabaseConnector {\n\n     private static Connection connection = null;\n\n     public static Connection connect() {\n\n         try {\n             connection = DriverManager.getConnection(\"jdbc:mariadb://localhost:3306/DB?user=bob&amp;password=EO750FAS7F6Tvpzx\");\n\n         } catch (SQLException e) {\n             e.printStackTrace();\n         }\n\n         return connection;\n     }\n\n     public static void disconnect() {\n         if (connection != null) {\n            try {\n                 connection.close();\n             } catch (SQLException e) {\n                e.printStackTrace();\n             }\n         }\n     }\n\n }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6tGYP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6tGYP.png\" alt=\"eclipse view of problem\"></a></p>\n\n<p>I've started on the login file, and again imports are not working</p>\n\n<p><a href=\"https://i.stack.imgur.com/1wErj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wErj.png\" alt=\"imports not working\"></a></p>\n"},{"tags":["java","syntax-error"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1669470052,"post_id":74579860,"comment_id":131649979,"body_markdown":"Does this answer your question? [cannot convert from double to float](https://stackoverflow.com/questions/14513597/cannot-convert-from-double-to-float)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14513597/cannot-convert-from-double-to-float\">cannot convert from double to float</a>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1669470102,"post_id":74579860,"comment_id":131649990,"body_markdown":"Btw.: You code in your question does not produce this error message, you would get the error message &quot;possible lossy conversion from double to float&quot; instead.","body":"Btw.: You code in your question does not produce this error message, you would get the error message &quot;possible lossy conversion from double to float&quot; instead."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669439348,"creation_date":1669439348,"answer_id":74579874,"question_id":74579860,"body_markdown":"`10.5` is a `double` literal. If you want a float add `f`.\r\n\r\n    float pen = 10.5f;","title":"error: type mismatch : cannot convert from double to float","body":"<p><code>10.5</code> is a <code>double</code> literal. If you want a float add <code>f</code>.</p>\n<pre><code>float pen = 10.5f;\n</code></pre>\n"}],"owner":{"account_id":27037434,"reputation":1,"user_id":20592823,"display_name":"VAKEEL UDDIN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669465690,"creation_date":1669439194,"question_id":74579860,"body_markdown":"```java\r\nfloat pen = 10.5;\r\n```\r\n\r\nError message\r\n\r\n```none\r\ntype mismatch : cannot convert from double to float.\r\n```","title":"error: type mismatch : cannot convert from double to float","body":"<pre class=\"lang-java prettyprint-override\"><code>float pen = 10.5;\n</code></pre>\n<p>Error message</p>\n<pre class=\"lang-none prettyprint-override\"><code>type mismatch : cannot convert from double to float.\n</code></pre>\n"},{"tags":["javascript","java","android","cordova","quasar"],"answers":[{"tags":[],"owner":{"account_id":4565437,"reputation":46,"user_id":3706562,"display_name":"aakash16"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669399338,"creation_date":1669399338,"answer_id":74576491,"question_id":74575957,"body_markdown":"Not sure what could be breaking, but you can try clean installing java from your system once.\r\nUninstall all java versions -&gt; reboot pc -&gt; re-install correct JDK 8 from here:\r\nhttps://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html\r\nand afterwards try to set the JAVA_HOME if not set properly.\r\n","title":"Can&#39;t load java, Failed setting boot class path after setting Environment variables","body":"<p>Not sure what could be breaking, but you can try clean installing java from your system once.\nUninstall all java versions -&gt; reboot pc -&gt; re-install correct JDK 8 from here:\n<a href=\"https://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html</a>\nand afterwards try to set the JAVA_HOME if not set properly.</p>\n"},{"tags":[],"owner":{"account_id":27038179,"reputation":69,"user_id":20593455,"display_name":"Kaushal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669399575,"creation_date":1669399575,"answer_id":74576524,"question_id":74575957,"body_markdown":"Check if this is the correct path of your jdk-\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_351\\bin\r\n\r\nSometimes Its \r\n`C:\\Program Files(x86)\\Java\\jdk1.8.0_351\\bin`","title":"Can&#39;t load java, Failed setting boot class path after setting Environment variables","body":"<p>Check if this is the correct path of your jdk-</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_351\\bin\n</code></pre>\n<p>Sometimes Its\n<code>C:\\Program Files(x86)\\Java\\jdk1.8.0_351\\bin</code></p>\n"}],"owner":{"account_id":5681209,"reputation":875,"user_id":4492357,"accept_rate":31,"display_name":"acroscene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74576491,"answer_count":2,"score":0,"last_activity_date":1669465553,"creation_date":1669395817,"question_id":74575957,"body_markdown":"I am trying to setup Cordova for running cordova-android9.0. My problem is that when I downgraded my java version, it no longer works.\r\n\r\nI downloaded [Java 8][1] and set my environment variables to:\r\n**User variable Path** to: \r\n`C:\\Program Files\\Java\\jdk1.8.0_351\\bin`\r\nand Gradle to this version:\r\n`C:\\Gradle\\gradle-4.10.3\\bin` (recommended by Cordova)\r\n\r\n**System variables:**\r\n\r\n    JAVA_HOME C:\\Program Files\\Java\\jdk1.8.0_351\r\nand Path the same as on user variables\r\n\r\nWhen I run `java -version` in terminal it gives me error message:\r\n\r\n    Error occurred during initialization of VM\r\n    Failed setting boot class path.\r\n\r\nI cannot figure out why Java is not responding correctly\r\n\r\n  [1]: https://www.oracle.com/java/technologies/downloads/#java8-windows","title":"Can&#39;t load java, Failed setting boot class path after setting Environment variables","body":"<p>I am trying to setup Cordova for running cordova-android9.0. My problem is that when I downgraded my java version, it no longer works.</p>\n<p>I downloaded <a href=\"https://www.oracle.com/java/technologies/downloads/#java8-windows\" rel=\"nofollow noreferrer\">Java 8</a> and set my environment variables to:\n<strong>User variable Path</strong> to:\n<code>C:\\Program Files\\Java\\jdk1.8.0_351\\bin</code>\nand Gradle to this version:\n<code>C:\\Gradle\\gradle-4.10.3\\bin</code> (recommended by Cordova)</p>\n<p><strong>System variables:</strong></p>\n<pre><code>JAVA_HOME C:\\Program Files\\Java\\jdk1.8.0_351\n</code></pre>\n<p>and Path the same as on user variables</p>\n<p>When I run <code>java -version</code> in terminal it gives me error message:</p>\n<pre><code>Error occurred during initialization of VM\nFailed setting boot class path.\n</code></pre>\n<p>I cannot figure out why Java is not responding correctly</p>\n"},{"tags":["java","floating-point","double","ieee-754"],"comments":[{"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"score":10,"creation_date":1419232574,"post_id":27598078,"comment_id":43619622,"body_markdown":"You should use floats instead of double when memory usage is critical. If you need more precise computations, use doubles.","body":"You should use floats instead of double when memory usage is critical. If you need more precise computations, use doubles."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":16,"creation_date":1419232911,"post_id":27598078,"comment_id":43619744,"body_markdown":"@Everv0id:  I&#39;m not sure of any situation in which memory was so tight that one had to sacrifice accuracy for space.  (You&#39;re using *Java*, for goodness&#39; sake...)  There may be some situations when it&#39;s called for, but in my practice I&#39;ve seen it very seldomly.  If you wanted to elaborate on why you believe this is a good idea, providing an answer with a for-instance would be a worthy addition.","body":"@Everv0id:  I&#39;m not sure of any situation in which memory was so tight that one had to sacrifice accuracy for space.  (You&#39;re using <i>Java</i>, for goodness&#39; sake...)  There may be some situations when it&#39;s called for, but in my practice I&#39;ve seen it very seldomly.  If you wanted to elaborate on why you believe this is a good idea, providing an answer with a for-instance would be a worthy addition."},{"owner":{"account_id":3669475,"reputation":3487,"user_id":3057004,"accept_rate":46,"display_name":"Wundwin Born"},"score":0,"creation_date":1419232941,"post_id":27598078,"comment_id":43619761,"body_markdown":"http://en.wikipedia.org/wiki/IEEE_floating_point","body":"<a href=\"http://en.wikipedia.org/wiki/IEEE_floating_point\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/IEEE_floating_point</a>"},{"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"score":7,"creation_date":1419233834,"post_id":27598078,"comment_id":43620111,"body_markdown":"@Makoto actually, I&#39;ve never used floats, only doubles. But there could be applications (in theory) which should keep large amounts of floating point numbers, so 2x memory usage could be critical. In theory, ofc; in practice you always can buy *yet another server*.","body":"@Makoto actually, I&#39;ve never used floats, only doubles. But there could be applications (in theory) which should keep large amounts of floating point numbers, so 2x memory usage could be critical. In theory, ofc; in practice you always can buy <i>yet another server</i>."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1419233898,"post_id":27598078,"comment_id":43620139,"body_markdown":"I&#39;d argue, at that point, either buy a better server, or write the data out to a database.  It might be necessary in some high-performance libraries, but in everyday use, I&#39;m not so convinced.","body":"I&#39;d argue, at that point, either buy a better server, or write the data out to a database.  It might be necessary in some high-performance libraries, but in everyday use, I&#39;m not so convinced."},{"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"score":0,"creation_date":1419234484,"post_id":27598078,"comment_id":43620313,"body_markdown":"I mean the same thing, in java you can solve the problems with memory consumption by *hardware* way. It&#39;s easier and usually cheaper than spending a lot of time on low-level optimizations.","body":"I mean the same thing, in java you can solve the problems with memory consumption by <i>hardware</i> way. It&#39;s easier and usually cheaper than spending a lot of time on low-level optimizations."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1419245593,"post_id":27598078,"comment_id":43624925,"body_markdown":"I have used 4 byte and even 2 byte fixed precision numbers to save memory, but unless you have billions of these it is unlikely to be worth it.  The time it takes you to write &quot;double&quot; instead of &quot;float&quot; (it has one more letter) is worth 1000x more than the extra memory you use, but if using `double` rather than `float` saves you from a precision related bug, it is worth it.","body":"I have used 4 byte and even 2 byte fixed precision numbers to save memory, but unless you have billions of these it is unlikely to be worth it.  The time it takes you to write &quot;double&quot; instead of &quot;float&quot; (it has one more letter) is worth 1000x more than the extra memory you use, but if using <code>double</code> rather than <code>float</code> saves you from a precision related bug, it is worth it."},{"owner":{"account_id":1879117,"reputation":91,"user_id":1699692,"display_name":"Jacob L"},"score":0,"creation_date":1511773284,"post_id":27598078,"comment_id":81969903,"body_markdown":"An example of when to use floats: When using ADC data acquisition, you know the precision of your data and if you have lots of data, you will save a lot of space in your database. It could make sense using floats in such situations.","body":"An example of when to use floats: When using ADC data acquisition, you know the precision of your data and if you have lots of data, you will save a lot of space in your database. It could make sense using floats in such situations."}],"answers":[{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1419232587,"creation_date":1419232587,"answer_id":27598145,"question_id":27598078,"body_markdown":"A float gives you approx. 6-7 decimal digits precision while a double gives you approx. 15-16. Also the range of numbers is larger for double.\r\n\r\nA double needs 8 bytes of storage space while a float needs just 4 bytes.\r\n","title":"Float and double datatype in Java","body":"<p>A float gives you approx. 6-7 decimal digits precision while a double gives you approx. 15-16. Also the range of numbers is larger for double.</p>\n\n<p>A double needs 8 bytes of storage space while a float needs just 4 bytes.</p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":2,"up_vote_count":299,"is_accepted":true,"score":297,"last_activity_date":1487974744,"creation_date":1419232671,"answer_id":27598164,"question_id":27598078,"body_markdown":"The [Wikipedia page](http://en.wikipedia.org/wiki/IEEE_floating_point) on it is a good place to start.\r\n\r\nTo sum up:\r\n\r\n - `float` is represented in 32 bits, with 1 sign bit, 8 bits of exponent, and 23 bits of the significand (or what follows from a scientific-notation number:  2.33728*10&lt;sup&gt;12&lt;/sup&gt;; 33728 is the significand).\r\n\r\n - `double` is represented in 64 bits, with 1 sign bit, 11 bits of exponent, and 52 bits of significand.\r\n\r\nBy default, Java uses `double` to represent its floating-point numerals (so a literal `3.14` is typed `double`).  It&#39;s also the data type that will give you a much larger number range, so I would strongly encourage its use over `float`.\r\n\r\nThere may be certain libraries that actually force your usage of `float`, but in general - unless you can guarantee that your result will be small enough to fit in `float`&#39;s [prescribed range](http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html), then it&#39;s best to opt with `double`.\r\n\r\nIf you require accuracy - for instance, you can&#39;t have a decimal value that is inaccurate (like `1/10 + 2/10`), or you&#39;re doing **anything** with currency (for example, representing $10.33 in the system), then use a `BigDecimal`, which can support an arbitrary amount of precision and handle situations like that elegantly.\r\n","title":"Float and double datatype in Java","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/IEEE_floating_point\" rel=\"noreferrer\">Wikipedia page</a> on it is a good place to start.</p>\n\n<p>To sum up:</p>\n\n<ul>\n<li><p><code>float</code> is represented in 32 bits, with 1 sign bit, 8 bits of exponent, and 23 bits of the significand (or what follows from a scientific-notation number:  2.33728*10<sup>12</sup>; 33728 is the significand).</p></li>\n<li><p><code>double</code> is represented in 64 bits, with 1 sign bit, 11 bits of exponent, and 52 bits of significand.</p></li>\n</ul>\n\n<p>By default, Java uses <code>double</code> to represent its floating-point numerals (so a literal <code>3.14</code> is typed <code>double</code>).  It's also the data type that will give you a much larger number range, so I would strongly encourage its use over <code>float</code>.</p>\n\n<p>There may be certain libraries that actually force your usage of <code>float</code>, but in general - unless you can guarantee that your result will be small enough to fit in <code>float</code>'s <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html\" rel=\"noreferrer\">prescribed range</a>, then it's best to opt with <code>double</code>.</p>\n\n<p>If you require accuracy - for instance, you can't have a decimal value that is inaccurate (like <code>1/10 + 2/10</code>), or you're doing <strong>anything</strong> with currency (for example, representing $10.33 in the system), then use a <code>BigDecimal</code>, which can support an arbitrary amount of precision and handle situations like that elegantly.</p>\n"},{"tags":[],"owner":{"account_id":1874763,"reputation":2020,"user_id":4352728,"accept_rate":50,"display_name":"Ye Win"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1543407410,"creation_date":1419232687,"answer_id":27598167,"question_id":27598078,"body_markdown":"Floating-point numbers, also known as real numbers, are used when evaluating expressions that require fractional precision. For example, calculations such as square root, or transcendentals such as sine and cosine, result in a value whose precision requires a floating-point type. Java implements the standard (IEEE–754) set of floatingpoint types and operators. There are two kinds of floating-point types, float and double, which represent single- and double-precision numbers, respectively. Their width and ranges are shown here: \r\n\r\n&lt;br/&gt;\r\n\r\n \r\n\r\n       Name \tWidth in Bits \tRange \r\n        double \t64 \t            1 .7e–308 to 1.7e+308\r\n        float \t32 \t            3 .4e–038 to 3.4e+038\r\n\r\n&lt;br/&gt;\r\n **float**\r\n\r\nThe type float specifies a single-precision value that uses 32 bits of storage. Single precision is faster on some processors and takes half as much space as double precision, but will become imprecise when the values are either very large or very small. Variables of type float are useful when you need a fractional component, but don&#39;t require a large degree of precision. \r\n\r\nHere are some example float variable declarations:\r\n\r\nfloat hightemp, lowtemp; \r\n\r\n&lt;br/&gt;\r\n **double**\r\n\r\nDouble precision, as denoted by the double keyword, uses 64 bits to store a value. Double precision is actually faster than single precision on some modern processors that have been optimized for high-speed mathematical calculations. All transcendental math functions, such as sin( ), cos( ), and sqrt( ), return double values. When you need to maintain accuracy over many iterative calculations, or are manipulating large-valued numbers, double is the best choice.","title":"Float and double datatype in Java","body":"<p>Floating-point numbers, also known as real numbers, are used when evaluating expressions that require fractional precision. For example, calculations such as square root, or transcendentals such as sine and cosine, result in a value whose precision requires a floating-point type. Java implements the standard (IEEE–754) set of floatingpoint types and operators. There are two kinds of floating-point types, float and double, which represent single- and double-precision numbers, respectively. Their width and ranges are shown here: </p>\n\n<p><br/></p>\n\n<pre><code>   Name     Width in Bits   Range \n    double  64              1 .7e–308 to 1.7e+308\n    float   32              3 .4e–038 to 3.4e+038\n</code></pre>\n\n<p><br/>\n <strong>float</strong></p>\n\n<p>The type float specifies a single-precision value that uses 32 bits of storage. Single precision is faster on some processors and takes half as much space as double precision, but will become imprecise when the values are either very large or very small. Variables of type float are useful when you need a fractional component, but don't require a large degree of precision. </p>\n\n<p>Here are some example float variable declarations:</p>\n\n<p>float hightemp, lowtemp; </p>\n\n<p><br/>\n <strong>double</strong></p>\n\n<p>Double precision, as denoted by the double keyword, uses 64 bits to store a value. Double precision is actually faster than single precision on some modern processors that have been optimized for high-speed mathematical calculations. All transcendental math functions, such as sin( ), cos( ), and sqrt( ), return double values. When you need to maintain accuracy over many iterative calculations, or are manipulating large-valued numbers, double is the best choice.</p>\n"},{"tags":[],"owner":{"account_id":6246195,"reputation":996,"user_id":4858016,"display_name":"Rubal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510773934,"creation_date":1434324328,"answer_id":30835595,"question_id":27598078,"body_markdown":"According to the IEEE standards, float is a 32 bit representation of a real number while double is a 64 bit representation.\r\n\r\nIn Java programs we normally mostly see the use of double data type. It&#39;s just to avoid overflows as the range of numbers that can be accommodated using the double data type is more that the range when float is used.\r\n\r\nAlso when high precision is required, the use of double is encouraged. Few library methods that were implemented a long time ago still requires the use of float data type as a must (that is only because it was implemented using float, nothing else!).\r\n\r\nBut if you are certain that your program requires small numbers and an overflow won&#39;t occur with your use of float, then the use of float will largely improve your space complexity as floats require half the memory as required by double.\r\n","title":"Float and double datatype in Java","body":"<p>According to the IEEE standards, float is a 32 bit representation of a real number while double is a 64 bit representation.</p>\n\n<p>In Java programs we normally mostly see the use of double data type. It's just to avoid overflows as the range of numbers that can be accommodated using the double data type is more that the range when float is used.</p>\n\n<p>Also when high precision is required, the use of double is encouraged. Few library methods that were implemented a long time ago still requires the use of float data type as a must (that is only because it was implemented using float, nothing else!).</p>\n\n<p>But if you are certain that your program requires small numbers and an overflow won't occur with your use of float, then the use of float will largely improve your space complexity as floats require half the memory as required by double.</p>\n"},{"tags":[],"owner":{"account_id":7837713,"reputation":3410,"user_id":5925104,"accept_rate":57,"display_name":"Wachaga Mwaura"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510774096,"creation_date":1456069523,"answer_id":35538168,"question_id":27598078,"body_markdown":"Java seems to have a bias towards using double for computations nonetheless:\r\n\r\nCase in point the program I wrote earlier today, the methods didn&#39;t work when I used float, but now work great when I substituted float with double (in the NetBeans IDE):\r\n\r\n    package palettedos;\r\n    import java.util.*;\r\n\r\n    class Palettedos{\r\n        private static Scanner Z = new Scanner(System.in);\r\n        public static final double pi = 3.142;\r\n\r\n        public static void main(String[]args){\r\n            Palettedos A = new Palettedos();\r\n            System.out.println(&quot;Enter the base and height of the triangle respectively&quot;);\r\n            int base = Z.nextInt();\r\n            int height = Z.nextInt();\r\n            System.out.println(&quot;Enter the radius of the circle&quot;);\r\n            int radius = Z.nextInt();\r\n            System.out.println(&quot;Enter the length of the square&quot;);\r\n            long length = Z.nextInt();\r\n            double tArea = A.calculateArea(base, height);\r\n            double cArea = A.calculateArea(radius);\r\n            long sqArea = A.calculateArea(length);\r\n            System.out.println(&quot;The area of the triangle is\\t&quot; + tArea);\r\n            System.out.println(&quot;The area of the circle is\\t&quot; + cArea);\r\n            System.out.println(&quot;The area of the square is\\t&quot; + sqArea);\r\n        }\r\n\r\n        double calculateArea(int base, int height){\r\n            double triArea = 0.5*base*height;\r\n            return triArea;\r\n        }\r\n\r\n        double calculateArea(int radius){\r\n            double circArea = pi*radius*radius;\r\n            return circArea;\r\n        }\r\n\r\n        long calculateArea(long length){\r\n            long squaArea = length*length;\r\n            return squaArea;\r\n        }\r\n    }\r\n","title":"Float and double datatype in Java","body":"<p>Java seems to have a bias towards using double for computations nonetheless:</p>\n\n<p>Case in point the program I wrote earlier today, the methods didn't work when I used float, but now work great when I substituted float with double (in the NetBeans IDE):</p>\n\n<pre><code>package palettedos;\nimport java.util.*;\n\nclass Palettedos{\n    private static Scanner Z = new Scanner(System.in);\n    public static final double pi = 3.142;\n\n    public static void main(String[]args){\n        Palettedos A = new Palettedos();\n        System.out.println(\"Enter the base and height of the triangle respectively\");\n        int base = Z.nextInt();\n        int height = Z.nextInt();\n        System.out.println(\"Enter the radius of the circle\");\n        int radius = Z.nextInt();\n        System.out.println(\"Enter the length of the square\");\n        long length = Z.nextInt();\n        double tArea = A.calculateArea(base, height);\n        double cArea = A.calculateArea(radius);\n        long sqArea = A.calculateArea(length);\n        System.out.println(\"The area of the triangle is\\t\" + tArea);\n        System.out.println(\"The area of the circle is\\t\" + cArea);\n        System.out.println(\"The area of the square is\\t\" + sqArea);\n    }\n\n    double calculateArea(int base, int height){\n        double triArea = 0.5*base*height;\n        return triArea;\n    }\n\n    double calculateArea(int radius){\n        double circArea = pi*radius*radius;\n        return circArea;\n    }\n\n    long calculateArea(long length){\n        long squaArea = length*length;\n        return squaArea;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2424487,"reputation":3103,"user_id":2116739,"accept_rate":25,"display_name":"okrunner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519165218,"creation_date":1519165218,"answer_id":48895176,"question_id":27598078,"body_markdown":"This example illustrates how to extract the sign (the leftmost bit), exponent (the 8 following bits) and mantissa (the 23 rightmost bits) from a float in Java.\r\n\r\n\r\n    int bits = Float.floatToIntBits(-0.005f);\r\n    int sign = bits &gt;&gt;&gt; 31;\r\n    int exp = (bits &gt;&gt;&gt; 23 &amp; ((1 &lt;&lt; 8) - 1)) - ((1 &lt;&lt; 7) - 1);\r\n    int mantissa = bits &amp; ((1 &lt;&lt; 23) - 1);\r\n    System.out.println(sign + &quot; &quot; + exp + &quot; &quot; + mantissa + &quot; &quot; +\r\n      Float.intBitsToFloat((sign &lt;&lt; 31) | (exp + ((1 &lt;&lt; 7) - 1)) &lt;&lt; 23 | mantissa));\r\n\r\nThe same approach can be used for double’s (11 bit exponent and 52 bit mantissa).\r\n\r\n    long bits = Double.doubleToLongBits(-0.005);\r\n    long sign = bits &gt;&gt;&gt; 63;\r\n    long exp = (bits &gt;&gt;&gt; 52 &amp; ((1 &lt;&lt; 11) - 1)) - ((1 &lt;&lt; 10) - 1);\r\n    long mantissa = bits &amp; ((1L &lt;&lt; 52) - 1);\r\n    System.out.println(sign + &quot; &quot; + exp + &quot; &quot; + mantissa + &quot; &quot; +\r\n      Double.longBitsToDouble((sign &lt;&lt; 63) | (exp + ((1 &lt;&lt; 10) - 1)) &lt;&lt; 52 | mantissa));\r\n\r\nCredit: http://s-j.github.io/java-float/","title":"Float and double datatype in Java","body":"<p>This example illustrates how to extract the sign (the leftmost bit), exponent (the 8 following bits) and mantissa (the 23 rightmost bits) from a float in Java.</p>\n\n<pre><code>int bits = Float.floatToIntBits(-0.005f);\nint sign = bits &gt;&gt;&gt; 31;\nint exp = (bits &gt;&gt;&gt; 23 &amp; ((1 &lt;&lt; 8) - 1)) - ((1 &lt;&lt; 7) - 1);\nint mantissa = bits &amp; ((1 &lt;&lt; 23) - 1);\nSystem.out.println(sign + \" \" + exp + \" \" + mantissa + \" \" +\n  Float.intBitsToFloat((sign &lt;&lt; 31) | (exp + ((1 &lt;&lt; 7) - 1)) &lt;&lt; 23 | mantissa));\n</code></pre>\n\n<p>The same approach can be used for double’s (11 bit exponent and 52 bit mantissa).</p>\n\n<pre><code>long bits = Double.doubleToLongBits(-0.005);\nlong sign = bits &gt;&gt;&gt; 63;\nlong exp = (bits &gt;&gt;&gt; 52 &amp; ((1 &lt;&lt; 11) - 1)) - ((1 &lt;&lt; 10) - 1);\nlong mantissa = bits &amp; ((1L &lt;&lt; 52) - 1);\nSystem.out.println(sign + \" \" + exp + \" \" + mantissa + \" \" +\n  Double.longBitsToDouble((sign &lt;&lt; 63) | (exp + ((1 &lt;&lt; 10) - 1)) &lt;&lt; 52 | mantissa));\n</code></pre>\n\n<p>Credit: <a href=\"http://s-j.github.io/java-float/\" rel=\"nofollow noreferrer\">http://s-j.github.io/java-float/</a></p>\n"},{"tags":[],"owner":{"account_id":6637979,"reputation":735,"user_id":5279218,"display_name":"Himanshu Singh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532871248,"creation_date":1532870748,"answer_id":51580754,"question_id":27598078,"body_markdown":"**This will give error:**\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            float a = 0.5;\r\n        }\r\n    }\r\n\r\n/MyClass.java:3: error: incompatible types: possible lossy conversion from double to float\r\n        float a = 0.5;\r\n\r\n**This will work perfectly fine**\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            double a = 0.5;\r\n        }\r\n    }\r\n\r\n**This will also work perfectly fine**\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            float a = (float)0.5;\r\n        }\r\n    }\r\n\r\n**Reason** : Java by default stores real numbers as double to ensure higher precision. \r\n\r\nDouble takes more space but more precise during computation and float takes less space but less precise.\r\n","title":"Float and double datatype in Java","body":"<p><strong>This will give error:</strong></p>\n\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n        float a = 0.5;\n    }\n}\n</code></pre>\n\n<p>/MyClass.java:3: error: incompatible types: possible lossy conversion from double to float\n        float a = 0.5;</p>\n\n<p><strong>This will work perfectly fine</strong></p>\n\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n        double a = 0.5;\n    }\n}\n</code></pre>\n\n<p><strong>This will also work perfectly fine</strong></p>\n\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n        float a = (float)0.5;\n    }\n}\n</code></pre>\n\n<p><strong>Reason</strong> : Java by default stores real numbers as double to ensure higher precision. </p>\n\n<p>Double takes more space but more precise during computation and float takes less space but less precise.</p>\n"},{"tags":[],"owner":{"account_id":17719384,"reputation":86,"user_id":12864849,"display_name":"boi yeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583805646,"creation_date":1583805646,"answer_id":60610616,"question_id":27598078,"body_markdown":"You should use double instead of float for precise calculations, and float instead of double when using less accurate calculations. Float contains only decimal numbers, but double contains an IEEE754 double-precision floating point number, making it easier to contain and computate numbers more accurately. Hope this helps.","title":"Float and double datatype in Java","body":"<p>You should use double instead of float for precise calculations, and float instead of double when using less accurate calculations. Float contains only decimal numbers, but double contains an IEEE754 double-precision floating point number, making it easier to contain and computate numbers more accurately. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":18940079,"reputation":1,"user_id":13820339,"display_name":"Rocco Jerry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593219306,"creation_date":1593219306,"answer_id":62604714,"question_id":27598078,"body_markdown":"In regular programming calculations, we don’t use float. If we ensure that the result range is within the range of float data type then we can choose a float data type for saving memory. Generally, we use double because of two reasons:-\r\n\r\n - If we want to use the floating-point number as float data type then method caller must explicitly suffix F or f, because by default every floating-point number is treated as double. It increases the burden to the programmer. If we use a floating-point number as double data type then we don’t need to add any suffix.\r\n - Float is a single-precision data type means it occupies 4 bytes. Hence in large computations, we will not get a complete result. If we choose double data type, it occupies 8 bytes and we will get complete results.\r\n\r\nBoth float and double data types were designed especially for scientific calculations, where approximation errors are acceptable. If accuracy is the most prior concern then, it is recommended to use BigDecimal class instead of float or double data types. Source:- [Float and double datatypes in Java][1]\r\n\r\n\r\n  [1]: https://www.knowprogram.com/java/float-and-double-in-java/","title":"Float and double datatype in Java","body":"<p>In regular programming calculations, we don’t use float. If we ensure that the result range is within the range of float data type then we can choose a float data type for saving memory. Generally, we use double because of two reasons:-</p>\n<ul>\n<li>If we want to use the floating-point number as float data type then method caller must explicitly suffix F or f, because by default every floating-point number is treated as double. It increases the burden to the programmer. If we use a floating-point number as double data type then we don’t need to add any suffix.</li>\n<li>Float is a single-precision data type means it occupies 4 bytes. Hence in large computations, we will not get a complete result. If we choose double data type, it occupies 8 bytes and we will get complete results.</li>\n</ul>\n<p>Both float and double data types were designed especially for scientific calculations, where approximation errors are acceptable. If accuracy is the most prior concern then, it is recommended to use BigDecimal class instead of float or double data types. Source:- <a href=\"https://www.knowprogram.com/java/float-and-double-in-java/\" rel=\"nofollow noreferrer\">Float and double datatypes in Java</a></p>\n"}],"owner":{"account_id":4792902,"reputation":5097,"user_id":3871551,"accept_rate":50,"display_name":"Leo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384303,"favorite_count":0,"down_vote_count":2,"up_vote_count":257,"accepted_answer_id":27598164,"answer_count":9,"score":255,"last_activity_date":1669464758,"creation_date":1419232299,"question_id":27598078,"body_markdown":"The float data type is a single-precision 32-bit IEEE 754 floating point and the double data type is a double-precision 64-bit IEEE 754 floating point.\r\n\r\nWhat does it mean? And when should I use float instead of double or vice-versa?\r\n","title":"Float and double datatype in Java","body":"<p>The float data type is a single-precision 32-bit IEEE 754 floating point and the double data type is a double-precision 64-bit IEEE 754 floating point.</p>\n\n<p>What does it mean? And when should I use float instead of double or vice-versa?</p>\n"},{"tags":["java","lambda","final","effectively-final"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1657321191,"post_id":72917671,"comment_id":128790940,"body_markdown":"The problem with your code as shown is that the variable `num` may not exist by the time `thread` executes -- the stack may have been popped due to return from the method declaring `num`. Thus you can&#39;t write code to change it.  When the variable is final, however, its value can be effectively **copied** into the thread before the thread starts.","body":"The problem with your code as shown is that the variable <code>num</code> may not exist by the time <code>thread</code> executes -- the stack may have been popped due to return from the method declaring <code>num</code>. Thus you can&#39;t write code to change it.  When the variable is final, however, its value can be effectively <b>copied</b> into the thread before the thread starts."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1657321237,"post_id":72917671,"comment_id":128790948,"body_markdown":"If you are going to have a thread that you want to get a result back from, you should use a Callable, ExecutorService, fork join framework, CompletableFuture, or some other constructs and not just expect it to set a local variable in your code. One good way would be to pass in a concurrent queue that it could write to, and your code could read from.","body":"If you are going to have a thread that you want to get a result back from, you should use a Callable, ExecutorService, fork join framework, CompletableFuture, or some other constructs and not just expect it to set a local variable in your code. One good way would be to pass in a concurrent queue that it could write to, and your code could read from."},{"owner":{"account_id":25013336,"reputation":45,"user_id":19228365,"display_name":"John Smith"},"score":0,"creation_date":1657324085,"post_id":72917671,"comment_id":128791359,"body_markdown":"Oh that makes a lot of sense, I had read of callable and futures but not properly learnt them yet. Thanks both comments helped a lot.","body":"Oh that makes a lot of sense, I had read of callable and futures but not properly learnt them yet. Thanks both comments helped a lot."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657321378,"creation_date":1657321378,"answer_id":72917757,"question_id":72917671,"body_markdown":"Better designs use purpose-built features, such as a CompletableFuture.  This provides mechanisms for the asynchronous code to set a return value, for the consumer of the value to (optionally) wait and get the return value, or for subsequent operations to be invoked when the return value becomes available.\r\n\r\n\r\n\r\n","title":"How can you initialize a Captured variable inside a Lambda expression","body":"<p>Better designs use purpose-built features, such as a CompletableFuture.  This provides mechanisms for the asynchronous code to set a return value, for the consumer of the value to (optionally) wait and get the return value, or for subsequent operations to be invoked when the return value becomes available.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657323197,"creation_date":1657323197,"answer_id":72917900,"question_id":72917671,"body_markdown":"The best fit for your example is to [`submit()`][1] a `Callable` to an `ExecutorService`. Later, when you need the result, you access it via the resulting `Future`.\r\n\r\nAlternatively, if the result is not needed in the main thread, and can be handled asynchronously, you can compose a `CompletableFuture` to [perform your task.][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-java.util.concurrent.Executor-","title":"How can you initialize a Captured variable inside a Lambda expression","body":"<p>The best fit for your example is to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-\" rel=\"nofollow noreferrer\"><code>submit()</code></a> a <code>Callable</code> to an <code>ExecutorService</code>. Later, when you need the result, you access it via the resulting <code>Future</code>.</p>\n<p>Alternatively, if the result is not needed in the main thread, and can be handled asynchronously, you can compose a <code>CompletableFuture</code> to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-java.util.concurrent.Executor-\" rel=\"nofollow noreferrer\">perform your task.</a></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669464686,"creation_date":1657328020,"answer_id":72918203,"question_id":72917671,"body_markdown":"&gt; Even if run() is used which doesn&#39;t create new threads, it doesn&#39;t compile, neither will any other lambda expression. This makes sense since you could execute lambda expressions multiple times, which would mean trying to reassign a final variable.\r\n\r\nInside a lambda expression, you can initialize variables in the enclosing code. You can use only *effectively final* variables inside lambda expressions. It&#39;s not only related to lambdas, the same applies to anonymous classes and that restriction exists from the earlier days of Java. Java 8 only brought us the notion of effectively final variables.\r\n\r\nHere&#39;s a simplified answer:\r\n\r\nI guess you know that there are two *memory areas*: the *heap* where all objects reside and a *stack* in which is meant to keep the data related to each method call.\r\n\r\nVariables related to a particular method call form a *layer* of the stack, i.e. when a method is being called a *new layer* gets allocated on the top of the *stack*, when it calls another method - another *layer* gets allocated on top of this *layer*. Even when a variable is being passed around between different layers, each *stack layer* has its own version of this variable and their values are completely independent. When a method terminates all its layer is being  deallocated, and we&#39;re loosing access to all its variables, the *layer* beneath becomes active.\r\n\r\nLambda as well as an instance of the anonymous class are objects that reside in the *heap*. If there&#39;s at least one reference that leads to them on any of the *layers* of the stack, they would be alive and can sustain much longer than variables of the layer where they have been created. Therefore, it would have no sense if we imagine that it would be allowed to change a local variable from an anonymous class or lambda expression because there&#39;s no guarantee that these variables would exist at the moment.\r\n\r\nWhen a lambda or anonymous class is being created, JVM creates a copy of everything that is accessible. If a local variable has not been initialized, it would not be captured because it&#39;s not *effectively final*.\r\n\r\nYou can find a very simple definition of *effectively final variable* at the very end of the [*paragraph 4.12.4. of the Java language specification*](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4)\r\n\r\n&gt; If a variable is *effectively final*, adding the `final` modifier to its declaration **will not introduce any compile-time errors**. Conversely, a local variable or parameter that is declared final in a valid program becomes effectively final if the final modifier is removed. \r\n\r\nIf variable isn&#39;t initialized at neither at the moment of declaration, no anywhere in the code, then if you would try to add `final` modifier to its declaration, it&#39;ll cause a compilation. Such variable is not *effectively final*.\r\n\r\n&gt; The only solution I know is to define the variable as a *one-element array*, which allows you to change the element.\r\n\r\nIf a reference to the object doesn&#39;t get changed (i.e. a local variable pointing to the object doesn&#39;t change after initialization) we can use this object inside the lambda expression. While creating a lambda, JVM will capture a reference to such object (note: since it&#39;s an object, no copies would be created, the JVM would capture the reference to the object itself), and this object would be alive at least while the object representing a lambda is alive. In case when object is mutable (array, collection, etc.) we can modify it, and these changes can be observed in other peaces of the code that possess the reference to the same object (*but it&#39;s not guaranteed if a non-thread-safe object is being accessed concurrently*).\r\n\r\nAlso note that if a non-synchronized object like an array is being simultaneously modified and accessed for reading from different threads, there&#39;s no guaranty the data that has been read is correct. For such cases, have a look at the classes from the package [`java.util.concurrent.atomic`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/package-summary.html).","title":"How can you initialize a Captured variable inside a Lambda expression","body":"<blockquote>\n<p>Even if run() is used which doesn't create new threads, it doesn't compile, neither will any other lambda expression. This makes sense since you could execute lambda expressions multiple times, which would mean trying to reassign a final variable.</p>\n</blockquote>\n<p>Inside a lambda expression, you can initialize variables in the enclosing code. You can use only <em>effectively final</em> variables inside lambda expressions. It's not only related to lambdas, the same applies to anonymous classes and that restriction exists from the earlier days of Java. Java 8 only brought us the notion of effectively final variables.</p>\n<p>Here's a simplified answer:</p>\n<p>I guess you know that there are two <em>memory areas</em>: the <em>heap</em> where all objects reside and a <em>stack</em> in which is meant to keep the data related to each method call.</p>\n<p>Variables related to a particular method call form a <em>layer</em> of the stack, i.e. when a method is being called a <em>new layer</em> gets allocated on the top of the <em>stack</em>, when it calls another method - another <em>layer</em> gets allocated on top of this <em>layer</em>. Even when a variable is being passed around between different layers, each <em>stack layer</em> has its own version of this variable and their values are completely independent. When a method terminates all its layer is being  deallocated, and we're loosing access to all its variables, the <em>layer</em> beneath becomes active.</p>\n<p>Lambda as well as an instance of the anonymous class are objects that reside in the <em>heap</em>. If there's at least one reference that leads to them on any of the <em>layers</em> of the stack, they would be alive and can sustain much longer than variables of the layer where they have been created. Therefore, it would have no sense if we imagine that it would be allowed to change a local variable from an anonymous class or lambda expression because there's no guarantee that these variables would exist at the moment.</p>\n<p>When a lambda or anonymous class is being created, JVM creates a copy of everything that is accessible. If a local variable has not been initialized, it would not be captured because it's not <em>effectively final</em>.</p>\n<p>You can find a very simple definition of <em>effectively final variable</em> at the very end of the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\"><em>paragraph 4.12.4. of the Java language specification</em></a></p>\n<blockquote>\n<p>If a variable is <em>effectively final</em>, adding the <code>final</code> modifier to its declaration <strong>will not introduce any compile-time errors</strong>. Conversely, a local variable or parameter that is declared final in a valid program becomes effectively final if the final modifier is removed.</p>\n</blockquote>\n<p>If variable isn't initialized at neither at the moment of declaration, no anywhere in the code, then if you would try to add <code>final</code> modifier to its declaration, it'll cause a compilation. Such variable is not <em>effectively final</em>.</p>\n<blockquote>\n<p>The only solution I know is to define the variable as a <em>one-element array</em>, which allows you to change the element.</p>\n</blockquote>\n<p>If a reference to the object doesn't get changed (i.e. a local variable pointing to the object doesn't change after initialization) we can use this object inside the lambda expression. While creating a lambda, JVM will capture a reference to such object (note: since it's an object, no copies would be created, the JVM would capture the reference to the object itself), and this object would be alive at least while the object representing a lambda is alive. In case when object is mutable (array, collection, etc.) we can modify it, and these changes can be observed in other peaces of the code that possess the reference to the same object (<em>but it's not guaranteed if a non-thread-safe object is being accessed concurrently</em>).</p>\n<p>Also note that if a non-synchronized object like an array is being simultaneously modified and accessed for reading from different threads, there's no guaranty the data that has been read is correct. For such cases, have a look at the classes from the package <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.atomic</code></a>.</p>\n"}],"owner":{"account_id":25013336,"reputation":45,"user_id":19228365,"display_name":"John Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":72917900,"answer_count":3,"score":0,"last_activity_date":1669464686,"creation_date":1657320310,"question_id":72917671,"body_markdown":"In Java, it is only possible to capture final (or effectively final) variables in lambda expressions. It is possible to declare a final variable first and then initialize it once, but not if the initialization occurs in a lambda expression.\r\nThis is ok:\r\n```\r\nfinal int num;\r\nnum = 10;\r\n```\r\nBut this is not:\r\n```\r\nfinal int num;\r\nThread thread = new Thread(() -&gt; {\r\n    num = 10;\r\n});\r\nthread.start();\r\n```\r\nEven if run() is used which doesn&#39;t create new threads, it doesn&#39;t compile, neither will any other lambda expression. This makes sense since you could execute lambda expressions multiple times, which would mean trying to reassign a final variable.\r\n\r\nBut it seems like it could be useful to initialize variables in a lambda expression e.g. Maybe you have some long process to get and store a value in a variable like reading a large file; but because it is long, you want it to happen in a new thread, so the current one can move on. \r\n\r\nThe only solution I know is to define the variable as a one-element array, which allows you to change the element. This seems to me somewhat unintuitive and like a way to cheat the language instead of writing good code. Are there better designs which are good for attacking this problem?","title":"How can you initialize a Captured variable inside a Lambda expression","body":"<p>In Java, it is only possible to capture final (or effectively final) variables in lambda expressions. It is possible to declare a final variable first and then initialize it once, but not if the initialization occurs in a lambda expression.\nThis is ok:</p>\n<pre><code>final int num;\nnum = 10;\n</code></pre>\n<p>But this is not:</p>\n<pre><code>final int num;\nThread thread = new Thread(() -&gt; {\n    num = 10;\n});\nthread.start();\n</code></pre>\n<p>Even if run() is used which doesn't create new threads, it doesn't compile, neither will any other lambda expression. This makes sense since you could execute lambda expressions multiple times, which would mean trying to reassign a final variable.</p>\n<p>But it seems like it could be useful to initialize variables in a lambda expression e.g. Maybe you have some long process to get and store a value in a variable like reading a large file; but because it is long, you want it to happen in a new thread, so the current one can move on.</p>\n<p>The only solution I know is to define the variable as a one-element array, which allows you to change the element. This seems to me somewhat unintuitive and like a way to cheat the language instead of writing good code. Are there better designs which are good for attacking this problem?</p>\n"},{"tags":["java","jenkins","groovy","jenkins-groovy","groovy-console"],"comments":[{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1668888752,"post_id":74496817,"comment_id":131517464,"body_markdown":"What&#39;s failing? What errors do you get?","body":"What&#39;s failing? What errors do you get?"},{"owner":{"account_id":26631343,"reputation":11,"user_id":20251980,"display_name":"green_car"},"score":0,"creation_date":1668912156,"post_id":74496817,"comment_id":131520780,"body_markdown":"it says could not resolve host.","body":"it says could not resolve host."},{"owner":{"account_id":26631343,"reputation":11,"user_id":20251980,"display_name":"green_car"},"score":0,"creation_date":1668912586,"post_id":74496817,"comment_id":131520834,"body_markdown":"The URL returned by the publishVersion() method, I am trying to upload the module.tar.gz  to the URL by using the UPLOAD method in the last part. &quot;it says could not resolve host. &quot;","body":"The URL returned by the publishVersion() method, I am trying to upload the module.tar.gz  to the URL by using the UPLOAD method in the last part. &quot;it says could not resolve host. &quot;"},{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1668913488,"post_id":74496817,"comment_id":131520912,"body_markdown":"I don&#39;t see where you are calling the publishVersion function.","body":"I don&#39;t see where you are calling the publishVersion function."}],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668913662,"creation_date":1668913662,"answer_id":74505356,"question_id":74496817,"body_markdown":"Probably you have to do something like the below.\r\n\r\n```\r\ndef URL = publishVersion()\r\nUPLOAD = sh(\r\n        &quot;&quot;&quot;curl \\\r\n        --header &quot;Content-Type: application/octet-stream&quot; \\\r\n        --request PUT \\\r\n        --data-binary @module.tar.gz \\\r\n        ${URL}\r\n        &quot;&quot;&quot;\r\n)\r\n```","title":"Calling a method that returns a URL in groovy script","body":"<p>Probably you have to do something like the below.</p>\n<pre><code>def URL = publishVersion()\nUPLOAD = sh(\n        &quot;&quot;&quot;curl \\\n        --header &quot;Content-Type: application/octet-stream&quot; \\\n        --request PUT \\\n        --data-binary @module.tar.gz \\\n        ${URL}\n        &quot;&quot;&quot;\n)\n</code></pre>\n"}],"owner":{"account_id":26631343,"reputation":11,"user_id":20251980,"display_name":"green_car"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669464096,"creation_date":1668819951,"question_id":74496817,"body_markdown":"```\r\ndef publishVersion() {\r\n    def Payload = versionPayload()\r\n    def response = httpRequest(\r\n        customHeaders: [\r\n            [ name: &quot;Authorization&quot;, value: &quot;Bearer &quot; + env.BEARER_TOKEN ],\r\n            [ name: &quot;Content-Type&quot;, value: &quot;application/vnd.api+json&quot; ]\r\n        ],\r\n        httpMode: &#39;POST&#39;,\r\n        requestBody: &quot;${Payload}&quot;,\r\n        url: &quot;https://app.terraform.io/api/v2/organizations/my-organization/registry-modules/private/my-organization/vnet/provider/versions&quot;\r\n    )\r\n    def data = new JsonSlurper().parseText(response.content)\r\n    println (&quot;Run Id: &quot; + data.data.links.upload)\r\n    return data.data.links.upload\r\n}\r\ndef UPLOAD\r\nUPLOAD = sh(\r\n        &#39;&#39;&#39;curl \\\r\n        --header &quot;Content-Type: application/octet-stream&quot; \\\r\n        --request PUT \\\r\n        --data-binary @module.tar.gz \\\r\n        data.data.links.upload \r\n        &#39;&#39;&#39;\r\n)\r\n```\r\n\r\nI am trying to create a module version in Terraform cloud. The `publishVersion()` method will invoke the API call and part of the API response is a URL where the module will be uploaded. And  that URL is what `publishVersion()` is returning as `data.data.links.upload`. The URL returned by the `publishVersion()` method, I am trying to upload the `module.tar.gz`  to the URL by using the UPLOAD method in the last part. &quot;it says could not resolve host.&quot;\r\n","title":"Calling a method that returns a URL in groovy script","body":"<pre><code>def publishVersion() {\n    def Payload = versionPayload()\n    def response = httpRequest(\n        customHeaders: [\n            [ name: &quot;Authorization&quot;, value: &quot;Bearer &quot; + env.BEARER_TOKEN ],\n            [ name: &quot;Content-Type&quot;, value: &quot;application/vnd.api+json&quot; ]\n        ],\n        httpMode: 'POST',\n        requestBody: &quot;${Payload}&quot;,\n        url: &quot;https://app.terraform.io/api/v2/organizations/my-organization/registry-modules/private/my-organization/vnet/provider/versions&quot;\n    )\n    def data = new JsonSlurper().parseText(response.content)\n    println (&quot;Run Id: &quot; + data.data.links.upload)\n    return data.data.links.upload\n}\ndef UPLOAD\nUPLOAD = sh(\n        '''curl \\\n        --header &quot;Content-Type: application/octet-stream&quot; \\\n        --request PUT \\\n        --data-binary @module.tar.gz \\\n        data.data.links.upload \n        '''\n)\n</code></pre>\n<p>I am trying to create a module version in Terraform cloud. The <code>publishVersion()</code> method will invoke the API call and part of the API response is a URL where the module will be uploaded. And  that URL is what <code>publishVersion()</code> is returning as <code>data.data.links.upload</code>. The URL returned by the <code>publishVersion()</code> method, I am trying to upload the <code>module.tar.gz</code>  to the URL by using the UPLOAD method in the last part. &quot;it says could not resolve host.&quot;</p>\n"},{"tags":["java","expression"],"answers":[{"tags":[],"owner":{"account_id":1570181,"reputation":304,"user_id":1458041,"accept_rate":0,"display_name":"Mich&#232;le S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669463952,"creation_date":1669463952,"answer_id":74581973,"question_id":74581958,"body_markdown":"Found the problem, I have to use replaceAll instead of replace! Thank you!","title":"Java regular Expression End of String","body":"<p>Found the problem, I have to use replaceAll instead of replace! Thank you!</p>\n"}],"owner":{"account_id":1570181,"reputation":304,"user_id":1458041,"accept_rate":0,"display_name":"Mich&#232;le S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669463952,"creation_date":1669463799,"question_id":74581958,"body_markdown":"I want to replace some part of a string, but only if the part is the last part of the string. \r\n\r\nExample: \r\n```\r\npublic class Test {\r\n    public static void banana(){\r\n        String test = &quot;I love Banana&quot;;\r\n        System.out.println(&quot;Test:  &quot;+test+&quot;\\nRegEx: &quot;+test.replace(&quot;a$&quot;,&quot;as&quot;));\r\n    }\r\n}\r\n```\r\nThe code above does not change anything. Without the $-sign I get `I love Basnasnas`, which is not, what I want. I tried escape the dollar with a backslash, didn&#39;t work out. Where is my mistake?\r\n\r\n","title":"Java regular Expression End of String","body":"<p>I want to replace some part of a string, but only if the part is the last part of the string.</p>\n<p>Example:</p>\n<pre><code>public class Test {\n    public static void banana(){\n        String test = &quot;I love Banana&quot;;\n        System.out.println(&quot;Test:  &quot;+test+&quot;\\nRegEx: &quot;+test.replace(&quot;a$&quot;,&quot;as&quot;));\n    }\n}\n</code></pre>\n<p>The code above does not change anything. Without the $-sign I get <code>I love Basnasnas</code>, which is not, what I want. I tried escape the dollar with a backslash, didn't work out. Where is my mistake?</p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":134612,"reputation":1481,"user_id":336861,"accept_rate":95,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1281536294,"creation_date":1281536294,"answer_id":3459261,"question_id":3459089,"body_markdown":"Write a wrapper function to do it for you.\r\n\r\n    private void writeToLogs(String message, Exception excp) {\r\n        logger.error(&quot;myPrefix\\t&quot; + message, excp);\r\n    }","title":"Is it possible to prefix every line of a stacktrace in log4j?","body":"<p>Write a wrapper function to do it for you.</p>\n\n<pre><code>private void writeToLogs(String message, Exception excp) {\n    logger.error(\"myPrefix\\t\" + message, excp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198822,"reputation":16528,"user_id":443716,"accept_rate":92,"display_name":"Isaac"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1430349968,"creation_date":1285898495,"answer_id":3836063,"question_id":3459089,"body_markdown":"**Refer to Alex&#39;s answer as it&#39;s a cleaner one.**\r\n\r\nYou can write your own implementation of `org.apache.log4j.spi.ThrowableRenderer`:\r\n\r\nhttp://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/spi/ThrowableRenderer.html\r\n\r\nThen, edit your log4j configuration:\r\n\r\nlog4j.throwableRenderer=*your-custom-class-name*\r\n\r\nThe `ThrowableRenderer` returns an array of `String`s. Here&#39;s your code:\r\n\r\n    String prefix = &quot;myPrefix&quot;; // Or some constant\r\n\r\n    List&lt;String&gt; l = new LinkedList&lt;String&gt;();\r\n    l.add(String.format(&quot;%s %s: %s&quot;, prefix, t.getClass().getName(), t.getMessage()));\r\n\r\n    for (StackTraceElement ste: t.getStackTrace()){\r\n        l.add(String.format(&quot;%s %s&quot;, prefix, ste.toString()));\r\n    }\r\n\r\n    return (String[]) l.toArray();\r\n\r\nAnother idea would be to print the `Throwable` into a `PrintWriter` that is wrapping some `Writer` that writes into memory, and then re-iterate over strings delimited by `line.separator`, adding each line to a list:\r\n\r\n    StringWriter sw = new StringWriter();\r\n    t.printStackTrace(new PrintWriter(sw));\r\n\r\n    List&lt;String&gt; l = new LinkedList&lt;String&gt;();\r\n    for (String s: sw.toString().split(System.lineSeparator())) {\r\n        l.add(String.format(&quot;%s %s&quot;, prefix, s));\r\n    }\r\n\r\n    return (String[]) l.toArray();","title":"Is it possible to prefix every line of a stacktrace in log4j?","body":"<p><strong>Refer to Alex's answer as it's a cleaner one.</strong></p>\n\n<p>You can write your own implementation of <code>org.apache.log4j.spi.ThrowableRenderer</code>:</p>\n\n<p><a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/spi/ThrowableRenderer.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/spi/ThrowableRenderer.html</a></p>\n\n<p>Then, edit your log4j configuration:</p>\n\n<p>log4j.throwableRenderer=<em>your-custom-class-name</em></p>\n\n<p>The <code>ThrowableRenderer</code> returns an array of <code>String</code>s. Here's your code:</p>\n\n<pre><code>String prefix = \"myPrefix\"; // Or some constant\n\nList&lt;String&gt; l = new LinkedList&lt;String&gt;();\nl.add(String.format(\"%s %s: %s\", prefix, t.getClass().getName(), t.getMessage()));\n\nfor (StackTraceElement ste: t.getStackTrace()){\n    l.add(String.format(\"%s %s\", prefix, ste.toString()));\n}\n\nreturn (String[]) l.toArray();\n</code></pre>\n\n<p>Another idea would be to print the <code>Throwable</code> into a <code>PrintWriter</code> that is wrapping some <code>Writer</code> that writes into memory, and then re-iterate over strings delimited by <code>line.separator</code>, adding each line to a list:</p>\n\n<pre><code>StringWriter sw = new StringWriter();\nt.printStackTrace(new PrintWriter(sw));\n\nList&lt;String&gt; l = new LinkedList&lt;String&gt;();\nfor (String s: sw.toString().split(System.lineSeparator())) {\n    l.add(String.format(\"%s %s\", prefix, s));\n}\n\nreturn (String[]) l.toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124057,"reputation":4246,"user_id":318912,"accept_rate":25,"display_name":"Alex Nauda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1430350223,"creation_date":1430349424,"answer_id":29956283,"question_id":3459089,"body_markdown":"Subclass `ThrowableRenderer`, for example:\r\n\r\n    import org.apache.log4j.DefaultThrowableRenderer;\r\n    import org.apache.log4j.spi.ThrowableRenderer;\r\n    \r\n    public class LogThrowableRenderer implements ThrowableRenderer {\r\n    \r\n        DefaultThrowableRenderer def = new DefaultThrowableRenderer();\r\n    \r\n        @Override\r\n        public String[] doRender(Throwable t) {\r\n            String[] temp = def.doRender(t);\r\n            for (int i = 0; i &lt; temp.length; i++) {\r\n                temp[i] = &quot;myPrefix &quot;+temp[i];\r\n            }\r\n            return temp;\r\n        }\r\n    \r\n    }\r\n\r\nAdd to your `log4j.properties`:\r\n\r\n    log4j.throwableRenderer=whatever.package.LogThrowableRenderer\r\n\r\nThis uses the existing `DefaultThrowableRenderer` to render the stacktrace in the familiar way before adding the prefix, so it will include the `Throwable` class, message, and cause.","title":"Is it possible to prefix every line of a stacktrace in log4j?","body":"<p>Subclass <code>ThrowableRenderer</code>, for example:</p>\n\n<pre><code>import org.apache.log4j.DefaultThrowableRenderer;\nimport org.apache.log4j.spi.ThrowableRenderer;\n\npublic class LogThrowableRenderer implements ThrowableRenderer {\n\n    DefaultThrowableRenderer def = new DefaultThrowableRenderer();\n\n    @Override\n    public String[] doRender(Throwable t) {\n        String[] temp = def.doRender(t);\n        for (int i = 0; i &lt; temp.length; i++) {\n            temp[i] = \"myPrefix \"+temp[i];\n        }\n        return temp;\n    }\n\n}\n</code></pre>\n\n<p>Add to your <code>log4j.properties</code>:</p>\n\n<pre><code>log4j.throwableRenderer=whatever.package.LogThrowableRenderer\n</code></pre>\n\n<p>This uses the existing <code>DefaultThrowableRenderer</code> to render the stacktrace in the familiar way before adding the prefix, so it will include the <code>Throwable</code> class, message, and cause.</p>\n"},{"tags":[],"owner":{"account_id":10755660,"reputation":80,"user_id":7913696,"display_name":"Adriel Iclodean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630506229,"creation_date":1630506229,"answer_id":69015627,"question_id":3459089,"body_markdown":"Here is one solution that I found for logback and I used.\r\nThe API for now does not let you prefix every line of the stack trace. \r\nFor the other lines I already had a Pattern in place with a tracking ID. So I had to use that.\r\nSo what I did is \r\n1. I created a CustomLayout extends LayoutBase&lt;ILoggingEvent&gt;\r\n2. In the doLayout method you can check if you have on the event an TrowableProxy and from that you can parse every line and add a prefix.\r\nI just checked if I have on the line my tracking ID, if there is not, I just appended it.\r\n\r\nHere is the code\r\n```\r\npublic class MyLayout extends LayoutBase&lt;ILoggingEvent&gt; {\r\n\r\n    private PatternLayout pattern = null;\r\n    private String thePattern;\r\n\r\n   @Override\r\n    public String doLayout(ILoggingEvent event) {\r\n        if (!pattern.isStarted()) {\r\n            pattern.setPattern(thePattern);\r\n            pattern.start();\r\n        }\r\n\r\n        String patternLayoutResult = pattern.doLayout(event);\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        String trackingId = MDC.get(TRACKING_ID);\r\n        if (trackingId != null) {\r\n            for (String line : patternLayoutResult.split(LINE_SEPARATOR)) {\r\n                if (!line.contains(trackingId)) {\r\n                    sb.append(&quot;Exception [&quot;);\r\n                    sb.append(TRACKING_ID);\r\n                    sb.append(&quot;:&quot;);\r\n                    sb.append(trackingId);\r\n                    sb.append(&quot;] &quot;);\r\n\r\n                }\r\n                sb.append(line);\r\n                sb.append(LINE_SEPARATOR);\r\n            }\r\n\r\n            return sb.toString();\r\n        }\r\n\r\n        return patternLayoutResult;\r\n    }\r\n```\r\n\r\nAnd in the logback.xml\r\n\r\n```\r\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n            &lt;layout class=&quot;mypackage.CustomLoggingLayout&quot;&gt;\r\n                &lt;thePattern&gt;%d{dd.MM.yyyy HH:mm:ss} %-5p [trackingId:%X{trackingId}] %c{1}:%L - %m%n&lt;/thePattern&gt;\r\n                &lt;Pattern&gt;&lt;/Pattern&gt;\r\n            &lt;/layout&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n```\r\n\r\nAnd now the stackTrace looks like:\r\n\r\n```\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at org.glassfish.jersey.jdkhttp.JdkHttpHandlerContainer.handle(JdkHttpHandlerContainer.java:161)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:700)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:672)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at java.lang.Thread.run(Thread.java:748)\r\n```\r\n","title":"Is it possible to prefix every line of a stacktrace in log4j?","body":"<p>Here is one solution that I found for logback and I used.\nThe API for now does not let you prefix every line of the stack trace.\nFor the other lines I already had a Pattern in place with a tracking ID. So I had to use that.\nSo what I did is</p>\n<ol>\n<li>I created a CustomLayout extends LayoutBase</li>\n<li>In the doLayout method you can check if you have on the event an TrowableProxy and from that you can parse every line and add a prefix.\nI just checked if I have on the line my tracking ID, if there is not, I just appended it.</li>\n</ol>\n<p>Here is the code</p>\n<pre><code>public class MyLayout extends LayoutBase&lt;ILoggingEvent&gt; {\n\n    private PatternLayout pattern = null;\n    private String thePattern;\n\n   @Override\n    public String doLayout(ILoggingEvent event) {\n        if (!pattern.isStarted()) {\n            pattern.setPattern(thePattern);\n            pattern.start();\n        }\n\n        String patternLayoutResult = pattern.doLayout(event);\n        StringBuilder sb = new StringBuilder();\n\n        String trackingId = MDC.get(TRACKING_ID);\n        if (trackingId != null) {\n            for (String line : patternLayoutResult.split(LINE_SEPARATOR)) {\n                if (!line.contains(trackingId)) {\n                    sb.append(&quot;Exception [&quot;);\n                    sb.append(TRACKING_ID);\n                    sb.append(&quot;:&quot;);\n                    sb.append(trackingId);\n                    sb.append(&quot;] &quot;);\n\n                }\n                sb.append(line);\n                sb.append(LINE_SEPARATOR);\n            }\n\n            return sb.toString();\n        }\n\n        return patternLayoutResult;\n    }\n</code></pre>\n<p>And in the logback.xml</p>\n<pre><code>&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n            &lt;layout class=&quot;mypackage.CustomLoggingLayout&quot;&gt;\n                &lt;thePattern&gt;%d{dd.MM.yyyy HH:mm:ss} %-5p [trackingId:%X{trackingId}] %c{1}:%L - %m%n&lt;/thePattern&gt;\n                &lt;Pattern&gt;&lt;/Pattern&gt;\n            &lt;/layout&gt;\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>And now the stackTrace looks like:</p>\n<pre><code>Exception [trackingId:d3746a12a86e46f991a338b4317045f5] at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at org.glassfish.jersey.jdkhttp.JdkHttpHandlerContainer.handle(JdkHttpHandlerContainer.java:161)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:700)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:672)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nException [trackingId:d3746a12a86e46f991a338b4317045f5] at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":948386,"reputation":2575,"user_id":975123,"accept_rate":75,"display_name":"mekazu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669461789,"creation_date":1669461789,"answer_id":74581727,"question_id":3459089,"body_markdown":"With log4j2 you can add a prefix to each new line of your stacktraces by specifying the `separator` as a newline followed by your prefix:\r\n\r\n```\r\n%xThrowable{separator(\\nmyPrefix)}%n\r\n```\r\n\r\nYou can similarly add prefixes to each new line of each multi-line message:\r\n\r\n```\r\n%replace{%m}{[\\r\\n]+}{\\nmyPrefix}\r\n```\r\n\r\nFor example, to add a whitespace prefix to each multi-line log and stacktrace line:\r\n```\r\nappender.rolling.layout.pattern = %d [%t] %-5p %c %L - %replace{%m}{[\\r\\n]+}{\\n }%xThrowable{separator(\\n )}%n\r\n```\r\n\r\nNote that you want place the `%xThrowable` bit after your `%m`.","title":"Is it possible to prefix every line of a stacktrace in log4j?","body":"<p>With log4j2 you can add a prefix to each new line of your stacktraces by specifying the <code>separator</code> as a newline followed by your prefix:</p>\n<pre><code>%xThrowable{separator(\\nmyPrefix)}%n\n</code></pre>\n<p>You can similarly add prefixes to each new line of each multi-line message:</p>\n<pre><code>%replace{%m}{[\\r\\n]+}{\\nmyPrefix}\n</code></pre>\n<p>For example, to add a whitespace prefix to each multi-line log and stacktrace line:</p>\n<pre><code>appender.rolling.layout.pattern = %d [%t] %-5p %c %L - %replace{%m}{[\\r\\n]+}{\\n }%xThrowable{separator(\\n )}%n\n</code></pre>\n<p>Note that you want place the <code>%xThrowable</code> bit after your <code>%m</code>.</p>\n"}],"owner":{"account_id":83328,"reputation":2647,"user_id":233692,"accept_rate":78,"display_name":"Jean-Philippe Caruana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5932,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":29956283,"answer_count":5,"score":7,"last_activity_date":1669461789,"creation_date":1281535262,"question_id":3459089,"body_markdown":"when you write\r\n\r\n    logger.error(&quot;message&quot;, exception);\r\n\r\nlog4j produces the message and the complete stack trace :\r\n\r\n    Aug  9 06:26:13 10.175.60.14 myPrefix: [error] [TP-Processor114] [my.class.Name] message : exception\r\n    at fatherOfException\r\n    at fatherof_fatherOfException\r\n    at fatherof_fatherof_fatherOfException\r\n    ...\r\n\r\nmy conversion pattern is\r\n\r\n    log4j.appender.syslog.layout.ConversionPattern=myPrefix: [%p] [%t] [%c] [%x] - %m%n\r\n\r\nSo, is it possible to prefix **every line** with myPrefix, as :\r\n\r\n        Aug  9 06:26:13 10.175.60.14 myPrefix: [error] [TP-Processor114] [my.class.Name] message : exception\r\n    myPrefix    at fatherOfException\r\n    myPrefix    at fatherof_fatherOfException\r\n    myPrefix    at fatherof_fatherof_fatherOfException\r\n        ...\r\n\r\nWhen I grep my logs on myPrefix, i don&#39;t see the stack trace. We have many different prefixes (one per module)\r\n\r\nThanks in advance.","title":"Is it possible to prefix every line of a stacktrace in log4j?","body":"<p>when you write</p>\n\n<pre><code>logger.error(\"message\", exception);\n</code></pre>\n\n<p>log4j produces the message and the complete stack trace :</p>\n\n<pre><code>Aug  9 06:26:13 10.175.60.14 myPrefix: [error] [TP-Processor114] [my.class.Name] message : exception\nat fatherOfException\nat fatherof_fatherOfException\nat fatherof_fatherof_fatherOfException\n...\n</code></pre>\n\n<p>my conversion pattern is</p>\n\n<pre><code>log4j.appender.syslog.layout.ConversionPattern=myPrefix: [%p] [%t] [%c] [%x] - %m%n\n</code></pre>\n\n<p>So, is it possible to prefix <strong>every line</strong> with myPrefix, as :</p>\n\n<pre><code>    Aug  9 06:26:13 10.175.60.14 myPrefix: [error] [TP-Processor114] [my.class.Name] message : exception\nmyPrefix    at fatherOfException\nmyPrefix    at fatherof_fatherOfException\nmyPrefix    at fatherof_fatherof_fatherOfException\n    ...\n</code></pre>\n\n<p>When I grep my logs on myPrefix, i don't see the stack trace. We have many different prefixes (one per module)</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","mysql","swing","jdbc","jtable"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669408397,"post_id":74577546,"comment_id":131642023,"body_markdown":"What do you want your GUI to look like?  Do you want to show one exercise at a time, like your second image, or several exercises on one `JPanel`?  What have you tried?  Where are you stuck?","body":"What do you want your GUI to look like?  Do you want to show one exercise at a time, like your second image, or several exercises on one <code>JPanel</code>?  What have you tried?  Where are you stuck?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1669409729,"post_id":74577546,"comment_id":131642279,"body_markdown":"I&#39;m not convinced, based on the desired output, that a `JTable` would be the best solution","body":"I&#39;m not convinced, based on the desired output, that a <code>JTable</code> would be the best solution"},{"owner":{"account_id":26962028,"reputation":1,"user_id":20529569,"display_name":"mrjbcam"},"score":0,"creation_date":1669414797,"post_id":74577546,"comment_id":131643183,"body_markdown":"@GilbertLeBlanc I would like the layout similar to the second image, but have everything on a single jpanel so I can scroll to view all sets etc for the different exercises","body":"@GilbertLeBlanc I would like the layout similar to the second image, but have everything on a single jpanel so I can scroll to view all sets etc for the different exercises"},{"owner":{"account_id":26962028,"reputation":1,"user_id":20529569,"display_name":"mrjbcam"},"score":0,"creation_date":1669414833,"post_id":74577546,"comment_id":131643188,"body_markdown":"@MadProgrammer would you be able to suggest an alternative way to lay this out?","body":"@MadProgrammer would you be able to suggest an alternative way to lay this out?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1669416434,"post_id":74577546,"comment_id":131643426,"body_markdown":"A series of specialised components each focusing on a single goal","body":"A series of specialised components each focusing on a single goal"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669447408,"post_id":74577546,"comment_id":131646717,"body_markdown":"Your image has three vertical dots at the end of each line.  What do these vertical dots signify?","body":"Your image has three vertical dots at the end of each line.  What do these vertical dots signify?"},{"owner":{"account_id":26962028,"reputation":1,"user_id":20529569,"display_name":"mrjbcam"},"score":0,"creation_date":1669453818,"post_id":74577546,"comment_id":131647433,"body_markdown":"@GilbertLeBlanc I’m not worrying about all the small details in the second image, I just mean the layout. For example having something similar to a JLabel at the top stating the exercise name, then the sets etc below it in a table or something similar, then repeat for the next exercise, having it below the first on the same panel so all exercises of the workout can be seen","body":"@GilbertLeBlanc I’m not worrying about all the small details in the second image, I just mean the layout. For example having something similar to a JLabel at the top stating the exercise name, then the sets etc below it in a table or something similar, then repeat for the next exercise, having it below the first on the same panel so all exercises of the workout can be seen"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669461199,"creation_date":1669461199,"answer_id":74581653,"question_id":74577546,"body_markdown":"# Introduction\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nI went ahead and created the following GUI.  I didn&#39;t worry about making it pretty.  I&#39;ll leave that as an exercise for you.\r\n\r\n[![Page 1][1]][1]\r\n\r\nHere&#39;s the same GUI scrolled down a page.\r\n\r\n[![Page 2][2]][2]\r\n\r\n# Explanation\r\n\r\nThe hardest part of coding this was creating the application model.  Most of the code is devoted to creating the application model.  Once I had the application model done, coding the GUI was straightforward.  Using the model-view-controller (MVC) pattern makes creating a GUI so much easier.\r\n\r\n## Model\r\n\r\nThe application model consists of three classes.  `ExerciseModel` is the main plain Java getter/setter model class.  It holds a `java.util.List` of `Exercise` instances and a `List` of `ExerciseType` instances.\r\n\r\n`Exercise` is a plain Java getter/setter class that holds the results of one set of one exercise.  I based this class on your original table image.\r\n\r\n`ExerciseType` is a plain Java getter/setter class that holds a type of exercise.\r\n\r\n## View\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).\r\n\r\nI created a `JTablePanel` class to create the `JTable` `JPanel`.  I made it a class because I was going to need as many instances of the class as there were exercise types.\r\n\r\nThe rest of the view is a straightforward creation of the `JFrame` and `JPanels`.\r\n\r\nThere are no controller classes in this example.\r\n\r\n#  Code\r\n\r\nHere&#39;s the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.GridLayout;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.table.DefaultTableModel;\r\n    \r\n    public class ExerciseGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new ExerciseGUI());\r\n    \t}\r\n    \t\r\n    \tprivate final ExerciseModel model;\r\n    \t\r\n    \tpublic ExerciseGUI() {\r\n    \t\tthis.model = new ExerciseModel();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Exercise GUI&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JScrollPane createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\t\r\n    \t\tDimension tablePanelDimension = new Dimension(0, 0);\r\n    \t\tList&lt;ExerciseType&gt; exerciseTypes = model.getExerciseTypes();\r\n    \t\tfor (ExerciseType exerciseType : exerciseTypes) {\r\n    \t\t\tJPanel tablePanel = new JTablePanel(model, exerciseType).getPanel();\r\n    \t\t\ttablePanelDimension = tablePanel.getPreferredSize();\r\n    \t\t\tpanel.add(tablePanel);\r\n    \t\t}\r\n    \t\t\r\n    \t\tJScrollPane scrollPane = new JScrollPane(panel);\r\n    \t\tscrollPane.setPreferredSize(new Dimension(tablePanelDimension.width + 50, \r\n    \t\t\t\ttablePanelDimension.height));\r\n    \t\t\r\n    \t\treturn scrollPane;\r\n    \t}\r\n    \t\r\n    \tpublic class JTablePanel {\r\n    \t\t\r\n    \t\tprivate final ExerciseModel model;\r\n    \t\t\r\n    \t\tprivate final ExerciseType exerciseType;\r\n    \t\t\r\n    \t\tprivate final JPanel panel;\r\n    \t\t\r\n    \t\tpublic JTablePanel(ExerciseModel model, ExerciseType exerciseType) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.exerciseType = exerciseType;\r\n    \t\t\tthis.panel = createJTablePanel();\r\n    \t\t}\r\n    \r\n    \t\tprivate JPanel createJTablePanel() {\r\n    \t\t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\t\t\r\n    \t\t\tJPanel titlePanel = new JPanel(new FlowLayout(FlowLayout.LEADING, 30, 5));\r\n    \t\t\t\r\n    \t\t\tJLabel exerciseLabel = new JLabel(exerciseType.getExercise());\r\n    \t\t\ttitlePanel.add(exerciseLabel);\r\n    \t\t\t\r\n    \t\t\tJLabel bodyAreaLabel = new JLabel(exerciseType.getBodyArea());\r\n    \t\t\ttitlePanel.add(bodyAreaLabel);\r\n    \t\t\t\r\n    \t\t\tpanel.add(titlePanel, BorderLayout.NORTH);\r\n    \t\t\t\r\n    \t\t\tJTable table = new JTable(createTableModel());\r\n    \t\t\t\r\n    \t\t\tJScrollPane scrollPane = new JScrollPane(table);\r\n    \t\t\tpanel.add(scrollPane, BorderLayout.CENTER);\r\n    \t\t\t\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate DefaultTableModel createTableModel() {\r\n    \t\t\tDefaultTableModel tableModel = new DefaultTableModel();\r\n    \t\t\ttableModel.addColumn(&quot;Set&quot;);\r\n    \t\t\ttableModel.addColumn(&quot;Weight&quot;);\r\n    \t\t\ttableModel.addColumn(&quot;Reps&quot;);\r\n    \t\t\t\r\n    \t\t\tfor (Exercise exercise : model.getExercises()) {\r\n    \t\t\t\tif (exercise.getExercise().equals(exerciseType.getExercise())) {\r\n    \t\t\t\t\tObject[] rowData = new Object[3];\r\n    \t\t\t\t\trowData[0] = exercise.getSet();\r\n    \t\t\t\t\trowData[1] = exercise.getWeight();\r\n    \t\t\t\t\trowData[2] = exercise.getReps();\r\n    \t\t\t\t\ttableModel.addRow(rowData);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn tableModel;\r\n    \t\t}\r\n    \r\n    \t\tpublic JPanel getPanel() {\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class ExerciseModel {\r\n    \t\t\r\n    \t\tprivate final List&lt;Exercise&gt; exercises;\r\n    \t\t\r\n    \t\tprivate final List&lt;ExerciseType&gt; exerciseTypes;\r\n    \t\t\r\n    \t\tpublic ExerciseModel() {\r\n    \t\t\tthis.exercises = createExercise();\r\n    \t\t\tthis.exerciseTypes = createExerciseTypes(exercises);\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate List&lt;Exercise&gt; createExercise() {\r\n    \t\t\tList&lt;Exercise&gt; exercises = new ArrayList&lt;&gt;();\r\n    \t\t\texercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 1, 10, 12));\r\n    \t\t\texercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 2, 10, 12));\r\n    \t\t\texercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 3, 10, 12));\r\n    \t\t\texercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 4, 10, 12));\r\n    \t\t\texercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 5, 10, 12));\r\n    \t\t\texercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 1, 10, 70));\r\n    \t\t\texercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 2, 10, 70));\r\n    \t\t\texercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 3, 10, 70));\r\n    \t\t\texercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 4, 10, 70));\r\n    \t\t\texercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 5, 10, 70));\r\n    \t\t\texercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 1, 10, 12));\r\n    \t\t\texercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 2, 10, 12));\r\n    \t\t\texercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 3, 10, 12));\r\n    \t\t\texercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 4, 10, 12));\r\n    \t\t\texercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 5, 10, 12));\r\n    \t\t\t\r\n    \t\t\treturn exercises;\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate List&lt;ExerciseType&gt; createExerciseTypes(\r\n    \t\t\t\tList&lt;Exercise&gt; exercises) {\r\n    \t\t\tList&lt;ExerciseType&gt; exerciseTypes = new ArrayList&lt;&gt;();\r\n    \t\t\tString previousExercise = &quot;&quot;, previousBodyArea;\r\n    \t\t\tfor (Exercise exercise : exercises) {\r\n    \t\t\t\tif (!previousExercise.equals(exercise.getExercise())) {\r\n    \t\t\t\t\tpreviousExercise = exercise.getExercise();\r\n    \t\t\t\t\tpreviousBodyArea = exercise.getBodyArea();\r\n    \t\t\t\t\texerciseTypes.add(new ExerciseType(previousExercise,\r\n    \t\t\t\t\t\t\tpreviousBodyArea));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn exerciseTypes;\r\n    \t\t}\r\n    \r\n    \t\tpublic List&lt;Exercise&gt; getExercises() {\r\n    \t\t\treturn exercises;\r\n    \t\t}\r\n    \r\n    \t\tpublic List&lt;ExerciseType&gt; getExerciseTypes() {\r\n    \t\t\treturn exerciseTypes;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class Exercise {\r\n    \t\t\r\n    \t\tprivate final int set, weight, reps;\r\n    \t\t\r\n    \t\tprivate final String exercise, bodyArea;\r\n    \r\n    \t\tpublic Exercise(String exercise, String bodyArea, int set, int reps,\r\n    \t\t\t\tint weight) {\r\n    \t\t\tthis.exercise = exercise;\r\n    \t\t\tthis.bodyArea = bodyArea;\r\n    \t\t\tthis.set = set;\r\n    \t\t\tthis.reps = reps;\r\n    \t\t\tthis.weight = weight;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getSet() {\r\n    \t\t\treturn set;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getWeight() {\r\n    \t\t\treturn weight;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getReps() {\r\n    \t\t\treturn reps;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getExercise() {\r\n    \t\t\treturn exercise;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getBodyArea() {\r\n    \t\t\treturn bodyArea;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class ExerciseType {\r\n    \t\t\r\n    \t\tprivate final String exercise, bodyArea;\r\n    \r\n    \t\tpublic ExerciseType(String exercise, String bodyArea) {\r\n    \t\t\tthis.exercise = exercise;\r\n    \t\t\tthis.bodyArea = bodyArea;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getExercise() {\r\n    \t\t\treturn exercise;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getBodyArea() {\r\n    \t\t\treturn bodyArea;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fIgg0.png\r\n  [2]: https://i.stack.imgur.com/lUaCD.png","title":"How would I layout my JTable to separate SQL data?","body":"<h1>Introduction</h1>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>I went ahead and created the following GUI.  I didn't worry about making it pretty.  I'll leave that as an exercise for you.</p>\n<p><a href=\"https://i.stack.imgur.com/fIgg0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIgg0.png\" alt=\"Page 1\" /></a></p>\n<p>Here's the same GUI scrolled down a page.</p>\n<p><a href=\"https://i.stack.imgur.com/lUaCD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lUaCD.png\" alt=\"Page 2\" /></a></p>\n<h1>Explanation</h1>\n<p>The hardest part of coding this was creating the application model.  Most of the code is devoted to creating the application model.  Once I had the application model done, coding the GUI was straightforward.  Using the model-view-controller (MVC) pattern makes creating a GUI so much easier.</p>\n<h2>Model</h2>\n<p>The application model consists of three classes.  <code>ExerciseModel</code> is the main plain Java getter/setter model class.  It holds a <code>java.util.List</code> of <code>Exercise</code> instances and a <code>List</code> of <code>ExerciseType</code> instances.</p>\n<p><code>Exercise</code> is a plain Java getter/setter class that holds the results of one set of one exercise.  I based this class on your original table image.</p>\n<p><code>ExerciseType</code> is a plain Java getter/setter class that holds a type of exercise.</p>\n<h2>View</h2>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I created a <code>JTablePanel</code> class to create the <code>JTable</code> <code>JPanel</code>.  I made it a class because I was going to need as many instances of the class as there were exercise types.</p>\n<p>The rest of the view is a straightforward creation of the <code>JFrame</code> and <code>JPanels</code>.</p>\n<p>There are no controller classes in this example.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.GridLayout;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\nimport javax.swing.table.DefaultTableModel;\n\npublic class ExerciseGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new ExerciseGUI());\n    }\n    \n    private final ExerciseModel model;\n    \n    public ExerciseGUI() {\n        this.model = new ExerciseModel();\n    }\n    \n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Exercise GUI&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(), BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JScrollPane createMainPanel() {\n        JPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        \n        Dimension tablePanelDimension = new Dimension(0, 0);\n        List&lt;ExerciseType&gt; exerciseTypes = model.getExerciseTypes();\n        for (ExerciseType exerciseType : exerciseTypes) {\n            JPanel tablePanel = new JTablePanel(model, exerciseType).getPanel();\n            tablePanelDimension = tablePanel.getPreferredSize();\n            panel.add(tablePanel);\n        }\n        \n        JScrollPane scrollPane = new JScrollPane(panel);\n        scrollPane.setPreferredSize(new Dimension(tablePanelDimension.width + 50, \n                tablePanelDimension.height));\n        \n        return scrollPane;\n    }\n    \n    public class JTablePanel {\n        \n        private final ExerciseModel model;\n        \n        private final ExerciseType exerciseType;\n        \n        private final JPanel panel;\n        \n        public JTablePanel(ExerciseModel model, ExerciseType exerciseType) {\n            this.model = model;\n            this.exerciseType = exerciseType;\n            this.panel = createJTablePanel();\n        }\n\n        private JPanel createJTablePanel() {\n            JPanel panel = new JPanel(new BorderLayout());\n            panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n            \n            JPanel titlePanel = new JPanel(new FlowLayout(FlowLayout.LEADING, 30, 5));\n            \n            JLabel exerciseLabel = new JLabel(exerciseType.getExercise());\n            titlePanel.add(exerciseLabel);\n            \n            JLabel bodyAreaLabel = new JLabel(exerciseType.getBodyArea());\n            titlePanel.add(bodyAreaLabel);\n            \n            panel.add(titlePanel, BorderLayout.NORTH);\n            \n            JTable table = new JTable(createTableModel());\n            \n            JScrollPane scrollPane = new JScrollPane(table);\n            panel.add(scrollPane, BorderLayout.CENTER);\n            \n            return panel;\n        }\n        \n        private DefaultTableModel createTableModel() {\n            DefaultTableModel tableModel = new DefaultTableModel();\n            tableModel.addColumn(&quot;Set&quot;);\n            tableModel.addColumn(&quot;Weight&quot;);\n            tableModel.addColumn(&quot;Reps&quot;);\n            \n            for (Exercise exercise : model.getExercises()) {\n                if (exercise.getExercise().equals(exerciseType.getExercise())) {\n                    Object[] rowData = new Object[3];\n                    rowData[0] = exercise.getSet();\n                    rowData[1] = exercise.getWeight();\n                    rowData[2] = exercise.getReps();\n                    tableModel.addRow(rowData);\n                }\n            }\n            \n            return tableModel;\n        }\n\n        public JPanel getPanel() {\n            return panel;\n        }\n        \n    }\n    \n    public class ExerciseModel {\n        \n        private final List&lt;Exercise&gt; exercises;\n        \n        private final List&lt;ExerciseType&gt; exerciseTypes;\n        \n        public ExerciseModel() {\n            this.exercises = createExercise();\n            this.exerciseTypes = createExerciseTypes(exercises);\n        }\n        \n        private List&lt;Exercise&gt; createExercise() {\n            List&lt;Exercise&gt; exercises = new ArrayList&lt;&gt;();\n            exercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 1, 10, 12));\n            exercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 2, 10, 12));\n            exercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 3, 10, 12));\n            exercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 4, 10, 12));\n            exercises.add(new Exercise(&quot;Chest Press&quot;, &quot;Chest&quot;, 5, 10, 12));\n            exercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 1, 10, 70));\n            exercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 2, 10, 70));\n            exercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 3, 10, 70));\n            exercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 4, 10, 70));\n            exercises.add(new Exercise(&quot;Deadlift&quot;, &quot;Back&quot;, 5, 10, 70));\n            exercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 1, 10, 12));\n            exercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 2, 10, 12));\n            exercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 3, 10, 12));\n            exercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 4, 10, 12));\n            exercises.add(new Exercise(&quot;Kickbacks&quot;, &quot;Tricept&quot;, 5, 10, 12));\n            \n            return exercises;\n        }\n        \n        private List&lt;ExerciseType&gt; createExerciseTypes(\n                List&lt;Exercise&gt; exercises) {\n            List&lt;ExerciseType&gt; exerciseTypes = new ArrayList&lt;&gt;();\n            String previousExercise = &quot;&quot;, previousBodyArea;\n            for (Exercise exercise : exercises) {\n                if (!previousExercise.equals(exercise.getExercise())) {\n                    previousExercise = exercise.getExercise();\n                    previousBodyArea = exercise.getBodyArea();\n                    exerciseTypes.add(new ExerciseType(previousExercise,\n                            previousBodyArea));\n                }\n            }\n            \n            return exerciseTypes;\n        }\n\n        public List&lt;Exercise&gt; getExercises() {\n            return exercises;\n        }\n\n        public List&lt;ExerciseType&gt; getExerciseTypes() {\n            return exerciseTypes;\n        }\n        \n    }\n    \n    public class Exercise {\n        \n        private final int set, weight, reps;\n        \n        private final String exercise, bodyArea;\n\n        public Exercise(String exercise, String bodyArea, int set, int reps,\n                int weight) {\n            this.exercise = exercise;\n            this.bodyArea = bodyArea;\n            this.set = set;\n            this.reps = reps;\n            this.weight = weight;\n        }\n\n        public int getSet() {\n            return set;\n        }\n\n        public int getWeight() {\n            return weight;\n        }\n\n        public int getReps() {\n            return reps;\n        }\n\n        public String getExercise() {\n            return exercise;\n        }\n\n        public String getBodyArea() {\n            return bodyArea;\n        }\n        \n    }\n    \n    public class ExerciseType {\n        \n        private final String exercise, bodyArea;\n\n        public ExerciseType(String exercise, String bodyArea) {\n            this.exercise = exercise;\n            this.bodyArea = bodyArea;\n        }\n\n        public String getExercise() {\n            return exercise;\n        }\n\n        public String getBodyArea() {\n            return bodyArea;\n        }\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26962028,"reputation":1,"user_id":20529569,"display_name":"mrjbcam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669461199,"creation_date":1669407481,"question_id":74577546,"body_markdown":"I&#39;m looking to layout my JTable to show each exercise separately. Currently it is storing everything in one table. The JTable in the image is how it is currently showing. I think I may need to make separate JTables for each but I&#39;m not sure. I&#39;m wanting to make it looks similar to the other image provided so when I click a JButton, it will generate the table with a JLabel above it stating the name of the exercise and the Body Area for each of the exercises. Unsure if there is a better way without all the tables. \r\n\r\n\r\n![Current JTable][1]\r\n\r\n![Similar layout I want][2]\r\n\r\n\r\nI&#39;ve tried adding everything to seperate JTables and adding them to the JScroll Pane but unable to get the second table to show. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YeAEh.png\r\n  [2]: https://i.stack.imgur.com/DxiO1.png","title":"How would I layout my JTable to separate SQL data?","body":"<p>I'm looking to layout my JTable to show each exercise separately. Currently it is storing everything in one table. The JTable in the image is how it is currently showing. I think I may need to make separate JTables for each but I'm not sure. I'm wanting to make it looks similar to the other image provided so when I click a JButton, it will generate the table with a JLabel above it stating the name of the exercise and the Body Area for each of the exercises. Unsure if there is a better way without all the tables.</p>\n<p><img src=\"https://i.stack.imgur.com/YeAEh.png\" alt=\"Current JTable\" /></p>\n<p><img src=\"https://i.stack.imgur.com/DxiO1.png\" alt=\"Similar layout I want\" /></p>\n<p>I've tried adding everything to seperate JTables and adding them to the JScroll Pane but unable to get the second table to show.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669462710,"post_id":74581634,"comment_id":131648734,"body_markdown":"You need to create the GUI separate from updating the values of the Swing components on the GUI.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"You need to create the GUI separate from updating the values of the Swing components on the GUI.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669481980,"post_id":74581634,"comment_id":131652401,"body_markdown":"Add a tag to identify your choice of GUI framework.","body":"Add a tag to identify your choice of GUI framework."}],"owner":{"account_id":17002667,"reputation":5,"user_id":12299660,"display_name":"Everything Pro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669460958,"creation_date":1669460958,"question_id":74581634,"body_markdown":"I am making a Java program that captures serial messages from Arduino and makes them visible in GUI. The problem is that I have a loop that constantly receives messages and uses JLabel.setText() method to update JLabel value. The values I get are correct but the GUI part will show me only a white screen with nothing there. I guess there is some problem with the while(true) part because when I remove it I get the static GUI, but I need to change values dynamically.\r\n\r\n```\r\npackage Arduino;\r\n\r\nimport javax.sound.sampled.BooleanControl;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Basic {\r\n    public Basic(SerialCommChannel channel) throws InterruptedException {\r\n        JFrame basicFrame=new JFrame();\r\n        basicFrame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        JLabel stateLabel=new JLabel(&quot;State: &quot;);\r\n        JLabel smartLightLabel=new JLabel(&quot;Smart Light System: &quot;);\r\n        //JLabel waterLevelLabel=new JLabel(&quot;Water Level&quot;);\r\n\r\n        basicFrame.setLayout(new GridLayout(2,2));\r\n        JLabel stateValue=new JLabel();\r\n        JLabel smartLightValue=new JLabel();\r\n        basicFrame.getContentPane().add(stateLabel);\r\n        basicFrame.getContentPane().add(stateValue);\r\n        basicFrame.getContentPane().add(smartLightLabel);\r\n        basicFrame.getContentPane().add(smartLightValue);\r\n        basicFrame.setSize(300,300);\r\n        basicFrame.setVisible(true);\r\n\r\n        while(true){\r\n            String value=channel.receiveMsg();\r\n            String[] infoPack=value.split(&quot;@&quot;);\r\n            stateValue.setText(infoPack[0]);\r\n            smartLightValue.setText(infoPack[1]);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n```","title":"Java GUI fields won&#39;t update and will show me white screen","body":"<p>I am making a Java program that captures serial messages from Arduino and makes them visible in GUI. The problem is that I have a loop that constantly receives messages and uses JLabel.setText() method to update JLabel value. The values I get are correct but the GUI part will show me only a white screen with nothing there. I guess there is some problem with the while(true) part because when I remove it I get the static GUI, but I need to change values dynamically.</p>\n<pre><code>package Arduino;\n\nimport javax.sound.sampled.BooleanControl;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Basic {\n    public Basic(SerialCommChannel channel) throws InterruptedException {\n        JFrame basicFrame=new JFrame();\n        basicFrame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        JLabel stateLabel=new JLabel(&quot;State: &quot;);\n        JLabel smartLightLabel=new JLabel(&quot;Smart Light System: &quot;);\n        //JLabel waterLevelLabel=new JLabel(&quot;Water Level&quot;);\n\n        basicFrame.setLayout(new GridLayout(2,2));\n        JLabel stateValue=new JLabel();\n        JLabel smartLightValue=new JLabel();\n        basicFrame.getContentPane().add(stateLabel);\n        basicFrame.getContentPane().add(stateValue);\n        basicFrame.getContentPane().add(smartLightLabel);\n        basicFrame.getContentPane().add(smartLightValue);\n        basicFrame.setSize(300,300);\n        basicFrame.setVisible(true);\n\n        while(true){\n            String value=channel.receiveMsg();\n            String[] infoPack=value.split(&quot;@&quot;);\n            stateValue.setText(infoPack[0]);\n            smartLightValue.setText(infoPack[1]);\n        }\n    }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","java-13","jol","java-15"],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1669460213,"creation_date":1594654162,"answer_id":62879158,"question_id":62879157,"body_markdown":"In both Java 13 and Java 15, both of these options are on by default:\r\n\r\n    java -XX:+PrintFlagsFinal -version | grep Compressed\r\n\r\n     bool UseCompressedClassPointers  = true                                 \r\n     bool UseCompressedOops           = true\r\n\r\nWhen `-XX:-UseCompressedOops` is disabled, it means that `UseCompressedClassPointers` is disabled also. That is why when `UseCompressedOops` is turned off, the header size goes up by `4 bytes`, because `UseCompressedOops` turns off `UseCompressedClassPointers`. At least this is how it is in Java 13:\r\n\r\n      java -XX:+PrintFlagsFinal -XX:-UseCompressedOops -version | grep Compressed\r\n\r\n        bool UseCompressedClassPointers = false                                  \r\n        bool UseCompressedOops          = false\r\n\r\nThings have changed in Java 15:\r\n\r\n        bool UseCompressedClassPointers = true                                 \r\n        bool UseCompressedOops          = false\r\n\r\nSo disabling `UseCompressedOops` does not mean that `UseCompressedClassPointers` is disabled also, so it stays at `4 bytes`. \r\n\r\nThough, I answered this myself, it would be nice if someone finds the relevant bug/change for this? I have not been successful in that, so far. ","title":"UseCompressedOops UseCompressedClassPointers in jdk-13 and jdk-15","body":"<p>In both Java 13 and Java 15, both of these options are on by default:</p>\n<pre><code>java -XX:+PrintFlagsFinal -version | grep Compressed\n\n bool UseCompressedClassPointers  = true                                 \n bool UseCompressedOops           = true\n</code></pre>\n<p>When <code>-XX:-UseCompressedOops</code> is disabled, it means that <code>UseCompressedClassPointers</code> is disabled also. That is why when <code>UseCompressedOops</code> is turned off, the header size goes up by <code>4 bytes</code>, because <code>UseCompressedOops</code> turns off <code>UseCompressedClassPointers</code>. At least this is how it is in Java 13:</p>\n<pre><code>  java -XX:+PrintFlagsFinal -XX:-UseCompressedOops -version | grep Compressed\n\n    bool UseCompressedClassPointers = false                                  \n    bool UseCompressedOops          = false\n</code></pre>\n<p>Things have changed in Java 15:</p>\n<pre><code>    bool UseCompressedClassPointers = true                                 \n    bool UseCompressedOops          = false\n</code></pre>\n<p>So disabling <code>UseCompressedOops</code> does not mean that <code>UseCompressedClassPointers</code> is disabled also, so it stays at <code>4 bytes</code>.</p>\n<p>Though, I answered this myself, it would be nice if someone finds the relevant bug/change for this? I have not been successful in that, so far.</p>\n"}],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1752,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62879158,"answer_count":1,"score":6,"last_activity_date":1669460291,"creation_date":1594654162,"question_id":62879157,"body_markdown":"Accidentally I have stumbled into a change in Java 15 that I was not aware of.  Suppose I have a very simple question: what is the size of an array of 3 integers? For this, I use [JOL][1]. The code is fairly trivial:\r\n\r\n    import org.openjdk.jol.info.ClassLayout;\r\n    import org.openjdk.jol.vm.VM;\r\n    \r\n    public class Array {\r\n        public static void main(String [] args){\r\n           int [] array = new int[3];\r\n           System.out.println(ClassLayout.parseInstance(array).toPrintable());\r\n        }\r\n    }\r\n\r\nI run this with Java 13:\r\n\r\n      java -Djdk.attach.allowAttachSelf -Djol.tryWithSudo=true -cp jol-cli.jar  Array.java\r\n\r\nI get the output:\r\n\r\n\r\n        [I object internals:\r\n     OFFSET  SIZE   TYPE DESCRIPTION                               VALUE\r\n          0     4        (object header)                           01 00 00 00 (00000001 00000000 00000000 00000000) (1)\r\n          4     4        (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\r\n          8     4        (object header)                           18 0e 07 00 (00011000 00001110 00000111 00000000) (462360)\r\n         12     4        (object header)                           03 00 00 00 (00000011 00000000 00000000 00000000) (3)\r\n         16    12    int [I.&lt;elements&gt;                             N/A\r\n         28     4        (loss due to the next object alignment)\r\n    Instance size: 32 bytes\r\n    Space losses: 0 bytes internal + 4 bytes external = 4 bytes total\r\n\r\nThis is pretty much obvious:\r\n\r\n         12 bytes --&gt; Object headers\r\n         4  bytes --&gt; size of array\r\n         12 bytes --&gt; elements of array themselves\r\n         4  bytes --&gt; padding to align by 8 bytes\r\n         ----\r\n         32 bytes total\r\n\r\nRunning this example with Java 15 yields the same output, same `32 bytes`. Expected...\r\n\r\n---\r\n\r\nFor the second part, I want to disable a JVM optimization: `-XX:-UseCompressedOops`. I run this with Java 13:\r\n\r\n\r\n    java -Djdk.attach.allowAttachSelf -Djol.tryWithSudo=true -cp jol-cli.jar -XX:-UseCompressedOops  Array.java\r\n\r\n\r\n        [I object internals:\r\n     OFFSET  SIZE   TYPE DESCRIPTION                               VALUE\r\n          0     4        (object header)                           11 00 00 00 (00010001 00000000 00000000 00000000) (17)\r\n          4     4        (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\r\n          8     4        (object header)                           40 0c f0 33 (01000000 00001100 11110000 00110011) (871369792)\r\n         12     4        (object header)                           02 00 00 00 (00000010 00000000 00000000 00000000) (2)\r\n         16     4        (object header)                           03 00 00 00 (00000011 00000000 00000000 00000000) (3)\r\n         20     4        (alignment/padding gap)\r\n         24    12    int [I.&lt;elements&gt;                             N/A\r\n         36     4        (loss due to the next object alignment)\r\n    Instance size: 40 bytes\r\n    Space losses: 4 bytes internal + 4 bytes external = 8 bytes total\r\n\r\nWell, sort of expected too:\r\n\r\n\r\n         16 bytes --&gt; object headers (I did -XX:-UseCompressedOops after all)\r\n         4 bytes  --&gt; array size\r\n         4 bytes  --&gt; alignment for array headers (AFAIK this is only done for arrays)\r\n         12 bytes --&gt; array elements themselves\r\n         4 bytes  --&gt; 4 bytes padding\r\n         ----\r\n         40 bytes total\r\n\r\nNow let&#39;s run the same example with Java 15:\r\n\r\n   \r\n\r\n    [I object internals:\r\n     OFFSET  SIZE   TYPE DESCRIPTION                               VALUE\r\n          0     4        (object header)                           01 00 00 00 (00000001 00000000 00000000 00000000) (1)\r\n          4     4        (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\r\n          8     4        (object header)                           0e 09 00 00 (00001110 00001001 00000000 00000000) (2318)\r\n         12     4        (object header)                           03 00 00 00 (00000011 00000000 00000000 00000000) (3)\r\n         16    12    int [I.&lt;elements&gt;                             N/A\r\n         28     4        (loss due to the next object alignment)\r\n    Instance size: 32 bytes\r\n\r\nWhy is this `32 bytes` now? How come not `40`, just like with Java 13?\r\n   \r\n         \r\n\r\n\r\n\r\n  [1]: https://openjdk.java.net/projects/code-tools/jol/","title":"UseCompressedOops UseCompressedClassPointers in jdk-13 and jdk-15","body":"<p>Accidentally I have stumbled into a change in Java 15 that I was not aware of.  Suppose I have a very simple question: what is the size of an array of 3 integers? For this, I use <a href=\"https://openjdk.java.net/projects/code-tools/jol/\" rel=\"nofollow noreferrer\">JOL</a>. The code is fairly trivial:</p>\n<pre><code>import org.openjdk.jol.info.ClassLayout;\nimport org.openjdk.jol.vm.VM;\n\npublic class Array {\n    public static void main(String [] args){\n       int [] array = new int[3];\n       System.out.println(ClassLayout.parseInstance(array).toPrintable());\n    }\n}\n</code></pre>\n<p>I run this with Java 13:</p>\n<pre><code>  java -Djdk.attach.allowAttachSelf -Djol.tryWithSudo=true -cp jol-cli.jar  Array.java\n</code></pre>\n<p>I get the output:</p>\n<pre><code>    [I object internals:\n OFFSET  SIZE   TYPE DESCRIPTION                               VALUE\n      0     4        (object header)                           01 00 00 00 (00000001 00000000 00000000 00000000) (1)\n      4     4        (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\n      8     4        (object header)                           18 0e 07 00 (00011000 00001110 00000111 00000000) (462360)\n     12     4        (object header)                           03 00 00 00 (00000011 00000000 00000000 00000000) (3)\n     16    12    int [I.&lt;elements&gt;                             N/A\n     28     4        (loss due to the next object alignment)\nInstance size: 32 bytes\nSpace losses: 0 bytes internal + 4 bytes external = 4 bytes total\n</code></pre>\n<p>This is pretty much obvious:</p>\n<pre><code>     12 bytes --&gt; Object headers\n     4  bytes --&gt; size of array\n     12 bytes --&gt; elements of array themselves\n     4  bytes --&gt; padding to align by 8 bytes\n     ----\n     32 bytes total\n</code></pre>\n<p>Running this example with Java 15 yields the same output, same <code>32 bytes</code>. Expected...</p>\n<hr />\n<p>For the second part, I want to disable a JVM optimization: <code>-XX:-UseCompressedOops</code>. I run this with Java 13:</p>\n<pre><code>java -Djdk.attach.allowAttachSelf -Djol.tryWithSudo=true -cp jol-cli.jar -XX:-UseCompressedOops  Array.java\n\n\n    [I object internals:\n OFFSET  SIZE   TYPE DESCRIPTION                               VALUE\n      0     4        (object header)                           11 00 00 00 (00010001 00000000 00000000 00000000) (17)\n      4     4        (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\n      8     4        (object header)                           40 0c f0 33 (01000000 00001100 11110000 00110011) (871369792)\n     12     4        (object header)                           02 00 00 00 (00000010 00000000 00000000 00000000) (2)\n     16     4        (object header)                           03 00 00 00 (00000011 00000000 00000000 00000000) (3)\n     20     4        (alignment/padding gap)\n     24    12    int [I.&lt;elements&gt;                             N/A\n     36     4        (loss due to the next object alignment)\nInstance size: 40 bytes\nSpace losses: 4 bytes internal + 4 bytes external = 8 bytes total\n</code></pre>\n<p>Well, sort of expected too:</p>\n<pre><code>     16 bytes --&gt; object headers (I did -XX:-UseCompressedOops after all)\n     4 bytes  --&gt; array size\n     4 bytes  --&gt; alignment for array headers (AFAIK this is only done for arrays)\n     12 bytes --&gt; array elements themselves\n     4 bytes  --&gt; 4 bytes padding\n     ----\n     40 bytes total\n</code></pre>\n<p>Now let's run the same example with Java 15:</p>\n<pre><code>[I object internals:\n OFFSET  SIZE   TYPE DESCRIPTION                               VALUE\n      0     4        (object header)                           01 00 00 00 (00000001 00000000 00000000 00000000) (1)\n      4     4        (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\n      8     4        (object header)                           0e 09 00 00 (00001110 00001001 00000000 00000000) (2318)\n     12     4        (object header)                           03 00 00 00 (00000011 00000000 00000000 00000000) (3)\n     16    12    int [I.&lt;elements&gt;                             N/A\n     28     4        (loss due to the next object alignment)\nInstance size: 32 bytes\n</code></pre>\n<p>Why is this <code>32 bytes</code> now? How come not <code>40</code>, just like with Java 13?</p>\n"},{"tags":["java","jvm","jvm-hotspot","java-19"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1667891702,"post_id":74330854,"comment_id":131269351,"body_markdown":"basically a duplicate of [this](https://stackoverflow.com/questions/62879157/usecompressedoops-usecompressedclasspointers-in-jdk-13-and-jdk-15)","body":"basically a duplicate of <a href=\"https://stackoverflow.com/questions/62879157/usecompressedoops-usecompressedclasspointers-in-jdk-13-and-jdk-15\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1667836592,"creation_date":1667836592,"answer_id":74349384,"question_id":74330854,"body_markdown":"You are looking at the layout of a `byte[]` array and an instance of `java.lang.Object`. Neither of them contains a reference to an object inside the heap.\r\n\r\nThe difference you are seeing, is in the size of the *class pointer* which is not pointing to a location inside the heap memory. But for historical reasons, the option `-XX:+UseCompressedClassPointers` was bound to the presence of the `-XX:+UseCompressedOops` option. So when the heap size disallowed compressed object pointers, the compressed class pointers were disabled as a side effect.\r\n\r\n[JDK-8241825, Make compressed oops and compressed class pointers independent][JDK-8241825] addresses this and has been solved with JDK&#160;15.\r\n\r\nSo when I change your program to\r\n\r\n```java\r\nSystem.out.println(ClassLayout.parseInstance(new Object[3]).toPrintable());\r\n```\r\nand run it with a 41GB heap, I get\r\n\r\n```none\r\n[Ljava.lang.Object; object internals:\r\nOFF  SZ               TYPE DESCRIPTION               VALUE\r\n  0   8                    (object header: mark)     0x0000000000000001 (non-biasable; age: 0)\r\n  8   8                    (object header: class)    0x000001f54bec41e0\r\n 16   4                    (array length)            3\r\n 20   4                    (alignment/padding gap)\r\n 24  24   java.lang.Object Object;.&lt;elements&gt;        N/A\r\nInstance size: 48 bytes\r\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\r\n```\r\n\r\nprior to JDK&#160;15 and\r\n\r\n```none\r\n[Ljava.lang.Object; object internals:\r\nOFF  SZ               TYPE DESCRIPTION               VALUE\r\n  0   8                    (object header: mark)     0x0000000000000001 (non-biasable; age: 0)\r\n  8   4                    (object header: class)    0x000020fc\r\n 12   4                    (array length)            3\r\n 16  24   java.lang.Object Object;.&lt;elements&gt;        N/A\r\nInstance size: 40 bytes\r\nSpace losses: 0 bytes internal + 0 bytes external = 0 bytes total\r\n```\r\nwith JDK&#160;15 or newer.\r\n\r\nThe difference is clearly caused by the class pointer and the padding, but the three object references require 24 bytes in each JVM version.\r\n\r\n[JDK-8241825]: https://bugs.openjdk.org/browse/JDK-8241825","title":"OpenJDK 19 and compressed pointers","body":"<p>You are looking at the layout of a <code>byte[]</code> array and an instance of <code>java.lang.Object</code>. Neither of them contains a reference to an object inside the heap.</p>\n<p>The difference you are seeing, is in the size of the <em>class pointer</em> which is not pointing to a location inside the heap memory. But for historical reasons, the option <code>-XX:+UseCompressedClassPointers</code> was bound to the presence of the <code>-XX:+UseCompressedOops</code> option. So when the heap size disallowed compressed object pointers, the compressed class pointers were disabled as a side effect.</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8241825\" rel=\"noreferrer\">JDK-8241825, Make compressed oops and compressed class pointers independent</a> addresses this and has been solved with JDK 15.</p>\n<p>So when I change your program to</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(ClassLayout.parseInstance(new Object[3]).toPrintable());\n</code></pre>\n<p>and run it with a 41GB heap, I get</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Ljava.lang.Object; object internals:\nOFF  SZ               TYPE DESCRIPTION               VALUE\n  0   8                    (object header: mark)     0x0000000000000001 (non-biasable; age: 0)\n  8   8                    (object header: class)    0x000001f54bec41e0\n 16   4                    (array length)            3\n 20   4                    (alignment/padding gap)\n 24  24   java.lang.Object Object;.&lt;elements&gt;        N/A\nInstance size: 48 bytes\nSpace losses: 4 bytes internal + 0 bytes external = 4 bytes total\n</code></pre>\n<p>prior to JDK 15 and</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Ljava.lang.Object; object internals:\nOFF  SZ               TYPE DESCRIPTION               VALUE\n  0   8                    (object header: mark)     0x0000000000000001 (non-biasable; age: 0)\n  8   4                    (object header: class)    0x000020fc\n 12   4                    (array length)            3\n 16  24   java.lang.Object Object;.&lt;elements&gt;        N/A\nInstance size: 40 bytes\nSpace losses: 0 bytes internal + 0 bytes external = 0 bytes total\n</code></pre>\n<p>with JDK 15 or newer.</p>\n<p>The difference is clearly caused by the class pointer and the padding, but the three object references require 24 bytes in each JVM version.</p>\n"}],"owner":{"account_id":24292,"reputation":5311,"user_id":61679,"display_name":"Cornel Creanga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74349384,"answer_count":1,"score":8,"last_activity_date":1669460041,"creation_date":1667676286,"question_id":74330854,"body_markdown":"I have a hard time understanding how compressed pointers works in Java 19, help is appreciated. \r\n\r\nIn Java 11 the reference size is 4 for heaps below 32GiB (compressed pointers) and 8 for a larger heap. In Java 19 they seem to take 4 bytes even for larger heaps (how?).\r\n\r\nDetails: \r\n\r\nJava versions: OpenJDK Java 11.0.12 and OpenJDK Java 19.0.1\r\n\r\nCommand lines: \r\n\r\n&gt;-XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC  -Xlog:gc -Xlog:gc+heap+coops -Xms41g -Xmx41g -XX:+AlwaysPreTouch\r\n\r\n&gt;-XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC  -Xlog:gc -Xlog:gc+heap+coops -Xms31g -Xmx31g -XX:+AlwaysPreTouch\r\n\r\nCode: https://github.com/cornelcreanga/fun/blob/master/src/main/java/com/ccreanga/various/RandomAllocate.java - the code is taken from https://shipilev.net/jvm/anatomy-quarks/23-compressed-references/\r\n\r\nRun this code with both Java 11 and 19 and you can see that the memory size is lower in Java 19 than in Java 11 for a heap &gt; 32 GiB. For a smaller heap the size is almost identical.\r\n\r\n","title":"OpenJDK 19 and compressed pointers","body":"<p>I have a hard time understanding how compressed pointers works in Java 19, help is appreciated.</p>\n<p>In Java 11 the reference size is 4 for heaps below 32GiB (compressed pointers) and 8 for a larger heap. In Java 19 they seem to take 4 bytes even for larger heaps (how?).</p>\n<p>Details:</p>\n<p>Java versions: OpenJDK Java 11.0.12 and OpenJDK Java 19.0.1</p>\n<p>Command lines:</p>\n<blockquote>\n<p>-XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC  -Xlog:gc -Xlog:gc+heap+coops -Xms41g -Xmx41g -XX:+AlwaysPreTouch</p>\n</blockquote>\n<blockquote>\n<p>-XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC  -Xlog:gc -Xlog:gc+heap+coops -Xms31g -Xmx31g -XX:+AlwaysPreTouch</p>\n</blockquote>\n<p>Code: <a href=\"https://github.com/cornelcreanga/fun/blob/master/src/main/java/com/ccreanga/various/RandomAllocate.java\" rel=\"nofollow noreferrer\">https://github.com/cornelcreanga/fun/blob/master/src/main/java/com/ccreanga/various/RandomAllocate.java</a> - the code is taken from <a href=\"https://shipilev.net/jvm/anatomy-quarks/23-compressed-references/\" rel=\"nofollow noreferrer\">https://shipilev.net/jvm/anatomy-quarks/23-compressed-references/</a></p>\n<p>Run this code with both Java 11 and 19 and you can see that the memory size is lower in Java 19 than in Java 11 for a heap &gt; 32 GiB. For a smaller heap the size is almost identical.</p>\n"},{"tags":["java","android","filenotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":1197390,"reputation":1157,"user_id":4467687,"display_name":"Crispert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669459585,"creation_date":1669457575,"answer_id":74581280,"question_id":74569367,"body_markdown":"It looks like the directory you are trying to save to (`Users/jonathan/Download`s) does not exist at the location returned by `Environment.getExternalStorageDirectory()` which returns the root of the android filesystem, not of that the computer&#39;s.\r\n\r\nI do not know if/how you can access your computer storage from your android device, you might try using a USB on the go cable so that the android device acts as host (if it supports that feature) and the computer as external storage (although  windows has lots of trouble accessing android phones at all without special drivers so it&#39;s improbable it would allow external devices to access one of its partitions). Afterwards you need to check if/where the computer&#39;s partition (&quot;C&quot;) is located on the phone&#39;s file system using a file manager app or by running a &#39;find&#39; command in a terminal/console app on your android device.","title":"ENOENT error - while trying to download bitmap to computer","body":"<p>It looks like the directory you are trying to save to (<code>Users/jonathan/Download</code>s) does not exist at the location returned by <code>Environment.getExternalStorageDirectory()</code> which returns the root of the android filesystem, not of that the computer's.</p>\n<p>I do not know if/how you can access your computer storage from your android device, you might try using a USB on the go cable so that the android device acts as host (if it supports that feature) and the computer as external storage (although  windows has lots of trouble accessing android phones at all without special drivers so it's improbable it would allow external devices to access one of its partitions). Afterwards you need to check if/where the computer's partition (&quot;C&quot;) is located on the phone's file system using a file manager app or by running a 'find' command in a terminal/console app on your android device.</p>\n"}],"owner":{"account_id":27042232,"reputation":1,"user_id":20596914,"display_name":"Rubiks Five"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669459585,"creation_date":1669360540,"question_id":74569367,"body_markdown":"I am trying to download a bitmap file to my computer but in the JPEG form. Here is a snippet of my code.\r\n \r\n    \r\n```\r\nprivate void SaveImage(Bitmap finalBitmap) {\r\n\r\n    String root = Environment.getExternalStorageDirectory().toString();\r\n    File myDir = new File(root + &quot;/Users/johnathan/Downloads&quot;);\r\n    if (!myDir.exists()) {\r\n        myDir.mkdirs();\r\n    }\r\n    Random generator = new Random();\r\n    int n = 10000;\r\n    n = generator.nextInt(n);\r\n    String fname = &quot;Image-&quot;+ n +&quot;.jpeg&quot;;\r\n    File file = new File (myDir, fname);\r\n    if (file.exists ())\r\n        file.delete ();\r\n    try {\r\n        FileOutputStream out = new FileOutputStream(file);\r\n        finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\r\n        out.flush();\r\n        out.close();\r\n\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Didn&#39;t work&quot;);\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nI keep on getting the error No such file or directory (ENOENT):\r\n```\r\nW/System.err: java.io.FileNotFoundException: /storage/emulated/0/Users/johnathan/Downloads/Image-4209.jpeg: open failed: ENOENT (No such file or directory)\r\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:575)\r\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\r\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\r\nW/System.err:     at com.example.testforcamera.MainActivity.SaveImage(MainActivity.java:173)\r\nW/System.err:     at com.example.testforcamera.MainActivity.onActivityResult(MainActivity.java:115)\r\nW/System.err:     at android.app.Activity.dispatchActivityResult(Activity.java:8659)\r\nW/System.err:     at android.app.ActivityThread.deliverResults(ActivityThread.java:5857)\r\nW/System.err:     at android.app.ActivityThread.handleSendResult(ActivityThread.java:5903)\r\nW/System.err:     at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:54)\r\nW/System.err:     at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\r\nW/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\nW/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\nW/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\r\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\r\nW/System.err:     at android.os.Looper.loopOnce(Looper.java:226)\r\nW/System.err:     at android.os.Looper.loop(Looper.java:313)\r\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8663)\r\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\nW/System.err: Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\r\nW/System.err:     at libcore.io.Linux.open(Native Method)\r\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:567)\r\nW/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:273)\r\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:567)\r\nW/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8523)\r\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:561)\r\nW/System.err: \t... 19 more\r\n```\r\n\r\n\r\n\r\nI have been looking all over the internet for a solution and nothing has worked. Most of the answers are pretty outdated though. Is there anyone here that possible has a solution? I have been working on this one part for hours now.\r\n\r\nThanks","title":"ENOENT error - while trying to download bitmap to computer","body":"<p>I am trying to download a bitmap file to my computer but in the JPEG form. Here is a snippet of my code.</p>\n<pre><code>private void SaveImage(Bitmap finalBitmap) {\n\n    String root = Environment.getExternalStorageDirectory().toString();\n    File myDir = new File(root + &quot;/Users/johnathan/Downloads&quot;);\n    if (!myDir.exists()) {\n        myDir.mkdirs();\n    }\n    Random generator = new Random();\n    int n = 10000;\n    n = generator.nextInt(n);\n    String fname = &quot;Image-&quot;+ n +&quot;.jpeg&quot;;\n    File file = new File (myDir, fname);\n    if (file.exists ())\n        file.delete ();\n    try {\n        FileOutputStream out = new FileOutputStream(file);\n        finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\n        out.flush();\n        out.close();\n\n    } catch (Exception e) {\n        System.out.println(&quot;Didn't work&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I keep on getting the error No such file or directory (ENOENT):</p>\n<pre><code>W/System.err: java.io.FileNotFoundException: /storage/emulated/0/Users/johnathan/Downloads/Image-4209.jpeg: open failed: ENOENT (No such file or directory)\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:575)\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\nW/System.err:     at com.example.testforcamera.MainActivity.SaveImage(MainActivity.java:173)\nW/System.err:     at com.example.testforcamera.MainActivity.onActivityResult(MainActivity.java:115)\nW/System.err:     at android.app.Activity.dispatchActivityResult(Activity.java:8659)\nW/System.err:     at android.app.ActivityThread.deliverResults(ActivityThread.java:5857)\nW/System.err:     at android.app.ActivityThread.handleSendResult(ActivityThread.java:5903)\nW/System.err:     at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:54)\nW/System.err:     at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\nW/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nW/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nW/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\nW/System.err:     at android.os.Looper.loopOnce(Looper.java:226)\nW/System.err:     at android.os.Looper.loop(Looper.java:313)\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8663)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\nW/System.err: Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\nW/System.err:     at libcore.io.Linux.open(Native Method)\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:567)\nW/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:273)\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:567)\nW/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8523)\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:561)\nW/System.err:   ... 19 more\n</code></pre>\n<p>I have been looking all over the internet for a solution and nothing has worked. Most of the answers are pretty outdated though. Is there anyone here that possible has a solution? I have been working on this one part for hours now.</p>\n<p>Thanks</p>\n"},{"tags":["java","arrays","loops","if-statement"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1648603487,"post_id":71670421,"comment_id":126664646,"body_markdown":"Do you mean `++` in all your `myArray[i] &lt; myArray[i++]` expressions? That is incrementing `i` each time it&#39;s evaluated. I suspect you want `myArray[i] &lt; myArray[i+1]`","body":"Do you mean <code>++</code> in all your <code>myArray[i] &lt; myArray[i++]</code> expressions? That is incrementing <code>i</code> each time it&#39;s evaluated. I suspect you want <code>myArray[i] &lt; myArray[i+1]</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1648603603,"post_id":71670421,"comment_id":126664660,"body_markdown":"Note: there is no need to have an inner loop. You can tell if it is increasing, decreasing, or both just by comparing the elements pairwise (comparing each element with its neighbor).","body":"Note: there is no need to have an inner loop. You can tell if it is increasing, decreasing, or both just by comparing the elements pairwise (comparing each element with its neighbor)."},{"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"score":0,"creation_date":1649065670,"post_id":71670421,"comment_id":126773226,"body_markdown":"Could you just give a sample. Some example input and the output expected...","body":"Could you just give a sample. Some example input and the output expected..."}],"answers":[{"tags":[],"owner":{"account_id":27002657,"reputation":46,"user_id":20563704,"display_name":"ElishevaMiler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669459546,"creation_date":1669047385,"answer_id":74521834,"question_id":71670421,"body_markdown":"```java\r\npublic class Eli {\r\n   \r\n    public static void main(String[] args) {\r\n        int myArray[] = {12,5,4,7,2};\r\n        boolean increasing = false, decreasing = false;\r\n        for (int i = 0; i &lt; myArray.length-1; i++) {\r\n            \r\n            if (myArray[i] &lt; myArray[i+1]) {\r\n                increasing = true;\r\n            }\r\n            if (myArray[i] &gt; myArray[i+1]) {\r\n                decreasing = true;\r\n            }\r\n\r\n        }\r\n        if (increasing == true &amp;&amp; decreasing == true) {\r\n            System.out.println(&quot;Increasing and decreasing&quot;);\r\n        }\r\n        else {\r\n            if (increasing == true)\r\n                System.out.println(&quot;Increasing&quot;);\r\n            else System.out.println(&quot;Decreasing&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nNote: If you make sure that a rise after a fall is not considered a &quot;rise and fall&quot;, the first condition in the loop will be:\r\n\r\n    if (decreasing == true)\r\n        break;","title":"How do I iterate over elements of an array in Java while I am inside of a for loop to iterate over the elements of an array?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Eli {\n   \n    public static void main(String[] args) {\n        int myArray[] = {12,5,4,7,2};\n        boolean increasing = false, decreasing = false;\n        for (int i = 0; i &lt; myArray.length-1; i++) {\n            \n            if (myArray[i] &lt; myArray[i+1]) {\n                increasing = true;\n            }\n            if (myArray[i] &gt; myArray[i+1]) {\n                decreasing = true;\n            }\n\n        }\n        if (increasing == true &amp;&amp; decreasing == true) {\n            System.out.println(&quot;Increasing and decreasing&quot;);\n        }\n        else {\n            if (increasing == true)\n                System.out.println(&quot;Increasing&quot;);\n            else System.out.println(&quot;Decreasing&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>Note: If you make sure that a rise after a fall is not considered a &quot;rise and fall&quot;, the first condition in the loop will be:</p>\n<pre><code>if (decreasing == true)\n    break;\n</code></pre>\n"}],"owner":{"account_id":20895823,"reputation":11,"user_id":15350105,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669459546,"creation_date":1648602568,"question_id":71670421,"body_markdown":"I am learning java and am learning arrays in Java. I wanted to try and make a program that goes through each element in the array and using a method the program sees if the elements are either increasing, decreasing, or part of the array is increasing and part of the array is decreasing. I am pretty confused on how to do this and would like some guidance on what I need to fix. I am guessing that my attempt is probably very far from what I wanted to have happen.\r\n\r\nI am not really sure how to loop through the array and test each individual element. I attempted it but I did it incorrectly. I tried to make a for loop which would iterate through the elements of the array. Inside of the for loop I tried making an if statement and I wanted it to go through each element in the array and then check if the order of the array was in increasing order and then output &quot;Increasing&quot;, decreasing order, and output &quot;Decreasing&quot;, or if  part of the array was increasing and part of it was decreasing I wanted the output to be &quot;Increasing and decreasing&quot;. (example: {1,3,5,7,4,2} ) 1,3,5,7 increase and 4,2 is decreasing. So I have one loop to iterate through each element in the array and then another loop inside the first loop checking if the elements are increasing or decreasing in the array and outputting Increase or Decrease.\r\n\r\n```\r\n\r\npublic class increasingOrDecreasing {\r\n    public static void main(String[] args) {\r\n\r\n        int[] array1 = { 3, 8, 13, 29, 52, 81 };\r\n\r\n        int[] array2 = { 77, 66, 55, 33, 22, 11 };\r\n\r\n        int[] array3 = { 20, 30, 60, 40, 15, 2 };\r\n\r\n        int[] array4 = { 10, 30, 50, 50, 60, 80 };\r\n\r\n        // call the method\r\n        increaseOrDecrease(array1);\r\n        increaseOrDecrease(array2);\r\n        increaseOrDecrease(array3);\r\n        increaseOrDecrease(array4);\r\n    }\r\n\r\n    // create the method\r\n\r\n    public static int increaseOrDecrease(int[] myArray) {\r\n        // make a loop to check if all the integers of the array are in either\r\n        // increasing or decreasing order or both\r\n\r\n\r\n        for (int i = 0; i &lt; myArray.length; i++) {\r\n\r\n            // if the array is increasing\r\n// What I wanted is for it to start at array i = 0 and have [i] go up by 1 until it loops through the end // of the array. Then if each element is less than the subsequent element it would output &quot;Increasing&quot;: I // did not do this correctly and would like some help. I guess all I did is check if myArray[i] is less \r\n// than myArray[i+1]\r\n\r\n// if the array was {1, 3, 6, 8} then the method would go through each element and find that index [0] &lt; \r\n// index [1] and index[1] &lt; index [2] and index[2] &lt; index [3] and output Increasing and return a value of // 1 because the method would find that all the numbers are ordered smallest to largest.\r\n\r\n\r\n            if (myArray[i] &lt; myArray[i++]) {\r\n\r\n\r\n                System.out.println(&quot;Increasing&quot;);\r\n                return 1;\r\n            }\r\n\r\n// this is incorrect and does not do what I was hoping it would.\r\n            // if the array is decreasing\r\n            else if (myArray[i] &gt; myArray[i++]) {\r\n                System.out.println(&quot;Decreasing&quot;);\r\n                return 2;\r\n            }\r\n\r\n\r\n// this is also incorrect\r\n            // if the array is increasing and decreasing\r\n            else (myArray[i] &lt; myArray[i++] &amp;&amp; myArray[i] &gt; myArray[i++]) {\r\n                System.out.println(&quot;Both increasing and decreasing&quot;);\r\n                return 3;\r\n            }\r\n        }\r\n        return 0;\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is what I wanted: for each element check and see if the element is less than the next element in the array. For the first array {3,8,17,25,89,94} it would loop through the array. Index 0 is 3 which is less than index 1. It goes to element 1 which is 8 and index 1 is less than index 2 which is 17. This would keep happening until the method looped through all the elements in the array and it would output Increasing. If every element in the array is smaller than the subsequent elements checking if the order is smallest to largest then the method would output Increasing. Then I would do the same thing if the array is decreasing only in reverse. I did not do this correctly and would like some help, please.\r\n\r\nHere is what I tried to do to check if the array is from smallest to largest. I think it just checked if \\[i\\] \\&lt; \\[i++\\] but did not go through the entire array.\r\n\r\n```\r\n      for (int i = 0; i &lt; myArray.length; i++) {\r\n\r\n            // if the array is increasing\r\n// What I wanted is for it to start at array i = 0 and have [i] go up by 1 until it loops through the end // of the array. Then if each element is less than the subsequent element it would output &quot;Increasing&quot;: I // did not do this correctly and would like some help. I guess all I did is check if myArray[i] is less \r\n// than myArray[i+1]\r\n\r\n// if the array was {1, 3, 6, 8} then the method would go through each element and find that index [0] &lt; \r\n// index [1] and index[1] &lt; index [2] and index[2] &lt; index [3] and output Increasing and return a value of // 1 because the method would find that all the numbers are ordered smallest to largest.\r\n\r\n\r\n            if (myArray[i] &lt; myArray[i++]) {\r\n\r\n\r\n                System.out.println(&quot;Increasing&quot;);\r\n                return 1;\r\n            }\r\n```","title":"How do I iterate over elements of an array in Java while I am inside of a for loop to iterate over the elements of an array?","body":"<p>I am learning java and am learning arrays in Java. I wanted to try and make a program that goes through each element in the array and using a method the program sees if the elements are either increasing, decreasing, or part of the array is increasing and part of the array is decreasing. I am pretty confused on how to do this and would like some guidance on what I need to fix. I am guessing that my attempt is probably very far from what I wanted to have happen.</p>\n<p>I am not really sure how to loop through the array and test each individual element. I attempted it but I did it incorrectly. I tried to make a for loop which would iterate through the elements of the array. Inside of the for loop I tried making an if statement and I wanted it to go through each element in the array and then check if the order of the array was in increasing order and then output &quot;Increasing&quot;, decreasing order, and output &quot;Decreasing&quot;, or if  part of the array was increasing and part of it was decreasing I wanted the output to be &quot;Increasing and decreasing&quot;. (example: {1,3,5,7,4,2} ) 1,3,5,7 increase and 4,2 is decreasing. So I have one loop to iterate through each element in the array and then another loop inside the first loop checking if the elements are increasing or decreasing in the array and outputting Increase or Decrease.</p>\n<pre><code>\npublic class increasingOrDecreasing {\n    public static void main(String[] args) {\n\n        int[] array1 = { 3, 8, 13, 29, 52, 81 };\n\n        int[] array2 = { 77, 66, 55, 33, 22, 11 };\n\n        int[] array3 = { 20, 30, 60, 40, 15, 2 };\n\n        int[] array4 = { 10, 30, 50, 50, 60, 80 };\n\n        // call the method\n        increaseOrDecrease(array1);\n        increaseOrDecrease(array2);\n        increaseOrDecrease(array3);\n        increaseOrDecrease(array4);\n    }\n\n    // create the method\n\n    public static int increaseOrDecrease(int[] myArray) {\n        // make a loop to check if all the integers of the array are in either\n        // increasing or decreasing order or both\n\n\n        for (int i = 0; i &lt; myArray.length; i++) {\n\n            // if the array is increasing\n// What I wanted is for it to start at array i = 0 and have [i] go up by 1 until it loops through the end // of the array. Then if each element is less than the subsequent element it would output &quot;Increasing&quot;: I // did not do this correctly and would like some help. I guess all I did is check if myArray[i] is less \n// than myArray[i+1]\n\n// if the array was {1, 3, 6, 8} then the method would go through each element and find that index [0] &lt; \n// index [1] and index[1] &lt; index [2] and index[2] &lt; index [3] and output Increasing and return a value of // 1 because the method would find that all the numbers are ordered smallest to largest.\n\n\n            if (myArray[i] &lt; myArray[i++]) {\n\n\n                System.out.println(&quot;Increasing&quot;);\n                return 1;\n            }\n\n// this is incorrect and does not do what I was hoping it would.\n            // if the array is decreasing\n            else if (myArray[i] &gt; myArray[i++]) {\n                System.out.println(&quot;Decreasing&quot;);\n                return 2;\n            }\n\n\n// this is also incorrect\n            // if the array is increasing and decreasing\n            else (myArray[i] &lt; myArray[i++] &amp;&amp; myArray[i] &gt; myArray[i++]) {\n                System.out.println(&quot;Both increasing and decreasing&quot;);\n                return 3;\n            }\n        }\n        return 0;\n\n    }\n\n}\n\n</code></pre>\n<p>This is what I wanted: for each element check and see if the element is less than the next element in the array. For the first array {3,8,17,25,89,94} it would loop through the array. Index 0 is 3 which is less than index 1. It goes to element 1 which is 8 and index 1 is less than index 2 which is 17. This would keep happening until the method looped through all the elements in the array and it would output Increasing. If every element in the array is smaller than the subsequent elements checking if the order is smallest to largest then the method would output Increasing. Then I would do the same thing if the array is decreasing only in reverse. I did not do this correctly and would like some help, please.</p>\n<p>Here is what I tried to do to check if the array is from smallest to largest. I think it just checked if [i] &lt; [i++] but did not go through the entire array.</p>\n<pre><code>      for (int i = 0; i &lt; myArray.length; i++) {\n\n            // if the array is increasing\n// What I wanted is for it to start at array i = 0 and have [i] go up by 1 until it loops through the end // of the array. Then if each element is less than the subsequent element it would output &quot;Increasing&quot;: I // did not do this correctly and would like some help. I guess all I did is check if myArray[i] is less \n// than myArray[i+1]\n\n// if the array was {1, 3, 6, 8} then the method would go through each element and find that index [0] &lt; \n// index [1] and index[1] &lt; index [2] and index[2] &lt; index [3] and output Increasing and return a value of // 1 because the method would find that all the numbers are ordered smallest to largest.\n\n\n            if (myArray[i] &lt; myArray[i++]) {\n\n\n                System.out.println(&quot;Increasing&quot;);\n                return 1;\n            }\n</code></pre>\n"},{"tags":["java","hashmap","volatile"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669431086,"post_id":74579373,"comment_id":131645151,"body_markdown":"Do you understand the difference between objects and references to objects? When you call `someMap.put()`, all references to the thing at `someMap` will see the modification. When you say `someMap = newMap(...)`, that only overwrites your local reference. It&#39;s the difference between updating someone&#39;s address in your phone, and going to their house and rearranging the furniture.","body":"Do you understand the difference between objects and references to objects? When you call <code>someMap.put()</code>, all references to the thing at <code>someMap</code> will see the modification. When you say <code>someMap = newMap(...)</code>, that only overwrites your local reference. It&#39;s the difference between updating someone&#39;s address in your phone, and going to their house and rearranging the furniture."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669431484,"post_id":74579373,"comment_id":131645195,"body_markdown":"In this case I suspect there&#39;s also something going on with multithreading - map is private and this particular method is synchronized, so it seems unlikely that other references should be allowed to exist. That&#39;s hard to say for certain without seeing more of the surrounding code, tho.","body":"In this case I suspect there&#39;s also something going on with multithreading - map is private and this particular method is synchronized, so it seems unlikely that other references should be allowed to exist. That&#39;s hard to say for certain without seeing more of the surrounding code, tho."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1669459760,"post_id":74579373,"comment_id":131648292,"body_markdown":"To be clear: the question is &quot;**why** does the code create a new map, add the key, and reassign the name (instead of just adding the key to the existing map)?&quot; Or just what?","body":"To be clear: the question is &quot;<b>why</b> does the code create a new map, add the key, and reassign the name (instead of just adding the key to the existing map)?&quot; Or just what?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669453847,"creation_date":1669453086,"answer_id":74580893,"question_id":74579373,"body_markdown":"The code you are looking is fetching a Node from the map, creating and adding a new `Node` if one is not present.\r\n\r\nClearly, this operation needs to be thread-safe.  The simple ways to implement this would be:\r\n\r\n  - Lock the map and perform `get` and `put` operations while holding the lock.\r\n\r\n  - Use a `ConcurrentHashMap` which has operations for doing this kind of thing atomically; e.g. `computeIfAbsent`.\r\n\r\nThe authors of this code have chosen a different approach.  They are using so-called Double Checked Locking (DCL) to avoid doing the initial `get` while holding a lock.  That is what this code does: \r\n   \r\n        DefaultNode node = map.get(context.getName());\r\n        if (node == null) {\r\n            synchronized (this) {\r\n                node = map.get(context.getName());\r\n                ...\r\n\r\nThe authors have decided that when they then need to add a new entry to the map they need to do it by replacing the entire map with a new one.  On the face of it, that *seems* unnecessary.  The map updates are being performed while holding the lock and the `volatile` adds a *happens before* that *seems* to ensure that the initial `map.get` call sees any recent writes to the HashMap.  \r\n\r\nBut that reasoning is INCORRECT.  The problem is that there is a small time window between fetching the `map` reference and the `get` call completing.  During that time window, a simultaneous `put` operation may be updating the `HashMap` data structures.  This is harmful because those changes could cause the `get` to read stale data (because there is no *happens before* relationship from the `put` writes to the `get` reads).  Even worse, the `put` could trigger reconstruction of a hash chain or even an expansion of the hash array.  The resulting behavior is (at least) outside of the `HashMap` spec, since `HashMap` is not defined to be thread-safe.\r\n\r\nThe authors&#39; solution is to create a new `HashMap` with the existing entries and the new one, then update `map` with a single assignment.  I haven&#39;t done a formal analysis, but I think that this approach is thread-safe.\r\n\r\n-----------------------\r\n\r\nIn short, the reason that the code creates a new `HashMap` is to make the DCL approach thread-safe.\r\n\r\nAnd if you ignore the thread-safety aspect, this approach is functionality equivalent to a simple `put`.\r\n\r\nFinally, we need to consider whether the authors&#39; approach is going to give optimal performance.  The answer will depend on whether the number of cache entries stabilizes, and whether it is relatively small.  One observation is that the cost of adding `N` entries to the cache is `O(N^2)` !!  (Assuming that entries are never removed, as appears to be the case.)\r\n","title":"What is the different between map.put and creating a new map?","body":"<p>The code you are looking is fetching a Node from the map, creating and adding a new <code>Node</code> if one is not present.</p>\n<p>Clearly, this operation needs to be thread-safe.  The simple ways to implement this would be:</p>\n<ul>\n<li><p>Lock the map and perform <code>get</code> and <code>put</code> operations while holding the lock.</p>\n</li>\n<li><p>Use a <code>ConcurrentHashMap</code> which has operations for doing this kind of thing atomically; e.g. <code>computeIfAbsent</code>.</p>\n</li>\n</ul>\n<p>The authors of this code have chosen a different approach.  They are using so-called Double Checked Locking (DCL) to avoid doing the initial <code>get</code> while holding a lock.  That is what this code does:</p>\n<pre><code>    DefaultNode node = map.get(context.getName());\n    if (node == null) {\n        synchronized (this) {\n            node = map.get(context.getName());\n            ...\n</code></pre>\n<p>The authors have decided that when they then need to add a new entry to the map they need to do it by replacing the entire map with a new one.  On the face of it, that <em>seems</em> unnecessary.  The map updates are being performed while holding the lock and the <code>volatile</code> adds a <em>happens before</em> that <em>seems</em> to ensure that the initial <code>map.get</code> call sees any recent writes to the HashMap.</p>\n<p>But that reasoning is INCORRECT.  The problem is that there is a small time window between fetching the <code>map</code> reference and the <code>get</code> call completing.  During that time window, a simultaneous <code>put</code> operation may be updating the <code>HashMap</code> data structures.  This is harmful because those changes could cause the <code>get</code> to read stale data (because there is no <em>happens before</em> relationship from the <code>put</code> writes to the <code>get</code> reads).  Even worse, the <code>put</code> could trigger reconstruction of a hash chain or even an expansion of the hash array.  The resulting behavior is (at least) outside of the <code>HashMap</code> spec, since <code>HashMap</code> is not defined to be thread-safe.</p>\n<p>The authors' solution is to create a new <code>HashMap</code> with the existing entries and the new one, then update <code>map</code> with a single assignment.  I haven't done a formal analysis, but I think that this approach is thread-safe.</p>\n<hr />\n<p>In short, the reason that the code creates a new <code>HashMap</code> is to make the DCL approach thread-safe.</p>\n<p>And if you ignore the thread-safety aspect, this approach is functionality equivalent to a simple <code>put</code>.</p>\n<p>Finally, we need to consider whether the authors' approach is going to give optimal performance.  The answer will depend on whether the number of cache entries stabilizes, and whether it is relatively small.  One observation is that the cost of adding <code>N</code> entries to the cache is <code>O(N^2)</code> !!  (Assuming that entries are never removed, as appears to be the case.)</p>\n"},{"tags":[],"owner":{"account_id":19780517,"reputation":141,"user_id":14485623,"display_name":"kuriboh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669459342,"creation_date":1669459342,"answer_id":74581481,"question_id":74579373,"body_markdown":"It is so-called [_copy-on-write_](https://en.wikipedia.org/wiki/Copy-on-write), which is intended to ensure thread-safe. When read operations are a lot more than write operations, it is more efficient than mechanisms like ```ConcurrentHashMap```.\r\n\r\nRef: https://github.com/alibaba/Sentinel/issues/1733","title":"What is the different between map.put and creating a new map?","body":"<p>It is so-called <a href=\"https://en.wikipedia.org/wiki/Copy-on-write\" rel=\"nofollow noreferrer\"><em>copy-on-write</em></a>, which is intended to ensure thread-safe. When read operations are a lot more than write operations, it is more efficient than mechanisms like <code>ConcurrentHashMap</code>.</p>\n<p>Ref: <a href=\"https://github.com/alibaba/Sentinel/issues/1733\" rel=\"nofollow noreferrer\">https://github.com/alibaba/Sentinel/issues/1733</a></p>\n"}],"owner":{"account_id":22058512,"reputation":85,"user_id":16321604,"display_name":"moreHope"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669459342,"creation_date":1669430843,"question_id":74579373,"body_markdown":"i&#39;m reading the source code of sentinel, i find when the map need adding a entry, it create a new hashmap replacing the old rather than using map.put directly. like this:\r\n\r\n```java\r\npublic class NodeSelectorSlot extends AbstractLinkedProcessorSlot&lt;Object&gt; {\r\n\r\n    private volatile Map&lt;String, DefaultNode&gt; map = new HashMap&lt;String, DefaultNode&gt;(10);\r\n\r\n    @Override\r\n    public void entry(Context context, ResourceWrapper resourceWrapper, Object obj, int count, boolean prioritized, Object... args)\r\n        throws Throwable {\r\n      \r\n        DefaultNode node = map.get(context.getName());\r\n        if (node == null) {\r\n            synchronized (this) {\r\n                node = map.get(context.getName());\r\n                if (node == null) {\r\n                    node = new DefaultNode(resourceWrapper, null);\r\n                    // create a new hashmap\r\n                    HashMap&lt;String, DefaultNode&gt; cacheMap = new HashMap&lt;String, DefaultNode&gt;(map.size());\r\n                    cacheMap.putAll(map);\r\n                    cacheMap.put(context.getName(), node);\r\n                    map = cacheMap;\r\n                    ((DefaultNode) context.getLastNode()).addChild(node);\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        context.setCurNode(node);\r\n        fireEntry(context, resourceWrapper, node, count, prioritized, args);\r\n    }\r\n...\r\n}\r\n```\r\n\r\nwhat&#39;s the different between them? ","title":"What is the different between map.put and creating a new map?","body":"<p>i'm reading the source code of sentinel, i find when the map need adding a entry, it create a new hashmap replacing the old rather than using map.put directly. like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NodeSelectorSlot extends AbstractLinkedProcessorSlot&lt;Object&gt; {\n\n    private volatile Map&lt;String, DefaultNode&gt; map = new HashMap&lt;String, DefaultNode&gt;(10);\n\n    @Override\n    public void entry(Context context, ResourceWrapper resourceWrapper, Object obj, int count, boolean prioritized, Object... args)\n        throws Throwable {\n      \n        DefaultNode node = map.get(context.getName());\n        if (node == null) {\n            synchronized (this) {\n                node = map.get(context.getName());\n                if (node == null) {\n                    node = new DefaultNode(resourceWrapper, null);\n                    // create a new hashmap\n                    HashMap&lt;String, DefaultNode&gt; cacheMap = new HashMap&lt;String, DefaultNode&gt;(map.size());\n                    cacheMap.putAll(map);\n                    cacheMap.put(context.getName(), node);\n                    map = cacheMap;\n                    ((DefaultNode) context.getLastNode()).addChild(node);\n                }\n\n            }\n        }\n\n        context.setCurNode(node);\n        fireEntry(context, resourceWrapper, node, count, prioritized, args);\n    }\n...\n}\n</code></pre>\n<p>what's the different between them?</p>\n"},{"tags":["java","spring-boot","spring-cloud","spring-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669459154,"creation_date":1669421803,"answer_id":74578812,"question_id":74572441,"body_markdown":"Let&#39;s assume that each cluster can be described with the following attributes:\r\n```\r\n@Getter\r\n@Setter\r\npublic class KafkaCluster {\r\n  private String beanName;\r\n  private List&lt;String&gt; bootstrapServers;\r\n}\r\n```\r\nFor example, two clusters are defined in the `application.properties`:\r\n```application.properties\r\nkafka.clusters[0].bean-name=cluster1\r\nkafka.clusters[0].bootstrap-servers=CLUSTER_1_URL\r\nkafka.clusters[1].bean-name=cluster2\r\nkafka.clusters[1].bootstrap-servers=CLUSTER_2_URL\r\n```\r\nThose properties are needed before beans are instantiated, to register `KafkaTemplate` beans&#39; definitions, which makes `@ConfigurationProperties` unsuitable for this case. Instead, [Binder API][1] is used to bind them programmatically.\r\n\r\n`KafkaTemplate` beans&#39; definitions can be registered in the implementation of [`BeanDefinitionRegistryPostProcessor` interface][2].\r\n```java\r\npublic class KafkaTemplateDefinitionRegistrar implements BeanDefinitionRegistryPostProcessor {\r\n\r\n  private final List&lt;KafkaCluster&gt; clusters;\r\n\r\n  public KafkaTemplateDefinitionRegistrar(Environment environment) {\r\n    clusters= Binder.get(environment)\r\n        .bind(&quot;kafka.clusters&quot;, Bindable.listOf(KafkaCluster.class))\r\n        .orElseThrow(IllegalStateException::new);\r\n  }\r\n\r\n  @Override\r\n  public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n    clusters.forEach(cluster -&gt; {\r\n      GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n      beanDefinition.setBeanClass(KafkaTemplate.class);\r\n      beanDefinition.setInstanceSupplier(() -&gt; kafkaTemplate(cluster));\r\n      registry.registerBeanDefinition(cluster.getBeanName(), beanDefinition);\r\n    });\r\n  }\r\n\r\n  @Override\r\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n  }\r\n\r\n  public ProducerFactory&lt;String, String&gt; producerFactory(KafkaCluster kafkaCluster) {\r\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n    configProps.put(\r\n        ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n        kafkaCluster.getBootstrapServers());\r\n    configProps.put(\r\n        ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n        StringSerializer.class);\r\n    configProps.put(\r\n        ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n        StringSerializer.class);\r\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n  }\r\n\r\n  public KafkaTemplate&lt;String, String&gt; kafkaTemplate(KafkaCluster kafkaCluster) {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory(kafkaCluster));\r\n  }\r\n}\r\n```\r\nConfiguration class for the `KafkaTemplateDefinitionRegistrar` bean:\r\n```java\r\n@Configuration\r\npublic class KafkaTemplateDefinitionRegistrarConfiguration {\r\n  @Bean\r\n  public static KafkaTemplateDefinitionRegistrar beanDefinitionRegistrar(Environment environment) {\r\n    return new KafkaTemplateDefinitionRegistrar(environment);\r\n  }\r\n}\r\n```\r\nAdditionally, exclude `KafkaAutoConfiguration` in the main class to prevent creating the default `KafkaTemplate` bean. This is probably not the best way because all the other `KafkaAutoConfiguration` beans are not created in that case.\r\n\r\n```java\r\n@SpringBootApplication(exclude={KafkaAutoConfiguration.class})\r\n```\r\nFinally, below is a simple test that proves the existence of two `KafkaTemplate` beans.\r\n```java\r\n@SpringBootTest\r\nclass SpringBootApplicationTest {\r\n\t@Autowired\r\n\tList&lt;KafkaTemplate&lt;String,String&gt;&gt; kafkaTemplates;\r\n\t\r\n\t@Test\r\n\tvoid kafkaTemplatesSizeTest() {\r\n\t\tAssertions.assertEquals(kafkaTemplates.size(), 2);\r\n\t}\r\n}\r\n```\r\nFor reference: [Create N number of beans with BeanDefinitionRegistryPostProcessor][3], [Spring Boot Dynamic Bean Creation From Properties File][4]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes#configuration-property-binding\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistryPostProcessor.html\r\n  [3]: https://stackoverflow.com/questions/53462889/create-n-number-of-beans-with-beandefinitionregistrypostprocessor\r\n  [4]: https://stackoverflow.com/questions/48161636/spring-boot-dynamic-bean-creation-from-properties-file","title":"how to create N number of Kafka Template dynamicaly at run time - spring boot","body":"<p>Let's assume that each cluster can be described with the following attributes:</p>\n<pre><code>@Getter\n@Setter\npublic class KafkaCluster {\n  private String beanName;\n  private List&lt;String&gt; bootstrapServers;\n}\n</code></pre>\n<p>For example, two clusters are defined in the <code>application.properties</code>:</p>\n<pre><code>kafka.clusters[0].bean-name=cluster1\nkafka.clusters[0].bootstrap-servers=CLUSTER_1_URL\nkafka.clusters[1].bean-name=cluster2\nkafka.clusters[1].bootstrap-servers=CLUSTER_2_URL\n</code></pre>\n<p>Those properties are needed before beans are instantiated, to register <code>KafkaTemplate</code> beans' definitions, which makes <code>@ConfigurationProperties</code> unsuitable for this case. Instead, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes#configuration-property-binding\" rel=\"nofollow noreferrer\">Binder API</a> is used to bind them programmatically.</p>\n<p><code>KafkaTemplate</code> beans' definitions can be registered in the implementation of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistryPostProcessor.html\" rel=\"nofollow noreferrer\"><code>BeanDefinitionRegistryPostProcessor</code> interface</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class KafkaTemplateDefinitionRegistrar implements BeanDefinitionRegistryPostProcessor {\n\n  private final List&lt;KafkaCluster&gt; clusters;\n\n  public KafkaTemplateDefinitionRegistrar(Environment environment) {\n    clusters= Binder.get(environment)\n        .bind(&quot;kafka.clusters&quot;, Bindable.listOf(KafkaCluster.class))\n        .orElseThrow(IllegalStateException::new);\n  }\n\n  @Override\n  public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n    clusters.forEach(cluster -&gt; {\n      GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n      beanDefinition.setBeanClass(KafkaTemplate.class);\n      beanDefinition.setInstanceSupplier(() -&gt; kafkaTemplate(cluster));\n      registry.registerBeanDefinition(cluster.getBeanName(), beanDefinition);\n    });\n  }\n\n  @Override\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n  }\n\n  public ProducerFactory&lt;String, String&gt; producerFactory(KafkaCluster kafkaCluster) {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(\n        ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\n        kafkaCluster.getBootstrapServers());\n    configProps.put(\n        ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n        StringSerializer.class);\n    configProps.put(\n        ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n        StringSerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n  }\n\n  public KafkaTemplate&lt;String, String&gt; kafkaTemplate(KafkaCluster kafkaCluster) {\n    return new KafkaTemplate&lt;&gt;(producerFactory(kafkaCluster));\n  }\n}\n</code></pre>\n<p>Configuration class for the <code>KafkaTemplateDefinitionRegistrar</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class KafkaTemplateDefinitionRegistrarConfiguration {\n  @Bean\n  public static KafkaTemplateDefinitionRegistrar beanDefinitionRegistrar(Environment environment) {\n    return new KafkaTemplateDefinitionRegistrar(environment);\n  }\n}\n</code></pre>\n<p>Additionally, exclude <code>KafkaAutoConfiguration</code> in the main class to prevent creating the default <code>KafkaTemplate</code> bean. This is probably not the best way because all the other <code>KafkaAutoConfiguration</code> beans are not created in that case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude={KafkaAutoConfiguration.class})\n</code></pre>\n<p>Finally, below is a simple test that proves the existence of two <code>KafkaTemplate</code> beans.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass SpringBootApplicationTest {\n    @Autowired\n    List&lt;KafkaTemplate&lt;String,String&gt;&gt; kafkaTemplates;\n    \n    @Test\n    void kafkaTemplatesSizeTest() {\n        Assertions.assertEquals(kafkaTemplates.size(), 2);\n    }\n}\n</code></pre>\n<p>For reference: <a href=\"https://stackoverflow.com/questions/53462889/create-n-number-of-beans-with-beandefinitionregistrypostprocessor\">Create N number of beans with BeanDefinitionRegistryPostProcessor</a>, <a href=\"https://stackoverflow.com/questions/48161636/spring-boot-dynamic-bean-creation-from-properties-file\">Spring Boot Dynamic Bean Creation From Properties File</a></p>\n"}],"owner":{"account_id":17097713,"reputation":23,"user_id":12372375,"display_name":"Edwin James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74578812,"answer_count":1,"score":1,"last_activity_date":1669459154,"creation_date":1669377343,"question_id":74572441,"body_markdown":"I have a spring boot application that needs to connect N number of Kafka clusters. based on some condition Kafka template need to switch and send a message \r\n\r\nI have seen some solutions to create separate Kafka template beans but in my use case number of clusters will change at the deployment time \r\n\r\nex:\r\n\r\n```\r\n@Bean(name = &quot;cluster1&quot;)\r\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplatesample1() {\r\n    return new KafkaTemplate&lt;&gt;(devProducerFactory1());\r\n}\r\n\r\n@Bean(name = &quot;cluster2&quot;)\r\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplatesample2() {\r\n    return new KafkaTemplate&lt;&gt;(devProducerFactory2());\r\n}\r\n```\r\n\r\n\r\n\r\nis there any other solution for this? if you can share a sample code its much appreciated","title":"how to create N number of Kafka Template dynamicaly at run time - spring boot","body":"<p>I have a spring boot application that needs to connect N number of Kafka clusters. based on some condition Kafka template need to switch and send a message</p>\n<p>I have seen some solutions to create separate Kafka template beans but in my use case number of clusters will change at the deployment time</p>\n<p>ex:</p>\n<pre><code>@Bean(name = &quot;cluster1&quot;)\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplatesample1() {\n    return new KafkaTemplate&lt;&gt;(devProducerFactory1());\n}\n\n@Bean(name = &quot;cluster2&quot;)\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplatesample2() {\n    return new KafkaTemplate&lt;&gt;(devProducerFactory2());\n}\n</code></pre>\n<p>is there any other solution for this? if you can share a sample code its much appreciated</p>\n"},{"tags":["java","xml","ofbiz"],"answers":[{"tags":[],"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669459133,"creation_date":1669459133,"answer_id":74581456,"question_id":74580558,"body_markdown":"You can use a try catch block\r\n\r\n     try {\r\n       BigDecimal asd=.... ;\r\n     }catch (Exception ex){\r\n       //warn to enter correct form\r\n      }","title":"Check the data in variable with types java","body":"<p>You can use a try catch block</p>\n<pre><code> try {\n   BigDecimal asd=.... ;\n }catch (Exception ex){\n   //warn to enter correct form\n  }\n</code></pre>\n"}],"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669459133,"creation_date":1669449080,"question_id":74580558,"body_markdown":"So I am working on a project that is setup with ofbiz java framework. It uses xml for design and It seems like when you enforce a field to type number someone can still key in alphabet characters in that field. Java by default has types which means when a user keyed in a alpha in that field i will get PostgreSQL database  error example &#39;hh&#39; is not a Big Decimal. If it was JavaScript I would have done something like ```\r\ntypeOf(amount) ```  and if I find its string I just return an error before this proceeds to database for saving which leads to this error below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI understand that my amount variable is of type BigDecimal but how can I check if the user really keyed in a numeric and not an alpha since my field attribute type=&#39;number&#39; isn&#39;t working for me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7S7yu.png","title":"Check the data in variable with types java","body":"<p>So I am working on a project that is setup with ofbiz java framework. It uses xml for design and It seems like when you enforce a field to type number someone can still key in alphabet characters in that field. Java by default has types which means when a user keyed in a alpha in that field i will get PostgreSQL database  error example 'hh' is not a Big Decimal. If it was JavaScript I would have done something like <code>typeOf(amount)</code>  and if I find its string I just return an error before this proceeds to database for saving which leads to this error below.</p>\n<p><a href=\"https://i.stack.imgur.com/7S7yu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7S7yu.png\" alt=\"enter image description here\" /></a></p>\n<p>I understand that my amount variable is of type BigDecimal but how can I check if the user really keyed in a numeric and not an alpha since my field attribute type='number' isn't working for me.</p>\n"},{"tags":["java","ffmpeg","android-ffmpeg"],"answers":[{"tags":[],"owner":{"account_id":19985957,"reputation":826,"user_id":14648074,"display_name":"seeker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669458794,"creation_date":1669458794,"answer_id":74581417,"question_id":74572145,"body_markdown":"The main problem in your case is to create the proper [filtergraph][1]. I&#39;ll assist you with this task. To adapt these commands for java application is on your own.\r\n\r\nAssumed you have four input sources:\r\n\r\n - 0 - source video;\r\n - 1 - middle frame image;\r\n - 2 - title frame image;\r\n - 3 - end frame image.\r\n\r\nYou can apply all your transformations in one `filter_complex` (for testing purposes I chose final video resolution 640x480 and source video duration 5s):\r\n```\r\n-filter_complex \\\r\n  &quot;[0:v]pad=640:480:576:0[vpad]; \\\r\n   [vpad][1]overlay[vframed]; \\\r\n   [vframed]split=3[vfr1][vfr2][vfr3]; \\\r\n   [vfr1]reverse[vrev]; \\\r\n   [vfr2][vrev][vfr3]concat=n=3,setpts=0.5*PTS[vboom];\r\n   [vboom][2]overlay=enable=&#39;lte(t,2)&#39;[vpreout];\r\n   [vpreout][3]overlay=enable=&#39;gte(t,5*3*0.5-2)&#39;[vout]&quot; \\\r\n```\r\nSince you applied fast motion effect to &quot;boomerang&quot;, the last line has some arithmetic to calculate duration of output video: &lt;*5s of source video*&gt; * &lt;*3 boomerang&#39;s chunks*&gt; * &lt;*speed coefficient*&gt;.\r\n\r\nThe result will be like this:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/yUQb4.gif&quot; width=&quot;320&quot; height=&quot;240&quot;&gt;\r\n\r\n\r\n\r\n  [1]: https://ffmpeg.org/ffmpeg-filters.html#Filtergraph-description","title":"Android Java (ffmpeg-kit). Assistance(opinion) with combining 4 ffmpeg commands together","body":"<p>The main problem in your case is to create the proper <a href=\"https://ffmpeg.org/ffmpeg-filters.html#Filtergraph-description\" rel=\"nofollow noreferrer\">filtergraph</a>. I'll assist you with this task. To adapt these commands for java application is on your own.</p>\n<p>Assumed you have four input sources:</p>\n<ul>\n<li>0 - source video;</li>\n<li>1 - middle frame image;</li>\n<li>2 - title frame image;</li>\n<li>3 - end frame image.</li>\n</ul>\n<p>You can apply all your transformations in one <code>filter_complex</code> (for testing purposes I chose final video resolution 640x480 and source video duration 5s):</p>\n<pre><code>-filter_complex \\\n  &quot;[0:v]pad=640:480:576:0[vpad]; \\\n   [vpad][1]overlay[vframed]; \\\n   [vframed]split=3[vfr1][vfr2][vfr3]; \\\n   [vfr1]reverse[vrev]; \\\n   [vfr2][vrev][vfr3]concat=n=3,setpts=0.5*PTS[vboom];\n   [vboom][2]overlay=enable='lte(t,2)'[vpreout];\n   [vpreout][3]overlay=enable='gte(t,5*3*0.5-2)'[vout]&quot; \\\n</code></pre>\n<p>Since you applied fast motion effect to &quot;boomerang&quot;, the last line has some arithmetic to calculate duration of output video: &lt;<em>5s of source video</em>&gt; * &lt;<em>3 boomerang's chunks</em>&gt; * &lt;<em>speed coefficient</em>&gt;.</p>\n<p>The result will be like this:</p>\n<img src=\"https://i.stack.imgur.com/yUQb4.gif\" width=\"320\" height=\"240\">\n"}],"owner":{"account_id":18675404,"reputation":13,"user_id":13613188,"display_name":"D-MAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74581417,"answer_count":1,"score":0,"last_activity_date":1669458794,"creation_date":1669375724,"question_id":74572145,"body_markdown":"I have the following 4 ffmpeg commands. 1. adds a png frame(border) over the entire length of the video. 2. creates a boomerang effect. 3. adds an outro jpeg to the last 2 seconds of the video. 4. Adds an intro jpeg to the first 2 seconds of the video.(these commands work individually)\r\n\r\nMy aim is to combine all of these individual commands into one command to create a complete edited video. The final video needs all these elements in one final edited video.\r\n\r\nYour assistance is greatly appreciated.\r\n\r\n```\r\n/**\r\n *\r\n\r\n * (Middle overlay filter) String exe = &quot;-i &quot; + input_video_uri + &quot; -framerate 60 -i &quot; + frame + &quot; -filter_complex [0]pad=&quot;+mVideoWidth+&quot;:&quot;+mVideoHeight+&quot;:576:0[vid];[vid][1]overlay -c:a copy -vcodec mpeg4 -crf 0 -preset ultrafast -qscale 0 &quot; + file2.getAbsolutePath();\r\n\r\n * (Boomerang effect) String exe = &quot;-y -i &quot; + input_video_uri + &quot; -filter_complex [0]reverse[r];[0][r][0]concat=n=3,setpts=0.5*PTS &quot; + file2.getAbsolutePath();\r\n\r\n * (Put image at end of video) String exe = &quot;-i &quot;+ input_video_uri +&quot; -i &quot;+ frame +&quot; -filter_complex \\&quot;[0:v][1:v] overlay=0:0:enable=&#39;between(t,&quot;+ (msec - 2 ) + &quot;,&quot;+ msec+&quot;)&#39;\\&quot; -pix_fmt yuv420p -c:a copy &quot; + file2.getAbsolutePath();\r\n\r\n * (Put image at start of video) String exe = &quot;-i &quot;+ input_video_uri +&quot; -i &quot;+ frame +&quot; -filter_complex \\&quot;[0:v][1:v] overlay=0:0:enable=&#39;between(t,0,2)&#39;\\&quot; -pix_fmt yuv420p -c:a copy &quot; + file2.getAbsolutePath();\r\n\r\n * */\r\n```\r\n\r\n\r\n\r\n\r\nBeing new to ffmpeg, I am limited in knowledge. However, I have tried &#39;&amp;&amp;&#39; which produced an unrecognized error from the ffmpeg library.","title":"Android Java (ffmpeg-kit). Assistance(opinion) with combining 4 ffmpeg commands together","body":"<p>I have the following 4 ffmpeg commands. 1. adds a png frame(border) over the entire length of the video. 2. creates a boomerang effect. 3. adds an outro jpeg to the last 2 seconds of the video. 4. Adds an intro jpeg to the first 2 seconds of the video.(these commands work individually)</p>\n<p>My aim is to combine all of these individual commands into one command to create a complete edited video. The final video needs all these elements in one final edited video.</p>\n<p>Your assistance is greatly appreciated.</p>\n<pre><code>/**\n *\n\n * (Middle overlay filter) String exe = &quot;-i &quot; + input_video_uri + &quot; -framerate 60 -i &quot; + frame + &quot; -filter_complex [0]pad=&quot;+mVideoWidth+&quot;:&quot;+mVideoHeight+&quot;:576:0[vid];[vid][1]overlay -c:a copy -vcodec mpeg4 -crf 0 -preset ultrafast -qscale 0 &quot; + file2.getAbsolutePath();\n\n * (Boomerang effect) String exe = &quot;-y -i &quot; + input_video_uri + &quot; -filter_complex [0]reverse[r];[0][r][0]concat=n=3,setpts=0.5*PTS &quot; + file2.getAbsolutePath();\n\n * (Put image at end of video) String exe = &quot;-i &quot;+ input_video_uri +&quot; -i &quot;+ frame +&quot; -filter_complex \\&quot;[0:v][1:v] overlay=0:0:enable='between(t,&quot;+ (msec - 2 ) + &quot;,&quot;+ msec+&quot;)'\\&quot; -pix_fmt yuv420p -c:a copy &quot; + file2.getAbsolutePath();\n\n * (Put image at start of video) String exe = &quot;-i &quot;+ input_video_uri +&quot; -i &quot;+ frame +&quot; -filter_complex \\&quot;[0:v][1:v] overlay=0:0:enable='between(t,0,2)'\\&quot; -pix_fmt yuv420p -c:a copy &quot; + file2.getAbsolutePath();\n\n * */\n</code></pre>\n<p>Being new to ffmpeg, I am limited in knowledge. However, I have tried '&amp;&amp;' which produced an unrecognized error from the ffmpeg library.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1669453727,"post_id":74580891,"comment_id":131647422,"body_markdown":"no, there is no difference (regarding IDE) - How is the class declared? Is it a `Component` or a `Window`? (always better to include a [mre] for such questions - also recommended to take the [tour] and check [ask]) || BTW `setLocationRelativeTo(null)` can be used to center a `Window` (e.g. `JFrame`) - [doc](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Window.html#setLocationRelativeTo(java.awt.Component))","body":"no, there is no difference (regarding IDE) - How is the class declared? Is it a <code>Component</code> or a <code>Window</code>? (always better to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for such questions - also recommended to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>) || BTW <code>setLocationRelativeTo(null)</code> can be used to center a <code>Window</code> (e.g. <code>JFrame</code>) - <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Window.html#setLocationRelativeTo(java.awt.Component)\" rel=\"nofollow noreferrer\">doc</a>"},{"owner":{"account_id":27052089,"reputation":1,"user_id":20605299,"display_name":"user20605299"},"score":0,"creation_date":1669467484,"post_id":74580891,"comment_id":131649505,"body_markdown":"No, I didn&#39;t do any special declaration. Just a normal class statement. Below is the code...\n\n\npublic class LoginS {\n\n\tprivate JFrame frmLoginSystem;\n\tprivate JTextField txtUsername;\n\tprivate JPasswordField txtPassword;\n\n\t/**\n\t * Launch the application.\n\t */\n\tpublic static void main(String[] args) {\n\t\tEventQueue.invokeLater(new Runnable() {\n\t\t\tpublic void run() {\n\t\t\t\ttry {\n\t\t\t\t\tLoginS window = new LoginS();\n\t\t\t\t\twindow.frmLoginSystem.setVisible(true);\n\t\t\t\t} catch (Exception e) {\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t}\n\t\t\t}\n\t\t});","body":"No, I didn&#39;t do any special declaration. Just a normal class statement. Below is the code...   public class LoginS {  \tprivate JFrame frmLoginSystem; \tprivate JTextField txtUsername; \tprivate JPasswordField txtPassword;  \t/** \t * Launch the application. \t */ \tpublic static void main(String[] args) { \t\tEventQueue.invokeLater(new Runnable() { \t\t\tpublic void run() { \t\t\t\ttry { \t\t\t\t\tLoginS window = new LoginS(); \t\t\t\t\twindow.frmLoginSystem.setVisible(true); \t\t\t\t} catch (Exception e) { \t\t\t\t\te.printStackTrace(); \t\t\t\t} \t\t\t} \t\t});"}],"answers":[{"tags":[],"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669458627,"creation_date":1669458627,"answer_id":74581398,"question_id":74580891,"body_markdown":"    I use this code to center....\r\n       `int frW=frame.getWidth();\r\n        int frH=frame.getHeight();\r\n        int width = Toolkit.getDefaultToolkit().getScreenSize().width;\r\n        int height = Toolkit.getDefaultToolkit().getScreenSize().height;\r\n        int x=(width-frW)/2;\r\n        int y=(height-frH)/2;\r\n        frame.setBounds(x, y, frW, frH);`","title":"Unable to fix the error &quot;getToolkit() is undefined&quot;","body":"<pre><code>I use this code to center....\n   `int frW=frame.getWidth();\n    int frH=frame.getHeight();\n    int width = Toolkit.getDefaultToolkit().getScreenSize().width;\n    int height = Toolkit.getDefaultToolkit().getScreenSize().height;\n    int x=(width-frW)/2;\n    int y=(height-frH)/2;\n    frame.setBounds(x, y, frW, frH);`\n</code></pre>\n"}],"owner":{"account_id":27052089,"reputation":1,"user_id":20605299,"display_name":"user20605299"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669458627,"creation_date":1669453072,"question_id":74580891,"body_markdown":"I&#39;m doing Login Page using Eclipse 2022-09 &amp; jdk-19 and I have done coding to display the frame on the middle of the screen. Below is my coding.\r\n\r\n\r\n\r\n```\r\nimport java.awt.Toolkit;\r\nimport java.awt.Dimension;\r\n\r\n\tpublic LoginS() {\r\n\t\tinitialize();\r\n\r\n\tToolkit toolkit = getToolkit();\r\n        Dimension size = toolkit.getScreenSize();\r\n        setLocation(size.width/2 - getWidth()/2, size.height/2 - getHeight()/2); \r\n\r\n\t}\r\n\r\n``` \r\n\r\nI&#39;m unable to compile the coding due subjected error. Same error for getWidth(), getHight() and setLocation() as well. when I use the same coding on NetBeans, it works fine. Only on Eclipse it&#39;s giving error. Need help please...\r\n \r\n\r\nIs there any difference between eclipse java.awt.Toolkit and NetBeans java.awt.Toolkit?\r\n\r\n","title":"Unable to fix the error &quot;getToolkit() is undefined&quot;","body":"<p>I'm doing Login Page using Eclipse 2022-09 &amp; jdk-19 and I have done coding to display the frame on the middle of the screen. Below is my coding.</p>\n<pre><code>import java.awt.Toolkit;\nimport java.awt.Dimension;\n\n    public LoginS() {\n        initialize();\n\n    Toolkit toolkit = getToolkit();\n        Dimension size = toolkit.getScreenSize();\n        setLocation(size.width/2 - getWidth()/2, size.height/2 - getHeight()/2); \n\n    }\n\n</code></pre>\n<p>I'm unable to compile the coding due subjected error. Same error for getWidth(), getHight() and setLocation() as well. when I use the same coding on NetBeans, it works fine. Only on Eclipse it's giving error. Need help please...</p>\n<p>Is there any difference between eclipse java.awt.Toolkit and NetBeans java.awt.Toolkit?</p>\n"},{"tags":["java","gradle","compilation","instrumentation"],"answers":[{"tags":[],"owner":{"account_id":8375968,"reputation":1454,"user_id":6289425,"display_name":"Dirk Hoffmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669458212,"creation_date":1669458212,"answer_id":74581344,"question_id":74571098,"body_markdown":"Not really sure what you expect, but:\r\n\r\n- you could write your own gradle plugin for this\r\n- or instead you can put that task in ROOT/buildSrc/... to be available to all subprojects\r\n\r\nfurther on (and you probably have worked these out yourself in your task:&lt;br/&gt;\r\nYou can check if a certain dependency (or src configuration) is present in your subprojects, or check on a dependency present:\r\n`configurations.compile.resolve().each { println it.canonicalPath }` or checking if a/your certain custom configuration is present.\r\n\r\n\r\nconcerning the generated source I found e.g.:\r\n- &lt;https://discuss.gradle.org/t/right-way-to-generate-sources-in-gradle-7/41141&gt;\r\n- &lt;https://discuss.gradle.org/t/how-to-add-generated-sources-to-compile-classpath-without-adding-them-to-the-main-sourceset/5614&gt;","title":"Is there a way to apply a gradle task to a dependency?","body":"<p>Not really sure what you expect, but:</p>\n<ul>\n<li>you could write your own gradle plugin for this</li>\n<li>or instead you can put that task in ROOT/buildSrc/... to be available to all subprojects</li>\n</ul>\n<p>further on (and you probably have worked these out yourself in your task:<br/>\nYou can check if a certain dependency (or src configuration) is present in your subprojects, or check on a dependency present:\n<code>configurations.compile.resolve().each { println it.canonicalPath }</code> or checking if a/your certain custom configuration is present.</p>\n<p>concerning the generated source I found e.g.:</p>\n<ul>\n<li><a href=\"https://discuss.gradle.org/t/right-way-to-generate-sources-in-gradle-7/41141\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/right-way-to-generate-sources-in-gradle-7/41141</a></li>\n<li><a href=\"https://discuss.gradle.org/t/how-to-add-generated-sources-to-compile-classpath-without-adding-them-to-the-main-sourceset/5614\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/how-to-add-generated-sources-to-compile-classpath-without-adding-them-to-the-main-sourceset/5614</a></li>\n</ul>\n"}],"owner":{"account_id":27043598,"reputation":1,"user_id":20598101,"display_name":"Jonas L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669458212,"creation_date":1669370703,"question_id":74571098,"body_markdown":"I have written a fairly simple gradle task, called &#39;instrument&#39;. All it does right now is move through the src folder of the java project and call the instrumenter on every .java file it finds, which copies a modified version of that file somewhere into the build folder. Later I want to use those files to compile the project instead of the originals, but first I also need to instrument project dependencies, because this is a modular project.\r\n\r\nIs there an easy way to achieve that without hard-coding the task into each dependency? Because later on this needs to work for a wide variety of project structures. Right now the dependency is declared within the build.gradle file of my main project module, like this:\r\n\r\n```\r\ndependencies {\r\n    implementation project(&#39;:common&#39;)\r\n}\r\n```\r\n\r\nAlso, if somebody could point me into the right direction to compile the src folder with the instrumented .java files in the build folder instead of the original src folder, I would be very grateful.\r\n\r\n\r\nI originally tried compiling the entire project manually with javac, but that turned out to be way more complicated than necessary.","title":"Is there a way to apply a gradle task to a dependency?","body":"<p>I have written a fairly simple gradle task, called 'instrument'. All it does right now is move through the src folder of the java project and call the instrumenter on every .java file it finds, which copies a modified version of that file somewhere into the build folder. Later I want to use those files to compile the project instead of the originals, but first I also need to instrument project dependencies, because this is a modular project.</p>\n<p>Is there an easy way to achieve that without hard-coding the task into each dependency? Because later on this needs to work for a wide variety of project structures. Right now the dependency is declared within the build.gradle file of my main project module, like this:</p>\n<pre><code>dependencies {\n    implementation project(':common')\n}\n</code></pre>\n<p>Also, if somebody could point me into the right direction to compile the src folder with the instrumented .java files in the build folder instead of the original src folder, I would be very grateful.</p>\n<p>I originally tried compiling the entire project manually with javac, but that turned out to be way more complicated than necessary.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":2441548,"reputation":2592,"user_id":2129937,"accept_rate":60,"display_name":"matt helliwell"},"score":4,"creation_date":1669458263,"post_id":74581320,"comment_id":131648086,"body_markdown":"That looks like the sort of thing you could write a custom lint rule for.","body":"That looks like the sort of thing you could write a custom lint rule for."},{"owner":{"account_id":18227520,"reputation":95,"user_id":13267018,"display_name":"Moritz Kampfinger"},"score":0,"creation_date":1669472544,"post_id":74581320,"comment_id":131650437,"body_markdown":"Can you provide additional information about lint rules? I had a quick look, but not sure if this is really viable. Are lint rules limited to specific IDEAs?","body":"Can you provide additional information about lint rules? I had a quick look, but not sure if this is really viable. Are lint rules limited to specific IDEAs?"},{"owner":{"account_id":2441548,"reputation":2592,"user_id":2129937,"accept_rate":60,"display_name":"matt helliwell"},"score":0,"creation_date":1669480509,"post_id":74581320,"comment_id":131652096,"body_markdown":"I&#39;m more familiar with linting Typescript than Java. But linting is a process that lets you run additional checks on your code. It integrates with IDEs and you also normally build the checks into your build pipeline so the build fails if it doesn&#39;t pass your lint rules. The devs at work use SonarLint and SonarQube so that might be a place to start looking.","body":"I&#39;m more familiar with linting Typescript than Java. But linting is a process that lets you run additional checks on your code. It integrates with IDEs and you also normally build the checks into your build pipeline so the build fails if it doesn&#39;t pass your lint rules. The devs at work use SonarLint and SonarQube so that might be a place to start looking."}],"owner":{"account_id":18227520,"reputation":95,"user_id":13267018,"display_name":"Moritz Kampfinger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669457989,"creation_date":1669457989,"question_id":74581320,"body_markdown":"I was wondering if it is somehow possible to create rules that are checked at compile time when developers add new enum values to an enum.\r\n\r\n**Example**:\r\n```\r\npublic enum Execution {\r\n    TAKS_N(&quot;parallel&quot;),\r\n    TASK_A(&quot;sequential&quot;),\r\n    TASK_D(&quot;sequential&quot;)\r\n}\r\n```\r\nIs there a way to prevent a developer to add a value to this enum with the parameter `&quot;parallel&quot;` if there has already been a sequential task before?\r\n```\r\npublic enum Execution {\r\n    TAKS_N(&quot;parallel&quot;),\r\n    TASK_ALLOWED(&quot;parallel&quot;), // this is allowed\r\n    TASK_A(&quot;sequential&quot;),\r\n    TASK_D(&quot;sequential&quot;),\r\n    TASK_NOT_ALLOWED(&quot;parallel&quot;) // this is a no no\r\n}\r\n```\r\n\r\nMy current solution is, to add a comment to the enum with rules for how to add new values and create a dedicated Unit Test for validating the enum.","title":"Creating &quot;rules&quot; for adding new enum values to enum","body":"<p>I was wondering if it is somehow possible to create rules that are checked at compile time when developers add new enum values to an enum.</p>\n<p><strong>Example</strong>:</p>\n<pre><code>public enum Execution {\n    TAKS_N(&quot;parallel&quot;),\n    TASK_A(&quot;sequential&quot;),\n    TASK_D(&quot;sequential&quot;)\n}\n</code></pre>\n<p>Is there a way to prevent a developer to add a value to this enum with the parameter <code>&quot;parallel&quot;</code> if there has already been a sequential task before?</p>\n<pre><code>public enum Execution {\n    TAKS_N(&quot;parallel&quot;),\n    TASK_ALLOWED(&quot;parallel&quot;), // this is allowed\n    TASK_A(&quot;sequential&quot;),\n    TASK_D(&quot;sequential&quot;),\n    TASK_NOT_ALLOWED(&quot;parallel&quot;) // this is a no no\n}\n</code></pre>\n<p>My current solution is, to add a comment to the enum with rules for how to add new values and create a dedicated Unit Test for validating the enum.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9139,"page":853,"page_size":100}
