{"items":[{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":2804879,"reputation":658,"user_id":2412316,"accept_rate":45,"display_name":"Bastien"},"score":0,"creation_date":1444051792,"post_id":13932746,"comment_id":53724414,"body_markdown":"Did someone find any other way than System.exit(1)?","body":"Did someone find any other way than System.exit(1)?"},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1470948683,"post_id":13932746,"comment_id":65170225,"body_markdown":"@Bastien, use SpringBoot","body":"@Bastien, use SpringBoot"},{"owner":{"account_id":2804879,"reputation":658,"user_id":2412316,"accept_rate":45,"display_name":"Bastien"},"score":4,"creation_date":1471081240,"post_id":13932746,"comment_id":65218714,"body_markdown":"@Leo Irrelevant. A correct answer to the question would be an explanation of how SpringBoot manage this issue.","body":"@Leo Irrelevant. A correct answer to the question would be an explanation of how SpringBoot manage this issue."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1471298478,"post_id":13932746,"comment_id":65282214,"body_markdown":"@Bastien, I don&#39;t think a comment is a good place to elaborate on that. I mentioned springboot just to keep it short. The solution is actually the fact of having a standalone webapp using embedded web container. See my answer below.","body":"@Bastien, I don&#39;t think a comment is a good place to elaborate on that. I mentioned springboot just to keep it short. The solution is actually the fact of having a standalone webapp using embedded web container. See my answer below."},{"owner":{"account_id":2804879,"reputation":658,"user_id":2412316,"accept_rate":45,"display_name":"Bastien"},"score":0,"creation_date":1471358444,"post_id":13932746,"comment_id":65308516,"body_markdown":"@Leo I did but you are just offering a workaround, not addressing the issue at hand.","body":"@Leo I did but you are just offering a workaround, not addressing the issue at hand."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1471371350,"post_id":13932746,"comment_id":65316402,"body_markdown":"I don&#39;t think it is a workaround. From my point of view, using `System.exit()` is *the*  workaround. After all, aborting Tomcat startup shouldn&#39;t be done, unless you&#39;re writing the only app ever deployed. However, the best way to ensure it&#39;s only one app per tomcat is to have an embedded one. I just think this is the proper way to do things. Look at this article: http://www.beyondjava.net/blog/application-servers-sort-of-dead/","body":"I don&#39;t think it is a workaround. From my point of view, using <code>System.exit()</code> is <i>the</i>  workaround. After all, aborting Tomcat startup shouldn&#39;t be done, unless you&#39;re writing the only app ever deployed. However, the best way to ensure it&#39;s only one app per tomcat is to have an embedded one. I just think this is the proper way to do things. Look at this article: <a href=\"http://www.beyondjava.net/blog/application-servers-sort-of-dead/\" rel=\"nofollow noreferrer\">beyondjava.net/blog/application-servers-sort-of-dead</a>"},{"owner":{"account_id":2804879,"reputation":658,"user_id":2412316,"accept_rate":45,"display_name":"Bastien"},"score":0,"creation_date":1472810385,"post_id":13932746,"comment_id":65913091,"body_markdown":"@Leo Interesting, this makes a lot of sense if you have a stand alone app I agree. In that case, I would use an embedded server like you suggested. But still, the original issue remains even if the fix is of little use. Point is, there is no way to exit Tomcat on servlet failure, which is bothering.","body":"@Leo Interesting, this makes a lot of sense if you have a stand alone app I agree. In that case, I would use an embedded server like you suggested. But still, the original issue remains even if the fix is of little use. Point is, there is no way to exit Tomcat on servlet failure, which is bothering."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1472848956,"post_id":13932746,"comment_id":65934861,"body_markdown":"@Bastien that&#39;s right. And, in the other hand, if you have more applications on the same tomcat, then tomcat startup should not be killed because of one application. So, again, we&#39;re back to the original point.","body":"@Bastien that&#39;s right. And, in the other hand, if you have more applications on the same tomcat, then tomcat startup should not be killed because of one application. So, again, we&#39;re back to the original point."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1355834710,"creation_date":1355833123,"answer_id":13932851,"question_id":13932746,"body_markdown":"Try specifying:\n\n    -Dorg.apache.catalina.startup.EXIT_ON_INIT_FAILURE=true\n\nin your `java` runtime options, quoting [official documentation](http://tomcat.apache.org/tomcat-7.0-doc/config/systemprops.html):\n\n&gt; If true, the server will exit if an exception happens during the server initialization phase.\n&gt;\n&gt; If not specified, the default value of false will be used.\n\nUPDATE:\n\nIf you want to do this by code, will `System.exit()` work?\n\n    public class FailFastListener implements ServletContextListener {\n        \n        private static final Logger log = LoggerFactory.getLogger(FailFastListener.class);\n        \n        @Override\n        public void contextInitialized(ServletContextEvent servletContextEvent) {\n            try {\n                //initialization\n            } catch(Exception e) {\n                log.error(&quot;Sooo bad, shutting down&quot;, e);\n                System.exit(1);\n            }\n        }\n    \n        @Override\n        public void contextDestroyed(ServletContextEvent servletContextEvent) {\n        }\n    }\n\nYou can use [tag:decorator] pattern to wrap existing listeners without cluttering them. Not sure how will Tomcat react thou...","title":"How to abort Tomcat startup upon exception in ServletContextListener?","body":"<p>Try specifying:</p>\n<pre><code>-Dorg.apache.catalina.startup.EXIT_ON_INIT_FAILURE=true\n</code></pre>\n<p>in your <code>java</code> runtime options, quoting <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/systemprops.html\" rel=\"noreferrer\">official documentation</a>:</p>\n<blockquote>\n<p>If true, the server will exit if an exception happens during the server initialization phase.</p>\n<p>If not specified, the default value of false will be used.</p>\n</blockquote>\n<p>UPDATE:</p>\n<p>If you want to do this by code, will <code>System.exit()</code> work?</p>\n<pre><code>public class FailFastListener implements ServletContextListener {\n    \n    private static final Logger log = LoggerFactory.getLogger(FailFastListener.class);\n    \n    @Override\n    public void contextInitialized(ServletContextEvent servletContextEvent) {\n        try {\n            //initialization\n        } catch(Exception e) {\n            log.error(&quot;Sooo bad, shutting down&quot;, e);\n            System.exit(1);\n        }\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\n    }\n}\n</code></pre>\n<p>You can use <a href=\"/questions/tagged/decorator\" class=\"post-tag\" title=\"show questions tagged &#39;decorator&#39;\" rel=\"tag\">decorator</a> pattern to wrap existing listeners without cluttering them. Not sure how will Tomcat react thou...</p>\n"},{"tags":[],"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1701654023,"creation_date":1470948648,"answer_id":38905918,"question_id":13932746,"body_markdown":"If you want to stop Tomcat because your webapp failed to deploy, I assume you don&#39;t have other apps deployed to tomcat. In that case, why don&#39;t you build this app as a standalone webapp with embedded Tomcat/Jetty? This way, as long as your webapp does not start properly, the embedded server will shutdown too.\r\n\r\nTo me, it looks like you&#39;re focused on `ServletContextListener` to tackle a problem that is not what `ServletContextListener` is meant for. \r\n\r\nDo not use `System.exit()` because it will kill the server that might be running other deployed apps. If it&#39;s ok because you know there will never be other apps (and you don&#39;t want to), then make a standalone webapp. This bad practice is listed in CWE as a potential weakness: [CWE-382][1]\r\n\r\nJust a hint: spring boot facilitates the effort of building a standalone webapp with embedded server. See this guide: https://spring.io/guides/gs/spring-boot/\r\n\r\nGood article explaining why this is probably what you&#39;re looking for: [http://www.beyondjava.net/blog/application-servers-sort-of-dead/][2]\r\n\r\n\r\n  [1]: http://cwe.mitre.org/data/definitions/382.html &quot;CWE-382&quot;\r\n  [2]: http://www.beyondjava.net/blog/application-servers-sort-of-dead/","title":"How to abort Tomcat startup upon exception in ServletContextListener?","body":"<p>If you want to stop Tomcat because your webapp failed to deploy, I assume you don't have other apps deployed to tomcat. In that case, why don't you build this app as a standalone webapp with embedded Tomcat/Jetty? This way, as long as your webapp does not start properly, the embedded server will shutdown too.</p>\n<p>To me, it looks like you're focused on <code>ServletContextListener</code> to tackle a problem that is not what <code>ServletContextListener</code> is meant for.</p>\n<p>Do not use <code>System.exit()</code> because it will kill the server that might be running other deployed apps. If it's ok because you know there will never be other apps (and you don't want to), then make a standalone webapp. This bad practice is listed in CWE as a potential weakness: <a href=\"http://cwe.mitre.org/data/definitions/382.html\" rel=\"nofollow noreferrer\" title=\"CWE-382\">CWE-382</a></p>\n<p>Just a hint: spring boot facilitates the effort of building a standalone webapp with embedded server. See this guide: <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot/</a></p>\n<p>Good article explaining why this is probably what you're looking for: <a href=\"http://www.beyondjava.net/blog/application-servers-sort-of-dead/\" rel=\"nofollow noreferrer\">http://www.beyondjava.net/blog/application-servers-sort-of-dead/</a></p>\n"}],"owner":{"account_id":1635514,"reputation":1970,"user_id":1509129,"accept_rate":76,"display_name":"urir"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6612,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1701654023,"creation_date":1355832803,"question_id":13932746,"body_markdown":"I have a class implementing `ServletContextListener` that loads some resources upon startup.\r\n\r\nThose resources are critical to the application in a way that I would like to fail the whole startup when some bad event happens in my logic.\r\n\r\nIs there any command I can execute from inside the `ServletContextListener.contextInitialized()` method to stop and fail the whole Tomcat startup?\r\n","title":"How to abort Tomcat startup upon exception in ServletContextListener?","body":"<p>I have a class implementing <code>ServletContextListener</code> that loads some resources upon startup.</p>\n\n<p>Those resources are critical to the application in a way that I would like to fail the whole startup when some bad event happens in my logic.</p>\n\n<p>Is there any command I can execute from inside the <code>ServletContextListener.contextInitialized()</code> method to stop and fail the whole Tomcat startup?</p>\n"},{"tags":["java","tomcat","config"],"comments":[{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":0,"creation_date":1443193793,"post_id":32785135,"comment_id":53409256,"body_markdown":"how you are starting you tomcat application? if you are starting you tomcat application as a separate process then there is nothing to do with java.","body":"how you are starting you tomcat application? if you are starting you tomcat application as a separate process then there is nothing to do with java."}],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20373,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443215440,"creation_date":1443215440,"answer_id":32790715,"question_id":32785135,"body_markdown":"Tomcat will start up no matter what happens with the applications you expected to deploy. There is no feature to cause Tomcat to fail to start if your application fails to start properly.","title":"how to stop tomcat in case of configuration loading failure","body":"<p>Tomcat will start up no matter what happens with the applications you expected to deploy. There is no feature to cause Tomcat to fail to start if your application fails to start properly.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701653724,"creation_date":1443217145,"answer_id":32791023,"question_id":32785135,"body_markdown":"You certainly do not want that feature - at least other Tomcat users do not want it. A ServletContainer can host multiple web applications, and I would not use a container that would stop simply because a deployment failed.\r\n\r\nIf a deployment fails, that particular application is not started but others continue to run. It is up to you to fix the configuration problem and redeploy or manually stop the tomcat.","title":"how to stop tomcat in case of configuration loading failure","body":"<p>You certainly do not want that feature - at least other Tomcat users do not want it. A ServletContainer can host multiple web applications, and I would not use a container that would stop simply because a deployment failed.</p>\n<p>If a deployment fails, that particular application is not started but others continue to run. It is up to you to fix the configuration problem and redeploy or manually stop the tomcat.</p>\n"}],"owner":{"account_id":7011365,"reputation":1755,"user_id":5374110,"accept_rate":15,"display_name":"Med Tumy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701653724,"creation_date":1443193280,"question_id":32785135,"body_markdown":"i have this error while launching tomcat \r\nlog from catalina.out \r\n\r\n    Unable to load specified config location file:/ .... startup failed:\r\n\r\nIs there a way to make my java code cath this error and stop my tomcat ?\r\n","title":"how to stop tomcat in case of configuration loading failure","body":"<p>i have this error while launching tomcat \nlog from catalina.out </p>\n\n<pre><code>Unable to load specified config location file:/ .... startup failed:\n</code></pre>\n\n<p>Is there a way to make my java code cath this error and stop my tomcat ?</p>\n"},{"tags":["java","docker","tomcat","kubernetes","shutdown"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701653359,"creation_date":1533309171,"answer_id":51675601,"question_id":51675180,"body_markdown":"You could expose a REST API to stop the servers gracefully.\r\n\r\n1. Implement and use a javax filter that maintains in its own state the HTTP requests in progress.   \r\n\r\n2. As the stop event occurs, the current tomcat instance no longer have to serve any new client requests, so make sure that new requests cannot be redirected to this instance.\r\n\r\n3. As the stop event occurs (second thing), start a thread that waits until all requests were served.  As all responses were sent, request the tomcat instance to shutdown: [the command String shutdown may be a way][1].   \r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/config/server.html\r\n","title":"How to gracefully shutdown servelts in tomcat in docker container?","body":"<p>You could expose a REST API to stop the servers gracefully.</p>\n<ol>\n<li><p>Implement and use a javax filter that maintains in its own state the HTTP requests in progress.</p>\n</li>\n<li><p>As the stop event occurs, the current tomcat instance no longer have to serve any new client requests, so make sure that new requests cannot be redirected to this instance.</p>\n</li>\n<li><p>As the stop event occurs (second thing), start a thread that waits until all requests were served.  As all responses were sent, request the tomcat instance to shutdown: <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/server.html\" rel=\"nofollow noreferrer\">the command String shutdown may be a way</a>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1533561860,"creation_date":1533561860,"answer_id":51708716,"question_id":51675180,"body_markdown":"Now I found the answer here: https://stackoverflow.com/a/11154770/2081279\r\n\r\nIt worked for me under linux with \r\n\r\n    &lt;Context path=&quot;/myapp&quot; unloadDelay=&quot;10000&quot;/&gt; \r\n\r\nbut only with upper letter &quot;C&quot;ontext.\r\n\r\n","title":"How to gracefully shutdown servelts in tomcat in docker container?","body":"<p>Now I found the answer here: <a href=\"https://stackoverflow.com/a/11154770/2081279\">https://stackoverflow.com/a/11154770/2081279</a></p>\n\n<p>It worked for me under linux with </p>\n\n<pre><code>&lt;Context path=\"/myapp\" unloadDelay=\"10000\"/&gt; \n</code></pre>\n\n<p>but only with upper letter \"C\"ontext.</p>\n"}],"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5164,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51708716,"answer_count":2,"score":5,"last_activity_date":1701653359,"creation_date":1533307726,"question_id":51675180,"body_markdown":"What I found out so far:\r\n\r\n- A &quot;docker stop&quot; sends a SIGTERM to process ID 1 in the container. \r\n- The process ID 1 in the container is the java process running tomcat.*)\r\n- Yes, tomcat itself shuts down gracefully, but not do so the servlets.\r\n- Servlets get killed after 2 seconds, even if they are in the middle of processing a reguest(!!)\r\n\r\n*) Side note:\r\nAlthough our container entrypoint is  [ &quot;/opt/tomcat/bin/catalina.sh&quot;, &quot;run&quot; ], but\r\nin catalina.sh the java process is started via the bash buildin &quot;exec&quot; command,\r\nand therefore the java process *replaces* the shell process and hereby becomes the new process id 1. \r\n(I can verify this by exec into the running container and do a &quot;ps aux&quot; in there.)\r\nBtw, I am using tomcat 7.0.88.\r\n\r\nI found statements about tomcat doing gracefull shutdown by default (http://tomcat.10.x6.nabble.com/Graceful-Shutdown-td5020523.html - &quot;any in-progress connections will complete&quot;), but all I can see is that the SIGTERM which is sent from docker to the java process results in hardly stopping the ongoing execution of a request.\r\n\r\nI wrote a little rest servlet to test this behaviour:\r\n\r\n    import javax.ws.rs.*;\r\n    import javax.ws.rs.core.*;\r\n    import javax.ws.rs.core.Response.Status;\r\n\r\n    @Path(&quot;/&quot;)\r\n    public class SlowServerRes\r\n    {\r\n\t    @GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \t@Path(&quot;test1&quot;)\r\n    \tpublic Response test1(@QueryParam(&quot;sleep&quot;) final int sleepDurationSec)\r\n    \t{\r\n    \t\tlong received = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;+++++++++++++++++++++ received request at &quot; + received);\r\n    \t\t\r\n    \t\tfor (int i=1; i &lt;= sleepDurationSec; i++) {\t\t\t\r\n    \t\t\tSystem.out.println(&quot;  ++++ Sleeping for 1 sec (&quot;+i+&quot;)&quot;);\r\n    \t\t\ttry\t{ Thread.sleep(1000); }\r\n    \t\t\tcatch (InterruptedException e) { \r\n    \t\t\t\tSystem.out.println(&quot;   Sleep was interrupted at second &quot; + i + &quot; ... ignoring/continue sleeping.&quot;); \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tlong finished = System.currentTimeMillis();\r\n    \t\tString result = &quot;received: &quot; + received + &quot;  finished: &quot; + finished;\r\n    \t\tSystem.out.println(&quot;+++++++++++++++++++++ &quot; + result);\r\n    \t\tResponse response = Response.status(Status.OK).entity(result).build();\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nAfter intensive googling I finally came across this posting:\r\nhttp://grokbase.com/t/tomcat/users/113nayv5kx/tomcat-6-graceful-shutdown\r\n\r\nSo the grace period that is given to tomcat is NOT propagated as a grace period for the servlets.\r\nI wonder weather this makes much sense, but it looks like this is the fact.\r\nSo the only way to give servlets the possibility to properly end their ongoing requests is to change\r\nthe &quot;unloadDelay&quot; (https://tomcat.apache.org/tomcat-7.0-doc/config/context.html).\r\n\r\nHowever, I did not find the right place in the tomcat config files to define a non-default unloadDelay. In case this matters, my main concern is about jersey servlets (org.glassfish.jersey.servlet.ServletContainer).\r\n\r\nOr maybe there are other possibilities, which I don&#39;t see by now?\r\n\r\n(I added kubernetes to the tags list, because this may be of major concern especially for Kubernetes, as it relocates (docker stop-&gt;SIGTERM) containers quite often, just to keep the load balanced.) ","title":"How to gracefully shutdown servelts in tomcat in docker container?","body":"<p>What I found out so far:</p>\n<ul>\n<li>A &quot;docker stop&quot; sends a SIGTERM to process ID 1 in the container.</li>\n<li>The process ID 1 in the container is the java process running tomcat.*)</li>\n<li>Yes, tomcat itself shuts down gracefully, but not do so the servlets.</li>\n<li>Servlets get killed after 2 seconds, even if they are in the middle of processing a reguest(!!)</li>\n</ul>\n<p>*) Side note:\nAlthough our container entrypoint is  [ &quot;/opt/tomcat/bin/catalina.sh&quot;, &quot;run&quot; ], but\nin catalina.sh the java process is started via the bash buildin &quot;exec&quot; command,\nand therefore the java process <em>replaces</em> the shell process and hereby becomes the new process id 1.\n(I can verify this by exec into the running container and do a &quot;ps aux&quot; in there.)\nBtw, I am using tomcat 7.0.88.</p>\n<p>I found statements about tomcat doing gracefull shutdown by default (<a href=\"http://tomcat.10.x6.nabble.com/Graceful-Shutdown-td5020523.html\" rel=\"nofollow noreferrer\">http://tomcat.10.x6.nabble.com/Graceful-Shutdown-td5020523.html</a> - &quot;any in-progress connections will complete&quot;), but all I can see is that the SIGTERM which is sent from docker to the java process results in hardly stopping the ongoing execution of a request.</p>\n<p>I wrote a little rest servlet to test this behaviour:</p>\n<pre><code>import javax.ws.rs.*;\nimport javax.ws.rs.core.*;\nimport javax.ws.rs.core.Response.Status;\n\n@Path(&quot;/&quot;)\npublic class SlowServerRes\n{\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;test1&quot;)\n    public Response test1(@QueryParam(&quot;sleep&quot;) final int sleepDurationSec)\n    {\n        long received = System.currentTimeMillis();\n        System.out.println(&quot;+++++++++++++++++++++ received request at &quot; + received);\n        \n        for (int i=1; i &lt;= sleepDurationSec; i++) {         \n            System.out.println(&quot;  ++++ Sleeping for 1 sec (&quot;+i+&quot;)&quot;);\n            try { Thread.sleep(1000); }\n            catch (InterruptedException e) { \n                System.out.println(&quot;   Sleep was interrupted at second &quot; + i + &quot; ... ignoring/continue sleeping.&quot;); \n            }\n        }\n        \n        long finished = System.currentTimeMillis();\n        String result = &quot;received: &quot; + received + &quot;  finished: &quot; + finished;\n        System.out.println(&quot;+++++++++++++++++++++ &quot; + result);\n        Response response = Response.status(Status.OK).entity(result).build();\n        return response;\n    }\n}\n</code></pre>\n<p>After intensive googling I finally came across this posting:\n<a href=\"http://grokbase.com/t/tomcat/users/113nayv5kx/tomcat-6-graceful-shutdown\" rel=\"nofollow noreferrer\">http://grokbase.com/t/tomcat/users/113nayv5kx/tomcat-6-graceful-shutdown</a></p>\n<p>So the grace period that is given to tomcat is NOT propagated as a grace period for the servlets.\nI wonder weather this makes much sense, but it looks like this is the fact.\nSo the only way to give servlets the possibility to properly end their ongoing requests is to change\nthe &quot;unloadDelay&quot; (<a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/context.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/config/context.html</a>).</p>\n<p>However, I did not find the right place in the tomcat config files to define a non-default unloadDelay. In case this matters, my main concern is about jersey servlets (org.glassfish.jersey.servlet.ServletContainer).</p>\n<p>Or maybe there are other possibilities, which I don't see by now?</p>\n<p>(I added kubernetes to the tags list, because this may be of major concern especially for Kubernetes, as it relocates (docker stop-&gt;SIGTERM) containers quite often, just to keep the load balanced.)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1701652834,"post_id":77596766,"comment_id":136798864,"body_markdown":"Please read [Why not upload images of code on SO when asking a question](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557) and [edit] your question to include code **and** data as text, not images.","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557\">Why not upload images of code on SO when asking a question</a> and <a href=\"https://stackoverflow.com/posts/77596766/edit\">edit</a> your question to include code <b>and</b> data as text, not images."},{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1701652854,"post_id":77596766,"comment_id":136798866,"body_markdown":"And please, keep the unnecessary obscenities out of your questions.","body":"And please, keep the unnecessary obscenities out of your questions."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701657486,"post_id":77596766,"comment_id":136799174,"body_markdown":"Also ... please note that this is NOT a programming question.  Basically you are asking how to install Java so that you can run something.  It is a software installation question.  It should be asked on the SE &quot;computer user&quot; site most appropriate to your OS platform.","body":"Also ... please note that this is NOT a programming question.  Basically you are asking how to install Java so that you can run something.  It is a software installation question.  It should be asked on the SE &quot;computer user&quot; site most appropriate to your OS platform."}],"owner":{"account_id":30058408,"reputation":1,"user_id":23035123,"display_name":"Coolaydang"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701654347,"answer_count":0,"score":-3,"last_activity_date":1701652881,"creation_date":1701652644,"question_id":77596766,"body_markdown":"[Any time I run a java line it doesn&#39;t work](https://i.stack.imgur.com/TzWLN.png)\r\n\r\n\r\n\r\n[I&#39;ve tried to run a java dependent web game. I GOT NOTHING](https://i.stack.imgur.com/TBjjF.png)\r\n\r\nI&#39;ve tried uninstalling and reinstalling, but nothing works...all I get is nothing. No error message, just nothing. please someone help\r\n","title":"Java installed but when i run commands it just gives me nothing","body":"<p><a href=\"https://i.stack.imgur.com/TzWLN.png\" rel=\"nofollow noreferrer\">Any time I run a java line it doesn't work</a></p>\n<p><a href=\"https://i.stack.imgur.com/TBjjF.png\" rel=\"nofollow noreferrer\">I've tried to run a java dependent web game. I GOT NOTHING</a></p>\n<p>I've tried uninstalling and reinstalling, but nothing works...all I get is nothing. No error message, just nothing. please someone help</p>\n"},{"tags":["java","spring","transactions","spring-transactions","rollback"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1701604200,"post_id":77593865,"comment_id":136794141,"body_markdown":"The first rule about `@Transactional` - it doesnt get triggered when called from within a class and should always be called from outside (if you read about proxy pattern reasons become obvious, the proxy can&#39;t see calls made from within the object it wraps)","body":"The first rule about <code>@Transactional</code> - it doesnt get triggered when called from within a class and should always be called from outside (if you read about proxy pattern reasons become obvious, the proxy can&#39;t see calls made from within the object it wraps)"}],"answers":[{"tags":[],"owner":{"account_id":8186103,"reputation":500,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701605221,"creation_date":1701604172,"answer_id":77594140,"question_id":77593865,"body_markdown":"You can&#39;t call a method annotated `@Transactional` within the same service. You can only call it from outside the service otherwise no transaction will be created. Every spring service is a proxy and the transactions (AOP) are created on the proxy so as soon as you enter any method you are no longer in the proxy so no AOP (no transactions).\r\n\r\nNote: you can however put `@Transactional` on `methodA()` to create a transaction but the transaction will start as soon as you call it, not when it reaches `methodC`, also any transaction exception will be propagated to where you called `methodA()` not `methodC()`.\r\n\r\nFor example if you have:\r\n\r\n    @Service\r\n    public class Service1 {\r\n\r\n        @Transactional\r\n        public void method1() { ... }\r\n\r\n        public void method2() {\r\n            method1();\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class Service2 {\r\n\r\n        @Autowired\r\n        private Service1 service1;\r\n\r\n        public void method1() {\r\n            service1.method1();\r\n        }\r\n\r\n        public void method2() {\r\n            service1.method2();\r\n        }\r\n    }\r\n\r\n- Calling `service1.method2()` will **NOT** create a transaction.\r\n- Calling `service1.method1()` will create one. \r\n- Calling `service2.method2()` will **NOT** create a transaction.\r\n- Calling `service2.method1()` will create one. \r\n\r\nBecause of the way Spring handles Proxies and AOP.\r\n","title":"Why is the @Transactional annotation being ignored in this method?","body":"<p>You can't call a method annotated <code>@Transactional</code> within the same service. You can only call it from outside the service otherwise no transaction will be created. Every spring service is a proxy and the transactions (AOP) are created on the proxy so as soon as you enter any method you are no longer in the proxy so no AOP (no transactions).</p>\n<p>Note: you can however put <code>@Transactional</code> on <code>methodA()</code> to create a transaction but the transaction will start as soon as you call it, not when it reaches <code>methodC</code>, also any transaction exception will be propagated to where you called <code>methodA()</code> not <code>methodC()</code>.</p>\n<p>For example if you have:</p>\n<pre><code>@Service\npublic class Service1 {\n\n    @Transactional\n    public void method1() { ... }\n\n    public void method2() {\n        method1();\n    }\n}\n\n@Service\npublic class Service2 {\n\n    @Autowired\n    private Service1 service1;\n\n    public void method1() {\n        service1.method1();\n    }\n\n    public void method2() {\n        service1.method2();\n    }\n}\n</code></pre>\n<ul>\n<li>Calling <code>service1.method2()</code> will <strong>NOT</strong> create a transaction.</li>\n<li>Calling <code>service1.method1()</code> will create one.</li>\n<li>Calling <code>service2.method2()</code> will <strong>NOT</strong> create a transaction.</li>\n<li>Calling <code>service2.method1()</code> will create one.</li>\n</ul>\n<p>Because of the way Spring handles Proxies and AOP.</p>\n"},{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701652696,"creation_date":1701636701,"answer_id":77596132,"question_id":77593865,"body_markdown":"As the other answers and comments have pointed out, you must call this across proxy boundaries to make this work.  The same thing applies to other annotations like `@Cacheable`.\r\n\r\nThere is a little trick that you can do to make this work, and that&#39;s autowiring an instance of the Service into itself and call the method on the injected version.\r\n\r\n     @Service\r\n     // 1. Set the proxy mode to TARGET_CLASS\r\n     @Scope(proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n     public class MyService {\r\n\r\n       // 2. Autowire an instance of the service into itself\r\n       @Autowired\r\n       private MyService self;\r\n\r\n       private void methodB() {\r\n         try{\r\n           // 3. Call methodC through your injected version\r\n           self.methodC();\r\n         }catch(MyException e){\r\n           System.out.println(e);\r\n         }catch(Exception e){\r\n           System.out.println(e);\r\n         }\r\n       }\r\n     }\r\n\r\nNow, when you call methodC using the injected service, it will participate in the transaction.\r\n","title":"Why is the @Transactional annotation being ignored in this method?","body":"<p>As the other answers and comments have pointed out, you must call this across proxy boundaries to make this work.  The same thing applies to other annotations like <code>@Cacheable</code>.</p>\n<p>There is a little trick that you can do to make this work, and that's autowiring an instance of the Service into itself and call the method on the injected version.</p>\n<pre><code> @Service\n // 1. Set the proxy mode to TARGET_CLASS\n @Scope(proxyMode = ScopedProxyMode.TARGET_CLASS)\n public class MyService {\n\n   // 2. Autowire an instance of the service into itself\n   @Autowired\n   private MyService self;\n\n   private void methodB() {\n     try{\n       // 3. Call methodC through your injected version\n       self.methodC();\n     }catch(MyException e){\n       System.out.println(e);\n     }catch(Exception e){\n       System.out.println(e);\n     }\n   }\n }\n</code></pre>\n<p>Now, when you call methodC using the injected service, it will participate in the transaction.</p>\n"}],"owner":{"account_id":27735441,"reputation":11,"user_id":21173132,"display_name":"eunonek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701652696,"creation_date":1701599156,"question_id":77593865,"body_markdown":"I encountered this issue when attempting to apply the @Transactional annotation to a method (methodC()) within the same class (MyService). Despite using the annotation, the transaction does not seem to be created as expected.\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n  @Autowired\r\n  private Service1 service1;\r\n\r\n  @Autowired\r\n  private Service2 service2;\r\n\r\n\r\n  @Override\r\n  public void methodA() {\r\n    methodB();\r\n  }\r\n\r\n  private void methodB() {\r\n    try{  \r\n      methodC();\r\n    }catch(MyException e){\r\n      System.out.println(e);\r\n    }catch(Exception e){\r\n      System.out.println(e);\r\n    }\r\n  }\r\n\r\n  @Transactional\r\n  public void methodC() throws MyException, Exception{\r\n    try{\r\n      service1.someDeleteAndInserts();\r\n      service2.someDeleteAndInserts();\r\n    }catch(MyException e){\r\n      throw e;\r\n    }catch(Exception e){\r\n      throw e;\r\n    }\r\n    \r\n  }\r\n}\r\n```\r\n\r\n\r\nAs I have it now, it creates a transaction for each method individually. I want it to make only one transaction for all the methods called within that method.\r\n```\r\n@Transactional\r\n  public void methodC() throws MyException, Exception{\r\n    try{\r\n      service1.someDeleteAndInserts();\r\n      service2.someDeleteAndInserts();\r\n    }catch(MyException e){\r\n      throw e;\r\n    }catch(Exception e){\r\n      throw e;\r\n    }\r\n    \r\n  }\r\n```\r\n","title":"Why is the @Transactional annotation being ignored in this method?","body":"<p>I encountered this issue when attempting to apply the @Transactional annotation to a method (methodC()) within the same class (MyService). Despite using the annotation, the transaction does not seem to be created as expected.</p>\n<pre><code>@Service\npublic class MyService {\n\n  @Autowired\n  private Service1 service1;\n\n  @Autowired\n  private Service2 service2;\n\n\n  @Override\n  public void methodA() {\n    methodB();\n  }\n\n  private void methodB() {\n    try{  \n      methodC();\n    }catch(MyException e){\n      System.out.println(e);\n    }catch(Exception e){\n      System.out.println(e);\n    }\n  }\n\n  @Transactional\n  public void methodC() throws MyException, Exception{\n    try{\n      service1.someDeleteAndInserts();\n      service2.someDeleteAndInserts();\n    }catch(MyException e){\n      throw e;\n    }catch(Exception e){\n      throw e;\n    }\n    \n  }\n}\n</code></pre>\n<p>As I have it now, it creates a transaction for each method individually. I want it to make only one transaction for all the methods called within that method.</p>\n<pre><code>@Transactional\n  public void methodC() throws MyException, Exception{\n    try{\n      service1.someDeleteAndInserts();\n      service2.someDeleteAndInserts();\n    }catch(MyException e){\n      throw e;\n    }catch(Exception e){\n      throw e;\n    }\n    \n  }\n</code></pre>\n"},{"tags":["java","spring-boot","jwt","microservices","backend"],"answers":[{"tags":[],"owner":{"account_id":28978643,"reputation":100,"user_id":22197081,"display_name":"Rainy sidewalks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701651040,"creation_date":1701651040,"answer_id":77596721,"question_id":77596691,"body_markdown":"consider the following ;\r\n\r\nfor your order of request flow - it is generally recommended to first authenticate and authorize the request in the API Gateway before forwarding it to the intended microservice. it will ensures that only authenticated and authorized requests are processed by the microservices. and to effectively connect the two services, you can use service discovery mechanisms like Netflix Eureka or HashiCorp Consul. these tools allow services to register themselves and discover other services dynamically. You can also use load balancers to distribute the incoming requests across multiple instances of the microservices.\r\nand by implementing an API Gateway, you can centralize the authentication and authorization logic and ensure consistent security across your microservices. It also provides a single entry point for clients to interact with your microservices, simplifying the overall architecture.so the follow up list will contain ;\r\n\r\n1.Design the API Gateway: Determine the responsibilities of the API Gateway, such as authentication, authorization, rate limiting, and request routing. In your case, the API Gateway will handle authentication and authorization.\r\n\r\n2.Create a new Spring Boot app: Start by creating a new Spring Boot app that will serve as your API Gateway. This app will be responsible for receiving all incoming requests and forwarding them to the appropriate microservice.\r\n\r\n3.Configure the API Gateway: In the API Gateway app, configure the routes for each microservice. For example, you can define routes like /users that will be forwarded to the user service. You can also configure the authentication and authorization filters to validate the incoming requests using the existing security configuration from your already built app.\r\n\r\n4.Implement request forwarding: Once the request is authenticated and authorized, forward it to the intended microservice. You can use Spring&#39;s RestTemplate or WebClient to make HTTP requests to the microservices.\r\n\r\n5.Handle responses: Receive the response from the microservice and return it to the client. You can also handle any error scenarios and provide appropriate error messages.\r\n","title":"How to efficiently organize authentication &amp; authorization using JWT in a microservice Spring Boot app?","body":"<p>consider the following ;</p>\n<p>for your order of request flow - it is generally recommended to first authenticate and authorize the request in the API Gateway before forwarding it to the intended microservice. it will ensures that only authenticated and authorized requests are processed by the microservices. and to effectively connect the two services, you can use service discovery mechanisms like Netflix Eureka or HashiCorp Consul. these tools allow services to register themselves and discover other services dynamically. You can also use load balancers to distribute the incoming requests across multiple instances of the microservices.\nand by implementing an API Gateway, you can centralize the authentication and authorization logic and ensure consistent security across your microservices. It also provides a single entry point for clients to interact with your microservices, simplifying the overall architecture.so the follow up list will contain ;</p>\n<p>1.Design the API Gateway: Determine the responsibilities of the API Gateway, such as authentication, authorization, rate limiting, and request routing. In your case, the API Gateway will handle authentication and authorization.</p>\n<p>2.Create a new Spring Boot app: Start by creating a new Spring Boot app that will serve as your API Gateway. This app will be responsible for receiving all incoming requests and forwarding them to the appropriate microservice.</p>\n<p>3.Configure the API Gateway: In the API Gateway app, configure the routes for each microservice. For example, you can define routes like /users that will be forwarded to the user service. You can also configure the authentication and authorization filters to validate the incoming requests using the existing security configuration from your already built app.</p>\n<p>4.Implement request forwarding: Once the request is authenticated and authorized, forward it to the intended microservice. You can use Spring's RestTemplate or WebClient to make HTTP requests to the microservices.</p>\n<p>5.Handle responses: Receive the response from the microservice and return it to the client. You can also handle any error scenarios and provide appropriate error messages.</p>\n"}],"owner":{"account_id":29610606,"reputation":1,"user_id":22693979,"display_name":"Georgi Babov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701651040,"creation_date":1701650202,"question_id":77596691,"body_markdown":"I am still a beginner in creating Spring applications, so I need to further grasp a deeper understanding of how microservice architecture works. So far I have read some conflicting opinions, and I want to adhere to best practice.\r\n\r\nFollowing a tutorial on JWT HttpOnly cookie authorization in Spring boot, I have built a simple app that registers, logs in and logs out a user. It maps only post requests to /login /signup and /logout as a result. The Spring Security configuration in the app filters all incoming requests and populate the SecurityContext with authenticated object if the token is of a valid authenticated user.\r\n\r\nNow the problem is that I want to build a separate Spring Boot app that handles other logic so that I can follow the microservice architecture paradigm. As the already built app&#39;s security config already handles the authorization in the HTTP request itself, I want to utilize this service to automatically authorize each request before it is forwarded to the next service.\r\n\r\nI read about API Gateaways and the solution makes sense but seems too abstract to me to start building an implementation. Also I have a couple of questions: should the request first go to the intended service then to the auth service and then back to the intended one OR go to the auth service and then to the intended service? Which way is best practice? How to effectively connect the two services?\r\n\r\nAny help will be much appreciated!\r\n\r\nI have not yet tried a solution as I do not know how to proceed.","title":"How to efficiently organize authentication &amp; authorization using JWT in a microservice Spring Boot app?","body":"<p>I am still a beginner in creating Spring applications, so I need to further grasp a deeper understanding of how microservice architecture works. So far I have read some conflicting opinions, and I want to adhere to best practice.</p>\n<p>Following a tutorial on JWT HttpOnly cookie authorization in Spring boot, I have built a simple app that registers, logs in and logs out a user. It maps only post requests to /login /signup and /logout as a result. The Spring Security configuration in the app filters all incoming requests and populate the SecurityContext with authenticated object if the token is of a valid authenticated user.</p>\n<p>Now the problem is that I want to build a separate Spring Boot app that handles other logic so that I can follow the microservice architecture paradigm. As the already built app's security config already handles the authorization in the HTTP request itself, I want to utilize this service to automatically authorize each request before it is forwarded to the next service.</p>\n<p>I read about API Gateaways and the solution makes sense but seems too abstract to me to start building an implementation. Also I have a couple of questions: should the request first go to the intended service then to the auth service and then back to the intended one OR go to the auth service and then to the intended service? Which way is best practice? How to effectively connect the two services?</p>\n<p>Any help will be much appreciated!</p>\n<p>I have not yet tried a solution as I do not know how to proceed.</p>\n"},{"tags":["java","keycloak","openid-connect","keycloak-services","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":28259034,"reputation":1,"user_id":23016030,"display_name":"DEResnick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701650364,"creation_date":1701363165,"answer_id":77580248,"question_id":77273165,"body_markdown":"I&#39;m using Keycloak 22.0.5\r\n\r\nI needed to set these properties - I did this on the Keycloak start command line:\r\n```\r\n--spi-login-provider=&lt;the string returned by getId() in my factory class&gt;\r\n--spi-login-&lt;the string returned by getId() in my factory class&gt;-enabled=true\r\n```\r\nWhere my factory class extends FreeMarkerLoginFormsProviderFactory\r\n\r\nI did not use Freemarker for the string returned by `getId();` I used my own ID.\r\n\r\nI made the ID like the class name for my class that extends `FreeMarkerLoginFormsProvider`\r\n\r\nFor example, if my custom classes were named:\r\n\r\n```\r\n public class MyGoodClass extends FreeMarkerLoginFormsProvider { ... }\r\n\r\n public class MyGoodClassFactory extends FreeMarkerLoginFormsProviderFactory { ... }\r\n```\r\nI made my `getId()` method in `MyGoodClassFactory` return my-good-class:\r\n\r\n    @Override\r\n    public String getId() {\r\n        return &quot;my-good-class&quot;;\r\n    }\r\n\r\nSo then the property settings would be:\r\n\r\n```\r\n  --spi-login-provider=my-good-class\r\n\r\n  --spi-login-my-good-class-enabled=true\r\n```\r\nAlso, remember to create the file in {top level of `extension}/src/main/resources/META-INF/services/org.keycloak.forms.login.LoginFormsProviderFactory` and it should contain this one line (based on above example):\r\n```\r\norg.xgs.keycloak.forms.login.MyGoodClassFactory\r\n```\r\n\r\nHope this helps.","title":"keycloak Custom Login provider not getting invoked with version 19","body":"<p>I'm using Keycloak 22.0.5</p>\n<p>I needed to set these properties - I did this on the Keycloak start command line:</p>\n<pre><code>--spi-login-provider=&lt;the string returned by getId() in my factory class&gt;\n--spi-login-&lt;the string returned by getId() in my factory class&gt;-enabled=true\n</code></pre>\n<p>Where my factory class extends FreeMarkerLoginFormsProviderFactory</p>\n<p>I did not use Freemarker for the string returned by <code>getId();</code> I used my own ID.</p>\n<p>I made the ID like the class name for my class that extends <code>FreeMarkerLoginFormsProvider</code></p>\n<p>For example, if my custom classes were named:</p>\n<pre><code> public class MyGoodClass extends FreeMarkerLoginFormsProvider { ... }\n\n public class MyGoodClassFactory extends FreeMarkerLoginFormsProviderFactory { ... }\n</code></pre>\n<p>I made my <code>getId()</code> method in <code>MyGoodClassFactory</code> return my-good-class:</p>\n<pre><code>@Override\npublic String getId() {\n    return &quot;my-good-class&quot;;\n}\n</code></pre>\n<p>So then the property settings would be:</p>\n<pre><code>  --spi-login-provider=my-good-class\n\n  --spi-login-my-good-class-enabled=true\n</code></pre>\n<p>Also, remember to create the file in {top level of <code>extension}/src/main/resources/META-INF/services/org.keycloak.forms.login.LoginFormsProviderFactory</code> and it should contain this one line (based on above example):</p>\n<pre><code>org.xgs.keycloak.forms.login.MyGoodClassFactory\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":4638791,"reputation":619,"user_id":3759227,"display_name":"Kuldeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701650364,"creation_date":1697028148,"question_id":77273165,"body_markdown":"We were using Custom Login provider with keycloak 18 version and everything works fine.\r\n\r\nBut when we upgrade to keycloak version 19, Custom Login Provider is not getting invoked.\r\n\r\nIn the below example we can see that CustomProviderFactory create method should be invoked, it works well with keycloak 18 version, but its not working with keycloak 19 version. All the jboss deployment.xml are in place.\r\n \r\n\r\nEx\r\n```\r\npublic class CustomProviderFactory extends FreeMarkerLoginFormsProviderFactory {\r\nprivate FreeMarkerUtil freeMarker;\r\n\r\n    @Override\r\n    public LoginFormsProvider create(KeycloakSession session) {\r\n        return new CustomLoginFormsProvider(session, freeMarker);\r\n    }\r\n\r\n    @Override\r\n    public void init(Config.Scope config) {\r\n        freeMarker = new FreeMarkerUtil();\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        freeMarker = null;\r\n    }\r\n\r\n    @Override\r\n    public String getId() {\r\n        return &quot;freemarker&quot;;\r\n    }\r\n\r\n}\r\n\r\npublic class CustomLoginFormsProvider extends FreeMarkerLoginFormsProvider {\r\n\r\n   \r\n    public LoginFormsProvider(KeycloakSession session, FreeMarkerUtil freeMarker) {\r\n        super(session, freeMarker);\r\n    }\r\n\r\n    @Override\r\n    protected void createCommonAttributes(Theme theme, Locale locale, Properties messagesBundle, UriBuilder baseUriBuilder, LoginFormsPages page) {\r\n        super.createCommonAttributes(theme, locale, messagesBundle, baseUriBuilder, page);\r\n        \r\n    }\r\n\r\n}\r\n```","title":"keycloak Custom Login provider not getting invoked with version 19","body":"<p>We were using Custom Login provider with keycloak 18 version and everything works fine.</p>\n<p>But when we upgrade to keycloak version 19, Custom Login Provider is not getting invoked.</p>\n<p>In the below example we can see that CustomProviderFactory create method should be invoked, it works well with keycloak 18 version, but its not working with keycloak 19 version. All the jboss deployment.xml are in place.</p>\n<p>Ex</p>\n<pre><code>public class CustomProviderFactory extends FreeMarkerLoginFormsProviderFactory {\nprivate FreeMarkerUtil freeMarker;\n\n    @Override\n    public LoginFormsProvider create(KeycloakSession session) {\n        return new CustomLoginFormsProvider(session, freeMarker);\n    }\n\n    @Override\n    public void init(Config.Scope config) {\n        freeMarker = new FreeMarkerUtil();\n    }\n\n    @Override\n    public void close() {\n        freeMarker = null;\n    }\n\n    @Override\n    public String getId() {\n        return &quot;freemarker&quot;;\n    }\n\n}\n\npublic class CustomLoginFormsProvider extends FreeMarkerLoginFormsProvider {\n\n   \n    public LoginFormsProvider(KeycloakSession session, FreeMarkerUtil freeMarker) {\n        super(session, freeMarker);\n    }\n\n    @Override\n    protected void createCommonAttributes(Theme theme, Locale locale, Properties messagesBundle, UriBuilder baseUriBuilder, LoginFormsPages page) {\n        super.createCommonAttributes(theme, locale, messagesBundle, baseUriBuilder, page);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","arraylist","type-conversion","converters"],"comments":[{"owner":{"account_id":8532765,"reputation":518,"user_id":7782322,"display_name":"NotZack"},"score":0,"creation_date":1603240261,"post_id":64455014,"comment_id":113972890,"body_markdown":"int is not the same as Integer","body":"int is not the same as Integer"},{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":3,"creation_date":1603240706,"post_id":64455014,"comment_id":113972974,"body_markdown":"Note that `new ArrayList(` is almost automatically a bug; that&#39;s a &quot;[raw type](https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html)&quot;, and tells the compiler to ignore its knowledge of the type system. You should instead write `new ArrayList&lt;&gt;(`. That way you&#39;ll get an appropriate error at compile-time, letting you know that your types don&#39;t match, instead of a `ClassCastException` at run-time.","body":"Note that <code>new ArrayList(</code> is almost automatically a bug; that&#39;s a &quot;<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">raw type</a>&quot;, and tells the compiler to ignore its knowledge of the type system. You should instead write <code>new ArrayList&lt;&gt;(</code>. That way you&#39;ll get an appropriate error at compile-time, letting you know that your types don&#39;t match, instead of a <code>ClassCastException</code> at run-time."},{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1603240790,"post_id":64455014,"comment_id":113972994,"body_markdown":"Also -- you write that &quot;There&#39;s no compile error for&quot; your first example, but in fact *neither one* produces a compile error.","body":"Also -- you write that &quot;There&#39;s no compile error for&quot; your first example, but in fact <i>neither one</i> produces a compile error."},{"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"score":2,"creation_date":1603242050,"post_id":64455014,"comment_id":113973250,"body_markdown":"Thanks @ruakh! Good points :) I 99% agree with you. I can be wrong, but I think when the type is already defined in `List &lt;Integer&gt;`, adding `&lt;Integer&gt;` in `ArrayList&lt;Ingeger&gt;(` is not necessary and `ArrayList(` is fine (or maybe even better). Please correct me if I&#39;m wrong.","body":"Thanks @ruakh! Good points :) I 99% agree with you. I can be wrong, but I think when the type is already defined in <code>List &lt;Integer&gt;</code>, adding <code>&lt;Integer&gt;</code> in <code>ArrayList&lt;Ingeger&gt;(</code> is not necessary and <code>ArrayList(</code> is fine (or maybe even better). Please correct me if I&#39;m wrong."},{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":2,"creation_date":1603242518,"post_id":64455014,"comment_id":113973337,"body_markdown":"@NavidVafaei: As you can see from the OP&#39;s example, something like `List&lt;Integer&gt; list = new ArrayList(Arrays.asList(&quot;string&quot;))` is allowed by the compiler, even though it will raise an exception at run-time. And note that I&#39;m **not** suggesting to add `&lt;Integer&gt;`; I&#39;m **only** suggesting to add `&lt;&gt;` , as in `List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;string&quot;))`. The `&lt;&gt;` asks the compiler to deduce the type, so it&#39;s not a raw type, and the issue is detected at compile-time instead of at runtime.","body":"@NavidVafaei: As you can see from the OP&#39;s example, something like <code>List&lt;Integer&gt; list = new ArrayList(Arrays.asList(&quot;string&quot;))</code> is allowed by the compiler, even though it will raise an exception at run-time. And note that I&#39;m <b>not</b> suggesting to add <code>&lt;Integer&gt;</code>; I&#39;m <b>only</b> suggesting to add <code>&lt;&gt;</code> , as in <code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;string&quot;))</code>. The <code>&lt;&gt;</code> asks the compiler to deduce the type, so it&#39;s not a raw type, and the issue is detected at compile-time instead of at runtime."},{"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"score":0,"creation_date":1603243318,"post_id":64455014,"comment_id":113973486,"body_markdown":"The left side of `= new ArrayList(Arrays.asList(nums))` is not primitive, so I agree with adding `&lt;&gt;` in that scenario :)","body":"The left side of <code>= new ArrayList(Arrays.asList(nums))</code> is not primitive, so I agree with adding <code>&lt;&gt;</code> in that scenario :)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1603243543,"post_id":64455014,"comment_id":113973532,"body_markdown":"If you enable all compiler warnings, the compiler will tell you that using a raw type is a bad idea, for reasons which you have discovered for yourself.","body":"If you enable all compiler warnings, the compiler will tell you that using a raw type is a bad idea, for reasons which you have discovered for yourself."}],"answers":[{"tags":[],"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701648866,"creation_date":1603240488,"answer_id":64455051,"question_id":64455014,"body_markdown":"## Solution 1:\r\n\r\n\r\nIn Java 8:\r\n\r\n\r\n\tList&lt;Integer&gt; list = Arrays.stream(nums)\r\n                          .boxed()\r\n                          .collect(Collectors.toCollection(ArrayList::new));\r\n\r\nIn Java 16 and later:\r\n\r\n    List&lt;Integer&gt; list = Arrays.stream(nums).boxed().toList();\r\n\r\n\r\n\r\n**Note:** You might need to:\r\n\r\n    import java.util.stream.Collectors;\r\n\r\n\r\n\r\n## Solution 2:\r\n\r\n\r\nUse for loop:\r\n\r\n\r\n\tList&lt;Integer&gt; list = new ArrayList();\r\n\tfor(int n : nums) {\r\n\t    list.add(n);\r\n\t}\r\n\r\n\r\n## Solution 3:\r\n\r\nDeclare the original array as `Integer[]` instead of `int[]`:\r\n\r\n    Integer[] nums = {0, 1};","title":"Converting primitive array of int into ArrayList in Java: &quot;java.lang.ClassCastException: [I cannot be cast to java.lang.Integer&quot;","body":"<h2>Solution 1:</h2>\n<p>In Java 8:</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.stream(nums)\n                      .boxed()\n                      .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n<p>In Java 16 and later:</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.stream(nums).boxed().toList();\n</code></pre>\n<p><strong>Note:</strong> You might need to:</p>\n<pre><code>import java.util.stream.Collectors;\n</code></pre>\n<h2>Solution 2:</h2>\n<p>Use for loop:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList();\nfor(int n : nums) {\n    list.add(n);\n}\n</code></pre>\n<h2>Solution 3:</h2>\n<p>Declare the original array as <code>Integer[]</code> instead of <code>int[]</code>:</p>\n<pre><code>Integer[] nums = {0, 1};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603240937,"creation_date":1603240937,"answer_id":64455105,"question_id":64455014,"body_markdown":"The code `Arrays.asList(nums)` won&#39;t translate to an `ArrayList` with 2 values, viz. 1 and 2. It just has one value, `int[] { 1, 2 }`. In order to create the right `ArrayList`, you should use\r\n\r\n```List&lt;Integer&gt; list = Arrays.stream(nums).boxed().collect(Collectors.toList());```","title":"Converting primitive array of int into ArrayList in Java: &quot;java.lang.ClassCastException: [I cannot be cast to java.lang.Integer&quot;","body":"<p>The code <code>Arrays.asList(nums)</code> won't translate to an <code>ArrayList</code> with 2 values, viz. 1 and 2. It just has one value, <code>int[] { 1, 2 }</code>. In order to create the right <code>ArrayList</code>, you should use</p>\n<p><code>List&lt;Integer&gt; list = Arrays.stream(nums).boxed().collect(Collectors.toList());</code></p>\n"},{"tags":[],"owner":{"account_id":12850700,"reputation":927,"user_id":9295698,"display_name":"Kesava Karri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694808299,"creation_date":1694808299,"answer_id":77115080,"question_id":64455014,"body_markdown":"In the second snippet you were trying to assign the type `int` to `Integer` type.\r\n\r\nAutoboxing only happens for a single element (for example for one element of int to Integer).\r\n\r\nSo the `Arrays.asList()` cannot be used to convert all the elements from `int` to `Integer`.\r\n\r\nReference [link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-primitive-array-to-list#:~:text=Unfortunately%2C%20this%20won%E2%80%99t,to%20Integer%5B%5D).","title":"Converting primitive array of int into ArrayList in Java: &quot;java.lang.ClassCastException: [I cannot be cast to java.lang.Integer&quot;","body":"<p>In the second snippet you were trying to assign the type <code>int</code> to <code>Integer</code> type.</p>\n<p>Autoboxing only happens for a single element (for example for one element of int to Integer).</p>\n<p>So the <code>Arrays.asList()</code> cannot be used to convert all the elements from <code>int</code> to <code>Integer</code>.</p>\n<p>Reference [link][1]</p>\n<p>[1]: <a href=\"https://www.baeldung.com/java-primitive-array-to-list#:%7E:text=Unfortunately%2C%20this%20won%E2%80%99t,to%20Integer%5B%5D\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-primitive-array-to-list#:~:text=Unfortunately%2C%20this%20won%E2%80%99t,to%20Integer%5B%5D</a>).</p>\n"}],"owner":{"display_name":"user14488711"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":64455051,"answer_count":3,"score":1,"last_activity_date":1701648866,"creation_date":1603240103,"question_id":64455014,"body_markdown":"I&#39;m wondering how I can convert a primitive array of integers to a list of Integer?\r\n\r\nThere&#39;s no compile error for:\r\n\r\n    \tint[] nums = {0, 1};\r\n\t\tList&lt;Integer&gt; list = new ArrayList(Arrays.asList(nums));\r\n\t\tlist.get(0);\r\n\r\nBut this one:\r\n\r\n\r\n    \tint[] nums = {0, 1};\r\n\t\tList&lt;Integer&gt; list = new ArrayList(Arrays.asList(nums));\r\n\t\tint a = list.get(0);\r\n\r\n\r\nfails with:\r\n\r\n\r\n    java.lang.ClassCastException: class [I cannot be cast to class java.lang.Integer ([I and java.lang.Integer are in module java.base of loader &#39;bootstrap&#39;) \r\n\r\n","title":"Converting primitive array of int into ArrayList in Java: &quot;java.lang.ClassCastException: [I cannot be cast to java.lang.Integer&quot;","body":"<p>I'm wondering how I can convert a primitive array of integers to a list of Integer?</p>\n<p>There's no compile error for:</p>\n<pre><code>    int[] nums = {0, 1};\n    List&lt;Integer&gt; list = new ArrayList(Arrays.asList(nums));\n    list.get(0);\n</code></pre>\n<p>But this one:</p>\n<pre><code>    int[] nums = {0, 1};\n    List&lt;Integer&gt; list = new ArrayList(Arrays.asList(nums));\n    int a = list.get(0);\n</code></pre>\n<p>fails with:</p>\n<pre><code>java.lang.ClassCastException: class [I cannot be cast to class java.lang.Integer ([I and java.lang.Integer are in module java.base of loader 'bootstrap') \n</code></pre>\n"},{"tags":["java","docker","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701611191,"post_id":77593921,"comment_id":136794776,"body_markdown":"It&#39;s not working because KAFKA_ADVERTISED_HOST_NAME (which has since been deprecated). Why are you using such an old version of Kafka?","body":"It&#39;s not working because KAFKA_ADVERTISED_HOST_NAME (which has since been deprecated). Why are you using such an old version of Kafka?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701611676,"post_id":77593921,"comment_id":136794832,"body_markdown":"Also, &quot;stats&quot; isn&#39;t correct https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka  and you don&#39;t need 3 different sets of bootstrap servers for one container","body":"Also, &quot;stats&quot; isn&#39;t correct <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>  and you don&#39;t need 3 different sets of bootstrap servers for one container"},{"owner":{"account_id":11431509,"reputation":1,"user_id":8380061,"display_name":"Aditya Sinha"},"score":0,"creation_date":1701613793,"post_id":77593921,"comment_id":136795055,"body_markdown":"Had tried without KAFKA_ADVERTISED_HOST_NAME before and still it didn&#39;t worked at that time. And about kafka version , working on legacy project where version upgrade will take lot of approvals. But, I believe this error is not related to kafka version or host name. Have tried removing KAFKA_ADVERTISED_HOST_NAME but still giving same result.","body":"Had tried without KAFKA_ADVERTISED_HOST_NAME before and still it didn&#39;t worked at that time. And about kafka version , working on legacy project where version upgrade will take lot of approvals. But, I believe this error is not related to kafka version or host name. Have tried removing KAFKA_ADVERTISED_HOST_NAME but still giving same result."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701615360,"post_id":77593921,"comment_id":136795212,"body_markdown":"You can&#39;t just remove it. You need to replace it. You can see Kafka documentation on if/when `advertised.host.name` was deprecated. Also, as mentioned, your Spring config isn&#39;t correct, or you need to show your code how you&#39;re  building the AdminClient since it defaults to localhost if you didn&#39;t setup the KafkaAdmin bean https://docs.spring.io/spring-kafka/reference/kafka/configuring-topics.html","body":"You can&#39;t just remove it. You need to replace it. You can see Kafka documentation on if/when <code>advertised.host.name</code> was deprecated. Also, as mentioned, your Spring config isn&#39;t correct, or you need to show your code how you&#39;re  building the AdminClient since it defaults to localhost if you didn&#39;t setup the KafkaAdmin bean <a href=\"https://docs.spring.io/spring-kafka/reference/kafka/configuring-topics.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/kafka/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701615436,"post_id":77593921,"comment_id":136795219,"body_markdown":"Also note that the wurstmeister image doesn&#39;t exist in Dockerhub anymore. You should replace that too","body":"Also note that the wurstmeister image doesn&#39;t exist in Dockerhub anymore. You should replace that too"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701647855,"post_id":77593921,"comment_id":136798499,"body_markdown":"Sorry, I only see code for a consumer, and System.getProperty isn&#39;t how you access Spring properties","body":"Sorry, I only see code for a consumer, and System.getProperty isn&#39;t how you access Spring properties"}],"owner":{"account_id":11431509,"reputation":1,"user_id":8380061,"display_name":"Aditya Sinha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701611110,"answer_count":0,"score":0,"last_activity_date":1701647898,"creation_date":1701600406,"question_id":77593921,"body_markdown":"I have a Springboot application and I am trying to run Kafka in docker container but the Kafka consumer is failing to connect to Broker and connection to node is not established and getting disconnected.\r\n\r\nThe error is\r\n```java\r\n2023-12-03T10:05:20.340576499Z 2023-12-03 10:05:20.340  INFO 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Node -1 disconnected.\r\n2023-12-03T10:05:20.341397124Z 2023-12-03 10:05:20.341  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-12-03T10:05:20.341792207Z 2023-12-03 10:05:20.341  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2023-12-03T10:05:21.069610291Z 2023-12-03 10:05:21.069  INFO 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n2023-12-03T10:05:21.076263666Z 2023-12-03 10:05:21.076  WARN 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-12-03T10:05:21.304951874Z 2023-12-03 10:05:21.304  INFO 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Node -1 disconnected.\r\n2023-12-03T10:05:21.306403833Z 2023-12-03 10:05:21.306  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-12-03T10:05:21.307136041Z 2023-12-03 10:05:21.307  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2023-12-03T10:05:21.950644000Z 2023-12-03 10:05:21.950  INFO 1 --- [| adminclient-1] o.a.k.c.a.i.AdminMetadataManager         : [AdminClient clientId=adminclient-1] Metadata update failed\r\n2023-12-03T10:05:21.950668708Z org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: fetchMetadata\r\n```\r\n\r\nDocker-compose.yml\r\n```yml\r\nservices:\r\n    zookeeper:\r\n    container_name: zookeper\r\n    image: &#39;something/wurstmeister/zookeeper:3.4.6&#39;\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n\r\n  kafka:\r\n    container_name: kafka\r\n    image: &#39;something/wurstmeister/kafka:2.11-0.11.0.2&#39;\r\n    hostname: kafka\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n      - &quot;9094:9094&quot;\r\n    environment:\r\n      KAFKA_ADVERTISED_HOST_NAME: localhost\r\n      KAFKA_ZOOKEEPER_CONNECT: &#39;zookeeper:2181&#39;\r\n      KAFKA_CREATE_TOPICS: &quot;topic_name:1:1&quot;\r\n      KAFKA_ADVERTISED_LISTENERS: &#39;INSIDE://kafka:9092,OUTSIDE://localhost:9094&#39;\r\n      KAFKA_LISTENERS: &#39;INSIDE://:9092,OUTSIDE://:9094&#39;\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: &#39;INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXT&#39;\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: &#39;INSIDE&#39;\r\n    healthcheck:\r\n      test: [ &quot;CMD&quot;, &quot;kafka-topics.sh&quot;, &quot;--list&quot;, &quot;--zookeeper&quot;, &quot;zookeeper:2181&quot; ]\r\n      interval: 30s\r\n      timeout: 10s\r\n      retries: 4\r\n    depends_on:\r\n      - zookeeper\r\n```\r\n\r\nApplication.yml\r\n```yaml\r\nstats:\r\n  kafka:\r\n    bootstrapServers: localhost:9092        #have tried - &quot;kafka:9092&quot;   also, but didnt worked\r\n    sjcBootstrapServers: &quot;url:9092, url:9092, url:9092&quot;\r\n    iadBootstrapServers: &quot;url:9092, url:9092, url:9092&quot;\r\n    topic: {topic_name}\r\n    groupId: {groud_id}\r\n```\r\n\r\nThis is how KafkaConsumer is being constructed\r\n```java\r\npublic messageLogEventConsumer(String... topics) {\r\n        final String kafkaHost = System.getProperty(&quot;kafka.host&quot;);\r\n        final int kafkaPort = Integer.parseInt(System.getProperty(&quot;kafka.tcp.9094&quot;, &quot;9094&quot;));\r\n        final Properties props = new Properties();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, String.format(&quot;%s:%d&quot;, kafkaHost, kafkaPort));\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, LongDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\r\n        topicsSubscribed = new HashSet&lt;&gt;(Arrays.asList(topics));\r\n        topicsWithPartitionAssigned = new HashSet&lt;&gt;();\r\n\r\n        consumer = new KafkaConsumer&lt;&gt;(props);\r\n        consumer.subscribe(topicsSubscribed, this);\r\n        consumerListener = new Thread(this, &quot;Kafka-consumer&quot;);\r\n        consumerListener.start();\r\n}       \r\n```\r\nI tried referring https://rmoff.net/2018/08/02/kafka-listeners-explained/ but since I am new to docker and kafka both so, couldn&#39;t get through the solution. Is there anything I am missing?","title":"Kafka and Docker - Failing to connect to Kafka Consumer","body":"<p>I have a Springboot application and I am trying to run Kafka in docker container but the Kafka consumer is failing to connect to Broker and connection to node is not established and getting disconnected.</p>\n<p>The error is</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-12-03T10:05:20.340576499Z 2023-12-03 10:05:20.340  INFO 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Node -1 disconnected.\n2023-12-03T10:05:20.341397124Z 2023-12-03 10:05:20.341  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-12-03T10:05:20.341792207Z 2023-12-03 10:05:20.341  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-12-03T10:05:21.069610291Z 2023-12-03 10:05:21.069  INFO 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\n2023-12-03T10:05:21.076263666Z 2023-12-03 10:05:21.076  WARN 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-12-03T10:05:21.304951874Z 2023-12-03 10:05:21.304  INFO 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Node -1 disconnected.\n2023-12-03T10:05:21.306403833Z 2023-12-03 10:05:21.306  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-12-03T10:05:21.307136041Z 2023-12-03 10:05:21.307  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-12-03T10:05:21.950644000Z 2023-12-03 10:05:21.950  INFO 1 --- [| adminclient-1] o.a.k.c.a.i.AdminMetadataManager         : [AdminClient clientId=adminclient-1] Metadata update failed\n2023-12-03T10:05:21.950668708Z org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: fetchMetadata\n</code></pre>\n<p>Docker-compose.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>services:\n    zookeeper:\n    container_name: zookeper\n    image: 'something/wurstmeister/zookeeper:3.4.6'\n    ports:\n      - &quot;2181:2181&quot;\n\n  kafka:\n    container_name: kafka\n    image: 'something/wurstmeister/kafka:2.11-0.11.0.2'\n    hostname: kafka\n    ports:\n      - &quot;9092:9092&quot;\n      - &quot;9094:9094&quot;\n    environment:\n      KAFKA_ADVERTISED_HOST_NAME: localhost\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n      KAFKA_CREATE_TOPICS: &quot;topic_name:1:1&quot;\n      KAFKA_ADVERTISED_LISTENERS: 'INSIDE://kafka:9092,OUTSIDE://localhost:9094'\n      KAFKA_LISTENERS: 'INSIDE://:9092,OUTSIDE://:9094'\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: 'INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXT'\n      KAFKA_INTER_BROKER_LISTENER_NAME: 'INSIDE'\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;kafka-topics.sh&quot;, &quot;--list&quot;, &quot;--zookeeper&quot;, &quot;zookeeper:2181&quot; ]\n      interval: 30s\n      timeout: 10s\n      retries: 4\n    depends_on:\n      - zookeeper\n</code></pre>\n<p>Application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>stats:\n  kafka:\n    bootstrapServers: localhost:9092        #have tried - &quot;kafka:9092&quot;   also, but didnt worked\n    sjcBootstrapServers: &quot;url:9092, url:9092, url:9092&quot;\n    iadBootstrapServers: &quot;url:9092, url:9092, url:9092&quot;\n    topic: {topic_name}\n    groupId: {groud_id}\n</code></pre>\n<p>This is how KafkaConsumer is being constructed</p>\n<pre class=\"lang-java prettyprint-override\"><code>public messageLogEventConsumer(String... topics) {\n        final String kafkaHost = System.getProperty(&quot;kafka.host&quot;);\n        final int kafkaPort = Integer.parseInt(System.getProperty(&quot;kafka.tcp.9094&quot;, &quot;9094&quot;));\n        final Properties props = new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, String.format(&quot;%s:%d&quot;, kafkaHost, kafkaPort));\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, LongDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n\n        topicsSubscribed = new HashSet&lt;&gt;(Arrays.asList(topics));\n        topicsWithPartitionAssigned = new HashSet&lt;&gt;();\n\n        consumer = new KafkaConsumer&lt;&gt;(props);\n        consumer.subscribe(topicsSubscribed, this);\n        consumerListener = new Thread(this, &quot;Kafka-consumer&quot;);\n        consumerListener.start();\n}       \n</code></pre>\n<p>I tried referring <a href=\"https://rmoff.net/2018/08/02/kafka-listeners-explained/\" rel=\"nofollow noreferrer\">https://rmoff.net/2018/08/02/kafka-listeners-explained/</a> but since I am new to docker and kafka both so, couldn't get through the solution. Is there anything I am missing?</p>\n"},{"tags":["java","annotations","lombok"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701630195,"post_id":77595730,"comment_id":136796917,"body_markdown":"Annotations are not necessarily desingend to manipulate existing types, so expect some pushback when trying to do this. If I remember correctly, lombok gets the [AST (`en.wikiepadia.org`)](https://en.wikipedia.org/wiki/Abstract_syntax_tree) and manipulates the nodes in the tree before the tree is actually compiled. Maybe @rzwitserloot comes along and shares some insights.","body":"Annotations are not necessarily desingend to manipulate existing types, so expect some pushback when trying to do this. If I remember correctly, lombok gets the <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">AST (<code>en.wikiepadia.org</code>)</a> and manipulates the nodes in the tree before the tree is actually compiled. Maybe @rzwitserloot comes along and shares some insights."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701634867,"creation_date":1701634867,"answer_id":77596040,"question_id":77595730,"body_markdown":"Annotation Processors cannot (directly) do this; the &#39;spec&#39; of annotation processors restricts you to making entirely new types, you can&#39;t edit existing ones.\r\n\r\n## So what&#39;s lombok then?\r\n\r\nLombok is a compiler plugin that transforms syntactically valid (but semantically probably invalid) ASTs. It isn&#39;t an annotation processor. However, it can plug into the compiler in a number of ways, and one of those is via the route of being initialized as an annotation processor.\r\n\r\nYou can of course _also_ do so - in which case, forking lombok is the right way to go, it&#39;s a complicated proposition and requires custom work for every tool you want to support (which in practice isn&#39;t nearly as dire as it sounds, as most tools simply use vanilla `javac`, so all you need to do is tell the tool to ensure lombok is plugged in). Still, lombok&#39;s got quite a bit of work on it, and the vast majority of it, is &#39;infrastructure&#39; - ensuring that plugging in is possible and works appropriately.\r\n\r\n## Are there alternatives?\r\n\r\nThe usual trick done with Annotation Processors (APs) that follow the actual annotation processor APIs is to treat java code as a &#39;template&#39;, and have the entirely-generated-from-scratch source file (generated by the AP) to be the &#39;real&#39; type used everywhere else. This is, for example, how auto-value works.\r\n\r\nThe downside of this is that you __require__ a complete build before any edit you make that would cause the generated content to be different, to actually show. In contrast to lombok where you don&#39;t even have to save the file, you edit something (say, change the name of a field annotated with `@Getter`) and the name of the lombok-generated getter method changes along _instantaneously_. Waiting around for the build isn&#39;t something anybody wants to do. Well, almost nobody:\r\n\r\n[![Yay, compiling!][1]][1]\r\n\r\nIf you&#39;re willing to accept that severe penalty, then it looks something like this:\r\n\r\n```\r\n// You actually write this class out manually:\r\n\r\n@AddDoohickeys\r\nclass FooTemplate {\r\n  public void addedByProgrammer() { ... }\r\n}\r\n```\r\n\r\nand during compilation the AP sees that and makes this:\r\n\r\n```\r\n// Generated entirely by AP\r\npublic class Foo extends FooTemplate {\r\n  public void addedByAP() { .. }\r\n}\r\n```\r\n\r\nAnd all other code just uses `Foo`, and can use both `addedByAP()` as well as `addedByProgrammer()` equally. There are a few related takes on the idea (For example, the template can contain `static void addedByProgrammer(Foo x) { ... }`, and the AP generates the `Foo` class not with `extends FooTemplate`, instead adding a wrapper method, e.g. `public void addedByProgrammer() { FooTemplate.addedByProgrammer(this); }` - this avoids having to extend a class whose access rights make it otherwise invisible, if you find that sort of thing ugly.\r\n\r\n  [1]: https://i.stack.imgur.com/tWSTL.png\r\n\r\n## So, no, I don&#39;t want that, back to lombok\r\n\r\nLombok is already very complicated, and you run into a serious problem I call the chicken-and-egg problem.\r\n\r\nFor your compiler plugin to run, you really don&#39;t want to go off of &#39;sack of chars&#39; style raw source files. It is incredibly difficult to reason about raw source code, you need to parse it into something more workable such as a tree structure. One can parse any source file into a so-called AST (Abstract Syntax Tree), but this isn&#39;t as workable as you might think. For example, this:\r\n\r\n```\r\npublic void foo(java.lang.String args) {\r\n  c.a.v = 10;\r\n}\r\n```\r\n\r\nHas an interesting thing in it. What is that `c.a.v`? __With the full context, e.g. the classpath and the like__, you can draw some _wildly_ different conclusions:\r\n\r\n* `c` is a package, `a` is a class, and `v` is a `public static` non-final `int` field; this statement updates that field.\r\n* `c` is the name of a `protected` field from a supertype, `a` is a visible field in whatever the type of `c` was, and `v` is field in that.\r\n* `c` is a class name of a class in the same package as this code. `a` is a class name that is a nested class inside `c`, and `v` is a public static variable in _that_.\r\n\r\nThe thing is, without that context, __it is not possible to know which one__ because unfortunately java does not have rules about this. Some languages decree that classes __must__ start with a capital letter, variables __must__ start with an underscore, and package names __must__ start with a lowercase letter - with such systems you can know what&#39;s happening without the context of a class path. Not so with java.\r\n\r\nSo, in AST form, that is available in the tree as &#39;select field &#39;v&#39; on node X&#39; where X is &#39;select field &#39;a&#39; on node Y&#39; where Y is &#39;identity &#39;c&#39;&#39;.\r\n\r\nYou can&#39;t ask an AST: Hey, so, what type is &#39;v&#39; then? You can&#39;t ask it: &quot;Please list all members of whatever &#39;c&#39; is&quot; - that might not even make sense (if &#39;c&#39; is a package, that&#39;s a weird question to ask).\r\n\r\nSo, ASTs aren&#39;t all that nice either, which gets us to LSTs. In an LST, &#39;c.a.v&#39; is properly attributes, with every part of that typed; once you have an LST, that LST represents, for example: &quot;Write to field &#39;v&#39; of nested class &#39;a&#39; (which is of type `com.foo.c$a`), which is in outer class &#39;c&#39;, which is in package `com.foo` - the same package this code is in.\r\n\r\nLSTs are by far the most convenient and what you tend to think about when writing java code.\r\n\r\n__However__, once you have arrived at an LST __you can no longer add stuff__. After all, if you add a method _now_ that can _completely_ change the meaning of code to a fairly thorough degree. Simply adding a method can change an expression&#39;s meaning entirely: What used to look like `foo(x)` _still_ looks like `foo(x)` but before, it was a reference to a static method in your parent type that returned a `String`, and now all of a sudden it is a reference to an instance method in your own type that returns an `int`, and if that expression is itself passed as arg to another method, that can therefore completely change which method _that_ is &#39;bound&#39; to.\r\n\r\nSo, if you want to add a method but want an LST around to know what to do, you can do that, but.. you have to then invalidate the whole thing and tell the compiler to start over again. It can keep the AST (but, if you&#39;ve added stuff by writing out java code, that needs to be parsed. If you add directly to the AST you can skip the expensive step of &#39;turn this sack of characters into an AST&#39;, but java does not have a unified AST so you&#39;re now going to have to write code to do the job of editing the AST at the very least for javac, which is non-standard API that breakingly changes all the time, as well as ecj, and that covers most but not all uses out there in the wild.\r\n\r\nAnnotation Processing suffers from the same problem and introduces the convoluted &#39;rounds&#39; concept to try to deal with this.\r\n\r\nLombok &#39;deals&#39; with it __by avoiding it almost entirely__ - the vast majority of lombok features are written based on ASTs, not LSTs. That&#39;s why lombok doesn&#39;t have a feature to, for example, &#39;add a constructor that is just a wrapper around some constructor of the parent type, passing all params through&#39;. Because doing that requires knowing the contents of a parent type, and that&#39;s LST territory.\r\n\r\nSo, you _can_ do this, but it is incredibly complicated.\r\n\r\n## Some context\r\n\r\nIn case it wasn&#39;t obvious, I&#39;m one of the core authors of Project Lombok.\r\n","title":"How can I add methods to a Java class at compile time using annotations or similar techniques, similar to Lombok?","body":"<p>Annotation Processors cannot (directly) do this; the 'spec' of annotation processors restricts you to making entirely new types, you can't edit existing ones.</p>\n<h2>So what's lombok then?</h2>\n<p>Lombok is a compiler plugin that transforms syntactically valid (but semantically probably invalid) ASTs. It isn't an annotation processor. However, it can plug into the compiler in a number of ways, and one of those is via the route of being initialized as an annotation processor.</p>\n<p>You can of course <em>also</em> do so - in which case, forking lombok is the right way to go, it's a complicated proposition and requires custom work for every tool you want to support (which in practice isn't nearly as dire as it sounds, as most tools simply use vanilla <code>javac</code>, so all you need to do is tell the tool to ensure lombok is plugged in). Still, lombok's got quite a bit of work on it, and the vast majority of it, is 'infrastructure' - ensuring that plugging in is possible and works appropriately.</p>\n<h2>Are there alternatives?</h2>\n<p>The usual trick done with Annotation Processors (APs) that follow the actual annotation processor APIs is to treat java code as a 'template', and have the entirely-generated-from-scratch source file (generated by the AP) to be the 'real' type used everywhere else. This is, for example, how auto-value works.</p>\n<p>The downside of this is that you <strong>require</strong> a complete build before any edit you make that would cause the generated content to be different, to actually show. In contrast to lombok where you don't even have to save the file, you edit something (say, change the name of a field annotated with <code>@Getter</code>) and the name of the lombok-generated getter method changes along <em>instantaneously</em>. Waiting around for the build isn't something anybody wants to do. Well, almost nobody:</p>\n<p><a href=\"https://i.stack.imgur.com/tWSTL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tWSTL.png\" alt=\"Yay, compiling!\" /></a></p>\n<p>If you're willing to accept that severe penalty, then it looks something like this:</p>\n<pre><code>// You actually write this class out manually:\n\n@AddDoohickeys\nclass FooTemplate {\n  public void addedByProgrammer() { ... }\n}\n</code></pre>\n<p>and during compilation the AP sees that and makes this:</p>\n<pre><code>// Generated entirely by AP\npublic class Foo extends FooTemplate {\n  public void addedByAP() { .. }\n}\n</code></pre>\n<p>And all other code just uses <code>Foo</code>, and can use both <code>addedByAP()</code> as well as <code>addedByProgrammer()</code> equally. There are a few related takes on the idea (For example, the template can contain <code>static void addedByProgrammer(Foo x) { ... }</code>, and the AP generates the <code>Foo</code> class not with <code>extends FooTemplate</code>, instead adding a wrapper method, e.g. <code>public void addedByProgrammer() { FooTemplate.addedByProgrammer(this); }</code> - this avoids having to extend a class whose access rights make it otherwise invisible, if you find that sort of thing ugly.</p>\n<h2>So, no, I don't want that, back to lombok</h2>\n<p>Lombok is already very complicated, and you run into a serious problem I call the chicken-and-egg problem.</p>\n<p>For your compiler plugin to run, you really don't want to go off of 'sack of chars' style raw source files. It is incredibly difficult to reason about raw source code, you need to parse it into something more workable such as a tree structure. One can parse any source file into a so-called AST (Abstract Syntax Tree), but this isn't as workable as you might think. For example, this:</p>\n<pre><code>public void foo(java.lang.String args) {\n  c.a.v = 10;\n}\n</code></pre>\n<p>Has an interesting thing in it. What is that <code>c.a.v</code>? <strong>With the full context, e.g. the classpath and the like</strong>, you can draw some <em>wildly</em> different conclusions:</p>\n<ul>\n<li><code>c</code> is a package, <code>a</code> is a class, and <code>v</code> is a <code>public static</code> non-final <code>int</code> field; this statement updates that field.</li>\n<li><code>c</code> is the name of a <code>protected</code> field from a supertype, <code>a</code> is a visible field in whatever the type of <code>c</code> was, and <code>v</code> is field in that.</li>\n<li><code>c</code> is a class name of a class in the same package as this code. <code>a</code> is a class name that is a nested class inside <code>c</code>, and <code>v</code> is a public static variable in <em>that</em>.</li>\n</ul>\n<p>The thing is, without that context, <strong>it is not possible to know which one</strong> because unfortunately java does not have rules about this. Some languages decree that classes <strong>must</strong> start with a capital letter, variables <strong>must</strong> start with an underscore, and package names <strong>must</strong> start with a lowercase letter - with such systems you can know what's happening without the context of a class path. Not so with java.</p>\n<p>So, in AST form, that is available in the tree as 'select field 'v' on node X' where X is 'select field 'a' on node Y' where Y is 'identity 'c''.</p>\n<p>You can't ask an AST: Hey, so, what type is 'v' then? You can't ask it: &quot;Please list all members of whatever 'c' is&quot; - that might not even make sense (if 'c' is a package, that's a weird question to ask).</p>\n<p>So, ASTs aren't all that nice either, which gets us to LSTs. In an LST, 'c.a.v' is properly attributes, with every part of that typed; once you have an LST, that LST represents, for example: &quot;Write to field 'v' of nested class 'a' (which is of type <code>com.foo.c$a</code>), which is in outer class 'c', which is in package <code>com.foo</code> - the same package this code is in.</p>\n<p>LSTs are by far the most convenient and what you tend to think about when writing java code.</p>\n<p><strong>However</strong>, once you have arrived at an LST <strong>you can no longer add stuff</strong>. After all, if you add a method <em>now</em> that can <em>completely</em> change the meaning of code to a fairly thorough degree. Simply adding a method can change an expression's meaning entirely: What used to look like <code>foo(x)</code> <em>still</em> looks like <code>foo(x)</code> but before, it was a reference to a static method in your parent type that returned a <code>String</code>, and now all of a sudden it is a reference to an instance method in your own type that returns an <code>int</code>, and if that expression is itself passed as arg to another method, that can therefore completely change which method <em>that</em> is 'bound' to.</p>\n<p>So, if you want to add a method but want an LST around to know what to do, you can do that, but.. you have to then invalidate the whole thing and tell the compiler to start over again. It can keep the AST (but, if you've added stuff by writing out java code, that needs to be parsed. If you add directly to the AST you can skip the expensive step of 'turn this sack of characters into an AST', but java does not have a unified AST so you're now going to have to write code to do the job of editing the AST at the very least for javac, which is non-standard API that breakingly changes all the time, as well as ecj, and that covers most but not all uses out there in the wild.</p>\n<p>Annotation Processing suffers from the same problem and introduces the convoluted 'rounds' concept to try to deal with this.</p>\n<p>Lombok 'deals' with it <strong>by avoiding it almost entirely</strong> - the vast majority of lombok features are written based on ASTs, not LSTs. That's why lombok doesn't have a feature to, for example, 'add a constructor that is just a wrapper around some constructor of the parent type, passing all params through'. Because doing that requires knowing the contents of a parent type, and that's LST territory.</p>\n<p>So, you <em>can</em> do this, but it is incredibly complicated.</p>\n<h2>Some context</h2>\n<p>In case it wasn't obvious, I'm one of the core authors of Project Lombok.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701647682,"creation_date":1701647682,"answer_id":77596596,"question_id":77595730,"body_markdown":"If you really want to modify already compiled Java code you will have to touch byte code. The Apache Commons library [BCEL][1] can help you there.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-bcel/","title":"How can I add methods to a Java class at compile time using annotations or similar techniques, similar to Lombok?","body":"<p>If you really want to modify already compiled Java code you will have to touch byte code. The Apache Commons library <a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">BCEL</a> can help you there.</p>\n"}],"owner":{"account_id":28984971,"reputation":11,"user_id":22201960,"display_name":"saba artkmeladze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1701647682,"creation_date":1701629568,"question_id":77595730,"body_markdown":"I&#39;m looking for a solution to dynamically add methods to a Java class during compile time, similar to how Lombok operates with annotations. Specifically, I want to automate method generation based on custom annotations, such as creating getter methods for fields annotated with a custom annotation. My goal is to explore methods beyond Lombok and understand the best practices and tools available for achieving this during the compilation process. If anyone has insights or code examples for adding methods to a class at compile time, especially using annotations, I would appreciate their guidance.\r\n\r\n\r\nI&#39;ve explored Lombok and other annotation processors to understand how they dynamically add methods during compilation. While Lombok provides a solution for common scenarios, I&#39;m interested in a more customized approach based on specific annotations. My expectation is to discover alternative techniques or tools that enable the dynamic addition of methods to a Java class at compile time, particularly in response to custom annotations. However, I haven&#39;t found a satisfactory solution yet, prompting me to seek insights, examples, or recommendations from the community.","title":"How can I add methods to a Java class at compile time using annotations or similar techniques, similar to Lombok?","body":"<p>I'm looking for a solution to dynamically add methods to a Java class during compile time, similar to how Lombok operates with annotations. Specifically, I want to automate method generation based on custom annotations, such as creating getter methods for fields annotated with a custom annotation. My goal is to explore methods beyond Lombok and understand the best practices and tools available for achieving this during the compilation process. If anyone has insights or code examples for adding methods to a class at compile time, especially using annotations, I would appreciate their guidance.</p>\n<p>I've explored Lombok and other annotation processors to understand how they dynamically add methods during compilation. While Lombok provides a solution for common scenarios, I'm interested in a more customized approach based on specific annotations. My expectation is to discover alternative techniques or tools that enable the dynamic addition of methods to a Java class at compile time, particularly in response to custom annotations. However, I haven't found a satisfactory solution yet, prompting me to seek insights, examples, or recommendations from the community.</p>\n"},{"tags":["java","maven","xsd","protocol-buffers"],"comments":[{"owner":{"account_id":1462390,"reputation":759,"user_id":1376318,"display_name":"mamift"},"score":0,"creation_date":1701649734,"post_id":77596555,"comment_id":136798609,"body_markdown":"schema2proto has a maven plugin. Have you tried following the instructions? https://github.com/entur/schema2proto/blob/develop/schema2proto-maven-plugin/README.md","body":"schema2proto has a maven plugin. Have you tried following the instructions? <a href=\"https://github.com/entur/schema2proto/blob/develop/schema2proto-maven-plugin/README.md\" rel=\"nofollow noreferrer\">github.com/entur/schema2proto/blob/develop/&hellip;</a>"}],"owner":{"account_id":30058061,"reputation":1,"user_id":23034874,"display_name":"Coleslaw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701729105,"answer_count":0,"score":-1,"last_activity_date":1701646601,"creation_date":1701646601,"question_id":77596555,"body_markdown":"I am currently using XSD files in my project and would like to convert them to Protocol Buffers. The ultimate objective is to integrate this conversion process into a Maven plugin, with the intention of making modifications later on. Are there any guidance or modifications needed for achieving this in Java?\r\n\r\nI have found https://github.com/tranchis/xsd2thrift and https://github.com/entur/schema2proto but couldn&#39;t make them work. If i could make them work it would be okay too. Is there anyone that can help me?","title":"Converting XSD files to Proto with Java","body":"<p>I am currently using XSD files in my project and would like to convert them to Protocol Buffers. The ultimate objective is to integrate this conversion process into a Maven plugin, with the intention of making modifications later on. Are there any guidance or modifications needed for achieving this in Java?</p>\n<p>I have found <a href=\"https://github.com/tranchis/xsd2thrift\" rel=\"nofollow noreferrer\">https://github.com/tranchis/xsd2thrift</a> and <a href=\"https://github.com/entur/schema2proto\" rel=\"nofollow noreferrer\">https://github.com/entur/schema2proto</a> but couldn't make them work. If i could make them work it would be okay too. Is there anyone that can help me?</p>\n"},{"tags":["java","firebase-authentication","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":30055917,"reputation":1,"user_id":23033290,"display_name":"Bhanu Pratap Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701620377,"creation_date":1701620377,"answer_id":77595120,"question_id":77595112,"body_markdown":"if you are using firebase Authentication in your web app then you also need to give the user account delete option as per the user&#39;s need. We can simply do it in firebase by just simply calling the firebase delete method\r\nhope this helps","title":"Firebase auth not logging out completely","body":"<p>if you are using firebase Authentication in your web app then you also need to give the user account delete option as per the user's need. We can simply do it in firebase by just simply calling the firebase delete method\nhope this helps</p>\n"}],"owner":{"account_id":27688296,"reputation":13,"user_id":21135581,"display_name":"ohshit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701646607,"answer_count":1,"score":0,"last_activity_date":1701646505,"creation_date":1701620223,"question_id":77595112,"body_markdown":"How to logout a user so that the next login lets him chose an account? It&#39;s like there is still some metadata stored somewhere because it always relogs into the last successfully logged in account. \r\n\r\nI found the exact problem described in this thread but for JavaScript: **https://stackoverflow.com/questions/49860938/firebase-logout-not-working**  \r\n\r\nHow can I implement the solution:\r\n\r\n    var provider = new firebase.auth.GoogleAuthProvider(); \r\n    provider.setCustomParameters({ prompt: &#39;select_account&#39; });\r\n\r\nin Java? Because as far as I understood, the JavaScript API is different from Java and I cannot directly create a GoogleAuthProvider() object. ","title":"Firebase auth not logging out completely","body":"<p>How to logout a user so that the next login lets him chose an account? It's like there is still some metadata stored somewhere because it always relogs into the last successfully logged in account.</p>\n<p>I found the exact problem described in this thread but for JavaScript: <strong><a href=\"https://stackoverflow.com/questions/49860938/firebase-logout-not-working\">Firebase logout not working</a></strong></p>\n<p>How can I implement the solution:</p>\n<pre><code>var provider = new firebase.auth.GoogleAuthProvider(); \nprovider.setCustomParameters({ prompt: 'select_account' });\n</code></pre>\n<p>in Java? Because as far as I understood, the JavaScript API is different from Java and I cannot directly create a GoogleAuthProvider() object.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701646023,"post_id":77596526,"comment_id":136798379,"body_markdown":"This is a common question here. Have you [searched](https://stackoverflow.com/search?q=%5Bjava%5D+arrayindexoutofboundsexception) to see if any of the other answers help? What about this one [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"This is a common question here. Have you <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+arrayindexoutofboundsexception\">searched</a> to see if any of the other answers help? What about this one <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701646030,"post_id":77596526,"comment_id":136798381,"body_markdown":"don&#39;t try to get the value of position that doesn&#39;t exist like -1. Why are you even trying to do that?","body":"don&#39;t try to get the value of position that doesn&#39;t exist like -1. Why are you even trying to do that?"},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":0,"creation_date":1701646107,"post_id":77596526,"comment_id":136798386,"body_markdown":"How am I trying to get -1 in my code?","body":"How am I trying to get -1 in my code?"},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":0,"creation_date":1701646287,"post_id":77596526,"comment_id":136798399,"body_markdown":"@OldDogProgrammer yeah but this is a very simple example, how can I adapt it in my code","body":"@OldDogProgrammer yeah but this is a very simple example, how can I adapt it in my code"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701646306,"post_id":77596526,"comment_id":136798401,"body_markdown":"By the way, questions of this type should have an *exact* copy of the error message, preferably with the stack trace that follows. Use text copy-and-paste to ensure accuracy.   The stack trace will point to a line in your source file. If you are not familiar with using a stack trace, I suggest looking at https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"By the way, questions of this type should have an <i>exact</i> copy of the error message, preferably with the stack trace that follows. Use text copy-and-paste to ensure accuracy.   The stack trace will point to a line in your source file. If you are not familiar with using a stack trace, I suggest looking at <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":1,"creation_date":1701646469,"post_id":77596526,"comment_id":136798409,"body_markdown":"@OldDogProgrammer I&#39;ve shared my stack trace","body":"@OldDogProgrammer I&#39;ve shared my stack trace"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701646809,"post_id":77596526,"comment_id":136798428,"body_markdown":"Your debug image seems to show `position` has a value of `-1`, so the `rowsDto.get(position)` part of `countDay = rowsDto.get(position).getDateCY().until(rowsDto.get(position + 1).getDateCY(), ChronoUnit.DAYS);` will fail.","body":"Your debug image seems to show <code>position</code> has a value of <code>-1</code>, so the <code>rowsDto.get(position)</code> part of <code>countDay = rowsDto.get(position).getDateCY().until(rowsDto.get(position + 1).getDateCY(), ChronoUnit.DAYS);</code> will fail."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1701646881,"post_id":77596526,"comment_id":136798431,"body_markdown":"These types of questions almost always devolve into &quot;how do I debug my program and how do I use a debugger&quot;, and that is the overall solution that you really do need to learn moving forward. Please check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/) as well as the [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) links as they will help.","body":"These types of questions almost always devolve into &quot;how do I debug my program and how do I use a debugger&quot;, and that is the overall solution that you really do need to learn moving forward. Please check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a> as well as the <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a> links as they will help."},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":0,"creation_date":1701646999,"post_id":77596526,"comment_id":136798440,"body_markdown":"I know how debug my program, I&#39;ve shared an image and I said that from my debug results that position is -1, that&#39;s why I receive this exception, now, how can I avoid this?","body":"I know how debug my program, I&#39;ve shared an image and I said that from my debug results that position is -1, that&#39;s why I receive this exception, now, how can I avoid this?"},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":0,"creation_date":1701647027,"post_id":77596526,"comment_id":136798443,"body_markdown":"@OldDogProgrammer and how can I avoid this?","body":"@OldDogProgrammer and how can I avoid this?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701647663,"post_id":77596526,"comment_id":136798485,"body_markdown":"I can&#39;t tell you that. I don&#39;t know your program well enough. All I can say is don&#39;t call an `List#get(int index)` method with an index value out of range, such as `-1` .  You could expand the `if`: `if(rowsDto.size()&gt;position+1 &amp;&amp; position &gt;= 0)`, but I don&#39;t know if that is appropriate or not.","body":"I can&#39;t tell you that. I don&#39;t know your program well enough. All I can say is don&#39;t call an <code>List#get(int index)</code> method with an index value out of range, such as <code>-1</code> .  You could expand the <code>if</code>: <code>if(rowsDto.size()&gt;position+1 &amp;&amp; position &gt;= 0)</code>, but I don&#39;t know if that is appropriate or not."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1701651220,"post_id":77596526,"comment_id":136798722,"body_markdown":"What happens when you set a break point at just before the line causing the exception to be thrown? What information does that give you?","body":"What happens when you set a break point at just before the line causing the exception to be thrown? What information does that give you?"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701710322,"post_id":77596526,"comment_id":136806834,"body_markdown":".............. well? Again, what did you find when you placed a break point just before the line of code that throws the exception? This information would be helpful if we are to try to help solve the issue.","body":".............. well? Again, what did you find when you placed a break point just before the line of code that throws the exception? This information would be helpful if we are to try to help solve the issue."}],"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701646821,"answer_count":0,"score":-1,"last_activity_date":1701646448,"creation_date":1701645524,"question_id":77596526,"body_markdown":"I&#39;m making a java application using java 8, when I try to set position I get -1 as value, so I receive the ArrayIndexOutOfBoundsException.\r\nhere is my code\r\n\r\n```\r\n    List&lt;TopSellersRowDto&gt; rowsDto = wrapper.getRows().stream().collect(Collectors.toList());\r\n        int rowIndex = rowsDto.indexOf(rowDto);\r\n\r\n        if(rowDto.getElaborazioneEl().getElPackageNettoEarlyBooking()==null){\r\n            return elHotelWeeklyNettoEarlybooking==null ? BigDecimal.ZERO : elHotelWeeklyNettoEarlybooking.divide(BigDecimal.valueOf(7), 0, RoundingMode.CEILING);\r\n        }\r\n\r\n        int position = rowsDto.indexOf(rowDto);\r\n        long countDay = 1;\r\n\r\n    if(rowsDto.size()&gt;position+1) {\r\n//here I get the error\r\n            countDay = rowsDto.get(position).getDateCY().until(rowsDto.get(position + 1).getDateCY(), ChronoUnit.DAYS);\r\n\r\n    }else if(rowsDto.size() == position + 1) {\r\n        countDay = 7;\r\n    } \r\n```\r\nI link a debug image from intellij \r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: -1\r\n\tat java.util.ArrayList.elementData(ArrayList.java:422)\r\n\tat java.util.ArrayList.get(ArrayList.java:435)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.ebhandling.EntryLevelPricesComputer.computeElHotelDailyNetto(EntryLevelPricesComputer.java:125)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeByEntryLevelPackage(ElaborazioneElServiceImpl.java:392)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeBy(ElaborazioneElServiceImpl.java:278)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeByNoWrapper(ElaborazioneElServiceImpl.java:330)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.computeOtherClustersRows(SaveServiceImpl.java:402)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.save(SaveServiceImpl.java:270)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.findMaxVersionAndSave(SaveServiceImpl.java:84)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.save(SaveServiceImpl.java:79)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveController.saveTopSellersDashboard(SaveController.java:61)\r\n\r\n```\r\nAny suggestion to avoid this error?\r\n\r\n[debug image](https://i.stack.imgur.com/5eClw.png)\r\n\r\nif you need Other details don&#39;t hesitate to ask.","title":"How to avoid java.lang.ArrayIndexOutOfBoundsException: -1 in my java 8 program","body":"<p>I'm making a java application using java 8, when I try to set position I get -1 as value, so I receive the ArrayIndexOutOfBoundsException.\nhere is my code</p>\n<pre><code>    List&lt;TopSellersRowDto&gt; rowsDto = wrapper.getRows().stream().collect(Collectors.toList());\n        int rowIndex = rowsDto.indexOf(rowDto);\n\n        if(rowDto.getElaborazioneEl().getElPackageNettoEarlyBooking()==null){\n            return elHotelWeeklyNettoEarlybooking==null ? BigDecimal.ZERO : elHotelWeeklyNettoEarlybooking.divide(BigDecimal.valueOf(7), 0, RoundingMode.CEILING);\n        }\n\n        int position = rowsDto.indexOf(rowDto);\n        long countDay = 1;\n\n    if(rowsDto.size()&gt;position+1) {\n//here I get the error\n            countDay = rowsDto.get(position).getDateCY().until(rowsDto.get(position + 1).getDateCY(), ChronoUnit.DAYS);\n\n    }else if(rowsDto.size() == position + 1) {\n        countDay = 7;\n    } \n</code></pre>\n<p>I link a debug image from intellij</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: -1\n    at java.util.ArrayList.elementData(ArrayList.java:422)\n    at java.util.ArrayList.get(ArrayList.java:435)\n    at it.alpitour.initialpricing.topsellers.dashboard.ebhandling.EntryLevelPricesComputer.computeElHotelDailyNetto(EntryLevelPricesComputer.java:125)\n    at it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeByEntryLevelPackage(ElaborazioneElServiceImpl.java:392)\n    at it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeBy(ElaborazioneElServiceImpl.java:278)\n    at it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeByNoWrapper(ElaborazioneElServiceImpl.java:330)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.computeOtherClustersRows(SaveServiceImpl.java:402)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.save(SaveServiceImpl.java:270)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.findMaxVersionAndSave(SaveServiceImpl.java:84)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.save(SaveServiceImpl.java:79)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveController.saveTopSellersDashboard(SaveController.java:61)\n\n</code></pre>\n<p>Any suggestion to avoid this error?</p>\n<p><a href=\"https://i.stack.imgur.com/5eClw.png\" rel=\"nofollow noreferrer\">debug image</a></p>\n<p>if you need Other details don't hesitate to ask.</p>\n"},{"tags":["java","character-encoding"],"answers":[{"tags":[],"owner":{"account_id":400146,"reputation":1921,"user_id":765964,"accept_rate":66,"display_name":"Amir.F"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1381404116,"creation_date":1381404116,"answer_id":19294411,"question_id":19292169,"body_markdown":"Solved it :) it turns out that ContentType is now important, and I was sending text that was plain, and also some text that was JSON,\r\n\r\nfor the plain text, you can use:\r\n\r\n    entity.addTextBody(&quot;plain_text&quot;,plain_text,ContentType.TEXT_PLAIN);\r\nand for JSON:\r\n\r\n    entity.addTextBody(&quot;json_text&quot;,json_text,ContentType.APPLICATION_JSON);\r\n\r\nthat way the charset also works on JSON strings (weird, but now OK)","title":"MultipartEntityBuilder and Charset","body":"<p>Solved it :) it turns out that ContentType is now important, and I was sending text that was plain, and also some text that was JSON,</p>\n\n<p>for the plain text, you can use:</p>\n\n<pre><code>entity.addTextBody(\"plain_text\",plain_text,ContentType.TEXT_PLAIN);\n</code></pre>\n\n<p>and for JSON:</p>\n\n<pre><code>entity.addTextBody(\"json_text\",json_text,ContentType.APPLICATION_JSON);\n</code></pre>\n\n<p>that way the charset also works on JSON strings (weird, but now OK)</p>\n"},{"tags":[],"owner":{"account_id":365315,"reputation":598,"user_id":710165,"display_name":"worawee.s"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1418042227,"creation_date":1389270898,"answer_id":21020435,"question_id":19292169,"body_markdown":"    entity.addTextBody(&quot;plain_text&quot;, plain_text);\r\n\r\nwill use the default ContentType.TEXT_PLAIN which look like this...\r\n\r\n    public static final ContentType TEXT_PLAIN = ContentType.create(&quot;text/plain&quot;, Consts.ISO_8859_1);\r\n\r\nwhile ContentType.APPLICATION_JSON is using UTF-8 as below \r\n\r\n    public static final ContentType APPLICATION_JSON = ContentType.create(&quot;application/json&quot;, Consts.UTF_8);\r\n\r\nSo what i did was create our own ContentType like this..\r\n\r\n    entity.addTextBody(&quot;plain_text&quot;, plain_text, ContentType.create(&quot;text/plain&quot;, MIME.UTF8_CHARSET));","title":"MultipartEntityBuilder and Charset","body":"<pre><code>entity.addTextBody(\"plain_text\", plain_text);\n</code></pre>\n\n<p>will use the default ContentType.TEXT_PLAIN which look like this...</p>\n\n<pre><code>public static final ContentType TEXT_PLAIN = ContentType.create(\"text/plain\", Consts.ISO_8859_1);\n</code></pre>\n\n<p>while ContentType.APPLICATION_JSON is using UTF-8 as below </p>\n\n<pre><code>public static final ContentType APPLICATION_JSON = ContentType.create(\"application/json\", Consts.UTF_8);\n</code></pre>\n\n<p>So what i did was create our own ContentType like this..</p>\n\n<pre><code>entity.addTextBody(\"plain_text\", plain_text, ContentType.create(\"text/plain\", MIME.UTF8_CHARSET));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1326139,"reputation":1815,"user_id":1270901,"display_name":"Nevin Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408309832,"creation_date":1408309832,"answer_id":25353643,"question_id":19292169,"body_markdown":"In my case, I setup the contentType first like this\r\n\r\n    ContentType contentType = ContentType.create(\r\n                            HTTP.PLAIN_TEXT_TYPE, HTTP.UTF_8);\r\n\r\nand when adding pairs , specify the content type like this\r\n\r\n    entityBuilder.addTextBody(&quot;title&quot;,pic.getTitle(),contentType);\r\n\r\nas answered here https://stackoverflow.com/questions/20230242/multipartentitybuilder-and-setcharset-for-utf-8-sends-empty-content/25353597#25353597","title":"MultipartEntityBuilder and Charset","body":"<p>In my case, I setup the contentType first like this</p>\n\n<pre><code>ContentType contentType = ContentType.create(\n                        HTTP.PLAIN_TEXT_TYPE, HTTP.UTF_8);\n</code></pre>\n\n<p>and when adding pairs , specify the content type like this</p>\n\n<pre><code>entityBuilder.addTextBody(\"title\",pic.getTitle(),contentType);\n</code></pre>\n\n<p>as answered here <a href=\"https://stackoverflow.com/questions/20230242/multipartentitybuilder-and-setcharset-for-utf-8-sends-empty-content/25353597#25353597\">MultipartEntityBuilder and setCharset for UTF-8 sends empty content</a></p>\n"},{"tags":[],"owner":{"account_id":1748128,"reputation":3542,"user_id":1597841,"accept_rate":64,"display_name":"nAkhmedov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426160003,"creation_date":1426160003,"answer_id":29008644,"question_id":19292169,"body_markdown":"Please try this for \r\n\r\n&gt; Utf-8:\r\n\r\n    entity.addTextBody(&quot;your text&quot;, stringBuffer.toString(), ContentType.create(&quot;text/plain&quot;, Charset.forName(&quot;UTF-8&quot;)));\r\n","title":"MultipartEntityBuilder and Charset","body":"<p>Please try this for </p>\n\n<blockquote>\n  <p>Utf-8:</p>\n</blockquote>\n\n<pre><code>entity.addTextBody(\"your text\", stringBuffer.toString(), ContentType.create(\"text/plain\", Charset.forName(\"UTF-8\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1475850336,"creation_date":1475850336,"answer_id":39919604,"question_id":19292169,"body_markdown":"For those who say the accepted solution did not work for them (it didn&#39;t for me either), I solved it a different way, using:\r\n\r\n    builder.addTextBody(key, , ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;));","title":"MultipartEntityBuilder and Charset","body":"<p>For those who say the accepted solution did not work for them (it didn't for me either), I solved it a different way, using:</p>\n\n<pre><code>builder.addTextBody(key, , ContentType.TEXT_PLAIN.withCharset(\"UTF-8\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28085282,"reputation":1,"user_id":21455753,"display_name":"Jorge Rionegro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680037265,"creation_date":1679484701,"answer_id":75811707,"question_id":19292169,"body_markdown":"Changing the JSON string to BinaryUTF8 also is another way that works fine:\r\n\r\n```\r\nMultipartEntityBuilder meb = MultipartEntityBuilder.create();\r\nmeb.setCharset(java.nio.charset.StandardCharsets.UTF_8);\r\nbyte[] bytes = StringUtils.getBytesUtf8(some_text);\r\nmeb.addBinaryBody(&quot;JSON&quot;, bytes);\r\n```","title":"MultipartEntityBuilder and Charset","body":"<p>Changing the JSON string to BinaryUTF8 also is another way that works fine:</p>\n<pre><code>MultipartEntityBuilder meb = MultipartEntityBuilder.create();\nmeb.setCharset(java.nio.charset.StandardCharsets.UTF_8);\nbyte[] bytes = StringUtils.getBytesUtf8(some_text);\nmeb.addBinaryBody(&quot;JSON&quot;, bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18416903,"reputation":11,"user_id":13415524,"display_name":"Kiran Gowda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701644782,"creation_date":1701461228,"answer_id":77587822,"question_id":19292169,"body_markdown":"I solved it in this way, using: `ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;)`.\r\n```\r\nMultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create();\r\nentityBuilder.addTextBody(&quot;operation&quot;, &quot;postdita&quot;);\r\nentityBuilder.addTextBody(&quot;path&quot;, .getPath(),ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;));\r\nentityBuilder.addTextBody(&quot;createrev&quot;, &quot;false&quot;);\r\nentityBuilder.addBinaryBody(&quot;editorData&quot;, file);\r\nentityBuilder.addTextBody(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n```","title":"MultipartEntityBuilder and Charset","body":"<p>I solved it in this way, using: <code>ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;)</code>.</p>\n<pre><code>MultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create();\nentityBuilder.addTextBody(&quot;operation&quot;, &quot;postdita&quot;);\nentityBuilder.addTextBody(&quot;path&quot;, .getPath(),ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;));\nentityBuilder.addTextBody(&quot;createrev&quot;, &quot;false&quot;);\nentityBuilder.addBinaryBody(&quot;editorData&quot;, file);\nentityBuilder.addTextBody(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n</code></pre>\n"}],"owner":{"account_id":400146,"reputation":1921,"user_id":765964,"accept_rate":66,"display_name":"Amir.F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20358,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":19294411,"answer_count":7,"score":25,"last_activity_date":1701644782,"creation_date":1381397790,"question_id":19292169,"body_markdown":"I upgraded my httpmime package, and now my strings are not sent or received as UTF-8\r\n\r\n    MultipartEntityBuilder entity = MultipartEntityBuilder.create();\r\n    Charset chars = Charset.forName(&quot;UTF-8&quot;);\r\n    entity.setCharset(chars);\r\n    entity.addTextBody(&quot;some_text&quot;, some_text);\r\n    \r\n    HttpPost httppost = new HttpPost(url); \r\n    httppost.setEntity(entity.build());\r\n    ...and so on..\r\n\r\nwhat am I missing?\r\nI used to build a StringBody and set the charset in the stringbody, but that is deprecated now, and it just doesn&#39;t seem to work","title":"MultipartEntityBuilder and Charset","body":"<p>I upgraded my httpmime package, and now my strings are not sent or received as UTF-8</p>\n\n<pre><code>MultipartEntityBuilder entity = MultipartEntityBuilder.create();\nCharset chars = Charset.forName(\"UTF-8\");\nentity.setCharset(chars);\nentity.addTextBody(\"some_text\", some_text);\n\nHttpPost httppost = new HttpPost(url); \nhttppost.setEntity(entity.build());\n...and so on..\n</code></pre>\n\n<p>what am I missing?\nI used to build a StringBody and set the charset in the stringbody, but that is deprecated now, and it just doesn't seem to work</p>\n"},{"tags":["java","return","switch-statement"],"answers":[{"tags":[],"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362639610,"creation_date":1362639610,"answer_id":15265014,"question_id":15264977,"body_markdown":"You have to add `break;` statement at the end of your each `case`. See the tutorial [here](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)","title":"Using Return and Switch in Java with the area of shapes","body":"<p>You have to add <code>break;</code> statement at the end of your each <code>case</code>. See the tutorial <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2436812,"reputation":2232,"user_id":2126510,"display_name":"Breavyn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1362641019,"creation_date":1362639651,"answer_id":15265025,"question_id":15264977,"body_markdown":"You need to add a `break` statement after each case.\r\n\r\n    case 1: {\r\n        doStuff();\r\n        break;\r\n    }\r\n\r\nAlso you forgot to add\r\n\r\n    &quot;%.3f\\n&quot;\r\n\r\nto your printf statements for case 2 and 3","title":"Using Return and Switch in Java with the area of shapes","body":"<p>You need to add a <code>break</code> statement after each case.</p>\n\n<pre><code>case 1: {\n    doStuff();\n    break;\n}\n</code></pre>\n\n<p>Also you forgot to add</p>\n\n<pre><code>\"%.3f\\n\"\n</code></pre>\n\n<p>to your printf statements for case 2 and 3</p>\n"},{"tags":[],"owner":{"account_id":28782250,"reputation":1,"user_id":22043608,"display_name":"Ankita Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701641016,"creation_date":1701641016,"answer_id":77596324,"question_id":15264977,"body_markdown":"    public static double getUserInput( ) {\r\n            double inp;\r\n            do {\r\n                System.out.println(&quot;Enter input&quot;);\r\n                 inp=scan.nextInt();\r\n            }while(inp&lt;=0);\r\n            return inp;\r\n        }\r\n\r\nuse this for user input for all  positive nos.Here is complete code\r\n\r\n\r\nimport java.util.Scanner;\r\n\r\n    public class AreaCalculator {\r\n      static  Scanner scan;\r\n        \r\n        public static void main(String[] args) {\r\n            int choice;\r\n            int counter=0;\r\n            do{\r\n            System.out.println(&quot;1) Triangle\\n&quot; +\r\n    &quot;2) Square\\n&quot; +\r\n    &quot;3) Rectangle\\n&quot; +\r\n    &quot;4) Circle\\n&quot; +\r\n    &quot;5) Quit\\n&quot; );\r\n            \r\n           // System.out.println(&quot;Enter your choice from the menu:&quot;);\r\n     scan=new Scanner(System.in);\r\n            do{\r\n                System.out.println(&quot;Enter your choice from the menu:&quot;);\r\n             choice=   scan.nextInt(); \r\n              //  System.out.println(&quot;Enter valid choice&quot;);\r\n            } while(choice&lt;1||choice&gt;5);\r\n            switch(choice)\r\n            {\r\n                case 1:System.out.println(&quot;u chose Triangle&quot;);\r\n                    System.out.println(&quot;Enter base&quot;);\r\n             // double   base=scan.nextInt();\r\n                    double base=getUserInput();\r\n                              System.out.println(&quot;Enter height&quot;);\r\n            //  double  height=scan.nextInt();\r\n                              double  height=getUserInput();\r\n             // boolean valid=true;\r\n          // boolean valid=    errorTrap(base, height);\r\n           \r\n       double area=        triangleArea(base,height);\r\n       System.out.print(&quot;Area is &quot;+area);\r\n           \r\n                continue;\r\n                case 2:System.out.println(&quot;u chose Square.Enter Side of square&quot;);\r\n            double side=getUserInput();\r\n            double SquareArea=squareArea(side);\r\n                    System.out.println(&quot;Area of square is&quot;+SquareArea);\r\n         \r\n                continue;\r\n                case 3:System.out.println(&quot;u chose Rectange.Enter Length of rect&quot;);\r\n                double length=getUserInput();\r\n                System.out.println(&quot;Enter width of rect&quot;);\r\n                double width=getUserInput();\r\n             double rectArea=   rectangleArea(length,width);\r\n             System.out.println(&quot;Area of rectangle is&quot;+rectArea);\r\n    \r\n                continue;\r\n                case 4:System.out.println(&quot;u chose Circle.Enter circle radius&quot;);\r\n                double radius=getUserInput();\r\n                double circleArea= circleArea(radius);\r\n                    System.out.println(&quot;Area of Circle is &quot;+circleArea);\r\n                continue;\r\n                case 5:System.out.print(&quot;u chose exit&quot;); scan.close();System.exit(0);\r\n                default:System.out.print(&quot;Invalid&quot;);\r\n                \r\n            }\r\n            counter++;\r\n            }while(counter&lt;1);\r\n            \r\n            scan.close();\r\n            \r\n        }//main\r\n        public static double triangleArea(double base, double height){\r\n            double area=0.5 * base *height;\r\n            return area;\r\n        }\r\n        \r\n         public static double squareArea(double side){\r\n            double area=side*side;\r\n            return area;\r\n        }\r\n         \r\n         public static double rectangleArea(double length, double breadth){\r\n            double area=length*breadth;\r\n            return area;\r\n        }\r\n         \r\n         public static double circleArea(double radius){\r\n            double area=Math.PI*radius;\r\n            return area;\r\n        }\r\n    \r\n    \r\n        public static double getUserInput( ) {\r\n            double inp;\r\n            do {\r\n                System.out.println(&quot;Enter input&quot;);\r\n                 inp=scan.nextInt();\r\n            }while(inp&lt;=0);\r\n            return inp;\r\n        }\r\n    }\r\n\r\n","title":"Using Return and Switch in Java with the area of shapes","body":"<pre><code>public static double getUserInput( ) {\n        double inp;\n        do {\n            System.out.println(&quot;Enter input&quot;);\n             inp=scan.nextInt();\n        }while(inp&lt;=0);\n        return inp;\n    }\n</code></pre>\n<p>use this for user input for all  positive nos.Here is complete code</p>\n<p>import java.util.Scanner;</p>\n<pre><code>public class AreaCalculator {\n  static  Scanner scan;\n    \n    public static void main(String[] args) {\n        int choice;\n        int counter=0;\n        do{\n        System.out.println(&quot;1) Triangle\\n&quot; +\n&quot;2) Square\\n&quot; +\n&quot;3) Rectangle\\n&quot; +\n&quot;4) Circle\\n&quot; +\n&quot;5) Quit\\n&quot; );\n        \n       // System.out.println(&quot;Enter your choice from the menu:&quot;);\n scan=new Scanner(System.in);\n        do{\n            System.out.println(&quot;Enter your choice from the menu:&quot;);\n         choice=   scan.nextInt(); \n          //  System.out.println(&quot;Enter valid choice&quot;);\n        } while(choice&lt;1||choice&gt;5);\n        switch(choice)\n        {\n            case 1:System.out.println(&quot;u chose Triangle&quot;);\n                System.out.println(&quot;Enter base&quot;);\n         // double   base=scan.nextInt();\n                double base=getUserInput();\n                          System.out.println(&quot;Enter height&quot;);\n        //  double  height=scan.nextInt();\n                          double  height=getUserInput();\n         // boolean valid=true;\n      // boolean valid=    errorTrap(base, height);\n       \n   double area=        triangleArea(base,height);\n   System.out.print(&quot;Area is &quot;+area);\n       \n            continue;\n            case 2:System.out.println(&quot;u chose Square.Enter Side of square&quot;);\n        double side=getUserInput();\n        double SquareArea=squareArea(side);\n                System.out.println(&quot;Area of square is&quot;+SquareArea);\n     \n            continue;\n            case 3:System.out.println(&quot;u chose Rectange.Enter Length of rect&quot;);\n            double length=getUserInput();\n            System.out.println(&quot;Enter width of rect&quot;);\n            double width=getUserInput();\n         double rectArea=   rectangleArea(length,width);\n         System.out.println(&quot;Area of rectangle is&quot;+rectArea);\n\n            continue;\n            case 4:System.out.println(&quot;u chose Circle.Enter circle radius&quot;);\n            double radius=getUserInput();\n            double circleArea= circleArea(radius);\n                System.out.println(&quot;Area of Circle is &quot;+circleArea);\n            continue;\n            case 5:System.out.print(&quot;u chose exit&quot;); scan.close();System.exit(0);\n            default:System.out.print(&quot;Invalid&quot;);\n            \n        }\n        counter++;\n        }while(counter&lt;1);\n        \n        scan.close();\n        \n    }//main\n    public static double triangleArea(double base, double height){\n        double area=0.5 * base *height;\n        return area;\n    }\n    \n     public static double squareArea(double side){\n        double area=side*side;\n        return area;\n    }\n     \n     public static double rectangleArea(double length, double breadth){\n        double area=length*breadth;\n        return area;\n    }\n     \n     public static double circleArea(double radius){\n        double area=Math.PI*radius;\n        return area;\n    }\n\n\n    public static double getUserInput( ) {\n        double inp;\n        do {\n            System.out.println(&quot;Enter input&quot;);\n             inp=scan.nextInt();\n        }while(inp&lt;=0);\n        return inp;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2389416,"reputation":25,"user_id":2089584,"display_name":"Champigne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15265025,"answer_count":3,"score":0,"last_activity_date":1701641016,"creation_date":1362639474,"question_id":15264977,"body_markdown":"Trying to write a program that prompts a user to select circle, rectangle, or triangle, then ask for the corresponding dimensions, and then displays the area to the user.\r\n\r\nI used some instances of returns and switches, and I think that&#39;s where I messed up.\r\n\r\n    package shapearea;\r\n\r\n    import java.util.Scanner; //global scanner\r\n\r\n\r\n    public class ShapeArea {     \r\n        public static void main(String[] args) {\r\n           int menuOption;\r\n           double area;\r\n       \r\n       menuOption = showMenu();\r\n       area = processShapeOption(menuOption); \r\n       displayArea(area, menuOption);\r\n        \r\n        \r\n    }//end main\r\n   \r\n    public static void displayArea(double area, int menuOption) {\r\n       switch (menuOption) {\r\n           case 1: System.out.printf(&quot;The area of the circle is: %.3f\\n &quot;, area);\r\n              break; \r\n           case 2: System.out.printf(&quot;The area of the rectangle is: &quot;, area);\r\n               break;\r\n           case 3: System.out.printf(&quot;The area of the triangle is: &quot;, area);\r\n               break;\r\n       }//end switch\r\n       \r\n       \r\n       \r\n       }//end displayArea\r\n       public static int showMenu() {\r\n           Scanner scan = new Scanner(System.in);\r\n           int menuOption;\r\n       \r\n           System.out.println(&quot;1. circle&quot;);\r\n           System.out.println(&quot;2. rectangle&quot;);\r\n           System.out.println(&quot;3. triangle&quot;);\r\n           System.out.print(&quot;enter choice:&quot;);\r\n           menuOption = scan.nextInt();\r\n       \r\n           return menuOption;\r\n       }//end showMenu\r\n   \r\n       public static double processShapeOption(int menuOption) {\r\n           double area = 0;\r\n           switch(menuOption){\r\n               case 1: double radius = getDimension(&quot;radius&quot;);\r\n                       area = calculateCircleArea(radius);\r\n\r\n                  break;\r\n           \r\n               case 2: double length = getDimension(&quot;length&quot;),\r\n                          width = getDimension(&quot;width&quot;);\r\n                       area = areaOfRectangle(length, width);\r\n               break;\r\n\r\n               case 3: double base = getDimension(&quot;base&quot;),\r\n                          height = getDimension(&quot;height&quot;);\r\n                       area = areaOfTriangle(base, height);\r\n               \r\n               break;\r\n               \r\n                  \r\n       }//end switch\r\n       \r\n       return area;     \r\n    }//end processShapeOption\r\n   \r\n    public static double getDimension(String dimensionType) {\r\n       double dimension;\r\n       Scanner scan = new Scanner(System.in);\r\n       System.out.print(&quot;Enter the &quot; + dimensionType + &quot;:&quot;);\r\n       dimension = scan.nextDouble();\r\n       \r\n       return dimension;\r\n       \r\n       }//end getDimension\r\n   \r\n       public static double calculateCircleArea(double radius) {\r\n       double area;\r\n       \r\n       area = Math.PI * Math.pow(radius, 2);\r\n       \r\n       return area;\r\n    }//end calculateCircleArea\r\n   \r\n    public static double areaOfRectangle(double width, double length) {\r\n       double area;\r\n       \r\n       area = width * length;\r\n       \r\n       return area;\r\n    }//end areaOfRectangle\r\n   \r\n    public static double areaOfTriangle(double height, double base) {\r\n       double area;\r\n       \r\n       area = .5 * base * height;\r\n       \r\n       return area;\r\n    }\r\n   \r\n    }//end class\r\n\r\n\r\nThe part with calculating circle area works fine, but when I select rectangle it goes on to ask for triangle dimensions in addition to rectangle ones, and fails to display the area. \r\n\r\nEdit: Added breaks","title":"Using Return and Switch in Java with the area of shapes","body":"<p>Trying to write a program that prompts a user to select circle, rectangle, or triangle, then ask for the corresponding dimensions, and then displays the area to the user.</p>\n\n<p>I used some instances of returns and switches, and I think that's where I messed up.</p>\n\n<pre><code>package shapearea;\n\nimport java.util.Scanner; //global scanner\n\n\npublic class ShapeArea {     \n    public static void main(String[] args) {\n       int menuOption;\n       double area;\n\n   menuOption = showMenu();\n   area = processShapeOption(menuOption); \n   displayArea(area, menuOption);\n\n\n}//end main\n\npublic static void displayArea(double area, int menuOption) {\n   switch (menuOption) {\n       case 1: System.out.printf(\"The area of the circle is: %.3f\\n \", area);\n          break; \n       case 2: System.out.printf(\"The area of the rectangle is: \", area);\n           break;\n       case 3: System.out.printf(\"The area of the triangle is: \", area);\n           break;\n   }//end switch\n\n\n\n   }//end displayArea\n   public static int showMenu() {\n       Scanner scan = new Scanner(System.in);\n       int menuOption;\n\n       System.out.println(\"1. circle\");\n       System.out.println(\"2. rectangle\");\n       System.out.println(\"3. triangle\");\n       System.out.print(\"enter choice:\");\n       menuOption = scan.nextInt();\n\n       return menuOption;\n   }//end showMenu\n\n   public static double processShapeOption(int menuOption) {\n       double area = 0;\n       switch(menuOption){\n           case 1: double radius = getDimension(\"radius\");\n                   area = calculateCircleArea(radius);\n\n              break;\n\n           case 2: double length = getDimension(\"length\"),\n                      width = getDimension(\"width\");\n                   area = areaOfRectangle(length, width);\n           break;\n\n           case 3: double base = getDimension(\"base\"),\n                      height = getDimension(\"height\");\n                   area = areaOfTriangle(base, height);\n\n           break;\n\n\n   }//end switch\n\n   return area;     \n}//end processShapeOption\n\npublic static double getDimension(String dimensionType) {\n   double dimension;\n   Scanner scan = new Scanner(System.in);\n   System.out.print(\"Enter the \" + dimensionType + \":\");\n   dimension = scan.nextDouble();\n\n   return dimension;\n\n   }//end getDimension\n\n   public static double calculateCircleArea(double radius) {\n   double area;\n\n   area = Math.PI * Math.pow(radius, 2);\n\n   return area;\n}//end calculateCircleArea\n\npublic static double areaOfRectangle(double width, double length) {\n   double area;\n\n   area = width * length;\n\n   return area;\n}//end areaOfRectangle\n\npublic static double areaOfTriangle(double height, double base) {\n   double area;\n\n   area = .5 * base * height;\n\n   return area;\n}\n\n}//end class\n</code></pre>\n\n<p>The part with calculating circle area works fine, but when I select rectangle it goes on to ask for triangle dimensions in addition to rectangle ones, and fails to display the area. </p>\n\n<p>Edit: Added breaks</p>\n"},{"tags":["java","generics","arraylist"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1701639790,"post_id":77596264,"comment_id":136797840,"body_markdown":"Probably because `MyArrayList` does not implement `Iterable&lt;T&gt;`.  Without showing the code for `MyArrayList` nobody can help you.","body":"Probably because <code>MyArrayList</code> does not implement <code>Iterable&lt;T&gt;</code>.  Without showing the code for <code>MyArrayList</code> nobody can help you."},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701639792,"post_id":77596264,"comment_id":136797841,"body_markdown":"You class does not extend `ArrayList`. In order to provide the possibility to use instances of your class in a `foreach`-loop, the class must implement the [`Iterable` interface (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html).","body":"You class does not extend <code>ArrayList</code>. In order to provide the possibility to use instances of your class in a <code>foreach</code>-loop, the class must implement the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html\" rel=\"nofollow noreferrer\"><code>Iterable</code> interface (<code>docs.oracle.com</code>)</a>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701640913,"creation_date":1701640913,"answer_id":77596321,"question_id":77596264,"body_markdown":"```\r\npublic class MyArrayList &lt;T extends ArrayList&gt; {\r\n```\r\n\r\nThat does not mean your class extends arraylist.\r\n\r\nThat means your class says: For every type reference of this type (such as when you declare a method that accepts a `MyArrayList`, or you make a variable of type `MyArrayList` - any time you mention &#39;MyArrayList&#39;, the type), there is a type parameter. It means - whatever you want it to mean (generally for lists one would think it means: &quot;The type of the thing I am meant to hold&quot; - that&#39;s what it means with `java.util.ArrayList` - an `ArrayList&lt;String&gt;` is an array list that holds string objects).\r\n\r\nSpecifically, we shall call that type, whatever it happens to be, &#39;T&#39;, and we shall also restrict it: It must be either `ArrayList` or some subtype of it. Specifically, the raw arraylist type (you really don&#39;t want that).\r\n\r\nIn other words, it says whenever somebody _uses_ this class, their choice of T must extend ArrayList.\r\n\r\nType variables do nothing on their own. You&#39;ve just declared that any use of your type will mean the user picks some type T. Okay. If you do nothing with it, that&#39;s not going to mean anything.\r\n\r\nPresumably what you&#39;re looking for is this:\r\n\r\n```\r\npublic class MyArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {}\r\n```\r\n\r\nThis says:\r\n\r\n* Anytime `MyArrayList` is used as a type, the user must pick some type which we shall call &#39;T&#39;; each use picks their own T, so we don&#39;t know what T is - we write code for __all__ users, so, T is everything all at once. It&#39;s a meta-type.\r\n* We extend `ArrayList`. Hey - we are __using__ ArrayList as a type, and ArrayList demands we pick a type!\r\n* We pick &#39;T&#39;. Our T. Note that the syntax is identical (`&lt;T&gt;` in both cases), but they represent different things. The first `&lt;T&gt;` _declares a type variable_. The second `&lt;T&gt;` uses it. We say that our class extends `ArrayList&lt;T&gt;` where T is whatever the user of our class picked.\r\n\r\nYour class would now extend `ArrayList`, and `ArrayList`, in turn, implements `Iterable&lt;T&gt;`. You must implement Iterable if you want an expression of your type to be usable in the &#39;collection&#39; position in `for (SomeType variableName : collection) {}`. Your snippet doesn&#39;t (it doesn&#39;t extend anything - only its T does which has no effect on your own type) - with this fix, it does.","title":"Why do I get this error when attempting to generics to implement a custom ArrayList?","body":"<pre><code>public class MyArrayList &lt;T extends ArrayList&gt; {\n</code></pre>\n<p>That does not mean your class extends arraylist.</p>\n<p>That means your class says: For every type reference of this type (such as when you declare a method that accepts a <code>MyArrayList</code>, or you make a variable of type <code>MyArrayList</code> - any time you mention 'MyArrayList', the type), there is a type parameter. It means - whatever you want it to mean (generally for lists one would think it means: &quot;The type of the thing I am meant to hold&quot; - that's what it means with <code>java.util.ArrayList</code> - an <code>ArrayList&lt;String&gt;</code> is an array list that holds string objects).</p>\n<p>Specifically, we shall call that type, whatever it happens to be, 'T', and we shall also restrict it: It must be either <code>ArrayList</code> or some subtype of it. Specifically, the raw arraylist type (you really don't want that).</p>\n<p>In other words, it says whenever somebody <em>uses</em> this class, their choice of T must extend ArrayList.</p>\n<p>Type variables do nothing on their own. You've just declared that any use of your type will mean the user picks some type T. Okay. If you do nothing with it, that's not going to mean anything.</p>\n<p>Presumably what you're looking for is this:</p>\n<pre><code>public class MyArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {}\n</code></pre>\n<p>This says:</p>\n<ul>\n<li>Anytime <code>MyArrayList</code> is used as a type, the user must pick some type which we shall call 'T'; each use picks their own T, so we don't know what T is - we write code for <strong>all</strong> users, so, T is everything all at once. It's a meta-type.</li>\n<li>We extend <code>ArrayList</code>. Hey - we are <strong>using</strong> ArrayList as a type, and ArrayList demands we pick a type!</li>\n<li>We pick 'T'. Our T. Note that the syntax is identical (<code>&lt;T&gt;</code> in both cases), but they represent different things. The first <code>&lt;T&gt;</code> <em>declares a type variable</em>. The second <code>&lt;T&gt;</code> uses it. We say that our class extends <code>ArrayList&lt;T&gt;</code> where T is whatever the user of our class picked.</li>\n</ul>\n<p>Your class would now extend <code>ArrayList</code>, and <code>ArrayList</code>, in turn, implements <code>Iterable&lt;T&gt;</code>. You must implement Iterable if you want an expression of your type to be usable in the 'collection' position in <code>for (SomeType variableName : collection) {}</code>. Your snippet doesn't (it doesn't extend anything - only its T does which has no effect on your own type) - with this fix, it does.</p>\n"}],"owner":{"account_id":27769831,"reputation":17,"user_id":21200315,"display_name":"fadedExplorer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77596321,"answer_count":1,"score":-1,"last_activity_date":1701640913,"creation_date":1701639390,"question_id":77596264,"body_markdown":"I am attempting to implement an sub class that extends ArrayList. This class should print the elements of an array.\r\n\r\n   \r\n\r\n import java.util.ArrayList;\r\n    \r\n    public class MyArrayList &lt;T extends ArrayList&gt; {\r\n        public void  display (MyArrayList&lt;T&gt; processList) {\r\n            for (T element : processList) {\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nHowever this code gives me the error:\r\n foreach not applicable to type &#39;MyArrayList&lt;T&gt;&#39;\r\n\r\nI&#39;m not sure why?\r\n\r\nI tried making the parameter type a wildcard however this did not resolve the issue.\r\nEDIT: This class is extending ArrayList and the full class is shown (although for some reason the &quot;public class MyArrayList &lt;T extends ArrayList&gt;&quot; does not seem to be showing properly. The error is specific the for loop for &#39;processList&#39;.\r\n","title":"Why do I get this error when attempting to generics to implement a custom ArrayList?","body":"<p>I am attempting to implement an sub class that extends ArrayList. This class should print the elements of an array.</p>\n<p>import java.util.ArrayList;</p>\n<pre><code>public class MyArrayList &lt;T extends ArrayList&gt; {\n    public void  display (MyArrayList&lt;T&gt; processList) {\n        for (T element : processList) {\n\n        }\n    }\n}\n</code></pre>\n<p>However this code gives me the error:\nforeach not applicable to type 'MyArrayList'</p>\n<p>I'm not sure why?</p>\n<p>I tried making the parameter type a wildcard however this did not resolve the issue.\nEDIT: This class is extending ArrayList and the full class is shown (although for some reason the &quot;public class MyArrayList &quot; does not seem to be showing properly. The error is specific the for loop for 'processList'.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1701640525,"post_id":77596242,"comment_id":136797897,"body_markdown":"Hint: Before the split-and-reverse, find the trailing spaces and save them off as a separate variable. There are a few ways you could do that, but I&#39;d encourage you to think a bit how you would do it. If you&#39;re having trouble, try putting the &quot;how do I do it in Java&quot; question aside and think of how _you_ would do it. Someone gives you a bunch of stickies, each with one character: `H` `e` `l`... etc. They ask you to perform the task you&#39;ve described. Would you be able to do it (I&#39;m guessing yes)? If so, think about what you&#39;re doing. That&#39;ll translate to code pretty easily.","body":"Hint: Before the split-and-reverse, find the trailing spaces and save them off as a separate variable. There are a few ways you could do that, but I&#39;d encourage you to think a bit how you would do it. If you&#39;re having trouble, try putting the &quot;how do I do it in Java&quot; question aside and think of how <i>you</i> would do it. Someone gives you a bunch of stickies, each with one character: <code>H</code> <code>e</code> <code>l</code>... etc. They ask you to perform the task you&#39;ve described. Would you be able to do it (I&#39;m guessing yes)? If so, think about what you&#39;re doing. That&#39;ll translate to code pretty easily."}],"owner":{"account_id":7356171,"reputation":581,"user_id":5651575,"display_name":"youngdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1701640853,"answer_count":0,"score":-1,"last_activity_date":1701640343,"creation_date":1701638909,"question_id":77596242,"body_markdown":"I am trying to reverse a string while preserving (and reversing trailing spaces). For instance:\r\n\r\nInput: \r\n`Hello my name is John.   `\r\n\r\nOutput:\r\n`   John. is name my Hello`\r\n\r\nI have attempted to do so with the following code:\r\n\r\n        String[] arrOfString = string.split(&quot; &quot;);\r\n        StringBuilder builder = new StringBuilder(&quot;&quot;);\r\n\r\n        for(int i = arrOfString.length-1; i &gt;= 0;i--){\r\n            System.out.println(arrOfString[i]);\r\n            builder.append(arrOfString[i]+&quot; &quot;);\r\n        }\r\n        System.out.println(builder.toString());\r\n        return builder.toString().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;);\r\n\r\n\r\nHowever, it looks like because I&#39;m doing a string.split with spaces up front it&#39;s not preserving the trailing spaces. Any advice is appreciated. Thank you!","title":"How to reverse a sentence and preserve trailing spaces in Java?","body":"<p>I am trying to reverse a string while preserving (and reversing trailing spaces). For instance:</p>\n<p>Input:\n<code>Hello my name is John.   </code></p>\n<p>Output:\n<code>   John. is name my Hello</code></p>\n<p>I have attempted to do so with the following code:</p>\n<pre><code>    String[] arrOfString = string.split(&quot; &quot;);\n    StringBuilder builder = new StringBuilder(&quot;&quot;);\n\n    for(int i = arrOfString.length-1; i &gt;= 0;i--){\n        System.out.println(arrOfString[i]);\n        builder.append(arrOfString[i]+&quot; &quot;);\n    }\n    System.out.println(builder.toString());\n    return builder.toString().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;);\n</code></pre>\n<p>However, it looks like because I'm doing a string.split with spaces up front it's not preserving the trailing spaces. Any advice is appreciated. Thank you!</p>\n"},{"tags":["java","classloader","guice","james"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301696,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701640286,"creation_date":1692616602,"answer_id":76944786,"question_id":76925861,"body_markdown":"&gt; Is there a way to modify the classloader so that I can use hooks that exist in the same jar where James is going to exist?\r\n\r\n&quot;modify the classloader&quot;? ... not without re-compiling the [`apache/james-project`](https://github.com/apache/james-project) itself, I would presume.\r\n\r\n[Apache James](https://james.apache.org/) likely uses a dedicated component for classloading, which could be based on Java&#39;s [URLClassLoader](https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/net/URLClassLoader.html) or a similar class.  \r\nI can see [`org.apache.james.utils.ExtendedClassLoader `](https://github.com/apache/james-project/blob/38ed64d6fc68b4e076d421c459b9217c28001d71/server/container/guice/utils/src/main/java/org/apache/james/utils/ExtendedClassLoader.java#L44)\r\n\r\nYou would need to modify it to check the current application classpath (where your Quarkus app and embedded James reside) in addition to or instead of the `conf/lib` directory.  \r\nThen, after making the changes, you will need to recompile James and integrate the custom version with your Quarkus application.\r\n\r\nThe XML configurations you have for server implementations will not need to change because of these modifications. The XML file merely instructs James on what class to instantiate and possibly initialize. By modifying the classloading behavior, you are just changing where James looks for these classes. The XML stays the same because it references classes by their fully qualified names, not their locations.\r\n\r\nI initially propose an updated code for `ExtendedClassLoader`, but, as noted by [Holger](https://stackoverflow.com/users/2711488/holger) in [the comments](https://stackoverflow.com/questions/76925861/modify-embedded-apache-james-classloader-to-allow-for-custom-hooks-in-same-proje/76944786?noredirect=1#comment135691544_76944786):\r\n\r\n&gt; A `URLClassLoader` follows the standard parent delegation model.  Since `getClass().getClassLoader()` is passed to the constructor as the parent loader, it will be searched for classes, even before the URLs passed to the constructor are searched.  \r\n&gt; Merging `currentClasspath` with `extensionUrls` has no effect.\r\n\r\n```java\r\npackage org.apache.james.utils;\r\n\r\n// ... [other imports]\r\n\r\npublic class ExtendedClassLoader {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(ExtendedClassLoader.class);\r\n\r\n    public static final String EXTENSIONS_JARS_FOLDER_NAME = &quot;extensions-jars/&quot;;\r\n\r\n    private final URLClassLoader urlClassLoader;\r\n\r\n    @Inject\r\n    public ExtendedClassLoader(FileSystem fileSystem) {\r\n        URL[] extensionUrls = retrieveExtensionsUrls(fileSystem);\r\n        URL[] currentClasspath = ((URLClassLoader) getClass().getClassLoader()).getURLs();\r\n\r\n        URL[] combinedUrls = Stream.concat(\r\n            Stream.of(extensionUrls),\r\n            Stream.of(currentClasspath)\r\n        ).distinct().toArray(URL[]::new);\r\n\r\n        this.urlClassLoader = new URLClassLoader(combinedUrls, getClass().getClassLoader());\r\n    }\r\n\r\n    private URL[] retrieveExtensionsUrls(FileSystem fileSystem) {\r\n        try {\r\n            File file = fileSystem.getFile(&quot;file://&quot; + EXTENSIONS_JARS_FOLDER_NAME);\r\n            return recursiveExpand(file)\r\n                .toArray(URL[]::new);\r\n        } catch (IOException e) {\r\n            LOGGER.info(&quot;No &quot; + EXTENSIONS_JARS_FOLDER_NAME + &quot; folder.&quot;);\r\n            return new URL[]{};\r\n        }\r\n    }\r\n\r\n    private Stream&lt;URL&gt; recursiveExpand(File file) {\r\n        return StreamUtils.ofNullable(file.listFiles())\r\n            .flatMap(Throwing.function(this::expandFile).sneakyThrow());\r\n    }\r\n\r\n    private Stream&lt;URL&gt; expandFile(File file) throws MalformedURLException {\r\n        if (file.isDirectory()) {\r\n            return recursiveExpand(file);\r\n        }\r\n        LOGGER.info(&quot;Loading custom classpath resource {}&quot;, file.getAbsolutePath());\r\n        return Stream.of(file.toURI().toURL());\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;T&gt; Class&lt;T&gt; locateClass(FullyQualifiedClassName className) throws ClassNotFoundException {\r\n        return (Class&lt;T&gt;) urlClassLoader.loadClass(className.getName());\r\n    }\r\n}\r\n```\r\n\r\nIn the constructor `ExtendedClassLoader(FileSystem fileSystem)`, you can retrieve the URLs from the `extensions-jars/` folder (just like the original code). And the URLs from the current application&#39;s classpath. The combined URLs are ensured to be unique to avoid duplication.   \r\nThese combined URLs are then fed into the `URLClassLoader` so that, when James tries to load a class, it will look in both the provided extension URLs and the current application&#39;s classpath.\r\n\r\nBy making these changes, James will first look for hooks in the `extensions-jars/` folder (if provided) and then in the current application&#39;s classpath. That means if you have packaged James and your custom hooks into the same jar (or same classpath), it should be able to find and load them without issues.\r\n\r\nSee also &quot;[URLClassLoader can&#39;t find class thats in different directory](https://stackoverflow.com/q/49899468/6309)&quot;.\r\n\r\n---\r\n\r\n&gt;  I moved the code into JAR files and put them in the extension-jars directory, and now the embedded James instance can see them.  \r\nI was never able to get James to see the classes when they were in the parent project. \r\n&gt;\r\n&gt; The parent project was a simple Quarkus application following, almost to the letter, the [docs for configuring embedded Apache James](https://james.apache.org/howTo/custom-james-assembly.html) with everything configured to be &quot;in memory&quot;. \r\n\r\nTrue: the `extension-jars` directory is the default location where Apache James looks for additional modules and extensions.  \r\nInstead of modifying the classloader, which would require a deep understanding of both the James server internals and Java&#39;s classloading mechanisms, placing the hooks in the `extension-jars` directory is a simpler solution.\r\n\r\nThe OP&#39;s project is a [Quarkus](https://quarkus.io/) application, which may have its [own classloading behaviors and constraints](https://quarkus.io/guides/class-loading-reference). Quarkus is designed for containerization and microservice architectures, so its classloading might be optimized for these environments, potentially complicating direct integration with embedded applications like Apache James.","title":"Modify embedded Apache James Classloader to allow for custom hooks in same project","body":"<blockquote>\n<p>Is there a way to modify the classloader so that I can use hooks that exist in the same jar where James is going to exist?</p>\n</blockquote>\n<p>&quot;modify the classloader&quot;? ... not without re-compiling the <a href=\"https://github.com/apache/james-project\" rel=\"nofollow noreferrer\"><code>apache/james-project</code></a> itself, I would presume.</p>\n<p><a href=\"https://james.apache.org/\" rel=\"nofollow noreferrer\">Apache James</a> likely uses a dedicated component for classloading, which could be based on Java's <a href=\"https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">URLClassLoader</a> or a similar class.<br />\nI can see <a href=\"https://github.com/apache/james-project/blob/38ed64d6fc68b4e076d421c459b9217c28001d71/server/container/guice/utils/src/main/java/org/apache/james/utils/ExtendedClassLoader.java#L44\" rel=\"nofollow noreferrer\"><code>org.apache.james.utils.ExtendedClassLoader </code></a></p>\n<p>You would need to modify it to check the current application classpath (where your Quarkus app and embedded James reside) in addition to or instead of the <code>conf/lib</code> directory.<br />\nThen, after making the changes, you will need to recompile James and integrate the custom version with your Quarkus application.</p>\n<p>The XML configurations you have for server implementations will not need to change because of these modifications. The XML file merely instructs James on what class to instantiate and possibly initialize. By modifying the classloading behavior, you are just changing where James looks for these classes. The XML stays the same because it references classes by their fully qualified names, not their locations.</p>\n<p>I initially propose an updated code for <code>ExtendedClassLoader</code>, but, as noted by <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a> in <a href=\"https://stackoverflow.com/questions/76925861/modify-embedded-apache-james-classloader-to-allow-for-custom-hooks-in-same-proje/76944786?noredirect=1#comment135691544_76944786\">the comments</a>:</p>\n<blockquote>\n<p>A <code>URLClassLoader</code> follows the standard parent delegation model.  Since <code>getClass().getClassLoader()</code> is passed to the constructor as the parent loader, it will be searched for classes, even before the URLs passed to the constructor are searched.<br />\nMerging <code>currentClasspath</code> with <code>extensionUrls</code> has no effect.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>package org.apache.james.utils;\n\n// ... [other imports]\n\npublic class ExtendedClassLoader {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(ExtendedClassLoader.class);\n\n    public static final String EXTENSIONS_JARS_FOLDER_NAME = &quot;extensions-jars/&quot;;\n\n    private final URLClassLoader urlClassLoader;\n\n    @Inject\n    public ExtendedClassLoader(FileSystem fileSystem) {\n        URL[] extensionUrls = retrieveExtensionsUrls(fileSystem);\n        URL[] currentClasspath = ((URLClassLoader) getClass().getClassLoader()).getURLs();\n\n        URL[] combinedUrls = Stream.concat(\n            Stream.of(extensionUrls),\n            Stream.of(currentClasspath)\n        ).distinct().toArray(URL[]::new);\n\n        this.urlClassLoader = new URLClassLoader(combinedUrls, getClass().getClassLoader());\n    }\n\n    private URL[] retrieveExtensionsUrls(FileSystem fileSystem) {\n        try {\n            File file = fileSystem.getFile(&quot;file://&quot; + EXTENSIONS_JARS_FOLDER_NAME);\n            return recursiveExpand(file)\n                .toArray(URL[]::new);\n        } catch (IOException e) {\n            LOGGER.info(&quot;No &quot; + EXTENSIONS_JARS_FOLDER_NAME + &quot; folder.&quot;);\n            return new URL[]{};\n        }\n    }\n\n    private Stream&lt;URL&gt; recursiveExpand(File file) {\n        return StreamUtils.ofNullable(file.listFiles())\n            .flatMap(Throwing.function(this::expandFile).sneakyThrow());\n    }\n\n    private Stream&lt;URL&gt; expandFile(File file) throws MalformedURLException {\n        if (file.isDirectory()) {\n            return recursiveExpand(file);\n        }\n        LOGGER.info(&quot;Loading custom classpath resource {}&quot;, file.getAbsolutePath());\n        return Stream.of(file.toURI().toURL());\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; Class&lt;T&gt; locateClass(FullyQualifiedClassName className) throws ClassNotFoundException {\n        return (Class&lt;T&gt;) urlClassLoader.loadClass(className.getName());\n    }\n}\n</code></pre>\n<p>In the constructor <code>ExtendedClassLoader(FileSystem fileSystem)</code>, you can retrieve the URLs from the <code>extensions-jars/</code> folder (just like the original code). And the URLs from the current application's classpath. The combined URLs are ensured to be unique to avoid duplication.<br />\nThese combined URLs are then fed into the <code>URLClassLoader</code> so that, when James tries to load a class, it will look in both the provided extension URLs and the current application's classpath.</p>\n<p>By making these changes, James will first look for hooks in the <code>extensions-jars/</code> folder (if provided) and then in the current application's classpath. That means if you have packaged James and your custom hooks into the same jar (or same classpath), it should be able to find and load them without issues.</p>\n<p>See also &quot;<a href=\"https://stackoverflow.com/q/49899468/6309\">URLClassLoader can't find class thats in different directory</a>&quot;.</p>\n<hr />\n<blockquote>\n<p>I moved the code into JAR files and put them in the extension-jars directory, and now the embedded James instance can see them.<br />\nI was never able to get James to see the classes when they were in the parent project.</p>\n<p>The parent project was a simple Quarkus application following, almost to the letter, the <a href=\"https://james.apache.org/howTo/custom-james-assembly.html\" rel=\"nofollow noreferrer\">docs for configuring embedded Apache James</a> with everything configured to be &quot;in memory&quot;.</p>\n</blockquote>\n<p>True: the <code>extension-jars</code> directory is the default location where Apache James looks for additional modules and extensions.<br />\nInstead of modifying the classloader, which would require a deep understanding of both the James server internals and Java's classloading mechanisms, placing the hooks in the <code>extension-jars</code> directory is a simpler solution.</p>\n<p>The OP's project is a <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a> application, which may have its <a href=\"https://quarkus.io/guides/class-loading-reference\" rel=\"nofollow noreferrer\">own classloading behaviors and constraints</a>. Quarkus is designed for containerization and microservice architectures, so its classloading might be optimized for these environments, potentially complicating direct integration with embedded applications like Apache James.</p>\n"}],"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1701640286,"creation_date":1692320249,"question_id":76925861,"body_markdown":"I am attempting to run my own custom in-memory James assembly inside of a Quarkus web application. I&#39;ve been following along with [the example here][1] and gotten the server to run.\r\n\r\nOne of the issues I&#39;m running into is that according to the docs [I need to include custom hooks inside of a Jar file in a /conf/lib directory][2] however I wish to use classes directly from inside the same project James is embedded in. Is there a way to modify the classloader so that I can use hooks that exist in the same jar where James is going to exist?\r\n\r\n\r\nEdit: Adding handlerchain config. Sorry VonC I might have accidentally submitted this as an edit to your answer. It&#39;s been a day!\r\n\r\n```xml\r\n        &lt;handlerchain&gt;\r\n            &lt;handler class=&quot;org.apache.james.smtpserver.fastfail.ValidRcptHandler&quot;/&gt;\r\n            &lt;handler class=&quot;org.apache.james.smtpserver.CoreCmdHandlerLoader&quot;/&gt;\r\n            &lt;handler class=&quot;tech.gmork.oxprox.control.hooks.CustomAuthHook&quot;/&gt;\r\n            &lt;handler class=&quot;tech.gmork.oxprox.control.hooks.CustomMessageHook&quot;/&gt;\r\n        &lt;/handlerchain&gt;\r\n```\r\n\r\n  [1]: https://james.apache.org/howTo/custom-james-assembly.html\r\n  [2]: https://james.apache.org/server/dev-extend-smtp-hook.html","title":"Modify embedded Apache James Classloader to allow for custom hooks in same project","body":"<p>I am attempting to run my own custom in-memory James assembly inside of a Quarkus web application. I've been following along with <a href=\"https://james.apache.org/howTo/custom-james-assembly.html\" rel=\"nofollow noreferrer\">the example here</a> and gotten the server to run.</p>\n<p>One of the issues I'm running into is that according to the docs <a href=\"https://james.apache.org/server/dev-extend-smtp-hook.html\" rel=\"nofollow noreferrer\">I need to include custom hooks inside of a Jar file in a /conf/lib directory</a> however I wish to use classes directly from inside the same project James is embedded in. Is there a way to modify the classloader so that I can use hooks that exist in the same jar where James is going to exist?</p>\n<p>Edit: Adding handlerchain config. Sorry VonC I might have accidentally submitted this as an edit to your answer. It's been a day!</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;handlerchain&gt;\n            &lt;handler class=&quot;org.apache.james.smtpserver.fastfail.ValidRcptHandler&quot;/&gt;\n            &lt;handler class=&quot;org.apache.james.smtpserver.CoreCmdHandlerLoader&quot;/&gt;\n            &lt;handler class=&quot;tech.gmork.oxprox.control.hooks.CustomAuthHook&quot;/&gt;\n            &lt;handler class=&quot;tech.gmork.oxprox.control.hooks.CustomMessageHook&quot;/&gt;\n        &lt;/handlerchain&gt;\n</code></pre>\n"},{"tags":["java","dynamic"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1701636269,"post_id":77596082,"comment_id":136797551,"body_markdown":"Lombok should at minimal use annotation processing: https://www.baeldung.com/java-annotation-processing-builder but with specific hijack for IDE (I don&#39;t think that annotation processing allow you to change the current class, hence the hijack for IDE).","body":"Lombok should at minimal use annotation processing: <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">baeldung.com/java-annotation-processing-builder</a> but with specific hijack for IDE (I don&#39;t think that annotation processing allow you to change the current class, hence the hijack for IDE)."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701639230,"creation_date":1701639230,"answer_id":77596254,"question_id":77596082,"body_markdown":"I would use an arguments builder class.\r\n\r\n    public static class RandFuncArgs {\r\n        private Supplier&lt;String&gt; string;\r\n\r\n        private IntSupplier value;\r\n\r\n        public RandFuncArgs() {\r\n            string(&quot;&quot;);\r\n            value(0);\r\n        }\r\n\r\n        public RandFuncArgs(String s,\r\n                            int value) {\r\n            string(s);\r\n            value(value);\r\n        }\r\n\r\n        public String getString() {\r\n            return s.get();\r\n        }\r\n\r\n        public int getValue() {\r\n            return value.getAsInt();\r\n        }\r\n\r\n        public RandFuncArgs string(String s) {\r\n            return string(() -&gt; s);\r\n        }\r\n\r\n        public RandFuncArgs string(Supplier&lt;String&gt; s) {\r\n            this.string = Objects.requireNonNull(s, &quot;Argument cannot be null.&quot;);\r\n            return this;\r\n        }\r\n\r\n        public RandFuncArgs value(int value) {\r\n            return value(() -&gt; value);\r\n        }\r\n\r\n        public RandFuncArgs value(IntSupplier value) {\r\n            this.value = Objects.requireNonNull(value, &quot;Argument cannot be null.&quot;);\r\n            return this;\r\n        }\r\n    }\r\n\r\nNow your outer class just needs one method:\r\n\r\n    public void randFunc(RandFuncArgs args) {\r\n        // ...\r\n    }\r\n\r\nAnd others can call it as:\r\n\r\n    obj.randFunc(new RandFuncArgs().string(&quot;word&quot;).value(1));\r\n    obj.randFunc(new RandFuncArgs().string(() -&gt; &quot;123546&quot;).value(3));\r\n    obj.randFunc(new RandFuncArgs().string(() -&gt; &quot;123456&quot;).value(() -&gt; 8));\r\n","title":"Make dynamic method arguments during the compilation in Java","body":"<p>I would use an arguments builder class.</p>\n<pre><code>public static class RandFuncArgs {\n    private Supplier&lt;String&gt; string;\n\n    private IntSupplier value;\n\n    public RandFuncArgs() {\n        string(&quot;&quot;);\n        value(0);\n    }\n\n    public RandFuncArgs(String s,\n                        int value) {\n        string(s);\n        value(value);\n    }\n\n    public String getString() {\n        return s.get();\n    }\n\n    public int getValue() {\n        return value.getAsInt();\n    }\n\n    public RandFuncArgs string(String s) {\n        return string(() -&gt; s);\n    }\n\n    public RandFuncArgs string(Supplier&lt;String&gt; s) {\n        this.string = Objects.requireNonNull(s, &quot;Argument cannot be null.&quot;);\n        return this;\n    }\n\n    public RandFuncArgs value(int value) {\n        return value(() -&gt; value);\n    }\n\n    public RandFuncArgs value(IntSupplier value) {\n        this.value = Objects.requireNonNull(value, &quot;Argument cannot be null.&quot;);\n        return this;\n    }\n}\n</code></pre>\n<p>Now your outer class just needs one method:</p>\n<pre><code>public void randFunc(RandFuncArgs args) {\n    // ...\n}\n</code></pre>\n<p>And others can call it as:</p>\n<pre><code>obj.randFunc(new RandFuncArgs().string(&quot;word&quot;).value(1));\nobj.randFunc(new RandFuncArgs().string(() -&gt; &quot;123546&quot;).value(3));\nobj.randFunc(new RandFuncArgs().string(() -&gt; &quot;123456&quot;).value(() -&gt; 8));\n</code></pre>\n"}],"owner":{"account_id":29943165,"reputation":3,"user_id":22947130,"display_name":"Laipel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77596254,"answer_count":1,"score":0,"last_activity_date":1701639230,"creation_date":1701635817,"question_id":77596082,"body_markdown":"There is the big builder that is the heart of my project and that is used very frequently. I want to make every argument in every method dynamic (expect lambda expression as an agrument). Hovewer, I will need to create twice more methods (or even bigger amount), but my builder class is already too big and I don&#39;t want to waste my time, when I add another method to it.\r\n\r\nI want to make something like lombok annotation to method to make methods able to receive `Supplier&lt;T&gt;` and `T` type argument at the same time. It should get value from the supplier, when it call some method, or get field from the object.\r\n\r\nIt should be something like\r\n\r\n```java\r\n@DynamicArguments\r\npublic void randFunc(String string, Integer value) {\r\n   // some code\r\n}\r\n```\r\n\r\n```java\r\nrandFunc(&quot;word&quot;, 1) // works\r\nrandFunc(() -&gt; &quot;123546&quot;, 3) // works\r\nrandFunc(() -&gt; &quot;123456&quot;, () -&gt; 8) // works\r\n```\r\n\r\nI&#39;ve tryed to research groovy and custom lombok annotations to do it, but it didn&#39;t help much.","title":"Make dynamic method arguments during the compilation in Java","body":"<p>There is the big builder that is the heart of my project and that is used very frequently. I want to make every argument in every method dynamic (expect lambda expression as an agrument). Hovewer, I will need to create twice more methods (or even bigger amount), but my builder class is already too big and I don't want to waste my time, when I add another method to it.</p>\n<p>I want to make something like lombok annotation to method to make methods able to receive <code>Supplier&lt;T&gt;</code> and <code>T</code> type argument at the same time. It should get value from the supplier, when it call some method, or get field from the object.</p>\n<p>It should be something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamicArguments\npublic void randFunc(String string, Integer value) {\n   // some code\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>randFunc(&quot;word&quot;, 1) // works\nrandFunc(() -&gt; &quot;123546&quot;, 3) // works\nrandFunc(() -&gt; &quot;123456&quot;, () -&gt; 8) // works\n</code></pre>\n<p>I've tryed to research groovy and custom lombok annotations to do it, but it didn't help much.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701668377,"post_id":77596043,"comment_id":136799894,"body_markdown":"Don&#39;t run a server on Android.  The OS is not meant for it.  In particular, it will aggressively kill any app that isn&#39;t in the foreground, leaving it only brief periods of time where it&#39;s allowed to run.  This makes it good for battery life, but unsuitable for a server because the server won&#39;t be reliable.","body":"Don&#39;t run a server on Android.  The OS is not meant for it.  In particular, it will aggressively kill any app that isn&#39;t in the foreground, leaving it only brief periods of time where it&#39;s allowed to run.  This makes it good for battery life, but unsuitable for a server because the server won&#39;t be reliable."},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701702669,"post_id":77596043,"comment_id":136805276,"body_markdown":"Well, it&#39;s for a media app so I already have a foreground service running.","body":"Well, it&#39;s for a media app so I already have a foreground service running."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701703629,"post_id":77596043,"comment_id":136805499,"body_markdown":"Foreground services are only slightly more reliable.  It can still be killed at any time.","body":"Foreground services are only slightly more reliable.  It can still be killed at any time."}],"answers":[{"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701638946,"creation_date":1701635317,"answer_id":77596059,"question_id":77596043,"body_markdown":"While the web page itself can&#39;t directly execute Java code, you can establish communication between the web page and your Android code using a JavaScript interface in a `WebView` (so-called &quot;bridge&quot;). This allows you to call Java methods from JavaScript:\r\n\r\n1. The bridge code:\r\n\r\n       public class WebAppInterface {\r\n           @JavascriptInterface\r\n           public void performDatabaseOperation(String operation) {\r\n               // Perform database operations in Java\r\n           }\r\n       }\r\n\r\n2. In your Activity:\r\n\r\n       WebView webView = findViewById(R.id.webView);\r\n       webView.addJavascriptInterface(new WebAppInterface(this), &quot;Android&quot;);\r\n\r\n3. Call Java Method from HTML/JS:\r\n\r\n       &lt;button onclick=&quot;performDatabaseOperation(&#39;delete&#39;)&quot;&gt;Delete from Database&lt;/button&gt;\r\n    \r\n       &lt;script&gt;\r\n           function performDatabaseOperation(operation) {\r\n               Android.performDatabaseOperation(operation);\r\n           }\r\n       &lt;/script&gt;\r\n\r\n","title":"Execute Android Java code with Javascript","body":"<p>While the web page itself can't directly execute Java code, you can establish communication between the web page and your Android code using a JavaScript interface in a <code>WebView</code> (so-called &quot;bridge&quot;). This allows you to call Java methods from JavaScript:</p>\n<ol>\n<li><p>The bridge code:</p>\n<pre><code>public class WebAppInterface {\n    @JavascriptInterface\n    public void performDatabaseOperation(String operation) {\n        // Perform database operations in Java\n    }\n}\n</code></pre>\n</li>\n<li><p>In your Activity:</p>\n<pre><code>WebView webView = findViewById(R.id.webView);\nwebView.addJavascriptInterface(new WebAppInterface(this), &quot;Android&quot;);\n</code></pre>\n</li>\n<li><p>Call Java Method from HTML/JS:</p>\n<pre><code>&lt;button onclick=&quot;performDatabaseOperation('delete')&quot;&gt;Delete from Database&lt;/button&gt;\n\n&lt;script&gt;\n    function performDatabaseOperation(operation) {\n        Android.performDatabaseOperation(operation);\n    }\n&lt;/script&gt;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701638946,"creation_date":1701634929,"question_id":77596043,"body_markdown":"I&#39;m thinking of adding a local web server to my Android app so I can serve data from a local SqLite database through a web browser as long as the user&#39;s computer is on the same network at their phone.\r\n\r\nIs it possible to write web code that &quot;interacts&quot; (for lack of a better word) with an Android `Activity`. For example, if I output a `List` of Java objects to HTML, can I add a button to the web page that will execute Java code to delete or insert from the Android SqlLite database?","title":"Execute Android Java code with Javascript","body":"<p>I'm thinking of adding a local web server to my Android app so I can serve data from a local SqLite database through a web browser as long as the user's computer is on the same network at their phone.</p>\n<p>Is it possible to write web code that &quot;interacts&quot; (for lack of a better word) with an Android <code>Activity</code>. For example, if I output a <code>List</code> of Java objects to HTML, can I add a button to the web page that will execute Java code to delete or insert from the Android SqlLite database?</p>\n"},{"tags":["java","forms","pdf","pdfbox","xfa"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1701639979,"post_id":77596233,"comment_id":136797859,"body_markdown":"Welcome to Stack Overflow.\nSorry, but this site is not a ***discussion forum***.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively.","body":"Welcome to Stack Overflow. Sorry, but this site is not a <b><i>discussion forum</i></b>. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively."},{"owner":{"account_id":14313923,"reputation":8883,"user_id":10802527,"display_name":"K J"},"score":0,"creation_date":1701642914,"post_id":77596233,"comment_id":136798149,"body_markdown":"XFA is NOT PDF it is proprietary to Dobbe Live Cycle so there are no published rules. The advice from Adobe development partners is convert an XFA file into a static PDF and use standard open source methods. IF you can use the FDF toolkit that Adobe give away as SDK then you might have a fighting chance with simpler XFA files. Apryse (iText) know the reversing methods best so use iText code if good enough?  whatever the licence requires.","body":"XFA is NOT PDF it is proprietary to Dobbe Live Cycle so there are no published rules. The advice from Adobe development partners is convert an XFA file into a static PDF and use standard open source methods. IF you can use the FDF toolkit that Adobe give away as SDK then you might have a fighting chance with simpler XFA files. Apryse (iText) know the reversing methods best so use iText code if good enough?  whatever the licence requires."}],"owner":{"account_id":29473976,"reputation":9,"user_id":22586099,"display_name":"tp&#225;n Vejvoda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701638724,"creation_date":1701638724,"question_id":77596233,"body_markdown":"I&#39;m extracting form field details from PDF files and returning the information to the frontend for further use. I&#39;ve successfully handled PDFs with AcroForms, but I&#39;m struggling with files containing embedded XFA forms. While I&#39;ve managed to extract data from one file, the dynamic nature of XFAs has left me uncertain about the next steps. \r\n\r\nEdit: I am using PDFBox, because with iText there are licensing issues.\r\n\r\nExtracting relative `x` and `y` coordinates of a field is straightforward, but I&#39;m facing challenges with pages and absolute coordinates in PDFs containing embedded XFA forms.\\\r\nI&#39;ve thought that it can be solved by traversing the DOM document, storing margins and other necessary offsets, but I was surprised with structure of XFA.\\\r\nAccording to the documentation, page content should be enclosed in `&lt;pageArea&gt;`, but in my PDFs, the structure is different. The main `&lt;subform&gt;` represents the entire file, and within its children, there&#39;s a `&lt;pageSet&gt;` containing `&lt;pageArea&gt;` elements for all pages. The actual subforms representing the pages are located in a neighboring node. I have not been able to find any useful information about page binding to particular subform and the specification of XFA is rather ambiguous.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/bXgxz.png)](https://i.stack.imgur.com/bXgxz.png)\r\n\r\nWhat is more infuriating is that when I look into structure of PDF file with 8 pages, then there are 12 `&lt;subforms&gt;` elements and 7 `&lt;pageArea&gt;` elements. While the multiple subforms within one page (logical grouping) might explain the extra `&lt;subforms&gt;`, the absence of certain `&lt;pageArea&gt;` elements hints at a potential master page that stores layout information shared across multiple pages.\\\r\nI&#39;ve read that XFA doesn&#39;t really have concept of pages and the PDF is dynamically generated with use of render engine based on its structure. Given to the difficulty to build one-fits-all solution I wanted to ask if some of you have experience with this type of files and did you solve this issue?","title":"How to extract form field information (mainly locations) from a PDF with embedded XFA forms using Java and PDFBox?","body":"<p>I'm extracting form field details from PDF files and returning the information to the frontend for further use. I've successfully handled PDFs with AcroForms, but I'm struggling with files containing embedded XFA forms. While I've managed to extract data from one file, the dynamic nature of XFAs has left me uncertain about the next steps.</p>\n<p>Edit: I am using PDFBox, because with iText there are licensing issues.</p>\n<p>Extracting relative <code>x</code> and <code>y</code> coordinates of a field is straightforward, but I'm facing challenges with pages and absolute coordinates in PDFs containing embedded XFA forms.<br />\nI've thought that it can be solved by traversing the DOM document, storing margins and other necessary offsets, but I was surprised with structure of XFA.<br />\nAccording to the documentation, page content should be enclosed in <code>&lt;pageArea&gt;</code>, but in my PDFs, the structure is different. The main <code>&lt;subform&gt;</code> represents the entire file, and within its children, there's a <code>&lt;pageSet&gt;</code> containing <code>&lt;pageArea&gt;</code> elements for all pages. The actual subforms representing the pages are located in a neighboring node. I have not been able to find any useful information about page binding to particular subform and the specification of XFA is rather ambiguous.</p>\n<p><a href=\"https://i.stack.imgur.com/bXgxz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXgxz.png\" alt=\"enter image description here\" /></a></p>\n<p>What is more infuriating is that when I look into structure of PDF file with 8 pages, then there are 12 <code>&lt;subforms&gt;</code> elements and 7 <code>&lt;pageArea&gt;</code> elements. While the multiple subforms within one page (logical grouping) might explain the extra <code>&lt;subforms&gt;</code>, the absence of certain <code>&lt;pageArea&gt;</code> elements hints at a potential master page that stores layout information shared across multiple pages.<br />\nI've read that XFA doesn't really have concept of pages and the PDF is dynamically generated with use of render engine based on its structure. Given to the difficulty to build one-fits-all solution I wanted to ask if some of you have experience with this type of files and did you solve this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2788184,"reputation":11285,"user_id":2399024,"accept_rate":90,"display_name":"donfuxx"},"score":4,"creation_date":1396459275,"post_id":22818590,"comment_id":34801203,"body_markdown":"md5 or sh1 may work for that","body":"md5 or sh1 may work for that"},{"owner":{"account_id":212365,"reputation":1625,"user_id":465147,"accept_rate":52,"display_name":"sprabhakaran"},"score":0,"creation_date":1396459567,"post_id":22818590,"comment_id":34801391,"body_markdown":"Hi, if you have using linux OS, use the &quot;md5sum&quot; command. https://help.ubuntu.com/community/HowToMD5SUM","body":"Hi, if you have using linux OS, use the &quot;md5sum&quot; command. <a href=\"https://help.ubuntu.com/community/HowToMD5SUM\" rel=\"nofollow noreferrer\">help.ubuntu.com/community/HowToMD5SUM</a>"},{"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1396459587,"post_id":22818590,"comment_id":34801406,"body_markdown":"Are third-party libraries fair game?  Guava has [`Files.equal`](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/io/Files.html#equal(java.io.File,%20java.io.File)).  There&#39;s no real reason to bother with hashing if you don&#39;t have to; it can only be less efficient.","body":"Are third-party libraries fair game?  Guava has <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/io/Files.html#equal(java.io.File,%20java.io.File)\" rel=\"nofollow noreferrer\"><code>Files.equal</code></a>.  There&#39;s no real reason to bother with hashing if you don&#39;t have to; it can only be less efficient."},{"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"score":0,"creation_date":1396460971,"post_id":22818590,"comment_id":34802215,"body_markdown":"@LouisWasserman Yes. Please submit your comment as an answer (Guava&#39;s Files.equal) and I&#39;ll accept it.","body":"@LouisWasserman Yes. Please submit your comment as an answer (Guava&#39;s Files.equal) and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396460871,"creation_date":1396460021,"answer_id":22818845,"question_id":22818590,"body_markdown":"I had to do the same in a unit test too, so I used SHA1 hashes to do that, to spare the the calculation of the hashes I check if the files sizes are equal first. Here was my attempt:\r\n\r\n\tpublic class SHA1Compare {\r\n\t\tprivate static final int CHUNK_SIZE = 4096;\r\n\t\r\n\t\tpublic void assertEqualsSHA1(String expectedPath, String actualPath) throws IOException, NoSuchAlgorithmException {\r\n\t\t\tFile expectedFile = new File(expectedPath);\r\n\t\t\tFile actualFile = new File(actualPath);\r\n\t\t\tAssert.assertEquals(expectedFile.length(), actualFile.length());\r\n\t\t\ttry (FileInputStream fisExpected = new FileInputStream(actualFile);\r\n\t\t\t\t\tFileInputStream fisActual = new FileInputStream(expectedFile)) {\r\n\t\t\t\tAssert.assertEquals(makeMessageDigest(fisExpected), \r\n\t\t\t\t\t\tmakeMessageDigest(fisActual));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic String makeMessageDigest(InputStream is) throws NoSuchAlgorithmException, IOException {\r\n\t        byte[] data = new byte[CHUNK_SIZE];\r\n\t        MessageDigest md = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n\t        int bytesRead = 0;\r\n\t        while(-1 != (bytesRead = is.read(data, 0, CHUNK_SIZE))) {\r\n\t            md.update(data, 0, bytesRead);\r\n\t        }\r\n\t        return toHexString(md.digest());\r\n\t    }\r\n\t\r\n\t    private String toHexString(byte[] digest) {\r\n\t        StringBuilder sha1HexString = new StringBuilder();\r\n\t        for(int i = 0; i &lt; digest.length; i++) {\r\n\t            sha1HexString.append(String.format(&quot;%1$02x&quot;, Byte.valueOf(digest[i])));\r\n\t        }\r\n\t        return sha1HexString.toString();\r\n\t    }\r\n\t}\r\n","title":"Java: How to check that 2 binary files are same?","body":"<p>I had to do the same in a unit test too, so I used SHA1 hashes to do that, to spare the the calculation of the hashes I check if the files sizes are equal first. Here was my attempt:</p>\n\n<pre><code>public class SHA1Compare {\n    private static final int CHUNK_SIZE = 4096;\n\n    public void assertEqualsSHA1(String expectedPath, String actualPath) throws IOException, NoSuchAlgorithmException {\n        File expectedFile = new File(expectedPath);\n        File actualFile = new File(actualPath);\n        Assert.assertEquals(expectedFile.length(), actualFile.length());\n        try (FileInputStream fisExpected = new FileInputStream(actualFile);\n                FileInputStream fisActual = new FileInputStream(expectedFile)) {\n            Assert.assertEquals(makeMessageDigest(fisExpected), \n                    makeMessageDigest(fisActual));\n        }\n    }\n\n    public String makeMessageDigest(InputStream is) throws NoSuchAlgorithmException, IOException {\n        byte[] data = new byte[CHUNK_SIZE];\n        MessageDigest md = MessageDigest.getInstance(\"SHA1\");\n        int bytesRead = 0;\n        while(-1 != (bytesRead = is.read(data, 0, CHUNK_SIZE))) {\n            md.update(data, 0, bytesRead);\n        }\n        return toHexString(md.digest());\n    }\n\n    private String toHexString(byte[] digest) {\n        StringBuilder sha1HexString = new StringBuilder();\n        for(int i = 0; i &lt; digest.length; i++) {\n            sha1HexString.append(String.format(\"%1$02x\", Byte.valueOf(digest[i])));\n        }\n        return sha1HexString.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1652993077,"creation_date":1396461279,"answer_id":22819255,"question_id":22818590,"body_markdown":"There&#39;s always just reading byte by byte from each file and comparing them as you go.  Md5 and Sha1 etc still have to read all the bytes so computing the hash is extra work that you don&#39;t have to do.\r\n\r\n    if (file1.length() != file2.length()) {\r\n\t    return false;\r\n    }\r\n\t\t\r\n     try( InputStream in1 = new BufferedInputStream(new FileInputStream(file1));\r\n\t    InputStream in2 = new BufferedInputStream(new FileInputStream(file2));\r\n     ) {\r\n\r\n          int value1, value2;\r\n          do {\r\n               //since we&#39;re buffered, read() isn&#39;t expensive\r\n\t           value1 = in1.read();\r\n\t           value2 = in2.read();\r\n\t           if(value1 != value2) {\r\n\t\t           return false;\r\n\t           }\r\n\t      } while(value1 &gt;= 0);\r\n         \r\n     // since we already checked that the file sizes are equal \r\n     // if we&#39;re here we reached the end of both files without a mismatch\r\n     return true;\r\n    }","title":"Java: How to check that 2 binary files are same?","body":"<p>There's always just reading byte by byte from each file and comparing them as you go.  Md5 and Sha1 etc still have to read all the bytes so computing the hash is extra work that you don't have to do.</p>\n<pre><code>if (file1.length() != file2.length()) {\n    return false;\n}\n    \n try( InputStream in1 = new BufferedInputStream(new FileInputStream(file1));\n    InputStream in2 = new BufferedInputStream(new FileInputStream(file2));\n ) {\n\n      int value1, value2;\n      do {\n           //since we're buffered, read() isn't expensive\n           value1 = in1.read();\n           value2 = in2.read();\n           if(value1 != value2) {\n               return false;\n           }\n      } while(value1 &gt;= 0);\n     \n // since we already checked that the file sizes are equal \n // if we're here we reached the end of both files without a mismatch\n return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1518720876,"creation_date":1396463677,"answer_id":22820114,"question_id":22818590,"body_markdown":"Are third-party libraries fair game? Guava has [`Files.equal(File, File)`][1]. There&#39;s no real reason to bother with hashing if you don&#39;t have to; it can only be less efficient. \r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/io/Files.html#equal-java.io.File-java.io.File-","title":"Java: How to check that 2 binary files are same?","body":"<p>Are third-party libraries fair game? Guava has <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/io/Files.html#equal-java.io.File-java.io.File-\" rel=\"noreferrer\"><code>Files.equal(File, File)</code></a>. There's no real reason to bother with hashing if you don't have to; it can only be less efficient. </p>\n"},{"tags":[],"owner":{"account_id":2917568,"reputation":653,"user_id":2500462,"accept_rate":71,"display_name":"almanegra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396464425,"creation_date":1396464425,"answer_id":22820369,"question_id":22818590,"body_markdown":"With assertBinaryEquals.\r\n\r\n`public static void assertBinaryEquals(java.io.File expected,\r\n                                          java.io.File actual)`\r\n\r\n\r\n[http://junit-addons.sourceforge.net/junitx/framework/FileAssert.html][1]\r\n\r\n\r\n  [1]: http://junit-addons.sourceforge.net/junitx/framework/FileAssert.html","title":"Java: How to check that 2 binary files are same?","body":"<p>With assertBinaryEquals.</p>\n\n<p><code>public static void assertBinaryEquals(java.io.File expected,\n                                          java.io.File actual)</code></p>\n\n<p><a href=\"http://junit-addons.sourceforge.net/junitx/framework/FileAssert.html\" rel=\"nofollow\">http://junit-addons.sourceforge.net/junitx/framework/FileAssert.html</a></p>\n"},{"tags":[],"owner":{"account_id":3688787,"reputation":3018,"user_id":3071928,"accept_rate":57,"display_name":"Binkan Salaryman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652993926,"creation_date":1432279458,"answer_id":30390710,"question_id":22818590,"body_markdown":"Read the files in (small) blocks and compare them:\r\n\r\n    static boolean binaryDiff(File a, File b) throws IOException {\r\n        if(a.length() != b.length()){\r\n            return false;\r\n        }\r\n        \r\n        final int BLOCK_SIZE = 128;\r\n        InputStream aStream = new FileInputStream(a);\r\n        InputStream bStream = new FileInputStream(b);\r\n        byte[] aBuffer = new byte[BLOCK_SIZE];\r\n        byte[] bBuffer = new byte[BLOCK_SIZE];\r\n        do {\r\n            int aByteCount = aStream.read(aBuffer, 0, BLOCK_SIZE);\r\n            bStream.read(bBuffer, 0, BLOCK_SIZE);\r\n            if (!Arrays.equals(aBuffer, bBuffer)) {\r\n                return false;\r\n            }\r\n        }\r\n        while(aByteCount &lt; 0);\r\n        return true;\r\n    }","title":"Java: How to check that 2 binary files are same?","body":"<p>Read the files in (small) blocks and compare them:</p>\n<pre><code>static boolean binaryDiff(File a, File b) throws IOException {\n    if(a.length() != b.length()){\n        return false;\n    }\n    \n    final int BLOCK_SIZE = 128;\n    InputStream aStream = new FileInputStream(a);\n    InputStream bStream = new FileInputStream(b);\n    byte[] aBuffer = new byte[BLOCK_SIZE];\n    byte[] bBuffer = new byte[BLOCK_SIZE];\n    do {\n        int aByteCount = aStream.read(aBuffer, 0, BLOCK_SIZE);\n        bStream.read(bBuffer, 0, BLOCK_SIZE);\n        if (!Arrays.equals(aBuffer, bBuffer)) {\n            return false;\n        }\n    }\n    while(aByteCount &lt; 0);\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503500032,"creation_date":1503500032,"answer_id":45843117,"question_id":22818590,"body_markdown":"If you want to avoid dependencies you can do it using quite nicely with Files.readAllBytes and Assert.assertArrayEquals\r\n\r\n    Assert.assertArrayEquals(&quot;Binary files differ&quot;, \r\n    \tFiles.readAllBytes(Paths.get(expectedBinaryFile)), \r\n    \tFiles.readAllBytes(Paths.get(actualBinaryFile)));\r\n\r\nNote: This will read the whole file so it might not be efficient with large files.","title":"Java: How to check that 2 binary files are same?","body":"<p>If you want to avoid dependencies you can do it using quite nicely with Files.readAllBytes and Assert.assertArrayEquals</p>\n\n<pre><code>Assert.assertArrayEquals(\"Binary files differ\", \n    Files.readAllBytes(Paths.get(expectedBinaryFile)), \n    Files.readAllBytes(Paths.get(actualBinaryFile)));\n</code></pre>\n\n<p>Note: This will read the whole file so it might not be efficient with large files.</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588321776,"creation_date":1588321776,"answer_id":61539141,"question_id":22818590,"body_markdown":"**Since Java 12** you could also use the `Files.mismatch` method [JavaDoc][1]. It will return `-1L` if the files are the same.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#mismatch(java.nio.file.Path,java.nio.file.Path)","title":"Java: How to check that 2 binary files are same?","body":"<p><strong>Since Java 12</strong> you could also use the <code>Files.mismatch</code> method <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#mismatch(java.nio.file.Path,java.nio.file.Path)\" rel=\"nofollow noreferrer\">JavaDoc</a>. It will return <code>-1L</code> if the files are the same.</p>\n"},{"tags":[],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701638195,"creation_date":1701638195,"answer_id":77596212,"question_id":22818590,"body_markdown":"Apache Commons IO solution:\r\n\r\n```java\r\nboolean sameFileContent = FileUtils.contentEquals(file1, file2)\r\n```\r\n\r\nFrom documentation:\r\n\r\nCompares the contents of two files to determine if they are equal or not.\r\nChecks that \r\n1. The two files are different lengths or,\r\n2. If they point to the same file,\r\n3. And then does a byte-by-byte comparison of the contents.\r\n\r\nReference: \r\nhttps://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html\r\n\r\n","title":"Java: How to check that 2 binary files are same?","body":"<p>Apache Commons IO solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean sameFileContent = FileUtils.contentEquals(file1, file2)\n</code></pre>\n<p>From documentation:</p>\n<p>Compares the contents of two files to determine if they are equal or not.\nChecks that</p>\n<ol>\n<li>The two files are different lengths or,</li>\n<li>If they point to the same file,</li>\n<li>And then does a byte-by-byte comparison of the contents.</li>\n</ol>\n<p>Reference:\n<a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html</a></p>\n"}],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13891,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":22820114,"answer_count":8,"score":18,"last_activity_date":1701638195,"creation_date":1396459224,"question_id":22818590,"body_markdown":"What is the easiest way to check (in a unit test) whether binary files A and B are equal?","title":"Java: How to check that 2 binary files are same?","body":"<p>What is the easiest way to check (in a unit test) whether binary files A and B are equal?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551703363,"creation_date":1551611497,"answer_id":54968198,"question_id":54968170,"body_markdown":"In android you can&#39;t run network related actions on the main thread - you need to run them on a different thread, for example:\r\n\r\n    Thread yourThread = new Thread(new Runnable() {\r\n\r\n    @Override\r\n    public void run() {\r\n        try  {\r\n            //Put your code in here\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n      }\r\n    });\r\n\r\n    yourThread .start(); ","title":"How to use Mikrotik API on Android Studio","body":"<p>In android you can't run network related actions on the main thread - you need to run them on a different thread, for example:</p>\n\n<pre><code>Thread yourThread = new Thread(new Runnable() {\n\n@Override\npublic void run() {\n    try  {\n        //Put your code in here\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n});\n\nyourThread .start(); \n</code></pre>\n"}],"owner":{"account_id":15446464,"reputation":11,"user_id":11143278,"display_name":"Dimas Satria"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1551615517,"accepted_answer_id":54968198,"answer_count":1,"score":0,"last_activity_date":1701637459,"creation_date":1551611244,"question_id":54968170,"body_markdown":"I&#39;m trying to use mikrotik api Java in android, but when i downloaded it and added it in android studio project and used it the app forced to close!\r\n\r\nThis is my code:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        final String[] string_array = getResources().getStringArray(R.array.ip_venue);\r\n        spinner2 = findViewById(R.id.list_venue);\r\n        spinner2.setOnItemSelectedListener(new OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; arg0, View view, int position, long id12) {\r\n                    String Host1 = String.valueOf(string_array[arg0.getSelectedItemPosition()]);\r\n                ApiConnection con = null; // connect to router\r\n                try {\r\n                    con = ApiConnection.connect(SocketFactory.getDefault(), Host1, PORT, 2000);\r\n                } catch (MikrotikApiException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    con.login(USERNAME,PASSWORD); // log in to router\r\n                } catch (MikrotikApiException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    con.execute(&quot;/system/reboot&quot;); // execute a command\r\n                } catch (MikrotikApiException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    con.close(); // disconnect from router\r\n                } catch (ApiConnectionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; arg0) {\r\n            }\r\n        });\r\n    }\r\nAnd I get this message:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.duaempatsinergi.sams.teknisi24, PID: 5947\r\n    android.os.NetworkOnMainThreadException\r\n        at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1303)\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:333)\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:196)\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:356)\r\n        at java.net.Socket.connect(Socket.java:586)\r\n        at me.legrange.mikrotik.impl.ApiConnectionImpl.open(ApiConnectionImpl.java:142)\r\n        at me.legrange.mikrotik.impl.ApiConnectionImpl.connect(ApiConnectionImpl.java:44)\r\n        at me.legrange.mikrotik.ApiConnection.connect(ApiConnection.java:48)\r\n        at com.duaempatsinergi.sams.teknisi24.MainActivity$1.onItemSelected(MainActivity.java:40)\r\n        at android.widget.AdapterView.fireOnSelected(AdapterView.java:931)\r\n        at android.widget.AdapterView.dispatchOnItemSelected(AdapterView.java:920)\r\n        at android.widget.AdapterView.-wrap1(AdapterView.java)\r\n        at android.widget.AdapterView$SelectionNotifier.run(AdapterView.java:890)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\nDisconnected from the target VM, address: &#39;localhost:8620&#39;, transport: &#39;socket&#39;\r\n\r\nWhat am I doing wrong here? I am not an Android Developer but trying to build something useful for company I worked for.","title":"How to use Mikrotik API on Android Studio","body":"<p>I'm trying to use mikrotik api Java in android, but when i downloaded it and added it in android studio project and used it the app forced to close!</p>\n\n<p>This is my code:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    final String[] string_array = getResources().getStringArray(R.array.ip_venue);\n    spinner2 = findViewById(R.id.list_venue);\n    spinner2.setOnItemSelectedListener(new OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; arg0, View view, int position, long id12) {\n                String Host1 = String.valueOf(string_array[arg0.getSelectedItemPosition()]);\n            ApiConnection con = null; // connect to router\n            try {\n                con = ApiConnection.connect(SocketFactory.getDefault(), Host1, PORT, 2000);\n            } catch (MikrotikApiException e) {\n                e.printStackTrace();\n            }\n            try {\n                con.login(USERNAME,PASSWORD); // log in to router\n            } catch (MikrotikApiException e) {\n                e.printStackTrace();\n            }\n            try {\n                con.execute(\"/system/reboot\"); // execute a command\n            } catch (MikrotikApiException e) {\n                e.printStackTrace();\n            }\n            try {\n                con.close(); // disconnect from router\n            } catch (ApiConnectionException e) {\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; arg0) {\n        }\n    });\n}\n</code></pre>\n\n<p>And I get this message:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.duaempatsinergi.sams.teknisi24, PID: 5947\nandroid.os.NetworkOnMainThreadException\n    at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1303)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:333)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:196)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:356)\n    at java.net.Socket.connect(Socket.java:586)\n    at me.legrange.mikrotik.impl.ApiConnectionImpl.open(ApiConnectionImpl.java:142)\n    at me.legrange.mikrotik.impl.ApiConnectionImpl.connect(ApiConnectionImpl.java:44)\n    at me.legrange.mikrotik.ApiConnection.connect(ApiConnection.java:48)\n    at com.duaempatsinergi.sams.teknisi24.MainActivity$1.onItemSelected(MainActivity.java:40)\n    at android.widget.AdapterView.fireOnSelected(AdapterView.java:931)\n    at android.widget.AdapterView.dispatchOnItemSelected(AdapterView.java:920)\n    at android.widget.AdapterView.-wrap1(AdapterView.java)\n    at android.widget.AdapterView$SelectionNotifier.run(AdapterView.java:890)\n    at android.os.Handler.handleCallback(Handler.java:751)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n\n<p>Disconnected from the target VM, address: 'localhost:8620', transport: 'socket'</p>\n\n<p>What am I doing wrong here? I am not an Android Developer but trying to build something useful for company I worked for.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1557453611,"post_id":56069686,"comment_id":98778720,"body_markdown":"The `receive()` method apparently runs on a separate thread. All of the `setText()` calls inside of that are what you want to wrap in the `getActivity().runOnUiThread(new Runnable() ...`, not everything in `onCreateView()`.","body":"The <code>receive()</code> method apparently runs on a separate thread. All of the <code>setText()</code> calls inside of that are what you want to wrap in the <code>getActivity().runOnUiThread(new Runnable() ...</code>, not everything in <code>onCreateView()</code>."},{"owner":{"account_id":11103824,"reputation":70,"user_id":8151644,"display_name":"CCT"},"score":0,"creation_date":1557455787,"post_id":56069686,"comment_id":98779110,"body_markdown":"You created the view in a fragment and are accessing it&#39;s views from outside the fragment.  I think that&#39;s what&#39;s causing the error","body":"You created the view in a fragment and are accessing it&#39;s views from outside the fragment.  I think that&#39;s what&#39;s causing the error"}],"answers":[{"tags":[],"owner":{"account_id":1131194,"reputation":380,"user_id":1117219,"display_name":"StoneLam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1557454832,"creation_date":1557454832,"answer_id":56069864,"question_id":56069686,"body_markdown":"The fastest way to resolve the problem is, wrap all &quot;tv0.setText()&quot; call inside receive() function to another &quot;runOnUiThread&quot; block. Like this:\r\n```\r\npublic void receive(Map&lt;String, String&gt; result) {\r\n  getActivity().runOnUiThread(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n      tv0.setText(result.get(&quot;platform&quot;));\r\n      tv1.setText(result.get(&quot;board-name&quot;));\r\n      tv2.setText(result.get(&quot;version&quot;));\r\n      tv3.setText(result.get(&quot;uptime&quot;));\r\n      tv4.setText(String.format(&quot;%s %%&quot;, result.get(&quot;cpu-load&quot;)));\r\n      tv5.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;free-memory&quot;)) / (1024*1024)));\r\n      tv6.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;total-memory&quot;)) / (1024*1024)));\r\n      tv7.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;free-hdd-space&quot;)) / (1024*1024)));\r\n      tv8.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;total-hdd-space&quot;)) / (1024*1024)));\r\n  });\r\n}\r\n```\r\nand the outter &quot;getActivity().runOnUiThread&quot; can be removed.\r\n\r\n\r\n","title":"How to fix &quot;Only the original thread that created a view hierarchy can touch its views&quot; in Android Fragment?","body":"<p>The fastest way to resolve the problem is, wrap all \"tv0.setText()\" call inside receive() function to another \"runOnUiThread\" block. Like this:</p>\n\n<pre><code>public void receive(Map&lt;String, String&gt; result) {\n  getActivity().runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n      tv0.setText(result.get(\"platform\"));\n      tv1.setText(result.get(\"board-name\"));\n      tv2.setText(result.get(\"version\"));\n      tv3.setText(result.get(\"uptime\"));\n      tv4.setText(String.format(\"%s %%\", result.get(\"cpu-load\")));\n      tv5.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"free-memory\")) / (1024*1024)));\n      tv6.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"total-memory\")) / (1024*1024)));\n      tv7.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"free-hdd-space\")) / (1024*1024)));\n      tv8.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"total-hdd-space\")) / (1024*1024)));\n  });\n}\n</code></pre>\n\n<p>and the outter \"getActivity().runOnUiThread\" can be removed.</p>\n"}],"owner":{"account_id":15907944,"reputation":21,"user_id":11478615,"display_name":"Yoga Hilmi Tasanah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":56069864,"answer_count":1,"score":0,"last_activity_date":1701637008,"creation_date":1557452979,"question_id":56069686,"body_markdown":"I have a problem in my code below\r\n\r\n    public class StatusFragment extends Fragment {\r\n    \r\n    \r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            final View view = inflater.inflate(R.layout.fragment_status, container, false);\r\n    \r\n            //Untuk menjalankan command dari API\r\n            {\r\n                getActivity().runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n    \r\n                        final TextView tv0 = (TextView) view.findViewById(R.id.textView0);\r\n                        final TextView tv1 = (TextView) view.findViewById(R.id.textView1);\r\n                        final TextView tv2 = (TextView) view.findViewById(R.id.textView2);\r\n                        final TextView tv3 = (TextView) view.findViewById(R.id.textView3);\r\n                        final TextView tv4 = (TextView) view.findViewById(R.id.textView4);\r\n                        final TextView tv5 = (TextView) view.findViewById(R.id.textView5);\r\n                        final TextView tv6 = (TextView) view.findViewById(R.id.textView6);\r\n                        final TextView tv7 = (TextView) view.findViewById(R.id.textView7);\r\n                        final TextView tv8 = (TextView) view.findViewById(R.id.textView8);\r\n    \r\n                        ApiConnection con = MainActivity.getCon();\r\n                        if (con !=null)\r\n                            try {\r\n    \r\n                                //Untuk Menampilkan Resource dari Mikrotik\r\n                                String rs = con.execute(&quot;/system/resource/print interval=3&quot;,\r\n                                        new ResultListener() {\r\n    \r\n                                            public void receive(Map&lt;String, String&gt; result) {\r\n                                                tv0.setText(result.get(&quot;platform&quot;));\r\n                                                tv1.setText(result.get(&quot;board-name&quot;));\r\n                                                tv2.setText(result.get(&quot;version&quot;));\r\n                                                tv3.setText(result.get(&quot;uptime&quot;));\r\n                                                tv4.setText(String.format(&quot;%s %%&quot;, result.get(&quot;cpu-load&quot;)));\r\n                                                tv5.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;free-memory&quot;)) / (1024*1024)));\r\n                                                tv6.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;total-memory&quot;)) / (1024*1024)));\r\n                                                tv7.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;free-hdd-space&quot;)) / (1024*1024)));\r\n                                                tv8.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;total-hdd-space&quot;)) / (1024*1024)));\r\n                                            }\r\n    \r\n                                            public void error(MikrotikApiException e) {\r\n                                                System.out.println(&quot;An error occurred: &quot; + e.getMessage());\r\n                                            }\r\n    \r\n                                            public void completed() {\r\n                                                System.out.println(&quot;Asynchronous command has finished&quot;);\r\n                                            }\r\n                                        }\r\n    \r\n                                );\r\n    \r\n    \r\n                            } catch (MikrotikApiException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                    }\r\n                });\r\n    \r\n    \r\n            }\r\n    \r\n            return view;\r\n        }\r\n    \r\n    }\r\n\r\n--------- beginning of crash\r\n\r\n&gt; 05-10 08:26:58.797 7122-7164/com.tasanahetech.mikroboxv2\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: Mikrotik API Result Processor\r\n&gt;     Process: com.tasanahetech.mikroboxv2, PID: 7122\r\n&gt;     android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\r\n&gt;         at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:6556)\r\n&gt;         at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:907)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.widget.RelativeLayout.requestLayout(RelativeLayout.java:360)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.support.constraint.ConstraintLayout.requestLayout(ConstraintLayout.java:3172)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.widget.TextView.checkForRelayout(TextView.java:7172)\r\n&gt;         at android.widget.TextView.setText(TextView.java:4342)\r\n&gt;         at android.widget.TextView.setText(TextView.java:4199)\r\n&gt;         at android.widget.TextView.setText(TextView.java:4174)\r\n&gt;         at com.tasanahetech.mikroboxv2.StatusFragment$1$1.receive(StatusFragment.java:57)\r\n&gt;         at com.tasanahetech.mikroboxv2.api.impl.ApiConnectionImpl$Processor.run(ApiConnectionImpl.java:258)\r\n\r\n\r\nThank you\r\n","title":"How to fix &quot;Only the original thread that created a view hierarchy can touch its views&quot; in Android Fragment?","body":"<p>I have a problem in my code below</p>\n\n<pre><code>public class StatusFragment extends Fragment {\n\n\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        final View view = inflater.inflate(R.layout.fragment_status, container, false);\n\n        //Untuk menjalankan command dari API\n        {\n            getActivity().runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n\n                    final TextView tv0 = (TextView) view.findViewById(R.id.textView0);\n                    final TextView tv1 = (TextView) view.findViewById(R.id.textView1);\n                    final TextView tv2 = (TextView) view.findViewById(R.id.textView2);\n                    final TextView tv3 = (TextView) view.findViewById(R.id.textView3);\n                    final TextView tv4 = (TextView) view.findViewById(R.id.textView4);\n                    final TextView tv5 = (TextView) view.findViewById(R.id.textView5);\n                    final TextView tv6 = (TextView) view.findViewById(R.id.textView6);\n                    final TextView tv7 = (TextView) view.findViewById(R.id.textView7);\n                    final TextView tv8 = (TextView) view.findViewById(R.id.textView8);\n\n                    ApiConnection con = MainActivity.getCon();\n                    if (con !=null)\n                        try {\n\n                            //Untuk Menampilkan Resource dari Mikrotik\n                            String rs = con.execute(\"/system/resource/print interval=3\",\n                                    new ResultListener() {\n\n                                        public void receive(Map&lt;String, String&gt; result) {\n                                            tv0.setText(result.get(\"platform\"));\n                                            tv1.setText(result.get(\"board-name\"));\n                                            tv2.setText(result.get(\"version\"));\n                                            tv3.setText(result.get(\"uptime\"));\n                                            tv4.setText(String.format(\"%s %%\", result.get(\"cpu-load\")));\n                                            tv5.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"free-memory\")) / (1024*1024)));\n                                            tv6.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"total-memory\")) / (1024*1024)));\n                                            tv7.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"free-hdd-space\")) / (1024*1024)));\n                                            tv8.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"total-hdd-space\")) / (1024*1024)));\n                                        }\n\n                                        public void error(MikrotikApiException e) {\n                                            System.out.println(\"An error occurred: \" + e.getMessage());\n                                        }\n\n                                        public void completed() {\n                                            System.out.println(\"Asynchronous command has finished\");\n                                        }\n                                    }\n\n                            );\n\n\n                        } catch (MikrotikApiException e) {\n                            e.printStackTrace();\n                        }\n                }\n            });\n\n\n        }\n\n        return view;\n    }\n\n}\n</code></pre>\n\n<p>--------- beginning of crash</p>\n\n<blockquote>\n  <p>05-10 08:26:58.797 7122-7164/com.tasanahetech.mikroboxv2\n  E/AndroidRuntime: FATAL EXCEPTION: Mikrotik API Result Processor\n      Process: com.tasanahetech.mikroboxv2, PID: 7122\n      android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n          at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:6556)\n          at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:907)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.widget.RelativeLayout.requestLayout(RelativeLayout.java:360)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.support.constraint.ConstraintLayout.requestLayout(ConstraintLayout.java:3172)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.widget.TextView.checkForRelayout(TextView.java:7172)\n          at android.widget.TextView.setText(TextView.java:4342)\n          at android.widget.TextView.setText(TextView.java:4199)\n          at android.widget.TextView.setText(TextView.java:4174)\n          at com.tasanahetech.mikroboxv2.StatusFragment$1$1.receive(StatusFragment.java:57)\n          at com.tasanahetech.mikroboxv2.api.impl.ApiConnectionImpl$Processor.run(ApiConnectionImpl.java:258)</p>\n</blockquote>\n\n<p>Thank you</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701636861,"creation_date":1648893594,"answer_id":71716538,"question_id":71715844,"body_markdown":"`MANAGE_EXTERNAL_STORAGE` is for Andoid 11+ devices ([API 30](https://developer.android.com/reference/android/Manifest.permission#MANAGE_EXTERNAL_STORAGE)).\r\n\r\nFor an Android 10 device add `requestLegacyExternalStorage` to manifest file.","title":"Unable to request MANAGE_EXTERNAL_STORAGE (android 10)","body":"<p><code>MANAGE_EXTERNAL_STORAGE</code> is for Andoid 11+ devices (<a href=\"https://developer.android.com/reference/android/Manifest.permission#MANAGE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\">API 30</a>).</p>\n<p>For an Android 10 device add <code>requestLegacyExternalStorage</code> to manifest file.</p>\n"},{"tags":[],"owner":{"account_id":11008048,"reputation":584,"user_id":8086401,"display_name":"Muraino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648896838,"creation_date":1648896838,"answer_id":71716907,"question_id":71715844,"body_markdown":"App below android 10\r\n\r\n - If you want to write and read any file in the External storage, you can use WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE\r\n\r\nFor Android 10\r\n\r\n - you can use requestLegacyExternalStorage=true in the application tag in your manifest. It will provide you the access to write file in External storage.\r\n\r\n&gt;  &lt;application\r\n      android:name=&quot;.GlobalVars&quot;\r\n      android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\n     \r\nBut it&#39;s a temporary solution. So the best solution is using SAF (Storage Access Framework) [storage access framework][1] or Scoped Storage [Scoped storage][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/providers/document-provider\r\n  [2]: https://developer.android.com/about/versions/11/privacy/storage\r\n\r\n\r\nFor android 11, Android system ignores the requestLegacyExternalStorage. So you can either Scoped storage or SAF to write any file into storage.\r\n\r\nAlso Note: If your app targets Android 11, it cannot access the files in any other app&#39;s data directory, even if the other app targets Android 8.1 (API level 27) or lower and has made the files in its data directory world-readable.\r\n\r\n","title":"Unable to request MANAGE_EXTERNAL_STORAGE (android 10)","body":"<p>App below android 10</p>\n<ul>\n<li>If you want to write and read any file in the External storage, you can use WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE</li>\n</ul>\n<p>For Android 10</p>\n<ul>\n<li>you can use requestLegacyExternalStorage=true in the application tag in your manifest. It will provide you the access to write file in External storage.</li>\n</ul>\n<blockquote>\n<p>&lt;application\nandroid:name=&quot;.GlobalVars&quot;\nandroid:requestLegacyExternalStorage=&quot;true&quot;</p>\n</blockquote>\n<p>But it's a temporary solution. So the best solution is using SAF (Storage Access Framework) <a href=\"https://developer.android.com/guide/topics/providers/document-provider\" rel=\"nofollow noreferrer\">storage access framework</a> or Scoped Storage <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">Scoped storage</a></p>\n<p>For android 11, Android system ignores the requestLegacyExternalStorage. So you can either Scoped storage or SAF to write any file into storage.</p>\n<p>Also Note: If your app targets Android 11, it cannot access the files in any other app's data directory, even if the other app targets Android 8.1 (API level 27) or lower and has made the files in its data directory world-readable.</p>\n"},{"tags":[],"owner":{"account_id":24241808,"reputation":45,"user_id":18194074,"display_name":"dandan21"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1649314644,"creation_date":1649314644,"answer_id":71777610,"question_id":71715844,"body_markdown":"I found the solution after some more research:\r\nI ended up doing this:\r\n\r\nAdd this to manifest file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt; &lt;!-- &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt; --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\nDefine the required permission to ask for:\r\n\r\n    public static List&lt;Permissions&gt; AppPermissions = Arrays.asList(\r\n            new Permissions(&quot;MANAGE_EXTERNAL_STORAGE&quot;, Manifest.permission.MANAGE_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;READ_EXTERNAL_STORAGE&quot;, Manifest.permission.READ_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;WRITE_EXTERNAL_STORAGE&quot;, Manifest.permission.WRITE_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;READ_SMS&quot;, Manifest.permission.READ_SMS),\r\n            new Permissions(&quot;SEND_SMS&quot;, Manifest.permission.SEND_SMS),\r\n            new Permissions(&quot;ACCESS_BACKGROUND_LOCATION&quot;, Manifest.permission.ACCESS_BACKGROUND_LOCATION),\r\n            new Permissions(&quot;CAMERA&quot;, Manifest.permission.CAMERA),\r\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.RECORD_AUDIO),\r\n            new Permissions(&quot;WRITE_CONTACTS&quot;, Manifest.permission.WRITE_CONTACTS),\r\n            new Permissions(&quot;READ_CONTACTS&quot;, Manifest.permission.READ_CONTACTS),\r\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.READ_CALL_LOG)\r\n    );\r\n\r\nRequire those permission in mainActivity:\r\n\r\n\r\n    ActivityResultLauncher&lt;String[]&gt; mPermissionResultLauncher;\r\n   \r\n    @Override\r\n    protected void onStart() {\r\n        mPermissionResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), new ActivityResultCallback&lt;Map&lt;String, Boolean&gt;&gt;() {\r\n            @Override\r\n            public void onActivityResult(Map&lt;String, Boolean&gt; result) {\r\n                for(Permissions permission: GlobalVars.AppPermissions){\r\n                    if (result.get(permission.ManifestName) != null) {\r\n                        permission.IsGranted = result.get(permission.ManifestName);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        if(Build.VERSION.SDK_INT &gt;= 30) {\r\n            if (Environment.isExternalStorageManager()){\r\n            }else{\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                //intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\r\n                intent.setData(uri);\r\n                startActivity(intent);\r\n            }\r\n        }\r\n        requestPermission();\r\n        super.onStart();\r\n    }\r\n\r\n    private void requestPermission() {\r\n        // A simple check of whether runtime permissions need to be managed\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            List&lt;String&gt; permissionRequest = new ArrayList&lt;String&gt;();\r\n            for(Permissions permission: GlobalVars.AppPermissions){\r\n                int pp = ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName);\r\n                int pg = PackageManager.PERMISSION_GRANTED;\r\n                if (ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName) != PackageManager.PERMISSION_GRANTED) {\r\n                    permissionRequest.add(permission.ManifestName);\r\n                }\r\n            }\r\n            if (!permissionRequest.isEmpty()){\r\n                mPermissionResultLauncher.launch(permissionRequest.toArray(new String[0]));\r\n            }\r\n        }\r\n    }","title":"Unable to request MANAGE_EXTERNAL_STORAGE (android 10)","body":"<p>I found the solution after some more research:\nI ended up doing this:</p>\n<p>Add this to manifest file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt; &lt;!-- &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt; --&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n</code></pre>\n<p>Define the required permission to ask for:</p>\n<pre><code>public static List&lt;Permissions&gt; AppPermissions = Arrays.asList(\n        new Permissions(&quot;MANAGE_EXTERNAL_STORAGE&quot;, Manifest.permission.MANAGE_EXTERNAL_STORAGE),\n        new Permissions(&quot;READ_EXTERNAL_STORAGE&quot;, Manifest.permission.READ_EXTERNAL_STORAGE),\n        new Permissions(&quot;WRITE_EXTERNAL_STORAGE&quot;, Manifest.permission.WRITE_EXTERNAL_STORAGE),\n        new Permissions(&quot;READ_SMS&quot;, Manifest.permission.READ_SMS),\n        new Permissions(&quot;SEND_SMS&quot;, Manifest.permission.SEND_SMS),\n        new Permissions(&quot;ACCESS_BACKGROUND_LOCATION&quot;, Manifest.permission.ACCESS_BACKGROUND_LOCATION),\n        new Permissions(&quot;CAMERA&quot;, Manifest.permission.CAMERA),\n        new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.RECORD_AUDIO),\n        new Permissions(&quot;WRITE_CONTACTS&quot;, Manifest.permission.WRITE_CONTACTS),\n        new Permissions(&quot;READ_CONTACTS&quot;, Manifest.permission.READ_CONTACTS),\n        new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.READ_CALL_LOG)\n);\n</code></pre>\n<p>Require those permission in mainActivity:</p>\n<pre><code>ActivityResultLauncher&lt;String[]&gt; mPermissionResultLauncher;\n\n@Override\nprotected void onStart() {\n    mPermissionResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), new ActivityResultCallback&lt;Map&lt;String, Boolean&gt;&gt;() {\n        @Override\n        public void onActivityResult(Map&lt;String, Boolean&gt; result) {\n            for(Permissions permission: GlobalVars.AppPermissions){\n                if (result.get(permission.ManifestName) != null) {\n                    permission.IsGranted = result.get(permission.ManifestName);\n                }\n            }\n        }\n    });\n\n    if(Build.VERSION.SDK_INT &gt;= 30) {\n        if (Environment.isExternalStorageManager()){\n        }else{\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            //intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\n            intent.setData(uri);\n            startActivity(intent);\n        }\n    }\n    requestPermission();\n    super.onStart();\n}\n\nprivate void requestPermission() {\n    // A simple check of whether runtime permissions need to be managed\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        List&lt;String&gt; permissionRequest = new ArrayList&lt;String&gt;();\n        for(Permissions permission: GlobalVars.AppPermissions){\n            int pp = ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName);\n            int pg = PackageManager.PERMISSION_GRANTED;\n            if (ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName) != PackageManager.PERMISSION_GRANTED) {\n                permissionRequest.add(permission.ManifestName);\n            }\n        }\n        if (!permissionRequest.isEmpty()){\n            mPermissionResultLauncher.launch(permissionRequest.toArray(new String[0]));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24241808,"reputation":45,"user_id":18194074,"display_name":"dandan21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9965,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1701636861,"creation_date":1648886615,"question_id":71715844,"body_markdown":"I am testing my app on android 10 and I try to gain r/w access to all files.\r\nI tried to follow this [Solution][1] but I still can&#39;t get the MANAGE_EXTERNAL_STORAGE permission.\r\nI also tried this [Solution 2][2].\r\n\r\nOn my manifest I ask for:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n...\r\n\r\n    &lt;application\r\n        android:name=&quot;.GlobalVars&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.HangMan&quot;&gt;\r\n\r\n    class Permissions extends Application{\r\n        public String Name;\r\n        public String ManifestName;\r\n        public boolean IsGranted;\r\n    \r\n        Permissions(String name, String manifestName){\r\n            Name = name;\r\n            ManifestName = manifestName;\r\n            IsGranted = false;\r\n        }\r\n    \r\n        Permissions(String name, String manifestName, boolean isGranted){\r\n            Name = name;\r\n            ManifestName = manifestName;\r\n            IsGranted = isGranted;\r\n        }\r\n    }\r\n\r\nWhen the app is create is check the permissions and is the permissions are not granted the user has to accept them.\r\nI use this code:\r\nDefine the required permission globally:\r\n```\r\npublic class GlobalVars extends Application {\r\n public static List&lt;Permissions&gt; AppPermissions = Arrays.asList(\r\n            new Permissions(&quot;MANAGE_EXTERNAL_STORAGE&quot;, Manifest.permission.MANAGE_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;READ_EXTERNAL_STORAGE&quot;, Manifest.permission.READ_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;WRITE_EXTERNAL_STORAGE&quot;, Manifest.permission.WRITE_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;READ_SMS&quot;, Manifest.permission.READ_SMS),\r\n            new Permissions(&quot;SEND_SMS&quot;, Manifest.permission.SEND_SMS),\r\n            new Permissions(&quot;ACCESS_BACKGROUND_LOCATION&quot;, Manifest.permission.ACCESS_BACKGROUND_LOCATION),\r\n            new Permissions(&quot;CAMERA&quot;, Manifest.permission.CAMERA),\r\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.RECORD_AUDIO),\r\n            new Permissions(&quot;WRITE_CONTACTS&quot;, Manifest.permission.WRITE_CONTACTS),\r\n            new Permissions(&quot;READ_CONTACTS&quot;, Manifest.permission.READ_CONTACTS),\r\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.READ_CALL_LOG)\r\n    );\r\n}\r\n```\r\nin my MainActivity:\r\n\r\n    protected void onStart() {\r\n        mPermissionResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), new ActivityResultCallback&lt;Map&lt;String, Boolean&gt;&gt;() {\r\n            @Override\r\n            public void onActivityResult(Map&lt;String, Boolean&gt; result) {\r\n                for(Permissions permission: GlobalVars.AppPermissions){\r\n                    if (result.get(permission.ManifestName) != null) {\r\n                        permission.IsGranted = result.get(permission.ManifestName);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    \r\n        if(Build.VERSION.SDK_INT &gt;= 30) {\r\n            if (Environment.isExternalStorageManager()){\r\n            }else{\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\r\n                intent.setData(uri);\r\n                startActivity(intent);\r\n            }\r\n        }\r\n    \r\n        requestPermission();\r\n        super.onStart();\r\n    }\r\n        private void requestPermission() {\r\n            // A simple check of whether runtime permissions need to be managed\r\n    \r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                List&lt;String&gt; permissionRequest = new ArrayList&lt;String&gt;();\r\n                for(Permissions permission: GlobalVars.AppPermissions){\r\n                    int pp = ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName);\r\n                    int pg = PackageManager.PERMISSION_GRANTED;\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName) != PackageManager.PERMISSION_GRANTED) {\r\n                        permissionRequest.add(permission.ManifestName);\r\n                    }\r\n                }\r\n                if (!permissionRequest.isEmpty()){\r\n                    mPermissionResultLauncher.launch(permissionRequest.toArray(new String[0]));\r\n                }\r\n            }\r\n        }\r\n\r\nThe above code works well and pops up the required requested permissions if they are nor granted.\r\nHowever, when I check, e.g.:\r\n\r\n    int me = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.MANAGE_EXTERNAL_STORAGE);\r\n    int re = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n    int we = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n\r\nAfter granting all the permissions MANAGE_EXTERNAL_STORAGE always return -1.\r\nMy app as I noticed has not r/w access to other files, e.g. under `/sdcard/downloads/` \r\n\r\nSo how can I add R/W permission for all files?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65876736/how-do-you-request-manage-external-storage-permission-in-android\r\n  [2]: https://stackoverflow.com/questions/71459422/alternative-to-requestlegacyexternalstorage-and-manage-external-storage-for-publ","title":"Unable to request MANAGE_EXTERNAL_STORAGE (android 10)","body":"<p>I am testing my app on android 10 and I try to gain r/w access to all files.\nI tried to follow this <a href=\"https://stackoverflow.com/questions/65876736/how-do-you-request-manage-external-storage-permission-in-android\">Solution</a> but I still can't get the MANAGE_EXTERNAL_STORAGE permission.\nI also tried this <a href=\"https://stackoverflow.com/questions/71459422/alternative-to-requestlegacyexternalstorage-and-manage-external-storage-for-publ\">Solution 2</a>.</p>\n<p>On my manifest I ask for:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>...</p>\n<pre><code>&lt;application\n    android:name=&quot;.GlobalVars&quot;\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.HangMan&quot;&gt;\n\nclass Permissions extends Application{\n    public String Name;\n    public String ManifestName;\n    public boolean IsGranted;\n\n    Permissions(String name, String manifestName){\n        Name = name;\n        ManifestName = manifestName;\n        IsGranted = false;\n    }\n\n    Permissions(String name, String manifestName, boolean isGranted){\n        Name = name;\n        ManifestName = manifestName;\n        IsGranted = isGranted;\n    }\n}\n</code></pre>\n<p>When the app is create is check the permissions and is the permissions are not granted the user has to accept them.\nI use this code:\nDefine the required permission globally:</p>\n<pre><code>public class GlobalVars extends Application {\n public static List&lt;Permissions&gt; AppPermissions = Arrays.asList(\n            new Permissions(&quot;MANAGE_EXTERNAL_STORAGE&quot;, Manifest.permission.MANAGE_EXTERNAL_STORAGE),\n            new Permissions(&quot;READ_EXTERNAL_STORAGE&quot;, Manifest.permission.READ_EXTERNAL_STORAGE),\n            new Permissions(&quot;WRITE_EXTERNAL_STORAGE&quot;, Manifest.permission.WRITE_EXTERNAL_STORAGE),\n            new Permissions(&quot;READ_SMS&quot;, Manifest.permission.READ_SMS),\n            new Permissions(&quot;SEND_SMS&quot;, Manifest.permission.SEND_SMS),\n            new Permissions(&quot;ACCESS_BACKGROUND_LOCATION&quot;, Manifest.permission.ACCESS_BACKGROUND_LOCATION),\n            new Permissions(&quot;CAMERA&quot;, Manifest.permission.CAMERA),\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.RECORD_AUDIO),\n            new Permissions(&quot;WRITE_CONTACTS&quot;, Manifest.permission.WRITE_CONTACTS),\n            new Permissions(&quot;READ_CONTACTS&quot;, Manifest.permission.READ_CONTACTS),\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.READ_CALL_LOG)\n    );\n}\n</code></pre>\n<p>in my MainActivity:</p>\n<pre><code>protected void onStart() {\n    mPermissionResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), new ActivityResultCallback&lt;Map&lt;String, Boolean&gt;&gt;() {\n        @Override\n        public void onActivityResult(Map&lt;String, Boolean&gt; result) {\n            for(Permissions permission: GlobalVars.AppPermissions){\n                if (result.get(permission.ManifestName) != null) {\n                    permission.IsGranted = result.get(permission.ManifestName);\n                }\n            }\n        }\n    });\n\n    if(Build.VERSION.SDK_INT &gt;= 30) {\n        if (Environment.isExternalStorageManager()){\n        }else{\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\n            intent.setData(uri);\n            startActivity(intent);\n        }\n    }\n\n    requestPermission();\n    super.onStart();\n}\n    private void requestPermission() {\n        // A simple check of whether runtime permissions need to be managed\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            List&lt;String&gt; permissionRequest = new ArrayList&lt;String&gt;();\n            for(Permissions permission: GlobalVars.AppPermissions){\n                int pp = ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName);\n                int pg = PackageManager.PERMISSION_GRANTED;\n                if (ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName) != PackageManager.PERMISSION_GRANTED) {\n                    permissionRequest.add(permission.ManifestName);\n                }\n            }\n            if (!permissionRequest.isEmpty()){\n                mPermissionResultLauncher.launch(permissionRequest.toArray(new String[0]));\n            }\n        }\n    }\n</code></pre>\n<p>The above code works well and pops up the required requested permissions if they are nor granted.\nHowever, when I check, e.g.:</p>\n<pre><code>int me = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.MANAGE_EXTERNAL_STORAGE);\nint re = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE);\nint we = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n</code></pre>\n<p>After granting all the permissions MANAGE_EXTERNAL_STORAGE always return -1.\nMy app as I noticed has not r/w access to other files, e.g. under <code>/sdcard/downloads/</code></p>\n<p>So how can I add R/W permission for all files?</p>\n"},{"tags":["java","image","javafx","imageview","geturl"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1701655704,"post_id":77596110,"comment_id":136799045,"body_markdown":"Which `Image` constructor are you using? If you use `Image(String)` then `getUrl()` should not be returning null. However, it will return null if you use `Image(InputStream)`. Regardless, trying to get the source of the image from an `Image` object is, at least in my opinion, the wrong approach. Keep this information in the model associated with the `Image` / `ImageView`.","body":"Which <code>Image</code> constructor are you using? If you use <code>Image(String)</code> then <code>getUrl()</code> should not be returning null. However, it will return null if you use <code>Image(InputStream)</code>. Regardless, trying to get the source of the image from an <code>Image</code> object is, at least in my opinion, the wrong approach. Keep this information in the model associated with the <code>Image</code> / <code>ImageView</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1701687101,"post_id":77596110,"comment_id":136802317,"body_markdown":"For such a question you should provide the code you use to create the image you set into your `holding2` variable (e.g. provide a [mcve]).  Also, an i is capitalized, always.","body":"For such a question you should provide the code you use to create the image you set into your <code>holding2</code> variable (e.g. provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>).  Also, an i is capitalized, always."},{"owner":{"account_id":23955688,"reputation":13,"user_id":17946609,"display_name":"king cannibal"},"score":0,"creation_date":1701720777,"post_id":77596110,"comment_id":136808588,"body_markdown":"ill try another approch, the code setting the imageview&#39;s image its stretched over various files with userinput impacting the image so i could add the code. Thanks though, if you set your comment as a answer ill set it as a answer","body":"ill try another approch, the code setting the imageview&#39;s image its stretched over various files with userinput impacting the image so i could add the code. Thanks though, if you set your comment as a answer ill set it as a answer"}],"owner":{"account_id":23955688,"reputation":13,"user_id":17946609,"display_name":"king cannibal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701636356,"creation_date":1701636356,"question_id":77596110,"body_markdown":"ive been rectently working with javafx. In my code i&#39;ve came across an annoying feature of javafx and i was wondering if there was a way of getting around it. Through my research ive realised &#39;imageview&#39; nodes dont store the value of the image eg. location. I would like to get the directory from my imageview; which itself was passed through a class call. Everytime i use &#39;getUrl&#39; it always returns as null which is annoying. when i set the image to the imageview it was set from a png image file so it should have a directory. There is the file name which i need for my code. This is a simple problem, for which i have no found a fix. Please help me  \r\n\r\n````  ImageView holding2 = (ImageView) inven.getChildren().get(occupied+(9*occupied1));\r\n                           Image image = holding2.getImage();\r\n                    \r\n                           System.out.println(image.getUrl());\r\n````\r\n^^^^\r\nthis returns as null","title":"Get image directory from ImageView directory in javafx","body":"<p>ive been rectently working with javafx. In my code i've came across an annoying feature of javafx and i was wondering if there was a way of getting around it. Through my research ive realised 'imageview' nodes dont store the value of the image eg. location. I would like to get the directory from my imageview; which itself was passed through a class call. Everytime i use 'getUrl' it always returns as null which is annoying. when i set the image to the imageview it was set from a png image file so it should have a directory. There is the file name which i need for my code. This is a simple problem, for which i have no found a fix. Please help me</p>\n<pre><code>                           Image image = holding2.getImage();\n                    \n                           System.out.println(image.getUrl());\n</code></pre>\n<p>^^^^\nthis returns as null</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3591100,"reputation":930,"user_id":2997147,"accept_rate":52,"display_name":"FrankelStein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701175729,"creation_date":1701175729,"answer_id":77564023,"question_id":77563612,"body_markdown":"The error basically suggest that you don&#39;t have the right version of the **JDK** installed or you might be using a JRE (Java Runtime Environment which comes normally bundeled by default). If that&#39;s the case you should get the proper JDK (Java Development Kit) and update your runtime environment in VSCode.","title":"Java Spring Boot &quot;release is not in the system&quot; Error","body":"<p>The error basically suggest that you don't have the right version of the <strong>JDK</strong> installed or you might be using a JRE (Java Runtime Environment which comes normally bundeled by default). If that's the case you should get the proper JDK (Java Development Kit) and update your runtime environment in VSCode.</p>\n"},{"tags":[],"owner":{"account_id":28859373,"reputation":1,"user_id":22103529,"display_name":"Girts S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701635961,"creation_date":1701635961,"answer_id":77596096,"question_id":77563612,"body_markdown":"For me the jre change to correct one(one I specified in https://start.spring.io/) in window-&gt;preferences-&gt;Java-&gt;InstalledJREs resolved the problem. It is not enough that you have installed the correct JRE/JDK- you have to use correct one in the Eclipse.","title":"Java Spring Boot &quot;release is not in the system&quot; Error","body":"<p>For me the jre change to correct one(one I specified in <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>) in window-&gt;preferences-&gt;Java-&gt;InstalledJREs resolved the problem. It is not enough that you have installed the correct JRE/JDK- you have to use correct one in the Eclipse.</p>\n"}],"owner":{"account_id":29137734,"reputation":3,"user_id":22321509,"display_name":"taha Glbz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77564023,"answer_count":2,"score":0,"last_activity_date":1701635961,"creation_date":1701172036,"question_id":77563612,"body_markdown":"I created a project with spring initialzr and used the java 21 version. But I get this error when I run vscode without doing anything on it, how can I solve it.\r\n\r\nThe project was not built due to &quot;release 20 is not found in the system&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent\r\n\r\nI tried to create new project and  got this error again and again. I am waiting to get help.","title":"Java Spring Boot &quot;release is not in the system&quot; Error","body":"<p>I created a project with spring initialzr and used the java 21 version. But I get this error when I run vscode without doing anything on it, how can I solve it.</p>\n<p>The project was not built due to &quot;release 20 is not found in the system&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent</p>\n<p>I tried to create new project and  got this error again and again. I am waiting to get help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701635256,"post_id":77596033,"comment_id":136797433,"body_markdown":"Close the output stream before you exit the thread.","body":"Close the output stream before you exit the thread."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701703308,"post_id":77596033,"comment_id":136805424,"body_markdown":"The fundamental problem is that transferTo, and all code, has no way to know when an OutputStream has reached EOF.  I don&#39;t know enough about kernels to know how they handle a pipe;  perhaps the sending processs stdout gets routed to the equivalent of a [nullOutputStream](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html#nullOutputStream()) once the receiving processs stdin is closed.","body":"The fundamental problem is that transferTo, and all code, has no way to know when an OutputStream has reached EOF.  I don&#39;t know enough about kernels to know how they handle a pipe;  perhaps the sending processs stdout gets routed to the equivalent of a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html#nullOutputStream()\" rel=\"nofollow noreferrer\">nullOutputStream</a> once the receiving processs stdin is closed."}],"owner":{"account_id":9790557,"reputation":85,"user_id":10217464,"display_name":"Plus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701634676,"creation_date":1701634676,"question_id":77596033,"body_markdown":"This following code throws a `IOException: Broken pipe`,  \r\nsince the `head -c 100` process terminates when it received 100 bytes.\r\n\r\nCan I prevent the broken pipe issue?  \r\nI would like to gracefully terminate other processes when `head` is finished.  \r\n(I know using `ProcessBuilder.startPipeline` just works but I want to explore this method)\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.util.concurrent.Callable;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        Process pa = new ProcessBuilder(&quot;cat&quot;, &quot;/dev/random&quot;).start();\r\n        Process pb = new ProcessBuilder(&quot;base64&quot;, &quot;-w&quot;, &quot;0&quot;).start();\r\n        Process pc = new ProcessBuilder(&quot;head&quot;, &quot;-c&quot;, &quot;100&quot;).start();\r\n\r\n        Thread ta = new Thread(uncheck(() -&gt; pa.getInputStream().transferTo(pb.getOutputStream())));\r\n        Thread tb = new Thread(uncheck(() -&gt; pb.getInputStream().transferTo(pc.getOutputStream())));\r\n        Thread tc = new Thread(uncheck(() -&gt; pc.getInputStream().transferTo(System.out)));\r\n\r\n        ta.start();\r\n        tb.start();\r\n        tc.start();\r\n        ta.join();\r\n        tb.join();\r\n        tc.join();\r\n    }\r\n\r\n    public static Runnable uncheck(Callable&lt;?&gt; runnable) {\r\n        return () -&gt; {\r\n            try {\r\n                runnable.call();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nThe output:\r\n\r\n```\r\n1pbx+pn/KC1F5ckABku6jZCFvfJrKVNJfWCcuLCnkiI1ZpuFj5OzY4BAodycgeDHui8SD+7pcHFf0i9qRe1/Ye63Wd+fF+iX2BK4Exception in thread &quot;Thread-1&quot; java.lang.RuntimeException: java.io.IOException: Broken pipe\r\n\tat main.Main.lambda$3(Main.java:29)\r\n\tat java.base/java.lang.Thread.run(Thread.java:842)\r\nCaused by: java.io.IOException: Broken pipe\r\n\tat java.base/java.io.FileOutputStream.writeBytes(Native Method)\r\n\tat java.base/java.io.FileOutputStream.write(FileOutputStream.java:349)\r\n\tat java.base/java.io.BufferedOutputStream.write(BufferedOutputStream.java:123)\r\n\tat java.base/java.io.InputStream.transferTo(InputStream.java:783)\r\n\tat main.Main.lambda$1(Main.java:13)\r\n\tat main.Main.lambda$3(Main.java:27)\r\n\t... 1 more\r\n```","title":"Preventing IOException (broken pipe) when a process terminates in a chained processes","body":"<p>This following code throws a <code>IOException: Broken pipe</code>,<br />\nsince the <code>head -c 100</code> process terminates when it received 100 bytes.</p>\n<p>Can I prevent the broken pipe issue?<br />\nI would like to gracefully terminate other processes when <code>head</code> is finished.<br />\n(I know using <code>ProcessBuilder.startPipeline</code> just works but I want to explore this method)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.concurrent.Callable;\n\npublic class Main {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        Process pa = new ProcessBuilder(&quot;cat&quot;, &quot;/dev/random&quot;).start();\n        Process pb = new ProcessBuilder(&quot;base64&quot;, &quot;-w&quot;, &quot;0&quot;).start();\n        Process pc = new ProcessBuilder(&quot;head&quot;, &quot;-c&quot;, &quot;100&quot;).start();\n\n        Thread ta = new Thread(uncheck(() -&gt; pa.getInputStream().transferTo(pb.getOutputStream())));\n        Thread tb = new Thread(uncheck(() -&gt; pb.getInputStream().transferTo(pc.getOutputStream())));\n        Thread tc = new Thread(uncheck(() -&gt; pc.getInputStream().transferTo(System.out)));\n\n        ta.start();\n        tb.start();\n        tc.start();\n        ta.join();\n        tb.join();\n        tc.join();\n    }\n\n    public static Runnable uncheck(Callable&lt;?&gt; runnable) {\n        return () -&gt; {\n            try {\n                runnable.call();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        };\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>1pbx+pn/KC1F5ckABku6jZCFvfJrKVNJfWCcuLCnkiI1ZpuFj5OzY4BAodycgeDHui8SD+7pcHFf0i9qRe1/Ye63Wd+fF+iX2BK4Exception in thread &quot;Thread-1&quot; java.lang.RuntimeException: java.io.IOException: Broken pipe\n    at main.Main.lambda$3(Main.java:29)\n    at java.base/java.lang.Thread.run(Thread.java:842)\nCaused by: java.io.IOException: Broken pipe\n    at java.base/java.io.FileOutputStream.writeBytes(Native Method)\n    at java.base/java.io.FileOutputStream.write(FileOutputStream.java:349)\n    at java.base/java.io.BufferedOutputStream.write(BufferedOutputStream.java:123)\n    at java.base/java.io.InputStream.transferTo(InputStream.java:783)\n    at main.Main.lambda$1(Main.java:13)\n    at main.Main.lambda$3(Main.java:27)\n    ... 1 more\n</code></pre>\n"},{"tags":["java","android","image-processing","object-detection","yolo"],"owner":{"account_id":26890580,"reputation":82,"user_id":20469419,"display_name":"SILA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1701344534,"answer_count":0,"score":0,"last_activity_date":1701634470,"creation_date":1698391584,"question_id":77372206,"body_markdown":" I used two yolov5 models. My first model detects the tray. In my second model, it finds food types.\r\n\r\nThe size of the first model was 416, then I cropped it. I sent it to the second model. The size of my second model is 224. my question: There is a shift in the second model.\r\n\r\nI think, The reason for the shift problem is crop . It detective the food in the cropped image. Draws the result for the original image. It should change according to the center of the tray.  I understand the problem, but I didn&#39;t understand how to change it.\r\n[![Table][1]][1]\r\nI created a table in debug mode. I wrote the values.\r\nDo I need to increase xPos and yPos values when drawing? There are only location values in the MultiBoxerTracker file. bottom, left right, top. I&#39;m so confused.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QYFz9.jpg\r\n\r\n\r\n\r\n    Yolov5Classifier2.java coordinate part\r\n        public ArrayList&lt;Recognition&gt; recognizeImage2(Bitmap bitmap) {\r\n      final float xPos = out[0][i][0];\r\n                    final float yPos = out[0][i][1];\r\n    \r\n                    final float w = out[0][i][2];\r\n                    final float h = out[0][i][3];\r\n                    Log.d(&quot;secondyolov5&quot;,\r\n                            Float.toString(xPos) + &#39;,&#39; + yPos + &#39;,&#39; + w + &#39;,&#39; + h);\r\n                    final RectF rect =\r\n                            new RectF( Math.max(0, xPos - w / 2),\r\n                                    Math.max(0, yPos - h / 2),\r\n                                    Math.min(bitmap.getWidth() - 1, xPos + w / 2),\r\n                                    Math.min(bitmap.getHeight() - 1, yPos + h / 2));\r\n    \r\n    \r\n    \r\n    \r\n                    detections.add(new Recognition(&quot;&quot; + offset, labels.get(detectedClass),\r\n    \r\n    \r\n                            confidenceInClass, rect, detectedClass));}\r\n\r\nMultiTracker2.java part of draw\r\n\r\n      public synchronized void draw(final Canvas canvas,float kayabi,float kayabla ) {\r\n        \r\n        final boolean rotated = sensorOrientation % 180 == 90;\r\n        final float multiplier =\r\n                Math.min(\r\n                        canvas.getHeight() / (float) (rotated ? frameWidth : frameHeight),\r\n                        canvas.getWidth() / (float) (rotated ? frameHeight : frameWidth));\r\n        frameToCanvasMatrix =\r\n                ImageUtils.getTransformationMatrix(\r\n                        frameWidth,\r\n                        frameHeight,\r\n                        (int) (multiplier * (rotated ? frameHeight : frameWidth)),\r\n                        (int) (multiplier * (rotated ? frameWidth : frameHeight)),\r\n                        sensorOrientation,\r\n                        false);\r\n        for (final TrackedRecognition recognition : trackedObjects) {\r\n    \r\n          final RectF trackedPos = new RectF(recognition.location);\r\n    \r\n    \r\n    \r\n    \r\n          getFrameToCanvasMatrix().mapRect(trackedPos);\r\n    \r\n    \r\n    \r\n          boxPaint.setColor(recognition.color);\r\n    \r\n          float cornerSize = Math.min(trackedPos.width(), trackedPos.height()) / 8.0f;\r\n    \r\n          canvas.drawRoundRect(trackedPos, cornerSize, cornerSize, boxPaint);\r\n    \r\n    \r\n          final String labelString =\r\n                  !TextUtils.isEmpty(recognition.title)\r\n                          ? String.format(&quot;%s %.2f&quot;, recognition.title, (100 * recognition.detectionConfidence))\r\n                          : String.format(&quot;%.2f&quot;, (100 * recognition.detectionConfidence));\r\n          //            borderedText.drawText(canvas, trackedPos.left + cornerSize, trackedPos.top,\r\n          // labelString);\r\n          borderedText.drawText(\r\n                  canvas, trackedPos.left + cornerSize, trackedPos.top, labelString + &quot;%&quot;, boxPaint);\r\n        }\r\n      }\r\n\r\n","title":"OBJECT DETECTIVE SHIFT ISSUE On ANDROD","body":"<p>I used two yolov5 models. My first model detects the tray. In my second model, it finds food types.</p>\n<p>The size of the first model was 416, then I cropped it. I sent it to the second model. The size of my second model is 224. my question: There is a shift in the second model.</p>\n<p>I think, The reason for the shift problem is crop . It detective the food in the cropped image. Draws the result for the original image. It should change according to the center of the tray.  I understand the problem, but I didn't understand how to change it.\n<a href=\"https://i.stack.imgur.com/QYFz9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QYFz9.jpg\" alt=\"Table\" /></a>\nI created a table in debug mode. I wrote the values.\nDo I need to increase xPos and yPos values when drawing? There are only location values in the MultiBoxerTracker file. bottom, left right, top. I'm so confused.</p>\n<pre><code>Yolov5Classifier2.java coordinate part\n    public ArrayList&lt;Recognition&gt; recognizeImage2(Bitmap bitmap) {\n  final float xPos = out[0][i][0];\n                final float yPos = out[0][i][1];\n\n                final float w = out[0][i][2];\n                final float h = out[0][i][3];\n                Log.d(&quot;secondyolov5&quot;,\n                        Float.toString(xPos) + ',' + yPos + ',' + w + ',' + h);\n                final RectF rect =\n                        new RectF( Math.max(0, xPos - w / 2),\n                                Math.max(0, yPos - h / 2),\n                                Math.min(bitmap.getWidth() - 1, xPos + w / 2),\n                                Math.min(bitmap.getHeight() - 1, yPos + h / 2));\n\n\n\n\n                detections.add(new Recognition(&quot;&quot; + offset, labels.get(detectedClass),\n\n\n                        confidenceInClass, rect, detectedClass));}\n</code></pre>\n<p>MultiTracker2.java part of draw</p>\n<pre><code>  public synchronized void draw(final Canvas canvas,float kayabi,float kayabla ) {\n    \n    final boolean rotated = sensorOrientation % 180 == 90;\n    final float multiplier =\n            Math.min(\n                    canvas.getHeight() / (float) (rotated ? frameWidth : frameHeight),\n                    canvas.getWidth() / (float) (rotated ? frameHeight : frameWidth));\n    frameToCanvasMatrix =\n            ImageUtils.getTransformationMatrix(\n                    frameWidth,\n                    frameHeight,\n                    (int) (multiplier * (rotated ? frameHeight : frameWidth)),\n                    (int) (multiplier * (rotated ? frameWidth : frameHeight)),\n                    sensorOrientation,\n                    false);\n    for (final TrackedRecognition recognition : trackedObjects) {\n\n      final RectF trackedPos = new RectF(recognition.location);\n\n\n\n\n      getFrameToCanvasMatrix().mapRect(trackedPos);\n\n\n\n      boxPaint.setColor(recognition.color);\n\n      float cornerSize = Math.min(trackedPos.width(), trackedPos.height()) / 8.0f;\n\n      canvas.drawRoundRect(trackedPos, cornerSize, cornerSize, boxPaint);\n\n\n      final String labelString =\n              !TextUtils.isEmpty(recognition.title)\n                      ? String.format(&quot;%s %.2f&quot;, recognition.title, (100 * recognition.detectionConfidence))\n                      : String.format(&quot;%.2f&quot;, (100 * recognition.detectionConfidence));\n      //            borderedText.drawText(canvas, trackedPos.left + cornerSize, trackedPos.top,\n      // labelString);\n      borderedText.drawText(\n              canvas, trackedPos.left + cornerSize, trackedPos.top, labelString + &quot;%&quot;, boxPaint);\n    }\n  }\n</code></pre>\n"},{"tags":["java","class","oop","methods"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1494827303,"post_id":43972284,"comment_id":74974409,"body_markdown":"Well as `getDummy` is an instance method, you&#39;ll need an instance of `Test` to call it on... do you have such an instance? Note that currently you&#39;re trying to declare the `dummy` field *inside* the `main` method - that won&#39;t work. Please work on the layout of your code as well - indent it properly when posting. Most IDEs can help with that.","body":"Well as <code>getDummy</code> is an instance method, you&#39;ll need an instance of <code>Test</code> to call it on... do you have such an instance? Note that currently you&#39;re trying to declare the <code>dummy</code> field <i>inside</i> the <code>main</code> method - that won&#39;t work. Please work on the layout of your code as well - indent it properly when posting. Most IDEs can help with that."}],"answers":[{"tags":[],"owner":{"account_id":10566377,"reputation":176,"user_id":7925242,"accept_rate":57,"display_name":"Haven Lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494827581,"creation_date":1494827581,"answer_id":43972360,"question_id":43972284,"body_markdown":"you should be declare target object, and initialization, then you can use `getDummy()`, or you can modify `getDummy()` method to static .","title":"How to call a method from the same class in Java?","body":"<p>you should be declare target object, and initialization, then you can use <code>getDummy()</code>, or you can modify <code>getDummy()</code> method to static .</p>\n"},{"tags":[],"owner":{"account_id":7532544,"reputation":914,"user_id":5720118,"accept_rate":92,"display_name":"Binyamin Regev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494828715,"creation_date":1494827752,"answer_id":43972390,"question_id":43972284,"body_markdown":"Is this what you mean?\r\n\r\n    public class Test {\r\n\r\n       private int dummy = 0;\r\n\r\n       public static void main(String[] args) {\r\n          Test test = new Test();\r\n          int dummy = test.getDummy();\r\n       }\r\n\r\n       public int getDummy() {\r\n          return dummy;\r\n       }\r\n    }\r\n\r\nI assume `private int dummy = 0;` is a property (variable) of `Test` class. Calling a `non-static` method from a `static` method is not allowed. You create an instance of your class in the `static` method and can call any of its `public` methods.","title":"How to call a method from the same class in Java?","body":"<p>Is this what you mean?</p>\n\n<pre><code>public class Test {\n\n   private int dummy = 0;\n\n   public static void main(String[] args) {\n      Test test = new Test();\n      int dummy = test.getDummy();\n   }\n\n   public int getDummy() {\n      return dummy;\n   }\n}\n</code></pre>\n\n<p>I assume <code>private int dummy = 0;</code> is a property (variable) of <code>Test</code> class. Calling a <code>non-static</code> method from a <code>static</code> method is not allowed. You create an instance of your class in the <code>static</code> method and can call any of its <code>public</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Xoc  epe&#250;pa "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494827753,"creation_date":1494827753,"answer_id":43972391,"question_id":43972284,"body_markdown":"***getDummy*** is an instance method so you need  the instance\r\n\r\n \r\n\r\n    public static void main(String[] args) {  \r\n            Test t = new Test();\r\n            t.getDummy();\r\n        }\r\n\r\n\r\nand this belongs to the class\r\n\r\n    private int dummy = 0;\r\n\r\n\r\n----\r\nyour final code could look like&gt;\r\n\r\n    public class Test {\r\n        private int dummy = 0;\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.getDummy();\r\n        }\r\n    \r\n        public int getDummy() {\r\n            return dummy;\r\n        }\r\n    }","title":"How to call a method from the same class in Java?","body":"<p><strong><em>getDummy</em></strong> is an instance method so you need  the instance</p>\n\n<pre><code>public static void main(String[] args) {  \n        Test t = new Test();\n        t.getDummy();\n    }\n</code></pre>\n\n<p>and this belongs to the class</p>\n\n<pre><code>private int dummy = 0;\n</code></pre>\n\n<hr>\n\n<p>your final code could look like></p>\n\n<pre><code>public class Test {\n    private int dummy = 0;\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.getDummy();\n    }\n\n    public int getDummy() {\n        return dummy;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10676204,"reputation":3,"user_id":7859620,"display_name":"phanhien1701"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494828046,"creation_date":1494828046,"answer_id":43972447,"question_id":43972284,"body_markdown":"sry, my english very bad, but i think i can help you. first, you create a public variable out of main,  in you code, you only create a local variable. next, in your main, you type : &quot;getDummy();&quot;. good luck","title":"How to call a method from the same class in Java?","body":"<p>sry, my english very bad, but i think i can help you. first, you create a public variable out of main,  in you code, you only create a local variable. next, in your main, you type : \"getDummy();\". good luck</p>\n"},{"tags":[],"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701633826,"creation_date":1701633826,"answer_id":77595978,"question_id":43972284,"body_markdown":"**For any new learner.**\r\n\r\nthe basic concept to understand here is about the **static** and **not static** components and its scope.\r\n\r\nWhen a method is declared **static**, it created one method per class, and after compilation, any instance of the class will use the same method.\r\n\r\n    static void staticMethod(){} \r\n\r\n**static** methods of a class can be directly called with class reference\r\n\r\n    public static void main(String[] args) {\r\n            T.staticMethod();\r\n        }\r\n\r\nWhen a method is defined as **non static** (without static keyword) , after compilation , each instance will have a separate copy of the method and will operate independently of parallel calls to same method from different instances of the class.\r\n\r\n\r\n    void nonStaticMethod(){}\r\n\r\n**non static** methods of a class can be called only with instance of the class\r\n\r\n    public static void main(String[] args) {\r\n            T testObj = new T();\r\n            testObj.staticMethod();\r\n        }","title":"How to call a method from the same class in Java?","body":"<p><strong>For any new learner.</strong></p>\n<p>the basic concept to understand here is about the <strong>static</strong> and <strong>not static</strong> components and its scope.</p>\n<p>When a method is declared <strong>static</strong>, it created one method per class, and after compilation, any instance of the class will use the same method.</p>\n<pre><code>static void staticMethod(){} \n</code></pre>\n<p><strong>static</strong> methods of a class can be directly called with class reference</p>\n<pre><code>public static void main(String[] args) {\n        T.staticMethod();\n    }\n</code></pre>\n<p>When a method is defined as <strong>non static</strong> (without static keyword) , after compilation , each instance will have a separate copy of the method and will operate independently of parallel calls to same method from different instances of the class.</p>\n<pre><code>void nonStaticMethod(){}\n</code></pre>\n<p><strong>non static</strong> methods of a class can be called only with instance of the class</p>\n<pre><code>public static void main(String[] args) {\n        T testObj = new T();\n        testObj.staticMethod();\n    }\n</code></pre>\n"}],"owner":{"account_id":6318180,"reputation":11,"user_id":6246616,"display_name":"Abdul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16581,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1701633826,"creation_date":1494827200,"question_id":43972284,"body_markdown":"How can I call getDummy from main? I need this so I can pass dummy to a method in another class.\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            private int dummy = 0;\r\n        }\r\n\r\n        public int getDummy() {\r\n            return dummy;\r\n        }\r\n    }","title":"How to call a method from the same class in Java?","body":"<p>How can I call getDummy from main? I need this so I can pass dummy to a method in another class.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        private int dummy = 0;\n    }\n\n    public int getDummy() {\n        return dummy;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","validation","double","joptionpane"],"comments":[{"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"score":0,"creation_date":1366840804,"post_id":16202888,"comment_id":23168684,"body_markdown":"Do you know [if and else](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html)?","body":"Do you know <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html\" rel=\"nofollow noreferrer\">if and else</a>?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1366840917,"post_id":16202888,"comment_id":23168732,"body_markdown":"What are you going to do if the salary entered is out of range?","body":"What are you going to do if the salary entered is out of range?"},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366840927,"post_id":16202888,"comment_id":23168737,"body_markdown":"I know if and else, but I can not apply it in the JOtionPane. I can only use it in a given data, not by JOtionPane input","body":"I know if and else, but I can not apply it in the JOtionPane. I can only use it in a given data, not by JOtionPane input"},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366841022,"post_id":16202888,"comment_id":23168768,"body_markdown":"@ PM it is why I need a validation","body":"@ PM it is why I need a validation"},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366841054,"post_id":16202888,"comment_id":23168779,"body_markdown":"I need to set a limit range salary. =)","body":"I need to set a limit range salary. =)"},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366841099,"post_id":16202888,"comment_id":23168802,"body_markdown":"and ake user to enter data again if it is invalid.","body":"and ake user to enter data again if it is invalid."},{"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"score":0,"creation_date":1366841123,"post_id":16202888,"comment_id":23168815,"body_markdown":"@tkay87 You cant do that validation in JOptionPane. `if (salary[i]&gt;=2000 &amp;&amp; salary[i] &lt;=10000)` can be used once you collect the value and reset counter if it does not fall in to that range.","body":"@tkay87 You cant do that validation in JOptionPane. <code>if (salary[i]&gt;=2000 &amp;&amp; salary[i] &lt;=10000)</code> can be used once you collect the value and reset counter if it does not fall in to that range."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1366841141,"post_id":16202888,"comment_id":23168824,"body_markdown":"You will need to handle `NumberFormatException` in your code.  For example, if a user clicks on `Cancel` then `JOptionPane.showInputDialog` will return `null&#39;.","body":"You will need to handle <code>NumberFormatException</code> in your code.  For example, if a user clicks on <code>Cancel</code> then <code>JOptionPane.showInputDialog</code> will return `null&#39;."},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366841470,"post_id":16202888,"comment_id":23168951,"body_markdown":"Thank you Smit and PM77-1. I appreciated your help. =)","body":"Thank you Smit and PM77-1. I appreciated your help. =)"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1366841817,"post_id":16202888,"comment_id":23169085,"body_markdown":"Well... You can conceivably wrap your input into `while` loop that will do the checking and then display `JOptionPane.showMessageDialog` with an error message.","body":"Well... You can conceivably wrap your input into <code>while</code> loop that will do the checking and then display <code>JOptionPane.showMessageDialog</code> with an error message."}],"answers":[{"tags":[],"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366843647,"creation_date":1366841515,"answer_id":16203114,"question_id":16202888,"body_markdown":"I think this will help you a bit to resolve your issue.\r\n\r\n    int i = 0;\r\n    double temp;\r\n        while(i &lt; salary.length) {\r\n           // parseDouble throws NumberFormatException, handle it\r\n          temp = Double.parseDouble(JOptionPane.showInputDialog(null,&quot; Enter Salary: &quot;));\r\n           if (temp &gt;= 2000.0 &amp;&amp; temp &lt;= 10000.0){\r\n               salary[i] = temp;\r\n               i++;     // if in range change counter to next count\r\n    \t      // do something\r\n    \t   } else {\r\n              // do something for out of range\r\n    \t   }\r\n    }","title":"JOptionpane validation with double input","body":"<p>I think this will help you a bit to resolve your issue.</p>\n\n<pre><code>int i = 0;\ndouble temp;\n    while(i &lt; salary.length) {\n       // parseDouble throws NumberFormatException, handle it\n      temp = Double.parseDouble(JOptionPane.showInputDialog(null,\" Enter Salary: \"));\n       if (temp &gt;= 2000.0 &amp;&amp; temp &lt;= 10000.0){\n           salary[i] = temp;\n           i++;     // if in range change counter to next count\n          // do something\n       } else {\n          // do something for out of range\n       }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366846695,"creation_date":1366846695,"answer_id":16204042,"question_id":16202888,"body_markdown":"Read the section from the Swing tutorial on [Stopping Automatic Dialog Closing][1]. Customize the code to do you particular edit.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#stayup","title":"JOptionpane validation with double input","body":"<p>Read the section from the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#stayup\" rel=\"nofollow\">Stopping Automatic Dialog Closing</a>. Customize the code to do you particular edit.</p>\n"}],"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701633665,"creation_date":1366840493,"question_id":16202888,"body_markdown":"I am learning java. I try to declare a double array. For the input method, I would like to use JOptionPane. My question is how can I create the validation for this array.(For example: I want to valid that the salary input will be from 2000 to 10000). I&#39;m sorry for my bad writing. Thank you guys!\r\n\r\nHere is my code!\r\n\r\n\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Testing {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tdouble[] salary = new double[10];\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; salary.length; i++)\r\n    \t\t{\r\n    \t\t\tsalary[i] = Double.parseDouble(JOptionPane.showInputDialog(null,&quot; Enter Salary: &quot;));\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"JOptionpane validation with double input","body":"<p>I am learning java. I try to declare a double array. For the input method, I would like to use JOptionPane. My question is how can I create the validation for this array.(For example: I want to valid that the salary input will be from 2000 to 10000). I'm sorry for my bad writing. Thank you guys!</p>\n\n<p>Here is my code!</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class Testing {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n\n        double[] salary = new double[10];\n\n        for(int i = 0; i &lt; salary.length; i++)\n        {\n            salary[i] = Double.parseDouble(JOptionPane.showInputDialog(null,\" Enter Salary: \"));\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","asynchronous","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700214439,"creation_date":1700214439,"answer_id":77500675,"question_id":77500130,"body_markdown":"Just because you use `fromCallable` doesn&#39;t mean that `Callable` gets executed asynchronously. Use `fromFuture` instead:\r\n\r\n```\r\nreturn Mono.fromFuture(CompletableFuture.runAsyc(() -&gt; sendBatchRequest(request)))\r\n        .subscribeOn(Schedulers.boundedElastic());\r\n```\r\nYou can provide an `Executor` (or `ExecutorService`) to `runAsync` instead of using a common fork-join pool if needed.","title":"How to resolve getting Timeout java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS","body":"<p>Just because you use <code>fromCallable</code> doesn't mean that <code>Callable</code> gets executed asynchronously. Use <code>fromFuture</code> instead:</p>\n<pre><code>return Mono.fromFuture(CompletableFuture.runAsyc(() -&gt; sendBatchRequest(request)))\n        .subscribeOn(Schedulers.boundedElastic());\n</code></pre>\n<p>You can provide an <code>Executor</code> (or <code>ExecutorService</code>) to <code>runAsync</code> instead of using a common fork-join pool if needed.</p>\n"},{"tags":[],"owner":{"account_id":29923834,"reputation":1,"user_id":22932333,"display_name":"Mat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701633592,"creation_date":1701633592,"answer_id":77595964,"question_id":77500130,"body_markdown":"To address the issue of the HTTP 202, modify your method to return `void` and let the asynchronous processing happen in the background.","title":"How to resolve getting Timeout java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS","body":"<p>To address the issue of the HTTP 202, modify your method to return <code>void</code> and let the asynchronous processing happen in the background.</p>\n"}],"owner":{"account_id":9527685,"reputation":77,"user_id":7080427,"display_name":"denisssj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701633592,"creation_date":1700208529,"question_id":77500130,"body_markdown":"I want to write a async api that return 202 Accepted after getting a request. Then after that it should send n Post request per second for halt-time seconds. This is my attempt at the problem.\r\n\r\n    @PostMapping(value = &quot;/stress&quot;)\r\n    @ResponseStatus(HttpStatus.ACCEPTED)\r\n    private Mono&lt;?&gt; stressPostLog(@RequestBody StressTest request) throws InterruptedException {\r\n        return Mono.fromCallable(() -&gt; {\r\n                sendBatchRequest(request);\r\n                return null;\r\n        }).subscribeOn(Schedulers.boundedElastic());\r\n        \r\n    }\r\n\r\n    private void sendBatchRequest(StressTest requestParams) throws InterruptedException {\r\n        successfulRequest.set(0);\r\n\r\n        long haltTimeMillis = requestParams.getHalt_time() * 1000;\r\n        log.info(&quot;Halt Time Millis = &quot; + haltTimeMillis );\r\n        Integer count = 0;\r\n\r\n        long initTime = System.currentTimeMillis();\r\n        long currTime;\r\n        do {\r\n            Thread.sleep(1000); //! Sleep time is subjected to system\r\n            for(int i = 0; i &lt; requestParams.getRequest_per_second(); i++)\r\n            {\r\n                AuditSchema request = AuditSchema.generateRandomValue(requestParams.getRequest_size());\r\n                Mono&lt;?&gt; response = postAndIncrement(request);\r\n                response.publishOn(Schedulers.boundedElastic()).subscribe();\r\n                count++;\r\n            }\r\n            currTime = System.currentTimeMillis();\r\n            log.info(&quot;Time duration = &quot; + ( currTime - initTime));\r\n        }while((currTime - initTime) &lt; haltTimeMillis);\r\n\r\n        log.info(&quot;Request Send = {} and Response Succeed = {}&quot;, count, successfulRequest);\r\n    }\r\n\r\n    private Mono&lt;?&gt; postAndIncrement(AuditSchema request) {\r\n        return this.client.post()\r\n                .uri(&quot;v1/log&quot;)\r\n                .body(BodyInserters.fromValue(request))\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchangeToMono(clientResponse -&gt; {\r\n                    log.info(&quot;Request suceeded {}&quot;, clientResponse.statusCode());\r\n                    successfulRequest.getAndIncrement();\r\n                    return Mono.empty();\r\n                });\r\n    }\r\n\r\nhowever the calls are not executed async and after 5s it gets terminated by error\r\n\r\n    java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\r\n\r\nHow to write this using spring webflux.\r\n\r\n\r\n\r\n","title":"How to resolve getting Timeout java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS","body":"<p>I want to write a async api that return 202 Accepted after getting a request. Then after that it should send n Post request per second for halt-time seconds. This is my attempt at the problem.</p>\n<pre><code>@PostMapping(value = &quot;/stress&quot;)\n@ResponseStatus(HttpStatus.ACCEPTED)\nprivate Mono&lt;?&gt; stressPostLog(@RequestBody StressTest request) throws InterruptedException {\n    return Mono.fromCallable(() -&gt; {\n            sendBatchRequest(request);\n            return null;\n    }).subscribeOn(Schedulers.boundedElastic());\n    \n}\n\nprivate void sendBatchRequest(StressTest requestParams) throws InterruptedException {\n    successfulRequest.set(0);\n\n    long haltTimeMillis = requestParams.getHalt_time() * 1000;\n    log.info(&quot;Halt Time Millis = &quot; + haltTimeMillis );\n    Integer count = 0;\n\n    long initTime = System.currentTimeMillis();\n    long currTime;\n    do {\n        Thread.sleep(1000); //! Sleep time is subjected to system\n        for(int i = 0; i &lt; requestParams.getRequest_per_second(); i++)\n        {\n            AuditSchema request = AuditSchema.generateRandomValue(requestParams.getRequest_size());\n            Mono&lt;?&gt; response = postAndIncrement(request);\n            response.publishOn(Schedulers.boundedElastic()).subscribe();\n            count++;\n        }\n        currTime = System.currentTimeMillis();\n        log.info(&quot;Time duration = &quot; + ( currTime - initTime));\n    }while((currTime - initTime) &lt; haltTimeMillis);\n\n    log.info(&quot;Request Send = {} and Response Succeed = {}&quot;, count, successfulRequest);\n}\n\nprivate Mono&lt;?&gt; postAndIncrement(AuditSchema request) {\n    return this.client.post()\n            .uri(&quot;v1/log&quot;)\n            .body(BodyInserters.fromValue(request))\n            .accept(MediaType.APPLICATION_JSON)\n            .exchangeToMono(clientResponse -&gt; {\n                log.info(&quot;Request suceeded {}&quot;, clientResponse.statusCode());\n                successfulRequest.getAndIncrement();\n                return Mono.empty();\n            });\n}\n</code></pre>\n<p>however the calls are not executed async and after 5s it gets terminated by error</p>\n<pre><code>java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\n</code></pre>\n<p>How to write this using spring webflux.</p>\n"},{"tags":["java","spring-boot","javers"],"owner":{"account_id":9652329,"reputation":53,"user_id":7163059,"display_name":"lutsik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701633049,"creation_date":1701633049,"question_id":77595939,"body_markdown":"   I want to create a Rollback functionality that will based on Javers audit. So my case: I have to save a list of entities (&quot;Person&quot;) and I have to rollback this action due to some issue. I need to mark this transaction in Javers to find all the changed entities and roll back them regarding their revision. \r\n\r\n   Javers supports rollback functionality by the certain record but I need to select and rollback the whole group of entities. \r\n\r\n   Does Javers have such functionality or a workaround? Or maybe any ideas on how can I implement it.","title":"Javers: transaction ID","body":"<p>I want to create a Rollback functionality that will based on Javers audit. So my case: I have to save a list of entities (&quot;Person&quot;) and I have to rollback this action due to some issue. I need to mark this transaction in Javers to find all the changed entities and roll back them regarding their revision.</p>\n<p>Javers supports rollback functionality by the certain record but I need to select and rollback the whole group of entities.</p>\n<p>Does Javers have such functionality or a workaround? Or maybe any ideas on how can I implement it.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701625843,"post_id":77595218,"comment_id":136796455,"body_markdown":"You did already read the migration guides of Spring Boot 3.0, 3.1 and 3.2 and the related Spring 6.0 and 6.1 migration guides? If not start with that.","body":"You did already read the migration guides of Spring Boot 3.0, 3.1 and 3.2 and the related Spring 6.0 and 6.1 migration guides? If not start with that."},{"owner":{"account_id":18477116,"reputation":503,"user_id":13460350,"display_name":"rahul sharma"},"score":0,"creation_date":1701658802,"post_id":77595218,"comment_id":136799259,"body_markdown":"Yes I did and reached to this state","body":"Yes I did and reached to this state"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701672112,"post_id":77595218,"comment_id":136800220,"body_markdown":"What you are seeing is debug logging from Spring Data. I don&#39;t see any error in the logging you provide. So I suspect you enabled debug logging and see a stacktrace and panic, but that your application is working fine. It does start so I don&#39;t see what the problem is. From the information provided here there is no problem.","body":"What you are seeing is debug logging from Spring Data. I don&#39;t see any error in the logging you provide. So I suspect you enabled debug logging and see a stacktrace and panic, but that your application is working fine. It does start so I don&#39;t see what the problem is. From the information provided here there is no problem."},{"owner":{"account_id":18477116,"reputation":503,"user_id":13460350,"display_name":"rahul sharma"},"score":0,"creation_date":1701756078,"post_id":77595218,"comment_id":136811922,"body_markdown":"Let me share the logs from Debug for more analysis","body":"Let me share the logs from Debug for more analysis"}],"owner":{"account_id":18477116,"reputation":503,"user_id":13460350,"display_name":"rahul sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701632668,"creation_date":1701621554,"question_id":77595218,"body_markdown":"A small context, we are trying to migrate our application java 17 and Spring boot 3.2 where this application is still working on Java 11 &amp; 2.7. I would like to understand what is change we have to make to resolve these errors.\r\n\r\n**Table Definition** :\r\n\r\n    SELECT \r\n       table_name, \r\n       column_name, \r\n       data_type \r\n    FROM \r\n       information_schema.columns\r\n    WHERE \r\n       table_name = &#39;asset_ext_attr&#39;;\r\n**Table Structure**-\r\n[![check the table structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ak04D.png\r\n\r\n**POJO**\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Entity\r\n    @Table(name=&quot;asset_ext_attr&quot;)\r\n    \r\n    public class AssetExtendedAttribute extends ExtendedBaseEntity {\r\n    \r\n    \tprivate static final long serialVersionUID = -7756526948148554366L;\r\n    \r\n    \t@Id\r\n        @Column(name = &quot;asset_ext_attr_uuid&quot;, length = 36, updatable = false, nullable = false)\r\n        private UUID assetExtAttrUUID;\r\n    \r\n        @Column(name = &quot;asset&quot;, length = 36, unique = true, nullable = false)\r\n        private UUID asset;\r\n    \r\n        @Column(name = &quot;asset_model&quot;, length = 36, nullable = false)\r\n        private UUID assetModel;\r\n    \r\n    \t@Type(JsonBinaryType.class)\r\n        @Column(name = &quot;ext_attr&quot;)\r\n        private List&lt;ExtendedAttribute&gt; extendedAttributes;\r\n    \r\n    \t@Column(name = &quot;last_run_status&quot;, length = 70)\r\n    \t@Enumerated(EnumType.STRING)\r\n    \t@Type(PostgreSQLEnumType.class)\r\n    \tprivate RmRunExecutionStatusEnum lastRunStatus;\r\n    \r\n    \t@JsonInclude(value = Include.NON_NULL)\r\n    \t@Column(name = &quot;run_id&quot;, length = 32)\r\n    \tprivate String runId;\r\n    \r\n    \t@JsonInclude(value = Include.NON_NULL)\r\n    \t@Column(name = &quot;last_run_date&quot;)\r\n    \tprivate Date lastRunDate;\r\n    \r\n    \t@JsonInclude(value = Include.NON_NULL)\r\n    \t@Column(name = &quot;last_attempted_on&quot;)\r\n    \tprivate Date lastAttemptedOn;\r\n    \r\n    \t@JsonInclude(value = Include.NON_NULL)\r\n    \t@Column(name = &quot;last_collection_date&quot;)\r\n    \tprivate Date lastCollectionDate;\r\n    }\r\n\r\n**Repository -**\r\n\r\n    @Repository\r\n    public interface AssetExtAttrRepository extends JpaRepository&lt;AssetExtendedAttribute, UUID&gt; {\r\n    \r\n        Optional&lt;AssetExtendedAttribute&gt; findByAsset(UUID asset);\r\n        \r\n        @Query(value = &quot;SELECT a.version FROM AssetExtendedAttribute a WHERE a.asset = :id&quot;)\r\n        Integer getVersionByAsset(@NonNull @Param(&quot;id&quot;) UUID assetUUID);\r\n        \r\n        void deleteByAsset(@NonNull UUID asset);\r\n    \r\n        List&lt;AssetExtendedAttribute&gt; findByAssetModel(UUID asserModelUUID);\r\n    \r\n        @Query(value = &quot;SELECT data-&gt;&gt;&#39;attrId&#39; as attr_id, data-&gt;&gt;&#39;attributeName&#39; as attribute_name, data-&gt;&gt;&#39;attributeDataType&#39; as attribute_dataType\\n&quot; +\r\n                &quot;FROM asset_ext_attr, jsonb_array_elements(ext_attr) AS data\\n&quot; +\r\n                &quot;WHERE asset = ?1 and data-&gt;&gt;&#39;attrId&#39; = ?2&quot;, nativeQuery = true)\r\n        String findFirstByAssetUUIDAndAttrUUID(UUID assetUUID, String attrUUID);\r\n    }\r\n\r\nNote- **Except one method, all methods are failing and throwing the &quot;Did not find the named query&quot;**\r\n\r\n    2023-12-03 19:43:39.238 org.springframework.data.jpa.repository.query.NamedQuery 14228 [restartedMain] DEBUG [] - Did not find named query AssetExtendedAttribute.findByAssetModel  \r\n    2023-12-03 19:43:39.238 org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler 14228 [restartedMain] DEBUG [] - Creating new EntityManager for shared EntityManager invocation  \r\n    2023-12-03 19:43:39.243 org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl 14233 [restartedMain] DEBUG [] - JDBC transaction marked for rollback-only (exception provided for stack trace) java.lang.Exception: exception just for purpose of providing stack trace\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:310) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.buildNamedQuery(AbstractSharedSessionContract.java:1021) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:899) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:120) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.1.1.jar:6.1.1]\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy201.createNamedQuery(Unknown Source) ~[?:?]\r\n    \tat org.springframework.data.jpa.repository.query.NamedQuery.hasNamedQuery(NamedQuery.java:113) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.getCountQuery(JpaQueryLookupStrategy.java:204) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:171) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat java.base/java.util.Optional.map(Optional.java:260) ~[?:?]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:752) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:493) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) [spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) [spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) [spring-context-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) [spring-context-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:323) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat com.abb.rm.asset.mgmt.AssetRmMgmtServiceApplication.main(AssetRmMgmtServiceApplication.java:88) [main/:?]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-3.0.4.jar:3.0.4]\r\n\r\n**The successful query generated and executed is** \r\n\r\n    2023-12-03 19:43:39.252 org.springframework.data.jpa.repository.query.NamedQuery 14242 [restartedMain] DEBUG [] - Did not find named query AssetExtendedAttribute.getVersionByAsset.count  \r\n    2023-12-03 19:43:39.252 org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler 14242 [restartedMain] DEBUG [] - Creating new EntityManager for shared EntityManager invocation  \r\n    2023-12-03 19:43:39.254 org.hibernate.orm.query.hql 14244 [restartedMain] DEBUG [] - HQL : SELECT a.version FROM AssetExtendedAttribute a WHERE a.asset = :id  \r\n    2023-12-03 19:43:39.255 org.hibernate.orm.query.hql.reservedWordAsIdentifier 14245 [restartedMain] DEBUG [] - Encountered use of reserved word as identifier : FROM  \r\n    2023-12-03 19:43:39.255 org.hibernate.orm.query.hql.reservedWordAsIdentifier 14245 [restartedMain] DEBUG [] - Encountered use of reserved word as identifier : &lt;EOF&gt;  \r\n    2023-12-03 19:43:39.255 org.hibernate.query.hql.internal.SemanticQueryBuilder 14245 [restartedMain] DEBUG [] - Handling root path - AssetExtendedAttribute  \r\n    2023-12-03 19:43:39.255 org.hibernate.orm.query.sqm.creation 14245 [restartedMain] DEBUG [] - Applying inferable type to SqmExpression [SqmNamedParameter(id)] : null -&gt; BasicSqmPathSource(asset : UUID)  \r\n    2023-12-03 19:43:39.255 org.hibernate.orm.query.sqm.ast 14245 [restartedMain] DEBUG [] - SqmStatement Tree :\r\n        -&gt; [select]\r\n          -&gt; [query-spec]\r\n            -&gt; [select]\r\n              -&gt; [selection]\r\n                -&gt; [basic-path] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a).version`\r\n              &lt;- [selection]\r\n            &lt;- [select]\r\n            -&gt; [from]\r\n              -&gt; [root] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a)`\r\n              &lt;- [root] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a)`\r\n            &lt;- [from]\r\n            -&gt; [where]\r\n              -&gt; [EQUAL]\r\n                  -&gt; [basic-path] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a).asset`\r\n                  :id\r\n              &lt;- [EQUAL]\r\n            &lt;- [where]\r\n          &lt;- [query-spec]\r\n        &lt;- [select]\r\n\r\n2023-12-03 19:43:39.259 org.springframework.data.repository.core.support.RepositoryFactorySupport 14249 [restartedMain] DEBUG [] - Finished creation of repository instance for com.abb.abc.asset.mgmt.dao.repository.AssetExtAttrRepository.\r\n        ","title":"Not able to migrating the existing project from java 11 and spring boot 2.7 ,hibernate 5 to 17 &amp; 3.2, 6 respectively","body":"<p>A small context, we are trying to migrate our application java 17 and Spring boot 3.2 where this application is still working on Java 11 &amp; 2.7. I would like to understand what is change we have to make to resolve these errors.</p>\n<p><strong>Table Definition</strong> :</p>\n<pre><code>SELECT \n   table_name, \n   column_name, \n   data_type \nFROM \n   information_schema.columns\nWHERE \n   table_name = 'asset_ext_attr';\n</code></pre>\n<p><strong>Table Structure</strong>-\n<a href=\"https://i.stack.imgur.com/Ak04D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ak04D.png\" alt=\"check the table structure\" /></a></p>\n<p><strong>POJO</strong></p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@Entity\n@Table(name=&quot;asset_ext_attr&quot;)\n\npublic class AssetExtendedAttribute extends ExtendedBaseEntity {\n\n    private static final long serialVersionUID = -7756526948148554366L;\n\n    @Id\n    @Column(name = &quot;asset_ext_attr_uuid&quot;, length = 36, updatable = false, nullable = false)\n    private UUID assetExtAttrUUID;\n\n    @Column(name = &quot;asset&quot;, length = 36, unique = true, nullable = false)\n    private UUID asset;\n\n    @Column(name = &quot;asset_model&quot;, length = 36, nullable = false)\n    private UUID assetModel;\n\n    @Type(JsonBinaryType.class)\n    @Column(name = &quot;ext_attr&quot;)\n    private List&lt;ExtendedAttribute&gt; extendedAttributes;\n\n    @Column(name = &quot;last_run_status&quot;, length = 70)\n    @Enumerated(EnumType.STRING)\n    @Type(PostgreSQLEnumType.class)\n    private RmRunExecutionStatusEnum lastRunStatus;\n\n    @JsonInclude(value = Include.NON_NULL)\n    @Column(name = &quot;run_id&quot;, length = 32)\n    private String runId;\n\n    @JsonInclude(value = Include.NON_NULL)\n    @Column(name = &quot;last_run_date&quot;)\n    private Date lastRunDate;\n\n    @JsonInclude(value = Include.NON_NULL)\n    @Column(name = &quot;last_attempted_on&quot;)\n    private Date lastAttemptedOn;\n\n    @JsonInclude(value = Include.NON_NULL)\n    @Column(name = &quot;last_collection_date&quot;)\n    private Date lastCollectionDate;\n}\n</code></pre>\n<p><strong>Repository -</strong></p>\n<pre><code>@Repository\npublic interface AssetExtAttrRepository extends JpaRepository&lt;AssetExtendedAttribute, UUID&gt; {\n\n    Optional&lt;AssetExtendedAttribute&gt; findByAsset(UUID asset);\n    \n    @Query(value = &quot;SELECT a.version FROM AssetExtendedAttribute a WHERE a.asset = :id&quot;)\n    Integer getVersionByAsset(@NonNull @Param(&quot;id&quot;) UUID assetUUID);\n    \n    void deleteByAsset(@NonNull UUID asset);\n\n    List&lt;AssetExtendedAttribute&gt; findByAssetModel(UUID asserModelUUID);\n\n    @Query(value = &quot;SELECT data-&gt;&gt;'attrId' as attr_id, data-&gt;&gt;'attributeName' as attribute_name, data-&gt;&gt;'attributeDataType' as attribute_dataType\\n&quot; +\n            &quot;FROM asset_ext_attr, jsonb_array_elements(ext_attr) AS data\\n&quot; +\n            &quot;WHERE asset = ?1 and data-&gt;&gt;'attrId' = ?2&quot;, nativeQuery = true)\n    String findFirstByAssetUUIDAndAttrUUID(UUID assetUUID, String attrUUID);\n}\n</code></pre>\n<p>Note- <strong>Except one method, all methods are failing and throwing the &quot;Did not find the named query&quot;</strong></p>\n<pre><code>2023-12-03 19:43:39.238 org.springframework.data.jpa.repository.query.NamedQuery 14228 [restartedMain] DEBUG [] - Did not find named query AssetExtendedAttribute.findByAssetModel  \n2023-12-03 19:43:39.238 org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler 14228 [restartedMain] DEBUG [] - Creating new EntityManager for shared EntityManager invocation  \n2023-12-03 19:43:39.243 org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl 14233 [restartedMain] DEBUG [] - JDBC transaction marked for rollback-only (exception provided for stack trace) java.lang.Exception: exception just for purpose of providing stack trace\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:310) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.buildNamedQuery(AbstractSharedSessionContract.java:1021) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:899) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:120) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.1.1.jar:6.1.1]\n    at jdk.proxy3/jdk.proxy3.$Proxy201.createNamedQuery(Unknown Source) ~[?:?]\n    at org.springframework.data.jpa.repository.query.NamedQuery.hasNamedQuery(NamedQuery.java:113) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.getCountQuery(JpaQueryLookupStrategy.java:204) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:171) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[?:?]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:752) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:493) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) [spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) [spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) [spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) [spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) [spring-boot-3.2.0.jar:3.2.0]\n    at com.abb.rm.asset.mgmt.AssetRmMgmtServiceApplication.main(AssetRmMgmtServiceApplication.java:88) [main/:?]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-3.0.4.jar:3.0.4]\n</code></pre>\n<p><strong>The successful query generated and executed is</strong></p>\n<pre><code>2023-12-03 19:43:39.252 org.springframework.data.jpa.repository.query.NamedQuery 14242 [restartedMain] DEBUG [] - Did not find named query AssetExtendedAttribute.getVersionByAsset.count  \n2023-12-03 19:43:39.252 org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler 14242 [restartedMain] DEBUG [] - Creating new EntityManager for shared EntityManager invocation  \n2023-12-03 19:43:39.254 org.hibernate.orm.query.hql 14244 [restartedMain] DEBUG [] - HQL : SELECT a.version FROM AssetExtendedAttribute a WHERE a.asset = :id  \n2023-12-03 19:43:39.255 org.hibernate.orm.query.hql.reservedWordAsIdentifier 14245 [restartedMain] DEBUG [] - Encountered use of reserved word as identifier : FROM  \n2023-12-03 19:43:39.255 org.hibernate.orm.query.hql.reservedWordAsIdentifier 14245 [restartedMain] DEBUG [] - Encountered use of reserved word as identifier : &lt;EOF&gt;  \n2023-12-03 19:43:39.255 org.hibernate.query.hql.internal.SemanticQueryBuilder 14245 [restartedMain] DEBUG [] - Handling root path - AssetExtendedAttribute  \n2023-12-03 19:43:39.255 org.hibernate.orm.query.sqm.creation 14245 [restartedMain] DEBUG [] - Applying inferable type to SqmExpression [SqmNamedParameter(id)] : null -&gt; BasicSqmPathSource(asset : UUID)  \n2023-12-03 19:43:39.255 org.hibernate.orm.query.sqm.ast 14245 [restartedMain] DEBUG [] - SqmStatement Tree :\n    -&gt; [select]\n      -&gt; [query-spec]\n        -&gt; [select]\n          -&gt; [selection]\n            -&gt; [basic-path] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a).version`\n          &lt;- [selection]\n        &lt;- [select]\n        -&gt; [from]\n          -&gt; [root] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a)`\n          &lt;- [root] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a)`\n        &lt;- [from]\n        -&gt; [where]\n          -&gt; [EQUAL]\n              -&gt; [basic-path] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a).asset`\n              :id\n          &lt;- [EQUAL]\n        &lt;- [where]\n      &lt;- [query-spec]\n    &lt;- [select]\n</code></pre>\n<p>2023-12-03 19:43:39.259 org.springframework.data.repository.core.support.RepositoryFactorySupport 14249 [restartedMain] DEBUG [] - Finished creation of repository instance for com.abb.abc.asset.mgmt.dao.repository.AssetExtAttrRepository.</p>\n"},{"tags":["java","spring","spring-boot","jaxb"],"comments":[{"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"score":1,"creation_date":1701621457,"post_id":77595102,"comment_id":136795919,"body_markdown":"Have you tried looking at this older SO question? https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo","body":"Have you tried looking at this older SO question? <a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\" title=\"javax xml bind jaxbexception implementation of jaxb api has not been found on mo\">stackoverflow.com/questions/51916221/&hellip;</a>"},{"owner":{"account_id":239922,"reputation":5720,"user_id":509839,"display_name":"Don Cruickshank"},"score":0,"creation_date":1701738990,"post_id":77595102,"comment_id":136810573,"body_markdown":"Does this answer your question? [javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath](https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\">javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath</a>"}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701632339,"creation_date":1701632339,"answer_id":77595900,"question_id":77595102,"body_markdown":"You&#39;re missing the JAXB-Runtime dependency (since you only defined the dependency for JAXB-API and as pointed by the error message you get).\r\n\r\nStarting from JDK9, the jaxb-related classes is no more part of the JDK\r\n\r\nJust add the following to solve your error\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Creating XML from java Object","body":"<p>You're missing the JAXB-Runtime dependency (since you only defined the dependency for JAXB-API and as pointed by the error message you get).</p>\n<p>Starting from JDK9, the jaxb-related classes is no more part of the JDK</p>\n<p>Just add the following to solve your error</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":30055907,"reputation":3,"user_id":23033283,"display_name":"Jaydeep Acharjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77595900,"answer_count":1,"score":0,"last_activity_date":1701632339,"creation_date":1701620125,"question_id":77595102,"body_markdown":"**I am trying to create an XML from Java object,but getting error &quot;Implementation of JAXB-API has not been found on module path or classpath.&quot; Please help me in solving the error.**\r\n\r\n\r\n```\r\n@RequestMapping(value = &quot;/writeToFile&quot;,method = RequestMethod.POST)\r\n\tpublic String writeFileXML(@RequestBody Customer customer) {\r\n\t\ttry {\r\n\t\t\tFile file=new File(&quot;D:\\\\vendorfile\\\\customer.xml&quot;);\r\n\t\t\tFileWriter fileWriter=new FileWriter(file);\r\n\t\t\tJAXBContext jaxbContext=JAXBContext.newInstance(Customer.class);\r\n\t\t\tMarshaller marshaller=jaxbContext.createMarshaller();\r\n\t\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n\t\t\tmarshaller.marshal(customer, fileWriter);\r\n\t\t\treturn &quot;Marshaller successfull&quot;;\r\n\t\t}catch(IOException ioException) {\r\n\t\t\treturn ioException.getMessage();\r\n\t\t}catch(Exception ex) {\r\n\t\t\treturn ex.getMessage();\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n","title":"Creating XML from java Object","body":"<p><strong>I am trying to create an XML from Java object,but getting error &quot;Implementation of JAXB-API has not been found on module path or classpath.&quot; Please help me in solving the error.</strong></p>\n<pre><code>@RequestMapping(value = &quot;/writeToFile&quot;,method = RequestMethod.POST)\n    public String writeFileXML(@RequestBody Customer customer) {\n        try {\n            File file=new File(&quot;D:\\\\vendorfile\\\\customer.xml&quot;);\n            FileWriter fileWriter=new FileWriter(file);\n            JAXBContext jaxbContext=JAXBContext.newInstance(Customer.class);\n            Marshaller marshaller=jaxbContext.createMarshaller();\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n            marshaller.marshal(customer, fileWriter);\n            return &quot;Marshaller successfull&quot;;\n        }catch(IOException ioException) {\n            return ioException.getMessage();\n        }catch(Exception ex) {\n            return ex.getMessage();\n        }\n    }\n</code></pre>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701417516,"post_id":77582180,"comment_id":136775444,"body_markdown":"The model parameter in the controller method needs to be annotated with `@Valid` so that the `@javax.annotation.Nonnull` is validated, or maybe you&#39;re using Spring Boot 3, which only supports `@jakarta.annotation.Nonnull` instead.","body":"The model parameter in the controller method needs to be annotated with <code>@Valid</code> so that the <code>@javax.annotation.Nonnull</code> is validated, or maybe you&#39;re using Spring Boot 3, which only supports <code>@jakarta.annotation.Nonnull</code> instead."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1701464478,"post_id":77582180,"comment_id":136783306,"body_markdown":"Annotated request body with `@javax.validation.Valid` as suggested. This was in addition to having the controller class annotated with `@org.springframework.validation.annotation.Validated` already. It made no difference; still let the null values for colour pass through. We are using Spring Boot 2.7.12","body":"Annotated request body with <code>@javax.validation.Valid</code> as suggested. This was in addition to having the controller class annotated with <code>@org.springframework.validation.annotation.Validated</code> already. It made no difference; still let the null values for colour pass through. We are using Spring Boot 2.7.12"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701511233,"post_id":77582180,"comment_id":136786718,"body_markdown":"Then please edit your question and include the controller.","body":"Then please edit your question and include the controller."}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701631688,"creation_date":1701385957,"question_id":77582180,"body_markdown":"We are implementing an application which exposes an API that has the interface described by an `api.swagger.yaml` file. We build our application with Gradle and part of the build process we parse the `api.swagger.yaml` file and generate the classes modelling the request response classes. For this we use the `org.openapitools:openapi-generator-gradle-plugin:6.6.0` Gradle plugin. The Gradle task that does this is configured like below:\r\n\r\n```groovy\r\n//https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin\r\ntask buildApiModel(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\r\n    generatorName = &quot;java&quot;\r\n    library = &quot;webclient&quot;\r\n    inputSpec = &quot;$rootDir/src/main/resources/swagger/v3/api.swagger.yaml&quot;.toString()\r\n    outputDir = &quot;$buildDir/myapp-generated-api/&quot;.toString()\r\n    modelPackage = &quot;com.my.comp.myapp.api.dto&quot;\r\n    generateModelTests = false\r\n    generateApiTests = false\r\n    skipValidateSpec = true\r\n    configOptions = [\r\n            java11                        : &quot;true&quot;,\r\n            dateLibrary                   : &quot;java11&quot;,\r\n            interfaceOnly                 : &quot;true&quot;,\r\n            additionalModelTypeAnnotations: &quot;@lombok.experimental.SuperBuilder @lombok.AllArgsConstructor @JsonInclude(JsonInclude.Include.NON_NULL)&quot;\r\n    ]\r\n```\r\n\r\nIn our Swagger we define the request which is a complex structure with some embedded structures, say one of them is called `trafficMap` which in turn has a property called `semaphore` which in turn has a **required** property called `colour` which colour property can only have three values: `green`, `yellow` and `red`. It is a requirement that colour property is always passed and cannot be null. In our Swagger file this will look like this:\r\n\r\n```yaml\r\ntrafficMap:\r\n  title: ...\r\n  description: ...\r\n  type: object\r\n  properties:\r\n    semaphore:\r\n      description: ...\r\n      type: object\r\n      properties:\r\n        colour:\r\n          description: ...\r\n          type: string\r\n          enum:\r\n            - GREEN\r\n            - YELLOW\r\n            - RED\r\n      required:\r\n        - colour\r\n```\r\n\r\nWith the above, the generated Semaphore class will have these annotations regarding the colour property:\r\n\r\n```java\r\npublic class Semaphore {\r\n    public enum ColourEnum {\r\n        GREEN(&quot;GREN&quot;),\r\n        YELLOW(&quot;YELLOW&quot;),\r\n        RED(&quot;RED&quot;);\r\n\r\n        private String value;\r\n        \r\n        ColourEnum(String value) {\r\n            this.value = value;\r\n        }\r\n        \r\n        @JsonValue\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n        \r\n        @JsonCreator\r\n        public static ColourEnum fromValue(String value) {\r\n            for (ColourEnum b : ColourEnum.values()) {\r\n                if (b.value.equals(value)) {\r\n                   return b;\r\n                }\r\n            }\r\n            throw new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n        }\r\n              \r\n     public Semaphore() {\r\n     }\r\n     \r\n     public Semaphore colour(ColourEnum colour) {\r\n        this.colour = colour;\r\n        return this;\r\n     }\r\n     \r\n     @javax.annotation.Nonnull\r\n     @JsonProperty(JSON_PROPERTY_COLOUR)\r\n     @JsonInclude(value = JsonInclude.Include.ALWAYS)\r\n     public ColourEnum getColour() {\r\n         return colour;\r\n     }\r\n\r\n     @JsonProperty(JSON_PROPERTY_COLOUR)\r\n     @JsonInclude(value = JsonInclude.Include.ALWAYS)\r\n     public void setColour(ColourEnum colour) {\r\n         this.colour = colour;\r\n     }\r\n     // ... The rest of the generated Semaphore class\r\n}\r\n```\r\n\r\nWhen sending the request and setting the colour property to `BLUE` the request gets rejected as it should with a message `Invalid semaphore.colour` in the response body.\r\n\r\nHowever, if we pass a null value for colour or we miss the colour entirely from the request, we don&#39;t get a rejection and the request hits the controller instead. We would like the generated code to do this validation for us as opposed to implementing extra validation on the service side.\r\n\r\nWe thought the reason for this behaviour was the this annotation in the generated code: `@JsonInclude(value = JsonInclude.Include.ALWAYS)` which from JsonInclude documentation could cause accepting any value including null.\r\n\r\n```java\r\npublic enum Include\r\n{\r\n    /**\r\n     * Value that indicates that property is to be always included,\r\n     * independent of value of the property.\r\n     */\r\n    ALWAYS,\r\n\r\n    /**\r\n     * Value that indicates that only properties with non-null\r\n     * values are to be included.\r\n     */\r\n    NON_NULL,\r\n```\r\n \r\nSo the natural thing that came to our mind was to try to replace the `JsonInclude.Include.ALWAYS` with `JsonInclude.Include.NON_NULL`. To do this we added these two `x` attributes in the `api.swagger.yaml` for the `colour` property \r\n\r\n```yaml\r\ncolour:\r\n  description: ...\r\n  type: string\r\n  x-setter-annotation: &quot;@JsonInclude(JsonInclude.Include.NON_NULL)&quot;\r\n  x-field-extra-annotation: &quot;@JsonInclude(JsonInclude.Include.NON_NULL)&quot;\r\n  enum:\r\n  ....\r\n```\r\n\r\nThe only difference in the generated code that we noticed was that `Colour` field of the `Semaphore` class was now annotated with `NON_NULL` but the getter and setter methods still had the `ALWAYS` JsonInclude and the app still does not reject the null values for colour.\r\n\r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\nprivate ColourEnum colour;\r\n```\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;/v3/some&quot;)\r\n@Validated\r\npublic void StuffController {\r\n    @PostMapping(value = &quot;/stuff&quot;, consumes = APPLICATION_JSON_VALUE, produces = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;CreateStuffResponse&gt; createStuff(\r\n        @RequestBody @Valid Payee request, @RequestHeader HttpHeaders httpHeaders) throws Exception {\r\n    ...\r\n    }\r\n}\r\n```\r\n\r\nHow can we configure our swagger to generate code that would reject the request if a null value is passed for colour?","title":"How to reject null values in Swagger","body":"<p>We are implementing an application which exposes an API that has the interface described by an <code>api.swagger.yaml</code> file. We build our application with Gradle and part of the build process we parse the <code>api.swagger.yaml</code> file and generate the classes modelling the request response classes. For this we use the <code>org.openapitools:openapi-generator-gradle-plugin:6.6.0</code> Gradle plugin. The Gradle task that does this is configured like below:</p>\n<pre><code>//https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin\ntask buildApiModel(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\n    generatorName = &quot;java&quot;\n    library = &quot;webclient&quot;\n    inputSpec = &quot;$rootDir/src/main/resources/swagger/v3/api.swagger.yaml&quot;.toString()\n    outputDir = &quot;$buildDir/myapp-generated-api/&quot;.toString()\n    modelPackage = &quot;com.my.comp.myapp.api.dto&quot;\n    generateModelTests = false\n    generateApiTests = false\n    skipValidateSpec = true\n    configOptions = [\n            java11                        : &quot;true&quot;,\n            dateLibrary                   : &quot;java11&quot;,\n            interfaceOnly                 : &quot;true&quot;,\n            additionalModelTypeAnnotations: &quot;@lombok.experimental.SuperBuilder @lombok.AllArgsConstructor @JsonInclude(JsonInclude.Include.NON_NULL)&quot;\n    ]\n</code></pre>\n<p>In our Swagger we define the request which is a complex structure with some embedded structures, say one of them is called <code>trafficMap</code> which in turn has a property called <code>semaphore</code> which in turn has a <strong>required</strong> property called <code>colour</code> which colour property can only have three values: <code>green</code>, <code>yellow</code> and <code>red</code>. It is a requirement that colour property is always passed and cannot be null. In our Swagger file this will look like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>trafficMap:\n  title: ...\n  description: ...\n  type: object\n  properties:\n    semaphore:\n      description: ...\n      type: object\n      properties:\n        colour:\n          description: ...\n          type: string\n          enum:\n            - GREEN\n            - YELLOW\n            - RED\n      required:\n        - colour\n</code></pre>\n<p>With the above, the generated Semaphore class will have these annotations regarding the colour property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Semaphore {\n    public enum ColourEnum {\n        GREEN(&quot;GREN&quot;),\n        YELLOW(&quot;YELLOW&quot;),\n        RED(&quot;RED&quot;);\n\n        private String value;\n        \n        ColourEnum(String value) {\n            this.value = value;\n        }\n        \n        @JsonValue\n        public String getValue() {\n            return value;\n        }\n        \n        @JsonCreator\n        public static ColourEnum fromValue(String value) {\n            for (ColourEnum b : ColourEnum.values()) {\n                if (b.value.equals(value)) {\n                   return b;\n                }\n            }\n            throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n        }\n              \n     public Semaphore() {\n     }\n     \n     public Semaphore colour(ColourEnum colour) {\n        this.colour = colour;\n        return this;\n     }\n     \n     @javax.annotation.Nonnull\n     @JsonProperty(JSON_PROPERTY_COLOUR)\n     @JsonInclude(value = JsonInclude.Include.ALWAYS)\n     public ColourEnum getColour() {\n         return colour;\n     }\n\n     @JsonProperty(JSON_PROPERTY_COLOUR)\n     @JsonInclude(value = JsonInclude.Include.ALWAYS)\n     public void setColour(ColourEnum colour) {\n         this.colour = colour;\n     }\n     // ... The rest of the generated Semaphore class\n}\n</code></pre>\n<p>When sending the request and setting the colour property to <code>BLUE</code> the request gets rejected as it should with a message <code>Invalid semaphore.colour</code> in the response body.</p>\n<p>However, if we pass a null value for colour or we miss the colour entirely from the request, we don't get a rejection and the request hits the controller instead. We would like the generated code to do this validation for us as opposed to implementing extra validation on the service side.</p>\n<p>We thought the reason for this behaviour was the this annotation in the generated code: <code>@JsonInclude(value = JsonInclude.Include.ALWAYS)</code> which from JsonInclude documentation could cause accepting any value including null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Include\n{\n    /**\n     * Value that indicates that property is to be always included,\n     * independent of value of the property.\n     */\n    ALWAYS,\n\n    /**\n     * Value that indicates that only properties with non-null\n     * values are to be included.\n     */\n    NON_NULL,\n</code></pre>\n<p>So the natural thing that came to our mind was to try to replace the <code>JsonInclude.Include.ALWAYS</code> with <code>JsonInclude.Include.NON_NULL</code>. To do this we added these two <code>x</code> attributes in the <code>api.swagger.yaml</code> for the <code>colour</code> property</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>colour:\n  description: ...\n  type: string\n  x-setter-annotation: &quot;@JsonInclude(JsonInclude.Include.NON_NULL)&quot;\n  x-field-extra-annotation: &quot;@JsonInclude(JsonInclude.Include.NON_NULL)&quot;\n  enum:\n  ....\n</code></pre>\n<p>The only difference in the generated code that we noticed was that <code>Colour</code> field of the <code>Semaphore</code> class was now annotated with <code>NON_NULL</code> but the getter and setter methods still had the <code>ALWAYS</code> JsonInclude and the app still does not reject the null values for colour.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_NULL)\nprivate ColourEnum colour;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/v3/some&quot;)\n@Validated\npublic void StuffController {\n    @PostMapping(value = &quot;/stuff&quot;, consumes = APPLICATION_JSON_VALUE, produces = APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;CreateStuffResponse&gt; createStuff(\n        @RequestBody @Valid Payee request, @RequestHeader HttpHeaders httpHeaders) throws Exception {\n    ...\n    }\n}\n</code></pre>\n<p>How can we configure our swagger to generate code that would reject the request if a null value is passed for colour?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-test"],"owner":{"account_id":24607110,"reputation":49,"user_id":18509169,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701604075,"answer_count":0,"score":-1,"last_activity_date":1701631656,"creation_date":1701562586,"question_id":77592641,"body_markdown":"with RestTemplate I use Spring&#39;s MockRestServiceServer to unit test my code, does spring have a similar Mock server for RestClient?  Or do you have an example of testing RestClient in the wiremock framework?\r\n\r\nHere&#39;s an example (snippet) of my testing code\r\n\r\n\r\n        restTemplate = RestTemplate()\r\n        mockServer = MockRestServiceServer.createServer(restTemplate)\r\n\r\n        mockServer.expect(requestTo(&quot;https://somereallygoodserver.com/oauth/token&quot;))\r\n            .andExpect(method(HttpMethod.POST))\r\n            .andExpect(content().contentType(MediaType.APPLICATION_FORM_URLENCODED))\r\n            .andExpect(content().string(&quot;grant_type=authorization_code&amp;code=code123&amp;client_id=dbMockClientId&amp;client_secret=dbMockClientSecret&quot;))\r\n            .andRespond(withSuccess(expectedResponse, MediaType.APPLICATION_JSON))\r\n","title":"Unit testing the new spring RestClient","body":"<p>with RestTemplate I use Spring's MockRestServiceServer to unit test my code, does spring have a similar Mock server for RestClient?  Or do you have an example of testing RestClient in the wiremock framework?</p>\n<p>Here's an example (snippet) of my testing code</p>\n<pre><code>    restTemplate = RestTemplate()\n    mockServer = MockRestServiceServer.createServer(restTemplate)\n\n    mockServer.expect(requestTo(&quot;https://somereallygoodserver.com/oauth/token&quot;))\n        .andExpect(method(HttpMethod.POST))\n        .andExpect(content().contentType(MediaType.APPLICATION_FORM_URLENCODED))\n        .andExpect(content().string(&quot;grant_type=authorization_code&amp;code=code123&amp;client_id=dbMockClientId&amp;client_secret=dbMockClientSecret&quot;))\n        .andRespond(withSuccess(expectedResponse, MediaType.APPLICATION_JSON))\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1329801618,"post_id":9372559,"comment_id":11836919,"body_markdown":"Looks like some `catch` block is &quot;helpfully&quot; suppressing the full stack trace, which would include the root cause.  First thing you need to do is modify the code to print the complete stack trace and include it in your post (edit the post).","body":"Looks like some <code>catch</code> block is &quot;helpfully&quot; suppressing the full stack trace, which would include the root cause.  First thing you need to do is modify the code to print the complete stack trace and include it in your post (edit the post)."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1567995420,"post_id":9372559,"comment_id":102121393,"body_markdown":"Or else you yourself have failed to provide the full stack trace, which alone contains the secret cause.","body":"Or else you yourself have failed to provide the full stack trace, which alone contains the secret cause."},{"owner":{"account_id":9904386,"reputation":1316,"user_id":7333386,"accept_rate":51,"display_name":"deadend"},"score":0,"creation_date":1604391426,"post_id":9372559,"comment_id":114326286,"body_markdown":"Same error for me when using Apache FTPClient.Could not found the solution","body":"Same error for me when using Apache FTPClient.Could not found the solution"}],"answers":[{"tags":[],"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384312511,"creation_date":1384312511,"answer_id":19944565,"question_id":9372559,"body_markdown":"The directory you are changing should exists on the same path and it should have proper write permission so that FTP can write on it.\r\n\r\nhere...\r\n\r\n    boolean isDirectoryChanged =f.changeWorkingDirectory(dumpProperties.getProperty(&quot;ftpDirectory&quot;));","title":"org.apache.commons.net.io.CopyStreamException: IOException caught while copying","body":"<p>The directory you are changing should exists on the same path and it should have proper write permission so that FTP can write on it.</p>\n\n<p>here...</p>\n\n<pre><code>boolean isDirectoryChanged =f.changeWorkingDirectory(dumpProperties.getProperty(\"ftpDirectory\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1865925,"reputation":393,"user_id":1689494,"display_name":"Ishara Samantha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1496723788,"creation_date":1496723788,"answer_id":44381494,"question_id":9372559,"body_markdown":"This error occurred when disk space is not available or disk quote exceed.   ","title":"org.apache.commons.net.io.CopyStreamException: IOException caught while copying","body":"<p>This error occurred when disk space is not available or disk quote exceed.   </p>\n"},{"tags":[],"owner":{"account_id":24498831,"reputation":1,"user_id":18414700,"display_name":"kevin chang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646799316,"creation_date":1646799316,"answer_id":71404238,"question_id":9372559,"body_markdown":"When I encountered this problem, the disk space of the ftp server to be boarded was full.","title":"org.apache.commons.net.io.CopyStreamException: IOException caught while copying","body":"<p>When I encountered this problem, the disk space of the ftp server to be boarded was full.</p>\n"}],"owner":{"account_id":180477,"reputation":1531,"user_id":413816,"accept_rate":75,"display_name":"JavaGeek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11449,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1701630190,"creation_date":1329801456,"question_id":9372559,"body_markdown":"I&#39;m trying to copy some files created in my server to FTP using code in below method. But weird thing is i&#39;m getting below error randomly and i couldn&#39;t figure out what is happening.\r\n\r\n    Exception =org.apache.commons.net.io.CopyStreamException: IOException caught while copying.\r\n\r\nBelow is the code by which i&#39;m copying the files to FTP.\r\n\r\n    public void copyDumpsToFTP() throws SocketException, IOException\r\n      {\r\n    \t  \r\n    \t  \r\n    \t  \r\n          FTPClient f= new FTPClient();\r\n          f.connect(dumpProperties.getProperty(&quot;ftpIPAddress&quot;));\r\n          boolean flag =f.login(dumpProperties.getProperty(&quot;ftpUser&quot;),dumpProperties.getProperty(&quot;ftpPassword&quot;));\r\n          System.out.println(&quot; is connected to FTP ::&quot;+flag);\r\n         \r\n          // setting fileType to binary\r\n          \r\n          boolean isFileTypeChanged =f.setFileType(FTP.BINARY_FILE_TYPE);\r\n          \r\n          \r\n          // System.out.println(&quot; Is file type changed to binary :: &quot;+isFileTypeChanged);\r\n          // change working directory of FTP Server\r\n          \r\n          boolean isDirectoryChanged =f.changeWorkingDirectory(dumpProperties.getProperty(&quot;ftpDirectory&quot;));\r\n          \r\n          System.out.println(&quot; Is the FTP working directory Changed :: &quot;+isDirectoryChanged);\r\n          \r\n          \r\n              \r\n         \r\n          // to copy engineering dump from source to FTP\r\n          \r\n          InputStream inputFileEngg = new FileInputStream(new File(dumpNameEngineering));\r\n        \r\n          \r\n          \r\n          boolean isSavedEngg = f.storeFile(dumpProperties.getProperty(&quot;dumpNameOfEnggInFTP&quot;), inputFileEngg);\r\n          System.out.println(&quot;is Engineering dump File Saved in FTP Server :: &quot;+isSavedEngg);\r\n          System.out.println(&quot; Engg Dump sucessfully Created and Saved in FTP...&quot;);\r\n          \r\n          \r\n       // to copy correspondance dump from source to FTP\r\n          \r\n         InputStream inputFileCorr = new FileInputStream(new File(dumpNameCorrespondance));   \r\n               \r\n          boolean isSavedCorr = f.storeFile(dumpProperties.getProperty(&quot;dumpNameOfCorrInFTP&quot;), inputFileCorr);\r\n          System.out.println(&quot;is Correspondance File Saved in FTP Server :: &quot;+isSavedCorr);\r\n          System.out.println(&quot; Correspondance Dump sucessfully Created and Saved in FTP...&quot;);\r\n          \r\n       // to copy tmg dump from source to FTP\r\n          \r\n           InputStream inputFileTmg = new FileInputStream(new File(dumpNameTmg));       \r\n          \r\n          boolean isSavedTmg = f.storeFile(dumpProperties.getProperty(&quot;dumpNameOfTmgInFTP&quot;), inputFileTmg);\r\n          System.out.println(&quot;is TMG File Saved in FTP Server :: &quot;+isSavedTmg);\r\n          System.out.println(&quot; TMG Dump sucessfully Created and Saved in FTP...&quot;);\r\n          \r\n          \r\n          \r\n          \r\n      }\r\n\r\nThe program is executing till SOP statement `Is the FTP working directory Changed :: true`\r\n\r\nand latter it had thrown error as mentioned above.","title":"org.apache.commons.net.io.CopyStreamException: IOException caught while copying","body":"<p>I'm trying to copy some files created in my server to FTP using code in below method. But weird thing is i'm getting below error randomly and i couldn't figure out what is happening.</p>\n\n<pre><code>Exception =org.apache.commons.net.io.CopyStreamException: IOException caught while copying.\n</code></pre>\n\n<p>Below is the code by which i'm copying the files to FTP.</p>\n\n<pre><code>public void copyDumpsToFTP() throws SocketException, IOException\n  {\n\n\n\n      FTPClient f= new FTPClient();\n      f.connect(dumpProperties.getProperty(\"ftpIPAddress\"));\n      boolean flag =f.login(dumpProperties.getProperty(\"ftpUser\"),dumpProperties.getProperty(\"ftpPassword\"));\n      System.out.println(\" is connected to FTP ::\"+flag);\n\n      // setting fileType to binary\n\n      boolean isFileTypeChanged =f.setFileType(FTP.BINARY_FILE_TYPE);\n\n\n      // System.out.println(\" Is file type changed to binary :: \"+isFileTypeChanged);\n      // change working directory of FTP Server\n\n      boolean isDirectoryChanged =f.changeWorkingDirectory(dumpProperties.getProperty(\"ftpDirectory\"));\n\n      System.out.println(\" Is the FTP working directory Changed :: \"+isDirectoryChanged);\n\n\n\n\n      // to copy engineering dump from source to FTP\n\n      InputStream inputFileEngg = new FileInputStream(new File(dumpNameEngineering));\n\n\n\n      boolean isSavedEngg = f.storeFile(dumpProperties.getProperty(\"dumpNameOfEnggInFTP\"), inputFileEngg);\n      System.out.println(\"is Engineering dump File Saved in FTP Server :: \"+isSavedEngg);\n      System.out.println(\" Engg Dump sucessfully Created and Saved in FTP...\");\n\n\n   // to copy correspondance dump from source to FTP\n\n     InputStream inputFileCorr = new FileInputStream(new File(dumpNameCorrespondance));   \n\n      boolean isSavedCorr = f.storeFile(dumpProperties.getProperty(\"dumpNameOfCorrInFTP\"), inputFileCorr);\n      System.out.println(\"is Correspondance File Saved in FTP Server :: \"+isSavedCorr);\n      System.out.println(\" Correspondance Dump sucessfully Created and Saved in FTP...\");\n\n   // to copy tmg dump from source to FTP\n\n       InputStream inputFileTmg = new FileInputStream(new File(dumpNameTmg));       \n\n      boolean isSavedTmg = f.storeFile(dumpProperties.getProperty(\"dumpNameOfTmgInFTP\"), inputFileTmg);\n      System.out.println(\"is TMG File Saved in FTP Server :: \"+isSavedTmg);\n      System.out.println(\" TMG Dump sucessfully Created and Saved in FTP...\");\n\n\n\n\n  }\n</code></pre>\n\n<p>The program is executing till SOP statement <code>Is the FTP working directory Changed :: true</code></p>\n\n<p>and latter it had thrown error as mentioned above.</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1701631219,"post_id":77595729,"comment_id":136797036,"body_markdown":"It could partially be due to compact Strings that were added in Java 9. If all characters of the String can be represented using a Latin-1 encoding, then the String will use a `byte[]` internally rather than a `char[]`, which saves memory.","body":"It could partially be due to compact Strings that were added in Java 9. If all characters of the String can be represented using a Latin-1 encoding, then the String will use a <code>byte[]</code> internally rather than a <code>char[]</code>, which saves memory."},{"owner":{"account_id":14862853,"reputation":33,"user_id":10733023,"display_name":"Ron Amir"},"score":0,"creation_date":1701632467,"post_id":77595729,"comment_id":136797155,"body_markdown":"@JacobG. I thought it might be the reason, however there is also a similar decrease in the number of strings","body":"@JacobG. I thought it might be the reason, however there is also a similar decrease in the number of strings"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701633024,"post_id":77595729,"comment_id":136797209,"body_markdown":"Can you make a heapdump in both versions and check for differences? Among others, you might want to look into both the amount of objects and required memory by them of specific classes but also at the fractions of memory which is reachable vs unreachable (could be GCed). You can use a tool like [Eclipse MAT](https://projects.eclipse.org/projects/tools.mat) for analyzing that.","body":"Can you make a heapdump in both versions and check for differences? Among others, you might want to look into both the amount of objects and required memory by them of specific classes but also at the fractions of memory which is reachable vs unreachable (could be GCed). You can use a tool like <a href=\"https://projects.eclipse.org/projects/tools.mat\" rel=\"nofollow noreferrer\">Eclipse MAT</a> for analyzing that."}],"owner":{"account_id":14862853,"reputation":33,"user_id":10733023,"display_name":"Ron Amir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701699052,"answer_count":0,"score":1,"last_activity_date":1701629560,"creation_date":1701629560,"question_id":77595729,"body_markdown":"My app Java version was upgraded to Java 17 from Java 8. While testing memory usage of the new version Ive noticed a huge decrease (more than 50%) in the memory usage. I used parallel gc so string deduplication feature is supposed to be off and there were no major changes to the code other than strictly needed changes for the upgrade. Is there an explanation for this decrease?","title":"Java 17 String Deduplication","body":"<p>My app Java version was upgraded to Java 17 from Java 8. While testing memory usage of the new version Ive noticed a huge decrease (more than 50%) in the memory usage. I used parallel gc so string deduplication feature is supposed to be off and there were no major changes to the code other than strictly needed changes for the upgrade. Is there an explanation for this decrease?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701630559,"post_id":77595605,"comment_id":136796960,"body_markdown":"If I changed your line to `A a = new B();`, we wouldn&#39;t expect an error (runtime or otherwise) anymore. In this sense, the compiler doesn&#39;t really care to check the casts, as something could come along and extend the functionality to make the cast valid. In your case, you&#39;re comparing a `final class String` to `class A`: The `final`ity of the class actually matters! If you marked `A` as `final` (removing `B` in the meantime), then your example becomes a compiler error.","body":"If I changed your line to <code>A a = new B();</code>, we wouldn&#39;t expect an error (runtime or otherwise) anymore. In this sense, the compiler doesn&#39;t really care to check the casts, as something could come along and extend the functionality to make the cast valid. In your case, you&#39;re comparing a <code>final class String</code> to <code>class A</code>: The <code>final</code>ity of the class actually matters! If you marked <code>A</code> as <code>final</code> (removing <code>B</code> in the meantime), then your example becomes a compiler error."}],"answers":[{"tags":[],"owner":{"account_id":28874500,"reputation":1,"user_id":22115357,"display_name":"Witherhoard"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701628691,"creation_date":1701628691,"answer_id":77595677,"question_id":77595605,"body_markdown":"Your compiler doesn&#39;t know what type of casting could be and wouldn&#39;t be valid, so it has it has to wait until runtime. This [enter link description here][1] it better than me though.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25326637/22115357","title":"question about Inconvertible types cannot cast","body":"<p>Your compiler doesn't know what type of casting could be and wouldn't be valid, so it has it has to wait until runtime. This <a href=\"https://stackoverflow.com/a/25326637/22115357\">enter link description here</a> it better than me though.</p>\n"}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1701628953,"answer_count":1,"score":2,"last_activity_date":1701628691,"creation_date":1701627446,"question_id":77595605,"body_markdown":"Compiler gives error: Inconvertible types cannot cast \r\n\r\n    String s = &quot;aa&quot;;\r\n    Integer i = (Integer)s;\r\n\r\nBut for below code, \r\n\r\n    class A implements Runnable{\r\n        @Override\r\n        public void run() {\r\n        }\r\n    }\r\n    class B extends A implements Observer {\r\n        @Override\r\n        public void update(Observable o, Object arg) {\r\n        }\r\n    }\r\n\r\nWhen trying to use, why there is no compilation error? A is not related to Observer at all.\r\n\r\n       A a = new A() ;\r\n       Observer ob = (Observer) a ; //compile OK but runtime fail\r\n\r\n","title":"question about Inconvertible types cannot cast","body":"<p>Compiler gives error: Inconvertible types cannot cast</p>\n<pre><code>String s = &quot;aa&quot;;\nInteger i = (Integer)s;\n</code></pre>\n<p>But for below code,</p>\n<pre><code>class A implements Runnable{\n    @Override\n    public void run() {\n    }\n}\nclass B extends A implements Observer {\n    @Override\n    public void update(Observable o, Object arg) {\n    }\n}\n</code></pre>\n<p>When trying to use, why there is no compilation error? A is not related to Observer at all.</p>\n<pre><code>   A a = new A() ;\n   Observer ob = (Observer) a ; //compile OK but runtime fail\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":28746296,"reputation":1,"user_id":22015381,"display_name":"Dagworld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701628653,"answer_count":0,"score":-1,"last_activity_date":1701628613,"creation_date":1701628371,"question_id":77595658,"body_markdown":"Taking the Java MOOC COURSE and i can&#39;t seem to figure out why my code is not printing a right leaning triangle ? i&#39;ve been stuck at it for days now ? can someone please explain to me what i am doing wrong.\r\np.s -- i used the hyphen in place of space to see what&#39;s printing in the console.\r\n\r\n\r\n\r\n\r\n\r\n    class AdvancedAstrology {\r\n    \r\n        public static void main(String[] args) {\r\n            printTriAngle(4);\r\n        }\r\n    \r\n        public static void printSpaces(int number) {\r\n            for (int i = 0; i &lt; number; i++) {\r\n                System.out.print(&quot;$&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void printStars(int number) {\r\n            for (int i = 0; i &lt; number; i++) {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    \r\n        public static void printTriAngle(int size) {\r\n    \r\n            int i = 1;\r\n            while (i &lt;= size) {\r\n                printSpaces(size - i);\r\n                printStars(i);\r\n                i++;\r\n                size--;\r\n            }\r\n        }\r\n    \r\n    }","title":"MOOC JAVA COURSE - Stuck on Advanced AStrology","body":"<p>Taking the Java MOOC COURSE and i can't seem to figure out why my code is not printing a right leaning triangle ? i've been stuck at it for days now ? can someone please explain to me what i am doing wrong.\np.s -- i used the hyphen in place of space to see what's printing in the console.</p>\n<pre><code>class AdvancedAstrology {\n\n    public static void main(String[] args) {\n        printTriAngle(4);\n    }\n\n    public static void printSpaces(int number) {\n        for (int i = 0; i &lt; number; i++) {\n            System.out.print(&quot;$&quot;);\n        }\n    }\n\n    public static void printStars(int number) {\n        for (int i = 0; i &lt; number; i++) {\n            System.out.print(&quot;*&quot;);\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n\n    public static void printTriAngle(int size) {\n\n        int i = 1;\n        while (i &lt;= size) {\n            printSpaces(size - i);\n            printStars(i);\n            i++;\n            size--;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":117006,"reputation":24352,"user_id":306602,"display_name":"naikus"},"score":1,"creation_date":1280143681,"post_id":3333611,"comment_id":3458870,"body_markdown":"Do you see the log message in the welcome() method?","body":"Do you see the log message in the welcome() method?"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":3,"creation_date":1476736702,"post_id":3333611,"comment_id":67463272,"body_markdown":"I&#39;m still unclear about how to resolve this, there is no good answer here. No one explained why we can&#39;t do RequestMethod.POST. Can someone follow up? I don&#39;t understand any of the comments.","body":"I&#39;m still unclear about how to resolve this, there is no good answer here. No one explained why we can&#39;t do RequestMethod.POST. Can someone follow up? I don&#39;t understand any of the comments."}],"answers":[{"tags":[],"owner":{"account_id":667302,"reputation":208,"user_id":502325,"display_name":"Bik"},"down_vote_count":4,"up_vote_count":20,"is_accepted":true,"score":16,"last_activity_date":1450098190,"creation_date":1289331124,"answer_id":4137650,"question_id":3333611,"body_markdown":"Change \r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n\r\nTo\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>Change </p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.POST)\n</code></pre>\n\n<p>To</p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.GET)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1473505,"reputation":6503,"user_id":1384480,"accept_rate":80,"display_name":"Tejas"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1450098224,"creation_date":1346759819,"answer_id":12263009,"question_id":3333611,"body_markdown":"`method = POST` will work if you &#39;post&#39; a form to the url /test.\r\n\r\nif you type a url in address bar of a browser and hit enter, it&#39;s always a `GET` request, so you had to specify POST request.\r\n\r\nGoogle for `HTTP GET` and `HTTP POST` (there are several others like PUT DELETE). They all have their own meaning.","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p><code>method = POST</code> will work if you 'post' a form to the url /test.</p>\n\n<p>if you type a url in address bar of a browser and hit enter, it's always a <code>GET</code> request, so you had to specify POST request.</p>\n\n<p>Google for <code>HTTP GET</code> and <code>HTTP POST</code> (there are several others like PUT DELETE). They all have their own meaning.</p>\n"},{"tags":[],"owner":{"account_id":12307454,"reputation":119,"user_id":8980049,"accept_rate":75,"display_name":"Gavin James Beere"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516630213,"creation_date":1516630213,"answer_id":48383473,"question_id":3333611,"body_markdown":"I solved this error by including a get and post request in my controller:\r\nmethod={RequestMethod.POST, RequestMethod.GET}\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>I solved this error by including a get and post request in my controller:\nmethod={RequestMethod.POST, RequestMethod.GET}</p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526548237,"creation_date":1526548237,"answer_id":50387590,"question_id":3333611,"body_markdown":"I also had the same issue. I changed it to the following and it worked. \r\n\r\nJava : \r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n\r\nHTML code:\r\n  \r\n\r\n      &lt;form action=&quot;&lt;%=request.getContextPath() %&gt;/test&quot; method=&quot;GET&quot;&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;submit&quot;&gt; \r\n        &lt;/form&gt;\r\n\r\nBy default if you do not specify http method in a form it uses GET. To use POST method you need specifically state it. \r\n\r\nHope this helps. ","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>I also had the same issue. I changed it to the following and it worked. </p>\n\n<p>Java : </p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.GET)\n</code></pre>\n\n<p>HTML code:</p>\n\n<pre><code>  &lt;form action=\"&lt;%=request.getContextPath() %&gt;/test\" method=\"GET\"&gt;\n    &lt;input type=\"submit\" value=\"submit\"&gt; \n    &lt;/form&gt;\n</code></pre>\n\n<p>By default if you do not specify http method in a form it uses GET. To use POST method you need specifically state it. </p>\n\n<p>Hope this helps. </p>\n"},{"tags":[],"owner":{"account_id":5270006,"reputation":1227,"user_id":4208582,"display_name":"Michel Fernandes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558700903,"creation_date":1558700903,"answer_id":56292705,"question_id":3333611,"body_markdown":"Apparently some POST requests looks like a &quot;GET&quot; to the server (like Heroku...)\r\n\r\nSo I use this strategy and it works for me:\r\n\r\n    @RequestMapping(value = &quot;/salvar&quot;, method = { RequestMethod.GET, RequestMethod.POST })\r\n\r\n ","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>Apparently some POST requests looks like a \"GET\" to the server (like Heroku...)</p>\n\n<p>So I use this strategy and it works for me:</p>\n\n<pre><code>@RequestMapping(value = \"/salvar\", method = { RequestMethod.GET, RequestMethod.POST })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17334239,"reputation":11,"user_id":12556554,"display_name":"Ajith Arumugam Arunachalam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1580361516,"creation_date":1580361516,"answer_id":59979534,"question_id":3333611,"body_markdown":"if You are using browser it default always works on get, u can work with postman tool,otherwise u can change it to getmapping.hope this will works","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>if You are using browser it default always works on get, u can work with postman tool,otherwise u can change it to getmapping.hope this will works</p>\n"},{"tags":[],"owner":{"account_id":13519274,"reputation":883,"user_id":9753003,"display_name":"Coffemanz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642441698,"creation_date":1642441698,"answer_id":70745524,"question_id":3333611,"body_markdown":"For me the problem was that I forgot to add a protocol to baseUrl in my postman request. After I&#39;ve added &quot;https://&quot;, it worked like a charm.","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>For me the problem was that I forgot to add a protocol to baseUrl in my postman request. After I've added &quot;https://&quot;, it worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":14129077,"reputation":1,"user_id":10207507,"display_name":"asha pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649834693,"creation_date":1649834693,"answer_id":71853501,"question_id":3333611,"body_markdown":"I solved this error by including json data into postman body part and then hit the postmapping url\r\n\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>I solved this error by including json data into postman body part and then hit the postmapping url</p>\n"},{"tags":[],"owner":{"account_id":27387570,"reputation":11,"user_id":20891107,"display_name":"LaParaguaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672368723,"creation_date":1672368723,"answer_id":74957750,"question_id":3333611,"body_markdown":"Are you working with Angular? I had the same problem and it was because I was using subscribe and they changed their implementation (This deprecation was introduced in RxJS 6.4.) It worked for me using it like this:\r\n\r\n import { of } from &#39;rxjs&#39;;\r\n\r\n// recommended\r\nof([1,2,3]).subscribe((v) =&gt; console.info(v));\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>Are you working with Angular? I had the same problem and it was because I was using subscribe and they changed their implementation (This deprecation was introduced in RxJS 6.4.) It worked for me using it like this:</p>\n<p>import { of } from 'rxjs';</p>\n<p>// recommended\nof([1,2,3]).subscribe((v) =&gt; console.info(v));</p>\n"},{"tags":[],"owner":{"account_id":23513968,"reputation":84,"user_id":17562171,"display_name":"Marek Grzesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701628179,"creation_date":1701627657,"answer_id":77595621,"question_id":3333611,"body_markdown":"For me dosn&#39;t work I put solution abowe, You have to implement whole path like it&#39;s on pictures. Good luck\r\n\r\nAs well don&#39;t forget use:\r\n```\r\n@Service\r\n@Transactional\r\npublic class RoomService {\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n```\r\n    @RequestMapping(value = &quot;/{roomId}/status/{status}&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;String&gt; changeRoomStatus(\r\n            @PathVariable int roomId,\r\n            @PathVariable RoomStatus status) {\r\n\r\n        try {\r\n            roomService.changeRoomStatus(roomId, status);\r\n            return ResponseEntity.ok(&quot;Room status changed successfully.&quot;);\r\n        } catch (RoomNotFoundException e) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Room not found.&quot;);\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                    .body(&quot;Error changing room status: &quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M9lum.png\r\n  [2]: https://i.stack.imgur.com/ZicKa.png","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>For me dosn't work I put solution abowe, You have to implement whole path like it's on pictures. Good luck</p>\n<p>As well don't forget use:</p>\n<pre><code>@Service\n@Transactional\npublic class RoomService {\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/M9lum.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9lum.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZicKa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZicKa.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    @RequestMapping(value = &quot;/{roomId}/status/{status}&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;String&gt; changeRoomStatus(\n            @PathVariable int roomId,\n            @PathVariable RoomStatus status) {\n\n        try {\n            roomService.changeRoomStatus(roomId, status);\n            return ResponseEntity.ok(&quot;Room status changed successfully.&quot;);\n        } catch (RoomNotFoundException e) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Room not found.&quot;);\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n                    .body(&quot;Error changing room status: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":155049,"reputation":1139,"user_id":371430,"accept_rate":90,"display_name":"EdwardLau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236395,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":4137650,"answer_count":10,"score":32,"last_activity_date":1701628179,"creation_date":1280136480,"question_id":3333611,"body_markdown":"I trying `@RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)` but is error\r\n\r\nCode is \r\n\r\n     @Controller\r\n     public class HelloWordController {\r\n     private Logger logger = LoggerFactory.getLogger(HelloWordController.class);\r\n    \r\n     @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n     public String welcome() {\r\n      logger.info(&quot;Spring params is welcome&quot;);\r\n      return &quot;/WEB-INF/jsp/welcome&quot;;\r\n     }\r\n    \r\n    }\r\n\r\nweb.xml is\r\n\r\n    &lt;servlet&gt;\r\n    &lt;description&gt;This is Spring MVC DispatcherServlet&lt;/description&gt;\r\n    &lt;servlet-name&gt;SpringMVC DispatchServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;description&gt;SpringContext&lt;/description&gt;\r\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n      &lt;param-value&gt;classpath*:springmvc.xml&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n\r\n      &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;SpringMVC DispatchServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\nand springmvc.xml is\r\n\r\n\r\n &lt;context:component-scan base-package=&quot;org.lxh&quot;&gt;&lt;/context:component-scan&gt;\r\n\r\n &lt;mvc:annotation-driven /&gt;\r\n\r\n &lt;bean id=&quot;viewResolver&quot;\r\n  class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; \r\n  &lt;property name=&quot;prefix&quot; value=&quot;/&quot; /&gt;\r\n  &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n &lt;/bean&gt;\r\n\r\nindex.jsp is\r\n\r\n    &lt;form action=&quot;&lt;%=request.getContextPath() %&gt;/test&quot; method=&quot;post&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;submit&quot;&gt; \r\n    &lt;/form&gt;\r\n\r\nI input submit botton brower is error \r\n\r\n\r\n&gt; HTTP Status 405 - Request method &#39;GET&#39;\r\n&gt; not supported  type Status report\r\n&gt; \r\n&gt; message Request method &#39;GET&#39; not\r\n&gt; supported\r\n&gt; \r\n&gt; description The specified HTTP method\r\n&gt; is not allowed for the requested\r\n&gt; resource (Request method &#39;GET&#39; not\r\n&gt; supported).\r\n\r\n\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>I trying <code>@RequestMapping(value = \"/test\", method = RequestMethod.POST)</code> but is error</p>\n\n<p>Code is </p>\n\n<pre><code> @Controller\n public class HelloWordController {\n private Logger logger = LoggerFactory.getLogger(HelloWordController.class);\n\n @RequestMapping(value = \"/test\", method = RequestMethod.POST)\n public String welcome() {\n  logger.info(\"Spring params is welcome\");\n  return \"/WEB-INF/jsp/welcome\";\n }\n\n}\n</code></pre>\n\n<p>web.xml is</p>\n\n<pre><code>&lt;servlet&gt;\n&lt;description&gt;This is Spring MVC DispatcherServlet&lt;/description&gt;\n&lt;servlet-name&gt;SpringMVC DispatchServlet&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n&lt;init-param&gt;\n  &lt;description&gt;SpringContext&lt;/description&gt;\n  &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n  &lt;param-value&gt;classpath*:springmvc.xml&lt;/param-value&gt;\n&lt;/init-param&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>  &lt;servlet-mapping&gt;\n&lt;servlet-name&gt;SpringMVC DispatchServlet&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/&lt;/url-pattern&gt;\n</code></pre>\n\n<p></p>\n\n<p>and springmvc.xml is</p>\n\n<p></p>\n\n<p></p>\n\n<p> \n  \n  \n </p>\n\n<p>index.jsp is</p>\n\n<pre><code>&lt;form action=\"&lt;%=request.getContextPath() %&gt;/test\" method=\"post\"&gt;\n&lt;input type=\"submit\" value=\"submit\"&gt; \n&lt;/form&gt;\n</code></pre>\n\n<p>I input submit botton brower is error </p>\n\n<blockquote>\n  <p>HTTP Status 405 - Request method 'GET'\n  not supported  type Status report</p>\n  \n  <p>message Request method 'GET' not\n  supported</p>\n  \n  <p>description The specified HTTP method\n  is not allowed for the requested\n  resource (Request method 'GET' not\n  supported).</p>\n</blockquote>\n"},{"tags":["java","google-bigquery"],"comments":[{"owner":{"account_id":97682,"reputation":17411,"user_id":264837,"display_name":"Nathan Villaescusa"},"score":0,"creation_date":1478471182,"post_id":12213339,"comment_id":68156160,"body_markdown":"Possible duplicate of [Is there a google supported JDBC driver for BigQuery?](http://stackoverflow.com/questions/34443600/is-there-a-google-supported-jdbc-driver-for-bigquery)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/34443600/is-there-a-google-supported-jdbc-driver-for-bigquery\">Is there a google supported JDBC driver for BigQuery?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1477280,"reputation":580,"user_id":1387380,"accept_rate":78,"display_name":"Charles"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1346409248,"creation_date":1346409248,"answer_id":12213602,"question_id":12213339,"body_markdown":"There is no JDBC driver as far as I know but there is a Java API that could help:\r\nhttp://code.google.com/p/google-api-java-client/","title":"JDBC driver for Google BigQuery?","body":"<p>There is no JDBC driver as far as I know but there is a Java API that could help:\n<a href=\"http://code.google.com/p/google-api-java-client/\" rel=\"nofollow\">http://code.google.com/p/google-api-java-client/</a></p>\n"},{"tags":[],"owner":{"account_id":908020,"reputation":497,"user_id":942520,"display_name":"Tamas Foldi"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1701627899,"creation_date":1346434778,"answer_id":12220141,"question_id":12213339,"body_markdown":"**UPDATE**: this post was made in 2012, since then Google has a fully compliant JDBC driver here: https://cloud.google.com/bigquery/docs/reference/odbc-jdbc-drivers\r\n\r\nThere is a 3rd party JDBC driver, which can be obtained from:\r\n\r\nhttp://code.google.com/p/starschema-bigquery-jdbc/\r\n\r\nIt supports the same SQL SELECT syntax as the original Google BigQuery, and there is no insert or update support. Please let me know if you have any further questions or requests about the driver","title":"JDBC driver for Google BigQuery?","body":"<p><strong>UPDATE</strong>: this post was made in 2012, since then Google has a fully compliant JDBC driver here: <a href=\"https://cloud.google.com/bigquery/docs/reference/odbc-jdbc-drivers\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/reference/odbc-jdbc-drivers</a></p>\n<p>There is a 3rd party JDBC driver, which can be obtained from:</p>\n<p><a href=\"http://code.google.com/p/starschema-bigquery-jdbc/\" rel=\"nofollow noreferrer\">http://code.google.com/p/starschema-bigquery-jdbc/</a></p>\n<p>It supports the same SQL SELECT syntax as the original Google BigQuery, and there is no insert or update support. Please let me know if you have any further questions or requests about the driver</p>\n"},{"tags":[],"owner":{"account_id":97682,"reputation":17411,"user_id":264837,"display_name":"Nathan Villaescusa"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1478387731,"creation_date":1478372546,"answer_id":40442073,"question_id":12213339,"body_markdown":"Google now offers one that is freely avaliable that was developed by one of their partners: https://cloud.google.com/bigquery/partners/simba-drivers/#current_jdbc_driver_releases","title":"JDBC driver for Google BigQuery?","body":"<p>Google now offers one that is freely avaliable that was developed by one of their partners: <a href=\"https://cloud.google.com/bigquery/partners/simba-drivers/#current_jdbc_driver_releases\" rel=\"noreferrer\">https://cloud.google.com/bigquery/partners/simba-drivers/#current_jdbc_driver_releases</a></p>\n"},{"tags":[],"owner":{"account_id":1007997,"reputation":2357,"user_id":1046584,"accept_rate":83,"display_name":"Lu&#237;s Bianchin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1492116779,"creation_date":1492116779,"answer_id":43401521,"question_id":12213339,"body_markdown":"There is also 3rd party [Simba Drivers for BigQuery][1]:\n\n&gt; Google has partnered with Simba Technologies Inc, a Magnitude Software Company to provide ODBC and JDBC drivers that leverage the power of BigQuery&#39;s Standard SQL.\n&gt;\n&gt; The intent of these drivers is to help users connect the power of Google BigQuery with existing tooling and infrastructure that does not have native integration. If you are building new integrations with BigQuery, we recommend you consider the native API. The functionality exposed by an ODBC/JDBC connection is necessarily a subset of the full capabilities of BigQuery.\n\n\n  [1]: https://cloud.google.com/bigquery/partners/simba-drivers/","title":"JDBC driver for Google BigQuery?","body":"<p>There is also 3rd party <a href=\"https://cloud.google.com/bigquery/partners/simba-drivers/\" rel=\"nofollow noreferrer\">Simba Drivers for BigQuery</a>:</p>\n<blockquote>\n<p>Google has partnered with Simba Technologies Inc, a Magnitude Software Company to provide ODBC and JDBC drivers that leverage the power of BigQuery's Standard SQL.</p>\n<p>The intent of these drivers is to help users connect the power of Google BigQuery with existing tooling and infrastructure that does not have native integration. If you are building new integrations with BigQuery, we recommend you consider the native API. The functionality exposed by an ODBC/JDBC connection is necessarily a subset of the full capabilities of BigQuery.</p>\n</blockquote>\n"}],"owner":{"account_id":1799724,"reputation":101,"user_id":1638363,"display_name":"Mike Magic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7822,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":12220141,"answer_count":4,"score":9,"last_activity_date":1701627899,"creation_date":1346408218,"question_id":12213339,"body_markdown":"Does anyone know of any JDBC interface or driver for Google BigQuery?\r\n\r\nOnly Java please - I&#39;m done with the Python library.","title":"JDBC driver for Google BigQuery?","body":"<p>Does anyone know of any JDBC interface or driver for Google BigQuery?</p>\n<p>Only Java please - I'm done with the Python library.</p>\n"},{"tags":["java","minecraft","forge"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1701628088,"post_id":77595622,"comment_id":136796687,"body_markdown":"An unformatted error dump is not a good question. People need to be able to reproduce the problem to help you. Please check [ask], then [edit] your question and add a [mcve].","body":"An unformatted error dump is not a good question. People need to be able to reproduce the problem to help you. Please check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, then <a href=\"https://stackoverflow.com/posts/77595622/edit\">edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701628438,"post_id":77595622,"comment_id":136796725,"body_markdown":"The quality of ChatGPT&#39;s answers are only as good as the question&#39;s quality. Funny, this site works much the same.","body":"The quality of ChatGPT&#39;s answers are only as good as the question&#39;s quality. Funny, this site works much the same."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":0,"creation_date":1701642781,"post_id":77595622,"comment_id":136798135,"body_markdown":"@Grisharik - one of you and ChatGPT needs to actually read the error  message, which refers to **sounds.json**, not sound.json.","body":"@Grisharik - one of you and ChatGPT needs to actually read the error  message, which refers to <b>sounds.json</b>, not sound.json."},{"owner":{"account_id":26539851,"reputation":86,"user_id":20170780,"display_name":"Hipposgrumm"},"score":0,"creation_date":1701702071,"post_id":77595622,"comment_id":136805150,"body_markdown":"You have capital letters in your pack id.","body":"You have capital letters in your pack id."}],"owner":{"account_id":26961027,"reputation":1,"user_id":22661940,"display_name":"  Grisharik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701629908,"answer_count":0,"score":-3,"last_activity_date":1701627664,"creation_date":1701627664,"question_id":77595622,"body_markdown":"Error with launching minecraft client`---- Minecraft Crash Report ----\r\n// On the bright side, I bought you a teddy bear!\r\n\r\nTime: 03.12.2023, 21:10\r\nDescription: Rendering overlay\r\n\r\nnet.minecraft.ResourceLocationException: Non [a-z0-9_.-] character in namespace of location: TrueAdventure:sounds.json\r\n\tat net.minecraft.resources.ResourceLocation.&lt;init&gt;(ResourceLocation.java:35) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\r\n\tat net.minecraft.resources.ResourceLocation.&lt;init&gt;(ResourceLocation.java:46) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\r\n\tat net.minecraft.client.sounds.SoundManager.prepare(SoundManager.java:64) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.sounds.SoundManager.prepare(SoundManager.java:39) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.server.packs.resources.SimplePreparableReloadListener.lambda$reload$0(SimplePreparableReloadListener.java:11) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?] {}\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\r\n\r\n\r\nA detailed walkthrough of the error, its code path and all known details is as follows:\r\n---------------------------------------------------------------------------------------\r\n\r\n-- Head --\r\nThread: Render thread\r\nSuspected Mods: NONE\r\nStacktrace:\r\n\tat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:882) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n-- Overlay render details --\r\nDetails:\r\n\tOverlay name: net.minecraft.client.gui.screens.LoadingOverlay\r\nStacktrace:\r\n\tat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:882) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.runTick(Minecraft.java:1046) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.run(Minecraft.java:665) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.main.Main.main(Main.java:205) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\r\n\tat net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:24) ~[fmlloader-1.18.2-40.2.14.jar%230!/:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:37) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.Launcher.run(Launcher.java:106) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.Launcher.main(Launcher.java:77) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:149) [bootstraplauncher-1.0.0.jar:?] {}\r\n\r\n\r\n-- Last reload --\r\nDetails:\r\n\tReload number: 1\r\n\tReload reason: initial\r\n\tFinished: No\r\n\tPacks: Default, Mod Resources\r\n\r\n-- System Details --\r\nDetails:\r\n\tMinecraft Version: 1.18.2\r\n\tMinecraft Version ID: 1.18.2\r\n\tOperating System: Windows 7 (amd64) version 6.1\r\n\tJava Version: 17.0.7, Oracle Corporation\r\n\tJava VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode, sharing), Oracle Corporation\r\n\tMemory: 530084352 bytes (505 MiB) / 1197473792 bytes (1142 MiB) up to 2122317824 bytes (2024 MiB)\r\n\tCPUs: 4\r\n\tProcessor Vendor: GenuineIntel\r\n\tProcessor Name: Intel(R) Core(TM) i7-3517U CPU @ 1.90GHz\r\n\tIdentifier: Intel64 Family 6 Model 58 Stepping 9\r\n\tMicroarchitecture: Ivy Bridge (Client)\r\n\tFrequency (GHz): 2,39\r\n\tNumber of physical packages: 1\r\n\tNumber of physical CPUs: 2\r\n\tNumber of logical CPUs: 4\r\n\tGraphics card #0 name: Intel(R) HD Graphics 4000\r\n\tGraphics card #0 vendor: Intel Corporation (0x8086)\r\n\tGraphics card #0 VRAM (MB): 2112,00\r\n\tGraphics card #0 deviceId: 0x0166\r\n\tGraphics card #0 versionInfo: DriverVersion=10.18.10.4276\r\n\tMemory slot #0 capacity (MB): 4096,00\r\n\tMemory slot #0 clockSpeed (GHz): 1,33\r\n\tMemory slot #0 type: Unknown\r\n\tMemory slot #1 capacity (MB): 4096,00\r\n\tMemory slot #1 clockSpeed (GHz): 1,60\r\n\tMemory slot #1 type: Unknown\r\n\tVirtual memory max (MB): 18290,20\r\n\tVirtual memory used (MB): 15205,57\r\n\tSwap memory total (MB): 10195,85\r\n\tSwap memory used (MB): 6490,22\r\n\tJVM Flags: 1 total; -XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump\r\n\tLaunched Version: MOD_DEV\r\n\tBackend library: LWJGL version 3.2.2 SNAPSHOT\r\n\tBackend API: Intel(R) HD Graphics 4000 GL version 3.2.0 - Build 10.18.10.4276, Intel\r\n\tWindow size: 854x543\r\n\tGL Caps: Using framebuffer using OpenGL 3.2\r\n\tGL debug messages: \r\n\tUsing VBOs: Yes\r\n\tIs Modded: Definitely; Client brand changed to &#39;forge&#39;\r\n\tType: Client (map_client.txt)\r\n\tGraphics mode: fancy\r\n\tResource Packs: \r\n\tCurrent Language: English (US)\r\n\tCPU: 4x Intel(R) Core(TM) i7-3517U CPU @ 1.90GHz\r\n\tModLauncher: 9.1.3+9.1.3+main.9b69c82a\r\n\tModLauncher launch target: forgeclientuserdev\r\n\tModLauncher naming: mcp\r\n\tModLauncher services: \r\n\t\t mixin PLUGINSERVICE \r\n\t\t eventbus PLUGINSERVICE \r\n\t\t slf4jfixer PLUGINSERVICE \r\n\t\t object_holder_definalize PLUGINSERVICE \r\n\t\t runtime_enum_extender PLUGINSERVICE \r\n\t\t capability_token_subclass PLUGINSERVICE \r\n\t\t accesstransformer PLUGINSERVICE \r\n\t\t runtimedistcleaner PLUGINSERVICE \r\n\t\t mixin TRANSFORMATIONSERVICE \r\n\t\t fml TRANSFORMATIONSERVICE \r\n\tFML Language Providers: \r\n\t\tminecraft@1.0\r\n\t\tlowcodefml@null\r\n\t\tjavafml@null\r\n\tMod List: \r\n\t\tforge-1.18.2-40.2.14_mapped_official_1.18.2.jar   |Minecraft                     |minecraft                     |1.18.2              |SIDED_SETU|Manifest: a1:d4:5e:04:4f:d3:d6:e0:7b:37:97:cf:77:b0:de:ad:4a:47:ce:8c:96:49:5f:0a:cf:8c:ae:b2:6d:4b:8a:3f\r\n\t\t                                                  |Forge                         |forge                         |40.2.14             |SIDED_SETU|Manifest: NOSIGNATURE\r\n\t\tmain                                              |TrueAdventure                 |trueadventure                 |0.0NONE             |SIDED_SETU|Manifest: NOSIGNATURE\r\n\tCrash Report UUID: d1a5e4ff-859c-4f47-86c9-7f1a65b36501\r\n\tFML: 40.2\r\n\tForge: net.minecraftforge:40.2.14\r\n`\r\n\r\nI asked ChatGpt about the problem and he replied the problem is in the sound.json file, I dont have such a file. Please, help.","title":"I have a problem with a certain sound.json file that does not exist for me, a problem with invalid characters. How can I solve this problem?","body":"<p>Error with launching minecraft client`---- Minecraft Crash Report ----\n// On the bright side, I bought you a teddy bear!</p>\n<p>Time: 03.12.2023, 21:10\nDescription: Rendering overlay</p>\n<p>net.minecraft.ResourceLocationException: Non [a-z0-9_.-] character in namespace of location: TrueAdventure:sounds.json\nat net.minecraft.resources.ResourceLocation.(ResourceLocation.java:35) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\nat net.minecraft.resources.ResourceLocation.(ResourceLocation.java:46) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\nat net.minecraft.client.sounds.SoundManager.prepare(SoundManager.java:64) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\nat net.minecraft.client.sounds.SoundManager.prepare(SoundManager.java:39) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\nat net.minecraft.server.packs.resources.SimplePreparableReloadListener.lambda$reload$0(SimplePreparableReloadListener.java:11) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\nat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?] {}\nat java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[?:?] {}\nat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\nat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\nat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\nat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\nat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}</p>\n<h2>A detailed walkthrough of the error, its code path and all known details is as follows:</h2>\n<p>-- Head --\nThread: Render thread\nSuspected Mods: NONE\nStacktrace:\nat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:882) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n-- Overlay render details --\nDetails:\nOverlay name: net.minecraft.client.gui.screens.LoadingOverlay\nStacktrace:\nat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:882) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\nat net.minecraft.client.Minecraft.runTick(Minecraft.java:1046) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\nat net.minecraft.client.Minecraft.run(Minecraft.java:665) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\nat net.minecraft.client.main.Main.main(Main.java:205) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\nat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\nat net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:24) ~[fmlloader-1.18.2-40.2.14.jar%230!/:?] {}\nat cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:37) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.Launcher.run(Launcher.java:106) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.Launcher.main(Launcher.java:77) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:149) [bootstraplauncher-1.0.0.jar:?] {}</p>\n<p>-- Last reload --\nDetails:\nReload number: 1\nReload reason: initial\nFinished: No\nPacks: Default, Mod Resources</p>\n<p>-- System Details --\nDetails:\nMinecraft Version: 1.18.2\nMinecraft Version ID: 1.18.2\nOperating System: Windows 7 (amd64) version 6.1\nJava Version: 17.0.7, Oracle Corporation\nJava VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode, sharing), Oracle Corporation\nMemory: 530084352 bytes (505 MiB) / 1197473792 bytes (1142 MiB) up to 2122317824 bytes (2024 MiB)\nCPUs: 4\nProcessor Vendor: GenuineIntel\nProcessor Name: Intel(R) Core(TM) i7-3517U CPU @ 1.90GHz\nIdentifier: Intel64 Family 6 Model 58 Stepping 9\nMicroarchitecture: Ivy Bridge (Client)\nFrequency (GHz): 2,39\nNumber of physical packages: 1\nNumber of physical CPUs: 2\nNumber of logical CPUs: 4\nGraphics card #0 name: Intel(R) HD Graphics 4000\nGraphics card #0 vendor: Intel Corporation (0x8086)\nGraphics card #0 VRAM (MB): 2112,00\nGraphics card #0 deviceId: 0x0166\nGraphics card #0 versionInfo: DriverVersion=10.18.10.4276\nMemory slot #0 capacity (MB): 4096,00\nMemory slot #0 clockSpeed (GHz): 1,33\nMemory slot #0 type: Unknown\nMemory slot #1 capacity (MB): 4096,00\nMemory slot #1 clockSpeed (GHz): 1,60\nMemory slot #1 type: Unknown\nVirtual memory max (MB): 18290,20\nVirtual memory used (MB): 15205,57\nSwap memory total (MB): 10195,85\nSwap memory used (MB): 6490,22\nJVM Flags: 1 total; -XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump\nLaunched Version: MOD_DEV\nBackend library: LWJGL version 3.2.2 SNAPSHOT\nBackend API: Intel(R) HD Graphics 4000 GL version 3.2.0 - Build 10.18.10.4276, Intel\nWindow size: 854x543\nGL Caps: Using framebuffer using OpenGL 3.2\nGL debug messages:\nUsing VBOs: Yes\nIs Modded: Definitely; Client brand changed to 'forge'\nType: Client (map_client.txt)\nGraphics mode: fancy\nResource Packs:\nCurrent Language: English (US)\nCPU: 4x Intel(R) Core(TM) i7-3517U CPU @ 1.90GHz\nModLauncher: 9.1.3+9.1.3+main.9b69c82a\nModLauncher launch target: forgeclientuserdev\nModLauncher naming: mcp\nModLauncher services:\nmixin PLUGINSERVICE\neventbus PLUGINSERVICE\nslf4jfixer PLUGINSERVICE\nobject_holder_definalize PLUGINSERVICE\nruntime_enum_extender PLUGINSERVICE\ncapability_token_subclass PLUGINSERVICE\naccesstransformer PLUGINSERVICE\nruntimedistcleaner PLUGINSERVICE\nmixin TRANSFORMATIONSERVICE\nfml TRANSFORMATIONSERVICE\nFML Language Providers:\nminecraft@1.0\nlowcodefml@null\njavafml@null\nMod List:\nforge-1.18.2-40.2.14_mapped_official_1.18.2.jar   |Minecraft                     |minecraft                     |1.18.2              |SIDED_SETU|Manifest: a1:d4:5e:04:4f:d3:d6:e0:7b:37:97:cf:77:b0:de:ad:4a:47:ce:8c:96:49:5f:0a:cf:8c:ae:b2:6d:4b:8a:3f\n|Forge                         |forge                         |40.2.14             |SIDED_SETU|Manifest: NOSIGNATURE\nmain                                              |TrueAdventure                 |trueadventure                 |0.0NONE             |SIDED_SETU|Manifest: NOSIGNATURE\nCrash Report UUID: d1a5e4ff-859c-4f47-86c9-7f1a65b36501\nFML: 40.2\nForge: net.minecraftforge:40.2.14\n`</p>\n<p>I asked ChatGpt about the problem and he replied the problem is in the sound.json file, I dont have such a file. Please, help.</p>\n"},{"tags":["java","gradle","apache-tomee"],"answers":[{"tags":[],"owner":{"account_id":14927328,"reputation":97,"user_id":10911230,"display_name":"Meysam Karimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665382479,"creation_date":1665382479,"answer_id":74010836,"question_id":74010637,"body_markdown":"This error might happen when your module provide classes that are already provided by javax.faces.context.ExternalContext.  A simple way to fix this error is declaring the related library as a dependency in your custom module and setting a provided scope in gradle by the runtimeOnly configuration.","title":"Gradle, Apache TomEE - TomEEWebappClassLoader loader constraint violation","body":"<p>This error might happen when your module provide classes that are already provided by javax.faces.context.ExternalContext.  A simple way to fix this error is declaring the related library as a dependency in your custom module and setting a provided scope in gradle by the runtimeOnly configuration.</p>\n"},{"tags":[],"owner":{"account_id":15295377,"reputation":327,"user_id":11035655,"display_name":"OSEMA TOUATI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701627640,"creation_date":1701627640,"answer_id":77595619,"question_id":74010637,"body_markdown":"I had a similar problem while using while using faces api with tomee plus version 10.0.27 and maven as build tool.\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```  \r\n\r\nThe library faces-api is provided by default in tomee, adding it to the pom.xml file with the default `compile` scope would result in a similar error `java.lang.LinkageError: loader constraint violation...`.  \r\n\r\nThe solution is to either remove the dependency (Intellij was not happy, and i had no auto-complete in my xhtml files, but the app runs with no error on the server). and the better solution is to make the dependency as `provided` like so:\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n","title":"Gradle, Apache TomEE - TomEEWebappClassLoader loader constraint violation","body":"<p>I had a similar problem while using while using faces api with tomee plus version 10.0.27 and maven as build tool.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The library faces-api is provided by default in tomee, adding it to the pom.xml file with the default <code>compile</code> scope would result in a similar error <code>java.lang.LinkageError: loader constraint violation...</code>.</p>\n<p>The solution is to either remove the dependency (Intellij was not happy, and i had no auto-complete in my xhtml files, but the app runs with no error on the server). and the better solution is to make the dependency as <code>provided</code> like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26478511,"reputation":13,"user_id":20118075,"display_name":"Forbidden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74010836,"answer_count":2,"score":1,"last_activity_date":1701627640,"creation_date":1665380679,"question_id":74010637,"body_markdown":"The gradle project runtime at Apache TomEE plus has the error \r\n\r\n&gt; java.lang.LinkageError: loader constraint violation: loader (instance\r\n&gt; of org/apache/tomee/catalina/TomEEWebappClassLoader) previously\r\n&gt; initiated loading for a different type with name\r\n&gt; &quot;javax/faces/context/ExternalContext&quot; \tat\r\n&gt; java.lang.ClassLoader.defineClass1(Native Method) \tat\r\n&gt; java.lang.ClassLoader.defineClass(ClassLoader.java:756) \tat\r\n&gt; java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n&gt; \tat\r\n&gt; org.apache.tomee.catalina.TomEEWebappClassLoader.loadClass(TomEEWebappClassLoader.java:184)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n&gt; \tat\r\n&gt; org.apache.tomee.myfaces.TomEEWebConfigProvider.getFacesServletMappings(TomEEWebConfigProvider.java:36)\r\n&gt; \tat\r\n&gt; org.apache.myfaces.webapp.AbstractFacesInitializer.initFaces(AbstractFacesInitializer.java:163)\r\n&gt; \tat\r\n&gt; org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:103)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \tat\r\n&gt; org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n&gt; \tat\r\n&gt; java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \tat\r\n&gt; org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n&gt; \tat\r\n&gt; java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\r\nThe gradle.properties\r\n\r\n    dependencies {\r\n       \tcompile files(&#39;lib/javaee-api-7.0.jar&#39;)\r\n        compile fileTree(dir: &#39;WebContent/WEB-INF/lib&#39;, include: &#39;**/*.jar&#39;)\r\n        \r\n    \ttestCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        testCompile group: &#39;org.jglue.cdi-unit&#39;, name: &#39;cdi-unit&#39;, version: &#39;3.1.4&#39;\r\n        testCompile group: &#39;org.mockito&#39; ,name: &#39;mockito-all&#39;, version:&#39;1.10.19&#39;\r\n        compile group: &#39;org.apache.shiro&#39;, name: &#39;shiro-all&#39;, version: &#39;1.3.2&#39;\r\n        compile group: &#39;jaxen&#39;, name: &#39;jaxen&#39;, version: &#39;1.1.6&#39;\r\n        compile &#39;org.apache.velocity:velocity:1.7&#39;\r\n    }\r\n\r\nThe jar files in WEB-INF/lib\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bKzSi.png","title":"Gradle, Apache TomEE - TomEEWebappClassLoader loader constraint violation","body":"<p>The gradle project runtime at Apache TomEE plus has the error</p>\n<blockquote>\n<p>java.lang.LinkageError: loader constraint violation: loader (instance\nof org/apache/tomee/catalina/TomEEWebappClassLoader) previously\ninitiated loading for a different type with name\n&quot;javax/faces/context/ExternalContext&quot;     at\njava.lang.ClassLoader.defineClass1(Native Method)     at\njava.lang.ClassLoader.defineClass(ClassLoader.java:756)   at\njava.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\nat\norg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\nat\norg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\nat\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\nat\norg.apache.tomee.catalina.TomEEWebappClassLoader.loadClass(TomEEWebappClassLoader.java:184)\nat\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\nat\norg.apache.tomee.myfaces.TomEEWebConfigProvider.getFacesServletMappings(TomEEWebConfigProvider.java:36)\nat\norg.apache.myfaces.webapp.AbstractFacesInitializer.initFaces(AbstractFacesInitializer.java:163)\nat\norg.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:103)\nat\norg.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766)\nat\norg.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat\norg.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\nat\norg.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\norg.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat\njava.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\nat\norg.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\nat\norg.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat\norg.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\nat\norg.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\norg.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat\njava.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\nat\norg.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\nat\norg.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat\norg.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat\norg.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:772)    at\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)     at\norg.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)   at\norg.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)</p>\n</blockquote>\n<p>The gradle.properties</p>\n<pre><code>dependencies {\n    compile files('lib/javaee-api-7.0.jar')\n    compile fileTree(dir: 'WebContent/WEB-INF/lib', include: '**/*.jar')\n    \n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    testCompile group: 'org.jglue.cdi-unit', name: 'cdi-unit', version: '3.1.4'\n    testCompile group: 'org.mockito' ,name: 'mockito-all', version:'1.10.19'\n    compile group: 'org.apache.shiro', name: 'shiro-all', version: '1.3.2'\n    compile group: 'jaxen', name: 'jaxen', version: '1.1.6'\n    compile 'org.apache.velocity:velocity:1.7'\n}\n</code></pre>\n<p>The jar files in WEB-INF/lib\n<a href=\"https://i.stack.imgur.com/bKzSi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","android-studio","color-picker"],"answers":[{"tags":[],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701626571,"creation_date":1701626571,"answer_id":77595553,"question_id":77593018,"body_markdown":"The issue - at least in my instance - seems to be the colorpicker here, even trying earlier versions did not solve (most current as of this writing seems to be 1.1.7):\r\n```\r\nimplementation &#39;com.github.duanhong169:colorpicker:1.1.7&#39;\r\n```\r\nI was able to work-around this simply by choosing a different colorpicker, the one that seems working without gradle or any other errors is: \r\n```\r\nimplementation &#39;com.github.yukuku:ambilwarna:2.0.1&#39;\r\n```","title":"Android Studio error with colorpicker: Could not resolve all files for configuration :app:debugRuntimeClasspath","body":"<p>The issue - at least in my instance - seems to be the colorpicker here, even trying earlier versions did not solve (most current as of this writing seems to be 1.1.7):</p>\n<pre><code>implementation 'com.github.duanhong169:colorpicker:1.1.7'\n</code></pre>\n<p>I was able to work-around this simply by choosing a different colorpicker, the one that seems working without gradle or any other errors is:</p>\n<pre><code>implementation 'com.github.yukuku:ambilwarna:2.0.1'\n</code></pre>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77595553,"answer_count":1,"score":0,"last_activity_date":1701626571,"creation_date":1701577122,"question_id":77593018,"body_markdown":"I am adding a color picker to my app.  When I run the app with this dependency:\r\n\r\n    `implementation &#39;com.github.duanhong169:colorpicker:1.1.7&#39;`\r\n\r\nI am consistently getting the red font error messages:\r\n```\r\n\r\n    ArtifactResolveException: Could not resolve all files for configuration :app:debugRuntimeClasspath.\r\n\r\n``` \r\nand also:\r\n```\r\n\r\n    Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.github.duanhong169:colorpicker:1.1.7.\r\n\r\n```\r\n\r\nChecking that these are operative:\r\n\r\n - internet is fully functional\r\n - tried cleaning and rebuilding the project\r\n\r\n - checked the dependency notation for colorpicker and it is accurate\r\n - tried adding to `repositories` as follows (`settings.gradle`):\r\n```\r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n    \r\n        }\r\n    }\r\n\r\n```\r\n\r\nHere is `build.gradle`:\r\n```\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.enetapplications.songtracker&#39;\r\n        compileSdk 34\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.enetapplications.songtracker&quot;\r\n            minSdkVersion 29\r\n            targetSdkVersion 34\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    dependencies {\r\n        // ... existing dependencies ...\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.10.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n        implementation &#39;androidx.activity:activity:1.8.1&#39;\r\n        implementation &#39;androidx.fragment:fragment:1.6.2&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;androidx.core:core-ktx:1.12.0&#39;\r\n        implementation &#39;androidx.fragment:fragment-ktx:1.6.2&#39;\r\n        implementation &quot;androidx.preference:preference:1.2.1&quot;\r\n        implementation &#39;com.github.duanhong169:colorpicker:1.1.7&#39;\r\n    \r\n    }\r\n\r\n```\r\n\r\nI can run the app if I comment out this dependency:\r\n```\r\n\r\n    implementation &#39;com.github.duanhong169:colorpicker:1.1.7&#39;\r\n\r\n```","title":"Android Studio error with colorpicker: Could not resolve all files for configuration :app:debugRuntimeClasspath","body":"<p>I am adding a color picker to my app.  When I run the app with this dependency:</p>\n<pre><code>`implementation 'com.github.duanhong169:colorpicker:1.1.7'`\n</code></pre>\n<p>I am consistently getting the red font error messages:</p>\n<pre><code>\n    ArtifactResolveException: Could not resolve all files for configuration :app:debugRuntimeClasspath.\n\n</code></pre>\n<p>and also:</p>\n<pre><code>\n    Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.github.duanhong169:colorpicker:1.1.7.\n\n</code></pre>\n<p>Checking that these are operative:</p>\n<ul>\n<li><p>internet is fully functional</p>\n</li>\n<li><p>tried cleaning and rebuilding the project</p>\n</li>\n<li><p>checked the dependency notation for colorpicker and it is accurate</p>\n</li>\n<li><p>tried adding to <code>repositories</code> as follows (<code>settings.gradle</code>):</p>\n</li>\n</ul>\n<pre><code>\n    dependencyResolutionManagement {\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n        repositories {\n            google()\n            mavenCentral()\n            maven { url 'https://jitpack.io' }\n    \n        }\n    }\n\n</code></pre>\n<p>Here is <code>build.gradle</code>:</p>\n<pre><code>\n    plugins {\n        id 'com.android.application'\n    }\n    \n    android {\n        namespace 'com.enetapplications.songtracker'\n        compileSdk 34\n    \n        defaultConfig {\n            applicationId &quot;com.enetapplications.songtracker&quot;\n            minSdkVersion 29\n            targetSdkVersion 34\n            versionCode 1\n            versionName &quot;1.0&quot;\n    \n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        }\n    \n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            }\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n    }\n    dependencies {\n        // ... existing dependencies ...\n    \n        implementation 'androidx.appcompat:appcompat:1.6.1'\n        implementation 'com.google.android.material:material:1.10.0'\n        implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n        testImplementation 'junit:junit:4.13.2'\n        androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n        implementation 'androidx.activity:activity:1.8.1'\n        implementation 'androidx.fragment:fragment:1.6.2'\n        implementation 'androidx.appcompat:appcompat:1.6.1'\n        implementation 'androidx.core:core-ktx:1.12.0'\n        implementation 'androidx.fragment:fragment-ktx:1.6.2'\n        implementation &quot;androidx.preference:preference:1.2.1&quot;\n        implementation 'com.github.duanhong169:colorpicker:1.1.7'\n    \n    }\n\n</code></pre>\n<p>I can run the app if I comment out this dependency:</p>\n<pre><code>\n    implementation 'com.github.duanhong169:colorpicker:1.1.7'\n\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1411640716,"post_id":26035114,"comment_id":40783554,"body_markdown":"I suspect you may just need to add the `@Transactional` annotation to your `insert` method. However, you have a JPA entity, so is there a reason why you&#39;re not using the entity manager? You shouldn&#39;t need to touch Hibernate sessions. Note also that if you add Spring Data to your project, then you can delete your implementation and get a whole load more functionality &#39;for free&#39;. :)","body":"I suspect you may just need to add the <code>@Transactional</code> annotation to your <code>insert</code> method. However, you have a JPA entity, so is there a reason why you&#39;re not using the entity manager? You shouldn&#39;t need to touch Hibernate sessions. Note also that if you add Spring Data to your project, then you can delete your implementation and get a whole load more functionality &#39;for free&#39;. :)"},{"owner":{"account_id":3848676,"reputation":153,"user_id":3189357,"accept_rate":30,"display_name":"user3189357"},"score":0,"creation_date":1411641325,"post_id":26035114,"comment_id":40783933,"body_markdown":"see this was my code.please check it and tell me what i m doing wrong","body":"see this was my code.please check it and tell me what i m doing wrong"},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1411646887,"post_id":26035114,"comment_id":40787048,"body_markdown":"Not wrong as such ... just that there are easier ways (less code) available. This tutorial provides a short example of using Spring Data: http://spring.io/guides/gs/accessing-data-jpa/ ... Basically you add Spring Data to your dependencies and modify your interface to extend CrudRepository or JpaRepository. Then you don&#39;t need to write your own DAO implementation.","body":"Not wrong as such ... just that there are easier ways (less code) available. This tutorial provides a short example of using Spring Data: <a href=\"http://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a> ... Basically you add Spring Data to your dependencies and modify your interface to extend CrudRepository or JpaRepository. Then you don&#39;t need to write your own DAO implementation."},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1517719422,"post_id":26035114,"comment_id":84206137,"body_markdown":"Not an answer, but for anything that handles anything of scale, hibernate is more trouble than its worth. I am not the first person to decide to rip anything hibernate out of an app after it was complete,  because it simply doesnt perform at scale.","body":"Not an answer, but for anything that handles anything of scale, hibernate is more trouble than its worth. I am not the first person to decide to rip anything hibernate out of an app after it was complete,  because it simply doesnt perform at scale."}],"answers":[{"tags":[],"owner":{"account_id":4777214,"reputation":277,"user_id":3859996,"accept_rate":20,"display_name":"Phong Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411637889,"creation_date":1411637889,"answer_id":26035250,"question_id":26035114,"body_markdown":"Remember this: You don&#39;t have any exist session, but you use `getCurrentSession()`. To use this method, you must have a session already. try this:\r\n\r\n    Session session = this.sessionFactory.openSession();\r\n\r\nNow you had a session for your transaction.\r\n\r\nYou should declare sessionFactory in an xml file (hibernate.xml or spring.xml), then use @Autowire to get it and open new session.","title":"How to insert data into the database using spring + hibernate?","body":"<p>Remember this: You don't have any exist session, but you use <code>getCurrentSession()</code>. To use this method, you must have a session already. try this:</p>\n\n<pre><code>Session session = this.sessionFactory.openSession();\n</code></pre>\n\n<p>Now you had a session for your transaction.</p>\n\n<p>You should declare sessionFactory in an xml file (hibernate.xml or spring.xml), then use @Autowire to get it and open new session.</p>\n"},{"tags":[],"owner":{"account_id":4979623,"reputation":3944,"user_id":4005008,"display_name":"przemek hertel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411638180,"creation_date":1411638180,"answer_id":26035345,"question_id":26035114,"body_markdown":"You have 2 choices:\r\n\r\nA. force hibernate to flush any changes you have made in session:\r\n\r\n    session.save(user);\r\n    session.flush();\r\n\r\nB. make whole method run in transaction - this is much better of course. When transaction is commited - hibernate will flush any changes to database just if you would do manually.\r\n\r\nfor example:\r\n\r\n    Transaction tx = null;\r\n    \r\n    try {\r\n    \r\n      session.beginTransaction();\r\n    \r\n      session.save(user);\r\n      ....\r\n    \r\n      tx.commit();\r\n    \r\n    } catch (RuntimeException e) {\r\n      tx.rollback();\r\n      throw e;\r\n    }\r\n\r\n","title":"How to insert data into the database using spring + hibernate?","body":"<p>You have 2 choices:</p>\n\n<p>A. force hibernate to flush any changes you have made in session:</p>\n\n<pre><code>session.save(user);\nsession.flush();\n</code></pre>\n\n<p>B. make whole method run in transaction - this is much better of course. When transaction is commited - hibernate will flush any changes to database just if you would do manually.</p>\n\n<p>for example:</p>\n\n<pre><code>Transaction tx = null;\n\ntry {\n\n  session.beginTransaction();\n\n  session.save(user);\n  ....\n\n  tx.commit();\n\n} catch (RuntimeException e) {\n  tx.rollback();\n  throw e;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2397695,"reputation":4935,"user_id":2096177,"accept_rate":61,"display_name":"Mathias G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411638495,"creation_date":1411638495,"answer_id":26035480,"question_id":26035114,"body_markdown":"If you have multiple DAO calls in a single request, then session.getCurrentSession() is useful, but I guess that is not your case. \r\nIf there is only a single DAO call per request then session.openSession() is the right way.\r\n\r\nTake care that when using session.openSession(), you also have to close your session afterwards.\r\n\r\nThe best thing to do is open a session for each incoming request (using a filter is the easiest way to do this) and then calling sessionFactory.getCurrentSession() in all your DAOs to get the current session. I guess your problem is you didn&#39;t specify the filter. That way all your DAOs will be easily reusable and you don&#39;t need to close your session afterwards. \r\n\r\nYou can found more information in the docs:\r\n[Hibernate documentation][1]\r\n\r\n\r\n  [1]: http://www.hibernate.org/43.html","title":"How to insert data into the database using spring + hibernate?","body":"<p>If you have multiple DAO calls in a single request, then session.getCurrentSession() is useful, but I guess that is not your case. \nIf there is only a single DAO call per request then session.openSession() is the right way.</p>\n\n<p>Take care that when using session.openSession(), you also have to close your session afterwards.</p>\n\n<p>The best thing to do is open a session for each incoming request (using a filter is the easiest way to do this) and then calling sessionFactory.getCurrentSession() in all your DAOs to get the current session. I guess your problem is you didn't specify the filter. That way all your DAOs will be easily reusable and you don't need to close your session afterwards. </p>\n\n<p>You can found more information in the docs:\n<a href=\"http://www.hibernate.org/43.html\" rel=\"nofollow\">Hibernate documentation</a></p>\n"},{"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411640335,"creation_date":1411640335,"answer_id":26036089,"question_id":26035114,"body_markdown":"I have also faced the same issue, and got the solution. For now check below points-\r\n\r\n1. Check for appropriate jar files you are using\r\n2. Check for manifest.mf in META-INF folder for application info.\r\n3. Check your hibernate configuration in configuration file for hibernate template configuration.\r\n4. At last if everything is OK then use `session.flush()` before insert.\r\n\r\n   \r\n\r\n     &lt;pre&gt;Session session = sessionFactory.openSession();\r\n     Transaction tx = session.beginTransaction();\r\n        {\r\n           {\r\n                //... your logic\r\n                //flush a batch of inserts and release memory:\r\n                session.flush();\r\n                session.clear();\r\n            }\r\n        }\r\n        \r\n        tx.commit();\r\n        session.close()","title":"How to insert data into the database using spring + hibernate?","body":"<p>I have also faced the same issue, and got the solution. For now check below points-</p>\n\n<ol>\n<li>Check for appropriate jar files you are using</li>\n<li>Check for manifest.mf in META-INF folder for application info.</li>\n<li>Check your hibernate configuration in configuration file for hibernate template configuration.</li>\n<li><p>At last if everything is OK then use <code>session.flush()</code> before insert.</p>\n\n<p><pre>Session session = sessionFactory.openSession();\n Transaction tx = session.beginTransaction();\n    {\n       {\n            //... your logic\n            //flush a batch of inserts and release memory:\n            session.flush();\n            session.clear();\n        }\n    }</p>\n\n<code>tx.commit();\nsession.close()\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":3848676,"reputation":153,"user_id":3189357,"accept_rate":30,"display_name":"user3189357"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27550,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1701626450,"creation_date":1411637503,"question_id":26035114,"body_markdown":"see i m havving user.java for the user info.\r\n\r\n    @Entity(name = &quot;user&quot;)\r\n    @Table(name = &quot;user&quot;)\r\n    public class User {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;)\r\n    \tprivate String id;\t\r\n    \t@Column(name = &quot;password&quot;)\r\n        private String password;\r\n    //getter and setter for this..\r\n    }\r\n\r\nthis is my userdao\r\n\r\n    public class UserDao {\r\n    \tpublic interface UserDAO {\r\n    \t\tpublic String insert(User user);\r\n    \r\n    \t}\r\n    }\r\n\r\nand this is the impl class for inserting into database\r\nsee this was my code.please check it and tell me what i m doing wrong \r\n\r\n    @Repository\r\n    @Transactional\r\n    public class UserImpl implements UserDAO {\r\n    \r\n    \tprivate DataSource dataSource;\r\n    \r\n    \t@Autowired\r\n    \tSessionFactory sessionFactory;\r\n    \t@Resource(name = &quot;sessionFactory&quot;)\r\n    \tpublic void setDataSource(DataSource dataSource) {\r\n    \t\tthis.dataSource = dataSource;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String insert(User use) {\r\n    \r\n    \t\tSession session = this.sessionFactory.openSession();\r\n    \t\ttry{\r\n    \t\t\r\n    \t\t\tSession sess = this.sessionFactory.getCurrentSession();              \r\n    \t\t\tsession.save(reg);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t            return (String)user.getUserName(); \r\n    \t\t\t            }catch(Exception e){\r\n    \t\t\t                System.out.println(&quot;in catch&quot;+e.getMessage());\r\n    \t\t\t                e.printStackTrace();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t}\r\n    }\r\n    \t\t\r\n    \t\r\n    \r\n       \r\n    } \r\n\r\nand in my controller after successful registration i m inserting data to the database by this  \r\n\r\n     userDao.insert(user);\r\n\r\nbut i m not getting output means not any data is inserting into the database.why this..? this is my mvc configuration \r\n\r\n    &lt;context:component-scan base-package=&quot;com.user.xyz&quot; /&gt;\r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/images/, /resources/css/&quot; /&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t\t\r\n    \t&lt;/bean&gt;\r\n\r\n ","title":"How to insert data into the database using spring + hibernate?","body":"<p>see i m havving user.java for the user info.</p>\n\n<pre><code>@Entity(name = \"user\")\n@Table(name = \"user\")\npublic class User {\n\n    @Id\n    @Column(name = \"id\")\n    private String id;  \n    @Column(name = \"password\")\n    private String password;\n//getter and setter for this..\n}\n</code></pre>\n\n<p>this is my userdao</p>\n\n<pre><code>public class UserDao {\n    public interface UserDAO {\n        public String insert(User user);\n\n    }\n}\n</code></pre>\n\n<p>and this is the impl class for inserting into database\nsee this was my code.please check it and tell me what i m doing wrong </p>\n\n<pre><code>@Repository\n@Transactional\npublic class UserImpl implements UserDAO {\n\n    private DataSource dataSource;\n\n    @Autowired\n    SessionFactory sessionFactory;\n    @Resource(name = \"sessionFactory\")\n    public void setDataSource(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    @Override\n    public String insert(User use) {\n\n        Session session = this.sessionFactory.openSession();\n        try{\n\n            Session sess = this.sessionFactory.getCurrentSession();              \n            session.save(reg);\n\n\n                        return (String)user.getUserName(); \n                        }catch(Exception e){\n                            System.out.println(\"in catch\"+e.getMessage());\n                            e.printStackTrace();\n\n    }\n\n    }\n}\n\n\n\n\n} \n</code></pre>\n\n<p>and in my controller after successful registration i m inserting data to the database by this  </p>\n\n<pre><code> userDao.insert(user);\n</code></pre>\n\n<p>but i m not getting output means not any data is inserting into the database.why this..? this is my mvc configuration </p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.user.xyz\" /&gt;\n    &lt;mvc:annotation-driven /&gt;\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/images/, /resources/css/\" /&gt;\n    &lt;bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/view/\" /&gt;\n        &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","import","importerror"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":1,"creation_date":1701625385,"post_id":77595472,"comment_id":136796411,"body_markdown":"Java is not JavaScript","body":"Java is not JavaScript"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1701625494,"post_id":77595472,"comment_id":136796422,"body_markdown":"It seems that you look for a code review rather than a solution for a problem. Please have a look at the community [codereview.se] for this.","body":"It seems that you look for a code review rather than a solution for a problem. Please have a look at the community <a href=\"https://codereview.stackexchange.com\">Code Review</a> for this."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":3,"creation_date":1701626302,"post_id":77595472,"comment_id":136796503,"body_markdown":"Why is this tagged &#39;import&#39; and &#39;importerror&#39;?","body":"Why is this tagged &#39;import&#39; and &#39;importerror&#39;?"}],"owner":{"account_id":30053224,"reputation":1,"user_id":23031168,"display_name":"Mohammad Zishan Mansuri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701638791,"answer_count":0,"score":-2,"last_activity_date":1701626266,"creation_date":1701625278,"question_id":77595472,"body_markdown":"I&#39;m working on a Java program to find all prime numbers within a given range. The program should take two integers as input (start and end) and print the prime numbers in that range. Here&#39;s what I have so far:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class PrimeNumberFinder {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter the starting number: &quot;);\r\n        int start = scanner.nextInt();\r\n\r\n        System.out.print(&quot;Enter the ending number: &quot;);\r\n        int end = scanner.nextInt();\r\n\r\n        System.out.println(&quot;Prime numbers between &quot; + start + &quot; and &quot; + end + &quot; are:&quot;);\r\n        printPrimeNumbers(start, end);\r\n    }\r\n\r\n    // Function to check if a number is prime\r\n    private static boolean isPrime(int num) {\r\n        if (num &lt;= 1) {\r\n            return false;\r\n        }\r\n        for (int i = 2; i &lt;= Math.sqrt(num); i++) {\r\n            if (num % i == 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // Function to print prime numbers in a given range\r\n    private static void printPrimeNumbers(int start, int end) {\r\n        for (int i = start; i &lt;= end; i++) {\r\n            if (isPrime(i)) {\r\n                System.out.print(i + &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe program seems to be working, but I&#39;m wondering if there are any optimizations or improvements I could make. Additionally, if there are better algorithms for finding prime numbers, I&#39;d love to learn about them.\r\n\r\n","title":"Java Program for Finding Prime Numbers in a Given Range:","body":"<p>I'm working on a Java program to find all prime numbers within a given range. The program should take two integers as input (start and end) and print the prime numbers in that range. Here's what I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class PrimeNumberFinder {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter the starting number: &quot;);\n        int start = scanner.nextInt();\n\n        System.out.print(&quot;Enter the ending number: &quot;);\n        int end = scanner.nextInt();\n\n        System.out.println(&quot;Prime numbers between &quot; + start + &quot; and &quot; + end + &quot; are:&quot;);\n        printPrimeNumbers(start, end);\n    }\n\n    // Function to check if a number is prime\n    private static boolean isPrime(int num) {\n        if (num &lt;= 1) {\n            return false;\n        }\n        for (int i = 2; i &lt;= Math.sqrt(num); i++) {\n            if (num % i == 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    // Function to print prime numbers in a given range\n    private static void printPrimeNumbers(int start, int end) {\n        for (int i = start; i &lt;= end; i++) {\n            if (isPrime(i)) {\n                System.out.print(i + &quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The program seems to be working, but I'm wondering if there are any optimizations or improvements I could make. Additionally, if there are better algorithms for finding prime numbers, I'd love to learn about them.</p>\n"},{"tags":["java","web","tomcat","apache-tomee"],"owner":{"account_id":27116540,"reputation":7,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701626153,"creation_date":1701626153,"question_id":77595533,"body_markdown":"Why in my java ee application, Tomcat Plume is deployed on the path localhost:8080 only when the output directory for the artifact is specified: C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\ROOT or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\ROOT and if I specify the output directory C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\demo or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\demo then it will unfold along the path localhost:8080/demo\r\n\r\nat the same time, if I use a regular tomcat (not plume) and specify the output directory C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\demo or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\demo then tomcat will deploy the application to the path localhost:8080\r\n\r\nwhy is there such a difference between a regular tomcat and a tomcat plume?","title":"deployment path in Tom EE plume","body":"<p>Why in my java ee application, Tomcat Plume is deployed on the path localhost:8080 only when the output directory for the artifact is specified: C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\ROOT or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\ROOT and if I specify the output directory C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\demo or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\demo then it will unfold along the path localhost:8080/demo</p>\n<p>at the same time, if I use a regular tomcat (not plume) and specify the output directory C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\demo or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\demo then tomcat will deploy the application to the path localhost:8080</p>\n<p>why is there such a difference between a regular tomcat and a tomcat plume?</p>\n"},{"tags":["java","networking","upnp","ice"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1701680858,"post_id":77593981,"comment_id":136801276,"body_markdown":"not sure if it is interesting for you, didn&#39;t try that thing, but when I read your question, this thing popped up in my mind: Veilid (see https://veilid.com/defcon/talk/ and https://gitlab.com/veilid/veilid). But take care: didn&#39;t find direct Java support, it&#39;s surely NOT the &quot;go-to&quot; standard you asked for...","body":"not sure if it is interesting for you, didn&#39;t try that thing, but when I read your question, this thing popped up in my mind: Veilid (see <a href=\"https://veilid.com/defcon/talk/\" rel=\"nofollow noreferrer\">veilid.com/defcon/talk</a> and <a href=\"https://gitlab.com/veilid/veilid\" rel=\"nofollow noreferrer\">gitlab.com/veilid/veilid</a>). But take care: didn&#39;t find direct Java support, it&#39;s surely NOT the &quot;go-to&quot; standard you asked for..."}],"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701626139,"creation_date":1701601495,"question_id":77593981,"body_markdown":"I want to develop a Java app. These apps should be installed on different computers in different networks. I am now looking for a way to connect these clients without using a server. Therefore one of the client should be able to enter the others client public ip-address and external port and connect to it. (The other client listens on a server socket and gets put to this listening mode manually.)\r\n\r\nIf I use port forwarding everything works fine. But I don&#39;t want to use port forwarding. Instead I am looking for a solution that does basically the same as port forwarding but only lasts while the program is running and doesn&#39;t require any changes of the routers settings.\r\n\r\nWhen using Sockets, the client who actively connects to the other client isn&#39;t a problem at all, the routers NAT will handle this part just fine. The problem is the clients which the other client connects to.\r\n\r\nI did some research. I found out that UPnP and ICE (and many more) might solve my problem. However I am quite confused which option I should pick and learn.\r\n\r\nThat&#39;s why I would be very happy for any suggestions on which technology I could use. Is there any go-to standard? Any help is much appreciated.","title":"P2P in Java without server or port forwarding","body":"<p>I want to develop a Java app. These apps should be installed on different computers in different networks. I am now looking for a way to connect these clients without using a server. Therefore one of the client should be able to enter the others client public ip-address and external port and connect to it. (The other client listens on a server socket and gets put to this listening mode manually.)</p>\n<p>If I use port forwarding everything works fine. But I don't want to use port forwarding. Instead I am looking for a solution that does basically the same as port forwarding but only lasts while the program is running and doesn't require any changes of the routers settings.</p>\n<p>When using Sockets, the client who actively connects to the other client isn't a problem at all, the routers NAT will handle this part just fine. The problem is the clients which the other client connects to.</p>\n<p>I did some research. I found out that UPnP and ICE (and many more) might solve my problem. However I am quite confused which option I should pick and learn.</p>\n<p>That's why I would be very happy for any suggestions on which technology I could use. Is there any go-to standard? Any help is much appreciated.</p>\n"},{"tags":["java","spring","spring-boot","logback"],"answers":[{"tags":[],"owner":{"account_id":27816216,"reputation":271,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701625952,"creation_date":1701625952,"answer_id":77595522,"question_id":77595355,"body_markdown":"I would try to create `logback.xml` file in `src/main/resources` and change logging level to ERROR. \r\n\r\nAlternatively, you can try to use springProperty tag.\r\n\r\n&gt; Sometimes, we need to access values from the application.properties file in the logging configuration. In this situation, we use the springProperty element in the Logback configuration.\r\n&gt; \r\n&gt; The springProperty element is similar to Logbacks standard property\r\n&gt; element. However, we can determine the source of the property from the\r\n&gt; environment rather than specifying a direct value.","title":"Logback prints logs without adhering to logback-spring.xml until after the banner is printed","body":"<p>I would try to create <code>logback.xml</code> file in <code>src/main/resources</code> and change logging level to ERROR.</p>\n<p>Alternatively, you can try to use springProperty tag.</p>\n<blockquote>\n<p>Sometimes, we need to access values from the application.properties file in the logging configuration. In this situation, we use the springProperty element in the Logback configuration.</p>\n<p>The springProperty element is similar to Logbacks standard property\nelement. However, we can determine the source of the property from the\nenvironment rather than specifying a direct value.</p>\n</blockquote>\n"}],"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701841161,"answer_count":1,"score":0,"last_activity_date":1701625952,"creation_date":1701623693,"question_id":77595355,"body_markdown":"When I run my Spring Boot application, Logback keeps printing logs with settings from my logback-spring.xml not applied until after the banner is printed (everything before the banner is formatted differently and I want to avoid having it be printed):\r\n```\r\n2019-03-04 13:15:25.151  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \r\n2019-03-04 13:15:25.157  INFO   --- [           main] o.s.t.c.support.AbstractContextLoader    : \r\n2019-03-04 13:15:25.158  INFO   --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : \r\n2019-03-04 13:15:25.298  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \r\n2019-03-04 13:15:25.401  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \r\n2019-03-04 13:15:25.430  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.2.RELEASE)\r\n\r\n2019-03-04 13:15:25.886 DEBUG 7484 --- [           main] o.s.boot.SpringApplication               : \r\n2019-03-04 13:15:25.903 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \r\n2019-03-04 13:15:25.904 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \r\n2019-03-04 13:15:25.904 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \r\n2019-03-04 13:15:25.905 DEBUG 7484 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : \r\n2019-03-04 13:15:25.922 DEBUG 7484 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : \r\n2019-03-04 13:15:25.937 DEBUG 7484 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : \r\n2019-03-04 13:15:26.004 DEBUG 7484 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   :\r\n```\r\n\r\nI&#39;ve read on the [documentation](https://docs.spring.io/spring-boot/docs/3.2.0/reference/htmlsingle/#features.logging.logback-extensions) that:\r\n&gt;Because the standard logback.xml configuration file is loaded too early, you cannot use extensions in it. You need to either use logback-spring.xml or define a logging.config property.\r\n\r\nI&#39;m assuming the default configurations are loaded earlier than Spring Boot initializes the logging configuration. If so, is there any way I can tell logback to disable all of its logs until Spring Boot takes over?\r\n\r\nI have also looked into [this solution](https://stackoverflow.com/a/53421136/1934402) and implemented it, but it doesn&#39;t seem to work for me. Is it because I&#39;m using Spring Boot 3.2.0?","title":"Logback prints logs without adhering to logback-spring.xml until after the banner is printed","body":"<p>When I run my Spring Boot application, Logback keeps printing logs with settings from my logback-spring.xml not applied until after the banner is printed (everything before the banner is formatted differently and I want to avoid having it be printed):</p>\n<pre><code>2019-03-04 13:15:25.151  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \n2019-03-04 13:15:25.157  INFO   --- [           main] o.s.t.c.support.AbstractContextLoader    : \n2019-03-04 13:15:25.158  INFO   --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : \n2019-03-04 13:15:25.298  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \n2019-03-04 13:15:25.401  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \n2019-03-04 13:15:25.430  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.2.RELEASE)\n\n2019-03-04 13:15:25.886 DEBUG 7484 --- [           main] o.s.boot.SpringApplication               : \n2019-03-04 13:15:25.903 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \n2019-03-04 13:15:25.904 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \n2019-03-04 13:15:25.904 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \n2019-03-04 13:15:25.905 DEBUG 7484 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : \n2019-03-04 13:15:25.922 DEBUG 7484 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : \n2019-03-04 13:15:25.937 DEBUG 7484 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : \n2019-03-04 13:15:26.004 DEBUG 7484 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   :\n</code></pre>\n<p>I've read on the <a href=\"https://docs.spring.io/spring-boot/docs/3.2.0/reference/htmlsingle/#features.logging.logback-extensions\" rel=\"nofollow noreferrer\">documentation</a> that:</p>\n<blockquote>\n<p>Because the standard logback.xml configuration file is loaded too early, you cannot use extensions in it. You need to either use logback-spring.xml or define a logging.config property.</p>\n</blockquote>\n<p>I'm assuming the default configurations are loaded earlier than Spring Boot initializes the logging configuration. If so, is there any way I can tell logback to disable all of its logs until Spring Boot takes over?</p>\n<p>I have also looked into <a href=\"https://stackoverflow.com/a/53421136/1934402\">this solution</a> and implemented it, but it doesn't seem to work for me. Is it because I'm using Spring Boot 3.2.0?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":27816216,"reputation":271,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1701624171,"post_id":77595280,"comment_id":136796257,"body_markdown":"Did you try to use @Primary on your trackerRestTemplate instead of @Qualifier?","body":"Did you try to use @Primary on your trackerRestTemplate instead of @Qualifier?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701625209,"post_id":77595280,"comment_id":136796391,"body_markdown":"Add `-parameter` to your compiler. Previous versions generated a warning and did a fallback, this fallback has been removed (in accordance with the error). If you don&#39;t compile with `-parameters` the constructor argument has some generated name instead of an actual name that would match the bean name. See https://github.com/spring-projects/spring-boot/issues/38607 as well.","body":"Add <code>-parameter</code> to your compiler. Previous versions generated a warning and did a fallback, this fallback has been removed (in accordance with the error). If you don&#39;t compile with <code>-parameters</code> the constructor argument has some generated name instead of an actual name that would match the bean name. See <a href=\"https://github.com/spring-projects/spring-boot/issues/38607\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/38607</a> as well."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701625725,"creation_date":1701625725,"answer_id":77595506,"question_id":77595280,"body_markdown":"This is due Spring 6.1 having removed the `LocalVariableTableParameterNameDiscoverer` which acted like a fallback when the code was not compiled with `-parameters`. When this fallback was used a warning was generated with a message that this was deprecated and will be removed in future versions. That future is now. \r\n\r\nTo fix add `-parameters` to your compiler options to retain the parameter names, instead of some generated name. \r\n\r\nSee [this][1] as well, while closed holds some references to related issues with more information. In addition this change is also mentioned in [the upgrade guide][2].\r\n\r\n[1]: https://github.com/spring-projects/spring-boot/issues/38607\r\n[2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#parameter-name-discovery","title":"spring scanning same type bean with different names returning ambiguous exception after upgrading to spring-boot 3.2","body":"<p>This is due Spring 6.1 having removed the <code>LocalVariableTableParameterNameDiscoverer</code> which acted like a fallback when the code was not compiled with <code>-parameters</code>. When this fallback was used a warning was generated with a message that this was deprecated and will be removed in future versions. That future is now.</p>\n<p>To fix add <code>-parameters</code> to your compiler options to retain the parameter names, instead of some generated name.</p>\n<p>See <a href=\"https://github.com/spring-projects/spring-boot/issues/38607\" rel=\"nofollow noreferrer\">this</a> as well, while closed holds some references to related issues with more information. In addition this change is also mentioned in <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#parameter-name-discovery\" rel=\"nofollow noreferrer\">the upgrade guide</a>.</p>\n"}],"owner":{"account_id":4496339,"reputation":3703,"user_id":3656056,"accept_rate":53,"display_name":"VelNaga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701625725,"creation_date":1701622484,"question_id":77595280,"body_markdown":"I recently upgraded my application to spring-boot 3.2 from spring-boot 3.0.x. After upgrading we are getting several bean ambiguous exceptions, This was working fine before,\r\n\r\nEx) The Application is consuming several client libraries and each client library is creating RestTemplate using the below code,\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@AutoConfiguration\r\n@ConfigurationPropertiesScan\r\n@ComponentScan(basePackages = {&quot;com.partner.tracker.client&quot;})\r\npublic class TrackerClientConfiguration {\r\n\r\n\t@Autowired(required = false)\r\n\tprivate RestTemplateCustomizer restTemplateCustomizer;\r\n\t\r\n\t@Bean(name = &quot;trackerRestTemplate&quot;)\r\n\t@ConditionalOnMissingBean(name = &quot;trackerRestTemplate&quot;)\r\n\tpublic RestTemplate trackerRestTemplate() {\r\n\t\treturn createTrackerRestTemplate();\r\n\t}\r\n\r\n\tpublic RestTemplate createTrackerRestTemplate() {\r\n\t\tRestTemplateBuilder restTemplateBuilder = new RestTemplateBuilder()\r\n\t\t\t\t.requestFactory(this::customHttpRequestFactory)\r\n\t\t\t\t.interceptors(\r\n\t\t\t\t\t\tgetDefaultHeadersInterceptor(),\r\n\t\t\t\t\t\tgetTraceIdInterceptor()\r\n\t\t\t\t)\r\n\t\t\t\t.messageConverters(getMessageConverters());\r\n\t\tif (Objects.nonNull(restTemplateCustomizer)) {\r\n\t\t\trestTemplateBuilder = restTemplateBuilder.additionalCustomizers(restTemplateCustomizer);\r\n\t\t}\r\n\t\treturn restTemplateBuilder.build();\r\n\t}\r\n}\r\n```\r\n\r\nWe are using the same code for other 5-libraries RestTemplate creation.\r\n\r\nThis was working fine till we upgraded to spring-boot 3.2 but we got the below exception after upgrading to 3.2\r\n\r\n```\r\nParameter 1 of constructor in com.tracker.client.TrackerApiClient required a single bean, but 6 were found:\r\n\r\n- ulfRestTemplate: defined in file &lt;file location&gt;\r\n- trackerRestTemplate: defined in file &lt;file location&gt;\r\n- homeRestTemplate: defined by method\r\n- pluginRestTemplate: defined by method\r\n- partnerRestTemplate: defined by method\r\n- goRestTemplate: defined by method\r\n\r\nAction:\r\n\r\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed.\r\n```\r\n\r\nSo we are using @Qualifier annotation temporarily to fix this issue but I don&#39;t want to do that since it breaks unit testing also I use Lombok for constructor injection now I should go with manual constructor with @Qualifier annotation.\r\n\r\nso this bug was recently introduced by the spring team or is this how spring always works for the same type of bean? If this is the usual behaviour then I wonder how it works in the past. \r\n\r\nAny help would be really appreciated.\r\n\r\n","title":"spring scanning same type bean with different names returning ambiguous exception after upgrading to spring-boot 3.2","body":"<p>I recently upgraded my application to spring-boot 3.2 from spring-boot 3.0.x. After upgrading we are getting several bean ambiguous exceptions, This was working fine before,</p>\n<p>Ex) The Application is consuming several client libraries and each client library is creating RestTemplate using the below code,</p>\n<pre><code>@RequiredArgsConstructor\n@AutoConfiguration\n@ConfigurationPropertiesScan\n@ComponentScan(basePackages = {&quot;com.partner.tracker.client&quot;})\npublic class TrackerClientConfiguration {\n\n    @Autowired(required = false)\n    private RestTemplateCustomizer restTemplateCustomizer;\n    \n    @Bean(name = &quot;trackerRestTemplate&quot;)\n    @ConditionalOnMissingBean(name = &quot;trackerRestTemplate&quot;)\n    public RestTemplate trackerRestTemplate() {\n        return createTrackerRestTemplate();\n    }\n\n    public RestTemplate createTrackerRestTemplate() {\n        RestTemplateBuilder restTemplateBuilder = new RestTemplateBuilder()\n                .requestFactory(this::customHttpRequestFactory)\n                .interceptors(\n                        getDefaultHeadersInterceptor(),\n                        getTraceIdInterceptor()\n                )\n                .messageConverters(getMessageConverters());\n        if (Objects.nonNull(restTemplateCustomizer)) {\n            restTemplateBuilder = restTemplateBuilder.additionalCustomizers(restTemplateCustomizer);\n        }\n        return restTemplateBuilder.build();\n    }\n}\n</code></pre>\n<p>We are using the same code for other 5-libraries RestTemplate creation.</p>\n<p>This was working fine till we upgraded to spring-boot 3.2 but we got the below exception after upgrading to 3.2</p>\n<pre><code>Parameter 1 of constructor in com.tracker.client.TrackerApiClient required a single bean, but 6 were found:\n\n- ulfRestTemplate: defined in file &lt;file location&gt;\n- trackerRestTemplate: defined in file &lt;file location&gt;\n- homeRestTemplate: defined by method\n- pluginRestTemplate: defined by method\n- partnerRestTemplate: defined by method\n- goRestTemplate: defined by method\n\nAction:\n\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed.\n</code></pre>\n<p>So we are using @Qualifier annotation temporarily to fix this issue but I don't want to do that since it breaks unit testing also I use Lombok for constructor injection now I should go with manual constructor with @Qualifier annotation.</p>\n<p>so this bug was recently introduced by the spring team or is this how spring always works for the same type of bean? If this is the usual behaviour then I wonder how it works in the past.</p>\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","android","layout"],"comments":[{"owner":{"account_id":900048,"reputation":7584,"user_id":936414,"display_name":"user936414"},"score":4,"creation_date":1358836651,"post_id":9073677,"comment_id":20127913,"body_markdown":"got any solution for this? having the same question..","body":"got any solution for this? having the same question.."},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1467841609,"post_id":9073677,"comment_id":63890260,"body_markdown":"Seems duplicate (but without answers): http://stackoverflow.com/questions/34724179/how-to-find-whether-an-android-view-is-obscured-by-any-other-view","body":"Seems duplicate (but without answers): <a href=\"http://stackoverflow.com/questions/34724179/how-to-find-whether-an-android-view-is-obscured-by-any-other-view\" title=\"how to find whether an android view is obscured by any other view\">stackoverflow.com/questions/34724179/&hellip;</a>"},{"owner":{"account_id":269580,"reputation":6383,"user_id":558991,"accept_rate":60,"display_name":"Nima"},"score":0,"creation_date":1499368494,"post_id":9073677,"comment_id":76889780,"body_markdown":"ever figured this out?","body":"ever figured this out?"},{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":1,"creation_date":1499399167,"post_id":9073677,"comment_id":76899556,"body_markdown":"Negative.  And so long ago now that I can&#39;t even remember _why_ I needed to figure this out.","body":"Negative.  And so long ago now that I can&#39;t even remember <i>why</i> I needed to figure this out."},{"owner":{"account_id":10841676,"reputation":8300,"user_id":7972699,"display_name":"Anmol"},"score":0,"creation_date":1545371305,"post_id":9073677,"comment_id":94606420,"body_markdown":"@aroth i want to use this, in my scenario my view is getting hidden by keyboard and i am not using `adjustresize` so keyboard is overlapping the View and i want only the visible area.","body":"@aroth i want to use this, in my scenario my view is getting hidden by keyboard and i am not using <code>adjustresize</code> so keyboard is overlapping the View and i want only the visible area."}],"answers":[{"tags":[],"owner":{"account_id":308046,"reputation":7133,"user_id":619699,"accept_rate":57,"display_name":"Vikram Bodicherla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327985364,"creation_date":1327985364,"answer_id":9074544,"question_id":9073677,"body_markdown":"Does this not work: http://developer.android.com/reference/android/view/View.html#getDrawingRect(android.graphics.Rect)\r\n\r\nThe documentation says that it does what you want.","title":"Android - Get the visible area of a view?","body":"<p>Does this not work: <a href=\"http://developer.android.com/reference/android/view/View.html#getDrawingRect(android.graphics.Rect\" rel=\"nofollow\">http://developer.android.com/reference/android/view/View.html#getDrawingRect(android.graphics.Rect</a>)</p>\n\n<p>The documentation says that it does what you want.</p>\n"},{"tags":[],"owner":{"account_id":344757,"reputation":4578,"user_id":677242,"accept_rate":92,"display_name":"Abhay Buch"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1701625562,"creation_date":1380647683,"answer_id":19122136,"question_id":9073677,"body_markdown":"This is pretty late to the game, but I suspect that `getGlobalVisibleRect` does what you want.\r\n\r\nEDIT\r\n\r\nFor more information, visit this website:\r\n\r\nhttps://developer.android.com/reference/android/view/View#getGlobalVisibleRect(android.graphics.Rect)\r\n\r\nI suspect in Kotlin, you can use it like this:\r\n\r\npublic boolean getGlobalVisibleRect (Rect r, \r\n                Point globalOffset)\r\n\r\nReplace r with the actual coordinates of the non-clipped area of the view, in the coordinate space of the view&#39;s root view,\r\nHope this helps!","title":"Android - Get the visible area of a view?","body":"<p>This is pretty late to the game, but I suspect that <code>getGlobalVisibleRect</code> does what you want.</p>\n<p>EDIT</p>\n<p>For more information, visit this website:</p>\n<p><a href=\"https://developer.android.com/reference/android/view/View#getGlobalVisibleRect(android.graphics.Rect)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/View#getGlobalVisibleRect(android.graphics.Rect)</a></p>\n<p>I suspect in Kotlin, you can use it like this:</p>\n<p>public boolean getGlobalVisibleRect (Rect r,\nPoint globalOffset)</p>\n<p>Replace r with the actual coordinates of the non-clipped area of the view, in the coordinate space of the view's root view,\nHope this helps!</p>\n"},{"tags":[],"owner":{"account_id":1792053,"reputation":323,"user_id":1632200,"display_name":"mou"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380648372,"creation_date":1380648372,"answer_id":19122312,"question_id":9073677,"body_markdown":"I have used `getWindowVisibleDisplayFrame` method to determine if view is partially visible or not to determine if a soft keyboard is open. You can try it out.\r\n\r\n    Rect r = new Rect();\r\n    // r will be populated with the coordinates of     your view\r\n    // that area still visible.\r\n    rootView.getWindowVisibleDisplayFrame(r);","title":"Android - Get the visible area of a view?","body":"<p>I have used <code>getWindowVisibleDisplayFrame</code> method to determine if view is partially visible or not to determine if a soft keyboard is open. You can try it out.</p>\n\n<pre><code>Rect r = new Rect();\n// r will be populated with the coordinates of     your view\n// that area still visible.\nrootView.getWindowVisibleDisplayFrame(r);\n</code></pre>\n"}],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24498,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":3,"score":26,"last_activity_date":1701625562,"creation_date":1327977171,"question_id":9073677,"body_markdown":"Suppose I have an Android `View` that is being partially masked by another `View`.  For instance, imagine that the masking view has a transparent rectangular &quot;window&quot; in the center of it, and my view is centered beneath the window and possessing dimensions that are larger than the dimensions of the window.  In such a case, some rectangular portion of the view will be visible, with the rest being obscured by the mask.  \r\n\r\nSo my question is, is there any straightforward way to retrive the position and dimensions of the visible area *without* having any access to the masking view itself (so without knowing how big the mask&#39;s &quot;window&quot; itself is)?  \r\n\r\nI tried calling `getLocalVisibleRect()`, which sounded promising, but that only seems to return the view&#39;s layout rectangle and *not* the rectangle that is actually visible.","title":"Android - Get the visible area of a view?","body":"<p>Suppose I have an Android <code>View</code> that is being partially masked by another <code>View</code>.  For instance, imagine that the masking view has a transparent rectangular \"window\" in the center of it, and my view is centered beneath the window and possessing dimensions that are larger than the dimensions of the window.  In such a case, some rectangular portion of the view will be visible, with the rest being obscured by the mask.  </p>\n\n<p>So my question is, is there any straightforward way to retrive the position and dimensions of the visible area <em>without</em> having any access to the masking view itself (so without knowing how big the mask's \"window\" itself is)?  </p>\n\n<p>I tried calling <code>getLocalVisibleRect()</code>, which sounded promising, but that only seems to return the view's layout rectangle and <em>not</em> the rectangle that is actually visible.</p>\n"},{"tags":["java","mysql","concurrency","race-condition","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":30056330,"reputation":11,"user_id":23033598,"display_name":"Sanket Vyawahare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701625468,"creation_date":1701625468,"answer_id":77595487,"question_id":77595415,"body_markdown":"Your first approach, if you think in real world practical way, is not very good and from User Experience Design perspective its very bad, since you are making user to do all the hard work and then you say that the room is not available is not very good User Experience. \r\n\r\nYou should take the room and checkin/checkout details first before payment and check whether you have room availability or not for that day and that time. If you have then apply the below logic and proceed with taking payment details.\r\n\r\nOne way to solve this problem, is as someone is in middle of transaction you apply a lock on the room for the particular day and check-in/checkout time, and keep that lock for maybe 10 mins, this much time is enough for the user to do the payment transaction and book room, otherwise delete the lock from the database table and let others book the room.\r\n\r\nIn this way, you solve your reservation problem by applying temporary lock while the transaction is going on for some defined time, if the transaction is complete you book the room. If the transaction fails, remove the temporary lock.","title":"What is the best practice for reservation flow in hotel reservation system to handle concurrency for multiple reservation?","body":"<p>Your first approach, if you think in real world practical way, is not very good and from User Experience Design perspective its very bad, since you are making user to do all the hard work and then you say that the room is not available is not very good User Experience.</p>\n<p>You should take the room and checkin/checkout details first before payment and check whether you have room availability or not for that day and that time. If you have then apply the below logic and proceed with taking payment details.</p>\n<p>One way to solve this problem, is as someone is in middle of transaction you apply a lock on the room for the particular day and check-in/checkout time, and keep that lock for maybe 10 mins, this much time is enough for the user to do the payment transaction and book room, otherwise delete the lock from the database table and let others book the room.</p>\n<p>In this way, you solve your reservation problem by applying temporary lock while the transaction is going on for some defined time, if the transaction is complete you book the room. If the transaction fails, remove the temporary lock.</p>\n"}],"owner":{"account_id":30055612,"reputation":1,"user_id":23033064,"display_name":"mariam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701640738,"answer_count":1,"score":-1,"last_activity_date":1701625468,"creation_date":1701624505,"question_id":77595415,"body_markdown":"For my college project, I&#39;m developing a hotel reservation application using Java along with the Spring framework and MySQL database.\r\n\r\n# Database details:\r\n\r\n- I have an entity type that stores reservations details\r\n\r\n**reservation**\r\n\r\n| reservation-id | check-in |check-out | .. all other details |\r\n| ---------------| -------- |--------- | ---------------------|\r\n\r\n- when user wants to reserve rooms, I use this table to transactionally check in database that all rooms are available and if so, reserve them and add new entity in the table.\r\n\r\n\r\nI need to know how the flow of reservation should work.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n# **I thought about 2 scenarios:** \r\n\r\n**first scenario**: user selects the rooms he wants to reserve -&gt; check out and enter his credit card number -&gt; transactional check in database occurs. if rooms aren&#39;t available, I will tell the user that the rooms are not available, else I will proceed with payment.\r\n\r\nmy Question here is it normal to let the user enter his credit card and then tell him sorry the rooms are not available?\r\n\r\n\r\n**second scenario:** \r\n\r\n- I will add another entity type called temporarily reservation that have reservation-id as a foreign key and expiration date-attribute that refers to \r\n\r\n**temporarily reservation**\r\n\r\n| reservation-id (foreign key) | expiration-date |\r\n| -----------------------------| --------------- |\r\n\r\nuser selects the rooms he wants to reserve -&gt; transactional check in database occurs. if all rooms are available, reserve them in both &quot;temporarily reservation&quot; and &quot;reservation&quot; tables -&gt; let the user enter his credit card number -&gt; if payment is successful, delete the reservation from &quot;temporarily reservation&quot; table else if any error occurs during payment, delete reservation from both tables. \r\nthe problem is when the user doesn&#39;t enter his credit card or closes the application before confirming payment. So, I will use the &quot;temporarily reservation&quot; table and scheduled function that runs periodically to remove all expired unconfirmed reservations from both tables.\r\n\r\nI know this solution might not be practical, so I want to know how this problem is actually solved.\r\n\r\n\r\n","title":"What is the best practice for reservation flow in hotel reservation system to handle concurrency for multiple reservation?","body":"<p>For my college project, I'm developing a hotel reservation application using Java along with the Spring framework and MySQL database.</p>\n<h1>Database details:</h1>\n<ul>\n<li>I have an entity type that stores reservations details</li>\n</ul>\n<p><strong>reservation</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>reservation-id</th>\n<th>check-in</th>\n<th>check-out</th>\n<th>.. all other details</th>\n</tr>\n</thead>\n</table>\n</div>\n<ul>\n<li>when user wants to reserve rooms, I use this table to transactionally check in database that all rooms are available and if so, reserve them and add new entity in the table.</li>\n</ul>\n<p>I need to know how the flow of reservation should work.</p>\n<h1><strong>I thought about 2 scenarios:</strong></h1>\n<p><strong>first scenario</strong>: user selects the rooms he wants to reserve -&gt; check out and enter his credit card number -&gt; transactional check in database occurs. if rooms aren't available, I will tell the user that the rooms are not available, else I will proceed with payment.</p>\n<p>my Question here is it normal to let the user enter his credit card and then tell him sorry the rooms are not available?</p>\n<p><strong>second scenario:</strong></p>\n<ul>\n<li>I will add another entity type called temporarily reservation that have reservation-id as a foreign key and expiration date-attribute that refers to</li>\n</ul>\n<p><strong>temporarily reservation</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>reservation-id (foreign key)</th>\n<th>expiration-date</th>\n</tr>\n</thead>\n</table>\n</div>\n<p>user selects the rooms he wants to reserve -&gt; transactional check in database occurs. if all rooms are available, reserve them in both &quot;temporarily reservation&quot; and &quot;reservation&quot; tables -&gt; let the user enter his credit card number -&gt; if payment is successful, delete the reservation from &quot;temporarily reservation&quot; table else if any error occurs during payment, delete reservation from both tables.\nthe problem is when the user doesn't enter his credit card or closes the application before confirming payment. So, I will use the &quot;temporarily reservation&quot; table and scheduled function that runs periodically to remove all expired unconfirmed reservations from both tables.</p>\n<p>I know this solution might not be practical, so I want to know how this problem is actually solved.</p>\n"},{"tags":["java","android","data-transfer-objects"],"answers":[{"tags":[],"owner":{"account_id":6846923,"reputation":1969,"user_id":5265414,"accept_rate":62,"display_name":"devmike01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701625368,"creation_date":1701625368,"answer_id":77595479,"question_id":77595389,"body_markdown":"Send data from the `Quiz1fragment`&#39;s activity. The `HomeActivity` is the host of `HomeFragment`:\r\n \r\n    Intent intent = new Intent(getBaseContext(), HomeActivity.class);\r\n    intent.putExtra(&quot;EXTRA_GOAL&quot;, goal);\r\n    startActivity(intent);\r\n\r\nRetrieve the extra from `HomeFragment`.\r\n\r\n        if (requiredActivity() instanceof HomeActivity){\r\n           String goal = requiredActivity().getIntent().getIntExtra(&quot;EXTRA_GOAL&quot;);\r\n           Log.d(&quot;Retrieved: &quot;, &quot;&quot;+goal);\r\n        }","title":"&quot;How can I send data between two fragments that are in different activities?&quot;","body":"<p>Send data from the <code>Quiz1fragment</code>'s activity. The <code>HomeActivity</code> is the host of <code>HomeFragment</code>:</p>\n<pre><code>Intent intent = new Intent(getBaseContext(), HomeActivity.class);\nintent.putExtra(&quot;EXTRA_GOAL&quot;, goal);\nstartActivity(intent);\n</code></pre>\n<p>Retrieve the extra from <code>HomeFragment</code>.</p>\n<pre><code>    if (requiredActivity() instanceof HomeActivity){\n       String goal = requiredActivity().getIntent().getIntExtra(&quot;EXTRA_GOAL&quot;);\n       Log.d(&quot;Retrieved: &quot;, &quot;&quot;+goal);\n    }\n</code></pre>\n"}],"owner":{"account_id":25810490,"reputation":29,"user_id":19551351,"display_name":"Vlad Duta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701625368,"creation_date":1701624219,"question_id":77595389,"body_markdown":"I want to send the variable &#39;goal&#39; from Quiz1Fragment to HomeFragment, even though they are in different activities. I attempted to use a SharedViewModel, but the goal isn&#39;t assigned correctly. Can someone help figure it out?\r\n\r\n**Quiz1fragment** \r\n\r\n    public class Quiz1Fragment extends Fragment {\r\n\r\n    private SharedViewModel sharedViewModel;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_quiz1, container, false);\r\n\r\n        RadioGroup radioGroup = view.findViewById(R.id.radioGroup);\r\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                int goal = 0;\r\n                if (checkedId == R.id.lose) {\r\n                    goal = 100;\r\n                } else if (checkedId == R.id.gain) {\r\n                    goal = 200;\r\n                } else if (checkedId == R.id.maintain) {\r\n                    goal = 300;\r\n                }\r\n                sharedViewModel.setSelectGoal(goal);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n\r\n\r\n\r\n**HomeFragment**\r\n\r\n    public class HomeFragment extends Fragment {\r\n    TextView textView;\r\n    SharedViewModel sharedViewModel;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view =  inflater.inflate(R.layout.fragment_home, container, false);\r\n        textView = view.findViewById(R.id.textViewCalories);\r\n        sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\r\n\r\n\r\n        Integer goal = sharedViewModel.getSelectedGoal().getValue();\r\n        textView.setText(String.valueOf(goal));\r\n\r\n        return view;\r\n    }\r\n}\r\n\r\n\r\n","title":"&quot;How can I send data between two fragments that are in different activities?&quot;","body":"<p>I want to send the variable 'goal' from Quiz1Fragment to HomeFragment, even though they are in different activities. I attempted to use a SharedViewModel, but the goal isn't assigned correctly. Can someone help figure it out?</p>\n<p><strong>Quiz1fragment</strong></p>\n<pre><code>public class Quiz1Fragment extends Fragment {\n\nprivate SharedViewModel sharedViewModel;\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_quiz1, container, false);\n\n    RadioGroup radioGroup = view.findViewById(R.id.radioGroup);\n    radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n            int goal = 0;\n            if (checkedId == R.id.lose) {\n                goal = 100;\n            } else if (checkedId == R.id.gain) {\n                goal = 200;\n            } else if (checkedId == R.id.maintain) {\n                goal = 300;\n            }\n            sharedViewModel.setSelectGoal(goal);\n        }\n    });\n\n    return view;\n}\n</code></pre>\n<p>}</p>\n<p><strong>HomeFragment</strong></p>\n<pre><code>public class HomeFragment extends Fragment {\nTextView textView;\nSharedViewModel sharedViewModel;\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view =  inflater.inflate(R.layout.fragment_home, container, false);\n    textView = view.findViewById(R.id.textViewCalories);\n    sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\n\n\n    Integer goal = sharedViewModel.getSelectedGoal().getValue();\n    textView.setText(String.valueOf(goal));\n\n    return view;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","django","django-rest-framework","android-volley"],"answers":[{"tags":[],"owner":{"account_id":21865216,"reputation":186,"user_id":16155502,"display_name":"ali"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1701624486,"creation_date":1701624486,"answer_id":77595413,"question_id":77592385,"body_markdown":"Use the code below.\r\n\r\n        private void test() {\r\n            RequestQueue requestQueue;\r\n            requestQueue = Volley.newRequestQueue(this);\r\n            String url_ = &quot;https://xxxx.com/api/BF&quot;;\r\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;Email&quot;, UEmail);\r\n            params.put(&quot;Password&quot;, UPassword);\r\n            JSONObject JOParams = new JSONObject(params);\r\n    \r\n            \r\n            JsonObjectRequest JORequest = new JsonObjectRequest(Request.Method.POST, url_, JOParams, response -&gt; {\r\n                try {\r\n                    String status_ = response.getString(&quot;Status&quot;);\r\n                    if (status_.equals(&quot;OK_&quot;)) {\r\n                        Toast.makeText(this, &quot;Login&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(this, &quot;Login failed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } catch (Exception e) {\r\n                    Toast.makeText(this, &quot;Data error&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }, error -&gt; {\r\n                Toast.makeText(this, &quot;Connection failed&quot;, Toast.LENGTH_LONG).show();\r\n            }) {\r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() {\r\n                    Map&lt;String, String&gt;  params = new HashMap&lt;&gt;();\r\n                    params.put(&quot;User-Agent&quot;, &quot;BalesApp&quot;);\r\n                    if(!csrftoken.isEmpty()){\r\n                        String CookeVAL = &quot;csrftoken=&quot; + csrftoken + &quot;; sessionid=&quot; + sessionid + &quot;;&quot;;\r\n                        params.put(&quot;Cookie&quot;, CookeVAL);\r\n                        params.put(&quot;X-CSRFToken&quot;, csrftoken);\r\n                    }\r\n    \r\n    \r\n                    return params;\r\n                }\r\n                @Override\r\n                protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\r\n                    int x;\r\n                    AHeaders = response.allHeaders;\r\n                    for (int n = 0; n&lt; Objects.requireNonNull(AHeaders).size(); n++ ){\r\n                        if(AHeaders.get(n).getName().equals(&quot;set-cookie&quot;)){\r\n                            HeadVal = AHeaders.get(n).getValue();\r\n                            x = HeadVal.indexOf(&quot;csrftoken=&quot;);\r\n                            if(x &gt;= 0){\r\n                                int x1 = HeadVal.indexOf(&quot;=&quot;);\r\n                                int x2 = HeadVal.indexOf(&quot;;&quot;);\r\n                                csrftoken = HeadVal.substring(x1+1,x2);\r\n                            }\r\n    \r\n                            x = HeadVal.indexOf(&quot;sessionid=&quot;);\r\n                            if(x &gt;= 0){\r\n                                int x1 = HeadVal.indexOf(&quot;=&quot;);\r\n                                int x2 = HeadVal.indexOf(&quot;;&quot;);\r\n                                sessionid = HeadVal.substring(x1+1,x2);\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                    return super.parseNetworkResponse(response);\r\n                }\r\n            };\r\n            requestQueue.add(JORequest);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"how to get volley cookies and set it on next request - android","body":"<p>Use the code below.</p>\n<pre><code>    private void test() {\n        RequestQueue requestQueue;\n        requestQueue = Volley.newRequestQueue(this);\n        String url_ = &quot;https://xxxx.com/api/BF&quot;;\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;Email&quot;, UEmail);\n        params.put(&quot;Password&quot;, UPassword);\n        JSONObject JOParams = new JSONObject(params);\n\n        \n        JsonObjectRequest JORequest = new JsonObjectRequest(Request.Method.POST, url_, JOParams, response -&gt; {\n            try {\n                String status_ = response.getString(&quot;Status&quot;);\n                if (status_.equals(&quot;OK_&quot;)) {\n                    Toast.makeText(this, &quot;Login&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(this, &quot;Login failed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } catch (Exception e) {\n                Toast.makeText(this, &quot;Data error&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }, error -&gt; {\n            Toast.makeText(this, &quot;Connection failed&quot;, Toast.LENGTH_LONG).show();\n        }) {\n            @Override\n            public Map&lt;String, String&gt; getHeaders() {\n                Map&lt;String, String&gt;  params = new HashMap&lt;&gt;();\n                params.put(&quot;User-Agent&quot;, &quot;BalesApp&quot;);\n                if(!csrftoken.isEmpty()){\n                    String CookeVAL = &quot;csrftoken=&quot; + csrftoken + &quot;; sessionid=&quot; + sessionid + &quot;;&quot;;\n                    params.put(&quot;Cookie&quot;, CookeVAL);\n                    params.put(&quot;X-CSRFToken&quot;, csrftoken);\n                }\n\n\n                return params;\n            }\n            @Override\n            protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\n                int x;\n                AHeaders = response.allHeaders;\n                for (int n = 0; n&lt; Objects.requireNonNull(AHeaders).size(); n++ ){\n                    if(AHeaders.get(n).getName().equals(&quot;set-cookie&quot;)){\n                        HeadVal = AHeaders.get(n).getValue();\n                        x = HeadVal.indexOf(&quot;csrftoken=&quot;);\n                        if(x &gt;= 0){\n                            int x1 = HeadVal.indexOf(&quot;=&quot;);\n                            int x2 = HeadVal.indexOf(&quot;;&quot;);\n                            csrftoken = HeadVal.substring(x1+1,x2);\n                        }\n\n                        x = HeadVal.indexOf(&quot;sessionid=&quot;);\n                        if(x &gt;= 0){\n                            int x1 = HeadVal.indexOf(&quot;=&quot;);\n                            int x2 = HeadVal.indexOf(&quot;;&quot;);\n                            sessionid = HeadVal.substring(x1+1,x2);\n                        }\n                    }\n                }\n\n                return super.parseNetworkResponse(response);\n            }\n        };\n        requestQueue.add(JORequest);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29261463,"reputation":55,"user_id":22418346,"display_name":"rahim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77595413,"answer_count":1,"score":1,"last_activity_date":1701624486,"creation_date":1701555366,"question_id":77592385,"body_markdown":"I use Django, when the user logs in through the API, the response that is sent to Android contains a cookie that includes CSRF and session, and I need to receive its values and send them in the header in the next request. I tried a lot, but the way I did not find a solution\r\n\r\n        private void test() {\r\n            RequestQueue requestQueue;\r\n            requestQueue = Volley.newRequestQueue(this);\r\n            String url_ = &quot;https://xxxx.com/api/BF&quot;;\r\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;Email&quot;, UEmail);\r\n            params.put(&quot;Password&quot;, UPassword);\r\n            JSONObject JOParams = new JSONObject(params);\r\n    \r\n            \r\n            JsonObjectRequest JORequest = new JsonObjectRequest(Request.Method.POST, url_, JOParams, response -&gt; {\r\n                try {\r\n                    String status_ = response.getString(&quot;Status&quot;);\r\n                    if (status_.equals(&quot;OK_&quot;)) {\r\n                        Toast.makeText(this, &quot;Login&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(this, &quot;Login failed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } catch (Exception e) {\r\n                    Toast.makeText(this, &quot;Data error&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }, error -&gt; {\r\n                Toast.makeText(this, &quot;Connection failed&quot;, Toast.LENGTH_LONG).show();\r\n            });\r\n            requestQueue.add(JORequest);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nPlease complete the code. I went through all the previous answers and didn&#39;t get any results","title":"how to get volley cookies and set it on next request - android","body":"<p>I use Django, when the user logs in through the API, the response that is sent to Android contains a cookie that includes CSRF and session, and I need to receive its values and send them in the header in the next request. I tried a lot, but the way I did not find a solution</p>\n<pre><code>    private void test() {\n        RequestQueue requestQueue;\n        requestQueue = Volley.newRequestQueue(this);\n        String url_ = &quot;https://xxxx.com/api/BF&quot;;\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;Email&quot;, UEmail);\n        params.put(&quot;Password&quot;, UPassword);\n        JSONObject JOParams = new JSONObject(params);\n\n        \n        JsonObjectRequest JORequest = new JsonObjectRequest(Request.Method.POST, url_, JOParams, response -&gt; {\n            try {\n                String status_ = response.getString(&quot;Status&quot;);\n                if (status_.equals(&quot;OK_&quot;)) {\n                    Toast.makeText(this, &quot;Login&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(this, &quot;Login failed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } catch (Exception e) {\n                Toast.makeText(this, &quot;Data error&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }, error -&gt; {\n            Toast.makeText(this, &quot;Connection failed&quot;, Toast.LENGTH_LONG).show();\n        });\n        requestQueue.add(JORequest);\n    }\n\n}\n</code></pre>\n<p>Please complete the code. I went through all the previous answers and didn't get any results</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1641996818,"post_id":70683058,"comment_id":124954771,"body_markdown":"You can&#39;t use a switch-case for that, end of story.","body":"You can&#39;t use a switch-case for that, end of story."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1641996939,"post_id":70683058,"comment_id":124954830,"body_markdown":"That is not possible until java 17. Switch/case does not allow those kind of statements. Java17 introduces [pattern matching](https://www.baeldung.com/java-switch-pattern-matching), which can most likely be used to squeeze this behaviour into that.","body":"That is not possible until java 17. Switch/case does not allow those kind of statements. Java17 introduces <a href=\"https://www.baeldung.com/java-switch-pattern-matching\" rel=\"nofollow noreferrer\">pattern matching</a>, which can most likely be used to squeeze this behaviour into that."},{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1641997551,"post_id":70683058,"comment_id":124955121,"body_markdown":"@f1sh Note that it&#39;s still a preview feature in Java 17 (so not yet a permanent language feature, and won&#39;t work unless you explicitly tell the compiler you want to use preview features).","body":"@f1sh Note that it&#39;s still a preview feature in Java 17 (so not yet a permanent language feature, and won&#39;t work unless you explicitly tell the compiler you want to use preview features)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641997609,"post_id":70683058,"comment_id":124955154,"body_markdown":"@Jesper true, of course you are correct. That is just the only thing that came to my mind how this could be possible in some way.","body":"@Jesper true, of course you are correct. That is just the only thing that came to my mind how this could be possible in some way."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642000875,"creation_date":1642000875,"answer_id":70684075,"question_id":70683058,"body_markdown":"Assuming that `currCmd` is a string which may look like `&quot;buy $PRODUCT_ID&quot;` or `&quot;delete $PRODUCT_ID&quot;` for the commands compared with `startsWith`, it may be worth to extract the &quot;verb&quot; from the command and use it in `switch` (using shorter arrow syntax of Java 12+):\r\n```java\r\nString cmd = currCmd.split(&quot; &quot;)[0];\r\nswitch (cmd) {\r\n    case ALL_PRODUCT -&gt; warehouseObj.viewItems();\r\n    case BUY_PRODUCT -&gt; {\r\n        String productId = currCmd.substring(4);\r\n        long lProductId = Long.parseLong(productId);\r\n        cartProcessor.addItem(currUser.getUserid(), lProductId, currCart, warehouseObj);\r\n    }\r\n    case VIEW_CART -&gt; cartProcessor.viewItems(currUser.getUserid(), currCart);\r\n    case CHECKOUT -&gt; cartProcessor.checkOut(currUser.getUserid(), currCart);\r\n    case DELETE -&gt; {\r\n        String productId = currCmd.substring(7);\r\n        long lProductId = Long.parseLong(productId);\r\n        warehouseObj.deleteItem(lProductId, currUser.getIsAdmin());\r\n    }\r\n    case ADD_PRODUCT -&gt; {\r\n        if (!currUser.getIsAdmin()) {\r\n            System.out.println(&quot;PERMISSION DENIED&quot;);\r\n        } else {\r\n            // remove sc\r\n            Scanner sc = new Scanner(System.in);\r\n            addProduct2Warehouse(warehouseObj, sc);\r\n        }\r\n    }\r\n    default -&gt; System.out.println(&quot;INVALID COMMAND!&quot;);\r\n}\r\n```","title":"Using startsWith() method in switch case in Java","body":"<p>Assuming that <code>currCmd</code> is a string which may look like <code>&quot;buy $PRODUCT_ID&quot;</code> or <code>&quot;delete $PRODUCT_ID&quot;</code> for the commands compared with <code>startsWith</code>, it may be worth to extract the &quot;verb&quot; from the command and use it in <code>switch</code> (using shorter arrow syntax of Java 12+):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String cmd = currCmd.split(&quot; &quot;)[0];\nswitch (cmd) {\n    case ALL_PRODUCT -&gt; warehouseObj.viewItems();\n    case BUY_PRODUCT -&gt; {\n        String productId = currCmd.substring(4);\n        long lProductId = Long.parseLong(productId);\n        cartProcessor.addItem(currUser.getUserid(), lProductId, currCart, warehouseObj);\n    }\n    case VIEW_CART -&gt; cartProcessor.viewItems(currUser.getUserid(), currCart);\n    case CHECKOUT -&gt; cartProcessor.checkOut(currUser.getUserid(), currCart);\n    case DELETE -&gt; {\n        String productId = currCmd.substring(7);\n        long lProductId = Long.parseLong(productId);\n        warehouseObj.deleteItem(lProductId, currUser.getIsAdmin());\n    }\n    case ADD_PRODUCT -&gt; {\n        if (!currUser.getIsAdmin()) {\n            System.out.println(&quot;PERMISSION DENIED&quot;);\n        } else {\n            // remove sc\n            Scanner sc = new Scanner(System.in);\n            addProduct2Warehouse(warehouseObj, sc);\n        }\n    }\n    default -&gt; System.out.println(&quot;INVALID COMMAND!&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22218368,"reputation":61,"user_id":16456454,"display_name":"Eli P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701623974,"creation_date":1701623974,"answer_id":77595373,"question_id":70683058,"body_markdown":"Assuming that currCmd is a String and using java 14/15 with preview or 16+ you can do it like this:\r\n\r\n    switch (currCmd) {\r\n           case null -&gt; System.out.println(&quot;INVALID COMMAND!&quot;);\r\n           case &quot;allProduct&quot; -&gt; warehouseObj.viewItems();\r\n           case String s when s.startsWith(&quot;buyProduct&quot;) -&gt; {\r\n                  String productId = currCmd.substring(4);\r\n                  long lProductId=Long.parseLong(productId);      \r\n                  cartProcessor.addItem(currUser.getUserid(),lProductId,currCart,warehouseObj);\r\n                }\r\n           case &quot;viewCart&quot; -&gt; cartProcessor.viewItems(currUser.getUserid(),currCart);\r\n           case &quot;checkout&quot; -&gt; cartProcessor.checkOut(currUser.getUserid(),currCart);\r\n           case String s when s.startsWith(&quot;delete&quot;) -&gt; {\r\n                  String productId = currCmd.substring(7);\r\n                  long lProductId =Long.parseLong(productId);\r\n                  warehouseObj.deleteItem(lProductId, currUser.getIsAdmin());\r\n                }\r\n           case &quot;addProduct&quot; -&gt; {\r\n                  if (!currUser.getIsAdmin()) {\r\n                    System.out.println(&quot;PERMISSION DENIED&quot;);\r\n\r\n                  } else {\r\n                    // remove sc\r\n                    Scanner sc = new Scanner(System.in);\r\n                    addProduct2Warehouse(warehouseObj, sc);\r\n                  }\r\n                }\r\n           default -&gt; {\r\n                  System.out.println(&quot;INVALID COMMAND!&quot;);\r\n           }\r\n\r\nUsing java 8 to 13 personally i would implement it as follows:\r\n\r\n    switch (currCmd) {\r\n                case &quot;allProduct&quot;: {\r\n                    warehouseObj.viewItems();\r\n                }\r\n                case &quot;viewCart&quot;: {\r\n                    cartProcessor.viewItems(currUser.getUserid(),currCart);\r\n                }\r\n                case &quot;checkout&quot;: {\r\n                    cartProcessor.checkOut(currUser.getUserid(),currCart);\r\n                }\r\n                case &quot;addProduct&quot;: {\r\n                    if (!currUser.getIsAdmin()) {\r\n                        System.out.println(&quot;PERMISSION DENIED&quot;);\r\n                    } else {\r\n                        // remove sc\r\n                        Scanner sc = new Scanner(System.in);\r\n                        addProduct2Warehouse(warehouseObj, sc);\r\n                    }\r\n                }\r\n                default: {\r\n                    if (currCmd.startsWith(buyProduct)) { // todo\r\n                        String productId = currCmd.substring(4);\r\n                        long lProductId=Long.parseLong(productId);\r\n                        cartProcessor.addItem(currUser.getUserid(),lProductId,currCart,warehouseObj);\r\n                    } else if (currCmd.startsWith(delete)) { // todo\r\n                        String productId = currCmd.substring(7);\r\n                        long lProductId =Long.parseLong(productId);\r\n                        warehouseObj.deleteItem(lProductId, currUser.getIsAdmin());\r\n                    } else  {\r\n                        System.out.println(&quot;INVALID COMMAND!&quot;);\r\n                    }\r\n                }\r\n            }\r\n\r\nHopefully it will help someone.","title":"Using startsWith() method in switch case in Java","body":"<p>Assuming that currCmd is a String and using java 14/15 with preview or 16+ you can do it like this:</p>\n<pre><code>switch (currCmd) {\n       case null -&gt; System.out.println(&quot;INVALID COMMAND!&quot;);\n       case &quot;allProduct&quot; -&gt; warehouseObj.viewItems();\n       case String s when s.startsWith(&quot;buyProduct&quot;) -&gt; {\n              String productId = currCmd.substring(4);\n              long lProductId=Long.parseLong(productId);      \n              cartProcessor.addItem(currUser.getUserid(),lProductId,currCart,warehouseObj);\n            }\n       case &quot;viewCart&quot; -&gt; cartProcessor.viewItems(currUser.getUserid(),currCart);\n       case &quot;checkout&quot; -&gt; cartProcessor.checkOut(currUser.getUserid(),currCart);\n       case String s when s.startsWith(&quot;delete&quot;) -&gt; {\n              String productId = currCmd.substring(7);\n              long lProductId =Long.parseLong(productId);\n              warehouseObj.deleteItem(lProductId, currUser.getIsAdmin());\n            }\n       case &quot;addProduct&quot; -&gt; {\n              if (!currUser.getIsAdmin()) {\n                System.out.println(&quot;PERMISSION DENIED&quot;);\n\n              } else {\n                // remove sc\n                Scanner sc = new Scanner(System.in);\n                addProduct2Warehouse(warehouseObj, sc);\n              }\n            }\n       default -&gt; {\n              System.out.println(&quot;INVALID COMMAND!&quot;);\n       }\n</code></pre>\n<p>Using java 8 to 13 personally i would implement it as follows:</p>\n<pre><code>switch (currCmd) {\n            case &quot;allProduct&quot;: {\n                warehouseObj.viewItems();\n            }\n            case &quot;viewCart&quot;: {\n                cartProcessor.viewItems(currUser.getUserid(),currCart);\n            }\n            case &quot;checkout&quot;: {\n                cartProcessor.checkOut(currUser.getUserid(),currCart);\n            }\n            case &quot;addProduct&quot;: {\n                if (!currUser.getIsAdmin()) {\n                    System.out.println(&quot;PERMISSION DENIED&quot;);\n                } else {\n                    // remove sc\n                    Scanner sc = new Scanner(System.in);\n                    addProduct2Warehouse(warehouseObj, sc);\n                }\n            }\n            default: {\n                if (currCmd.startsWith(buyProduct)) { // todo\n                    String productId = currCmd.substring(4);\n                    long lProductId=Long.parseLong(productId);\n                    cartProcessor.addItem(currUser.getUserid(),lProductId,currCart,warehouseObj);\n                } else if (currCmd.startsWith(delete)) { // todo\n                    String productId = currCmd.substring(7);\n                    long lProductId =Long.parseLong(productId);\n                    warehouseObj.deleteItem(lProductId, currUser.getIsAdmin());\n                } else  {\n                    System.out.println(&quot;INVALID COMMAND!&quot;);\n                }\n            }\n        }\n</code></pre>\n<p>Hopefully it will help someone.</p>\n"}],"owner":{"account_id":23919462,"reputation":37,"user_id":17915538,"display_name":"javaNoob8181"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4505,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":2,"score":1,"last_activity_date":1701623974,"creation_date":1641996664,"question_id":70683058,"body_markdown":"I want to use [`startsWith()`][1] in switch case in Java, but it expects a String and not a boolean value. I tried to create a wrapper function for it and return a String, but I am getting an error saying `constant expected`.\r\n\r\nI want to convert the following if-else block in switch case:\r\n\r\n    if (currCmd.equals(allProduct)) {\r\n        warehouseObj.viewItems();\r\n    \r\n    } else if (currCmd.startsWith(buyProduct)) { // todo\r\n        String productId = currCmd.substring(4);\r\n        long lProductId=Long.parseLong(productId);\r\n        cartProcessor.addItem(currUser.getUserid(),lProductId,currCart,warehouseObj);\r\n    \r\n    } else if (currCmd.equals(viewCart)) {\r\n        cartProcessor.viewItems(currUser.getUserid(),currCart);\r\n    \r\n    } else if (currCmd.equals(checkout)) {\r\n        cartProcessor.checkOut(currUser.getUserid(),currCart);\r\n    \r\n    } else if (currCmd.startsWith(delete)) { // todo\r\n        String productId = currCmd.substring(7);\r\n        long lProductId =Long.parseLong(productId);\r\n        warehouseObj.deleteItem(lProductId, currUser.getIsAdmin());\r\n    \r\n    } else if (currCmd.equals(addProduct)) {\r\n        if (!currUser.getIsAdmin()) {\r\n            System.out.println(&quot;PERMISSION DENIED&quot;);\r\n    \r\n        } else {\r\n            // remove sc\r\n            Scanner sc = new Scanner(System.in);\r\n            addProduct2Warehouse(warehouseObj, sc);\r\n        }\r\n    } else  {\r\n        System.out.println(&quot;INVALID COMMAND!&quot;);\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#startsWith(java.lang.String)","title":"Using startsWith() method in switch case in Java","body":"<p>I want to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#startsWith(java.lang.String)\" rel=\"nofollow noreferrer\"><code>startsWith()</code></a> in switch case in Java, but it expects a String and not a boolean value. I tried to create a wrapper function for it and return a String, but I am getting an error saying <code>constant expected</code>.</p>\n<p>I want to convert the following if-else block in switch case:</p>\n<pre><code>if (currCmd.equals(allProduct)) {\n    warehouseObj.viewItems();\n\n} else if (currCmd.startsWith(buyProduct)) { // todo\n    String productId = currCmd.substring(4);\n    long lProductId=Long.parseLong(productId);\n    cartProcessor.addItem(currUser.getUserid(),lProductId,currCart,warehouseObj);\n\n} else if (currCmd.equals(viewCart)) {\n    cartProcessor.viewItems(currUser.getUserid(),currCart);\n\n} else if (currCmd.equals(checkout)) {\n    cartProcessor.checkOut(currUser.getUserid(),currCart);\n\n} else if (currCmd.startsWith(delete)) { // todo\n    String productId = currCmd.substring(7);\n    long lProductId =Long.parseLong(productId);\n    warehouseObj.deleteItem(lProductId, currUser.getIsAdmin());\n\n} else if (currCmd.equals(addProduct)) {\n    if (!currUser.getIsAdmin()) {\n        System.out.println(&quot;PERMISSION DENIED&quot;);\n\n    } else {\n        // remove sc\n        Scanner sc = new Scanner(System.in);\n        addProduct2Warehouse(warehouseObj, sc);\n    }\n} else  {\n    System.out.println(&quot;INVALID COMMAND!&quot;);\n}\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701623893,"creation_date":1701623893,"answer_id":77595366,"question_id":77595084,"body_markdown":"I think when you receive a POST request with JSON data, you need to annotate the `@RequestBody` annotation in `saveStudent` method to let Spring know that the incoming JSON should be converted into a Student object\r\n\r\n    @PostMapping(&quot;save_student&quot;)\r\n    public Student saveStudent(@RequestBody Student student) {\r\n        return services.saveStudent(student);\r\n    }","title":"IWhen I call post method filling json I get the same but in the fields everywhere null","body":"<p>I think when you receive a POST request with JSON data, you need to annotate the <code>@RequestBody</code> annotation in <code>saveStudent</code> method to let Spring know that the incoming JSON should be converted into a Student object</p>\n<pre><code>@PostMapping(&quot;save_student&quot;)\npublic Student saveStudent(@RequestBody Student student) {\n    return services.saveStudent(student);\n}\n</code></pre>\n"}],"owner":{"account_id":27919508,"reputation":5,"user_id":21319999,"display_name":"TenolToSy "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77595366,"answer_count":1,"score":0,"last_activity_date":1701623893,"creation_date":1701619881,"question_id":77595084,"body_markdown":"I haven&#39;t done anything programming related in a long time (5 days) and now I&#39;m stupid\r\n\r\n### Code\r\n**inMemoryStudentServiceImpl.java**\r\n```java\r\npackage com.justdeax.coursepractice.Student;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.List;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class inMemoryStudentServiceImpl implements StudentService {\r\n    private final StudentDao repo;\r\n\r\n    @Override\r\n    public List&lt;Student&gt; findAll() {\r\n        return repo.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Student saveStudent(Student student) {\r\n        return repo.saveStudent(student);\r\n    }\r\n\r\n    @Override\r\n    public Student findByEmail(String email) {\r\n        return repo.findByEmail(email);\r\n    }\r\n\r\n    @Override\r\n    public Student updateStudent(Student student) {\r\n        return repo.updateStudent(student);\r\n    }\r\n\r\n    @Override\r\n    public void deleteStudent(String email) {\r\n        repo.deleteStudent(email);\r\n    }\r\n}\r\n```\r\n\r\n**StudentController.java**\r\n```java\r\npackage com.justdeax.coursepractice.Student;\r\n\r\nimport lombok.NonNull;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/students&quot;)\r\n@RequiredArgsConstructor\r\npublic class StudentController {\r\n    @NonNull\r\n    private final StudentService services;\r\n\r\n    @GetMapping\r\n    public List&lt;Student&gt; findAll() {\r\n        return services.findAll();\r\n    }\r\n\r\n    @PostMapping(&quot;save_student&quot;)\r\n    public Student saveStudent(Student student) {\r\n        return services.saveStudent(student);\r\n    }\r\n\r\n    @GetMapping(&quot;/{email}&quot;)\r\n    public Student findByEmail(@PathVariable String email) {\r\n        return services.findByEmail(email);\r\n    }\r\n\r\n    @PutMapping(&quot;update_student&quot;)\r\n    public Student updateStudent(Student student) {\r\n        return services.updateStudent(student);\r\n    }\r\n\r\n    @DeleteMapping(&quot;delete_student/{email}&quot;)\r\n    public void deleteStudent(@PathVariable String email) {\r\n        services.deleteStudent(email);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**StudentService.java**\r\n```java\r\npackage com.justdeax.coursepractice.Student;  \r\nimport java.util.List;  \r\npublic interface StudentService {  \r\n    List&lt;Student&gt; findAll();  \r\n    Student saveStudent(Student student);  \r\n    Student findByEmail(String email);  \r\n    Student updateStudent(Student student);  \r\n    void deleteStudent(String email);  \r\n}\r\n```\r\n\r\n**Student.java**\r\n```java\r\npackage com.justdeax.coursepractice.Student;  \r\nimport lombok.*;  \r\nimport java.time.LocalDate;  \r\n@Data  \r\n@Builder  \r\npublic class Student {  \r\n    private String firstName;  \r\n    private String lastName;  \r\n    private Integer age;  \r\n    private LocalDate dataOfBirth;  \r\n    private String email;  \r\n}\r\n```\r\n\r\n**StudentDao.java**\r\n```java\r\npackage com.justdeax.coursepractice.Student;  \r\nimport org.springframework.stereotype.Repository;  \r\n  \r\nimport java.util.ArrayList;  \r\nimport java.util.List;  \r\nimport java.util.stream.IntStream;  \r\n  \r\n@Repository  \r\npublic class StudentDao {  \r\n    private final List&lt;Student&gt; STUDENTS = new ArrayList&lt;&gt;();  \r\n    public List&lt;Student&gt; findAll() {  \r\n        return STUDENTS;  \r\n    }  \r\n  \r\n    public Student saveStudent(Student student) {  \r\n        STUDENTS.add(student);  \r\n        return student;  \r\n    }  \r\n  \r\n    public Student findByEmail(String email) {  \r\n        return STUDENTS.stream()  \r\n                .filter(e -&gt; e.getEmail().equals(email))  \r\n                .findFirst()  \r\n                .orElse(null);  \r\n    }  \r\n  \r\n    public Student updateStudent(Student student) {  \r\n        var studentIndex = IntStream.range(0, STUDENTS.size())  \r\n                .filter(i -&gt; STUDENTS.get(i).getEmail().equals(student.getEmail()))  \r\n                .findFirst()  \r\n                .orElse(-1);  \r\n        if (studentIndex &gt; -1) {  \r\n            STUDENTS.set(studentIndex, student);  \r\n            return student;  \r\n        }  \r\n        return null;  \r\n    }  \r\n  \r\n    public void deleteStudent(String email) {  \r\n        var student = findByEmail(email);  \r\n        if (student != null) STUDENTS.remove(student);  \r\n    }  \r\n}\r\n```\r\n\r\n### Used:\r\n- Lombok\r\n- Spring Boot Starter Web\r\n- Spring Boot Starter Test\r\n\r\n### :\r\nWhen POST Request: localhost:8080/api/v1/students/save_student\r\nThis json is written:\r\n```json\r\n{\r\n&#160;&#160;&#160;&#160;&quot;firstName&quot;:&#160;&quot;abc&quot;,\r\n&#160;&#160;&#160;&#160;&quot;lastName&quot;:&#160;&quot;def&quot;,\r\n&#160;&#160;&#160;&#160;&quot;age&quot;:&#160;&quot;99&quot;,\r\n&#160;&#160;&#160;&#160;&quot;dataOfBirth&quot;:&#160;&quot;1000-10-10&quot;,\r\n&#160;&#160;&#160;&#160;&quot;email&quot;:&#160;&quot;abs@def.com&quot;\r\n}\r\n```\r\nAfter this request the response is output as the same json but everywhere is null, why?\r\n```\r\n{\r\n&#160;&#160;&#160;&#160;&quot;firstName&quot;:&#160;null,\r\n&#160;&#160;&#160;&#160;&quot;lastName&quot;:&#160;null,\r\n&#160;&#160;&#160;&#160;&quot;age&quot;:&#160;null,\r\n&#160;&#160;&#160;&#160;&quot;dataOfBirth&quot;:&#160;null,\r\n&#160;&#160;&#160;&#160;&quot;email&quot;:&#160;null\r\n}\r\n```","title":"IWhen I call post method filling json I get the same but in the fields everywhere null","body":"<p>I haven't done anything programming related in a long time (5 days) and now I'm stupid</p>\n<h3>Code</h3>\n<p><strong>inMemoryStudentServiceImpl.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.justdeax.coursepractice.Student;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport java.util.List;\n\n@Service\n@AllArgsConstructor\npublic class inMemoryStudentServiceImpl implements StudentService {\n    private final StudentDao repo;\n\n    @Override\n    public List&lt;Student&gt; findAll() {\n        return repo.findAll();\n    }\n\n    @Override\n    public Student saveStudent(Student student) {\n        return repo.saveStudent(student);\n    }\n\n    @Override\n    public Student findByEmail(String email) {\n        return repo.findByEmail(email);\n    }\n\n    @Override\n    public Student updateStudent(Student student) {\n        return repo.updateStudent(student);\n    }\n\n    @Override\n    public void deleteStudent(String email) {\n        repo.deleteStudent(email);\n    }\n}\n</code></pre>\n<p><strong>StudentController.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.justdeax.coursepractice.Student;\n\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/v1/students&quot;)\n@RequiredArgsConstructor\npublic class StudentController {\n    @NonNull\n    private final StudentService services;\n\n    @GetMapping\n    public List&lt;Student&gt; findAll() {\n        return services.findAll();\n    }\n\n    @PostMapping(&quot;save_student&quot;)\n    public Student saveStudent(Student student) {\n        return services.saveStudent(student);\n    }\n\n    @GetMapping(&quot;/{email}&quot;)\n    public Student findByEmail(@PathVariable String email) {\n        return services.findByEmail(email);\n    }\n\n    @PutMapping(&quot;update_student&quot;)\n    public Student updateStudent(Student student) {\n        return services.updateStudent(student);\n    }\n\n    @DeleteMapping(&quot;delete_student/{email}&quot;)\n    public void deleteStudent(@PathVariable String email) {\n        services.deleteStudent(email);\n    }\n}\n\n</code></pre>\n<p><strong>StudentService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.justdeax.coursepractice.Student;  \nimport java.util.List;  \npublic interface StudentService {  \n    List&lt;Student&gt; findAll();  \n    Student saveStudent(Student student);  \n    Student findByEmail(String email);  \n    Student updateStudent(Student student);  \n    void deleteStudent(String email);  \n}\n</code></pre>\n<p><strong>Student.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.justdeax.coursepractice.Student;  \nimport lombok.*;  \nimport java.time.LocalDate;  \n@Data  \n@Builder  \npublic class Student {  \n    private String firstName;  \n    private String lastName;  \n    private Integer age;  \n    private LocalDate dataOfBirth;  \n    private String email;  \n}\n</code></pre>\n<p><strong>StudentDao.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.justdeax.coursepractice.Student;  \nimport org.springframework.stereotype.Repository;  \n  \nimport java.util.ArrayList;  \nimport java.util.List;  \nimport java.util.stream.IntStream;  \n  \n@Repository  \npublic class StudentDao {  \n    private final List&lt;Student&gt; STUDENTS = new ArrayList&lt;&gt;();  \n    public List&lt;Student&gt; findAll() {  \n        return STUDENTS;  \n    }  \n  \n    public Student saveStudent(Student student) {  \n        STUDENTS.add(student);  \n        return student;  \n    }  \n  \n    public Student findByEmail(String email) {  \n        return STUDENTS.stream()  \n                .filter(e -&gt; e.getEmail().equals(email))  \n                .findFirst()  \n                .orElse(null);  \n    }  \n  \n    public Student updateStudent(Student student) {  \n        var studentIndex = IntStream.range(0, STUDENTS.size())  \n                .filter(i -&gt; STUDENTS.get(i).getEmail().equals(student.getEmail()))  \n                .findFirst()  \n                .orElse(-1);  \n        if (studentIndex &gt; -1) {  \n            STUDENTS.set(studentIndex, student);  \n            return student;  \n        }  \n        return null;  \n    }  \n  \n    public void deleteStudent(String email) {  \n        var student = findByEmail(email);  \n        if (student != null) STUDENTS.remove(student);  \n    }  \n}\n</code></pre>\n<h3>Used:</h3>\n<ul>\n<li>Lombok</li>\n<li>Spring Boot Starter Web</li>\n<li>Spring Boot Starter Test</li>\n</ul>\n<h3>:</h3>\n<p>When POST Request: localhost:8080/api/v1/students/save_student\nThis json is written:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;firstName&quot;:&quot;abc&quot;,\n&quot;lastName&quot;:&quot;def&quot;,\n&quot;age&quot;:&quot;99&quot;,\n&quot;dataOfBirth&quot;:&quot;1000-10-10&quot;,\n&quot;email&quot;:&quot;abs@def.com&quot;\n}\n</code></pre>\n<p>After this request the response is output as the same json but everywhere is null, why?</p>\n<pre><code>{\n&quot;firstName&quot;:null,\n&quot;lastName&quot;:null,\n&quot;age&quot;:null,\n&quot;dataOfBirth&quot;:null,\n&quot;email&quot;:null\n}\n</code></pre>\n"},{"tags":["java","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"down_vote_count":1,"up_vote_count":345,"is_accepted":true,"score":344,"last_activity_date":1701623225,"creation_date":1288093960,"answer_id":4023351,"question_id":4023185,"body_markdown":"Check out the use of the supressionCommentFilter at https://checkstyle.sourceforge.io/filters/suppressioncommentfilter.html.  You&#39;ll need to add the module to your checkstyle.xml\r\n\r\n    &lt;module name=&quot;SuppressionCommentFilter&quot;/&gt;\r\n\r\nand it&#39;s configurable.  Thus you can add comments to your code to turn off checkstyle (at various levels) and then back on again through the use of comments in your code.  E.g.\r\n\r\n    //CHECKSTYLE:OFF\r\n    public void someMethod(String arg1, String arg2, String arg3, String arg4) {\r\n    //CHECKSTYLE:ON\r\n\r\nOr even better, use this more tweaked version:\r\n    \r\n   \t&lt;module name=&quot;SuppressionCommentFilter&quot;&gt;\r\n        &lt;property name=&quot;offCommentFormat&quot; value=&quot;CHECKSTYLE.OFF\\: ([\\w\\|]+)&quot;/&gt;\r\n        &lt;property name=&quot;onCommentFormat&quot; value=&quot;CHECKSTYLE.ON\\: ([\\w\\|]+)&quot;/&gt;\r\n        &lt;property name=&quot;checkFormat&quot; value=&quot;$1&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\nwhich allows you to turn off specific checks for specific lines of code:\r\n\r\n    //CHECKSTYLE.OFF: IllegalCatch - Much more readable than catching 7 exceptions\r\n    catch (Exception e)\r\n    //CHECKSTYLE.ON: IllegalCatch\r\n\r\n*Note: you&#39;ll also have to add the `FileContentsHolder`:\r\n\r\n    &lt;module name=&quot;FileContentsHolder&quot;/&gt;\r\n\r\nSee also\r\n\r\n    &lt;module name=&quot;SuppressionFilter&quot;&gt;\r\n        &lt;property name=&quot;file&quot; value=&quot;docs/suppressions.xml&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\nunder the `SuppressionFilter` section on that same page, which allows you to turn off individual checks for pattern matched resources.\r\n\r\nSo, if you have in your checkstyle.xml:\r\n   \r\n    &lt;module name=&quot;ParameterNumber&quot;&gt;\r\n       &lt;property name=&quot;id&quot; value=&quot;maxParameterNumber&quot;/&gt;\r\n       &lt;property name=&quot;max&quot; value=&quot;3&quot;/&gt;\r\n       &lt;property name=&quot;tokens&quot; value=&quot;METHOD_DEF&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\nYou can turn it off in your suppression xml file with:\r\n\r\n    &lt;suppress id=&quot;maxParameterNumber&quot; files=&quot;YourCode.java&quot;/&gt;\r\n\r\nAnother method, now available in Checkstyle 5.7 is to suppress violations via the `@SuppressWarnings` java annotation.  To do this, you will need to add two new modules (`SuppressWarningsFilter` and `SuppressWarningsHolder`) in your configuration file:\r\n\r\n    &lt;module name=&quot;Checker&quot;&gt;\r\n       ...\r\n       &lt;module name=&quot;SuppressWarningsFilter&quot; /&gt;\r\n       &lt;module name=&quot;TreeWalker&quot;&gt;\r\n           ...\r\n           &lt;module name=&quot;SuppressWarningsHolder&quot; /&gt;\r\n       &lt;/module&gt;\r\n    &lt;/module&gt; \r\n\r\nThen, within your code you can do the following:\r\n\r\n    @SuppressWarnings(&quot;checkstyle:methodlength&quot;)\r\n    public void someLongMethod() throws Exception {\r\n\r\nor, for multiple suppressions:\r\n\r\n    @SuppressWarnings({&quot;checkstyle:executablestatementcount&quot;, &quot;checkstyle:methodlength&quot;})\r\n\tpublic void someLongMethod() throws Exception {\r\n\r\n**NB:** The &quot;`checkstyle:`&quot; prefix is optional (but recommended). According to the docs the parameter name have to be in all lowercase, but practice indicates any case works.","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<p>Check out the use of the supressionCommentFilter at <a href=\"https://checkstyle.sourceforge.io/filters/suppressioncommentfilter.html\" rel=\"nofollow noreferrer\">https://checkstyle.sourceforge.io/filters/suppressioncommentfilter.html</a>.  You'll need to add the module to your checkstyle.xml</p>\n<pre><code>&lt;module name=&quot;SuppressionCommentFilter&quot;/&gt;\n</code></pre>\n<p>and it's configurable.  Thus you can add comments to your code to turn off checkstyle (at various levels) and then back on again through the use of comments in your code.  E.g.</p>\n<pre><code>//CHECKSTYLE:OFF\npublic void someMethod(String arg1, String arg2, String arg3, String arg4) {\n//CHECKSTYLE:ON\n</code></pre>\n<p>Or even better, use this more tweaked version:</p>\n<pre><code>&lt;module name=&quot;SuppressionCommentFilter&quot;&gt;\n    &lt;property name=&quot;offCommentFormat&quot; value=&quot;CHECKSTYLE.OFF\\: ([\\w\\|]+)&quot;/&gt;\n    &lt;property name=&quot;onCommentFormat&quot; value=&quot;CHECKSTYLE.ON\\: ([\\w\\|]+)&quot;/&gt;\n    &lt;property name=&quot;checkFormat&quot; value=&quot;$1&quot;/&gt;\n&lt;/module&gt;\n</code></pre>\n<p>which allows you to turn off specific checks for specific lines of code:</p>\n<pre><code>//CHECKSTYLE.OFF: IllegalCatch - Much more readable than catching 7 exceptions\ncatch (Exception e)\n//CHECKSTYLE.ON: IllegalCatch\n</code></pre>\n<p>*Note: you'll also have to add the <code>FileContentsHolder</code>:</p>\n<pre><code>&lt;module name=&quot;FileContentsHolder&quot;/&gt;\n</code></pre>\n<p>See also</p>\n<pre><code>&lt;module name=&quot;SuppressionFilter&quot;&gt;\n    &lt;property name=&quot;file&quot; value=&quot;docs/suppressions.xml&quot;/&gt;\n&lt;/module&gt;\n</code></pre>\n<p>under the <code>SuppressionFilter</code> section on that same page, which allows you to turn off individual checks for pattern matched resources.</p>\n<p>So, if you have in your checkstyle.xml:</p>\n<pre><code>&lt;module name=&quot;ParameterNumber&quot;&gt;\n   &lt;property name=&quot;id&quot; value=&quot;maxParameterNumber&quot;/&gt;\n   &lt;property name=&quot;max&quot; value=&quot;3&quot;/&gt;\n   &lt;property name=&quot;tokens&quot; value=&quot;METHOD_DEF&quot;/&gt;\n&lt;/module&gt;\n</code></pre>\n<p>You can turn it off in your suppression xml file with:</p>\n<pre><code>&lt;suppress id=&quot;maxParameterNumber&quot; files=&quot;YourCode.java&quot;/&gt;\n</code></pre>\n<p>Another method, now available in Checkstyle 5.7 is to suppress violations via the <code>@SuppressWarnings</code> java annotation.  To do this, you will need to add two new modules (<code>SuppressWarningsFilter</code> and <code>SuppressWarningsHolder</code>) in your configuration file:</p>\n<pre><code>&lt;module name=&quot;Checker&quot;&gt;\n   ...\n   &lt;module name=&quot;SuppressWarningsFilter&quot; /&gt;\n   &lt;module name=&quot;TreeWalker&quot;&gt;\n       ...\n       &lt;module name=&quot;SuppressWarningsHolder&quot; /&gt;\n   &lt;/module&gt;\n&lt;/module&gt; \n</code></pre>\n<p>Then, within your code you can do the following:</p>\n<pre><code>@SuppressWarnings(&quot;checkstyle:methodlength&quot;)\npublic void someLongMethod() throws Exception {\n</code></pre>\n<p>or, for multiple suppressions:</p>\n<pre><code>@SuppressWarnings({&quot;checkstyle:executablestatementcount&quot;, &quot;checkstyle:methodlength&quot;})\npublic void someLongMethod() throws Exception {\n</code></pre>\n<p><strong>NB:</strong> The &quot;<code>checkstyle:</code>&quot; prefix is optional (but recommended). According to the docs the parameter name have to be in all lowercase, but practice indicates any case works.</p>\n"},{"tags":[],"owner":{"account_id":209914,"reputation":12741,"user_id":461237,"display_name":"Akos Cz"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1355306223,"creation_date":1329515463,"answer_id":9335945,"question_id":4023185,"body_markdown":"What also works well is the [SuppressWithNearbyCommentFilter][1] which uses individual comments to suppress audit events.\r\n\r\nFor example\r\n\r\n    // CHECKSTYLE IGNORE check FOR NEXT 1 LINES\r\n    public void onClick(View view) { ... }\r\n\r\n\r\nTo configure a filter so that CHECKSTYLE IGNORE check FOR NEXT var LINES avoids triggering any audits for the given check for the current line and the next var lines (for a total of var+1 lines):\r\n\r\n    &lt;module name=&quot;SuppressWithNearbyCommentFilter&quot;&gt;\r\n        &lt;property name=&quot;commentFormat&quot; value=&quot;CHECKSTYLE IGNORE (\\w+) FOR NEXT (\\d+) LINES&quot;/&gt;\r\n        &lt;property name=&quot;checkFormat&quot; value=&quot;$1&quot;/&gt;\r\n        &lt;property name=&quot;influenceFormat&quot; value=&quot;$2&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\n[http://checkstyle.sourceforge.net/config.html][2]\r\n      \r\n\r\n\r\n  [1]: http://checkstyle.sourceforge.net/config.html\r\n  [2]: http://checkstyle.sourceforge.net/config.html","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<p>What also works well is the <a href=\"http://checkstyle.sourceforge.net/config.html\" rel=\"noreferrer\">SuppressWithNearbyCommentFilter</a> which uses individual comments to suppress audit events.</p>\n\n<p>For example</p>\n\n<pre><code>// CHECKSTYLE IGNORE check FOR NEXT 1 LINES\npublic void onClick(View view) { ... }\n</code></pre>\n\n<p>To configure a filter so that CHECKSTYLE IGNORE check FOR NEXT var LINES avoids triggering any audits for the given check for the current line and the next var lines (for a total of var+1 lines):</p>\n\n<pre><code>&lt;module name=\"SuppressWithNearbyCommentFilter\"&gt;\n    &lt;property name=\"commentFormat\" value=\"CHECKSTYLE IGNORE (\\w+) FOR NEXT (\\d+) LINES\"/&gt;\n    &lt;property name=\"checkFormat\" value=\"$1\"/&gt;\n    &lt;property name=\"influenceFormat\" value=\"$2\"/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p><a href=\"http://checkstyle.sourceforge.net/config.html\" rel=\"noreferrer\">http://checkstyle.sourceforge.net/config.html</a></p>\n"},{"tags":[],"owner":{"account_id":4224,"reputation":9954,"user_id":6278,"accept_rate":67,"display_name":"Henrik Heimbuerger"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1521574002,"creation_date":1395398183,"answer_id":22556386,"question_id":4023185,"body_markdown":"If you prefer to use annotations to selectively silence rules, this is now possible using the `@SuppressWarnings` annotation, starting with Checkstyle 5.7 (and supported by the Checkstyle Maven Plugin 2.12+).\r\n\r\nFirst, in your `checkstyle.xml`, add the `SuppressWarningsHolder` module to the `TreeWalker`:\r\n\r\n    &lt;module name=&quot;TreeWalker&quot;&gt;\r\n        &lt;!-- Make the @SuppressWarnings annotations available to Checkstyle --&gt;\r\n        &lt;module name=&quot;SuppressWarningsHolder&quot; /&gt;\r\n    &lt;/module&gt;\r\n\r\nNext, enable the `SuppressWarningsFilter` there (as a sibling to `TreeWalker`):\r\n\r\n    &lt;!-- Filter out Checkstyle warnings that have been suppressed with the @SuppressWarnings annotation --&gt;\r\n    &lt;module name=&quot;SuppressWarningsFilter&quot; /&gt;\r\n    \r\n    &lt;module name=&quot;TreeWalker&quot;&gt;\r\n    ...\r\n\r\nNow you can annotate e.g. the method you want to exclude from a certain Checkstyle rule:\r\n\r\n    @SuppressWarnings(&quot;checkstyle:methodlength&quot;)\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        // very long auto-generated equals() method\r\n    }\r\n\r\nThe `checkstyle:` prefix in the argument to `@SuppressWarnings` is optional, but I like it as a reminder where this warning came from. The rule name must be lowercase.\r\n\r\nLastly, if you&#39;re using Eclipse, it will complain about the argument being unknown to it:\r\n\r\n&gt; Unsupported @SuppressWarnings(&quot;checkstyle:methodlength&quot;)\r\n\r\nYou can disable this Eclipse warning in the preferences if you like:\r\n\r\n    Preferences:\r\n      Java\r\n      --&gt; Compiler\r\n      --&gt; Errors/Warnings\r\n      --&gt; Annotations\r\n      --&gt; Unhandled token in &#39;@SuppressWarnings&#39;: set to &#39;Ignore&#39;\r\n","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<p>If you prefer to use annotations to selectively silence rules, this is now possible using the <code>@SuppressWarnings</code> annotation, starting with Checkstyle 5.7 (and supported by the Checkstyle Maven Plugin 2.12+).</p>\n\n<p>First, in your <code>checkstyle.xml</code>, add the <code>SuppressWarningsHolder</code> module to the <code>TreeWalker</code>:</p>\n\n<pre><code>&lt;module name=\"TreeWalker\"&gt;\n    &lt;!-- Make the @SuppressWarnings annotations available to Checkstyle --&gt;\n    &lt;module name=\"SuppressWarningsHolder\" /&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>Next, enable the <code>SuppressWarningsFilter</code> there (as a sibling to <code>TreeWalker</code>):</p>\n\n<pre><code>&lt;!-- Filter out Checkstyle warnings that have been suppressed with the @SuppressWarnings annotation --&gt;\n&lt;module name=\"SuppressWarningsFilter\" /&gt;\n\n&lt;module name=\"TreeWalker\"&gt;\n...\n</code></pre>\n\n<p>Now you can annotate e.g. the method you want to exclude from a certain Checkstyle rule:</p>\n\n<pre><code>@SuppressWarnings(\"checkstyle:methodlength\")\n@Override\npublic boolean equals(Object obj) {\n    // very long auto-generated equals() method\n}\n</code></pre>\n\n<p>The <code>checkstyle:</code> prefix in the argument to <code>@SuppressWarnings</code> is optional, but I like it as a reminder where this warning came from. The rule name must be lowercase.</p>\n\n<p>Lastly, if you're using Eclipse, it will complain about the argument being unknown to it:</p>\n\n<blockquote>\n  <p>Unsupported @SuppressWarnings(\"checkstyle:methodlength\")</p>\n</blockquote>\n\n<p>You can disable this Eclipse warning in the preferences if you like:</p>\n\n<pre><code>Preferences:\n  Java\n  --&gt; Compiler\n  --&gt; Errors/Warnings\n  --&gt; Annotations\n  --&gt; Unhandled token in '@SuppressWarnings': set to 'Ignore'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242159,"reputation":576,"user_id":513490,"display_name":"Joao Baltazar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1461327727,"creation_date":1461327727,"answer_id":36793749,"question_id":4023185,"body_markdown":"Every answer refering to [SuppressWarningsFilter][1] is missing an important detail. You can only use the all-lowercase id if it&#39;s defined as such in your checkstyle-config.xml. If not you must use the original module name. \r\n\r\nFor instance, if in my checkstyle-config.xml I have:\r\n\r\n    &lt;module name=&quot;NoWhitespaceBefore&quot;/&gt;\r\n\r\nI cannot use:\r\n\r\n    @SuppressWarnings({&quot;nowhitespacebefore&quot;})\r\nI must, however, use:\r\n\r\n    @SuppressWarnings({&quot;NoWhitespaceBefore&quot;})\r\n\r\nIn order for the first syntax to work, the checkstyle-config.xml should have:\r\n\r\n    &lt;module name=&quot;NoWhitespaceBefore&quot;&gt;\r\n      &lt;property name=&quot;id&quot; value=&quot;nowhitespacebefore&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\nThis is what worked for me, at least in the CheckStyle version 6.17.\r\n\r\n  [1]: http://checkstyle.sourceforge.net/config_filters.html#SuppressWarningsFilter","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<p>Every answer refering to <a href=\"http://checkstyle.sourceforge.net/config_filters.html#SuppressWarningsFilter\" rel=\"noreferrer\">SuppressWarningsFilter</a> is missing an important detail. You can only use the all-lowercase id if it's defined as such in your checkstyle-config.xml. If not you must use the original module name. </p>\n\n<p>For instance, if in my checkstyle-config.xml I have:</p>\n\n<pre><code>&lt;module name=\"NoWhitespaceBefore\"/&gt;\n</code></pre>\n\n<p>I cannot use:</p>\n\n<pre><code>@SuppressWarnings({\"nowhitespacebefore\"})\n</code></pre>\n\n<p>I must, however, use:</p>\n\n<pre><code>@SuppressWarnings({\"NoWhitespaceBefore\"})\n</code></pre>\n\n<p>In order for the first syntax to work, the checkstyle-config.xml should have:</p>\n\n<pre><code>&lt;module name=\"NoWhitespaceBefore\"&gt;\n  &lt;property name=\"id\" value=\"nowhitespacebefore\"/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>This is what worked for me, at least in the CheckStyle version 6.17.</p>\n"},{"tags":[],"owner":{"account_id":2010530,"reputation":2917,"user_id":1799067,"accept_rate":60,"display_name":"Saltymule"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478184156,"creation_date":1478184156,"answer_id":40404441,"question_id":4023185,"body_markdown":"I had difficulty with the answers above, potentially because I set the checkStyle warnings to be errors. What did work was SuppressionFilter: http://checkstyle.sourceforge.net/config_filters.html#SuppressionFilter\r\n\r\nThe drawback of this is that the line range is stored in a separate suppresssions.xml file, so an unfamiliar developer may not immediately make the connection.","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<p>I had difficulty with the answers above, potentially because I set the checkStyle warnings to be errors. What did work was SuppressionFilter: <a href=\"http://checkstyle.sourceforge.net/config_filters.html#SuppressionFilter\" rel=\"nofollow noreferrer\">http://checkstyle.sourceforge.net/config_filters.html#SuppressionFilter</a></p>\n\n<p>The drawback of this is that the line range is stored in a separate suppresssions.xml file, so an unfamiliar developer may not immediately make the connection.</p>\n"},{"tags":[],"owner":{"account_id":7470769,"reputation":1333,"user_id":5678845,"accept_rate":100,"display_name":"Roberto Pegoraro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503067085,"creation_date":1503067085,"answer_id":45759279,"question_id":4023185,"body_markdown":"    &lt;module name=&quot;Checker&quot;&gt;\r\n        &lt;module name=&quot;SuppressionCommentFilter&quot;/&gt;\r\n        &lt;module name=&quot;TreeWalker&quot;&gt;\r\n            &lt;module name=&quot;FileContentsHolder&quot;/&gt;\r\n        &lt;/module&gt;\r\n    &lt;/module&gt;\r\n\r\nTo configure a filter to suppress audit events between a comment containing line BEGIN GENERATED CODE and a comment containing line END GENERATED CODE:\r\n\r\n    &lt;module name=&quot;SuppressionCommentFilter&quot;&gt;\r\n      &lt;property name=&quot;offCommentFormat&quot; value=&quot;BEGIN GENERATED CODE&quot;/&gt;\r\n      &lt;property name=&quot;onCommentFormat&quot; value=&quot;END GENERATED CODE&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\n    //BEGIN GENERATED CODE\r\n    @Override\r\n    public boolean equals(Object obj) { ... } // No violation events will be reported\r\n    \r\n    @Override\r\n    public int hashCode() { ... } // No violation events will be reported\r\n    //END GENERATED CODE\r\n\r\n\r\n[See more][1] \r\n\r\n\r\n  [1]: http://checkstyle.sourceforge.net/config_filters.html#SuppressionCommentFilter","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<pre><code>&lt;module name=\"Checker\"&gt;\n    &lt;module name=\"SuppressionCommentFilter\"/&gt;\n    &lt;module name=\"TreeWalker\"&gt;\n        &lt;module name=\"FileContentsHolder\"/&gt;\n    &lt;/module&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>To configure a filter to suppress audit events between a comment containing line BEGIN GENERATED CODE and a comment containing line END GENERATED CODE:</p>\n\n<pre><code>&lt;module name=\"SuppressionCommentFilter\"&gt;\n  &lt;property name=\"offCommentFormat\" value=\"BEGIN GENERATED CODE\"/&gt;\n  &lt;property name=\"onCommentFormat\" value=\"END GENERATED CODE\"/&gt;\n&lt;/module&gt;\n\n//BEGIN GENERATED CODE\n@Override\npublic boolean equals(Object obj) { ... } // No violation events will be reported\n\n@Override\npublic int hashCode() { ... } // No violation events will be reported\n//END GENERATED CODE\n</code></pre>\n\n<p><a href=\"http://checkstyle.sourceforge.net/config_filters.html#SuppressionCommentFilter\" rel=\"nofollow noreferrer\">See more</a> </p>\n"},{"tags":[],"owner":{"account_id":4865795,"reputation":496,"user_id":3924108,"display_name":"Linus Fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607009741,"creation_date":1574860514,"answer_id":59071093,"question_id":4023185,"body_markdown":"Try \r\nhttps://checkstyle.sourceforge.io/config_filters.html#SuppressionXpathFilter\r\n\r\nYou can configure it as:\r\n\r\n```\r\n\r\n&lt;module name=&quot;SuppressionXpathFilter&quot;&gt;\r\n  &lt;property name=&quot;file&quot; value=&quot;suppressions-xpath.xml&quot;/&gt;\r\n  &lt;property name=&quot;optional&quot; value=&quot;false&quot;/&gt;\r\n&lt;/module&gt;\r\n        \r\n```\r\n\r\nGenerate  Xpath suppressions using the CLI with the -g option and specify the output using the -o switch. \r\n\r\nhttps://checkstyle.sourceforge.io/cmdline.html#Command_line_usage\r\n\r\n\r\n\r\nHere&#39;s an ant snippet that will help you set up your Checkstyle suppressions auto generation; you can integrate it into Maven using the [Antrun plugin](https://maven.apache.org/plugins/maven-antrun-plugin/).\r\n\r\n```\r\n\r\n&lt;target name=&quot;checkstyleg&quot;&gt;\r\n    &lt;move file=&quot;suppressions-xpath.xml&quot;\r\n      tofile=&quot;suppressions-xpath.xml.bak&quot;\r\n      preservelastmodified=&quot;true&quot;\r\n      force=&quot;true&quot;\r\n      failonerror=&quot;false&quot;\r\n      verbose=&quot;true&quot;/&gt;\r\n    &lt;fileset dir=&quot;${basedir}&quot;\r\n\t\t\t\t\tid=&quot;javasrcs&quot;&gt;\r\n\t&lt;include name=&quot;**/*.java&quot; /&gt;\r\n\t&lt;/fileset&gt;\r\n\t&lt;pathconvert property=&quot;sources&quot;\r\n\t\t\t\t\t\t\trefid=&quot;javasrcs&quot;\r\n\t\t\t\t\t\t\tpathsep=&quot; &quot; /&gt;\r\n\t&lt;loadfile property=&quot;cs.cp&quot;\r\n\t\t\t\t\t\tsrcFile=&quot;../${cs.classpath.file}&quot; /&gt;\r\n\t&lt;java classname=&quot;${cs.main.class}&quot;\r\n\t\t\t\tlogError=&quot;true&quot;&gt;\r\n\t&lt;arg line=&quot;-c ../${cs.config} -p ${cs.properties} -o ${ant.project.name}-xpath.xml -g ${sources}&quot; /&gt;\r\n\t&lt;classpath&gt;\r\n\t\t&lt;pathelement path=&quot;${cs.cp}&quot; /&gt;\r\n\t\t&lt;pathelement path=&quot;${java.class.path}&quot; /&gt;\r\n\t&lt;/classpath&gt;\r\n&lt;/java&gt;\r\n&lt;condition property=&quot;file.is.empty&quot; else=&quot;false&quot;&gt;\r\n     &lt;length file=&quot;${ant.project.name}-xpath.xml&quot; when=&quot;equal&quot; length=&quot;0&quot; /&gt;\r\n   &lt;/condition&gt;\r\n   &lt;if&gt;\r\n     &lt;equals arg1=&quot;${file.is.empty}&quot; arg2=&quot;false&quot;/&gt;\r\n     &lt;then&gt;\r\n     &lt;move file=&quot;${ant.project.name}-xpath.xml&quot;\r\n      tofile=&quot;suppressions-xpath.xml&quot;\r\n      preservelastmodified=&quot;true&quot;\r\n      force=&quot;true&quot;\r\n      failonerror=&quot;true&quot;\r\n  verbose=&quot;true&quot;/&gt;\r\n   &lt;/then&gt;\r\n&lt;/if&gt;\r\n\t&lt;/target&gt;\r\n```\r\nThe suppressions-xpath.xml is specified as the Xpath suppressions source in the Checkstyle rules configuration. \r\nIn the snippet above, I&#39;m loading the Checkstyle classpath from a file cs.cp into a property. You can choose to specify the classpath directly. \r\n\r\nOr you could use [groovy within Maven](https://groovy.github.io/GMavenPlus/) ([or Ant](http://docs.groovy-lang.org/docs/latest/html/documentation/groovy-ant-task.html)) to do the same:\r\n\r\n```\r\n\r\nimport java.nio.file.Files\r\nimport java.nio.file.StandardCopyOption  \r\nimport java.nio.file.Paths\r\n\r\ndef backupSuppressions() {\r\n  def supprFileName = \r\n      project.properties[&quot;checkstyle.suppressionsFile&quot;]\r\n  def suppr = Paths.get(supprFileName)\r\n  def target = null\r\n  if (Files.exists(suppr)) {\r\n    def supprBak = Paths.get(supprFileName + &quot;.bak&quot;)\r\n    target = Files.move(suppr, supprBak,\r\n        StandardCopyOption.REPLACE_EXISTING)\r\n    println &quot;Backed up &quot; + supprFileName\r\n  }\r\n  return target\r\n}\r\n\r\ndef renameSuppressions() {\r\n  def supprFileName = \r\n      project.properties[&quot;checkstyle.suppressionsFile&quot;]\r\n  def suppr = Paths.get(project.name + &quot;-xpath.xml&quot;)\r\n  def target = null\r\n  if (Files.exists(suppr)) {\r\n    def supprNew = Paths.get(supprFileName)\r\n    target = Files.move(suppr, supprNew)\r\n    println &quot;Renamed &quot; + suppr + &quot; to &quot; + supprFileName\r\n  }\r\n  return target\r\n}\r\n\r\ndef getClassPath(classLoader, sb) {\r\n  classLoader.getURLs().each {url-&gt;\r\n     sb.append(&quot;${url.getFile().toString()}:&quot;)\r\n  }\r\n  if (classLoader.parent) {\r\n     getClassPath(classLoader.parent, sb)\r\n  }\r\n  return sb.toString()\r\n}\r\n\r\nbackupSuppressions()\r\n\r\ndef cp = getClassPath(this.class.classLoader, \r\n    new StringBuilder())\r\ndef csMainClass = \r\n      project.properties[&quot;cs.main.class&quot;]\r\ndef csRules = \r\n      project.properties[&quot;checkstyle.rules&quot;]\r\ndef csProps = \r\n      project.properties[&quot;checkstyle.properties&quot;]\r\n\r\nString[] args = [&quot;java&quot;, &quot;-cp&quot;, cp,\r\n    csMainClass,\r\n    &quot;-c&quot;, csRules,\r\n&quot;-p&quot;, csProps,\r\n&quot;-o&quot;, project.name + &quot;-xpath.xml&quot;,\r\n&quot;-g&quot;, &quot;src&quot;]\r\n\r\nProcessBuilder pb = new ProcessBuilder(args)\r\npb = pb.inheritIO()\r\nProcess proc = pb.start()\r\nproc.waitFor()\r\n\r\nrenameSuppressions()\r\n\r\n```\r\n\r\n\r\nThe only drawback with using Xpath suppressions---besides the checks it doesn&#39;t support---is if you have code like the following:\r\n\r\n```\r\npackage cstests;\r\n\r\npublic interface TestMagicNumber {\r\n  static byte[] getAsciiRotator() {\r\n    byte[] rotation = new byte[95 * 2];\r\n    for (byte i = &#39; &#39;; i &lt;= &#39;~&#39;; i++) {\r\n      rotation[i - &#39; &#39;] = i;\r\n      rotation[i + 95 - &#39; &#39;] = i;\r\n    }\r\n    return rotation;\r\n  }\r\n}\r\n```\r\nThe Xpath suppression generated in this case is not ingested by Checkstyle and the checker fails with an exception on the generated suppression:\r\n```\r\n&lt;suppress-xpath\r\n       files=&quot;TestMagicNumber.java&quot;\r\n       checks=&quot;MagicNumberCheck&quot;\r\n       query=&quot;/INTERFACE_DEF[./IDENT[@text=&#39;TestMagicNumber&#39;]]/OBJBLOCK/METHOD_DEF[./IDENT[@text=&#39;getAsciiRotator&#39;]]/SLIST/LITERAL_FOR/SLIST/EXPR/ASSIGN[./IDENT[@text=&#39;i&#39;]]/INDEX_OP[./IDENT[@text=&#39;rotation&#39;]]/EXPR/MINUS[./CHAR_LITERAL[@text=&#39;&#39; &#39;&#39;]]/PLUS[./IDENT[@text=&#39;i&#39;]]/NUM_INT[@text=&#39;95&#39;]&quot;/&gt;\r\n\r\n```\r\n\r\nGenerating Xpath suppressions is recommended when you have fixed all other violations and wish to suppress the rest. It will not allow you to select specific instances in the code to suppress. You can , however, pick and choose suppressions from the generated file to do just that.\r\n\r\nSuppressionXpathSingleFilter is better suited to identify and suppress a specific rule, file or error message. You can configure multiple filters identifying each one by the id attribute.\r\n\r\nhttps://checkstyle.sourceforge.io/config_filters.html#SuppressionXpathSingleFilter\r\n\r\n","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<p>Try\n<a href=\"https://checkstyle.sourceforge.io/config_filters.html#SuppressionXpathFilter\" rel=\"nofollow noreferrer\">https://checkstyle.sourceforge.io/config_filters.html#SuppressionXpathFilter</a></p>\n<p>You can configure it as:</p>\n<pre><code>\n&lt;module name=&quot;SuppressionXpathFilter&quot;&gt;\n  &lt;property name=&quot;file&quot; value=&quot;suppressions-xpath.xml&quot;/&gt;\n  &lt;property name=&quot;optional&quot; value=&quot;false&quot;/&gt;\n&lt;/module&gt;\n        \n</code></pre>\n<p>Generate  Xpath suppressions using the CLI with the -g option and specify the output using the -o switch.</p>\n<p><a href=\"https://checkstyle.sourceforge.io/cmdline.html#Command_line_usage\" rel=\"nofollow noreferrer\">https://checkstyle.sourceforge.io/cmdline.html#Command_line_usage</a></p>\n<p>Here's an ant snippet that will help you set up your Checkstyle suppressions auto generation; you can integrate it into Maven using the <a href=\"https://maven.apache.org/plugins/maven-antrun-plugin/\" rel=\"nofollow noreferrer\">Antrun plugin</a>.</p>\n<pre><code>\n&lt;target name=&quot;checkstyleg&quot;&gt;\n    &lt;move file=&quot;suppressions-xpath.xml&quot;\n      tofile=&quot;suppressions-xpath.xml.bak&quot;\n      preservelastmodified=&quot;true&quot;\n      force=&quot;true&quot;\n      failonerror=&quot;false&quot;\n      verbose=&quot;true&quot;/&gt;\n    &lt;fileset dir=&quot;${basedir}&quot;\n                    id=&quot;javasrcs&quot;&gt;\n    &lt;include name=&quot;**/*.java&quot; /&gt;\n    &lt;/fileset&gt;\n    &lt;pathconvert property=&quot;sources&quot;\n                            refid=&quot;javasrcs&quot;\n                            pathsep=&quot; &quot; /&gt;\n    &lt;loadfile property=&quot;cs.cp&quot;\n                        srcFile=&quot;../${cs.classpath.file}&quot; /&gt;\n    &lt;java classname=&quot;${cs.main.class}&quot;\n                logError=&quot;true&quot;&gt;\n    &lt;arg line=&quot;-c ../${cs.config} -p ${cs.properties} -o ${ant.project.name}-xpath.xml -g ${sources}&quot; /&gt;\n    &lt;classpath&gt;\n        &lt;pathelement path=&quot;${cs.cp}&quot; /&gt;\n        &lt;pathelement path=&quot;${java.class.path}&quot; /&gt;\n    &lt;/classpath&gt;\n&lt;/java&gt;\n&lt;condition property=&quot;file.is.empty&quot; else=&quot;false&quot;&gt;\n     &lt;length file=&quot;${ant.project.name}-xpath.xml&quot; when=&quot;equal&quot; length=&quot;0&quot; /&gt;\n   &lt;/condition&gt;\n   &lt;if&gt;\n     &lt;equals arg1=&quot;${file.is.empty}&quot; arg2=&quot;false&quot;/&gt;\n     &lt;then&gt;\n     &lt;move file=&quot;${ant.project.name}-xpath.xml&quot;\n      tofile=&quot;suppressions-xpath.xml&quot;\n      preservelastmodified=&quot;true&quot;\n      force=&quot;true&quot;\n      failonerror=&quot;true&quot;\n  verbose=&quot;true&quot;/&gt;\n   &lt;/then&gt;\n&lt;/if&gt;\n    &lt;/target&gt;\n</code></pre>\n<p>The suppressions-xpath.xml is specified as the Xpath suppressions source in the Checkstyle rules configuration.\nIn the snippet above, I'm loading the Checkstyle classpath from a file cs.cp into a property. You can choose to specify the classpath directly.</p>\n<p>Or you could use <a href=\"https://groovy.github.io/GMavenPlus/\" rel=\"nofollow noreferrer\">groovy within Maven</a> (<a href=\"http://docs.groovy-lang.org/docs/latest/html/documentation/groovy-ant-task.html\" rel=\"nofollow noreferrer\">or Ant</a>) to do the same:</p>\n<pre><code>\nimport java.nio.file.Files\nimport java.nio.file.StandardCopyOption  \nimport java.nio.file.Paths\n\ndef backupSuppressions() {\n  def supprFileName = \n      project.properties[&quot;checkstyle.suppressionsFile&quot;]\n  def suppr = Paths.get(supprFileName)\n  def target = null\n  if (Files.exists(suppr)) {\n    def supprBak = Paths.get(supprFileName + &quot;.bak&quot;)\n    target = Files.move(suppr, supprBak,\n        StandardCopyOption.REPLACE_EXISTING)\n    println &quot;Backed up &quot; + supprFileName\n  }\n  return target\n}\n\ndef renameSuppressions() {\n  def supprFileName = \n      project.properties[&quot;checkstyle.suppressionsFile&quot;]\n  def suppr = Paths.get(project.name + &quot;-xpath.xml&quot;)\n  def target = null\n  if (Files.exists(suppr)) {\n    def supprNew = Paths.get(supprFileName)\n    target = Files.move(suppr, supprNew)\n    println &quot;Renamed &quot; + suppr + &quot; to &quot; + supprFileName\n  }\n  return target\n}\n\ndef getClassPath(classLoader, sb) {\n  classLoader.getURLs().each {url-&gt;\n     sb.append(&quot;${url.getFile().toString()}:&quot;)\n  }\n  if (classLoader.parent) {\n     getClassPath(classLoader.parent, sb)\n  }\n  return sb.toString()\n}\n\nbackupSuppressions()\n\ndef cp = getClassPath(this.class.classLoader, \n    new StringBuilder())\ndef csMainClass = \n      project.properties[&quot;cs.main.class&quot;]\ndef csRules = \n      project.properties[&quot;checkstyle.rules&quot;]\ndef csProps = \n      project.properties[&quot;checkstyle.properties&quot;]\n\nString[] args = [&quot;java&quot;, &quot;-cp&quot;, cp,\n    csMainClass,\n    &quot;-c&quot;, csRules,\n&quot;-p&quot;, csProps,\n&quot;-o&quot;, project.name + &quot;-xpath.xml&quot;,\n&quot;-g&quot;, &quot;src&quot;]\n\nProcessBuilder pb = new ProcessBuilder(args)\npb = pb.inheritIO()\nProcess proc = pb.start()\nproc.waitFor()\n\nrenameSuppressions()\n\n</code></pre>\n<p>The only drawback with using Xpath suppressions---besides the checks it doesn't support---is if you have code like the following:</p>\n<pre><code>package cstests;\n\npublic interface TestMagicNumber {\n  static byte[] getAsciiRotator() {\n    byte[] rotation = new byte[95 * 2];\n    for (byte i = ' '; i &lt;= '~'; i++) {\n      rotation[i - ' '] = i;\n      rotation[i + 95 - ' '] = i;\n    }\n    return rotation;\n  }\n}\n</code></pre>\n<p>The Xpath suppression generated in this case is not ingested by Checkstyle and the checker fails with an exception on the generated suppression:</p>\n<pre><code>&lt;suppress-xpath\n       files=&quot;TestMagicNumber.java&quot;\n       checks=&quot;MagicNumberCheck&quot;\n       query=&quot;/INTERFACE_DEF[./IDENT[@text='TestMagicNumber']]/OBJBLOCK/METHOD_DEF[./IDENT[@text='getAsciiRotator']]/SLIST/LITERAL_FOR/SLIST/EXPR/ASSIGN[./IDENT[@text='i']]/INDEX_OP[./IDENT[@text='rotation']]/EXPR/MINUS[./CHAR_LITERAL[@text='' '']]/PLUS[./IDENT[@text='i']]/NUM_INT[@text='95']&quot;/&gt;\n\n</code></pre>\n<p>Generating Xpath suppressions is recommended when you have fixed all other violations and wish to suppress the rest. It will not allow you to select specific instances in the code to suppress. You can , however, pick and choose suppressions from the generated file to do just that.</p>\n<p>SuppressionXpathSingleFilter is better suited to identify and suppress a specific rule, file or error message. You can configure multiple filters identifying each one by the id attribute.</p>\n<p><a href=\"https://checkstyle.sourceforge.io/config_filters.html#SuppressionXpathSingleFilter\" rel=\"nofollow noreferrer\">https://checkstyle.sourceforge.io/config_filters.html#SuppressionXpathSingleFilter</a></p>\n"},{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611867672,"creation_date":1611867672,"answer_id":65945184,"question_id":4023185,"body_markdown":"In case if you are using checkstyle from `qulice` mvn plugin (https://github.com/teamed/qulice) you may use the following suppresion:\r\n```java\r\n// @checkstyle &lt;Rulename&gt; (N lines)\r\n... code with violation(s)\r\n````\r\nor \r\n```java\r\n\r\n/**\r\n * ...\r\n * @checkstyle &lt;Rulename&gt; (N lines)\r\n * ...\r\n */\r\n ... code with violation(s)\r\n```","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<p>In case if you are using checkstyle from <code>qulice</code> mvn plugin (<a href=\"https://github.com/teamed/qulice\" rel=\"nofollow noreferrer\">https://github.com/teamed/qulice</a>) you may use the following suppresion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// @checkstyle &lt;Rulename&gt; (N lines)\n... code with violation(s)\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n/**\n * ...\n * @checkstyle &lt;Rulename&gt; (N lines)\n * ...\n */\n ... code with violation(s)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1879830,"reputation":2077,"user_id":1737624,"accept_rate":53,"display_name":"Minas Mina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629095498,"creation_date":1629095498,"answer_id":68798296,"question_id":4023185,"body_markdown":"You can also surround the code for which you want to disable a particular warning with these special comments:\r\n\r\n```\r\n// CHECKSTYLE:DISABLE:&lt;CheckName&gt;\r\n&lt;Your code goes here&gt;\r\n// CHECKSTYLE:ENABLE:&lt;CheckName&gt;\r\n```\r\ne.g: `// CHECKSTYLE:DISABLE:ParameterNumberCheck`\r\n\r\nYou can find the full list of supported checks [here](https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/api/AbstractCheck.html) (see _Direct Known Subclasses_).","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<p>You can also surround the code for which you want to disable a particular warning with these special comments:</p>\n<pre><code>// CHECKSTYLE:DISABLE:&lt;CheckName&gt;\n&lt;Your code goes here&gt;\n// CHECKSTYLE:ENABLE:&lt;CheckName&gt;\n</code></pre>\n<p>e.g: <code>// CHECKSTYLE:DISABLE:ParameterNumberCheck</code></p>\n<p>You can find the full list of supported checks <a href=\"https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/api/AbstractCheck.html\" rel=\"nofollow noreferrer\">here</a> (see <em>Direct Known Subclasses</em>).</p>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267404,"favorite_count":0,"down_vote_count":0,"up_vote_count":224,"accepted_answer_id":4023351,"answer_count":9,"score":224,"last_activity_date":1701623225,"creation_date":1288092759,"question_id":4023185,"body_markdown":"I have a [Checkstyle](http://checkstyle.sourceforge.net) validation rule configured in my project, that prohibits to define class methods with more than 3 input parameters. The rule works fine for _my_ classes, but sometimes I have to extend third-party classes, which do not obey this particular rule.\r\n\r\nIs there a possibility to instruct Checkstyle that a certain method should be silently ignored?\r\n\r\nBTW, I ended up with my own wrapper of Checkstyle: [qulice.com](http://www.qulice.com) (see [Strict Control of Java Code Quality](http://www.yegor256.com/2014/08/13/strict-code-quality-control.html))","title":"Disable a particular Checkstyle rule for a particular line of code?","body":"<p>I have a <a href=\"http://checkstyle.sourceforge.net\" rel=\"noreferrer\">Checkstyle</a> validation rule configured in my project, that prohibits to define class methods with more than 3 input parameters. The rule works fine for <em>my</em> classes, but sometimes I have to extend third-party classes, which do not obey this particular rule.</p>\n<p>Is there a possibility to instruct Checkstyle that a certain method should be silently ignored?</p>\n<p>BTW, I ended up with my own wrapper of Checkstyle: <a href=\"http://www.qulice.com\" rel=\"noreferrer\">qulice.com</a> (see <a href=\"http://www.yegor256.com/2014/08/13/strict-code-quality-control.html\" rel=\"noreferrer\">Strict Control of Java Code Quality</a>)</p>\n"},{"tags":["java","eclipse","code-snippets"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":2,"creation_date":1375484614,"post_id":18027355,"comment_id":26368419,"body_markdown":"type `sysout` and hit `ctrl + space` and it will become `System.out.println();`. This will only work in places were it&#39;s legal to write `System.out.println();`, so it won&#39;t work directly in the class body, you have to be in a method, constructor or (static) initializer block.","body":"type <code>sysout</code> and hit <code>ctrl + space</code> and it will become <code>System.out.println();</code>. This will only work in places were it&#39;s legal to write <code>System.out.println();</code>, so it won&#39;t work directly in the class body, you have to be in a method, constructor or (static) initializer block."},{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1375484686,"post_id":18027355,"comment_id":26368439,"body_markdown":"Are you in the Java perspective? Keyboard shortcuts sometimes change if you&#39;re in another perspective. Are you editing a Java source file?","body":"Are you in the Java perspective? Keyboard shortcuts sometimes change if you&#39;re in another perspective. Are you editing a Java source file?"},{"owner":{"account_id":2448376,"reputation":1387,"user_id":2135191,"accept_rate":43,"display_name":"Rollyng"},"score":0,"creation_date":1375484687,"post_id":18027355,"comment_id":26368440,"body_markdown":"I think is **syso** and then **ctrl + space**","body":"I think is <b>syso</b> and then <b>ctrl + space</b>"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1375484754,"post_id":18027355,"comment_id":26368467,"body_markdown":"@Rollyng: `syso` and `sysout` both work.","body":"@Rollyng: <code>syso</code> and <code>sysout</code> both work."},{"owner":{"account_id":2939526,"reputation":1017,"user_id":2517746,"accept_rate":59,"display_name":"Zoe"},"score":0,"creation_date":1375552848,"post_id":18027355,"comment_id":26383307,"body_markdown":"I&#39;m in eclipse modifying a java file. I used it in a method. But whenever I hit ctrl + space, it change to a different input method (eg. Chinese)","body":"I&#39;m in eclipse modifying a java file. I used it in a method. But whenever I hit ctrl + space, it change to a different input method (eg. Chinese)"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":2,"creation_date":1402277175,"post_id":18027355,"comment_id":37198068,"body_markdown":"If you accidentally try to put a print statement ouside of a method or code block  using sysout + ctrl + space, then you obviously won&#39;t be able to use sysout and you will see this message : Sysout - method stub.","body":"If you accidentally try to put a print statement ouside of a method or code block  using sysout + ctrl + space, then you obviously won&#39;t be able to use sysout and you will see this message : Sysout - method stub."}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1375485258,"creation_date":1375484682,"answer_id":18027415,"question_id":18027355,"body_markdown":"You _have to_ press &lt;kbd&gt;Ctrl + Space&lt;/kbd&gt; for the `sysout` (or equivalently: `syso`) shortcut to work in Eclipse, as `sysout` is not part of Java in anyway, on the contrary: it&#39;s an abbreviation introduced in Eclipse that only works after you press &lt;kbd&gt;Ctrl + Space&lt;/kbd&gt; and expands to `System.out.println()`.\r\n\r\nBy the way, `syserr` (or equivalently: `syse`) will expand to `System.err.println()` after pressing &lt;kbd&gt;Ctrl + Space&lt;/kbd&gt;.","title":"Why sysout won&#39;t work?","body":"<p>You <em>have to</em> press <kbd>Ctrl + Space</kbd> for the <code>sysout</code> (or equivalently: <code>syso</code>) shortcut to work in Eclipse, as <code>sysout</code> is not part of Java in anyway, on the contrary: it's an abbreviation introduced in Eclipse that only works after you press <kbd>Ctrl + Space</kbd> and expands to <code>System.out.println()</code>.</p>\n\n<p>By the way, <code>syserr</code> (or equivalently: <code>syse</code>) will expand to <code>System.err.println()</code> after pressing <kbd>Ctrl + Space</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":1180136,"reputation":971,"user_id":1155228,"accept_rate":93,"display_name":"q99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375484799,"creation_date":1375484799,"answer_id":18027438,"question_id":18027355,"body_markdown":"https://stackoverflow.com/questions/461743/is-there-anyway-to-modify-the-keyboard-shortcuts-in-eclipse here you can find out how to make a custom shortcut `Window -&gt; Preferences -&gt; General -&gt; Keys`\r\n\r\nedit: here is a video tutorial http://eclipseone.wordpress.com/2010/02/03/how-to-manage-keyboard-shortcuts-in-eclipse/","title":"Why sysout won&#39;t work?","body":"<p><a href=\"https://stackoverflow.com/questions/461743/is-there-anyway-to-modify-the-keyboard-shortcuts-in-eclipse\">Is there anyway to modify the keyboard shortcuts in eclipse?</a> here you can find out how to make a custom shortcut <code>Window -&gt; Preferences -&gt; General -&gt; Keys</code></p>\n\n<p>edit: here is a video tutorial <a href=\"http://eclipseone.wordpress.com/2010/02/03/how-to-manage-keyboard-shortcuts-in-eclipse/\" rel=\"nofollow noreferrer\">http://eclipseone.wordpress.com/2010/02/03/how-to-manage-keyboard-shortcuts-in-eclipse/</a></p>\n"},{"tags":[],"owner":{"account_id":4731295,"reputation":225,"user_id":3826847,"accept_rate":75,"display_name":"D15"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1405019416,"creation_date":1405019416,"answer_id":24684466,"question_id":18027355,"body_markdown":"    Eclipse Shortcuts:\r\n    \r\n    Syso + Control + Space: \tPuts System.out.println()\r\n    Alt + Shift + R: \t\t    Rename\r\n    Control + F11: \t\t\t    Run\r\n    ALT + Up/Down: \t\t\t    move the current line (or lines selected) in the editor up or down \r\n    Control + Shift + O: \t    Import\r\n    Control + I: \t\t\t    Indent\r\n    Control + D: \t\t\t    Delete Line\r\n    Control + H: \t\t\t    Search Your Entire Project\r\n\r\n","title":"Why sysout won&#39;t work?","body":"<pre><code>Eclipse Shortcuts:\n\nSyso + Control + Space:     Puts System.out.println()\nAlt + Shift + R:            Rename\nControl + F11:              Run\nALT + Up/Down:              move the current line (or lines selected) in the editor up or down \nControl + Shift + O:        Import\nControl + I:                Indent\nControl + D:                Delete Line\nControl + H:                Search Your Entire Project\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2974857,"reputation":97,"user_id":2526130,"accept_rate":86,"display_name":"Winds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407467228,"creation_date":1407466279,"answer_id":25195384,"question_id":18027355,"body_markdown":"For me sysout in eclipse created in two lines. println() in new line..Then I found myself  how to avoid this and get System.out.println in one line ..go to Windows &gt; Preferences &gt; Java-&gt;Templates (or type templates on search field in top left corner box).Then In template configuring section  uncheck &quot;use code formatter&quot;..thats it.. :)\r\n\r\n\r\n    System.out\r\n\t\t\t .println();","title":"Why sysout won&#39;t work?","body":"<p>For me sysout in eclipse created in two lines. println() in new line..Then I found myself  how to avoid this and get System.out.println in one line ..go to Windows > Preferences > Java->Templates (or type templates on search field in top left corner box).Then In template configuring section  uncheck \"use code formatter\"..thats it.. :)</p>\n\n<pre><code>System.out\n         .println();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482571,"reputation":3920,"user_id":897041,"accept_rate":87,"display_name":"Muhammad Gelbana"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1432124686,"creation_date":1411544028,"answer_id":26011108,"question_id":18027355,"body_markdown":"    Eclipse &gt; Preferences &gt; Java &gt; Editor &gt; Content Assistant &gt; Advanced\r\n\r\nMake sure **Template Proposals** is checked in one of the shown lists.","title":"Why sysout won&#39;t work?","body":"<pre><code>Eclipse &gt; Preferences &gt; Java &gt; Editor &gt; Content Assistant &gt; Advanced\n</code></pre>\n\n<p>Make sure <strong>Template Proposals</strong> is checked in one of the shown lists.</p>\n"},{"tags":[],"owner":{"account_id":5939517,"reputation":5041,"user_id":4673475,"display_name":"kucing_terbang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432128534,"creation_date":1432128534,"answer_id":30351128,"question_id":18027355,"body_markdown":"Seems like you in windows and your keyboard shortcut for eclipse is got replaced with the system keyboard shortcut for language. well, either you replace it the keyboard combination to shows the template proposals by :\r\n\r\n    1. open the preferences dialog\r\n    2. go to general -&gt; keys\r\n    3. in the search dialog, find the command `Content Assist`\r\n    4. change the binding and then click OK button\r\n\r\nor, you can change the combination key to change the language in the `Text Services and Input Language` and then go to the Advanced Key Settings tab and then change the key sequence.","title":"Why sysout won&#39;t work?","body":"<p>Seems like you in windows and your keyboard shortcut for eclipse is got replaced with the system keyboard shortcut for language. well, either you replace it the keyboard combination to shows the template proposals by :</p>\n\n<pre><code>1. open the preferences dialog\n2. go to general -&gt; keys\n3. in the search dialog, find the command `Content Assist`\n4. change the binding and then click OK button\n</code></pre>\n\n<p>or, you can change the combination key to change the language in the <code>Text Services and Input Language</code> and then go to the Advanced Key Settings tab and then change the key sequence.</p>\n"},{"tags":[],"owner":{"account_id":7688467,"reputation":1,"user_id":5825454,"display_name":"dan.ros."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458392174,"creation_date":1458391980,"answer_id":36101985,"question_id":18027355,"body_markdown":"Select in the menu bar &quot;Window &gt; Preferences &gt; Java &gt; Editor &gt; Templates&quot;\r\ndeselect at the lower end of window: &quot;Use code formatter&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/MnGGw.png","title":"Why sysout won&#39;t work?","body":"<p>Select in the menu bar \"Window > Preferences > Java > Editor > Templates\"\ndeselect at the lower end of window: \"Use code formatter\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/MnGGw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MnGGw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1482474,"reputation":7545,"user_id":1652451,"display_name":"PbxMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461051923,"creation_date":1461051923,"answer_id":36711785,"question_id":18027355,"body_markdown":"In my case it didn&#39;t work because ctrl+space was being used by another program Ubuntu(I-Bus) in my case ref. [here][1] Try changing ctrl-space by another key combination in general-&gt;keys to find out if this is causing the problem.\r\n\r\n\r\n  [1]: https://askubuntu.com/questions/243639/ctrlspace-has-been-bound-to-invoke-some-input-method-and-does-not-work-in-ema","title":"Why sysout won&#39;t work?","body":"<p>In my case it didn't work because ctrl+space was being used by another program Ubuntu(I-Bus) in my case ref. <a href=\"https://askubuntu.com/questions/243639/ctrlspace-has-been-bound-to-invoke-some-input-method-and-does-not-work-in-ema\">here</a> Try changing ctrl-space by another key combination in general->keys to find out if this is causing the problem.</p>\n"},{"tags":[],"owner":{"account_id":1073479,"reputation":51,"user_id":6411748,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464816031,"creation_date":1464816031,"answer_id":37578978,"question_id":18027355,"body_markdown":"After trying all the answers above with no success I found another reason why Ctrl+Space could be prevented from working. \r\n\r\nIn my instance Ctrl+Space worked for some projects in the workspace but not others. I discovered that the project that it did not work for did not have the jdk in the build path, instead it had the jre for the application server (weblogic 12). The application ran fine on the server but Ctrl+Space to open the template proposals didn&#39;t work and other things like syntax highlighting were not quite right.\r\n\r\nI hope this helps anyone who comes to this questions 3 years after it was asked (Like I did).","title":"Why sysout won&#39;t work?","body":"<p>After trying all the answers above with no success I found another reason why Ctrl+Space could be prevented from working. </p>\n\n<p>In my instance Ctrl+Space worked for some projects in the workspace but not others. I discovered that the project that it did not work for did not have the jdk in the build path, instead it had the jre for the application server (weblogic 12). The application ran fine on the server but Ctrl+Space to open the template proposals didn't work and other things like syntax highlighting were not quite right.</p>\n\n<p>I hope this helps anyone who comes to this questions 3 years after it was asked (Like I did).</p>\n"},{"tags":[],"owner":{"account_id":8839026,"reputation":89,"user_id":6602044,"display_name":"Mak Insane"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1468823279,"creation_date":1468821700,"answer_id":38429503,"question_id":18027355,"body_markdown":"    public static void main(String[] args)\r\n\r\nThis `public static void` ... blah blah has to be put for the `sysout`\r\n to work","title":"Why sysout won&#39;t work?","body":"<pre><code>public static void main(String[] args)\n</code></pre>\n\n<p>This <code>public static void</code> ... blah blah has to be put for the <code>sysout</code>\n to work</p>\n"},{"tags":[],"owner":{"account_id":9095389,"reputation":71,"user_id":6769556,"display_name":"sattik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473333639,"creation_date":1473333639,"answer_id":39389569,"question_id":18027355,"body_markdown":"I started having the same problem with sysout shortcut **when I installed the Scala plug-in** in Enclipse. None of the answers worked, but the solution turned out to be very simple. I **unchecked all Scala templates** in `Preferences -&gt; Scala -&gt; Templates` So if you use any plug-ins, make sure their templates do not get in the way of your Java templates.","title":"Why sysout won&#39;t work?","body":"<p>I started having the same problem with sysout shortcut <strong>when I installed the Scala plug-in</strong> in Enclipse. None of the answers worked, but the solution turned out to be very simple. I <strong>unchecked all Scala templates</strong> in <code>Preferences -&gt; Scala -&gt; Templates</code> So if you use any plug-ins, make sure their templates do not get in the way of your Java templates.</p>\n"},{"tags":[],"owner":{"account_id":2764790,"reputation":579,"user_id":2380799,"accept_rate":60,"display_name":"Andrej Buday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484070543,"creation_date":1484070543,"answer_id":41575158,"question_id":18027355,"body_markdown":"I was facing the same issue. If you use OS X Eclipse Ctrl+Space shortcut can be interfering with OS X system&#39;s &quot;*Selecting previous input source*&quot; shortcut using Ctrl+Space shortcut as default. OS X system shortcut has higher priority, that is the reason why Eclipse does not work.\r\n\r\nJust go to *System Preferencies/Keyboard/Shortcuts/Input Source* and uncheck the *&quot;Selecting previous input source&quot;* or change the shortcut on something else. Eclipse should work after that even without restart.","title":"Why sysout won&#39;t work?","body":"<p>I was facing the same issue. If you use OS X Eclipse Ctrl+Space shortcut can be interfering with OS X system's \"<em>Selecting previous input source</em>\" shortcut using Ctrl+Space shortcut as default. OS X system shortcut has higher priority, that is the reason why Eclipse does not work.</p>\n\n<p>Just go to <em>System Preferencies/Keyboard/Shortcuts/Input Source</em> and uncheck the <em>\"Selecting previous input source\"</em> or change the shortcut on something else. Eclipse should work after that even without restart.</p>\n"},{"tags":[],"owner":{"account_id":13407943,"reputation":1,"user_id":9675428,"display_name":"Jernej Sorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524245076,"creation_date":1524235706,"answer_id":49944370,"question_id":18027355,"body_markdown":"I had the same problem. I had &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;Space&lt;/kbd&gt; used as a shortcut for input source in Mac. To disable this go to **settings -&gt; Keyboard -&gt; Input Sources** and uncheck Select the previous source. Than syso shortcut will work.","title":"Why sysout won&#39;t work?","body":"<p>I had the same problem. I had <kbd>ctrl</kbd> + <kbd>Space</kbd> used as a shortcut for input source in Mac. To disable this go to <strong>settings -> Keyboard -> Input Sources</strong> and uncheck Select the previous source. Than syso shortcut will work.</p>\n"},{"tags":[],"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1547530970,"creation_date":1547530970,"answer_id":54193289,"question_id":18027355,"body_markdown":"In recent version of Mac (10.14.1) , Mac OS Settings --&gt; Keyboard --&gt; Shortcuts(tab) --&gt; Input sources.\r\n\r\nuncheck the setting ctrl +Space. \r\n\r\nNow go to Eclipse IDE and it should work. ","title":"Why sysout won&#39;t work?","body":"<p>In recent version of Mac (10.14.1) , Mac OS Settings --> Keyboard --> Shortcuts(tab) --> Input sources.</p>\n\n<p>uncheck the setting ctrl +Space. </p>\n\n<p>Now go to Eclipse IDE and it should work. </p>\n"},{"tags":[],"owner":{"account_id":15748138,"reputation":1,"user_id":11363522,"display_name":"Farhad DRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555334990,"creation_date":1555334990,"answer_id":55690303,"question_id":18027355,"body_markdown":"set your perspective on default and your problem will solve.\r\nwindow -&gt; perspective -&gt;open perspective -&gt; other -&gt; select default","title":"Why sysout won&#39;t work?","body":"<p>set your perspective on default and your problem will solve.\nwindow -> perspective ->open perspective -> other -> select default</p>\n"},{"tags":[],"owner":{"account_id":6814201,"reputation":31,"user_id":5243442,"display_name":"slimbean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619900199,"creation_date":1619900199,"answer_id":67350498,"question_id":18027355,"body_markdown":"I had the same problem achieving simple ctrl+space templates with eclipse using jre. Showed empty templates for everything. \r\n\r\nTry installing the jdk in separate directory then add into Preferences / Installed jre: add in the new directory. Then use that in your build path. It should solve the problem.","title":"Why sysout won&#39;t work?","body":"<p>I had the same problem achieving simple ctrl+space templates with eclipse using jre. Showed empty templates for everything.</p>\n<p>Try installing the jdk in separate directory then add into Preferences / Installed jre: add in the new directory. Then use that in your build path. It should solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":28859373,"reputation":1,"user_id":22103529,"display_name":"Girts S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701623216,"creation_date":1701623216,"answer_id":77595315,"question_id":18027355,"body_markdown":"Seems that today on Java 21 after you define variable as record- the sysout is not resolving normally any more in main body. the sysout resolves before the record definition. So it seems there is something wrong with the record definition.","title":"Why sysout won&#39;t work?","body":"<p>Seems that today on Java 21 after you define variable as record- the sysout is not resolving normally any more in main body. the sysout resolves before the record definition. So it seems there is something wrong with the record definition.</p>\n"}],"owner":{"account_id":2939526,"reputation":1017,"user_id":2517746,"accept_rate":59,"display_name":"Zoe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85540,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":17,"score":14,"last_activity_date":1701623216,"creation_date":1375484364,"question_id":18027355,"body_markdown":"I checked the preferences settings in my Eclipse, it&#39;s all set to default with sysout option on, but when I typed sysout in eclipse, it won&#39;t automatically go into `System.out.println()`.\r\nI&#39;ve checked several other related topics which mention &lt;kbd&gt;ctrl + space&lt;/kbd&gt;.\r\nIt is a shortcut for input method on my computer. I don&#39;t know if this is related to my unable to use the sysout. If not, please let me know how I can get my sysout working.\r\nIf yes, please kindly let me know how I can reset &#39;ctrl + space&#39; or set other shortcut for content assistant.","title":"Why sysout won&#39;t work?","body":"<p>I checked the preferences settings in my Eclipse, it's all set to default with sysout option on, but when I typed sysout in eclipse, it won't automatically go into <code>System.out.println()</code>.\nI've checked several other related topics which mention <kbd>ctrl + space</kbd>.\nIt is a shortcut for input method on my computer. I don't know if this is related to my unable to use the sysout. If not, please let me know how I can get my sysout working.\nIf yes, please kindly let me know how I can reset 'ctrl + space' or set other shortcut for content assistant.</p>\n"},{"tags":["java","node.js","database"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1701622739,"post_id":77595235,"comment_id":136796064,"body_markdown":"I suggest reviewing this [checklist](https://overflow.tips/write-good-question/checklist) for things to do to improve questions on Stack Overflow. What you provided so far is nowhere near enough information for us to understand where you are stuck with the code you have so far.","body":"I suggest reviewing this <a href=\"https://overflow.tips/write-good-question/checklist\" rel=\"nofollow noreferrer\">checklist</a> for things to do to improve questions on Stack Overflow. What you provided so far is nowhere near enough information for us to understand where you are stuck with the code you have so far."},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701623514,"post_id":77595235,"comment_id":136796171,"body_markdown":"`INSERT INTO tablename (columnname) VALUES (imagedata)` what&#39;s the question? And is it about Java or node.js, two completely different platforms?","body":"<code>INSERT INTO tablename (columnname) VALUES (imagedata)</code> what&#39;s the question? And is it about Java or node.js, two completely different platforms?"}],"owner":{"account_id":30054048,"reputation":1,"user_id":23031820,"display_name":"Kumar Chiranjeevi"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701622490,"answer_count":0,"score":-3,"last_activity_date":1701622480,"creation_date":1701621873,"question_id":77595235,"body_markdown":"How to insert an image into a SQL Server database ?\r\n\r\nprovide answer of the given question","title":"SQL Server databasee","body":"<p>How to insert an image into a SQL Server database ?</p>\n<p>provide answer of the given question</p>\n"},{"tags":["java","arrays","kotlin","unit-testing","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701622275,"creation_date":1701622275,"answer_id":77595261,"question_id":77595239,"body_markdown":"Answering my own question (as I often do) the correct code is:\r\n\r\n```kotlin\r\nimport org.hamcrest.MatcherAssert.assertThat\r\nimport org.hamcrest.collection.IsArrayWithSize.arrayWithSize\r\nimport org.hamcrest.core.IsEqual.equalTo\r\nimport org.hamcrest.core.Is.`is` as Is\r\n\r\n\t val parts = intArrayOf(1, 2, 3)\r\n\t assertThat(/* actual = */ parts.toTypedArray(), /* matcher = */ arrayWithSize(3))\r\n\t assertThat(/* actual = */ parts.toTypedArray(), /* matcher = */ Is(arrayWithSize(3)))\r\n\t assertThat(/* actual = */ parts.toTypedArray(), /* matcher = */ Is(arrayWithSize(equalTo(3))))\r\n```\r\n\r\nThat conversion is quite the performance killer but in a unit test I don&#39;t care. If I ever come around to converting the main source from java to kotlin stuff like this might hurt.","title":"Why is Hamcrest arrayWithSize not working with Kotlin","body":"<p>Answering my own question (as I often do) the correct code is:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.hamcrest.MatcherAssert.assertThat\nimport org.hamcrest.collection.IsArrayWithSize.arrayWithSize\nimport org.hamcrest.core.IsEqual.equalTo\nimport org.hamcrest.core.Is.`is` as Is\n\n     val parts = intArrayOf(1, 2, 3)\n     assertThat(/* actual = */ parts.toTypedArray(), /* matcher = */ arrayWithSize(3))\n     assertThat(/* actual = */ parts.toTypedArray(), /* matcher = */ Is(arrayWithSize(3)))\n     assertThat(/* actual = */ parts.toTypedArray(), /* matcher = */ Is(arrayWithSize(equalTo(3))))\n</code></pre>\n<p>That conversion is quite the performance killer but in a unit test I don't care. If I ever come around to converting the main source from java to kotlin stuff like this might hurt.</p>\n"}],"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701622275,"creation_date":1701621940,"question_id":77595239,"body_markdown":"I&#39;m trying to test the length of an integer array with hamcrest and &lt;\r\n\r\n```kotlin\r\nimport org.hamcrest.MatcherAssert.assertThat\r\nimport org.hamcrest.collection.IsArrayWithSize.arrayWithSize\r\nimport org.hamcrest.core.IsEqual.equalTo\r\nimport org.hamcrest.core.Is.`is` as Is\r\n\r\n\t val parts = intArrayOf(1, 2, 3)\r\n\t assertThat(parts, arrayWithSize(3))\r\n\t assertThat(parts, Is(arrayWithSize(3)))\r\n\t assertThat(parts, Is(arrayWithSize(equalTo(3))))\r\n```\r\n\r\nAs far as I understand all three asserts should work and the equivalent statements will work in Java. But they don&#39;t work with Kotlin:\r\n\r\n```log\r\n[ERROR] /Decomposed_Test.kt:[287,14] Type mismatch: inferred type is IntArray but String! was expected\r\n[ERROR] /Decomposed_Test.kt:[287,21] Type mismatch: inferred type is Matcher&lt;Array&lt;(???..???)&gt;!&gt;! but Boolean was expected\r\n[ERROR] /Decomposed_Test.kt:[288,14] Type mismatch: inferred type is IntArray but String! was expected\r\n[ERROR] /Decomposed_Test.kt:[288,21] Type mismatch: inferred type is Matcher&lt;(???..???)&gt;! but Boolean was expected\r\n[ERROR] /Decomposed_Test.kt:[289,14] Type mismatch: inferred type is IntArray but String! was expected\r\n[ERROR] /Decomposed_Test.kt:[289,21] Type mismatch: inferred type is Matcher&lt;(???..???)&gt;! but Boolean was expected\r\n```\r\n\r\nThis is of course wrong as I&#39;m not comparing strings. I tried adding some reasons to the assert to see of that helps:\r\n\r\n```kotlin\r\nimport org.hamcrest.MatcherAssert.assertThat\r\nimport org.hamcrest.collection.IsArrayWithSize.arrayWithSize\r\nimport org.hamcrest.core.IsEqual.equalTo\r\nimport org.hamcrest.core.Is.`is` as Is\r\n\r\n\t val parts = intArrayOf(1, 2, 3)\r\n\t assertThat(/* reason = */ &quot;array has 3 elements&quot;, /* actual = */ parts, /* matcher = */ arrayWithSize(3))\r\n\t assertThat(/* reason = */ &quot;array has 3 elements&quot;, /* actual = */ parts, /* matcher = */ Is(arrayWithSize(3)))\r\n\t assertThat(/* reason = */ &quot;array has 3 elements&quot;, /* actual = */ parts, /* matcher = */ Is(arrayWithSize(equalTo(3))))\r\n\r\n```\r\n\r\nDifferent error message but still doesn&#39;t help:\r\n\r\n```log\r\n[ERROR] /Decomposed_Test.kt:[287,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;! was expected\r\n[ERROR] /Decomposed_Test.kt:[288,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;? was expected\r\n[ERROR] /Decomposed_Test.kt:[288,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;! was expected\r\n[ERROR] /Decomposed_Test.kt:[288,94] Type mismatch: inferred type is Matcher&lt;Array&lt;(out) (???..???)&gt;!&gt;! but Matcher&lt;IntArray!&gt;! was expected\r\n[ERROR] /Decomposed_Test.kt:[289,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;? was expected\r\n[ERROR] /Decomposed_Test.kt:[289,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;! was expected\r\n[ERROR] /Decomposed_Test.kt:[289,94] Type mismatch: inferred type is Matcher&lt;Array&lt;(out) (???..???)&gt;!&gt;! but Matcher&lt;IntArray!&gt;! was expected\r\n```\r\n\r\nWhy is that?\r\n\r\nPS: I&#39;m not interested in suggestions of alternate frameworks.","title":"Why is Hamcrest arrayWithSize not working with Kotlin","body":"<p>I'm trying to test the length of an integer array with hamcrest and &lt;</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.hamcrest.MatcherAssert.assertThat\nimport org.hamcrest.collection.IsArrayWithSize.arrayWithSize\nimport org.hamcrest.core.IsEqual.equalTo\nimport org.hamcrest.core.Is.`is` as Is\n\n     val parts = intArrayOf(1, 2, 3)\n     assertThat(parts, arrayWithSize(3))\n     assertThat(parts, Is(arrayWithSize(3)))\n     assertThat(parts, Is(arrayWithSize(equalTo(3))))\n</code></pre>\n<p>As far as I understand all three asserts should work and the equivalent statements will work in Java. But they don't work with Kotlin:</p>\n<pre><code>[ERROR] /Decomposed_Test.kt:[287,14] Type mismatch: inferred type is IntArray but String! was expected\n[ERROR] /Decomposed_Test.kt:[287,21] Type mismatch: inferred type is Matcher&lt;Array&lt;(???..???)&gt;!&gt;! but Boolean was expected\n[ERROR] /Decomposed_Test.kt:[288,14] Type mismatch: inferred type is IntArray but String! was expected\n[ERROR] /Decomposed_Test.kt:[288,21] Type mismatch: inferred type is Matcher&lt;(???..???)&gt;! but Boolean was expected\n[ERROR] /Decomposed_Test.kt:[289,14] Type mismatch: inferred type is IntArray but String! was expected\n[ERROR] /Decomposed_Test.kt:[289,21] Type mismatch: inferred type is Matcher&lt;(???..???)&gt;! but Boolean was expected\n</code></pre>\n<p>This is of course wrong as I'm not comparing strings. I tried adding some reasons to the assert to see of that helps:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.hamcrest.MatcherAssert.assertThat\nimport org.hamcrest.collection.IsArrayWithSize.arrayWithSize\nimport org.hamcrest.core.IsEqual.equalTo\nimport org.hamcrest.core.Is.`is` as Is\n\n     val parts = intArrayOf(1, 2, 3)\n     assertThat(/* reason = */ &quot;array has 3 elements&quot;, /* actual = */ parts, /* matcher = */ arrayWithSize(3))\n     assertThat(/* reason = */ &quot;array has 3 elements&quot;, /* actual = */ parts, /* matcher = */ Is(arrayWithSize(3)))\n     assertThat(/* reason = */ &quot;array has 3 elements&quot;, /* actual = */ parts, /* matcher = */ Is(arrayWithSize(equalTo(3))))\n\n</code></pre>\n<p>Different error message but still doesn't help:</p>\n<pre><code>[ERROR] /Decomposed_Test.kt:[287,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;! was expected\n[ERROR] /Decomposed_Test.kt:[288,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;? was expected\n[ERROR] /Decomposed_Test.kt:[288,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;! was expected\n[ERROR] /Decomposed_Test.kt:[288,94] Type mismatch: inferred type is Matcher&lt;Array&lt;(out) (???..???)&gt;!&gt;! but Matcher&lt;IntArray!&gt;! was expected\n[ERROR] /Decomposed_Test.kt:[289,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;? was expected\n[ERROR] /Decomposed_Test.kt:[289,91] Type mismatch: inferred type is IntArray! but Array&lt;(out) TypeVariable(E)!&gt;! was expected\n[ERROR] /Decomposed_Test.kt:[289,94] Type mismatch: inferred type is Matcher&lt;Array&lt;(out) (???..???)&gt;!&gt;! but Matcher&lt;IntArray!&gt;! was expected\n</code></pre>\n<p>Why is that?</p>\n<p>PS: I'm not interested in suggestions of alternate frameworks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1701505794,"post_id":77589452,"comment_id":136786272,"body_markdown":"Change `panel.setLayout(new GridLayout(10, 10, 10, 10));` to `panel.setLayout(new GridLayout(7, 10, 10, 10));` - I&#39;d also recommend making the time to learn how to use [`GridBagLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html)","body":"Change <code>panel.setLayout(new GridLayout(10, 10, 10, 10));</code> to <code>panel.setLayout(new GridLayout(7, 10, 10, 10));</code> - I&#39;d also recommend making the time to learn how to use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\"><code>GridBagLayout</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701622092,"creation_date":1701622092,"answer_id":77595252,"question_id":77589452,"body_markdown":"you can modify the GridLayout settings and set preferred sizes for components\r\n\r\n    package com.nono.groupproject;\r\n    \r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class AdminRegistrationGUIConsole extends JFrame {\r\n    \r\n        private JTextField nameField, emailField, phoneNumberField;\r\n    \r\n        public AdminRegistrationGUIConsole() {\r\n            setTitle(&quot;Admin Registration&quot;);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            JPanel panel = new JPanel();\r\n            panel.setLayout(new GridLayout(4, 2, 10, 10)); // Adjusted rows and columns\r\n    \r\n            panel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n    \r\n            panel.add(new JLabel(&quot;Name:&quot;));\r\n            nameField = new JTextField();\r\n            panel.add(nameField);\r\n            nameField.setColumns(25);\r\n    \r\n            panel.add(new JLabel(&quot;Phone Number:&quot;));\r\n            phoneNumberField = new JTextField();\r\n            panel.add(phoneNumberField);\r\n    \r\n            panel.add(new JLabel(&quot;Email:&quot;));\r\n            emailField = new JTextField();\r\n            panel.add(emailField);\r\n    \r\n            JButton registerButton = new JButton(&quot;Register&quot;);\r\n            registerButton.addActionListener(e -&gt; handleRegistration(e));\r\n            panel.add(registerButton);\r\n    \r\n            setContentPane(panel);\r\n            pack();\r\n            setLocationRelativeTo(null);\r\n            setVisible(true);\r\n        }\r\n    \r\n        private void handleRegistration(ActionEvent e) {\r\n            JOptionPane.showMessageDialog(this, &quot;Registration Completed!&quot;);\r\n            this.dispose();\r\n            // You might want to perform the actual registration logic here\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new AdminRegistrationGUIConsole();\r\n        }\r\n    }","title":"How to resize the panel?","body":"<p>you can modify the GridLayout settings and set preferred sizes for components</p>\n<pre><code>package com.nono.groupproject;\n\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.JOptionPane;\n\npublic class AdminRegistrationGUIConsole extends JFrame {\n\n    private JTextField nameField, emailField, phoneNumberField;\n\n    public AdminRegistrationGUIConsole() {\n        setTitle(&quot;Admin Registration&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridLayout(4, 2, 10, 10)); // Adjusted rows and columns\n\n        panel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n\n        panel.add(new JLabel(&quot;Name:&quot;));\n        nameField = new JTextField();\n        panel.add(nameField);\n        nameField.setColumns(25);\n\n        panel.add(new JLabel(&quot;Phone Number:&quot;));\n        phoneNumberField = new JTextField();\n        panel.add(phoneNumberField);\n\n        panel.add(new JLabel(&quot;Email:&quot;));\n        emailField = new JTextField();\n        panel.add(emailField);\n\n        JButton registerButton = new JButton(&quot;Register&quot;);\n        registerButton.addActionListener(e -&gt; handleRegistration(e));\n        panel.add(registerButton);\n\n        setContentPane(panel);\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    private void handleRegistration(ActionEvent e) {\n        JOptionPane.showMessageDialog(this, &quot;Registration Completed!&quot;);\n        this.dispose();\n        // You might want to perform the actual registration logic here\n    }\n\n    public static void main(String[] args) {\n        new AdminRegistrationGUIConsole();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":30020790,"reputation":23,"user_id":23006223,"display_name":"Jerry Wingsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77595252,"answer_count":1,"score":0,"last_activity_date":1701622092,"creation_date":1701501188,"question_id":77589452,"body_markdown":"So I&#39;m making a group project which is Java console GUI. This is my code for the Java console GUI:\r\n\r\n```\r\npackage com.nono.groupproject;\r\n\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JRadioButton;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.ButtonGroup;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class AdminRegistrationGUIConsole extends JFrame {\r\n\r\n    private JTextField nameField, emailField, phoneNumberField;\r\n\r\n    public AdminRegistrationGUIConsole() {\r\n        setTitle(&quot;Admin Registration&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n       JPanel panel = new JPanel();\r\n        panel.setLayout(new GridLayout(10, 10, 10, 10));\r\n        panel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n        \r\n        panel.add(new JLabel(&quot;Name:&quot;));\r\n        nameField = new JTextField();\r\n        panel.add(nameField);\r\n        nameField.setColumns(25);\r\n\r\n        panel.add(new JLabel(&quot;Phone Number:&quot;));\r\n        phoneNumberField = new JTextField();\r\n        panel.add(phoneNumberField);\r\n\r\n        panel.add(new JLabel(&quot;Email:&quot;));\r\n        emailField = new JTextField();\r\n        panel.add(emailField);\r\n        \r\n        JButton registerButton = new JButton(&quot;Register&quot;);\r\n        registerButton.addActionListener(e -&gt; handleRegistration(e));\r\n        panel.add(registerButton);\r\n        \r\n        setContentPane(panel);\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n}\r\n\r\n    private void handleRegistration(ActionEvent e) {\r\n        JOptionPane.showMessageDialog(this, &quot;Registration Completed!&quot;);\r\n        this.dispose();\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n}\r\n\r\n    public static void main(String[] args) {\r\n        new AdminRegistrationGUIConsole();\r\n}\r\n}\r\n```\r\n\r\nI want to resize the panel cause the bottom is to long. Here&#39;s the output from my code. Can somebody help me? Thanks...\r\n\r\n[enter image description here](https://i.stack.imgur.com/v6Gd8.png)","title":"How to resize the panel?","body":"<p>So I'm making a group project which is Java console GUI. This is my code for the Java console GUI:</p>\n<pre><code>package com.nono.groupproject;\n\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JOptionPane;\n\npublic class AdminRegistrationGUIConsole extends JFrame {\n\n    private JTextField nameField, emailField, phoneNumberField;\n\n    public AdminRegistrationGUIConsole() {\n        setTitle(&quot;Admin Registration&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n       JPanel panel = new JPanel();\n        panel.setLayout(new GridLayout(10, 10, 10, 10));\n        panel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        \n        panel.add(new JLabel(&quot;Name:&quot;));\n        nameField = new JTextField();\n        panel.add(nameField);\n        nameField.setColumns(25);\n\n        panel.add(new JLabel(&quot;Phone Number:&quot;));\n        phoneNumberField = new JTextField();\n        panel.add(phoneNumberField);\n\n        panel.add(new JLabel(&quot;Email:&quot;));\n        emailField = new JTextField();\n        panel.add(emailField);\n        \n        JButton registerButton = new JButton(&quot;Register&quot;);\n        registerButton.addActionListener(e -&gt; handleRegistration(e));\n        panel.add(registerButton);\n        \n        setContentPane(panel);\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n}\n\n    private void handleRegistration(ActionEvent e) {\n        JOptionPane.showMessageDialog(this, &quot;Registration Completed!&quot;);\n        this.dispose();\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\n}\n\n    public static void main(String[] args) {\n        new AdminRegistrationGUIConsole();\n}\n}\n</code></pre>\n<p>I want to resize the panel cause the bottom is to long. Here's the output from my code. Can somebody help me? Thanks...</p>\n<p><a href=\"https://i.stack.imgur.com/v6Gd8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","docker","docker-compose","host"],"comments":[{"owner":{"account_id":5730815,"reputation":428,"user_id":4526423,"display_name":"Maxim Colesnic"},"score":0,"creation_date":1701629629,"post_id":77595201,"comment_id":136796852,"body_markdown":"Do you have file inside your container (need to use volumes). Do you have host generated-reports inside your container (need to use links)","body":"Do you have file inside your container (need to use volumes). Do you have host generated-reports inside your container (need to use links)"},{"owner":{"account_id":29372017,"reputation":1,"user_id":22504432,"display_name":"Lev"},"score":0,"creation_date":1702226246,"post_id":77595201,"comment_id":136867859,"body_markdown":"Maxim Colesnic, Thank you for answering the question. It seems to be clear about volumes . But about links: is this a --link in docker? Do I need to create 2 containers and link them? Or link the generated-reports to the local machine? And I don&#39;t understand how to do it. The documentation links 2 containers.","body":"Maxim Colesnic, Thank you for answering the question. It seems to be clear about volumes . But about links: is this a --link in docker? Do I need to create 2 containers and link them? Or link the generated-reports to the local machine? And I don&#39;t understand how to do it. The documentation links 2 containers."}],"owner":{"account_id":29372017,"reputation":1,"user_id":22504432,"display_name":"Lev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701621345,"creation_date":1701621345,"question_id":77595201,"body_markdown":"I have a **java.net.UnknownHostException: generated-reports** error when building a docker container.\r\n\r\nI wrote the *addResourceHandlers(ResourceHandlerRegistry registry)* method in the class to find the file with the jasper report in pdf format along the path /generated-reports.\r\n\r\nlass MVCWebConfig:\r\n\r\n```\r\n@Configuration\r\npublic class MVCWebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/login&quot;);\r\n        registry.addViewController(&quot;/admin&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry)  {\r\n\r\n        String reportPath = uploadPath(&quot;/generated-reports&quot;);\r\n\r\n        registry.addResourceHandler(&quot;/generated-reports/**&quot;)\r\n                .addResourceLocations(&quot;file:/&quot;+reportPath+&quot;/&quot;);\r\n    }\r\n\r\n    \r\n    private String uploadPath(String directory)  {\r\n        Path uploadDirPath = Paths.get(directory);\r\n\r\n        return uploadDirPath.toFile().getAbsolutePath();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe problem occurs when using this path in the method.\r\n\r\nEverything works fine outside of docker.\r\n\r\nMy dockerfile:\r\n\r\n```\r\nFROM amazoncorretto:17.0.9\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\n```\r\n\r\nI tried to use the docker-compose file to run a docker image with the following settings:\r\n\r\n```\r\nversion: &#39;3.7&#39;\r\n\r\nservices:\r\n  theatre:\r\n\r\n    image: app/theatre-0.0.1-snapshot\r\n\r\n    ports:\r\n      - &quot;9090:9090&quot;\r\n    environment:\r\n      - &quot;SPRING_PROFILES_ACTIVE=dev&quot;\r\n\r\n    networks:\r\n      default:\r\n        aliases:\r\n         - &quot;generated-reports&quot;\r\n\r\nnetworks:\r\n  default:\r\n    driver: bridge\r\n```\r\n\r\nBut this caused error a **java.net.ConnectException : Connection refused**\r\n\r\nPlease help me understand what the error is and how to fix it. I would be grateful if your answer includes examples. I&#39;m working on Windows 10.\r\n\r\nThank you in advance!","title":"java.net.UnknownHostException: generated-reports on docker","body":"<p>I have a <strong>java.net.UnknownHostException: generated-reports</strong> error when building a docker container.</p>\n<p>I wrote the <em>addResourceHandlers(ResourceHandlerRegistry registry)</em> method in the class to find the file with the jasper report in pdf format along the path /generated-reports.</p>\n<p>lass MVCWebConfig:</p>\n<pre><code>@Configuration\npublic class MVCWebConfig implements WebMvcConfigurer {\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/login&quot;);\n        registry.addViewController(&quot;/admin&quot;);\n    }\n\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry)  {\n\n        String reportPath = uploadPath(&quot;/generated-reports&quot;);\n\n        registry.addResourceHandler(&quot;/generated-reports/**&quot;)\n                .addResourceLocations(&quot;file:/&quot;+reportPath+&quot;/&quot;);\n    }\n\n    \n    private String uploadPath(String directory)  {\n        Path uploadDirPath = Paths.get(directory);\n\n        return uploadDirPath.toFile().getAbsolutePath();\n    }\n\n}\n</code></pre>\n<p>The problem occurs when using this path in the method.</p>\n<p>Everything works fine outside of docker.</p>\n<p>My dockerfile:</p>\n<pre><code>FROM amazoncorretto:17.0.9\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\n</code></pre>\n<p>I tried to use the docker-compose file to run a docker image with the following settings:</p>\n<pre><code>version: '3.7'\n\nservices:\n  theatre:\n\n    image: app/theatre-0.0.1-snapshot\n\n    ports:\n      - &quot;9090:9090&quot;\n    environment:\n      - &quot;SPRING_PROFILES_ACTIVE=dev&quot;\n\n    networks:\n      default:\n        aliases:\n         - &quot;generated-reports&quot;\n\nnetworks:\n  default:\n    driver: bridge\n</code></pre>\n<p>But this caused error a <strong>java.net.ConnectException : Connection refused</strong></p>\n<p>Please help me understand what the error is and how to fix it. I would be grateful if your answer includes examples. I'm working on Windows 10.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","ubuntu","asdf","asdf-vm"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701518224,"post_id":77589802,"comment_id":136787289,"body_markdown":"Have you tried `asdf list-all java` to see what is available?","body":"Have you tried <code>asdf list-all java</code> to see what is available?"}],"answers":[{"tags":[],"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701621268,"creation_date":1701621268,"answer_id":77595195,"question_id":77589802,"body_markdown":"I think asdf does not directly support the &quot;latest&quot; keyword for specific plugins. However, you can achieve a similar result using asdf-vm&#39;s plugin-alias feature.\r\n\r\n    # Add a plugin alias for Java\r\n    asdf plugin-add java https://github.com/halcyon/asdf-java.git\r\n    \r\n    # Set an alias for the latest GraalVM version\r\n    asdf alias java latest graalvm-21.0.1\r\n    \r\n    # Install the latest GraalVM version using the alias\r\n    asdf install java latest\r\n    \r\n    # Set the latest GraalVM version as the global version\r\n    asdf global java latest","title":"How to install latest Java version?","body":"<p>I think asdf does not directly support the &quot;latest&quot; keyword for specific plugins. However, you can achieve a similar result using asdf-vm's plugin-alias feature.</p>\n<pre><code># Add a plugin alias for Java\nasdf plugin-add java https://github.com/halcyon/asdf-java.git\n\n# Set an alias for the latest GraalVM version\nasdf alias java latest graalvm-21.0.1\n\n# Install the latest GraalVM version using the alias\nasdf install java latest\n\n# Set the latest GraalVM version as the global version\nasdf global java latest\n</code></pre>\n"}],"owner":{"account_id":27339893,"reputation":1,"user_id":20850724,"display_name":"trapbox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701621268,"creation_date":1701509631,"question_id":77589802,"body_markdown":"\r\nHow do I use the latest version of Java in [asdf](https://github.com/asdf-vm/asdf) without specifying a version number?\r\n\r\n```\r\nasdf install &lt;name&gt; latest\r\n```\r\nFor example, I want to use Oracle GraalVM. I tried some operations but failed. How should I do it?\r\n\r\n\r\n\r\n\r\nHere&#39;s what I did:\r\n\r\n```$ asdf list-all java | grep graalvm\r\noracle-graalvm-21.0.1\r\n```\r\nThis is the latest version and also what I need.\r\n\r\n\r\nTry but failed:\r\n```\r\nasdf install java oracle-graalvm latest\r\n\r\nUnknown release: oracle-graalvm\r\n```\r\n\r\nThis works but I don&#39;t want to specify the version number:\r\n```\r\n asdf install java oracle-graalvm-21.0.1\r\n```","title":"How to install latest Java version?","body":"<p>How do I use the latest version of Java in <a href=\"https://github.com/asdf-vm/asdf\" rel=\"nofollow noreferrer\">asdf</a> without specifying a version number?</p>\n<pre><code>asdf install &lt;name&gt; latest\n</code></pre>\n<p>For example, I want to use Oracle GraalVM. I tried some operations but failed. How should I do it?</p>\n<p>Here's what I did:</p>\n<pre><code>oracle-graalvm-21.0.1\n</code></pre>\n<p>This is the latest version and also what I need.</p>\n<p>Try but failed:</p>\n<pre><code>asdf install java oracle-graalvm latest\n\nUnknown release: oracle-graalvm\n</code></pre>\n<p>This works but I don't want to specify the version number:</p>\n<pre><code> asdf install java oracle-graalvm-21.0.1\n</code></pre>\n"},{"tags":["java","arrays","methods","output","double"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1701618955,"post_id":77595015,"comment_id":136795614,"body_markdown":"You are not using the return value of those methods.  Java does not have a concept of pass by reference;  modifying a double argument in a method has no effect whatsoever on the double variable in the calling code.  See https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value.","body":"You are not using the return value of those methods.  Java does not have a concept of pass by reference;  modifying a double argument in a method has no effect whatsoever on the double variable in the calling code.  See <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>."},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1701618981,"post_id":77595015,"comment_id":136795618,"body_markdown":"Please reduce this to a [mcve]. You&#39;ve posted over 200 lines of code. If you haven&#39;t already stepped through the code in a debugger (or added diagnostic lines) I strongly recommend you do so. You should then be able to reduce the code to a much shorter example which still demonstrates the example. (Do you believe you need *all* of `gross_calc`, `ot_calc`, `stateTax_calc` etc in order to demonstrate the problem, for example?) As an aside, I&#39;d also strongly recommend that you learn about and start following Java naming conventions.","body":"Please reduce this to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You&#39;ve posted over 200 lines of code. If you haven&#39;t already stepped through the code in a debugger (or added diagnostic lines) I strongly recommend you do so. You should then be able to reduce the code to a much shorter example which still demonstrates the example. (Do you believe you need <i>all</i> of <code>gross_calc</code>, <code>ot_calc</code>, <code>stateTax_calc</code> etc in order to demonstrate the problem, for example?) As an aside, I&#39;d also strongly recommend that you learn about and start following Java naming conventions."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1701624951,"post_id":77595015,"comment_id":136796352,"body_markdown":"&quot;*Methods both returning 0.0*&quot; - only because the input array `gross` only contains `0.0`s; and the sum of these is `0.0`, so is the average. Add something like `gross[0] = 10;` and *use* the returned values like in `total = Total_Employee_calc(total, gross, EMPLOYEES)`","body":"&quot;<i>Methods both returning 0.0</i>&quot; - only because the input array <code>gross</code> only contains <code>0.0</code>s; and the sum of these is <code>0.0</code>, so is the average. Add something like <code>gross[0] = 10;</code> and <i>use</i> the returned values like in <code>total = Total_Employee_calc(total, gross, EMPLOYEES)</code>"}],"owner":{"account_id":30055657,"reputation":1,"user_id":23033099,"display_name":"Buddah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701708869,"answer_count":0,"score":0,"last_activity_date":1701621034,"creation_date":1701618664,"question_id":77595015,"body_markdown":"This is for my Java class and for the life of me, I can&#39;t seem to figure out why my double methods near the bottom are giving me back 0.0 for my output.\r\n\r\nI&#39;m still pretty new to java and this has to do with Arrays and Methods, Would appreciate a solution as well as feedback to prevent this happening in the future because this driving me nuts.\r\n\r\nUnderneath my Net calculation method is where my problem starts as the two methods I want to return something just come back as 0.0. \r\n\r\nEverything else outputs as intended except for the doubles, the calculations, &quot;total_Employee_calc&quot; and &quot;Average_Employee_calc&quot;. There are a multiple methods for this assignment but the only ones giving me trouble are these two. \r\n\r\n\r\n```\r\nimport java.util.Scanner; \r\n\r\npublic class FinalProgrammingProject \r\n{ \r\n   \r\n   public static void main(String[] args)\r\n   { \r\n   \r\n   // Scanner\r\n     Scanner kb = new Scanner(System.in);\r\n\t\r\n  \t // Fixed variables\r\n  \t final double stateTax = 0.06, fedTax = 0.12, ot = 1.5, unionfee = 0.01;\r\n     final int EMPLOYEES = 10;\r\n  \r\n  \t// Other variables\r\n  \t double total = 0, totalAverage = 0;\r\n  \r\n     // Arrays\r\n     \r\n     int[] id = new int[EMPLOYEES];\r\n  \r\n     double[] hours = new double[EMPLOYEES];\r\n     double[] otHours = new double [EMPLOYEES];\r\n     double[] otPay = new double [EMPLOYEES];\r\n     double[] rate = new double [EMPLOYEES];\r\n     double[] gross =  new double [EMPLOYEES];\r\n     double[] net =  new double [EMPLOYEES];\r\n     double[] state_Tax =  new double [EMPLOYEES];\r\n     double[] fed_Tax =  new double [EMPLOYEES];\r\n     double[] union_fee =  new double [EMPLOYEES]; \r\n     String[] firstName = new String[EMPLOYEES];\r\n     char[] middleInitial = new char[EMPLOYEES];\r\n     String[] lastName = new String[EMPLOYEES];\r\n      \r\n     \r\n     //Call Methods \r\n     \r\n     Total_Employee_calc(total, gross, EMPLOYEES);\r\n     \r\n     Average_Employee_calc(total, gross, totalAverage, EMPLOYEES);\r\n     \r\n     result(firstName, middleInitial, lastName, id, hours, rate, gross,state_Tax, fed_Tax, union_fee, unionfee, stateTax, fedTax, net, total, totalAverage, EMPLOYEES);\r\n    }//End of Main \r\n    \r\n    //Start of Program\r\n    public static void greetings() \r\n    {\r\n        System.out.printf(&quot;\\nBess Unlimited Payroll Generation Bot\\n&quot;);\r\n        System.out.printf(&quot;===========================================\\n&quot;);\r\n    }\r\n    \r\n    \r\n    \r\n  ** //Calculation Method for Total Gross for all Employees \r\n   public static double Total_Employee_calc(double total, double[] gross, int EMPLOYEES)\r\n   { \r\n         for (int i = 0; i &lt; EMPLOYEES; i++)\r\n         {\r\n         total += gross[i]; \r\n         } \r\n         return  total;\r\n     }\r\n\r\n\r\n   //Calculation Method for Average Gross for all Employees \r\n   public static double Average_Employee_calc(double total, double[] gross, double totalAverage, int EMPLOYEES)\r\n   { \r\n         for (int i = 0; i &lt; EMPLOYEES; i++)\r\n         {\r\n         totalAverage = total/EMPLOYEES; \r\n         } \r\n         return totalAverage;\r\n     }**\r\n\r\n\r\n   //Output \r\n   public static void result(String[] firstName, char[] middleInitial, String[] lastName, int[] id, double[] hours, double[] rate, double[] gross, double[] state_Tax, double[] fed_Tax, double [] union_fee, double unionfee, double stateTax, double fedTax, double[] net, double total, double totalAverage, int EMPLOYEES)\r\n   { \r\n      System.out.printf(&quot;\\nBess Unlimited Payroll Generation Bot\\n&quot;);\r\n      System.out.printf(&quot;\\nFirst Name         Last Name         MI            ID             Hours             Rate            Gross            Tax              Net&quot;);\r\n      System.out.printf(&quot;\\n-----------------------------------------------------------------------------------------------------------------------------------------------\\n&quot;);\r\n      for (int i = 0; i &lt; EMPLOYEES; i++) \r\n      {\r\n         System.out.printf(&quot;\\n %s %17s %15c %14d  %16.2f  %16.2f  %16.2f  %16.2f  %16.2f&quot;, firstName[i], lastName[i], middleInitial[i], id[i], hours[i], gross[i], state_Tax[i], fed_Tax[i], net[i]);\r\n      }\r\n\r\n      //totals and average\r\n      System.out.printf(&quot;\\n\\n Total Gross: %.2f&quot;, total);\r\n      System.out.printf(&quot;\\n\\n Total Average Gross: %.2f\\n&quot;, totalAverage);\r\n      \r\n   }\r\n}\r\n```\r\n","title":"Double Methods both returning 0.0","body":"<p>This is for my Java class and for the life of me, I can't seem to figure out why my double methods near the bottom are giving me back 0.0 for my output.</p>\n<p>I'm still pretty new to java and this has to do with Arrays and Methods, Would appreciate a solution as well as feedback to prevent this happening in the future because this driving me nuts.</p>\n<p>Underneath my Net calculation method is where my problem starts as the two methods I want to return something just come back as 0.0.</p>\n<p>Everything else outputs as intended except for the doubles, the calculations, &quot;total_Employee_calc&quot; and &quot;Average_Employee_calc&quot;. There are a multiple methods for this assignment but the only ones giving me trouble are these two.</p>\n<pre><code>import java.util.Scanner; \n\npublic class FinalProgrammingProject \n{ \n   \n   public static void main(String[] args)\n   { \n   \n   // Scanner\n     Scanner kb = new Scanner(System.in);\n    \n     // Fixed variables\n     final double stateTax = 0.06, fedTax = 0.12, ot = 1.5, unionfee = 0.01;\n     final int EMPLOYEES = 10;\n  \n    // Other variables\n     double total = 0, totalAverage = 0;\n  \n     // Arrays\n     \n     int[] id = new int[EMPLOYEES];\n  \n     double[] hours = new double[EMPLOYEES];\n     double[] otHours = new double [EMPLOYEES];\n     double[] otPay = new double [EMPLOYEES];\n     double[] rate = new double [EMPLOYEES];\n     double[] gross =  new double [EMPLOYEES];\n     double[] net =  new double [EMPLOYEES];\n     double[] state_Tax =  new double [EMPLOYEES];\n     double[] fed_Tax =  new double [EMPLOYEES];\n     double[] union_fee =  new double [EMPLOYEES]; \n     String[] firstName = new String[EMPLOYEES];\n     char[] middleInitial = new char[EMPLOYEES];\n     String[] lastName = new String[EMPLOYEES];\n      \n     \n     //Call Methods \n     \n     Total_Employee_calc(total, gross, EMPLOYEES);\n     \n     Average_Employee_calc(total, gross, totalAverage, EMPLOYEES);\n     \n     result(firstName, middleInitial, lastName, id, hours, rate, gross,state_Tax, fed_Tax, union_fee, unionfee, stateTax, fedTax, net, total, totalAverage, EMPLOYEES);\n    }//End of Main \n    \n    //Start of Program\n    public static void greetings() \n    {\n        System.out.printf(&quot;\\nBess Unlimited Payroll Generation Bot\\n&quot;);\n        System.out.printf(&quot;===========================================\\n&quot;);\n    }\n    \n    \n    \n  ** //Calculation Method for Total Gross for all Employees \n   public static double Total_Employee_calc(double total, double[] gross, int EMPLOYEES)\n   { \n         for (int i = 0; i &lt; EMPLOYEES; i++)\n         {\n         total += gross[i]; \n         } \n         return  total;\n     }\n\n\n   //Calculation Method for Average Gross for all Employees \n   public static double Average_Employee_calc(double total, double[] gross, double totalAverage, int EMPLOYEES)\n   { \n         for (int i = 0; i &lt; EMPLOYEES; i++)\n         {\n         totalAverage = total/EMPLOYEES; \n         } \n         return totalAverage;\n     }**\n\n\n   //Output \n   public static void result(String[] firstName, char[] middleInitial, String[] lastName, int[] id, double[] hours, double[] rate, double[] gross, double[] state_Tax, double[] fed_Tax, double [] union_fee, double unionfee, double stateTax, double fedTax, double[] net, double total, double totalAverage, int EMPLOYEES)\n   { \n      System.out.printf(&quot;\\nBess Unlimited Payroll Generation Bot\\n&quot;);\n      System.out.printf(&quot;\\nFirst Name         Last Name         MI            ID             Hours             Rate            Gross            Tax              Net&quot;);\n      System.out.printf(&quot;\\n-----------------------------------------------------------------------------------------------------------------------------------------------\\n&quot;);\n      for (int i = 0; i &lt; EMPLOYEES; i++) \n      {\n         System.out.printf(&quot;\\n %s %17s %15c %14d  %16.2f  %16.2f  %16.2f  %16.2f  %16.2f&quot;, firstName[i], lastName[i], middleInitial[i], id[i], hours[i], gross[i], state_Tax[i], fed_Tax[i], net[i]);\n      }\n\n      //totals and average\n      System.out.printf(&quot;\\n\\n Total Gross: %.2f&quot;, total);\n      System.out.printf(&quot;\\n\\n Total Average Gross: %.2f\\n&quot;, totalAverage);\n      \n   }\n}\n</code></pre>\n"},{"tags":["java","android","runtimeexception","greenrobot-eventbus"],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1642471151,"creation_date":1642471151,"answer_id":70749505,"question_id":70748099,"body_markdown":"This exception is thrown when you call `register`. Here is what the code looks like\r\n\r\n        if (AndroidDependenciesDetector.isAndroidSDKAvailable() &amp;&amp; !AndroidDependenciesDetector.areAndroidComponentsAvailable()) {\r\n            // Crash if the user (developer) has not imported the Android compatibility library.\r\n            throw new RuntimeException(&quot;It looks like you are using EventBus on Android, &quot; +\r\n                    &quot;make sure to add the \\&quot;eventbus\\&quot; Android library to your dependencies.&quot;);\r\n        }\r\n\r\n\r\nThis leads me to believe you have this dependency\r\n\r\n`implementation(&quot;org.greenrobot:eventbus-java:3.3.1&quot;)`\r\n\r\ninstead of this which is for `Android`\r\n\r\n`implementation(&quot;org.greenrobot:eventbus:3.3.1&quot;)`","title":"java.lang.RuntimeException: It looks like you are using EventBus on Android, make sure to add the &quot;eventbus&quot; Android library to your dependencies","body":"<p>This exception is thrown when you call <code>register</code>. Here is what the code looks like</p>\n<pre><code>    if (AndroidDependenciesDetector.isAndroidSDKAvailable() &amp;&amp; !AndroidDependenciesDetector.areAndroidComponentsAvailable()) {\n        // Crash if the user (developer) has not imported the Android compatibility library.\n        throw new RuntimeException(&quot;It looks like you are using EventBus on Android, &quot; +\n                &quot;make sure to add the \\&quot;eventbus\\&quot; Android library to your dependencies.&quot;);\n    }\n</code></pre>\n<p>This leads me to believe you have this dependency</p>\n<p><code>implementation(&quot;org.greenrobot:eventbus-java:3.3.1&quot;)</code></p>\n<p>instead of this which is for <code>Android</code></p>\n<p><code>implementation(&quot;org.greenrobot:eventbus:3.3.1&quot;)</code></p>\n"}],"owner":{"account_id":11133557,"reputation":86,"user_id":8172804,"display_name":"LoveMob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70749505,"answer_count":1,"score":2,"last_activity_date":1701620499,"creation_date":1642457418,"question_id":70748099,"body_markdown":"I&#39;m a big fan of this EventBus library and have used it in other projects without any issues. But right now, I&#39;m facing a weird problem with registering the EventBus on the activity and I&#39;m totally stuck.\r\n\r\n***java.lang.RuntimeException: It looks like you are using EventBus on Android, make sure to add the &quot;eventbus&quot; Android library to your dependencies.***\r\n\r\nI&#39;m getting this error on both BlueStacks 5 and emulators. I&#39;ve installed the library correctly, but I&#39;m encountering this weird error. Has anyone else ever had a similar error? Thanks!\r\n\r\n=====================================================\r\n    \r\n    ***java.lang.RuntimeException: It looks like you are using EventBus on Android, make sure to add the &quot;eventbus&quot; Android library to your dependencies.\r\n            at org.greenrobot.eventbus.EventBus.register(EventBus.java:145)\r\n            at com.abc.auth.TutorialActivity.onStart(TutorialActivity.java:45)\r\n            at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1425)**\r\n            at android.app.Activity.performStart(Activity.java:7825)\r\n            at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3294)\r\n            at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n            at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n            at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n            at android.os.Handler.dispatchMessage(Handler.java:107)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)*\r\n\r\n===========================================================\r\n\r\n    package com.abc.auth;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.fragment.app.FragmentActivity;\r\n    import androidx.viewpager2.adapter.FragmentStateAdapter;\r\n    import androidx.viewpager2.widget.ViewPager2;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    \r\n    import com.abc.databinding.ActivityTutorialBinding;\r\n    \r\n    import org.greenrobot.eventbus.EventBus;\r\n    import org.greenrobot.eventbus.Subscribe;\r\n    import org.greenrobot.eventbus.ThreadMode;\r\n    \r\n    public class TutorialActivity extends AppCompatActivity {\r\n        private ActivityTutorialBinding binding;\r\n    \r\n        private static final int NUM_PAGES = 3;\r\n        private ViewPager2 mPager;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            binding = ActivityTutorialBinding.inflate(getLayoutInflater());\r\n            View view = binding.getRoot();\r\n            setContentView(view);\r\n    \r\n            initComponents();\r\n        }\r\n    \r\n        void initComponents(){\r\n            mPager = binding.pagerTutorial;\r\n            ScreenSlidePagerAdapter pagerAdapter = new ScreenSlidePagerAdapter(this);\r\n            mPager.setAdapter(pagerAdapter);\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            EventBus.getDefault().register(this);\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n            EventBus.getDefault().unregister(this);\r\n        }\r\n    \r\n        @Subscribe(threadMode = ThreadMode.MAIN)\r\n        public void onMessageEvent(MessageEvent event) {\r\n            if (mPager.getCurrentItem() == 2){\r\n                finish();\r\n            }\r\n            else{\r\n                mPager.setCurrentItem(mPager.getCurrentItem() + 1);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (mPager.getCurrentItem() == 0) {\r\n                super.onBackPressed();\r\n            } else {\r\n                mPager.setCurrentItem(mPager.getCurrentItem() - 1);\r\n            }\r\n        }\r\n    \r\n        private static class ScreenSlidePagerAdapter extends FragmentStateAdapter {\r\n            public ScreenSlidePagerAdapter(@NonNull AppCompatActivity fragmentActivity) {\r\n                super((FragmentActivity) fragmentActivity);\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public Fragment createFragment(int position) {\r\n                TutorialSlideFragment fragment = new TutorialSlideFragment();\r\n                Bundle args = new Bundle();\r\n                args.putInt(&quot;tutorialIndex&quot;, position);\r\n                fragment.setArguments(args);\r\n    \r\n                return fragment;\r\n            }\r\n    \r\n            @Override\r\n            public int getItemCount() {\r\n                return NUM_PAGES;\r\n            }\r\n        }\r\n    \r\n        public static class MessageEvent {\r\n            public String msg;\r\n    \r\n            public MessageEvent(String msg) {\r\n                this.msg = msg;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"java.lang.RuntimeException: It looks like you are using EventBus on Android, make sure to add the &quot;eventbus&quot; Android library to your dependencies","body":"<p>I'm a big fan of this EventBus library and have used it in other projects without any issues. But right now, I'm facing a weird problem with registering the EventBus on the activity and I'm totally stuck.</p>\n<p><em><strong>java.lang.RuntimeException: It looks like you are using EventBus on Android, make sure to add the &quot;eventbus&quot; Android library to your dependencies.</strong></em></p>\n<p>I'm getting this error on both BlueStacks 5 and emulators. I've installed the library correctly, but I'm encountering this weird error. Has anyone else ever had a similar error? Thanks!</p>\n<p>=====================================================</p>\n<pre><code>***java.lang.RuntimeException: It looks like you are using EventBus on Android, make sure to add the &quot;eventbus&quot; Android library to your dependencies.\n        at org.greenrobot.eventbus.EventBus.register(EventBus.java:145)\n        at com.abc.auth.TutorialActivity.onStart(TutorialActivity.java:45)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1425)**\n        at android.app.Activity.performStart(Activity.java:7825)\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3294)\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)*\n</code></pre>\n<p>===========================================================</p>\n<pre><code>package com.abc.auth;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\nimport androidx.viewpager2.widget.ViewPager2;\n\nimport android.os.Bundle;\nimport android.view.View;\n\nimport com.abc.databinding.ActivityTutorialBinding;\n\nimport org.greenrobot.eventbus.EventBus;\nimport org.greenrobot.eventbus.Subscribe;\nimport org.greenrobot.eventbus.ThreadMode;\n\npublic class TutorialActivity extends AppCompatActivity {\n    private ActivityTutorialBinding binding;\n\n    private static final int NUM_PAGES = 3;\n    private ViewPager2 mPager;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityTutorialBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n\n        initComponents();\n    }\n\n    void initComponents(){\n        mPager = binding.pagerTutorial;\n        ScreenSlidePagerAdapter pagerAdapter = new ScreenSlidePagerAdapter(this);\n        mPager.setAdapter(pagerAdapter);\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        EventBus.getDefault().register(this);\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        EventBus.getDefault().unregister(this);\n    }\n\n    @Subscribe(threadMode = ThreadMode.MAIN)\n    public void onMessageEvent(MessageEvent event) {\n        if (mPager.getCurrentItem() == 2){\n            finish();\n        }\n        else{\n            mPager.setCurrentItem(mPager.getCurrentItem() + 1);\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (mPager.getCurrentItem() == 0) {\n            super.onBackPressed();\n        } else {\n            mPager.setCurrentItem(mPager.getCurrentItem() - 1);\n        }\n    }\n\n    private static class ScreenSlidePagerAdapter extends FragmentStateAdapter {\n        public ScreenSlidePagerAdapter(@NonNull AppCompatActivity fragmentActivity) {\n            super((FragmentActivity) fragmentActivity);\n        }\n\n        @NonNull\n        @Override\n        public Fragment createFragment(int position) {\n            TutorialSlideFragment fragment = new TutorialSlideFragment();\n            Bundle args = new Bundle();\n            args.putInt(&quot;tutorialIndex&quot;, position);\n            fragment.setArguments(args);\n\n            return fragment;\n        }\n\n        @Override\n        public int getItemCount() {\n            return NUM_PAGES;\n        }\n    }\n\n    public static class MessageEvent {\n        public String msg;\n\n        public MessageEvent(String msg) {\n            this.msg = msg;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":2,"creation_date":1701619397,"post_id":77595045,"comment_id":136795677,"body_markdown":"Read the source code.","body":"Read the source code."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1701619795,"post_id":77595045,"comment_id":136795731,"body_markdown":"The JSON field `&quot;dataStream&quot; : &quot;java.io.ByteArrayInputStream@3232&quot;` does not contain a `ByteArrayInputStream` instance, it contains just that string `&quot;java.io.ByteArrayInputStream@3232&quot;`, which was the result of `toString()`. You can&#39;t read bytes from *that*.","body":"The JSON field <code>&quot;dataStream&quot; : &quot;java.io.ByteArrayInputStream@3232&quot;</code> does not contain a <code>ByteArrayInputStream</code> instance, it contains just that string <code>&quot;java.io.ByteArrayInputStream@3232&quot;</code>, which was the result of <code>toString()</code>. You can&#39;t read bytes from <i>that</i>."},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701623915,"post_id":77595045,"comment_id":136796228,"body_markdown":"Java is open-source and the source code is publically available: https://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/java/io","body":"Java is open-source and the source code is publically available: <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/java/io\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/tree/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a>"}],"owner":{"account_id":30055742,"reputation":1,"user_id":23033164,"display_name":"Neeraj"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701619827,"answer_count":0,"score":-3,"last_activity_date":1701619271,"creation_date":1701619271,"question_id":77595045,"body_markdown":"Where can I learn about java.io streams in depth? I mean even the internal working.\r\n\r\nI&#39;m working on a scenario where I am getting a JSON response from another internal service. This JSON contains a ByteArrayInputStream (e.g. &quot;dataStream&quot; : &quot;java.io.ByteArrayInputStream@3232&quot;) and I have to write or pass this into servlet output stream. The thing is I have no clear Idea of it internally works. How the bytes are streamed? How it even works in case of a https response.\r\n\r\nI want to master this java.io stream thing. So all your inputs will be valuable!\r\n\r\nI am more interested in how it works than how to do it.","title":"Where can I learn about java.io streams in depth? I mean even the internal working","body":"<p>Where can I learn about java.io streams in depth? I mean even the internal working.</p>\n<p>I'm working on a scenario where I am getting a JSON response from another internal service. This JSON contains a ByteArrayInputStream (e.g. &quot;dataStream&quot; : &quot;java.io.ByteArrayInputStream@3232&quot;) and I have to write or pass this into servlet output stream. The thing is I have no clear Idea of it internally works. How the bytes are streamed? How it even works in case of a https response.</p>\n<p>I want to master this java.io stream thing. So all your inputs will be valuable!</p>\n<p>I am more interested in how it works than how to do it.</p>\n"},{"tags":["java","swing","jpanel","background-color"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701605813,"post_id":77594153,"comment_id":136794262,"body_markdown":"You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)\nThe image actually looks like you could (or should?) have a `JList` or similar","body":"You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> The image actually looks like you could (or should?) have a <code>JList</code> or similar"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701606706,"post_id":77594153,"comment_id":136794345,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":21295493,"reputation":1,"user_id":20483619,"display_name":"Daniel Tiglao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701619116,"creation_date":1701604432,"question_id":77594153,"body_markdown":"```\r\n        private void btn_productManagementMouseClicked(java.awt.event.MouseEvent evt) {                                                   \r\n        setColor(btn_productManagement);\r\n        resetColor(btn_accounts);\r\n        resetColor(btn_priceChecker);\r\n        resetColor(btn_settings);\r\n        resetColor(btn_signout);\r\n        \r\n        jTabbedPane1.setSelectedIndex(0);\r\n        \r\n    } \r\n\r\n\r\n    void setColor(JPanel panel){\r\n         panel.setBackground(new Color(78,50,137));\r\n                \r\n    }\r\n    \r\n    void resetColor(JPanel panel){\r\n        panel.setBackground(new Color(63,43,100));\r\n                \r\n    }\r\n```\r\n\r\n\r\nI have this GUI made from netbeans where I used a jlabel as my tab selector and this code handles the switching color or highlighting of the labels depending on the panel that is selected. I made a setting where you set a specific theme for the whole GUI and Im wondering how can I manipulate the code inside of the setColor and resetColor method and change the color that is set with each methods. I&#39;ll leave a picture for visualization. Thanks!\r\n\r\n# Here&#39;s the tab section\r\n\r\n[![https://i.stack.imgur.com/jKpJP.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jKpJP.png","title":"Changing the color set into a method when a jbutton is pressed","body":"<pre><code>        private void btn_productManagementMouseClicked(java.awt.event.MouseEvent evt) {                                                   \n        setColor(btn_productManagement);\n        resetColor(btn_accounts);\n        resetColor(btn_priceChecker);\n        resetColor(btn_settings);\n        resetColor(btn_signout);\n        \n        jTabbedPane1.setSelectedIndex(0);\n        \n    } \n\n\n    void setColor(JPanel panel){\n         panel.setBackground(new Color(78,50,137));\n                \n    }\n    \n    void resetColor(JPanel panel){\n        panel.setBackground(new Color(63,43,100));\n                \n    }\n</code></pre>\n<p>I have this GUI made from netbeans where I used a jlabel as my tab selector and this code handles the switching color or highlighting of the labels depending on the panel that is selected. I made a setting where you set a specific theme for the whole GUI and Im wondering how can I manipulate the code inside of the setColor and resetColor method and change the color that is set with each methods. I'll leave a picture for visualization. Thanks!</p>\n<h1>Here's the tab section</h1>\n<p><a href=\"https://i.stack.imgur.com/jKpJP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jKpJP.png\" alt=\"https://i.stack.imgur.com/jKpJP.png\" /></a></p>\n"},{"tags":["java","matrix","aparapi"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701573317,"post_id":77591813,"comment_id":136792203,"body_markdown":"Of something you said , &quot;parallel&quot; here is a link just to show you a java command-line that operates in Java !  Use  CNTRL+F in your browser when you (download - only a page) open the page and &quot;find&quot; the word &quot;supposition&quot; then a few paragraphs on is some orange text and the words export CATALINA_OPTS and you will see plenty of -x symbols. That is enabling multi core initializing in 1.8.0_202 level java   -XX:+UnlockExperimentalVMOptions -XX:ActiveProcessorCount=3 https://drive.google.com/file/d/1VipRDFmIWYBoaYbzYx0G70jyMKlSBIGe/view?usp=sharing","body":"Of something you said , &quot;parallel&quot; here is a link just to show you a java command-line that operates in Java !  Use  CNTRL+F in your browser when you (download - only a page) open the page and &quot;find&quot; the word &quot;supposition&quot; then a few paragraphs on is some orange text and the words export CATALINA_OPTS and you will see plenty of -x symbols. That is enabling multi core initializing in 1.8.0_202 level java   -XX:+UnlockExperimentalVMOptions -XX:ActiveProcessorCount=3 <a href=\"https://drive.google.com/file/d/1VipRDFmIWYBoaYbzYx0G70jyMKlSBIGe/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1VipRDFmIWYBoaYbzYx0G70jyMKlSBIGe/&hellip;</a>"},{"owner":{"account_id":26021646,"reputation":29,"user_id":19729255,"display_name":"Zahari Stoyanov"},"score":0,"creation_date":1701607510,"post_id":77591813,"comment_id":136794437,"body_markdown":"@SamuelMarchant as far as I can see, this relies on JVM. I&#39;m specifically trying to execute my code on GPU, that&#39;s why I&#39;m using Aparapi. If it fails to compile an OpenCL kernel, it defaults to JVM multi-processing.","body":"@SamuelMarchant as far as I can see, this relies on JVM. I&#39;m specifically trying to execute my code on GPU, that&#39;s why I&#39;m using Aparapi. If it fails to compile an OpenCL kernel, it defaults to JVM multi-processing."},{"owner":{"account_id":26021646,"reputation":29,"user_id":19729255,"display_name":"Zahari Stoyanov"},"score":0,"creation_date":1701615257,"post_id":77591813,"comment_id":136795201,"body_markdown":"Let me make this clear - I&#39;m not asking in general how parallelize my code(that&#39;s been taken care of), I&#39;m asking how to make Aparapi&#39;s 3D range do what it&#39;s supposed to do.","body":"Let me make this clear - I&#39;m not asking in general how parallelize my code(that&#39;s been taken care of), I&#39;m asking how to make Aparapi&#39;s 3D range do what it&#39;s supposed to do."}],"answers":[{"tags":[],"owner":{"account_id":26021646,"reputation":29,"user_id":19729255,"display_name":"Zahari Stoyanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701618527,"creation_date":1701618348,"answer_id":77594999,"question_id":77591813,"body_markdown":"Ok, I think I found a solution, be it a little crazy:\r\n\r\n    public static NDmatrix matMul(float[][] a, float[][] b) {\r\n        int[] aDim = new int[]{a.length, a[0].length};\r\n        int[] bDim = new int[]{b.length, b[0].length};\r\n        if(aDim[1] == bDim[0]){\r\n\r\n            int[] Dim = new int[]{aDim[0], bDim[1]};\r\n            int aVSize = aDim[0] * aDim[1];\r\n            float[] aVector = new float[aVSize];\r\n            for(int i = 0; i &lt; aDim[0]; i++)\r\n                System.arraycopy(a[i], 0, aVector, i * aDim[1], aDim[1]);\r\n            int bVSize = bDim[0] * bDim[1];\r\n            float[] bVector = new float[bVSize];\r\n            for(int i = 0; i &lt; bDim[0]; i++)\r\n                System.arraycopy(b[i], 0, bVector, i * bDim[1], bDim[1]);\r\n            int resVSize = Dim[0] * Dim[1];\r\n            float[] resVector = new float[resVSize];\r\n            int d[] = new int[]{aDim[1]};\r\n            return getMult(Dim, aVector, bVector, resVector, d);\r\n        }\r\n        System.out.println(&quot;The number of columns in left matrix and number of rows in right matrix do not match.&quot;);\r\n        System.out.println();\r\n        return null;\r\n    }\r\n\r\n    @NotNull\r\n    private static NDmatrix getMult(int[] Dim, float[] aVector, float[] bVector, float[] resVector, int[] d) {\r\n        Kernel mKernel = new Kernel() {\r\n            final int ht = Dim[0];\r\n            final int wt = Dim[1];\r\n            final int dpt = d[0];\r\n\r\n            public void run() {\r\n                int c = getGlobalId(0);\r\n                int r = getGlobalId(1);\r\n                int l = getGlobalId(2);\r\n                localBarrier();\r\n                // This is where the magic happens - without this loop the code only works for l = 0 !!!\r\n                for(int i = 0; i &lt; dpt; i++) // really?!\r\n                    if(i == l)               // why, oh why do I have to do this...\r\n                        resVector[r * wt + c] += aVector[r * dpt + i] * bVector[i * wt + c];\r\n            }\r\n        };\r\n        mKernel.setExplicit(true);\r\n        mKernel.put(aVector);\r\n        mKernel.put(bVector);\r\n        mKernel.put(resVector);\r\n        mKernel.put(Dim);\r\n        mKernel.put(d);\r\n        mKernel.execute(Range.create3D(Dim[1], Dim[0], d[0]));\r\n        mKernel.get(resVector);\r\n        mKernel.dispose();\r\n        return new NDmatrix(Dim, resVector, null);\r\n    }\r\n\r\nCan&#39;t believe that such a bizarre loop would somehow force it to do its thing...","title":"Multiplying two matrices using Aparapi - not working in 3D range","body":"<p>Ok, I think I found a solution, be it a little crazy:</p>\n<pre><code>public static NDmatrix matMul(float[][] a, float[][] b) {\n    int[] aDim = new int[]{a.length, a[0].length};\n    int[] bDim = new int[]{b.length, b[0].length};\n    if(aDim[1] == bDim[0]){\n\n        int[] Dim = new int[]{aDim[0], bDim[1]};\n        int aVSize = aDim[0] * aDim[1];\n        float[] aVector = new float[aVSize];\n        for(int i = 0; i &lt; aDim[0]; i++)\n            System.arraycopy(a[i], 0, aVector, i * aDim[1], aDim[1]);\n        int bVSize = bDim[0] * bDim[1];\n        float[] bVector = new float[bVSize];\n        for(int i = 0; i &lt; bDim[0]; i++)\n            System.arraycopy(b[i], 0, bVector, i * bDim[1], bDim[1]);\n        int resVSize = Dim[0] * Dim[1];\n        float[] resVector = new float[resVSize];\n        int d[] = new int[]{aDim[1]};\n        return getMult(Dim, aVector, bVector, resVector, d);\n    }\n    System.out.println(&quot;The number of columns in left matrix and number of rows in right matrix do not match.&quot;);\n    System.out.println();\n    return null;\n}\n\n@NotNull\nprivate static NDmatrix getMult(int[] Dim, float[] aVector, float[] bVector, float[] resVector, int[] d) {\n    Kernel mKernel = new Kernel() {\n        final int ht = Dim[0];\n        final int wt = Dim[1];\n        final int dpt = d[0];\n\n        public void run() {\n            int c = getGlobalId(0);\n            int r = getGlobalId(1);\n            int l = getGlobalId(2);\n            localBarrier();\n            // This is where the magic happens - without this loop the code only works for l = 0 !!!\n            for(int i = 0; i &lt; dpt; i++) // really?!\n                if(i == l)               // why, oh why do I have to do this...\n                    resVector[r * wt + c] += aVector[r * dpt + i] * bVector[i * wt + c];\n        }\n    };\n    mKernel.setExplicit(true);\n    mKernel.put(aVector);\n    mKernel.put(bVector);\n    mKernel.put(resVector);\n    mKernel.put(Dim);\n    mKernel.put(d);\n    mKernel.execute(Range.create3D(Dim[1], Dim[0], d[0]));\n    mKernel.get(resVector);\n    mKernel.dispose();\n    return new NDmatrix(Dim, resVector, null);\n}\n</code></pre>\n<p>Can't believe that such a bizarre loop would somehow force it to do its thing...</p>\n"}],"owner":{"account_id":26021646,"reputation":29,"user_id":19729255,"display_name":"Zahari Stoyanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701618527,"creation_date":1701543985,"question_id":77591813,"body_markdown":"Currently working on a Java library for matrix operations and ML.\r\nI use Aparapi to utilize the GPU.\r\n\r\nI&#39;ve written this code to multiply two matrices:\r\n\r\n```\r\n   public static NDmatrix matMul(float[][] a, float[][] b) {\r\n        int[] aDim = new int[]{a.length, a[0].length};\r\n        int[] bDim = new int[]{b.length, b[0].length};\r\n        if(aDim[1] == bDim[0]){\r\n\r\n            int[] Dim = new int[]{aDim[0], bDim[1]};\r\n            int aVSize = aDim[0] * aDim[1];\r\n            float[] aVector = new float[aVSize];\r\n            for(int i = 0; i &lt; aDim[0]; i++)\r\n                System.arraycopy(a[i], 0, aVector, i * aDim[1], aDim[1]);\r\n            int bVSize = bDim[0] * bDim[1];\r\n            float[] bVector = new float[bVSize];\r\n            for(int i = 0; i &lt; bDim[0]; i++)\r\n                System.arraycopy(b[i], 0, bVector, i * bDim[1], bDim[1]);\r\n            int resVSize = Dim[0] * Dim[1];\r\n            float[] resVector = new float[resVSize];\r\n            int d[] = new int[]{aDim[1]};\r\n            Kernel mKernel = new Kernel() {\r\n                final int ht = Dim[0];\r\n                final int wt = Dim[1];\r\n                final int dpt = d[0];\r\n\r\n                public void run() {\r\n                    int c = getGlobalId(0);\r\n                    int r = getGlobalId(1);\r\n                    int l = getGlobalId(2);\r\n                    localBarrier();\r\n                    //for(int l = 0; l &lt; dpt; l++)\r\n                    resVector[r * wt + c] = resVector[r * wt + c] + aVector[r * dpt + l] * bVector[l * wt + c];\r\n                }\r\n            };\r\n            mKernel.setExplicit(true);\r\n            mKernel.put(aVector);\r\n            mKernel.put(bVector);\r\n            mKernel.put(resVector);\r\n            mKernel.put(Dim);\r\n            mKernel.put(d);\r\n            mKernel.execute(Range.create3D(Dim[1], Dim[0], d[0]));\r\n            //mKernel.execute(Range.create2D(Dim[1], Dim[0]));\r\n            mKernel.get(resVector);\r\n            mKernel.dispose();\r\n            return new NDmatrix(Dim, resVector, null);\r\n        }\r\n        System.out.println(&quot;The number of columns in left matrix and number of rows in right matrix do not match.&quot;);\r\n        System.out.println();\r\n        return null;\r\n    }\r\n```\r\n\r\nHowever, it looks like resVector[some_index] only gets updated once.\r\nIf, instead, I use a 2D range and a loop(the commented bits in the code), it works correctly.\r\nWhat could be the reason for such behavior and how can I force it to work fully parallel?\r\n\r\nInterestingly, I tried one thing that &quot;worked&quot; - after updating resVector[some_index], I called this.put(resVector).\r\nHowever, it then couldn&#39;t compile in OpenCL and ended up using Java&#39;s multi-threading instead, eventually resulting in a correct result.","title":"Multiplying two matrices using Aparapi - not working in 3D range","body":"<p>Currently working on a Java library for matrix operations and ML.\nI use Aparapi to utilize the GPU.</p>\n<p>I've written this code to multiply two matrices:</p>\n<pre><code>   public static NDmatrix matMul(float[][] a, float[][] b) {\n        int[] aDim = new int[]{a.length, a[0].length};\n        int[] bDim = new int[]{b.length, b[0].length};\n        if(aDim[1] == bDim[0]){\n\n            int[] Dim = new int[]{aDim[0], bDim[1]};\n            int aVSize = aDim[0] * aDim[1];\n            float[] aVector = new float[aVSize];\n            for(int i = 0; i &lt; aDim[0]; i++)\n                System.arraycopy(a[i], 0, aVector, i * aDim[1], aDim[1]);\n            int bVSize = bDim[0] * bDim[1];\n            float[] bVector = new float[bVSize];\n            for(int i = 0; i &lt; bDim[0]; i++)\n                System.arraycopy(b[i], 0, bVector, i * bDim[1], bDim[1]);\n            int resVSize = Dim[0] * Dim[1];\n            float[] resVector = new float[resVSize];\n            int d[] = new int[]{aDim[1]};\n            Kernel mKernel = new Kernel() {\n                final int ht = Dim[0];\n                final int wt = Dim[1];\n                final int dpt = d[0];\n\n                public void run() {\n                    int c = getGlobalId(0);\n                    int r = getGlobalId(1);\n                    int l = getGlobalId(2);\n                    localBarrier();\n                    //for(int l = 0; l &lt; dpt; l++)\n                    resVector[r * wt + c] = resVector[r * wt + c] + aVector[r * dpt + l] * bVector[l * wt + c];\n                }\n            };\n            mKernel.setExplicit(true);\n            mKernel.put(aVector);\n            mKernel.put(bVector);\n            mKernel.put(resVector);\n            mKernel.put(Dim);\n            mKernel.put(d);\n            mKernel.execute(Range.create3D(Dim[1], Dim[0], d[0]));\n            //mKernel.execute(Range.create2D(Dim[1], Dim[0]));\n            mKernel.get(resVector);\n            mKernel.dispose();\n            return new NDmatrix(Dim, resVector, null);\n        }\n        System.out.println(&quot;The number of columns in left matrix and number of rows in right matrix do not match.&quot;);\n        System.out.println();\n        return null;\n    }\n</code></pre>\n<p>However, it looks like resVector[some_index] only gets updated once.\nIf, instead, I use a 2D range and a loop(the commented bits in the code), it works correctly.\nWhat could be the reason for such behavior and how can I force it to work fully parallel?</p>\n<p>Interestingly, I tried one thing that &quot;worked&quot; - after updating resVector[some_index], I called this.put(resVector).\nHowever, it then couldn't compile in OpenCL and ended up using Java's multi-threading instead, eventually resulting in a correct result.</p>\n"},{"tags":["java","swing","jlist"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1701618427,"post_id":77594982,"comment_id":136795546,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others to provide an answer faster.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/77594982/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others to provide an answer faster."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701618647,"post_id":77594982,"comment_id":136795579,"body_markdown":"1) There is no need for the ArrayList. The ListModel will contain the data used to display in the JList. 2) There is no need to use the setModel() method in the ActionListner. Updating the model will cause the JList to be repainted.  Read the Swing tutorial on [How to Use Lists](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html). The `ListDemo` is a complete working example that does exactly what you want.","body":"1) There is no need for the ArrayList. The ListModel will contain the data used to display in the JList. 2) There is no need to use the setModel() method in the ActionListner. Updating the model will cause the JList to be repainted.  Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">How to Use Lists</a>. The <code>ListDemo</code> is a complete working example that does exactly what you want."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701619266,"post_id":77594982,"comment_id":136795657,"body_markdown":"Does pressing button1 invoke the `jButton1ActionPerformed` method?  That method *overwrites* any previous changes to the JLists model by setting a new model, so it makes sense that you would not see any of those changes.","body":"Does pressing button1 invoke the <code>jButton1ActionPerformed</code> method?  That method <i>overwrites</i> any previous changes to the JLists model by setting a new model, so it makes sense that you would not see any of those changes."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701625176,"post_id":77594982,"comment_id":136796387,"body_markdown":"*Does pressing button1 invoke the ...* Yes, and having a button do that seems rather odd, *unless that button is marked something like &quot;Reset data&quot;*.","body":"<i>Does pressing button1 invoke the ...</i> Yes, and having a button do that seems rather odd, <i>unless that button is marked something like &quot;Reset data&quot;</i>."}],"owner":{"account_id":29657872,"reputation":35,"user_id":22730212,"display_name":"RichpooR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701618096,"creation_date":1701618096,"question_id":77594982,"body_markdown":"In the code I wrote, I list the existing companies with button1 and add the company to my list with button2, but after adding the company with button 2, when I press button1 to list the companies, I cannot see the company I added in JList. Can you help me ?\r\n\r\n    public ArrayList&lt;Company&gt; sirketler = new ArrayList&lt;Company&gt;();\r\n    \r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        DefaultListModel&lt;String&gt; listModel = new DefaultListModel&lt;&gt;();\r\n        \r\n        ArrayList&lt;Company&gt; sirketler = new ArrayList&lt;Company&gt;();\r\n        Company firma_a = new Company(&quot;Firma A&quot;);\r\n        Company firma_b = new Company(&quot;Firma B&quot;);\r\n        Company firma_c = new Company(&quot;Firma C&quot;);\r\n        Company firma_d = new Company(&quot;Firma D&quot;);\r\n        Company firma_f = new Company(&quot;Firma F&quot;);\r\n        \r\n        sirketler.add(firma_a);\r\n        sirketler.add(firma_b);\r\n        sirketler.add(firma_c);\r\n        sirketler.add(firma_d);\r\n        sirketler.add(firma_f);\r\n        \r\n        for (Company sirket : sirketler) {\r\n            listModel.addElement(sirket.getName());\r\n        }\r\n        \r\n        jList1.setModel(listModel);\r\n    }                                        \r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        DefaultListModel&lt;String&gt; listModel = (DefaultListModel&lt;String&gt;) jList1.getModel();\r\n        Company sirket = new Company(jTextField1.getText());\r\n        sirketler.add(sirket);\r\n        listModel.addElement(sirket.getName());\r\n        \r\n        jList1.setModel(listModel);\r\n    }","title":"JList not updating","body":"<p>In the code I wrote, I list the existing companies with button1 and add the company to my list with button2, but after adding the company with button 2, when I press button1 to list the companies, I cannot see the company I added in JList. Can you help me ?</p>\n<pre><code>public ArrayList&lt;Company&gt; sirketler = new ArrayList&lt;Company&gt;();\n\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    DefaultListModel&lt;String&gt; listModel = new DefaultListModel&lt;&gt;();\n    \n    ArrayList&lt;Company&gt; sirketler = new ArrayList&lt;Company&gt;();\n    Company firma_a = new Company(&quot;Firma A&quot;);\n    Company firma_b = new Company(&quot;Firma B&quot;);\n    Company firma_c = new Company(&quot;Firma C&quot;);\n    Company firma_d = new Company(&quot;Firma D&quot;);\n    Company firma_f = new Company(&quot;Firma F&quot;);\n    \n    sirketler.add(firma_a);\n    sirketler.add(firma_b);\n    sirketler.add(firma_c);\n    sirketler.add(firma_d);\n    sirketler.add(firma_f);\n    \n    for (Company sirket : sirketler) {\n        listModel.addElement(sirket.getName());\n    }\n    \n    jList1.setModel(listModel);\n}                                        \n\nprivate void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    DefaultListModel&lt;String&gt; listModel = (DefaultListModel&lt;String&gt;) jList1.getModel();\n    Company sirket = new Company(jTextField1.getText());\n    sirketler.add(sirket);\n    listModel.addElement(sirket.getName());\n    \n    jList1.setModel(listModel);\n}\n</code></pre>\n"},{"tags":["java","string","dictionary","sorting","collections"],"answers":[{"tags":[],"owner":{"account_id":26244172,"reputation":19,"user_id":19917972,"display_name":"MrCrobben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701618080,"creation_date":1701618080,"answer_id":77594980,"question_id":77594818,"body_markdown":"for the sorting:\r\n\r\n - Sorting by values\r\n\r\n        Map&lt;String, Integer&gt; unsortedMap = new HashMap&lt;&gt;();\r\n        unsortedMap.put(&quot;John&quot;, 30);\r\n        unsortedMap.put(&quot;Alice&quot;, 25);\r\n        unsortedMap.put(&quot;Bob&quot;, 35);\r\n        unsortedMap.put(&quot;Eva&quot;, 28);\r\n\r\n        // Convert the map entries to a list\r\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; entryList = new ArrayList&lt;&gt;(unsortedMap.entrySet());\r\n\r\n        // Sort the list based on the values\r\n        Collections.sort(entryList, Comparator.comparing(Map.Entry::getValue));\r\n\r\n        // Create a new LinkedHashMap to preserve the order\r\n        Map&lt;String, Integer&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\n        for (Map.Entry&lt;String, Integer&gt; entry : entryList) {\r\n            sortedMap.put(entry.getKey(), entry.getValue());\r\n        }\r\n\r\n - by keys\r\n    Just use `TreeMap` instead of `HashMap`\r\n\r\nfor splitting String may I suggest using `split(&quot; &quot;)` \r\nexample:\r\n```String str = &quot;Hello World&quot;;\r\nString[] splittedStr = str.split(&quot; &quot;);\r\nsplittedStr[0] =&gt; &quot;Hello&quot;\r\nsplittedStr[1] =&gt; &quot;World&quot;```","title":"Count word with a method where it&#39;s input parameter is a list of strings representing lines of text","body":"<p>for the sorting:</p>\n<ul>\n<li><p>Sorting by values</p>\n<pre><code> Map&lt;String, Integer&gt; unsortedMap = new HashMap&lt;&gt;();\n unsortedMap.put(&quot;John&quot;, 30);\n unsortedMap.put(&quot;Alice&quot;, 25);\n unsortedMap.put(&quot;Bob&quot;, 35);\n unsortedMap.put(&quot;Eva&quot;, 28);\n\n // Convert the map entries to a list\n List&lt;Map.Entry&lt;String, Integer&gt;&gt; entryList = new ArrayList&lt;&gt;(unsortedMap.entrySet());\n\n // Sort the list based on the values\n Collections.sort(entryList, Comparator.comparing(Map.Entry::getValue));\n\n // Create a new LinkedHashMap to preserve the order\n Map&lt;String, Integer&gt; sortedMap = new LinkedHashMap&lt;&gt;();\n for (Map.Entry&lt;String, Integer&gt; entry : entryList) {\n     sortedMap.put(entry.getKey(), entry.getValue());\n }\n</code></pre>\n</li>\n<li><p>by keys\nJust use <code>TreeMap</code> instead of <code>HashMap</code></p>\n</li>\n</ul>\n<p>for splitting String may I suggest using <code>split(&quot; &quot;)</code>\nexample:</p>\n<pre><code>String[] splittedStr = str.split(&quot; &quot;);\nsplittedStr[0] =&gt; &quot;Hello&quot;\nsplittedStr[1] =&gt; &quot;World&quot;```\n</code></pre>\n"}],"owner":{"account_id":24647929,"reputation":11,"user_id":18545358,"display_name":"Kere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701618080,"creation_date":1701615360,"question_id":77594818,"body_markdown":"I have to write an implementation of String method, where it&#39;s input parameter is a list of strings representing lines of text - Count words in a text and return statistics.\r\n\r\n1. How can I split the String with spaces, so it will also ignore special characters? \r\n2. How can I sort the map first by it&#39;s numerical order of values and then by it&#39;s alphabetical order of keys.\r\nHere are the restrictions/hints I have:\r\n&quot;The input parameter is a list of strings representing lines of text.\r\n\r\nCount how often the word occurs in the text.\r\nIf the word &quot;kitten&quot; occurred in a text 23 times then its entry would be &quot;kitten - 23\\n&quot;. Return statistics as a String containing all the entries.\r\n\r\nOmit all words which contain less than 4 letters and appear less less than 10 (the words which are too small or to rare) The entries in the resulting String should be also sorted by their amount and then in alphabetical order if it is needed.\r\nBe sure to make your code handling texts that are not in English.\r\n\r\nYou may not use streams, lambdas or method references in your code&quot;\r\n\r\n\r\n`public class Words {\r\n\r\n    public String countWords(List&lt;String&gt; lines) {\r\n        String result = &quot;&quot;;\r\n        HashMap&lt;String, Integer&gt; wordMap = mapOfWords(lines);\r\n        for (String key : wordMap.keySet()) {\r\n            if (wordMap.get(key) &gt; 10) {\r\n                result += key + &quot; - &quot; + wordMap.get(key);\r\n                result+= &quot;\\n&quot;;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private HashMap&lt;String, Integer&gt; mapOfWords(List&lt;String&gt; lines) {\r\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (String line : lines) {\r\n            String[] wordList = line.split(&quot;[ ,.-?]&quot;);\r\n            for (String word: wordList) {\r\n                if (word.length() &gt;= 4) {\r\n                    if (map.containsKey(word)) {\r\n                        map.put(word, map.get(word) + 1);\r\n                    } else {\r\n                        map.put(word, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return map;\r\n    }\r\n}`\r\n\r\n\r\nI have written code that counts word occurrence frequency and used map to store words as key and it&#39;s occurrence frequency as value.\r\nThere are restrictions for using streams, lambdas or method references.","title":"Count word with a method where it&#39;s input parameter is a list of strings representing lines of text","body":"<p>I have to write an implementation of String method, where it's input parameter is a list of strings representing lines of text - Count words in a text and return statistics.</p>\n<ol>\n<li>How can I split the String with spaces, so it will also ignore special characters?</li>\n<li>How can I sort the map first by it's numerical order of values and then by it's alphabetical order of keys.\nHere are the restrictions/hints I have:\n&quot;The input parameter is a list of strings representing lines of text.</li>\n</ol>\n<p>Count how often the word occurs in the text.\nIf the word &quot;kitten&quot; occurred in a text 23 times then its entry would be &quot;kitten - 23\\n&quot;. Return statistics as a String containing all the entries.</p>\n<p>Omit all words which contain less than 4 letters and appear less less than 10 (the words which are too small or to rare) The entries in the resulting String should be also sorted by their amount and then in alphabetical order if it is needed.\nBe sure to make your code handling texts that are not in English.</p>\n<p>You may not use streams, lambdas or method references in your code&quot;</p>\n<p>`public class Words {</p>\n<pre><code>public String countWords(List&lt;String&gt; lines) {\n    String result = &quot;&quot;;\n    HashMap&lt;String, Integer&gt; wordMap = mapOfWords(lines);\n    for (String key : wordMap.keySet()) {\n        if (wordMap.get(key) &gt; 10) {\n            result += key + &quot; - &quot; + wordMap.get(key);\n            result+= &quot;\\n&quot;;\n        }\n    }\n    return result;\n}\n\nprivate HashMap&lt;String, Integer&gt; mapOfWords(List&lt;String&gt; lines) {\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    for (String line : lines) {\n        String[] wordList = line.split(&quot;[ ,.-?]&quot;);\n        for (String word: wordList) {\n            if (word.length() &gt;= 4) {\n                if (map.containsKey(word)) {\n                    map.put(word, map.get(word) + 1);\n                } else {\n                    map.put(word, 1);\n                }\n            }\n        }\n    }\n    return map;\n}\n</code></pre>\n<p>}`</p>\n<p>I have written code that counts word occurrence frequency and used map to store words as key and it's occurrence frequency as value.\nThere are restrictions for using streams, lambdas or method references.</p>\n"},{"tags":["java","android","android-viewmodel","mobile-development"],"answers":[{"tags":[],"owner":{"account_id":23642317,"reputation":777,"user_id":17672403,"display_name":"Faruk Karaca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701614009,"creation_date":1701613594,"answer_id":77594708,"question_id":77594181,"body_markdown":"You should observe `liveData` this way. The data may not have changed when the `fragment` was created. You cannot catch this because `onCreateView` will run once. This way, it will be triggered with every data change.\r\n\r\n        sharedViewModel.getSelectedGoal().observe(getViewLifecycleOwner(), new Observer&lt;Integer&gt;() {\r\n            @Override\r\n            public void onChanged(Integer goal) {\r\n                if (goal != null) {\r\n                    textView.setText(String.valueOf(goal));\r\n                } else {\r\n                    Log.e(&quot;Goal&quot;, &quot;Goal is null&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;","title":"Why the value of goal is null?","body":"<p>You should observe <code>liveData</code> this way. The data may not have changed when the <code>fragment</code> was created. You cannot catch this because <code>onCreateView</code> will run once. This way, it will be triggered with every data change.</p>\n<pre><code>    sharedViewModel.getSelectedGoal().observe(getViewLifecycleOwner(), new Observer&lt;Integer&gt;() {\n        @Override\n        public void onChanged(Integer goal) {\n            if (goal != null) {\n                textView.setText(String.valueOf(goal));\n            } else {\n                Log.e(&quot;Goal&quot;, &quot;Goal is null&quot;);\n            }\n        }\n    });\n\n    return view;\n</code></pre>\n"}],"owner":{"account_id":25810490,"reputation":29,"user_id":19551351,"display_name":"Vlad Duta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701617909,"creation_date":1701604797,"question_id":77594181,"body_markdown":"  \r\nI am trying to send data from Quiz1Fragment to HomeFragment using SharedViewModel. \r\n\r\nI have observed the log statements in SharedViewModel, and the goal is correctly set.\r\n\r\nThe issue seems to be with the observation or retrieval of the goal value in HomeFragment.\r\n\r\nI have already tried observing changes in HomeFragment using LiveData, but the TextView still displays null.\r\n\r\n**Logcat**:`\r\n\r\n D  Setting goal in SharedViewModel: 200\r\n\r\n E  Goal is null\r\n\r\nCan someone fin any solutions?\r\n\r\n\r\n**HomeFragment** \r\n\r\n       public class HomeFragment extends Fragment {\r\n    TextView textView;\r\n    SharedViewModel sharedViewModel;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view =  inflater.inflate(R.layout.fragment_home, container, false);\r\n        textView = view.findViewById(R.id.textViewCalories);\r\n        sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\r\n\r\n\r\n        Integer goal = sharedViewModel.getSelectedGoal().getValue();\r\n        textView.setText(String.valueOf(goal));\r\n\r\n        return view;\r\n    }\r\n}\r\n\r\n**SharedViewModel**\r\n\r\n\r\n    public class SharedViewModel extends ViewModel {\r\n\r\n    private MutableLiveData&lt;Integer&gt; selectGoal = new MutableLiveData&lt;&gt;();\r\n\r\n    public void setSelectGoal(int goal){\r\n        Log.d(&quot;SharedViewModel&quot;, &quot;Setting goal in SharedViewModel: &quot; + goal);\r\n        selectGoal.setValue(goal);\r\n    }\r\n\r\n    public LiveData&lt;Integer&gt; getSelectedGoal(){\r\n        return selectGoal;\r\n    }\r\n}\r\n\r\n\r\n**Quiz1Fragment**\r\n\r\n    public class Quiz1Fragment extends Fragment {\r\n\r\n    private SharedViewModel sharedViewModel;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_quiz1, container, false);\r\n\r\n        RadioGroup radioGroup = view.findViewById(R.id.radioGroup);\r\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                int goal = 0;\r\n                if (checkedId == R.id.lose) {\r\n                    goal = 100;\r\n                } else if (checkedId == R.id.gain) {\r\n                    goal = 200;\r\n                } else if (checkedId == R.id.maintain) {\r\n                    goal = 300;\r\n                }\r\n                sharedViewModel.setSelectGoal(goal);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n    \r\n","title":"Why the value of goal is null?","body":"<p>I am trying to send data from Quiz1Fragment to HomeFragment using SharedViewModel.</p>\n<p>I have observed the log statements in SharedViewModel, and the goal is correctly set.</p>\n<p>The issue seems to be with the observation or retrieval of the goal value in HomeFragment.</p>\n<p>I have already tried observing changes in HomeFragment using LiveData, but the TextView still displays null.</p>\n<p><strong>Logcat</strong>:`</p>\n<p>D  Setting goal in SharedViewModel: 200</p>\n<p>E  Goal is null</p>\n<p>Can someone fin any solutions?</p>\n<p><strong>HomeFragment</strong></p>\n<pre><code>   public class HomeFragment extends Fragment {\nTextView textView;\nSharedViewModel sharedViewModel;\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view =  inflater.inflate(R.layout.fragment_home, container, false);\n    textView = view.findViewById(R.id.textViewCalories);\n    sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\n\n\n    Integer goal = sharedViewModel.getSelectedGoal().getValue();\n    textView.setText(String.valueOf(goal));\n\n    return view;\n}\n</code></pre>\n<p>}</p>\n<p><strong>SharedViewModel</strong></p>\n<pre><code>public class SharedViewModel extends ViewModel {\n\nprivate MutableLiveData&lt;Integer&gt; selectGoal = new MutableLiveData&lt;&gt;();\n\npublic void setSelectGoal(int goal){\n    Log.d(&quot;SharedViewModel&quot;, &quot;Setting goal in SharedViewModel: &quot; + goal);\n    selectGoal.setValue(goal);\n}\n\npublic LiveData&lt;Integer&gt; getSelectedGoal(){\n    return selectGoal;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Quiz1Fragment</strong></p>\n<pre><code>public class Quiz1Fragment extends Fragment {\n\nprivate SharedViewModel sharedViewModel;\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_quiz1, container, false);\n\n    RadioGroup radioGroup = view.findViewById(R.id.radioGroup);\n    radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n            int goal = 0;\n            if (checkedId == R.id.lose) {\n                goal = 100;\n            } else if (checkedId == R.id.gain) {\n                goal = 200;\n            } else if (checkedId == R.id.maintain) {\n                goal = 300;\n            }\n            sharedViewModel.setSelectGoal(goal);\n        }\n    });\n\n    return view;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","multithreading","rest"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1701093895,"post_id":77557399,"comment_id":136728622,"body_markdown":"As the background thread progresses, it will need to occasionally update a thread safe variable that is accessible externally from the thread.  The simplest approach would be for the Map to include the variable (such as an `AtomicInteger`) as part of the Map value.  The variable is injected into  `SimpleTask`, and the variable is updated on each iteration of the loop.  A request to get the task progress returns the variable value.","body":"As the background thread progresses, it will need to occasionally update a thread safe variable that is accessible externally from the thread.  The simplest approach would be for the Map to include the variable (such as an <code>AtomicInteger</code>) as part of the Map value.  The variable is injected into  <code>SimpleTask</code>, and the variable is updated on each iteration of the loop.  A request to get the task progress returns the variable value."},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1701095164,"post_id":77557399,"comment_id":136728887,"body_markdown":"@AndrewS So, instead of `Map&lt;String, Future&lt;?&gt;&gt;` to have `Map&lt;String, AtomicInteger&gt;`, right? But I need to keep the future because I need to have the option to cancel a task and I do that based on the future.","body":"@AndrewS So, instead of <code>Map&lt;String, Future&lt;?&gt;&gt;</code> to have <code>Map&lt;String, AtomicInteger&gt;</code>, right? But I need to keep the future because I need to have the option to cancel a task and I do that based on the future."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1701097332,"post_id":77557399,"comment_id":136729380,"body_markdown":"The Map value could be a composite that holds the `Future` and the `AomticInteger`.","body":"The Map value could be a composite that holds the <code>Future</code> and the <code>AomticInteger</code>."},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1701098767,"post_id":77557399,"comment_id":136729753,"body_markdown":"Can I do that with only one request /execute to execute the task and get the progress or should I have 2 API, /execute to execute the task, and another one /get-progress to show the progress at a specific time?","body":"Can I do that with only one request /execute to execute the task and get the progress or should I have 2 API, /execute to execute the task, and another one /get-progress to show the progress at a specific time?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1701099324,"post_id":77557399,"comment_id":136729897,"body_markdown":"Separate requests - one to start the long running task (which returns the task ID), and another to get the progress (or result when ready) based on the task ID.  The client periodically make a REST call (polling) to get the progress.  The question was about RESTful, but alternatively, the service could publish a message with the progress/result, and the client subscribes to the message (pub/sub).","body":"Separate requests - one to start the long running task (which returns the task ID), and another to get the progress (or result when ready) based on the task ID.  The client periodically make a REST call (polling) to get the progress.  The question was about RESTful, but alternatively, the service could publish a message with the progress/result, and the client subscribes to the message (pub/sub)."}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701617876,"creation_date":1701092850,"question_id":77557399,"body_markdown":"I want to create a REST API in a Spring Boot project. The business logic is very simple like a counter that need to increase at every 10 seconds until it hits 5 minutes. This will be the task for a TaskExecutor. Until now everything is ok, but I need to show this progress to the client. So the REST API should send this progress as a response. \r\n\r\nI will do something like that:\r\n\r\n\r\nSo the client should receive 10 seconds, 20 seconds, ... until 5 minutes. But how can I send this dynamic response with a REST API? Can I do that on the /execute REST API that execute the task and get that progress or should I have 2 REST API, one /execute and another /get-progress? Thank you!\r\n\r\n\r\n","title":"How to send a dynamic response from a TaskExecutor with a REST API in a Spring Boot project?","body":"<p>I want to create a REST API in a Spring Boot project. The business logic is very simple like a counter that need to increase at every 10 seconds until it hits 5 minutes. This will be the task for a TaskExecutor. Until now everything is ok, but I need to show this progress to the client. So the REST API should send this progress as a response.</p>\n<p>I will do something like that:</p>\n<p>So the client should receive 10 seconds, 20 seconds, ... until 5 minutes. But how can I send this dynamic response with a REST API? Can I do that on the /execute REST API that execute the task and get that progress or should I have 2 REST API, one /execute and another /get-progress? Thank you!</p>\n"},{"tags":["java","swing","jtable","jpanel","pacman"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701618394,"post_id":77594042,"comment_id":136795540,"body_markdown":"*the game board (maze) must be implemented with JTable(AbstractTableModel).* - I don&#39;t see where you have a JTable or custom TableModel anywhere in the code. If you need to use a JTable then I wou.ld guess that your model needs to track the state of every cell so the cell can be rendered correctly. To me this mean you need to track whether the cell is a wall or path in the maze. Does the cell contain the packman or the ghost. Then you move the packman through the maze by changing the proper to the cell to contain the packman or not.","body":"<i>the game board (maze) must be implemented with JTable(AbstractTableModel).</i> - I don&#39;t see where you have a JTable or custom TableModel anywhere in the code. If you need to use a JTable then I wou.ld guess that your model needs to track the state of every cell so the cell can be rendered correctly. To me this mean you need to track whether the cell is a wall or path in the maze. Does the cell contain the packman or the ghost. Then you move the packman through the maze by changing the proper to the cell to contain the packman or not."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701618406,"post_id":77594042,"comment_id":136795543,"body_markdown":"You don&#39;t need to do any view calculations. Since the packman will always be painted in the proper cell whether the frame is resized or not.","body":"You don&#39;t need to do any view calculations. Since the packman will always be painted in the proper cell whether the frame is resized or not."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701628391,"post_id":77594042,"comment_id":136796719,"body_markdown":"If you need the game to be scalable, it is probably easier to paint the Pac-Man in the cell renderer.","body":"If you need the game to be scalable, it is probably easier to paint the Pac-Man in the cell renderer."}],"owner":{"account_id":30040200,"reputation":1,"user_id":23021249,"display_name":"Kawi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701617662,"creation_date":1701602441,"question_id":77594042,"body_markdown":"4 days I&#39;m trying to figure out how to fix my Pacman movement to board. This is my project for studies. According to the project requirements, the game board (maze) must be implemented with JTable(AbstractTableModel). Moreover, the game window must be scalable, and the user chooses the number of board cells. Scaling the maze to the window works correctly. I assumed that the minimum size of a JTable cell must be 10x10 px. Due to the goal of achieving smooth animation, I do not want to render the cell in which Pacman is located, but rather ensure its movement based on px.\r\nCould any of you help me understand what is wrong? After a few days of struggling with this functionality, I&#39;m starting to get a little stressed.\r\nI will add that there is also something wrong with the movement itself. Pacman only moves when the cells are slightly larger. Adds the code of several classes.\r\n\r\n\r\n```\r\npackage view;\r\n\r\nimport model.GameModel;\r\nimport model.PacmanModel;\r\nimport util.CustomTableModel;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\n\r\npublic class GameFrame extends JFrame {\r\n\r\n    private GameModel gameModel;\r\n    private PacmanView pacmanView;\r\n    private GameTable gameTable;\r\n    private JLayeredPane layeredPane;\r\n\r\n    public GameFrame(String title, GameModel gameModel) {\r\n        super(title);\r\n        this.gameModel = gameModel;\r\n\r\n        setUpFrame();\r\n        initializeComponents();\r\n        addEventListeners();\r\n    }\r\n\r\n    private void setUpFrame() {\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setResizable(true);\r\n        setMaximizedBounds(new Rectangle(getMaxScreenBounds()));\r\n        setLayout(new BorderLayout());\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n    }\r\n\r\n    private void initializeComponents() {\r\n        layeredPane = new JLayeredPane();\r\n\r\n        CustomTableModel customTableModel = new CustomTableModel(gameModel);\r\n        gameTable = new GameTable(customTableModel);\r\n        gameModel.setGameTable(gameTable);\r\n        gameModel.initializePacman();\r\n        gameTable.setOpaque(false);\r\n        gameTable.setFillsViewportHeight(true);\r\n\r\n        PacmanModel pacmanModel = gameModel.getPacman();\r\n        pacmanView = new PacmanView(pacmanModel);\r\n\r\n        // Ustawienie pocztkowych wymiar&#243;w na podstawie minimalnych wymiar&#243;w kom&#243;rek\r\n        int initialWidth = gameTable.getColumnCount() * 10; // Zaoenie, e 10 jest minimaln szerokoci kom&#243;rki\r\n        int initialHeight = gameTable.getRowCount() * 10; // Zaoenie, e 10 jest minimaln wysokoci kom&#243;rki\r\n        setSize(initialWidth, initialHeight);\r\n        gameModel.setInitialWidth(initialWidth);\r\n        gameModel.setInitialHeight(initialHeight);\r\n\r\n        layeredPane.add(gameTable, Integer.valueOf(1));\r\n        layeredPane.add(pacmanView, Integer.valueOf(2));\r\n\r\n        layeredPane.setOpaque(false);\r\n        add(layeredPane);\r\n        layeredPane.setBounds(0, 0, getWidth(), getHeight());\r\n    }\r\n\r\n    private void addEventListeners() {\r\n        addComponentListener(new ComponentAdapter() {\r\n            @Override\r\n            public void componentResized(ComponentEvent e) {\r\n                Dimension size = getSize();\r\n                Insets insets = getInsets();\r\n\r\n                int width = size.width - insets.left - insets.right;\r\n                int height = size.height - insets.top - insets.bottom;\r\n\r\n                int rows = gameTable.getRowCount();\r\n                int columns = gameTable.getColumnCount();\r\n\r\n                int minWidth = columns * 10 + insets.left + insets.right;\r\n                int minHeight = rows * 10 + insets.top + insets.bottom;\r\n                setMinimumSize(new Dimension(minWidth, minHeight));\r\n\r\n                int cellWidth = Math.max(width / columns, 10);\r\n                int cellHeight = Math.max(height / rows, 10);\r\n\r\n                gameTable.setRowHeight(cellHeight);\r\n                for (int i = 0; i &lt; columns; i++) {\r\n                    gameTable.getColumnModel().getColumn(i).setMinWidth(cellWidth);\r\n                }\r\n\r\n                gameTable.setSize(width, height);\r\n                pacmanView.setBounds(0, 0, width, height);\r\n\r\n                // Aktualizacja wymiar&#243;w Pacmana\r\n                gameModel.getPacman().setSize(cellWidth, cellHeight);\r\n\r\n                PacmanModel pacman = gameModel.getPacman();\r\n                double scaleX = getWidth() / (double) gameModel.getInitialWidth();\r\n                double scaleY = getHeight() / (double) gameModel.getInitialHeight();\r\n\r\n                Point currentLocation = pacman.getLocation();\r\n                int newX = (int) (currentLocation.x * scaleX);\r\n                int newY = (int) (currentLocation.y * scaleY);\r\n                System.out.println(&quot;Nowa pozycja Pacmana: &quot; + newX + &quot;, &quot; + newY); // Logowanie dla debugowania\r\n                pacman.setPosition(newX, newY);\r\n            }\r\n        });\r\n    }\r\n\r\n    private Rectangle getMaxScreenBounds() {\r\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n        GraphicsDevice[] gd = ge.getScreenDevices();\r\n        Rectangle bounds = new Rectangle();\r\n\r\n        for (GraphicsDevice device : gd) {\r\n            GraphicsConfiguration gc = device.getDefaultConfiguration();\r\n            bounds = bounds.union(gc.getBounds());\r\n        }\r\n\r\n        Insets screenInsets = getToolkit().getScreenInsets(getGraphicsConfiguration());\r\n        bounds.x += screenInsets.left;\r\n        bounds.y += screenInsets.top;\r\n        bounds.width -= (screenInsets.left + screenInsets.right);\r\n        bounds.height -= (screenInsets.top + screenInsets.bottom);\r\n\r\n        return bounds;\r\n    }\r\n\r\n    public GameTable getGameTableModel() {\r\n        return gameTable;\r\n    }\r\n\r\n    public PacmanView getPacmanView() {\r\n        return pacmanView;\r\n    }\r\n}\r\n\r\n````\r\n\r\n\r\n```\r\npackage model;\r\n\r\nimport view.GameFrame;\r\nimport view.GameTable;\r\nimport view.PacmanView;\r\n\r\nimport java.awt.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class GameModel {\r\n    private PacmanModel pacmanModel;\r\n\r\n    private GameTable gameFrame;\r\n    private final List&lt;Ghost&gt; ghosts;\r\n    private final int GHOST_FOR_CELLS = 60;\r\n\r\n    private Maze mazeGenerator;\r\n    private CellType[][] maze;\r\n    private final int rows;\r\n    private final int cols;\r\n    private Thread gameThread;\r\n    private boolean isRunning = false;\r\n\r\n    private int initialWidth, initialHeight;\r\n\r\n\r\n    private GameTable gameTable; // zaleznosc niezbedna do uzyskania odpowiedniej przestrzeni px\r\n\r\n    public GameModel(int rows, int cols) {\r\n        this.rows = rows;\r\n        this.cols = cols;\r\n\r\n        this.ghosts = new ArrayList&lt;&gt;();\r\n\r\n        initializeMaze();\r\n      //  initializePacman();\r\n      //  initializeGhosts();\r\n    }\r\n\r\n\r\n\r\n    public void initializeGhosts() {\r\n        EmptyCellCounter emptyCellsCounter = (CellType[][] maze) -&gt; {\r\n            int count = 0;\r\n            for (CellType[] row : maze) {\r\n                for (CellType cell : row) {\r\n                    if (cell == CellType.EMPTY) {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n            return count;\r\n        };\r\n        int emptyCellsNum = emptyCellsCounter.calculate(maze);\r\n        createGhosts(emptyCellsNum / GHOST_FOR_CELLS, new int[]{5, 6, 7, 8, 9});\r\n    }\r\n\r\n    public void initializeMaze() {\r\n        mazeGenerator = new Maze(rows, cols);\r\n        generateMaze();\r\n    }\r\n\r\n    public void initializePacman() {\r\n        CellFinder firstCellFinder = (CellType[][] maze) -&gt; {\r\n            for (int r = 0; r &lt; maze.length; r++) {\r\n                for (int c = 0; c &lt; maze[0].length; c++) {\r\n                    if (maze[r][c] == CellType.EMPTY) {\r\n                        return new Point(c, r);\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        Point startPoint = firstCellFinder.findFirstEmptyCell(maze);\r\n\r\n        // Obliczanie pikselowych wsp&#243;rzdnych\r\n        int cellWidth = gameTable.getColumnModel().getColumn(startPoint.x).getWidth();\r\n        int cellHeight = gameTable.getRowHeight();\r\n        int pixelX = startPoint.x * cellWidth;\r\n        int pixelY = startPoint.y * cellHeight;\r\n\r\n        assert startPoint != null;\r\n        this.pacmanModel = new PacmanModel(this, pixelX, pixelY);\r\n    }\r\n\r\n\r\n\r\n    public void generateMaze() {\r\n        mazeGenerator.generateMaze(); // Generuj labirynt\r\n        maze = mazeGenerator.getMaze(); // Pobierz wygenerowany labirynt\r\n    }\r\n\r\n    private void createGhosts(int totalGhosts, int[] sectors) {\r\n        int ghostsPerSector = totalGhosts / sectors.length;\r\n\r\n        for (int sector : sectors) {\r\n            for (int i = 0; i &lt; ghostsPerSector; i++) {\r\n                Ghost ghost = createGhostInSector(sector);\r\n                if (ghost != null) {\r\n                    ghosts.add(ghost);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private Ghost createGhostInSector(int sector) {\r\n        int sectorRowStart = ((sector - 1) / 3) * (rows / 3);\r\n        int sectorColStart = ((sector - 1) % 3) * (cols / 3);\r\n        int sectorRowEnd = sectorRowStart + (rows / 3);\r\n        int sectorColEnd = sectorColStart + (cols / 3);\r\n\r\n        Random rand = new Random();\r\n        int row, col;\r\n        do {\r\n            row = rand.nextInt(sectorRowEnd - sectorRowStart) + sectorRowStart;\r\n            col = rand.nextInt(sectorColEnd - sectorColStart) + sectorColStart;\r\n\r\n        } while (maze[row][col] != CellType.EMPTY);\r\n\r\n        return new Ghost(this, col, row);\r\n    }\r\n\r\n    public CellType getCellType(int row, int col) {\r\n        return maze[row][col];\r\n    }\r\n\r\n    public PacmanModel getPacman() {\r\n        return pacmanModel;\r\n    }\r\n\r\n    public List&lt;Ghost&gt; getGhosts() {\r\n        return ghosts;\r\n    }\r\n\r\n    public int getRows() {\r\n        return rows;\r\n    }\r\n\r\n    public int getCols() {\r\n        return cols;\r\n    }\r\n\r\n    public CellType[][] getMaze() {\r\n        return maze;\r\n    }\r\n    public Maze getMazeModel() {\r\n        return mazeGenerator;\r\n    }\r\n\r\n    public void setGameTable(GameTable gameTable) {\r\n        this.gameTable = gameTable;\r\n    }\r\n\r\n    public GameTable getGameTable() {\r\n        return gameTable;\r\n    }\r\n\r\n    public int getInitialWidth() {\r\n        return initialWidth;\r\n    }\r\n\r\n    public void setInitialWidth(int initialWidth) {\r\n        this.initialWidth = initialWidth;\r\n    }\r\n\r\n    public int getInitialHeight() {\r\n        return initialHeight;\r\n    }\r\n\r\n    public void setInitialHeight(int initialHeight) {\r\n        this.initialHeight = initialHeight;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage view;\r\n\r\nimport model.Direction;\r\nimport model.GameModel;\r\nimport model.PacmanModel;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class PacmanView extends JPanel {\r\n\r\n    private PacmanModel pacmanModel;\r\n    ImageIcon[][] pacmanImages;\r\n\r\n    public PacmanView(PacmanModel pacmanModel) {\r\n\r\n        this.pacmanModel = pacmanModel;\r\n\r\n        setDoubleBuffered(true);\r\n        setOpaque(false);\r\n\r\n        this.pacmanImages = new ImageIcon[4][4];\r\n        this.loadImages();\r\n        pacmanFaceThread();\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        ImageIcon currentIcon = getCurrentIcon();\r\n        int x = (int) pacmanModel.getX();\r\n        int y = (int) pacmanModel.getY();\r\n        int width = pacmanModel.width;\r\n        int height = pacmanModel.height;\r\n\r\n        g.drawImage(currentIcon.getImage(), x, y, width, height, this);\r\n    }\r\n\r\n    public void loadImages() {\r\n        //up\r\n        pacmanImages[Direction.UP.ordinal()][0] = new ImageIcon(&quot;resources/pacman/up/up_1.png&quot;);\r\n        pacmanImages[Direction.UP.ordinal()][1] = new ImageIcon(&quot;resources/pacman/up/up_2.png&quot;);\r\n        pacmanImages[Direction.UP.ordinal()][2] = new ImageIcon(&quot;resources/pacman/up/up_3.png&quot;);\r\n        pacmanImages[Direction.UP.ordinal()][3] = new ImageIcon(&quot;resources/pacman/up/up_4.png&quot;);\r\n\r\n\r\n        // down\r\n        pacmanImages[Direction.DOWN.ordinal()][0] = new ImageIcon(&quot;resources/pacman/down/down_1.png&quot;);\r\n        pacmanImages[Direction.DOWN.ordinal()][1] = new ImageIcon(&quot;resources/pacman/down/down_2.png&quot;);\r\n        pacmanImages[Direction.DOWN.ordinal()][2] = new ImageIcon(&quot;resources/pacman/down/down_3.png&quot;);\r\n        pacmanImages[Direction.DOWN.ordinal()][3] = new ImageIcon(&quot;resources/pacman/down/down_4.png&quot;);\r\n\r\n\r\n        //left\r\n        pacmanImages[Direction.LEFT.ordinal()][0] = new ImageIcon(&quot;resources/pacman/left/left_1.png&quot;);\r\n        pacmanImages[Direction.LEFT.ordinal()][1] = new ImageIcon(&quot;resources/pacman/left/left_2.png&quot;);\r\n        pacmanImages[Direction.LEFT.ordinal()][2] = new ImageIcon(&quot;resources/pacman/left/left_3.png&quot;);\r\n        pacmanImages[Direction.LEFT.ordinal()][3] = new ImageIcon(&quot;resources/pacman/left/left_4.png&quot;);\r\n\r\n\r\n        //right\r\n        pacmanImages[Direction.RIGHT.ordinal()][0] = new ImageIcon(&quot;resources/pacman/right/right_1.png&quot;);\r\n        pacmanImages[Direction.RIGHT.ordinal()][1] = new ImageIcon(&quot;resources/pacman/right/right_2.png&quot;);\r\n        pacmanImages[Direction.RIGHT.ordinal()][2] = new ImageIcon(&quot;resources/pacman/right/right_3.png&quot;);\r\n        pacmanImages[Direction.RIGHT.ordinal()][3] = new ImageIcon(&quot;resources/pacman/right/right_4.png&quot;);\r\n\r\n    }\r\n\r\n    public ImageIcon getCurrentIcon() {\r\n        Direction currentDirection = pacmanModel.getDirection();\r\n        int currentFrame = pacmanModel.getAnimationFrame();\r\n        return pacmanImages[currentDirection.ordinal()][currentFrame];\r\n    }\r\n\r\n    public void pacmanFaceThread() {\r\n        new Thread(() -&gt; {\r\n            while (true) {\r\n                // Aktualizuj stan animacji Pacmana\r\n                pacmanModel.updateAnimation();\r\n                repaint();\r\n\r\n                try {\r\n                    Thread.sleep(300); // Ustaw odpowiednie op&#243;nienie\r\n                } catch (InterruptedException e) {\r\n                    Thread.currentThread().interrupt();\r\n                    return;\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n\r\n```\r\n```\r\npackage model;\r\n\r\nimport view.PacmanView;\r\n\r\nimport java.awt.*;\r\n\r\npublic class PacmanModel extends Rectangle {\r\n    private int pxX, pxY; // Aktualna pozycja Pacmana w px\r\n    private PacmanView pacmanView; // referencja do obiektu Pacmanview ktora bedzie potrzebna do uzyskania wielkosci Pacmana.\r\n    private Direction direction;\r\n    private GameModel gameModel; // Referencja do modelu gry, aby sprawdzi kolizje\r\n    private int animationFrame;\r\n    private int speed;\r\n    private volatile boolean isMoving;\r\n\r\n    public PacmanModel(GameModel gameModel, int pxX, int pxY) {\r\n        this.gameModel = gameModel;\r\n        this.pxX = pxX;\r\n        this.pxY = pxY;\r\n        System.out.println(&quot;start x = &quot; + pxX + &quot; start y= &quot; +pxY);\r\n        this.isMoving = false;\r\n        this.direction = Direction.LEFT; // Przykadowy pocztkowy kierunek\r\n    }\r\n\r\n    // Metoda do aktualizacji animacji\r\n    public void updateAnimation() {\r\n        animationFrame = (animationFrame + 1) % 4;\r\n    }\r\n\r\n    public void move(Direction direction, int speed) {\r\n        this.speed = speed;\r\n        this.direction = direction;\r\n\r\n        int pxNewY = pxY;\r\n        int pxNewX = pxX;\r\n\r\n        if(isMoving) {\r\n            switch (direction) {\r\n                case UP:\r\n                    pxNewY-=speed;\r\n                    break;\r\n                case DOWN:\r\n                    pxNewY+=speed;\r\n                    break;\r\n                case LEFT:\r\n                    pxNewX-=speed;\r\n                    break;\r\n                case RIGHT:\r\n                    pxNewX+=speed;\r\n                    break;\r\n            }\r\n            pxX = pxNewX;\r\n            pxY = pxNewY;\r\n            setLocation(pxX, pxY);\r\n            System.out.println(&quot;pxX = &quot; + pxX + &quot; pxY = &quot; + pxY);\r\n        }\r\n    }\r\n\r\n    private boolean isMovePossible(int newX, int newY) {\r\n        int cellWidth = gameModel.getGameTable().getCellWidth();\r\n        int cellHeight = gameModel.getGameTable().getCellHeight();\r\n\r\n        // Oblicz indeksy kom&#243;rek dla nowej pozycji Pacmana\r\n        int leftCol = newX / cellWidth;\r\n        int rightCol = (newX + cellWidth - 1) / cellWidth;\r\n        int topRow = newY / cellHeight;\r\n        int bottomRow = (newY + cellHeight - 1) / cellHeight;\r\n\r\n        // Sprawd wszystkie kom&#243;rki, kt&#243;re Pacman moe czciowo zajmowa\r\n        for (int col = leftCol; col &lt;= rightCol; col++) {\r\n            for (int row = topRow; row &lt;= bottomRow; row++) {\r\n                if (gameModel.getCellType(row, col) != CellType.EMPTY) {\r\n                    return false; // Przeszkoda znaleziona, ruch niemoliwy\r\n                }\r\n            }\r\n        }\r\n        return true; // Brak przeszk&#243;d, ruch moliwy\r\n    }\r\n\r\n    public boolean isMoving() {\r\n        return isMoving;\r\n    }\r\n\r\n    public void setMoving(boolean state) {\r\n        this.isMoving = state;\r\n    }\r\n\r\n    public Direction getDirection() {\r\n        return direction;\r\n    }\r\n\r\n    public int getAnimationFrame() {\r\n        return animationFrame;\r\n    }\r\n\r\n    public Point getPosition() {\r\n        return new Point(this.pxX, this.pxY);\r\n    }\r\n\r\n    public void setPosition(int x, int y) {\r\n        this.pxX = x;\r\n        this.pxY = y;\r\n    }\r\n\r\n    public int getSpeed() {\r\n        return speed;\r\n    }\r\n\r\n    public void setSpeed(int speed) {\r\n        this.speed = speed;\r\n    }\r\n\r\n    public void setPacmanView(PacmanView pacmanView) {\r\n        this.pacmanView = pacmanView;\r\n    }\r\n\r\n    public PacmanView getPacmanView() {\r\n        return pacmanView;\r\n    }\r\n\r\n    public void setPxX(int newX) {\r\n    }\r\n}\r\n```\r\n\r\nAlso I&#39;m adding few screenshoots:\r\n\r\n[![https://i.stack.imgur.com/sge8N.png][1]][1]\r\n\r\nAfter I moved Pacman to the middle of window game i resized it and look where pacman is...\r\n\r\n[![https://i.stack.imgur.com/094LS.png][2]][2]\r\n\r\n\r\nThank you for any help...\r\n\r\nI expect Pacman&#39;s position to update to the appropriate window dimensions so that it remains in the same window position relative to the previous size.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sge8N.png\r\n  [2]: https://i.stack.imgur.com/094LS.png","title":"Pacman positioning after resizing window Frame","body":"<p>4 days I'm trying to figure out how to fix my Pacman movement to board. This is my project for studies. According to the project requirements, the game board (maze) must be implemented with JTable(AbstractTableModel). Moreover, the game window must be scalable, and the user chooses the number of board cells. Scaling the maze to the window works correctly. I assumed that the minimum size of a JTable cell must be 10x10 px. Due to the goal of achieving smooth animation, I do not want to render the cell in which Pacman is located, but rather ensure its movement based on px.\nCould any of you help me understand what is wrong? After a few days of struggling with this functionality, I'm starting to get a little stressed.\nI will add that there is also something wrong with the movement itself. Pacman only moves when the cells are slightly larger. Adds the code of several classes.</p>\n<pre><code>package view;\n\nimport model.GameModel;\nimport model.PacmanModel;\nimport util.CustomTableModel;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\npublic class GameFrame extends JFrame {\n\n    private GameModel gameModel;\n    private PacmanView pacmanView;\n    private GameTable gameTable;\n    private JLayeredPane layeredPane;\n\n    public GameFrame(String title, GameModel gameModel) {\n        super(title);\n        this.gameModel = gameModel;\n\n        setUpFrame();\n        initializeComponents();\n        addEventListeners();\n    }\n\n    private void setUpFrame() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setResizable(true);\n        setMaximizedBounds(new Rectangle(getMaxScreenBounds()));\n        setLayout(new BorderLayout());\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    private void initializeComponents() {\n        layeredPane = new JLayeredPane();\n\n        CustomTableModel customTableModel = new CustomTableModel(gameModel);\n        gameTable = new GameTable(customTableModel);\n        gameModel.setGameTable(gameTable);\n        gameModel.initializePacman();\n        gameTable.setOpaque(false);\n        gameTable.setFillsViewportHeight(true);\n\n        PacmanModel pacmanModel = gameModel.getPacman();\n        pacmanView = new PacmanView(pacmanModel);\n\n        // Ustawienie pocztkowych wymiarw na podstawie minimalnych wymiarw komrek\n        int initialWidth = gameTable.getColumnCount() * 10; // Zaoenie, e 10 jest minimaln szerokoci komrki\n        int initialHeight = gameTable.getRowCount() * 10; // Zaoenie, e 10 jest minimaln wysokoci komrki\n        setSize(initialWidth, initialHeight);\n        gameModel.setInitialWidth(initialWidth);\n        gameModel.setInitialHeight(initialHeight);\n\n        layeredPane.add(gameTable, Integer.valueOf(1));\n        layeredPane.add(pacmanView, Integer.valueOf(2));\n\n        layeredPane.setOpaque(false);\n        add(layeredPane);\n        layeredPane.setBounds(0, 0, getWidth(), getHeight());\n    }\n\n    private void addEventListeners() {\n        addComponentListener(new ComponentAdapter() {\n            @Override\n            public void componentResized(ComponentEvent e) {\n                Dimension size = getSize();\n                Insets insets = getInsets();\n\n                int width = size.width - insets.left - insets.right;\n                int height = size.height - insets.top - insets.bottom;\n\n                int rows = gameTable.getRowCount();\n                int columns = gameTable.getColumnCount();\n\n                int minWidth = columns * 10 + insets.left + insets.right;\n                int minHeight = rows * 10 + insets.top + insets.bottom;\n                setMinimumSize(new Dimension(minWidth, minHeight));\n\n                int cellWidth = Math.max(width / columns, 10);\n                int cellHeight = Math.max(height / rows, 10);\n\n                gameTable.setRowHeight(cellHeight);\n                for (int i = 0; i &lt; columns; i++) {\n                    gameTable.getColumnModel().getColumn(i).setMinWidth(cellWidth);\n                }\n\n                gameTable.setSize(width, height);\n                pacmanView.setBounds(0, 0, width, height);\n\n                // Aktualizacja wymiarw Pacmana\n                gameModel.getPacman().setSize(cellWidth, cellHeight);\n\n                PacmanModel pacman = gameModel.getPacman();\n                double scaleX = getWidth() / (double) gameModel.getInitialWidth();\n                double scaleY = getHeight() / (double) gameModel.getInitialHeight();\n\n                Point currentLocation = pacman.getLocation();\n                int newX = (int) (currentLocation.x * scaleX);\n                int newY = (int) (currentLocation.y * scaleY);\n                System.out.println(&quot;Nowa pozycja Pacmana: &quot; + newX + &quot;, &quot; + newY); // Logowanie dla debugowania\n                pacman.setPosition(newX, newY);\n            }\n        });\n    }\n\n    private Rectangle getMaxScreenBounds() {\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n        GraphicsDevice[] gd = ge.getScreenDevices();\n        Rectangle bounds = new Rectangle();\n\n        for (GraphicsDevice device : gd) {\n            GraphicsConfiguration gc = device.getDefaultConfiguration();\n            bounds = bounds.union(gc.getBounds());\n        }\n\n        Insets screenInsets = getToolkit().getScreenInsets(getGraphicsConfiguration());\n        bounds.x += screenInsets.left;\n        bounds.y += screenInsets.top;\n        bounds.width -= (screenInsets.left + screenInsets.right);\n        bounds.height -= (screenInsets.top + screenInsets.bottom);\n\n        return bounds;\n    }\n\n    public GameTable getGameTableModel() {\n        return gameTable;\n    }\n\n    public PacmanView getPacmanView() {\n        return pacmanView;\n    }\n}\n\n</code></pre>\n<pre><code>package model;\n\nimport view.GameFrame;\nimport view.GameTable;\nimport view.PacmanView;\n\nimport java.awt.*;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class GameModel {\n    private PacmanModel pacmanModel;\n\n    private GameTable gameFrame;\n    private final List&lt;Ghost&gt; ghosts;\n    private final int GHOST_FOR_CELLS = 60;\n\n    private Maze mazeGenerator;\n    private CellType[][] maze;\n    private final int rows;\n    private final int cols;\n    private Thread gameThread;\n    private boolean isRunning = false;\n\n    private int initialWidth, initialHeight;\n\n\n    private GameTable gameTable; // zaleznosc niezbedna do uzyskania odpowiedniej przestrzeni px\n\n    public GameModel(int rows, int cols) {\n        this.rows = rows;\n        this.cols = cols;\n\n        this.ghosts = new ArrayList&lt;&gt;();\n\n        initializeMaze();\n      //  initializePacman();\n      //  initializeGhosts();\n    }\n\n\n\n    public void initializeGhosts() {\n        EmptyCellCounter emptyCellsCounter = (CellType[][] maze) -&gt; {\n            int count = 0;\n            for (CellType[] row : maze) {\n                for (CellType cell : row) {\n                    if (cell == CellType.EMPTY) {\n                        count++;\n                    }\n                }\n            }\n            return count;\n        };\n        int emptyCellsNum = emptyCellsCounter.calculate(maze);\n        createGhosts(emptyCellsNum / GHOST_FOR_CELLS, new int[]{5, 6, 7, 8, 9});\n    }\n\n    public void initializeMaze() {\n        mazeGenerator = new Maze(rows, cols);\n        generateMaze();\n    }\n\n    public void initializePacman() {\n        CellFinder firstCellFinder = (CellType[][] maze) -&gt; {\n            for (int r = 0; r &lt; maze.length; r++) {\n                for (int c = 0; c &lt; maze[0].length; c++) {\n                    if (maze[r][c] == CellType.EMPTY) {\n                        return new Point(c, r);\n                    }\n                }\n            }\n            return null;\n        };\n        Point startPoint = firstCellFinder.findFirstEmptyCell(maze);\n\n        // Obliczanie pikselowych wsprzdnych\n        int cellWidth = gameTable.getColumnModel().getColumn(startPoint.x).getWidth();\n        int cellHeight = gameTable.getRowHeight();\n        int pixelX = startPoint.x * cellWidth;\n        int pixelY = startPoint.y * cellHeight;\n\n        assert startPoint != null;\n        this.pacmanModel = new PacmanModel(this, pixelX, pixelY);\n    }\n\n\n\n    public void generateMaze() {\n        mazeGenerator.generateMaze(); // Generuj labirynt\n        maze = mazeGenerator.getMaze(); // Pobierz wygenerowany labirynt\n    }\n\n    private void createGhosts(int totalGhosts, int[] sectors) {\n        int ghostsPerSector = totalGhosts / sectors.length;\n\n        for (int sector : sectors) {\n            for (int i = 0; i &lt; ghostsPerSector; i++) {\n                Ghost ghost = createGhostInSector(sector);\n                if (ghost != null) {\n                    ghosts.add(ghost);\n                }\n            }\n        }\n    }\n\n    private Ghost createGhostInSector(int sector) {\n        int sectorRowStart = ((sector - 1) / 3) * (rows / 3);\n        int sectorColStart = ((sector - 1) % 3) * (cols / 3);\n        int sectorRowEnd = sectorRowStart + (rows / 3);\n        int sectorColEnd = sectorColStart + (cols / 3);\n\n        Random rand = new Random();\n        int row, col;\n        do {\n            row = rand.nextInt(sectorRowEnd - sectorRowStart) + sectorRowStart;\n            col = rand.nextInt(sectorColEnd - sectorColStart) + sectorColStart;\n\n        } while (maze[row][col] != CellType.EMPTY);\n\n        return new Ghost(this, col, row);\n    }\n\n    public CellType getCellType(int row, int col) {\n        return maze[row][col];\n    }\n\n    public PacmanModel getPacman() {\n        return pacmanModel;\n    }\n\n    public List&lt;Ghost&gt; getGhosts() {\n        return ghosts;\n    }\n\n    public int getRows() {\n        return rows;\n    }\n\n    public int getCols() {\n        return cols;\n    }\n\n    public CellType[][] getMaze() {\n        return maze;\n    }\n    public Maze getMazeModel() {\n        return mazeGenerator;\n    }\n\n    public void setGameTable(GameTable gameTable) {\n        this.gameTable = gameTable;\n    }\n\n    public GameTable getGameTable() {\n        return gameTable;\n    }\n\n    public int getInitialWidth() {\n        return initialWidth;\n    }\n\n    public void setInitialWidth(int initialWidth) {\n        this.initialWidth = initialWidth;\n    }\n\n    public int getInitialHeight() {\n        return initialHeight;\n    }\n\n    public void setInitialHeight(int initialHeight) {\n        this.initialHeight = initialHeight;\n    }\n\n}\n\n</code></pre>\n<pre><code>package view;\n\nimport model.Direction;\nimport model.GameModel;\nimport model.PacmanModel;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class PacmanView extends JPanel {\n\n    private PacmanModel pacmanModel;\n    ImageIcon[][] pacmanImages;\n\n    public PacmanView(PacmanModel pacmanModel) {\n\n        this.pacmanModel = pacmanModel;\n\n        setDoubleBuffered(true);\n        setOpaque(false);\n\n        this.pacmanImages = new ImageIcon[4][4];\n        this.loadImages();\n        pacmanFaceThread();\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        ImageIcon currentIcon = getCurrentIcon();\n        int x = (int) pacmanModel.getX();\n        int y = (int) pacmanModel.getY();\n        int width = pacmanModel.width;\n        int height = pacmanModel.height;\n\n        g.drawImage(currentIcon.getImage(), x, y, width, height, this);\n    }\n\n    public void loadImages() {\n        //up\n        pacmanImages[Direction.UP.ordinal()][0] = new ImageIcon(&quot;resources/pacman/up/up_1.png&quot;);\n        pacmanImages[Direction.UP.ordinal()][1] = new ImageIcon(&quot;resources/pacman/up/up_2.png&quot;);\n        pacmanImages[Direction.UP.ordinal()][2] = new ImageIcon(&quot;resources/pacman/up/up_3.png&quot;);\n        pacmanImages[Direction.UP.ordinal()][3] = new ImageIcon(&quot;resources/pacman/up/up_4.png&quot;);\n\n\n        // down\n        pacmanImages[Direction.DOWN.ordinal()][0] = new ImageIcon(&quot;resources/pacman/down/down_1.png&quot;);\n        pacmanImages[Direction.DOWN.ordinal()][1] = new ImageIcon(&quot;resources/pacman/down/down_2.png&quot;);\n        pacmanImages[Direction.DOWN.ordinal()][2] = new ImageIcon(&quot;resources/pacman/down/down_3.png&quot;);\n        pacmanImages[Direction.DOWN.ordinal()][3] = new ImageIcon(&quot;resources/pacman/down/down_4.png&quot;);\n\n\n        //left\n        pacmanImages[Direction.LEFT.ordinal()][0] = new ImageIcon(&quot;resources/pacman/left/left_1.png&quot;);\n        pacmanImages[Direction.LEFT.ordinal()][1] = new ImageIcon(&quot;resources/pacman/left/left_2.png&quot;);\n        pacmanImages[Direction.LEFT.ordinal()][2] = new ImageIcon(&quot;resources/pacman/left/left_3.png&quot;);\n        pacmanImages[Direction.LEFT.ordinal()][3] = new ImageIcon(&quot;resources/pacman/left/left_4.png&quot;);\n\n\n        //right\n        pacmanImages[Direction.RIGHT.ordinal()][0] = new ImageIcon(&quot;resources/pacman/right/right_1.png&quot;);\n        pacmanImages[Direction.RIGHT.ordinal()][1] = new ImageIcon(&quot;resources/pacman/right/right_2.png&quot;);\n        pacmanImages[Direction.RIGHT.ordinal()][2] = new ImageIcon(&quot;resources/pacman/right/right_3.png&quot;);\n        pacmanImages[Direction.RIGHT.ordinal()][3] = new ImageIcon(&quot;resources/pacman/right/right_4.png&quot;);\n\n    }\n\n    public ImageIcon getCurrentIcon() {\n        Direction currentDirection = pacmanModel.getDirection();\n        int currentFrame = pacmanModel.getAnimationFrame();\n        return pacmanImages[currentDirection.ordinal()][currentFrame];\n    }\n\n    public void pacmanFaceThread() {\n        new Thread(() -&gt; {\n            while (true) {\n                // Aktualizuj stan animacji Pacmana\n                pacmanModel.updateAnimation();\n                repaint();\n\n                try {\n                    Thread.sleep(300); // Ustaw odpowiednie opnienie\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                    return;\n                }\n            }\n        }).start();\n    }\n}\n\n</code></pre>\n<pre><code>package model;\n\nimport view.PacmanView;\n\nimport java.awt.*;\n\npublic class PacmanModel extends Rectangle {\n    private int pxX, pxY; // Aktualna pozycja Pacmana w px\n    private PacmanView pacmanView; // referencja do obiektu Pacmanview ktora bedzie potrzebna do uzyskania wielkosci Pacmana.\n    private Direction direction;\n    private GameModel gameModel; // Referencja do modelu gry, aby sprawdzi kolizje\n    private int animationFrame;\n    private int speed;\n    private volatile boolean isMoving;\n\n    public PacmanModel(GameModel gameModel, int pxX, int pxY) {\n        this.gameModel = gameModel;\n        this.pxX = pxX;\n        this.pxY = pxY;\n        System.out.println(&quot;start x = &quot; + pxX + &quot; start y= &quot; +pxY);\n        this.isMoving = false;\n        this.direction = Direction.LEFT; // Przykadowy pocztkowy kierunek\n    }\n\n    // Metoda do aktualizacji animacji\n    public void updateAnimation() {\n        animationFrame = (animationFrame + 1) % 4;\n    }\n\n    public void move(Direction direction, int speed) {\n        this.speed = speed;\n        this.direction = direction;\n\n        int pxNewY = pxY;\n        int pxNewX = pxX;\n\n        if(isMoving) {\n            switch (direction) {\n                case UP:\n                    pxNewY-=speed;\n                    break;\n                case DOWN:\n                    pxNewY+=speed;\n                    break;\n                case LEFT:\n                    pxNewX-=speed;\n                    break;\n                case RIGHT:\n                    pxNewX+=speed;\n                    break;\n            }\n            pxX = pxNewX;\n            pxY = pxNewY;\n            setLocation(pxX, pxY);\n            System.out.println(&quot;pxX = &quot; + pxX + &quot; pxY = &quot; + pxY);\n        }\n    }\n\n    private boolean isMovePossible(int newX, int newY) {\n        int cellWidth = gameModel.getGameTable().getCellWidth();\n        int cellHeight = gameModel.getGameTable().getCellHeight();\n\n        // Oblicz indeksy komrek dla nowej pozycji Pacmana\n        int leftCol = newX / cellWidth;\n        int rightCol = (newX + cellWidth - 1) / cellWidth;\n        int topRow = newY / cellHeight;\n        int bottomRow = (newY + cellHeight - 1) / cellHeight;\n\n        // Sprawd wszystkie komrki, ktre Pacman moe czciowo zajmowa\n        for (int col = leftCol; col &lt;= rightCol; col++) {\n            for (int row = topRow; row &lt;= bottomRow; row++) {\n                if (gameModel.getCellType(row, col) != CellType.EMPTY) {\n                    return false; // Przeszkoda znaleziona, ruch niemoliwy\n                }\n            }\n        }\n        return true; // Brak przeszkd, ruch moliwy\n    }\n\n    public boolean isMoving() {\n        return isMoving;\n    }\n\n    public void setMoving(boolean state) {\n        this.isMoving = state;\n    }\n\n    public Direction getDirection() {\n        return direction;\n    }\n\n    public int getAnimationFrame() {\n        return animationFrame;\n    }\n\n    public Point getPosition() {\n        return new Point(this.pxX, this.pxY);\n    }\n\n    public void setPosition(int x, int y) {\n        this.pxX = x;\n        this.pxY = y;\n    }\n\n    public int getSpeed() {\n        return speed;\n    }\n\n    public void setSpeed(int speed) {\n        this.speed = speed;\n    }\n\n    public void setPacmanView(PacmanView pacmanView) {\n        this.pacmanView = pacmanView;\n    }\n\n    public PacmanView getPacmanView() {\n        return pacmanView;\n    }\n\n    public void setPxX(int newX) {\n    }\n}\n</code></pre>\n<p>Also I'm adding few screenshoots:</p>\n<p><a href=\"https://i.stack.imgur.com/sge8N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sge8N.png\" alt=\"https://i.stack.imgur.com/sge8N.png\" /></a></p>\n<p>After I moved Pacman to the middle of window game i resized it and look where pacman is...</p>\n<p><a href=\"https://i.stack.imgur.com/094LS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/094LS.png\" alt=\"https://i.stack.imgur.com/094LS.png\" /></a></p>\n<p>Thank you for any help...</p>\n<p>I expect Pacman's position to update to the appropriate window dimensions so that it remains in the same window position relative to the previous size.</p>\n"},{"tags":["java","spring-boot","jackson-databind","jsr310"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1701415428,"post_id":77583529,"comment_id":136775167,"body_markdown":"The only thing that comes to my mind is that the configuration class is not properly scanned. Are you sure Spring can see it?","body":"The only thing that comes to my mind is that the configuration class is not properly scanned. Are you sure Spring can see it?"},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1701415840,"post_id":77583529,"comment_id":136775214,"body_markdown":"Where (and how) do you configure your ObjectMapper? Are you using the default one provided by Spring or creating your own?","body":"Where (and how) do you configure your ObjectMapper? Are you using the default one provided by Spring or creating your own?"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701617492,"creation_date":1701414479,"question_id":77583529,"body_markdown":"I working with Spring Boot 3.1.5 and Java 17 and MongoDB. I have this error when I try to a save my object in MongoDB:\r\n\r\n&gt; java.lang.RuntimeException:\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8\r\n&gt; date/time type `java.time.LocalDate` not supported by default: add\r\n&gt; Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to\r\n&gt; enable handling\r\n\r\nI added these two dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd I added this config\r\n\r\n```java\r\n@Configuration\r\npublic class JacksonConfig {\r\n    @Bean\r\n    public JavaTimeModule javaTimeModule() {\r\n        return new JavaTimeModule();\r\n    }\r\n\r\n    @Bean\r\n    public Jdk8Module jdk8TimeModule() {\r\n        return new Jdk8Module();\r\n    }\r\n}\r\n```\r\n\r\napplication.yml\r\n\r\n```yaml\r\nspring:\r\n  jackson:\r\n    serialization:\r\n      INDENT_OUTPUT: true\r\n      FAIL_ON_EMPTY_BEANS: false\r\n      WRITE_DATES_AS_TIMESTAMPS: false\r\n    deserialization:\r\n      FAIL_ON_IGNORED_PROPERTIES: false\r\n      FAIL_ON_UNKNOWN_PROPERTIES: false\r\n      ACCEPT_EMPTY_STRING_AS_NULL_OBJECT: true\r\n      ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT: true\r\n```\r\n\r\nBut still the same error.\r\n ","title":"Spring boot 3: Java 8 date/time type LocalDate not supported","body":"<p>I working with Spring Boot 3.1.5 and Java 17 and MongoDB. I have this error when I try to a save my object in MongoDB:</p>\n<blockquote>\n<p>java.lang.RuntimeException:\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8\ndate/time type <code>java.time.LocalDate</code> not supported by default: add\nModule &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to\nenable handling</p>\n</blockquote>\n<p>I added these two dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I added this config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JacksonConfig {\n    @Bean\n    public JavaTimeModule javaTimeModule() {\n        return new JavaTimeModule();\n    }\n\n    @Bean\n    public Jdk8Module jdk8TimeModule() {\n        return new Jdk8Module();\n    }\n}\n</code></pre>\n<p>application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jackson:\n    serialization:\n      INDENT_OUTPUT: true\n      FAIL_ON_EMPTY_BEANS: false\n      WRITE_DATES_AS_TIMESTAMPS: false\n    deserialization:\n      FAIL_ON_IGNORED_PROPERTIES: false\n      FAIL_ON_UNKNOWN_PROPERTIES: false\n      ACCEPT_EMPTY_STRING_AS_NULL_OBJECT: true\n      ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT: true\n</code></pre>\n<p>But still the same error.</p>\n"},{"tags":["java","object","casting"],"comments":[{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":1,"creation_date":1701617256,"post_id":77594845,"comment_id":136795403,"body_markdown":"Does this answer your question? [Casting types in Java 8 streams](https://stackoverflow.com/questions/39840749/casting-types-in-java-8-streams)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39840749/casting-types-in-java-8-streams\">Casting types in Java 8 streams</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1701619636,"post_id":77594845,"comment_id":136795710,"body_markdown":"`.filter(p -&gt; ((Profile)p)` shouldnt even compile.  But `.map(p -&gt; ((Profile)p)` will.  Of course, you could just forego streams and use `return (Profile) maps.get(&quot;Profiles&quot;).get(id);`.","body":"<code>.filter(p -&gt; ((Profile)p)</code> shouldnt even compile.  But <code>.map(p -&gt; ((Profile)p)</code> will.  Of course, you could just forego streams and use <code>return (Profile) maps.get(&quot;Profiles&quot;).get(id);</code>."}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701617218,"creation_date":1701617218,"answer_id":77594930,"question_id":77594845,"body_markdown":"You can get it by calling `.get()`. After you do:\r\n\r\n```\r\nprofileMap.put(profile.getProfileId(), profile);\r\n```\r\n\r\ntry:\r\n\r\n```\r\nprofileMap.get(profile.getProfileId())\r\n```\r\n\r\nand it should yield you the profile you just added. So, if you have an id, you can get the profile from the map as long as it is to be found inside of it. If you do not know whether a value is to be found and you want to default the value to something, then you can also use `getOrDefault`.","title":"How to Cast From Object to My Class in Java","body":"<p>You can get it by calling <code>.get()</code>. After you do:</p>\n<pre><code>profileMap.put(profile.getProfileId(), profile);\n</code></pre>\n<p>try:</p>\n<pre><code>profileMap.get(profile.getProfileId())\n</code></pre>\n<p>and it should yield you the profile you just added. So, if you have an id, you can get the profile from the map as long as it is to be found inside of it. If you do not know whether a value is to be found and you want to default the value to something, then you can also use <code>getOrDefault</code>.</p>\n"}],"owner":{"account_id":11479999,"reputation":56,"user_id":8414388,"display_name":"Ayman Subbagh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701617218,"creation_date":1701615788,"question_id":77594845,"body_markdown":"I&#39;m Playing around with maps and i did this\r\n```\r\nMap&lt;String, Map&lt;String, Object&gt;&gt; maps = new HashMap&lt;&gt;();\r\nUser user = new User(&quot;name&quot;, &quot;age&quot;);\r\nProfile profile = new Profile(user, &quot;ADMIN&quot;)\r\nMap&lt;String, User&gt; userMap = new HashMap&lt;&gt;();\r\nMap&lt;String, Profile&gt; profileMap = new HashMap&lt;&gt;();\r\n\r\nuserMap.put(user.getUserId(), user);\r\nprofileMap.put(profile.getProfileId(), profile);\r\nmaps.put(&quot;Profiles&quot;, profileMap);\r\nmaps.put(&quot;Users&quot;, usesrMap);\r\n```\r\n\r\nHow can i get profile or user objects from this map?\r\nfor example i want to get a specific profile using id\r\n\r\n```\r\npublic Profile getById(String id) { // i get error here unless i change return type to object\r\n   return maps.get(&quot;Profiles&quot;).values().stream()\r\n       .filter(p -&gt; ((Profile)p).getProfileId().equals(id));\r\n}\r\n```\r\n","title":"How to Cast From Object to My Class in Java","body":"<p>I'm Playing around with maps and i did this</p>\n<pre><code>Map&lt;String, Map&lt;String, Object&gt;&gt; maps = new HashMap&lt;&gt;();\nUser user = new User(&quot;name&quot;, &quot;age&quot;);\nProfile profile = new Profile(user, &quot;ADMIN&quot;)\nMap&lt;String, User&gt; userMap = new HashMap&lt;&gt;();\nMap&lt;String, Profile&gt; profileMap = new HashMap&lt;&gt;();\n\nuserMap.put(user.getUserId(), user);\nprofileMap.put(profile.getProfileId(), profile);\nmaps.put(&quot;Profiles&quot;, profileMap);\nmaps.put(&quot;Users&quot;, usesrMap);\n</code></pre>\n<p>How can i get profile or user objects from this map?\nfor example i want to get a specific profile using id</p>\n<pre><code>public Profile getById(String id) { // i get error here unless i change return type to object\n   return maps.get(&quot;Profiles&quot;).values().stream()\n       .filter(p -&gt; ((Profile)p).getProfileId().equals(id));\n}\n</code></pre>\n"},{"tags":["java","docker","apache-kafka"],"comments":[{"owner":{"account_id":1605536,"reputation":9657,"user_id":1485715,"display_name":"Marius Waldal"},"score":0,"creation_date":1533124818,"post_id":51630260,"comment_id":90229559,"body_markdown":"Pretty sure that this is only working between docker containers all setup with networking like this. you&#39;re essentially creating a separate network (confluent) here, and the two containers (zookeeper and kafka) can talk to each other, but you cannot access it from outside directly with localhost. i think it works if you use /etc/hosts, but i&#39;m not sure. it wouldn&#39;t be a workaround, though, because the containers are not running on localhost. they&#39;re running on confluent network. does it work if you specify the ip address instead of localhost?","body":"Pretty sure that this is only working between docker containers all setup with networking like this. you&#39;re essentially creating a separate network (confluent) here, and the two containers (zookeeper and kafka) can talk to each other, but you cannot access it from outside directly with localhost. i think it works if you use /etc/hosts, but i&#39;m not sure. it wouldn&#39;t be a workaround, though, because the containers are not running on localhost. they&#39;re running on confluent network. does it work if you specify the ip address instead of localhost?"}],"answers":[{"tags":[],"owner":{"account_id":8308424,"reputation":4615,"user_id":6244560,"display_name":"wargre"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1636811333,"creation_date":1533125151,"answer_id":51632885,"question_id":51630260,"body_markdown":"When you first connect to a kafka node, it will give you back all the kafka node and the url where to connect. Then your application will try to connect to every kafka directly.\r\n\r\nIssue is always what is the kafka will give you as url ? It&#39;s why there is the `KAFKA_ADVERTISED_LISTENERS` which will be used by kafka to tell the world how it can be accessed. \r\n\r\nNow for your use-case, there is multiple small stuff to think about: \r\n\r\nLet say you set `plaintext://kafka:9092`\r\n\r\n- This is OK if you have an application in your docker compose that use kafka.  This application will get from kafka the URL with `kafka` that is resolvable through the docker network. \r\n- If you try to connect from your main system or from another container which is not in the same docker network this will fail, as the `kafka` name cannot be resolved.\r\n\r\n==&gt; To fix this, you need to have a specific DNS server like a service discovery one, but it is big trouble for small stuff.  Or you set manually the `kafka` name to the container ip in each `/etc/hosts`\r\n\r\nIf you set `plaintext://localhost:9092`\r\n\r\n- This will be ok on your system if you have a port mapping ( -p 9092:9092 when launching kafka)\r\n- This will fail if you test from an application on a container (same docker network or not) (localhost is the container itself not the kafka one)\r\n\r\n==&gt; If you have this and wish to use a kafka client in another container, one way to fix this is to share the network for both container (same ip)\r\n\r\nLast option : set an IP in the name: `plaintext://x.y.z.a:9092` ( kafka advertised url cannot be 0.0.0.0 as stated in the doc https://kafka.apache.org/documentation/#brokerconfigs_advertised.listeners )\r\n\r\nThis will be ok for everybody... BUT how can you get the x.y.z.a name ? \r\n\r\nThe only way is to hardcode this ip when you launch the container: `docker run .... --net confluent --ip 10.x.y.z ...`.  Note that you need to adapt the ip to one valid ip in the `confluent` subnet.\r\n\r\n","title":"Connect to Kafka running in Docker","body":"<p>When you first connect to a kafka node, it will give you back all the kafka node and the url where to connect. Then your application will try to connect to every kafka directly.</p>\n<p>Issue is always what is the kafka will give you as url ? It's why there is the <code>KAFKA_ADVERTISED_LISTENERS</code> which will be used by kafka to tell the world how it can be accessed.</p>\n<p>Now for your use-case, there is multiple small stuff to think about:</p>\n<p>Let say you set <code>plaintext://kafka:9092</code></p>\n<ul>\n<li>This is OK if you have an application in your docker compose that use kafka.  This application will get from kafka the URL with <code>kafka</code> that is resolvable through the docker network.</li>\n<li>If you try to connect from your main system or from another container which is not in the same docker network this will fail, as the <code>kafka</code> name cannot be resolved.</li>\n</ul>\n<p>==&gt; To fix this, you need to have a specific DNS server like a service discovery one, but it is big trouble for small stuff.  Or you set manually the <code>kafka</code> name to the container ip in each <code>/etc/hosts</code></p>\n<p>If you set <code>plaintext://localhost:9092</code></p>\n<ul>\n<li>This will be ok on your system if you have a port mapping ( -p 9092:9092 when launching kafka)</li>\n<li>This will fail if you test from an application on a container (same docker network or not) (localhost is the container itself not the kafka one)</li>\n</ul>\n<p>==&gt; If you have this and wish to use a kafka client in another container, one way to fix this is to share the network for both container (same ip)</p>\n<p>Last option : set an IP in the name: <code>plaintext://x.y.z.a:9092</code> ( kafka advertised url cannot be 0.0.0.0 as stated in the doc <a href=\"https://kafka.apache.org/documentation/#brokerconfigs_advertised.listeners\" rel=\"noreferrer\">https://kafka.apache.org/documentation/#brokerconfigs_advertised.listeners</a> )</p>\n<p>This will be ok for everybody... BUT how can you get the x.y.z.a name ?</p>\n<p>The only way is to hardcode this ip when you launch the container: <code>docker run .... --net confluent --ip 10.x.y.z ...</code>.  Note that you need to adapt the ip to one valid ip in the <code>confluent</code> subnet.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1701617169,"creation_date":1533129903,"answer_id":51634499,"question_id":51630260,"body_markdown":"**tl;dr** - A simple port forward from the container to the host will *not work*... Hosts files (e.g. `/etc/hosts` on *NIX systems) should not be modified to work around Kafka networking, as this solution is not portable. \r\n\r\n1\\) What exact IP/hostname + port do you want to connect to? Make sure that value is set as `advertised.listeners` (not `advertised.host.name` and `advertised.port`, as these are deprecated) on the broker. If you see an error such as `Connection to node -1 (localhost/127.0.0.1:9092)`, then that means your app container tries to connect to itself. Is your app container also running a Kafka broker process? Probably not. \r\n\r\n2\\) Make sure that the server(s) listed  as part of `bootstrap.servers` are actually resolvable. E.g `ping` an IP/hostname, use `netcat` to check ports... If your clients are in a container, you need to do this _from the container_, not (only) your host. Use `docker exec` if the container isn&#39;t immediately crashing to get to its shell. \r\n\r\n3\\) If running a process from the host, rather than another container, to verify the ports are mapped correctly on the host, ensure that `docker ps` shows the kafka container is mapped from `0.0.0.0:&lt;host_port&gt; -&gt; &lt;advertised_listener_port&gt;/tcp`. The ports must match if trying to run a client from outside the Docker network. You do not need port forwarding between two containers; use links / docker networks \r\n\r\n---\r\n\r\n&gt; The below answer uses `confluentinc` docker images&lt;/b&gt; to address the question that was asked, **not** `wurstmeister/kafka`. If you have `KAFKA_ADVERTISED_HOST_NAME` variable set, remove it (it&#39;s a deprecated property) \r\n\r\nThe following sections try to aggregate all the details needed to use another image. For other, commonly used Kafka images,  **it&#39;s all the same *Apache* Kafka** running in a container.  \r\n You&#39;re just dependent on *how it is configured*. And *which variables* make it so.&lt;/sub&gt;\r\n\r\n&gt; #### `wurstmeister/kafka`\r\n&gt; \r\n&gt; As of Oct 2023, this no longer exists in DockerHub. Wasn&#39;t maintained past 2022, anyway.\r\n&gt; \r\n&gt; Refer their README section on [listener configuration](https://github.com/wurstmeister/kafka-docker/blob/master/README.md#listener-configuration), Also [read their Connectivity wiki](https://github.com/wurstmeister/kafka-docker/wiki/Connectivity).\r\n\r\n&gt; #### `bitnami/kafka`\r\n&gt; \r\n&gt; If you want a small container, try these. The images are much smaller than the Confluent ones and are much more well maintained than `wurstmeister`. [Refer their README](https://github.com/bitnami/containers/tree/main/bitnami/kafka#accessing-apache-kafka-with-internal-and-external-clients) for listener configuration.&lt;/sub&gt;\r\n\r\n&gt; #### `debezium/kafka`\r\n&gt; \r\n&gt; Docs on it [are mentioned here](https://debezium.io/documentation/faq/#how_to_connect_to_kafka_when_using_the_debezium_docker_images).\r\n&gt; \r\n&gt; **Note**: advertised host and port settings are deprecated. Advertised **_listeners_** covers both. Similar to the Confluent containers, Debezium can use `KAFKA_` prefixed broker settings to update its properties.&lt;/sub&gt;\r\n\r\n&gt; #### Others\r\n&gt; \r\n&gt; - `ubuntu/kafka` requires you to add `--override advertised.listeners=kafka:9092` via Docker image args... I find that less portable than environment variables, so not recommended   \r\n&gt; - `spotify/kafka` is deprecated and outdated.  \r\n&gt; - `fast-data-dev` or `lensesio/box` are great for an all in one solution, with Schema Registry, Kafka Connect, etc, but are bloated if you **only** want Kafka. Plus, it&#39;s a Docker anti pattern to run many services in one container  \r\n&gt; - Your own `Dockerfile` - Why? Is something incomplete with these others? Start with a pull request, not starting from scratch. \r\n\r\nFor supplemental reading, a **fully-functional** `docker-compose`, and network diagrams, see [this blog by @rmoff](https://confluent.io/blog/kafka-listeners-explained/)\r\n\r\n# Answer\r\n\r\n[The Confluent quickstart (Docker) document](https://docs.confluent.io/current/quickstart/ce-docker-quickstart.html) assumes all produce and consume requests will be within the Docker network. \r\n\r\nYou could fix the problem of connecting to `kafka:9092` by running your Kafka client code within its own container as that uses the Docker network bridge, but otherwise you&#39;ll need to add some more environment variables for exposing the container externally, while still having it work within the Docker network. \r\n\r\nFirst add a protocol mapping of `PLAINTEXT_HOST:PLAINTEXT` that will map the listener protocol to a Kafka protocol \r\n\r\nKey: `KAFKA_LISTENER_SECURITY_PROTOCOL_MAP`  \r\nValue: `PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT`\r\n\r\nThen setup two advertised listeners on different ports. (`kafka` here refers to the docker container name; it might also be named `broker`, so double check your service + hostnames).  \r\n\r\nKey: `KAFKA_ADVERTISED_LISTENERS`  \r\nValue: `PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092`\r\n\r\n**Notice the protocols here match the left-side values of the protocol mapping setting above** \r\n\r\nWhen running the container, add `-p 29092:29092` for the host port mapping, and advertised `PLAINTEXT_HOST` listener. \r\n\r\n\r\n---\r\nSo... (**with the above settings**) \r\n\r\n&gt; If something **still** doesn&#39;t work, `KAFKA_LISTENERS` can be set to include `&lt;PROTOCOL&gt;://0.0.0.0:&lt;PORT&gt;` where both options match the advertised setting and Docker-forwarded port \r\n\r\n### Client on same machine, not in a container \r\n\r\nAdvertising localhost and the associated port will let you connect outside of the container, as you&#39;d expect. \r\n\r\nIn other words, when running any Kafka Client **outside** the Docker network (including CLI tools you might have installed locally), use `localhost:29092` for bootstrap servers and `localhost:2181` for Zookeeper (requires Docker port forwarding) \r\n\r\n### Client on another machine \r\n\r\nIf trying to connect from an external server, you&#39;ll need to advertise the external hostname/ip (e.g. `192.168.x.y`) of the host ***as well as/in place of localhost***.  \r\nSimply advertising localhost with a port forward  will not work because Kafka protocol will still continue to advertise the listeners you&#39;ve configured.  \r\n\r\nThis setup requires Docker port forwarding **and** router port forwarding (and firewall / security group changes) if not in the same local network, for example, your container is running in the cloud and you want to interact with it from your local machine. \r\n\r\n### Client (or another broker) in a container, on the same host\r\n\r\nThis is the least error-prone configuration; you can use DNS service names directly. \r\n\r\nWhen running an app **in the Docker network**, use `kafka:9092` (see advertised `PLAINTEXT` listener config above) for bootstrap servers and `zookeeper:2181` for Zookeeper, just like any other Docker service communication (doesn&#39;t require any port forwarding)\r\n\r\n---\r\n\r\nIf you use separate `docker run` commands, or Compose files, you need to define a shared `network` manually using compose `networks` section or `docker network --create`\r\n\r\n---\r\n\r\n[See the example Compose file for the full Confluent stack](https://github.com/confluentinc/examples/blob/5.3.1-post/cp-all-in-one/docker-compose.yml) or [more minimal one](https://github.com/conduktor/kafka-stack-docker-compose/blob/v6.2.1/zk-single-kafka-single.yml) for a single broker.\r\n\r\nIf using multiple brokers, then they need to use unique hostnames + advertised listeners. [See example](https://github.com/conduktor/kafka-stack-docker-compose/blob/v6.2.1/zk-single-kafka-multiple.yml)\r\n\r\n# Related question\r\n\r\nhttps://stackoverflow.com/q/68401788/2308683\r\n\r\n# Appendix\r\n\r\nFor anyone interested in **Kubernetes** deployments:\r\n- [Accessing Kafka](https://strimzi.io/blog/2019/04/17/accessing-kafka-part-1) \r\n- Operators (recommended): https://operatorhub.io/?keyword=Kafka\r\n- Helm Artifact Hub: https://artifacthub.io/packages/search?ts_query_web=kafka&amp;sort=stars&amp;page=1","title":"Connect to Kafka running in Docker","body":"<p><strong>tl;dr</strong> - A simple port forward from the container to the host will <em>not work</em>... Hosts files (e.g. <code>/etc/hosts</code> on *NIX systems) should not be modified to work around Kafka networking, as this solution is not portable.</p>\n<p>1) What exact IP/hostname + port do you want to connect to? Make sure that value is set as <code>advertised.listeners</code> (not <code>advertised.host.name</code> and <code>advertised.port</code>, as these are deprecated) on the broker. If you see an error such as <code>Connection to node -1 (localhost/127.0.0.1:9092)</code>, then that means your app container tries to connect to itself. Is your app container also running a Kafka broker process? Probably not.</p>\n<p>2) Make sure that the server(s) listed  as part of <code>bootstrap.servers</code> are actually resolvable. E.g <code>ping</code> an IP/hostname, use <code>netcat</code> to check ports... If your clients are in a container, you need to do this <em>from the container</em>, not (only) your host. Use <code>docker exec</code> if the container isn't immediately crashing to get to its shell.</p>\n<p>3) If running a process from the host, rather than another container, to verify the ports are mapped correctly on the host, ensure that <code>docker ps</code> shows the kafka container is mapped from <code>0.0.0.0:&lt;host_port&gt; -&gt; &lt;advertised_listener_port&gt;/tcp</code>. The ports must match if trying to run a client from outside the Docker network. You do not need port forwarding between two containers; use links / docker networks</p>\n<hr />\n<blockquote>\n<p>The below answer uses <code>confluentinc</code> docker images to address the question that was asked, <strong>not</strong> <code>wurstmeister/kafka</code>. If you have <code>KAFKA_ADVERTISED_HOST_NAME</code> variable set, remove it (it's a deprecated property)</p>\n</blockquote>\n<p>The following sections try to aggregate all the details needed to use another image. For other, commonly used Kafka images,  <strong>it's all the same <em>Apache</em> Kafka</strong> running in a container.<br />\nYou're just dependent on <em>how it is configured</em>. And <em>which variables</em> make it so.</p>\n<blockquote>\n<h4><code>wurstmeister/kafka</code></h4>\n<p>As of Oct 2023, this no longer exists in DockerHub. Wasn't maintained past 2022, anyway.</p>\n<p>Refer their README section on <a href=\"https://github.com/wurstmeister/kafka-docker/blob/master/README.md#listener-configuration\" rel=\"nofollow noreferrer\">listener configuration</a>, Also <a href=\"https://github.com/wurstmeister/kafka-docker/wiki/Connectivity\" rel=\"nofollow noreferrer\">read their Connectivity wiki</a>.</p>\n</blockquote>\n<blockquote>\n<h4><code>bitnami/kafka</code></h4>\n<p>If you want a small container, try these. The images are much smaller than the Confluent ones and are much more well maintained than <code>wurstmeister</code>. <a href=\"https://github.com/bitnami/containers/tree/main/bitnami/kafka#accessing-apache-kafka-with-internal-and-external-clients\" rel=\"nofollow noreferrer\">Refer their README</a> for listener configuration.</p>\n</blockquote>\n<blockquote>\n<h4><code>debezium/kafka</code></h4>\n<p>Docs on it <a href=\"https://debezium.io/documentation/faq/#how_to_connect_to_kafka_when_using_the_debezium_docker_images\" rel=\"nofollow noreferrer\">are mentioned here</a>.</p>\n<p><strong>Note</strong>: advertised host and port settings are deprecated. Advertised <strong><em>listeners</em></strong> covers both. Similar to the Confluent containers, Debezium can use <code>KAFKA_</code> prefixed broker settings to update its properties.</p>\n</blockquote>\n<blockquote>\n<h4>Others</h4>\n<ul>\n<li><code>ubuntu/kafka</code> requires you to add <code>--override advertised.listeners=kafka:9092</code> via Docker image args... I find that less portable than environment variables, so not recommended</li>\n<li><code>spotify/kafka</code> is deprecated and outdated.</li>\n<li><code>fast-data-dev</code> or <code>lensesio/box</code> are great for an all in one solution, with Schema Registry, Kafka Connect, etc, but are bloated if you <strong>only</strong> want Kafka. Plus, it's a Docker anti pattern to run many services in one container</li>\n<li>Your own <code>Dockerfile</code> - Why? Is something incomplete with these others? Start with a pull request, not starting from scratch.</li>\n</ul>\n</blockquote>\n<p>For supplemental reading, a <strong>fully-functional</strong> <code>docker-compose</code>, and network diagrams, see <a href=\"https://confluent.io/blog/kafka-listeners-explained/\" rel=\"nofollow noreferrer\">this blog by @rmoff</a></p>\n<h1>Answer</h1>\n<p><a href=\"https://docs.confluent.io/current/quickstart/ce-docker-quickstart.html\" rel=\"nofollow noreferrer\">The Confluent quickstart (Docker) document</a> assumes all produce and consume requests will be within the Docker network.</p>\n<p>You could fix the problem of connecting to <code>kafka:9092</code> by running your Kafka client code within its own container as that uses the Docker network bridge, but otherwise you'll need to add some more environment variables for exposing the container externally, while still having it work within the Docker network.</p>\n<p>First add a protocol mapping of <code>PLAINTEXT_HOST:PLAINTEXT</code> that will map the listener protocol to a Kafka protocol</p>\n<p>Key: <code>KAFKA_LISTENER_SECURITY_PROTOCOL_MAP</code><br />\nValue: <code>PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT</code></p>\n<p>Then setup two advertised listeners on different ports. (<code>kafka</code> here refers to the docker container name; it might also be named <code>broker</code>, so double check your service + hostnames).</p>\n<p>Key: <code>KAFKA_ADVERTISED_LISTENERS</code><br />\nValue: <code>PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092</code></p>\n<p><strong>Notice the protocols here match the left-side values of the protocol mapping setting above</strong></p>\n<p>When running the container, add <code>-p 29092:29092</code> for the host port mapping, and advertised <code>PLAINTEXT_HOST</code> listener.</p>\n<hr />\n<p>So... (<strong>with the above settings</strong>)</p>\n<blockquote>\n<p>If something <strong>still</strong> doesn't work, <code>KAFKA_LISTENERS</code> can be set to include <code>&lt;PROTOCOL&gt;://0.0.0.0:&lt;PORT&gt;</code> where both options match the advertised setting and Docker-forwarded port</p>\n</blockquote>\n<h3>Client on same machine, not in a container</h3>\n<p>Advertising localhost and the associated port will let you connect outside of the container, as you'd expect.</p>\n<p>In other words, when running any Kafka Client <strong>outside</strong> the Docker network (including CLI tools you might have installed locally), use <code>localhost:29092</code> for bootstrap servers and <code>localhost:2181</code> for Zookeeper (requires Docker port forwarding)</p>\n<h3>Client on another machine</h3>\n<p>If trying to connect from an external server, you'll need to advertise the external hostname/ip (e.g. <code>192.168.x.y</code>) of the host <em><strong>as well as/in place of localhost</strong></em>.<br />\nSimply advertising localhost with a port forward  will not work because Kafka protocol will still continue to advertise the listeners you've configured.</p>\n<p>This setup requires Docker port forwarding <strong>and</strong> router port forwarding (and firewall / security group changes) if not in the same local network, for example, your container is running in the cloud and you want to interact with it from your local machine.</p>\n<h3>Client (or another broker) in a container, on the same host</h3>\n<p>This is the least error-prone configuration; you can use DNS service names directly.</p>\n<p>When running an app <strong>in the Docker network</strong>, use <code>kafka:9092</code> (see advertised <code>PLAINTEXT</code> listener config above) for bootstrap servers and <code>zookeeper:2181</code> for Zookeeper, just like any other Docker service communication (doesn't require any port forwarding)</p>\n<hr />\n<p>If you use separate <code>docker run</code> commands, or Compose files, you need to define a shared <code>network</code> manually using compose <code>networks</code> section or <code>docker network --create</code></p>\n<hr />\n<p><a href=\"https://github.com/confluentinc/examples/blob/5.3.1-post/cp-all-in-one/docker-compose.yml\" rel=\"nofollow noreferrer\">See the example Compose file for the full Confluent stack</a> or <a href=\"https://github.com/conduktor/kafka-stack-docker-compose/blob/v6.2.1/zk-single-kafka-single.yml\" rel=\"nofollow noreferrer\">more minimal one</a> for a single broker.</p>\n<p>If using multiple brokers, then they need to use unique hostnames + advertised listeners. <a href=\"https://github.com/conduktor/kafka-stack-docker-compose/blob/v6.2.1/zk-single-kafka-multiple.yml\" rel=\"nofollow noreferrer\">See example</a></p>\n<h1>Related question</h1>\n<p><a href=\"https://stackoverflow.com/q/68401788/2308683\">Connect to Kafka on host from Docker (ksqlDB)</a></p>\n<h1>Appendix</h1>\n<p>For anyone interested in <strong>Kubernetes</strong> deployments:</p>\n<ul>\n<li><a href=\"https://strimzi.io/blog/2019/04/17/accessing-kafka-part-1\" rel=\"nofollow noreferrer\">Accessing Kafka</a></li>\n<li>Operators (recommended): <a href=\"https://operatorhub.io/?keyword=Kafka\" rel=\"nofollow noreferrer\">https://operatorhub.io/?keyword=Kafka</a></li>\n<li>Helm Artifact Hub: <a href=\"https://artifacthub.io/packages/search?ts_query_web=kafka&amp;sort=stars&amp;page=1\" rel=\"nofollow noreferrer\">https://artifacthub.io/packages/search?ts_query_web=kafka&amp;sort=stars&amp;page=1</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11131919,"reputation":29,"user_id":8171653,"display_name":"brahim Ersin Yava"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1589456708,"creation_date":1589455862,"answer_id":61796286,"question_id":51630260,"body_markdown":"before zookeeper\r\n\r\n 1. docker container run --name zookeeper -p 2181:2181 zookeeper\r\n\r\nafter kafka\r\n\r\n 2. docker container run --name kafka -p 9092:9092 -e KAFKA_ZOOKEEPER_CONNECT=192.168.8.128:2181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://ip_address_of_your_computer_but_not_localhost!!!:9092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc/cp-kafka\r\n\r\nin kafka consumer and producer config\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;192.168.8.128:9092&quot;);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;192.168.8.128:9092&quot;);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group_id&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\nI run my project with these regulations. Good luck dude.\r\n\r\n\r\n","title":"Connect to Kafka running in Docker","body":"<p>before zookeeper</p>\n\n<ol>\n<li>docker container run --name zookeeper -p 2181:2181 zookeeper</li>\n</ol>\n\n<p>after kafka</p>\n\n<ol start=\"2\">\n<li>docker container run --name kafka -p 9092:9092 -e KAFKA_ZOOKEEPER_CONNECT=192.168.8.128:2181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://ip_address_of_your_computer_but_not_localhost!!!:9092 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 confluentinc/cp-kafka</li>\n</ol>\n\n<p>in kafka consumer and producer config</p>\n\n<pre><code>@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \"192.168.8.128:9092\");\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"192.168.8.128:9092\");\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, \"group_id\");\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n}\n</code></pre>\n\n<p>I run my project with these regulations. Good luck dude.</p>\n"},{"tags":[],"owner":{"account_id":19460253,"reputation":101,"user_id":14234707,"display_name":"Ton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673423490,"creation_date":1635244540,"answer_id":69721543,"question_id":51630260,"body_markdown":"This allows me to access `localhost:9092` in Kafka applications on my M1 Mac\r\n\r\n```\r\nKey: KAFKA_ADVERTISED_LISTENERS\r\nValue: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\r\n```\r\nplus port forwarding :\r\n```\r\nports\r\n   - &quot;9092:9092&quot;\r\n```\r\n\r\nFinally, again, for my set up, I have to set listeners key this way\r\n```\r\nKey: KAFKA_LISTENERS\r\nValue: PLAINTEXT://0.0.0.0:29092,PLAINTEXT_HOST://0.0.0.0:9092\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Connect to Kafka running in Docker","body":"<p>This allows me to access <code>localhost:9092</code> in Kafka applications on my M1 Mac</p>\n<pre><code>Key: KAFKA_ADVERTISED_LISTENERS\nValue: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\n</code></pre>\n<p>plus port forwarding :</p>\n<pre><code>ports\n   - &quot;9092:9092&quot;\n</code></pre>\n<p>Finally, again, for my set up, I have to set listeners key this way</p>\n<pre><code>Key: KAFKA_LISTENERS\nValue: PLAINTEXT://0.0.0.0:29092,PLAINTEXT_HOST://0.0.0.0:9092\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662760996,"creation_date":1662760996,"answer_id":73667872,"question_id":51630260,"body_markdown":"the simplest way to solve this is adding a custom hostname to your broker using -h option\r\n\r\n    docker run -d \\\r\n        --net=confluent \\\r\n        --name=kafka \\\r\n        -h broker-1 \\\r\n        -p 9092:9092 \\\r\n        -e KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181 \\\r\n        -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092 \\\r\n        -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \\\r\n        confluentinc/cp-kafka:4.1.0\r\n\r\nand edit your /etc/hosts\r\n\r\n    127.0.0.1   broker-1\r\n\r\nand use:\r\n\r\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;broker-1:9092&quot;);","title":"Connect to Kafka running in Docker","body":"<p>the simplest way to solve this is adding a custom hostname to your broker using -h option</p>\n<pre><code>docker run -d \\\n    --net=confluent \\\n    --name=kafka \\\n    -h broker-1 \\\n    -p 9092:9092 \\\n    -e KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181 \\\n    -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092 \\\n    -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \\\n    confluentinc/cp-kafka:4.1.0\n</code></pre>\n<p>and edit your /etc/hosts</p>\n<pre><code>127.0.0.1   broker-1\n</code></pre>\n<p>and use:</p>\n<pre><code>props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;broker-1:9092&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13090144,"reputation":1986,"user_id":9457900,"display_name":"Tanjin Alam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686484660,"creation_date":1683923753,"answer_id":76239803,"question_id":51630260,"body_markdown":"          KAFKA_BROKER_ID: 1\r\n          KAFKA_ADVERTISED_HOST_NAME: kafka:9092\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n          KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n          KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n\r\n\r\nThis configuration works fine \r\n\r\nmake sure from inside docker you are connecting `kafka:29092`\r\n\r\nfrom outside container `localhost:9092`\r\n\r\n\r\nfull working docker compose config \r\n\r\n \r\n\r\n        version: &quot;3.3&quot;\r\n    \r\n        services:\r\n          zookeeper:\r\n            image: confluentinc/cp-zookeeper:6.2.0\r\n            container_name: zookeeper\r\n            networks:\r\n              - broker-kafka\r\n            ports:\r\n              - &quot;2181:2181&quot;\r\n            environment:\r\n              ZOOKEEPER_CLIENT_PORT: 2181\r\n              ZOOKEEPER_TICK_TIME: 2000\r\n              ALLOW_ANONYMOUS_LOGIN: yes\r\n            volumes:\r\n              - ./bitnami/zookeeper:/bitnami/zookeeper\r\n        \r\n          kafka:\r\n            image: confluentinc/cp-kafka:6.2.0\r\n            container_name: kafka\r\n            networks:\r\n              - broker-kafka\r\n            depends_on:\r\n              - zookeeper\r\n            ports:\r\n              - &quot;9092:9092&quot;\r\n            expose:\r\n              - &quot;9092&quot;\r\n            environment:\r\n              KAFKA_BROKER_ID: 1\r\n              KAFKA_ADVERTISED_HOST_NAME: kafka:9092\r\n              KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n              KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n              KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\r\n              KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n              KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n              # KAFKA_AUTO_CREATE_TOPICS_ENABLE: &quot;false&quot;\r\n              # KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\r\n              # KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\r\n              KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\r\n              # KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\r\n              KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\r\n            volumes:\r\n              - ./bitnami/kafka:/bitnami/kafka\r\n        \r\n          kafdrop:\r\n            image: obsidiandynamics/kafdrop\r\n            container_name: kafdrop\r\n            ports:\r\n              - &quot;9000:9000&quot;\r\n            expose:\r\n              - &quot;9000&quot;\r\n            networks:\r\n              - broker-kafka\r\n            environment:\r\n              KAFKA_BROKERCONNECT: &quot;PLAINTEXT://kafka:29092&quot;\r\n              JVM_OPTS: &quot;-Xms16M -Xmx48M -Xss180K -XX:-TieredCompilation -XX:+UseStringDeduplication -noverify&quot;\r\n              SPRING_PROFILES_ACTIVE: &quot;dev&quot;\r\n            depends_on:\r\n              - kafka\r\n              - zookeeper\r\n        \r\n          consumer:\r\n            container_name: consumer\r\n            build:\r\n              context: ./consumer\r\n              dockerfile: Dockerfile\r\n            environment:\r\n              - KAFKA_TOPIC_NAME=app\r\n              - KAFKA_SERVER=kafka\r\n              - KAFKA_PORT=29092\r\n            ports:\r\n              - 8001:8001\r\n            restart: &quot;always&quot;\r\n            depends_on:\r\n              - zookeeper\r\n              - kafka\r\n              - publisher\r\n              - kafdrop\r\n            networks:\r\n              - broker-kafka\r\n        \r\n          publisher:\r\n            container_name: publisher\r\n            build:\r\n              context: ./producer\r\n              dockerfile: Dockerfile\r\n            environment:\r\n              - KAFKA_TOPIC_NAME=app\r\n              - KAFKA_SERVER=kafka\r\n              - KAFKA_PORT=29092\r\n            ports:\r\n              - 8000:8000\r\n            restart: &quot;always&quot;\r\n            depends_on:\r\n              - zookeeper\r\n              - kafka\r\n              - kafdrop\r\n            networks:\r\n              - broker-kafka\r\n            volumes:\r\n              - ./testproducer:/producer\r\n        \r\n        networks:\r\n          broker-kafka:\r\n            driver: bridge\r\n\r\n\r\n\r\n","title":"Connect to Kafka running in Docker","body":"<pre><code>      KAFKA_BROKER_ID: 1\n      KAFKA_ADVERTISED_HOST_NAME: kafka:9092\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n</code></pre>\n<p>This configuration works fine</p>\n<p>make sure from inside docker you are connecting <code>kafka:29092</code></p>\n<p>from outside container <code>localhost:9092</code></p>\n<p>full working docker compose config</p>\n<pre><code>    version: &quot;3.3&quot;\n\n    services:\n      zookeeper:\n        image: confluentinc/cp-zookeeper:6.2.0\n        container_name: zookeeper\n        networks:\n          - broker-kafka\n        ports:\n          - &quot;2181:2181&quot;\n        environment:\n          ZOOKEEPER_CLIENT_PORT: 2181\n          ZOOKEEPER_TICK_TIME: 2000\n          ALLOW_ANONYMOUS_LOGIN: yes\n        volumes:\n          - ./bitnami/zookeeper:/bitnami/zookeeper\n    \n      kafka:\n        image: confluentinc/cp-kafka:6.2.0\n        container_name: kafka\n        networks:\n          - broker-kafka\n        depends_on:\n          - zookeeper\n        ports:\n          - &quot;9092:9092&quot;\n        expose:\n          - &quot;9092&quot;\n        environment:\n          KAFKA_BROKER_ID: 1\n          KAFKA_ADVERTISED_HOST_NAME: kafka:9092\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n          KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\n          KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n          KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n          # KAFKA_AUTO_CREATE_TOPICS_ENABLE: &quot;false&quot;\n          # KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n          # KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\n          KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\n          # KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\n          KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\n        volumes:\n          - ./bitnami/kafka:/bitnami/kafka\n    \n      kafdrop:\n        image: obsidiandynamics/kafdrop\n        container_name: kafdrop\n        ports:\n          - &quot;9000:9000&quot;\n        expose:\n          - &quot;9000&quot;\n        networks:\n          - broker-kafka\n        environment:\n          KAFKA_BROKERCONNECT: &quot;PLAINTEXT://kafka:29092&quot;\n          JVM_OPTS: &quot;-Xms16M -Xmx48M -Xss180K -XX:-TieredCompilation -XX:+UseStringDeduplication -noverify&quot;\n          SPRING_PROFILES_ACTIVE: &quot;dev&quot;\n        depends_on:\n          - kafka\n          - zookeeper\n    \n      consumer:\n        container_name: consumer\n        build:\n          context: ./consumer\n          dockerfile: Dockerfile\n        environment:\n          - KAFKA_TOPIC_NAME=app\n          - KAFKA_SERVER=kafka\n          - KAFKA_PORT=29092\n        ports:\n          - 8001:8001\n        restart: &quot;always&quot;\n        depends_on:\n          - zookeeper\n          - kafka\n          - publisher\n          - kafdrop\n        networks:\n          - broker-kafka\n    \n      publisher:\n        container_name: publisher\n        build:\n          context: ./producer\n          dockerfile: Dockerfile\n        environment:\n          - KAFKA_TOPIC_NAME=app\n          - KAFKA_SERVER=kafka\n          - KAFKA_PORT=29092\n        ports:\n          - 8000:8000\n        restart: &quot;always&quot;\n        depends_on:\n          - zookeeper\n          - kafka\n          - kafdrop\n        networks:\n          - broker-kafka\n        volumes:\n          - ./testproducer:/producer\n    \n    networks:\n      broker-kafka:\n        driver: bridge\n</code></pre>\n"}],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78889,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":51634499,"answer_count":6,"score":52,"last_activity_date":1701617169,"creation_date":1533117051,"question_id":51630260,"body_markdown":"I setup a single node Kafka Docker container on my local machine like it is described in [the Confluent documentation][1] (steps 2-3).\r\n\r\nIn addition, I also exposed Zookeeper&#39;s port 2181 and Kafka&#39;s port 9092 so that I&#39;ll be able to connect to them from a client running on local machine:\r\n\r\n    $ docker run -d \\\r\n        -p 2181:2181 \\\r\n        --net=confluent \\\r\n        --name=zookeeper \\\r\n        -e ZOOKEEPER_CLIENT_PORT=2181 \\\r\n        confluentinc/cp-zookeeper:4.1.0\r\n    \r\n    $ docker run -d \\\r\n        --net=confluent \\\r\n        --name=kafka \\\r\n        -p 9092:9092 \\\r\n        -e KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181 \\\r\n        -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092 \\\r\n        -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \\\r\n        confluentinc/cp-kafka:4.1.0\r\n\r\n**Problem:** When I try to connect to Kafka from the host machine, the connection fails because it `can&#39;t resolve address: kafka:9092`.\r\n\r\nHere is my Java code:\r\n\r\n    Properties props = new Properties();\r\n    props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n    props.put(&quot;client.id&quot;, &quot;KafkaExampleProducer&quot;);\r\n    props.put(&quot;key.serializer&quot;, LongSerializer.class.getName());\r\n    props.put(&quot;value.serializer&quot;, StringSerializer.class.getName());\r\n    KafkaProducer&lt;Long, String&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n    ProducerRecord&lt;Long, String&gt; record = new ProducerRecord&lt;&gt;(&quot;foo&quot;, 1L, &quot;Test 1&quot;);\r\n    producer.send(record).get();\r\n    producer.flush();\r\n\r\nThe exception:\r\n\r\n    java.io.IOException: Can&#39;t resolve address: kafka:9092\r\n    \tat org.apache.kafka.common.network.Selector.doConnect(Selector.java:235) ~[kafka-clients-2.0.0.jar:na]\r\n    \tat org.apache.kafka.common.network.Selector.connect(Selector.java:214) ~[kafka-clients-2.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:864) [kafka-clients-2.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:265) [kafka-clients-2.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.sendProducerData(Sender.java:266) [kafka-clients-2.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:238) [kafka-clients-2.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:176) [kafka-clients-2.0.0.jar:na]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]\r\n    Caused by: java.nio.channels.UnresolvedAddressException: null\r\n    \tat sun.nio.ch.Net.checkAddress(Net.java:101) ~[na:1.8.0_144]\r\n    \tat sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:622) ~[na:1.8.0_144]\r\n    \tat org.apache.kafka.common.network.Selector.doConnect(Selector.java:233) ~[kafka-clients-2.0.0.jar:na]\r\n    \t... 7 common frames omitted\r\n\r\n**Question:** How to connect to Kafka running in Docker? My code is running from host machine, not Docker. \r\n\r\nNote: I know that I could theoretically play around with DNS setup and `/etc/hosts` but it is a workaround - it shouldn&#39;t be like that.\r\n\r\nThere is also similar question [here][2], however it is based on `ches/kafka` image. I use `confluentinc` based image which is not the same.\r\n\r\n  [1]: https://docs.confluent.io/current/installation/docker/docs/installation/recipes/single-node-client.html\r\n  [2]: https://stackoverflow.com/q/32302444/2065796\r\n","title":"Connect to Kafka running in Docker","body":"<p>I setup a single node Kafka Docker container on my local machine like it is described in <a href=\"https://docs.confluent.io/current/installation/docker/docs/installation/recipes/single-node-client.html\" rel=\"noreferrer\">the Confluent documentation</a> (steps 2-3).</p>\n\n<p>In addition, I also exposed Zookeeper's port 2181 and Kafka's port 9092 so that I'll be able to connect to them from a client running on local machine:</p>\n\n<pre><code>$ docker run -d \\\n    -p 2181:2181 \\\n    --net=confluent \\\n    --name=zookeeper \\\n    -e ZOOKEEPER_CLIENT_PORT=2181 \\\n    confluentinc/cp-zookeeper:4.1.0\n\n$ docker run -d \\\n    --net=confluent \\\n    --name=kafka \\\n    -p 9092:9092 \\\n    -e KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181 \\\n    -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092 \\\n    -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \\\n    confluentinc/cp-kafka:4.1.0\n</code></pre>\n\n<p><strong>Problem:</strong> When I try to connect to Kafka from the host machine, the connection fails because it <code>can't resolve address: kafka:9092</code>.</p>\n\n<p>Here is my Java code:</p>\n\n<pre><code>Properties props = new Properties();\nprops.put(\"bootstrap.servers\", \"localhost:9092\");\nprops.put(\"client.id\", \"KafkaExampleProducer\");\nprops.put(\"key.serializer\", LongSerializer.class.getName());\nprops.put(\"value.serializer\", StringSerializer.class.getName());\nKafkaProducer&lt;Long, String&gt; producer = new KafkaProducer&lt;&gt;(props);\nProducerRecord&lt;Long, String&gt; record = new ProducerRecord&lt;&gt;(\"foo\", 1L, \"Test 1\");\nproducer.send(record).get();\nproducer.flush();\n</code></pre>\n\n<p>The exception:</p>\n\n<pre><code>java.io.IOException: Can't resolve address: kafka:9092\n    at org.apache.kafka.common.network.Selector.doConnect(Selector.java:235) ~[kafka-clients-2.0.0.jar:na]\n    at org.apache.kafka.common.network.Selector.connect(Selector.java:214) ~[kafka-clients-2.0.0.jar:na]\n    at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:864) [kafka-clients-2.0.0.jar:na]\n    at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:265) [kafka-clients-2.0.0.jar:na]\n    at org.apache.kafka.clients.producer.internals.Sender.sendProducerData(Sender.java:266) [kafka-clients-2.0.0.jar:na]\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:238) [kafka-clients-2.0.0.jar:na]\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:176) [kafka-clients-2.0.0.jar:na]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]\nCaused by: java.nio.channels.UnresolvedAddressException: null\n    at sun.nio.ch.Net.checkAddress(Net.java:101) ~[na:1.8.0_144]\n    at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:622) ~[na:1.8.0_144]\n    at org.apache.kafka.common.network.Selector.doConnect(Selector.java:233) ~[kafka-clients-2.0.0.jar:na]\n    ... 7 common frames omitted\n</code></pre>\n\n<p><strong>Question:</strong> How to connect to Kafka running in Docker? My code is running from host machine, not Docker. </p>\n\n<p>Note: I know that I could theoretically play around with DNS setup and <code>/etc/hosts</code> but it is a workaround - it shouldn't be like that.</p>\n\n<p>There is also similar question <a href=\"https://stackoverflow.com/q/32302444/2065796\">here</a>, however it is based on <code>ches/kafka</code> image. I use <code>confluentinc</code> based image which is not the same.</p>\n"},{"tags":["java","multithreading","concurrency","locking","wait"],"comments":[{"owner":{"account_id":2000200,"reputation":812,"user_id":1791437,"display_name":"Abhijit"},"score":4,"creation_date":1352212602,"post_id":13249835,"comment_id":18059604,"body_markdown":"I think you are wrong wait does release the lock and suspend execution. Its also written on the same link on the very next line.","body":"I think you are wrong wait does release the lock and suspend execution. Its also written on the same link on the very next line."},{"owner":{"account_id":1573773,"reputation":1845,"user_id":1460830,"display_name":"Igor"},"score":0,"creation_date":1352216796,"post_id":13249835,"comment_id":18061741,"body_markdown":"Yup, you are right, &quot;Some time after the second thread has released the lock, the first thread reacquires the lock and resumes by returning from the invocation of wait.&quot;. But what is most important is &quot;wait tells current thread that it should stop until some other thread calls notify(or notifyAll) on same object&quot;","body":"Yup, you are right, &quot;Some time after the second thread has released the lock, the first thread reacquires the lock and resumes by returning from the invocation of wait.&quot;. But what is most important is &quot;wait tells current thread that it should stop until some other thread calls notify(or notifyAll) on same object&quot;"},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":5,"creation_date":1447879160,"post_id":13249835,"comment_id":55346833,"body_markdown":"The `wait` function doesn&#39;t release &quot;all locks&quot;, but it does release the lock associated with the object on which `wait` is invoked.","body":"The <code>wait</code> function doesn&#39;t release &quot;all locks&quot;, but it does release the lock associated with the object on which <code>wait</code> is invoked."}],"answers":[{"tags":[],"owner":{"account_id":940683,"reputation":4720,"user_id":968809,"display_name":"cohadar"},"down_vote_count":0,"up_vote_count":180,"is_accepted":false,"score":180,"last_activity_date":1354398688,"creation_date":1354398688,"answer_id":13664082,"question_id":13249835,"body_markdown":"&quot;Invoking wait inside a synchronized method is a simple way to acquire the intrinsic lock&quot;\r\n \r\n**This sentence is false, it is an error in documentation.**\r\n\r\nThread acquires the intrinsic lock when it **enters** a synchronized method.\r\nThread inside the synchronized method is set as the owner of the lock and is in **RUNNABLE** state.\r\nAny thread that attempts to enter the locked method becomes **BLOCKED**.\r\n\r\nWhen thread calls wait it releases the current object lock (it keeps all locks from other objects) and than goes to **WAITING** state.\r\n\r\nWhen some other thread calls notify or notifyAll on that same object the first thread changes state from WAITING to BLOCKED,\r\nNotified thread does NOT automatically reacquire the lock or become RUNNABLE, in fact it must fight for the lock with all other blocked threads.\r\n\r\nWAITING and BLOCKED states both prevent thread from running, but they are very different.\r\n\r\nWAITING threads must be explicitly transformed to BLOCKED threads by a notify from some other thread.\r\n\r\nWAITING never goes directly to RUNNABLE.\r\n\r\nWhen RUNNABLE thread releases the lock (by leaving monitor or by waiting) one of BLOCKED threads automatically takes its place.\r\n\r\nSo to summarize, thread acquires the lock when it enters synchronized method or when it reenters the synchronized method **after** the wait.\r\n\r\n\r\n    public synchronized guardedJoy() {\r\n        // must get lock before entering here\r\n        while(!joy) {\r\n            try {\r\n                wait(); // releases lock here\r\n                // must regain the lock to reentering here\r\n            } catch (InterruptedException e) {}\r\n        }\r\n        System.out.println(&quot;Joy and efficiency have been achieved!&quot;);\r\n    }","title":"Java : Does wait() release lock from synchronized block","body":"<p>\"Invoking wait inside a synchronized method is a simple way to acquire the intrinsic lock\"</p>\n\n<p><strong>This sentence is false, it is an error in documentation.</strong></p>\n\n<p>Thread acquires the intrinsic lock when it <strong>enters</strong> a synchronized method.\nThread inside the synchronized method is set as the owner of the lock and is in <strong>RUNNABLE</strong> state.\nAny thread that attempts to enter the locked method becomes <strong>BLOCKED</strong>.</p>\n\n<p>When thread calls wait it releases the current object lock (it keeps all locks from other objects) and than goes to <strong>WAITING</strong> state.</p>\n\n<p>When some other thread calls notify or notifyAll on that same object the first thread changes state from WAITING to BLOCKED,\nNotified thread does NOT automatically reacquire the lock or become RUNNABLE, in fact it must fight for the lock with all other blocked threads.</p>\n\n<p>WAITING and BLOCKED states both prevent thread from running, but they are very different.</p>\n\n<p>WAITING threads must be explicitly transformed to BLOCKED threads by a notify from some other thread.</p>\n\n<p>WAITING never goes directly to RUNNABLE.</p>\n\n<p>When RUNNABLE thread releases the lock (by leaving monitor or by waiting) one of BLOCKED threads automatically takes its place.</p>\n\n<p>So to summarize, thread acquires the lock when it enters synchronized method or when it reenters the synchronized method <strong>after</strong> the wait.</p>\n\n<pre><code>public synchronized guardedJoy() {\n    // must get lock before entering here\n    while(!joy) {\n        try {\n            wait(); // releases lock here\n            // must regain the lock to reentering here\n        } catch (InterruptedException e) {}\n    }\n    System.out.println(\"Joy and efficiency have been achieved!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269679,"reputation":390,"user_id":559158,"display_name":"Yogi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447875804,"creation_date":1447875804,"answer_id":33788956,"question_id":13249835,"body_markdown":"I think this statement should be seen within its full context.\r\n\r\n&gt; When a thread invokes d.wait, it must own the intrinsic lock for d \r\n&gt; otherwise an error is thrown. Invoking wait inside a synchronized\r\n&gt; method is a simple way to acquire the intrinsic lock.\r\n\r\nI understand that they should simplify this to be like:\r\n\r\n&gt; Invocation of `synchronized` methods acquires lock on\r\n&gt; object, we can simply put a `wait()` invocation inside a `synchronized` method.\r\n\r\n","title":"Java : Does wait() release lock from synchronized block","body":"<p>I think this statement should be seen within its full context.</p>\n\n<blockquote>\n  <p>When a thread invokes d.wait, it must own the intrinsic lock for d \n  otherwise an error is thrown. Invoking wait inside a synchronized\n  method is a simple way to acquire the intrinsic lock.</p>\n</blockquote>\n\n<p>I understand that they should simplify this to be like:</p>\n\n<blockquote>\n  <p>Invocation of <code>synchronized</code> methods acquires lock on\n  object, we can simply put a <code>wait()</code> invocation inside a <code>synchronized</code> method.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":95103,"reputation":410,"user_id":259232,"display_name":"Oleksandr Berezianskyi"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1459232733,"creation_date":1459232356,"answer_id":36276832,"question_id":13249835,"body_markdown":"I&#39;ve prepared a small test class (some very dirty code, sorry) to demonstrate that wait actually releases the lock.\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n            testCuncurrency();\r\n        }\r\n    \r\n        private static void testCuncurrency() throws InterruptedException {\r\n            Object lock = new Object();\r\n            Thread t1 = new Thread(new WaitTester(lock));\r\n            Thread t2 = new Thread(new WaitTester(lock));\r\n            t1.start();\r\n            t2.start();\r\n            Thread.sleep(15 * 1000);\r\n            synchronized (lock) {\r\n                System.out.println(&quot;Time: &quot; + new Date().toString()+ &quot;;&quot; + &quot;Notifying all&quot;);\r\n                lock.notifyAll();\r\n            }\r\n        }\r\n    \r\n        private static class WaitTester implements Runnable {\r\n            private Object lock;\r\n            public WaitTester(Object lock) {\r\n                this.lock = lock;\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    synchronized (lock) {\r\n                        System.out.println(getTimeAndThreadName() + &quot;:only one thread can be in synchronized block&quot;);\r\n                        Thread.sleep(5 * 1000);\r\n    \r\n                        System.out.println(getTimeAndThreadName() + &quot;:thread goes into waiting state and releases the lock&quot;);\r\n                        lock.wait();\r\n    \r\n                        System.out.println(getTimeAndThreadName() + &quot;:thread is awake and have reacquired the lock&quot;);\r\n    \r\n                        System.out.println(getTimeAndThreadName() + &quot;:syncronized block have finished&quot;);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        private static String getTimeAndThreadName() {\r\n            return &quot;Time: &quot; + new Date().toString() + &quot;;&quot; + Thread.currentThread().getName();\r\n        }\r\n    }\r\n\r\nRunning this class on my machine returns next result:\r\n\r\n    Time: Tue Mar 29 09:16:37 EEST 2016;Thread-0:only one thread can be in synchronized block\r\n    Time: Tue Mar 29 09:16:42 EEST 2016;Thread-0:thread goes into waiting state and releases the lock\r\n    Time: Tue Mar 29 09:16:42 EEST 2016;Thread-1:only one thread can be in synchronized block\r\n    Time: Tue Mar 29 09:16:47 EEST 2016;Thread-1:thread goes into waiting state and releases the lock\r\n    Time: Tue Mar 29 09:16:52 EEST 2016;Notifying all\r\n    Time: Tue Mar 29 09:16:52 EEST 2016;Thread-1:thread is awake and have reacquired the lock\r\n    Time: Tue Mar 29 09:16:57 EEST 2016;Thread-1:syncronized block have finished\r\n    Time: Tue Mar 29 09:16:57 EEST 2016;Thread-0:thread is awake and have reacquired the lock\r\n    Time: Tue Mar 29 09:17:02 EEST 2016;Thread-0:syncronized block have finished","title":"Java : Does wait() release lock from synchronized block","body":"<p>I've prepared a small test class (some very dirty code, sorry) to demonstrate that wait actually releases the lock.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) throws Exception {\n        testCuncurrency();\n    }\n\n    private static void testCuncurrency() throws InterruptedException {\n        Object lock = new Object();\n        Thread t1 = new Thread(new WaitTester(lock));\n        Thread t2 = new Thread(new WaitTester(lock));\n        t1.start();\n        t2.start();\n        Thread.sleep(15 * 1000);\n        synchronized (lock) {\n            System.out.println(\"Time: \" + new Date().toString()+ \";\" + \"Notifying all\");\n            lock.notifyAll();\n        }\n    }\n\n    private static class WaitTester implements Runnable {\n        private Object lock;\n        public WaitTester(Object lock) {\n            this.lock = lock;\n        }\n\n        @Override\n        public void run() {\n            try {\n                synchronized (lock) {\n                    System.out.println(getTimeAndThreadName() + \":only one thread can be in synchronized block\");\n                    Thread.sleep(5 * 1000);\n\n                    System.out.println(getTimeAndThreadName() + \":thread goes into waiting state and releases the lock\");\n                    lock.wait();\n\n                    System.out.println(getTimeAndThreadName() + \":thread is awake and have reacquired the lock\");\n\n                    System.out.println(getTimeAndThreadName() + \":syncronized block have finished\");\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    private static String getTimeAndThreadName() {\n        return \"Time: \" + new Date().toString() + \";\" + Thread.currentThread().getName();\n    }\n}\n</code></pre>\n\n<p>Running this class on my machine returns next result:</p>\n\n<pre><code>Time: Tue Mar 29 09:16:37 EEST 2016;Thread-0:only one thread can be in synchronized block\nTime: Tue Mar 29 09:16:42 EEST 2016;Thread-0:thread goes into waiting state and releases the lock\nTime: Tue Mar 29 09:16:42 EEST 2016;Thread-1:only one thread can be in synchronized block\nTime: Tue Mar 29 09:16:47 EEST 2016;Thread-1:thread goes into waiting state and releases the lock\nTime: Tue Mar 29 09:16:52 EEST 2016;Notifying all\nTime: Tue Mar 29 09:16:52 EEST 2016;Thread-1:thread is awake and have reacquired the lock\nTime: Tue Mar 29 09:16:57 EEST 2016;Thread-1:syncronized block have finished\nTime: Tue Mar 29 09:16:57 EEST 2016;Thread-0:thread is awake and have reacquired the lock\nTime: Tue Mar 29 09:17:02 EEST 2016;Thread-0:syncronized block have finished\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1465972450,"creation_date":1465972450,"answer_id":37827739,"question_id":13249835,"body_markdown":"&gt; `wait` :: is part of `java.lang.Object` class, so we can call this method only on the object. calling this needs monitor(lock) on that object, else\r\n&gt; `IllegalMonitorStateException` will be thrown, e.g)\r\n&gt; Thread.currentThread().wait() will throw this exception at below code. \r\n&gt; \r\n&gt;        Example1\r\n&gt;        public void doSomething() {                                          Line 1\r\n&gt;             synchronized(lockObject) { //lock acquired                      Line 2\r\n&gt;                 lockObject.wait();     // NOT Thread.currentThread().wait() Line 3\r\n&gt;             }\r\n&gt;         }\r\n&gt; Now calling wait at Line 3 will release the lock acquired at Line 2. So any other thread entered into Line 1 and waiting to acquire lock on `lockObject` will acquire this lock and proceeds. &lt;BR&gt;\r\n&gt; \r\n&gt; Now let us consider this `Example2`; here only `lockObject2` lock is released, and still current thread holds `lockObject1` lock. This will leads to deadlock; So user should be more careful on this case.\r\n&gt;\r\n&gt;        Example2 \r\n&gt;             public void doSomething() {                                     Line 1\r\n&gt;                  synchronized(lockObject1) { //lock1 acquired               Line 2\r\n&gt;                      synchronized(lockObject2) { //lock2 acquired           Line 3\r\n&gt;                          lockObject2.wait();                                Line 4\r\n&gt;                      }\r\n&gt;                  }\r\n&gt;             }\r\n&gt; \r\n&gt; If this wait is replaced with `sleep, yield, or join` they dont have\r\n&gt; cabaility to release the lock. Only wait can release lock that it holds.\r\n\r\n&gt; Just cautious on `t1.sleep()/t1.yield()` where are static api&#39;s and always\r\n&gt; action will be performed on the `currentThread` not on thread `t1`.\r\n\r\n&gt; Then let us understand what is the difference between `suspend` and these api&#39;s `sleep, yield, join`; because `suspend` is deprecated to avoid situation of the thread is holding the lock which will leads to deadlock when it is in suspended (not running state) for undefined time. This is the same behavior for other apis as well.\r\n&gt; \r\n&gt; The answer is suspend/resume will be performed on other threads, like `t1.suspend()` where as these api&#39;s are suspending the\r\n&gt; `Thread.currentThread()`.\r\n&gt;     Hence user has caution note on taking care of not holding any locks before calling these api&#39;s to avoid deadlock. This is not the\r\n&gt; case when calling `suspend`. The callee thread don&#39;t know about the caller thread (lock)\r\n&gt; state on which it is going to perform suspend, hence deprecated.","title":"Java : Does wait() release lock from synchronized block","body":"<blockquote>\n  <p><code>wait</code> :: is part of <code>java.lang.Object</code> class, so we can call this method only on the object. calling this needs monitor(lock) on that object, else\n  <code>IllegalMonitorStateException</code> will be thrown, e.g)\n  Thread.currentThread().wait() will throw this exception at below code. </p>\n\n<pre><code>   Example1\n   public void doSomething() {                                          Line 1\n        synchronized(lockObject) { //lock acquired                      Line 2\n            lockObject.wait();     // NOT Thread.currentThread().wait() Line 3\n        }\n    }\n</code></pre>\n  \n  <p>Now calling wait at Line 3 will release the lock acquired at Line 2. So any other thread entered into Line 1 and waiting to acquire lock on <code>lockObject</code> will acquire this lock and proceeds. <BR></p>\n  \n  <p>Now let us consider this <code>Example2</code>; here only <code>lockObject2</code> lock is released, and still current thread holds <code>lockObject1</code> lock. This will leads to deadlock; So user should be more careful on this case.</p>\n\n<pre><code>   Example2 \n        public void doSomething() {                                     Line 1\n             synchronized(lockObject1) { //lock1 acquired               Line 2\n                 synchronized(lockObject2) { //lock2 acquired           Line 3\n                     lockObject2.wait();                                Line 4\n                 }\n             }\n        }\n</code></pre>\n  \n  <p>If this wait is replaced with <code>sleep, yield, or join</code> they dont have\n  cabaility to release the lock. Only wait can release lock that it holds.</p>\n  \n  <p>Just cautious on <code>t1.sleep()/t1.yield()</code> where are static api's and always\n  action will be performed on the <code>currentThread</code> not on thread <code>t1</code>.</p>\n  \n  <p>Then let us understand what is the difference between <code>suspend</code> and these api's <code>sleep, yield, join</code>; because <code>suspend</code> is deprecated to avoid situation of the thread is holding the lock which will leads to deadlock when it is in suspended (not running state) for undefined time. This is the same behavior for other apis as well.</p>\n  \n  <p>The answer is suspend/resume will be performed on other threads, like <code>t1.suspend()</code> where as these api's are suspending the\n  <code>Thread.currentThread()</code>.\n      Hence user has caution note on taking care of not holding any locks before calling these api's to avoid deadlock. This is not the\n  case when calling <code>suspend</code>. The callee thread don't know about the caller thread (lock)\n  state on which it is going to perform suspend, hence deprecated.</p>\n</blockquote>\n"}],"owner":{"account_id":2000200,"reputation":812,"user_id":1791437,"display_name":"Abhijit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59062,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"answer_count":4,"score":76,"last_activity_date":1701617006,"creation_date":1352200533,"question_id":13249835,"body_markdown":"I was under the impression that wait() releases all locks but I found this post which says\r\n\r\n&quot;Invoking wait inside a synchronized method is a simple way to acquire the intrinsic lock&quot; \r\n\r\nPlease clarify I&#39;m a bit confused.\r\n\r\n[http://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html","title":"Java : Does wait() release lock from synchronized block","body":"<p>I was under the impression that wait() releases all locks but I found this post which says</p>\n\n<p>\"Invoking wait inside a synchronized method is a simple way to acquire the intrinsic lock\" </p>\n\n<p>Please clarify I'm a bit confused.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\">http://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html</a></p>\n"},{"tags":["java","android","kotlin","reverse-engineering","frida"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1701627425,"post_id":77594918,"comment_id":136796634,"body_markdown":"Have you considered that the code you search is buried so deep that there is no Java code related to it? You can write Android apps that nearly completely base on C or similar code and only uses marginally parts of Java/Kotlin. May be you should edit your question and include details on what exactly you want to achieve.","body":"Have you considered that the code you search is buried so deep that there is no Java code related to it? You can write Android apps that nearly completely base on C or similar code and only uses marginally parts of Java/Kotlin. May be you should edit your question and include details on what exactly you want to achieve."},{"owner":{"account_id":28378854,"reputation":1,"user_id":21706455,"display_name":""},"score":0,"creation_date":1701672077,"post_id":77594918,"comment_id":136800217,"body_markdown":"I just need to display the stack of calls of functions of the Java classes of my application, and thats all so that they are in an understandable form, where the name of the class and the function that is called are displayed in real time","body":"I just need to display the stack of calls of functions of the Java classes of my application, and thats all so that they are in an understandable form, where the name of the class and the function that is called are displayed in real time"}],"owner":{"account_id":28378854,"reputation":1,"user_id":21706455,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701616963,"creation_date":1701616963,"question_id":77594918,"body_markdown":"I have an android application firefox fenix (firefox for android), I also have its source code. I need to find the place where this application makes a request to download any files. I use Frida for this, but I don&#39;t understand how I can find this function, Frida doesn&#39;t give me the function calls I need. Help me write the right script, or use the right tool to look through the call stack and find the function I need.\r\nI tried to use frida-trace but using it I only get .so libraries. And I would like to see clear paths to Java methods, since the code is not obfuscated.\r\nI also tried to write a script using chatgpt that displays the stack of all calls, but it turned out to be incomprehensible, a lot of calls to js files, no java methods.\r\nBut several times it was possible to display something similar to java classes, but they were displayed once at the beginning, and thats it, nothing else was displayed, no matter what I did with the phone.","title":"How can I print the call stack of Java and Kotlin methods in real time using Frida?","body":"<p>I have an android application firefox fenix (firefox for android), I also have its source code. I need to find the place where this application makes a request to download any files. I use Frida for this, but I don't understand how I can find this function, Frida doesn't give me the function calls I need. Help me write the right script, or use the right tool to look through the call stack and find the function I need.\nI tried to use frida-trace but using it I only get .so libraries. And I would like to see clear paths to Java methods, since the code is not obfuscated.\nI also tried to write a script using chatgpt that displays the stack of all calls, but it turned out to be incomprehensible, a lot of calls to js files, no java methods.\nBut several times it was possible to display something similar to java classes, but they were displayed once at the beginning, and thats it, nothing else was displayed, no matter what I did with the phone.</p>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1533076162,"creation_date":1533076162,"answer_id":51623001,"question_id":51621510,"body_markdown":"I believe this will do the job:\r\n\r\n    /**\r\n     * @param arrayOfFutures an array of futures to wait on\r\n     * @return a {@code CompletableFuture} that completes successfully once all elements have completed successfully, or completes\r\n     * exceptionally after any of the elements has done the same\r\n     * &lt;br&gt;{@code @throws NullPointerException} if {@code arrayOfFutures} is null\r\n     */\r\n    public CompletableFuture&lt;Void&gt; waitForAllButAbortOnFirstException(CompletableFuture&lt;?&gt;... arrayOfFutures)\r\n    {\r\n    \tif (arrayOfFutures == null)\r\n          return CompletableFuture.failedFuture(new NullPointerException(&quot;arrayOfFutures may not be null&quot;));\r\n    \tif (arrayOfFutures.length == 0)\r\n    \t\treturn CompletableFuture.completedFuture(null);\r\n    \treturn CompletableFuture.anyOf(arrayOfFutures).\r\n    \t\tthenApply(unused -&gt;\r\n    \t\t{\r\n    \t\t\t// Remove any futures that completed normally and try again\r\n    \t\t\treturn Arrays.stream(arrayOfFutures).\r\n    \t\t\t\tfilter(element -&gt; !element.isDone() || element.isCompletedExceptionally()).\r\n    \t\t\t\ttoArray(CompletableFuture[]::new);\r\n    \t\t}).\r\n    \t\tthenCompose(remainingFutures -&gt; waitForAllButAbortOnFirstException(remainingFutures));\r\n    }","title":"How to implement CompletableFuture.allOf() that completes exceptionally once any of the futures fail?","body":"<p>I believe this will do the job:</p>\n\n<pre><code>/**\n * @param arrayOfFutures an array of futures to wait on\n * @return a {@code CompletableFuture} that completes successfully once all elements have completed successfully, or completes\n * exceptionally after any of the elements has done the same\n * &lt;br&gt;{@code @throws NullPointerException} if {@code arrayOfFutures} is null\n */\npublic CompletableFuture&lt;Void&gt; waitForAllButAbortOnFirstException(CompletableFuture&lt;?&gt;... arrayOfFutures)\n{\n    if (arrayOfFutures == null)\n      return CompletableFuture.failedFuture(new NullPointerException(\"arrayOfFutures may not be null\"));\n    if (arrayOfFutures.length == 0)\n        return CompletableFuture.completedFuture(null);\n    return CompletableFuture.anyOf(arrayOfFutures).\n        thenApply(unused -&gt;\n        {\n            // Remove any futures that completed normally and try again\n            return Arrays.stream(arrayOfFutures).\n                filter(element -&gt; !element.isDone() || element.isCompletedExceptionally()).\n                toArray(CompletableFuture[]::new);\n        }).\n        thenCompose(remainingFutures -&gt; waitForAllButAbortOnFirstException(remainingFutures));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1533111156,"creation_date":1533111156,"answer_id":51628402,"question_id":51621510,"body_markdown":"This question is actually very similar to https://stackoverflow.com/questions/43330764/replace-futures-successfulaslist-with-java-8-completablefuture/43342128#43342128 \r\n\r\nAlthough the question is not exactly the same, the same answer (from myself) should satisfy your needs.\r\n\r\nYou can implement this with a combination of `allOf()` and chaining each input future with an `exceptionally()` that would make the future returned by `allOf()` immediately fail:\r\n\r\n    CompletableFuture&lt;String&gt; a = , b = , c = ;\r\n    CompletableFuture&lt;Void&gt; allWithFailFast = CompletableFuture.allOf(a, b, c);\r\n    Stream.of(a, b, c)\r\n        .forEach(f -&gt; f.exceptionally(e -&gt; {\r\n            allWithFailFast.completeExceptionally(e);\r\n            return null;\r\n        }));","title":"How to implement CompletableFuture.allOf() that completes exceptionally once any of the futures fail?","body":"<p>This question is actually very similar to <a href=\"https://stackoverflow.com/questions/43330764/replace-futures-successfulaslist-with-java-8-completablefuture/43342128#43342128\">Replace Futures.successfulAsList with Java 8 CompletableFuture?</a> </p>\n\n<p>Although the question is not exactly the same, the same answer (from myself) should satisfy your needs.</p>\n\n<p>You can implement this with a combination of <code>allOf()</code> and chaining each input future with an <code>exceptionally()</code> that would make the future returned by <code>allOf()</code> immediately fail:</p>\n\n<pre><code>CompletableFuture&lt;String&gt; a = , b = , c = ;\nCompletableFuture&lt;Void&gt; allWithFailFast = CompletableFuture.allOf(a, b, c);\nStream.of(a, b, c)\n    .forEach(f -&gt; f.exceptionally(e -&gt; {\n        allWithFailFast.completeExceptionally(e);\n        return null;\n    }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701614810,"creation_date":1701609838,"answer_id":77594480,"question_id":51621510,"body_markdown":"Based on @Gili&#39;s answer, I wrote up this code that I&#39;m using - I think its basically the same but is simple to read.\r\n\r\n```java\r\n/**\r\n * Wait for all of the futures to complete successfully unless at least one of\r\n * them has failed (completed with an exception) - then complete\r\n * immediately with the first exception received.\r\n * @param futures list of completable futures to wait on\r\n * @return a future that will complete successfully as soon as all submitted\r\n *   futures has completed successfully, or will complete exceptionally as soon\r\n *   as one of the submitted futures has completed exceptionally. \r\n */\r\npublic static CompletableFuture&lt;Void&gt;\r\n\t\tallOfUnlessFailed(CompletableFuture&lt;?&gt; ...futures) {\r\n\tCompletableFuture&lt;?&gt;[] rest = Stream.of(futures)\r\n\t\t\t.filter(f -&gt; !f.isDone() || f.isCompletedExceptionally())\r\n\t\t\t.toArray(CompletableFuture[]::new);\r\n\tif (rest.length == 0)\r\n\t\treturn CompletableFuture.completedFuture(null);\r\n\treturn CompletableFuture.anyOf(rest)\r\n\t\t\t.thenCompose(__ -&gt; allOfUnlessFailed(rest));\r\n}\r\n```\r\n\r\nI&#39;m avoiding the input null/empty checks as they wouldn&#39;t change the behavior, except that providing `null` should definitely throw an NPE right then and there, like Java core code does, and not return a failed future.","title":"How to implement CompletableFuture.allOf() that completes exceptionally once any of the futures fail?","body":"<p>Based on @Gili's answer, I wrote up this code that I'm using - I think its basically the same but is simple to read.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Wait for all of the futures to complete successfully unless at least one of\n * them has failed (completed with an exception) - then complete\n * immediately with the first exception received.\n * @param futures list of completable futures to wait on\n * @return a future that will complete successfully as soon as all submitted\n *   futures has completed successfully, or will complete exceptionally as soon\n *   as one of the submitted futures has completed exceptionally. \n */\npublic static CompletableFuture&lt;Void&gt;\n        allOfUnlessFailed(CompletableFuture&lt;?&gt; ...futures) {\n    CompletableFuture&lt;?&gt;[] rest = Stream.of(futures)\n            .filter(f -&gt; !f.isDone() || f.isCompletedExceptionally())\n            .toArray(CompletableFuture[]::new);\n    if (rest.length == 0)\n        return CompletableFuture.completedFuture(null);\n    return CompletableFuture.anyOf(rest)\n            .thenCompose(__ -&gt; allOfUnlessFailed(rest));\n}\n</code></pre>\n<p>I'm avoiding the input null/empty checks as they wouldn't change the behavior, except that providing <code>null</code> should definitely throw an NPE right then and there, like Java core code does, and not return a failed future.</p>\n"}],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7241,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51628402,"answer_count":3,"score":9,"last_activity_date":1701614810,"creation_date":1533068624,"question_id":51621510,"body_markdown":"I want to implement a hybrid of `CompletableFuture.allOf()` and `CompletableFuture.anyOf()` where the returned future completes successfully as soon as all of the elements complete successfully, or it completes exceptionally (with the same exception) as soon as any of the elements complete exceptionally. In the case of multiple elements failing, returning the exception of any of them is sufficient.\r\n\r\nUse-case\r\n---\r\nI have a task that needs to aggregate sub-results returned by a list of `CompletableFuture`s, but that task should stop waiting as soon as any of them fails. I understand that the sub-tasks will keep on running and that&#39;s okay.\r\n\r\nRelated questions\r\n---\r\nI found https://stackoverflow.com/q/19348248/14731 which initially seems like a duplicate question but the accepted answer uses `CompletionService` which requires `Callable` or `Runnable` as input. I am looking for a solution that takes already-running `CompletionStage`s as input.","title":"How to implement CompletableFuture.allOf() that completes exceptionally once any of the futures fail?","body":"<p>I want to implement a hybrid of <code>CompletableFuture.allOf()</code> and <code>CompletableFuture.anyOf()</code> where the returned future completes successfully as soon as all of the elements complete successfully, or it completes exceptionally (with the same exception) as soon as any of the elements complete exceptionally. In the case of multiple elements failing, returning the exception of any of them is sufficient.</p>\n\n<h2>Use-case</h2>\n\n<p>I have a task that needs to aggregate sub-results returned by a list of <code>CompletableFuture</code>s, but that task should stop waiting as soon as any of them fails. I understand that the sub-tasks will keep on running and that's okay.</p>\n\n<h2>Related questions</h2>\n\n<p>I found <a href=\"https://stackoverflow.com/q/19348248/14731\">Waiting on a list of Future</a> which initially seems like a duplicate question but the accepted answer uses <code>CompletionService</code> which requires <code>Callable</code> or <code>Runnable</code> as input. I am looking for a solution that takes already-running <code>CompletionStage</code>s as input.</p>\n"},{"tags":["java","android","mvvm","retrofit"],"answers":[{"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701614201,"creation_date":1701614201,"answer_id":77594741,"question_id":77594642,"body_markdown":"You are creating a new observer every time you call `search(String lang, String keyword, int perPage)` in your fragment, So the first time you call the search function you have one observer, in the second time you have two observers and so on. all of them are alive and work until the fragment die so they print new data which `searchResult` mutableLiveData emits.\r\n\r\nYou must have only one observer to observe your `searchResult` mutable live data, therefore put this piece of code into your `onCreateView()` or any other function which call once in the whole lifecycle of your fragment.\r\n```java\r\nproductViewModel.getResultList().observe(getViewLifecycleOwner(), new Observer&lt;ProductModel&gt;() {\r\n            @Override\r\n            public void onChanged(ProductModel productModel) {\r\n                List&lt;Product&gt; mlist = productModel.getData();\r\n                for (int i=0;i&lt;mlist.size();i++) {\r\n                    System.out.println(i);\r\n                    System.out.println(&quot;My List &quot;+mlist.size());\r\n                    System.out.println(&quot;My List &quot;+mlist.get(i).getName());\r\n                }\r\n                System.out.println(&quot;=====================================&quot;);\r\n            }\r\n        });\r\n```\r\n\r\nand to search new strings just use below code:\r\n```java\r\nproductViewModel.searchProduct(lang,keyword,perPage);\r\n```\r\n\r\ndon&#39;t create new observer to get new result, new results will be accessible on your previous observer which you created in your `onCreateView()`.","title":"Search functionality with retrofit and mvvm android","body":"<p>You are creating a new observer every time you call <code>search(String lang, String keyword, int perPage)</code> in your fragment, So the first time you call the search function you have one observer, in the second time you have two observers and so on. all of them are alive and work until the fragment die so they print new data which <code>searchResult</code> mutableLiveData emits.</p>\n<p>You must have only one observer to observe your <code>searchResult</code> mutable live data, therefore put this piece of code into your <code>onCreateView()</code> or any other function which call once in the whole lifecycle of your fragment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>productViewModel.getResultList().observe(getViewLifecycleOwner(), new Observer&lt;ProductModel&gt;() {\n            @Override\n            public void onChanged(ProductModel productModel) {\n                List&lt;Product&gt; mlist = productModel.getData();\n                for (int i=0;i&lt;mlist.size();i++) {\n                    System.out.println(i);\n                    System.out.println(&quot;My List &quot;+mlist.size());\n                    System.out.println(&quot;My List &quot;+mlist.get(i).getName());\n                }\n                System.out.println(&quot;=====================================&quot;);\n            }\n        });\n</code></pre>\n<p>and to search new strings just use below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>productViewModel.searchProduct(lang,keyword,perPage);\n</code></pre>\n<p>don't create new observer to get new result, new results will be accessible on your previous observer which you created in your <code>onCreateView()</code>.</p>\n"}],"owner":{"account_id":29579771,"reputation":11,"user_id":22669827,"display_name":"Mohamed Hossam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701614201,"creation_date":1701612605,"question_id":77594642,"body_markdown":"I have an android application which I use MVVM and Retrofit in. &lt;br&gt;\r\nand I want to apply search in this application I have an api for search and api return result correctly via post man but when I try to build it in android I get confused because I get wrong results.\r\nthis is my code &lt;br&gt;\r\n***SearchRepo.java***\r\n```\r\npublic class SearchRepo {\r\n    private Application application;\r\n    private ApiService apiService;\r\n\r\n    public SearchRepo(Application application) {\r\n        this.application = application;\r\n        this.apiService = RetrofitClient.getClient(BASE_URL)\r\n                .create(ApiService.class);\r\n    }\r\n\r\n    public void SearchForKeyWord(String lang, String keyword, int perPage,\r\n                                 SearchRepositoryCallBack&lt;ProductModel&gt; callBack) {\r\n        apiService.search(lang,keyword,perPage)\r\n                .enqueue(new Callback&lt;ProductModel&gt;() {\r\n                    @Override\r\n                    public void onResponse(Call&lt;ProductModel&gt; call, Response&lt;ProductModel&gt; response) {\r\n                        if (response.isSuccessful()) {\r\n                            callBack.onSuccess(response.body());\r\n                        } else {\r\n                            callBack.onFailure(&quot;Error : &quot;+response.code());\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call&lt;ProductModel&gt; call, Throwable t) {\r\n                        callBack.onFailure(&quot;Error : &quot;+t.getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public interface SearchRepositoryCallBack&lt;T&gt; {\r\n        void onSuccess(T post);\r\n        void onFailure(String error);\r\n    }\r\n}\r\n```\r\n***SearchViewModel.java***\r\n```\r\npublic class SearchViewModel extends AndroidViewModel {\r\n    private SearchRepo search;\r\n    private MutableLiveData&lt;ProductModel&gt; searchResult = new MutableLiveData&lt;&gt;();\r\n    public SearchViewModel(@NonNull Application application) {\r\n        super(application);\r\n        this.search = new SearchRepo(application);\r\n    }\r\n\r\n    public void searchProducts(String lang,String keyword,int perPage) {\r\n        search.SearchForKeyWord(lang, keyword, perPage, new SearchRepo.SearchRepositoryCallBack&lt;ProductModel&gt;() {\r\n            @Override\r\n            public void onSuccess(ProductModel post) {\r\n                searchResult.postValue(post);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(String error) {\r\n                Log.e(APITAG,error);\r\n            }\r\n        });\r\n    }\r\n\r\n    public LiveData&lt;ProductModel&gt; getSearchResult() {\r\n        return searchResult;\r\n    }\r\n}\r\n```\r\n***search method in searchFragment.java***\r\n```\r\nprivate void search(String lang, String keyword, int perPage) {\r\n        productViewModel.searchProduct(lang,keyword,perPage);\r\n        productViewModel.getResultList().observe(getViewLifecycleOwner(), new Observer&lt;ProductModel&gt;() {\r\n            @Override\r\n            public void onChanged(ProductModel productModel) {\r\n                List&lt;Product&gt; mlist = productModel.getData();\r\n                for (int i=0;i&lt;mlist.size();i++) {\r\n                    System.out.println(i);\r\n                    System.out.println(&quot;My List &quot;+mlist.size());\r\n                    System.out.println(&quot;My List &quot;+mlist.get(i).getName());\r\n                }\r\n                System.out.println(&quot;=====================================&quot;);\r\n            }\r\n        });\r\n    }\r\n```\r\nwhen I type a text to search I get a correct result, but if I removed the word and try to write another one I get old result and correct result, number of result is exponential. &lt;br&gt;\r\n***example***\r\n```\r\n1\r\n======\r\ninput -&gt; m\r\nexpected -&gt; &quot;moon&quot; , &quot;mine&quot;\r\nactual output -&gt; &quot;moon&quot; , &quot;mine&quot;\r\n=====================\r\n2\r\n======\r\ninput -&gt; a\r\nexpected -&gt; &quot;apple&quot; , &quot;alpha&quot;\r\nactual output -&gt; &quot;moon&quot; , &quot;mine&quot; , &quot;apple&quot; , &quot;alpha&quot; , &quot;apple&quot; , &quot;alpha&quot;\r\n====================\r\n3\r\n======\r\ninput -&gt; l\r\nexpected -&gt; &quot;locus&quot; , &quot;lord&quot;\r\nactual output -&gt; &quot;apple&quot; , &quot;alpha&quot; , &quot;apple&quot; , &quot;alpha&quot; , &quot;locus&quot; , &quot;lord&quot; , &quot;locus&quot; , &quot;lord&quot;\r\n```\r\nso what is the problem and how to fix it","title":"Search functionality with retrofit and mvvm android","body":"<p>I have an android application which I use MVVM and Retrofit in. <br>\nand I want to apply search in this application I have an api for search and api return result correctly via post man but when I try to build it in android I get confused because I get wrong results.\nthis is my code <br>\n<em><strong>SearchRepo.java</strong></em></p>\n<pre><code>public class SearchRepo {\n    private Application application;\n    private ApiService apiService;\n\n    public SearchRepo(Application application) {\n        this.application = application;\n        this.apiService = RetrofitClient.getClient(BASE_URL)\n                .create(ApiService.class);\n    }\n\n    public void SearchForKeyWord(String lang, String keyword, int perPage,\n                                 SearchRepositoryCallBack&lt;ProductModel&gt; callBack) {\n        apiService.search(lang,keyword,perPage)\n                .enqueue(new Callback&lt;ProductModel&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;ProductModel&gt; call, Response&lt;ProductModel&gt; response) {\n                        if (response.isSuccessful()) {\n                            callBack.onSuccess(response.body());\n                        } else {\n                            callBack.onFailure(&quot;Error : &quot;+response.code());\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;ProductModel&gt; call, Throwable t) {\n                        callBack.onFailure(&quot;Error : &quot;+t.getMessage());\n                    }\n                });\n    }\n\n    public interface SearchRepositoryCallBack&lt;T&gt; {\n        void onSuccess(T post);\n        void onFailure(String error);\n    }\n}\n</code></pre>\n<p><em><strong>SearchViewModel.java</strong></em></p>\n<pre><code>public class SearchViewModel extends AndroidViewModel {\n    private SearchRepo search;\n    private MutableLiveData&lt;ProductModel&gt; searchResult = new MutableLiveData&lt;&gt;();\n    public SearchViewModel(@NonNull Application application) {\n        super(application);\n        this.search = new SearchRepo(application);\n    }\n\n    public void searchProducts(String lang,String keyword,int perPage) {\n        search.SearchForKeyWord(lang, keyword, perPage, new SearchRepo.SearchRepositoryCallBack&lt;ProductModel&gt;() {\n            @Override\n            public void onSuccess(ProductModel post) {\n                searchResult.postValue(post);\n            }\n\n            @Override\n            public void onFailure(String error) {\n                Log.e(APITAG,error);\n            }\n        });\n    }\n\n    public LiveData&lt;ProductModel&gt; getSearchResult() {\n        return searchResult;\n    }\n}\n</code></pre>\n<p><em><strong>search method in searchFragment.java</strong></em></p>\n<pre><code>private void search(String lang, String keyword, int perPage) {\n        productViewModel.searchProduct(lang,keyword,perPage);\n        productViewModel.getResultList().observe(getViewLifecycleOwner(), new Observer&lt;ProductModel&gt;() {\n            @Override\n            public void onChanged(ProductModel productModel) {\n                List&lt;Product&gt; mlist = productModel.getData();\n                for (int i=0;i&lt;mlist.size();i++) {\n                    System.out.println(i);\n                    System.out.println(&quot;My List &quot;+mlist.size());\n                    System.out.println(&quot;My List &quot;+mlist.get(i).getName());\n                }\n                System.out.println(&quot;=====================================&quot;);\n            }\n        });\n    }\n</code></pre>\n<p>when I type a text to search I get a correct result, but if I removed the word and try to write another one I get old result and correct result, number of result is exponential. <br>\n<em><strong>example</strong></em></p>\n<pre><code>1\n======\ninput -&gt; m\nexpected -&gt; &quot;moon&quot; , &quot;mine&quot;\nactual output -&gt; &quot;moon&quot; , &quot;mine&quot;\n=====================\n2\n======\ninput -&gt; a\nexpected -&gt; &quot;apple&quot; , &quot;alpha&quot;\nactual output -&gt; &quot;moon&quot; , &quot;mine&quot; , &quot;apple&quot; , &quot;alpha&quot; , &quot;apple&quot; , &quot;alpha&quot;\n====================\n3\n======\ninput -&gt; l\nexpected -&gt; &quot;locus&quot; , &quot;lord&quot;\nactual output -&gt; &quot;apple&quot; , &quot;alpha&quot; , &quot;apple&quot; , &quot;alpha&quot; , &quot;locus&quot; , &quot;lord&quot; , &quot;locus&quot; , &quot;lord&quot;\n</code></pre>\n<p>so what is the problem and how to fix it</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701445361,"creation_date":1701445361,"answer_id":77586452,"question_id":77583342,"body_markdown":"I think you have to call `this.dispose()`  method in `handleRegistration(ActionEvent e)` when the login process is completed","title":"How to remove the previous tab after opening the new tab?","body":"<p>I think you have to call <code>this.dispose()</code>  method in <code>handleRegistration(ActionEvent e)</code> when the login process is completed</p>\n"}],"owner":{"account_id":30020790,"reputation":23,"user_id":23006223,"display_name":"Jerry Wingsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77586452,"answer_count":1,"score":0,"last_activity_date":1701614121,"creation_date":1701411832,"question_id":77583342,"body_markdown":"So I&#39;m making a group project which is Java console GUI. This is my code for the Java console GUI:\r\n\r\n```\r\npackage com.nono.groupproject;\r\n\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JRadioButton;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.ButtonGroup;\r\n\r\npublic class UserRegistrationGUIConsole extends JFrame {\r\n\r\n    private JTextField nameField, addressField, phoneNumberField;\r\n    private JRadioButton maleRadioButton, femaleRadioButton;\r\n    private ButtonGroup sexButtonGroup;\r\n\r\n    public UserRegistrationGUIConsole() {\r\n        setTitle(&quot;User Registration&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setLayout(new GridLayout(7, 2, 5, 5));\r\n        panel.setBorder(BorderFactory.createEmptyBorder(20, 5, 5, 20));\r\n        \r\n        panel.add(new JLabel(&quot;Name:&quot;));\r\n        nameField = new JTextField();\r\n        panel.add(nameField);\r\n\r\n        panel.add(new JLabel(&quot;Address:&quot;));\r\n        addressField = new JTextField();\r\n        panel.add(addressField);\r\n\r\n        panel.add(new JLabel(&quot;Phone Number:&quot;));\r\n        phoneNumberField = new JTextField();\r\n        panel.add(phoneNumberField);\r\n\r\n        panel.add(new JLabel(&quot;Sex:&quot;));\r\n        maleRadioButton = new JRadioButton(&quot;Male&quot;);\r\n        femaleRadioButton = new JRadioButton(&quot;Female&quot;);\r\n        sexButtonGroup = new ButtonGroup();\r\n        sexButtonGroup.add(maleRadioButton);\r\n        sexButtonGroup.add(femaleRadioButton);\r\n        panel.add(maleRadioButton);\r\n        panel.add(femaleRadioButton);\r\n\r\n        JButton registerButton = new JButton(&quot;Register&quot;);\r\n        registerButton.addActionListener(e -&gt; handleRegistration(e));\r\n\r\n        panel.add(registerButton);\r\n\r\n        setContentPane(panel);\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n    }\r\n\r\n    private void handleRegistration(ActionEvent e) {\r\n        // Your registration logic goes here\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new UserRegistrationGUIConsole();\r\n    }\r\n}\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/BAtRO.png)\r\n\r\nSo I input the username and password for the login, after I input the password and username it appears a new tab but the login tab didn&#39;t close. How to make it close by itself after I open the new tab?","title":"How to remove the previous tab after opening the new tab?","body":"<p>So I'm making a group project which is Java console GUI. This is my code for the Java console GUI:</p>\n<pre><code>package com.nono.groupproject;\n\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\nimport javax.swing.ButtonGroup;\n\npublic class UserRegistrationGUIConsole extends JFrame {\n\n    private JTextField nameField, addressField, phoneNumberField;\n    private JRadioButton maleRadioButton, femaleRadioButton;\n    private ButtonGroup sexButtonGroup;\n\n    public UserRegistrationGUIConsole() {\n        setTitle(&quot;User Registration&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridLayout(7, 2, 5, 5));\n        panel.setBorder(BorderFactory.createEmptyBorder(20, 5, 5, 20));\n        \n        panel.add(new JLabel(&quot;Name:&quot;));\n        nameField = new JTextField();\n        panel.add(nameField);\n\n        panel.add(new JLabel(&quot;Address:&quot;));\n        addressField = new JTextField();\n        panel.add(addressField);\n\n        panel.add(new JLabel(&quot;Phone Number:&quot;));\n        phoneNumberField = new JTextField();\n        panel.add(phoneNumberField);\n\n        panel.add(new JLabel(&quot;Sex:&quot;));\n        maleRadioButton = new JRadioButton(&quot;Male&quot;);\n        femaleRadioButton = new JRadioButton(&quot;Female&quot;);\n        sexButtonGroup = new ButtonGroup();\n        sexButtonGroup.add(maleRadioButton);\n        sexButtonGroup.add(femaleRadioButton);\n        panel.add(maleRadioButton);\n        panel.add(femaleRadioButton);\n\n        JButton registerButton = new JButton(&quot;Register&quot;);\n        registerButton.addActionListener(e -&gt; handleRegistration(e));\n\n        panel.add(registerButton);\n\n        setContentPane(panel);\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    private void handleRegistration(ActionEvent e) {\n        // Your registration logic goes here\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);\n    }\n\n    public static void main(String[] args) {\n        new UserRegistrationGUIConsole();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BAtRO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>So I input the username and password for the login, after I input the password and username it appears a new tab but the login tab didn't close. How to make it close by itself after I open the new tab?</p>\n"},{"tags":["java","html","css"],"comments":[{"owner":{"account_id":15057644,"reputation":31727,"user_id":10867454,"display_name":"A Haworth"},"score":1,"creation_date":1701614195,"post_id":77594720,"comment_id":136795091,"body_markdown":"I&#39;m afraid there is no way anyone can give a sensible answer without just guessing as your question currently stands. Please create a snippet which shows the problem. See https://stackoverflow.com/help/minimal-reproducible-example","body":"I&#39;m afraid there is no way anyone can give a sensible answer without just guessing as your question currently stands. Please create a snippet which shows the problem. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":30055206,"reputation":1,"user_id":23032755,"display_name":"Shaan-Mohammad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701681685,"answer_count":0,"score":-1,"last_activity_date":1701613842,"creation_date":1701613842,"question_id":77594720,"body_markdown":"I&#39;m currently working on a web project and encountering issues with responsive design using CSS. Specifically, I&#39;m having trouble ensuring that my elements scale properly across different screen sizes.\r\n\r\n\r\nI expect the .box elements to scale proportionally when the screen size changes, but they are not behaving as expected. I&#39;ve tried using percentage-based widths, media queries, and the flex property, but I&#39;m still facing challenges.\r\n\r\nHas anyone encountered a similar issue with responsive design in CSS? What are some best practices or techniques to ensure that elements scale appropriately across various screen sizes?\\`","title":"Difficulty with Responsive Design in CSS - Elements not Scaling Properly","body":"<p>I'm currently working on a web project and encountering issues with responsive design using CSS. Specifically, I'm having trouble ensuring that my elements scale properly across different screen sizes.</p>\n<p>I expect the .box elements to scale proportionally when the screen size changes, but they are not behaving as expected. I've tried using percentage-based widths, media queries, and the flex property, but I'm still facing challenges.</p>\n<p>Has anyone encountered a similar issue with responsive design in CSS? What are some best practices or techniques to ensure that elements scale appropriately across various screen sizes?`</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"score":0,"creation_date":1593118990,"post_id":62446695,"comment_id":110676796,"body_markdown":"plz add POM  file","body":"plz add POM  file"},{"owner":{"account_id":2251275,"reputation":1325,"user_id":1983465,"accept_rate":83,"display_name":"Bala"},"score":0,"creation_date":1593165932,"post_id":62446695,"comment_id":110690690,"body_markdown":"Do you have clientRegistrations bean configured? If not look for it in the same docs and add a bean.","body":"Do you have clientRegistrations bean configured? If not look for it in the same docs and add a bean."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1593179236,"post_id":62446695,"comment_id":110697062,"body_markdown":"@BryanMusial which spring-boot version are you using ?","body":"@BryanMusial which spring-boot version are you using ?"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1593182802,"post_id":62446695,"comment_id":110699192,"body_markdown":"@BryanMusial The problem is with application.yml.","body":"@BryanMusial The problem is with application.yml."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1593184337,"post_id":62446695,"comment_id":110699982,"body_markdown":"@BryanMusial Added the solution. Plz refer.","body":"@BryanMusial Added the solution. Plz refer."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1593184739,"post_id":62446695,"comment_id":110700182,"body_markdown":"is this a reactive or servlet appllication?","body":"is this a reactive or servlet appllication?"},{"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"score":1,"creation_date":1594729093,"post_id":62446695,"comment_id":111222107,"body_markdown":"Dear @AnishB. could you check my answer, i has the same problem but your solution didn&#39;t work for me","body":"Dear @AnishB. could you check my answer, i has the same problem but your solution didn&#39;t work for me"},{"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"score":1,"creation_date":1594731589,"post_id":62446695,"comment_id":111223554,"body_markdown":"@AnishB. i added my own answer in the below of current question: https://stackoverflow.com/questions/62446695/consider-defining-a-bean-of-type-org-springframework-security-oauth2-client-reg#answer-62895013","body":"@AnishB. i added my own answer in the below of current question: <a href=\"https://stackoverflow.com/questions/62446695/consider-defining-a-bean-of-type-org-springframework-security-oauth2-client-reg#answer-62895013\" title=\"consider defining a bean of type org springframework security oauth2 client reg%23answer 62895013\">stackoverflow.com/questions/62446695/&hellip;</a>"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1594731632,"post_id":62446695,"comment_id":111223572,"body_markdown":"@RasoolGhafari Have you solved or problem still exists ?","body":"@RasoolGhafari Have you solved or problem still exists ?"},{"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"score":1,"creation_date":1594731664,"post_id":62446695,"comment_id":111223593,"body_markdown":"Problem solved, but i want to know why your solution didn&#39;t worked for me?","body":"Problem solved, but i want to know why your solution didn&#39;t worked for me?"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1594731751,"post_id":62446695,"comment_id":111223657,"body_markdown":"@RasoolGhafari I already added that dependency in pom.xml that you provided. You didn&#39;t see that I guess.","body":"@RasoolGhafari I already added that dependency in pom.xml that you provided. You didn&#39;t see that I guess."},{"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"score":1,"creation_date":1594731882,"post_id":62446695,"comment_id":111223734,"body_markdown":"@AnishB. which dependency? i do all of configurations that you suggested, also the dependencies, but didn&#39;t worked, so, i used the dependencies that you can see in my answer and my own configurations","body":"@AnishB. which dependency? i do all of configurations that you suggested, also the dependencies, but didn&#39;t worked, so, i used the dependencies that you can see in my answer and my own configurations"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1593195825,"creation_date":1593184264,"answer_id":62597708,"question_id":62446695,"body_markdown":"Your spring-boot configuration is perfect.\r\n\r\n----\r\n\r\n**Root cause of the issue:** The problem is in **application.yaml.** Either the configuration is wrong or not picked from the environment.\r\n\r\n\r\n*So, the problem is not the **OAuth2 version** but the configuration in **application.yaml.***\r\n\r\n**Note :** `ReactiveClientRegistrationRepository` bean is created only \r\nwhen you configure the client with the OAuth2 application owner details.\r\n\r\n-----\r\n\r\nI created a new project from [start.spring.io][1] and used your configuration in that.\r\n\r\nAnd after running the project with your configuration, I was facing the same issue.\r\n\r\nError log :\r\n\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of method webClient in com.example.sampleoauth2.WebClientConfig required a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; that could not be found.\r\n    \r\n    The following candidates were found but could not be injected:\r\n    \t- Bean method &#39;clientRegistrationRepository&#39; in &#39;ReactiveOAuth2ClientConfigurations.ReactiveClientRegistrationRepositoryConfiguration&#39; not loaded because OAuth2 Clients Configured Condition registered clients is not available\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider revisiting the entries above or defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration.\r\n\r\n---\r\n\r\nThen, I saw that I didn&#39;t configure properties in **application.yml** file.\r\n\r\n*I read [Spring Boot and OAuth2.0 Docs][2] about how to get client-id and client-secret from github (Example) as you register your spring-boot app as OAuth app in that.*\r\n\r\nAs soon as, I configured my application started to work.\r\n\r\n---\r\n\r\nI&#39;m using **spring-boot 2.3.1.RELEASE** and **OAuth2Client version 5.3.3**.\r\n\r\n\r\nMy **pom.xml** :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sampleOauth2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;sampleOauth2&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nMy client github registration properties for **application.yml**:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            registration:\r\n              github:\r\n                client-id: 22a7100de41c7308d346\r\n                client-secret: 05910ab890be29579e9c183443d92e756c450aaf\r\n\r\n\r\nYour updated **WebClientConfig** @Configuration class :\r\n\r\n    package com.example.sampleoauth2;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\r\n    import org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\r\n    import org.springframework.security.oauth2.client.web.server.ServerOAuth2AuthorizedClientRepository;\r\n    import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    import reactor.core.publisher.Mono;\r\n    \r\n    @Configuration\r\n    public class WebClientConfig {\r\n    \r\n    \tpublic static Logger log = LogManager.getLogger();\r\n    \r\n    \t@Bean\r\n    \tpublic WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations,\r\n    \t\t\tServerOAuth2AuthorizedClientRepository authorizedClients) {\r\n    \t\tServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n    \t\t\t\tclientRegistrations, authorizedClients);\r\n    \t\toauth.setDefaultOAuth2AuthorizedClient(true);\r\n    \t\treturn WebClient.builder().filter(oauth).filter(this.logRequest()).build();\r\n    \t}\r\n    \r\n    \tprivate ExchangeFilterFunction logRequest() {\r\n    \t\treturn ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n    \t\t\tlog.info(&quot;Request: [{}] {}&quot;, clientRequest.method(), clientRequest.url());\r\n    \t\t\tlog.debug(&quot;Payload: {}&quot;, clientRequest.body());\r\n    \t\t\treturn Mono.just(clientRequest);\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\nSuccess Log :\r\n\r\n       .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.3.1.RELEASE)\r\n    \r\n    2020-06-26 20:36:08.380  INFO 15956 --- [           main] c.e.s.SampleOauth2Application            : Starting SampleOauth2Application on Anishs-MacBook-Pro.local with PID 15956 (/Users/anish/Downloads/sampleOauth2/target/classes started by anish in /Users/anish/Downloads/sampleOauth2)\r\n    2020-06-26 20:36:08.381  INFO 15956 --- [           main] c.e.s.SampleOauth2Application            : No active profile set, falling back to default profiles: default\r\n    2020-06-26 20:36:08.935  INFO 15956 --- [           main] ctiveUserDetailsServiceAutoConfiguration : \r\n    \r\n    Using generated security password: 7c63302f-f913-4aa1-852d-cb8445719acb\r\n    \r\n    2020-06-26 20:36:09.132  INFO 15956 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080\r\n    2020-06-26 20:36:09.138  INFO 15956 --- [           main] c.e.s.SampleOauth2Application            : Started SampleOauth2Application in 0.978 seconds (JVM running for 1.313)\r\n\r\n\r\n  [1]: http://start.spring.io\r\n  [2]: https://spring.io/guides/tutorials/spring-boot-oauth2/","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p>Your spring-boot configuration is perfect.</p>\n<hr />\n<p><strong>Root cause of the issue:</strong> The problem is in <strong>application.yaml.</strong> Either the configuration is wrong or not picked from the environment.</p>\n<p><em>So, the problem is not the <strong>OAuth2 version</strong> but the configuration in <strong>application.yaml.</strong></em></p>\n<p><strong>Note :</strong> <code>ReactiveClientRegistrationRepository</code> bean is created only\nwhen you configure the client with the OAuth2 application owner details.</p>\n<hr />\n<p>I created a new project from <a href=\"http://start.spring.io\" rel=\"noreferrer\">start.spring.io</a> and used your configuration in that.</p>\n<p>And after running the project with your configuration, I was facing the same issue.</p>\n<p>Error log :</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method webClient in com.example.sampleoauth2.WebClientConfig required a bean of type 'org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository' that could not be found.\n\nThe following candidates were found but could not be injected:\n    - Bean method 'clientRegistrationRepository' in 'ReactiveOAuth2ClientConfigurations.ReactiveClientRegistrationRepositoryConfiguration' not loaded because OAuth2 Clients Configured Condition registered clients is not available\n\n\nAction:\n\nConsider revisiting the entries above or defining a bean of type 'org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository' in your configuration.\n</code></pre>\n<hr />\n<p>Then, I saw that I didn't configure properties in <strong>application.yml</strong> file.</p>\n<p><em>I read <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"noreferrer\">Spring Boot and OAuth2.0 Docs</a> about how to get client-id and client-secret from github (Example) as you register your spring-boot app as OAuth app in that.</em></p>\n<p>As soon as, I configured my application started to work.</p>\n<hr />\n<p>I'm using <strong>spring-boot 2.3.1.RELEASE</strong> and <strong>OAuth2Client version 5.3.3</strong>.</p>\n<p>My <strong>pom.xml</strong> :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sampleOauth2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sampleOauth2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My client github registration properties for <strong>application.yml</strong>:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          github:\n            client-id: 22a7100de41c7308d346\n            client-secret: 05910ab890be29579e9c183443d92e756c450aaf\n</code></pre>\n<p>Your updated <strong>WebClientConfig</strong> @Configuration class :</p>\n<pre><code>package com.example.sampleoauth2;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\nimport org.springframework.security.oauth2.client.web.server.ServerOAuth2AuthorizedClientRepository;\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport reactor.core.publisher.Mono;\n\n@Configuration\npublic class WebClientConfig {\n\n    public static Logger log = LogManager.getLogger();\n\n    @Bean\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations,\n            ServerOAuth2AuthorizedClientRepository authorizedClients) {\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n                clientRegistrations, authorizedClients);\n        oauth.setDefaultOAuth2AuthorizedClient(true);\n        return WebClient.builder().filter(oauth).filter(this.logRequest()).build();\n    }\n\n    private ExchangeFilterFunction logRequest() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            log.info(&quot;Request: [{}] {}&quot;, clientRequest.method(), clientRequest.url());\n            log.debug(&quot;Payload: {}&quot;, clientRequest.body());\n            return Mono.just(clientRequest);\n        });\n    }\n}\n</code></pre>\n<p>Success Log :</p>\n<pre><code>   .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.3.1.RELEASE)\n\n2020-06-26 20:36:08.380  INFO 15956 --- [           main] c.e.s.SampleOauth2Application            : Starting SampleOauth2Application on Anishs-MacBook-Pro.local with PID 15956 (/Users/anish/Downloads/sampleOauth2/target/classes started by anish in /Users/anish/Downloads/sampleOauth2)\n2020-06-26 20:36:08.381  INFO 15956 --- [           main] c.e.s.SampleOauth2Application            : No active profile set, falling back to default profiles: default\n2020-06-26 20:36:08.935  INFO 15956 --- [           main] ctiveUserDetailsServiceAutoConfiguration : \n\nUsing generated security password: 7c63302f-f913-4aa1-852d-cb8445719acb\n\n2020-06-26 20:36:09.132  INFO 15956 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080\n2020-06-26 20:36:09.138  INFO 15956 --- [           main] c.e.s.SampleOauth2Application            : Started SampleOauth2Application in 0.978 seconds (JVM running for 1.313)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1594729047,"creation_date":1594729047,"answer_id":62895013,"question_id":62446695,"body_markdown":"I used the configurations that @AnishB. suggested as answer but still got the error:\r\n\r\n    Parameter 0 of method webClient in com.example.sampleoauth2.WebClientConfig required a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; that could not be found.\r\n\r\nSo, i had to use these dependencies with **spring 2.3.1.RELEASE**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd this the `WebClientConfig` class:\r\n\r\n    @Configuration\r\n    public class WebClientConfig {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(WebClientConfig.class);\r\n    \r\n        @Bean(&quot;cr&quot;)\r\n        ReactiveClientRegistrationRepository getRegistration(\r\n                @Value(&quot;${spring.security.oauth2.client.provider.keycloak.token-uri}&quot;) String tokenUri,\r\n                @Value(&quot;${spring.security.oauth2.client.registration.keycloak.client-id}&quot;) String clientId,\r\n                @Value(&quot;${spring.security.oauth2.client.registration.keycloak.client-secret}&quot;) String clientSecret\r\n        ) {\r\n            ClientRegistration registration = ClientRegistration\r\n                    .withRegistrationId(&quot;keycloak&quot;)\r\n                    .tokenUri(tokenUri)\r\n                    .clientId(clientId)\r\n                    .clientSecret(clientSecret)\r\n                    .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n                    .build();\r\n            return new InMemoryReactiveClientRegistrationRepository(registration);\r\n        }\r\n    \r\n        @Bean(name = &quot;keycloak&quot;)\r\n        WebClient webClient(@Qualifier(&quot;cr&quot;) ReactiveClientRegistrationRepository clientRegistrations) {\r\n            ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations, new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\r\n            oauth.setDefaultClientRegistrationId(&quot;keycloak&quot;);\r\n            return WebClient.builder()\r\n                    .filter(oauth)\r\n                    .filter(logRequest())\r\n                    .build();\r\n        }\r\n    \r\n        private ExchangeFilterFunction logRequest() {\r\n            return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n                log.info(&quot;Request: [{}] {}&quot;, clientRequest.method(), clientRequest.url());\r\n                log.debug(&quot;Payload: {}&quot;, clientRequest.body());\r\n    \r\n                return Mono.just(clientRequest);\r\n            });\r\n        }\r\n    }\r\n\r\nand everything works fine, but it is question for me that why the solution of @AnishB. didn&#39;t worked for me?!","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p>I used the configurations that @AnishB. suggested as answer but still got the error:</p>\n<pre><code>Parameter 0 of method webClient in com.example.sampleoauth2.WebClientConfig required a bean of type 'org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository' that could not be found.\n</code></pre>\n<p>So, i had to use these dependencies with <strong>spring 2.3.1.RELEASE</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And this the <code>WebClientConfig</code> class:</p>\n<pre><code>@Configuration\npublic class WebClientConfig {\n\n    private static final Logger log = LoggerFactory.getLogger(WebClientConfig.class);\n\n    @Bean(&quot;cr&quot;)\n    ReactiveClientRegistrationRepository getRegistration(\n            @Value(&quot;${spring.security.oauth2.client.provider.keycloak.token-uri}&quot;) String tokenUri,\n            @Value(&quot;${spring.security.oauth2.client.registration.keycloak.client-id}&quot;) String clientId,\n            @Value(&quot;${spring.security.oauth2.client.registration.keycloak.client-secret}&quot;) String clientSecret\n    ) {\n        ClientRegistration registration = ClientRegistration\n                .withRegistrationId(&quot;keycloak&quot;)\n                .tokenUri(tokenUri)\n                .clientId(clientId)\n                .clientSecret(clientSecret)\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                .build();\n        return new InMemoryReactiveClientRegistrationRepository(registration);\n    }\n\n    @Bean(name = &quot;keycloak&quot;)\n    WebClient webClient(@Qualifier(&quot;cr&quot;) ReactiveClientRegistrationRepository clientRegistrations) {\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrations, new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\n        oauth.setDefaultClientRegistrationId(&quot;keycloak&quot;);\n        return WebClient.builder()\n                .filter(oauth)\n                .filter(logRequest())\n                .build();\n    }\n\n    private ExchangeFilterFunction logRequest() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            log.info(&quot;Request: [{}] {}&quot;, clientRequest.method(), clientRequest.url());\n            log.debug(&quot;Payload: {}&quot;, clientRequest.body());\n\n            return Mono.just(clientRequest);\n        });\n    }\n}\n</code></pre>\n<p>and everything works fine, but it is question for me that why the solution of @AnishB. didn't worked for me?!</p>\n"},{"tags":[],"owner":{"account_id":19290251,"reputation":201,"user_id":14100437,"display_name":"Pierre CARUYER"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1597397364,"creation_date":1597335128,"answer_id":63399132,"question_id":62446695,"body_markdown":"I am using spring boot 2.3.1.RELEASE\r\nI had the same problem, my pom.xml contained both these dependencies in my pom.xml\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI removed the following dependency and that did the trick for me :\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nNot saying this will resolve your hassle but this might also be a dependency conflict issue for you.\r\n\r\nThis other post put me on track : https://stackoverflow.com/questions/61800834/reactive-oauth2-with-spring-security-5-3-2-reactiveclientregistrationrepository","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p>I am using spring boot 2.3.1.RELEASE\nI had the same problem, my pom.xml contained both these dependencies in my pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I removed the following dependency and that did the trick for me :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Not saying this will resolve your hassle but this might also be a dependency conflict issue for you.</p>\n<p>This other post put me on track : <a href=\"https://stackoverflow.com/questions/61800834/reactive-oauth2-with-spring-security-5-3-2-reactiveclientregistrationrepository\">Reactive OAuth2 with Spring Security 5.3.2 ReactiveClientRegistrationRepository bean could not be found</a></p>\n"},{"tags":[],"owner":{"account_id":444523,"reputation":929,"user_id":836376,"accept_rate":77,"display_name":"KevinBui"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1649500007,"creation_date":1649500007,"answer_id":71807202,"question_id":62446695,"body_markdown":"`ReactiveClientRegistrationRepository` is come with `Reactive stack (netty)`, not with `Servlet stack (tomcat)`\r\n\r\nIn case your `pom.xml` include `spring-boot-starter-web`, Spring understand that you use `Servlet stack`, it will load `ClientRegistrationRepository` instead of `ReactiveClientRegistrationRepository`\r\n\r\nTo create bean of `WebClient`, two solution you can use:\r\n### Solution 1: ###\r\nRemove `spring-boot-starter-web` from `pom.xml` so Spring understand you are in  `Reactive stack`\r\n\r\n\r\n```\r\n@Bean\r\nWebClient webClient(\r\n    ReactiveClientRegistrationRepository clientRegistrationRepository,\r\n    ReactiveOAuth2AuthorizedClientService authorizedClientService\r\n) {\r\n    var oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n            new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\r\n                clientRegistrationRepository, authorizedClientService\r\n            )\r\n        );\r\n\r\n    oauth.setDefaultClientRegistrationId(&quot;AuthProvider&quot;);\r\n    return WebClient.builder()\r\n        .filter(oauth)\r\n        .build();\r\n}\r\n```\r\n\r\n### Solution 2: ###\r\nKeep `spring-boot-starter-web` in `pom.xml`\r\n```\r\n@Bean // with spring-boot-starter-web\r\nWebClient webClient(\r\n    ClientRegistrationRepository clientRegistrationRepository,\r\n    OAuth2AuthorizedClientService authorizedClientService\r\n) {\r\n    var oauth = new ServletOAuth2AuthorizedClientExchangeFilterFunction(\r\n        new AuthorizedClientServiceOAuth2AuthorizedClientManager(\r\n            clientRegistrationRepository, authorizedClientService\r\n        )\r\n    );\r\n    oauth.setDefaultClientRegistrationId(&quot;AuthProvider&quot;);\r\n    return WebClient.builder()\r\n      .apply(oauth.oauth2Configuration())\r\n      .build();\r\n}\r\n```","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p><code>ReactiveClientRegistrationRepository</code> is come with <code>Reactive stack (netty)</code>, not with <code>Servlet stack (tomcat)</code></p>\n<p>In case your <code>pom.xml</code> include <code>spring-boot-starter-web</code>, Spring understand that you use <code>Servlet stack</code>, it will load <code>ClientRegistrationRepository</code> instead of <code>ReactiveClientRegistrationRepository</code></p>\n<p>To create bean of <code>WebClient</code>, two solution you can use:</p>\n<h3>Solution 1:</h3>\n<p>Remove <code>spring-boot-starter-web</code> from <code>pom.xml</code> so Spring understand you are in  <code>Reactive stack</code></p>\n<pre><code>@Bean\nWebClient webClient(\n    ReactiveClientRegistrationRepository clientRegistrationRepository,\n    ReactiveOAuth2AuthorizedClientService authorizedClientService\n) {\n    var oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n            new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n                clientRegistrationRepository, authorizedClientService\n            )\n        );\n\n    oauth.setDefaultClientRegistrationId(&quot;AuthProvider&quot;);\n    return WebClient.builder()\n        .filter(oauth)\n        .build();\n}\n</code></pre>\n<h3>Solution 2:</h3>\n<p>Keep <code>spring-boot-starter-web</code> in <code>pom.xml</code></p>\n<pre><code>@Bean // with spring-boot-starter-web\nWebClient webClient(\n    ClientRegistrationRepository clientRegistrationRepository,\n    OAuth2AuthorizedClientService authorizedClientService\n) {\n    var oauth = new ServletOAuth2AuthorizedClientExchangeFilterFunction(\n        new AuthorizedClientServiceOAuth2AuthorizedClientManager(\n            clientRegistrationRepository, authorizedClientService\n        )\n    );\n    oauth.setDefaultClientRegistrationId(&quot;AuthProvider&quot;);\n    return WebClient.builder()\n      .apply(oauth.oauth2Configuration())\n      .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11356216,"reputation":2637,"user_id":8325761,"display_name":"bubbles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666341530,"creation_date":1666341530,"answer_id":74150976,"question_id":62446695,"body_markdown":"In my case I&#39;m using `WebClient` in **spring-batch** application `(WebApplicationType.NONE)`. So no servlet context is found, hence I had to configure `ClientRegistrationRepository`, `OAuth2AuthorizedClientService`, `OAuth2AuthorizedClientManager` by myself.\r\n\r\n```java\r\n\r\n@Configuration\r\npublic class WebClientConfiguration {\r\n\r\n    @Bean\r\n    public ClientRegistrationRepository clientRegistrationsRepository(\r\n            @Value(&quot;${keycloak.registration-id}&quot;) String registrationId,\r\n            @Value(&quot;${keycloak.token-uri}&quot;) String tokenUri,\r\n            @Value(&quot;${keycloak.client-id}&quot;) String clientId,\r\n            @Value(&quot;${keycloak.client-secret}&quot;) String clientSecret) {\r\n        ClientRegistration registration = ClientRegistration\r\n                .withRegistrationId(registrationId)\r\n                .tokenUri(tokenUri)\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .authorizationGrantType(CLIENT_CREDENTIALS)\r\n                .build();\r\n        return new InMemoryClientRegistrationRepository(registration);\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AuthorizedClientService oAuth2AuthorizedClientService(ClientRegistrationRepository clientRegistrationsRepository) {\r\n        return new InMemoryOAuth2AuthorizedClientService(clientRegistrationsRepository);\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AuthorizedClientManager authorizedClientManager(\r\n            ClientRegistrationRepository clientRegistrationRepository,\r\n            OAuth2AuthorizedClientService authorizedClientService) {\r\n\r\n        OAuth2AuthorizedClientProvider authorizedClientProvider =\r\n                OAuth2AuthorizedClientProviderBuilder.builder()\r\n                        .clientCredentials()\r\n                        .build();\r\n\r\n        AuthorizedClientServiceOAuth2AuthorizedClientManager authorizedClientManager =\r\n                new AuthorizedClientServiceOAuth2AuthorizedClientManager(\r\n                        clientRegistrationRepository, authorizedClientService);\r\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n\r\n        return authorizedClientManager;\r\n    }\r\n\r\n    @Bean\r\n    public WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager,\r\n                               @Value(&quot;${keycloak.registration-id}&quot;) String registrationId) {\r\n\r\n        ServletOAuth2AuthorizedClientExchangeFilterFunction auth2Function =\r\n                new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n        auth2Function.setDefaultClientRegistrationId(registrationId);\r\n        return WebClient.builder()\r\n                .apply(auth2Function.oauth2Configuration())\r\n                .build();\r\n\r\n    }\r\n}\r\n```\r\n\r\n```yaml\r\nkeycloak:\r\n  registration-id: my-registration\r\n  client-id: my-parameters\r\n  client-secret: g92olxcwBIWYNuSDaEyZrBsYHQPCv04R\r\n  token-uri: http://localhost:8090/auth/realms/my-realm/protocol/openid-connect/token\r\n```\r\n\r\nand added theses dependenciens:\r\n\r\n```groovy\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-webflux&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-security&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-resource-server&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;\r\n```","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p>In my case I'm using <code>WebClient</code> in <strong>spring-batch</strong> application <code>(WebApplicationType.NONE)</code>. So no servlet context is found, hence I had to configure <code>ClientRegistrationRepository</code>, <code>OAuth2AuthorizedClientService</code>, <code>OAuth2AuthorizedClientManager</code> by myself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class WebClientConfiguration {\n\n    @Bean\n    public ClientRegistrationRepository clientRegistrationsRepository(\n            @Value(&quot;${keycloak.registration-id}&quot;) String registrationId,\n            @Value(&quot;${keycloak.token-uri}&quot;) String tokenUri,\n            @Value(&quot;${keycloak.client-id}&quot;) String clientId,\n            @Value(&quot;${keycloak.client-secret}&quot;) String clientSecret) {\n        ClientRegistration registration = ClientRegistration\n                .withRegistrationId(registrationId)\n                .tokenUri(tokenUri)\n                .clientId(clientId)\n                .clientSecret(clientSecret)\n                .authorizationGrantType(CLIENT_CREDENTIALS)\n                .build();\n        return new InMemoryClientRegistrationRepository(registration);\n    }\n\n    @Bean\n    public OAuth2AuthorizedClientService oAuth2AuthorizedClientService(ClientRegistrationRepository clientRegistrationsRepository) {\n        return new InMemoryOAuth2AuthorizedClientService(clientRegistrationsRepository);\n    }\n\n    @Bean\n    public OAuth2AuthorizedClientManager authorizedClientManager(\n            ClientRegistrationRepository clientRegistrationRepository,\n            OAuth2AuthorizedClientService authorizedClientService) {\n\n        OAuth2AuthorizedClientProvider authorizedClientProvider =\n                OAuth2AuthorizedClientProviderBuilder.builder()\n                        .clientCredentials()\n                        .build();\n\n        AuthorizedClientServiceOAuth2AuthorizedClientManager authorizedClientManager =\n                new AuthorizedClientServiceOAuth2AuthorizedClientManager(\n                        clientRegistrationRepository, authorizedClientService);\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\n        return authorizedClientManager;\n    }\n\n    @Bean\n    public WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager,\n                               @Value(&quot;${keycloak.registration-id}&quot;) String registrationId) {\n\n        ServletOAuth2AuthorizedClientExchangeFilterFunction auth2Function =\n                new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n        auth2Function.setDefaultClientRegistrationId(registrationId);\n        return WebClient.builder()\n                .apply(auth2Function.oauth2Configuration())\n                .build();\n\n    }\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>keycloak:\n  registration-id: my-registration\n  client-id: my-parameters\n  client-secret: g92olxcwBIWYNuSDaEyZrBsYHQPCv04R\n  token-uri: http://localhost:8090/auth/realms/my-realm/protocol/openid-connect/token\n</code></pre>\n<p>and added theses dependenciens:</p>\n<pre><code>    implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-webflux&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-security&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-resource-server&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16198561,"reputation":11,"user_id":11695527,"display_name":"Haker"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678265225,"creation_date":1678265225,"answer_id":75670945,"question_id":62446695,"body_markdown":"it is the dependency conflict issue. Try removing the web dependency  ","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p>it is the dependency conflict issue. Try removing the web dependency</p>\n"},{"tags":[],"owner":{"account_id":22406237,"reputation":1,"user_id":16615728,"display_name":"MisterNdiaye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693996022,"creation_date":1693996022,"answer_id":77051060,"question_id":62446695,"body_markdown":"You just need to add this code to   your application.yml oe application.properties\r\n\r\nserver:\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          jwk-set-uri: keycloakHost:port/realms/YourRealmenter code here/protocol/openid-connect/certs","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p>You just need to add this code to   your application.yml oe application.properties</p>\n<p>server:\nspring:\nsecurity:\noauth2:\nresourceserver:\njwt:\njwk-set-uri: keycloakHost:port/realms/YourRealmenter code here/protocol/openid-connect/certs</p>\n"},{"tags":[],"owner":{"account_id":29952787,"reputation":1,"user_id":22954403,"display_name":"aaa_adet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700620354,"creation_date":1700620354,"answer_id":77527028,"question_id":62446695,"body_markdown":"I ran into the same issue, my version of spring security was 6.15 I had both of these annotations @EnableWebFluxSecurity @Configuration of my class definition I found out that my issue was in the application.yml configuration entry\r\nspring:security:oauth2:resourceServer:jwt:kwk-set-uri: \r\n\r\nIn my case it was not aligned to be under spring: so it appeared as if I had not defined it in the .yml file\r\n\r\nStart by making sure you have it defined and check that it is aligned correctly within the .yml file","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p>I ran into the same issue, my version of spring security was 6.15 I had both of these annotations @EnableWebFluxSecurity @Configuration of my class definition I found out that my issue was in the application.yml configuration entry\nspring:security:oauth2:resourceServer:jwt:kwk-set-uri:</p>\n<p>In my case it was not aligned to be under spring: so it appeared as if I had not defined it in the .yml file</p>\n<p>Start by making sure you have it defined and check that it is aligned correctly within the .yml file</p>\n"},{"tags":[],"owner":{"account_id":18928145,"reputation":41,"user_id":13810798,"display_name":"Vu Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701613805,"creation_date":1701613805,"answer_id":77594716,"question_id":62446695,"body_markdown":"In my case just forgot to add issuer-uri for resouce server:\r\n\r\n    spring.security.oauth2.resourceserver.jwt.issuer-uri: http://${app.auth-server}:9999","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p>In my case just forgot to add issuer-uri for resouce server:</p>\n<pre><code>spring.security.oauth2.resourceserver.jwt.issuer-uri: http://${app.auth-server}:9999\n</code></pre>\n"}],"owner":{"account_id":1646046,"reputation":505,"user_id":1517586,"display_name":"raj03"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69487,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":9,"score":26,"last_activity_date":1701613805,"creation_date":1592472283,"question_id":62446695,"body_markdown":"I am currently using Spring OAuth2Client version `5.2.4.RELEASE` in my project.\r\n\r\nI have implemented Spring Security by referring to the Official Spring Docs [here][1].\r\n\r\n\r\n\r\n\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\r\n    import org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\r\n    import org.springframework.security.oauth2.client.web.server.ServerOAuth2AuthorizedClientRepository;\r\n    import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    @AllArgsConstructor\r\n    @Configuration\r\n    @Slf4j\r\n    public class WebClientConfig {\r\n    \r\n        @Bean(&quot;AuthProvider&quot;)\r\n        WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations, ServerOAuth2AuthorizedClientRepository authorizedClients) {\r\n            ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n                    clientRegistrations,\r\n                    authorizedClients);\r\n            oauth.setDefaultOAuth2AuthorizedClient(true);\r\n            oauth.setDefaultClientRegistrationId(&quot;AuthProvider&quot;);\r\n            return WebClient.builder()\r\n                    .filter(oauth)\r\n                    .filter(this.logRequest())\r\n                    .build();\r\n        }\r\n    \r\n        \r\n        private ExchangeFilterFunction logRequest() {\r\n            return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n                log.info(&quot;Request: [{}] {}&quot;, clientRequest.method(), clientRequest.url());\r\n                log.debug(&quot;Payload: {}&quot;, clientRequest.body());\r\n                return Mono.just(clientRequest);\r\n            });\r\n        }\r\n\r\n**application.yaml** \r\n\r\n       security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              AuthProvider:\r\n                token-uri: ${tokenpath&lt;read from environment variable&gt;}\r\n            registration:\r\n              AuthProvider:\r\n                authorization-grant-type: client_credentials\r\n                client-id: ${&lt;read from environment variable&gt;}\r\n                client-secret: ${&lt;read from environment variable&gt;}\r\n\r\nGetting the following error on the application startup:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of method webClient in com.sample.config.WebClientConfig required a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration.\r\n\r\nKindly point me out if I have missed any configuration. Also, I didn&#39;t get much help from other StackOverflow questions.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2Client-authorized-manager-provider","title":"Consider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39; in your configuration","body":"<p>I am currently using Spring OAuth2Client version <code>5.2.4.RELEASE</code> in my project.</p>\n<p>I have implemented Spring Security by referring to the Official Spring Docs <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2Client-authorized-manager-provider\" rel=\"noreferrer\">here</a>.</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\nimport org.springframework.security.oauth2.client.web.server.ServerOAuth2AuthorizedClientRepository;\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport lombok.AllArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport reactor.core.publisher.Mono;\n\n@AllArgsConstructor\n@Configuration\n@Slf4j\npublic class WebClientConfig {\n\n    @Bean(&quot;AuthProvider&quot;)\n    WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations, ServerOAuth2AuthorizedClientRepository authorizedClients) {\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n                clientRegistrations,\n                authorizedClients);\n        oauth.setDefaultOAuth2AuthorizedClient(true);\n        oauth.setDefaultClientRegistrationId(&quot;AuthProvider&quot;);\n        return WebClient.builder()\n                .filter(oauth)\n                .filter(this.logRequest())\n                .build();\n    }\n\n    \n    private ExchangeFilterFunction logRequest() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            log.info(&quot;Request: [{}] {}&quot;, clientRequest.method(), clientRequest.url());\n            log.debug(&quot;Payload: {}&quot;, clientRequest.body());\n            return Mono.just(clientRequest);\n        });\n    }\n</code></pre>\n<p><strong>application.yaml</strong></p>\n<pre><code>   security:\n    oauth2:\n      client:\n        provider:\n          AuthProvider:\n            token-uri: ${tokenpath&lt;read from environment variable&gt;}\n        registration:\n          AuthProvider:\n            authorization-grant-type: client_credentials\n            client-id: ${&lt;read from environment variable&gt;}\n            client-secret: ${&lt;read from environment variable&gt;}\n</code></pre>\n<p>Getting the following error on the application startup:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method webClient in com.sample.config.WebClientConfig required a bean of type 'org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository' in your configuration.\n</code></pre>\n<p>Kindly point me out if I have missed any configuration. Also, I didn't get much help from other StackOverflow questions.</p>\n"},{"tags":["java","decompiler"],"comments":[{"owner":{"account_id":10389625,"reputation":2881,"user_id":9889778,"display_name":"Krystian G"},"score":2,"creation_date":1701613027,"post_id":77594656,"comment_id":136794960,"body_markdown":"Are you sure that&#39;s a question?","body":"Are you sure that&#39;s a question?"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1701613154,"post_id":77594656,"comment_id":136794970,"body_markdown":"is this one of those rep farming?","body":"is this one of those rep farming?"},{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1701613161,"post_id":77594656,"comment_id":136794972,"body_markdown":"Looks like a homework assignment that&#39;s been copied and pasted here.  Java 1.4?  No one should be running that code anymore.  Too old.","body":"Looks like a homework assignment that&#39;s been copied and pasted here.  Java 1.4?  No one should be running that code anymore.  Too old."}],"answers":[{"tags":[],"owner":{"account_id":30013645,"reputation":1,"user_id":23000729,"display_name":"Ajay Kumar Yadav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701613152,"creation_date":1701613152,"answer_id":77594677,"question_id":77594656,"body_markdown":"There are several tools that you can use to &quot;decompile&quot; Java class files and view the source code. Some popular ones include:\r\n\r\nJD-GUI: This is a standalone graphical utility that displays Java source codes of &quot;.class&quot; files. You can download it from https://github.com/java-decompiler/jd-gui\r\nJAD: This is a command-line decompiler for Java class files. You can download it from http://varaneckas.com/jad/\r\nCFR: This is another command-line decompiler that can be used to decompile Java class files. You can download it from https://www.benf.org/other/cfr/\r\nTo decompile a Java class file using any of these tools, simply open the tool and use it to open the &quot;.class&quot; file that you want to decompile. The tool will then display the decompiled source code for the class.\r\n\r\nKeep in mind that decompiling a class file will not always produce an exact replica of the original source code, as some information may be lost during the compilation process. However, the decompiled code should be similar to the original and should be sufficient for most purposes.","title":"How do I &quot;decompile&quot; Java class files? Configuration class","body":"<p>There are several tools that you can use to &quot;decompile&quot; Java class files and view the source code. Some popular ones include:</p>\n<p>JD-GUI: This is a standalone graphical utility that displays Java source codes of &quot;.class&quot; files. You can download it from <a href=\"https://github.com/java-decompiler/jd-gui\" rel=\"nofollow noreferrer\">https://github.com/java-decompiler/jd-gui</a>\nJAD: This is a command-line decompiler for Java class files. You can download it from <a href=\"http://varaneckas.com/jad/\" rel=\"nofollow noreferrer\">http://varaneckas.com/jad/</a>\nCFR: This is another command-line decompiler that can be used to decompile Java class files. You can download it from <a href=\"https://www.benf.org/other/cfr/\" rel=\"nofollow noreferrer\">https://www.benf.org/other/cfr/</a>\nTo decompile a Java class file using any of these tools, simply open the tool and use it to open the &quot;.class&quot; file that you want to decompile. The tool will then display the decompiled source code for the class.</p>\n<p>Keep in mind that decompiling a class file will not always produce an exact replica of the original source code, as some information may be lost during the compilation process. However, the decompiled code should be similar to the original and should be sufficient for most purposes.</p>\n"}],"owner":{"account_id":24745270,"reputation":15,"user_id":18631544,"display_name":"Janith  Nanayakkara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1701614316,"answer_count":1,"score":-3,"last_activity_date":1701613152,"creation_date":1701612881,"question_id":77594656,"body_markdown":"decompile .class file bytecode version : 48.0 (java 1.4)\r\n\r\n.addAnnotatedClass() decompiled\r\n\r\n.addAnnotatedClass() compiled\r\nt looks like you want to decompile the bytecode of a Java class file compiled with Java version 1.4 and investigate the implementation of the .addAnnotatedClass() method. Decompiling Java bytecode involves using a tool like JD-GUI, Bytecode Viewer, or javap. Here&#39;s a general outline of how you might approach this:\r\n\r\nDecompile the .class file:\r\n\r\nUse a decompiler like JD-GUI to convert the bytecode back into Java source code.\r\nOpen the decompiler and load your .class file.\r\nLook for the .addAnnotatedClass() method in the decompiled code.\r\nInvestigate Decompiled Code:\r\n\r\nOnce you&#39;ve decompiled the code, search for the .addAnnotatedClass() method within the decompiled source.\r\nExamine the implementation details of the method to understand how it works.\r\nTake note of any specific logic or dependencies.\r\nCompare Decompiled Code with Source Code:\r\n\r\nIf you have access to the original source code, compare the decompiled code with the original source code. This can help you identify any differences or modifications introduced during the compilation process.\r\nAddress Character Encoding Issues:\r\n\r\nIf you&#39;re seeing character encoding issues in the decompiled code (e.g., more characters than expected), it might be due to the decompiler&#39;s interpretation or a character encoding mismatch.\r\nEnsure that you&#39;re using a reliable decompiler and that your environment&#39;s character encoding settings are correct.\r\nCheck for Obfuscation:\r\n\r\nSometimes, Java code is obfuscated before being compiled, which can make decompiled code less human-readable.\r\nIf the code is obfuscated, you might need to manually analyze and interpret the obfuscated names and logic.","title":"How do I &quot;decompile&quot; Java class files? Configuration class","body":"<p>decompile .class file bytecode version : 48.0 (java 1.4)</p>\n<p>.addAnnotatedClass() decompiled</p>\n<p>.addAnnotatedClass() compiled\nt looks like you want to decompile the bytecode of a Java class file compiled with Java version 1.4 and investigate the implementation of the .addAnnotatedClass() method. Decompiling Java bytecode involves using a tool like JD-GUI, Bytecode Viewer, or javap. Here's a general outline of how you might approach this:</p>\n<p>Decompile the .class file:</p>\n<p>Use a decompiler like JD-GUI to convert the bytecode back into Java source code.\nOpen the decompiler and load your .class file.\nLook for the .addAnnotatedClass() method in the decompiled code.\nInvestigate Decompiled Code:</p>\n<p>Once you've decompiled the code, search for the .addAnnotatedClass() method within the decompiled source.\nExamine the implementation details of the method to understand how it works.\nTake note of any specific logic or dependencies.\nCompare Decompiled Code with Source Code:</p>\n<p>If you have access to the original source code, compare the decompiled code with the original source code. This can help you identify any differences or modifications introduced during the compilation process.\nAddress Character Encoding Issues:</p>\n<p>If you're seeing character encoding issues in the decompiled code (e.g., more characters than expected), it might be due to the decompiler's interpretation or a character encoding mismatch.\nEnsure that you're using a reliable decompiler and that your environment's character encoding settings are correct.\nCheck for Obfuscation:</p>\n<p>Sometimes, Java code is obfuscated before being compiled, which can make decompiled code less human-readable.\nIf the code is obfuscated, you might need to manually analyze and interpret the obfuscated names and logic.</p>\n"},{"tags":["java","datetime","date"],"comments":[{"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1332390884,"post_id":9816459,"comment_id":12505232,"body_markdown":"What does `System.out.println(date)` right after the last line say then? It surely is already in the desired format, right? Otherwise you haven&#39;t actually posted the complete code. For example, you might be converting it back to `Date` object later which would get the default time.","body":"What does <code>System.out.println(date)</code> right after the last line say then? It surely is already in the desired format, right? Otherwise you haven&#39;t actually posted the complete code. For example, you might be converting it back to <code>Date</code> object later which would get the default time."},{"owner":{"account_id":183777,"reputation":4897,"user_id":419377,"accept_rate":97,"display_name":"Vaandu"},"score":0,"creation_date":1332390941,"post_id":9816459,"comment_id":12505241,"body_markdown":"Don&#39;t you get just 21/03/2012 from `date`?","body":"Don&#39;t you get just 21/03/2012 from <code>date</code>?"},{"owner":{"account_id":1324263,"reputation":2914,"user_id":1269446,"accept_rate":44,"display_name":"Laxman Rana"},"score":0,"creation_date":1332391899,"post_id":9816459,"comment_id":12505402,"body_markdown":"@BalusC yeah....it is desired format..but when converting back string to date it appenda default time....which i dont want...","body":"@BalusC yeah....it is desired format..but when converting back string to date it appenda default time....which i dont want..."},{"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1332392043,"post_id":9816459,"comment_id":12505428,"body_markdown":"Why are you converting it back to `Date` then? :) How does that make sense? The `Date` object represents the epoch timestamp in millis and this of course also includes the time. If your sole purpose is to present it to humans, just convert to `String` in desired format like as you already did. You only need to do this at exactly the very moment you&#39;re going to present it to humans. Read the javadoc: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html (particularly also the `toString()` method).","body":"Why are you converting it back to <code>Date</code> then? :) How does that make sense? The <code>Date</code> object represents the epoch timestamp in millis and this of course also includes the time. If your sole purpose is to present it to humans, just convert to <code>String</code> in desired format like as you already did. You only need to do this at exactly the very moment you&#39;re going to present it to humans. Read the javadoc: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Date.html</a> (particularly also the <code>toString()</code> method)."},{"owner":{"account_id":1324263,"reputation":2914,"user_id":1269446,"accept_rate":44,"display_name":"Laxman Rana"},"score":0,"creation_date":1332392210,"post_id":9816459,"comment_id":12505454,"body_markdown":"yes u r ri8.....but i want to pass this date in one method which accepts argument as a date not string...so for this purpose i want to convert it into date...","body":"yes u r ri8.....but i want to pass this date in one method which accepts argument as a date not string...so for this purpose i want to convert it into date..."},{"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1516505165,"post_id":9816459,"comment_id":83713603,"body_markdown":"Use `LocalDate` from `java.time`, the modern Java date and time API. Its a date without time-of-day.","body":"Use <code>LocalDate</code> from <code>java.time</code>, the modern Java date and time API. Its a date without time-of-day."},{"owner":{"account_id":44650,"reputation":3746,"user_id":131157,"accept_rate":57,"display_name":"Babak"},"score":0,"creation_date":1657180874,"post_id":9816459,"comment_id":128750372,"body_markdown":"See also this: https://stackoverflow.com/a/12244292/131157","body":"See also this: <a href=\"https://stackoverflow.com/a/12244292/131157\">stackoverflow.com/a/12244292/131157</a>"}],"answers":[{"tags":[],"owner":{"account_id":1343844,"reputation":637,"user_id":1284959,"accept_rate":100,"display_name":"Jeremy Sayers"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332391008,"creation_date":1332391008,"answer_id":9816507,"question_id":9816459,"body_markdown":"    String substring(int startIndex, int endIndex)\r\n\r\nIn other words you know your string will be 10 characers long so you would do:\r\n\r\n    FinalDate = date.substring(0,9);\r\n\r\n","title":"Removing time from a Date object?","body":"<pre><code>String substring(int startIndex, int endIndex)\n</code></pre>\n\n<p>In other words you know your string will be 10 characers long so you would do:</p>\n\n<pre><code>FinalDate = date.substring(0,9);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946395,"reputation":7030,"user_id":973580,"display_name":"eurobur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371101620,"creation_date":1332391198,"answer_id":9816529,"question_id":9816459,"body_markdown":"java.util.Date represents a **date/time** down to milliseconds.  You don&#39;t have an option but to include a time with it.  You could try zeroing out the time, but then timezones and daylight savings will come into play--and that can screw things up down the line `(e.g. 21/03/2012 0:00 GMT is 20/03/2012 PDT).`\r\n\r\nWhat you might want is a `java.sql.Date` to represent only the date portion (though internally it still uses ms).","title":"Removing time from a Date object?","body":"<p>java.util.Date represents a <strong>date/time</strong> down to milliseconds.  You don't have an option but to include a time with it.  You could try zeroing out the time, but then timezones and daylight savings will come into play--and that can screw things up down the line <code>(e.g. 21/03/2012 0:00 GMT is 20/03/2012 PDT).</code></p>\n\n<p>What you might want is a <code>java.sql.Date</code> to represent only the date portion (though internally it still uses ms).</p>\n"},{"tags":[],"owner":{"account_id":266613,"reputation":9373,"user_id":554279,"accept_rate":80,"display_name":"Rangi Lin"},"down_vote_count":3,"up_vote_count":59,"is_accepted":true,"score":56,"last_activity_date":1332393638,"creation_date":1332393638,"answer_id":9816867,"question_id":9816459,"body_markdown":"The quick answer is :\r\n\r\n**No, you are not allowed to do that.** Because that is what `Date` use for.\r\n\r\nFrom javadoc of `Date` :\r\n\r\n&gt; The class Date represents a specific instant in time, with millisecond precision.\r\n\r\n\r\n**However**, since this class is simply a data object. It dose not care about how we describe it.\r\nWhen we see a date `2012/01/01 12:05:10.321`, we can say it is `2012/01/01`, this is what you need.\r\nThere are many ways to do this.\r\n\r\n\r\n**Example 1 : by manipulating string**\r\n\r\nInput string : 2012/01/20 12:05:10.321\r\n\r\nDesired output string : 2012/01/20\r\n\r\nSince the yyyy/MM/dd are exactly what we need, we can simply manipulate the string to get the result.\r\n\r\n    String input = &quot;2012/01/20 12:05:10.321&quot;;\r\n    String output = input.substring(0, 10);  // Output : 2012/01/20\r\n\r\n\r\n\r\n**Example 2 : by SimpleDateFormat**\r\n\r\nInput string : 2012/01/20 12:05:10.321\r\n\r\nDesired output string : 01/20/2012\r\n\r\nIn this case we want a different format.\r\n\r\n    String input = &quot;2012/01/20 12:05:10.321&quot;;\r\n    DateFormat inputFormatter = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss.SSS&quot;);\r\n    Date date = inputFormatter.parse(input);\r\n\r\n    DateFormat outputFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    String output = outputFormatter.format(date); // Output : 01/20/2012\r\n\r\nFor usage of `SimpleDateFormat`, check [SimpleDateFormat JavaDoc][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"Removing time from a Date object?","body":"<p>The quick answer is :</p>\n\n<p><strong>No, you are not allowed to do that.</strong> Because that is what <code>Date</code> use for.</p>\n\n<p>From javadoc of <code>Date</code> :</p>\n\n<blockquote>\n  <p>The class Date represents a specific instant in time, with millisecond precision.</p>\n</blockquote>\n\n<p><strong>However</strong>, since this class is simply a data object. It dose not care about how we describe it.\nWhen we see a date <code>2012/01/01 12:05:10.321</code>, we can say it is <code>2012/01/01</code>, this is what you need.\nThere are many ways to do this.</p>\n\n<p><strong>Example 1 : by manipulating string</strong></p>\n\n<p>Input string : 2012/01/20 12:05:10.321</p>\n\n<p>Desired output string : 2012/01/20</p>\n\n<p>Since the yyyy/MM/dd are exactly what we need, we can simply manipulate the string to get the result.</p>\n\n<pre><code>String input = \"2012/01/20 12:05:10.321\";\nString output = input.substring(0, 10);  // Output : 2012/01/20\n</code></pre>\n\n<p><strong>Example 2 : by SimpleDateFormat</strong></p>\n\n<p>Input string : 2012/01/20 12:05:10.321</p>\n\n<p>Desired output string : 01/20/2012</p>\n\n<p>In this case we want a different format.</p>\n\n<pre><code>String input = \"2012/01/20 12:05:10.321\";\nDateFormat inputFormatter = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss.SSS\");\nDate date = inputFormatter.parse(input);\n\nDateFormat outputFormatter = new SimpleDateFormat(\"MM/dd/yyyy\");\nString output = outputFormatter.format(date); // Output : 01/20/2012\n</code></pre>\n\n<p>For usage of <code>SimpleDateFormat</code>, check <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\">SimpleDateFormat JavaDoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1657183369,"creation_date":1332396822,"answer_id":9817318,"question_id":9816459,"body_markdown":"What you want is **impossible**.\r\n\r\nA `Date` object represents an &quot;absolute&quot; moment in time. You cannot &quot;remove the time part&quot; from it. When you print a `Date` object directly with `System.out.println(date)`, it will always be formatted in a default format that includes the time. There is nothing you can do to change that.\r\n\r\nInstead of somehow trying to use class `Date` for something that it was not designed for, you should look for another solution. For example, use `SimpleDateFormat` to format the date in whatever format you want.\r\n\r\nThe Java date and calendar APIs are unfortunately not the most well-designed classes of the standard Java API. There&#39;s a library called [Joda-Time](http://www.joda.org/joda-time/) which has a much better and more powerful API.\r\n\r\nJoda-Time has a number of special classes to support dates, times, periods, durations, etc. If you want to work with just a date without a time, then Joda-Time&#39;s [`LocalDate`](http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html) class would be what you&#39;d use.\r\n\r\n*edit* - note that my answer above is now more than 10 years old. If you are using a current version of Java (Java 8 or newer), then prefer to use the new standard date and time classes in package `java.time`. There are many classes available that represent just a date (day, month, year); a date and time; just a time; etc.","title":"Removing time from a Date object?","body":"<p>What you want is <strong>impossible</strong>.</p>\n<p>A <code>Date</code> object represents an &quot;absolute&quot; moment in time. You cannot &quot;remove the time part&quot; from it. When you print a <code>Date</code> object directly with <code>System.out.println(date)</code>, it will always be formatted in a default format that includes the time. There is nothing you can do to change that.</p>\n<p>Instead of somehow trying to use class <code>Date</code> for something that it was not designed for, you should look for another solution. For example, use <code>SimpleDateFormat</code> to format the date in whatever format you want.</p>\n<p>The Java date and calendar APIs are unfortunately not the most well-designed classes of the standard Java API. There's a library called <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> which has a much better and more powerful API.</p>\n<p>Joda-Time has a number of special classes to support dates, times, periods, durations, etc. If you want to work with just a date without a time, then Joda-Time's <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class would be what you'd use.</p>\n<p><em>edit</em> - note that my answer above is now more than 10 years old. If you are using a current version of Java (Java 8 or newer), then prefer to use the new standard date and time classes in package <code>java.time</code>. There are many classes available that represent just a date (day, month, year); a date and time; just a time; etc.</p>\n"},{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1332397413,"creation_date":1332397413,"answer_id":9817406,"question_id":9816459,"body_markdown":"    Date dateWithoutTime =\r\n        new Date(myDate.getYear(),myDate.getMonth(),myDate.getDate()) \r\n\r\nThis is deprecated, but the fastest way to do it.","title":"Removing time from a Date object?","body":"<pre><code>Date dateWithoutTime =\n    new Date(myDate.getYear(),myDate.getMonth(),myDate.getDate()) \n</code></pre>\n\n<p>This is deprecated, but the fastest way to do it.</p>\n"},{"tags":[],"owner":{"account_id":114256,"reputation":2333,"user_id":300538,"display_name":"Sunil Manheri"},"down_vote_count":2,"up_vote_count":138,"is_accepted":false,"score":136,"last_activity_date":1335436729,"creation_date":1335436729,"answer_id":10331747,"question_id":9816459,"body_markdown":"You can remove the time part from java.util.Date by setting the hour, minute, second and millisecond values to zero.\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    public class DateUtil {\r\n    \r\n    \tpublic static Date removeTime(Date date) {\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(date);\r\n    \t\tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n    \t\tcal.set(Calendar.MINUTE, 0);\r\n    \t\tcal.set(Calendar.SECOND, 0);\r\n    \t\tcal.set(Calendar.MILLISECOND, 0);\r\n    \t\treturn cal.getTime();\r\n    \t}\r\n    \t\r\n    }","title":"Removing time from a Date object?","body":"<p>You can remove the time part from java.util.Date by setting the hour, minute, second and millisecond values to zero.</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\npublic class DateUtil {\n\n    public static Date removeTime(Date date) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        cal.set(Calendar.HOUR_OF_DAY, 0);\n        cal.set(Calendar.MINUTE, 0);\n        cal.set(Calendar.SECOND, 0);\n        cal.set(Calendar.MILLISECOND, 0);\n        return cal.getTime();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1443308,"reputation":6387,"user_id":1362735,"accept_rate":50,"display_name":"heretolearn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348599424,"creation_date":1348599424,"answer_id":12589369,"question_id":9816459,"body_markdown":"you could try something like this:\r\n\r\n    import java.text.*;\r\n    import java.util.*;\r\n    public class DtTime {\r\n    public static void main(String args[]) {\r\n    String s;\r\n    Format formatter;\r\n      Date date = new Date();\r\n      formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n      s = formatter.format(date);\r\n      System.out.println(s);\r\n        }\r\n    }\r\n\r\nThis will give you output as`21/03/2012`\r\n\r\nOr you could try this if you want the output as `21 Mar, 2012`\r\n\r\n    import java.text.*;\r\n    import java.util.*;\r\n    public class DtTime {\r\n    public static void main(String args[]) {\r\n        Date date=new Date();\r\n    String df=DateFormat.getDateInstance().format(date);\r\n    System.out.println(df);\r\n        }\r\n    }","title":"Removing time from a Date object?","body":"<p>you could try something like this:</p>\n\n<pre><code>import java.text.*;\nimport java.util.*;\npublic class DtTime {\npublic static void main(String args[]) {\nString s;\nFormat formatter;\n  Date date = new Date();\n  formatter = new SimpleDateFormat(\"dd/MM/yyyy\");\n  s = formatter.format(date);\n  System.out.println(s);\n    }\n}\n</code></pre>\n\n<p>This will give you output as<code>21/03/2012</code></p>\n\n<p>Or you could try this if you want the output as <code>21 Mar, 2012</code></p>\n\n<pre><code>import java.text.*;\nimport java.util.*;\npublic class DtTime {\npublic static void main(String args[]) {\n    Date date=new Date();\nString df=DateFormat.getDateInstance().format(date);\nSystem.out.println(df);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348604303,"creation_date":1348603874,"answer_id":12590338,"question_id":9816459,"body_markdown":"A bit of a fudge but you could use java.sql.Date. This only stored the date part and zero based time (midnight)\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    c.set(Calendar.YEAR, 2011);\r\n    c.set(Calendar.MONTH, 11);\r\n    c.set(Calendar.DATE, 5);\r\n    java.sql.Date d = new java.sql.Date(c.getTimeInMillis());\r\n    System.out.println(&quot;date is  &quot; + d);\r\n    DateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    System.out.println(&quot;formatted date is  &quot; + df.format(d));\r\n\r\ngives\r\n\r\n    date is  2011-12-05\r\n    formatted date is  05/12/2011\r\n    \r\n\r\nOr it might be worth creating your own date object which just contains dates and not times. This could wrap java.util.Date and ignore the time parts of it.\r\n","title":"Removing time from a Date object?","body":"<p>A bit of a fudge but you could use java.sql.Date. This only stored the date part and zero based time (midnight)</p>\n\n<pre><code>Calendar c = Calendar.getInstance();\nc.set(Calendar.YEAR, 2011);\nc.set(Calendar.MONTH, 11);\nc.set(Calendar.DATE, 5);\njava.sql.Date d = new java.sql.Date(c.getTimeInMillis());\nSystem.out.println(\"date is  \" + d);\nDateFormat df = new SimpleDateFormat(\"dd/MM/yyyy\");\nSystem.out.println(\"formatted date is  \" + df.format(d));\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>date is  2011-12-05\nformatted date is  05/12/2011\n</code></pre>\n\n<p>Or it might be worth creating your own date object which just contains dates and not times. This could wrap java.util.Date and ignore the time parts of it.</p>\n"},{"tags":[],"owner":{"account_id":100048,"reputation":2925,"user_id":269884,"display_name":"PlunkettBoy"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1431962668,"creation_date":1366926402,"answer_id":16225287,"question_id":9816459,"body_markdown":"Apache Commons **DateUtils** has a **&quot;truncate&quot;** method that I just used to do this and I think it will meet your needs. It&#39;s really easy to use:\r\n\r\n    DateUtils.truncate(dateYouWantToTruncate, Calendar.DAY_OF_MONTH);\r\n\r\n**DateUtils** also has a host of other cool utilities like **&quot;isSameDay()&quot;** and the like. Check it out it! It might make things easier for you.","title":"Removing time from a Date object?","body":"<p>Apache Commons <strong>DateUtils</strong> has a <strong>\"truncate\"</strong> method that I just used to do this and I think it will meet your needs. It's really easy to use:</p>\n\n<pre><code>DateUtils.truncate(dateYouWantToTruncate, Calendar.DAY_OF_MONTH);\n</code></pre>\n\n<p><strong>DateUtils</strong> also has a host of other cool utilities like <strong>\"isSameDay()\"</strong> and the like. Check it out it! It might make things easier for you.</p>\n"},{"tags":[],"owner":{"account_id":2704688,"reputation":138,"user_id":2334530,"accept_rate":75,"display_name":"Rajesh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1371101512,"creation_date":1368694227,"answer_id":16582934,"question_id":9816459,"body_markdown":"You can also manually change the time part of date and format in **&quot;dd/mm/yyyy&quot;** pattern according to your requirement.\r\n\r\n      public static Date getZeroTimeDate(Date changeDate){\r\n        \r\n            Date returnDate=new Date(changeDate.getTime()-(24*60*60*1000));\r\n            return returnDate;\r\n        }\r\n\r\nIf the return value is not working then check for the context parameter in web.xml.\r\neg.\r\n\r\n       &lt;context-param&gt; \r\n            &lt;param-name&gt;javax.faces.DATETIMECONVERTER_DEFAULT_TIMEZONE_IS_SYSTEM_TIMEZONE&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/context-param&gt;","title":"Removing time from a Date object?","body":"<p>You can also manually change the time part of date and format in <strong>\"dd/mm/yyyy\"</strong> pattern according to your requirement.</p>\n\n<pre><code>  public static Date getZeroTimeDate(Date changeDate){\n\n        Date returnDate=new Date(changeDate.getTime()-(24*60*60*1000));\n        return returnDate;\n    }\n</code></pre>\n\n<p>If the return value is not working then check for the context parameter in web.xml.\neg.</p>\n\n<pre><code>   &lt;context-param&gt; \n        &lt;param-name&gt;javax.faces.DATETIMECONVERTER_DEFAULT_TIMEZONE_IS_SYSTEM_TIMEZONE&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3217047,"reputation":9,"user_id":2715456,"display_name":"maddy"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1378305714,"creation_date":1377434941,"answer_id":18429162,"question_id":9816459,"body_markdown":"Don&#39;t try to make it hard just follow a simple way\r\n\r\ndate is a string where your date is saved\r\n\r\n    String s2=date.substring(0,date.length()-11);\r\n\r\nnow print the value of `s2`.\r\nit will reduce your **string length** and you will get only date part.","title":"Removing time from a Date object?","body":"<p>Don't try to make it hard just follow a simple way</p>\n\n<p>date is a string where your date is saved</p>\n\n<pre><code>String s2=date.substring(0,date.length()-11);\n</code></pre>\n\n<p>now print the value of <code>s2</code>.\nit will reduce your <strong>string length</strong> and you will get only date part.</p>\n"},{"tags":[],"owner":{"account_id":3409195,"reputation":139,"user_id":2859573,"display_name":"user2859573"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1389949071,"creation_date":1389949071,"answer_id":21181616,"question_id":9816459,"body_markdown":"What about this:\r\n\r\n        Date today = new Date();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\r\n        today = sdf.parse(sdf.format(today));","title":"Removing time from a Date object?","body":"<p>What about this:</p>\n\n<pre><code>    Date today = new Date();\n    SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\n\n    today = sdf.parse(sdf.format(today));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4885587,"reputation":29,"user_id":3938165,"display_name":"Sourav"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1407944928,"creation_date":1407944928,"answer_id":25290646,"question_id":9816459,"body_markdown":"Another way to work out here is to use java.sql.Date as sql Date doesn&#39;t have time associated with it, whereas java.util.Date always have a timestamp.\r\nWhats catching point here is java.sql.Date extends java.util.Date, therefore java.util.Date variable can be a reference to java.sql.Date(without time) and to java.util.Date of course(with timestamp).","title":"Removing time from a Date object?","body":"<p>Another way to work out here is to use java.sql.Date as sql Date doesn't have time associated with it, whereas java.util.Date always have a timestamp.\nWhats catching point here is java.sql.Date extends java.util.Date, therefore java.util.Date variable can be a reference to java.sql.Date(without time) and to java.util.Date of course(with timestamp).</p>\n"},{"tags":[],"owner":{"account_id":5092176,"reputation":59,"user_id":4084883,"display_name":"Jonathan Palomino Vilca"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1424972796,"creation_date":1424972796,"answer_id":28749274,"question_id":9816459,"body_markdown":"You can write that for example:\r\n\r\n    private Date TruncarFecha(Date fechaParametro) throws ParseException {\r\n        String fecha=&quot;&quot;;\r\n        DateFormat outputFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n        fecha =outputFormatter.format(fechaParametro);\r\n        return outputFormatter.parse(fecha);\r\n    }","title":"Removing time from a Date object?","body":"<p>You can write that for example:</p>\n\n<pre><code>private Date TruncarFecha(Date fechaParametro) throws ParseException {\n    String fecha=\"\";\n    DateFormat outputFormatter = new SimpleDateFormat(\"MM/dd/yyyy\");\n    fecha =outputFormatter.format(fechaParametro);\n    return outputFormatter.parse(fecha);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5895943,"reputation":51,"user_id":4641097,"display_name":"Kris_P"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1425649854,"creation_date":1425649854,"answer_id":28900214,"question_id":9816459,"body_markdown":"May be the below code may help people who are looking for zeroHour of the day :\r\n    \r\n        Date todayDate = new Date();\r\n        GregorianCalendar todayDate_G = new GregorianCalendar();\r\n        gcd.setTime(currentDate);\r\n        int _Day    = todayDate_GC.get(GregorianCalendar.DAY_OF_MONTH);\r\n        int _Month  = todayDate_GC.get(GregorianCalendar.MONTH);\r\n        int _Year   = todayDate_GC.get(GregorianCalendar.YEAR);\r\n\r\n        GregorianCalendar newDate = new GregorianCalendar(_Year,_Month,_Day,0,0,0);\r\n        zeroHourDate = newDate.getTime();\r\n        long zeroHourDateTime = newDate.getTimeInMillis();\r\n\r\nHope this will be helpful.","title":"Removing time from a Date object?","body":"<p>May be the below code may help people who are looking for zeroHour of the day :</p>\n\n<pre><code>    Date todayDate = new Date();\n    GregorianCalendar todayDate_G = new GregorianCalendar();\n    gcd.setTime(currentDate);\n    int _Day    = todayDate_GC.get(GregorianCalendar.DAY_OF_MONTH);\n    int _Month  = todayDate_GC.get(GregorianCalendar.MONTH);\n    int _Year   = todayDate_GC.get(GregorianCalendar.YEAR);\n\n    GregorianCalendar newDate = new GregorianCalendar(_Year,_Month,_Day,0,0,0);\n    zeroHourDate = newDate.getTime();\n    long zeroHourDateTime = newDate.getTimeInMillis();\n</code></pre>\n\n<p>Hope this will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":3804667,"reputation":685,"user_id":3157408,"display_name":"Sahil J"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1426874297,"creation_date":1426874297,"answer_id":29172945,"question_id":9816459,"body_markdown":"In addtition to what  @jseals has already said. I think the org.apache.commons.lang.time.DateUtils class is probably what you should be looking at.\r\n\r\nIt&#39;s method : truncate(Date date,int field) worked very well for me.\r\n\r\nJavaDocs : https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html#truncate(java.util.Date, int)\r\n\r\nSince you needed to truncate all the time fields you can use :\r\n\r\n    DateUtils.truncate(new Date(),Calendar.DAY_OF_MONTH)\r\n","title":"Removing time from a Date object?","body":"<p>In addtition to what  @jseals has already said. I think the org.apache.commons.lang.time.DateUtils class is probably what you should be looking at.</p>\n\n<p>It's method : truncate(Date date,int field) worked very well for me.</p>\n\n<p>JavaDocs : <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html#truncate(java.util.Date\" rel=\"nofollow\">https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html#truncate(java.util.Date</a>, int)</p>\n\n<p>Since you needed to truncate all the time fields you can use :</p>\n\n<pre><code>DateUtils.truncate(new Date(),Calendar.DAY_OF_MONTH)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1539141952,"creation_date":1539141952,"answer_id":52732156,"question_id":9816459,"body_markdown":"Can&#39;t believe no one offered this shitty answer with all the rest of them. It&#39;s been deprecated for decades.\r\n\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n    ...\r\n\t\tDate hitDate = new Date();\r\n\t\thitDate.setHours(0);\r\n\t\thitDate.setMinutes(0);\r\n\t\thitDate.setSeconds(0);\r\n","title":"Removing time from a Date object?","body":"<p>Can't believe no one offered this shitty answer with all the rest of them. It's been deprecated for decades.</p>\n\n<pre><code>@SuppressWarnings(\"deprecation\")\n...\n    Date hitDate = new Date();\n    hitDate.setHours(0);\n    hitDate.setMinutes(0);\n    hitDate.setSeconds(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539232647,"creation_date":1539169666,"answer_id":52738846,"question_id":9816459,"body_markdown":"The correct class to use for a date without time of day is `LocalDate`. `LocalDate` is a part of java.time, the modern Java date and time API.\r\n\r\nSo the best thing you can do is if you can modify the `getStartDate` method you are using to return a `LocalDate`:\r\n\r\n\t\tDateTimeFormatter dateFormatter = DateTimeFormatter\r\n\t\t\t\t.ofLocalizedDate(FormatStyle.SHORT)\r\n\t\t\t\t.withLocale(Locale.forLanguageTag(&quot;en-IE&quot;));\r\n\r\n\t\tLocalDate d = eventList.get(0).getStartDate(); // Were now getting a LocalDate using this method\r\n\t\tString dateString = d.format(dateFormatter);\r\n\t\tSystem.out.println(dateString);\r\n\r\nExample output:\r\n\r\n&gt; 21/03/2012\r\n\r\nIf you cannot change the `getStartDate`, you may still be able to add a new method returning the type that we want. However, if you cannot afford to do that just now, convert the old-fashioned `Date` that you get (I assume `java.util.Date`):\r\n\r\n\t\td = eventList.get(0).getStartDate(); // I&#39;m getting the old-fashioned Date using this method\r\n\t\tLocalDate dateWithoutTime = d.toInstant()\r\n\t\t\t\t.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;))\r\n\t\t\t\t.toLocalDate();\r\n\r\nPlease insert the time zone that was assumed for the `Date`. You may use `ZoneId.systemDefault()` for the JVMs time zone setting, only this setting can be changed at any time from other parts of your program or other programs running in the same JVM.\r\n\r\nThe `java.util.Date` class was what we were all using when this question was asked 6 years ago (no, not all; I was, and we were many). java.time came out a couple of years later and has replaced the old `Date`, `Calendar`, `SimpleDateFormat` and `DateFormat`. Recognizing that they were poorly designed. Furthermore, a `Date` despite its name cannot represent a date. Its a point in time. What the other answers do is they round down the time to the start of the day (midnight) in the JVMs default time zone. It doesnt remove the time of day, only sets it, typically to 00:00. Change your default time zone  as I said, even another program running in the same JVM may do that at any time without notice  and everything will break (often).\r\n\r\n**Link:** [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use `java.time`.","title":"Removing time from a Date object?","body":"<p>The correct class to use for a date without time of day is <code>LocalDate</code>. <code>LocalDate</code> is a part of java.time, the modern Java date and time API.</p>\n\n<p>So the best thing you can do is if you can modify the <code>getStartDate</code> method you are using to return a <code>LocalDate</code>:</p>\n\n<pre><code>    DateTimeFormatter dateFormatter = DateTimeFormatter\n            .ofLocalizedDate(FormatStyle.SHORT)\n            .withLocale(Locale.forLanguageTag(\"en-IE\"));\n\n    LocalDate d = eventList.get(0).getStartDate(); // Were now getting a LocalDate using this method\n    String dateString = d.format(dateFormatter);\n    System.out.println(dateString);\n</code></pre>\n\n<p>Example output:</p>\n\n<blockquote>\n  <p>21/03/2012</p>\n</blockquote>\n\n<p>If you cannot change the <code>getStartDate</code>, you may still be able to add a new method returning the type that we want. However, if you cannot afford to do that just now, convert the old-fashioned <code>Date</code> that you get (I assume <code>java.util.Date</code>):</p>\n\n<pre><code>    d = eventList.get(0).getStartDate(); // I'm getting the old-fashioned Date using this method\n    LocalDate dateWithoutTime = d.toInstant()\n            .atZone(ZoneId.of(\"Asia/Kolkata\"))\n            .toLocalDate();\n</code></pre>\n\n<p>Please insert the time zone that was assumed for the <code>Date</code>. You may use <code>ZoneId.systemDefault()</code> for the JVMs time zone setting, only this setting can be changed at any time from other parts of your program or other programs running in the same JVM.</p>\n\n<p>The <code>java.util.Date</code> class was what we were all using when this question was asked 6 years ago (no, not all; I was, and we were many). java.time came out a couple of years later and has replaced the old <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code> and <code>DateFormat</code>. Recognizing that they were poorly designed. Furthermore, a <code>Date</code> despite its name cannot represent a date. Its a point in time. What the other answers do is they round down the time to the start of the day (midnight) in the JVMs default time zone. It doesnt remove the time of day, only sets it, typically to 00:00. Change your default time zone  as I said, even another program running in the same JVM may do that at any time without notice  and everything will break (often).</p>\n\n<p><strong>Link:</strong> <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use <code>java.time</code>.</p>\n"},{"tags":[],"owner":{"account_id":10558379,"reputation":569,"user_id":7778833,"display_name":"Amy Doxy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1559214836,"creation_date":1559214836,"answer_id":56377192,"question_id":9816459,"body_markdown":"If you are using Java 8+, use  **java.time.LocalDate** type instead.\r\n\r\n    LocalDate now = LocalDate.now();\r\n    System.out.println(now.toString());\r\nThe output:\r\n\r\n    2019-05-30\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Removing time from a Date object?","body":"<p>If you are using Java 8+, use  <strong>java.time.LocalDate</strong> type instead.</p>\n\n<pre><code>LocalDate now = LocalDate.now();\nSystem.out.println(now.toString());\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>2019-05-30\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html</a></p>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677851550,"creation_date":1677851550,"answer_id":75627939,"question_id":9816459,"body_markdown":"Use the following and utilize it.\r\n\r\n    String ex_date = &quot;2023-03-28 21:37:44.0&quot;;\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;YYYY-MM-dd&quot;); \r\n    String strDate2= formatter.format(Timestamp.valueOf(ex_date)); ","title":"Removing time from a Date object?","body":"<p>Use the following and utilize it.</p>\n<pre><code>String ex_date = &quot;2023-03-28 21:37:44.0&quot;;\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;YYYY-MM-dd&quot;); \nString strDate2= formatter.format(Timestamp.valueOf(ex_date)); \n</code></pre>\n"}],"owner":{"account_id":1324263,"reputation":2914,"user_id":1269446,"accept_rate":44,"display_name":"Laxman Rana"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276640,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"accepted_answer_id":9816867,"answer_count":20,"score":85,"last_activity_date":1701613132,"creation_date":1332390578,"question_id":9816459,"body_markdown":"I want to remove time from `Date` object.\r\n\r\n    DateFormat df;\r\n    String date;\r\n    df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    d = eventList.get(0).getStartDate(); // I&#39;m getting the date using this method\r\n    date = df.format(d); // Converting date in &quot;dd/MM/yyyy&quot; format\r\n\r\nBut when I&#39;m converting this date (which is in `String` format) it is appending time also.\r\n\r\nI don&#39;t want time at all. What I want is simply &quot;21/03/2012&quot;.\r\n","title":"Removing time from a Date object?","body":"<p>I want to remove time from <code>Date</code> object.</p>\n\n<pre><code>DateFormat df;\nString date;\ndf = new SimpleDateFormat(\"dd/MM/yyyy\");\nd = eventList.get(0).getStartDate(); // I'm getting the date using this method\ndate = df.format(d); // Converting date in \"dd/MM/yyyy\" format\n</code></pre>\n\n<p>But when I'm converting this date (which is in <code>String</code> format) it is appending time also.</p>\n\n<p>I don't want time at all. What I want is simply \"21/03/2012\".</p>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701426989,"post_id":77583942,"comment_id":136776922,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701437524,"post_id":77583942,"comment_id":136778663,"body_markdown":"You wrote (in your question): _My output is like this_ So you posted the output that you are getting and it is not what you want, correct? Now [edit] your question and post the output that you want to get.","body":"You wrote (in your question): <i>My output is like this</i> So you posted the output that you are getting and it is not what you want, correct? Now <a href=\"https://stackoverflow.com/posts/77583942/edit\">edit</a> your question and post the output that you want to get."}],"owner":{"account_id":30038511,"reputation":1,"user_id":23019887,"display_name":"judy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701612764,"creation_date":1701420080,"question_id":77583942,"body_markdown":"\r\n```\r\npublic class IntegerToChars {\r\n    public static void main(String[] args) {\r\n        String[][] zahlenInput = new String[2][11];\r\n        zahlenInput[0][10] = &quot;1&quot;;\r\n        zahlenInput[1][10] = &quot;2&quot;;\r\n\r\n        int[][] convert = new int[2][11];\r\n        for (int x = 0; x &lt; zahlenInput.length; x++) {\r\n            if (zahlenInput[x][zahlenInput[x].length - 1] != null) {\r\n                convert[x][zahlenInput[x].length - 1] = Integer.parseInt(zahlenInput[x][zahlenInput[x].length - 1]);\r\n            }\r\n        }\r\n\r\n        int lastRowIndex = zahlenInput.length - 1;\r\n        int lastRowValue = convert[lastRowIndex][convert[lastRowIndex].length - 1];\r\n        for (int i = zahlenInput.length - 1; i &gt;= 0; i--) {\r\n            for (int j = 0; j &lt; zahlenInput.length; j++) {\r\n                //System.out.print(&quot;x &quot;);\r\n                int[] count = new int[]{0, 0};\r\n                if (zahlenInput[j][i] != null) {\r\n                    for (int x = 0; x &lt; zahlenInput[j][i].length(); x++) {\r\n                        if (zahlenInput[j][i].charAt(x) == &#39;x&#39;)\r\n                                count[x]++;\r\n                    }\r\n                }\r\n                if (count[j] &lt;= lastRowValue) System.out.print(&quot;x &quot;);\r\n                else System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println(zahlenInput[0][10] + &quot; &quot; + zahlenInput[1][10]);\r\n\r\n    }\r\n}\r\n`\r\n```\r\n\r\n\r\n\r\n\r\nI could not figure out how to set up the condition in the last part, so that the program understand that: Print &quot;x&quot; in each column, then turn to next row (from bottom to above), when numbers of &quot;x&quot; in each column equal numeric value in last row then stop and only printing space. \r\n\r\nMy output is like this: \r\n\r\n    row 1: x x \r\n    row 2: x x \r\n    row 3: 1 2\r\n\r\nI want it to be: (- means space) \r\nrow 1: - x \r\nrow 2: x x \r\nrow 3: 1 2 ","title":"How can I adjust the condition to let the program understand my command?","body":"<pre><code>public class IntegerToChars {\n    public static void main(String[] args) {\n        String[][] zahlenInput = new String[2][11];\n        zahlenInput[0][10] = &quot;1&quot;;\n        zahlenInput[1][10] = &quot;2&quot;;\n\n        int[][] convert = new int[2][11];\n        for (int x = 0; x &lt; zahlenInput.length; x++) {\n            if (zahlenInput[x][zahlenInput[x].length - 1] != null) {\n                convert[x][zahlenInput[x].length - 1] = Integer.parseInt(zahlenInput[x][zahlenInput[x].length - 1]);\n            }\n        }\n\n        int lastRowIndex = zahlenInput.length - 1;\n        int lastRowValue = convert[lastRowIndex][convert[lastRowIndex].length - 1];\n        for (int i = zahlenInput.length - 1; i &gt;= 0; i--) {\n            for (int j = 0; j &lt; zahlenInput.length; j++) {\n                //System.out.print(&quot;x &quot;);\n                int[] count = new int[]{0, 0};\n                if (zahlenInput[j][i] != null) {\n                    for (int x = 0; x &lt; zahlenInput[j][i].length(); x++) {\n                        if (zahlenInput[j][i].charAt(x) == 'x')\n                                count[x]++;\n                    }\n                }\n                if (count[j] &lt;= lastRowValue) System.out.print(&quot;x &quot;);\n                else System.out.print(&quot; &quot;);\n            }\n            System.out.println();\n        }\n        System.out.println(zahlenInput[0][10] + &quot; &quot; + zahlenInput[1][10]);\n\n    }\n}\n`\n</code></pre>\n<p>I could not figure out how to set up the condition in the last part, so that the program understand that: Print &quot;x&quot; in each column, then turn to next row (from bottom to above), when numbers of &quot;x&quot; in each column equal numeric value in last row then stop and only printing space.</p>\n<p>My output is like this:</p>\n<pre><code>row 1: x x \nrow 2: x x \nrow 3: 1 2\n</code></pre>\n<p>I want it to be: (- means space)\nrow 1: - x\nrow 2: x x\nrow 3: 1 2</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":13116507,"reputation":9,"user_id":9475502,"display_name":"sai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701612707,"creation_date":1701612707,"question_id":77594644,"body_markdown":"I am working on a project and moving it from my old AS to the latest AS Hedgehog but it turned out to be hard for me. After opening my project from file, AS just showed make module under Build section and the Run button went grey under Run section. Please help me with this. Thanx.","title":"Android Studio not show build project or run button","body":"<p>I am working on a project and moving it from my old AS to the latest AS Hedgehog but it turned out to be hard for me. After opening my project from file, AS just showed make module under Build section and the Run button went grey under Run section. Please help me with this. Thanx.</p>\n"},{"tags":["java","android","automation","appium"],"answers":[{"tags":[],"owner":{"account_id":3422947,"reputation":1054,"user_id":2869834,"accept_rate":15,"display_name":"Abhishek Swain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415617421,"creation_date":1415616925,"answer_id":26842143,"question_id":26839118,"body_markdown":"Possible Causes:\r\n\r\n1.\r\nIt seems the issue is with one more missing capability or improper android version:\r\n\r\n    capabilities.setCapability(&quot;platformVersion&quot;, &quot;4.4&quot;);\r\n\r\nAs you are not using &#39;Selendroid&#39; as automation mode, so the emulator or device you are using for testing should be of Android 4.2+ .\r\n\r\nPlease make this sure and mention the above desired capability in the list.\r\n\r\n2.\r\nInstead of using\r\n\r\n    capabilities.setCapability(&quot;appActivity&quot;, &quot;com.wordpad.Main&quot;);\r\n\r\ntry with\r\n\r\n    capabilities.setCapability(&quot;appActivity&quot;, &quot;.Main&quot;);","title":"Appium: A new session could not be created","body":"<p>Possible Causes:</p>\n\n<p>1.\nIt seems the issue is with one more missing capability or improper android version:</p>\n\n<pre><code>capabilities.setCapability(\"platformVersion\", \"4.4\");\n</code></pre>\n\n<p>As you are not using 'Selendroid' as automation mode, so the emulator or device you are using for testing should be of Android 4.2+ .</p>\n\n<p>Please make this sure and mention the above desired capability in the list.</p>\n\n<p>2.\nInstead of using</p>\n\n<pre><code>capabilities.setCapability(\"appActivity\", \"com.wordpad.Main\");\n</code></pre>\n\n<p>try with</p>\n\n<pre><code>capabilities.setCapability(\"appActivity\", \".Main\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440684190,"creation_date":1427274124,"answer_id":29251331,"question_id":26839118,"body_markdown":"I had similar problem. My error message was also \r\n\r\n&gt; &quot;Activity used to start app doesn&#39;t exist or cannot be launched! Make\r\n&gt; sure it exists and is a launchable activity&quot;.\r\n\r\nIn my case I had different main activity set in two places.\r\n\r\nFirst one - Appium GUI:\r\n\r\n    Appium --&gt; Android Settings --&gt; Main Activity, Package and App Path\r\n\r\nSecond one - in the code:\r\n\r\n    capabilities.setCapability(&quot;appPackage&quot;, &quot;com.company.AppName&quot;);\r\n    capabilities.setCapability(&quot;appActivity&quot;, &quot;com.company.AppName.AppMainActivity&quot;);\r\n\r\nThose two above have to be consistent - the same package and activity.","title":"Appium: A new session could not be created","body":"<p>I had similar problem. My error message was also </p>\n\n<blockquote>\n  <p>\"Activity used to start app doesn't exist or cannot be launched! Make\n  sure it exists and is a launchable activity\".</p>\n</blockquote>\n\n<p>In my case I had different main activity set in two places.</p>\n\n<p>First one - Appium GUI:</p>\n\n<pre><code>Appium --&gt; Android Settings --&gt; Main Activity, Package and App Path\n</code></pre>\n\n<p>Second one - in the code:</p>\n\n<pre><code>capabilities.setCapability(\"appPackage\", \"com.company.AppName\");\ncapabilities.setCapability(\"appActivity\", \"com.company.AppName.AppMainActivity\");\n</code></pre>\n\n<p>Those two above have to be consistent - the same package and activity.</p>\n"},{"tags":[],"owner":{"account_id":6960045,"reputation":1,"user_id":5339828,"display_name":"user6136"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493039905,"creation_date":1493039905,"answer_id":43589205,"question_id":26839118,"body_markdown":"I had the same error, and it turned out to be because I&#39;d changed my project&#39;s directory name, so the path to the apk was wrong. A silly mistake for sure, but probably worth checking just in case.","title":"Appium: A new session could not be created","body":"<p>I had the same error, and it turned out to be because I'd changed my project's directory name, so the path to the apk was wrong. A silly mistake for sure, but probably worth checking just in case.</p>\n"}],"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12865,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1701612496,"creation_date":1415606010,"question_id":26839118,"body_markdown":"Before posting this question I went to these questions on Stackoverflow and other forums:\r\n\r\n 1. https://stackoverflow.com/questions/22248328/a-new-session-could-not-be-created-original-error-instruments-crashed-on-star\r\n 2. https://stackoverflow.com/questions/24626529/appium-error-a-new-session-could-not-be-created-original-error-did-not-get\r\n 3. https://github.com/appium/appium/issues/2981\r\n&lt;br&gt;and did few changes in my code below:&lt;p&gt;\r\nCode:\r\n\r\n        package test.appium;\r\n    \r\n        import io.appium.java_client.AppiumDriver;\r\n    \r\n        import java.io.File;\r\n        import java.net.MalformedURLException;\r\n        import java.net.URL;\r\n        import java.util.concurrent.TimeUnit;\r\n        import org.openqa.selenium.WebDriver;\r\n        import org.openqa.selenium.remote.CapabilityType;\r\n        import org.openqa.selenium.remote.DesiredCapabilities;\r\n        import org.testng.annotations.Test;\r\n       \r\n        public class WordPad {\r\n       \tWebDriver dr;\r\n    \t\r\n    \t@Test\r\n    \tpublic void testApp() throws MalformedURLException, InterruptedException {\r\n    \t\tString apkpath = &quot;D:\\\\apkdump\\\\blackcarbon.wordpad.apk&quot;;\r\n    \t\tFile app = new File (apkpath);\r\n    \t\tDesiredCapabilities capabilities= new DesiredCapabilities();\r\n    \t\tcapabilities.setCapability(CapabilityType.BROWSER_NAME,&quot;&quot;);\r\n    \t\tcapabilities.setCapability(&quot;deviceName&quot;,&quot;TestOneAdb1&quot;);\r\n    \t\tcapabilities.setCapability(&quot;appium-version&quot;, &quot;1.2.4.1&quot;);\r\n    \t\tcapabilities.setCapability(&quot;platformName&quot;,&quot;Android&quot;);\r\n    \t\tcapabilities.setCapability(&quot;app&quot;,app.getAbsolutePath());\r\n    \t\tcapabilities.setCapability(&quot;appPackage&quot;, &quot;com.wordpad&quot;);\r\n    \t\tcapabilities.setCapability(&quot;appActivity&quot;, &quot;com.wordpad.Main&quot;);\r\n    \t\tdr = new AppiumDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;),capabilities);    \t\t\t\t\r\n    \t\tdr.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n    \t\tdr.quit(); \t\t\r\n      \t}   \r\n        }\r\nbut I am still getting the error:\r\n\r\n    &gt; info: [debug] UiAutomator shut down normally\r\n\r\n    &gt; error: Failed to start an Appium session, err was: Error: Activity used to start app doesn&#39;t exist or cannot be launched! Make sure it exists and is a launchable activity\r\n\r\n    &gt; info: [debug] Cleaning up android objects\r\n\r\n    &gt; info: [debug] Cleaning up appium session\r\n\r\n    &gt; info: [debug] Error: Activity used to start app doesn&#39;t exist or cannot be launched! Make sure it exists and is a launchable activity\r\n\r\n    &gt;     at null.&lt;anonymous&gt; (D:\\MobileTesting\\Appium\\node_modules\\appium\\node_modules\\appium-adb\\lib\\adb.js:1143:21)\r\n\r\n    &gt;     at null.&lt;anonymous&gt; (D:\\MobileTesting\\Appium\\node_modules\\appium\\node_modules\\appium-adb\\lib\\adb.js:172:9)\r\n\r\n    &gt;     at ChildProcess.exithandler (child_process.js:635:7)\r\n\r\n    &gt;     at ChildProcess.EventEmitter.emit (events.js:98:17)\r\n\r\n    &gt;     at maybeClose (child_process.js:743:16)\r\n\r\n    &gt;     at Process.ChildProcess._handle.onexit (child_process.js:810:5)\r\n\r\n    &gt; info: [debug] Responding to client with error: {&quot;status&quot;:33,&quot;value&quot;:{&quot;message&quot;:&quot;A new session could not be created. (Original error: Activity used to start app doesn&#39;t exist or cannot be launched! Make sure it exists and is a launchable activity)&quot;,&quot;origValue&quot;:&quot;Activity used to start app doesn&#39;t exist or cannot be launched! Make sure it exists and is a launchable activity&quot;},&quot;sessionId&quot;:null}\r\n\r\n    &gt; info: [37m&lt;-- POST /wd/hub/session [39m[31m500[39m[90m 51290.254 ms - 346[39m [90m[39m\r\nWhat I tried:\r\n1. Install app manually on emulator and check if its working: It was working\r\n2. Once the app is installed via code:  I can play with manually on emulator, it works perfectly fine. \r\n3. Downgrade `Appium` version from latest `1.1.0` tried but same error\r\n4. Specify `Appium`version capabilities in code, tried but still same error.\r\n\r\nLet me know what I am missing, how can I launch app after installation?\r\n","title":"Appium: A new session could not be created","body":"<p>Before posting this question I went to these questions on Stackoverflow and other forums:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/22248328/a-new-session-could-not-be-created-original-error-instruments-crashed-on-star\">A new session could not be created. (Original error: Instruments crashed on startup)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24626529/appium-error-a-new-session-could-not-be-created-original-error-did-not-get\">Appium Error : A new session could not be created. (Original error: Did not get session redirect from Chromedriver)</a></li>\n<li><p><a href=\"https://github.com/appium/appium/issues/2981\" rel=\"nofollow noreferrer\">https://github.com/appium/appium/issues/2981</a>\n<br>and did few changes in my code below:<p>\nCode:</p>\n\n<pre><code>package test.appium;\n\nimport io.appium.java_client.AppiumDriver;\n\nimport java.io.File;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.remote.CapabilityType;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.annotations.Test;\n\npublic class WordPad {\nWebDriver dr;\n\n@Test\npublic void testApp() throws MalformedURLException, InterruptedException {\n    String apkpath = \"D:\\\\apkdump\\\\blackcarbon.wordpad.apk\";\n    File app = new File (apkpath);\n    DesiredCapabilities capabilities= new DesiredCapabilities();\n    capabilities.setCapability(CapabilityType.BROWSER_NAME,\"\");\n    capabilities.setCapability(\"deviceName\",\"TestOneAdb1\");\n    capabilities.setCapability(\"appium-version\", \"1.2.4.1\");\n    capabilities.setCapability(\"platformName\",\"Android\");\n    capabilities.setCapability(\"app\",app.getAbsolutePath());\n    capabilities.setCapability(\"appPackage\", \"com.wordpad\");\n    capabilities.setCapability(\"appActivity\", \"com.wordpad.Main\");\n    dr = new AppiumDriver(new URL(\"http://127.0.0.1:4723/wd/hub\"),capabilities);                    \n    dr.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n    dr.quit();      \n}   \n}\n</code></pre>\n\n<p>but I am still getting the error:</p>\n\n<blockquote>\n  <p>info: [debug] UiAutomator shut down normally</p>\n  \n  <p>error: Failed to start an Appium session, err was: Error: Activity used to start app doesn't exist or cannot be launched! Make sure it exists and is a launchable activity</p>\n  \n  <p>info: [debug] Cleaning up android objects</p>\n  \n  <p>info: [debug] Cleaning up appium session</p>\n  \n  <p>info: [debug] Error: Activity used to start app doesn't exist or cannot be launched! Make sure it exists and is a launchable activity</p>\n\n<pre><code>at null.&lt;anonymous&gt; (D:\\MobileTesting\\Appium\\node_modules\\appium\\node_modules\\appium-adb\\lib\\adb.js:1143:21)\n\nat null.&lt;anonymous&gt; (D:\\MobileTesting\\Appium\\node_modules\\appium\\node_modules\\appium-adb\\lib\\adb.js:172:9)\n\nat ChildProcess.exithandler (child_process.js:635:7)\n\nat ChildProcess.EventEmitter.emit (events.js:98:17)\n\nat maybeClose (child_process.js:743:16)\n\nat Process.ChildProcess._handle.onexit (child_process.js:810:5)\n</code></pre>\n  \n  <p>info: [debug] Responding to client with error: {\"status\":33,\"value\":{\"message\":\"A new session could not be created. (Original error: Activity used to start app doesn't exist or cannot be launched! Make sure it exists and is a launchable activity)\",\"origValue\":\"Activity used to start app doesn't exist or cannot be launched! Make sure it exists and is a launchable activity\"},\"sessionId\":null}</p>\n  \n  <p>info: [37m&lt;-- POST /wd/hub/session [39m[31m500[39m[90m 51290.254 ms - 346[39m [90m[39m\n  What I tried:</p>\n  \n  <ol>\n  <li>Install app manually on emulator and check if its working: It was working</li>\n  <li>Once the app is installed via code:  I can play with manually on emulator, it works perfectly fine. </li>\n  <li>Downgrade <code>Appium</code> version from latest <code>1.1.0</code> tried but same error</li>\n  <li>Specify <code>Appium</code>version capabilities in code, tried but still same error.</li>\n  </ol>\n</blockquote></li>\n</ol>\n\n<p>Let me know what I am missing, how can I launch app after installation?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9149298,"reputation":837,"user_id":6804412,"accept_rate":54,"display_name":"Masha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498209283,"creation_date":1498209283,"answer_id":44717600,"question_id":44703431,"body_markdown":"Issue was solved with this:\r\n\r\n    byte[] b = new byte[buffer.remaining()];\r\n\r\nExamined again the return of the program.\r\n\r\nThanks everyone.","title":"Java kernel32.ReadFile error (ByteBuffer cannot be converted to byte[])","body":"<p>Issue was solved with this:</p>\n\n<pre><code>byte[] b = new byte[buffer.remaining()];\n</code></pre>\n\n<p>Examined again the return of the program.</p>\n\n<p>Thanks everyone.</p>\n"},{"tags":[],"owner":{"account_id":6901499,"reputation":518,"user_id":5300967,"display_name":"Vladimir Vaschenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701612128,"creation_date":1701612128,"answer_id":77594617,"question_id":44703431,"body_markdown":"You have to use buffer.array() instead of buffer in kernel32.ReadFile(...) call as second parameter. So it will look as\r\n\r\n    kernel32.ReadFile(pipeHandle, buffer.array(), ...)","title":"Java kernel32.ReadFile error (ByteBuffer cannot be converted to byte[])","body":"<p>You have to use buffer.array() instead of buffer in kernel32.ReadFile(...) call as second parameter. So it will look as</p>\n<pre><code>kernel32.ReadFile(pipeHandle, buffer.array(), ...)\n</code></pre>\n"}],"owner":{"account_id":9149298,"reputation":837,"user_id":6804412,"accept_rate":54,"display_name":"Masha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1701612128,"creation_date":1498144667,"question_id":44703431,"body_markdown":"I am trying to read a NamedPipe in Java with the following code:\r\n\r\n    ByteBuffer buffer = ByteBuffer.allocate(4*1024);\r\n    IntByReference bytesRead = new IntByReference(buffer.capacity()); \r\n\tint lastError = 0;\r\n    if (kernel32.PeekNamedPipe(pipeHandle, buffer, buffer.capacity(), bytesRead, null, null))\r\n\t\t\twhile ( !(kernel32.ReadFile(pipeHandle, /*(!)ERROR HERE==&gt;*/buffer, buffer.capacity(), bytesRead, overlapped)) || (lastError=kernel32.GetLastError()) == Kernel32.ERROR_MORE_DATA){\r\n                    if (lastError == Kernel32.ERROR_PIPE_NOT_CONNECTED || overlapped.Internal.intValue() != WinNT.ERROR_IO_PENDING)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\nBut it fails with the following error: `incompatible types: ByteBuffer cannot be converted to byte[]`. I tried to replace `buffer` with `b` from `byte[] b = new byte[buffer.remaining()];` but the program started to work wrong. Any ideas how the error may be fixed would be welcome. Thank you.","title":"Java kernel32.ReadFile error (ByteBuffer cannot be converted to byte[])","body":"<p>I am trying to read a NamedPipe in Java with the following code:</p>\n\n<pre><code>ByteBuffer buffer = ByteBuffer.allocate(4*1024);\nIntByReference bytesRead = new IntByReference(buffer.capacity()); \nint lastError = 0;\nif (kernel32.PeekNamedPipe(pipeHandle, buffer, buffer.capacity(), bytesRead, null, null))\n        while ( !(kernel32.ReadFile(pipeHandle, /*(!)ERROR HERE==&gt;*/buffer, buffer.capacity(), bytesRead, overlapped)) || (lastError=kernel32.GetLastError()) == Kernel32.ERROR_MORE_DATA){\n                if (lastError == Kernel32.ERROR_PIPE_NOT_CONNECTED || overlapped.Internal.intValue() != WinNT.ERROR_IO_PENDING)\n                        break;\n                }\n</code></pre>\n\n<p>But it fails with the following error: <code>incompatible types: ByteBuffer cannot be converted to byte[]</code>. I tried to replace <code>buffer</code> with <code>b</code> from <code>byte[] b = new byte[buffer.remaining()];</code> but the program started to work wrong. Any ideas how the error may be fixed would be welcome. Thank you.</p>\n"},{"tags":["java","scala","path","jvm","akka-stream"],"comments":[{"owner":{"account_id":5186541,"reputation":300,"user_id":4150767,"display_name":"Volty De Qua"},"score":1,"creation_date":1701615203,"post_id":77594613,"comment_id":136795194,"body_markdown":"Something does not add up. Paths.get returns a Path, or throws an exception. Edit and paste the compiler output that states &quot;java.nio.file.Path | Null&quot;. @others please confirm so that, if so, we can flag appropriately this question.","body":"Something does not add up. Paths.get returns a Path, or throws an exception. Edit and paste the compiler output that states &quot;java.nio.file.Path | Null&quot;. @others please confirm so that, if so, we can flag appropriately this question."},{"owner":{"account_id":29221396,"reputation":1,"user_id":22387074,"display_name":"T-Braico"},"score":0,"creation_date":1701620522,"post_id":77594613,"comment_id":136795807,"body_markdown":"`Found: java.nio.file.Path | Null, Required: java.nio.file.Path` I&#39;m using openjdk version 1.8.0_392 and Scala 3.3.1 if that makes a difference","body":"<code>Found: java.nio.file.Path | Null, Required: java.nio.file.Path</code> I&#39;m using openjdk version 1.8.0_392 and Scala 3.3.1 if that makes a difference"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1701623822,"post_id":77594613,"comment_id":136796212,"body_markdown":"You enabled the explicit nulls feature. Which is why that is happening. Disable that feature, it is experimental and probably will be abandoned altogether in the future.","body":"You enabled the explicit nulls feature. Which is why that is happening. Disable that feature, it is experimental and probably will be abandoned altogether in the future."},{"owner":{"account_id":5186541,"reputation":300,"user_id":4150767,"display_name":"Volty De Qua"},"score":0,"creation_date":1701624632,"post_id":77594613,"comment_id":136796311,"body_markdown":"Or, if for some reason you cannot follow the Miguel&#39;s advice, implement a function (Path | Null) =&gt; Path, or, since it never returns a null, just typecast it with Paths.get(&quot;factorials.txt&quot;).asInstanceOf[Path]","body":"Or, if for some reason you cannot follow the Miguel&#39;s advice, implement a function (Path | Null) =&gt; Path, or, since it never returns a null, just typecast it with Paths.get(&quot;factorials.txt&quot;).asInstanceOf[Path]"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1701630192,"post_id":77594613,"comment_id":136796914,"body_markdown":"Well rather than cast there is a method to go for `A | Null` to `A`, `.nn` I think, not sure, never used that failed attempt of broken and useless feature.","body":"Well rather than cast there is a method to go for <code>A | Null</code> to <code>A</code>, <code>.nn</code> I think, not sure, never used that failed attempt of broken and useless feature."},{"owner":{"account_id":29221396,"reputation":1,"user_id":22387074,"display_name":"T-Braico"},"score":0,"creation_date":1701634491,"post_id":77594613,"comment_id":136797361,"body_markdown":"That solved it. Apparently [this g8 template](https://github.com/DevInsideYou/scala-seed.g8) automatically configures Scalac to use Implicit Null","body":"That solved it. Apparently <a href=\"https://github.com/DevInsideYou/scala-seed.g8\" rel=\"nofollow noreferrer\">this g8 template</a> automatically configures Scalac to use Implicit Null"},{"owner":{"account_id":5186541,"reputation":300,"user_id":4150767,"display_name":"Volty De Qua"},"score":0,"creation_date":1701637214,"post_id":77594613,"comment_id":136797614,"body_markdown":"@Miguel Yes, thanks. I saw it but didn&#39;t realize it was in the libraries. Anyway the difference is that, in case it can be and is null, typecasting just returns null as String, while .nn fires exception : tried to cast away nullability, but value is null&quot;. And of course the typecasted will fire an exception as soon as an action on no-null will be invoked.","body":"@Miguel Yes, thanks. I saw it but didn&#39;t realize it was in the libraries. Anyway the difference is that, in case it can be and is null, typecasting just returns null as String, while .nn fires exception : tried to cast away nullability, but value is null&quot;. And of course the typecasted will fire an exception as soon as an action on no-null will be invoked."},{"owner":{"account_id":5186541,"reputation":300,"user_id":4150767,"display_name":"Volty De Qua"},"score":0,"creation_date":1701637761,"post_id":77594613,"comment_id":136797664,"body_markdown":"And I agree:  Forcing the applying of Option(T | Null) could have had some sense, while this is less than useless.","body":"And I agree:  Forcing the applying of Option(T | Null) could have had some sense, while this is less than useless."}],"owner":{"account_id":29221396,"reputation":1,"user_id":22387074,"display_name":"T-Braico"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701612072,"creation_date":1701612072,"question_id":77594613,"body_markdown":"I am going through the quickstart guide in the Akka Streams docs for Scala and in one of the examples they are using Akka Streams to write to a file.\r\n\r\n```\r\nimport java.nio.file.Paths\r\n\r\nimport scala.concurrent.*\r\n\r\nimport akka.*\r\nimport akka.actor.ActorSystem\r\nimport akka.stream.*\r\nimport akka.stream.scaladsl.*\r\nimport akka.util.ByteString\r\nimport java.nio.file.Paths\r\n\r\nobject StreamsQuickstart:\r\n  def main(args: Array[String]): Unit =\r\n    implicit val system: ActorSystem = ActorSystem(&quot;Quickstart&quot;)\r\n    val source: Source[Int, NotUsed] = Source(1 to 100)\r\n\r\n    // val done: Future[Done] = source.runForeach(println)\r\n\r\n    val factorials = source.scan(BigInt(1))((acc, next) =&gt; acc * next)\r\n    val result: Future[IOResult] =\r\n      factorials.map(num =&gt; ByteString(s&quot;$num\\n&quot;)).runWith(FileIO.toPath(Paths.get(&quot;factorials.txt&quot;)))\r\n```\r\n\r\nThis is the code from the Akka docs, but it won&#39;t compile since `Paths.get(&quot;factorials.txt&quot;)` returns a `java.nio.file.Path | Null` but `FileIO.toPath` only accepts a `Path` object as an argument. How can I ensure that a `Path` is returned from `Paths.get`?\r\n\r\nI looked through the docs for `Paths` but I didn&#39;t see anything about ensuring that a non Null object is returned. Being from the Akka docs, the least I would expect is that code like this would compile.","title":"How to ensure valid path object is returned in Java","body":"<p>I am going through the quickstart guide in the Akka Streams docs for Scala and in one of the examples they are using Akka Streams to write to a file.</p>\n<pre><code>import java.nio.file.Paths\n\nimport scala.concurrent.*\n\nimport akka.*\nimport akka.actor.ActorSystem\nimport akka.stream.*\nimport akka.stream.scaladsl.*\nimport akka.util.ByteString\nimport java.nio.file.Paths\n\nobject StreamsQuickstart:\n  def main(args: Array[String]): Unit =\n    implicit val system: ActorSystem = ActorSystem(&quot;Quickstart&quot;)\n    val source: Source[Int, NotUsed] = Source(1 to 100)\n\n    // val done: Future[Done] = source.runForeach(println)\n\n    val factorials = source.scan(BigInt(1))((acc, next) =&gt; acc * next)\n    val result: Future[IOResult] =\n      factorials.map(num =&gt; ByteString(s&quot;$num\\n&quot;)).runWith(FileIO.toPath(Paths.get(&quot;factorials.txt&quot;)))\n</code></pre>\n<p>This is the code from the Akka docs, but it won't compile since <code>Paths.get(&quot;factorials.txt&quot;)</code> returns a <code>java.nio.file.Path | Null</code> but <code>FileIO.toPath</code> only accepts a <code>Path</code> object as an argument. How can I ensure that a <code>Path</code> is returned from <code>Paths.get</code>?</p>\n<p>I looked through the docs for <code>Paths</code> but I didn't see anything about ensuring that a non Null object is returned. Being from the Akka docs, the least I would expect is that code like this would compile.</p>\n"},{"tags":["java","macos","osx-mavericks"],"comments":[{"owner":{"account_id":9780,"reputation":25221,"user_id":18196,"accept_rate":95,"display_name":"Frank V"},"score":2,"creation_date":1396540328,"post_id":22842743,"comment_id":34844235,"body_markdown":"Duplicate of: http://superuser.com/questions/240100/setting-java-home-environment-variable","body":"Duplicate of: <a href=\"http://superuser.com/questions/240100/setting-java-home-environment-variable\" title=\"setting java home environment variable\">superuser.com/questions/240100/&hellip;</a>"},{"owner":{"account_id":49770,"reputation":16863,"user_id":148335,"accept_rate":58,"display_name":"Pascal"},"score":0,"creation_date":1453931722,"post_id":22842743,"comment_id":57821872,"body_markdown":"Possible duplicate of [What should I set JAVA\\_HOME to on OSX](http://stackoverflow.com/questions/1348842/what-should-i-set-java-home-to-on-osx)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1348842/what-should-i-set-java-home-to-on-osx\">What should I set JAVA_HOME to on OSX</a>"},{"owner":{"account_id":7634212,"reputation":2824,"user_id":5788247,"display_name":"Shomu"},"score":0,"creation_date":1575355602,"post_id":22842743,"comment_id":104528023,"body_markdown":"briefly explain:  https://stackoverflow.com/a/59151321/5788247","body":"briefly explain:  <a href=\"https://stackoverflow.com/a/59151321/5788247\">stackoverflow.com/a/59151321/5788247</a>"},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":1,"creation_date":1642790424,"post_id":22842743,"comment_id":125174319,"body_markdown":"After installing via `brew` on an M1 Mac, mine was located `/opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home`. Obviously change for your version but the typical methods of finding the path proved difficult so I hope this helps others.","body":"After installing via <code>brew</code> on an M1 Mac, mine was located <code>&#47;opt&#47;homebrew&#47;Cellar&#47;openjdk&#47;17.0.1_1&#47;libexec&#47;openjdk.jdk&#47;Co&zwnj;&#8203;ntents&#47;Home</code>. Obviously change for your version but the typical methods of finding the path proved difficult so I hope this helps others."},{"owner":{"account_id":2595152,"reputation":55,"user_id":2249019,"accept_rate":86,"display_name":"Harish Aravind"},"score":0,"creation_date":1662800979,"post_id":22842743,"comment_id":130093504,"body_markdown":"Don&#39;t forget to restart the terminal in mac after setting any environment variable, else you keep seeing the unset values","body":"Don&#39;t forget to restart the terminal in mac after setting any environment variable, else you keep seeing the unset values"}],"answers":[{"tags":[],"owner":{"account_id":7096,"reputation":16899,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"down_vote_count":6,"up_vote_count":573,"is_accepted":true,"score":567,"last_activity_date":1637773747,"creation_date":1396540366,"answer_id":22842806,"question_id":22842743,"body_markdown":"If you&#39;re using bash, all you have to do is:\r\n\r\n    echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile\r\n\r\nIf you&#39;re using zsh (which probably means you&#39;re running macOS Catalina or newer), then it should instead be:\r\n\r\n    echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.zshrc\r\n\r\nIn either case, restart your shell.\r\n\r\nIf you have multiple JDK versions installed and you want it to be a specific one, you can use the `-v` flag to `java_home` like so:\r\n\r\n    echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home -v 1.7)&quot; &gt;&gt; ~/.bash_profile\r\n","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>If you're using bash, all you have to do is:</p>\n<pre><code>echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile\n</code></pre>\n<p>If you're using zsh (which probably means you're running macOS Catalina or newer), then it should instead be:</p>\n<pre><code>echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.zshrc\n</code></pre>\n<p>In either case, restart your shell.</p>\n<p>If you have multiple JDK versions installed and you want it to be a specific one, you can use the <code>-v</code> flag to <code>java_home</code> like so:</p>\n<pre><code>echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home -v 1.7)&quot; &gt;&gt; ~/.bash_profile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":154583,"reputation":1116,"user_id":370611,"accept_rate":62,"display_name":"JohnL4"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1678364822,"creation_date":1413761673,"answer_id":26456579,"question_id":22842743,"body_markdown":"I did it by putting\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home`\r\n\r\n(backtics) in my .bashrc.  See my comment on Adrian&#39;s answer.\r\n\r\nAdditionally update PATH variable as well.\r\n\r\n    PATH=$PATH:$JAVA_HOME/bin","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>I did it by putting</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home`\n</code></pre>\n<p>(backtics) in my .bashrc.  See my comment on Adrian's answer.</p>\n<p>Additionally update PATH variable as well.</p>\n<pre><code>PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6137145,"reputation":51,"user_id":4785593,"display_name":"Senthil Acs"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437717458,"creation_date":1437717458,"answer_id":31603196,"question_id":22842743,"body_markdown":"I got it working by adding to ~/.profile. Somehow after updating to El Capitan beta, it didnt work even though JAVA_HOME was defined in .bash_profile.\r\n\r\nIf there are any El Capitan beta users, try adding to .profile","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>I got it working by adding to ~/.profile. Somehow after updating to El Capitan beta, it didnt work even though JAVA_HOME was defined in .bash_profile.</p>\n\n<p>If there are any El Capitan beta users, try adding to .profile</p>\n"},{"tags":[],"owner":{"account_id":2411246,"reputation":4423,"user_id":2106260,"accept_rate":25,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1691382327,"creation_date":1478971370,"answer_id":40565559,"question_id":22842743,"body_markdown":"In Mac OSX 10.5 or later, Apple recommends to set the `$JAVA_HOME variable to /usr/libexec/java_home`, just export `$JAVA_HOME` `in file ~/.bash_profile` or `~/.profile`.\r\n\r\nOpen the terminal and run the below command.\r\n\r\n    $ vim .bash_profile\r\n    \r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\nSave and exit from Vim editor, then run the `source` command on `.bash_profile`\r\n\r\n    $ source .bash_profile\r\n\r\n    $ echo $JAVA_HOME\r\n\r\n    /Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>In Mac OSX 10.5 or later, Apple recommends to set the <code>$JAVA_HOME variable to /usr/libexec/java_home</code>, just export <code>$JAVA_HOME</code> <code>in file ~/.bash_profile</code> or <code>~/.profile</code>.</p>\n<p>Open the terminal and run the below command.</p>\n<pre><code>$ vim .bash_profile\n\nexport JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n<p>Save and exit from Vim editor, then run the <code>source</code> command on <code>.bash_profile</code></p>\n<pre><code>$ source .bash_profile\n\n$ echo $JAVA_HOME\n\n/Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7634212,"reputation":2824,"user_id":5788247,"display_name":"Shomu"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1582543479,"creation_date":1575354634,"answer_id":59151321,"question_id":22842743,"body_markdown":"# Set **$JAVA_HOME** environment variable on latest or older Mac OSX. #\n\n**Download &amp; Install install [JDK][1]**\n\n1. First, install JDK\n2. Open terminal check java version\n\n&gt;   `$ java -version`\n\n\n**Set JAVA_HOME environment variable**\n\n1. Open **.zprofile** file \n\n&gt; `$ open -t .zprofile `\n\n   Or create **. zprofile** file \n\n&gt; $ `open -t .zprofile`\n\n2. write in .zprofile  \n\n&gt; `export JAVA_HOME=$(/usr/libexec/java_home)`\n\n \n**Save .zprofile** and close the bash file &amp; then write in the terminal for work **perfectly**.\n\n    $ source .zprofile\n\nSetup test in terminal\n\n    $ echo $JAVA_HOME  \n    /Library/Java/JavaVirtualMachines/jdk-13.0.1.jdk/Contents/Home\n\n\n  [1]: https://www.oracle.com/technetwork/java/javase/downloads/index.html","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<h1>Set <strong>$JAVA_HOME</strong> environment variable on latest or older Mac OSX.</h1>\n<p><strong>Download &amp; Install install <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"noreferrer\">JDK</a></strong></p>\n<ol>\n<li>First, install JDK</li>\n<li>Open terminal check java version</li>\n</ol>\n<blockquote>\n<p><code>$ java -version</code></p>\n</blockquote>\n<p><strong>Set JAVA_HOME environment variable</strong></p>\n<ol>\n<li>Open <strong>.zprofile</strong> file</li>\n</ol>\n<blockquote>\n<p><code>$ open -t .zprofile </code></p>\n</blockquote>\n<p>Or create <strong>. zprofile</strong> file</p>\n<blockquote>\n<p>$ <code>open -t .zprofile</code></p>\n</blockquote>\n<ol start=\"2\">\n<li>write in .zprofile</li>\n</ol>\n<blockquote>\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n</blockquote>\n<p><strong>Save .zprofile</strong> and close the bash file &amp; then write in the terminal for work <strong>perfectly</strong>.</p>\n<pre><code>$ source .zprofile\n</code></pre>\n<p>Setup test in terminal</p>\n<pre><code>$ echo $JAVA_HOME  \n/Library/Java/JavaVirtualMachines/jdk-13.0.1.jdk/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7827419,"reputation":8252,"user_id":5918539,"display_name":"Jerry Chong"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1586856197,"creation_date":1586856197,"answer_id":61204433,"question_id":22842743,"body_markdown":"It is recommended to check **default terminal shell** before set **JAVA_HOME** environment variable, via following commands:\r\n\r\n    $ echo $SHELL\r\n    /bin/bash\r\n\r\nIf your default terminal is **/bin/bash** (Bash), then you should use **@Adrian Petrescu** method.\r\n\r\nIf your default terminal is **/bin/zsh** (Z Shell), then you should set these environment variable in **~/.zshenv** file with following contents:\r\n\r\n    export JAVA_HOME=&quot;$(/usr/libexec/java_home)&quot;\r\n\r\nSimilarly, any other terminal type not mentioned above, you should set environment variable in its respective terminal env file.","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>It is recommended to check <strong>default terminal shell</strong> before set <strong>JAVA_HOME</strong> environment variable, via following commands:</p>\n\n<pre><code>$ echo $SHELL\n/bin/bash\n</code></pre>\n\n<p>If your default terminal is <strong>/bin/bash</strong> (Bash), then you should use <strong>@Adrian Petrescu</strong> method.</p>\n\n<p>If your default terminal is <strong>/bin/zsh</strong> (Z Shell), then you should set these environment variable in <strong>~/.zshenv</strong> file with following contents:</p>\n\n<pre><code>export JAVA_HOME=\"$(/usr/libexec/java_home)\"\n</code></pre>\n\n<p>Similarly, any other terminal type not mentioned above, you should set environment variable in its respective terminal env file.</p>\n"},{"tags":[],"owner":{"account_id":2803912,"reputation":73,"user_id":4384049,"display_name":"John Marcus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602013784,"creation_date":1602013784,"answer_id":64232876,"question_id":22842743,"body_markdown":"Since I&#39;m using openjdk managed with sdkman, I added \r\n\r\n    sudo ln -sfn /path/to/my/installed/jdk/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\r\n\r\nAdding this to your system lets `java_home` recognize your installed version of Java even when its not installed via standard packages","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>Since I'm using openjdk managed with sdkman, I added</p>\n<pre><code>sudo ln -sfn /path/to/my/installed/jdk/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n<p>Adding this to your system lets <code>java_home</code> recognize your installed version of Java even when its not installed via standard packages</p>\n"},{"tags":[],"owner":{"account_id":2328053,"reputation":331,"user_id":2042065,"display_name":"Niket Shah"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1609411432,"creation_date":1609411432,"answer_id":65519811,"question_id":22842743,"body_markdown":"If you are using Zsh, then try to add this line in ~/.zshrc file &amp; restart terminal. \r\n```\r\nexport JAVA_HOME=$(/usr/libexec/java_home) \r\n```\r\n","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>If you are using Zsh, then try to add this line in ~/.zshrc file &amp; restart terminal.</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11718434,"reputation":1494,"user_id":8578075,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":123,"is_accepted":false,"score":123,"last_activity_date":1625775819,"creation_date":1617130588,"answer_id":66876903,"question_id":22842743,"body_markdown":"I just spent 2 hours setting this variable. The other answers did not work properly for me. I&#39;m using macOS Catalina 10.15.4.\r\n\r\nFirst, find your actual Java SDK Home directory: \r\n\r\n    /usr/libexec/java_home\r\n\r\nManually navigate there to make sure you don&#39;t have any mistakes due to incorrect versions, etc. For me, this was:\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home\r\n\r\nNext, edit your terminal&#39;s profile. If you&#39;re using zsh, this will be:\r\n\r\n    vim ~/.zshrc\r\n\r\nIf you&#39;re not using zsh, this will be:\r\n\r\n    vim ~/.bash_profile\r\n\r\nInside, add the following new line anywhere in the file:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home\r\n\r\nRestart your terminal app (or source ~/.bash_profile), and it should work properly.","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>I just spent 2 hours setting this variable. The other answers did not work properly for me. I'm using macOS Catalina 10.15.4.</p>\n<p>First, find your actual Java SDK Home directory:</p>\n<pre><code>/usr/libexec/java_home\n</code></pre>\n<p>Manually navigate there to make sure you don't have any mistakes due to incorrect versions, etc. For me, this was:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home\n</code></pre>\n<p>Next, edit your terminal's profile. If you're using zsh, this will be:</p>\n<pre><code>vim ~/.zshrc\n</code></pre>\n<p>If you're not using zsh, this will be:</p>\n<pre><code>vim ~/.bash_profile\n</code></pre>\n<p>Inside, add the following new line anywhere in the file:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home\n</code></pre>\n<p>Restart your terminal app (or source ~/.bash_profile), and it should work properly.</p>\n"},{"tags":[],"owner":{"account_id":4717739,"reputation":3289,"user_id":3816476,"display_name":"Sunil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655011601,"creation_date":1655011601,"answer_id":72589697,"question_id":22842743,"body_markdown":"In the latest Mac, you have to add the Set $JAVA_HOME environment variable in **.zprofile**. Here, we simple way to open it. Press  + Shift + . from keyboard. Just open it and add the $JAVA_HOME environment variable as explained [here][1]: \r\n\r\n\r\n  [1]: https://www.developerlibs.com/2022/06/java-environment-path-setup-windows-linux-Mac.html","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>In the latest Mac, you have to add the Set $JAVA_HOME environment variable in <strong>.zprofile</strong>. Here, we simple way to open it. Press  + Shift + . from keyboard. Just open it and add the $JAVA_HOME environment variable as explained <a href=\"https://www.developerlibs.com/2022/06/java-environment-path-setup-windows-linux-Mac.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n"},{"tags":[],"owner":{"account_id":13118295,"reputation":366,"user_id":10504792,"display_name":"Anderson Laverde"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661442130,"creation_date":1661442130,"answer_id":73490358,"question_id":22842743,"body_markdown":"JAVA 11 via Homebrew - tested on macos Ventura 2022\r\n\r\n.zshrc\r\n```\r\nexport JAVA_HOME=/opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk/Contents/Home\r\n```","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>JAVA 11 via Homebrew - tested on macos Ventura 2022</p>\n<p>.zshrc</p>\n<pre><code>export JAVA_HOME=/opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26277854,"reputation":1,"user_id":19946718,"display_name":"Rish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662616113,"creation_date":1662616113,"answer_id":73644225,"question_id":22842743,"body_markdown":"I resolved it on macOS Monterey by using the option provided by Google\r\n\r\nUnder Gradle JDK, choose the Embedded JDK option.\r\n\r\nhttps://developer.android.com/studio/intro/studio-config#:~:text=A%20copy%20of%20the%20latest,use%20for%20your%20Android%20projects.\r\n\r\n","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>I resolved it on macOS Monterey by using the option provided by Google</p>\n<p>Under Gradle JDK, choose the Embedded JDK option.</p>\n<p><a href=\"https://developer.android.com/studio/intro/studio-config#:%7E:text=A%20copy%20of%20the%20latest,use%20for%20your%20Android%20projects\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/intro/studio-config#:~:text=A%20copy%20of%20the%20latest,use%20for%20your%20Android%20projects</a>.</p>\n"},{"tags":[],"owner":{"account_id":25581726,"reputation":31,"user_id":19360158,"display_name":"Surendra Ediga"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662627429,"creation_date":1662627429,"answer_id":73646290,"question_id":22842743,"body_markdown":"**For Mac M1**\r\n\r\n**Download &amp; Install install JDK**\r\n\r\n**Open terminal check java version**\r\n\r\n```java -version```\r\n\r\nNow create a file\r\n\r\n```touch .zprofile```\r\n\r\nOpen the file \r\n\r\n```open -t .zprofile```\r\n\r\nAdd the below line \r\n\r\n```export JAVA_HOME=$(/usr/libexec/java_home)```\r\n\r\n\r\n\r\n","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p><strong>For Mac M1</strong></p>\n<p><strong>Download &amp; Install install JDK</strong></p>\n<p><strong>Open terminal check java version</strong></p>\n<p><code>java -version</code></p>\n<p>Now create a file</p>\n<p><code>touch .zprofile</code></p>\n<p>Open the file</p>\n<p><code>open -t .zprofile</code></p>\n<p>Add the below line</p>\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n"},{"tags":[],"owner":{"account_id":3988446,"reputation":3066,"user_id":3288258,"display_name":"Forrest"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1669989822,"creation_date":1666208869,"answer_id":74131072,"question_id":22842743,"body_markdown":"More simply on a mac terminal with a modern OSX\r\n\r\n    $ vim ~/.zshrc\r\n\r\nType &quot;a&quot; to being editing, and then paste (ctrl + v):\r\n\r\n    $ JAVA_HOME=/usr/libexec/java_home\r\n\r\n\r\nthen hit &quot;escape&quot; and type exactly &quot;:wq&quot; in order to write to the file and quit vim mode.\r\n\r\nFinally, when out of vim mode and back in your terminal, type\r\n\r\n    $ source ~/.zshrc\r\n\r\nThis will refresh so that your terminal is aware of the changes. \r\n\r\n* IMPORTANT *  If you don&#39;t &quot;source&quot; the file, you won&#39;t see the changes in this terminal session. \r\n\r\nCheck the changes by typing\r\n\r\n    $ echo $JAVA_HOME\r\n\r\nand you should see `/usr/libexec/java_home`\r\n\r\n","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>More simply on a mac terminal with a modern OSX</p>\n<pre><code>$ vim ~/.zshrc\n</code></pre>\n<p>Type &quot;a&quot; to being editing, and then paste (ctrl + v):</p>\n<pre><code>$ JAVA_HOME=/usr/libexec/java_home\n</code></pre>\n<p>then hit &quot;escape&quot; and type exactly &quot;:wq&quot; in order to write to the file and quit vim mode.</p>\n<p>Finally, when out of vim mode and back in your terminal, type</p>\n<pre><code>$ source ~/.zshrc\n</code></pre>\n<p>This will refresh so that your terminal is aware of the changes.</p>\n<ul>\n<li>IMPORTANT *  If you don't &quot;source&quot; the file, you won't see the changes in this terminal session.</li>\n</ul>\n<p>Check the changes by typing</p>\n<pre><code>$ echo $JAVA_HOME\n</code></pre>\n<p>and you should see <code>/usr/libexec/java_home</code></p>\n"},{"tags":[],"owner":{"account_id":6974824,"reputation":2244,"user_id":5349917,"display_name":"Arjun G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666553142,"creation_date":1666552255,"answer_id":74174038,"question_id":22842743,"body_markdown":"I&#39;m able to solve this issue by setting JAVA_HOME in .bash_profile file\r\n\r\n    export JAVA_HOME=/usr/local/opt/openjdk@17\r\n\r\nNote: \r\n   I installed openjdk version 17 using &#39;brew&#39;. I got this location from brew console. I&#39;m using &#39;bash&#39; instead of &#39;zsh&#39; in my mac.","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>I'm able to solve this issue by setting JAVA_HOME in .bash_profile file</p>\n<pre><code>export JAVA_HOME=/usr/local/opt/openjdk@17\n</code></pre>\n<p>Note:\nI installed openjdk version 17 using 'brew'. I got this location from brew console. I'm using 'bash' instead of 'zsh' in my mac.</p>\n"},{"tags":[],"owner":{"account_id":27101988,"reputation":1,"user_id":20648390,"display_name":"Andrii Burlakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669830716,"creation_date":1669830633,"answer_id":74632104,"question_id":22842743,"body_markdown":" - Open Terminal.\r\n - Confirm you have JDK by typing which java. ...\r\n - Check you have the needed version of Java, by typing \r\njava -version.\r\n - Set JAVA_HOME using this command in Terminal: export\r\n   JAVA_HOME=/Library/Java/Home.\r\n - echo $JAVA_HOME on Terminal to confirm\r\n   the path.","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<ul>\n<li>Open Terminal.</li>\n<li>Confirm you have JDK by typing which java. ...</li>\n<li>Check you have the needed version of Java, by typing\njava -version.</li>\n<li>Set JAVA_HOME using this command in Terminal: export\nJAVA_HOME=/Library/Java/Home.</li>\n<li>echo $JAVA_HOME on Terminal to confirm\nthe path.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16578380,"reputation":423,"user_id":11979618,"display_name":"Beatle Refractor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1674104850,"creation_date":1674104850,"answer_id":75167958,"question_id":22842743,"body_markdown":"Quick Guide for M1\r\n\r\n\r\n1. Add java sdk into your m1\r\ncheck version\r\n\r\n    java --version\r\n\r\nGet all java versions installed in ur mac\r\n\r\n    /usr/libexec/java_home -V\r\n\r\n2. Execute for Java path from library\r\n\r\n    /usr/libexec/java_home\r\n\r\n(specify java version if you have multiple version, In my case -v17.0.5\r\n\r\n    /usr/libexec/java_home -v17.0.5\r\n\r\n3. Mac&gt;User&gt;&#39;YourUserName/Home&#39;&gt;.zshrc \r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home\r\n","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>Quick Guide for M1</p>\n<ol>\n<li><p>Add java sdk into your m1\ncheck version</p>\n<p>java --version</p>\n</li>\n</ol>\n<p>Get all java versions installed in ur mac</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<ol start=\"2\">\n<li><p>Execute for Java path from library</p>\n<p>/usr/libexec/java_home</p>\n</li>\n</ol>\n<p>(specify java version if you have multiple version, In my case -v17.0.5</p>\n<pre><code>/usr/libexec/java_home -v17.0.5\n</code></pre>\n<ol start=\"3\">\n<li><p>Mac&gt;User&gt;'YourUserName/Home'&gt;.zshrc</p>\n<p>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7164352,"reputation":162,"user_id":5473996,"accept_rate":17,"display_name":"Ashish168"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701612065,"creation_date":1701612065,"answer_id":77594612,"question_id":22842743,"body_markdown":"1. i want to update JAVA_HOME variable ,so it is picked by maven in mac\r\n2. i have used brew to install openjdk11 on my mac  \r\n3. i have a /.zshrc file in my mac \r\n\r\nso i used below to set the JAVA_HOME to my openjdk11 - \r\n1. vim ~/.zshrc\r\n2. add below lines \r\nexport=/opt/homebrew/opt/openjdk@11\r\n ","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<ol>\n<li>i want to update JAVA_HOME variable ,so it is picked by maven in mac</li>\n<li>i have used brew to install openjdk11 on my mac</li>\n<li>i have a /.zshrc file in my mac</li>\n</ol>\n<p>so i used below to set the JAVA_HOME to my openjdk11 -</p>\n<ol>\n<li>vim ~/.zshrc</li>\n<li>add below lines\nexport=/opt/homebrew/opt/openjdk@11</li>\n</ol>\n"}],"owner":{"account_id":4273119,"reputation":3482,"user_id":3494479,"accept_rate":62,"display_name":"islander_zero"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777842,"favorite_count":0,"down_vote_count":3,"up_vote_count":323,"accepted_answer_id":22842806,"answer_count":18,"score":320,"last_activity_date":1701612065,"creation_date":1396540177,"question_id":22842743,"body_markdown":"I just purchased a brand new MacBook Pro. \r\n\r\nThis is my first MAC ever and I&#39;m still trying to get the hang of navigating my way around. \r\n\r\nAnyway, I&#39;m also new to Java and I&#39;ve been practicing on my Windows PC before it permanently died. \r\n\r\nNow that I&#39;m on this MAC, I installed my JDK and now I need to set the `JAVA_HOME` environment variable. \r\n\r\nI have no idea what to do.\r\n\r\nI tried following some of these guides and didn&#39;t get very far.\r\n\r\n1. &lt;b&gt;[Mkyong.com : How to set JAVA_HOME variable in Mac OSX][1]&lt;/b&gt;\r\n\r\n2. &lt;b&gt;[YouTube : How to set environment variables on mac, linux, solaris, rhel][2]&lt;/b&gt;\r\n\r\n3. &lt;b&gt;[YouTube : How to Set Environment Variables in Mac][3]&lt;/b&gt;\r\n\r\nI was able to locate the terminal and I think I created some multiple files. I&#39;m getting messages like this:\r\n\r\n---\r\n&gt; (1) Another program may be editing the same file.\r\n&gt;     If this is the case, be careful not to end up with two\r\n&gt;     different instances of the same file when making changes.\r\n&gt;     Quit, or continue with caution.\r\n\r\n---\r\n&gt; (2) An edit session for this file crashed.\r\n&gt;     If this is the case, use &quot;:recover&quot; or &quot;vim -r /Users/Erwin/.bash_profile&quot;\r\n&gt;     to recover the changes (see &quot;:help recovery&quot;).\r\n&gt;     If you did this already, delete the swap file &quot;/Users/Erwin/.bash_profile.sw p&quot;\r\n&gt;     to avoid this message.\r\n\r\nCan somebody tell how to set Java in Mac OSX environment step by step?\r\n\r\n  [1]: http://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\r\n  [2]: http://www.youtube.com/watch?v=aCEPrODy68o\r\n  [3]: http://youtube.com/watch?v=-cASjkF94dc","title":"How to set JAVA_HOME environment variable on Mac OS X 10.9?","body":"<p>I just purchased a brand new MacBook Pro. </p>\n\n<p>This is my first MAC ever and I'm still trying to get the hang of navigating my way around. </p>\n\n<p>Anyway, I'm also new to Java and I've been practicing on my Windows PC before it permanently died. </p>\n\n<p>Now that I'm on this MAC, I installed my JDK and now I need to set the <code>JAVA_HOME</code> environment variable. </p>\n\n<p>I have no idea what to do.</p>\n\n<p>I tried following some of these guides and didn't get very far.</p>\n\n<ol>\n<li><p><b><a href=\"http://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\" rel=\"noreferrer\">Mkyong.com : How to set JAVA_HOME variable in Mac OSX</a></b></p></li>\n<li><p><b><a href=\"http://www.youtube.com/watch?v=aCEPrODy68o\" rel=\"noreferrer\">YouTube : How to set environment variables on mac, linux, solaris, rhel</a></b></p></li>\n<li><p><b><a href=\"http://youtube.com/watch?v=-cASjkF94dc\" rel=\"noreferrer\">YouTube : How to Set Environment Variables in Mac</a></b></p></li>\n</ol>\n\n<p>I was able to locate the terminal and I think I created some multiple files. I'm getting messages like this:</p>\n\n<hr>\n\n<blockquote>\n  <p>(1) Another program may be editing the same file.\n      If this is the case, be careful not to end up with two\n      different instances of the same file when making changes.\n      Quit, or continue with caution.</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>(2) An edit session for this file crashed.\n      If this is the case, use \":recover\" or \"vim -r /Users/Erwin/.bash_profile\"\n      to recover the changes (see \":help recovery\").\n      If you did this already, delete the swap file \"/Users/Erwin/.bash_profile.sw p\"\n      to avoid this message.</p>\n</blockquote>\n\n<p>Can somebody tell how to set Java in Mac OSX environment step by step?</p>\n"},{"tags":["java","spring-boot","azure","azure-sql-database","jdbctemplate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699785161,"post_id":77468561,"comment_id":136572684,"body_markdown":"I&#39;d say that `tcp:` in your host name should be removed.","body":"I&#39;d say that <code>tcp:</code> in your host name should be removed."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1699785365,"post_id":77468561,"comment_id":136572702,"body_markdown":"I read https://learn.microsoft.com/en-us/azure/azure-sql/database/connect-query-java?view=azuresql","body":"I read <a href=\"https://learn.microsoft.com/en-us/azure/azure-sql/database/connect-query-java?view=azuresql\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/azure-sql/database/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699785527,"post_id":77468561,"comment_id":136572716,"body_markdown":"It gives the start of the JDBC URL as `jdbc:sqlserver://$AZ_DATABASE_NAME.database.windows.net:1433;` so it&#39;s clear that there&#39;s no `tcp:` in it.","body":"It gives the start of the JDBC URL as <code>jdbc:sqlserver:&#47;&#47;$AZ_DATABASE_NAME.database.windows.net:1433&zwnj;&#8203;;</code> so it&#39;s clear that there&#39;s no <code>tcp:</code> in it."},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1700179854,"post_id":77468561,"comment_id":136626116,"body_markdown":"@tgdavies feel free to write answer, and I can send points, thanks ","body":"@tgdavies feel free to write answer, and I can send points, thanks "}],"answers":[{"tags":[],"owner":{"account_id":26215335,"reputation":2350,"user_id":19893538,"display_name":"Bhavani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701426434,"creation_date":1701412891,"answer_id":77583408,"question_id":77468561,"body_markdown":"\r\n\r\n&gt; The TCP/IP connection to the host tcp:food-server.database.windows.net, port 1433 has failed. Error: &quot;tcp:food-server.database.windows.net. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;\r\n\r\nAs @tgdavies commented, the URL you have provided is not in the correct format, which may be the reason you are getting this error. &quot;**tcp: in your host name should be removed**&quot; in your URL.You can provide the URL in the following format:\r\n\r\n```java\r\nspring.datasource.url= jdbc:sqlserver://&lt;serverName&gt;.database.windows.net,1433;encrypt=true;trustServerCertificate=true;databaseName=&lt;databaseName&gt;\r\n```\r\nBy doing this, you should be able to connect to the database successfully. For more information, you can refer to the [MS Document](https://learn.microsoft.com/en-us/azure/azure-sql/database/connect-query-java?view=azuresql#prepare-a-configuration-file-to-connect-to-azure-sql-database) on how to prepare a configuration file to connect to Azure SQL database.","title":"Connect Spring Boot JDBCTemplate to Azure SQL, Issues with Connection String and TCP/IP","body":"<blockquote>\n<p>The TCP/IP connection to the host tcp:food-server.database.windows.net, port 1433 has failed. Error: &quot;tcp:food-server.database.windows.net. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;</p>\n</blockquote>\n<p>As @tgdavies commented, the URL you have provided is not in the correct format, which may be the reason you are getting this error. &quot;<strong>tcp: in your host name should be removed</strong>&quot; in your URL.You can provide the URL in the following format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.datasource.url= jdbc:sqlserver://&lt;serverName&gt;.database.windows.net,1433;encrypt=true;trustServerCertificate=true;databaseName=&lt;databaseName&gt;\n</code></pre>\n<p>By doing this, you should be able to connect to the database successfully. For more information, you can refer to the <a href=\"https://learn.microsoft.com/en-us/azure/azure-sql/database/connect-query-java?view=azuresql#prepare-a-configuration-file-to-connect-to-azure-sql-database\" rel=\"nofollow noreferrer\">MS Document</a> on how to prepare a configuration file to connect to Azure SQL database.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77583408,"answer_count":1,"score":1,"last_activity_date":1701611946,"creation_date":1699784860,"question_id":77468561,"body_markdown":"I cannot seem to connect my Java Spring Boot Project to Azure SQL with JDBCTemplate. I keep getting errors, both through Autowired, with connection string, and Option 2) Setting Data Source manually. How can I resolve this issue?\r\nHowever, both options work with localhost sql database on my computer.\r\n\r\n&gt; Error: The TCP/IP connection to the host\r\n&gt; tcp:food-server.database.windows.net, port 1433 has failed.\r\n&gt; Error: &quot;tcp:food-server.database.windows.net. Verify the\r\n&gt; connection properties. Make sure that an instance of SQL Server is\r\n&gt; running on the host and accepting TCP/IP connections at the port. Make\r\n&gt; sure that TCP connections to the port are not blocked by a firewall.&quot;\r\n\r\nOption 1) `@Autowired` with connectionString in application.properties file, not working\r\n\r\n    spring.datasource.url= jdbc:sqlserver://tcp:food-server.database.windows.net,1433;encrypt=true;trustServerCertificate=true;databaseName=Test\r\n    spring.datasource.username=sauser\r\n    spring.datasource.password=password12345*\r\n\r\nOption 2) Configuration Beans with DataSource, currently not working either\r\n\r\n    @Configuration\r\n    public class ServerConfiguration {\r\n     \r\n        @Bean\r\n        public DataSource getDataSource() {\r\n            SQLServerDataSource ds = new SQLServerDataSource();\r\n            ds.setUser(&quot;sauser&quot;);\r\n            ds.setPassword(&quot;password12345*&quot;);\r\n            ds.setServerName(&quot;tcp:food-server.database.windows.net&quot;);\r\n            ds.setPortNumber(1433);\r\n            ds.setTrustServerCertificate(true);\r\n            ds.setDatabaseName(&quot;test&quot;);\r\n            return ds;\r\n        }\r\n    \r\n        @Bean\r\n        public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\r\n            return new NamedParameterJdbcTemplate(getDataSource());\r\n        }\r\n\r\n**Azure IP Security Settings:**\r\n\r\nI also made sure to allow my IP Address in Azure SQL Portal, database, Set Firewall\r\n\r\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/firewall-create-server-level-portal-quickstart?view=azuresql\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vhocU.png","title":"Connect Spring Boot JDBCTemplate to Azure SQL, Issues with Connection String and TCP/IP","body":"<p>I cannot seem to connect my Java Spring Boot Project to Azure SQL with JDBCTemplate. I keep getting errors, both through Autowired, with connection string, and Option 2) Setting Data Source manually. How can I resolve this issue?\nHowever, both options work with localhost sql database on my computer.</p>\n<blockquote>\n<p>Error: The TCP/IP connection to the host\ntcp:food-server.database.windows.net, port 1433 has failed.\nError: &quot;tcp:food-server.database.windows.net. Verify the\nconnection properties. Make sure that an instance of SQL Server is\nrunning on the host and accepting TCP/IP connections at the port. Make\nsure that TCP connections to the port are not blocked by a firewall.&quot;</p>\n</blockquote>\n<p>Option 1) <code>@Autowired</code> with connectionString in application.properties file, not working</p>\n<pre><code>spring.datasource.url= jdbc:sqlserver://tcp:food-server.database.windows.net,1433;encrypt=true;trustServerCertificate=true;databaseName=Test\nspring.datasource.username=sauser\nspring.datasource.password=password12345*\n</code></pre>\n<p>Option 2) Configuration Beans with DataSource, currently not working either</p>\n<pre><code>@Configuration\npublic class ServerConfiguration {\n \n    @Bean\n    public DataSource getDataSource() {\n        SQLServerDataSource ds = new SQLServerDataSource();\n        ds.setUser(&quot;sauser&quot;);\n        ds.setPassword(&quot;password12345*&quot;);\n        ds.setServerName(&quot;tcp:food-server.database.windows.net&quot;);\n        ds.setPortNumber(1433);\n        ds.setTrustServerCertificate(true);\n        ds.setDatabaseName(&quot;test&quot;);\n        return ds;\n    }\n\n    @Bean\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\n        return new NamedParameterJdbcTemplate(getDataSource());\n    }\n</code></pre>\n<p><strong>Azure IP Security Settings:</strong></p>\n<p>I also made sure to allow my IP Address in Azure SQL Portal, database, Set Firewall</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/azure-sql/database/firewall-create-server-level-portal-quickstart?view=azuresql\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-sql/database/firewall-create-server-level-portal-quickstart?view=azuresql</a></p>\n<p><a href=\"https://i.stack.imgur.com/vhocU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vhocU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1701329196,"post_id":77576564,"comment_id":136762731,"body_markdown":"Well, your `indices` array contains the value 10, and your arrays don&#39;t have such index. Hence the exception.","body":"Well, your <code>indices</code> array contains the value 10, and your arrays don&#39;t have such index. Hence the exception."},{"owner":{"account_id":10033408,"reputation":21,"user_id":12304436,"display_name":"learner01"},"score":0,"creation_date":1701330215,"post_id":77576564,"comment_id":136762855,"body_markdown":"Thanks @Eran, unfortunately I am not allowed to change the values array since it is automatically provided by other class. Do you have any further suggestion.","body":"Thanks @Eran, unfortunately I am not allowed to change the values array since it is automatically provided by other class. Do you have any further suggestion."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1701330469,"post_id":77576564,"comment_id":136762888,"body_markdown":"I&#39;m not sure what you are trying to do, but if the `indices` array should contain array indices, perhaps you should initialize it with `indices[i] = values[i]-1;`. This way you are not changing the values array.","body":"I&#39;m not sure what you are trying to do, but if the <code>indices</code> array should contain array indices, perhaps you should initialize it with <code>indices[i] = values[i]-1;</code>. This way you are not changing the values array."},{"owner":{"account_id":10033408,"reputation":21,"user_id":12304436,"display_name":"learner01"},"score":0,"creation_date":1701332591,"post_id":77576564,"comment_id":136763200,"body_markdown":"Thank you again @Eran. I am actually trying to sort the values array based on keys. I tried to store in indices[i]=i (same as values[i]-1) but that resulted in the null pointer exception. Also, I was not sure if by storing each indices[i]= i instead of values[i], will i be doing wrong sorting.","body":"Thank you again @Eran. I am actually trying to sort the values array based on keys. I tried to store in indices[i]=i (same as values[i]-1) but that resulted in the null pointer exception. Also, I was not sure if by storing each indices[i]= i instead of values[i], will i be doing wrong sorting."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1701332767,"post_id":77576564,"comment_id":136763218,"body_markdown":"What is the expected sorted array given the input arrays in your example?","body":"What is the expected sorted array given the input arrays in your example?"},{"owner":{"account_id":10033408,"reputation":21,"user_id":12304436,"display_name":"learner01"},"score":0,"creation_date":1701333577,"post_id":77576564,"comment_id":136763319,"body_markdown":"thank you @Eran. For the given example, it should be {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}","body":"thank you @Eran. For the given example, it should be {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1701334394,"post_id":77576564,"comment_id":136763440,"body_markdown":"So the sort should do nothing in your example? It&#39;s hard to understand the desired logic in this case.","body":"So the sort should do nothing in your example? It&#39;s hard to understand the desired logic in this case."},{"owner":{"account_id":10033408,"reputation":21,"user_id":12304436,"display_name":"learner01"},"score":0,"creation_date":1701335882,"post_id":77576564,"comment_id":136763704,"body_markdown":"thank you @Eran, i will try once again and if I find solution will post it here. have a nice day!","body":"thank you @Eran, i will try once again and if I find solution will post it here. have a nice day!"}],"owner":{"account_id":10033408,"reputation":21,"user_id":12304436,"display_name":"learner01"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701611847,"creation_date":1701328916,"question_id":77576564,"body_markdown":"I would truly appreciate any help in solving following exception. In particular, I keep running into array index out of bound exception at index 10. The `values` and `keys1` and `keys2` arrays cannot be changed as they are provided by another program.\r\n\r\nThis is my `IntegerComparator` class:\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\n\r\nclass IntegerComparator implements Comparator&lt;Integer&gt; {\r\n    private int[] keys1;\r\n    private int[] keys2;\r\n\r\n    public IntegerComparator(int[] keys1, int[] keys2) {\r\n        this.keys1 = keys1;\r\n        this.keys2 = keys2;\r\n    }\r\n\r\n    @Override\r\n    public int compare(Integer index1, Integer index2) {\r\n        if (keys2 == null) {\r\n            return keys1[index1] - keys1[index2];\r\n        } else {\r\n            if (keys1[index1] == keys1[index2]) {\r\n                return keys2[index1] - keys2[index2];\r\n            } else {\r\n                return keys1[index1] - keys1[index2];\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nFollowing is `main` method with the values it failed. I even tried to store in indices index rather than `values[i]` but that led to null pointer exception.\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Given values, keys1, and keys2 arrays\r\n        int[] values = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n        int[] key1 = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\r\n        int[] key2 = {0, 0, 1, 3, 4, 5, 6, 8, 9, 10};\r\n\r\n        // Create an array of indices\r\n        Integer[] indices = new Integer[values.length];\r\n        for (int i = 0; i &lt; indices.length; i++) {\r\n            indices[i] = values[i];\r\n        }\r\n\r\n        // Sort the indices array based on the custom comparator\r\n        Arrays.sort(indices, new IntegerComparator(key1, key2));\r\n    }\r\n}\r\n```\r\nI want to sort values based on comparing keys. As Eran has pointed out in comment, it is due to accessing key at index 10 (value[9]=10). But I would appreciate suggestion on solving it.","title":"Array index out of bound with sort comparator","body":"<p>I would truly appreciate any help in solving following exception. In particular, I keep running into array index out of bound exception at index 10. The <code>values</code> and <code>keys1</code> and <code>keys2</code> arrays cannot be changed as they are provided by another program.</p>\n<p>This is my <code>IntegerComparator</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Comparator;\n\nclass IntegerComparator implements Comparator&lt;Integer&gt; {\n    private int[] keys1;\n    private int[] keys2;\n\n    public IntegerComparator(int[] keys1, int[] keys2) {\n        this.keys1 = keys1;\n        this.keys2 = keys2;\n    }\n\n    @Override\n    public int compare(Integer index1, Integer index2) {\n        if (keys2 == null) {\n            return keys1[index1] - keys1[index2];\n        } else {\n            if (keys1[index1] == keys1[index2]) {\n                return keys2[index1] - keys2[index2];\n            } else {\n                return keys1[index1] - keys1[index2];\n            }\n        }\n    }\n}\n</code></pre>\n<p>Following is <code>main</code> method with the values it failed. I even tried to store in indices index rather than <code>values[i]</code> but that led to null pointer exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        // Given values, keys1, and keys2 arrays\n        int[] values = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n        int[] key1 = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\n        int[] key2 = {0, 0, 1, 3, 4, 5, 6, 8, 9, 10};\n\n        // Create an array of indices\n        Integer[] indices = new Integer[values.length];\n        for (int i = 0; i &lt; indices.length; i++) {\n            indices[i] = values[i];\n        }\n\n        // Sort the indices array based on the custom comparator\n        Arrays.sort(indices, new IntegerComparator(key1, key2));\n    }\n}\n</code></pre>\n<p>I want to sort values based on comparing keys. As Eran has pointed out in comment, it is due to accessing key at index 10 (value[9]=10). But I would appreciate suggestion on solving it.</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"owner":{"account_id":29910967,"reputation":1,"user_id":22922399,"display_name":"Goga Vonga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701611680,"creation_date":1701611680,"question_id":77594583,"body_markdown":"How to make it so that when a player clicks on a stick, empty blocks (falling entity block) spawn along his trajectory. I can implement this, but I need to make them fall under the blocks. ((I.e. they could overcome obstacles (as if in gm 3, but the block itself is visible)\r\n\r\n//////////////////////////////////////////","title":"spigot 1.12.2 ask about falling block","body":"<p>How to make it so that when a player clicks on a stick, empty blocks (falling entity block) spawn along his trajectory. I can implement this, but I need to make them fall under the blocks. ((I.e. they could overcome obstacles (as if in gm 3, but the block itself is visible)</p>\n<p>//////////////////////////////////////////</p>\n"},{"tags":["java","multithreading","substring","bufferedreader","randomaccessfile"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1698877864,"post_id":77405970,"comment_id":136462044,"body_markdown":"When you say &quot;String&quot;, do you mean line?","body":"When you say &quot;String&quot;, do you mean line?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1698879282,"post_id":77405970,"comment_id":136462197,"body_markdown":"By &quot;divided&quot; do you mean the string you&#39;re searching for can span multiple lines?","body":"By &quot;divided&quot; do you mean the string you&#39;re searching for can span multiple lines?"},{"owner":{"account_id":23096577,"reputation":55,"user_id":17206584,"display_name":"Svetlana"},"score":0,"creation_date":1698879494,"post_id":77405970,"comment_id":136462213,"body_markdown":"@shmosel, by saying &quot;String&quot; I wanted to mean a line, which contains a certain substring","body":"@shmosel, by saying &quot;String&quot; I wanted to mean a line, which contains a certain substring"},{"owner":{"account_id":23096577,"reputation":55,"user_id":17206584,"display_name":"Svetlana"},"score":1,"creation_date":1698879906,"post_id":77405970,"comment_id":136462258,"body_markdown":"@DavidConrad Not exactly. I wanted to divide file in parts or &#39;blocks&#39; of 2Mb size for multithreading. Using `RandomAccessFile` we move around the file with FilePointer, which stores information on current position in file in terms of bytes. Thus I can&#39;t be sure if the string which contains a substring is all in one &#39;block&#39;.","body":"@DavidConrad Not exactly. I wanted to divide file in parts or &#39;blocks&#39; of 2Mb size for multithreading. Using <code>RandomAccessFile</code> we move around the file with FilePointer, which stores information on current position in file in terms of bytes. Thus I can&#39;t be sure if the string which contains a substring is all in one &#39;block&#39;."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698883817,"creation_date":1698883817,"answer_id":77406266,"question_id":77405970,"body_markdown":"You seem to be asking for notes and hints about how to solve this problem.\r\n\r\n1. Note that files are bytes, but text search implies charset encoding.\r\n\r\nThat means &#39;I will just chunk up the file in 2MB chunks&#39; could mean a chunk can start in the middle of a character (charset encodings like UTF-8 can take more than 1 byte to store a character) which complicates matters. One solution is to take your &#39;needle&#39; (the string you are searching for), turn that into bytes (e.g. `needle.getBytes(StandardCharsets.UTF_8)`), and search for _those_.\r\n\r\n2. There are 2 ways to solve the &#39;what if the haystack contains the needle, but my chunking process chunks halfway through a needle?&#39; issue.\r\n\r\n## Overlap\r\n\r\nIf &#39;needle&#39; is small, you can overlap. Say you have a 9MB file, you want to chunk in 2MB blocks, and needle is 50 bytes long. The overlap solution dictates that you extend the endpoint of every chunk 49 bytes (1 less than the size of needle). So, the first chunk isn&#39;t precisely 0-2097151 (2MB worth). It&#39;s 49 more than that - it goes from 0 to 2097200. And the second chunk _does_ start at 2097151 (there is 49 overlap). This way it&#39;s still not possible for both chunks to report the needle, but you are guaranteed that if there is a needle right at that boundary, one of em will. This becomes unwieldy if the needle is very large.\r\n\r\n## Half-match passing\r\n\r\nA solution that can deal with large needles is to pass boundary half matches to a collector.\r\n\r\nGenerally in such multithread jobs you use the map-reduce concept:\r\n\r\n1. you map some input into chunks.\r\n2. Each chunk is independent (to calculate the result for a chunk, you just need the data in it; you do not need to know about any data from beyond the chunk).\r\n3. A number of working threads pull &#39;chunk jobs&#39; (a simple descriptor describing the chunk to work on) off the pipe and map them to a muuuch smaller, simpler result value.\r\n4. A final thread gathers all results and reduces them. Optimally, this is streaming (any 2+ chunks can be reduced to a single one), but it&#39;s generally fine if this process cannot reduce until all chunk results are in. It&#39;s fine if the reducer needs, for example, the results of contiguous chunks to do its job.\r\n\r\nThis model means you can half-match. The thread that processes a single, say, 2 MB chunk of data turns that into a result. A result consists of any number of &#39;found it!&#39; entries, and they come in 3 flavours:\r\n\r\n* Found a needle at X. (In the chunk, the entire needle is present starting at bytepos X and ending at bytepos X+needlesize).\r\n* Found a needle-suffix of length Y (The chunk _starts with_ a bunch of bytes that overlap with _the end_ of the needle. For example, the needle is `Hello, World!` and this chunk starts with `orld!`. That does not mean a needle is actually found, but it is part of what this chunk processor must report to the reducer.\r\n* Same, but on the other side: Found a needle-prefix of length Y (the chunk ends in `Hello, Wor`).\r\n\r\nThe reducer can line up reports of needle-prefixes and needle-suffixes (e.g. for `Hello, World!`, which is 13 long, if chunk 14 reports &#39;needle-prefix = 8&#39; and chunk 15 reports &#39;needle-suffix=5`, there&#39;s a needle in the file at chunk15start minus 8.\r\n\r\nThe nananananaba issue (which is what Boyer Moore tries to solve) must also be applied here! If needle is &#39;nananaba&#39; and one chunk ends in &#39;nanana&#39; and the next chunk starts with &#39;nanaba&#39;, then there is a needle there, but it doesn&#39;t start at the first chunk&#39;s &#39;nanana&#39;. It starts 4 characters later.\r\n\r\nThis model is called map-reduce:\r\n\r\nEach chunk processor _maps_ the input data onto an intermediate result value. Generally results are vastly smaller than inputs.\r\n\r\nA single reducer (sometimes running on its own dedicated thread, but it can simply be done by a worker thread in between doing a _mapping_ operation) will take multiple _mappings_ (these result values) and reduce them down to a single result value. Keep going until there&#39;s only one such result value left, from which it should be trivial to produce the required answer. The job of squashing 2+ _mappings_ down to a single one is called _reducing_.\r\n\r\nHence, map-reduce. You can read on e.g. wikipedia for more details if you are intrigued.\r\n\r\n3. __This is probably pointless__\r\n\r\nIt depends on lots of factors, but on many, many systems, using multiple threads to do extremely basic processing (and this is extremely basic, even Boyer-Moore is) on files read from disk __is pointless__ - the disk is the bottleneck, not the CPU. For example, trivially, on spinning disks (which, admittedly, are kinda old news now), __this will be significantly slower__, because to provide data to all the 20 or whatnot threads all asking for data, the disk needs to spin and spin, giving each thread data from separate slices of the disk. The disk is __entirely__ the bottleneck so the only job is to ensure the disk can provide the bytes as efficiently as possible. Which is, for a contiguous file (one where all bytes are layered one after another), is best done by having __one thread read the bytes from start to finish in one go__.\r\n\r\nAt the other extreme, some sort of fast-NVMe multi-raid getup means contiguous access has no bearing on performance, and the CPU is probably the bottleneck and not the raid setup, so there multi-core _would_ help.\r\n\r\nI&#39;d bet on multicore making things, if anything, slower. Processing 20GB worth of data off a middling speed disk is going to take a few seconds. Throwing threads at the problem isn&#39;t going to change this.\r\n\r\n4. How to determine chunk size?\r\n\r\nIt mostly doesn&#39;t matter. But, fire up the right number of threads.\r\n\r\nGenerally you know how many threads you want (usually about 2x the amount of CPU cores you have, but, really, &#39;CPU cores amount of threads&#39; is all you need). Thus, you can figure out chunk size by taking total file size and dividing by that. However, it really doesn&#39;t matter. __Assuming a disk that does not care whatsoever about how you pull bytes off of it__ (highly unlikely, see the previous point!) -  If you have a 10TB file and go with a chunk size of, say, 512MB, that means 2048 chunks. It&#39;s rather unlikely your CPU has 2048 cores. It doesn&#39;t matter though: If it has 20 cores, have 20 threads running, and each thread will just process a 500MB chunk, then move on to another chunk to work on, it&#39;s not going to have a meaningful effect on how fast this process is going to go. As long as the chunk sizes aren&#39;t extremist (a chunk size of, say, 20 bytes, that&#39;s going to be a problem), and all the cores will generally be busy (trivial case: If 10 chunks total and 20 cores, that&#39;d be bad, you want at least 20 jobs. Preferably more like 200 so things can balance out if some chunks end up getting processed much faster than other ones) - you&#39;ll be fine.\r\n\r\nThe fork/join framework is designed for this stuff, you might want to look into it.\r\n","title":"How to find certain lines in file using Java","body":"<p>You seem to be asking for notes and hints about how to solve this problem.</p>\n<ol>\n<li>Note that files are bytes, but text search implies charset encoding.</li>\n</ol>\n<p>That means 'I will just chunk up the file in 2MB chunks' could mean a chunk can start in the middle of a character (charset encodings like UTF-8 can take more than 1 byte to store a character) which complicates matters. One solution is to take your 'needle' (the string you are searching for), turn that into bytes (e.g. <code>needle.getBytes(StandardCharsets.UTF_8)</code>), and search for <em>those</em>.</p>\n<ol start=\"2\">\n<li>There are 2 ways to solve the 'what if the haystack contains the needle, but my chunking process chunks halfway through a needle?' issue.</li>\n</ol>\n<h2>Overlap</h2>\n<p>If 'needle' is small, you can overlap. Say you have a 9MB file, you want to chunk in 2MB blocks, and needle is 50 bytes long. The overlap solution dictates that you extend the endpoint of every chunk 49 bytes (1 less than the size of needle). So, the first chunk isn't precisely 0-2097151 (2MB worth). It's 49 more than that - it goes from 0 to 2097200. And the second chunk <em>does</em> start at 2097151 (there is 49 overlap). This way it's still not possible for both chunks to report the needle, but you are guaranteed that if there is a needle right at that boundary, one of em will. This becomes unwieldy if the needle is very large.</p>\n<h2>Half-match passing</h2>\n<p>A solution that can deal with large needles is to pass boundary half matches to a collector.</p>\n<p>Generally in such multithread jobs you use the map-reduce concept:</p>\n<ol>\n<li>you map some input into chunks.</li>\n<li>Each chunk is independent (to calculate the result for a chunk, you just need the data in it; you do not need to know about any data from beyond the chunk).</li>\n<li>A number of working threads pull 'chunk jobs' (a simple descriptor describing the chunk to work on) off the pipe and map them to a muuuch smaller, simpler result value.</li>\n<li>A final thread gathers all results and reduces them. Optimally, this is streaming (any 2+ chunks can be reduced to a single one), but it's generally fine if this process cannot reduce until all chunk results are in. It's fine if the reducer needs, for example, the results of contiguous chunks to do its job.</li>\n</ol>\n<p>This model means you can half-match. The thread that processes a single, say, 2 MB chunk of data turns that into a result. A result consists of any number of 'found it!' entries, and they come in 3 flavours:</p>\n<ul>\n<li>Found a needle at X. (In the chunk, the entire needle is present starting at bytepos X and ending at bytepos X+needlesize).</li>\n<li>Found a needle-suffix of length Y (The chunk <em>starts with</em> a bunch of bytes that overlap with <em>the end</em> of the needle. For example, the needle is <code>Hello, World!</code> and this chunk starts with <code>orld!</code>. That does not mean a needle is actually found, but it is part of what this chunk processor must report to the reducer.</li>\n<li>Same, but on the other side: Found a needle-prefix of length Y (the chunk ends in <code>Hello, Wor</code>).</li>\n</ul>\n<p>The reducer can line up reports of needle-prefixes and needle-suffixes (e.g. for <code>Hello, World!</code>, which is 13 long, if chunk 14 reports 'needle-prefix = 8' and chunk 15 reports 'needle-suffix=5`, there's a needle in the file at chunk15start minus 8.</p>\n<p>The nananananaba issue (which is what Boyer Moore tries to solve) must also be applied here! If needle is 'nananaba' and one chunk ends in 'nanana' and the next chunk starts with 'nanaba', then there is a needle there, but it doesn't start at the first chunk's 'nanana'. It starts 4 characters later.</p>\n<p>This model is called map-reduce:</p>\n<p>Each chunk processor <em>maps</em> the input data onto an intermediate result value. Generally results are vastly smaller than inputs.</p>\n<p>A single reducer (sometimes running on its own dedicated thread, but it can simply be done by a worker thread in between doing a <em>mapping</em> operation) will take multiple <em>mappings</em> (these result values) and reduce them down to a single result value. Keep going until there's only one such result value left, from which it should be trivial to produce the required answer. The job of squashing 2+ <em>mappings</em> down to a single one is called <em>reducing</em>.</p>\n<p>Hence, map-reduce. You can read on e.g. wikipedia for more details if you are intrigued.</p>\n<ol start=\"3\">\n<li><strong>This is probably pointless</strong></li>\n</ol>\n<p>It depends on lots of factors, but on many, many systems, using multiple threads to do extremely basic processing (and this is extremely basic, even Boyer-Moore is) on files read from disk <strong>is pointless</strong> - the disk is the bottleneck, not the CPU. For example, trivially, on spinning disks (which, admittedly, are kinda old news now), <strong>this will be significantly slower</strong>, because to provide data to all the 20 or whatnot threads all asking for data, the disk needs to spin and spin, giving each thread data from separate slices of the disk. The disk is <strong>entirely</strong> the bottleneck so the only job is to ensure the disk can provide the bytes as efficiently as possible. Which is, for a contiguous file (one where all bytes are layered one after another), is best done by having <strong>one thread read the bytes from start to finish in one go</strong>.</p>\n<p>At the other extreme, some sort of fast-NVMe multi-raid getup means contiguous access has no bearing on performance, and the CPU is probably the bottleneck and not the raid setup, so there multi-core <em>would</em> help.</p>\n<p>I'd bet on multicore making things, if anything, slower. Processing 20GB worth of data off a middling speed disk is going to take a few seconds. Throwing threads at the problem isn't going to change this.</p>\n<ol start=\"4\">\n<li>How to determine chunk size?</li>\n</ol>\n<p>It mostly doesn't matter. But, fire up the right number of threads.</p>\n<p>Generally you know how many threads you want (usually about 2x the amount of CPU cores you have, but, really, 'CPU cores amount of threads' is all you need). Thus, you can figure out chunk size by taking total file size and dividing by that. However, it really doesn't matter. <strong>Assuming a disk that does not care whatsoever about how you pull bytes off of it</strong> (highly unlikely, see the previous point!) -  If you have a 10TB file and go with a chunk size of, say, 512MB, that means 2048 chunks. It's rather unlikely your CPU has 2048 cores. It doesn't matter though: If it has 20 cores, have 20 threads running, and each thread will just process a 500MB chunk, then move on to another chunk to work on, it's not going to have a meaningful effect on how fast this process is going to go. As long as the chunk sizes aren't extremist (a chunk size of, say, 20 bytes, that's going to be a problem), and all the cores will generally be busy (trivial case: If 10 chunks total and 20 cores, that'd be bad, you want at least 20 jobs. Preferably more like 200 so things can balance out if some chunks end up getting processed much faster than other ones) - you'll be fine.</p>\n<p>The fork/join framework is designed for this stuff, you might want to look into it.</p>\n"},{"tags":[],"owner":{"account_id":29818382,"reputation":1,"user_id":22852225,"display_name":"user22852225"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699011612,"creation_date":1699011612,"answer_id":77416390,"question_id":77405970,"body_markdown":"1. it&#39;s true that some UTF-8 characters consist of 2 and more bytes, as [the answer above](https://stackoverflow.com/a/77406266) mentions, but it&#39;s possible that for your particular task the texts will only contain ASCII characters (which are always 1 byte). So I would recommend you to ask about that specifically, because you might save yourself from dealing with multi-byte characters.\r\n2. using `RandomAccessFile` is great. For example, after finding your line you can get the line before it by reading the file in the backwards direction until the newline symbol.\r\n3. regarding &quot;divided strings&quot;: if the text at the end of your 2MB part corresponds to the beginning of the line you search, then you can just continue reading the file beyond this 2MB part - it&#39;s a `RandomAccessFile` after all.","title":"How to find certain lines in file using Java","body":"<ol>\n<li>it's true that some UTF-8 characters consist of 2 and more bytes, as <a href=\"https://stackoverflow.com/a/77406266\">the answer above</a> mentions, but it's possible that for your particular task the texts will only contain ASCII characters (which are always 1 byte). So I would recommend you to ask about that specifically, because you might save yourself from dealing with multi-byte characters.</li>\n<li>using <code>RandomAccessFile</code> is great. For example, after finding your line you can get the line before it by reading the file in the backwards direction until the newline symbol.</li>\n<li>regarding &quot;divided strings&quot;: if the text at the end of your 2MB part corresponds to the beginning of the line you search, then you can just continue reading the file beyond this 2MB part - it's a <code>RandomAccessFile</code> after all.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701611672,"creation_date":1701611672,"answer_id":77594582,"question_id":77405970,"body_markdown":"You are correct with the idea that you can divide the String into substrings and search for matches via threads. You are also correct that a match may start in one of the chunks and end at the next chunk. So, it seems that in your case the solution is to:\r\n\r\n- if it&#39;s not the first thread\r\n    - get the `bigS.substring(0, s.length() - 1)` of your current chunk, let&#39;s call it `start`\r\n    - search for matches of `s` in `end + start` where `end` is the substring of your previous `String` at its very end of `s.length() - 1` size\r\n- search for matches of `s` normally\r\n- if it&#39;s the last thread\r\n    - save `bigS.substring(bigS.length() - s.length() + 1) as `end` so the next chunk will know about this\r\n\r\nNow, since you have to work with threads, the algorithm above cannot be implemented sequentially, so we modify the idea to divide the `String` to chunks like suggested, each chunk will be worked by a thread (careful with the number of threads though) and each thread will save the matches of its chunk, but also return its `start` and `end` as values (see https://stackoverflow.com/questions/9148899/returning-value-from-thread).\r\n\r\nThis way when you iterate your threads and `join()` them sequentially, you will always be able to glue together `previousEnd + start` and then override `previousEnd` with the `end` your current thread returned to find between-chunk matches.","title":"How to find certain lines in file using Java","body":"<p>You are correct with the idea that you can divide the String into substrings and search for matches via threads. You are also correct that a match may start in one of the chunks and end at the next chunk. So, it seems that in your case the solution is to:</p>\n<ul>\n<li>if it's not the first thread\n<ul>\n<li>get the <code>bigS.substring(0, s.length() - 1)</code> of your current chunk, let's call it <code>start</code></li>\n<li>search for matches of <code>s</code> in <code>end + start</code> where <code>end</code> is the substring of your previous <code>String</code> at its very end of <code>s.length() - 1</code> size</li>\n</ul>\n</li>\n<li>search for matches of <code>s</code> normally</li>\n<li>if it's the last thread\n<ul>\n<li>save <code>bigS.substring(bigS.length() - s.length() + 1) as </code>end` so the next chunk will know about this</li>\n</ul>\n</li>\n</ul>\n<p>Now, since you have to work with threads, the algorithm above cannot be implemented sequentially, so we modify the idea to divide the <code>String</code> to chunks like suggested, each chunk will be worked by a thread (careful with the number of threads though) and each thread will save the matches of its chunk, but also return its <code>start</code> and <code>end</code> as values (see <a href=\"https://stackoverflow.com/questions/9148899/returning-value-from-thread\">Returning value from Thread</a>).</p>\n<p>This way when you iterate your threads and <code>join()</code> them sequentially, you will always be able to glue together <code>previousEnd + start</code> and then override <code>previousEnd</code> with the <code>end</code> your current thread returned to find between-chunk matches.</p>\n"}],"owner":{"account_id":23096577,"reputation":55,"user_id":17206584,"display_name":"Svetlana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701630437,"answer_count":3,"score":1,"last_activity_date":1701611672,"creation_date":1698877737,"question_id":77405970,"body_markdown":"The main goal of my program is to find all occurrences of a certain substring in file and provide an opportunity to not only get the &quot;String&quot; the certain substring is, but also get strings before and after it. \\\r\nMy main problem is that a file may be really big (Gb or more) and contain only one line. Besides, I *must use multithreading* to do this task. \r\n\r\nSo far I want to divide a file in overlapping parts of 2Mb or more using `RandomAccessFile` (method `readFully`) and let the threads search for a substring using Boyer Moore Algorithm. Thus, I probably could find the offset of the substring beginning. \r\n- I want to use overlapping parts, because part of substring may be in one part of file, and another in the second one\r\n- 2 Mb is just a min number, the length of parts should probably depend on file length in bytes\r\n\r\nHowever, I don&#39;t have an idea on how to get a &quot;String&quot; containing substring and strings before and after. Because:\r\n- a &quot;String&quot; may be divided\r\n- the strings before/after the &quot;String&quot; may be in another part or there may be no strings above/below, if the &quot;String&quot; is the first/last in file\r\n\r\nMay be I should somehow use `RandomAccessFile` and `BufferedReader` together?\r\n","title":"How to find certain lines in file using Java","body":"<p>The main goal of my program is to find all occurrences of a certain substring in file and provide an opportunity to not only get the &quot;String&quot; the certain substring is, but also get strings before and after it. <br />\nMy main problem is that a file may be really big (Gb or more) and contain only one line. Besides, I <em>must use multithreading</em> to do this task.</p>\n<p>So far I want to divide a file in overlapping parts of 2Mb or more using <code>RandomAccessFile</code> (method <code>readFully</code>) and let the threads search for a substring using Boyer Moore Algorithm. Thus, I probably could find the offset of the substring beginning.</p>\n<ul>\n<li>I want to use overlapping parts, because part of substring may be in one part of file, and another in the second one</li>\n<li>2 Mb is just a min number, the length of parts should probably depend on file length in bytes</li>\n</ul>\n<p>However, I don't have an idea on how to get a &quot;String&quot; containing substring and strings before and after. Because:</p>\n<ul>\n<li>a &quot;String&quot; may be divided</li>\n<li>the strings before/after the &quot;String&quot; may be in another part or there may be no strings above/below, if the &quot;String&quot; is the first/last in file</li>\n</ul>\n<p>May be I should somehow use <code>RandomAccessFile</code> and <code>BufferedReader</code> together?</p>\n"},{"tags":["java","maven","visual-studio-code","code-coverage"],"answers":[{"tags":[],"owner":{"account_id":10347359,"reputation":321,"user_id":7631879,"display_name":"zguesmi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547224272,"creation_date":1546946650,"answer_id":54090795,"question_id":51964147,"body_markdown":"For now, I don&#39;t think there is a way to show coverage inline for java code. This is not really an answer to your question but it may help. You can run tests (maybe create a task in vscode) then watch code coverage report in the browser.\r\nFor gradle it is:\r\n\r\n    ./gradlew test jacocoTestReport\r\n\r\nAnd then check the report at `build/TestCoverageReport/test/html/index.html`\r\n\r\nYou can do that also easily with maven.","title":"Java Code Coverage in Visual Studio Code","body":"<p>For now, I don't think there is a way to show coverage inline for java code. This is not really an answer to your question but it may help. You can run tests (maybe create a task in vscode) then watch code coverage report in the browser.\nFor gradle it is:</p>\n\n<pre><code>./gradlew test jacocoTestReport\n</code></pre>\n\n<p>And then check the report at <code>build/TestCoverageReport/test/html/index.html</code></p>\n\n<p>You can do that also easily with maven.</p>\n"},{"tags":[],"owner":{"account_id":23424664,"reputation":1353,"user_id":17627866,"display_name":"Bunny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701611637,"creation_date":1699686310,"answer_id":77464184,"question_id":51964147,"body_markdown":"# Prerequisites\r\n- `Java Extension Pack` extension\r\n- `Coverage Gutters` extension by ryanluker: To display test coverage generated \r\n- `Live Preview` extension by Microsoft: To render HTML files in VSCode \r\n- A maven project with some tests\r\n\r\n# Steps\r\nAdd the `jacoco-maven-plugin` to your `pom.xml` file. This plugin will generate a report of your code coverage.\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.4&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report&lt;/id&gt;\r\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nGenerate the jacoco report by running the following command in your terminal:\r\n```bash\r\nmvn jacoco:prepare-agent test install jacoco:report\r\n```\r\n\r\nYou should see a newly created file `target/site/jacoco/index.html`.\r\n\r\n**NOTE: Each time you make a change to your tests, you need to rerun the above command to ensure that the code coverage report is accurate.**\r\n\r\n## View detailed report\r\nOpen the HTML file (`target/site/jacoco/index.html`) and click on the magnify icon in the top right corner of VS Code. (Live Preview extension must be installed)\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n## Show inline coverage\r\nClick on `Watch` in the bottom left toolbar of your VS Code. (Code Gutters extension must be installed)\r\n[![enter image description here][3]][3]\r\n\r\nCheck out the class for which you wrote tests:\r\n[![enter image description here][4]][4]\r\n\r\nGreen bars indicate that that code has been reached by your tests. Orange bars indicate a missed conditional check. Red bars indicate code that was not reached by your tests.\r\n\r\n# References\r\n- https://medium.com/@karlrombauts/setting-up-unit-testing-for-java-in-vs-code-with-maven-3dc75579122f\r\n- https://www.eclemma.org/jacoco/trunk/doc/maven.html\r\n\r\n  [1]: https://i.stack.imgur.com/9ztrA.png\r\n  [2]: https://i.stack.imgur.com/8ZAJB.png\r\n  [3]: https://i.stack.imgur.com/LAbKo.png\r\n  [4]: https://i.stack.imgur.com/xm1fa.png","title":"Java Code Coverage in Visual Studio Code","body":"<h1>Prerequisites</h1>\n<ul>\n<li><code>Java Extension Pack</code> extension</li>\n<li><code>Coverage Gutters</code> extension by ryanluker: To display test coverage generated</li>\n<li><code>Live Preview</code> extension by Microsoft: To render HTML files in VSCode</li>\n<li>A maven project with some tests</li>\n</ul>\n<h1>Steps</h1>\n<p>Add the <code>jacoco-maven-plugin</code> to your <code>pom.xml</code> file. This plugin will generate a report of your code coverage.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Generate the jacoco report by running the following command in your terminal:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn jacoco:prepare-agent test install jacoco:report\n</code></pre>\n<p>You should see a newly created file <code>target/site/jacoco/index.html</code>.</p>\n<p><strong>NOTE: Each time you make a change to your tests, you need to rerun the above command to ensure that the code coverage report is accurate.</strong></p>\n<h2>View detailed report</h2>\n<p>Open the HTML file (<code>target/site/jacoco/index.html</code>) and click on the magnify icon in the top right corner of VS Code. (Live Preview extension must be installed)\n<a href=\"https://i.stack.imgur.com/9ztrA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ztrA.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/8ZAJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ZAJB.png\" alt=\"enter image description here\" /></a></p>\n<h2>Show inline coverage</h2>\n<p>Click on <code>Watch</code> in the bottom left toolbar of your VS Code. (Code Gutters extension must be installed)\n<a href=\"https://i.stack.imgur.com/LAbKo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LAbKo.png\" alt=\"enter image description here\" /></a></p>\n<p>Check out the class for which you wrote tests:\n<a href=\"https://i.stack.imgur.com/xm1fa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xm1fa.png\" alt=\"enter image description here\" /></a></p>\n<p>Green bars indicate that that code has been reached by your tests. Orange bars indicate a missed conditional check. Red bars indicate code that was not reached by your tests.</p>\n<h1>References</h1>\n<ul>\n<li><a href=\"https://medium.com/@karlrombauts/setting-up-unit-testing-for-java-in-vs-code-with-maven-3dc75579122f\" rel=\"nofollow noreferrer\">https://medium.com/@karlrombauts/setting-up-unit-testing-for-java-in-vs-code-with-maven-3dc75579122f</a></li>\n<li><a href=\"https://www.eclemma.org/jacoco/trunk/doc/maven.html\" rel=\"nofollow noreferrer\">https://www.eclemma.org/jacoco/trunk/doc/maven.html</a></li>\n</ul>\n"}],"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18690,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":77464184,"answer_count":2,"score":14,"last_activity_date":1701611637,"creation_date":1534931379,"question_id":51964147,"body_markdown":"I am using VSC for my Java project with maven help.\r\nI would like to use a Code Coverage tool but I lost the directions in the many possibilities you have.  \r\nMy goals are:  \r\n\r\n - run the Code Coverage goal with Maven;\r\n - Display the test coverage in VSC with a plugin like [Coverage Gutter][1]\r\n\r\nWhich Code Code coverage tool to use?  \r\nCan someone show me the right Maven plugin and the way to configure VSC?\r\n\r\nThanks,  \r\nS.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=ryanluker.vscode-coverage-gutters","title":"Java Code Coverage in Visual Studio Code","body":"<p>I am using VSC for my Java project with maven help.\nI would like to use a Code Coverage tool but I lost the directions in the many possibilities you have.<br>\nMy goals are:  </p>\n\n<ul>\n<li>run the Code Coverage goal with Maven;</li>\n<li>Display the test coverage in VSC with a plugin like <a href=\"https://marketplace.visualstudio.com/items?itemName=ryanluker.vscode-coverage-gutters\" rel=\"noreferrer\">Coverage Gutter</a></li>\n</ul>\n\n<p>Which Code Code coverage tool to use?<br>\nCan someone show me the right Maven plugin and the way to configure VSC?</p>\n\n<p>Thanks,<br>\nS.</p>\n"},{"tags":["java","google-cloud-platform","apache-kafka","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701611541,"post_id":77594072,"comment_id":136794818,"body_markdown":"Unclear what you mean by &quot;unbounded / expensive&quot;. What resource utilization dashboards are you looking at? The Kafka consumer will poll only 500 records at a time, then they&#39;re all processed in a batch (written to BQ), then you get up to 500 again. This happens automatically","body":"Unclear what you mean by &quot;unbounded / expensive&quot;. What resource utilization dashboards are you looking at? The Kafka consumer will poll only 500 records at a time, then they&#39;re all processed in a batch (written to BQ), then you get up to 500 again. This happens automatically"},{"owner":{"account_id":21001555,"reputation":31,"user_id":15432255,"display_name":"Y2Jepic"},"score":0,"creation_date":1701619034,"post_id":77594072,"comment_id":136795626,"body_markdown":"@OneCricketeer. unbounded here means &quot;never-ending data streams with no beginning or end&quot;. Expensive means streaming dataflow will be running all the time rather than on schduled or need basis . so over the time it will incur more cost. So that&#39;s why i want to change this to batch mode with minimal changes","body":"@OneCricketeer. unbounded here means &quot;never-ending data streams with no beginning or end&quot;. Expensive means streaming dataflow will be running all the time rather than on schduled or need basis . so over the time it will incur more cost. So that&#39;s why i want to change this to batch mode with minimal changes"},{"owner":{"account_id":22414770,"reputation":668,"user_id":16622985,"display_name":"CaptainNabla"},"score":3,"creation_date":1701621975,"post_id":77594072,"comment_id":136795972,"body_markdown":"I belive that is impossible. Having an `unbounded` source automatically results in a streaming Dataflow pipeline.","body":"I belive that is impossible. Having an <code>unbounded</code> source automatically results in a streaming Dataflow pipeline."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701647768,"post_id":77594072,"comment_id":136798493,"body_markdown":"Spark has batch streaming that you can run in Dataproc / GKE. I don&#39;t think Beam/Dataflow does batch, as mentioned","body":"Spark has batch streaming that you can run in Dataproc / GKE. I don&#39;t think Beam/Dataflow does batch, as mentioned"}],"owner":{"account_id":21001555,"reputation":31,"user_id":15432255,"display_name":"Y2Jepic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701611456,"creation_date":1701602944,"question_id":77594072,"body_markdown":"I have a streaming dataflow pipeline in which kafka is acting as input and data is loaded to bigquery. As this operation is expensive and  KafkaIO source returns unbounded collection of Kafka records so is there any way in which this dataflow pipeline can be converted to batch mode with kafka as source .\r\nBelow is the sample code \r\n\r\n// Existing streaming pipeline reading from Kafka and writing to BigQuery\r\n\r\n    PipelineOptions options = PipelineOptionsFactory.create();\r\n    Pipeline pipeline = Pipeline.create(options);\r\n    \r\n    pipeline\r\n        .apply(&quot;ReadFromKafka&quot;, KafkaIO.read().withBootstrapServers(&quot;localhost:9092&quot;).withTopics(Arrays.asList(&quot;topic&quot;)))\r\n        .apply(&quot;TransformData&quot;, ... )\r\n        .apply(&quot;WriteToBigQuery&quot;, BigQueryIO.writeTableRows().to(&quot;project:dataset.table&quot;).withSchema(...));\r\n\r\n","title":"Convert streaming dataflow pipeline having kafka as source to batch pipeline in GCP","body":"<p>I have a streaming dataflow pipeline in which kafka is acting as input and data is loaded to bigquery. As this operation is expensive and  KafkaIO source returns unbounded collection of Kafka records so is there any way in which this dataflow pipeline can be converted to batch mode with kafka as source .\nBelow is the sample code</p>\n<p>// Existing streaming pipeline reading from Kafka and writing to BigQuery</p>\n<pre><code>PipelineOptions options = PipelineOptionsFactory.create();\nPipeline pipeline = Pipeline.create(options);\n\npipeline\n    .apply(&quot;ReadFromKafka&quot;, KafkaIO.read().withBootstrapServers(&quot;localhost:9092&quot;).withTopics(Arrays.asList(&quot;topic&quot;)))\n    .apply(&quot;TransformData&quot;, ... )\n    .apply(&quot;WriteToBigQuery&quot;, BigQueryIO.writeTableRows().to(&quot;project:dataset.table&quot;).withSchema(...));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":4,"creation_date":1701610809,"post_id":77594512,"comment_id":136794735,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be tested by others to provide an answer faster.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/77594512/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be tested by others to provide an answer faster."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":6,"creation_date":1701611345,"post_id":77594512,"comment_id":136794798,"body_markdown":"Java compiler disagrees with you. It is an enum.","body":"Java compiler disagrees with you. It is an enum."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1701614553,"post_id":77594512,"comment_id":136795118,"body_markdown":"Maybe you have two classes named `Category` - for example a top level class `Category` and an enum `Category` defined locally in your `main.java`.","body":"Maybe you have two classes named <code>Category</code> - for example a top level class <code>Category</code> and an enum <code>Category</code> defined locally in your <code>main.java</code>."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1701617465,"post_id":77594512,"comment_id":136795436,"body_markdown":"Verify your `import` statements. Change the name of your intended `Category` class as an experiment.","body":"Verify your <code>import</code> statements. Change the name of your intended <code>Category</code> class as an experiment."}],"owner":{"account_id":30054896,"reputation":1,"user_id":23032501,"display_name":"Raneem Abdulbar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701611332,"answer_count":0,"score":-3,"last_activity_date":1701611211,"creation_date":1701610494,"question_id":77594512,"body_markdown":"I am getting this error in my dbms project \r\n\r\n```\r\nmain.java:396: error: enum classes may not be instantiated\r\nCategory category = new Category(categoryId, categoryName);\r\n```\r\n\r\n\r\neven though Category is not an enum. What may be the reasons of this? ","title":"Java treating my class like an enum even though it is not","body":"<p>I am getting this error in my dbms project</p>\n<pre><code>main.java:396: error: enum classes may not be instantiated\nCategory category = new Category(categoryId, categoryName);\n</code></pre>\n<p>even though Category is not an enum. What may be the reasons of this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9841,"page":18,"page_size":100}
