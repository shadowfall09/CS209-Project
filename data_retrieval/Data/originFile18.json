{"items":[{"tags":["java","swing","jbutton","jtogglebutton"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1701737063,"post_id":77603269,"comment_id":136810424,"body_markdown":"Consider providing a [mcve]","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1701737227,"post_id":77603269,"comment_id":136810447,"body_markdown":"1) Why are you extending JToggleButton? You should only extend a class to add functionality, not set properties of the class. 2) *but they cover up the text* - by default the text is painted to the right of the Icon. If you don&#39;t see the text, my guess is you are using a null layout and the text is truncated. 3) *Is there a way to layer the text of the button above its icons so it&#39;s visible in both states?* - think you looking for setHorizontalTextPosition(...) and setVerticalTextPosition(...). When set to CENTER the text will be painted in the center of the Icon.","body":"1) Why are you extending JToggleButton? You should only extend a class to add functionality, not set properties of the class. 2) <i>but they cover up the text</i> - by default the text is painted to the right of the Icon. If you don&#39;t see the text, my guess is you are using a null layout and the text is truncated. 3) <i>Is there a way to layer the text of the button above its icons so it&#39;s visible in both states?</i> - think you looking for setHorizontalTextPosition(...) and setVerticalTextPosition(...). When set to CENTER the text will be painted in the center of the Icon."}],"owner":{"account_id":30067235,"reputation":1,"user_id":23042065,"display_name":"milkchunks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701736887,"creation_date":1701736769,"question_id":77603269,"body_markdown":"I&#39;m trying to make a JToggleButton with icons for the toggled on and toggled off states. The icons work just fine, but they cover up the text even when I make the center of the toggled off state transparent.\r\n\r\nThis is my code for the button, in a constructor for a class extending JToggleButton\r\n\r\n\r\n```\r\npublic SettingsButton(String text) {\r\n        super.setText(text);\r\n        super.setIcon(disabledIcon);\r\n        super.setSelectedIcon(enabledIcon);\r\n        super.setBackground(new Color(255, 255, 255));\r\n        super.setFont(settingsButtonsFont);\r\n    }\r\n```\r\n\r\nIt looks like this disabled (should have text reading &quot;English to Spanish&quot;):\r\n[disabled]\r\n\r\n[![https://i.stack.imgur.com/95geH.png][1]][1]\r\n\r\nand like this enabled (should have text reading &quot;Spanish to English&quot;):\r\n[enabled]\r\n\r\n[![https://i.stack.imgur.com/ZUEqy.png][2]][2]\r\n\r\n\r\nI tried to set the background to white, and I tried to use setComponentZOrder(). I found that this didn&#39;t work because it only works for components in the frame, not the parts of a button.\r\n\r\nIs there a way to layer the text of the button above its icons so it&#39;s visible in both states?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/95geH.png\r\n  [2]: https://i.stack.imgur.com/ZUEqy.png","title":"Layering text and images on JToggleButton?","body":"<p>I'm trying to make a JToggleButton with icons for the toggled on and toggled off states. The icons work just fine, but they cover up the text even when I make the center of the toggled off state transparent.</p>\n<p>This is my code for the button, in a constructor for a class extending JToggleButton</p>\n<pre><code>public SettingsButton(String text) {\n        super.setText(text);\n        super.setIcon(disabledIcon);\n        super.setSelectedIcon(enabledIcon);\n        super.setBackground(new Color(255, 255, 255));\n        super.setFont(settingsButtonsFont);\n    }\n</code></pre>\n<p>It looks like this disabled (should have text reading &quot;English to Spanish&quot;):\n[disabled]</p>\n<p><a href=\"https://i.stack.imgur.com/95geH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95geH.png\" alt=\"https://i.stack.imgur.com/95geH.png\" /></a></p>\n<p>and like this enabled (should have text reading &quot;Spanish to English&quot;):\n[enabled]</p>\n<p><a href=\"https://i.stack.imgur.com/ZUEqy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZUEqy.png\" alt=\"https://i.stack.imgur.com/ZUEqy.png\" /></a></p>\n<p>I tried to set the background to white, and I tried to use setComponentZOrder(). I found that this didn't work because it only works for components in the frame, not the parts of a button.</p>\n<p>Is there a way to layer the text of the button above its icons so it's visible in both states?</p>\n"},{"tags":["java","pseudocode","divide-and-conquer"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1701737749,"post_id":77603258,"comment_id":136810490,"body_markdown":"The answer depends on which RDBMS you&#39;re using and what you mean by &quot;database&quot;. Many RDBMS can do it in one query, because many can have multiple databases on the same server and can query multiple databases in one query.","body":"The answer depends on which RDBMS you&#39;re using and what you mean by &quot;database&quot;. Many RDBMS can do it in one query, because many can have multiple databases on the same server and can query multiple databases in one query."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1701738540,"post_id":77603258,"comment_id":136810545,"body_markdown":"The right way is binary search.  Whoever is calling that a &quot;divide and conquer algorithm&quot; is incorrect, I think.","body":"The right way is binary search.  Whoever is calling that a &quot;divide and conquer algorithm&quot; is incorrect, I think."}],"owner":{"account_id":30067247,"reputation":1,"user_id":23042073,"display_name":"salexiou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701739138,"answer_count":0,"score":-1,"last_activity_date":1701736595,"creation_date":1701736519,"question_id":77603258,"body_markdown":"I have to analyze data from two separate databases with limited access. Each database contains n numerical values (2n values in total), and all values are distinct. The goal is to find the median of these 2n values (i.e., the nth smallest value).\r\n\r\nHowever, the only way to access the data is by making selection queries on the databases. Each query specifies one of the two databases and a value k, returning the k-th smallest value from that specific database. These queries have a cost, so your objective is to calculate the median using as few queries as possible.\r\n\r\nI have to use a Divide and Conquer algorithm that returns the median using at most O(log n) queries.\r\n\r\nI cant imagine a way that will lead to O(logn)","title":"Find median of two databases complexity","body":"<p>I have to analyze data from two separate databases with limited access. Each database contains n numerical values (2n values in total), and all values are distinct. The goal is to find the median of these 2n values (i.e., the nth smallest value).</p>\n<p>However, the only way to access the data is by making selection queries on the databases. Each query specifies one of the two databases and a value k, returning the k-th smallest value from that specific database. These queries have a cost, so your objective is to calculate the median using as few queries as possible.</p>\n<p>I have to use a Divide and Conquer algorithm that returns the median using at most O(log n) queries.</p>\n<p>I cant imagine a way that will lead to O(logn)</p>\n"},{"tags":["java","zstd"],"owner":{"account_id":20396497,"reputation":25,"user_id":14963172,"display_name":"munna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701736498,"creation_date":1701736498,"question_id":77603256,"body_markdown":"We have a use case where we need to retrieve multiple zstd files and decompress them and we don&#39;t know the size of the original files.\r\n\r\nZstd-jni requires us to provide the size of the decompressed file to do the decompression process.\r\n\r\nThe method provided by Zstd-jni library, listed below, is returning -1 for the size of the decompressed file.\r\n\r\n```\r\nbyte[] inputArray;\r\nlong size = Zstd.decompressedSize(inputArray);\r\n```\r\n\r\nIs there any other way to find out the original file size or decompress it without knowing the original file size?\r\n\r\n```\r\nSample file sizes:\r\nCompressed file size: 17355 bytes\r\nDecompressed file size: 275379 bytes\r\n```","title":"how to decompress zstd files with unknown original file size with zstd-jni","body":"<p>We have a use case where we need to retrieve multiple zstd files and decompress them and we don't know the size of the original files.</p>\n<p>Zstd-jni requires us to provide the size of the decompressed file to do the decompression process.</p>\n<p>The method provided by Zstd-jni library, listed below, is returning -1 for the size of the decompressed file.</p>\n<pre><code>byte[] inputArray;\nlong size = Zstd.decompressedSize(inputArray);\n</code></pre>\n<p>Is there any other way to find out the original file size or decompress it without knowing the original file size?</p>\n<pre><code>Sample file sizes:\nCompressed file size: 17355 bytes\nDecompressed file size: 275379 bytes\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701734025,"post_id":77603109,"comment_id":136810144,"body_markdown":"Presumably, `Object weirdCars = createVehicleList();` is &quot;inferring&quot; `List&lt;Vechicle&gt;`, as that&#39;s the upper bound of `T`, and all reference types are an `Object`, so the assignment works.","body":"Presumably, <code>Object weirdCars = createVehicleList();</code> is &quot;inferring&quot; <code>List&lt;Vechicle&gt;</code>, as that&#39;s the upper bound of <code>T</code>, and all reference types are an <code>Object</code>, so the assignment works."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1701734178,"post_id":77603109,"comment_id":136810161,"body_markdown":"Also, you can&#39;t use `add` on a `List&lt;?&gt;` because `?` means that you don&#39;t know what is allowed in it. For instance, a `List&lt;String&gt;` would be a `List&lt;?&gt;` but doesn&#39;t allow adding a `LocalDate`.","body":"Also, you can&#39;t use <code>add</code> on a <code>List&lt;?&gt;</code> because <code>?</code> means that you don&#39;t know what is allowed in it. For instance, a <code>List&lt;String&gt;</code> would be a <code>List&lt;?&gt;</code> but doesn&#39;t allow adding a <code>LocalDate</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1701736321,"post_id":77603109,"comment_id":136810357,"body_markdown":"Gilad Bracha’s excellent [explanation of Generics](https://docs.oracle.com/javase/tutorial/extra/generics/), now part of the official Java tutorial, taught me everything about how Java generics work.  It is invaluable.","body":"Gilad Bracha’s excellent <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/\" rel=\"nofollow noreferrer\">explanation of Generics</a>, now part of the official Java tutorial, taught me everything about how Java generics work.  It is invaluable."},{"owner":{"account_id":437673,"reputation":1164,"user_id":825489,"accept_rate":33,"display_name":"Bean Taxi"},"score":0,"creation_date":1701736348,"post_id":77603109,"comment_id":136810359,"body_markdown":"@Slaw I&#39;ve confirmed this is correct. I&#39;m able to cast `weirdCars` above to a `List&lt;Vehicle&gt;`, and then I can assign a new `Vehicle`, `Car`, or `Boat`. Etc. This must have been the one thing I didn&#39;t try. Thanks!","body":"@Slaw I&#39;ve confirmed this is correct. I&#39;m able to cast <code>weirdCars</code> above to a <code>List&lt;Vehicle&gt;</code>, and then I can assign a new <code>Vehicle</code>, <code>Car</code>, or <code>Boat</code>. Etc. This must have been the one thing I didn&#39;t try. Thanks!"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701736560,"post_id":77603109,"comment_id":136810378,"body_markdown":"You&#39;ll be able to cast `weirdCars` to any `List` parameterization; even, for example, `List&lt;String&gt;`. There&#39;s a reason this is an unchecked cast.","body":"You&#39;ll be able to cast <code>weirdCars</code> to any <code>List</code> parameterization; even, for example, <code>List&lt;String&gt;</code>. There&#39;s a reason this is an unchecked cast."},{"owner":{"account_id":437673,"reputation":1164,"user_id":825489,"accept_rate":33,"display_name":"Bean Taxi"},"score":0,"creation_date":1701739173,"post_id":77603109,"comment_id":136810586,"body_markdown":"@Slaw Agreed, I meant I could cast and then use it as expected. Simply surviving a cast is indeed a low bar.","body":"@Slaw Agreed, I meant I could cast and then use it as expected. Simply surviving a cast is indeed a low bar."},{"owner":{"account_id":437673,"reputation":1164,"user_id":825489,"accept_rate":33,"display_name":"Bean Taxi"},"score":0,"creation_date":1701739254,"post_id":77603109,"comment_id":136810592,"body_markdown":"@VGR Thanks! That was a very good read. I definitely didn&#39;t understand it all the first time through, but it helped a few things, and it&#39;s good to know it&#39;s there for rereads. Interesting one of the people named in the Acknowledgements is Mads Torgersen, of C# fame.","body":"@VGR Thanks! That was a very good read. I definitely didn&#39;t understand it all the first time through, but it helped a few things, and it&#39;s good to know it&#39;s there for rereads. Interesting one of the people named in the Acknowledgements is Mads Torgersen, of C# fame."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701768975,"post_id":77603109,"comment_id":136813727,"body_markdown":"I don’t understand your question. You can write `List&lt;?&gt; listOfUnknown=createVehicleList(); Object weirdCars = listOfUnknown;` so why should the compiler not allow to write `Object weirdCars = createVehicleList();` which does the same without the intermediate variable? As a side note, it’s weird to write `System.out.println(String.format(&quot;el = %s&quot;, el));` If you like the formatting API, just use `System.out.printf(&quot;el = %s%n&quot;, el);` to format and print. If you like simplicity and efficiency, just write `System.out.println(&quot;el = &quot; + el);`","body":"I don’t understand your question. You can write <code>List&lt;?&gt; listOfUnknown=createVehicleList(); Object weirdCars = listOfUnknown;</code> so why should the compiler not allow to write <code>Object weirdCars = createVehicleList();</code> which does the same without the intermediate variable? As a side note, it’s weird to write <code>System.out.println(String.format(&quot;el = %s&quot;, el));</code> If you like the formatting API, just use <code>System.out.printf(&quot;el = %s%n&quot;, el);</code> to format and print. If you like simplicity and efficiency, just write <code>System.out.println(&quot;el = &quot; + el);</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701736274,"creation_date":1701736274,"answer_id":77603247,"question_id":77603109,"body_markdown":"```\r\nObject weirdCars = createVehicleList();\r\n```\r\n\r\nThe `creeateVehicleList()` invokes the `createVehicleList` method, which declares a fresh new type variable. That&#39;s the `T` surrounded by exclamation points in `private static &lt;!!T!! extends Vehicle&gt; List&lt;T&gt; createVehicleList ()` - the second usage of T (`List&lt;T&gt;`) is not declaring a new type var, no, that&#39;s _using it_.\r\n\r\nA type var is best understood as follows:\r\n\r\nThe __user__, i .e. the caller, of `createVehicleList` is forced to pick some type T. This T is restricted here; the caller gets to pick any type it wants, but, that type must either be Vehicle, or any subtype of it. So, a caller can pick Vehicle, or it can pick Car, or it can pick Bike, or it can pick Airplane, or it can pick Froobargle. Froobargles don&#39;t exist yet. Nobody knows what they are. In 2049, someone will invent a vehicle called Froobargle. You can&#39;t plan for this. But it will be a vehicle by then.\r\n\r\nHence, your method declaration is now constrained by the compiler: Given that you write only one method declaration, but there are a potentially infinite number of _users_ of that declaration (callers), and each caller gets to pick a vehicle type to bind to their particular &#39;take&#39; on T, and it is in fact impossible to enumerate all choices, given that in 2049 someone is going to invent a Floobargle which is a kind of vehicle, the code of `createVehicleListz` must deal with the fact that __T is a meta-type&#39;: It stands for every possible vehicle, all at once. In other words, your code must be valid __for _all_ possible choices__. Your code must make sense if T is Bike. It must make sense if T is Car. It must make sense if T is Vehicle. It must make sense if T is Feoobargle.\r\n\r\nHence, 2 constraints are created here:\r\n\r\n* A call to `createVehicleList()` __must__ either [A] explicitly make clear what type you want, i.e. `Foo.&lt;Car&gt;createVehicleList()`, or [B] needs to implicitly make that clear, e.g. `Foo&lt;Car&gt; f = Foo.createVehicleList()` (the compiler infers what type you want here from context), or [C] you get a warning that the compiler can&#39;t follow along (generics are gone once compiled; it&#39;s purely a figment of the compiler&#39;s imagination, it&#39;s compiler-documentation type documentation), or [D] the compiler must be able to ascertain it doesn&#39;t matter.\r\n\r\n* The code within the `createVehicleList` must make sense for __all possible choices__, even the ones we can&#39;t enumerate yet, such as the Froobargle choice which isn&#39;t going to be sensible until 2049 when that is invented.\r\n\r\nHence:\r\n\r\n`Object x = createVehicleList()` is fine, because that&#39;s a D case: It doesn&#39;t matter. for compilation purposes the compiler picks the lower bound (Vehicle) here, which then ceases to be relevant. Generics exist solely as compiler-checked documentation, and you&#39;ve opted to ignore any and all bounds here, `x` has no types associated with it, so, the compiler can just recognize it has nothing to do and completely ignore it.\r\n\r\n\r\n----\r\n\r\n```\r\nList&lt;?&gt; list = (List&lt;?&gt;)weirdCars;\r\n```\r\n\r\nThis is fine, of course. You&#39;re casting an expression of type `Object` to `List` which is valid java: Java will inject some bytecode which has only 2 options: Either [A] that expression resolves to a value that is indeed an instance of `List`, or `null`, in which case this __does absolutely nothing at all__, or [B] it isn&#39;t, in which case __this is a weird way to write `throw new ClassCastException()`. This kind of cast _does not ever_ convert anything. It merely does either nothing at all, or throws. Lists need a type param and as type params are a figment of the compiler&#39;s imagination and casting is a runtime thing, there&#39;s nothing left to say, but, fortunately, that ? works out: ? means, literally: __don&#39;t know__. `Lis&lt;?&gt;` does not mean: &quot;This is a list that can hold whatever&quot;. It means: &quot;This is a list that contains __I do not know__. There _is_ a constraint. I just do not know what it is. It might be a list constrained to contain only strings. It might be a list constraint to contain only sets of maps of strings to integers. It might be a list that can contain everything (effectively, `Object` - all things are objects). I just don&#39;t know&quot;.\r\n\r\nThat&#39;s the only fair cast you can make here. You have no idea what the constraint might be and `?` accurately represents &#39;no idea - ensure whatever code I write is valid regardless of what constraint exists&#39;.\r\n\r\n---\r\n\r\n```\r\nlist.add(null);\r\n```\r\n\r\nThe `list` expression is of type `List&lt;?&gt;` which, as we covered, means: &quot;A list which is constrained to only contain things of some type and unfortunately I have no idea what that is&quot;.\r\n\r\nThe compiler will ensure that any code you wrote works for __all possible valid choices within that domain__. So, that constraint could be &#39;strings&#39;, &#39;integers&#39;, &#39;doubles&#39;, &#39;inputstreams&#39;, or &#39;lists of sets of maps of strings to lists of froobargles&#39; - we just do not know. So, what thing can you pass to the `add` method that works __for ALL of those choices__?\r\n\r\nThe one, and only, value, is `null`. It&#39;s not because `null` has no type. Quite the opposite. `null`, the literal, is _every_ type. And only an expression that is all types at once could possibly fit when the code needs to work for all cases, whether that ? is Integer, String, or `Set&lt;Map&lt;String, List&lt;Froobargle&gt;&gt;`.\r\n\r\nHence, yeah, a `List&lt;?&gt;` or `List&lt;? extends Whatever&gt;` __cannot__ be added to, except the academic (i.e. useless) case of the null literal.\r\n\r\nThat&#39;s the point.\r\n\r\n## An important case to think about\r\n\r\nIn java, the basic type system is __covariant__. Meaning, any expression of some type is valid anytime an expression of some supertype is needed. Stated simply, this:\r\n\r\n```\r\nNumber n = new Integer(5);\r\n```\r\n\r\nis legal java.\r\n\r\nHowever, generics __just do not play that game__ - generics are __invariant__. If `Number` is needed, only `Number` will do. We can see this too:\r\n\r\n```\r\nList&lt;Number&gt; n = new ArrayList&lt;Integer&gt;();\r\n```\r\n\r\ndoes not compile.  The problem isn&#39;t the ArrayList part - basic java says that any subtype is a valid standin and ArrayList is a subtype of List. No, the problem is the generics: shoving `&lt;Integer&gt;` is no good, it must be `&lt;Number&gt;` and nothing else will do. The reason is because __that&#39;s just how math / the universe is__.\r\n\r\nImagine we doggedly ignore the universe and say that should work. Then I Can write this:\r\n\r\n```\r\nList&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\nList&lt;Number&gt; numbers = ints; // hey, you wanted this to be legal.\r\nNumber z = new Double(5.5); // this HAS to be legal.\r\nnumbers.add(z); // so does this; of course I can add a number to a list of numbers.\r\nInteger i = ints.get(0); // this has to be legal too\r\n```\r\n\r\nEvery step other than the second line is obviously correct, and yet, we end up trying to shove a double value into a variable of type Integer which obviously cannot be allowed. The answer to this paradox is that the second line is lying: `List&lt;Number&gt; n = someListOfInt;` does __not__ compile at all, because it __cannot__ - if that was allowed you run into this clusterbomb of a situation.\r\n\r\nHence, generics are __invariant__.\r\n\r\nHowever, this raises an issue: What if you write a method that never adds anything to a list (which it got as an argument); it only reads from that list. This method demands that the values in said list are numbers, but the method can deal with `List&lt;Number&gt;`, `List&lt;Integer&gt;`, `List&lt;Double&gt;` - any number you like, as long as its a list of some sort of type that is Number or a subtype of it. In plain java you can write a method `void foo(Number n)` and rest assured that a caller can pass a double, an integer, or anything else that is a subtype of Number. But generics bounds have to be covariant, so a method `void foo(List&lt;Number&gt; n)` cannot be invoked with a `List&lt;Integer&gt;` argument, because if you could, that `foo` method could add a double to your list of integers and we don&#39;t want that.\r\n\r\nSo, we want methods to be able to handcuff themselves: A tradeoff; I shall promise not to add anything to the list, but I do want the ability to assume that any object in this list is null or an instance of Vehicle or some subtype thereof. In trade for these handcuffs, the compiler will take a chill pill and allow callers to pass `List&lt;Vehicle&gt;`, `List&lt;Car&gt;`, `List&lt;Bike&gt;`, and even, come 2049, `List&lt;Froobargle&gt;`.\r\n\r\nAnd, yay, you can do that. `List&lt;? extends Vehicle&gt;` is what you want. You can&#39;t add anything to this list, because no x in `list.add(x)` will work for ALL possible cases (those cases being `List&lt;Vehicle&gt;`, `List&lt;Car&gt;`, `List&lt;Bike&gt;`, and `List&lt;Froobargle&gt;` - there can be an infinite number of imaginable vehicles, hence, the actual use cases are infinite). Well, except literally `list.add(null)`, of course.\r\n\r\n`? extends Vehicle` is opting back into covariance. Which adds handcuffs: The compiler will ensure you don&#39;t break stuff. Which you will, if you call `.add`, so the compiler will ensure you don&#39;t call that.\r\n","title":"Java Generics w &lt;extends&gt; ... why does this code compile?","body":"<pre><code>Object weirdCars = createVehicleList();\n</code></pre>\n<p>The <code>creeateVehicleList()</code> invokes the <code>createVehicleList</code> method, which declares a fresh new type variable. That's the <code>T</code> surrounded by exclamation points in <code>private static &lt;!!T!! extends Vehicle&gt; List&lt;T&gt; createVehicleList ()</code> - the second usage of T (<code>List&lt;T&gt;</code>) is not declaring a new type var, no, that's <em>using it</em>.</p>\n<p>A type var is best understood as follows:</p>\n<p>The <strong>user</strong>, i .e. the caller, of <code>createVehicleList</code> is forced to pick some type T. This T is restricted here; the caller gets to pick any type it wants, but, that type must either be Vehicle, or any subtype of it. So, a caller can pick Vehicle, or it can pick Car, or it can pick Bike, or it can pick Airplane, or it can pick Froobargle. Froobargles don't exist yet. Nobody knows what they are. In 2049, someone will invent a vehicle called Froobargle. You can't plan for this. But it will be a vehicle by then.</p>\n<p>Hence, your method declaration is now constrained by the compiler: Given that you write only one method declaration, but there are a potentially infinite number of <em>users</em> of that declaration (callers), and each caller gets to pick a vehicle type to bind to their particular 'take' on T, and it is in fact impossible to enumerate all choices, given that in 2049 someone is going to invent a Floobargle which is a kind of vehicle, the code of <code>createVehicleListz</code> must deal with the fact that __T is a meta-type': It stands for every possible vehicle, all at once. In other words, your code must be valid <strong>for <em>all</em> possible choices</strong>. Your code must make sense if T is Bike. It must make sense if T is Car. It must make sense if T is Vehicle. It must make sense if T is Feoobargle.</p>\n<p>Hence, 2 constraints are created here:</p>\n<ul>\n<li><p>A call to <code>createVehicleList()</code> <strong>must</strong> either [A] explicitly make clear what type you want, i.e. <code>Foo.&lt;Car&gt;createVehicleList()</code>, or [B] needs to implicitly make that clear, e.g. <code>Foo&lt;Car&gt; f = Foo.createVehicleList()</code> (the compiler infers what type you want here from context), or [C] you get a warning that the compiler can't follow along (generics are gone once compiled; it's purely a figment of the compiler's imagination, it's compiler-documentation type documentation), or [D] the compiler must be able to ascertain it doesn't matter.</p>\n</li>\n<li><p>The code within the <code>createVehicleList</code> must make sense for <strong>all possible choices</strong>, even the ones we can't enumerate yet, such as the Froobargle choice which isn't going to be sensible until 2049 when that is invented.</p>\n</li>\n</ul>\n<p>Hence:</p>\n<p><code>Object x = createVehicleList()</code> is fine, because that's a D case: It doesn't matter. for compilation purposes the compiler picks the lower bound (Vehicle) here, which then ceases to be relevant. Generics exist solely as compiler-checked documentation, and you've opted to ignore any and all bounds here, <code>x</code> has no types associated with it, so, the compiler can just recognize it has nothing to do and completely ignore it.</p>\n<hr />\n<pre><code>List&lt;?&gt; list = (List&lt;?&gt;)weirdCars;\n</code></pre>\n<p>This is fine, of course. You're casting an expression of type <code>Object</code> to <code>List</code> which is valid java: Java will inject some bytecode which has only 2 options: Either [A] that expression resolves to a value that is indeed an instance of <code>List</code>, or <code>null</code>, in which case this <strong>does absolutely nothing at all</strong>, or [B] it isn't, in which case __this is a weird way to write <code>throw new ClassCastException()</code>. This kind of cast <em>does not ever</em> convert anything. It merely does either nothing at all, or throws. Lists need a type param and as type params are a figment of the compiler's imagination and casting is a runtime thing, there's nothing left to say, but, fortunately, that ? works out: ? means, literally: <strong>don't know</strong>. <code>Lis&lt;?&gt;</code> does not mean: &quot;This is a list that can hold whatever&quot;. It means: &quot;This is a list that contains <strong>I do not know</strong>. There <em>is</em> a constraint. I just do not know what it is. It might be a list constrained to contain only strings. It might be a list constraint to contain only sets of maps of strings to integers. It might be a list that can contain everything (effectively, <code>Object</code> - all things are objects). I just don't know&quot;.</p>\n<p>That's the only fair cast you can make here. You have no idea what the constraint might be and <code>?</code> accurately represents 'no idea - ensure whatever code I write is valid regardless of what constraint exists'.</p>\n<hr />\n<pre><code>list.add(null);\n</code></pre>\n<p>The <code>list</code> expression is of type <code>List&lt;?&gt;</code> which, as we covered, means: &quot;A list which is constrained to only contain things of some type and unfortunately I have no idea what that is&quot;.</p>\n<p>The compiler will ensure that any code you wrote works for <strong>all possible valid choices within that domain</strong>. So, that constraint could be 'strings', 'integers', 'doubles', 'inputstreams', or 'lists of sets of maps of strings to lists of froobargles' - we just do not know. So, what thing can you pass to the <code>add</code> method that works <strong>for ALL of those choices</strong>?</p>\n<p>The one, and only, value, is <code>null</code>. It's not because <code>null</code> has no type. Quite the opposite. <code>null</code>, the literal, is <em>every</em> type. And only an expression that is all types at once could possibly fit when the code needs to work for all cases, whether that ? is Integer, String, or <code>Set&lt;Map&lt;String, List&lt;Froobargle&gt;&gt;</code>.</p>\n<p>Hence, yeah, a <code>List&lt;?&gt;</code> or <code>List&lt;? extends Whatever&gt;</code> <strong>cannot</strong> be added to, except the academic (i.e. useless) case of the null literal.</p>\n<p>That's the point.</p>\n<h2>An important case to think about</h2>\n<p>In java, the basic type system is <strong>covariant</strong>. Meaning, any expression of some type is valid anytime an expression of some supertype is needed. Stated simply, this:</p>\n<pre><code>Number n = new Integer(5);\n</code></pre>\n<p>is legal java.</p>\n<p>However, generics <strong>just do not play that game</strong> - generics are <strong>invariant</strong>. If <code>Number</code> is needed, only <code>Number</code> will do. We can see this too:</p>\n<pre><code>List&lt;Number&gt; n = new ArrayList&lt;Integer&gt;();\n</code></pre>\n<p>does not compile.  The problem isn't the ArrayList part - basic java says that any subtype is a valid standin and ArrayList is a subtype of List. No, the problem is the generics: shoving <code>&lt;Integer&gt;</code> is no good, it must be <code>&lt;Number&gt;</code> and nothing else will do. The reason is because <strong>that's just how math / the universe is</strong>.</p>\n<p>Imagine we doggedly ignore the universe and say that should work. Then I Can write this:</p>\n<pre><code>List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\nList&lt;Number&gt; numbers = ints; // hey, you wanted this to be legal.\nNumber z = new Double(5.5); // this HAS to be legal.\nnumbers.add(z); // so does this; of course I can add a number to a list of numbers.\nInteger i = ints.get(0); // this has to be legal too\n</code></pre>\n<p>Every step other than the second line is obviously correct, and yet, we end up trying to shove a double value into a variable of type Integer which obviously cannot be allowed. The answer to this paradox is that the second line is lying: <code>List&lt;Number&gt; n = someListOfInt;</code> does <strong>not</strong> compile at all, because it <strong>cannot</strong> - if that was allowed you run into this clusterbomb of a situation.</p>\n<p>Hence, generics are <strong>invariant</strong>.</p>\n<p>However, this raises an issue: What if you write a method that never adds anything to a list (which it got as an argument); it only reads from that list. This method demands that the values in said list are numbers, but the method can deal with <code>List&lt;Number&gt;</code>, <code>List&lt;Integer&gt;</code>, <code>List&lt;Double&gt;</code> - any number you like, as long as its a list of some sort of type that is Number or a subtype of it. In plain java you can write a method <code>void foo(Number n)</code> and rest assured that a caller can pass a double, an integer, or anything else that is a subtype of Number. But generics bounds have to be covariant, so a method <code>void foo(List&lt;Number&gt; n)</code> cannot be invoked with a <code>List&lt;Integer&gt;</code> argument, because if you could, that <code>foo</code> method could add a double to your list of integers and we don't want that.</p>\n<p>So, we want methods to be able to handcuff themselves: A tradeoff; I shall promise not to add anything to the list, but I do want the ability to assume that any object in this list is null or an instance of Vehicle or some subtype thereof. In trade for these handcuffs, the compiler will take a chill pill and allow callers to pass <code>List&lt;Vehicle&gt;</code>, <code>List&lt;Car&gt;</code>, <code>List&lt;Bike&gt;</code>, and even, come 2049, <code>List&lt;Froobargle&gt;</code>.</p>\n<p>And, yay, you can do that. <code>List&lt;? extends Vehicle&gt;</code> is what you want. You can't add anything to this list, because no x in <code>list.add(x)</code> will work for ALL possible cases (those cases being <code>List&lt;Vehicle&gt;</code>, <code>List&lt;Car&gt;</code>, <code>List&lt;Bike&gt;</code>, and <code>List&lt;Froobargle&gt;</code> - there can be an infinite number of imaginable vehicles, hence, the actual use cases are infinite). Well, except literally <code>list.add(null)</code>, of course.</p>\n<p><code>? extends Vehicle</code> is opting back into covariance. Which adds handcuffs: The compiler will ensure you don't break stuff. Which you will, if you call <code>.add</code>, so the compiler will ensure you don't call that.</p>\n"}],"owner":{"account_id":437673,"reputation":1164,"user_id":825489,"accept_rate":33,"display_name":"Bean Taxi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701736274,"creation_date":1701733098,"question_id":77603109,"body_markdown":"I&#39;ve never known how `extends` and `super` work with Java Generics, so I&#39;ve been playing around a bit. I&#39;ve gotten something I don&#39;t understand. I&#39;ll let the code do the talking ...\r\n\r\n```\r\npublic class Tests \r\n{\r\n    // Some straightforward sample tyes\r\n    class Vehicle {}\r\n    class Car extends Vehicle {}\r\n    \r\n    // Generic list factory method for Vehicles and all subtypes\r\n    private static &lt;T extends Vehicle&gt; List&lt;T&gt; createVehicleList ()\r\n    {\r\n        return new ArrayList&lt;T&gt;();\r\n    }\r\n\r\n\r\n    @Test\r\n    public void funWithExtends ()\r\n    {\r\n        // This works because the type is explicitly specified\r\n        List&lt;Car&gt; alsoCars = Tests.&lt;Car&gt;createVehicleList();\r\n\r\n        // This works because of type inference ... I think\r\n        List&lt;Car&gt; cars = createVehicleList();\r\n\r\n        // Here&#39;s where it gets weird. Why is this legal?\r\n        Object weirdCars = createVehicleList();\r\n        List&lt;?&gt; list = (List&lt;?&gt;)weirdCars;\r\n        list.add(null);\r\n        // This next line doesn&#39;t compile - I can&#39;t add() anything but null\r\n        //   list.add(new Vehicle());\r\n        Object el = list.get(0);\r\n        System.out.println(String.format(&quot;el = %s&quot;, el));\r\n        assertEquals(null, el);\r\n    }\r\n}\r\n```\r\n\r\nIn my last call to `createVehicleList()`, I do not give the compiler any clue as to what type of List I want. I expected a compiler error. Instead, the function executes just fine, and returns a strange list. The list is apparently valid, but I cannot add anything to the list except `null`, presumably because `null` has no type, at least for these purposes.\r\n\r\nIs there a fundamental, conceptual reason for this that I&#39;m missing? Or is it just a strange corner case, in a 30+ year old language that is adding modern features, while supporting syntactic sugar to reduce pain (eg type inference), while also focusing on backward compatability. Thanks!","title":"Java Generics w &lt;extends&gt; ... why does this code compile?","body":"<p>I've never known how <code>extends</code> and <code>super</code> work with Java Generics, so I've been playing around a bit. I've gotten something I don't understand. I'll let the code do the talking ...</p>\n<pre><code>public class Tests \n{\n    // Some straightforward sample tyes\n    class Vehicle {}\n    class Car extends Vehicle {}\n    \n    // Generic list factory method for Vehicles and all subtypes\n    private static &lt;T extends Vehicle&gt; List&lt;T&gt; createVehicleList ()\n    {\n        return new ArrayList&lt;T&gt;();\n    }\n\n\n    @Test\n    public void funWithExtends ()\n    {\n        // This works because the type is explicitly specified\n        List&lt;Car&gt; alsoCars = Tests.&lt;Car&gt;createVehicleList();\n\n        // This works because of type inference ... I think\n        List&lt;Car&gt; cars = createVehicleList();\n\n        // Here's where it gets weird. Why is this legal?\n        Object weirdCars = createVehicleList();\n        List&lt;?&gt; list = (List&lt;?&gt;)weirdCars;\n        list.add(null);\n        // This next line doesn't compile - I can't add() anything but null\n        //   list.add(new Vehicle());\n        Object el = list.get(0);\n        System.out.println(String.format(&quot;el = %s&quot;, el));\n        assertEquals(null, el);\n    }\n}\n</code></pre>\n<p>In my last call to <code>createVehicleList()</code>, I do not give the compiler any clue as to what type of List I want. I expected a compiler error. Instead, the function executes just fine, and returns a strange list. The list is apparently valid, but I cannot add anything to the list except <code>null</code>, presumably because <code>null</code> has no type, at least for these purposes.</p>\n<p>Is there a fundamental, conceptual reason for this that I'm missing? Or is it just a strange corner case, in a 30+ year old language that is adding modern features, while supporting syntactic sugar to reduce pain (eg type inference), while also focusing on backward compatability. Thanks!</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":1834874,"reputation":897,"user_id":1665452,"accept_rate":67,"display_name":"nickcodefresh"},"score":2,"creation_date":1456139892,"post_id":35496115,"comment_id":58792439,"body_markdown":"This isn&#39;t a duplicate, as it happens under Maven. The original ticket is for IntelliJ","body":"This isn&#39;t a duplicate, as it happens under Maven. The original ticket is for IntelliJ"},{"owner":{"account_id":942344,"reputation":4204,"user_id":970200,"display_name":"Ian Lim"},"score":0,"creation_date":1456364836,"post_id":35496115,"comment_id":58916744,"body_markdown":"For somebody who is looking for a solution like me: I found a solution at http://stackoverflow.com/questions/11329965/how-to-ignore-the-java-source-directory-during-maven-compilation","body":"For somebody who is looking for a solution like me: I found a solution at <a href=\"http://stackoverflow.com/questions/11329965/how-to-ignore-the-java-source-directory-during-maven-compilation\" title=\"how to ignore the java source directory during maven compilation\">stackoverflow.com/questions/11329965/&hellip;</a>"},{"owner":{"account_id":318652,"reputation":13503,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"score":0,"creation_date":1569620194,"post_id":35496115,"comment_id":102669312,"body_markdown":"This Q is totally unrelated to the &quot;duplicate&quot; Q and was incorrectly flagged.","body":"This Q is totally unrelated to the &quot;duplicate&quot; Q and was incorrectly flagged."}],"answers":[{"comments":[{"owner":{"account_id":12250741,"reputation":3899,"user_id":9047701,"display_name":"Tomas G."},"score":0,"creation_date":1643880048,"post_id":58698235,"comment_id":125458191,"body_markdown":"where did you find that config file ?","body":"where did you find that config file ?"}],"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1572887801,"creation_date":1572887801,"answer_id":58698235,"question_id":35496115,"body_markdown":"I had the same issue, resolved by:\r\n\r\n 1. Configuring `lombok-maven-plugin` to \r\n   1. Delombok the classes into `target/delombok` directory\r\n   2. Don&#39;t `addOutputDirectory` to the compiler source paths\r\n\r\n 2. Configure `maven-javadoc-plugin` to look into the `target/delombok` directory\r\n\r\nA good explanation is also at this [similar question][1]\r\n\r\nAlso, bare in mind that [onConstructor][2] is an experimental feature and that with jdk8, you should use `(onConstructor_ = @Autowired)` instead of jdk7-style `onConstructor = @__(@Autowired)`\r\n\r\nHere is my full config:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${lombok-maven-plugin-version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                     &lt;goal&gt;delombok&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\r\n                    &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n                    &lt;outputDirectory&gt;\r\n                         ${project.build.directory}/delombok\r\n                    &lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n           &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-javadoc-plugin-version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;sourcepath&gt;target/generated-sources/delombok&lt;/sourcepath&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    \r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/11329965/1998422\r\n  [2]: https://projectlombok.org/features/experimental/onX","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>I had the same issue, resolved by:</p>\n\n<ol>\n<li><p>Configuring <code>lombok-maven-plugin</code> to </p>\n\n<ol>\n<li>Delombok the classes into <code>target/delombok</code> directory</li>\n<li>Don't <code>addOutputDirectory</code> to the compiler source paths</li>\n</ol></li>\n<li><p>Configure <code>maven-javadoc-plugin</code> to look into the <code>target/delombok</code> directory</p></li>\n</ol>\n\n<p>A good explanation is also at this <a href=\"https://stackoverflow.com/q/11329965/1998422\">similar question</a></p>\n\n<p>Also, bare in mind that <a href=\"https://projectlombok.org/features/experimental/onX\" rel=\"noreferrer\">onConstructor</a> is an experimental feature and that with jdk8, you should use <code>(onConstructor_ = @Autowired)</code> instead of jdk7-style <code>onConstructor = @__(@Autowired)</code></p>\n\n<p>Here is my full config:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${lombok-maven-plugin-version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                 &lt;goal&gt;delombok&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\n                &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n                &lt;outputDirectory&gt;\n                     ${project.build.directory}/delombok\n                &lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n       &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-javadoc-plugin-version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;sourcepath&gt;target/generated-sources/delombok&lt;/sourcepath&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189903,"reputation":17885,"user_id":429521,"accept_rate":65,"display_name":"Felipe Sabino"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1582118174,"creation_date":1582118174,"answer_id":60301260,"question_id":35496115,"body_markdown":"Adding here just for future reference as on my case I was trying to build on Intelij and the error was due to compiler annotation processors being disabled.\r\n\r\nTo enable it, go to Intelij preferences, open _&quot;Build, Execution, Deployment&quot;_ -&gt; _&quot;Compiler&quot;_ -&gt; _&quot;Annotation Processors&quot;_ and make sure _&quot;Enable annotation processing&quot;_ is enabled\r\n\r\n[![Enable annotation processing Intelij preference][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r1Qek.png","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>Adding here just for future reference as on my case I was trying to build on Intelij and the error was due to compiler annotation processors being disabled.</p>\n\n<p>To enable it, go to Intelij preferences, open <em>\"Build, Execution, Deployment\"</em> -> <em>\"Compiler\"</em> -> <em>\"Annotation Processors\"</em> and make sure <em>\"Enable annotation processing\"</em> is enabled</p>\n\n<p><a href=\"https://i.stack.imgur.com/r1Qek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1Qek.png\" alt=\"Enable annotation processing Intelij preference\"></a></p>\n"},{"comments":[{"owner":{"account_id":64019,"reputation":2986,"user_id":189203,"accept_rate":83,"display_name":"Guus"},"score":0,"creation_date":1658760020,"post_id":73070184,"comment_id":129125203,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/32303614)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/32303614\">From Review</a>"}],"tags":[],"owner":{"account_id":7673063,"reputation":1,"user_id":5814679,"display_name":"Lotes Silva"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658423394,"creation_date":1658423322,"answer_id":73070184,"question_id":35496115,"body_markdown":"If you use intellij Idea go to setting and add Lombok plugin to your intellij idea\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1FXZG.png","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>If you use intellij Idea go to setting and add Lombok plugin to your intellij idea</p>\n<p><a href=\"https://i.stack.imgur.com/1FXZG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":8250836,"reputation":241,"user_id":6422750,"display_name":"Theta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675428290,"creation_date":1675428290,"answer_id":75335927,"question_id":35496115,"body_markdown":"For me the reason for this error (caused by `@RequiredArgsConstructor(onConstructor = @__(@Autowired))` to be exact) was a duplicated `@Transactional` annotation in another class (overlooked after rebasing a branch in Git). Removing the duplicate resolved the issue immediately, maybe this piece of information helps somebody in the future :-)","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>For me the reason for this error (caused by <code>@RequiredArgsConstructor(onConstructor = @__(@Autowired))</code> to be exact) was a duplicated <code>@Transactional</code> annotation in another class (overlooked after rebasing a branch in Git). Removing the duplicate resolved the issue immediately, maybe this piece of information helps somebody in the future :-)</p>\n"},{"tags":[],"owner":{"account_id":13461364,"reputation":37,"user_id":9713261,"display_name":"Ahmed "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701734527,"creation_date":1701734527,"answer_id":77603172,"question_id":35496115,"body_markdown":"None of the answers that are written worked for me, and I don&#39;t think the answers are directly relevant to what OP alluded to is the main problem (which was my main problem as well).\r\n\r\nI was trying to make the JavaDocs integration work with SpringDoc in a Spring Boot application I had. [With the example given in the SpringDoc documentation itself](https://springdoc.org/#javadoc-support), things didn&#39;t really work and I got the error that OP got.\r\n\r\nGoogling around a bit more, [I found this StackOverflow answer](https://stackoverflow.com/a/74287938/9713261)\r\n\r\nFollowing it, I just added the following to my pom.xml to make things work:\r\n\r\n**Add the following to your dependency:**\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;therapi-runtime-javadoc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.15.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n**Then add the following plugin to your `&lt;build&gt;` section**\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;therapi-runtime-javadoc-scribe&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;0.15.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>None of the answers that are written worked for me, and I don't think the answers are directly relevant to what OP alluded to is the main problem (which was my main problem as well).</p>\n<p>I was trying to make the JavaDocs integration work with SpringDoc in a Spring Boot application I had. <a href=\"https://springdoc.org/#javadoc-support\" rel=\"nofollow noreferrer\">With the example given in the SpringDoc documentation itself</a>, things didn't really work and I got the error that OP got.</p>\n<p>Googling around a bit more, <a href=\"https://stackoverflow.com/a/74287938/9713261\">I found this StackOverflow answer</a></p>\n<p>Following it, I just added the following to my pom.xml to make things work:</p>\n<p><strong>Add the following to your dependency:</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\n        &lt;artifactId&gt;therapi-runtime-javadoc&lt;/artifactId&gt;\n        &lt;version&gt;0.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Then add the following plugin to your <code>&lt;build&gt;</code> section</strong></p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;com.github.therapi&lt;/groupId&gt;\n                        &lt;artifactId&gt;therapi-runtime-javadoc-scribe&lt;/artifactId&gt;\n                        &lt;version&gt;0.15.0&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":942344,"reputation":4204,"user_id":970200,"display_name":"Ian Lim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19001,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1701734527,"creation_date":1455847896,"question_id":35496115,"body_markdown":"I am trying to generate the javadoc using JDK 8 for a bunch of codes using lombok.\r\n\r\nI am getting the error below:\r\n\r\n    error: cannot find symbol\r\n    [ERROR] @RequiredArgsConstructor(onConstructor=@__(@Inject))\r\n    [ERROR] ^\r\n    [ERROR] symbol: class __\r\n\r\nAny advice will be much appreciated on how to resolve the error above.\r\n\r\nUpdate: the error is happening using the maven javadoc plugin configured as below:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.3&lt;/version&gt;\r\n                &lt;!--\r\n                &lt;configuration&gt;\r\n                    &lt;doclet&gt;ch.raffael.doclets.pegdown.PegdownDoclet&lt;/doclet&gt;\r\n                    &lt;docletArtifact&gt;\r\n                        &lt;groupId&gt;ch.raffael.pegdown-doclet&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;pegdown-doclet&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.1.1&lt;/version&gt;\r\n                    &lt;/docletArtifact&gt;\r\n                    &lt;useStandardDocletOptions&gt;true&lt;/useStandardDocletOptions&gt;\r\n                &lt;/configuration&gt;\r\n                --&gt;\r\n            &lt;/plugin&gt;\r\n","title":"Javadoc error on @RequiredArgsConstructor(onConstructor=@__(@Inject))","body":"<p>I am trying to generate the javadoc using JDK 8 for a bunch of codes using lombok.</p>\n\n<p>I am getting the error below:</p>\n\n<pre><code>error: cannot find symbol\n[ERROR] @RequiredArgsConstructor(onConstructor=@__(@Inject))\n[ERROR] ^\n[ERROR] symbol: class __\n</code></pre>\n\n<p>Any advice will be much appreciated on how to resolve the error above.</p>\n\n<p>Update: the error is happening using the maven javadoc plugin configured as below:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.10.3&lt;/version&gt;\n            &lt;!--\n            &lt;configuration&gt;\n                &lt;doclet&gt;ch.raffael.doclets.pegdown.PegdownDoclet&lt;/doclet&gt;\n                &lt;docletArtifact&gt;\n                    &lt;groupId&gt;ch.raffael.pegdown-doclet&lt;/groupId&gt;\n                    &lt;artifactId&gt;pegdown-doclet&lt;/artifactId&gt;\n                    &lt;version&gt;1.1.1&lt;/version&gt;\n                &lt;/docletArtifact&gt;\n                &lt;useStandardDocletOptions&gt;true&lt;/useStandardDocletOptions&gt;\n            &lt;/configuration&gt;\n            --&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","mysql","json","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":0,"creation_date":1701751751,"post_id":77603130,"comment_id":136811524,"body_markdown":"I was wondering if there was a solution where it would automatically map the Array of objects to the column and vice-versa but this is also amazing. I can introduce a DTO to do some transformation between client (REST request) and DB. I will try this solution and keep you posted.  Thank you @DhanushahDiilshan","body":"I was wondering if there was a solution where it would automatically map the Array of objects to the column and vice-versa but this is also amazing. I can introduce a DTO to do some transformation between client (REST request) and DB. I will try this solution and keep you posted.  Thank you @DhanushahDiilshan"}],"tags":[],"owner":{"account_id":26952294,"reputation":334,"user_id":20521312,"display_name":"Dhanusha Dilshan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701733520,"creation_date":1701733520,"answer_id":77603130,"question_id":77602754,"body_markdown":"Exactly it&#39;s possible to store JSON data in MySQL using Spring JPA and Hibernate. However, MySQL itself doesn&#39;t have a native JSON data type **`before version 5.7`**, so you might need to use a string column to store JSON data.\r\n\r\nFor save an array of JSON objects using Spring JPA and Hibernate, \r\nyou can refere bellow steps,\r\n\r\n1.First you should defined the Enity class like this,\r\n\r\n    @Entity\r\n    public class Employee {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n    \r\n        @Column(columnDefinition = &quot;json&quot;)\r\n        private String skills; //you can store JSON strings \r\n    \r\n        // keep getters and setters in here\r\n    }\r\n\r\n2.And then Serialize/Deserialize JSON:\r\n\r\nYou want to manually serialize/deserialize the `List&lt;Skill&gt;` to/from JSON when saving/retrieving data from the database. You can use libraries like Jackson for this purpose.\r\n\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.util.List;\r\n    \r\n    public class JsonUtil {\r\n    \r\n        private static final ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n        public static String convertObjectToJson(Object object) throws JsonProcessingException {\r\n            return objectMapper.writeValueAsString(object);\r\n        }\r\n    \r\n        public static &lt;T&gt; T convertJsonToObject(String jsonString, Class&lt;T&gt; valueType) throws JsonProcessingException {\r\n            return objectMapper.readValue(jsonString, valueType);\r\n        }\r\n    \r\n        // Other utility methods if needed\r\n    }\r\n\r\n3.Save and retrive skils as JSON,\r\n\r\nWhen you saving the Employee object you shpuld before convert the List&lt;Skill&gt; to JSON string using the utility method, and when retrieving, convert the JSON string back to the List&lt;Skill&gt;.\r\n\r\nexample,\r\n\r\n\r\n\r\n    / Saving an Employee with Skills\r\n    List&lt;Skill&gt; skillsList = // Your list of skills\r\n    String skillsJson = JsonUtil.convertObjectToJson(skillsList);\r\n    Employee employee = new Employee();\r\n    employee.setSkills(skillsJson);\r\n    employeeRepository.save(employee);\r\n    \r\n    // Retrieving employee Skills\r\n    Employee retrievedEmployee = employeeRepository.findById(employee.getId()).orElse(null);\r\n    if (retrievedEmployee != null) {\r\n        String retrievedSkillsJson = retrievedEmployee.getSkills();\r\n        List&lt;Skill&gt; retrievedSkillsList = JsonUtil.convertJsonToObject(retrievedSkillsJson, new TypeReference&lt;List&lt;Skill&gt;&gt;() {});\r\n        // Use retrievedSkillsList as your neededs\r\n    }\r\n\r\nBut remeber that stroing JSON as a string has limitation.\r\n\r\n\r\n","title":"Is it possible to save an array of JSON objects in MySQL using Spring JPA + Hibernate","body":"<p>Exactly it's possible to store JSON data in MySQL using Spring JPA and Hibernate. However, MySQL itself doesn't have a native JSON data type <strong><code>before version 5.7</code></strong>, so you might need to use a string column to store JSON data.</p>\n<p>For save an array of JSON objects using Spring JPA and Hibernate,\nyou can refere bellow steps,</p>\n<p>1.First you should defined the Enity class like this,</p>\n<pre><code>@Entity\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(columnDefinition = &quot;json&quot;)\n    private String skills; //you can store JSON strings \n\n    // keep getters and setters in here\n}\n</code></pre>\n<p>2.And then Serialize/Deserialize JSON:</p>\n<p>You want to manually serialize/deserialize the <code>List&lt;Skill&gt;</code> to/from JSON when saving/retrieving data from the database. You can use libraries like Jackson for this purpose.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.util.List;\n\npublic class JsonUtil {\n\n    private static final ObjectMapper objectMapper = new ObjectMapper();\n\n    public static String convertObjectToJson(Object object) throws JsonProcessingException {\n        return objectMapper.writeValueAsString(object);\n    }\n\n    public static &lt;T&gt; T convertJsonToObject(String jsonString, Class&lt;T&gt; valueType) throws JsonProcessingException {\n        return objectMapper.readValue(jsonString, valueType);\n    }\n\n    // Other utility methods if needed\n}\n</code></pre>\n<p>3.Save and retrive skils as JSON,</p>\n<p>When you saving the Employee object you shpuld before convert the List to JSON string using the utility method, and when retrieving, convert the JSON string back to the List.</p>\n<p>example,</p>\n<pre><code>/ Saving an Employee with Skills\nList&lt;Skill&gt; skillsList = // Your list of skills\nString skillsJson = JsonUtil.convertObjectToJson(skillsList);\nEmployee employee = new Employee();\nemployee.setSkills(skillsJson);\nemployeeRepository.save(employee);\n\n// Retrieving employee Skills\nEmployee retrievedEmployee = employeeRepository.findById(employee.getId()).orElse(null);\nif (retrievedEmployee != null) {\n    String retrievedSkillsJson = retrievedEmployee.getSkills();\n    List&lt;Skill&gt; retrievedSkillsList = JsonUtil.convertJsonToObject(retrievedSkillsJson, new TypeReference&lt;List&lt;Skill&gt;&gt;() {});\n    // Use retrievedSkillsList as your neededs\n}\n</code></pre>\n<p>But remeber that stroing JSON as a string has limitation.</p>\n"}],"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701733520,"creation_date":1701726644,"question_id":77602754,"body_markdown":"I have a table called `employee` with one of the attributes being list of skills. I would like to save this list of skills as an array in same table as `employee`  \r\n\r\nI do not want to(cannot even if I wanted to) create a separate table to save these objects/skills. \r\n\r\nI am sharing the relevant piece of the code: \r\n\r\nEmployee.java \r\n\r\n    @Entity\r\n    public class Employee {\r\n    \t\r\n    \tprivate int id;\r\n    \r\n    \tprivate List&lt;Skill&gt; skills = new ArrayList&lt;&gt;();\r\n    \r\n    \t//Getter and Setter\r\n    }\r\n\r\nSkill.java\r\n\r\n    @Entity\r\n    public class Skill {\r\n    \t\r\n    \tprivate String name;\r\n    \r\n    \tprivate String category;\r\n    \r\n    \t//Getter and Setter\r\n    \r\n    }\r\n\r\n\r\nI tried looking for some answers posted by others and I found examples for saving JSON object with MySQL and Spring JPA but not a JSON Array (With Spring JPA)\r\n\r\n[Link 1][1]\r\n\r\n[Link 2][2]\r\n\r\nI also found an example where array of JSON objects is mapped to Java entity but it only works with Postgres\r\n\r\n[Link 3][3]\r\n\r\nI would really appreciate some help with this and please let me know if you need more information \r\n\r\n\r\n  [1]: https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f\r\n  [2]: https://vladmihalcea.com/sql-server-json-hibernate/\r\n  [3]: https://vladmihalcea.com/how-to-map-json-collections-using-jpa-and-hibernate/","title":"Is it possible to save an array of JSON objects in MySQL using Spring JPA + Hibernate","body":"<p>I have a table called <code>employee</code> with one of the attributes being list of skills. I would like to save this list of skills as an array in same table as <code>employee</code></p>\n<p>I do not want to(cannot even if I wanted to) create a separate table to save these objects/skills.</p>\n<p>I am sharing the relevant piece of the code:</p>\n<p>Employee.java</p>\n<pre><code>@Entity\npublic class Employee {\n    \n    private int id;\n\n    private List&lt;Skill&gt; skills = new ArrayList&lt;&gt;();\n\n    //Getter and Setter\n}\n</code></pre>\n<p>Skill.java</p>\n<pre><code>@Entity\npublic class Skill {\n    \n    private String name;\n\n    private String category;\n\n    //Getter and Setter\n\n}\n</code></pre>\n<p>I tried looking for some answers posted by others and I found examples for saving JSON object with MySQL and Spring JPA but not a JSON Array (With Spring JPA)</p>\n<p><a href=\"https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f\" rel=\"nofollow noreferrer\">Link 1</a></p>\n<p><a href=\"https://vladmihalcea.com/sql-server-json-hibernate/\" rel=\"nofollow noreferrer\">Link 2</a></p>\n<p>I also found an example where array of JSON objects is mapped to Java entity but it only works with Postgres</p>\n<p><a href=\"https://vladmihalcea.com/how-to-map-json-collections-using-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">Link 3</a></p>\n<p>I would really appreciate some help with this and please let me know if you need more information</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":925856,"reputation":6351,"user_id":956660,"accept_rate":100,"display_name":"Cyrbil"},"score":0,"creation_date":1434310550,"post_id":30833582,"comment_id":49711893,"body_markdown":"Period have a method `long get(TemporalUnit unit)`, TemporalUnit can be ChronoUnit.DAYS","body":"Period have a method <code>long get(TemporalUnit unit)</code>, TemporalUnit can be ChronoUnit.DAYS"},{"owner":{"account_id":186532,"reputation":13518,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"score":8,"creation_date":1434310718,"post_id":30833582,"comment_id":49711942,"body_markdown":"@cyrbil but that does not do what the OP asks, try it and see.","body":"@cyrbil but that does not do what the OP asks, try it and see."}],"answers":[{"comments":[{"owner":{"account_id":413057,"reputation":1153,"user_id":786474,"accept_rate":70,"display_name":"Carcamano"},"score":31,"creation_date":1457118602,"post_id":30833631,"comment_id":59277648,"body_markdown":"Why didn&#39;t they put that method in `Period` itself?‮","body":"Why didn&#39;t they put that method in <code>Period</code> itself?‮"},{"owner":{"account_id":326900,"reputation":893,"user_id":648916,"accept_rate":52,"display_name":"Oscar Calderon"},"score":13,"creation_date":1586535371,"post_id":30833631,"comment_id":108170116,"body_markdown":"Thank you. I was using Period.getDays() without knowing that it returns only the days portion.","body":"Thank you. I was using Period.getDays() without knowing that it returns only the days portion."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":8,"creation_date":1616473057,"post_id":30833631,"comment_id":118006628,"body_markdown":"@Carcamano (1) Because months have different lengths, so a Period of, say, 1 month 1 day, doesn’t define a specific number of days. It could be 29, 30, 31 or 32. And (2) it’s exactly a quality of `Period` that it counts years, months and days rather than only days. You can have a period in a variable and add it to any `LocalDate` or other date-time object. If you insisted that a `Period` of 1 month 1 day should also define whether that means 29 or 32 days, then the addition would no longer make sense as a general thing to do.","body":"@Carcamano (1) Because months have different lengths, so a Period of, say, 1 month 1 day, doesn’t define a specific number of days. It could be 29, 30, 31 or 32. And (2) it’s exactly a quality of <code>Period</code> that it counts years, months and days rather than only days. You can have a period in a variable and add it to any <code>LocalDate</code> or other date-time object. If you insisted that a <code>Period</code> of 1 month 1 day should also define whether that means 29 or 32 days, then the addition would no longer make sense as a general thing to do."}],"tags":[],"owner":{"account_id":5746837,"reputation":3806,"user_id":4537840,"accept_rate":80,"display_name":"Saket Mittal"},"comment_count":3,"down_vote_count":1,"up_vote_count":158,"is_accepted":true,"score":157,"last_activity_date":1434567030,"creation_date":1434310323,"answer_id":30833631,"question_id":30833582,"body_markdown":"From the [documentation][1]:\r\n\r\n&gt; To define an amount of time with date-based values (years, months,\r\n&gt; days), use the `Period` class. The `Period` class provides various get\r\n&gt; methods, such as `getMonths`, `getDays`, and `getYears`.To present the amount &gt;of time measured in a  single unit of time, such as days, you can use the\r\n&gt; `ChronoUnit.between` method.\r\n&gt; \r\n&gt;     LocalDate today = LocalDate.now();\r\n&gt;     LocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\r\n&gt;     \r\n&gt;     Period p = Period.between(birthday, today);\r\n&gt;     long p2 = ChronoUnit.DAYS.between(birthday, today);\r\n&gt;     System.out.println(&quot;You are &quot; + p.getYears() + &quot; years, &quot; + p.getMonths() +\r\n&gt;                        &quot; months, and &quot; + p.getDays() +\r\n&gt;                        &quot; days old. (&quot; + p2 + &quot; days total)&quot;);\r\n&gt; \r\n&gt; The code produces output similar to the following:\r\n&gt; \r\n&gt;     You are 53 years, 4 months, and 29 days old. (19508 days total)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/iso/period.html","title":"How to calculate the number of days in a period?","body":"<p>From the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\">documentation</a>:</p>\n\n<blockquote>\n  <p>To define an amount of time with date-based values (years, months,\n  days), use the <code>Period</code> class. The <code>Period</code> class provides various get\n  methods, such as <code>getMonths</code>, <code>getDays</code>, and <code>getYears</code>.To present the amount >of time measured in a  single unit of time, such as days, you can use the\n  <code>ChronoUnit.between</code> method.</p>\n\n<pre><code>LocalDate today = LocalDate.now();\nLocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\n\nPeriod p = Period.between(birthday, today);\nlong p2 = ChronoUnit.DAYS.between(birthday, today);\nSystem.out.println(\"You are \" + p.getYears() + \" years, \" + p.getMonths() +\n                   \" months, and \" + p.getDays() +\n                   \" days old. (\" + p2 + \" days total)\");\n</code></pre>\n  \n  <p>The code produces output similar to the following:</p>\n\n<pre><code>You are 53 years, 4 months, and 29 days old. (19508 days total)\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"display_name":"user3248346"},"score":0,"creation_date":1434311365,"post_id":30833785,"comment_id":49712140,"body_markdown":"Yes, I realised that. I just wanted to know how to recover the lost information so I could calculate the number of days. Thanks.","body":"Yes, I realised that. I just wanted to know how to recover the lost information so I could calculate the number of days. Thanks."}],"tags":[],"owner":{"account_id":186532,"reputation":13518,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1434311245,"creation_date":1434311245,"answer_id":30833785,"question_id":30833582,"body_markdown":"There is no way to do what you ask. The reason is that it is not possible from a `Period` to deduce the actual number of calendar days in the period. A `Period` is not tied to specific dates, once constructed in the way you show, it loses track of the actual calendar dates.\r\n\r\nFor example your first period represents a period of 1 month and 1 day. But the period does not care which month. It is simply a concept of &quot;a month and a day&quot;.\r\n\r\nIf you need the number of days between two dates you should use `ChronoUnit.DAYS.between` as Saket Mittal writes.","title":"How to calculate the number of days in a period?","body":"<p>There is no way to do what you ask. The reason is that it is not possible from a <code>Period</code> to deduce the actual number of calendar days in the period. A <code>Period</code> is not tied to specific dates, once constructed in the way you show, it loses track of the actual calendar dates.</p>\n\n<p>For example your first period represents a period of 1 month and 1 day. But the period does not care which month. It is simply a concept of \"a month and a day\".</p>\n\n<p>If you need the number of days between two dates you should use <code>ChronoUnit.DAYS.between</code> as Saket Mittal writes.</p>\n"},{"tags":[],"owner":{"account_id":281453,"reputation":2359,"user_id":577769,"display_name":"Ualter Jr."},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1459956054,"creation_date":1459956054,"answer_id":36455454,"question_id":30833582,"body_markdown":"There&#39;s a specific object depending at the amount of time you&#39;d like to deal with.\r\nThis page [here][1] is very useful explaining which is best for your scenario.\r\n\r\n&gt; The ChronoUnit.between method is useful when you want to measure an amount of time in a single unit of time only, such as days or seconds\r\n\r\n    LocalDate localDateStartDate = LocalDate.of(2016, 06, 10);\r\n    LocalDate localDateEndDate = LocalDate.of(2016,06,23);\r\n    long days = ChronoUnit.DAYS.between(localDateStartDate, localDateEndDate);\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/iso/period.html","title":"How to calculate the number of days in a period?","body":"<p>There's a specific object depending at the amount of time you'd like to deal with.\nThis page <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"noreferrer\">here</a> is very useful explaining which is best for your scenario.</p>\n\n<blockquote>\n  <p>The ChronoUnit.between method is useful when you want to measure an amount of time in a single unit of time only, such as days or seconds</p>\n</blockquote>\n\n<pre><code>LocalDate localDateStartDate = LocalDate.of(2016, 06, 10);\nLocalDate localDateEndDate = LocalDate.of(2016,06,23);\nlong days = ChronoUnit.DAYS.between(localDateStartDate, localDateEndDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289403,"reputation":2407,"user_id":1241783,"accept_rate":61,"display_name":"Bruce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689818817,"creation_date":1689818817,"answer_id":76726227,"question_id":30833582,"body_markdown":"ChronoUnit works fine, but it requires API level 26, if you are still targeting API level 24 like me, I found this alternative which works well:\r\n\r\n    val start = LocalDate.now()\r\n    val end = LocalDate.now().plusYears(1)\r\n    val totalDays = Duration.between(start.atStartOfDay(), end.atStartOfDay()).toDays()\r\n\r\natStartOfDay will convert LocalDate to LocalDateTime, with time set to 00:00, so we can use Duration calculation to get the total days between the dates","title":"How to calculate the number of days in a period?","body":"<p>ChronoUnit works fine, but it requires API level 26, if you are still targeting API level 24 like me, I found this alternative which works well:</p>\n<pre><code>val start = LocalDate.now()\nval end = LocalDate.now().plusYears(1)\nval totalDays = Duration.between(start.atStartOfDay(), end.atStartOfDay()).toDays()\n</code></pre>\n<p>atStartOfDay will convert LocalDate to LocalDateTime, with time set to 00:00, so we can use Duration calculation to get the total days between the dates</p>\n"},{"tags":[],"owner":{"account_id":61719,"reputation":1399,"user_id":183795,"display_name":"Luis Rocha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701733493,"creation_date":1701733493,"answer_id":77603128,"question_id":30833582,"body_markdown":"You can just use LocalDate `until` method. For example:\r\n\r\n    LocalDate startDate = LocalDate.now().minusYears(1);\r\n    LocalDate endDate = LocalDate.now();\r\n\r\n    Long days = startDate.until(endDate, ChronoUnit.DAYS);\r\n    System.out.println(days);\r\n\r\nThis produces the following output:\r\n\r\n    365","title":"How to calculate the number of days in a period?","body":"<p>You can just use LocalDate <code>until</code> method. For example:</p>\n<pre><code>LocalDate startDate = LocalDate.now().minusYears(1);\nLocalDate endDate = LocalDate.now();\n\nLong days = startDate.until(endDate, ChronoUnit.DAYS);\nSystem.out.println(days);\n</code></pre>\n<p>This produces the following output:</p>\n<pre><code>365\n</code></pre>\n"}],"owner":{"display_name":"user3248346"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41568,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":30833631,"answer_count":5,"score":74,"last_activity_date":1701733493,"creation_date":1434310031,"question_id":30833582,"body_markdown":"For the following `Period` calculation:\r\n\r\n    Period.between(LocalDate.of(2015, 8, 1), LocalDate.of(2015, 9, 2))\r\n\r\nthe result is:\r\n\r\n    P1M1D\r\n\r\nThis is equivalent to 31 days + 1 day = 32 days.\r\n\r\nFor this `Period`:\r\n\r\n    Period.between(LocalDate.of(2015, 8, 1), LocalDate.of(2015, 10, 2))\r\n\r\nthe result is:\r\n\r\n    P2M1D\r\n\r\nThis is equivalent to: 31 days (in August) + 30 days (in September) + 1 (in October) = 62 days\r\n\r\nIs there a method in the `java.time` package which will give the number of days in a `Period`? I can&#39;t find one. Not sure if I have overlooked anything or if it is just plain not there.","title":"How to calculate the number of days in a period?","body":"<p>For the following <code>Period</code> calculation:</p>\n\n<pre><code>Period.between(LocalDate.of(2015, 8, 1), LocalDate.of(2015, 9, 2))\n</code></pre>\n\n<p>the result is:</p>\n\n<pre><code>P1M1D\n</code></pre>\n\n<p>This is equivalent to 31 days + 1 day = 32 days.</p>\n\n<p>For this <code>Period</code>:</p>\n\n<pre><code>Period.between(LocalDate.of(2015, 8, 1), LocalDate.of(2015, 10, 2))\n</code></pre>\n\n<p>the result is:</p>\n\n<pre><code>P2M1D\n</code></pre>\n\n<p>This is equivalent to: 31 days (in August) + 30 days (in September) + 1 (in October) = 62 days</p>\n\n<p>Is there a method in the <code>java.time</code> package which will give the number of days in a <code>Period</code>? I can't find one. Not sure if I have overlooked anything or if it is just plain not there.</p>\n"},{"tags":["java","algorithm","caching"],"answers":[{"comments":[{"owner":{"account_id":11264,"reputation":4209,"user_id":21645,"accept_rate":64,"display_name":"pero"},"score":14,"creation_date":1298447536,"post_id":5088167,"comment_id":5701403,"body_markdown":"Riding on a bus at the moment :)?","body":"Riding on a bus at the moment :)?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":12,"creation_date":1298447569,"post_id":5088167,"comment_id":5701412,"body_markdown":"@Petar: As it happens, I am now, but I was on a train when I wrote this post :)","body":"@Petar: As it happens, I am now, but I was on a train when I wrote this post :)"},{"owner":{"account_id":954075,"reputation":941,"user_id":979683,"accept_rate":80,"display_name":"shingaridavesh"},"score":3,"creation_date":1403603538,"post_id":5088167,"comment_id":37710996,"body_markdown":"@JonSkeet Doesn&#39;t this goes against the temporal locality principle?","body":"@JonSkeet Doesn&#39;t this goes against the temporal locality principle?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1403603653,"post_id":5088167,"comment_id":37711076,"body_markdown":"@shingaridavesh: What exactly do you mean?","body":"@shingaridavesh: What exactly do you mean?"},{"owner":{"account_id":954075,"reputation":941,"user_id":979683,"accept_rate":80,"display_name":"shingaridavesh"},"score":2,"creation_date":1403608737,"post_id":5088167,"comment_id":37714196,"body_markdown":"@JonSkeet The analogy given by you says that if we have seen one bus then it is unlikely to see the bus again in recent time. But temporal locality says that if a block is accessed then it will be accessed soon in time. Am I missing something?","body":"@JonSkeet The analogy given by you says that if we have seen one bus then it is unlikely to see the bus again in recent time. But temporal locality says that if a block is accessed then it will be accessed soon in time. Am I missing something?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1403608823,"post_id":5088167,"comment_id":37714254,"body_markdown":"@shingaridavesh: Yes - you&#39;re missing the fact that not every situation is the same. Sometimes you&#39;re more likely to use the same value again soon, and sometimes you&#39;re less likely to. That&#39;s why there are both MRU and LRU algorithms - so you can choose whichever is most appropriate for your situation.","body":"@shingaridavesh: Yes - you&#39;re missing the fact that not every situation is the same. Sometimes you&#39;re more likely to use the same value again soon, and sometimes you&#39;re less likely to. That&#39;s why there are both MRU and LRU algorithms - so you can choose whichever is most appropriate for your situation."},{"owner":{"account_id":1018615,"reputation":7053,"user_id":1029599,"display_name":"KGhatak"},"score":1,"creation_date":1496072697,"post_id":5088167,"comment_id":75501118,"body_markdown":"@JohnSkeet - If we evict the most recently used one, then it seems that we also need an LRU cache to reduce cache miss rate. Something like, as we remove most-recently-used element from an MRU cache, we would also add this to an LRU cache. Further if this addition evicts any element, then we need to add that LRU-evicted element to the MRU cache. Not sure how an empty MRU cache would be populated otherwise!!","body":"@JohnSkeet - If we evict the most recently used one, then it seems that we also need an LRU cache to reduce cache miss rate. Something like, as we remove most-recently-used element from an MRU cache, we would also add this to an LRU cache. Further if this addition evicts any element, then we need to add that LRU-evicted element to the MRU cache. Not sure how an empty MRU cache would be populated otherwise!!"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1496072771,"post_id":5088167,"comment_id":75501157,"body_markdown":"@KGhatak: Not quite sure what you mean, but you certainly don&#39;t *always* need to caches...","body":"@KGhatak: Not quite sure what you mean, but you certainly don&#39;t <i>always</i> need to caches..."},{"owner":{"account_id":1018615,"reputation":7053,"user_id":1029599,"display_name":"KGhatak"},"score":1,"creation_date":1496073140,"post_id":5088167,"comment_id":75501324,"body_markdown":"@JohnSkeet - Typically, we would always have a policy/algorithm on how an empty cache would be filled up gradually (let&#39;s ignore the auto fill option right now). The algorithm for LRU cache is very intuitive - for each cache miss, we get the data from an authoritative source say DB and populate the cache. For MRU cache, I wonder what would be corresponding algorithm - would you pls throw some light!","body":"@JohnSkeet - Typically, we would always have a policy/algorithm on how an empty cache would be filled up gradually (let&#39;s ignore the auto fill option right now). The algorithm for LRU cache is very intuitive - for each cache miss, we get the data from an authoritative source say DB and populate the cache. For MRU cache, I wonder what would be corresponding algorithm - would you pls throw some light!"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1496074653,"post_id":5088167,"comment_id":75502004,"body_markdown":"@KGhatak: Well I&#39;d really only considered the simplest form of cache: populate on demand, up to some limit, at which point appropriate entries are removed to make space for new ones. I don&#39;t think I&#39;ve got any particularly good info here...","body":"@KGhatak: Well I&#39;d really only considered the simplest form of cache: populate on demand, up to some limit, at which point appropriate entries are removed to make space for new ones. I don&#39;t think I&#39;ve got any particularly good info here..."},{"owner":{"account_id":1018615,"reputation":7053,"user_id":1029599,"display_name":"KGhatak"},"score":1,"creation_date":1496076848,"post_id":5088167,"comment_id":75503036,"body_markdown":"@JohnSkeet - Thanks","body":"@JohnSkeet - Thanks"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":11,"down_vote_count":2,"up_vote_count":83,"is_accepted":true,"score":81,"last_activity_date":1298446765,"creation_date":1298446765,"answer_id":5088167,"question_id":5088128,"body_markdown":"Imagine you were looking up the details of buses as they arrived at a bus stop, based on their bus number (or whatever identifier you use).\r\n\r\nIt&#39;s somewhat reasonable to think that if you&#39;ve *just* seen a number 36 bus, you&#39;re *less* likely to see another one imminently than to see one of the other buses that stops there.\r\n\r\nJust one example, but the idea is more general: in some cases, having &quot;just seen something&quot; is a good indicator that you&#39;re *unlikely* to see the same thing again soon.","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>Imagine you were looking up the details of buses as they arrived at a bus stop, based on their bus number (or whatever identifier you use).</p>\n\n<p>It's somewhat reasonable to think that if you've <em>just</em> seen a number 36 bus, you're <em>less</em> likely to see another one imminently than to see one of the other buses that stops there.</p>\n\n<p>Just one example, but the idea is more general: in some cases, having \"just seen something\" is a good indicator that you're <em>unlikely</em> to see the same thing again soon.</p>\n"},{"tags":[],"owner":{"account_id":124667,"reputation":30351,"user_id":319906,"display_name":"Jeremiah Willcock"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1298446777,"creation_date":1298446777,"answer_id":5088169,"question_id":5088128,"body_markdown":"The use case is when you are iterating through the same (larger-than-cache) data multiple times, and so you will not go back to recently accessed data.[1]\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Cache_algorithms#Most_Recently_Used","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>The use case is when you are iterating through the same (larger-than-cache) data multiple times, and so you will not go back to recently accessed data.<a href=\"http://en.wikipedia.org/wiki/Cache_algorithms#Most_Recently_Used\" rel=\"nofollow\">1</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1701733468,"creation_date":1298448951,"answer_id":5088434,"question_id":5088128,"body_markdown":"I think the both @Jon Skeet and @Jeremiah Willcock&#39;s answers are describing using MRU as a way to avoid polluting the cache with useless entries.  \r\n\r\n  1. This only works if your cache APIs allow you to change the policy on the fly; e.g. on a per-request basis.  Setting your cache policy to MRU in &quot;normal&quot; situations is probably a bad idea ... because your cache becomes ineffective once it fills up.\r\n\r\n  1. MRU has the problem that if you get a hit on an entry that is often used in &quot;normal&quot; mode while doing MRU lookups, you end up throwing out the entry ... \r\n\r\nBetter alternatives to MRU for doing a scan without poluting the cache are:\r\n\r\n  - bypass the cache entirely,\r\n  - probe the cache without doing a read through / update, and without altering the LRU chains.\r\n\r\n-------------------------\r\n\r\nFor what it is worth, I cannot think of any use-cases for MRU that don&#39;t fit this general pattern.\r\n\r\n-------------------------\r\n\r\nIncidentally, @Jon Skeet&#39;s example of buses arrivals is not always borne out in reality due the bunching effect.  \r\n\r\n  - If a bus is running late, there are likely to be more than average people waiting at each bus stop.  The bus has to stop more frequently, and stays longer at each stop. This slows down the late bus.\r\n\r\n  - A bus that is on time that is following the late bus will typically have fewer people than the average waiting at each bus stop.  (Because they just go onto the late bus.)  This speeds up the following bus.\r\n\r\n  - The net result is that the buses tend to bunch up.\r\n\r\nSee: https://en.wikipedia.org/wiki/Bus_bunching","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>I think the both @Jon Skeet and @Jeremiah Willcock's answers are describing using MRU as a way to avoid polluting the cache with useless entries.</p>\n<ol>\n<li><p>This only works if your cache APIs allow you to change the policy on the fly; e.g. on a per-request basis.  Setting your cache policy to MRU in &quot;normal&quot; situations is probably a bad idea ... because your cache becomes ineffective once it fills up.</p>\n</li>\n<li><p>MRU has the problem that if you get a hit on an entry that is often used in &quot;normal&quot; mode while doing MRU lookups, you end up throwing out the entry ...</p>\n</li>\n</ol>\n<p>Better alternatives to MRU for doing a scan without poluting the cache are:</p>\n<ul>\n<li>bypass the cache entirely,</li>\n<li>probe the cache without doing a read through / update, and without altering the LRU chains.</li>\n</ul>\n<hr />\n<p>For what it is worth, I cannot think of any use-cases for MRU that don't fit this general pattern.</p>\n<hr />\n<p>Incidentally, @Jon Skeet's example of buses arrivals is not always borne out in reality due the bunching effect.</p>\n<ul>\n<li><p>If a bus is running late, there are likely to be more than average people waiting at each bus stop.  The bus has to stop more frequently, and stays longer at each stop. This slows down the late bus.</p>\n</li>\n<li><p>A bus that is on time that is following the late bus will typically have fewer people than the average waiting at each bus stop.  (Because they just go onto the late bus.)  This speeds up the following bus.</p>\n</li>\n<li><p>The net result is that the buses tend to bunch up.</p>\n</li>\n</ul>\n<p>See: <a href=\"https://en.wikipedia.org/wiki/Bus_bunching\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Bus_bunching</a></p>\n"},{"tags":[],"owner":{"account_id":4436726,"reputation":21,"user_id":3612388,"display_name":"user3612388"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399469174,"creation_date":1399469174,"answer_id":23519164,"question_id":5088128,"body_markdown":"Lets say you are caching the seats of a hall for a concert, to expedite the booking. As your application books the seats, remove the cached item from the cache as they are no more required for the booking application.","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>Lets say you are caching the seats of a hall for a concert, to expedite the booking. As your application books the seats, remove the cached item from the cache as they are no more required for the booking application.</p>\n"},{"tags":[],"owner":{"account_id":3702078,"reputation":3841,"user_id":3081480,"accept_rate":78,"display_name":"Kyle Chadha"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1566432521,"creation_date":1566432521,"answer_id":57600546,"question_id":5088128,"body_markdown":"Perhaps a more tangible example would be a media server. When the user has completed watching a video (let&#39;s say it&#39;s an episode of a TV show), they are presumably the least likely to want to view it again. So if you must evict something, evict the most recently viewed item.\r\n\r\nIn practice though, I believe this type of cache is typically used in addition to an LRU or LFU cache, where the two caches in tandem allow you to cover a wide variety of cases.","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>Perhaps a more tangible example would be a media server. When the user has completed watching a video (let's say it's an episode of a TV show), they are presumably the least likely to want to view it again. So if you must evict something, evict the most recently viewed item.</p>\n\n<p>In practice though, I believe this type of cache is typically used in addition to an LRU or LFU cache, where the two caches in tandem allow you to cover a wide variety of cases.</p>\n"},{"tags":[],"owner":{"account_id":26398464,"reputation":21,"user_id":20049244,"display_name":"callmeabin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663739636,"creation_date":1663739636,"answer_id":73795939,"question_id":5088128,"body_markdown":"I know one scenario MRU is better than LRU. In database cache, assume we have a cache that can contain 50 blocks, and we have 2 tables that exceed the size of cache(let&#39;s say 51 blocks). For block nested loop join operation, we need to join rows to the other entire table. But since cache is smaller than the entire table, we need to drop some blocks.\r\n\r\nFor cache policy LRU, it will drop the first block of the table, and replace it with last block of the table. However, when we continue to join next row with the entire table, we find the first block is missing, then we load the first block into the place of last round second block. And cascading reload all the entire table.\r\n\r\nBut for MRU, we only need to replace the latest block of the table, so that we can reuse all the blocks loaded before. \r\n\r\nHope this can help you","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>I know one scenario MRU is better than LRU. In database cache, assume we have a cache that can contain 50 blocks, and we have 2 tables that exceed the size of cache(let's say 51 blocks). For block nested loop join operation, we need to join rows to the other entire table. But since cache is smaller than the entire table, we need to drop some blocks.</p>\n<p>For cache policy LRU, it will drop the first block of the table, and replace it with last block of the table. However, when we continue to join next row with the entire table, we find the first block is missing, then we load the first block into the place of last round second block. And cascading reload all the entire table.</p>\n<p>But for MRU, we only need to replace the latest block of the table, so that we can reuse all the blocks loaded before.</p>\n<p>Hope this can help you</p>\n"}],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27636,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":5088167,"answer_count":6,"score":47,"last_activity_date":1701733468,"creation_date":1298446506,"question_id":5088128,"body_markdown":"I know the algorithms of MRU and its reversed one Least Recently Used (LRU).\r\n\r\nI think LRU is reasonable, as LRU element means it will be used at least possible in future. However, MRU element means the element is very possible to be used in future, why evict it? What is the reasonable scenario?\r\n","title":"Why does cache use Most Recently Used (MRU) algorithm as evict policy?","body":"<p>I know the algorithms of MRU and its reversed one Least Recently Used (LRU).</p>\n\n<p>I think LRU is reasonable, as LRU element means it will be used at least possible in future. However, MRU element means the element is very possible to be used in future, why evict it? What is the reasonable scenario?</p>\n"},{"tags":["java","selinux","busybox"],"owner":{"account_id":27039980,"reputation":3,"user_id":20594932,"display_name":"sw team"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701732866,"creation_date":1701732866,"question_id":77603098,"body_markdown":"I&#39;m trying to use busybox in my non-rooted application but for some reason I&#39;m getting a permission denied error, I&#39;m testing on Android 11 and I gave all permissions to the executable like &#39;chmod 777&#39; but the executable still doesn&#39;t work\r\n\r\n[enter image description here](https://i.stack.imgur.com/yxinA.jpg)\r\n\r\nEsse &#233; meu c&#243;digo pra executar comando\r\n```\r\nProcess mProcess = mProcessBuilder.start();\r\n\t\t\t\r\n\t\t\tBufferedReader mBufferedReader = new BufferedReader(new InputStreamReader(mProcess.getInputStream()));\r\n\t\t\t\r\n\t\t\tString line = null;\r\n\t\t\twhile ((line = mBufferedReader.readLine()) != null) {\r\n\t\t\t\tpublishProgress(String.format(&quot;%s\\n&quot;, line));\r\n\t\t\t}\r\n\t\t\tmBufferedReader.close();\r\n\t\t\t\r\n\t\t\tBufferedReader mBufferedReaderError = new BufferedReader(new InputStreamReader(mProcess.getErrorStream()));\r\n\t\t\twhile ((line = mBufferedReaderError.readLine()) != null) {\r\n\t\t\t    publishProgress(String.format(&quot;%s\\n&quot;, line));\r\n\t\t\t}\r\n\t\t\tmBufferedReaderError.close();\r\n\t\t\t\r\n\t\t\tmProcess.waitFor();\r\n```","title":"binary executable in java android permission denied","body":"<p>I'm trying to use busybox in my non-rooted application but for some reason I'm getting a permission denied error, I'm testing on Android 11 and I gave all permissions to the executable like 'chmod 777' but the executable still doesn't work</p>\n<p><a href=\"https://i.stack.imgur.com/yxinA.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Esse é meu código pra executar comando</p>\n<pre><code>Process mProcess = mProcessBuilder.start();\n            \n            BufferedReader mBufferedReader = new BufferedReader(new InputStreamReader(mProcess.getInputStream()));\n            \n            String line = null;\n            while ((line = mBufferedReader.readLine()) != null) {\n                publishProgress(String.format(&quot;%s\\n&quot;, line));\n            }\n            mBufferedReader.close();\n            \n            BufferedReader mBufferedReaderError = new BufferedReader(new InputStreamReader(mProcess.getErrorStream()));\n            while ((line = mBufferedReaderError.readLine()) != null) {\n                publishProgress(String.format(&quot;%s\\n&quot;, line));\n            }\n            mBufferedReaderError.close();\n            \n            mProcess.waitFor();\n</code></pre>\n"},{"tags":["java","spring","azure","spring-boot","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"score":0,"creation_date":1565957552,"post_id":57470657,"comment_id":101515290,"body_markdown":"I have not gotten around to trying this yet. I ended up just using the idToken to request a new on-behalf-of token from the Azure Graph API. This may work better though. Will follow up after I get some time to try this out.","body":"I have not gotten around to trying this yet. I ended up just using the idToken to request a new on-behalf-of token from the Azure Graph API. This may work better though. Will follow up after I get some time to try this out."},{"owner":{"account_id":494699,"reputation":1050,"user_id":242286,"display_name":"marcok"},"score":0,"creation_date":1584611724,"post_id":57470657,"comment_id":107491277,"body_markdown":"This indeed returns the `id_token` instead of the access token required to do additional calls on the Graph API. &quot;ID Tokens should be used to validate that a user is who they claim to be and get additional useful information about them - it shouldn&#39;t be used for authorization in place of an access token. &quot;","body":"This indeed returns the <code>id_token</code> instead of the access token required to do additional calls on the Graph API. &quot;ID Tokens should be used to validate that a user is who they claim to be and get additional useful information about them - it shouldn&#39;t be used for authorization in place of an access token. &quot;"}],"tags":[],"owner":{"account_id":14544371,"reputation":15031,"user_id":10504999,"display_name":"Tony Ju"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565665798,"creation_date":1565665798,"answer_id":57470657,"question_id":57464714,"body_markdown":"You can get the access token this way:\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model model, OAuth2AuthenticationToken authentication) {\r\n        final OAuth2AuthorizedClient authorizedClient =\r\n                this.authorizedClientService.loadAuthorizedClient(\r\n                        authentication.getAuthorizedClientRegistrationId(),\r\n                        authentication.getName());\r\n        String accessToken=authorizedClient.getAccessToken().getTokenValue();\r\n        System.out.println(accessToken);\r\n        model.addAttribute(&quot;userName&quot;, authentication.getName());\r\n        return &quot;index&quot;;\r\n    }\r\n\r\nFor the complete sample, you can refer to [this][1].\r\n\r\n\r\n  [1]: https://github.com/microsoft/azure-spring-boot/tree/master/azure-spring-boot-samples/azure-active-directory-spring-boot-backend-sample","title":"Azure Spring Boot - Get OAuth 2.0 Access Token of Logged In User","body":"<p>You can get the access token this way:</p>\n\n<pre><code>@GetMapping(\"/\")\npublic String index(Model model, OAuth2AuthenticationToken authentication) {\n    final OAuth2AuthorizedClient authorizedClient =\n            this.authorizedClientService.loadAuthorizedClient(\n                    authentication.getAuthorizedClientRegistrationId(),\n                    authentication.getName());\n    String accessToken=authorizedClient.getAccessToken().getTokenValue();\n    System.out.println(accessToken);\n    model.addAttribute(\"userName\", authentication.getName());\n    return \"index\";\n}\n</code></pre>\n\n<p>For the complete sample, you can refer to <a href=\"https://github.com/microsoft/azure-spring-boot/tree/master/azure-spring-boot-samples/azure-active-directory-spring-boot-backend-sample\" rel=\"nofollow noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":319016,"reputation":441,"user_id":636542,"display_name":"DejanR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701732837,"creation_date":1701732837,"answer_id":77603096,"question_id":57464714,"body_markdown":"    @GetMapping(&quot;/&quot;)\r\n    // inject OAuth2AuthorizedClient\r\n    public String hello(@RegisteredOAuth2AuthorizedClient(&quot;example-dev&quot;) OAuth2AuthorizedClient authorizedClient) {\r\n        \r\n        //here is the access token\r\n        String accessToken = authorizedClient.getAccessToken().getTokenValue();\r\n    \r\n    }\r\n\r\nbe sure that application.yml register the azure client &#39;example-dev&#39;:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              azure:\r\n                issuer-uri: https://login.microsoftonline.com/xxxx/v2.0    \r\n            registration:\r\n              example-dev:\r\n                provider: azure\r\n                client-id: xxxxx\r\n                client-secret: xxxx     \r\n                scope:\r\n                - openid\r\n                - email\r\n                - profile\r\n    \t\r\n\r\n\t\t\r\n\t\t\r\n\t\r\n","title":"Azure Spring Boot - Get OAuth 2.0 Access Token of Logged In User","body":"<pre><code>@GetMapping(&quot;/&quot;)\n// inject OAuth2AuthorizedClient\npublic String hello(@RegisteredOAuth2AuthorizedClient(&quot;example-dev&quot;) OAuth2AuthorizedClient authorizedClient) {\n    \n    //here is the access token\n    String accessToken = authorizedClient.getAccessToken().getTokenValue();\n\n}\n</code></pre>\n<p>be sure that application.yml register the azure client 'example-dev':</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          azure:\n            issuer-uri: https://login.microsoftonline.com/xxxx/v2.0    \n        registration:\n          example-dev:\n            provider: azure\n            client-id: xxxxx\n            client-secret: xxxx     \n            scope:\n            - openid\n            - email\n            - profile\n    \n\n    \n    \n</code></pre>\n"}],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4164,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701732837,"creation_date":1565626508,"question_id":57464714,"body_markdown":"I use the `azure-active-directory-spring-boot-starter` to secure endpoints in my spring boot application. This works properly - when a user accesses my application, they are redirected to Azure to log in, then directed back to my application. In my controllers, I can access the `OAuth2AuthenticationToken` to get info on the logged-in user by just adding it as a method parameter and letting spring inject it, as such.\r\n\r\n    @RestController\r\n    public class SomeController {\r\n    \r\n        @GetMapping(&quot;/something&quot;)\r\n        public Object getSomething(final OAuth2AuthenticationToken authToken) {\r\n            final Map&lt;String, Object&gt; attributes = authToken.getPrincipal().getAttributes();\r\n        }\r\n\r\n    }\r\n\r\nHowever, I want to call the Microsoft Graph API on behalf of the logged-in user in order to get additional information. In order to do that, I need to retrieve the OAuth 2.0 access token for the logged-in user. When running through a debugger, it does not look like it is contained anywhere in the `OAuth2AuthenticationToken` object. I tried adding `OAuth2AccessToken` as a controller parameter, the same way as the `OAuth2AuthenticationToken`, but get the following error.\r\n\r\n    java.lang.NoSuchMethodException: org.springframework.security.oauth2.core.OAuth2AccessToken.&lt;init&gt;()\r\n    \tat java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_162]\r\n    \tat java.lang.Class.getDeclaredConstructor(Class.java:2178) ~[na:1.8.0_162]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:216) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:84) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:139) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:126) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:160) ~[spring-security-oauth2-client-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_162]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_162]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_162]\r\n\r\n\r\nHow can I retrieve the OAuth 2 access token for the logged-in user in my controller?\r\n","title":"Azure Spring Boot - Get OAuth 2.0 Access Token of Logged In User","body":"<p>I use the <code>azure-active-directory-spring-boot-starter</code> to secure endpoints in my spring boot application. This works properly - when a user accesses my application, they are redirected to Azure to log in, then directed back to my application. In my controllers, I can access the <code>OAuth2AuthenticationToken</code> to get info on the logged-in user by just adding it as a method parameter and letting spring inject it, as such.</p>\n\n<pre><code>@RestController\npublic class SomeController {\n\n    @GetMapping(\"/something\")\n    public Object getSomething(final OAuth2AuthenticationToken authToken) {\n        final Map&lt;String, Object&gt; attributes = authToken.getPrincipal().getAttributes();\n    }\n\n}\n</code></pre>\n\n<p>However, I want to call the Microsoft Graph API on behalf of the logged-in user in order to get additional information. In order to do that, I need to retrieve the OAuth 2.0 access token for the logged-in user. When running through a debugger, it does not look like it is contained anywhere in the <code>OAuth2AuthenticationToken</code> object. I tried adding <code>OAuth2AccessToken</code> as a controller parameter, the same way as the <code>OAuth2AuthenticationToken</code>, but get the following error.</p>\n\n<pre><code>java.lang.NoSuchMethodException: org.springframework.security.oauth2.core.OAuth2AccessToken.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082) ~[na:1.8.0_162]\n    at java.lang.Class.getDeclaredConstructor(Class.java:2178) ~[na:1.8.0_162]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:216) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:84) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:139) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:126) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:160) ~[spring-security-oauth2-client-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) ~[spring-boot-actuator-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_162]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_162]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_162]\n</code></pre>\n\n<p>How can I retrieve the OAuth 2 access token for the logged-in user in my controller?</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":13210239,"reputation":59,"user_id":9540717,"display_name":"Fahmi Barguellil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701732825,"creation_date":1701732825,"answer_id":77603095,"question_id":77602329,"body_markdown":"you can make this check : \r\n\r\nchange Gradle JDK to a version that is compatible with your new upgrade.\r\n\r\nFile -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle\r\n\r\nOnce it is done it is recommended to make : \r\n\r\nFile -&gt; Invalidate Caches / Restart \r\n","title":"Flutter build fails on android emulator","body":"<p>you can make this check :</p>\n<p>change Gradle JDK to a version that is compatible with your new upgrade.</p>\n<p>File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</p>\n<p>Once it is done it is recommended to make :</p>\n<p>File -&gt; Invalidate Caches / Restart</p>\n"}],"owner":{"account_id":20707728,"reputation":109,"user_id":15205158,"display_name":"mame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701732825,"creation_date":1701721055,"question_id":77602329,"body_markdown":"The build of my flutter app fails since I installed new java 17 version.\r\n\r\nI already updated ```JAVA_HOME``` and the gradle user home in Android Studio.\r\n\r\nThis is how my ```gradle-wrapper.properties``` file looks like\r\n\r\n```\r\n#Fri Jun 23 08:50:38 CEST 2017\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\r\n```\r\n\r\nThis is the error message I got:\r\n\r\n``` \r\nA problem occurred configuring project &#39;:cloud_firestore&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:cloud_firestore:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.2.\r\n     Required by:\r\n         project :cloud_firestore\r\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6.1&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6.1&#39;)\r\n&gt; Failed to notify project evaluation listener.\r\n   &gt; Could not get unknown property &#39;android&#39; for project &#39;:cloud_firestore&#39; of type org.gradle.api.Project.\r\n   &gt; Could not find method implementation() for arguments [project &#39;:firebase_core&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n   &gt; Could not get unknown property &#39;android&#39; for project &#39;:cloud_firestore&#39; of type org.gradle.api.Project.\r\n```","title":"Flutter build fails on android emulator","body":"<p>The build of my flutter app fails since I installed new java 17 version.</p>\n<p>I already updated <code>JAVA_HOME</code> and the gradle user home in Android Studio.</p>\n<p>This is how my <code>gradle-wrapper.properties</code> file looks like</p>\n<pre><code>#Fri Jun 23 08:50:38 CEST 2017\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\n</code></pre>\n<p>This is the error message I got:</p>\n<pre><code>A problem occurred configuring project ':cloud_firestore'.\n&gt; Could not resolve all files for configuration ':cloud_firestore:classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.2.\n     Required by:\n         project :cloud_firestore\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6.1' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:8.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:8.1.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:8.1.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:8.1.2 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6.1')\n&gt; Failed to notify project evaluation listener.\n   &gt; Could not get unknown property 'android' for project ':cloud_firestore' of type org.gradle.api.Project.\n   &gt; Could not find method implementation() for arguments [project ':firebase_core'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n   &gt; Could not get unknown property 'android' for project ':cloud_firestore' of type org.gradle.api.Project.\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701732288,"post_id":77603032,"comment_id":136810007,"body_markdown":"You have `recurse1` returning `re`, so it can only ever return the base case. But you have `recurse2` returning `x`, so it always returns its input unchanged.","body":"You have <code>recurse1</code> returning <code>re</code>, so it can only ever return the base case. But you have <code>recurse2</code> returning <code>x</code>, so it always returns its input unchanged."},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1701733437,"post_id":77603032,"comment_id":136810097,"body_markdown":"That&#39;s quite simple: despite the base case `recurse2` would always return its argument. Thanks!","body":"That&#39;s quite simple: despite the base case <code>recurse2</code> would always return its argument. Thanks!"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701734189,"post_id":77603032,"comment_id":136810162,"body_markdown":"Sounds like you got it. There is one special case where `recurse2` would return the base case though, and that&#39;s when its input `x` is less than or equal to `0`.","body":"Sounds like you got it. There is one special case where <code>recurse2</code> would return the base case though, and that&#39;s when its input <code>x</code> is less than or equal to <code>0</code>."}],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701732715,"creation_date":1701732715,"answer_id":77603090,"question_id":77603032,"body_markdown":"You must know that the return at the end of the function is different?\r\n\r\nChange you program to be like this, explicitly outputting the values as walk through the program and showing the call depth to your recursive program.  Maybe this will help you understand what is going on:\r\n\r\n```\r\npublic class T {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Version 1\\n&quot;);\r\n        recurse1(5, 0);\r\n        System.out.println(&quot;\\n=============\\nVersion 2\\n&quot;);\r\n        recurse2(5, 0);\r\n    }\r\n\r\n    public static int recurse1(int x, int callDepth) {\r\n        //base condition\r\n        if(x &lt;= 0) return 1;\r\n        System.out.println(indent(callDepth) + &quot;About to recurse passing value &quot; + (x-1));\r\n        int re = recurse1(x - 1, callDepth+1);\r\n        System.out.println(indent(callDepth) + &quot;Returned with &quot; + re + &quot;, returning this value&quot;);\r\n\r\n        //System.out.println(&quot;re &quot;+re+&quot;, &quot;);\r\n\r\n        return re;\r\n    }\r\n\r\n    public static int recurse2(int x, int callDepth) {\r\n        //base condition\r\n        if(x &lt;= 0) return 1;\r\n        System.out.println(indent(callDepth) + &quot;About to recurse passing value &quot; + (x-1));\r\n        int re = recurse2(x - 1, callDepth+1);\r\n        System.out.println(indent(callDepth) + &quot;Returned with &quot; + re + &quot;, but returning &quot; + x);\r\n\r\n        //System.out.print(&quot;re &quot;+re+&quot;, &quot;);\r\n\r\n        return x;\r\n    }\r\n\r\n    public static String indent(int padding) {\r\n        String pad = &quot;&quot;;\r\n        for(int i=0; i&lt; padding; i++) {\r\n            pad += &quot;  &quot;;\r\n        }\r\n        return pad;\r\n    }\r\n```","title":"How does java handle recursive calls with multiple return statements?","body":"<p>You must know that the return at the end of the function is different?</p>\n<p>Change you program to be like this, explicitly outputting the values as walk through the program and showing the call depth to your recursive program.  Maybe this will help you understand what is going on:</p>\n<pre><code>public class T {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Version 1\\n&quot;);\n        recurse1(5, 0);\n        System.out.println(&quot;\\n=============\\nVersion 2\\n&quot;);\n        recurse2(5, 0);\n    }\n\n    public static int recurse1(int x, int callDepth) {\n        //base condition\n        if(x &lt;= 0) return 1;\n        System.out.println(indent(callDepth) + &quot;About to recurse passing value &quot; + (x-1));\n        int re = recurse1(x - 1, callDepth+1);\n        System.out.println(indent(callDepth) + &quot;Returned with &quot; + re + &quot;, returning this value&quot;);\n\n        //System.out.println(&quot;re &quot;+re+&quot;, &quot;);\n\n        return re;\n    }\n\n    public static int recurse2(int x, int callDepth) {\n        //base condition\n        if(x &lt;= 0) return 1;\n        System.out.println(indent(callDepth) + &quot;About to recurse passing value &quot; + (x-1));\n        int re = recurse2(x - 1, callDepth+1);\n        System.out.println(indent(callDepth) + &quot;Returned with &quot; + re + &quot;, but returning &quot; + x);\n\n        //System.out.print(&quot;re &quot;+re+&quot;, &quot;);\n\n        return x;\n    }\n\n    public static String indent(int padding) {\n        String pad = &quot;&quot;;\n        for(int i=0; i&lt; padding; i++) {\n            pad += &quot;  &quot;;\n        }\n        return pad;\n    }\n</code></pre>\n"}],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77603090,"answer_count":1,"score":-2,"last_activity_date":1701732715,"creation_date":1701731551,"question_id":77603032,"body_markdown":"I have two similar methods with each returning different values as shown below\r\n\r\n```\r\npublic static int recurse1(int x) {\r\n\t\t//base condition\r\n\t\tif(x &lt;= 0) return 1;\r\n\t\tint re = recurse1(x - 1);\r\n\t\t\r\n\t\tSystem.out.print(&quot;re &quot;+re+&quot;, &quot;);\r\n\t\t\r\n\t\treturn re;\r\n\t}\r\n```\r\n   and this \r\n```\r\npublic static int recurse2(int x) {\r\n\t\t//base condition\r\n\t\tif(x &lt;= 0) return 1;\r\n\t\tint re = recurse2(x - 1);\r\n\t\t\r\n\t\tSystem.out.print(&quot;re &quot;+re+&quot;, &quot;);\r\n\t\t\r\n\t\treturn x;\r\n\t}\r\n``` \r\nwhen I called each of the methods in the ```main``` method passing an argument of `5`,I expected the outputs to be something like ```re 1, re 1, re 1 ...``` for the respective methods since the base case for each should return 1.But the output for `recursive2(5)` printed ```re 1, re 1, re 2, re 3, re 4```. I really want to know why the difference in the output. I am sorry if this question has already been asked as I couldn&#39;t find a clear explanation.","title":"How does java handle recursive calls with multiple return statements?","body":"<p>I have two similar methods with each returning different values as shown below</p>\n<pre><code>public static int recurse1(int x) {\n        //base condition\n        if(x &lt;= 0) return 1;\n        int re = recurse1(x - 1);\n        \n        System.out.print(&quot;re &quot;+re+&quot;, &quot;);\n        \n        return re;\n    }\n</code></pre>\n<p>and this</p>\n<pre><code>public static int recurse2(int x) {\n        //base condition\n        if(x &lt;= 0) return 1;\n        int re = recurse2(x - 1);\n        \n        System.out.print(&quot;re &quot;+re+&quot;, &quot;);\n        \n        return x;\n    }\n</code></pre>\n<p>when I called each of the methods in the <code>main</code> method passing an argument of <code>5</code>,I expected the outputs to be something like <code>re 1, re 1, re 1 ...</code> for the respective methods since the base case for each should return 1.But the output for <code>recursive2(5)</code> printed <code>re 1, re 1, re 2, re 3, re 4</code>. I really want to know why the difference in the output. I am sorry if this question has already been asked as I couldn't find a clear explanation.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":9,"creation_date":1378326570,"post_id":18623180,"comment_id":27415238,"body_markdown":"It&#39;s a trick question; no PM will ever handle a mundane support call.","body":"It&#39;s a trick question; no PM will ever handle a mundane support call."},{"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"score":0,"creation_date":1378326707,"post_id":18623180,"comment_id":27415293,"body_markdown":"@DaveNewton Could you illustate more, please?","body":"@DaveNewton Could you illustate more, please?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1378326791,"post_id":18623180,"comment_id":27415339,"body_markdown":"And where does it pass a `CallHandler` to an employee? All I see is passing a `Call` to an employee. The call handler finds an employee to handle the call.","body":"And where does it pass a <code>CallHandler</code> to an employee? All I see is passing a <code>Call</code> to an employee. The call handler finds an employee to handle the call."},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1378327307,"post_id":18623180,"comment_id":27415590,"body_markdown":"CallHandler sounds for my like it should be a singleton","body":"CallHandler sounds for my like it should be a singleton"},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1378327511,"post_id":18623180,"comment_id":27415703,"body_markdown":"maybe some more information about the book could help us. is it for beginners?","body":"maybe some more information about the book could help us. is it for beginners?"},{"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"score":0,"creation_date":1378327933,"post_id":18623180,"comment_id":27415901,"body_markdown":"It&#39;s hard to make meaningful comments on this code.  The main reason is because of the superficial requirements.  An actual application would have a user intervace for all the users rather than have the code just do everything for them etc.","body":"It&#39;s hard to make meaningful comments on this code.  The main reason is because of the superficial requirements.  An actual application would have a user intervace for all the users rather than have the code just do everything for them etc."},{"owner":{"account_id":176261,"reputation":1887,"user_id":406838,"accept_rate":68,"display_name":"Ohas"},"score":0,"creation_date":1378329394,"post_id":18623180,"comment_id":27416539,"body_markdown":"The book is supposed to prepare you for software development interviews in big companies like Microsoft, Amazon, Google, etc., so I assume it&#39;s not for beginners. Even if it was for beginners, I am more interested in knowing how experts would approach the problem.","body":"The book is supposed to prepare you for software development interviews in big companies like Microsoft, Amazon, Google, etc., so I assume it&#39;s not for beginners. Even if it was for beginners, I am more interested in knowing how experts would approach the problem."}],"answers":[{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1378327557,"creation_date":1378327557,"answer_id":18623459,"question_id":18623180,"body_markdown":"There are an infinite number of ways to design this system (that&#39;s what makes developing software so fun) some ways are better than others.  The provided answer is not the best but it works.\r\n\r\nYou have to have some way of an Employee to escalate a call by doing somekind of callback to the `Callhandler`.  Whether that is done by passing around the `Callhandler` or having `Employee`s and `callhandler`s listening to events are both good ideas.  The given solution is simpler and therefore more easy to understand for the target audience.  An event based solution is more complicated, harder to write but more scalable and easier to modify.  \r\n\r\nFor example, if you had to add a new feature for some kind of &quot;overseer&quot; to monitor how often Employees successfully resolve calls versus how many times they escalate, it would be easy to just write a new event listener than try to shoe-horn a new object between the Employee and the Callhandler.\r\n\r\nBasically, yes your ideas are probably better than the solution, but they both answer the question.","title":"Object-oriented design: Giving too much responsibility to a value object","body":"<p>There are an infinite number of ways to design this system (that's what makes developing software so fun) some ways are better than others.  The provided answer is not the best but it works.</p>\n\n<p>You have to have some way of an Employee to escalate a call by doing somekind of callback to the <code>Callhandler</code>.  Whether that is done by passing around the <code>Callhandler</code> or having <code>Employee</code>s and <code>callhandler</code>s listening to events are both good ideas.  The given solution is simpler and therefore more easy to understand for the target audience.  An event based solution is more complicated, harder to write but more scalable and easier to modify.  </p>\n\n<p>For example, if you had to add a new feature for some kind of \"overseer\" to monitor how often Employees successfully resolve calls versus how many times they escalate, it would be easy to just write a new event listener than try to shoe-horn a new object between the Employee and the Callhandler.</p>\n\n<p>Basically, yes your ideas are probably better than the solution, but they both answer the question.</p>\n"},{"tags":[],"owner":{"account_id":3064637,"reputation":2333,"user_id":2596621,"display_name":"progrenhard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378328580,"creation_date":1378328580,"answer_id":18623722,"question_id":18623180,"body_markdown":"This is how I would design it.\r\n\r\n\r\n    Employee as an interface\r\n        properties-&gt;\r\n            int rank = 0;\r\n            bool availability;\r\n        branches off to(these classes extend employee) -&gt;\r\n            fresher\r\n            TL\r\n            PM\r\n\r\nThen essentially fresher, TL, PM have different ranks(&quot;levels&quot;).\r\n\r\nCall Handle can base it off a list of who&#39;s available based on rank.\r\n\r\nEX. If all rank 0 employees are not available +1 the level to see if anyone up there is available.\r\n\r\nIt might even make more sense to have &quot;lower level&quot; employees have higher levels and make the top dog rank 1 or 0 so it&#39;ll be simple to see where the end is.       ","title":"Object-oriented design: Giving too much responsibility to a value object","body":"<p>This is how I would design it.</p>\n\n<pre><code>Employee as an interface\n    properties-&gt;\n        int rank = 0;\n        bool availability;\n    branches off to(these classes extend employee) -&gt;\n        fresher\n        TL\n        PM\n</code></pre>\n\n<p>Then essentially fresher, TL, PM have different ranks(\"levels\").</p>\n\n<p>Call Handle can base it off a list of who's available based on rank.</p>\n\n<p>EX. If all rank 0 employees are not available +1 the level to see if anyone up there is available.</p>\n\n<p>It might even make more sense to have \"lower level\" employees have higher levels and make the top dog rank 1 or 0 so it'll be simple to see where the end is.       </p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701965927,"post_id":77603023,"comment_id":136842639,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77603023/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":554485,"reputation":62,"user_id":1074770,"display_name":"Harish Iyer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701731303,"creation_date":1701731303,"answer_id":77603023,"question_id":18623180,"body_markdown":"Shouldn&#39;t the call have a status or bunch of valid statuses? \r\nThe handlers should update the status. This would make it more realistic.\r\n","title":"Object-oriented design: Giving too much responsibility to a value object","body":"<p>Shouldn't the call have a status or bunch of valid statuses?\nThe handlers should update the status. This would make it more realistic.</p>\n"}],"owner":{"account_id":176261,"reputation":1887,"user_id":406838,"accept_rate":68,"display_name":"Ohas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1617,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18623459,"answer_count":3,"score":2,"last_activity_date":1701731303,"creation_date":1378326488,"question_id":18623180,"body_markdown":"I came across this design question in the book Cracking the Coding Interview:\r\n&gt; Imagine you have a call center with three levels of employees:\r\n&gt; fresher, technical lead (TL), product manager (PM). There can be\r\n&gt; multiple employees, but only one TL or PM. An incoming telephone call\r\n&gt; must be allocated to a fresher who is free. If a fresher can’t handle\r\n&gt; the call, he or she must escalate the call to technical lead. If the\r\n&gt; TL is not free or not able to handle it, then the call should be\r\n&gt; escalated to PM. Design the classes and data structures for this\r\n&gt; problem. Implement a method getCallHandler().\r\n\r\n**Solution in the book**\r\n\r\n    public class CallHandler {\r\n    \tstatic final int LEVELS = 3; // we have 3 levels of employees\r\n    \tstatic final int NUM_FRESHERS = 5; // we have 5 freshers\r\n    \tArrayList&lt;Employee&gt;[] employeeLevels = new ArrayList[LEVELS];\r\n    \t// queues for each call’s rank\r\n    \tQueue&lt;Call&gt;[] callQueues = new LinkedList[LEVELS];\r\n    \t\r\n    \tpublic CallHandler() { ... }\r\n    \t\r\n    \tEmployee getCallHandler(Call call) {\r\n    \t\tfor (int level = call.rank; level &lt; LEVELS - 1; level++) {\r\n    \t\t\tArrayList&lt;Employee&gt; employeeLevel = employeeLevels[level];\r\n    \t\t\tfor (Employee emp : employeeLevel) {\r\n    \t\t\t\tif (emp.free) {\r\n    \t\t\t\t\treturn emp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t// routes the call to an available employee, or adds to a queue\r\n    \tvoid dispatchCall(Call call) {\r\n    \t\t// try to route the call to an employee with minimal rank\r\n    \t\tEmployee emp = getCallHandler(call);\r\n    \t\tif (emp != null) {\r\n    \t\t\temp.ReceiveCall(call);\r\n    \t\t} else {\r\n    \t\t\t// place the call into queue according to its rank\r\n    \t\t\tcallQueues[call.rank].add(call);\r\n    \t\t}\r\n    \t}\r\n    \tvoid getNextCall(Employee e) {...} // look for call for e’s rank\r\n    }\r\n    \r\n    class Call {\r\n    \tint rank = 0; // minimal rank of employee who can handle this call\r\n    \tpublic void reply(String message) { ... }\r\n    \tpublic void disconnect() { ... }\r\n    }\r\n    \r\n    class Employee {\r\n    \tCallHandler callHandler;\r\n    \tint rank; // 0- fresher, 1 - technical lead, 2 - product manager\r\n    \tboolean free;\r\n    \tEmployee(int rank) { this.rank = rank; }\r\n    \tvoid ReceiveCall(Call call) { ... }\r\n    \tvoid CallHandled(Call call) { ... } // call is complete\r\n    \tvoid CannotHandle(Call call) { // escalate call\r\n    \t\tcall.rank = rank + 1;\r\n    \t\tcallHandler.dispatchCall(call);\r\n    \t\tfree = true;\r\n    \t\tcallHandler.getNextCall(this); // look for waiting call\r\n    \t}\r\n    }\r\n    \r\n    class Fresher extends Employee {\r\n    \tpublic Fresher() { super(0); }\r\n    }\r\n    class TechLead extends Employee {\r\n    \tpublic TechLead() { super(1); }\r\n    }\r\n    class ProductManager extends Employee {\r\n    \tpublic ProductManager() { super(2); }\r\n    }\r\n\r\nThis solution is not very satisfying mainly because it involves passing a `CallHandler` object to `Employee`. I think `Employee` should be treated as a value object meaning its job should be mostly holding data without being aware of entities that contain the real business logic (like `CallHandler`). So I am interested in finding out what better ways there are to design this. I come from ActionScript background and in that I would probably use ActionScript&#39;s event model to send messages from `Employee` and listen to them in `CallHandler`.","title":"Object-oriented design: Giving too much responsibility to a value object","body":"<p>I came across this design question in the book Cracking the Coding Interview:</p>\n\n<blockquote>\n  <p>Imagine you have a call center with three levels of employees:\n  fresher, technical lead (TL), product manager (PM). There can be\n  multiple employees, but only one TL or PM. An incoming telephone call\n  must be allocated to a fresher who is free. If a fresher can’t handle\n  the call, he or she must escalate the call to technical lead. If the\n  TL is not free or not able to handle it, then the call should be\n  escalated to PM. Design the classes and data structures for this\n  problem. Implement a method getCallHandler().</p>\n</blockquote>\n\n<p><strong>Solution in the book</strong></p>\n\n<pre><code>public class CallHandler {\n    static final int LEVELS = 3; // we have 3 levels of employees\n    static final int NUM_FRESHERS = 5; // we have 5 freshers\n    ArrayList&lt;Employee&gt;[] employeeLevels = new ArrayList[LEVELS];\n    // queues for each call’s rank\n    Queue&lt;Call&gt;[] callQueues = new LinkedList[LEVELS];\n\n    public CallHandler() { ... }\n\n    Employee getCallHandler(Call call) {\n        for (int level = call.rank; level &lt; LEVELS - 1; level++) {\n            ArrayList&lt;Employee&gt; employeeLevel = employeeLevels[level];\n            for (Employee emp : employeeLevel) {\n                if (emp.free) {\n                    return emp;\n                }\n            }\n        }\n        return null;\n    }\n\n    // routes the call to an available employee, or adds to a queue\n    void dispatchCall(Call call) {\n        // try to route the call to an employee with minimal rank\n        Employee emp = getCallHandler(call);\n        if (emp != null) {\n            emp.ReceiveCall(call);\n        } else {\n            // place the call into queue according to its rank\n            callQueues[call.rank].add(call);\n        }\n    }\n    void getNextCall(Employee e) {...} // look for call for e’s rank\n}\n\nclass Call {\n    int rank = 0; // minimal rank of employee who can handle this call\n    public void reply(String message) { ... }\n    public void disconnect() { ... }\n}\n\nclass Employee {\n    CallHandler callHandler;\n    int rank; // 0- fresher, 1 - technical lead, 2 - product manager\n    boolean free;\n    Employee(int rank) { this.rank = rank; }\n    void ReceiveCall(Call call) { ... }\n    void CallHandled(Call call) { ... } // call is complete\n    void CannotHandle(Call call) { // escalate call\n        call.rank = rank + 1;\n        callHandler.dispatchCall(call);\n        free = true;\n        callHandler.getNextCall(this); // look for waiting call\n    }\n}\n\nclass Fresher extends Employee {\n    public Fresher() { super(0); }\n}\nclass TechLead extends Employee {\n    public TechLead() { super(1); }\n}\nclass ProductManager extends Employee {\n    public ProductManager() { super(2); }\n}\n</code></pre>\n\n<p>This solution is not very satisfying mainly because it involves passing a <code>CallHandler</code> object to <code>Employee</code>. I think <code>Employee</code> should be treated as a value object meaning its job should be mostly holding data without being aware of entities that contain the real business logic (like <code>CallHandler</code>). So I am interested in finding out what better ways there are to design this. I come from ActionScript background and in that I would probably use ActionScript's event model to send messages from <code>Employee</code> and listen to them in <code>CallHandler</code>.</p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701728222,"creation_date":1701726969,"answer_id":77602782,"question_id":77479159,"body_markdown":"Yes, it is possible to unmarshal XML instances that include varying content distinguished by a given attribute having different values.\r\n\r\nHere is a standalone Maven demonstration [project][21] and [zip][20] that uses these JAXB features to provide a solution:\r\n\r\n+ `@XmlJavaTypeAdapter(MethodXmlAdapter.class)` - a JAXB annotation to specify a class to provide custom _unmarshaller_ and _marshaller_ methods.\r\n+ `MethodXmlAdapter.class` - receives a [DOM][10] [`Element`][11] from JAXB when unmarshalling the _method_ element. The `Element` instance is used to read the distinguishing name as a DOM attribute. When marshaling, JAXB provides a `MethodXXN` instance to be marshaled, in the adapter, to back to a DOM `Element` representation.\r\n\r\nThe key points for unmarshalling is the distinguishing attribute is programmatically accessible and the DOM element can be unmarshaled to the desired Java type.\r\n\r\n[Context.mainUnmarshalByName(...)][36]\r\n~~~\r\npublic static Object mainUnmarshalByName(Element element)\r\n{\r\n    Object value = null;\r\n    String name = element.getAttribute(&quot;name&quot;);\r\n    switch (name)\r\n    {\r\n        case &quot;platce-info&quot;:\r\n            value = mainUnmarshal(element, METHODXX1_CLASS);\r\n            break;\r\n        case &quot;platce-data&quot;:\r\n            value = mainUnmarshal(element, METHODXX2_CLASS);\r\n            break;\r\n        default:\r\n            value = element;\r\n            break;\r\n    }\r\n    return value;\r\n}\r\n~~~\r\n\r\nThe key point for marshalling is the different `MethodXXN` instances can be marshaled to the one _method_ element using a declared [QName][12] with or without a namespace.\r\n\r\n[Context.mainWrapAsMethod(...)][36]\r\n~~~\r\n@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\npublic static Object mainWrapAsMethod(Object value)\r\n{\r\n    Object wrap = null;\r\n    if ( value != null )\r\n    {\r\n        if ( isJAXBElement(value) )\r\n            value = ((JAXBElement) value).getValue();\r\n\r\n        if ( METHODXX1_CLASS.equals(value.getClass()) )\r\n            wrap = new JAXBElement(METHOD_QNAME, METHODXX1_CLASS, value);\r\n        else if ( METHODXX2_CLASS.equals(value.getClass()) )\r\n            wrap = new JAXBElement(METHOD_QNAME, METHODXX2_CLASS, value);\r\n    }\r\n    return wrap;\r\n}\r\n~~~\r\n\r\n#### Implementation\r\n\r\nThe [sample project][21] generates the JAXB classes using the [HiSrc HigherJAXB][2] Maven plugin and XJC plugins from [HiSrc BasicJAXB][1]. The XML Schema defines the `MethodXXN` types as sub-types of `MethodBase` which contains common attributes and elements.\r\n\r\n**Classes generated from [platce.xsd][31] by XJC**\r\n~~~\r\norg\r\n└── example\r\n    └── platce\r\n        ├── MethodBase.java\r\n        ├── MethodXX1.java\r\n        ├── MethodXX2.java\r\n        ├── ObjectFactory.java\r\n        ├── Response.java\r\n        └── VeraWSClass.java\r\n~~~\r\n\r\nThe [platce.xsd][31] schema defines the `VeraWSClass` type to hold the _any_ element; but, the [HiSrc HigherJAXB][2] Maven plugin uses the [HiSrc BasicJAXB][1] customization XJC plugin and the [HiSrc HyperJAXB Annox][3] annotation XJC plugin to add the `@XmlAnyElement` and `@XmlJavaTypeAdapter` annotation using a separate configuration file: [VeraWSClass.any.xml][30].\r\n\r\n#### Execution\r\n\r\nFor the demo, you can run the test and/or application using:\r\n\r\n~~~\r\nmvn -Ptest clean test\r\nmvn -Pexec compile exec:java -Dexec.args=&quot;src/test/samples/response01.xml&quot;\r\nmvn -Pexec compile exec:java -Dexec.args=&quot;src/test/samples/response02.xml&quot;\r\n~~~\r\n\r\n_Disclaimer:_ I am the maintainer for the forked [HiSrc BasicJAXB][1], [HiSrc HigherJAXB][2] and [HiSrc HyperJAXB Annox][3] projects.\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://github.com/patrodyne/hisrc-basicjaxb#readme\r\n[2]: https://github.com/patrodyne/hisrc-higherjaxb#readme\r\n[3]: https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\r\n[10]: https://www.w3.org/TR/WD-DOM/introduction.html\r\n[11]: https://www.w3.org/2003/01/dom2-javadoc/org/w3c/dom/Element.html\r\n[12]: https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/namespace/QName.html\r\n[20]: https://github.com/patrodyne/hisrc-basicjaxb/releases/download/2.1.1/hisrc-basicjaxb-sample-platce-01-2.1.1-mvn-src.zip\r\n[21]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/README.md\r\n[22]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/OUTPUT.txt\r\n[23]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/project-pom.xml\r\n[24]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/bin/run.sh\r\n[25]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/bin/run.cmd\r\n[30]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/org/example/platce/VeraWSClass.any.xml\r\n[31]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/platce.xsd\r\n[32]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/platce.xjb\r\n[33]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/Demo.java\r\n[34]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/util/DOMUtils.java\r\n[35]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/util/XmlTypeUtils.java\r\n[36]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/Context.java\r\n[37]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/MethodXmlAdapter.java\r\n[41]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/samples/response01.xml\r\n[42]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/samples/response02.xml\r\n[43]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/resources/jvmsystem.arguments\r\n[44]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/resources/jvmsystem.properties\r\n[45]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/resources/simplelogger.properties\r\n[46]: https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/test/java/org/example/platce/ContextTest.java","title":"Unmarshalling multiple XMLs with similar wrapper","body":"<p>Yes, it is possible to unmarshal XML instances that include varying content distinguished by a given attribute having different values.</p>\n<p>Here is a standalone Maven demonstration <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/README.md\" rel=\"nofollow noreferrer\">project</a> and <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/releases/download/2.1.1/hisrc-basicjaxb-sample-platce-01-2.1.1-mvn-src.zip\" rel=\"nofollow noreferrer\">zip</a> that uses these JAXB features to provide a solution:</p>\n<ul>\n<li><code>@XmlJavaTypeAdapter(MethodXmlAdapter.class)</code> - a JAXB annotation to specify a class to provide custom <em>unmarshaller</em> and <em>marshaller</em> methods.</li>\n<li><code>MethodXmlAdapter.class</code> - receives a <a href=\"https://www.w3.org/TR/WD-DOM/introduction.html\" rel=\"nofollow noreferrer\">DOM</a> <a href=\"https://www.w3.org/2003/01/dom2-javadoc/org/w3c/dom/Element.html\" rel=\"nofollow noreferrer\"><code>Element</code></a> from JAXB when unmarshalling the <em>method</em> element. The <code>Element</code> instance is used to read the distinguishing name as a DOM attribute. When marshaling, JAXB provides a <code>MethodXXN</code> instance to be marshaled, in the adapter, to back to a DOM <code>Element</code> representation.</li>\n</ul>\n<p>The key points for unmarshalling is the distinguishing attribute is programmatically accessible and the DOM element can be unmarshaled to the desired Java type.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/Context.java\" rel=\"nofollow noreferrer\">Context.mainUnmarshalByName(...)</a></p>\n<pre><code>public static Object mainUnmarshalByName(Element element)\n{\n    Object value = null;\n    String name = element.getAttribute(&quot;name&quot;);\n    switch (name)\n    {\n        case &quot;platce-info&quot;:\n            value = mainUnmarshal(element, METHODXX1_CLASS);\n            break;\n        case &quot;platce-data&quot;:\n            value = mainUnmarshal(element, METHODXX2_CLASS);\n            break;\n        default:\n            value = element;\n            break;\n    }\n    return value;\n}\n</code></pre>\n<p>The key point for marshalling is the different <code>MethodXXN</code> instances can be marshaled to the one <em>method</em> element using a declared <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/namespace/QName.html\" rel=\"nofollow noreferrer\">QName</a> with or without a namespace.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/java/org/example/platce/Context.java\" rel=\"nofollow noreferrer\">Context.mainWrapAsMethod(...)</a></p>\n<pre><code>@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\npublic static Object mainWrapAsMethod(Object value)\n{\n    Object wrap = null;\n    if ( value != null )\n    {\n        if ( isJAXBElement(value) )\n            value = ((JAXBElement) value).getValue();\n\n        if ( METHODXX1_CLASS.equals(value.getClass()) )\n            wrap = new JAXBElement(METHOD_QNAME, METHODXX1_CLASS, value);\n        else if ( METHODXX2_CLASS.equals(value.getClass()) )\n            wrap = new JAXBElement(METHOD_QNAME, METHODXX2_CLASS, value);\n    }\n    return wrap;\n}\n</code></pre>\n<h4>Implementation</h4>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/README.md\" rel=\"nofollow noreferrer\">sample project</a> generates the JAXB classes using the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc HigherJAXB</a> Maven plugin and XJC plugins from <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a>. The XML Schema defines the <code>MethodXXN</code> types as sub-types of <code>MethodBase</code> which contains common attributes and elements.</p>\n<p><strong>Classes generated from <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/platce.xsd\" rel=\"nofollow noreferrer\">platce.xsd</a> by XJC</strong></p>\n<pre><code>org\n└── example\n    └── platce\n        ├── MethodBase.java\n        ├── MethodXX1.java\n        ├── MethodXX2.java\n        ├── ObjectFactory.java\n        ├── Response.java\n        └── VeraWSClass.java\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/platce.xsd\" rel=\"nofollow noreferrer\">platce.xsd</a> schema defines the <code>VeraWSClass</code> type to hold the <em>any</em> element; but, the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc HigherJAXB</a> Maven plugin uses the <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a> customization XJC plugin and the <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\" rel=\"nofollow noreferrer\">HiSrc HyperJAXB Annox</a> annotation XJC plugin to add the <code>@XmlAnyElement</code> and <code>@XmlJavaTypeAdapter</code> annotation using a separate configuration file: <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/higher/assembly/samples/platce-01/src/main/resources/org/example/platce/VeraWSClass.any.xml\" rel=\"nofollow noreferrer\">VeraWSClass.any.xml</a>.</p>\n<h4>Execution</h4>\n<p>For the demo, you can run the test and/or application using:</p>\n<pre><code>mvn -Ptest clean test\nmvn -Pexec compile exec:java -Dexec.args=&quot;src/test/samples/response01.xml&quot;\nmvn -Pexec compile exec:java -Dexec.args=&quot;src/test/samples/response02.xml&quot;\n</code></pre>\n<p><em>Disclaimer:</em> I am the maintainer for the forked <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a>, <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">HiSrc HigherJAXB</a> and <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\" rel=\"nofollow noreferrer\">HiSrc HyperJAXB Annox</a> projects.</p>\n\n"}],"owner":{"account_id":29898188,"reputation":1,"user_id":22912527,"display_name":"František Slab&#253;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701728222,"creation_date":1699950726,"question_id":77479159,"body_markdown":"I have multiple different XMLs with similar wrapper. For example:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;response id=&quot;085845&quot;&gt;\r\n  &lt;class name=&quot;vera-pd&quot; version=&quot;1.25&quot; revision=&quot;1&quot;&gt;\r\n    &lt;method name=&quot;platce-info&quot;&gt;\r\n      &lt;status&gt;0&lt;/status&gt;\r\n      &lt;error_msg/&gt;\r\n      ... method content ...\r\n    &lt;/method&gt;\r\n  &lt;/class&gt;\r\n&lt;/response&gt;\r\n```\r\n\r\nI want to unmarshall them to POJOs based on the content or the attribute &quot;name&quot; in &lt;method&gt;. Is something like that posible? I want to avoid having to write different ResponseClass for every method. XMLs arent mine, they come from different system so i am unable to use type or namespace.\r\n\r\nI tried to use @XmlElements like this (classes MethodXX1 and MethodXX2 override VeraWSMethod). It didnt work because unmarshaller is unable to determine class and uses the last one in @XmlElements. \r\n\r\n\r\n```\r\n@XmlRootElement(name = &quot;class&quot;)\r\npublic class VeraWSClass {\r\n    private String name;\r\n    private String version;\r\n    private String revision;\r\n    private VeraWSMethod method;\r\n\r\n    @XmlAttribute\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @XmlAttribute\r\n    public String getVersion() {\r\n        return version;\r\n    }\r\n\r\n    public void setVersion(String version) {\r\n        this.version = version;\r\n    }\r\n\r\n    @XmlAttribute\r\n    public String getRevision() {\r\n        return revision;\r\n    }\r\n\r\n    public void setRevision(String revision) {\r\n        this.revision = revision;\r\n    }\r\n\r\n    @XmlElements({\r\n            @XmlElement(name = &quot;method&quot;, type = MethodXX1.class),\r\n            @XmlElement(name = &quot;method&quot;, type = MethodXX2.class)\r\n    })\r\n    public VeraWSMethod getMethod() {\r\n        return method;\r\n    }\r\n\r\n    public void setMethod(VeraWSMethod method) {\r\n        this.method = method;\r\n    }\r\n}\r\n```\r\n","title":"Unmarshalling multiple XMLs with similar wrapper","body":"<p>I have multiple different XMLs with similar wrapper. For example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;response id=&quot;085845&quot;&gt;\n  &lt;class name=&quot;vera-pd&quot; version=&quot;1.25&quot; revision=&quot;1&quot;&gt;\n    &lt;method name=&quot;platce-info&quot;&gt;\n      &lt;status&gt;0&lt;/status&gt;\n      &lt;error_msg/&gt;\n      ... method content ...\n    &lt;/method&gt;\n  &lt;/class&gt;\n&lt;/response&gt;\n</code></pre>\n<p>I want to unmarshall them to POJOs based on the content or the attribute &quot;name&quot; in . Is something like that posible? I want to avoid having to write different ResponseClass for every method. XMLs arent mine, they come from different system so i am unable to use type or namespace.</p>\n<p>I tried to use @XmlElements like this (classes MethodXX1 and MethodXX2 override VeraWSMethod). It didnt work because unmarshaller is unable to determine class and uses the last one in @XmlElements.</p>\n<pre><code>@XmlRootElement(name = &quot;class&quot;)\npublic class VeraWSClass {\n    private String name;\n    private String version;\n    private String revision;\n    private VeraWSMethod method;\n\n    @XmlAttribute\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @XmlAttribute\n    public String getVersion() {\n        return version;\n    }\n\n    public void setVersion(String version) {\n        this.version = version;\n    }\n\n    @XmlAttribute\n    public String getRevision() {\n        return revision;\n    }\n\n    public void setRevision(String revision) {\n        this.revision = revision;\n    }\n\n    @XmlElements({\n            @XmlElement(name = &quot;method&quot;, type = MethodXX1.class),\n            @XmlElement(name = &quot;method&quot;, type = MethodXX2.class)\n    })\n    public VeraWSMethod getMethod() {\n        return method;\n    }\n\n    public void setMethod(VeraWSMethod method) {\n        this.method = method;\n    }\n}\n</code></pre>\n"},{"tags":["java","reflection","wrapper"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1591373659,"post_id":1704634,"comment_id":110041421,"body_markdown":"there are [better ways](https://stackoverflow.com/a/62219759/1059372)","body":"there are <a href=\"https://stackoverflow.com/a/62219759/1059372\">better ways</a>"}],"answers":[{"comments":[{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":0,"creation_date":1492715611,"post_id":1704650,"comment_id":74109111,"body_markdown":"There are also fields in the wrapper classes which will let you get to the primitive classes (e.g., `Double.TYPE` is the same as `double.class`), but there&#39;s no non-ugly way to take advantage of that programmatically.","body":"There are also fields in the wrapper classes which will let you get to the primitive classes (e.g., <code>Double.TYPE</code> is the same as <code>double.class</code>), but there&#39;s no non-ugly way to take advantage of that programmatically."}],"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1257808911,"creation_date":1257808911,"answer_id":1704650,"question_id":1704634,"body_markdown":"You can call class.isPrimitive() to know if it is a primitive or not, however, there is no boxing method to convert the classes within the JDK. There is at least one [open bug][1] relating to this.\r\n\r\n\r\n  [1]: http://bugs.sun.com/bugdatabase/view%5Fbug.do?bug%5Fid=6456930","title":"Simple way to get wrapper class type in Java","body":"<p>You can call class.isPrimitive() to know if it is a primitive or not, however, there is no boxing method to convert the classes within the JDK. There is at least one <a href=\"http://bugs.sun.com/bugdatabase/view%5Fbug.do?bug%5Fid=6456930\" rel=\"noreferrer\">open bug</a> relating to this.</p>\n"},{"comments":[{"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"score":0,"creation_date":1257809610,"post_id":1704658,"comment_id":1580857,"body_markdown":"So basically same thing... :) Thanks for the answer. Basically there is no other way at the moment.","body":"So basically same thing... :) Thanks for the answer. Basically there is no other way at the moment."},{"owner":{"account_id":16361227,"reputation":344,"user_id":11816777,"display_name":"LSafer"},"score":0,"creation_date":1596321615,"post_id":1704658,"comment_id":111776177,"body_markdown":"I rather use nested `if` statements than using a map! (for performance)","body":"I rather use nested <code>if</code> statements than using a map! (for performance)"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1649197371,"post_id":1704658,"comment_id":126814118,"body_markdown":"&#180;Void.class&#180; interesting!","body":"&#180;Void.class&#180; interesting!"}],"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":3,"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1668281014,"creation_date":1257809071,"answer_id":1704658,"question_id":1704634,"body_markdown":"I think [this answer](https://stackoverflow.com/a/62219759/202214) is probably the right way now \r\n\r\nOr, Guava has this:\r\n\r\nhttp://google.github.io/guava/releases/21.0/api/docs/com/google/common/primitives/Primitives.html\r\n\r\nIt has the wrap() method, plus unwrap() and a few other incidental things.\r\n\r\nIf you don&#39;t use Guava, you can follow the example of its implementation.","title":"Simple way to get wrapper class type in Java","body":"<p>I think <a href=\"https://stackoverflow.com/a/62219759/202214\">this answer</a> is probably the right way now</p>\n<p>Or, Guava has this:</p>\n<p><a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/primitives/Primitives.html\" rel=\"nofollow noreferrer\">http://google.github.io/guava/releases/21.0/api/docs/com/google/common/primitives/Primitives.html</a></p>\n<p>It has the wrap() method, plus unwrap() and a few other incidental things.</p>\n<p>If you don't use Guava, you can follow the example of its implementation.</p>\n"},{"comments":[{"owner":{"account_id":13414497,"reputation":29015,"user_id":10147399,"display_name":"Aykhan Hagverdili"},"score":0,"creation_date":1652430805,"post_id":1704671,"comment_id":127609219,"body_markdown":"The second url is broken","body":"The second url is broken"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":1,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1701727276,"creation_date":1257809270,"answer_id":1704671,"question_id":1704634,"body_markdown":"[Apache Commons Lang][1] has a utility method to do this ([ClassUtils.primitiveToWrapper()][2]), which will be just as ugly under the covers, but at least you can pretend it&#39;s nice.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ClassUtils.html#primitiveToWrapper-java.lang.Class-","title":"Simple way to get wrapper class type in Java","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang</a> has a utility method to do this (<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ClassUtils.html#primitiveToWrapper-java.lang.Class-\" rel=\"nofollow noreferrer\">ClassUtils.primitiveToWrapper()</a>), which will be just as ugly under the covers, but at least you can pretend it's nice.</p>\n"},{"comments":[{"owner":{"account_id":1051445,"reputation":5523,"user_id":1055284,"accept_rate":100,"display_name":"Ben Barkay"},"score":0,"creation_date":1544968604,"post_id":40873503,"comment_id":94454285,"body_markdown":"This is also great for instantiating a primitive with 0-value.","body":"This is also great for instantiating a primitive with 0-value."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1591373342,"post_id":40873503,"comment_id":110041261,"body_markdown":"@BenBarkay `MethodHandles::zero` is a better way","body":"@BenBarkay <code>MethodHandles::zero</code> is a better way"}],"tags":[],"owner":{"account_id":1511094,"reputation":770,"user_id":1413206,"display_name":"Fai Ng"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1526331970,"creation_date":1480445277,"answer_id":40873503,"question_id":1704634,"body_markdown":"Here is another way if you don&#39;t need highly optimized code:\r\n\r\n\t\tClass&lt;?&gt; primitive=long.class;\r\n\t\tClass&lt;?&gt; boxed=Array.get(Array.newInstance(primitive,1),0).getClass();\r\n\t\tSystem.out.println(primitive.getName());\r\n\t\tSystem.out.println(boxed.getName());\r\n\r\n\r\n(Editing/adding explanation)\r\n\r\nAt first, it was to see if Java has a method to give you the wrapper class when given a primitive type. Couldn&#39;t find any.\r\n\r\nThen, it was to see if you can have Java create a primitive value when give a primitive type (then you can somehow get an object out of it). Couldn&#39;t find a way to do this.\r\n\r\nBut then it was found out that you CAN have Java create an array of primitive values when given a primitive type.  And then there is a Java method that gives you an object of the wrapping type of the array element(which is primitive). Once you have the object, you can then get the type.\r\n\r\nSo here is how the whole thing work:\r\n\r\nThe method Array.newInstance() creates a array of whatever type you specify, whether it is primitive or object. In the case of object, all elements are object type but initialized to null. In the case of primitive, elements are primitive type. But primitive variable/array element can&#39;t be null, so they have the default value of the primitive type, e.g. int will be zero. Thus no elements will be null. And now if you try to get the value of an element by using Array.get(), Array.get() has no choice but box that primitive value to an object, e.g. int to Integer, because Array.get() can&#39;t return primitive value. Now you have an object of the boxing(wrapping) type of you original primitive type. Finally calling Object.getClass() gives you the boxing(wrapping) type.\r\n\r\nThis trick works with any primitive type you have in Java today and in the future.","title":"Simple way to get wrapper class type in Java","body":"<p>Here is another way if you don't need highly optimized code:</p>\n\n<pre><code>    Class&lt;?&gt; primitive=long.class;\n    Class&lt;?&gt; boxed=Array.get(Array.newInstance(primitive,1),0).getClass();\n    System.out.println(primitive.getName());\n    System.out.println(boxed.getName());\n</code></pre>\n\n<p>(Editing/adding explanation)</p>\n\n<p>At first, it was to see if Java has a method to give you the wrapper class when given a primitive type. Couldn't find any.</p>\n\n<p>Then, it was to see if you can have Java create a primitive value when give a primitive type (then you can somehow get an object out of it). Couldn't find a way to do this.</p>\n\n<p>But then it was found out that you CAN have Java create an array of primitive values when given a primitive type.  And then there is a Java method that gives you an object of the wrapping type of the array element(which is primitive). Once you have the object, you can then get the type.</p>\n\n<p>So here is how the whole thing work:</p>\n\n<p>The method Array.newInstance() creates a array of whatever type you specify, whether it is primitive or object. In the case of object, all elements are object type but initialized to null. In the case of primitive, elements are primitive type. But primitive variable/array element can't be null, so they have the default value of the primitive type, e.g. int will be zero. Thus no elements will be null. And now if you try to get the value of an element by using Array.get(), Array.get() has no choice but box that primitive value to an object, e.g. int to Integer, because Array.get() can't return primitive value. Now you have an object of the boxing(wrapping) type of you original primitive type. Finally calling Object.getClass() gives you the boxing(wrapping) type.</p>\n\n<p>This trick works with any primitive type you have in Java today and in the future.</p>\n"},{"tags":[],"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523642978,"creation_date":1523642060,"answer_id":49822682,"question_id":1704634,"body_markdown":"(Idea) Get class name and make first letter capital, then call Class.forInstance(className).newInstance(primitive). Exceptions are &quot;char&quot; -&gt; Character and &quot;int&quot; -&gt; Integer\r\n\r\n                                    Class c=Primitive class object\r\n                                    if (c.isPrimitive()) {\r\n                                        if (c == char.class) {\r\n                                            Object wrapper=new Character(primitive var);\r\n                                        }\r\n                                        if (c == int.class) {\r\n                                            Object wrapper=new Integer(primitive var);\r\n                                        }\r\n                                        else {\r\n                                            String name=c.getName();\r\n                                            try {\r\n                                                Class&lt;?&gt; c2=Class.forName(&quot;java.lang.&quot;+name.substring(0,1).toUpperCase()+name.substring(1,name.length()));\r\n                                                Object wrapper=c2.getConstructor(c).newInstance(primitve_var);\r\n                                            } catch (ClassNotFoundException ex) {\r\n                                                System.out.println(&quot;RROR&quot;);\r\n                                            }\r\n                                        }\r\n                                        \r\n                                    }","title":"Simple way to get wrapper class type in Java","body":"<p>(Idea) Get class name and make first letter capital, then call Class.forInstance(className).newInstance(primitive). Exceptions are \"char\" -> Character and \"int\" -> Integer</p>\n\n<pre><code>                                Class c=Primitive class object\n                                if (c.isPrimitive()) {\n                                    if (c == char.class) {\n                                        Object wrapper=new Character(primitive var);\n                                    }\n                                    if (c == int.class) {\n                                        Object wrapper=new Integer(primitive var);\n                                    }\n                                    else {\n                                        String name=c.getName();\n                                        try {\n                                            Class&lt;?&gt; c2=Class.forName(\"java.lang.\"+name.substring(0,1).toUpperCase()+name.substring(1,name.length()));\n                                            Object wrapper=c2.getConstructor(c).newInstance(primitve_var);\n                                        } catch (ClassNotFoundException ex) {\n                                            System.out.println(\"RROR\");\n                                        }\n                                    }\n\n                                }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2163662,"reputation":577,"user_id":1917237,"display_name":"n3k0"},"score":0,"creation_date":1543005011,"post_id":50810905,"comment_id":93777788,"body_markdown":"This is a very old answer, but effective, just copy &amp; paste, and don&#39;t have to use other libraries just to do this.","body":"This is a very old answer, but effective, just copy &amp; paste, and don&#39;t have to use other libraries just to do this."}],"tags":[],"owner":{"account_id":9218427,"reputation":71,"user_id":6848772,"display_name":"Jim Smith"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528786266,"creation_date":1528786266,"answer_id":50810905,"question_id":1704634,"body_markdown":"    Class&lt;?&gt; toWrapper(Class&lt;?&gt; clazz) {\r\n        if (!clazz.isPrimitive())\r\n            return clazz;\r\n\r\n        if (clazz == Integer.TYPE)\r\n            return Integer.class;\r\n        if (clazz == Long.TYPE)\r\n            return Long.class;\r\n        if (clazz == Boolean.TYPE)\r\n            return Boolean.class;\r\n        if (clazz == Byte.TYPE)\r\n            return Byte.class;\r\n        if (clazz == Character.TYPE)\r\n            return Character.class;\r\n        if (clazz == Float.TYPE)\r\n            return Float.class;\r\n        if (clazz == Double.TYPE)\r\n            return Double.class;\r\n        if (clazz == Short.TYPE)\r\n            return Short.class;\r\n        if (clazz == Void.TYPE)\r\n            return Void.class;\r\n\r\n        return clazz;\r\n    }","title":"Simple way to get wrapper class type in Java","body":"<pre><code>Class&lt;?&gt; toWrapper(Class&lt;?&gt; clazz) {\n    if (!clazz.isPrimitive())\n        return clazz;\n\n    if (clazz == Integer.TYPE)\n        return Integer.class;\n    if (clazz == Long.TYPE)\n        return Long.class;\n    if (clazz == Boolean.TYPE)\n        return Boolean.class;\n    if (clazz == Byte.TYPE)\n        return Byte.class;\n    if (clazz == Character.TYPE)\n        return Character.class;\n    if (clazz == Float.TYPE)\n        return Float.class;\n    if (clazz == Double.TYPE)\n        return Double.class;\n    if (clazz == Short.TYPE)\n        return Short.class;\n    if (clazz == Void.TYPE)\n        return Void.class;\n\n    return clazz;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1651641,"reputation":8505,"user_id":1522117,"display_name":"nickl-"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1655936786,"creation_date":1563528958,"answer_id":57109630,"question_id":1704634,"body_markdown":"## So you want to get the wrapper class type, ok.\r\nNo need to query the types or reference look up tables because java already does it anyway. Let&#39;s walk through the problem together...\r\n\r\n### Synopsis\r\n\r\nWe are retrieving a field and then find it contains a primitive type.\r\n\r\n```\r\nField f = getTheField(); // Dummy method that returns my Field\r\nClass&lt;?&gt; c = f.getType(); // Gets the declared primitive type\r\n```\r\n\r\nBut instead we want the wrapper type.\r\n\r\n### Primitive types in Java\r\n\r\nNow as you already found out the only thing a primitive class is good for is to return true for `c.isPrimitive();`.\r\n\r\nFrom [wiki books - java programming][1]:\r\n&gt; Primitive types are the most basic data types available within the Java language. There are 8: boolean , byte , char , short , int , long , float and double . These types serve as the building blocks of data manipulation in Java. Such types serve only one purpose — containing pure, simple values of a kind.\r\n\r\nSo why do we want to know the wrapper type?\r\n\r\nAttempting to use primitives in any other way and you are in for a lot of hurt.\r\n\r\n### Cannot make a new instance of a primitive.\r\n\r\n```\r\nField f = getTheField();\r\nClass&lt;?&gt; c = f.getType();\r\nObject wrapper = c.newInstance();\r\n//  java.lang.InstantiationException thrown: int\r\n//        at Class.newInstance (Class.java:545) \r\n```\r\n\r\n### Cannot cast to a primitive type.\r\n\r\n```\r\nField f = getTheField();\r\nClass&lt;?&gt; c = f.getType();\r\nObject wrapper = c.cast(0);\r\n//  java.lang.ClassCastException thrown: Cannot cast java.lang.Integer to int\r\n//        at Class.cast (Class.java:3578)\r\n```\r\n\r\n### Can cast to a null wrapper type. Yeah! \\o/\r\n\r\n```\r\nField f = getTheField();\r\nClass&lt;?&gt; c = f.getType();\r\nObject wrapper = c.cast(null);\r\n```\r\n\r\nNo exceptions and the variable `wrapper` is of type `class java.lang.Integer` but with a value of `null`, a whole lot of good that will do us.\r\n\r\n### Primitives are not even inherited from wrappers.\r\n\r\n```\r\nboolean isSuperClass = Integer.class.isAssignableFrom(int.class); // false\r\n```\r\n\r\nThis is obviously not getting us anywhere so lets rather take a step back from the problem and have a look at the bigger picture.\r\n\r\n## When at first you don&#39;t succeed...\r\n\r\nLets recap: We are retrieving a field which has to come from somewhere so if we were to fill in the gaps left out in the question it might look something like this.\r\n\r\n```\r\npublic class Simple {\r\n    public static int field;\r\n    \r\n    public static Field getTheField() {\r\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Field f = getTheField();\r\n        Class&lt;?&gt; c = f.getType();\r\n    }\r\n}\r\n```\r\n\r\nInstead of fighting against the machine lets rather work with it. One of the perks of primitives are that they will initialise to a default value `0` instead of `null`. Lets see if we can use that.\r\n\r\n### Get wrapper class from wrapped instance.\r\n\r\n\r\n```\r\npublic class Simple {\r\n    public static int field;\r\n\r\n    public static Field getTheField() {\r\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Field f = getTheField();\r\n        Object wrapped = f.get(null);    // Integer value 0\r\n        Class&lt;?&gt; c = wrapped.getClass(); // class java.lang.Integer\r\n    }\r\n}\r\n```\r\nThat was much easier than before and we didn&#39;t even have to do anything, auto boxing, everything was done for us. Yet another perk for not trying to go against the stream.\r\n\r\nLets improve on that, refactor and make it a little more reusable by extracting a method.\r\n\r\n### Implement a manual boxing method.\r\n\r\nWe can do the same auto boxing with generics:\r\n\r\n```\r\npublic class Simple {\r\n    public static int field;\r\n\r\n    public static Field getTheField() {\r\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\r\n    }\r\n\r\n    public static &lt;T&gt; T wrap(T t) {\r\n        return t;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Field f = getTheField();\r\n        Class&lt;?&gt; c = Simple.wrap(f.get(null)).getClass(); // class java.lang.Integer\r\n    }\r\n}\r\n```\r\n\r\nA simple primitive wrap without ever having to look at the types or use look up tables because java already does it anyway.\r\n\r\n## Conclusion\r\n\r\nThe simple solution using pure java to get the wrapper class from a primitive field:\r\n\r\n```\r\nField f = getTheField(); // Dummy method that returns my Field\r\nClass&lt;?&gt; c = f.get(null).getClass(); \r\n```\r\nOr you can replace null with an instance if the field is not static.\r\n\r\nnJoy!\r\n\r\n  [1]: https://en.wikibooks.org/wiki/Java_Programming/Primitive_Types","title":"Simple way to get wrapper class type in Java","body":"<h2>So you want to get the wrapper class type, ok.</h2>\n<p>No need to query the types or reference look up tables because java already does it anyway. Let's walk through the problem together...</p>\n<h3>Synopsis</h3>\n<p>We are retrieving a field and then find it contains a primitive type.</p>\n<pre><code>Field f = getTheField(); // Dummy method that returns my Field\nClass&lt;?&gt; c = f.getType(); // Gets the declared primitive type\n</code></pre>\n<p>But instead we want the wrapper type.</p>\n<h3>Primitive types in Java</h3>\n<p>Now as you already found out the only thing a primitive class is good for is to return true for <code>c.isPrimitive();</code>.</p>\n<p>From <a href=\"https://en.wikibooks.org/wiki/Java_Programming/Primitive_Types\" rel=\"nofollow noreferrer\">wiki books - java programming</a>:</p>\n<blockquote>\n<p>Primitive types are the most basic data types available within the Java language. There are 8: boolean , byte , char , short , int , long , float and double . These types serve as the building blocks of data manipulation in Java. Such types serve only one purpose — containing pure, simple values of a kind.</p>\n</blockquote>\n<p>So why do we want to know the wrapper type?</p>\n<p>Attempting to use primitives in any other way and you are in for a lot of hurt.</p>\n<h3>Cannot make a new instance of a primitive.</h3>\n<pre><code>Field f = getTheField();\nClass&lt;?&gt; c = f.getType();\nObject wrapper = c.newInstance();\n//  java.lang.InstantiationException thrown: int\n//        at Class.newInstance (Class.java:545) \n</code></pre>\n<h3>Cannot cast to a primitive type.</h3>\n<pre><code>Field f = getTheField();\nClass&lt;?&gt; c = f.getType();\nObject wrapper = c.cast(0);\n//  java.lang.ClassCastException thrown: Cannot cast java.lang.Integer to int\n//        at Class.cast (Class.java:3578)\n</code></pre>\n<h3>Can cast to a null wrapper type. Yeah! \\o/</h3>\n<pre><code>Field f = getTheField();\nClass&lt;?&gt; c = f.getType();\nObject wrapper = c.cast(null);\n</code></pre>\n<p>No exceptions and the variable <code>wrapper</code> is of type <code>class java.lang.Integer</code> but with a value of <code>null</code>, a whole lot of good that will do us.</p>\n<h3>Primitives are not even inherited from wrappers.</h3>\n<pre><code>boolean isSuperClass = Integer.class.isAssignableFrom(int.class); // false\n</code></pre>\n<p>This is obviously not getting us anywhere so lets rather take a step back from the problem and have a look at the bigger picture.</p>\n<h2>When at first you don't succeed...</h2>\n<p>Lets recap: We are retrieving a field which has to come from somewhere so if we were to fill in the gaps left out in the question it might look something like this.</p>\n<pre><code>public class Simple {\n    public static int field;\n    \n    public static Field getTheField() {\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\n    }\n\n    public static void main(String[] args) {\n        Field f = getTheField();\n        Class&lt;?&gt; c = f.getType();\n    }\n}\n</code></pre>\n<p>Instead of fighting against the machine lets rather work with it. One of the perks of primitives are that they will initialise to a default value <code>0</code> instead of <code>null</code>. Lets see if we can use that.</p>\n<h3>Get wrapper class from wrapped instance.</h3>\n<pre><code>public class Simple {\n    public static int field;\n\n    public static Field getTheField() {\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\n    }\n\n    public static void main(String[] args) {\n        Field f = getTheField();\n        Object wrapped = f.get(null);    // Integer value 0\n        Class&lt;?&gt; c = wrapped.getClass(); // class java.lang.Integer\n    }\n}\n</code></pre>\n<p>That was much easier than before and we didn't even have to do anything, auto boxing, everything was done for us. Yet another perk for not trying to go against the stream.</p>\n<p>Lets improve on that, refactor and make it a little more reusable by extracting a method.</p>\n<h3>Implement a manual boxing method.</h3>\n<p>We can do the same auto boxing with generics:</p>\n<pre><code>public class Simple {\n    public static int field;\n\n    public static Field getTheField() {\n        return Simple.class.getField(&quot;field&quot;); // Actual method that returns our Field\n    }\n\n    public static &lt;T&gt; T wrap(T t) {\n        return t;\n    }\n\n    public static void main(String[] args) {\n        Field f = getTheField();\n        Class&lt;?&gt; c = Simple.wrap(f.get(null)).getClass(); // class java.lang.Integer\n    }\n}\n</code></pre>\n<p>A simple primitive wrap without ever having to look at the types or use look up tables because java already does it anyway.</p>\n<h2>Conclusion</h2>\n<p>The simple solution using pure java to get the wrapper class from a primitive field:</p>\n<pre><code>Field f = getTheField(); // Dummy method that returns my Field\nClass&lt;?&gt; c = f.get(null).getClass(); \n</code></pre>\n<p>Or you can replace null with an instance if the field is not static.</p>\n<p>nJoy!</p>\n"},{"comments":[{"owner":{"account_id":16361227,"reputation":344,"user_id":11816777,"display_name":"LSafer"},"score":0,"creation_date":1596321822,"post_id":62219759,"comment_id":111776203,"body_markdown":"The behaviour of this method is not the same as the needed in the question. Also,  nested `if`statements will be more efficient!","body":"The behaviour of this method is not the same as the needed in the question. Also,  nested <code>if</code>statements will be more efficient!"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1596337620,"post_id":62219759,"comment_id":111778119,"body_markdown":"@LSaferSE of course your statements are based on facts, right? Facts that I could check and you can provide examples of?","body":"@LSaferSE of course your statements are based on facts, right? Facts that I could check and you can provide examples of?"},{"owner":{"account_id":16361227,"reputation":344,"user_id":11816777,"display_name":"LSafer"},"score":0,"creation_date":1596431992,"post_id":62219759,"comment_id":111799053,"body_markdown":"yes, `if` statements are way more efficient, but the behaviour may change since the methods isn&#39;t made for that purpose.","body":"yes, <code>if</code> statements are way more efficient, but the behaviour may change since the methods isn&#39;t made for that purpose."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1600355160,"post_id":62219759,"comment_id":113067867,"body_markdown":"@LSafer what actual _arguments_ you have for 1) &quot;more efficient&quot; 2) &quot;isn&#39;t made for that purpose&quot;?","body":"@LSafer what actual <i>arguments</i> you have for 1) &quot;more efficient&quot; 2) &quot;isn&#39;t made for that purpose&quot;?"},{"owner":{"account_id":16361227,"reputation":344,"user_id":11816777,"display_name":"LSafer"},"score":0,"creation_date":1605167467,"post_id":62219759,"comment_id":114569572,"body_markdown":"It is more efficient since the above method is just a fancy wrapping over multiple `if` statements. So, direct `if` statement will be more efficient since no additional methods and asserts will be done.","body":"It is more efficient since the above method is just a fancy wrapping over multiple <code>if</code> statements. So, direct <code>if</code> statement will be more efficient since no additional methods and asserts will be done."},{"owner":{"account_id":16361227,"reputation":344,"user_id":11816777,"display_name":"LSafer"},"score":0,"creation_date":1605167743,"post_id":62219759,"comment_id":114569656,"body_markdown":"I forgot the complete context. But, I remember that it was part of a dynamic reflection system. So, it has been made for that system not just as a utility. It is a utility specified for that system.","body":"I forgot the complete context. But, I remember that it was part of a dynamic reflection system. So, it has been made for that system not just as a utility. It is a utility specified for that system."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1605209566,"post_id":62219759,"comment_id":114588183,"body_markdown":"@LSafer when I said arguments, I did not mean plain words, but numbers; especially on the &quot;efficient&quot; part and especially on your &quot;if vs map&quot;, as such, see the edit.","body":"@LSafer when I said arguments, I did not mean plain words, but numbers; especially on the &quot;efficient&quot; part and especially on your &quot;if vs map&quot;, as such, see the edit."},{"owner":{"account_id":16361227,"reputation":344,"user_id":11816777,"display_name":"LSafer"},"score":0,"creation_date":1605298540,"post_id":62219759,"comment_id":114617583,"body_markdown":"I got no time for you. Sorry! Think about it yourself. How does Maps work? How does key finding work? anyway unless it is in another language via a proxy. Or via some AI. &#39;if&#39; statements will remain the core solution for this. Unwrapping &#39;if&#39; statements will be the more efficient way since no redundant pushes to the stack frame will be made!","body":"I got no time for you. Sorry! Think about it yourself. How does Maps work? How does key finding work? anyway unless it is in another language via a proxy. Or via some AI. &#39;if&#39; statements will remain the core solution for this. Unwrapping &#39;if&#39; statements will be the more efficient way since no redundant pushes to the stack frame will be made!"},{"owner":{"account_id":16361227,"reputation":344,"user_id":11816777,"display_name":"LSafer"},"score":0,"creation_date":1605298781,"post_id":62219759,"comment_id":114617664,"body_markdown":"The opposite of that (wrapper class to primitive) will be much easier and require no if statements. Since all wrapper classes has a static public field for their primitive class. I think it has the name &#39;TYPE&#39;","body":"The opposite of that (wrapper class to primitive) will be much easier and require no if statements. Since all wrapper classes has a static public field for their primitive class. I think it has the name &#39;TYPE&#39;"},{"owner":{"account_id":16361227,"reputation":344,"user_id":11816777,"display_name":"LSafer"},"score":0,"creation_date":1605299127,"post_id":62219759,"comment_id":114617771,"body_markdown":"I just realized you wrote the benchmark is similar. When building a library. Or building any large scale program. Each millisecond count! In theory, there should be a huge difference, but it might be some optimizations have been made so that stackframe pushes be more lighter","body":"I just realized you wrote the benchmark is similar. When building a library. Or building any large scale program. Each millisecond count! In theory, there should be a huge difference, but it might be some optimizations have been made so that stackframe pushes be more lighter"},{"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"score":1,"creation_date":1649492239,"post_id":62219759,"comment_id":126893242,"body_markdown":"I&#39;m surprised this answer received so few upvotes. It&#39;s a simple and concise solution that doesn&#39;t require any additional libraries. The efficiency/performance and philosophical questions aside, I can&#39;t quite understand previous comments stating that the &quot;behaviour of this method is not the same as the needed in the question&quot; - AFAICT, `MethodType.wrap()` does correctly convert all 8 primitives and `void` into their corresponding wrapper classes, and leaves all other types unchanged.","body":"I&#39;m surprised this answer received so few upvotes. It&#39;s a simple and concise solution that doesn&#39;t require any additional libraries. The efficiency/performance and philosophical questions aside, I can&#39;t quite understand previous comments stating that the &quot;behaviour of this method is not the same as the needed in the question&quot; - AFAICT, <code>MethodType.wrap()</code> does correctly convert all 8 primitives and <code>void</code> into their corresponding wrapper classes, and leaves all other types unchanged."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":1,"creation_date":1668281363,"post_id":62219759,"comment_id":131368983,"body_markdown":"I have to say there was so little reason to suspect a significant performance problem that it&#39;s sad that @Eugene was baited into having to write a whole benchmark for it. &quot;Each millisecond count!&quot; is not a good argument, especially when it would take 100,000 calls to this method to add up to a difference of 1 millisecond.","body":"I have to say there was so little reason to suspect a significant performance problem that it&#39;s sad that @Eugene was baited into having to write a whole benchmark for it. &quot;Each millisecond count!&quot; is not a good argument, especially when it would take 100,000 calls to this method to add up to a difference of 1 millisecond."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":1,"creation_date":1668281410,"post_id":62219759,"comment_id":131368995,"body_markdown":"And re: &quot;The opposite of that (wrapper class to primitive) will be much easier and require no if statements. Since all wrapper classes has a static public field for their primitive class.&quot;\n\nYou seemed to be extremely concerned about nano-optimization and then you recommended a solution based on *reflection*.","body":"And re: &quot;The opposite of that (wrapper class to primitive) will be much easier and require no if statements. Since all wrapper classes has a static public field for their primitive class.&quot;  You seemed to be extremely concerned about nano-optimization and then you recommended a solution based on <i>reflection</i>."},{"owner":{"account_id":1060118,"reputation":497,"user_id":1061929,"display_name":"bjmi"},"score":0,"creation_date":1668325166,"post_id":62219759,"comment_id":131374525,"body_markdown":"Thanks for this tidbit. Javadoc of `java.lang.invoke.MethodType` mentions `@since 1.7` then it can be used even sooner.","body":"Thanks for this tidbit. Javadoc of <code>java.lang.invoke.MethodType</code> mentions <code>@since 1.7</code> then it can be used even sooner."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":14,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1668359060,"creation_date":1591373637,"answer_id":62219759,"question_id":1704634,"body_markdown":"Since Java 7, this is a one-liner:\r\n\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; Class&lt;T&gt; wrap(Class&lt;T&gt; c) {\r\n        return (Class&lt;T&gt;) MethodType.methodType(c).wrap().returnType();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; Class&lt;T&gt; unwrap(Class&lt;T&gt; c) {\r\n        return (Class&lt;T&gt;) MethodType.methodType(c).unwrap().returnType();\r\n    }\r\n\r\n---\r\n\r\n[Here][1] is a test that I wrote using `JMH` and here are the results:\r\n\r\n\r\n    Benchmark                        Mode  Cnt   Score   Error  Units\r\n    PrimitiveToWrapper.ifStatements  avgt   30  42.112 &#177; 0.716  ns/op\r\n    PrimitiveToWrapper.map           avgt   30  45.018 &#177; 0.923  ns/op\r\n    PrimitiveToWrapper.wrap          avgt   30  52.369 &#177; 0.836  ns/op\r\n\r\nThe difference is rather small.\r\n\r\n\r\n\r\n  [1]: https://github.com/wind57/0x-github-jmh-runner/blob/master/src/jmh/java/zero/x/so/PrimitiveToWrapper.java","title":"Simple way to get wrapper class type in Java","body":"<p>Since Java 7, this is a one-liner:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T&gt; Class&lt;T&gt; wrap(Class&lt;T&gt; c) {\n    return (Class&lt;T&gt;) MethodType.methodType(c).wrap().returnType();\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T&gt; Class&lt;T&gt; unwrap(Class&lt;T&gt; c) {\n    return (Class&lt;T&gt;) MethodType.methodType(c).unwrap().returnType();\n}\n</code></pre>\n<hr />\n<p><a href=\"https://github.com/wind57/0x-github-jmh-runner/blob/master/src/jmh/java/zero/x/so/PrimitiveToWrapper.java\" rel=\"nofollow noreferrer\">Here</a> is a test that I wrote using <code>JMH</code> and here are the results:</p>\n<pre><code>Benchmark                        Mode  Cnt   Score   Error  Units\nPrimitiveToWrapper.ifStatements  avgt   30  42.112 ± 0.716  ns/op\nPrimitiveToWrapper.map           avgt   30  45.018 ± 0.923  ns/op\nPrimitiveToWrapper.wrap          avgt   30  52.369 ± 0.836  ns/op\n</code></pre>\n<p>The difference is rather small.</p>\n"}],"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28030,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":1704658,"answer_count":8,"score":38,"last_activity_date":1701727276,"creation_date":1257808714,"question_id":1704634,"body_markdown":"I have a piece of code where I need to pass the class of a field in a method. Because of the mechanics of my code I can only handle reference objects and not primitives. I want an easy way of determining if a `Field`&#39;s type is primitive and swap it with the appropriate wrapper class. So in code what I do so far is something like this:\r\n\r\n    Field f = getTheField(); // Dummy method that returns my Field\r\n    Class&lt;?&gt; c = f.getType();\r\n    if (c == int.class) {\r\n        c = Integer.class;\r\n    }\r\n    else if (c == float.class) {\r\n        c = Float.class;\r\n    }\r\n    // etc\r\n    myMethod(c);\r\n\r\nThis works fine, except for the fact that I need to explicitly check for all the primitive types and swap them with the appropriate wrapper class. Now I know that there are not so many primitive types and it won&#39;t be a problem to simply list them all, but I was wondering if there was an easier and more elegant way of doing it.","title":"Simple way to get wrapper class type in Java","body":"<p>I have a piece of code where I need to pass the class of a field in a method. Because of the mechanics of my code I can only handle reference objects and not primitives. I want an easy way of determining if a <code>Field</code>'s type is primitive and swap it with the appropriate wrapper class. So in code what I do so far is something like this:</p>\n\n<pre><code>Field f = getTheField(); // Dummy method that returns my Field\nClass&lt;?&gt; c = f.getType();\nif (c == int.class) {\n    c = Integer.class;\n}\nelse if (c == float.class) {\n    c = Float.class;\n}\n// etc\nmyMethod(c);\n</code></pre>\n\n<p>This works fine, except for the fact that I need to explicitly check for all the primitive types and swap them with the appropriate wrapper class. Now I know that there are not so many primitive types and it won't be a problem to simply list them all, but I was wondering if there was an easier and more elegant way of doing it.</p>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":3,"creation_date":1589380514,"post_id":61777308,"comment_id":109271785,"body_markdown":"This might happen if the file is not in a source directory","body":"This might happen if the file is not in a source directory"},{"owner":{"account_id":3757667,"reputation":231,"user_id":3123657,"display_name":"Maor agai"},"score":0,"creation_date":1589381036,"post_id":61777308,"comment_id":109272110,"body_markdown":"What does it mean? What i need to do to solve it?","body":"What does it mean? What i need to do to solve it?"},{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":0,"creation_date":1589381096,"post_id":61777308,"comment_id":109272169,"body_markdown":"Can you show us your project structure?","body":"Can you show us your project structure?"},{"owner":{"account_id":3273477,"reputation":1291,"user_id":2756220,"accept_rate":83,"display_name":"HarryQ"},"score":1,"creation_date":1589386628,"post_id":61777308,"comment_id":109275640,"body_markdown":"does your project build successfully? Build-&gt;Make Project, does it run?","body":"does your project build successfully? Build-&gt;Make Project, does it run?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1701728378,"post_id":61777308,"comment_id":136809639,"body_markdown":"BTW. A `hash % 360` might be negative when `hash` is negative.","body":"BTW. A <code>hash % 360</code> might be negative when <code>hash</code> is negative."}],"answers":[{"tags":[],"owner":{"account_id":17383128,"reputation":5475,"user_id":12594975,"display_name":"Koyasha"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1589386205,"creation_date":1589385133,"answer_id":61779138,"question_id":61777308,"body_markdown":"Several possible reasons:\r\n\r\n1. Your file doesn&#39;t reside in a content root and is not [bound to a build path](https://www.jetbrains.com/help/idea/content-roots.html#specify_output_path), so it doesn&#39;t get the required class definitions and resources needed for code completion. To fix, right click your root source directory -&gt; Mark Directory As -&gt; [Sources Root](https://www.jetbrains.com/help/idea/content-roots.html#folder-categories).\r\n\r\n2. Check to see if you accidentally turned on the Power Save mode (**File | Power Save Mode**). Turning it on minimizes power consumption of your laptop by eliminating the background operations, including error highlighting, on-the-fly inspections, and code completion. Turn it off.\r\n\r\n3. Make sure the JDK for your project is [set up correctly](https://www.jetbrains.com/help/idea/sdk.html) in the **File | Project Structure** window.\r\n\r\n4. A file containing classes and methods that you want to appear in completion suggestions list is marked as a plain text file. To fix, right-click on the file -&gt; Mark as Java class.\r\n\r\n5. External libraries that contain methods that you want to appear in the completion suggestions list are not [added as dependencies or global libraries](https://www.jetbrains.com/help/idea/library.html).","title":"Why doesn&#39;t IntelliJ code autocomplete work?","body":"<p>Several possible reasons:</p>\n\n<ol>\n<li><p>Your file doesn't reside in a content root and is not <a href=\"https://www.jetbrains.com/help/idea/content-roots.html#specify_output_path\" rel=\"noreferrer\">bound to a build path</a>, so it doesn't get the required class definitions and resources needed for code completion. To fix, right click your root source directory -> Mark Directory As -> <a href=\"https://www.jetbrains.com/help/idea/content-roots.html#folder-categories\" rel=\"noreferrer\">Sources Root</a>.</p></li>\n<li><p>Check to see if you accidentally turned on the Power Save mode (<strong>File | Power Save Mode</strong>). Turning it on minimizes power consumption of your laptop by eliminating the background operations, including error highlighting, on-the-fly inspections, and code completion. Turn it off.</p></li>\n<li><p>Make sure the JDK for your project is <a href=\"https://www.jetbrains.com/help/idea/sdk.html\" rel=\"noreferrer\">set up correctly</a> in the <strong>File | Project Structure</strong> window.</p></li>\n<li><p>A file containing classes and methods that you want to appear in completion suggestions list is marked as a plain text file. To fix, right-click on the file -> Mark as Java class.</p></li>\n<li><p>External libraries that contain methods that you want to appear in the completion suggestions list are not <a href=\"https://www.jetbrains.com/help/idea/library.html\" rel=\"noreferrer\">added as dependencies or global libraries</a>.</p></li>\n</ol>\n"}],"owner":{"account_id":3757667,"reputation":231,"user_id":3123657,"display_name":"Maor agai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4881,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701727246,"creation_date":1589380252,"question_id":61777308,"body_markdown":"When I try to use the code autocomplete of IntelliJ by using `ctrl+space` it doesn&#39;t work.\r\n\r\nWhat do I need to do?\r\n\r\nFor example, in this code I want to use the add method of List and it doesn&#39;t give me the option to.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q5LS5.png","title":"Why doesn&#39;t IntelliJ code autocomplete work?","body":"<p>When I try to use the code autocomplete of IntelliJ by using <code>ctrl+space</code> it doesn't work.</p>\n<p>What do I need to do?</p>\n<p>For example, in this code I want to use the add method of List and it doesn't give me the option to.</p>\n<p><a href=\"https://i.stack.imgur.com/q5LS5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q5LS5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1701726839,"post_id":77602757,"comment_id":136809440,"body_markdown":"JFrame implements the WindowsConstants interface, where that constant is defined, and so the documentation is correct.","body":"JFrame implements the WindowsConstants interface, where that constant is defined, and so the documentation is correct."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1701728637,"post_id":77602757,"comment_id":136809671,"body_markdown":"The [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html) does **not** show it as a field declared in `JFrame`, but declared in `WindowConstants` (you probably found it in some older version - Java 8 or previous)","body":"The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">documentation</a> does <b>not</b> show it as a field declared in <code>JFrame</code>, but declared in <code>WindowConstants</code> (you probably found it in some older version - Java 8 or previous)"},{"owner":{"account_id":29451523,"reputation":5,"user_id":22568020,"display_name":"AaronMaiden99"},"score":0,"creation_date":1701729466,"post_id":77602757,"comment_id":136809767,"body_markdown":"@user85421 thank you, for some reason when i search &quot;java api&quot;, it takes to java se 8, I had no idea it was an old version, thank you","body":"@user85421 thank you, for some reason when i search &quot;java api&quot;, it takes to java se 8, I had no idea it was an old version, thank you"},{"owner":{"account_id":29451523,"reputation":5,"user_id":22568020,"display_name":"AaronMaiden99"},"score":0,"creation_date":1701729526,"post_id":77602757,"comment_id":136809772,"body_markdown":"@HovercraftFullOfEels  I think that an interface can have final fields that can be used by classes that implement it","body":"@HovercraftFullOfEels  I think that an interface can have final fields that can be used by classes that implement it"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1701735126,"post_id":77602757,"comment_id":136810236,"body_markdown":"Why are you telling me this?","body":"Why are you telling me this?"}],"owner":{"account_id":29451523,"reputation":5,"user_id":22568020,"display_name":"AaronMaiden99"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1701744888,"answer_count":0,"score":-2,"last_activity_date":1701726656,"creation_date":1701726656,"question_id":77602757,"body_markdown":"I was reading the java API Jframe class documentation and I saw that it has a field called EXIT_ON_CLOSE. And it drew my attention that is the only window constant that is defined in Jframe class, while others such as HIDE_ON_CLOSE or DO_NOTHING_ON_CLOSE are defined in the WindowConstant interface. But EXIT_ON_CLOSE is also defined in that interface, which makes me confused.\r\n\r\n\r\nWhen I read the Jframe class (in eclipse) I don&#180;t find EXIT_ON_CLOSE declaration, and if I click + crtl in a place where it&#39;s used, it takes me to the WindowConstant interface, so I don&#39;t know, but it looks like the documentation is wrong?. I&#39;m probably missing out somethin, I&#39;m kind of a newbie... anyways thanks in advance","title":"where is EXIT_ON_CLOSE defined","body":"<p>I was reading the java API Jframe class documentation and I saw that it has a field called EXIT_ON_CLOSE. And it drew my attention that is the only window constant that is defined in Jframe class, while others such as HIDE_ON_CLOSE or DO_NOTHING_ON_CLOSE are defined in the WindowConstant interface. But EXIT_ON_CLOSE is also defined in that interface, which makes me confused.</p>\n<p>When I read the Jframe class (in eclipse) I don´t find EXIT_ON_CLOSE declaration, and if I click + crtl in a place where it's used, it takes me to the WindowConstant interface, so I don't know, but it looks like the documentation is wrong?. I'm probably missing out somethin, I'm kind of a newbie... anyways thanks in advance</p>\n"},{"tags":["java","types"],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1600912807,"post_id":64038306,"comment_id":113241263,"body_markdown":"The enums *could* carry a string literal, so the original strings from the question are available.","body":"The enums <i>could</i> carry a string literal, so the original strings from the question are available."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1600910839,"creation_date":1600910839,"answer_id":64038306,"question_id":64038295,"body_markdown":"No. The most similar thing is an [`enum` Type](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html).\r\n\r\n    public enum Easing {\r\n        EASE_IN, EASE_OUT, EASE_IN_OUT;\r\n    }","title":"Is the any way to create String Literal Types in Java?","body":"<p>No. The most similar thing is an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\"><code>enum</code> Type</a>.</p>\n<pre><code>public enum Easing {\n    EASE_IN, EASE_OUT, EASE_IN_OUT;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701725763,"creation_date":1700585589,"answer_id":77524593,"question_id":64038295,"body_markdown":"Could one do this by subclassing the [Segment][1] class and requiring that each subclass only allows in one of the allowed values? Then use sealed classes to only allow in those classes.\r\n\r\nThat way the values are constrained and are string like. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/text/Segment.html","title":"Is the any way to create String Literal Types in Java?","body":"<p>Could one do this by subclassing the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/Segment.html\" rel=\"nofollow noreferrer\">Segment</a> class and requiring that each subclass only allows in one of the allowed values? Then use sealed classes to only allow in those classes.</p>\n<p>That way the values are constrained and are string like.</p>\n"}],"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64038306,"answer_count":2,"score":3,"last_activity_date":1701725763,"creation_date":1600910718,"question_id":64038295,"body_markdown":"I&#39;m new to Java.\r\n\r\nI&#39;ve been using Typescript to type my projects in the Front-end and I&#39;m very used to creating [String Literal Types](https://www.typescriptlang.org/docs/handbook/literal-types.html#string-literal-types) to limit possible inputs. Is there any easy way to this in Java?\r\n\r\nFor *eye candy*, here&#39;s how you create it in Typescript:&lt;br&gt;\r\n```ts\r\ntype Easing = &quot;ease-in&quot; | &quot;ease-out&quot; | &quot;ease-in-out&quot;;\r\n```","title":"Is the any way to create String Literal Types in Java?","body":"<p>I'm new to Java.</p>\n<p>I've been using Typescript to type my projects in the Front-end and I'm very used to creating <a href=\"https://www.typescriptlang.org/docs/handbook/literal-types.html#string-literal-types\" rel=\"nofollow noreferrer\">String Literal Types</a> to limit possible inputs. Is there any easy way to this in Java?</p>\n<p>For <em>eye candy</em>, here's how you create it in Typescript:<br></p>\n<pre><code>type Easing = &quot;ease-in&quot; | &quot;ease-out&quot; | &quot;ease-in-out&quot;;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data","spring-projections"],"answers":[{"comments":[{"owner":{"account_id":20848433,"reputation":9,"user_id":15313467,"display_name":"Akihiki"},"score":0,"creation_date":1701701870,"post_id":77600400,"comment_id":136805110,"body_markdown":"thank your for your response but the thing is i don&#39;t want to use the &#39;@query&#39; because , the confusion i got is not about them rather about the example they gave that didn&#39;t use the @query but yet is a base method and they used it like that !","body":"thank your for your response but the thing is i don&#39;t want to use the &#39;@query&#39; because , the confusion i got is not about them rather about the example they gave that didn&#39;t use the @query but yet is a base method and they used it like that !"}],"tags":[],"owner":{"account_id":27424224,"reputation":33,"user_id":20922042,"display_name":"Nadir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701701700,"creation_date":1701701700,"answer_id":77600400,"question_id":77600211,"body_markdown":"If you need to customize the data that is returned from the overridden method, you can use the @Query annotation to create a custom query method.\r\nThe @Query annotation allows you to specify a JPQL or native SQL query that will be executed to retrieve the desired data.\r\nHere is an exmaple of how you can do it \r\n\r\n    @Repository\r\n    public interface MyEntityRepository extends CrudRepository&lt;MyEntity, \r\n    Long&gt; {\r\n    @Query(&quot;SELECT e.id, e.name FROM MyEntity e WHERE e.id = ?1&quot;)\r\n    MyEntityProjection findByIdProjection(Long id);\r\n    }","title":"Can we use projections with spring data base methods or not?","body":"<p>If you need to customize the data that is returned from the overridden method, you can use the @Query annotation to create a custom query method.\nThe @Query annotation allows you to specify a JPQL or native SQL query that will be executed to retrieve the desired data.\nHere is an exmaple of how you can do it</p>\n<pre><code>@Repository\npublic interface MyEntityRepository extends CrudRepository&lt;MyEntity, \nLong&gt; {\n@Query(&quot;SELECT e.id, e.name FROM MyEntity e WHERE e.id = ?1&quot;)\nMyEntityProjection findByIdProjection(Long id);\n}\n</code></pre>\n"}],"owner":{"account_id":20848433,"reputation":9,"user_id":15313467,"display_name":"Akihiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701725616,"creation_date":1701700147,"question_id":77600211,"body_markdown":"I was reading the spring doc about projections :\r\n\r\nhttps://docs.spring.io/spring-data/jpa/reference/repositories/projections.html\r\n\r\nwhen I came across this note \r\n\r\n&gt; Declaring a method in your Repository that overrides a base method (e.g. declared in CrudRepository, a store-specific repository interface, or the Simple…Repository) results in a call to the base method regardless of the declared return type. Make sure to use a compatible return type as base methods cannot be used for projections. Some store modules support @Query annotations to turn an overridden base method into a query method that then can be used to return projections.\r\n\r\nThe problem is just above it they are using it with a base method \r\n\r\n    interface PersonRepository extends Repository&lt;Person, UUID&gt; {\r\n              Collection&lt;NamesOnly&gt; findByLastname(String lastname);}\r\n\r\nPS: I know that projections alter the SQL queries sent to database to only retrieve the columns we want, does this mean that if we use projections with base methods it will get all the columns of the object then project it in java or what?\r\n\r\nI searched but didn&#39;t find any resources that can help, since the confusion came from the docs itself","title":"Can we use projections with spring data base methods or not?","body":"<p>I was reading the spring doc about projections :</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html</a></p>\n<p>when I came across this note</p>\n<blockquote>\n<p>Declaring a method in your Repository that overrides a base method (e.g. declared in CrudRepository, a store-specific repository interface, or the Simple…Repository) results in a call to the base method regardless of the declared return type. Make sure to use a compatible return type as base methods cannot be used for projections. Some store modules support @Query annotations to turn an overridden base method into a query method that then can be used to return projections.</p>\n</blockquote>\n<p>The problem is just above it they are using it with a base method</p>\n<pre><code>interface PersonRepository extends Repository&lt;Person, UUID&gt; {\n          Collection&lt;NamesOnly&gt; findByLastname(String lastname);}\n</code></pre>\n<p>PS: I know that projections alter the SQL queries sent to database to only retrieve the columns we want, does this mean that if we use projections with base methods it will get all the columns of the object then project it in java or what?</p>\n<p>I searched but didn't find any resources that can help, since the confusion came from the docs itself</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1701720457,"post_id":77602241,"comment_id":136808556,"body_markdown":"Your value has 9 subsecond digits. Your pattern has 6. I strongly suspect you also want HH instead of hh, and you probably want to specify a Locale.","body":"Your value has 9 subsecond digits. Your pattern has 6. I strongly suspect you also want HH instead of hh, and you probably want to specify a Locale."},{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":3,"creation_date":1701722759,"post_id":77602241,"comment_id":136808888,"body_markdown":"Month is case sensitiive you can call .parseCaseInsensitive() + subseconds fix from above. Take a look https://stackoverflow.com/q/68364049/9248765","body":"Month is case sensitiive you can call .parseCaseInsensitive() + subseconds fix from above. Take a look <a href=\"https://stackoverflow.com/q/68364049/9248765\">stackoverflow.com/q/68364049/9248765</a>"},{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":1,"creation_date":1701723413,"post_id":77602241,"comment_id":136808986,"body_markdown":"Does this answer your question? [How to parse case-insensitive strings with JSR-310 DateTimeFormatter?](https://stackoverflow.com/questions/10797808/how-to-parse-case-insensitive-strings-with-jsr-310-datetimeformatter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10797808/how-to-parse-case-insensitive-strings-with-jsr-310-datetimeformatter\">How to parse case-insensitive strings with JSR-310 DateTimeFormatter?</a>"}],"answers":[{"comments":[{"owner":{"account_id":5836943,"reputation":217,"user_id":4599667,"accept_rate":0,"display_name":"Catherine S."},"score":0,"creation_date":1701726046,"post_id":77602657,"comment_id":136809345,"body_markdown":"This worked, thank you!","body":"This worked, thank you!"}],"tags":[],"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701725192,"creation_date":1701725192,"answer_id":77602657,"question_id":77602241,"body_markdown":"    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .parseCaseInsensitive()\r\n            .appendPattern(&quot;dd-MMM-yy hh.mm.ss.SSSSSSSSS a z&quot;)\r\n            .toFormatter(Locale.US);/* or else*/\r\n    ZonedDateTime.parse(&quot;26-JUL-23 10.01.51.336231000 AM UTC&quot;, formatter);","title":"Zoned Date Time cannot be parsed","body":"<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .parseCaseInsensitive()\n        .appendPattern(&quot;dd-MMM-yy hh.mm.ss.SSSSSSSSS a z&quot;)\n        .toFormatter(Locale.US);/* or else*/\nZonedDateTime.parse(&quot;26-JUL-23 10.01.51.336231000 AM UTC&quot;, formatter);\n</code></pre>\n"}],"owner":{"account_id":5836943,"reputation":217,"user_id":4599667,"accept_rate":0,"display_name":"Catherine S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77602657,"answer_count":1,"score":0,"last_activity_date":1701725192,"creation_date":1701719840,"question_id":77602241,"body_markdown":"I am trying to parse this timestamp &quot;26-JUL-23 10.01.51.336231000 AM UTC&quot; to a ZonedDateTime object:\r\n\r\n    ZonedDateTime.parse(&quot;26-JUL-23 10.01.51.336231000 AM UTC&quot;, formatter)\r\n\r\nI keep getting this error:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;26-JUL-23 10.01.51.336231000 AM UTC\r\n\r\nI tried adding a DateTimeFormatter like this, but it is not working:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yy hh.mm.ss.SSSSSS a z&quot;)\r\n\r\nAm I using the wrong date pattern?\r\n\r\n","title":"Zoned Date Time cannot be parsed","body":"<p>I am trying to parse this timestamp &quot;26-JUL-23 10.01.51.336231000 AM UTC&quot; to a ZonedDateTime object:</p>\n<pre><code>ZonedDateTime.parse(&quot;26-JUL-23 10.01.51.336231000 AM UTC&quot;, formatter)\n</code></pre>\n<p>I keep getting this error:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '26-JUL-23 10.01.51.336231000 AM UTC\n</code></pre>\n<p>I tried adding a DateTimeFormatter like this, but it is not working:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yy hh.mm.ss.SSSSSS a z&quot;)\n</code></pre>\n<p>Am I using the wrong date pattern?</p>\n"},{"tags":["java","jquery","arrays","element"],"answers":[{"tags":[],"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701265803,"creation_date":1701201219,"answer_id":77566810,"question_id":77566620,"body_markdown":"The code for this problem could be heavily optimized, but assuming we want an answer that is easier to understand, here is some java code to replace a word with it&#39;s synonym, **no input is validated**, so will fail if using null values:\r\n\r\n```\r\npublic class SynonymHandler {\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] synonymData = { &quot;merciful&quot;, &quot;gracious&quot;, &quot;kindly&quot;, &quot;forgiving&quot; };\r\n\t\tSystem.out.println(&quot;# original&quot;);\r\n\t\tfor (String element : synonymData) {\r\n\t\t\tSystem.out.println(element);\r\n\t\t}\r\n\r\n\t\tString[] modified = removeSynonym(synonymData, &quot;merciful&quot;, &quot;gracious&quot;);\r\n\t\tSystem.out.println(&quot;# modified&quot;);\r\n\t\tfor (String element : modified) {\r\n\t\t\tSystem.out.println(element);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static String[] removeSynonym(String[] synonymData, String word, String synonym) {\r\n\t\t// result will have the same length as source:\r\n\t\tString[] result = new String[synonymData.length];\r\n\r\n\t\t// loop through the synonymData\r\n\t\tfor (int index = 0; index &lt; synonymData.length; index++) {\r\n\t\t// if word = synonymData[index] use synomyn, else use the original value\r\n\t\t\tresult[index] = word.equals(synonymData[index]) ? synonym : synonymData[index];\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n```","title":"Remove an element from an index in an array","body":"<p>The code for this problem could be heavily optimized, but assuming we want an answer that is easier to understand, here is some java code to replace a word with it's synonym, <strong>no input is validated</strong>, so will fail if using null values:</p>\n<pre><code>public class SynonymHandler {\n    public static void main(String[] args) {\n        String[] synonymData = { &quot;merciful&quot;, &quot;gracious&quot;, &quot;kindly&quot;, &quot;forgiving&quot; };\n        System.out.println(&quot;# original&quot;);\n        for (String element : synonymData) {\n            System.out.println(element);\n        }\n\n        String[] modified = removeSynonym(synonymData, &quot;merciful&quot;, &quot;gracious&quot;);\n        System.out.println(&quot;# modified&quot;);\n        for (String element : modified) {\n            System.out.println(element);\n        }\n    }\n\n    private static String[] removeSynonym(String[] synonymData, String word, String synonym) {\n        // result will have the same length as source:\n        String[] result = new String[synonymData.length];\n\n        // loop through the synonymData\n        for (int index = 0; index &lt; synonymData.length; index++) {\n        // if word = synonymData[index] use synomyn, else use the original value\n            result[index] = word.equals(synonymData[index]) ? synonym : synonymData[index];\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701202256,"creation_date":1701202256,"answer_id":77566894,"question_id":77566620,"body_markdown":"That&#39;s a very strange way to store the data. Is that your design or one you were handled? It would make more sense to store either a HashMap of Strings (the word) to arrays of strings (the synonyms). But let&#39;s work with what you have.\r\n\r\nIt looks like your synonym data is being passed in as an array of simple strings -- just like they appear when you printed them -- rather than parsed into a better format. So `synonymData[0]` is the data for `merciful` and `synonynData[1]` is the data for `powerful`. After that, it&#39;s free format text.\r\n\r\nLet&#39;s look at your code:\r\n\r\n```java\r\npublic static void removeSynonym(String[] synonymData, String word, String synonym) {\r\n    int index = synonymLineIndex(synonymData, word);\r\n    String[] removedSynData = new String[synonymData.length];\r\n    for (int i = 0, int m = 0; i &lt; synonymData.length; i++)\r\n        if (synonymData[index].contains(word))\r\n            removedSynData[m++] = synonymData[i];\r\n}\r\n```\r\n\r\nYour code never modifies synonymData. It creates a new removedSynData array, builds it out, and then proceeds to dump it on the floor, not doing anything with it. Furthermore, it&#39;s not in the same style as the original structure.\r\n\r\nThere are two basic approaches you can take. First, you get the right index when you do this:\r\n\r\n\r\n```java\r\n    int index = synonymLineIndex(synonymData, word);\r\n```\r\n\r\n**Method One: Parse Line, Remove, Rebuild Line**\r\n\r\nMethod one would involve parsing this line -- making a string array of the synonyms, then removing the one you&#39;re trying to remove, then rebuilding a new string.\r\n\r\nDo do that you could do:\r\n\r\n```java\r\n   String[] bigParts = synonymData[index].split(&quot;\\\\|&quot;);\r\n```\r\n\r\nAfter this, `bigParts[0]` contains the word (possibly with white space) and `bigParts[1]` contains all the synonyms as a single string (possibly with white space). Note that `split()` takes a regular expression, which is why I included the `\\\\`. So it passes a single `\\` to split, to escape the pipe character that would otherwise stand for OR.\r\n\r\nYou&#39;ll want to check the length of the array is at least 2 then do:\r\n\r\n```java\r\n   String[] synonyms = bigParts[1].split(&quot;,&quot;);\r\n```\r\n\r\nYou can run through the array, trim them of white space, and then look for the one you want to remove it. Remove it from the array. Then reassemble a string (code of you to figure out), and do this:\r\n\r\n\r\n```java\r\n   synonymData[index] = YourNewString;\r\n```\r\n\r\n**Method Two: ReplaceAll()**\r\n\r\nThe other approach would be to just use a regular expression with `String.replaceAll()`. It would need to be a sorta complicated RE to make sure you only match the entire word. For instance, if you&#39;re supposed to remove `rent` you wouldn&#39;t want to match `parent`. That will take time to figure out, but when you&#39;re done, it&#39;s a single line of code.\r\n\r\n```java\r\n   synonymData[index] = synonymData[index].replaceAll(&quot;The big RE&quot;);\r\n```\r\n\r\n\r\n\r\n","title":"Remove an element from an index in an array","body":"<p>That's a very strange way to store the data. Is that your design or one you were handled? It would make more sense to store either a HashMap of Strings (the word) to arrays of strings (the synonyms). But let's work with what you have.</p>\n<p>It looks like your synonym data is being passed in as an array of simple strings -- just like they appear when you printed them -- rather than parsed into a better format. So <code>synonymData[0]</code> is the data for <code>merciful</code> and <code>synonynData[1]</code> is the data for <code>powerful</code>. After that, it's free format text.</p>\n<p>Let's look at your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void removeSynonym(String[] synonymData, String word, String synonym) {\n    int index = synonymLineIndex(synonymData, word);\n    String[] removedSynData = new String[synonymData.length];\n    for (int i = 0, int m = 0; i &lt; synonymData.length; i++)\n        if (synonymData[index].contains(word))\n            removedSynData[m++] = synonymData[i];\n}\n</code></pre>\n<p>Your code never modifies synonymData. It creates a new removedSynData array, builds it out, and then proceeds to dump it on the floor, not doing anything with it. Furthermore, it's not in the same style as the original structure.</p>\n<p>There are two basic approaches you can take. First, you get the right index when you do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int index = synonymLineIndex(synonymData, word);\n</code></pre>\n<p><strong>Method One: Parse Line, Remove, Rebuild Line</strong></p>\n<p>Method one would involve parsing this line -- making a string array of the synonyms, then removing the one you're trying to remove, then rebuilding a new string.</p>\n<p>Do do that you could do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   String[] bigParts = synonymData[index].split(&quot;\\\\|&quot;);\n</code></pre>\n<p>After this, <code>bigParts[0]</code> contains the word (possibly with white space) and <code>bigParts[1]</code> contains all the synonyms as a single string (possibly with white space). Note that <code>split()</code> takes a regular expression, which is why I included the <code>\\\\</code>. So it passes a single <code>\\</code> to split, to escape the pipe character that would otherwise stand for OR.</p>\n<p>You'll want to check the length of the array is at least 2 then do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   String[] synonyms = bigParts[1].split(&quot;,&quot;);\n</code></pre>\n<p>You can run through the array, trim them of white space, and then look for the one you want to remove it. Remove it from the array. Then reassemble a string (code of you to figure out), and do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   synonymData[index] = YourNewString;\n</code></pre>\n<p><strong>Method Two: ReplaceAll()</strong></p>\n<p>The other approach would be to just use a regular expression with <code>String.replaceAll()</code>. It would need to be a sorta complicated RE to make sure you only match the entire word. For instance, if you're supposed to remove <code>rent</code> you wouldn't want to match <code>parent</code>. That will take time to figure out, but when you're done, it's a single line of code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   synonymData[index] = synonymData[index].replaceAll(&quot;The big RE&quot;);\n</code></pre>\n"}],"owner":{"account_id":29983188,"reputation":1,"user_id":22977727,"display_name":"Adam Cole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701725108,"creation_date":1701199242,"question_id":77566620,"body_markdown":"I have a question where i have to remove a  an array. for example;\r\n\r\n      2 (3, 5, 6) \r\n    \r\nIn this case in th array \r\n.\r\n    \r\nFor example, i have to implement this defintion in my main class,\r\n\r\n\r\n    \r\n\r\n    \r\n    \r\n      \r\n\r\n","title":"Remove an element from an index in an array","body":"<p>I have a question where i have to remove a  an array. for example;</p>\n<pre><code>  2 (3, 5, 6) \n</code></pre>\n<p>In this case in th array\n.</p>\n<p>For example, i have to implement this defintion in my main class,</p>\n"},{"tags":["java","spring","spring-data-mongodb","morphia"],"comments":[{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":0,"creation_date":1701723372,"post_id":77600843,"comment_id":136808981,"body_markdown":"A close vote? No question on stackoverflow has an answer for this problem so it is new material","body":"A close vote? No question on stackoverflow has an answer for this problem so it is new material"}],"answers":[{"tags":[],"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701724027,"creation_date":1701724027,"answer_id":77602565,"question_id":77600843,"body_markdown":"Ok, since Spring doesn&#39;t call `bulkFetch` for Collections of size 1, I ditched the `CustomDbRefResolver` and overrode the higher-level `MappingMongoConverter` instead. The `DBRefResolver`&#39;s methods get invoked during the execution of `MappingMongoConverter.readCollectionOrArray` which can be overridden:\r\n\r\n```java\r\nimport com.mongodb.DBRef; //make sure to use the right import!\r\n\r\npublic class CustomMappingMongoConverter extends MappingMongoConverter {\r\n    public CustomMappingMongoConverter(DbRefResolver dbRefResolver, MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext) {\r\n        super(dbRefResolver, mappingContext);\r\n    }\r\n\r\n    @Override\r\n    protected Object readCollectionOrArray(ConversionContext context, Collection&lt;?&gt; source, TypeInformation&lt;?&gt; targetType) {\r\n        var readResult = super.readCollectionOrArray(context, source, targetType);\r\n        if (source.isEmpty()\r\n                || !(source.stream().findAny().orElse(null) instanceof DBRef)\r\n                || !(readResult instanceof List)\r\n                || ((List&lt;?&gt;) readResult).isEmpty()\r\n        ) {\r\n            return readResult;\r\n        }\r\n        var list = ((List&lt;?&gt;) readResult);\r\n        return list.stream().filter(Objects::nonNull).collect(toList());\r\n    }\r\n}\r\n```\r\n\r\nIn order to use this converter with spring-data-mongodb, I had to override this part of my MongoConfiguration:\r\n```java\r\n@Configuration\r\npublic class MongoConfiguration extends AbstractMongoClientConfiguration {\r\n    @Override\r\n    @Bean\r\n    @NotNull\r\n    public MappingMongoConverter mappingMongoConverter(MongoDatabaseFactory databaseFactory,\r\n                                                       MongoCustomConversions customConversions,\r\n                                                       MongoMappingContext mappingContext) {\r\n        DbRefResolver dbRefResolver = new DefaultDbRefResolver(databaseFactory);\r\n        MappingMongoConverter converter = new CustomMappingMongoConverter(dbRefResolver, mappingContext);\r\n        converter.setCustomConversions(customConversions);\r\n        converter.setCodecRegistryProvider(databaseFactory);\r\n        return converter;\r\n    }\r\n}\r\n```","title":"How to make Spring-data-mongo skip over null @DBRef for a List&lt;Entity&gt;?","body":"<p>Ok, since Spring doesn't call <code>bulkFetch</code> for Collections of size 1, I ditched the <code>CustomDbRefResolver</code> and overrode the higher-level <code>MappingMongoConverter</code> instead. The <code>DBRefResolver</code>'s methods get invoked during the execution of <code>MappingMongoConverter.readCollectionOrArray</code> which can be overridden:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.mongodb.DBRef; //make sure to use the right import!\n\npublic class CustomMappingMongoConverter extends MappingMongoConverter {\n    public CustomMappingMongoConverter(DbRefResolver dbRefResolver, MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext) {\n        super(dbRefResolver, mappingContext);\n    }\n\n    @Override\n    protected Object readCollectionOrArray(ConversionContext context, Collection&lt;?&gt; source, TypeInformation&lt;?&gt; targetType) {\n        var readResult = super.readCollectionOrArray(context, source, targetType);\n        if (source.isEmpty()\n                || !(source.stream().findAny().orElse(null) instanceof DBRef)\n                || !(readResult instanceof List)\n                || ((List&lt;?&gt;) readResult).isEmpty()\n        ) {\n            return readResult;\n        }\n        var list = ((List&lt;?&gt;) readResult);\n        return list.stream().filter(Objects::nonNull).collect(toList());\n    }\n}\n</code></pre>\n<p>In order to use this converter with spring-data-mongodb, I had to override this part of my MongoConfiguration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MongoConfiguration extends AbstractMongoClientConfiguration {\n    @Override\n    @Bean\n    @NotNull\n    public MappingMongoConverter mappingMongoConverter(MongoDatabaseFactory databaseFactory,\n                                                       MongoCustomConversions customConversions,\n                                                       MongoMappingContext mappingContext) {\n        DbRefResolver dbRefResolver = new DefaultDbRefResolver(databaseFactory);\n        MappingMongoConverter converter = new CustomMappingMongoConverter(dbRefResolver, mappingContext);\n        converter.setCustomConversions(customConversions);\n        converter.setCodecRegistryProvider(databaseFactory);\n        return converter;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701724027,"creation_date":1701705496,"question_id":77600843,"body_markdown":"We have a large Spring Boot app using a Mongo database, and we are migrating our ORM from Morphia to Spring-data-mongo. In Morphia, they have an [annotation][1] `@Reference(ignoreMissing = true)` which we use for our DBRefs. When we use the `@Reference` annotation on a `List&lt;Entity&gt;`, Morphia will [skip over][2] any null refs (ie refs it cannot load), which helps avoid nulls in our list items.\r\n\r\nSample of our existing model class:\r\n```\r\npublic class Book {\r\n\t@Reference(ignoreMissing = true)\r\n\tprivate List&lt;Author&gt; authors;\r\n}\r\n```\r\n\r\nWe are trying to reproduce the same behavior with Spring-data-mongo&#39;s `@DBRef` annotation, but by default Spring is always including the null dbrefs in the `List&lt;Entity&gt;` class members that we have. \r\n\r\nTo resolve this, as a start, I tried overriding the `DbRefResolver.bulkFetch` [method][3] Spring uses for resolving DBRefs:\r\n```\r\npublic class CustomDbRefResolver extends DefaultDbRefResolver {\r\n    public CustomDbRefResolver(MongoDatabaseFactory mongoDbFactory) {\r\n        super(mongoDbFactory);\r\n    }\r\n\r\n    @Override\r\n    @NotNull\r\n    public List&lt;Document&gt; bulkFetch(@NotNull List&lt;DBRef&gt; refs) {\r\n        var docs = super.bulkFetch(refs);\r\n        return docs.stream().filter(Objects::nonNull).collect(toList());\r\n    }\r\n}\r\n```\r\n\r\nBut looking deep into [Spring&#39;s implementation][4], they don&#39;t use this method at all if the list of DBRefs only has 1 element in it:\r\n```\r\nList&lt;Document&gt; referencedRawDocuments = dbrefs.size() == 1\r\n\t\t? Collections.singletonList(readRef(dbrefs.iterator().next()))\r\n\t\t: bulkReadRefs(dbrefs);\r\n```\r\n\r\nSo now I&#39;m stuck on how to make Spring ignore the null DBRefs for any-size list like how Morphia does it?\r\n\r\n(I checked the [javadocs][5] and there doesn&#39;t seem to be an ignore property like Morphia has)\r\n\r\n\r\n  [1]: https://morphia.dev/morphia/2.2/references.html\r\n  [2]: https://github.com/MorphiaOrg/morphia/blob/1.6.x/morphia/src/main/java/dev/morphia/mapping/ReferenceMapper.java#L168\r\n  [3]: https://github.com/spring-projects/spring-data-mongodb/blob/4.2.x/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DefaultDbRefResolver.java#L96\r\n  [4]: https://github.com/spring-projects/spring-data-mongodb/blob/4.2.x/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java#L1715\r\n  [5]: https://javadoc.io/static/org.springframework.data/spring-data-mongodb/3.4.0/org/springframework/data/mongodb/core/mapping/DBRef.html","title":"How to make Spring-data-mongo skip over null @DBRef for a List&lt;Entity&gt;?","body":"<p>We have a large Spring Boot app using a Mongo database, and we are migrating our ORM from Morphia to Spring-data-mongo. In Morphia, they have an <a href=\"https://morphia.dev/morphia/2.2/references.html\" rel=\"nofollow noreferrer\">annotation</a> <code>@Reference(ignoreMissing = true)</code> which we use for our DBRefs. When we use the <code>@Reference</code> annotation on a <code>List&lt;Entity&gt;</code>, Morphia will <a href=\"https://github.com/MorphiaOrg/morphia/blob/1.6.x/morphia/src/main/java/dev/morphia/mapping/ReferenceMapper.java#L168\" rel=\"nofollow noreferrer\">skip over</a> any null refs (ie refs it cannot load), which helps avoid nulls in our list items.</p>\n<p>Sample of our existing model class:</p>\n<pre><code>public class Book {\n    @Reference(ignoreMissing = true)\n    private List&lt;Author&gt; authors;\n}\n</code></pre>\n<p>We are trying to reproduce the same behavior with Spring-data-mongo's <code>@DBRef</code> annotation, but by default Spring is always including the null dbrefs in the <code>List&lt;Entity&gt;</code> class members that we have.</p>\n<p>To resolve this, as a start, I tried overriding the <code>DbRefResolver.bulkFetch</code> <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/4.2.x/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/DefaultDbRefResolver.java#L96\" rel=\"nofollow noreferrer\">method</a> Spring uses for resolving DBRefs:</p>\n<pre><code>public class CustomDbRefResolver extends DefaultDbRefResolver {\n    public CustomDbRefResolver(MongoDatabaseFactory mongoDbFactory) {\n        super(mongoDbFactory);\n    }\n\n    @Override\n    @NotNull\n    public List&lt;Document&gt; bulkFetch(@NotNull List&lt;DBRef&gt; refs) {\n        var docs = super.bulkFetch(refs);\n        return docs.stream().filter(Objects::nonNull).collect(toList());\n    }\n}\n</code></pre>\n<p>But looking deep into <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/4.2.x/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/convert/MappingMongoConverter.java#L1715\" rel=\"nofollow noreferrer\">Spring's implementation</a>, they don't use this method at all if the list of DBRefs only has 1 element in it:</p>\n<pre><code>List&lt;Document&gt; referencedRawDocuments = dbrefs.size() == 1\n        ? Collections.singletonList(readRef(dbrefs.iterator().next()))\n        : bulkReadRefs(dbrefs);\n</code></pre>\n<p>So now I'm stuck on how to make Spring ignore the null DBRefs for any-size list like how Morphia does it?</p>\n<p>(I checked the <a href=\"https://javadoc.io/static/org.springframework.data/spring-data-mongodb/3.4.0/org/springframework/data/mongodb/core/mapping/DBRef.html\" rel=\"nofollow noreferrer\">javadocs</a> and there doesn't seem to be an ignore property like Morphia has)</p>\n"},{"tags":["java","spring-boot","docker","maven","noclassdeffounderror"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701792734,"post_id":77602549,"comment_id":136818056,"body_markdown":"By default spring-boot-maven-plugin does not package system scope deps which are in general a bad idea...","body":"By default spring-boot-maven-plugin does not package system scope deps which are in general a bad idea..."}],"owner":{"account_id":20964255,"reputation":11,"user_id":15402975,"display_name":"Everis Souza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701723776,"creation_date":1701723776,"question_id":77602549,"body_markdown":"My Spring Boot application has a dependency on a local JAR. I can run it on my machine, but when I generate the Docker image, I encounter the NoClassDefFoundError.\r\n\r\nMy pom:\r\n\r\nAttemp 1:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.amdocs.adh.impl&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;target-aldmpaymentarrangementfastdata&lt;/artifactId&gt;\r\n\t&lt;version&gt;20.06.02-SNAPSHOT&lt;/version&gt;\r\n\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t&lt;systemPath&gt;${project.basedir}/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar&lt;/systemPath&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAttemp 2:\r\n\r\nI tried to set it to an absolute system path.\r\n\r\n```&lt;systemPath&gt;/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar&lt;/systemPath&gt;```\r\n\r\nIn the Docker, I copied the JAR. In the generated image, it exists in two locations:\r\n\r\n/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar\r\n\r\n/workspace/app/BOOT-INF/classes/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar\r\n\r\nThe error occurs only at runtime, at the moment when the class is about to be used, when I run the Docker container.\r\n\r\nRunning the code directly through the IDE or command line works fine.","title":"NoClassDefFoundError in Spring Boot: Issues with Local JAR Dependencies","body":"<p>My Spring Boot application has a dependency on a local JAR. I can run it on my machine, but when I generate the Docker image, I encounter the NoClassDefFoundError.</p>\n<p>My pom:</p>\n<p>Attemp 1:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amdocs.adh.impl&lt;/groupId&gt;\n    &lt;artifactId&gt;target-aldmpaymentarrangementfastdata&lt;/artifactId&gt;\n    &lt;version&gt;20.06.02-SNAPSHOT&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Attemp 2:</p>\n<p>I tried to set it to an absolute system path.</p>\n<p><code>&lt;systemPath&gt;/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar&lt;/systemPath&gt;</code></p>\n<p>In the Docker, I copied the JAR. In the generated image, it exists in two locations:</p>\n<p>/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar</p>\n<p>/workspace/app/BOOT-INF/classes/lib/target-paymentfastdata-20.06.02-SNAPSHOT.jar</p>\n<p>The error occurs only at runtime, at the moment when the class is about to be used, when I run the Docker container.</p>\n<p>Running the code directly through the IDE or command line works fine.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1701723062,"post_id":77602443,"comment_id":136808936,"body_markdown":"That String is mostly JSON. Use a JSON parser.","body":"That String is mostly JSON. Use a JSON parser."}],"owner":{"account_id":16689380,"reputation":1,"user_id":12062381,"display_name":"Srinivas manduva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701723046,"answer_count":0,"score":-1,"last_activity_date":1701723113,"creation_date":1701722552,"question_id":77602443,"body_markdown":"i have a metadata string like this\r\n```\r\n(java.lang.String) \r\n{\r\n  &quot;info&quot;: {\r\n    &quot;version&quot;: {\r\n      &quot;major&quot;: 2024,\r\n      &quot;minor&quot;: 1,\r\n      &quot;revision&quot;: 0,\r\n      &quot;extension&quot;: &quot;undefined&quot;,\r\n      &quot;qrc&quot;: false,\r\n      &quot;githash&quot;: &quot;0063730074c0cc745d330be36c307aa5bb72c6ff&quot;\r\n    },\r\n    &quot;chunk&quot;: {\r\n      &quot;n&quot;: &quot;1&quot;,\r\n      &quot;j&quot;: &quot;11111101000&quot;,\r\n      &quot;r&quot;: &quot;0&quot;,\r\n      &quot;a&quot;: &quot;10101111&quot;\r\n    },\r\n    &quot;tenant&quot;: &quot;TEST&quot;\r\n  },\r\n  &quot;objects&quot;: [\r\n    {\r\n      &quot;objectType&quot;: &quot;RESOURCE&quot;,\r\n      &quot;objectName&quot;: &quot;Models&quot;,\r\n      &quot;objectId&quot;: &quot;RESOURCE:t.TEST:MODELS&quot;,\r\n      &quot;parentResId&quot;: &quot;RESOURCE:t.TEST:PUBLIC&quot;,\r\n      &quot;hasParentRes&quot;: true,\r\n      &quot;isSampleRelated&quot;: false,\r\n      &quot;name&quot;: &quot;t.TEST:MODELS&quot;,\r\n      &quot;description&quot;: &quot;&quot;,\r\n      &quot;objectInfo&quot;: {},\r\n      &quot;dependents&quot;: [],\r\n      &quot;provider&quot;: null,\r\n      &quot;ancestorPath&quot;: [\r\n        &quot;PUBLIC&quot;\r\n      ],\r\n      &quot;ownerType&quot;: &quot;PUBLIC&quot;\r\n    },\r\n    {\r\n      &quot;objectType&quot;: &quot;RESOURCE&quot;,\r\n      &quot;objectName&quot;: &quot;New Model&quot;,\r\n      &quot;objectId&quot;: &quot;RESOURCE:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Cml4m2idag4akeavduh3f35tk5p&quot;,\r\n      &quot;parentResId&quot;: &quot;RESOURCE:t.TEST:MODELS&quot;,\r\n      &quot;hasParentRes&quot;: true,\r\n      &quot;isSampleRelated&quot;: false,\r\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Cml4m2idag4akeavduh3f35tk5p&quot;,\r\n      &quot;description&quot;: &quot;&quot;,\r\n      &quot;objectInfo&quot;: {},\r\n      &quot;dependents&quot;: [\r\n        &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\r\n        &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\r\n        &quot;RESOURCE:t.TEST:MODELS&quot;\r\n      ],\r\n      &quot;provider&quot;: null,\r\n      &quot;ancestorPath&quot;: [\r\n        &quot;PUBLIC&quot;,\r\n        &quot;Models&quot;\r\n      ],\r\n      &quot;ownerType&quot;: &quot;PUBLIC&quot;\r\n    },\r\n    {\r\n      &quot;objectType&quot;: &quot;DIMENSION&quot;,\r\n      &quot;objectName&quot;: &quot;Date&quot;,\r\n      &quot;objectId&quot;: &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\r\n      &quot;parentResId&quot;: &quot;&quot;,\r\n      &quot;isSampleRelated&quot;: false,\r\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\r\n      &quot;description&quot;: &quot;Date&quot;,\r\n      &quot;objectInfo&quot;: {},\r\n      &quot;dependents&quot;: [],\r\n      &quot;provider&quot;: null,\r\n      &quot;ancestorPath&quot;: null,\r\n      &quot;ownerType&quot;: null\r\n    },\r\n    {\r\n      &quot;objectType&quot;: &quot;DIMENSION&quot;,\r\n      &quot;objectName&quot;: &quot;Version&quot;,\r\n      &quot;objectId&quot;: &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\r\n      &quot;parentResId&quot;: &quot;&quot;,\r\n      &quot;isSampleRelated&quot;: false,\r\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\r\n      &quot;description&quot;: &quot;Version&quot;,\r\n      &quot;objectInfo&quot;: {},\r\n      &quot;dependents&quot;: [],\r\n      &quot;provider&quot;: null,\r\n      &quot;ancestorPath&quot;: null,\r\n      &quot;ownerType&quot;: null\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\ni want a list of dependents from the string whats the best and fastest way to do this\r\nthanks\r\n\r\ni am trying to write an string parsing algorithm for this but couldn&#39;t do it efficiently","title":"How to parse this this string and get dependents from it","body":"<p>i have a metadata string like this</p>\n<pre><code>(java.lang.String) \n{\n  &quot;info&quot;: {\n    &quot;version&quot;: {\n      &quot;major&quot;: 2024,\n      &quot;minor&quot;: 1,\n      &quot;revision&quot;: 0,\n      &quot;extension&quot;: &quot;undefined&quot;,\n      &quot;qrc&quot;: false,\n      &quot;githash&quot;: &quot;0063730074c0cc745d330be36c307aa5bb72c6ff&quot;\n    },\n    &quot;chunk&quot;: {\n      &quot;n&quot;: &quot;1&quot;,\n      &quot;j&quot;: &quot;11111101000&quot;,\n      &quot;r&quot;: &quot;0&quot;,\n      &quot;a&quot;: &quot;10101111&quot;\n    },\n    &quot;tenant&quot;: &quot;TEST&quot;\n  },\n  &quot;objects&quot;: [\n    {\n      &quot;objectType&quot;: &quot;RESOURCE&quot;,\n      &quot;objectName&quot;: &quot;Models&quot;,\n      &quot;objectId&quot;: &quot;RESOURCE:t.TEST:MODELS&quot;,\n      &quot;parentResId&quot;: &quot;RESOURCE:t.TEST:PUBLIC&quot;,\n      &quot;hasParentRes&quot;: true,\n      &quot;isSampleRelated&quot;: false,\n      &quot;name&quot;: &quot;t.TEST:MODELS&quot;,\n      &quot;description&quot;: &quot;&quot;,\n      &quot;objectInfo&quot;: {},\n      &quot;dependents&quot;: [],\n      &quot;provider&quot;: null,\n      &quot;ancestorPath&quot;: [\n        &quot;PUBLIC&quot;\n      ],\n      &quot;ownerType&quot;: &quot;PUBLIC&quot;\n    },\n    {\n      &quot;objectType&quot;: &quot;RESOURCE&quot;,\n      &quot;objectName&quot;: &quot;New Model&quot;,\n      &quot;objectId&quot;: &quot;RESOURCE:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Cml4m2idag4akeavduh3f35tk5p&quot;,\n      &quot;parentResId&quot;: &quot;RESOURCE:t.TEST:MODELS&quot;,\n      &quot;hasParentRes&quot;: true,\n      &quot;isSampleRelated&quot;: false,\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Cml4m2idag4akeavduh3f35tk5p&quot;,\n      &quot;description&quot;: &quot;&quot;,\n      &quot;objectInfo&quot;: {},\n      &quot;dependents&quot;: [\n        &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\n        &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\n        &quot;RESOURCE:t.TEST:MODELS&quot;\n      ],\n      &quot;provider&quot;: null,\n      &quot;ancestorPath&quot;: [\n        &quot;PUBLIC&quot;,\n        &quot;Models&quot;\n      ],\n      &quot;ownerType&quot;: &quot;PUBLIC&quot;\n    },\n    {\n      &quot;objectType&quot;: &quot;DIMENSION&quot;,\n      &quot;objectName&quot;: &quot;Date&quot;,\n      &quot;objectId&quot;: &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\n      &quot;parentResId&quot;: &quot;&quot;,\n      &quot;isSampleRelated&quot;: false,\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Date&quot;,\n      &quot;description&quot;: &quot;Date&quot;,\n      &quot;objectInfo&quot;: {},\n      &quot;dependents&quot;: [],\n      &quot;provider&quot;: null,\n      &quot;ancestorPath&quot;: null,\n      &quot;ownerType&quot;: null\n    },\n    {\n      &quot;objectType&quot;: &quot;DIMENSION&quot;,\n      &quot;objectName&quot;: &quot;Version&quot;,\n      &quot;objectId&quot;: &quot;DIMENSION:t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\n      &quot;parentResId&quot;: &quot;&quot;,\n      &quot;isSampleRelated&quot;: false,\n      &quot;name&quot;: &quot;t.TEST.Cml4m2idag4akeavduh3f35tk5p:Version&quot;,\n      &quot;description&quot;: &quot;Version&quot;,\n      &quot;objectInfo&quot;: {},\n      &quot;dependents&quot;: [],\n      &quot;provider&quot;: null,\n      &quot;ancestorPath&quot;: null,\n      &quot;ownerType&quot;: null\n    }\n  ]\n}\n</code></pre>\n<p>i want a list of dependents from the string whats the best and fastest way to do this\nthanks</p>\n<p>i am trying to write an string parsing algorithm for this but couldn't do it efficiently</p>\n"},{"tags":["java","json","spring-boot","jackson","serialization"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1577878902,"post_id":59549259,"comment_id":105272957,"body_markdown":"Why you extend `Jdk8BeanSerializerModifier `? Could you try `com.fasterxml.jackson.databind.ser.BeanSerializerModifier` instead? Maybe `Jdk8BeanSerializerModifier` does more than you want.","body":"Why you extend <code>Jdk8BeanSerializerModifier </code>? Could you try <code>com.fasterxml.jackson.databind.ser.BeanSerializerModifier</code> instead? Maybe <code>Jdk8BeanSerializerModifier</code> does more than you want."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1577930441,"post_id":59549259,"comment_id":105283506,"body_markdown":"Did you return the `TestVo` as a HTTP response with `@ResponseBody` in Spring Boot 1.X?","body":"Did you return the <code>TestVo</code> as a HTTP response with <code>@ResponseBody</code> in Spring Boot 1.X?"},{"owner":{"account_id":13966383,"reputation":127,"user_id":10086054,"display_name":"student"},"score":0,"creation_date":1578014833,"post_id":59549259,"comment_id":105311925,"body_markdown":"@Michał Ziober After trying, the effect is the same. It seems that Jdk8BeanSerializerModifier also extends BeanSerializerModifier, but only optimizes some details.","body":"@Michał Ziober After trying, the effect is the same. It seems that Jdk8BeanSerializerModifier also extends BeanSerializerModifier, but only optimizes some details."}],"answers":[{"comments":[{"owner":{"account_id":13966383,"reputation":127,"user_id":10086054,"display_name":"student"},"score":0,"creation_date":1577840252,"post_id":59549361,"comment_id":105267886,"body_markdown":"Thank you for your help, Unfortunately, it doesn&#39;t work.","body":"Thank you for your help, Unfortunately, it doesn&#39;t work."}],"tags":[],"owner":{"account_id":14520228,"reputation":347,"user_id":10488096,"display_name":"Deepak Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577839681,"creation_date":1577839681,"answer_id":59549361,"question_id":59549259,"body_markdown":"Can you please try if that helps (adding @JsonSerialize like mentioned below)\r\n\r\n    @JsonSerialize(as = Date.class)\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&quot;)\r\n    private Date createTime;\r\n\r\n","title":"@JsonFormat not working with custom serializer","body":"<p>Can you please try if that helps (adding @JsonSerialize like mentioned below)</p>\n\n<pre><code>@JsonSerialize(as = Date.class)\n@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=\"yyyy-MM-dd\")\nprivate Date createTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701722953,"creation_date":1701722953,"answer_id":77602480,"question_id":59549259,"body_markdown":"I think what you need is `JavaTimeModule` you can see [docs here][1]\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilder objectMapperBuilder() {\r\n      Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n      SimpleModule simpleModule = new SimpleModule().setSerializerModifier(new DictSerializerModifier());\r\n      builder.modules(simpleModule, new JavaTimeModule());\r\n      return builder;\r\n    }\r\n\r\nThis module can help to add many default serialize and deserialize way for date time data type.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html","title":"@JsonFormat not working with custom serializer","body":"<p>I think what you need is <code>JavaTimeModule</code> you can see <a href=\"https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\" rel=\"nofollow noreferrer\">docs here</a></p>\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilder objectMapperBuilder() {\n  Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n  SimpleModule simpleModule = new SimpleModule().setSerializerModifier(new DictSerializerModifier());\n  builder.modules(simpleModule, new JavaTimeModule());\n  return builder;\n}\n</code></pre>\n<p>This module can help to add many default serialize and deserialize way for date time data type.</p>\n"}],"owner":{"account_id":13966383,"reputation":127,"user_id":10086054,"display_name":"student"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2338,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701722953,"creation_date":1577837680,"question_id":59549259,"body_markdown":"I have some special business that makes me need a custom serializer，it add a field to the field that modified the **DictAnnotation** annotation, It works.  \r\nBut **@JsonFormat** not working.\r\nMy **createTime** field used to look like this：  \r\n\r\n    &quot;createTime&quot;:&quot;2019-12-12&quot;\r\nnow：\r\n\r\n    &quot;createTime&quot;:1577835397615\r\nThe fields that are not modified by DictAnnotation have used the default JsonSerializer, so I don&#39;t know where the problem lies.    \r\n\r\nMy main code is as follows: \r\n\r\nbind custom SerializerModifier\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilder objectMapperBuilder() {\r\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n        SimpleModule simpleModule = new SimpleModule().setSerializerModifier(new DictSerializerModifier());\r\n        builder.modules(simpleModule);\r\n        return builder;\r\n    }\r\n\r\ncustome SerializerModifier  \r\n\r\n    public class DictSerializerModifier extends Jdk8BeanSerializerModifier {\r\n        @Override\r\n        public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\r\n            return new DictSerializer(null, (JsonSerializer&lt;Object&gt;) serializer);\r\n        }\r\n    }\r\n\r\ncustom Serializer  \r\n\r\n    public class DictSerializer extends JsonSerializer&lt;Object&gt; implements ContextualSerializer {\r\n    \r\n        private static final String MY_BIZ_FIELD_SUFFIX = &quot;_test&quot;;\r\n        private DictAnnotation.ElementType type;\r\n        private JsonSerializer&lt;Object&gt; defSerializer;\r\n    \r\n        public DictSerializer(DictAnnotation.ElementType type, JsonSerializer&lt;Object&gt; jsonSerializer) {\r\n            this.defSerializer = jsonSerializer;\r\n            this.type = type;\r\n        }\r\n    \r\n        @Override\r\n        public JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property) {\r\n            // my biz annotation\r\n            DictAnnotation.ElementType elementType = Optional.ofNullable(property).map(b -&gt; b.getAnnotation(DictAnnotation.class))\r\n                    .map(d -&gt; d.type()).orElse(null);\r\n            // if null, use defSerializer\r\n            return elementType == null ? defSerializer : new DictSerializer(elementType, defSerializer);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            defSerializer.serialize(value, gen, serializers);\r\n            if (type != null) {\r\n                String fieldName = gen.getOutputContext().getCurrentName();\r\n                String codeLabel = RedisUtils.dictCodeToLabel(type, value.toString());\r\n                gen.writeStringField(fieldName.concat(MY_BIZ_FIELD_SUFFIX), codeLabel);\r\n            }\r\n        }\r\n    }\r\n\r\ntest pojo class  \r\n\r\n    public class TestVo {\r\n    \r\n        @DictAnnotation(type = A)\r\n        private String aCode;\r\n    \r\n        @DictAnnotation(type = B)\r\n        private String bCode;\r\n    \r\n        @DictAnnotation(type = C)\r\n        private String cCode;\r\n    \r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;,timezone = &quot;GMT+8&quot;)\r\n        private Date createTime;  \r\n    getter.... settter...\r\n\r\n\r\nLooking forward to your guidance！\r\n","title":"@JsonFormat not working with custom serializer","body":"<p>I have some special business that makes me need a custom serializer，it add a field to the field that modified the <strong>DictAnnotation</strong> annotation, It works.<br>\nBut <strong>@JsonFormat</strong> not working.\nMy <strong>createTime</strong> field used to look like this：  </p>\n\n<pre><code>\"createTime\":\"2019-12-12\"\n</code></pre>\n\n<p>now：</p>\n\n<pre><code>\"createTime\":1577835397615\n</code></pre>\n\n<p>The fields that are not modified by DictAnnotation have used the default JsonSerializer, so I don't know where the problem lies.    </p>\n\n<p>My main code is as follows: </p>\n\n<p>bind custom SerializerModifier</p>\n\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilder objectMapperBuilder() {\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n    SimpleModule simpleModule = new SimpleModule().setSerializerModifier(new DictSerializerModifier());\n    builder.modules(simpleModule);\n    return builder;\n}\n</code></pre>\n\n<p>custome SerializerModifier  </p>\n\n<pre><code>public class DictSerializerModifier extends Jdk8BeanSerializerModifier {\n    @Override\n    public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\n        return new DictSerializer(null, (JsonSerializer&lt;Object&gt;) serializer);\n    }\n}\n</code></pre>\n\n<p>custom Serializer  </p>\n\n<pre><code>public class DictSerializer extends JsonSerializer&lt;Object&gt; implements ContextualSerializer {\n\n    private static final String MY_BIZ_FIELD_SUFFIX = \"_test\";\n    private DictAnnotation.ElementType type;\n    private JsonSerializer&lt;Object&gt; defSerializer;\n\n    public DictSerializer(DictAnnotation.ElementType type, JsonSerializer&lt;Object&gt; jsonSerializer) {\n        this.defSerializer = jsonSerializer;\n        this.type = type;\n    }\n\n    @Override\n    public JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property) {\n        // my biz annotation\n        DictAnnotation.ElementType elementType = Optional.ofNullable(property).map(b -&gt; b.getAnnotation(DictAnnotation.class))\n                .map(d -&gt; d.type()).orElse(null);\n        // if null, use defSerializer\n        return elementType == null ? defSerializer : new DictSerializer(elementType, defSerializer);\n    }\n\n    @Override\n    public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        defSerializer.serialize(value, gen, serializers);\n        if (type != null) {\n            String fieldName = gen.getOutputContext().getCurrentName();\n            String codeLabel = RedisUtils.dictCodeToLabel(type, value.toString());\n            gen.writeStringField(fieldName.concat(MY_BIZ_FIELD_SUFFIX), codeLabel);\n        }\n    }\n}\n</code></pre>\n\n<p>test pojo class  </p>\n\n<pre><code>public class TestVo {\n\n    @DictAnnotation(type = A)\n    private String aCode;\n\n    @DictAnnotation(type = B)\n    private String bCode;\n\n    @DictAnnotation(type = C)\n    private String cCode;\n\n    @JsonFormat(pattern=\"yyyy-MM-dd\",timezone = \"GMT+8\")\n    private Date createTime;  \ngetter.... settter...\n</code></pre>\n\n<p>Looking forward to your guidance！</p>\n"},{"tags":["java","android"],"owner":{"account_id":18601630,"reputation":15,"user_id":18215321,"display_name":"Grey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701722842,"creation_date":1701695709,"question_id":77600808,"body_markdown":"I&#39;m learning android development with &quot;Head First Android Development&quot; by Dawn Griffiths.\r\nIn this book, it explains that onPause() method is called when another app comes to focus but still visible on the screen. But the code inside onPause method doesn&#39;t seem to be executed. I tested this with several apps&#39; pop-up view. This is the code for my stopwatch app&#39;s mainActivity:\r\n\r\n```\r\npackage com.hfad.stopwatch;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport java.util.Locale;\r\nimport android.os.Handler;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends Activity {\r\n    private int seconds = 0;\r\n    private boolean running;\r\n    private boolean wasRunning;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if (savedInstanceState != null) {\r\n            seconds = savedInstanceState.getInt(&quot;seconds&quot;);\r\n            running = savedInstanceState.getBoolean(&quot;running&quot;);\r\n            wasRunning = savedInstanceState.getBoolean(&quot;wasRunning&quot;);\r\n        }\r\n        runTimer();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        wasRunning = running;\r\n        running = false;\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if (wasRunning) {\r\n            running = true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle savedInstanceState) {\r\n        savedInstanceState.putInt(&quot;seconds&quot;, seconds);\r\n        savedInstanceState.putBoolean(&quot;running&quot;, running);\r\n        savedInstanceState.putBoolean(&quot;wasRunning&quot;, wasRunning);\r\n    }\r\n\r\n    public void onClickStart(View view) {\r\n        running = true;\r\n    }\r\n\r\n    public void onClickStop(View view) {\r\n        running = false;\r\n    }\r\n\r\n    public void onClickReset(View view) {\r\n        running = false;\r\n        seconds = 0;\r\n    }\r\n\r\n    private void runTimer() {\r\n        final TextView timeView = (TextView)findViewById(R.id.time_view);\r\n        final Handler handler = new Handler();\r\n        handler.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                int hours = seconds/3600;\r\n                int minutes = (seconds%3600)/60;\r\n                int secs = seconds%60;\r\n                String time = String.format(Locale.getDefault(),\r\n                        &quot;%d:%02d:%02d&quot;, hours, minutes, secs);\r\n                timeView.setText(time);\r\n                if (running) {\r\n                    seconds++;\r\n                }\r\n                handler.postDelayed(this, 1000);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\nrunTimer() method is the one for checking variables state every 1000 milliseconds to determine whether it increments &#39;seconds&#39; variable when &#39;running&#39; variable is true. Inside the onPause() method, it sets &#39;running&#39; variable to false, which leads to stop the stopwatch. But when I execute some apps as pop-up view, it doesn&#39;t stop. It does stop when my stopwatch app goes to background (invisible). Can anyone else tell me what I&#39;m missing about?","title":"onPause doesn&#39;t called when another app gets focus","body":"<p>I'm learning android development with &quot;Head First Android Development&quot; by Dawn Griffiths.\nIn this book, it explains that onPause() method is called when another app comes to focus but still visible on the screen. But the code inside onPause method doesn't seem to be executed. I tested this with several apps' pop-up view. This is the code for my stopwatch app's mainActivity:</p>\n<pre><code>package com.hfad.stopwatch;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport java.util.Locale;\nimport android.os.Handler;\nimport android.widget.TextView;\n\npublic class MainActivity extends Activity {\n    private int seconds = 0;\n    private boolean running;\n    private boolean wasRunning;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        if (savedInstanceState != null) {\n            seconds = savedInstanceState.getInt(&quot;seconds&quot;);\n            running = savedInstanceState.getBoolean(&quot;running&quot;);\n            wasRunning = savedInstanceState.getBoolean(&quot;wasRunning&quot;);\n        }\n        runTimer();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        wasRunning = running;\n        running = false;\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (wasRunning) {\n            running = true;\n        }\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle savedInstanceState) {\n        savedInstanceState.putInt(&quot;seconds&quot;, seconds);\n        savedInstanceState.putBoolean(&quot;running&quot;, running);\n        savedInstanceState.putBoolean(&quot;wasRunning&quot;, wasRunning);\n    }\n\n    public void onClickStart(View view) {\n        running = true;\n    }\n\n    public void onClickStop(View view) {\n        running = false;\n    }\n\n    public void onClickReset(View view) {\n        running = false;\n        seconds = 0;\n    }\n\n    private void runTimer() {\n        final TextView timeView = (TextView)findViewById(R.id.time_view);\n        final Handler handler = new Handler();\n        handler.post(new Runnable() {\n            @Override\n            public void run() {\n                int hours = seconds/3600;\n                int minutes = (seconds%3600)/60;\n                int secs = seconds%60;\n                String time = String.format(Locale.getDefault(),\n                        &quot;%d:%02d:%02d&quot;, hours, minutes, secs);\n                timeView.setText(time);\n                if (running) {\n                    seconds++;\n                }\n                handler.postDelayed(this, 1000);\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>runTimer() method is the one for checking variables state every 1000 milliseconds to determine whether it increments 'seconds' variable when 'running' variable is true. Inside the onPause() method, it sets 'running' variable to false, which leads to stop the stopwatch. But when I execute some apps as pop-up view, it doesn't stop. It does stop when my stopwatch app goes to background (invisible). Can anyone else tell me what I'm missing about?</p>\n"},{"tags":["java","spring","spring-boot","gradle","java-21"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":4,"creation_date":1701640664,"post_id":77596307,"comment_id":136797908,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":18422368,"reputation":31,"user_id":13419664,"display_name":"Yoosin Paddy"},"score":0,"creation_date":1701722995,"post_id":77596307,"comment_id":136808920,"body_markdown":"I just edited the question @S&#246;ren","body":"I just edited the question @S&#246;ren"},{"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"score":2,"creation_date":1701731150,"post_id":77596307,"comment_id":136809909,"body_markdown":"The question is missing the important info, that this error occurs when opening the gradle project with IntelliJ.\nThe problem is, IntelliJ does not support Gradle 8.5 yet (same with NetBeans).\nHowever, the project should still compile!","body":"The question is missing the important info, that this error occurs when opening the gradle project with IntelliJ. The problem is, IntelliJ does not support Gradle 8.5 yet (same with NetBeans). However, the project should still compile!"},{"owner":{"account_id":6039751,"reputation":525,"user_id":6067277,"accept_rate":54,"display_name":"Arch"},"score":0,"creation_date":1701733451,"post_id":77596307,"comment_id":136810100,"body_markdown":"@Ben looks like you are right. https://github.com/gradle/gradle/issues/27272","body":"@Ben looks like you are right. <a href=\"https://github.com/gradle/gradle/issues/27272\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/27272</a>"}],"owner":{"account_id":18422368,"reputation":31,"user_id":13419664,"display_name":"Yoosin Paddy"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1701673700,"answer_count":0,"score":0,"last_activity_date":1701722495,"creation_date":1701640483,"question_id":77596307,"body_markdown":"I am getting the error\r\n\r\n```\r\nUnsupported Java. \r\nYour build is currently configured to use Java 21.0.1 and Gradle 8.5.\r\n\r\nPossible solution:\r\n - Use Java 20 as Gradle JVM: Open Gradle settings \r\n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\r\n```\r\nEven after instaling java 21 and using gradle 8.5 as shown below:\r\n\r\n```\r\nuser@laptop-MacBook-Pro ProjectName % ./gradlew -v\r\n\r\n------------------------------------------------------------\r\nGradle 8.5\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-11-29 14:08:57 UTC\r\nRevision:     28aca86a7180baa17117e0e5ba01d8ea9feca598\r\n\r\nKotlin:       1.9.20\r\nGroovy:       3.0.17\r\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\r\nJVM:          21.0.1 (Oracle Corporation 21.0.1+12-LTS-29)\r\nOS:           Mac OS X 14.1.1 aarch64\r\n\r\nuser@laptop-MacBook-Pro ProjectName % java -version\r\njava version &quot;21.0.1&quot; 2023-10-17 LTS\r\nJava(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)\r\nJava HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)\r\n```\r\n\r\n\r\nI tried reverting the JVM to 20 but still got errors\r\n","title":"Unsupported Java. Your build is currently configured to use Java 21.0.1 and Gradle 8.5","body":"<p>I am getting the error</p>\n<pre><code>Unsupported Java. \nYour build is currently configured to use Java 21.0.1 and Gradle 8.5.\n\nPossible solution:\n - Use Java 20 as Gradle JVM: Open Gradle settings \n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\n</code></pre>\n<p>Even after instaling java 21 and using gradle 8.5 as shown below:</p>\n<pre><code>user@laptop-MacBook-Pro ProjectName % ./gradlew -v\n\n------------------------------------------------------------\nGradle 8.5\n------------------------------------------------------------\n\nBuild time:   2023-11-29 14:08:57 UTC\nRevision:     28aca86a7180baa17117e0e5ba01d8ea9feca598\n\nKotlin:       1.9.20\nGroovy:       3.0.17\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\nJVM:          21.0.1 (Oracle Corporation 21.0.1+12-LTS-29)\nOS:           Mac OS X 14.1.1 aarch64\n\nuser@laptop-MacBook-Pro ProjectName % java -version\njava version &quot;21.0.1&quot; 2023-10-17 LTS\nJava(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)\nJava HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)\n</code></pre>\n<p>I tried reverting the JVM to 20 but still got errors</p>\n"},{"tags":["java","docker","rest","dockerfile","dockerhub"],"comments":[{"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"score":0,"creation_date":1701701351,"post_id":77599867,"comment_id":136804987,"body_markdown":"running jar like that implies presence of entrypoint definition in META-INF/manifect.mf inside your jar.","body":"running jar like that implies presence of entrypoint definition in META-INF/manifect.mf inside your jar."},{"owner":{"account_id":30062543,"reputation":1,"user_id":23038359,"display_name":"Bruno Cesar Rodrigues"},"score":0,"creation_date":1701709191,"post_id":77599867,"comment_id":136806634,"body_markdown":"Do you know how can I do this? @an","body":"Do you know how can I do this? @an"},{"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"score":0,"creation_date":1701716360,"post_id":77599867,"comment_id":136807936,"body_markdown":"Jars are just regular zip archives.","body":"Jars are just regular zip archives."}],"answers":[{"comments":[{"owner":{"account_id":30062543,"reputation":1,"user_id":23038359,"display_name":"Bruno Cesar Rodrigues"},"score":0,"creation_date":1701808649,"post_id":77602434,"comment_id":136820690,"body_markdown":"I resolved the issue tittle, but my project does not have a main class, it is an test project, but now i have the issue of the main class &quot;no main manifest attribute, in /app/javarestassuredextentreport-1.0-SNAPSHOT.jar&quot;\n\nDo you know what i have to do know?","body":"I resolved the issue tittle, but my project does not have a main class, it is an test project, but now i have the issue of the main class &quot;no main manifest attribute, in /app/javarestassuredextentreport-1.0-SNAPSHOT.jar&quot;  Do you know what i have to do know?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701864293,"post_id":77602434,"comment_id":136827229,"body_markdown":"This is a very concise question that has been asked and answered many times. Check https://stackoverflow.com/search?q=maven+executable+jar","body":"This is a very concise question that has been asked and answered many times. Check <a href=\"https://stackoverflow.com/search?q=maven+executable+jar\">stackoverflow.com/search?q=maven+executable+jar</a>"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701722442,"creation_date":1701722442,"answer_id":77602434,"question_id":77599867,"body_markdown":"You need to have an executable jar. Your Maven pom.xml currently does not create it.\r\n\r\nTo get an executable jar, the archive needs to contain a META-INF/MANIFEST.MF that declares which of the jar&#39;s classes is the main class. While you could create instructions yourself to get the task done, Maven has easy to use functionality to achieve the same. Add this plugin to your pom.xml&#39;s plugins:\r\n\r\n&lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;com.mycompany.app.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nOf course you need to list your main class, not the one given in the example.\r\nTo verify if your jar is ready to be placed inside the container, just run\r\n\r\n    java -jar target/javarestassuredextentreport.jar\r\n\r\nand expect your application to startup in a meaningful way. Only then proceed to wrap it into the container.","title":"Invalid or corrupted jarfile - Docker","body":"<p>You need to have an executable jar. Your Maven pom.xml currently does not create it.</p>\n<p>To get an executable jar, the archive needs to contain a META-INF/MANIFEST.MF that declares which of the jar's classes is the main class. While you could create instructions yourself to get the task done, Maven has easy to use functionality to achieve the same. Add this plugin to your pom.xml's plugins:</p>\n\n        org.apache.maven.plugins\n        maven-jar-plugin\n        \n          \n            \n              true\n              com.mycompany.app.App\n            \n          \n        \n      \n<p>Of course you need to list your main class, not the one given in the example.\nTo verify if your jar is ready to be placed inside the container, just run</p>\n<pre><code>java -jar target/javarestassuredextentreport.jar\n</code></pre>\n<p>and expect your application to startup in a meaningful way. Only then proceed to wrap it into the container.</p>\n"}],"owner":{"account_id":30062543,"reputation":1,"user_id":23038359,"display_name":"Bruno Cesar Rodrigues"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701722442,"creation_date":1701697061,"question_id":77599867,"body_markdown":"i&#39;m creating a docker image to my automation test project, but i always got the error below\r\n\r\nCan you help me please?\r\n\r\nError: Invalid or corrupt jarfile javarestassuredextentreport.jar\r\n\r\nObs: When i generating jar file, it comes do the folder Artifacts, bug i dragged to the target, is it correct?\r\n\r\nMy projetct is base on Rest Assured, TestNG, JUnit and to create this image, i&#39;m using dockerfile-maven-plugin from spotity.com\r\n\r\nHere are my code and path[enter image description here](https://i.stack.imgur.com/YmHqy.png)\r\n\r\nThis is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javarestassuredextentreport&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.13&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;goal&gt;push&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;repository&gt;maven-4-openjdk-17&lt;/repository&gt;\r\n                &lt;tag&gt;${project.version}&lt;/tag&gt;\r\n                &lt;buildArgs&gt;\r\n                    &lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\r\n                &lt;/buildArgs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20230618&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports-testng-adapter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnd this is my dockerfile\r\n\r\n    FROM openjdk:17\r\n    RUN mkdir app\r\n    ARG JAR_FILE\r\n    ADD /target/${JAR_FILE} /app/javarestassuredextentreport.jar\r\n    WORKDIR /app\r\n    ENTRYPOINT java -jar javarestassuredextentreport.jar","title":"Invalid or corrupted jarfile - Docker","body":"<p>i'm creating a docker image to my automation test project, but i always got the error below</p>\n<p>Can you help me please?</p>\n<p>Error: Invalid or corrupt jarfile javarestassuredextentreport.jar</p>\n<p>Obs: When i generating jar file, it comes do the folder Artifacts, bug i dragged to the target, is it correct?</p>\n<p>My projetct is base on Rest Assured, TestNG, JUnit and to create this image, i'm using dockerfile-maven-plugin from spotity.com</p>\n<p>Here are my code and path<a href=\"https://i.stack.imgur.com/YmHqy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;javarestassuredextentreport&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n            &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.4.13&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;goal&gt;push&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;repository&gt;maven-4-openjdk-17&lt;/repository&gt;\n                &lt;tag&gt;${project.version}&lt;/tag&gt;\n                &lt;buildArgs&gt;\n                    &lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\n                &lt;/buildArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20230618&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;5.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports-testng-adapter&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>And this is my dockerfile</p>\n<pre><code>FROM openjdk:17\nRUN mkdir app\nARG JAR_FILE\nADD /target/${JAR_FILE} /app/javarestassuredextentreport.jar\nWORKDIR /app\nENTRYPOINT java -jar javarestassuredextentreport.jar\n</code></pre>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1701610342,"post_id":77594494,"comment_id":136794689,"body_markdown":"Isn&#39;t that what javadoc is for? What exactly are you asking?","body":"Isn&#39;t that what javadoc is for? What exactly are you asking?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1701610761,"post_id":77594494,"comment_id":136794728,"body_markdown":"What you&#39;re asking for seems to be exactly what Javadoc does already (though instead of Markdown it uses Javadoc taglets and HTML elements).","body":"What you&#39;re asking for seems to be exactly what Javadoc does already (though instead of Markdown it uses Javadoc taglets and HTML elements)."},{"owner":{"account_id":242409,"reputation":1411,"user_id":513904,"accept_rate":67,"display_name":"Eli S"},"score":0,"creation_date":1701619069,"post_id":77594494,"comment_id":136795631,"body_markdown":"It is not obvious this is what javadoc does. Most online descriptions of javadoc have &quot;API&quot; in the sentence. I&#39;m not as experienced with javadoc, but I don&#39;t see examples that have a readthedocs like exposition and their own structure, based for instance on use cases and hints and not on package structure.  @Ankit Kumar has a suggestion below shows sphinx can do the job even for Java, so +1 at least from me. However sphinx adds baggage for a Java project so if it can all be done in javadoc I would probably accept that answer.","body":"It is not obvious this is what javadoc does. Most online descriptions of javadoc have &quot;API&quot; in the sentence. I&#39;m not as experienced with javadoc, but I don&#39;t see examples that have a readthedocs like exposition and their own structure, based for instance on use cases and hints and not on package structure.  @Ankit Kumar has a suggestion below shows sphinx can do the job even for Java, so +1 at least from me. However sphinx adds baggage for a Java project so if it can all be done in javadoc I would probably accept that answer."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1701620464,"post_id":77594494,"comment_id":136795801,"body_markdown":"@EliS You can provide package level documentation, see https://stackoverflow.com/questions/12599058/eclipse-juno-what-is-the-use-of-package-info-java. There you can write documentation on how to use the package you are writing.","body":"@EliS You can provide package level documentation, see <a href=\"https://stackoverflow.com/questions/12599058/eclipse-juno-what-is-the-use-of-package-info-java\" title=\"eclipse juno what is the use of package info java\">stackoverflow.com/questions/12599058/&hellip;</a>. There you can write documentation on how to use the package you are writing."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701643113,"post_id":77594494,"comment_id":136798162,"body_markdown":"You can do pretty much anything you want with Javadoc. It can have links to external sources, or links to other embedded HTML pages (see VGR&#39;s answer). You can also put examples in Javadoc with `&lt;pre&gt;&lt;code&gt;` HTML elements, or `{@code}` and, in more recent versions, `{@snippet}` taglets. You can explain the purpose of the API and some reasons for using it. You can use package-level or even module-level Javadoc for more general documentation. Whether any of this is done depends on how much effort is put into the it; even in the standard library, not everything has the same level of documentation","body":"You can do pretty much anything you want with Javadoc. It can have links to external sources, or links to other embedded HTML pages (see VGR&#39;s answer). You can also put examples in Javadoc with <code>&lt;pre&gt;&lt;code&gt;</code> HTML elements, or <code>{@code}</code> and, in more recent versions, <code>{@snippet}</code> taglets. You can explain the purpose of the API and some reasons for using it. You can use package-level or even module-level Javadoc for more general documentation. Whether any of this is done depends on how much effort is put into the it; even in the standard library, not everything has the same level of documentation"}],"answers":[{"comments":[{"owner":{"account_id":242409,"reputation":1411,"user_id":513904,"accept_rate":67,"display_name":"Eli S"},"score":0,"creation_date":1701721903,"post_id":77594538,"comment_id":136808751,"body_markdown":"Thanks for adding this comment. I accepted the answer from @VGR because it is great set of examples that better explains the boundaries of javadoc. However, sphinx is still a much more powerful tool and when I need that I&#39;ll be re-visiting your answer.","body":"Thanks for adding this comment. I accepted the answer from @VGR because it is great set of examples that better explains the boundaries of javadoc. However, sphinx is still a much more powerful tool and when I need that I&#39;ll be re-visiting your answer."}],"tags":[],"owner":{"account_id":29991737,"reputation":11,"user_id":22984228,"display_name":"Ankit Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701611078,"creation_date":1701610851,"answer_id":77594538,"question_id":77594494,"body_markdown":"Integrate Javadoc Links:\r\nLink to your Javadoc-generated API documentation within your explanatory documentation using intersphinx references. For example:\r\n\r\n    :java:package:: com.example\r\n    :java:module:: com.example.mymodule\r\n    :java:method:: MyClass.myMethod(param1, param2)\r\n\r\n","title":"Javadoc API as part of larger documentation","body":"<p>Integrate Javadoc Links:\nLink to your Javadoc-generated API documentation within your explanatory documentation using intersphinx references. For example:</p>\n<pre><code>:java:package:: com.example\n:java:module:: com.example.mymodule\n:java:method:: MyClass.myMethod(param1, param2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701722196,"creation_date":1701625285,"answer_id":77595473,"question_id":77594494,"body_markdown":"Javadoc absolutely does support this.\r\n\r\nInternal documentation can be included in the special subdirectory `doc-files` under any package.  The javadoc tool will always copy doc-files subdirectories into generated documentation file trees, making them stable sources to which class (and package) javadoc can link using relative paths.  All javadoc content is HTML, so ordinary `&lt;a href=&quot;…&quot;&gt;` elements are sufficient.\r\n\r\nExamples:\r\n\r\n* The [java.awt package](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/package-summary.html) documentation links to in-depth Focus Subsystem documentation and in-depth modality documentation, both included in Java SE in a doc-files subdirectory.\r\n* The [javax.imageio package](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/package-summary.html) documentation links to full descriptions of metatadata for the image formats its supports, all located in a doc-files subdirectory.\r\n* Many security classes’ documentation will link to a table of standard algorithm names. For example, [KeyStore](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/KeyStore.html) links to a table of standard keystore types, with descriptions of each.  This document is part of the Java SE javadocs.\r\n\r\nExternal links can be placed in `@see` or `@spec` tags, like this:\r\n\r\n    /**\r\n     * This is a description of a package or class or class member.\r\n     *\r\n     * @see &lt;a href=&quot;https://example.com/docs/concepts/&quot;&gt;General concepts explanation&lt;/a&gt;\r\n     * @spec https://example.com/standard/myprotocol/ My protocol specification\r\n     */\r\n\r\n* The [Math](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html) class contains an external link to the IEEE floating point standard.\r\n* The [Locale](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Locale.html) documentation uses `@spec` to refer to language tag specifications.\r\n* The [java.util.zip package](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/package-summary.html) documentation links to full specifications related to zip and gzip compression.\r\n\r\nIf you’re looking for tutorials and examples, many Swing classes have such links.  For example:\r\n\r\n* The [JTable](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JTable.html) documentation’s first paragraph links to the “How to Use Tables” section of the Java tutorial.\r\n* The [JFileChooser](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFileChooser.html) documentation’s first paragraph links to the “How to Use File Choosers” section of the Java tutorial.\r\n\r\nThere are many more links to in-depth documentation in Java SE.  The above ones are just some that I remembered off the top of my head.\r\n","title":"Javadoc API as part of larger documentation","body":"<p>Javadoc absolutely does support this.</p>\n<p>Internal documentation can be included in the special subdirectory <code>doc-files</code> under any package.  The javadoc tool will always copy doc-files subdirectories into generated documentation file trees, making them stable sources to which class (and package) javadoc can link using relative paths.  All javadoc content is HTML, so ordinary <code>&lt;a href=&quot;…&quot;&gt;</code> elements are sufficient.</p>\n<p>Examples:</p>\n<ul>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/package-summary.html\" rel=\"nofollow noreferrer\">java.awt package</a> documentation links to in-depth Focus Subsystem documentation and in-depth modality documentation, both included in Java SE in a doc-files subdirectory.</li>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\">javax.imageio package</a> documentation links to full descriptions of metatadata for the image formats its supports, all located in a doc-files subdirectory.</li>\n<li>Many security classes’ documentation will link to a table of standard algorithm names. For example, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">KeyStore</a> links to a table of standard keystore types, with descriptions of each.  This document is part of the Java SE javadocs.</li>\n</ul>\n<p>External links can be placed in <code>@see</code> or <code>@spec</code> tags, like this:</p>\n<pre><code>/**\n * This is a description of a package or class or class member.\n *\n * @see &lt;a href=&quot;https://example.com/docs/concepts/&quot;&gt;General concepts explanation&lt;/a&gt;\n * @spec https://example.com/standard/myprotocol/ My protocol specification\n */\n</code></pre>\n<ul>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\">Math</a> class contains an external link to the IEEE floating point standard.</li>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Locale.html\" rel=\"nofollow noreferrer\">Locale</a> documentation uses <code>@spec</code> to refer to language tag specifications.</li>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/package-summary.html\" rel=\"nofollow noreferrer\">java.util.zip package</a> documentation links to full specifications related to zip and gzip compression.</li>\n</ul>\n<p>If you’re looking for tutorials and examples, many Swing classes have such links.  For example:</p>\n<ul>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JTable.html\" rel=\"nofollow noreferrer\">JTable</a> documentation’s first paragraph links to the “How to Use Tables” section of the Java tutorial.</li>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFileChooser.html\" rel=\"nofollow noreferrer\">JFileChooser</a> documentation’s first paragraph links to the “How to Use File Choosers” section of the Java tutorial.</li>\n</ul>\n<p>There are many more links to in-depth documentation in Java SE.  The above ones are just some that I remembered off the top of my head.</p>\n"}],"owner":{"account_id":242409,"reputation":1411,"user_id":513904,"accept_rate":67,"display_name":"Eli S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77595473,"answer_count":2,"score":0,"last_activity_date":1701722196,"creation_date":1701610142,"question_id":77594494,"body_markdown":"One of the nice things about sphinx and python is the relatively simple coupling between API documentation and explanatory documentation in markdown using chapters and sections that give the background and examples. Is there a way to do this in Java using javadoc, sphinx or some other library that has general community traction? ","title":"Javadoc API as part of larger documentation","body":"<p>One of the nice things about sphinx and python is the relatively simple coupling between API documentation and explanatory documentation in markdown using chapters and sections that give the background and examples. Is there a way to do this in Java using javadoc, sphinx or some other library that has general community traction?</p>\n"},{"tags":["java","spring","dependency-injection","autowired"],"comments":[{"owner":{"account_id":5082521,"reputation":538,"user_id":4078173,"display_name":"Alexandru Godri"},"score":0,"creation_date":1438895069,"post_id":31865667,"comment_id":51650719,"body_markdown":"You said you are autowiring (@Autowired) the interface in your service. How is the service accessed and where? Can you post the source code for the classes?","body":"You said you are autowiring (@Autowired) the interface in your service. How is the service accessed and where? Can you post the source code for the classes?"},{"owner":{"account_id":5082521,"reputation":538,"user_id":4078173,"display_name":"Alexandru Godri"},"score":0,"creation_date":1438895115,"post_id":31865667,"comment_id":51650745,"body_markdown":"If you autowire the interface in the service and the service is not also a bean or something then thie error will happen.","body":"If you autowire the interface in the service and the service is not also a bean or something then thie error will happen."},{"owner":{"account_id":6743247,"reputation":15,"user_id":5195719,"display_name":"Anand Arya"},"score":0,"creation_date":1438895624,"post_id":31865667,"comment_id":51650965,"body_markdown":"@AlexandruGodri - Code attached :)","body":"@AlexandruGodri - Code attached :)"}],"answers":[{"comments":[{"owner":{"account_id":6743247,"reputation":15,"user_id":5195719,"display_name":"Anand Arya"},"score":0,"creation_date":1438894783,"post_id":31865687,"comment_id":51650579,"body_markdown":"Any way are you  able to sight the issue in my code which is causing this exception?","body":"Any way are you  able to sight the issue in my code which is causing this exception?"},{"owner":{"account_id":1890392,"reputation":5619,"user_id":1708647,"accept_rate":75,"display_name":"Amit Bhati"},"score":0,"creation_date":1438895262,"post_id":31865687,"comment_id":51650807,"body_markdown":"Did you enable the component scanning in spring-config.xml ?","body":"Did you enable the component scanning in spring-config.xml ?"},{"owner":{"account_id":1890392,"reputation":5619,"user_id":1708647,"accept_rate":75,"display_name":"Amit Bhati"},"score":0,"creation_date":1438896472,"post_id":31865687,"comment_id":51651387,"body_markdown":"CreateCustomerRequestServiceOperationClient do you have implementation of this class ? Check my edit.","body":"CreateCustomerRequestServiceOperationClient do you have implementation of this class ? Check my edit."},{"owner":{"account_id":6743247,"reputation":15,"user_id":5195719,"display_name":"Anand Arya"},"score":0,"creation_date":1438896725,"post_id":31865687,"comment_id":51651504,"body_markdown":"Its a Interface and yes implementation is there but I am pretty sure , it has nothing to do with this class. Once i remove the MyInterface code, the api does a maven clean install again.","body":"Its a Interface and yes implementation is there but I am pretty sure , it has nothing to do with this class. Once i remove the MyInterface code, the api does a maven clean install again."},{"owner":{"account_id":1890392,"reputation":5619,"user_id":1708647,"accept_rate":75,"display_name":"Amit Bhati"},"score":0,"creation_date":1438896793,"post_id":31865687,"comment_id":51651531,"body_markdown":"No qualifying bean of type [nl.ing.sc.customerrequest.createcu\nstomerrequest1.CreateCustomerRequestServiceOperationClient]...See the exception stack trace.","body":"No qualifying bean of type [nl.ing.sc.customerrequest.createcu stomerrequest1.CreateCustomerRequestServiceOperationClient].&zwnj;&#8203;..See the exception stack trace."},{"owner":{"account_id":1890392,"reputation":5619,"user_id":1708647,"accept_rate":75,"display_name":"Amit Bhati"},"score":0,"creation_date":1438897352,"post_id":31865687,"comment_id":51651795,"body_markdown":"Change the subject of question or accept my edit. Current subject may attract downvotes.","body":"Change the subject of question or accept my edit. Current subject may attract downvotes."}],"tags":[],"owner":{"account_id":1890392,"reputation":5619,"user_id":1708647,"accept_rate":75,"display_name":"Amit Bhati"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1438896636,"creation_date":1438894703,"answer_id":31865687,"question_id":31865667,"body_markdown":"No spring can be used in any kind of Java application.\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type\r\n\r\nI am able to see above exception, this means spring is able to find the type which your injecting but not its implementation.\r\n\r\nCheck in your spring-config :-\r\n\r\n    &lt;context:component-scan base-package=&quot;...&quot; /&gt;\r\n\r\nCause of exception in your exception stack trace :-   \r\nIn your nl.ing.cram.gateway.CramImpl.cramDao class it failed to inject the dependency of type CreateCustomerRequestServiceOperationClient because it couldn&#39;t able to find its implementation.","title":"Spring is not able to autowire a dependency","body":"<p>No spring can be used in any kind of Java application.</p>\n\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type\n</code></pre>\n\n<p>I am able to see above exception, this means spring is able to find the type which your injecting but not its implementation.</p>\n\n<p>Check in your spring-config :-</p>\n\n<pre><code>&lt;context:component-scan base-package=\"...\" /&gt;\n</code></pre>\n\n<p>Cause of exception in your exception stack trace :-<br>\nIn your nl.ing.cram.gateway.CramImpl.cramDao class it failed to inject the dependency of type CreateCustomerRequestServiceOperationClient because it couldn't able to find its implementation.</p>\n"}],"owner":{"account_id":6743247,"reputation":15,"user_id":5195719,"display_name":"Anand Arya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31865687,"answer_count":1,"score":0,"last_activity_date":1701721892,"creation_date":1438894596,"question_id":31865667,"body_markdown":"I have an application which is not a dynamic web project. I have the arrangement such that its like a library in form of a jar which is exposed via interfaces. I am trying to auto wire this interface into my API project which is Dynamic web project. But it throws bean creation exception\r\n    \r\n1. I have a MyLibraryCofiguration class in library which has @Configuration and  @Import alongwith @ComponentScan.\r\n```\r\n@Configuration\r\n@Import({ BasicConfiguration.class, OperationalLoggingConfiguration.class, RestConfiguration.class })\r\n@ComponentScan(&quot;nl.ming.cram&quot;)\r\npublic class MyConfiguration() {\r\n\r\n\tpublic MyConfiguration() {\r\n\t\tpackages(&quot;nl.ming.cram.gateway&quot;);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MyInterface getMyInterface() {\r\n\t\treturn new MyImpl();\r\n\t}\r\n}\r\n``` \r\n2. My API project has MyApiCofiguration class which has @Import in which I am importing my MyLibraryCofiguration class. In the same class I have used:\r\n    \r\n```\r\n    @Configuration\r\n    @Import({\r\n            MyConfiguration.class\r\n    })\r\n    @ComponentScan({&quot;nl.ming.api.creditcardlist&quot;})\r\n    public class CreditCardListConfiguration {\r\n    \r\n        @Bean\r\n         public MyInterface getMyInterface() {\r\n            return new CramImpl();\r\n       }\r\n    }\r\n```    \r\n    \r\n3. In my API project , in MyApiService class  - I have @Autowired MyInterface to access methods of library jar as shown below:\r\n    \r\n```\r\n    @Component\r\n    public class MyAPIService {\r\n   \r\n    \t@Autowired\r\n    \tMyInterface MyInterface;    \r\n    }\r\n```    \r\n    \r\nIt throws a Bean creation exception for getMyInterface as is shown below - \r\n    \r\n&gt;    org.springframework.beans.factory.BeanCreationException:  \r\n&gt;       Error creating bean with name &#39;creditCardService&#39;: Injection of autowired dependencies failed; \r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: \r\n&gt; `nl.ing.cram.gateway.CramInterfacenl.ing.api.creditcardlist.services.CreditCardService.cramIface;`\r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;getCramInterface&#39;: Injection of autowired dependencies failed;\r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private nl.ing.cram.dao.CramDaonl.ing.cram.gateway.CramImpl.cramDao; \r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cramDao&#39;: Injection of resource dependencies failed; \r\n&gt;    \r\n&gt;    nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [nl.ing.sc.customerrequest.createcustomerrequest1.CreateCustomerRequestServiceOperationClient] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.annotation.Resource(shareable=true, mappedName=, description=, name=, type=class java.lang.Object, lookup=, authenticationType=CONTAINER)}\r\n","title":"Spring is not able to autowire a dependency","body":"<p>I have an application which is not a dynamic web project. I have the arrangement such that its like a library in form of a jar which is exposed via interfaces. I am trying to auto wire this interface into my API project which is Dynamic web project. But it throws bean creation exception</p>\n<ol>\n<li>I have a MyLibraryCofiguration class in library which has @Configuration and  @Import alongwith @ComponentScan.</li>\n</ol>\n<pre><code>@Configuration\n@Import({ BasicConfiguration.class, OperationalLoggingConfiguration.class, RestConfiguration.class })\n@ComponentScan(&quot;nl.ming.cram&quot;)\npublic class MyConfiguration() {\n\n    public MyConfiguration() {\n        packages(&quot;nl.ming.cram.gateway&quot;);\n    }\n\n    @Bean\n    public MyInterface getMyInterface() {\n        return new MyImpl();\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>My API project has MyApiCofiguration class which has @Import in which I am importing my MyLibraryCofiguration class. In the same class I have used:</li>\n</ol>\n<pre><code>    @Configuration\n    @Import({\n            MyConfiguration.class\n    })\n    @ComponentScan({&quot;nl.ming.api.creditcardlist&quot;})\n    public class CreditCardListConfiguration {\n    \n        @Bean\n         public MyInterface getMyInterface() {\n            return new CramImpl();\n       }\n    }\n</code></pre>\n<ol start=\"3\">\n<li>In my API project , in MyApiService class  - I have @Autowired MyInterface to access methods of library jar as shown below:</li>\n</ol>\n<pre><code>    @Component\n    public class MyAPIService {\n   \n        @Autowired\n        MyInterface MyInterface;    \n    }\n</code></pre>\n<p>It throws a Bean creation exception for getMyInterface as is shown below -</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException:<br />\nError creating bean with name 'creditCardService': Injection of autowired dependencies failed;</p>\n<p>nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field:\n<code>nl.ing.cram.gateway.CramInterfacenl.ing.api.creditcardlist.services.CreditCardService.cramIface;</code></p>\n<p>nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'getCramInterface': Injection of autowired dependencies failed;</p>\n<p>nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private nl.ing.cram.dao.CramDaonl.ing.cram.gateway.CramImpl.cramDao;</p>\n<p>nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cramDao': Injection of resource dependencies failed;</p>\n<p>nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [nl.ing.sc.customerrequest.createcustomerrequest1.CreateCustomerRequestServiceOperationClient] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.annotation.Resource(shareable=true, mappedName=, description=, name=, type=class java.lang.Object, lookup=, authenticationType=CONTAINER)}</p>\n</blockquote>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701718988,"post_id":77602027,"comment_id":136808348,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701719052,"post_id":77602027,"comment_id":136808359,"body_markdown":"If a value can be `null`, you must test it before using it.  `if( value != null ) { use(value); } else { bail(); }`","body":"If a value can be <code>null</code>, you must test it before using it.  <code>if( value != null ) { use(value); } else { bail(); }</code>"}],"answers":[{"tags":[],"owner":{"account_id":30043658,"reputation":1,"user_id":23023910,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701720715,"creation_date":1701720715,"answer_id":77602309,"question_id":77602027,"body_markdown":"When getting a blank cell with the workbook class like you are in this scenario, that cell is assigned a null value by default which is why you are getting a NPE. Try using the setMissingCellPolicy(Row.MissingCellPolicy missingCellPolicy) method to initialize empty cells as something other than null. I found this method in the Workbook POI API online. ","title":"how to fix /avoid getting null pointer exception when getting a blank cell from method","body":"<p>When getting a blank cell with the workbook class like you are in this scenario, that cell is assigned a null value by default which is why you are getting a NPE. Try using the setMissingCellPolicy(Row.MissingCellPolicy missingCellPolicy) method to initialize empty cells as something other than null. I found this method in the Workbook POI API online.</p>\n"}],"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701720715,"creation_date":1701717442,"question_id":77602027,"body_markdown":"I try to access a blank cell from method that getting a data from excel sheet.\r\nhow can I fix or avoid NPE.\r\n   \r\neg.\r\n```\r\n//TestData.java\r\npublic static float getData(int sheet, int row, int cell) {\r\n\r\n FileInputStream fis = new FileInputStream(new String(excelpath));\r\n XSSFWorkbook workbook = new XSSFWorkbook(fis);\r\n\r\nXSSFWorkbook wb = workbook.getSheetAt(sheet).getRow(row).getCell(cell);\r\n\r\n...\r\n//blah blah code\r\n\r\nif (cell == null) //tried this one but still getting error\r\n  throw new IOException(&quot;blank cell &quot;);\r\n...\r\n}\r\n```\r\nin different file I tried to access blank data\r\n```\r\npublic void getBlankData(){\r\nfloat data = (float) testData.getData(99,99,99);\r\nSystem.out.print(data);\r\n}\r\n```\r\n\r\nhere is error I hot\r\n`java.lang.NullPointerException: Cannot invoke &quot;java.lang.Float.floatValue()&quot; because the return value of &quot;TestData.getData(int, int, int)&quot; is null`\r\n","title":"how to fix /avoid getting null pointer exception when getting a blank cell from method","body":"<p>I try to access a blank cell from method that getting a data from excel sheet.\nhow can I fix or avoid NPE.</p>\n<p>eg.</p>\n<pre><code>//TestData.java\npublic static float getData(int sheet, int row, int cell) {\n\n FileInputStream fis = new FileInputStream(new String(excelpath));\n XSSFWorkbook workbook = new XSSFWorkbook(fis);\n\nXSSFWorkbook wb = workbook.getSheetAt(sheet).getRow(row).getCell(cell);\n\n...\n//blah blah code\n\nif (cell == null) //tried this one but still getting error\n  throw new IOException(&quot;blank cell &quot;);\n...\n}\n</code></pre>\n<p>in different file I tried to access blank data</p>\n<pre><code>public void getBlankData(){\nfloat data = (float) testData.getData(99,99,99);\nSystem.out.print(data);\n}\n</code></pre>\n<p>here is error I hot\n<code>java.lang.NullPointerException: Cannot invoke &quot;java.lang.Float.floatValue()&quot; because the return value of &quot;TestData.getData(int, int, int)&quot; is null</code></p>\n"},{"tags":["java","getter-setter"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":5,"creation_date":1701719312,"post_id":77602192,"comment_id":136808397,"body_markdown":"`I have two working solutions,` so why would only 1 be correct ? what do YOU think is the difference here ? where/when would it have an impact ? would it even make a difference ?","body":"<code>I have two working solutions,</code> so why would only 1 be correct ? what do YOU think is the difference here ? where/when would it have an impact ? would it even make a difference ?"},{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":0,"creation_date":1701719961,"post_id":77602192,"comment_id":136808491,"body_markdown":"First of all boolean primitive will be init as false by default. Second: If the method `getNumberOfSubsrtipion` is inside a class, then it is better to access the field; it is more encapsulating. But remeber if there will be inheritence, the classes in hierarchy will use their own fields, only getter will allow overriding.\nhttps://stackoverflow.com/q/10722110/9248765","body":"First of all boolean primitive will be init as false by default. Second: If the method <code>getNumberOfSubsrtipion</code> is inside a class, then it is better to access the field; it is more encapsulating. But remeber if there will be inheritence, the classes in hierarchy will use their own fields, only getter will allow overriding. <a href=\"https://stackoverflow.com/q/10722110/9248765\">stackoverflow.com/q/10722110/9248765</a>"}],"owner":{"account_id":2166347,"reputation":71,"user_id":1919389,"display_name":"Qmails"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701720346,"answer_count":0,"score":-1,"last_activity_date":1701720217,"creation_date":1701719254,"question_id":77602192,"body_markdown":"I have two working solutions, but which one should I use? Which solution is correct?\r\n\r\nSolution 1:\r\n\r\n```\r\nList&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\r\n```\r\n\r\n```\r\npublic class Client {\r\n    private final String firstName;\r\n    private final String lastName;\r\n    protected String cID;\r\n    protected boolean subscription = false;\r\n}\r\n```\r\n\r\n```\r\npublic int getNumberOfSubsrtipion(){\r\n    int count = 0;\r\n\r\n    for( Client myCustomer: myClient ){\r\n        if( myCustomer.subscription ){\r\n            count += 1;\r\n        }\r\n    }\r\n\r\n    return count;\r\n}\r\n```\r\n\r\nSolution 2:\r\n```\r\nList&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\r\n```\r\n\r\n```\r\npublic class Client {\r\n    private final String firstName;\r\n    private final String lastName;\r\n    protected String cID;\r\n    private boolean subscription = false;\r\n\r\n    protected boolean getSubscription(){\r\n        return this.subscription;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic int getNumberOfSubsrtipion(){\r\n    int count = 0;\r\n\r\n    for( Client myCustomer: myClient ){\r\n        if( myCustomer.getSubscription() ){\r\n            count += 1;\r\n        }\r\n    }\r\n\r\n    return count;\r\n}\r\n```\r\n\r\nThe solutions differ only in the content of the IF conditional function.","title":"Java - Should I use getter in method?","body":"<p>I have two working solutions, but which one should I use? Which solution is correct?</p>\n<p>Solution 1:</p>\n<pre><code>List&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\n</code></pre>\n<pre><code>public class Client {\n    private final String firstName;\n    private final String lastName;\n    protected String cID;\n    protected boolean subscription = false;\n}\n</code></pre>\n<pre><code>public int getNumberOfSubsrtipion(){\n    int count = 0;\n\n    for( Client myCustomer: myClient ){\n        if( myCustomer.subscription ){\n            count += 1;\n        }\n    }\n\n    return count;\n}\n</code></pre>\n<p>Solution 2:</p>\n<pre><code>List&lt;Client&gt; myClient = new ArrayList&lt;&gt;();\n</code></pre>\n<pre><code>public class Client {\n    private final String firstName;\n    private final String lastName;\n    protected String cID;\n    private boolean subscription = false;\n\n    protected boolean getSubscription(){\n        return this.subscription;\n    }\n}\n</code></pre>\n<pre><code>public int getNumberOfSubsrtipion(){\n    int count = 0;\n\n    for( Client myCustomer: myClient ){\n        if( myCustomer.getSubscription() ){\n            count += 1;\n        }\n    }\n\n    return count;\n}\n</code></pre>\n<p>The solutions differ only in the content of the IF conditional function.</p>\n"},{"tags":["java","postgresql","ant","dspace"],"owner":{"account_id":30066015,"reputation":1,"user_id":23041146,"display_name":"Saurabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701719388,"creation_date":1701719388,"question_id":77602202,"body_markdown":"i was installing dspace and encountered the following error\r\n\r\nC:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer&gt;ant fresh_install\r\nBuildfile: C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\build.xml\r\n\r\ninit_installation:\r\n\r\nprepare_configs:\r\n    [mkdir] Created dir: C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n     [copy] Copying 159 files to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n     [copy] Copying 1 file to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n     [copy] Copying 16 files to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n\r\ninit_configs:\r\n     [copy] Copying 1 file to C:\\dspace\\config\r\n   [delete] Deleting directory C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\r\n\r\ntest_database:\r\n     [java] 2023-12-04 15:30:52,956 WARN  org.apache.commons.configuration.DefaultConfigurationBuilder @ Internal error\r\n     [java] org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source local.cfg\r\n     [java]     at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:259)\r\n     [java]     at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:238)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder$FileConfigurationProvider.getConfiguration(DefaultConfigurationBuilder.java:1455)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder$ConfigurationBeanFactory.createBean(DefaultConfigurationBuilder.java:1321)\r\n     [java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:390)\r\n     [java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:412)\r\n     [java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:426)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAt(DefaultConfigurationBuilder.java:855)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.initCombinedConfiguration(DefaultConfigurationBuilder.java:719)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:622)\r\n     [java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:587)\r\n     [java]     at org.dspace.servicemanager.config.DSpaceConfigurationService.loadInitialConfig(DSpaceConfigurationService.java:494)\r\n     [java]     at org.dspace.servicemanager.config.DSpaceConfigurationService.&lt;init&gt;(DSpaceConfigurationService.java:87)\r\n     [java]     at org.dspace.servicemanager.DSpaceKernelImpl.start(DSpaceKernelImpl.java:148)\r\n     [java]     at org.dspace.servicemanager.DSpaceKernelImpl.start(DSpaceKernelImpl.java:128)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:49)\r\n     [java] 2023-12-04 15:30:54,654 WARN  org.dspace.services.email.EmailServiceImpl @ Couldn&#39;t get an email session from environment:  Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\r\n     [java] Dec 04, 2023 3:30:55 PM org.postgresql.core.v3.ConnectionFactoryImpl log2023-12-04 15:30:55,066 ERROR org.dspace.storage.rdbms.DatabaseUtils @ Unable to setup Flyway against DSpace database\r\n     [java]\r\n     [java] java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)WARNING: SQLException occurred while connecting to localhost:5432\r\n     [java]\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:656)org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)      at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\r\n     [java]\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java] Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n        at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)        at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\r\n     [java]\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103) at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     ... 10 more\r\n     [java]\r\n     [java] Attempting to connect to database\r\n     [java]\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]\r\n     [java] Dec 04, 2023 3:30:55 PM org.postgresql.Driver connect\r\n     [java] SEVERE: Connection error:\r\n     [java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]\r\n     [java] Dec 04, 2023 3:30:55 PM org.postgresql.core.v3.ConnectionFactoryImpl log\r\n     [java] WARNING: SQLException occurred while connecting to localhost:5432\r\n     [java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]\r\n     [java] Dec 04, 2023 3:30:55 PM org.postgresql.Driver connect\r\n     [java] SEVERE: Connection error:\r\n     [java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java]\r\n     [java]\r\n     [java] Error running &#39;test&#39;:\r\n     [java]  - java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)\r\n     [java]\r\n     [java] Please see the DSpace documentation for assistance.\r\n     [java]\r\n     [java] java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:656)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n     [java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     [java]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\r\n     [java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\r\n     [java] Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\r\n     [java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\r\n     [java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n     [java]     at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n     [java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\r\n     [java]     at org.postgresql.Driver.connect(Driver.java:254)\r\n     [java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\r\n     [java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\r\n     [java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n     [java]     ... 9 more\r\n     [java] 2023-12-04 15:30:55,253 WARN  org.dspace.services.sessions.SessionRequestServiceImpl @ Request interceptor (org.dspace.services.events.SystemEventService$EventRequestInterceptor@50366f7e) failed to execute on end (request-64-1701684054826): null\r\n\r\nBUILD FAILED\r\nC:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\build.xml:785: Java returned: 1","title":"error in ant fresh_install command while installing dspace on windows 10","body":"<p>i was installing dspace and encountered the following error</p>\n<p>C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer&gt;ant fresh_install\nBuildfile: C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\build.xml</p>\n<p>init_installation:</p>\n<p>prepare_configs:\n[mkdir] Created dir: C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\n[copy] Copying 159 files to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\n[copy] Copying 1 file to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp\n[copy] Copying 16 files to C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp</p>\n<p>init_configs:\n[copy] Copying 1 file to C:\\dspace\\config\n[delete] Deleting directory C:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\config-temp</p>\n<p>test_database:\n[java] 2023-12-04 15:30:52,956 WARN  org.apache.commons.configuration.DefaultConfigurationBuilder @ Internal error\n[java] org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source local.cfg\n[java]     at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:259)\n[java]     at org.apache.commons.configuration.AbstractFileConfiguration.load(AbstractFileConfiguration.java:238)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder$FileConfigurationProvider.getConfiguration(DefaultConfigurationBuilder.java:1455)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder$ConfigurationBeanFactory.createBean(DefaultConfigurationBuilder.java:1321)\n[java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:390)\n[java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:412)\n[java]     at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:426)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAt(DefaultConfigurationBuilder.java:855)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.initCombinedConfiguration(DefaultConfigurationBuilder.java:719)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:622)\n[java]     at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:587)\n[java]     at org.dspace.servicemanager.config.DSpaceConfigurationService.loadInitialConfig(DSpaceConfigurationService.java:494)\n[java]     at org.dspace.servicemanager.config.DSpaceConfigurationService.(DSpaceConfigurationService.java:87)\n[java]     at org.dspace.servicemanager.DSpaceKernelImpl.start(DSpaceKernelImpl.java:148)\n[java]     at org.dspace.servicemanager.DSpaceKernelImpl.start(DSpaceKernelImpl.java:128)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:49)\n[java] 2023-12-04 15:30:54,654 WARN  org.dspace.services.email.EmailServiceImpl @ Couldn't get an email session from environment:  Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\n[java] Dec 04, 2023 3:30:55 PM org.postgresql.core.v3.ConnectionFactoryImpl log2023-12-04 15:30:55,066 ERROR org.dspace.storage.rdbms.DatabaseUtils @ Unable to setup Flyway against DSpace database\n[java]\n[java] java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)WARNING: SQLException occurred while connecting to localhost:5432\n[java]\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:656)org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)      at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\n[java]\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\nat java.lang.reflect.Method.invoke(Method.java:498)\n[java]\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java] Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\nat org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)        at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\n[java]\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at org.postgresql.Driver.connect(Driver.java:254)\n[java]\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103) at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     ... 10 more\n[java]\n[java] Attempting to connect to database\n[java]\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]\n[java] Dec 04, 2023 3:30:55 PM org.postgresql.Driver connect\n[java] SEVERE: Connection error:\n[java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.setupFlyway(DatabaseUtils.java:496)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:100)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]\n[java] Dec 04, 2023 3:30:55 PM org.postgresql.core.v3.ConnectionFactoryImpl log\n[java] WARNING: SQLException occurred while connecting to localhost:5432\n[java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]\n[java] Dec 04, 2023 3:30:55 PM org.postgresql.Driver connect\n[java] SEVERE: Connection error:\n[java] org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java]\n[java]\n[java] Error running 'test':\n[java]  - java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)\n[java]\n[java] Please see the DSpace documentation for assistance.\n[java]\n[java] java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;dspace&quot;)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:656)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n[java]     at org.dspace.storage.rdbms.DatabaseUtils.main(DatabaseUtils.java:107)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]     at java.lang.reflect.Method.invoke(Method.java:498)\n[java]     at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:229)\n[java]     at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:81)\n[java] Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dspace&quot;\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:475)\n[java]     at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207)\n[java]     at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n[java]     at org.postgresql.jdbc.PgConnection.(PgConnection.java:195)\n[java]     at org.postgresql.Driver.makeConnection(Driver.java:452)\n[java]     at org.postgresql.Driver.connect(Driver.java:254)\n[java]     at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:52)\n[java]     at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:357)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:103)\n[java]     at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n[java]     ... 9 more\n[java] 2023-12-04 15:30:55,253 WARN  org.dspace.services.sessions.SessionRequestServiceImpl @ Request interceptor (org.dspace.services.events.SystemEventService$EventRequestInterceptor@50366f7e) failed to execute on end (request-64-1701684054826): null</p>\n<p>BUILD FAILED\nC:\\dspace-6.4-src-release\\dspace\\target\\dspace-installer\\build.xml:785: Java returned: 1</p>\n"},{"tags":["java","xsd-validation","jaxb2","spring-web"],"answers":[{"tags":[],"owner":{"account_id":260993,"reputation":373,"user_id":544896,"display_name":"glatapoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506711657,"creation_date":1506711657,"answer_id":46495379,"question_id":41852874,"body_markdown":"I had the same error today, and got over it by applying the advice found in JAXB&#39;s [Messages.properties](https://github.com/javaee/jaxb-v2/blob/master/jaxb-ri/runtime/impl/src/main/resources/com/sun/xml/bind/v2/runtime/unmarshaller/Messages.properties) : Add `java.util.logging.Logger.getLogger(&quot;com.sun.xml.internal.bind&quot;).setLevel(Level.FINEST);` before calling the unmarshalling.","title":"Why Unmarshaller behaviour is not consistent?","body":"<p>I had the same error today, and got over it by applying the advice found in JAXB's <a href=\"https://github.com/javaee/jaxb-v2/blob/master/jaxb-ri/runtime/impl/src/main/resources/com/sun/xml/bind/v2/runtime/unmarshaller/Messages.properties\" rel=\"nofollow noreferrer\">Messages.properties</a> : Add <code>java.util.logging.Logger.getLogger(\"com.sun.xml.internal.bind\").setLevel(Level.FINEST);</code> before calling the unmarshalling.</p>\n"},{"tags":[],"owner":{"account_id":13244478,"reputation":11,"user_id":9564035,"display_name":"Makox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701719065,"creation_date":1701719065,"answer_id":77602176,"question_id":41852874,"body_markdown":"I had the same error, but changing logger level same as [glatapou][1] did not work for me. I needed to change logger level of *`com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext`*.\r\n\r\nIt is connected with condition inside method `com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext#shouldErrorBeReported`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46495379/9564035","title":"Why Unmarshaller behaviour is not consistent?","body":"<p>I had the same error, but changing logger level same as <a href=\"https://stackoverflow.com/a/46495379/9564035\">glatapou</a> did not work for me. I needed to change logger level of <em><code>com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext</code></em>.</p>\n<p>It is connected with condition inside method <code>com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext#shouldErrorBeReported</code></p>\n"}],"owner":{"account_id":941457,"reputation":441,"user_id":969463,"accept_rate":45,"display_name":"Maciej Papież"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5279,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1701719065,"creation_date":1485350955,"question_id":41852874,"body_markdown":"I have created a simple webservice (spring-web) which is meant to validate the incoming XML with respect to XSD and if any validation errors occured, they should be returned to the requester.\r\n\r\nThe below code does its job...\r\n\r\n    @PostMapping(path = &quot;/test&quot;, consumes = MediaType.APPLICATION_XML_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Object&gt; method2(@RequestBody Source request) throws IOException, JAXBException, SAXException {\r\n        \r\n        final URL schemaUrl = resourceLoader.getResource(&quot;classpath:test.xsd&quot;).getURL();\r\n        final CumulatingErrorHandler errorHandler = new CumulatingErrorHandler();\r\n        final Schema schema = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI)\r\n                .newSchema(schemaUrl);\r\n        final ValidationEventCollector validationEventCollector = new MyValidationEventCollector();\r\n\r\n        final Unmarshaller unmarshaller = JAXBContext\r\n                .newInstance(IncomingRequestModel.class)\r\n                .createUnmarshaller();\r\n        unmarshaller.setEventHandler(validationEventCollector);\r\n        unmarshaller.setSchema(schema);\r\n\r\n        final IncomingRequestModel requestModel = (IncomingRequestModel) unmarshaller.unmarshal(request);\r\n\r\n        if (validationEventCollector.hasEvents()) {\r\n            HttpHeaders responseHeaders = new HttpHeaders();\r\n            responseHeaders.setContentType(MediaType.APPLICATION_JSON_UTF8);\r\n            return new ResponseEntity&lt;&gt;(validationEventCollector.getEvents(), responseHeaders, HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        /* do stuff */\r\n    }\r\n\r\n... but, for a weird reason, it&#39;s &#39;cumulating&#39; the errors between the requests handled. During the 1st request, 3 errors are returned. Similarly, for the 2nd and 3rd requests. However, on 4th request, the counter in UnmarshallingContext reaches zero (counting down from 10) and the following error is returned:\r\n\r\n    Errors limit exceeded. To receive all errors set com.sun.xml.internal.bind logger to FINEST level.\r\n\r\nOn fifth request, it doesn&#39;t throw any validation errors! Just to make it evident - all requests are exactly the same.\r\n\r\nWhy the UnmarhsallingContext has a static counter that stops the 5+th requests to be validated? How can I overcome this issue?\r\n\r\nMy build config: Spring boot 1.4.3.RELEASE, gradle deps:\r\n\r\n    dependencies {\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-amqp&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-data-redis&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-jersey&#39;)\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n\r\n        compile(&quot;com.fasterxml.jackson.core:jackson-databind&quot;)\r\n        compile(&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot;)\r\n\r\n        compileOnly(&#39;org.projectlombok:lombok:1.16.12&#39;)\r\n\r\n        compile(&quot;net.sf.dozer:dozer:5.5.1&quot;)\r\n        compile(&quot;net.sf.dozer:dozer-spring:5.5.1&quot;)\r\n\r\n        compile(&quot;org.apache.commons:commons-lang3:3.5&quot;)\r\n\r\n        testCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    }\r\n","title":"Why Unmarshaller behaviour is not consistent?","body":"<p>I have created a simple webservice (spring-web) which is meant to validate the incoming XML with respect to XSD and if any validation errors occured, they should be returned to the requester.</p>\n\n<p>The below code does its job...</p>\n\n<pre><code>@PostMapping(path = \"/test\", consumes = MediaType.APPLICATION_XML_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Object&gt; method2(@RequestBody Source request) throws IOException, JAXBException, SAXException {\n\n    final URL schemaUrl = resourceLoader.getResource(\"classpath:test.xsd\").getURL();\n    final CumulatingErrorHandler errorHandler = new CumulatingErrorHandler();\n    final Schema schema = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI)\n            .newSchema(schemaUrl);\n    final ValidationEventCollector validationEventCollector = new MyValidationEventCollector();\n\n    final Unmarshaller unmarshaller = JAXBContext\n            .newInstance(IncomingRequestModel.class)\n            .createUnmarshaller();\n    unmarshaller.setEventHandler(validationEventCollector);\n    unmarshaller.setSchema(schema);\n\n    final IncomingRequestModel requestModel = (IncomingRequestModel) unmarshaller.unmarshal(request);\n\n    if (validationEventCollector.hasEvents()) {\n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.setContentType(MediaType.APPLICATION_JSON_UTF8);\n        return new ResponseEntity&lt;&gt;(validationEventCollector.getEvents(), responseHeaders, HttpStatus.BAD_REQUEST);\n    }\n\n    /* do stuff */\n}\n</code></pre>\n\n<p>... but, for a weird reason, it's 'cumulating' the errors between the requests handled. During the 1st request, 3 errors are returned. Similarly, for the 2nd and 3rd requests. However, on 4th request, the counter in UnmarshallingContext reaches zero (counting down from 10) and the following error is returned:</p>\n\n<pre><code>Errors limit exceeded. To receive all errors set com.sun.xml.internal.bind logger to FINEST level.\n</code></pre>\n\n<p>On fifth request, it doesn't throw any validation errors! Just to make it evident - all requests are exactly the same.</p>\n\n<p>Why the UnmarhsallingContext has a static counter that stops the 5+th requests to be validated? How can I overcome this issue?</p>\n\n<p>My build config: Spring boot 1.4.3.RELEASE, gradle deps:</p>\n\n<pre><code>dependencies {\n    compile('org.springframework.boot:spring-boot-starter-amqp')\n    compile('org.springframework.boot:spring-boot-starter-data-redis')\n    compile('org.springframework.boot:spring-boot-starter-jersey')\n    compile('org.springframework.boot:spring-boot-starter-web')\n\n    compile(\"com.fasterxml.jackson.core:jackson-databind\")\n    compile(\"com.fasterxml.jackson.datatype:jackson-datatype-jsr310\")\n\n    compileOnly('org.projectlombok:lombok:1.16.12')\n\n    compile(\"net.sf.dozer:dozer:5.5.1\")\n    compile(\"net.sf.dozer:dozer-spring:5.5.1\")\n\n    compile(\"org.apache.commons:commons-lang3:3.5\")\n\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","gradle","noclassdeffounderror"],"comments":[{"owner":{"account_id":21704500,"reputation":75,"user_id":16017180,"display_name":"Joan"},"score":1,"creation_date":1701708064,"post_id":77600409,"comment_id":136806409,"body_markdown":"Maybe this other link can help ? https://stackoverflow.com/questions/57817714/gatling-on-gradle-noclassdeffounderror-scala-serializable","body":"Maybe this other link can help ? <a href=\"https://stackoverflow.com/questions/57817714/gatling-on-gradle-noclassdeffounderror-scala-serializable\" title=\"gatling on gradle noclassdeffounderror scala serializable\">stackoverflow.com/questions/57817714/&hellip;</a>"}],"owner":{"account_id":30063483,"reputation":1,"user_id":23039126,"display_name":"marmich00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701719040,"creation_date":1701701784,"question_id":77600409,"body_markdown":"I am practicing Scala and try to run external project, which includes Spark and Gradle. Unfortunately, I am getting this error all the time: \r\n\r\n![image](https://i.stack.imgur.com/rMG3b.png)\r\n\r\nI would be grateful for any advice that can help with fixing this issue. I am using Scala 2.13.12.\r\n\r\nI&#39;ve tried to change the Java and Scala versions, modified dependencies in build.gradle, checked if environmental variables are included. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WPxiJ.png","title":"Error: Unable to initialize main class (...) Caused by: java.lang.NoClassDefFoundError: scala/Serializable","body":"<p>I am practicing Scala and try to run external project, which includes Spark and Gradle. Unfortunately, I am getting this error all the time:</p>\n<p><img src=\"https://i.stack.imgur.com/rMG3b.png\" alt=\"image\" /></p>\n<p>I would be grateful for any advice that can help with fixing this issue. I am using Scala 2.13.12.</p>\n<p>I've tried to change the Java and Scala versions, modified dependencies in build.gradle, checked if environmental variables are included.</p>\n"},{"tags":["java","arrays","spiral"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1701717280,"post_id":77601966,"comment_id":136808094,"body_markdown":"The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem.","body":"The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem."},{"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"score":0,"creation_date":1701718771,"post_id":77601966,"comment_id":136808314,"body_markdown":"@RomanC I dont know what you misunderstand from the question? I have described the specific problem and the specific error. And i have given all the code that i have.","body":"@RomanC I dont know what you misunderstand from the question? I have described the specific problem and the specific error. And i have given all the code that i have."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701718686,"creation_date":1701718686,"answer_id":77602141,"question_id":77601966,"body_markdown":"Instead of using a switch-case, you can use a couple directional matrices for tracking movement. You can take advantage of modulo arithmetic for advancing to the next directional index.\r\n\r\nIf the next position is in-bounds, set the position. If it is out of bounds or has already been seen, change direction.\r\n\r\n**Note:** I would avoid starting the loop with `int i = 1`, you can always add `1` to `i` when you are setting the value.\r\n\r\n```java\r\npackage org.example;\r\n\r\npublic class Spiral {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Spiral Matrix: 3 rows, 4 columns:&quot;);\r\n        print(spiral(3, 4));\r\n\r\n        System.out.println(&quot;\\nSpiral Matrix: 6 rows, 9 columns:&quot;);\r\n        print(spiral(6, 9));\r\n    }\r\n\r\n    // Based on: https://www.geeksforgeeks.org/print-a-given-matrix-in-spiral-form/\r\n    static final int[] DIR_ROW = { 0, 1, 0, -1 }, DIR_COL = { 1, 0, -1, 0 };\r\n    static int[][] spiral(int rows, int columns) {\r\n       int[][] result = new int[rows][columns];\r\n        if (rows == 0) return result;\r\n        boolean[][] seen = new boolean[rows][columns];\r\n        int x = 0, y = 0, di = 0;\r\n        for (int i = 0; i &lt; rows * columns; i++) {\r\n            result[x][y] = i + 1; // Set value\r\n            seen[x][y] = true; // Mark as seen\r\n            int cr = x + DIR_ROW[di], cc = y + DIR_COL[di]; // Bounds checking\r\n            if (0 &lt;= cr &amp;&amp; cr &lt; rows &amp;&amp; 0 &lt;= cc &amp;&amp; cc &lt; columns &amp;&amp; !seen[cr][cc]) {\r\n                x = cr;\r\n                y = cc;\r\n            } else {\r\n                di = (di + 1) % 4; // Next direction index\r\n                x += DIR_ROW[di];\r\n                y += DIR_COL[di];\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static void print(int[][] matrix) {\r\n        for (int r = 0; r &lt; matrix.length; r++) {\r\n            for (int c = 0; c &lt; matrix[r].length; c++) {\r\n                System.out.printf(&quot;%2d&quot;, matrix[r][c]);\r\n                if (c &lt; matrix[r].length - 1) {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Output\r\n\r\n\r\n```\r\nSpiral Matrix: 3 rows, 4 columns:\r\n 1  2  3  4\r\n10 11 12  5\r\n 9  8  7  6\r\n\r\nSpiral Matrix: 6 rows, 9 columns:\r\n 1  2  3  4  5  6  7  8  9\r\n26 27 28 29 30 31 32 33 10\r\n25 44 45 46 47 48 49 34 11\r\n24 43 54 53 52 51 50 35 12\r\n23 42 41 40 39 38 37 36 13\r\n22 21 20 19 18 17 16 15 14\r\n```","title":"2D Array Spiral Matrix Pattern with different rows and columns","body":"<p>Instead of using a switch-case, you can use a couple directional matrices for tracking movement. You can take advantage of modulo arithmetic for advancing to the next directional index.</p>\n<p>If the next position is in-bounds, set the position. If it is out of bounds or has already been seen, change direction.</p>\n<p><strong>Note:</strong> I would avoid starting the loop with <code>int i = 1</code>, you can always add <code>1</code> to <code>i</code> when you are setting the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\npublic class Spiral {\n    public static void main(String[] args) {\n        System.out.println(&quot;Spiral Matrix: 3 rows, 4 columns:&quot;);\n        print(spiral(3, 4));\n\n        System.out.println(&quot;\\nSpiral Matrix: 6 rows, 9 columns:&quot;);\n        print(spiral(6, 9));\n    }\n\n    // Based on: https://www.geeksforgeeks.org/print-a-given-matrix-in-spiral-form/\n    static final int[] DIR_ROW = { 0, 1, 0, -1 }, DIR_COL = { 1, 0, -1, 0 };\n    static int[][] spiral(int rows, int columns) {\n       int[][] result = new int[rows][columns];\n        if (rows == 0) return result;\n        boolean[][] seen = new boolean[rows][columns];\n        int x = 0, y = 0, di = 0;\n        for (int i = 0; i &lt; rows * columns; i++) {\n            result[x][y] = i + 1; // Set value\n            seen[x][y] = true; // Mark as seen\n            int cr = x + DIR_ROW[di], cc = y + DIR_COL[di]; // Bounds checking\n            if (0 &lt;= cr &amp;&amp; cr &lt; rows &amp;&amp; 0 &lt;= cc &amp;&amp; cc &lt; columns &amp;&amp; !seen[cr][cc]) {\n                x = cr;\n                y = cc;\n            } else {\n                di = (di + 1) % 4; // Next direction index\n                x += DIR_ROW[di];\n                y += DIR_COL[di];\n            }\n        }\n        return result;\n    }\n\n    static void print(int[][] matrix) {\n        for (int r = 0; r &lt; matrix.length; r++) {\n            for (int c = 0; c &lt; matrix[r].length; c++) {\n                System.out.printf(&quot;%2d&quot;, matrix[r][c]);\n                if (c &lt; matrix[r].length - 1) {\n                    System.out.print(&quot; &quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<h3>Output</h3>\n<pre><code>Spiral Matrix: 3 rows, 4 columns:\n 1  2  3  4\n10 11 12  5\n 9  8  7  6\n\nSpiral Matrix: 6 rows, 9 columns:\n 1  2  3  4  5  6  7  8  9\n26 27 28 29 30 31 32 33 10\n25 44 45 46 47 48 49 34 11\n24 43 54 53 52 51 50 35 12\n23 42 41 40 39 38 37 36 13\n22 21 20 19 18 17 16 15 14\n</code></pre>\n"}],"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77602141,"answer_count":1,"score":-1,"last_activity_date":1701718686,"creation_date":1701716581,"question_id":77601966,"body_markdown":"..\r\nHello, guys. I have to implement 2D Array in Spiral Matrix Pattern, but the requirement is to get the rows and columns from user input. Using Oracle documents i got to the point that the program result is successful while the rows and columns are equal, but the tests are mostly with different rows and columns.\r\n\r\nTask description:\r\n\r\nPlease, proceed to Spiral class and implement its static method:\r\n\r\nint[][] spiral(int rows, int columns)\r\nReturn a two-dimensional array coming in the form of a table and containing numbers from 1 up to rows * cols. The size of the table will be specified by the given parameters.\r\nNumbers fill the &quot;table&quot; clockwise from the top-level corner in a spiral manner.\r\n\r\nFor example, for parameter values (3, 4), the output array should be:\r\n\r\n     1  2  3  4\r\n    10 11 12  5\r\n     9  8  7  6\r\n\r\nThe code that i implement is this:\r\n\r\n\r\n```\r\nclass Spiral {\r\n    \r\n    static int[][] spiral(int rows, int columns) {\r\n\r\n        int[][] matrix = new int[rows][columns];\r\n        int row = 0;\r\n        int col = 0;\r\n        int horizontal = columns - 1;\r\n        int vertical = rows - 1;\r\n        int rotations = 1;\r\n        char move = &#39;r&#39;;\r\n\r\n        for(int i = 1; i &lt; rows * columns + 1; i++) {\r\n            matrix[row][col] = i;\r\n\r\n            switch(move) {\r\n                case &#39;r&#39;:\r\n                    col += 1;\r\n                    break;\r\n                case &#39;l&#39;:\r\n                    col -= 1;\r\n                    break;\r\n                case &#39;u&#39;:\r\n                    row -= 1;\r\n                    break;\r\n                case &#39;d&#39;:\r\n                    row += 1;\r\n                    break;\r\n            }\r\n\r\n            if(i == horizontal) {\r\n                horizontal += vertical;\r\n                \r\n                if(rotations != 2) {\r\n                    rotations = 2;\r\n                }\r\n                else {\r\n                    rotations = 1;\r\n                    vertical -= 1;\r\n                }\r\n\r\n                switch(move) {\r\n                    case &#39;r&#39;:\r\n                        move = &#39;d&#39;;\r\n                        break;\r\n                    case &#39;d&#39;:\r\n                        move = &#39;l&#39;;\r\n                        break;\r\n                    case &#39;l&#39;:\r\n                        move = &#39;u&#39;;\r\n                        break;\r\n                    case &#39;u&#39;:\r\n                        move = &#39;r&#39;;\r\n                        break;\r\n                }\r\n            } \r\n        }\r\n        return matrix;\r\n    }\r\n}\r\n```\r\n\r\nBut how i already said, it works only when the rows and columns are equal. When i try with different values in rows and columns i get exception &quot;index out of bounds&quot;. My thoughts are probably the problem comes from rotations condition, but i really can&#39;t solve this problem. If somebody can help, thanks in advance.\r\n","title":"2D Array Spiral Matrix Pattern with different rows and columns","body":"<p>..\nHello, guys. I have to implement 2D Array in Spiral Matrix Pattern, but the requirement is to get the rows and columns from user input. Using Oracle documents i got to the point that the program result is successful while the rows and columns are equal, but the tests are mostly with different rows and columns.</p>\n<p>Task description:</p>\n<p>Please, proceed to Spiral class and implement its static method:</p>\n<p>int[][] spiral(int rows, int columns)\nReturn a two-dimensional array coming in the form of a table and containing numbers from 1 up to rows * cols. The size of the table will be specified by the given parameters.\nNumbers fill the &quot;table&quot; clockwise from the top-level corner in a spiral manner.</p>\n<p>For example, for parameter values (3, 4), the output array should be:</p>\n<pre><code> 1  2  3  4\n10 11 12  5\n 9  8  7  6\n</code></pre>\n<p>The code that i implement is this:</p>\n<pre><code>class Spiral {\n    \n    static int[][] spiral(int rows, int columns) {\n\n        int[][] matrix = new int[rows][columns];\n        int row = 0;\n        int col = 0;\n        int horizontal = columns - 1;\n        int vertical = rows - 1;\n        int rotations = 1;\n        char move = 'r';\n\n        for(int i = 1; i &lt; rows * columns + 1; i++) {\n            matrix[row][col] = i;\n\n            switch(move) {\n                case 'r':\n                    col += 1;\n                    break;\n                case 'l':\n                    col -= 1;\n                    break;\n                case 'u':\n                    row -= 1;\n                    break;\n                case 'd':\n                    row += 1;\n                    break;\n            }\n\n            if(i == horizontal) {\n                horizontal += vertical;\n                \n                if(rotations != 2) {\n                    rotations = 2;\n                }\n                else {\n                    rotations = 1;\n                    vertical -= 1;\n                }\n\n                switch(move) {\n                    case 'r':\n                        move = 'd';\n                        break;\n                    case 'd':\n                        move = 'l';\n                        break;\n                    case 'l':\n                        move = 'u';\n                        break;\n                    case 'u':\n                        move = 'r';\n                        break;\n                }\n            } \n        }\n        return matrix;\n    }\n}\n</code></pre>\n<p>But how i already said, it works only when the rows and columns are equal. When i try with different values in rows and columns i get exception &quot;index out of bounds&quot;. My thoughts are probably the problem comes from rotations condition, but i really can't solve this problem. If somebody can help, thanks in advance.</p>\n"},{"tags":["java","hibernate","maven","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701772411,"post_id":77602138,"comment_id":136814302,"body_markdown":"Could you also add relevant Entities to the problem ?","body":"Could you also add relevant Entities to the problem ?"}],"owner":{"account_id":30065849,"reputation":1,"user_id":23041018,"display_name":"Gosia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701718642,"creation_date":1701718612,"question_id":77602138,"body_markdown":"Do you know where this error comes from? I can see that the database is created correctly, it has all the fields and relations between the tables, but I can&#39;t run the main application file. I&#39;m using Maven. There&#39;s a whole error message:\r\n\r\n```2023-12-04T20:30:00.654+01:00 ERROR 27505 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1173) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:936) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat com.example.inz_temp.InzTempApplication.main(InzTempApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null\r\n\tat org.hibernate.boot.model.internal.BinderHelper.checkMappedByType(BinderHelper.java:1088) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionBinder.isReversePropertyInJoin(CollectionBinder.java:1571) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionBinder.noAssociationTable(CollectionBinder.java:1582) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1543) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1534) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1846) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1803) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:328) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\t... 16 common frames omitted\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;ve checked jakarta mapping while creating entities, I&#39;ve created a database using docker, jakarta persistence entities and jpa repositories","title":"Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null","body":"<p>Do you know where this error comes from? I can see that the database is created correctly, it has all the fields and relations between the tables, but I can't run the main application file. I'm using Maven. There's a whole error message:</p>\n<pre><code>\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1173) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:936) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\n    at com.example.inz_temp.InzTempApplication.main(InzTempApplication.java:10) ~[classes/:na]\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.mapping.ToOne.getReferencedEntityName()&quot; because &quot;toOne&quot; is null\n    at org.hibernate.boot.model.internal.BinderHelper.checkMappedByType(BinderHelper.java:1088) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionBinder.isReversePropertyInJoin(CollectionBinder.java:1571) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionBinder.noAssociationTable(CollectionBinder.java:1582) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1543) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1534) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1846) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1803) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:328) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\n    ... 16 common frames omitted\n\n</code></pre>\n<p>I've checked jakarta mapping while creating entities, I've created a database using docker, jakarta persistence entities and jpa repositories</p>\n"},{"tags":["java","ssl","groovy","https","httpbuilder"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1487195564,"post_id":42260663,"comment_id":71679170,"body_markdown":"try also https://www.ssllabs.com/ssltest/","body":"try also <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest</a>"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1487195951,"post_id":42260663,"comment_id":71679368,"body_markdown":"see if this solution helps - http://stackoverflow.com/a/30760134/2158288","body":"see if this solution helps - <a href=\"http://stackoverflow.com/a/30760134/2158288\">stackoverflow.com/a/30760134/2158288</a>"},{"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"score":0,"creation_date":1487196611,"post_id":42260663,"comment_id":71679702,"body_markdown":"I tried installing the Unlimited Strength jars from your linked suggestion and that didn&#39;t change anything.","body":"I tried installing the Unlimited Strength jars from your linked suggestion and that didn&#39;t change anything."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1487197682,"post_id":42260663,"comment_id":71680253,"body_markdown":"There&#39;s too little information of your problem. You should try step debug and find out why verify fails. It seems that apache does its own verification of certificates and the logic isn&#39;t cannon.","body":"There&#39;s too little information of your problem. You should try step debug and find out why verify fails. It seems that apache does its own verification of certificates and the logic isn&#39;t cannon."}],"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701718620,"creation_date":1487195137,"question_id":42260663,"body_markdown":"I have already tried using `http.ignoreSSLIssues()` [to make the script ignore the problem][1].\r\n\r\nI have already tried [importing the certificate into a trusted keystore and then using that keystore to create a new SSLSocketFactory][2] as instructed by the http-builder wiki page.\r\n\r\nI have already tried [installing the Unlimited Security policy jars.][3]\r\n\r\n    HTTPBuilder http = new HTTPBuilder(&quot;${host}${path}&quot;)\r\n    println(&quot;Fetching ${host}${path}&quot;)\r\n    \r\n    println(&quot;Supposedly ignoring SSL issues&quot;)\r\n    http.ignoreSSLIssues()\r\n    \r\n    def keyStore = KeyStore.getInstance( KeyStore.defaultType )\r\n    \r\n    getClass().getResource( &quot;truststore.jks&quot; ).withInputStream {\r\n    \tkeyStore.load( it, &quot;test1234&quot;.toCharArray() )\r\n    \tprintln(&quot;Loaded keystore&quot;)\r\n    }\r\n    \r\n    http.client.connectionManager.schemeRegistry.register(new Scheme(&quot;https&quot;, 443, new SSLSocketFactory(keyStore)) )\r\n    println(&quot;Loaded new socket factory with keystore&quot;)\r\n    \r\n    http.request( Method.GET, ContentType.URLENC ) { req -&gt;\r\n    \turi.query = params\r\n    \r\n    \tresponse.contentType = ContentType.JSON\r\n    \r\n    \tresponse.success = { resp, Map map -&gt;\r\n    \t\tdef json = map.keySet()[0]\r\n    \r\n    \t\tdef slurper = new JsonSlurper()\r\n    \t\tret = slurper.parseText(json)\r\n    \r\n    \t}\r\n    }\r\n\r\nAnd yet, I get the same SSLPeerUnverifiedException every time. Here is the console output:\r\n\r\n    Fetching https://myhost.mydomain.com/report.aspx\r\n    Supposedly ignoring SSL issues\r\n    Loaded keystore\r\n    Loaded new socket factory with keystore\r\n    Caught: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n    javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n    \tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n    \tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:640)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:1066)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:1044)\r\n    \tat groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:515)\r\n    \tat groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:434)\r\n    \tat groovyx.net.http.HTTPBuilder.request(HTTPBuilder.java:383)\r\n    \tat groovyx.net.http.HTTPBuilder$request$0.call(Unknown Source)\r\n    \tat fetch_windows_direct_report.httpget(fetch_windows_direct_report.groovy:93)\r\n    \tat fetch_windows_direct_report$httpget$0.callCurrent(Unknown Source)\r\n    \tat fetch_windows_direct_report.fetchanalytics(fetch_windows_direct_report.groovy:58)\r\n    \tat fetch_windows_direct_report$fetchanalytics.callCurrent(Unknown Source)\r\n    \tat fetch_windows_direct_report.run(fetch_windows_direct_report.groovy:31)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\n    \r\n    Process finished with exit code 1\r\n\r\nLine 93, where my code experiences the exception, is the `http.request( Method.GET, ContentType.URLENC ) { req -&gt;` line. \r\n\r\nI&#39;ve verified that my SSL certificate is valid and signed by a Trusted Root Authority by using Chrome (as well as using https://www.sslshopper.com/ssl-checker.html)\r\n\r\n[![enter image description here][4]][3]\r\n\r\nWhy is this not working?\r\n\r\n  [1]: https://stackoverflow.com/a/27913848/416631\r\n  [2]: https://github.com/jgritman/httpbuilder/wiki/SSL\r\n  [3]: https://stackoverflow.com/questions/30758303/problems-connecting-via-https-ssl-through-own-java-client/30760134#30760134\r\n  [4]: https://i.stack.imgur.com/n3NHH.png","title":"Valid SSL certificate but Groovy is giving: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated","body":"<p>I have already tried using <code>http.ignoreSSLIssues()</code> <a href=\"https://stackoverflow.com/a/27913848/416631\">to make the script ignore the problem</a>.</p>\n<p>I have already tried <a href=\"https://github.com/jgritman/httpbuilder/wiki/SSL\" rel=\"nofollow noreferrer\">importing the certificate into a trusted keystore and then using that keystore to create a new SSLSocketFactory</a> as instructed by the http-builder wiki page.</p>\n<p>I have already tried <a href=\"https://stackoverflow.com/questions/30758303/problems-connecting-via-https-ssl-through-own-java-client/30760134#30760134\">installing the Unlimited Security policy jars.</a></p>\n<pre><code>HTTPBuilder http = new HTTPBuilder(&quot;${host}${path}&quot;)\nprintln(&quot;Fetching ${host}${path}&quot;)\n\nprintln(&quot;Supposedly ignoring SSL issues&quot;)\nhttp.ignoreSSLIssues()\n\ndef keyStore = KeyStore.getInstance( KeyStore.defaultType )\n\ngetClass().getResource( &quot;truststore.jks&quot; ).withInputStream {\n    keyStore.load( it, &quot;test1234&quot;.toCharArray() )\n    println(&quot;Loaded keystore&quot;)\n}\n\nhttp.client.connectionManager.schemeRegistry.register(new Scheme(&quot;https&quot;, 443, new SSLSocketFactory(keyStore)) )\nprintln(&quot;Loaded new socket factory with keystore&quot;)\n\nhttp.request( Method.GET, ContentType.URLENC ) { req -&gt;\n    uri.query = params\n\n    response.contentType = ContentType.JSON\n\n    response.success = { resp, Map map -&gt;\n        def json = map.keySet()[0]\n\n        def slurper = new JsonSlurper()\n        ret = slurper.parseText(json)\n\n    }\n}\n</code></pre>\n<p>And yet, I get the same SSLPeerUnverifiedException every time. Here is the console output:</p>\n<pre><code>Fetching https://myhost.mydomain.com/report.aspx\nSupposedly ignoring SSL issues\nLoaded keystore\nLoaded new socket factory with keystore\nCaught: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\njavax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n    at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:640)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:1066)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:1044)\n    at groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:515)\n    at groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:434)\n    at groovyx.net.http.HTTPBuilder.request(HTTPBuilder.java:383)\n    at groovyx.net.http.HTTPBuilder$request$0.call(Unknown Source)\n    at fetch_windows_direct_report.httpget(fetch_windows_direct_report.groovy:93)\n    at fetch_windows_direct_report$httpget$0.callCurrent(Unknown Source)\n    at fetch_windows_direct_report.fetchanalytics(fetch_windows_direct_report.groovy:58)\n    at fetch_windows_direct_report$fetchanalytics.callCurrent(Unknown Source)\n    at fetch_windows_direct_report.run(fetch_windows_direct_report.groovy:31)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Line 93, where my code experiences the exception, is the <code>http.request( Method.GET, ContentType.URLENC ) { req -&gt;</code> line.</p>\n<p>I've verified that my SSL certificate is valid and signed by a Trusted Root Authority by using Chrome (as well as using <a href=\"https://www.sslshopper.com/ssl-checker.html\" rel=\"nofollow noreferrer\">https://www.sslshopper.com/ssl-checker.html</a>)</p>\n<p><a href=\"https://stackoverflow.com/questions/30758303/problems-connecting-via-https-ssl-through-own-java-client/30760134#30760134\"><img src=\"https://i.stack.imgur.com/n3NHH.png\" alt=\"enter image description here\" /></a></p>\n<p>Why is this not working?</p>\n"},{"tags":["java","intellij-idea","appium-android","appium-desktop"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701721555,"post_id":77602121,"comment_id":136808706,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29936727,"reputation":1,"user_id":22942289,"display_name":"Siyah kalem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701718614,"creation_date":1701718459,"question_id":77602121,"body_markdown":"```\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;BAHAR&#39;, ip: &#39;192.168.37.1&#39;\r\n\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:625)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:268)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:168)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:90)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:102)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:109)\r\n\tat appium.Homework.CalcaluteTestIT.testUitomator2Calcutore(CalcaluteTestIT.java:23)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n\tat org.testng.TestRunner.run(TestRunner.java:621)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n\tat org.testng.TestNG.run(TestNG.java:1082)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: org.openqa.selenium.WebDriverException: Connection refused: no further information\r\nBuild info: version: &#39;4.15.0&#39;, revision: &#39;1d14b5521b&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.16&#39;\r\nDriver info: driver.version: AndroidDriver\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.lambda$execute$2(AppiumCommandExecutor.java:250)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:249)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:607)\r\n\t... 33 more\r\nCaused by: java.net.ConnectException: Connection refused: no further information\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\r\n\tat java.net.http/jdk.internal.net.http.PlainHttpConnection$ConnectEvent.handle(PlainHttpConnection.java:128)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.handleEvent(HttpClientImpl.java:957)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.lambda$run$3(HttpClientImpl.java:912)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.run(HttpClientImpl.java:912)\r\n```\r\n\r\ni can&#39;t access the real phone with vysor.","title":"selenium.SessionNotCreatedException","body":"<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'BAHAR', ip: '192.168.37.1'\n\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:625)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:268)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:168)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:90)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:102)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:109)\n    at appium.Homework.CalcaluteTestIT.testUitomator2Calcutore(CalcaluteTestIT.java:23)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n    at org.testng.TestRunner.run(TestRunner.java:621)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: org.openqa.selenium.WebDriverException: Connection refused: no further information\nBuild info: version: '4.15.0', revision: '1d14b5521b'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.16'\nDriver info: driver.version: AndroidDriver\n    at io.appium.java_client.remote.AppiumCommandExecutor.lambda$execute$2(AppiumCommandExecutor.java:250)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:249)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:607)\n    ... 33 more\nCaused by: java.net.ConnectException: Connection refused: no further information\n    at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\n    at java.net.http/jdk.internal.net.http.PlainHttpConnection$ConnectEvent.handle(PlainHttpConnection.java:128)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.handleEvent(HttpClientImpl.java:957)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.lambda$run$3(HttpClientImpl.java:912)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.run(HttpClientImpl.java:912)\n</code></pre>\n<p>i can't access the real phone with vysor.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1701710306,"post_id":77601288,"comment_id":136806831,"body_markdown":"What about creating a new method that will have logic to get entity by id and you will use it in both methods get and delete","body":"What about creating a new method that will have logic to get entity by id and you will use it in both methods get and delete"},{"owner":{"account_id":19522753,"reputation":645,"user_id":14284230,"display_name":"AvaTaylor"},"score":0,"creation_date":1701711697,"post_id":77601288,"comment_id":136807108,"body_markdown":"That&#39;s a good idea, but there are actually a few different services that also make use of getEntity so they would all need to change to the &quot;new_getEntity()&quot; method.  I&#39;m trying the SecuredEntityService idea now, and it appears to be working pretty cleanly.  Only the controllers use SecuredEntityService which is a pass-through, and the other services use the (unsecured) EntityService.","body":"That&#39;s a good idea, but there are actually a few different services that also make use of getEntity so they would all need to change to the &quot;new_getEntity()&quot; method.  I&#39;m trying the SecuredEntityService idea now, and it appears to be working pretty cleanly.  Only the controllers use SecuredEntityService which is a pass-through, and the other services use the (unsecured) EntityService."}],"answers":[{"tags":[],"owner":{"account_id":19522753,"reputation":645,"user_id":14284230,"display_name":"AvaTaylor"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701711730,"creation_date":1701711730,"answer_id":77601513,"question_id":77601288,"body_markdown":"I&#39;m tried the SecuredEntityService idea, and it appears to be working pretty cleanly. Only the controllers use SecuredEntityService which is a pass-through, and the other services use the (unsecured) EntityService","title":"Should I move the Spring Security @PreAuthorize annotations to a new SecuredService class?","body":"<p>I'm tried the SecuredEntityService idea, and it appears to be working pretty cleanly. Only the controllers use SecuredEntityService which is a pass-through, and the other services use the (unsecured) EntityService</p>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701718475,"creation_date":1701718475,"answer_id":77602125,"question_id":77601288,"body_markdown":"# Role Hierarchy\r\n\r\nIn addressing your issue with role-based access control in Spring Security, it&#39;s beneficial to consider implementing a role hierarchy. This approach aligns with real-world scenarios and simplifies permission management.\r\n\r\n### Role Hierarchy Explained\r\n\r\nIn a role hierarchy, certain roles inherently include the permissions of other, typically lower-level, roles. For instance, a manager might naturally have all the permissions of a staff member, plus additional ones. Translating this into a Spring Security context, if a user has a `DELETE` role, it&#39;s logical to assume they should also have `VIEW`` permissions.\r\n\r\n### Real-World Use Cases\r\n\r\n1. **Management Hierarchy in a Company:**\r\n   - Senior Manager (`DELETE` &amp; `VIEW` role): Can make significant changes, like deleting records. \r\n   - Junior Manager (`VIEW` role): Can view records but not delete them.\r\n\r\nIn this hierarchy, it&#39;s understood that a Senior Manager should be able to perform all tasks a Junior Manager can, including viewing records.\r\n\r\n\r\n2. **Healthcare System:**\r\n   -  Doctor (`DELETE` &amp; `VIEW` role): Can edit or delete patient records.\r\n   - Nurse (`VIEW` role): Can view patient records for care purposes.\r\n\r\nA Doctor, with higher access privileges, should inherently have the viewing capabilities of a Nurse.\r\n\r\n### Conclusion\r\n\r\nBy implementing a role hierarchy, you eliminate the need for complex security configurations and reduce the chances of encountering permission-related issues. This approach makes your security model more intuitive, easier to manage, and more closely aligned with typical organizational structures and expectations.","title":"Should I move the Spring Security @PreAuthorize annotations to a new SecuredService class?","body":"<h1>Role Hierarchy</h1>\n<p>In addressing your issue with role-based access control in Spring Security, it's beneficial to consider implementing a role hierarchy. This approach aligns with real-world scenarios and simplifies permission management.</p>\n<h3>Role Hierarchy Explained</h3>\n<p>In a role hierarchy, certain roles inherently include the permissions of other, typically lower-level, roles. For instance, a manager might naturally have all the permissions of a staff member, plus additional ones. Translating this into a Spring Security context, if a user has a <code>DELETE</code> role, it's logical to assume they should also have `VIEW`` permissions.</p>\n<h3>Real-World Use Cases</h3>\n<ol>\n<li><strong>Management Hierarchy in a Company:</strong>\n<ul>\n<li>Senior Manager (<code>DELETE</code> &amp; <code>VIEW</code> role): Can make significant changes, like deleting records.</li>\n<li>Junior Manager (<code>VIEW</code> role): Can view records but not delete them.</li>\n</ul>\n</li>\n</ol>\n<p>In this hierarchy, it's understood that a Senior Manager should be able to perform all tasks a Junior Manager can, including viewing records.</p>\n<ol start=\"2\">\n<li><strong>Healthcare System:</strong>\n<ul>\n<li>Doctor (<code>DELETE</code> &amp; <code>VIEW</code> role): Can edit or delete patient records.</li>\n<li>Nurse (<code>VIEW</code> role): Can view patient records for care purposes.</li>\n</ul>\n</li>\n</ol>\n<p>A Doctor, with higher access privileges, should inherently have the viewing capabilities of a Nurse.</p>\n<h3>Conclusion</h3>\n<p>By implementing a role hierarchy, you eliminate the need for complex security configurations and reduce the chances of encountering permission-related issues. This approach makes your security model more intuitive, easier to manage, and more closely aligned with typical organizational structures and expectations.</p>\n"}],"owner":{"account_id":19522753,"reputation":645,"user_id":14284230,"display_name":"AvaTaylor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701720577,"answer_count":2,"score":-2,"last_activity_date":1701718475,"creation_date":1701709640,"question_id":77601288,"body_markdown":"I have a Spring Boot / Spring MVC app with Spring Security.\r\n\r\nI have an EntityService with methods:\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;VIEW&#39;)&quot;)\r\n    public Entity getEntity(id)\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;DELETE&#39;)&quot;)\r\n    public boolean deleteEntity(id)\r\n\r\nThe problem is, deleteEntity will do a getEntity to check properties to determine if delete is allowed.\r\n\r\nIf the logged in user has &#39;DELETE&#39; but does not have &#39;VIEW&#39;, then when deleteEntity calls getEntity, there is an AccessException.\r\n\r\nTo solve this, I could move the @PreAuthorize annotation to the Controller layer, but that&#39;s tricky because there are a few different Controllers that call these methods, so there&#39;d be lots of places to get right.\r\n\r\nAnother idea, I could create a new SecuredEntityService which is just a pass through to the EntityService, and the @PreAuthorize annotations are on the SecuredEntityService methods.  And the EntityService can call any of its own methods internall.\r\n\r\nDoes adding a SecuredEntityService layer like this make sense?","title":"Should I move the Spring Security @PreAuthorize annotations to a new SecuredService class?","body":"<p>I have a Spring Boot / Spring MVC app with Spring Security.</p>\n<p>I have an EntityService with methods:</p>\n<pre><code>@PreAuthorize(&quot;hasRole('VIEW')&quot;)\npublic Entity getEntity(id)\n\n@PreAuthorize(&quot;hasRole('DELETE')&quot;)\npublic boolean deleteEntity(id)\n</code></pre>\n<p>The problem is, deleteEntity will do a getEntity to check properties to determine if delete is allowed.</p>\n<p>If the logged in user has 'DELETE' but does not have 'VIEW', then when deleteEntity calls getEntity, there is an AccessException.</p>\n<p>To solve this, I could move the @PreAuthorize annotation to the Controller layer, but that's tricky because there are a few different Controllers that call these methods, so there'd be lots of places to get right.</p>\n<p>Another idea, I could create a new SecuredEntityService which is just a pass through to the EntityService, and the @PreAuthorize annotations are on the SecuredEntityService methods.  And the EntityService can call any of its own methods internall.</p>\n<p>Does adding a SecuredEntityService layer like this make sense?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1701717732,"post_id":77601947,"comment_id":136808160,"body_markdown":"It is unclear what you are trying to do. Can you explain more? What does _&quot;contains every fourth number in it&quot;_ mean?","body":"It is unclear what you are trying to do. Can you explain more? What does <i>&quot;contains every fourth number in it&quot;</i> mean?"},{"owner":{"account_id":29490515,"reputation":1,"user_id":22599601,"display_name":"Exotic"},"score":0,"creation_date":1701804439,"post_id":77601947,"comment_id":136820090,"body_markdown":"basically i want to make the button white if the array with 50 random numbers in it contains some specific ones(in my example it should turn white if the following numbers are in the array: 1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49. I also want to do it with for other buttons but then for each button having other numbers that make the turn white.","body":"basically i want to make the button white if the array with 50 random numbers in it contains some specific ones(in my example it should turn white if the following numbers are in the array: 1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49. I also want to do it with for other buttons but then for each button having other numbers that make the turn white."}],"answers":[{"tags":[],"owner":{"account_id":8894613,"reputation":9,"user_id":6640104,"display_name":"Ivan Ivanov"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701717788,"creation_date":1701717788,"answer_id":77602061,"question_id":77601947,"body_markdown":"    Integer[] template = new Integer[] {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49};\r\n    //pseudo initilzation your massive with random numers\r\n    Integer[] arr1 = new Integer[] {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49};\r\n    \t\t \r\n    if(Arrays.asList(arr1).containsAll(Arrays.asList(template))) {\r\n       System.out.println(&quot;equals!&quot;);    \r\n    }","title":"Hello, i am looking for a solution to check for values in an array","body":"<pre><code>Integer[] template = new Integer[] {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49};\n//pseudo initilzation your massive with random numers\nInteger[] arr1 = new Integer[] {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49};\n         \nif(Arrays.asList(arr1).containsAll(Arrays.asList(template))) {\n   System.out.println(&quot;equals!&quot;);    \n}\n</code></pre>\n"}],"owner":{"account_id":29490515,"reputation":1,"user_id":22599601,"display_name":"Exotic"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"closed_date":1701726616,"answer_count":1,"score":-7,"last_activity_date":1701717788,"creation_date":1701716301,"question_id":77601947,"body_markdown":"I am looking to make a jButton white if the array(zufallsliste)(with 50 random numbers in it) contains every fourth number in it.\r\nCode:\r\n\r\n```\r\nint[] zufallsliste = new int[50];\r\n\r\nif (Array.equals(zufallsliste[] = {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49})) {\r\n    jBu_Feld1.setBackground(Color.WHITE);\r\n}\r\n```\r\n\r\nI tried it without Array.equals and with or between the numbers instead of comma, but doesn&#39;t work","title":"Hello, i am looking for a solution to check for values in an array","body":"<p>I am looking to make a jButton white if the array(zufallsliste)(with 50 random numbers in it) contains every fourth number in it.\nCode:</p>\n<pre><code>int[] zufallsliste = new int[50];\n\nif (Array.equals(zufallsliste[] = {1,5,9, 13, 17,  21, 25, 29, 33, 37, 41, 45, 49})) {\n    jBu_Feld1.setBackground(Color.WHITE);\n}\n</code></pre>\n<p>I tried it without Array.equals and with or between the numbers instead of comma, but doesn't work</p>\n"},{"tags":["java","spring-mvc","spring-security","azure-active-directory","saml-2.0"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717699,"creation_date":1696504457,"question_id":77236583,"body_markdown":"I have created a Java application but I need to secure it using Azure AD SAML using Spring Boot I have done it but when I am trying to convert it for without Spring Boot it is not working.\r\n\r\nHere is my SamlAppConfig file where I do configuration:    \r\n\r\n    @Configuration\r\n    public class SamlSecurityConfiguration extends SamlServiceProviderServerBeanConfiguration {\r\n\r\n\t@Override\r\n\tprotected SamlServerConfiguration getDefaultHostSamlServerConfiguration() {\r\n\t\tfinal SamlServerConfiguration samlAppConfig = new SamlServerConfiguration();\r\n        final LocalServiceProviderConfiguration serviceProvider = getLocalServiceProviderConfiguration();\r\n        samlAppConfig.setServiceProvider(serviceProvider);\r\n        return samlAppConfig;\r\n\t}\r\n\t\r\n\r\n\tprivate LocalServiceProviderConfiguration getLocalServiceProviderConfiguration() {\r\n\t\tfinal LocalServiceProviderConfiguration serviceProvider = new LocalServiceProviderConfiguration();\r\n\r\n\t\tserviceProvider.setSignRequests(false);\r\n\t\tserviceProvider.setWantAssertionsSigned(false);\r\n\t\tserviceProvider.setEntityId(&quot;https://localhost:8443&quot;);\r\n\t\tserviceProvider.setSignMetadata(false);\r\n\t\tserviceProvider.setKeys(rotatingKeys());\r\n\t\tserviceProvider.setBasePath(&quot;/&quot;);\r\n\t\tList&lt;Object&gt; namedIds = new ArrayList&lt;&gt;();\r\n\t\tnamedIds.add(&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;);\r\n\t\tnamedIds.add(&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;);\r\n\t\tnamedIds.add(&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;);\r\n\t\tserviceProvider.setNameIds(namedIds);\r\n\t\tList&lt;ExternalIdentityProviderConfiguration&gt; providers = new ArrayList&lt;&gt;();\r\n\t\tproviders.add(externalProvider());\r\n\t\tserviceProvider.setProviders(providers);\r\n\t\treturn serviceProvider;\r\n\t}\r\n\r\n\tprivate ExternalIdentityProviderConfiguration externalProvider() {\r\n\t\tfinal ExternalIdentityProviderConfiguration externalIdentityProviderConfiguration = new ExternalIdentityProviderConfiguration();\r\n\t\texternalIdentityProviderConfiguration.setMetadata(&quot;https://dev-673817.okta.com/app/exkqkkg0kUVEvNyg14x6/sso/saml/metadata&quot;);\r\n\t\ttry{\r\n\t\t\texternalIdentityProviderConfiguration.setAuthenticationRequestBinding(new java.net.URI(&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot;));\r\n\t\t}catch(URISyntaxException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\texternalIdentityProviderConfiguration.setSkipSslValidation(true);\r\n\r\n\t\treturn externalIdentityProviderConfiguration;\r\n\t}\r\n\r\n\tprivate RotatingKeys rotatingKeys() {\r\n\t\tX509Certificate myCertificate = CertUtil.getCertificateByName(&quot;spring&quot;, &quot;keystore.jks&quot;, &quot;secret&quot;);\r\n\t\tfinal RotatingKeys rotatingKeys = new RotatingKeys();\r\n\t\tSimpleKey activeKey = new SimpleKey();\r\n\t\tactiveKey.setName(&quot;spring&quot;);\r\n\t\ttry {\r\n\t\t\tactiveKey.setCertificate(getCertificateForKey(myCertificate));\r\n\t\t} catch (CertificateEncodingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\trotatingKeys.setActive(activeKey);\r\n\t\treturn rotatingKeys;\r\n\t}\r\n\r\n\tprivate String getCertificateForKey(X509Certificate myCertificate) throws CertificateEncodingException {\r\n\t\treturn getEncoder().encodeToString(myCertificate.getEncoded());\r\n\t}\r\n    }\r\n\r\nAnd this is my WebSecurityConfigurerAdapter configuration:\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @Order(2)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tprotected void configure(final HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t\t.antMatcher(&quot;/**&quot;)\r\n    \t\t\t\t.authorizeRequests()\r\n    \t\t\t\t.antMatchers(GET, &quot;/home&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(GET, &quot;/api/samlLink&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/**&quot;).authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.formLogin().loginPage(&quot;/home&quot;)\r\n    \t\t;\r\n    \r\n    \t\thttp.csrf().disable();\r\n    \t\thttp.headers().cacheControl().disable();\r\n    \t}\r\n    }\r\n\r\nAnd to read creti:\r\n\r\n    public class CertUtil {\r\n    \r\n    \tpublic static X509Certificate getCertificateByName(String certificateAlias, String trustStoreName, String password) {\r\n    \t\ttry {\r\n    \t\t\tKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    \t\t\tloadKeyStore(keyStore, trustStoreName, password);\r\n    \t\t\tCertificate cert = keyStore.getCertificate(certificateAlias);\r\n    \t\t\tif (cert.getType().equals(&quot;X.509&quot;)) {\r\n    \t\t\t\treturn (X509Certificate) cert;\r\n    \t\t\t}\r\n    \t\t\tthrow new Error(&quot;Could not find a suitable x509 certificate for alias &quot; + certificateAlias + &quot; in &quot; + trustStoreName);\r\n    \t\t} catch (KeyStoreException | IOException | NoSuchAlgorithmException | CertificateException e) {\r\n    \t\t\tthrow new Error(&quot;Error opening keystore: &quot; + e.getCause(), e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void loadKeyStore(KeyStore keyStore, String jksPath, String jksPassword) throws IOException, NoSuchAlgorithmException,\r\n    \t\t\tCertificateException {\r\n    \t\tchar[] password = null;\r\n    \t\tif (jksPassword != null) {\r\n    \t\t\tpassword = jksPassword.toCharArray();\r\n    \t\t}\r\n    \t\tkeyStore.load(ClassLoader.getSystemResourceAsStream(jksPath), password);\r\n    \t}\r\n    }\r\n\r\nThis is my filter class where I check for the authentication:\r\n\r\n    public class SamlAuthenticationFilter implements Filter {\r\n\r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\tHttpServletRequest req = (HttpServletRequest) request;\r\n    \t\tHttpServletResponse res = (HttpServletResponse) response;\r\n    \t\t\r\n    \t\tAuthentication authentication = (Authentication) req.getUserPrincipal();\r\n    \t\tSamlAuthentication samlAuthentication = (SamlAuthentication) authentication;\r\n    \t\tif (samlAuthentication.isAuthenticated()) {\r\n    \t\t\tchain.doFilter(request, response);\r\n    \t\t\treturn;\r\n    \t\t} else {\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t \r\n    \t}\r\n\r\n    }\r\n\r\nBut I am create jar and include it in my java application but it&#39;s not working and I am using this dependencies:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.extensions&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-saml2-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0.M31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nHow can I correct the security so I can secure my application using Java filter and not Spring Boot?\r\n","title":"Secure Java we application using Azure AD SAML but do not want to use Spring Boot","body":"<p>I have created a Java application but I need to secure it using Azure AD SAML using Spring Boot I have done it but when I am trying to convert it for without Spring Boot it is not working.</p>\n<p>Here is my SamlAppConfig file where I do configuration:</p>\n<pre><code>@Configuration\npublic class SamlSecurityConfiguration extends SamlServiceProviderServerBeanConfiguration {\n\n@Override\nprotected SamlServerConfiguration getDefaultHostSamlServerConfiguration() {\n    final SamlServerConfiguration samlAppConfig = new SamlServerConfiguration();\n    final LocalServiceProviderConfiguration serviceProvider = getLocalServiceProviderConfiguration();\n    samlAppConfig.setServiceProvider(serviceProvider);\n    return samlAppConfig;\n}\n\n\nprivate LocalServiceProviderConfiguration getLocalServiceProviderConfiguration() {\n    final LocalServiceProviderConfiguration serviceProvider = new LocalServiceProviderConfiguration();\n\n    serviceProvider.setSignRequests(false);\n    serviceProvider.setWantAssertionsSigned(false);\n    serviceProvider.setEntityId(&quot;https://localhost:8443&quot;);\n    serviceProvider.setSignMetadata(false);\n    serviceProvider.setKeys(rotatingKeys());\n    serviceProvider.setBasePath(&quot;/&quot;);\n    List&lt;Object&gt; namedIds = new ArrayList&lt;&gt;();\n    namedIds.add(&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&quot;);\n    namedIds.add(&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;);\n    namedIds.add(&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;);\n    serviceProvider.setNameIds(namedIds);\n    List&lt;ExternalIdentityProviderConfiguration&gt; providers = new ArrayList&lt;&gt;();\n    providers.add(externalProvider());\n    serviceProvider.setProviders(providers);\n    return serviceProvider;\n}\n\nprivate ExternalIdentityProviderConfiguration externalProvider() {\n    final ExternalIdentityProviderConfiguration externalIdentityProviderConfiguration = new ExternalIdentityProviderConfiguration();\n    externalIdentityProviderConfiguration.setMetadata(&quot;https://dev-673817.okta.com/app/exkqkkg0kUVEvNyg14x6/sso/saml/metadata&quot;);\n    try{\n        externalIdentityProviderConfiguration.setAuthenticationRequestBinding(new java.net.URI(&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot;));\n    }catch(URISyntaxException e){\n        e.printStackTrace();\n    }\n    externalIdentityProviderConfiguration.setSkipSslValidation(true);\n\n    return externalIdentityProviderConfiguration;\n}\n\nprivate RotatingKeys rotatingKeys() {\n    X509Certificate myCertificate = CertUtil.getCertificateByName(&quot;spring&quot;, &quot;keystore.jks&quot;, &quot;secret&quot;);\n    final RotatingKeys rotatingKeys = new RotatingKeys();\n    SimpleKey activeKey = new SimpleKey();\n    activeKey.setName(&quot;spring&quot;);\n    try {\n        activeKey.setCertificate(getCertificateForKey(myCertificate));\n    } catch (CertificateEncodingException e) {\n        e.printStackTrace();\n    }\n    rotatingKeys.setActive(activeKey);\n    return rotatingKeys;\n}\n\nprivate String getCertificateForKey(X509Certificate myCertificate) throws CertificateEncodingException {\n    return getEncoder().encodeToString(myCertificate.getEncoded());\n}\n}\n</code></pre>\n<p>And this is my WebSecurityConfigurerAdapter configuration:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@Order(2)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        http\n                .antMatcher(&quot;/**&quot;)\n                .authorizeRequests()\n                .antMatchers(GET, &quot;/home&quot;).permitAll()\n                .antMatchers(GET, &quot;/api/samlLink&quot;).permitAll()\n                .antMatchers(&quot;/**&quot;).authenticated()\n                .and()\n                .formLogin().loginPage(&quot;/home&quot;)\n        ;\n\n        http.csrf().disable();\n        http.headers().cacheControl().disable();\n    }\n}\n</code></pre>\n<p>And to read creti:</p>\n<pre><code>public class CertUtil {\n\n    public static X509Certificate getCertificateByName(String certificateAlias, String trustStoreName, String password) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n            loadKeyStore(keyStore, trustStoreName, password);\n            Certificate cert = keyStore.getCertificate(certificateAlias);\n            if (cert.getType().equals(&quot;X.509&quot;)) {\n                return (X509Certificate) cert;\n            }\n            throw new Error(&quot;Could not find a suitable x509 certificate for alias &quot; + certificateAlias + &quot; in &quot; + trustStoreName);\n        } catch (KeyStoreException | IOException | NoSuchAlgorithmException | CertificateException e) {\n            throw new Error(&quot;Error opening keystore: &quot; + e.getCause(), e);\n        }\n    }\n\n    private static void loadKeyStore(KeyStore keyStore, String jksPath, String jksPassword) throws IOException, NoSuchAlgorithmException,\n            CertificateException {\n        char[] password = null;\n        if (jksPassword != null) {\n            password = jksPassword.toCharArray();\n        }\n        keyStore.load(ClassLoader.getSystemResourceAsStream(jksPath), password);\n    }\n}\n</code></pre>\n<p>This is my filter class where I check for the authentication:</p>\n<pre><code>public class SamlAuthenticationFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse res = (HttpServletResponse) response;\n        \n        Authentication authentication = (Authentication) req.getUserPrincipal();\n        SamlAuthentication samlAuthentication = (SamlAuthentication) authentication;\n        if (samlAuthentication.isAuthenticated()) {\n            chain.doFilter(request, response);\n            return;\n        } else {\n            \n        }\n         \n    }\n\n}\n</code></pre>\n<p>But I am create jar and include it in my java application but it's not working and I am using this dependencies:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.extensions&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-saml2-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.M31&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>How can I correct the security so I can secure my application using Java filter and not Spring Boot?</p>\n"},{"tags":["java","animation","selection-sort"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701719161,"post_id":77602043,"comment_id":136808374,"body_markdown":"If you want to animate the results, you have a lot of work ahead of you, for [example](https://stackoverflow.com/questions/15756210/java-multiple-graphics/15756352#15756352) and [example](https://stackoverflow.com/questions/73029551/separating-swingworker-functions-into-different-classes-java/73030934#73030934)","body":"If you want to animate the results, you have a lot of work ahead of you, for <a href=\"https://stackoverflow.com/questions/15756210/java-multiple-graphics/15756352#15756352\">example</a> and <a href=\"https://stackoverflow.com/questions/73029551/separating-swingworker-functions-into-different-classes-java/73030934#73030934\">example</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701719380,"post_id":77602043,"comment_id":136808410,"body_markdown":"`pixelBrightness` and `selectionSort` are missing from your example - this is going to make it hard for people to help you figure out the possible cause of your problem, consider providing a [mcve]","body":"<code>pixelBrightness</code> and <code>selectionSort</code> are missing from your example - this is going to make it hard for people to help you figure out the possible cause of your problem, consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":29198924,"reputation":1,"user_id":22369464,"display_name":"parinaz jafarypour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717620,"creation_date":1701717620,"question_id":77602043,"body_markdown":"Hi in this code in java I want to sort the pixels of the image through their brightness in java by using inversed selection sort however there is no update in the result image. how can i make it work?\r\n```\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Sort {\r\n    private BufferedImage image;\r\n    private int rgb;\r\n    int iterationCount ;\r\n    public Sort(BufferedImage image){\r\n        this.image = image;\r\n        this.iterationCount = 0;\r\n    }\r\n    public void ChainListWithBrightness(BufferedImage image) {\r\n        double[][] points = new double[image.getWidth()][image.getHeight()];\r\n        for (int i = 0; i &lt; image.getWidth(); i++) {\r\n            for (int j = 0; j &lt; image.getHeight(); j++) {\r\n                rgb = image.getRGB(i, j);\r\n                points[i][j] = pixelBrightness(rgb);\r\n            }\r\n        }\r\n        diagonalListingOfPoints(points);\r\n    }\r\n\r\n    private void diagonalListingOfPoints(double[][] points) {\r\n        ArrayList&lt;Double&gt; diagonalBrightnessValues = new ArrayList&lt;&gt;();\r\n        for (int m = 0; m &lt; image.getWidth() + image.getHeight() - 1; m++) {\r\n            int i = Math.min(0, image.getWidth() - 1);\r\n            int j = Math.max(0, m - image.getWidth() + 1);\r\n            while (i &gt;= 0 &amp;&amp; j &lt; image.getHeight()) {\r\n                diagonalBrightnessValues.add(points[i][j]);\r\n                i--;\r\n                j++;\r\n            }\r\n        }\r\n        selectionSort(diagonalBrightnessValues);\r\n\r\n        // Apply sorted brightness values back to the image\r\n        int index = 0;\r\n        for (int m = 0; m &lt; image.getWidth() + image.getHeight() - 1; m++) {\r\n            int i = Math.min(0, image.getWidth() - 1);\r\n            int j = Math.max(0, m - image.getWidth() + 1);\r\n            while (i &gt;= 0 &amp;&amp; j &lt; image.getHeight()) {\r\n                points[i][j] = diagonalBrightnessValues.get(index);\r\n                index++;\r\n                i--;\r\n                j++;\r\n            }\r\n            //iterationCount++;\r\n        }\r\n        for (int i = 0; i &lt; image.getWidth(); i++) {\r\n            for (int j = 0; j &lt; image.getHeight(); j++) {\r\n                Color oldColor = new Color(image.getRGB(i, j));\r\n                int red = (int) points[i][j];\r\n                int green = (int) points[i][j];\r\n                int blue = (int) points[i][j];\r\n                Color newColor = new Color(red, green, blue);\r\n                image.setRGB(i, j, newColor.getRGB());\r\n            }\r\n        }\r\n        iterationCount++;\r\n    }\r\n\r\npublic static void main(String[] args) throws IOException {\r\n    BufferedImage img = ImageIO.read(new File(&quot;C:\\\\Users\\\\jafar\\\\Documents\\\\semester3\\\\cs102-1\\\\Lab\\\\lab6\\\\skyy.jpg&quot;));\r\n    Sort sort = new Sort(img);\r\n    sort.ChainListWithBrightness(img);\r\n    System.out.println(&quot;Sorting completed with &quot; + sort.iterationCount + &quot; iterations.&quot;);\r\n\r\n    // Display the sorted image\r\n    showImage(sort.image);\r\n}\r\n\r\n    private static void showImage(BufferedImage image) {\r\n        JFrame frame = new JFrame(&quot;Sorted Image&quot;);\r\n        ImageIcon icon = new ImageIcon(image);\r\n        JLabel label = new JLabel(icon);\r\n        frame.add(label);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI was expecting an image which is sorted through its pixel brightness but the result is displaying the original image again to me","title":"animated selection sort on brightness of pixels of an image","body":"<p>Hi in this code in java I want to sort the pixels of the image through their brightness in java by using inversed selection sort however there is no update in the result image. how can i make it work?</p>\n<pre><code>import javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\npublic class Sort {\n    private BufferedImage image;\n    private int rgb;\n    int iterationCount ;\n    public Sort(BufferedImage image){\n        this.image = image;\n        this.iterationCount = 0;\n    }\n    public void ChainListWithBrightness(BufferedImage image) {\n        double[][] points = new double[image.getWidth()][image.getHeight()];\n        for (int i = 0; i &lt; image.getWidth(); i++) {\n            for (int j = 0; j &lt; image.getHeight(); j++) {\n                rgb = image.getRGB(i, j);\n                points[i][j] = pixelBrightness(rgb);\n            }\n        }\n        diagonalListingOfPoints(points);\n    }\n\n    private void diagonalListingOfPoints(double[][] points) {\n        ArrayList&lt;Double&gt; diagonalBrightnessValues = new ArrayList&lt;&gt;();\n        for (int m = 0; m &lt; image.getWidth() + image.getHeight() - 1; m++) {\n            int i = Math.min(0, image.getWidth() - 1);\n            int j = Math.max(0, m - image.getWidth() + 1);\n            while (i &gt;= 0 &amp;&amp; j &lt; image.getHeight()) {\n                diagonalBrightnessValues.add(points[i][j]);\n                i--;\n                j++;\n            }\n        }\n        selectionSort(diagonalBrightnessValues);\n\n        // Apply sorted brightness values back to the image\n        int index = 0;\n        for (int m = 0; m &lt; image.getWidth() + image.getHeight() - 1; m++) {\n            int i = Math.min(0, image.getWidth() - 1);\n            int j = Math.max(0, m - image.getWidth() + 1);\n            while (i &gt;= 0 &amp;&amp; j &lt; image.getHeight()) {\n                points[i][j] = diagonalBrightnessValues.get(index);\n                index++;\n                i--;\n                j++;\n            }\n            //iterationCount++;\n        }\n        for (int i = 0; i &lt; image.getWidth(); i++) {\n            for (int j = 0; j &lt; image.getHeight(); j++) {\n                Color oldColor = new Color(image.getRGB(i, j));\n                int red = (int) points[i][j];\n                int green = (int) points[i][j];\n                int blue = (int) points[i][j];\n                Color newColor = new Color(red, green, blue);\n                image.setRGB(i, j, newColor.getRGB());\n            }\n        }\n        iterationCount++;\n    }\n\npublic static void main(String[] args) throws IOException {\n    BufferedImage img = ImageIO.read(new File(&quot;C:\\\\Users\\\\jafar\\\\Documents\\\\semester3\\\\cs102-1\\\\Lab\\\\lab6\\\\skyy.jpg&quot;));\n    Sort sort = new Sort(img);\n    sort.ChainListWithBrightness(img);\n    System.out.println(&quot;Sorting completed with &quot; + sort.iterationCount + &quot; iterations.&quot;);\n\n    // Display the sorted image\n    showImage(sort.image);\n}\n\n    private static void showImage(BufferedImage image) {\n        JFrame frame = new JFrame(&quot;Sorted Image&quot;);\n        ImageIcon icon = new ImageIcon(image);\n        JLabel label = new JLabel(icon);\n        frame.add(label);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n<p>I was expecting an image which is sorted through its pixel brightness but the result is displaying the original image again to me</p>\n"},{"tags":["java","keycloak","saml","saml-2.0","opensaml"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717602,"creation_date":1698139081,"question_id":77350852,"body_markdown":"I am trying to secure my Java web application using Keycloak SAML authentication but somehow when I am trying to generate the AuthnRequest it is not passing `&lt;ds:DigestValue&gt;` and `&lt;ds:SignatureValue&gt;` and may be because of the keycloak is giving below error:\r\n\r\n    2023-10-24 09:08:03,777 ERROR [org.keycloak.protocol.saml.SamlService] (executor-thread-21) request validation failed: org.keycloak.common.VerificationException: SigAlg was null\r\n\r\nTo generate AuthnRequest my code is as below:\r\n\r\n     public AuthnRequest buildRequest(String spProviderId, String acsUrl, String idpUrl) {\r\n    \t\t\t\r\n    \t\t\tIssuerBuilder issuerBuilder = new IssuerBuilder();\r\n    \t\t\tIssuer issuer = issuerBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;, &quot;Issuer&quot;, &quot;saml2&quot;);\r\n    \t\t\tissuer.setValue(spProviderId);\r\n    \r\n    \t\t\t/* Creation of AuthRequestObject */\r\n    \t\t\tDateTime issueInstant = new DateTime();\r\n    \t\t\tAuthnRequestBuilder authRequestBuilder = new AuthnRequestBuilder();\r\n    \r\n    \t\t\tAuthnRequest authRequest = authRequestBuilder.buildObject(SAMLConstants.SAML20P_NS, &quot;AuthnRequest&quot;, &quot;saml2&quot;);\r\n    \t\t\tauthRequest.setForceAuthn(false);\r\n    \t\t\tauthRequest.setIssueInstant(issueInstant);\r\n    \t\t\tauthRequest.setProtocolBinding(SAMLConstants.SAML2_POST_BINDING_URI);\r\n    \t\t\tauthRequest.setAssertionConsumerServiceURL(acsUrl);\r\n    \t\t\tauthRequest.setIssuer(issuer);\r\n    \t\t\tauthRequest.setID(generateID());\r\n    \t\t\tauthRequest.setVersion(SAMLVersion.VERSION_20);\r\n    \t\t\tauthRequest.setDestination(idpUrl);\r\n    \t\t\tauthRequest.setNameIDPolicy(buildNameIdPolicy());\r\n    \t\t\t\r\n    \t\t\tXMLObjectBuilder&lt;Signature&gt; signFactory = Configuration.getBuilderFactory().getBuilder(Signature.DEFAULT_ELEMENT_NAME);\r\n    \t\t    Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\r\n    \t\t    Credential cred = null;\r\n    \t\t            try {\r\n    \t\t            \tcred = this.getSenderSigningCredential();\r\n    \t\t            \t//signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA256);\r\n    \t\t            \t//  signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\r\n    \t\t            \t  \r\n    \t\t\t\t\t\tsignature.setSigningCredential(cred);\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t            \r\n    \t\t            // Perform signing\r\n    \t\t            try {\r\n    \t\t            \t  SecurityHelper.prepareSignatureParams(signature, cred, null, null);\r\n    \t\t            \t  SecurityConfiguration secConfiguration = Configuration.getGlobalSecurityConfiguration(); \r\n    \t\t                  NamedKeyInfoGeneratorManager namedKeyInfoGeneratorManager = secConfiguration.getKeyInfoGeneratorManager(); \r\n    \t\t                  KeyInfoGeneratorManager keyInfoGeneratorManager = namedKeyInfoGeneratorManager.getDefaultManager();\r\n    \t\t                  KeyInfoGeneratorFactory keyInfoGeneratorFactory = keyInfoGeneratorManager.getFactory(cred);\r\n    \t\t                  KeyInfoGenerator keyInfoGenerator = keyInfoGeneratorFactory.newInstance();\r\n    \t\t                  KeyInfo keyInfo = null;\r\n    \t\t                  try {\r\n    \t\t                      keyInfo = keyInfoGenerator.generate(cred);\r\n    \t\t                  } catch  (Exception e) {\r\n    \t\t                      e.printStackTrace();\r\n    \t\t                  } \r\n    \t\t                  signature.setKeyInfo(keyInfo);\r\n    \t\t                  authRequest.setSignature(signature);\r\n    \t\t            \t  \r\n    \t\t            \t  \r\n    \t\t            \t  \r\n    \t\t            \t  Marshaller marshaller = Configuration.getMarshallerFactory().getMarshaller(authRequest);\r\n    \t\t            \t  marshaller.marshall(authRequest);\r\n    \t\t              \r\n    \t\t            \t  \r\n    \t\t\t\t\t\tSigner.signObject(signature);\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\treturn authRequest;\r\n    \t\t}\r\n\r\nBut when I am printing it XML it is showing as below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;saml2p:AuthnRequest \r\n    xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; AssertionConsumerServiceURL=&quot;http://localhost:9222/saml/*&quot; Destination=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot; ForceAuthn=&quot;false&quot; ID=&quot;_4479bf8ac628da22c598a8427556a2ef5be431e5&quot; IssueInstant=&quot;2023-10-23T16:26:45.682Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Version=&quot;2.0&quot;&gt;&lt;saml2p:Issuer xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;Sample&lt;/saml2p:Issuer&gt;&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:Reference URI=&quot;#_4479bf8ac628da22c598a8427556a2ef5be431e5&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:Transforms xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;/ds:Transforms&gt;\r\n    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:DigestValue xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;/ds:Reference&gt;\r\n    &lt;/ds:SignedInfo&gt;\r\n    &lt;ds:SignatureValue xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\r\n    &lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmzCCAYMCBgGK23vMZzANBgkqhkiG9w0BAQsFADARMQ8wDQYDVQQDDAZTYW1wbGUwHhcNMjMw\r\n    OTI4MTEwODU4WhcNMzMwOTI4MTExMDM4WjARMQ8wDQYDVQQDDAZTYW1wbGUwggEiMA0GCSqGSIb3\r\n    DQEBAQUAA4IBDwAwggEKAoIBAQCrxYgVkHoGaC1PAvffPNJYIVbZqfaoRInDI74CqRHoLCm\r\n    aaTfhzwfXrrOU/ys72Ult4Ff3wC8iQjONtNJTv0XTHw1vpnuOXzqMZ62N7IAE+N2J0UpK8+3yE1q\r\n    Xlss07qiHl6Bege+epk+Ae/iqiqyg1vre/8JUe61cbpWSlsQFb+O0/wrl9o576ak3BPo3zWgy\r\n    W/APTfI0jkNoJpflrMK2ahk51lIzjxwLyYAnsOKw5VGnAYxDL3nDXcuY3aERB9rZec7YVA/hzWcg\r\n    OUeWEhnmd3xCmw2kZ1MHcIs8dpFHJdhH6TgZljHhC7B/KhC1yRwMWCyFAgMBAAEwDQYJ\r\n    KoZIhvcNAQELBQADggEBAKsqbTj9F0tUyKNDAUPwXh8dFfR0ztKNjUXxMHzf5ufU\r\n    Cj7cDK3p3PSN/a4KlIj18A86BZ4ABU8oUJja0XG2Jt5MgoaifktC+ymYN73q6kLx4IklG5y3U5RS\r\n    3W7jKXd9lf/kE+n4tUjzETfISpUdx/80asWU5WLlcoYUk0jK8u3u10kYMkGVcpxchy32KUxEQ6i8\r\n    6ODZZ0qlKCwAuELPdDrK+SwVvJL3gBbCoxcNNJWKWj5VAGwdqzorrE2uHuhzSmDYMQYRkCGedexV\r\n    Rrkp8byYxR3cpnh4OZr32E9XcvhLyQUJqsMuYHouRa99wYIW3Dr/CUW0K10=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;saml2p:NameIDPolicy AllowCreate=&quot;true&quot; Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&quot; xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;/&gt;&lt;/saml2p:AuthnRequest&gt;\r\n\r\nHow can I set those two values, or why keycloak is giving that error?\r\n","title":"How to generate &lt;ds:DigestValue&gt; and &lt;ds:SignatureValue&gt; using java SAML2.0","body":"<p>I am trying to secure my Java web application using Keycloak SAML authentication but somehow when I am trying to generate the AuthnRequest it is not passing <code>&lt;ds:DigestValue&gt;</code> and <code>&lt;ds:SignatureValue&gt;</code> and may be because of the keycloak is giving below error:</p>\n<pre><code>2023-10-24 09:08:03,777 ERROR [org.keycloak.protocol.saml.SamlService] (executor-thread-21) request validation failed: org.keycloak.common.VerificationException: SigAlg was null\n</code></pre>\n<p>To generate AuthnRequest my code is as below:</p>\n<pre><code> public AuthnRequest buildRequest(String spProviderId, String acsUrl, String idpUrl) {\n            \n            IssuerBuilder issuerBuilder = new IssuerBuilder();\n            Issuer issuer = issuerBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;, &quot;Issuer&quot;, &quot;saml2&quot;);\n            issuer.setValue(spProviderId);\n\n            /* Creation of AuthRequestObject */\n            DateTime issueInstant = new DateTime();\n            AuthnRequestBuilder authRequestBuilder = new AuthnRequestBuilder();\n\n            AuthnRequest authRequest = authRequestBuilder.buildObject(SAMLConstants.SAML20P_NS, &quot;AuthnRequest&quot;, &quot;saml2&quot;);\n            authRequest.setForceAuthn(false);\n            authRequest.setIssueInstant(issueInstant);\n            authRequest.setProtocolBinding(SAMLConstants.SAML2_POST_BINDING_URI);\n            authRequest.setAssertionConsumerServiceURL(acsUrl);\n            authRequest.setIssuer(issuer);\n            authRequest.setID(generateID());\n            authRequest.setVersion(SAMLVersion.VERSION_20);\n            authRequest.setDestination(idpUrl);\n            authRequest.setNameIDPolicy(buildNameIdPolicy());\n            \n            XMLObjectBuilder&lt;Signature&gt; signFactory = Configuration.getBuilderFactory().getBuilder(Signature.DEFAULT_ELEMENT_NAME);\n            Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\n            Credential cred = null;\n                    try {\n                        cred = this.getSenderSigningCredential();\n                        //signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA256);\n                        //  signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\n                          \n                        signature.setSigningCredential(cred);\n                    } catch (Exception e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                    \n                    // Perform signing\n                    try {\n                          SecurityHelper.prepareSignatureParams(signature, cred, null, null);\n                          SecurityConfiguration secConfiguration = Configuration.getGlobalSecurityConfiguration(); \n                          NamedKeyInfoGeneratorManager namedKeyInfoGeneratorManager = secConfiguration.getKeyInfoGeneratorManager(); \n                          KeyInfoGeneratorManager keyInfoGeneratorManager = namedKeyInfoGeneratorManager.getDefaultManager();\n                          KeyInfoGeneratorFactory keyInfoGeneratorFactory = keyInfoGeneratorManager.getFactory(cred);\n                          KeyInfoGenerator keyInfoGenerator = keyInfoGeneratorFactory.newInstance();\n                          KeyInfo keyInfo = null;\n                          try {\n                              keyInfo = keyInfoGenerator.generate(cred);\n                          } catch  (Exception e) {\n                              e.printStackTrace();\n                          } \n                          signature.setKeyInfo(keyInfo);\n                          authRequest.setSignature(signature);\n                          \n                          \n                          \n                          Marshaller marshaller = Configuration.getMarshallerFactory().getMarshaller(authRequest);\n                          marshaller.marshall(authRequest);\n                      \n                          \n                        Signer.signObject(signature);\n                    } catch (Exception e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n            return authRequest;\n        }\n</code></pre>\n<p>But when I am printing it XML it is showing as below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;saml2p:AuthnRequest \nxmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot; AssertionConsumerServiceURL=&quot;http://localhost:9222/saml/*&quot; Destination=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot; ForceAuthn=&quot;false&quot; ID=&quot;_4479bf8ac628da22c598a8427556a2ef5be431e5&quot; IssueInstant=&quot;2023-10-23T16:26:45.682Z&quot; ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Version=&quot;2.0&quot;&gt;&lt;saml2p:Issuer xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;&gt;Sample&lt;/saml2p:Issuer&gt;&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:SignedInfo xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:Reference URI=&quot;#_4479bf8ac628da22c598a8427556a2ef5be431e5&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:Transforms xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;/ds:Transforms&gt;\n&lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:DigestValue xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;/ds:Reference&gt;\n&lt;/ds:SignedInfo&gt;\n&lt;ds:SignatureValue xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;/&gt;\n&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmzCCAYMCBgGK23vMZzANBgkqhkiG9w0BAQsFADARMQ8wDQYDVQQDDAZTYW1wbGUwHhcNMjMw\nOTI4MTEwODU4WhcNMzMwOTI4MTExMDM4WjARMQ8wDQYDVQQDDAZTYW1wbGUwggEiMA0GCSqGSIb3\nDQEBAQUAA4IBDwAwggEKAoIBAQCrxYgVkHoGaC1PAvffPNJYIVbZqfaoRInDI74CqRHoLCm\naaTfhzwfXrrOU/ys72Ult4Ff3wC8iQjONtNJTv0XTHw1vpnuOXzqMZ62N7IAE+N2J0UpK8+3yE1q\nXlss07qiHl6Bege+epk+Ae/iqiqyg1vre/8JUe61cbpWSlsQFb+O0/wrl9o576ak3BPo3zWgy\nW/APTfI0jkNoJpflrMK2ahk51lIzjxwLyYAnsOKw5VGnAYxDL3nDXcuY3aERB9rZec7YVA/hzWcg\nOUeWEhnmd3xCmw2kZ1MHcIs8dpFHJdhH6TgZljHhC7B/KhC1yRwMWCyFAgMBAAEwDQYJ\nKoZIhvcNAQELBQADggEBAKsqbTj9F0tUyKNDAUPwXh8dFfR0ztKNjUXxMHzf5ufU\nCj7cDK3p3PSN/a4KlIj18A86BZ4ABU8oUJja0XG2Jt5MgoaifktC+ymYN73q6kLx4IklG5y3U5RS\n3W7jKXd9lf/kE+n4tUjzETfISpUdx/80asWU5WLlcoYUk0jK8u3u10kYMkGVcpxchy32KUxEQ6i8\n6ODZZ0qlKCwAuELPdDrK+SwVvJL3gBbCoxcNNJWKWj5VAGwdqzorrE2uHuhzSmDYMQYRkCGedexV\nRrkp8byYxR3cpnh4OZr32E9XcvhLyQUJqsMuYHouRa99wYIW3Dr/CUW0K10=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;saml2p:NameIDPolicy AllowCreate=&quot;true&quot; Format=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&quot; xmlns:saml2p=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;/&gt;&lt;/saml2p:AuthnRequest&gt;\n</code></pre>\n<p>How can I set those two values, or why keycloak is giving that error?</p>\n"},{"tags":["java","spring-boot","spring-security","jira","jira-plugin"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701104265,"post_id":77558157,"comment_id":136730920,"body_markdown":"your exception says that you have not configured your database..... please read your exceptions before asking here.... remove your postgres dependency","body":"your exception says that you have not configured your database..... please read your exceptions before asking here.... remove your postgres dependency"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717548,"creation_date":1701099558,"question_id":77558157,"body_markdown":"I have two Spring Boot application one is normal application which include another application as dependency. And in 2nd application I have written Jira security which needs to be added on 1st application.\r\n\r\nBoth separately working fine but the when I am adding 2nd app in 1st app it is showing below error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.atlassian.connect.spring.internal.request.oauth2.OAuth2JwtClientRegistrationRepository required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \t- @org.springframework.beans.factory.annotation.Qualifier(&quot;oauth2-jwt-impersonation&quot;)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\nIn my security application I have following classes:\r\n\r\n    @Component\r\n    public class JiraUtility {\r\n        public AtlassianHostRestClients getAtlassianHostRestClients() {\r\n            return (AtlassianHostRestClients) GetBean.context.getBean(&quot;atlassianHostRestClientsImpl&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nTo get created bean we use application context aware:\r\n\r\n    @Component\r\n    public class GetBean implements ApplicationContextAware {\r\n        public static ApplicationContext context;\r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            context = applicationContext;\r\n        }\r\n    }\r\n\r\nAnd oauth 2 implementation is as below: \r\n\r\n    @Component(&quot;oAuth2ClientRequestFilter&quot;)\r\n    public class OAuth2ClientRequestFilter implements ClientRequestFilter {\r\n    \r\n        @Autowired\r\n        private AtlassianHostRestClients atlassianHostRestClients;\r\n    \r\n        @Autowired\r\n        private AtlassianHostRepository hostRepository;\r\n    \r\n        private String userAccountId;\r\n    \r\n        @Override\r\n        public void filter(ClientRequestContext requestContext) {\r\n            AtlassianHostUser hostUser = AtlassianHostUser.builder(getHost(requestContext))\r\n                    .withUserAccountId(userAccountId)\r\n                    .build();\r\n            String token = atlassianHostRestClients.getAccessToken(hostUser).getTokenValue();\r\n            requestContext.getHeaders().add(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, token));\r\n        }\r\n    \r\n        public String getUserAccountId() {\r\n            return userAccountId;\r\n        }\r\n    \r\n        public void setUserAccountId(String userAccountId) {\r\n            this.userAccountId = userAccountId;\r\n        }\r\n    \r\n        private AtlassianHost getHost(ClientRequestContext requestContext) {\r\n            URI requestUri = requestContext.getUri();\r\n            String baseUrl = String.format(&quot;%s://%s&quot;, requestUri.getScheme(), requestUri.getHost());\r\n            return hostRepository.findFirstByBaseUrlOrderByLastModifiedDateDesc(baseUrl).get();\r\n        }\r\n    }\r\n\r\nAnd in pom.xml I have added below dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.atlassian.connect&lt;/groupId&gt;\r\n                &lt;artifactId&gt;atlassian-connect-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${atlassian-connect-spring-boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.atlassian.connect&lt;/groupId&gt;\r\n                &lt;artifactId&gt;atlassian-connect-spring-boot-jpa-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${atlassian-connect-spring-boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.2.25&lt;/version&gt;\r\n            &lt;/dependency&gt; \r\n    &lt;/dependencies&gt;\r\n\r\nAnd in Main application I have just Spring boot starter class :\r\n\r\n \r\n\r\n    @SpringBootApplication(exclude = {MongoAutoConfiguration.class, MongoDataAutoConfiguration.class, FreeMarkerAutoConfiguration.class})\r\n    @ComponentScan(basePackages = {&quot;com&quot;})\r\n    @EnableAutoConfiguration(exclude = {LiquibaseAutoConfiguration.class})\r\n    @ServletComponentScan(basePackages = &quot;com&quot;)\r\n    public class AivApplication extends SpringBootServletInitializer implements WebMvcConfigurer {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n            new SpringApplication(AivApplication.class).run(args);\r\n        }\r\n    }\r\n\r\n\r\nHow can I do it using adding security application as dependency in Spring Boot application? \r\n","title":"Spring Boot application for Atlassian security is not starting","body":"<p>I have two Spring Boot application one is normal application which include another application as dependency. And in 2nd application I have written Jira security which needs to be added on 1st application.</p>\n<p>Both separately working fine but the when I am adding 2nd app in 1st app it is showing below error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.atlassian.connect.spring.internal.request.oauth2.OAuth2JwtClientRegistrationRepository required a bean named 'entityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n    - @org.springframework.beans.factory.annotation.Qualifier(&quot;oauth2-jwt-impersonation&quot;)\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n</code></pre>\n<p>In my security application I have following classes:</p>\n<pre><code>@Component\npublic class JiraUtility {\n    public AtlassianHostRestClients getAtlassianHostRestClients() {\n        return (AtlassianHostRestClients) GetBean.context.getBean(&quot;atlassianHostRestClientsImpl&quot;);\n    }\n\n}\n</code></pre>\n<p>To get created bean we use application context aware:</p>\n<pre><code>@Component\npublic class GetBean implements ApplicationContextAware {\n    public static ApplicationContext context;\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        context = applicationContext;\n    }\n}\n</code></pre>\n<p>And oauth 2 implementation is as below:</p>\n<pre><code>@Component(&quot;oAuth2ClientRequestFilter&quot;)\npublic class OAuth2ClientRequestFilter implements ClientRequestFilter {\n\n    @Autowired\n    private AtlassianHostRestClients atlassianHostRestClients;\n\n    @Autowired\n    private AtlassianHostRepository hostRepository;\n\n    private String userAccountId;\n\n    @Override\n    public void filter(ClientRequestContext requestContext) {\n        AtlassianHostUser hostUser = AtlassianHostUser.builder(getHost(requestContext))\n                .withUserAccountId(userAccountId)\n                .build();\n        String token = atlassianHostRestClients.getAccessToken(hostUser).getTokenValue();\n        requestContext.getHeaders().add(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, token));\n    }\n\n    public String getUserAccountId() {\n        return userAccountId;\n    }\n\n    public void setUserAccountId(String userAccountId) {\n        this.userAccountId = userAccountId;\n    }\n\n    private AtlassianHost getHost(ClientRequestContext requestContext) {\n        URI requestUri = requestContext.getUri();\n        String baseUrl = String.format(&quot;%s://%s&quot;, requestUri.getScheme(), requestUri.getHost());\n        return hostRepository.findFirstByBaseUrlOrderByLastModifiedDateDesc(baseUrl).get();\n    }\n}\n</code></pre>\n<p>And in pom.xml I have added below dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.connect&lt;/groupId&gt;\n            &lt;artifactId&gt;atlassian-connect-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${atlassian-connect-spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.connect&lt;/groupId&gt;\n            &lt;artifactId&gt;atlassian-connect-spring-boot-jpa-starter&lt;/artifactId&gt;\n            &lt;version&gt;${atlassian-connect-spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.25&lt;/version&gt;\n        &lt;/dependency&gt; \n&lt;/dependencies&gt;\n</code></pre>\n<p>And in Main application I have just Spring boot starter class :</p>\n<pre><code>@SpringBootApplication(exclude = {MongoAutoConfiguration.class, MongoDataAutoConfiguration.class, FreeMarkerAutoConfiguration.class})\n@ComponentScan(basePackages = {&quot;com&quot;})\n@EnableAutoConfiguration(exclude = {LiquibaseAutoConfiguration.class})\n@ServletComponentScan(basePackages = &quot;com&quot;)\npublic class AivApplication extends SpringBootServletInitializer implements WebMvcConfigurer {\n\n public static void main(String[] args) throws Exception {\n        new SpringApplication(AivApplication.class).run(args);\n    }\n}\n</code></pre>\n<p>How can I do it using adding security application as dependency in Spring Boot application?</p>\n"},{"tags":["java","keycloak","saml","saml-2.0"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701717499,"creation_date":1698051839,"question_id":77343929,"body_markdown":"I am trying to secure my web application using Keycloak saml but while adding Signature it is not working and giving below error:\r\n\r\n    exception [org.opensaml.ws.message.encoder.MessageEncodingException: Encountered error \r\n    marshalling message into its DOM representation] with root cause\r\n    \torg.apache.xml.security.signature.XMLSignatureException: The requested algorithm null does not exist. Original Message was: Cannot invoke &quot;java.lang.Class.newInstance()&quot; because &quot;&lt;local3&gt;&quot; is null\r\n    Original Exception was java.lang.NullPointerException: Cannot invoke &quot;java.lang.Class.newInstance()&quot; because &quot;&lt;local3&gt;&quot; is null\r\n    \t\tat org.apache.xml.security.algorithms.SignatureAlgorithm.&lt;init&gt;(Unknown Source)\r\n    \t\tat org.apache.xml.security.signature.SignedInfo.&lt;init&gt;(Unknown Source)\r\n    \t\tat org.apache.xml.security.signature.XMLSignature.&lt;init&gt;(Unknown Source)\r\n    \t\tat org.apache.xml.security.signature.XMLSignature.&lt;init&gt;(Unknown Source)\r\n\r\nAnd my code creating AuthnRequest is as below:\r\n\r\n    protected String generateID() {\r\n    \t        Random r = new Random();\r\n    \t        return &#39;a&#39; + Long.toString(Math.abs(r.nextLong()), 20) + Long.toString(Math.abs(r.nextLong()), 20);\r\n    \t    }\r\n    \t\tpublic AuthnRequest buildRequest(String spProviderId, String acsUrl, String idpUrl) {\r\n    \t\t\t/* Building Issuer object */\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tIssuerBuilder issuerBuilder = new IssuerBuilder();\r\n    \t\t\tIssuer issuer = issuerBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;, &quot;Issuer&quot;, &quot;saml2&quot;);\r\n    \t\t\tissuer.setValue(spProviderId);\r\n    \r\n    \t\t\t/* Creation of AuthRequestObject */\r\n    \t\t\tDateTime issueInstant = new DateTime();\r\n    \t\t\tAuthnRequestBuilder authRequestBuilder = new AuthnRequestBuilder();\r\n    \r\n    \t\t\tAuthnRequest authRequest = authRequestBuilder.buildObject(SAMLConstants.SAML20P_NS, &quot;AuthnRequest&quot;, &quot;saml2&quot;);\r\n    \t\t\tauthRequest.setForceAuthn(false);\r\n    \t\t\tauthRequest.setIssueInstant(issueInstant);\r\n    \t\t\tauthRequest.setProtocolBinding(SAMLConstants.SAML2_POST_BINDING_URI);\r\n    \t\t\tauthRequest.setAssertionConsumerServiceURL(acsUrl);\r\n    \t\t\tauthRequest.setIssuer(issuer);\r\n    \t\t\tauthRequest.setID(generateID());\r\n    \t\t\t// XXX: How do I get nameIdPolicy?\r\n    //\t\t\tauthRequest.setNameIDPolicy(nameIdPolicy);\r\n    \t\t\tauthRequest.setVersion(SAMLVersion.VERSION_20);\r\n    \t\t\tauthRequest.setDestination(idpUrl);\r\n    \t\t\t\r\n    \t\t\tSignatureBuilder signFactory = new SignatureBuilder();\r\n    \t\t    Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\r\n    \t\t            try {\r\n    \t\t\t\t\t\tsignature.setSigningCredential(this.getSenderSigningCredential());\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t// set signature\r\n    \t\t            authRequest.setSignature(signature);\r\n    \t\t\t\r\n    \r\n    \t\t\treturn authRequest;\r\n    \t\t}\r\nAnd while encoding and generating redirect url I am getting error and it&#39;s code is as below:\r\n\r\n    private static class MessageEncoder extends HTTPRedirectDeflateEncoder {\r\n    \t\tpublic String encode(SAMLObject message, String endpointURL, String relayState) throws MessageEncodingException {\r\n    \t\t\tString encodedMessage = deflateAndBase64Encode(message);\r\n    \t\t\treturn buildRedirectURL(endpointURL, relayState, encodedMessage);\r\n    \t\t}\r\n    \r\n    \t\tpublic String buildRedirectURL(String endpointURL, String relayState, String message) throws MessageEncodingException {\r\n    \t\t\tURLBuilder urlBuilder = new URLBuilder(endpointURL);\r\n    \t\t\tList&lt;Pair&lt;String, String&gt;&gt; queryParams = urlBuilder.getQueryParams();\r\n    \t\t\tqueryParams.clear();\r\n    \t\t\tqueryParams.add(new Pair&lt;String, String&gt;(&quot;SAMLRequest&quot;, message));\r\n    \t\t\tif (checkRelayState(relayState)) {\r\n    \t\t\t\tqueryParams.add(new Pair&lt;String, String&gt;(&quot;RelayState&quot;, relayState));\r\n    \t\t\t}\r\n    \t\t\treturn urlBuilder.buildURL();\r\n    \t\t}\r\n    \t}\r\n\r\nI am getting credential from &quot;jks&quot; file. What mistake am I making, or what configuration is missing?\r\n","title":"Keycloak Saml adding Signature algorithm not working","body":"<p>I am trying to secure my web application using Keycloak saml but while adding Signature it is not working and giving below error:</p>\n<pre><code>exception [org.opensaml.ws.message.encoder.MessageEncodingException: Encountered error \nmarshalling message into its DOM representation] with root cause\n    org.apache.xml.security.signature.XMLSignatureException: The requested algorithm null does not exist. Original Message was: Cannot invoke &quot;java.lang.Class.newInstance()&quot; because &quot;&lt;local3&gt;&quot; is null\nOriginal Exception was java.lang.NullPointerException: Cannot invoke &quot;java.lang.Class.newInstance()&quot; because &quot;&lt;local3&gt;&quot; is null\n        at org.apache.xml.security.algorithms.SignatureAlgorithm.&lt;init&gt;(Unknown Source)\n        at org.apache.xml.security.signature.SignedInfo.&lt;init&gt;(Unknown Source)\n        at org.apache.xml.security.signature.XMLSignature.&lt;init&gt;(Unknown Source)\n        at org.apache.xml.security.signature.XMLSignature.&lt;init&gt;(Unknown Source)\n</code></pre>\n<p>And my code creating AuthnRequest is as below:</p>\n<pre><code>protected String generateID() {\n            Random r = new Random();\n            return 'a' + Long.toString(Math.abs(r.nextLong()), 20) + Long.toString(Math.abs(r.nextLong()), 20);\n        }\n        public AuthnRequest buildRequest(String spProviderId, String acsUrl, String idpUrl) {\n            /* Building Issuer object */\n            \n            \n            IssuerBuilder issuerBuilder = new IssuerBuilder();\n            Issuer issuer = issuerBuilder.buildObject(&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;, &quot;Issuer&quot;, &quot;saml2&quot;);\n            issuer.setValue(spProviderId);\n\n            /* Creation of AuthRequestObject */\n            DateTime issueInstant = new DateTime();\n            AuthnRequestBuilder authRequestBuilder = new AuthnRequestBuilder();\n\n            AuthnRequest authRequest = authRequestBuilder.buildObject(SAMLConstants.SAML20P_NS, &quot;AuthnRequest&quot;, &quot;saml2&quot;);\n            authRequest.setForceAuthn(false);\n            authRequest.setIssueInstant(issueInstant);\n            authRequest.setProtocolBinding(SAMLConstants.SAML2_POST_BINDING_URI);\n            authRequest.setAssertionConsumerServiceURL(acsUrl);\n            authRequest.setIssuer(issuer);\n            authRequest.setID(generateID());\n            // XXX: How do I get nameIdPolicy?\n//          authRequest.setNameIDPolicy(nameIdPolicy);\n            authRequest.setVersion(SAMLVersion.VERSION_20);\n            authRequest.setDestination(idpUrl);\n            \n            SignatureBuilder signFactory = new SignatureBuilder();\n            Signature signature = signFactory.buildObject(Signature.DEFAULT_ELEMENT_NAME);\n                    try {\n                        signature.setSigningCredential(this.getSenderSigningCredential());\n                    } catch (Exception e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n        // set signature\n                    authRequest.setSignature(signature);\n            \n\n            return authRequest;\n        }\n</code></pre>\n<p>And while encoding and generating redirect url I am getting error and it's code is as below:</p>\n<pre><code>private static class MessageEncoder extends HTTPRedirectDeflateEncoder {\n        public String encode(SAMLObject message, String endpointURL, String relayState) throws MessageEncodingException {\n            String encodedMessage = deflateAndBase64Encode(message);\n            return buildRedirectURL(endpointURL, relayState, encodedMessage);\n        }\n\n        public String buildRedirectURL(String endpointURL, String relayState, String message) throws MessageEncodingException {\n            URLBuilder urlBuilder = new URLBuilder(endpointURL);\n            List&lt;Pair&lt;String, String&gt;&gt; queryParams = urlBuilder.getQueryParams();\n            queryParams.clear();\n            queryParams.add(new Pair&lt;String, String&gt;(&quot;SAMLRequest&quot;, message));\n            if (checkRelayState(relayState)) {\n                queryParams.add(new Pair&lt;String, String&gt;(&quot;RelayState&quot;, relayState));\n            }\n            return urlBuilder.buildURL();\n        }\n    }\n</code></pre>\n<p>I am getting credential from &quot;jks&quot; file. What mistake am I making, or what configuration is missing?</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1617311624,"post_id":66911480,"comment_id":118276899,"body_markdown":"The &quot;factory method&quot; example here isn&#39;t any kind of Factory. See my answer differentiating [Factory Method from Abstract Factory](https://stackoverflow.com/a/50786084/1371329). The top few answers in that thread all have good information about Factory patterns.","body":"The &quot;factory method&quot; example here isn&#39;t any kind of Factory. See my answer differentiating <a href=\"https://stackoverflow.com/a/50786084/1371329\">Factory Method from Abstract Factory</a>. The top few answers in that thread all have good information about Factory patterns."},{"owner":{"account_id":875148,"reputation":973,"user_id":924941,"accept_rate":90,"display_name":"user924941"},"score":1,"creation_date":1617359221,"post_id":66911480,"comment_id":118287395,"body_markdown":"Why isnt my example a factory? The differences between factory method and factory abstract is something else, my question is whats the benefit of factory method over simple factory","body":"Why isnt my example a factory? The differences between factory method and factory abstract is something else, my question is whats the benefit of factory method over simple factory"},{"owner":{"account_id":875148,"reputation":973,"user_id":924941,"accept_rate":90,"display_name":"user924941"},"score":0,"creation_date":1617362760,"post_id":66911480,"comment_id":118288459,"body_markdown":"Made an edit to the AnimalFactory abstract class, is that what was missing ?","body":"Made an edit to the AnimalFactory abstract class, is that what was missing ?"}],"answers":[{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1617314213,"post_id":66911791,"comment_id":118277641,"body_markdown":"This answer describes the benefit of a Simple Factory. The Factory Method Pattern is something else.","body":"This answer describes the benefit of a Simple Factory. The Factory Method Pattern is something else."}],"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617312590,"creation_date":1617312590,"answer_id":66911791,"question_id":66911480,"body_markdown":"The benefit of a Factory method is, typically, to contain the logic for a complex class (or class-hierarchy setup you require) that you don&#39;t want to obfuscate code or you don&#39;t want to create from scratch if they&#39;re used frequently. Eg. a car engine. So you extract away the messy code into a Factory to make the class-hierarchy more accessible/more reusable and to make the rest of your code more readable by hiding complex detail.","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>The benefit of a Factory method is, typically, to contain the logic for a complex class (or class-hierarchy setup you require) that you don't want to obfuscate code or you don't want to create from scratch if they're used frequently. Eg. a car engine. So you extract away the messy code into a Factory to make the class-hierarchy more accessible/more reusable and to make the rest of your code more readable by hiding complex detail.</p>\n"},{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1618158342,"post_id":66931028,"comment_id":118511890,"body_markdown":"This is essentially the same answer previously given by Rob Evans.","body":"This is essentially the same answer previously given by Rob Evans."}],"tags":[],"owner":{"account_id":19525455,"reputation":344,"user_id":14286378,"display_name":"Ferry"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617452007,"creation_date":1617452007,"answer_id":66931028,"question_id":66911480,"body_markdown":"the benefit is it encapsulates the logic to create dogs for example. Any modification about creational of dog only happens on DogFactory (Single Responsibility). It&#39;s a good choice when you&#39;re going to do any setup about the object, like there are any codes before you return the dog object. If you do it on simple factory it would be messed up and make the method longer. But since on your example it&#39;s only do a simple `new Dog()` or `new Cat()` I prefer simple factory. IMHO","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>the benefit is it encapsulates the logic to create dogs for example. Any modification about creational of dog only happens on DogFactory (Single Responsibility). It's a good choice when you're going to do any setup about the object, like there are any codes before you return the dog object. If you do it on simple factory it would be messed up and make the method longer. But since on your example it's only do a simple <code>new Dog()</code> or <code>new Cat()</code> I prefer simple factory. IMHO</p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618158259,"creation_date":1618158259,"answer_id":67047425,"question_id":66911480,"body_markdown":"A critical difference in the GoF Factory Method Pattern as opposed to most other factory patterns is the identity of the client. In most factory patterns, the client is the *caller* of the factory.\r\n\r\n    class Client {\r\n        Product p = someFactoryObject.method();\r\n    }\r\n\r\nBut in the Factory Method Pattern, the client _is_ the (concrete) factory.\r\n\r\n    class Client extends Factory {\r\n        @Override\r\n        Product factoryMethod() {\r\n            return new ConcreteProduct();\r\n        }\r\n    }\r\n\r\nThe easiest way to think about why this factory subclassing relationship would make sense is to imagine the parent `Factory` as part of a framework. The framework must be compatible with any `Product` implementation, and it expects each client to define its own concrete product. These concrete products probably don&#39;t exist at the time the framework is written.\r\n\r\nWhen the `Client` plugs itself into the framework (via inheritance) it defines a `ConcreteProduct` for the framework to use. In contrast to previous answers, this has nothing to do with encapsulating creational complexity. Indeed, the factory method implementation is _one_ line of code.\r\n\r\nThe purpose is,\r\n&gt;  Factory Method lets a class defer instantiation to subclasses. (page 107)\r\n\r\nDefer is the key. Factory Method allows you to implement an API in terms of an _unknown_ product. Inheritance is the vehicle it uses to do that. Simple Factory was published (later) in Head First Design, as a teaching aid, not really intended for production code.\r\n\r\nConfusion arises from the assumption that a factory method must be parameterized. This assumption leads to the conclusion that the purpose of a factory is to allow clients to pick and choose amongst multiple product implementations at runtime. Note the `factoryMethod()` here takes no parameters.\r\n\r\nTo understand the Factory Method Pattern, consider the scenario in which there is only one concrete product, it simply doesn&#39;t exist at the time the factory method API is defined, and isn&#39;t owned by the author of the API.","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>A critical difference in the GoF Factory Method Pattern as opposed to most other factory patterns is the identity of the client. In most factory patterns, the client is the <em>caller</em> of the factory.</p>\n<pre><code>class Client {\n    Product p = someFactoryObject.method();\n}\n</code></pre>\n<p>But in the Factory Method Pattern, the client <em>is</em> the (concrete) factory.</p>\n<pre><code>class Client extends Factory {\n    @Override\n    Product factoryMethod() {\n        return new ConcreteProduct();\n    }\n}\n</code></pre>\n<p>The easiest way to think about why this factory subclassing relationship would make sense is to imagine the parent <code>Factory</code> as part of a framework. The framework must be compatible with any <code>Product</code> implementation, and it expects each client to define its own concrete product. These concrete products probably don't exist at the time the framework is written.</p>\n<p>When the <code>Client</code> plugs itself into the framework (via inheritance) it defines a <code>ConcreteProduct</code> for the framework to use. In contrast to previous answers, this has nothing to do with encapsulating creational complexity. Indeed, the factory method implementation is <em>one</em> line of code.</p>\n<p>The purpose is,</p>\n<blockquote>\n<p>Factory Method lets a class defer instantiation to subclasses. (page 107)</p>\n</blockquote>\n<p>Defer is the key. Factory Method allows you to implement an API in terms of an <em>unknown</em> product. Inheritance is the vehicle it uses to do that. Simple Factory was published (later) in Head First Design, as a teaching aid, not really intended for production code.</p>\n<p>Confusion arises from the assumption that a factory method must be parameterized. This assumption leads to the conclusion that the purpose of a factory is to allow clients to pick and choose amongst multiple product implementations at runtime. Note the <code>factoryMethod()</code> here takes no parameters.</p>\n<p>To understand the Factory Method Pattern, consider the scenario in which there is only one concrete product, it simply doesn't exist at the time the factory method API is defined, and isn't owned by the author of the API.</p>\n"},{"tags":[],"owner":{"account_id":1821767,"reputation":1910,"user_id":1655666,"accept_rate":57,"display_name":"georaldc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701717144,"creation_date":1701717144,"answer_id":77602006,"question_id":66911480,"body_markdown":"You could turn a simple factory into something that implements the factory method design pattern. Let&#39;s take your simple factory as an example. If I turn that into a class of its own, it would look something like this (I&#39;m using PHP but syntax should be pretty easy to understand)\r\n\r\n    class SimpleFactory\r\n    {\r\n        public function getAnimal(string $type): ?Animal\r\n        {\r\n            switch ($type) {\r\n                case &#39;cat&#39;:\r\n                    return new Cat();\r\n                case &#39;dog&#39;:\r\n                    return new Dog();\r\n            }\r\n            return null\r\n        }\r\n    }\r\n\r\nThe Factory Method pattern takes advantage of polymorphism to allow subclasses to specify how/what concrete types of Animals to return. This means that instead of client code using the SimpleFactory directly, it would instead rely on abstraction instead. You can create something like an interface that your SimpleFactory would implement\r\n\r\n    interface MyFactory\r\n    {\r\n    \tpublic function getAnimal(string $type): ?Animal\r\n    }\r\n    \r\n    class SimpleFactory implements MyFactory\r\n    {\r\n        public function getAnimal(string $type): ?Animal\r\n        {\r\n            switch ($type) {\r\n                case &#39;cat&#39;:\r\n                    return new Cat();\r\n                case &#39;dog&#39;:\r\n                    return new Dog();\r\n            }\r\n            return null\r\n        }\r\n    }\r\n\r\nIn this case, client code will have a MyFactory dependency, instead of a concrete SimpleFactory dependency. This now gives you the ability to swap in different factories that implement MyFactory with their own getAnimal() factory method if needed and have the guarantee that your client code will continue to work due to the Liskov Substitution Principle.","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>You could turn a simple factory into something that implements the factory method design pattern. Let's take your simple factory as an example. If I turn that into a class of its own, it would look something like this (I'm using PHP but syntax should be pretty easy to understand)</p>\n<pre><code>class SimpleFactory\n{\n    public function getAnimal(string $type): ?Animal\n    {\n        switch ($type) {\n            case 'cat':\n                return new Cat();\n            case 'dog':\n                return new Dog();\n        }\n        return null\n    }\n}\n</code></pre>\n<p>The Factory Method pattern takes advantage of polymorphism to allow subclasses to specify how/what concrete types of Animals to return. This means that instead of client code using the SimpleFactory directly, it would instead rely on abstraction instead. You can create something like an interface that your SimpleFactory would implement</p>\n<pre><code>interface MyFactory\n{\n    public function getAnimal(string $type): ?Animal\n}\n\nclass SimpleFactory implements MyFactory\n{\n    public function getAnimal(string $type): ?Animal\n    {\n        switch ($type) {\n            case 'cat':\n                return new Cat();\n            case 'dog':\n                return new Dog();\n        }\n        return null\n    }\n}\n</code></pre>\n<p>In this case, client code will have a MyFactory dependency, instead of a concrete SimpleFactory dependency. This now gives you the ability to swap in different factories that implement MyFactory with their own getAnimal() factory method if needed and have the guarantee that your client code will continue to work due to the Liskov Substitution Principle.</p>\n"}],"owner":{"account_id":875148,"reputation":973,"user_id":924941,"accept_rate":90,"display_name":"user924941"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66931028,"answer_count":4,"score":2,"last_activity_date":1701717144,"creation_date":1617310741,"question_id":66911480,"body_markdown":"Im trying to learn patterns and got to Factory, I understand the concept of simple factory and factory method, I know how they work, what I cant understand is what is the benefit of factory method over the simple factory. Example:\r\n\r\n    //We have our clients here\r\n    public class Animal {}\r\n    public class Dog extends Animal{}\r\n    public class Cat extends Animal{}\r\n\r\nIn a simple factory we will have this thing:\r\n\r\n    public Animal getAnimal(String type) {\r\n        switch (type) {\r\n        case &quot;cat&quot;: \r\n          return new Cat;\r\n        case &quot;dog&quot;:\r\n          return new Dog;\r\n        }\r\n        return null;\r\n    }\r\n\r\nNow we go for the factory method: \r\n\r\n    public abstract class AnimalFactory {\r\n       public Animal createAnimal() {\r\n           Animal animal = getAnimal();\r\n           animal.pet();\r\n           return animal;\r\n       }\r\n      \r\n       protected abstract Animal getAnimal();\r\n\r\n    }\r\n    public class DogFactory extends AnimalFactory{\r\n       public Animal getAnimal(){\r\n          //some logic\r\n          return new Dog;\r\n       }\r\n    }\r\n    public class CatFactory extends AnimalFactory{\r\n       public Animal getAnimal(){\r\n          //some logic\r\n          return new Cat;\r\n       }\r\n    }\r\nSo here comes the interesting part, for the factory method we will need to use polymorphism but we will still need to instantiate depending on what type we need so I imagine we will have something like this:\r\n\r\n    public Animal getAnimal(String type) {\r\n        AnimalFactory animalFactory;\r\n        switch (type) {\r\n        case &quot;cat&quot;: \r\n          animalFactory = new CatFactory();  //polymorphism     \r\n          return animalFactory.getAnimal();\r\n        case &quot;dog&quot;:\r\n           animalFactory = new DogFactory();  //polymorphism     \r\n          return animalFactory.getAnimal();\r\n        }\r\n        return null;\r\n    }\r\n\r\nSo as far as I know the main idea behing design patterns is to make code more reusable and easier to extend, so imagine we need to add a new animal, say a Parrot. In both cases we create the Parrot class that extends the Animal class and in both cases we will have to go into that switch statement and add a new case &quot;Parrot&quot; For the simple factory we will just instantiate new Parrot directly and for the factory method we will instantiate the ParrotFactory.\r\nMy question is what is the difference and why do we need the factory method pattern?\r\n\r\nThe only benefit I can see is that in the factory method you can define common logic for the factories that will extend it (is that it ?)\r\n","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>Im trying to learn patterns and got to Factory, I understand the concept of simple factory and factory method, I know how they work, what I cant understand is what is the benefit of factory method over the simple factory. Example:</p>\n<pre><code>//We have our clients here\npublic class Animal {}\npublic class Dog extends Animal{}\npublic class Cat extends Animal{}\n</code></pre>\n<p>In a simple factory we will have this thing:</p>\n<pre><code>public Animal getAnimal(String type) {\n    switch (type) {\n    case &quot;cat&quot;: \n      return new Cat;\n    case &quot;dog&quot;:\n      return new Dog;\n    }\n    return null;\n}\n</code></pre>\n<p>Now we go for the factory method:</p>\n<pre><code>public abstract class AnimalFactory {\n   public Animal createAnimal() {\n       Animal animal = getAnimal();\n       animal.pet();\n       return animal;\n   }\n  \n   protected abstract Animal getAnimal();\n\n}\npublic class DogFactory extends AnimalFactory{\n   public Animal getAnimal(){\n      //some logic\n      return new Dog;\n   }\n}\npublic class CatFactory extends AnimalFactory{\n   public Animal getAnimal(){\n      //some logic\n      return new Cat;\n   }\n}\n</code></pre>\n<p>So here comes the interesting part, for the factory method we will need to use polymorphism but we will still need to instantiate depending on what type we need so I imagine we will have something like this:</p>\n<pre><code>public Animal getAnimal(String type) {\n    AnimalFactory animalFactory;\n    switch (type) {\n    case &quot;cat&quot;: \n      animalFactory = new CatFactory();  //polymorphism     \n      return animalFactory.getAnimal();\n    case &quot;dog&quot;:\n       animalFactory = new DogFactory();  //polymorphism     \n      return animalFactory.getAnimal();\n    }\n    return null;\n}\n</code></pre>\n<p>So as far as I know the main idea behing design patterns is to make code more reusable and easier to extend, so imagine we need to add a new animal, say a Parrot. In both cases we create the Parrot class that extends the Animal class and in both cases we will have to go into that switch statement and add a new case &quot;Parrot&quot; For the simple factory we will just instantiate new Parrot directly and for the factory method we will instantiate the ParrotFactory.\nMy question is what is the difference and why do we need the factory method pattern?</p>\n<p>The only benefit I can see is that in the factory method you can define common logic for the factories that will extend it (is that it ?)</p>\n"},{"tags":["java","web-services"],"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1372083917,"post_id":8542497,"comment_id":25047751,"body_markdown":"the parameters passed is not valid and it creates problem when invoking the service with null or invalid parameter..","body":"the parameters passed is not valid and it creates problem when invoking the service with null or invalid parameter.."},{"owner":{"account_id":1239155,"reputation":8288,"user_id":1202172,"accept_rate":71,"display_name":"Danijel"},"score":0,"creation_date":1393343562,"post_id":8542497,"comment_id":33377546,"body_markdown":"Is it possible to catch this error somewhere and prevent printing of the whole stack trace?","body":"Is it possible to catch this error somewhere and prevent printing of the whole stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":1009178,"reputation":12360,"user_id":1022141,"accept_rate":96,"display_name":"Udo Held"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324104815,"creation_date":1324104815,"answer_id":8543204,"question_id":8542497,"body_markdown":"A `404` error indicates that your target url is wrong. Make sure that you send your request to the correct service url.","title":"Unable to sendViaPost to url in Axis2 1.6","body":"<p>A <code>404</code> error indicates that your target url is wrong. Make sure that you send your request to the correct service url.</p>\n"},{"comments":[{"owner":{"account_id":1239155,"reputation":8288,"user_id":1202172,"accept_rate":71,"display_name":"Danijel"},"score":0,"creation_date":1393240804,"post_id":8805670,"comment_id":33318299,"body_markdown":"Is it possible to catch this error somewhere and prevent printing of the whole stack trace?","body":"Is it possible to catch this error somewhere and prevent printing of the whole stack trace?"}],"tags":[],"owner":{"account_id":1161822,"reputation":11,"user_id":1141183,"display_name":"Nat Kidder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371711134,"creation_date":1326208949,"answer_id":8805670,"question_id":8542497,"body_markdown":"I got the same error, what I did in Eclipse was:\r\n\r\n - `Stop` the servlet container (in my case, Tomcat)\r\n    \r\n - Right-click the web service Java class containing the method implementations \r\n    and selected `Run` -&gt; `Run on Server`\r\n    \r\n - Saw the `Axis2 web service page` appear in the Coding View\r\n\r\nThen ran the web service client class as a Java Application, and everything was fine\r\n","title":"Unable to sendViaPost to url in Axis2 1.6","body":"<p>I got the same error, what I did in Eclipse was:</p>\n\n<ul>\n<li><p><code>Stop</code> the servlet container (in my case, Tomcat)</p></li>\n<li><p>Right-click the web service Java class containing the method implementations \nand selected <code>Run</code> -> <code>Run on Server</code></p></li>\n<li><p>Saw the <code>Axis2 web service page</code> appear in the Coding View</p></li>\n</ul>\n\n<p>Then ran the web service client class as a Java Application, and everything was fine</p>\n"}],"owner":{"account_id":1041355,"reputation":137,"user_id":1047333,"accept_rate":71,"display_name":"Myo Thu Zar Kyaw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13281,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1701716455,"creation_date":1324094820,"question_id":8542497,"body_markdown":"I&#39;ve created Axis2 1.6 Webservice Client, I can make wsdl2java. But, when i run my program.. It shows this error?..\r\n\r\n    [INFO] Unable to sendViaPost to url[http://10.53.1.187:7782//rest/UVSInterface_Extend]\r\n    org.apache.axis2.AxisFault: Transport error: 404 Error: /error/error404.jsp\r\n\tat org.apache.axis2.transport.http.HTTPSender.handleResponse(HTTPSender.java:310)\r\n\tat org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:194)\r\n\tat org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)\r\n\tat org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)\r\n\tat org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)\r\n\tat org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)\r\n\tat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)\r\n\tat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\r\n\tat org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\r\n\tat com.huawei.bme.winuvsinterface.UVSInterface_ExtendStub.manualRecharge(UVSInterface_ExtendStub.java:14628)\r\n\tat access.KitRecharge.main(KitRecharge.java:113)\r\n    org.apache.axis2.AxisFault: Transport error: 404 Error: /error/error404.jsp\r\n\tat org.apache.axis2.transport.http.HTTPSender.handleResponse(HTTPSender.java:310)\r\n\tat org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:194)\r\n\tat org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)\r\n\tat org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)\r\n\tat org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)\r\n\tat org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)\r\n\tat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)\r\n\tat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\r\n\tat org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\r\n\tat com.huawei.bme.winuvsinterface.UVSInterface_ExtendStub.manualRecharge(UVSInterface_ExtendStub.java:14628)\r\n\tat access.KitRecharge.main(KitRecharge.java:113)\r\n","title":"Unable to sendViaPost to url in Axis2 1.6","body":"<p>I've created Axis2 1.6 Webservice Client, I can make wsdl2java. But, when i run my program.. It shows this error?..</p>\n\n<pre><code>[INFO] Unable to sendViaPost to url[http://10.53.1.187:7782//rest/UVSInterface_Extend]\norg.apache.axis2.AxisFault: Transport error: 404 Error: /error/error404.jsp\nat org.apache.axis2.transport.http.HTTPSender.handleResponse(HTTPSender.java:310)\nat org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:194)\nat org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)\nat org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)\nat org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)\nat org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)\nat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)\nat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\nat org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\nat com.huawei.bme.winuvsinterface.UVSInterface_ExtendStub.manualRecharge(UVSInterface_ExtendStub.java:14628)\nat access.KitRecharge.main(KitRecharge.java:113)\norg.apache.axis2.AxisFault: Transport error: 404 Error: /error/error404.jsp\nat org.apache.axis2.transport.http.HTTPSender.handleResponse(HTTPSender.java:310)\nat org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:194)\nat org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)\nat org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)\nat org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)\nat org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)\nat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)\nat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\nat org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\nat com.huawei.bme.winuvsinterface.UVSInterface_ExtendStub.manualRecharge(UVSInterface_ExtendStub.java:14628)\nat access.KitRecharge.main(KitRecharge.java:113)\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-step-functions","amazon-efs"],"owner":{"account_id":30065582,"reputation":1,"user_id":23040823,"display_name":"AlphaCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701716217,"creation_date":1701715979,"question_id":77601918,"body_markdown":"I have a step function, which has Distributed map state. This distributed map state has a lambda function as its child which do some files processing(read/write/delete operations) on EFS.\r\n\r\nThe issue is, I am using concurrency of this map state to 2000(my lambda has way more concurrency than 2000), and in that case when this map state trigger 2000 instances of my lambda function, EFS could not handle this sudden burst and lambda function started giving `EFSMountTimeoutException`. \r\n\r\n    The function could not mount the EFS file system with access point arn:aws:elasticfilesystem:us-east-1:1234567889:access-point/fsap-05b0494f1746d72 due to mount time out. (Service: AWSLambda; Status Code: 408; Error Code: EFSMountTimeoutException; Request ID: ec2a7b2a-2f74-47c8-12839-204fd37fb042; Proxy: null)\r\n\r\nI believe here, the issue is this sudden burst of lambda functions synchronously triggered by the map state. \r\n\r\nwhat can be done here to overcome this issue? \r\n\r\n\r\nWhat I have tried so far but no luck:\r\n1 - I tried using invoking 2000 lambda instances with Eventbridge events, through code, and they work fine. May be because of they are asynchronous and lambda can handle that. I cannot use it because I need control over these lambda instances in my use case. \r\n\r\n2 - Stap function map state retry: The issue is, even if for ex: 1990 lambda are already finished and successful and any lambda instances failed afterwards, the step function retry will initiate whole map state again. Another scenario is, if all 2000 instances failed at once, retrying again after some time will trigger 2000 instances invocations, and accessing EFS by all of them at once fall in into the same scenario of EFS mount timeout.\r\n\r\n3 - provisioned concurrency for this lambda: It turns out that it is too costly, considering how many times and number of instances i want to run for this lambda.\r\n","title":"Getting EFSMountTimeout exception when triggering step function map state having very high concurrently","body":"<p>I have a step function, which has Distributed map state. This distributed map state has a lambda function as its child which do some files processing(read/write/delete operations) on EFS.</p>\n<p>The issue is, I am using concurrency of this map state to 2000(my lambda has way more concurrency than 2000), and in that case when this map state trigger 2000 instances of my lambda function, EFS could not handle this sudden burst and lambda function started giving <code>EFSMountTimeoutException</code>.</p>\n<pre><code>The function could not mount the EFS file system with access point arn:aws:elasticfilesystem:us-east-1:1234567889:access-point/fsap-05b0494f1746d72 due to mount time out. (Service: AWSLambda; Status Code: 408; Error Code: EFSMountTimeoutException; Request ID: ec2a7b2a-2f74-47c8-12839-204fd37fb042; Proxy: null)\n</code></pre>\n<p>I believe here, the issue is this sudden burst of lambda functions synchronously triggered by the map state.</p>\n<p>what can be done here to overcome this issue?</p>\n<p>What I have tried so far but no luck:\n1 - I tried using invoking 2000 lambda instances with Eventbridge events, through code, and they work fine. May be because of they are asynchronous and lambda can handle that. I cannot use it because I need control over these lambda instances in my use case.</p>\n<p>2 - Stap function map state retry: The issue is, even if for ex: 1990 lambda are already finished and successful and any lambda instances failed afterwards, the step function retry will initiate whole map state again. Another scenario is, if all 2000 instances failed at once, retrying again after some time will trigger 2000 instances invocations, and accessing EFS by all of them at once fall in into the same scenario of EFS mount timeout.</p>\n<p>3 - provisioned concurrency for this lambda: It turns out that it is too costly, considering how many times and number of instances i want to run for this lambda.</p>\n"},{"tags":["java","optimization","scheduler","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701715843,"creation_date":1701715843,"answer_id":77601905,"question_id":77597884,"body_markdown":"Your solver configuration looks heavily fine-tuned, and I wonder if that is really beneficial. Unless you&#39;ve done some extensive benchmarking on that particular data set, this level of involvement with the solver&#39;s business could be counter-productive.\r\n\r\nAnother thing I noticed is that you&#39;re not really giving any of the local searches much time to actually get some real work done. This could be perfectly fine, but as the data set size grows, seconds are no longer enough to get decent results.\r\n\r\nFinally, since you&#39;re using Bavet, you may be interested in knowing that the version of BAVET that is available in OptaPlanner actually has some serious bugs which [Timefold Solver][1] resolved after [the fork][2]. ([Case in point][3], which required us to very nearly rewrite Bavet from scratch.)\r\n\r\nAre these tips going to help you? I have no way of knowing; figuring out why the solver hasn&#39;t identified any particular solution requires deep understanding of the problem at hand, which I do not and can not have. \r\n\r\n\r\n  [1]: https://github.com/TimefoldAI/timefold-solver\r\n  [2]: https://timefold.ai/blog/2023/optaplanner-fork\r\n  [3]: https://github.com/TimefoldAI/timefold-solver/commit/0b47ed1ec6332bcbd1ef91075326304deb7bc61b","title":"Optaplanner unable to solve one hard constraint","body":"<p>Your solver configuration looks heavily fine-tuned, and I wonder if that is really beneficial. Unless you've done some extensive benchmarking on that particular data set, this level of involvement with the solver's business could be counter-productive.</p>\n<p>Another thing I noticed is that you're not really giving any of the local searches much time to actually get some real work done. This could be perfectly fine, but as the data set size grows, seconds are no longer enough to get decent results.</p>\n<p>Finally, since you're using Bavet, you may be interested in knowing that the version of BAVET that is available in OptaPlanner actually has some serious bugs which <a href=\"https://github.com/TimefoldAI/timefold-solver\" rel=\"nofollow noreferrer\">Timefold Solver</a> resolved after <a href=\"https://timefold.ai/blog/2023/optaplanner-fork\" rel=\"nofollow noreferrer\">the fork</a>. (<a href=\"https://github.com/TimefoldAI/timefold-solver/commit/0b47ed1ec6332bcbd1ef91075326304deb7bc61b\" rel=\"nofollow noreferrer\">Case in point</a>, which required us to very nearly rewrite Bavet from scratch.)</p>\n<p>Are these tips going to help you? I have no way of knowing; figuring out why the solver hasn't identified any particular solution requires deep understanding of the problem at hand, which I do not and can not have.</p>\n"}],"owner":{"account_id":21473913,"reputation":3,"user_id":15822491,"display_name":"GuneetSingh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701715843,"creation_date":1701676164,"question_id":77597884,"body_markdown":"I am currently trying to optimize a Job Shop scheduling algo using optaplanner. However there is one constraint which gets stuck. What all potential steps should I take to try solving this problem.\r\nMy Configuration file looks as follows:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/solver https://www.optaplanner.org/xsd/solver/solver.xsd&quot;&gt;\r\n  &lt;!--  &lt;environmentMode&gt;FULL_ASSERT&lt;/environmentMode&gt;--&gt;\r\n  &lt;environmentMode&gt;NON_REPRODUCIBLE&lt;/environmentMode&gt;\r\n  &lt;moveThreadCount&gt;AUTO&lt;/moveThreadCount&gt;\r\n  &lt;solutionClass&gt;com.greyorange.taskscheduler.domain.CandidateSolution&lt;/solutionClass&gt;\r\n  &lt;entityClass&gt;com.greyorange.taskscheduler.domain.CandidateAssignment&lt;/entityClass&gt;\r\n\r\n  &lt;scoreDirectorFactory&gt;\r\n    &lt;constraintProviderClass&gt;com.greyorange.taskscheduler.costs.ObjectiveFunction&lt;/constraintProviderClass&gt;\r\n    &lt;constraintStreamImplType&gt;BAVET&lt;/constraintStreamImplType&gt;\r\n  &lt;/scoreDirectorFactory&gt;\r\n\r\n  &lt;localSearch&gt;\r\n    &lt;termination&gt;\r\n      &lt;secondsSpentLimit&gt;15&lt;/secondsSpentLimit&gt;\r\n    &lt;/termination&gt;\r\n    &lt;acceptor&gt;\r\n      &lt;entityTabuSize&gt;7&lt;/entityTabuSize&gt;\r\n    &lt;/acceptor&gt;\r\n    &lt;forager&gt;\r\n      &lt;acceptedCountLimit&gt;1000&lt;/acceptedCountLimit&gt;\r\n      &lt;finalistPodiumType&gt;STRATEGIC_OSCILLATION&lt;/finalistPodiumType&gt;\r\n    &lt;/forager&gt;\r\n  &lt;/localSearch&gt;\r\n  &lt;localSearch&gt;\r\n    &lt;termination&gt;\r\n      &lt;secondsSpentLimit&gt;10&lt;/secondsSpentLimit&gt;\r\n    &lt;/termination&gt;\r\n    &lt;acceptor&gt;\r\n      &lt;greatDelugeWaterLevelIncrementRatio&gt;0.000001&lt;/greatDelugeWaterLevelIncrementRatio&gt;\r\n    &lt;/acceptor&gt;\r\n    &lt;forager&gt;\r\n      &lt;acceptedCountLimit&gt;4&lt;/acceptedCountLimit&gt;\r\n    &lt;/forager&gt;\r\n  &lt;/localSearch&gt;\r\n  &lt;localSearch&gt;\r\n    &lt;termination&gt;\r\n      &lt;secondsSpentLimit&gt;2&lt;/secondsSpentLimit&gt;\r\n    &lt;/termination&gt;\r\n    &lt;localSearchType&gt;HILL_CLIMBING&lt;/localSearchType&gt;\r\n    &lt;moveListFactory&gt;\r\n      &lt;moveListFactoryClass&gt;com.greyorange.taskscheduler.neighborhood.SlideTimeWindowMoveFactory\r\n      &lt;/moveListFactoryClass&gt;\r\n    &lt;/moveListFactory&gt;\r\n  &lt;/localSearch&gt;\r\n&lt;/solver&gt;\r\n\r\n\r\n```\r\n\r\n\r\nI am currently curious to know what all steps I can take. I tried changing the accepted count limits and it solved my problem but my Technical Lead doesnt feel convinced with the solution.\r\n\r\nPlease help ","title":"Optaplanner unable to solve one hard constraint","body":"<p>I am currently trying to optimize a Job Shop scheduling algo using optaplanner. However there is one constraint which gets stuck. What all potential steps should I take to try solving this problem.\nMy Configuration file looks as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/solver https://www.optaplanner.org/xsd/solver/solver.xsd&quot;&gt;\n  &lt;!--  &lt;environmentMode&gt;FULL_ASSERT&lt;/environmentMode&gt;--&gt;\n  &lt;environmentMode&gt;NON_REPRODUCIBLE&lt;/environmentMode&gt;\n  &lt;moveThreadCount&gt;AUTO&lt;/moveThreadCount&gt;\n  &lt;solutionClass&gt;com.greyorange.taskscheduler.domain.CandidateSolution&lt;/solutionClass&gt;\n  &lt;entityClass&gt;com.greyorange.taskscheduler.domain.CandidateAssignment&lt;/entityClass&gt;\n\n  &lt;scoreDirectorFactory&gt;\n    &lt;constraintProviderClass&gt;com.greyorange.taskscheduler.costs.ObjectiveFunction&lt;/constraintProviderClass&gt;\n    &lt;constraintStreamImplType&gt;BAVET&lt;/constraintStreamImplType&gt;\n  &lt;/scoreDirectorFactory&gt;\n\n  &lt;localSearch&gt;\n    &lt;termination&gt;\n      &lt;secondsSpentLimit&gt;15&lt;/secondsSpentLimit&gt;\n    &lt;/termination&gt;\n    &lt;acceptor&gt;\n      &lt;entityTabuSize&gt;7&lt;/entityTabuSize&gt;\n    &lt;/acceptor&gt;\n    &lt;forager&gt;\n      &lt;acceptedCountLimit&gt;1000&lt;/acceptedCountLimit&gt;\n      &lt;finalistPodiumType&gt;STRATEGIC_OSCILLATION&lt;/finalistPodiumType&gt;\n    &lt;/forager&gt;\n  &lt;/localSearch&gt;\n  &lt;localSearch&gt;\n    &lt;termination&gt;\n      &lt;secondsSpentLimit&gt;10&lt;/secondsSpentLimit&gt;\n    &lt;/termination&gt;\n    &lt;acceptor&gt;\n      &lt;greatDelugeWaterLevelIncrementRatio&gt;0.000001&lt;/greatDelugeWaterLevelIncrementRatio&gt;\n    &lt;/acceptor&gt;\n    &lt;forager&gt;\n      &lt;acceptedCountLimit&gt;4&lt;/acceptedCountLimit&gt;\n    &lt;/forager&gt;\n  &lt;/localSearch&gt;\n  &lt;localSearch&gt;\n    &lt;termination&gt;\n      &lt;secondsSpentLimit&gt;2&lt;/secondsSpentLimit&gt;\n    &lt;/termination&gt;\n    &lt;localSearchType&gt;HILL_CLIMBING&lt;/localSearchType&gt;\n    &lt;moveListFactory&gt;\n      &lt;moveListFactoryClass&gt;com.greyorange.taskscheduler.neighborhood.SlideTimeWindowMoveFactory\n      &lt;/moveListFactoryClass&gt;\n    &lt;/moveListFactory&gt;\n  &lt;/localSearch&gt;\n&lt;/solver&gt;\n\n\n</code></pre>\n<p>I am currently curious to know what all steps I can take. I tried changing the accepted count limits and it solved my problem but my Technical Lead doesnt feel convinced with the solution.</p>\n<p>Please help</p>\n"},{"tags":["java","log4j","wildfly"],"owner":{"account_id":23162190,"reputation":67,"user_id":17262676,"display_name":"John Hammond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701715421,"creation_date":1701715421,"question_id":77601872,"body_markdown":"Having a problem stopping this email handler from emailing each line of stderr. Wanted to filter out these as they are causing email congestion. So far I&#39;ve done this, and it doesn&#39;t work. Am I missing something? I tested the regexp and it works.  Here is an example line:\r\n\r\n```\r\n2023-12-04 13:39:33,431 ERROR [stderr] (Thread-444)     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n```\r\n\r\n```\r\n            &lt;custom-handler name=&quot;emailHandler&quot; class=&quot;org.apache.log4j.net.SMTPAppender&quot; module=&quot;org.apache.log4j&quot;&gt;\r\n                &lt;level name=&quot;ERROR&quot;/&gt;\r\n\t\t            &lt;filter-spec value=&quot;not(match(&amp;quot;\\\\[stderr\\\\]&amp;quot;))&quot;/&gt;\r\n                &lt;formatter&gt;\r\n                    &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\r\n                &lt;/formatter&gt;\r\n                &lt;properties&gt;\r\n                    &lt;property name=&quot;To&quot; value=&quot;bugs@***.com&quot;/&gt;\r\n                    &lt;property name=&quot;From&quot; value=&quot;no-reply@***.com&quot;/&gt;\r\n                    &lt;property name=&quot;Subject&quot; value=&quot;Error Has Occurred&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPHost&quot; value=&quot;***&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPUsername&quot; value=&quot;***&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPPassword&quot; value=&quot;***&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPPort&quot; value=&quot;465&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPProtocol&quot; value=&quot;smtps&quot;/&gt;\r\n                    &lt;property name=&quot;BufferSize&quot; value=&quot;10&quot;/&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/custom-handler&gt;\r\n```","title":"Unable to filter out stderr from Wildfly Email Handler","body":"<p>Having a problem stopping this email handler from emailing each line of stderr. Wanted to filter out these as they are causing email congestion. So far I've done this, and it doesn't work. Am I missing something? I tested the regexp and it works.  Here is an example line:</p>\n<pre><code>2023-12-04 13:39:33,431 ERROR [stderr] (Thread-444)     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n</code></pre>\n<pre><code>            &lt;custom-handler name=&quot;emailHandler&quot; class=&quot;org.apache.log4j.net.SMTPAppender&quot; module=&quot;org.apache.log4j&quot;&gt;\n                &lt;level name=&quot;ERROR&quot;/&gt;\n                    &lt;filter-spec value=&quot;not(match(&amp;quot;\\\\[stderr\\\\]&amp;quot;))&quot;/&gt;\n                &lt;formatter&gt;\n                    &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\n                &lt;/formatter&gt;\n                &lt;properties&gt;\n                    &lt;property name=&quot;To&quot; value=&quot;bugs@***.com&quot;/&gt;\n                    &lt;property name=&quot;From&quot; value=&quot;no-reply@***.com&quot;/&gt;\n                    &lt;property name=&quot;Subject&quot; value=&quot;Error Has Occurred&quot;/&gt;\n                    &lt;property name=&quot;SMTPHost&quot; value=&quot;***&quot;/&gt;\n                    &lt;property name=&quot;SMTPUsername&quot; value=&quot;***&quot;/&gt;\n                    &lt;property name=&quot;SMTPPassword&quot; value=&quot;***&quot;/&gt;\n                    &lt;property name=&quot;SMTPPort&quot; value=&quot;465&quot;/&gt;\n                    &lt;property name=&quot;SMTPProtocol&quot; value=&quot;smtps&quot;/&gt;\n                    &lt;property name=&quot;BufferSize&quot; value=&quot;10&quot;/&gt;\n                &lt;/properties&gt;\n            &lt;/custom-handler&gt;\n</code></pre>\n"},{"tags":["python","java","ibm-midrange","jpype"],"comments":[{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1701177875,"post_id":77564079,"comment_id":136740847,"body_markdown":"I can connect with `jpype.startJVM(classpath=[driver_file_path])` without `addClassPath`","body":"I can connect with <code>jpype.startJVM(classpath=[driver_file_path])</code> without <code>addClassPath</code>"},{"owner":{"account_id":7378787,"reputation":1115,"user_id":5616309,"accept_rate":77,"display_name":"FredericP"},"score":0,"creation_date":1701260732,"post_id":77564079,"comment_id":136753199,"body_markdown":"@nfgl with your syntax, for me the program just stops after a few seconds. It&#39;s the startJVM which crash silently","body":"@nfgl with your syntax, for me the program just stops after a few seconds. It&#39;s the startJVM which crash silently"},{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1701283782,"post_id":77564079,"comment_id":136757798,"body_markdown":"I had the same `ClassNotFoundException` with your code. Is your JVM version 7 or higher ?","body":"I had the same <code>ClassNotFoundException</code> with your code. Is your JVM version 7 or higher ?"},{"owner":{"account_id":7378787,"reputation":1115,"user_id":5616309,"accept_rate":77,"display_name":"FredericP"},"score":0,"creation_date":1701348997,"post_id":77564079,"comment_id":136766110,"body_markdown":"I have Java version1.8.0_351, which is called java 8 AFAIK...","body":"I have Java version1.8.0_351, which is called java 8 AFAIK..."}],"owner":{"account_id":7378787,"reputation":1115,"user_id":5616309,"accept_rate":77,"display_name":"FredericP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701176597,"answer_count":0,"score":-2,"last_activity_date":1701715379,"creation_date":1701176308,"question_id":77564079,"body_markdown":"[edit] my question has been closed for duplicate, but none of the answers I see relates to python or jpype, so I think that my question is legitimate\r\n\r\nI can&#39;t use java -classpath because I don&#39;t run java directly (launched from jpype)\r\nI can&#39;t use the argument -cp, nor my  Class-Path entry in MANIFEST.MF because I don&#39;t run java directly (launched from jpype)\r\nAnyway, as I showed in my example, the path of the jar file is recognized by  jpype, because  class_path = jpype.getClassPath(True)\r\nprint(&quot;Class Path &quot; + class_path) gives Class Path C:\\Users...\\jt400-20.0.6.jar\r\n[/edit]\r\n\r\n\r\nI want to use run SQL on an IBM i file from **python**, jdbc with **jpype**.\r\nI downloaded and installed in my folder IBM&#39;s jar (jt400-20.0.6.jar)\r\nThen I ran this simple test\r\n```python\r\nimport os\r\nimport jpype\r\nimport jpype.dbapi2\r\n\r\ndriver_file_path = os.path.join(os.path.dirname(__file__), &quot;jt400-20.0.6.jar&quot;)\r\n\r\njpype.startJVM()\r\nprint(&#39;startJVM effectu&#233;&#39;)\r\n\r\njpype.addClassPath(driver_file_path)\r\nclass_path = jpype.getClassPath(True)\r\nprint(&quot;Class Path &quot; + class_path)\r\n\r\njpype.java.lang.System.out.println(&quot;hello world&quot;)\r\n\r\nconnection_string = &#39;jdbc:as400://MACHINE&#39;\r\n\r\ntry:\r\n    cnx = jpype.dbapi2.connect(connection_string, driver= &quot;com.ibm.as400.access.AS400JDBCDriver&quot;,\r\n                     driver_args={\r\n                            &quot;user&quot;: &#39;UTIL&#39;,\r\n                            &quot;password&quot;: &#39;MOTPASSE&#39;,\r\n                            &quot;extended metadata&quot;: &quot;true&quot;,\r\n                        }\r\n                    )\r\nexcept jpype.dbapi2.Error as err:\r\n    print(&quot;Erreur&quot; + err)\r\n```\r\nThe driver exists at the driver_file_path that is printed\r\nThere&#39;s an AS400JDBCDriver.class in com\\ibm\\as400\\access in the jar file (I opened the file with  7 zip)\r\nWhen running, I have\r\n```\r\nstartJVM effectu&#233;\r\nClass Path C:\\Users...\\jt400-20.0.6.jar\r\nhello world\r\n```\r\nSo the path should have been added to the jvm, and java is working...\r\nBut I have also\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;org.jpype.JPypeContext.java&quot;, line -1, in org.jpype.JPypeContext.callMethod\r\nException: Java Exception\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;C:\\...\\Test_jpype_question.py&quot;, line 37, in &lt;module&gt;\r\n    cnx = jpype.dbapi2.connect(connection_string, driver= &quot;com.ibm.as400.access.AS400JDBCDriver&quot;,\r\n  File &quot;C:\\...\\jpype\\dbapi2.py&quot;, line 404, in connect\r\n    _jpype.JClass(&#39;java.lang.Class&#39;).forName(driver).newInstance()\r\njava.lang.java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.ibm.as400.access.AS400JDBCDriver`\r\n```\r\nI tried lot of things, but I can&#39;t understand what&#39;s wrong.\r\nWhat can I do to test further?","title":"jpype dbapi2 : can&#39;t understand this ClassNotFoundException error","body":"<p>[edit] my question has been closed for duplicate, but none of the answers I see relates to python or jpype, so I think that my question is legitimate</p>\n<p>I can't use java -classpath because I don't run java directly (launched from jpype)\nI can't use the argument -cp, nor my  Class-Path entry in MANIFEST.MF because I don't run java directly (launched from jpype)\nAnyway, as I showed in my example, the path of the jar file is recognized by  jpype, because  class_path = jpype.getClassPath(True)\nprint(&quot;Class Path &quot; + class_path) gives Class Path C:\\Users...\\jt400-20.0.6.jar\n[/edit]</p>\n<p>I want to use run SQL on an IBM i file from <strong>python</strong>, jdbc with <strong>jpype</strong>.\nI downloaded and installed in my folder IBM's jar (jt400-20.0.6.jar)\nThen I ran this simple test</p>\n<pre class=\"lang-py prettyprint-override\"><code>import os\nimport jpype\nimport jpype.dbapi2\n\ndriver_file_path = os.path.join(os.path.dirname(__file__), &quot;jt400-20.0.6.jar&quot;)\n\njpype.startJVM()\nprint('startJVM effectué')\n\njpype.addClassPath(driver_file_path)\nclass_path = jpype.getClassPath(True)\nprint(&quot;Class Path &quot; + class_path)\n\njpype.java.lang.System.out.println(&quot;hello world&quot;)\n\nconnection_string = 'jdbc:as400://MACHINE'\n\ntry:\n    cnx = jpype.dbapi2.connect(connection_string, driver= &quot;com.ibm.as400.access.AS400JDBCDriver&quot;,\n                     driver_args={\n                            &quot;user&quot;: 'UTIL',\n                            &quot;password&quot;: 'MOTPASSE',\n                            &quot;extended metadata&quot;: &quot;true&quot;,\n                        }\n                    )\nexcept jpype.dbapi2.Error as err:\n    print(&quot;Erreur&quot; + err)\n</code></pre>\n<p>The driver exists at the driver_file_path that is printed\nThere's an AS400JDBCDriver.class in com\\ibm\\as400\\access in the jar file (I opened the file with  7 zip)\nWhen running, I have</p>\n<pre><code>startJVM effectué\nClass Path C:\\Users...\\jt400-20.0.6.jar\nhello world\n</code></pre>\n<p>So the path should have been added to the jvm, and java is working...\nBut I have also</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;org.jpype.JPypeContext.java&quot;, line -1, in org.jpype.JPypeContext.callMethod\nException: Java Exception\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File &quot;C:\\...\\Test_jpype_question.py&quot;, line 37, in &lt;module&gt;\n    cnx = jpype.dbapi2.connect(connection_string, driver= &quot;com.ibm.as400.access.AS400JDBCDriver&quot;,\n  File &quot;C:\\...\\jpype\\dbapi2.py&quot;, line 404, in connect\n    _jpype.JClass('java.lang.Class').forName(driver).newInstance()\njava.lang.java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.ibm.as400.access.AS400JDBCDriver`\n</code></pre>\n<p>I tried lot of things, but I can't understand what's wrong.\nWhat can I do to test further?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1701715022,"post_id":77601824,"comment_id":136807712,"body_markdown":"I don&#39;t think it&#39;s really possible to write to a file in an archive (zip, jar) due to compression issues. And I think that any utility that lets you do this is probably first deleting the file from the archive and than re-adding the modified version.","body":"I don&#39;t think it&#39;s really possible to write to a file in an archive (zip, jar) due to compression issues. And I think that any utility that lets you do this is probably first deleting the file from the archive and than re-adding the modified version."},{"owner":{"account_id":28950835,"reputation":7,"user_id":22175482,"display_name":"ERavn29"},"score":0,"creation_date":1701715907,"post_id":77601824,"comment_id":136807855,"body_markdown":"For my use that is probably ok, i just need to save a few values to it and use them again when i launch the program, so deleting the file and then adding a new probably works.","body":"For my use that is probably ok, i just need to save a few values to it and use them again when i launch the program, so deleting the file and then adding a new probably works."},{"owner":{"account_id":28950835,"reputation":7,"user_id":22175482,"display_name":"ERavn29"},"score":0,"creation_date":1701716230,"post_id":77601824,"comment_id":136807918,"body_markdown":"@aled i&#39;ve looked at that one, but didn&#39;t really help, i can try again to bee sure","body":"@aled i&#39;ve looked at that one, but didn&#39;t really help, i can try again to bee sure"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701716710,"post_id":77601824,"comment_id":136807995,"body_markdown":"That is for reading a file in a jar file. If you need to save the file then you should do it outside the jar file, in a real directory.","body":"That is for reading a file in a jar file. If you need to save the file then you should do it outside the jar file, in a real directory."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701718605,"post_id":77601824,"comment_id":136808287,"body_markdown":"You could make use of [well known file locations](https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989) and some other [persistent concepts](https://stackoverflow.com/questions/19556932/how-can-i-save-the-state-of-my-program-and-then-load-it/19557052#19557052)","body":"You could make use of <a href=\"https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989\">well known file locations</a> and some other <a href=\"https://stackoverflow.com/questions/19556932/how-can-i-save-the-state-of-my-program-and-then-load-it/19557052#19557052\">persistent concepts</a>"}],"owner":{"account_id":28950835,"reputation":7,"user_id":22175482,"display_name":"ERavn29"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701717645,"answer_count":0,"score":-1,"last_activity_date":1701714771,"creation_date":1701714771,"question_id":77601824,"body_markdown":"I&#39;ve setup a program which im trying to get to read/write to a file, it works fine in my IDE (IntelliJ), but when i get it to a jar, it doesn&#39;t find the file.\r\n\r\nI think i&#39;ve setup the file reading/writing in the most basic way, because this isn&#39;t a big part of the program and im using a library (libGDX) which normally handles the files for me, but in this case i couldn&#39;t use that, so there is probably some better ways to do it, but those i&#39;ve tried doen&#39;t work.\r\n\r\nThis is how i have the file set up now:\r\n\r\n```java\r\nFile file = new File(&quot;misc/file.txt&quot;);\r\n```\r\n\r\nThis is how im reading the file:\r\n```java\r\nScanner fileScanner = new Scanner(file);\r\nString fileContents = &quot;&quot;;\r\n\r\nwhile (fileScanner.hasNextLine()) {\r\n    fileContents += fileScanner.nextLine();\r\n}\r\nfileScanner.close();\r\n```\r\nThis is how im writing:\r\n```java\r\nFileWriter fileWriter = new FileWriter(file);\r\nfileWriter.write(&quot;Hello World&quot;)\r\nfileWriter.close();\r\n```\r\n\r\nMy .txt file im trying to read is in (Project)/core/resources/misc/file.txt, while the class the code is in is here: (Project)/core/src/(package)/files/Class\r\n\r\nAs i&#39;ve said, this works in the IDE, but not in a jar.","title":"How do i read/write to i file within a jar","body":"<p>I've setup a program which im trying to get to read/write to a file, it works fine in my IDE (IntelliJ), but when i get it to a jar, it doesn't find the file.</p>\n<p>I think i've setup the file reading/writing in the most basic way, because this isn't a big part of the program and im using a library (libGDX) which normally handles the files for me, but in this case i couldn't use that, so there is probably some better ways to do it, but those i've tried doen't work.</p>\n<p>This is how i have the file set up now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;misc/file.txt&quot;);\n</code></pre>\n<p>This is how im reading the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner fileScanner = new Scanner(file);\nString fileContents = &quot;&quot;;\n\nwhile (fileScanner.hasNextLine()) {\n    fileContents += fileScanner.nextLine();\n}\nfileScanner.close();\n</code></pre>\n<p>This is how im writing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileWriter fileWriter = new FileWriter(file);\nfileWriter.write(&quot;Hello World&quot;)\nfileWriter.close();\n</code></pre>\n<p>My .txt file im trying to read is in (Project)/core/resources/misc/file.txt, while the class the code is in is here: (Project)/core/src/(package)/files/Class</p>\n<p>As i've said, this works in the IDE, but not in a jar.</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":7539816,"reputation":1938,"user_id":5724824,"accept_rate":59,"display_name":"SANM2009"},"score":0,"creation_date":1519947013,"post_id":49060244,"comment_id":85125822,"body_markdown":"some code around the the section where error happens will be helpful.","body":"some code around the the section where error happens will be helpful."},{"owner":{"account_id":7669845,"reputation":354,"user_id":5812472,"accept_rate":44,"display_name":"Ch_y"},"score":0,"creation_date":1519988498,"post_id":49060244,"comment_id":85140532,"body_markdown":"Try to set a bigger buffSize and see if it would change anything, probably because you are reading bigger data than your inputstream can handle, hope it will help","body":"Try to set a bigger buffSize and see if it would change anything, probably because you are reading bigger data than your inputstream can handle, hope it will help"}],"answers":[{"tags":[],"owner":{"account_id":12911202,"reputation":45,"user_id":9336832,"display_name":"Moon.Hou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527066872,"creation_date":1527066872,"answer_id":50484373,"question_id":49060244,"body_markdown":"try this solution:\r\nadd this config to hdfs-site.xml\r\n\r\n    &lt;property&gt;\r\n         &lt;name&gt;ipc.maximum.data.length&lt;/name&gt;\r\n         &lt;value&gt;134217728&lt;/value&gt;\r\n    &lt;/property&gt;","title":"Exception &quot;: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length&quot; from java","body":"<p>try this solution:\nadd this config to hdfs-site.xml</p>\n\n<pre><code>&lt;property&gt;\n     &lt;name&gt;ipc.maximum.data.length&lt;/name&gt;\n     &lt;value&gt;134217728&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11610288,"reputation":149,"user_id":8504709,"display_name":"Vishnu Priyaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1584344966,"creation_date":1584344213,"answer_id":60701948,"question_id":49060244,"body_markdown":"Check your **core-site.xml** :\r\n\r\n    &lt;property&gt;\r\n        &lt;name&gt;fs.default.name&lt;/name&gt;\r\n        &lt;value&gt;hdfs://host:port&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n\r\nThis port can be **9000** or **8020**.\r\nMake sure that you are using the **same port in your code or command**\r\n","title":"Exception &quot;: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length&quot; from java","body":"<p>Check your <strong>core-site.xml</strong> :</p>\n\n<pre><code>&lt;property&gt;\n    &lt;name&gt;fs.default.name&lt;/name&gt;\n    &lt;value&gt;hdfs://host:port&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>This port can be <strong>9000</strong> or <strong>8020</strong>.\nMake sure that you are using the <strong>same port in your code or command</strong></p>\n"},{"tags":[],"owner":{"account_id":6654631,"reputation":1,"user_id":5135627,"display_name":"Oleg Saltanovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701714567,"creation_date":1701714199,"answer_id":77601772,"question_id":49060244,"body_markdown":"First of all you need to check the real response data length in the namenode.log of the active namenode.\r\nThe message must be like :\r\n\r\n    WARN org.apache.hadoop.ipc.Server: Large response size 786010791 for call Call#3\r\n\r\nAfter you know the response data length you can change the parameter ipc.maximum.response.length accordingly to the real size.\r\n\r\nBTW the issue may be on the client side, as was in my case. So just add the parameter to the client core-site.xml or directly to the command. \r\nFor example:\r\n\r\n    hadoop distcp -D ipc.maximum.response.length=1073741824 ...","title":"Exception &quot;: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length&quot; from java","body":"<p>First of all you need to check the real response data length in the namenode.log of the active namenode.\nThe message must be like :</p>\n<pre><code>WARN org.apache.hadoop.ipc.Server: Large response size 786010791 for call Call#3\n</code></pre>\n<p>After you know the response data length you can change the parameter ipc.maximum.response.length accordingly to the real size.</p>\n<p>BTW the issue may be on the client side, as was in my case. So just add the parameter to the client core-site.xml or directly to the command.\nFor example:</p>\n<pre><code>hadoop distcp -D ipc.maximum.response.length=1073741824 ...\n</code></pre>\n"}],"owner":{"account_id":13051332,"reputation":41,"user_id":9431576,"display_name":"Curious"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15933,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1701714567,"creation_date":1519946049,"question_id":49060244,"body_markdown":"I am trying to connect to remote HDFS from Java program running in my desktop&#39;s Eclipse. I am able to connect. But get this Exception while trying to read data:\r\n\r\nCaused by: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data \r\n\r\nCan some one please help with this?\r\n\r\nI have a very basic code for reading test data.Error is coming from hdfs.open();\r\n     \r\n    FileSystem hdfs =null;\r\n\t\tString uriPath = &quot;hdfs://&quot; + Constants.HOST + &quot;:&quot; + Constants.PORT+ &quot;/test/hello_world.txt&quot;;\r\n\t\tString hadoopBase =&quot;hdfs://&quot; + Constants.HOST + &quot;:&quot; + Constants.PORT;\r\n\t\tConfiguration conf = new Configuration();\r\n\t\tconf.set(&quot;fs.default.name&quot;, hadoopBase);\r\n\t\tURI uri;\r\n\t\tInputStream inputStream = null;\r\n\t\ttry {\r\n\t\t\turi = new URI(uriPath);\r\n\t\t\thdfs =  FileSystem.get(uri, conf);\r\n\t\t\tPath path = new Path(uri);\r\n\t\t\tinputStream = hdfs.open(path);\r\n\t\t\tIOUtils.copyBytes(inputStream, System.out, 4096, false);\r\n\t\t} catch (URISyntaxException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\thdfs.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tIOUtils.closeStream(inputStream);\r\n\t\t}\r\n\r\nHere is the full Exception:\r\n\r\n    java.io.IOException: Failed on local exception: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length; \r\n\tat org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:785)\r\n\tat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1485)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1427)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1337)\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:227)\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\r\n\tat com.sun.proxy.$Proxy10.getBlockLocations(Unknown Source)\r\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getBlockLocations(ClientNamenodeProtocolTranslatorPB.java:255)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:398)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:163)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:155)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:335)\r\n\tat com.sun.proxy.$Proxy11.getBlockLocations(Unknown Source)\r\n\tat org.apache.hadoop.hdfs.DFSClient.callGetBlockLocations(DFSClient.java:826)\r\n\tat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:815)\r\n\tat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:804)\r\n\tat org.apache.hadoop.hdfs.DFSInputStream.fetchLocatedBlocksAndGetLastBlockLength(DFSInputStream.java:319)\r\n\tat org.apache.hadoop.hdfs.DFSInputStream.openInfo(DFSInputStream.java:281)\r\n\tat org.apache.hadoop.hdfs.DFSInputStream.&lt;init&gt;(DFSInputStream.java:270)\r\n\tat org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:1115)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:325)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:321)\r\n\tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:333)\r\n\tat org.apache.hadoop.fs.FileSystem.open(FileSystem.java:786)\r\n\tat DataUtil.readData(DataUtil.java:29)\r\n\tat main(Main.java:24)\r\n    Caused by: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length\r\n\tat org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1800)\r\n\tat org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1155)\r\n\tat org.apache.hadoop.ipc.Client$Connection.run(Client.java:1052)\r\n\r\n    \r\n","title":"Exception &quot;: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length&quot; from java","body":"<p>I am trying to connect to remote HDFS from Java program running in my desktop's Eclipse. I am able to connect. But get this Exception while trying to read data:</p>\n\n<p>Caused by: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data </p>\n\n<p>Can some one please help with this?</p>\n\n<p>I have a very basic code for reading test data.Error is coming from hdfs.open();</p>\n\n<pre><code>FileSystem hdfs =null;\n    String uriPath = \"hdfs://\" + Constants.HOST + \":\" + Constants.PORT+ \"/test/hello_world.txt\";\n    String hadoopBase =\"hdfs://\" + Constants.HOST + \":\" + Constants.PORT;\n    Configuration conf = new Configuration();\n    conf.set(\"fs.default.name\", hadoopBase);\n    URI uri;\n    InputStream inputStream = null;\n    try {\n        uri = new URI(uriPath);\n        hdfs =  FileSystem.get(uri, conf);\n        Path path = new Path(uri);\n        inputStream = hdfs.open(path);\n        IOUtils.copyBytes(inputStream, System.out, 4096, false);\n    } catch (URISyntaxException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } finally {\n        try {\n            hdfs.close();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        IOUtils.closeStream(inputStream);\n    }\n</code></pre>\n\n<p>Here is the full Exception:</p>\n\n<pre><code>java.io.IOException: Failed on local exception: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length; \nat org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:785)\nat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1485)\nat org.apache.hadoop.ipc.Client.call(Client.java:1427)\nat org.apache.hadoop.ipc.Client.call(Client.java:1337)\nat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:227)\nat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\nat com.sun.proxy.$Proxy10.getBlockLocations(Unknown Source)\nat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getBlockLocations(ClientNamenodeProtocolTranslatorPB.java:255)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:398)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:163)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:155)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:335)\nat com.sun.proxy.$Proxy11.getBlockLocations(Unknown Source)\nat org.apache.hadoop.hdfs.DFSClient.callGetBlockLocations(DFSClient.java:826)\nat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:815)\nat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:804)\nat org.apache.hadoop.hdfs.DFSInputStream.fetchLocatedBlocksAndGetLastBlockLength(DFSInputStream.java:319)\nat org.apache.hadoop.hdfs.DFSInputStream.openInfo(DFSInputStream.java:281)\nat org.apache.hadoop.hdfs.DFSInputStream.&lt;init&gt;(DFSInputStream.java:270)\nat org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:1115)\nat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:325)\nat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:321)\nat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\nat org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:333)\nat org.apache.hadoop.fs.FileSystem.open(FileSystem.java:786)\nat DataUtil.readData(DataUtil.java:29)\nat main(Main.java:24)\nCaused by: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length\nat org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1800)\nat org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1155)\nat org.apache.hadoop.ipc.Client$Connection.run(Client.java:1052)\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1701677193,"post_id":77597920,"comment_id":136800781,"body_markdown":"If you are using docker compose even on your local, I would define profiles for remote and local. on local only the services will be started, on remote, everything including your application will be started","body":"If you are using docker compose even on your local, I would define profiles for remote and local. on local only the services will be started, on remote, everything including your application will be started"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1701691714,"post_id":77597920,"comment_id":136803064,"body_markdown":"I&#39;d highly recommend deleting that `volumes:` block, even locally, so that you&#39;re using the jar file built into the image.  Do you have a specific programming-related question?","body":"I&#39;d highly recommend deleting that <code>volumes:</code> block, even locally, so that you&#39;re using the jar file built into the image.  Do you have a specific programming-related question?"}],"answers":[{"tags":[],"owner":{"account_id":26601862,"reputation":11,"user_id":20223386,"display_name":"Dragos Cojocaru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701714506,"creation_date":1701714506,"answer_id":77601797,"question_id":77597920,"body_markdown":"Depends very much on your needs, but I think I get where you&#39;re getting to. As a best practice of **separated concerns** I see the **build** and **deploy** phase of your update broken up. As a best practice I would do something like this:\r\n1. Using the code on your repo and also the docker configurations in Dockerfile, build the final, ready-to-deploy images and push them to a private/public image repo - *if the build fails, your app will not be affected at all, as the pipeline also fails*.\r\n2. Using the orchestration you defined in docker-compose.yml (which you should copy on the target server after the build phase is successfully done), pull the new version of the images and restart the services.\r\n3. *you can use docker-compose.yml envs ${ENV} and Dockerfile build-args for differences between *environments*. \r\n\r\nFrom my experience, the majority of the problems are in the build phase and this is why I think decoupling it from the application server is the best thing you can do. Also, even if you&#39;ll never have a build problem (wich will not be the case in a real world scenario), building an app on the target server will consume resources that will slow down your application (depending on your specs).\r\n\r\n*PS: Make sure you configure your images respecting [docker security best practices][1] .*\r\n\r\nHope this was helpful, thanks!\r\n\r\n\r\n  [1]: https://snyk.io/blog/10-docker-image-security-best-practices/","title":"Docker compose and local development","body":"<p>Depends very much on your needs, but I think I get where you're getting to. As a best practice of <strong>separated concerns</strong> I see the <strong>build</strong> and <strong>deploy</strong> phase of your update broken up. As a best practice I would do something like this:</p>\n<ol>\n<li>Using the code on your repo and also the docker configurations in Dockerfile, build the final, ready-to-deploy images and push them to a private/public image repo - <em>if the build fails, your app will not be affected at all, as the pipeline also fails</em>.</li>\n<li>Using the orchestration you defined in docker-compose.yml (which you should copy on the target server after the build phase is successfully done), pull the new version of the images and restart the services.</li>\n<li>*you can use docker-compose.yml envs ${ENV} and Dockerfile build-args for differences between <em>environments</em>.</li>\n</ol>\n<p>From my experience, the majority of the problems are in the build phase and this is why I think decoupling it from the application server is the best thing you can do. Also, even if you'll never have a build problem (wich will not be the case in a real world scenario), building an app on the target server will consume resources that will slow down your application (depending on your specs).</p>\n<p><em>PS: Make sure you configure your images respecting <a href=\"https://snyk.io/blog/10-docker-image-security-best-practices/\" rel=\"nofollow noreferrer\">docker security best practices</a> .</em></p>\n<p>Hope this was helpful, thanks!</p>\n"}],"owner":{"account_id":539871,"reputation":183,"user_id":907867,"accept_rate":0,"display_name":"Bojan Kraut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701716089,"answer_count":1,"score":-2,"last_activity_date":1701714506,"creation_date":1701676564,"question_id":77597920,"body_markdown":"I&#39;m developing Java Spring Boot application and it should be dockerized. This application also needs several other services, so I use compose.yaml to define those. Let&#39;s say mysql.\r\nWhat is the best practice when deploying the solution to the remote server? In gitlab-ci I can copy compose.yaml to the remote server and start the services, but then should I copy my dockerized image to the remote server and start it? \r\nOr should my image also be defined in docker-compose file, so when I run docker-compose up everithing should work?\r\n\r\nI read that you can define your application in docker-compose like this for local development:\r\nservices:\r\n  app:\r\n    build: .\r\n    ports:\r\n      - &quot;9000:8080&quot;\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=dev\r\n    volumes:\r\n      - .:/app\r\n      - ~/.m2:/root/.m2\r\n\r\nThe question is, when I put everithing to the remote server I can not run this. It should get the last version from the local docker repository.\r\n\r\nWhat is the best practice: \r\n - To deploy all connected services with docker-compose and your application as a separate Docker image?\r\n - To include your dockerized application into a docker-compose file? And run everithing together? In this case, what is with local development?\r\n\r\nThanks in advance for your answers.\r\nBojan","title":"Docker compose and local development","body":"<p>I'm developing Java Spring Boot application and it should be dockerized. This application also needs several other services, so I use compose.yaml to define those. Let's say mysql.\nWhat is the best practice when deploying the solution to the remote server? In gitlab-ci I can copy compose.yaml to the remote server and start the services, but then should I copy my dockerized image to the remote server and start it?\nOr should my image also be defined in docker-compose file, so when I run docker-compose up everithing should work?</p>\n<p>I read that you can define your application in docker-compose like this for local development:\nservices:\napp:\nbuild: .\nports:\n- &quot;9000:8080&quot;\nenvironment:\n- SPRING_PROFILES_ACTIVE=dev\nvolumes:\n- .:/app\n- ~/.m2:/root/.m2</p>\n<p>The question is, when I put everithing to the remote server I can not run this. It should get the last version from the local docker repository.</p>\n<p>What is the best practice:</p>\n<ul>\n<li>To deploy all connected services with docker-compose and your application as a separate Docker image?</li>\n<li>To include your dockerized application into a docker-compose file? And run everithing together? In this case, what is with local development?</li>\n</ul>\n<p>Thanks in advance for your answers.\nBojan</p>\n"},{"tags":["java","user-interface","jframe","jpanel","jlabel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1701720914,"post_id":77601791,"comment_id":136808607,"body_markdown":"1) *all throwing errors.* - and the error are? 2) Don&#39;t use a null layout and setBounds(). Swing was designed to be used with layout managers. 3) Method names should NOT start with an upper case character. Learn and follow Java naming conventions. 4) Post a [mre] that demonstrates the problem. We should be able to copy/paste/compile/test to see the described behaviour.","body":"1) <i>all throwing errors.</i> - and the error are? 2) Don&#39;t use a null layout and setBounds(). Swing was designed to be used with layout managers. 3) Method names should NOT start with an upper case character. Learn and follow Java naming conventions. 4) Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem. We should be able to copy/paste/compile/test to see the described behaviour."}],"owner":{"account_id":19093882,"reputation":1,"user_id":13943600,"display_name":"McBoomer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701714413,"creation_date":1701714413,"question_id":77601791,"body_markdown":"This program takes user input for courses and outputs the best possible course that they should research for their post-secondary options. The issue is basically when I Fill in this information in the surveyFrame which is functional I know that,\r\nProgram name: Actuarial Science\r\nInstitution: University of Waterloo\r\nFaculty: Faculty of Math\r\nProgram Duration (years): 4\r\nGuidline: 88\r\nTuition Fee ($): 123456\r\n\r\nThen a new frame should open with three panels that show each course that is related to their input.\r\n\r\nAll I need help with is that the panels don&#39;t show up and the contentPanel Panel objects are all throwing errors.\r\n\r\n\r\n```\r\n/* Note: https://stackoverflow.com/questions/27209669/getting-paintcomponent-\r\n * elements-of-a-jpanel-to-work-with-another-jpanel-inside-o: used from line 48 to 50\r\n */\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.Box;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.ImageIcon;\r\n\r\npublic class ResultJFrame extends JFrame implements ActionListener {\r\n\tJButton backButton;\r\n\tJPanel buttonPanel;\r\n\tJLabel header;\r\n\tJPanel headerPanel;\r\n\tJPanel tempPanel;\r\n\tJLabel options;\r\n\tJPanel optionsPanel;\r\n\tBox optionsBox1;\r\n\tJPanel contentPanel;\r\n\tBufferedImage img;\r\n\t\r\n\tResultJFrame() {\r\n\t\tsetTitle(&quot;Results&quot;);\r\n\t\tsetSize(1000, 625);\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tsetResizable(false);\r\n\t\t\r\n\t\ttry {\r\n\t\t\timg = ImageIO.read(new File(&quot;images/background.png&quot;));\r\n\r\n\t\t\tcontentPanel = new JPanel(new BorderLayout()) {\r\n\t\t\t\tpublic void paintComponent(Graphics g) {\r\n                    super.paintComponent(g);\r\n                    g.drawImage(img, 0, 0, getWidth(), getHeight(), this);\r\n                }\r\n            };\r\n\t\t\t\r\n            header = new JLabel(&quot;Recommended Programs&quot;);\r\n            header.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\r\n            header.setForeground(Color.WHITE);\r\n\r\n            headerPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n            headerPanel.setOpaque(false);\r\n            headerPanel.add(header);\r\n            contentPanel.add(headerPanel, BorderLayout.NORTH);\r\n\r\n            tempPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n            options = new JLabel(&quot;Option 1                        Option 2&quot; +\r\n                    &quot;                        Option 3&quot;);\r\n            options.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\r\n            options.setForeground(Color.WHITE);\r\n            tempPanel.add(options);\r\n            tempPanel.setOpaque(false);\r\n            tempPanel.setBounds(-15, 60, 1000, 200);\r\n            contentPanel.add(tempPanel);\r\n            \r\n            optionsBox1 = Box.createVerticalBox();\r\n            optionsBox1.add(Box.createVerticalStrut(10));\r\n\r\n            optionsPanel = new JPanel();\r\n            optionsPanel.setOpaque(false);\r\n            optionsPanel.add(optionsBox1);\r\n            contentPanel.add(optionsPanel, BorderLayout.CENTER);\r\n\r\n            backButton = new JButton(&quot;Go Back&quot;);\r\n            backButton.setForeground(Color.WHITE);\r\n            backButton.setBackground(new Color(0, 21, 79));\r\n            backButton.setFocusable(false);\r\n            backButton.addActionListener(this);\r\n            backButton.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\r\n\r\n            buttonPanel = new JPanel();\r\n            buttonPanel.setLayout(null);\r\n            backButton.setBounds(397, 460, 180, 60);\r\n            backButton.setBackground(new Color(0, 21, 79));\r\n            buttonPanel.setOpaque(false);\r\n            buttonPanel.add(backButton);\r\n            contentPanel.add(buttonPanel);\r\n\r\n            setContentPane(contentPanel);\r\n            \r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void Actuarial(int option) {\r\n\t\tJPanel options = new JPanel();\r\n\t\toptions.setBounds(10, 10, 100, 100);\r\n\t\toptions.setBackground(Color.RED);\r\n\t\tadd(options);\r\n\t\t\r\n\t\tJPanel backPlate1 = new JPanel();\r\n\t    backPlate1.setLayout(null);\r\n\t    backPlate1.setBounds(74, 120, 200, 370);\r\n\t    backPlate1.setBackground(new Color(1, 28, 102));\r\n\t\tbackPlate1.setPreferredSize(new Dimension(200, 350));\r\n\t\tcontentPanel.add(backPlate1);\r\n\t    backPlate1.setVisible(true);\r\n\t\t    \t\t    \r\n\t    JPanel backPlate2 = new JPanel();\r\n\t    backPlate2.setLayout(null);\r\n\t    backPlate2.setBounds(387, 120, 200, 370);\r\n\t    backPlate2.setBackground(new Color(1, 28, 102));\r\n\t    backPlate2.setPreferredSize(new Dimension(200, 350));\r\n\t    contentPanel.add(backPlate2);\r\n\t    backPlate2.setVisible(true);\r\n\t          \r\n\t    JPanel backPlate3 = new JPanel();\r\n\t    backPlate3.setLayout(null);\r\n\t    backPlate3.setBounds(697, 120, 200, 370);\r\n\t    backPlate3.setBackground(new Color(1, 28, 102));\r\n\t    backPlate3.setPreferredSize(new Dimension(200, 350));\r\n\t    contentPanel.add(backPlate3);\r\n\t    backPlate3.setVisible(true);\r\n\t        \r\n\t    contentPanel.add(backPlate1);\r\n\t    contentPanel.add(backPlate2);\r\n\t    contentPanel.add(backPlate3);\r\n\t}\r\n\t\r\n\tpublic void actionPerformed(ActionEvent event) {\r\n\t\tif (event.getSource() == backButton) {\r\n\t\t\tthis.dispose();\r\n\t\t\tTitleFrame titleFrame = new TitleFrame();\r\n\t\t\ttitleFrame.getClass();\r\n\t\t\t//go back to title frame\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void ComputationalMathematics(int i) {\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nExpecting 3 panels with the courses.","title":"ContentPanel issue, The content panel is not showing up on the second window when I enter the information","body":"<p>This program takes user input for courses and outputs the best possible course that they should research for their post-secondary options. The issue is basically when I Fill in this information in the surveyFrame which is functional I know that,\nProgram name: Actuarial Science\nInstitution: University of Waterloo\nFaculty: Faculty of Math\nProgram Duration (years): 4\nGuidline: 88\nTuition Fee ($): 123456</p>\n<p>Then a new frame should open with three panels that show each course that is related to their input.</p>\n<p>All I need help with is that the panels don't show up and the contentPanel Panel objects are all throwing errors.</p>\n<pre><code>/* Note: https://stackoverflow.com/questions/27209669/getting-paintcomponent-\n * elements-of-a-jpanel-to-work-with-another-jpanel-inside-o: used from line 48 to 50\n */\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.Box;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.ImageIcon;\n\npublic class ResultJFrame extends JFrame implements ActionListener {\n    JButton backButton;\n    JPanel buttonPanel;\n    JLabel header;\n    JPanel headerPanel;\n    JPanel tempPanel;\n    JLabel options;\n    JPanel optionsPanel;\n    Box optionsBox1;\n    JPanel contentPanel;\n    BufferedImage img;\n    \n    ResultJFrame() {\n        setTitle(&quot;Results&quot;);\n        setSize(1000, 625);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setResizable(false);\n        \n        try {\n            img = ImageIO.read(new File(&quot;images/background.png&quot;));\n\n            contentPanel = new JPanel(new BorderLayout()) {\n                public void paintComponent(Graphics g) {\n                    super.paintComponent(g);\n                    g.drawImage(img, 0, 0, getWidth(), getHeight(), this);\n                }\n            };\n            \n            header = new JLabel(&quot;Recommended Programs&quot;);\n            header.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\n            header.setForeground(Color.WHITE);\n\n            headerPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n            headerPanel.setOpaque(false);\n            headerPanel.add(header);\n            contentPanel.add(headerPanel, BorderLayout.NORTH);\n\n            tempPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n            options = new JLabel(&quot;Option 1                        Option 2&quot; +\n                    &quot;                        Option 3&quot;);\n            options.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\n            options.setForeground(Color.WHITE);\n            tempPanel.add(options);\n            tempPanel.setOpaque(false);\n            tempPanel.setBounds(-15, 60, 1000, 200);\n            contentPanel.add(tempPanel);\n            \n            optionsBox1 = Box.createVerticalBox();\n            optionsBox1.add(Box.createVerticalStrut(10));\n\n            optionsPanel = new JPanel();\n            optionsPanel.setOpaque(false);\n            optionsPanel.add(optionsBox1);\n            contentPanel.add(optionsPanel, BorderLayout.CENTER);\n\n            backButton = new JButton(&quot;Go Back&quot;);\n            backButton.setForeground(Color.WHITE);\n            backButton.setBackground(new Color(0, 21, 79));\n            backButton.setFocusable(false);\n            backButton.addActionListener(this);\n            backButton.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\n\n            buttonPanel = new JPanel();\n            buttonPanel.setLayout(null);\n            backButton.setBounds(397, 460, 180, 60);\n            backButton.setBackground(new Color(0, 21, 79));\n            buttonPanel.setOpaque(false);\n            buttonPanel.add(backButton);\n            contentPanel.add(buttonPanel);\n\n            setContentPane(contentPanel);\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void Actuarial(int option) {\n        JPanel options = new JPanel();\n        options.setBounds(10, 10, 100, 100);\n        options.setBackground(Color.RED);\n        add(options);\n        \n        JPanel backPlate1 = new JPanel();\n        backPlate1.setLayout(null);\n        backPlate1.setBounds(74, 120, 200, 370);\n        backPlate1.setBackground(new Color(1, 28, 102));\n        backPlate1.setPreferredSize(new Dimension(200, 350));\n        contentPanel.add(backPlate1);\n        backPlate1.setVisible(true);\n                        \n        JPanel backPlate2 = new JPanel();\n        backPlate2.setLayout(null);\n        backPlate2.setBounds(387, 120, 200, 370);\n        backPlate2.setBackground(new Color(1, 28, 102));\n        backPlate2.setPreferredSize(new Dimension(200, 350));\n        contentPanel.add(backPlate2);\n        backPlate2.setVisible(true);\n              \n        JPanel backPlate3 = new JPanel();\n        backPlate3.setLayout(null);\n        backPlate3.setBounds(697, 120, 200, 370);\n        backPlate3.setBackground(new Color(1, 28, 102));\n        backPlate3.setPreferredSize(new Dimension(200, 350));\n        contentPanel.add(backPlate3);\n        backPlate3.setVisible(true);\n            \n        contentPanel.add(backPlate1);\n        contentPanel.add(backPlate2);\n        contentPanel.add(backPlate3);\n    }\n    \n    public void actionPerformed(ActionEvent event) {\n        if (event.getSource() == backButton) {\n            this.dispose();\n            TitleFrame titleFrame = new TitleFrame();\n            titleFrame.getClass();\n            //go back to title frame\n        }\n    }\n\n    public static void ComputationalMathematics(int i) {\n        \n    }\n}\n\n</code></pre>\n<p>Expecting 3 panels with the courses.</p>\n"},{"tags":["java","amazon-web-services","aws-app-config"],"owner":{"account_id":4602146,"reputation":123,"user_id":3732554,"accept_rate":25,"display_name":"SVG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701713872,"creation_date":1701713872,"question_id":77601747,"body_markdown":"I am trying to fetch values from AppConfig Feature Flags by following the steps mentioned at https://docs.aws.amazon.com/appconfig/2019-10-09/APIReference/API_appconfigdata_GetLatestConfiguration.html#API_appconfigdata_GetLatestConfiguration_Examples\r\n\r\nCurrent functional code is as follows:\r\n\r\n    StartConfigurationSessionRequest session = new StartConfigurationSessionRequest()\r\n                    .withApplicationIdentifier(application)\r\n                    .withEnvironmentIdentifier(environment)\r\n                    .withConfigurationProfileIdentifier(configuration)\r\n                    .withRequiredMinimumPollIntervalInSeconds(15);\r\n            String token = appDataConfigClient.startConfigurationSession(session).getInitialConfigurationToken();\r\n            StartConfigurationSessionResult sessionResult = appDataConfigClient.startConfigurationSession(session).withInitialConfigurationToken(token);\r\n    \r\n    \r\n            GetLatestConfigurationRequest getLatestConfigurationRequest = new GetLatestConfigurationRequest().withConfigurationToken(sessionResult.getInitialConfigurationToken());\r\n            GetLatestConfigurationResult getLatestConfigurationResult = appDataConfigClient.getLatestConfiguration(getLatestConfigurationRequest);\r\n            ByteBuffer configurationValue = getLatestConfigurationResult.getConfiguration();\r\n    \r\n            String converted = new String(configurationValue.array(), &quot;UTF-8&quot;);\r\n\r\nHowever, I am just receiving the list of values from the Feature Flags and not the list of keys associated with them. Is there a way to fetch the list of Feature Flags? The getConfiguration method in AppConfig SDK seems to be deprecated. \r\n","title":"AWS Java SDK V2: Fetch list of Feature Flags including key and value","body":"<p>I am trying to fetch values from AppConfig Feature Flags by following the steps mentioned at <a href=\"https://docs.aws.amazon.com/appconfig/2019-10-09/APIReference/API_appconfigdata_GetLatestConfiguration.html#API_appconfigdata_GetLatestConfiguration_Examples\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/appconfig/2019-10-09/APIReference/API_appconfigdata_GetLatestConfiguration.html#API_appconfigdata_GetLatestConfiguration_Examples</a></p>\n<p>Current functional code is as follows:</p>\n<pre><code>StartConfigurationSessionRequest session = new StartConfigurationSessionRequest()\n                .withApplicationIdentifier(application)\n                .withEnvironmentIdentifier(environment)\n                .withConfigurationProfileIdentifier(configuration)\n                .withRequiredMinimumPollIntervalInSeconds(15);\n        String token = appDataConfigClient.startConfigurationSession(session).getInitialConfigurationToken();\n        StartConfigurationSessionResult sessionResult = appDataConfigClient.startConfigurationSession(session).withInitialConfigurationToken(token);\n\n\n        GetLatestConfigurationRequest getLatestConfigurationRequest = new GetLatestConfigurationRequest().withConfigurationToken(sessionResult.getInitialConfigurationToken());\n        GetLatestConfigurationResult getLatestConfigurationResult = appDataConfigClient.getLatestConfiguration(getLatestConfigurationRequest);\n        ByteBuffer configurationValue = getLatestConfigurationResult.getConfiguration();\n\n        String converted = new String(configurationValue.array(), &quot;UTF-8&quot;);\n</code></pre>\n<p>However, I am just receiving the list of values from the Feature Flags and not the list of keys associated with them. Is there a way to fetch the list of Feature Flags? The getConfiguration method in AppConfig SDK seems to be deprecated.</p>\n"},{"tags":["java","spring","java-8"],"comments":[{"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"score":2,"creation_date":1526043539,"post_id":50292660,"comment_id":87602011,"body_markdown":"Did you try [Spring Expression Language](https://docs.spring.io/spring/docs/5.0.6.RELEASE/spring-framework-reference/core.html#expressions-beandef) ??","body":"Did you try <a href=\"https://docs.spring.io/spring/docs/5.0.6.RELEASE/spring-framework-reference/core.html#expressions-beandef\" rel=\"nofollow noreferrer\">Spring Expression Language</a> ??"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1526043587,"post_id":50292660,"comment_id":87602043,"body_markdown":"It&#180;s also in Spring 4.15? Regards.","body":"It&#180;s also in Spring 4.15? Regards."},{"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"score":0,"creation_date":1526043703,"post_id":50292660,"comment_id":87602111,"body_markdown":"As i remember it supporting from 3 version til now","body":"As i remember it supporting from 3 version til now"}],"answers":[{"tags":[],"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1526044154,"creation_date":1526044154,"answer_id":50293074,"question_id":50292660,"body_markdown":"For simple date try to use SpEL\r\ninstead of `{timestamp}`  -&gt; `#{new java.util.Date().toString()}`","title":"Use timestamp in Spring configuration","body":"<p>For simple date try to use SpEL\ninstead of <code>{timestamp}</code>  -> <code>#{new java.util.Date().toString()}</code></p>\n"},{"comments":[{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":1,"creation_date":1526045477,"post_id":50293438,"comment_id":87603249,"body_markdown":"Good to know, but the answer #{new java.util.Date().toString()} dont require any implementation","body":"Good to know, but the answer #{new java.util.Date().toString()} dont require any implementation"},{"owner":{"account_id":2817991,"reputation":3469,"user_id":2422530,"accept_rate":56,"display_name":"Pallav Jha"},"score":0,"creation_date":1526045793,"post_id":50293438,"comment_id":87603439,"body_markdown":"Yes, `#{new java.util.Date().toString()}` is easy to use, however, if any modification is required then a method for that would be nicer.","body":"Yes, <code>#{new java.util.Date().toString()}</code> is easy to use, however, if any modification is required then a method for that would be nicer."}],"tags":[],"owner":{"account_id":2817991,"reputation":3469,"user_id":2422530,"accept_rate":56,"display_name":"Pallav Jha"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526045354,"creation_date":1526045354,"answer_id":50293438,"question_id":50292660,"body_markdown":"Below class has a method returning the current timestamp It&#39;ll be executed to get the current timestamp.\r\n\r\n    public class CurrTime {\r\n\r\n        public long getCurrTimestamp() {\r\n            return System.currentTimeMillis();\r\n        }\r\n\r\n    }\r\n\r\n\r\nIn `xml` file create a bean of above class\r\n\r\n    &lt;bean id=&quot;currTime&quot; class=&quot;path.to.CurrTime&quot;&gt;&lt;/bean&gt;\r\n\r\nand then the current timestamp can be accessed as,\r\n\r\n    #{currTime.getCurrTimestamp()}","title":"Use timestamp in Spring configuration","body":"<p>Below class has a method returning the current timestamp It'll be executed to get the current timestamp.</p>\n\n<pre><code>public class CurrTime {\n\n    public long getCurrTimestamp() {\n        return System.currentTimeMillis();\n    }\n\n}\n</code></pre>\n\n<p>In <code>xml</code> file create a bean of above class</p>\n\n<pre><code>&lt;bean id=\"currTime\" class=\"path.to.CurrTime\"&gt;&lt;/bean&gt;\n</code></pre>\n\n<p>and then the current timestamp can be accessed as,</p>\n\n<pre><code>#{currTime.getCurrTimestamp()}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22112480,"reputation":21,"user_id":16367155,"display_name":"Rahul Sheth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685007198,"creation_date":1685007198,"answer_id":76330817,"question_id":50292660,"body_markdown":"#{T(java.lang.System).currentTimeMillis()}","title":"Use timestamp in Spring configuration","body":"<p>#{T(java.lang.System).currentTimeMillis()}</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50293074,"answer_count":3,"score":0,"last_activity_date":1701713852,"creation_date":1526042684,"question_id":50292660,"body_markdown":"In Spring configuration can we have a timestamp or uuid to be dynamic value when we start the service?\r\n\r\n    &lt;bean id=&quot;atomikosUserTransactionService&quot; class=&quot;com.atomikos.icatch.config.UserTransactionServiceImp&quot;\r\n              init-method=&quot;init&quot; destroy-method=&quot;shutdownForce&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;com.atomikos.icatch.output_dir&quot;&gt;{timestamp}/log/&lt;/prop&gt;\r\n                    &lt;prop key=&quot;com.atomikos.icatch.log_base_dir&quot;&gt;{timestamp}/log/&lt;/prop&gt;\r\n                    &lt;!--&lt;prop key=&quot;com.atomikos.icatch.max_actives&quot;&gt;1000&lt;/prop&gt;--&gt;\r\n                &lt;/props&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n\r\nI would like to put the folder directory with timestamp every time we run the application.\r\n\r\nI&#180;m using Spring 4.15 and I cannot upgrade for now.\r\n\r\nRegards.","title":"Use timestamp in Spring configuration","body":"<p>In Spring configuration can we have a timestamp or uuid to be dynamic value when we start the service?</p>\n\n<pre><code>&lt;bean id=\"atomikosUserTransactionService\" class=\"com.atomikos.icatch.config.UserTransactionServiceImp\"\n          init-method=\"init\" destroy-method=\"shutdownForce\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;props&gt;\n                &lt;prop key=\"com.atomikos.icatch.output_dir\"&gt;{timestamp}/log/&lt;/prop&gt;\n                &lt;prop key=\"com.atomikos.icatch.log_base_dir\"&gt;{timestamp}/log/&lt;/prop&gt;\n                &lt;!--&lt;prop key=\"com.atomikos.icatch.max_actives\"&gt;1000&lt;/prop&gt;--&gt;\n            &lt;/props&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>I would like to put the folder directory with timestamp every time we run the application.</p>\n\n<p>I´m using Spring 4.15 and I cannot upgrade for now.</p>\n\n<p>Regards.</p>\n"},{"tags":["java","android-studio","samsung-galaxy"],"answers":[{"tags":[],"owner":{"account_id":9865628,"reputation":199,"user_id":7307194,"display_name":"Simon Giesen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701713849,"creation_date":1701713849,"answer_id":77601742,"question_id":77600431,"body_markdown":"It turns out that you have to assign a font colour to the text in the text view. If the device is in dark mode, the text won’t be shown.","title":"Rendering Problem on Samsung Devices with Android 14 and One UI 6","body":"<p>It turns out that you have to assign a font colour to the text in the text view. If the device is in dark mode, the text won’t be shown.</p>\n"}],"owner":{"account_id":9865628,"reputation":199,"user_id":7307194,"display_name":"Simon Giesen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701713849,"creation_date":1701701900,"question_id":77600431,"body_markdown":"I am puzzled. I have done this layout in Android Studio. It is rendering fine on all devices except Samsung with Android 14 and One UI 6. Can you spot any problems in this XML causing the Text View to disappear on Samsung Devices?\r\n\r\nI have verified the XML on Sony Xperia 1 family mobiles and on Pixel 7 Pro Devices.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/background&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;0dp&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;430dp&quot;\r\n            android:layout_height=&quot;253dp&quot;\r\n            android:background=&quot;@drawable/background_portrait&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;com.mikhaellopez.circularimageview.CircularImageView\r\n            android:id=&quot;@+id/circularImageView&quot;\r\n            android:layout_width=&quot;150dp&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;200dp&quot;\r\n            android:src=&quot;@drawable/stradislogo&quot;\r\n            app:civ_border_color=&quot;@color/semiTransparentWhite&quot;\r\n            app:civ_border_width=&quot;10dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;168dp&quot;\r\n            android:layout_marginTop=&quot;260dp&quot;\r\n            android:fontFamily=&quot;sans-serif-light&quot;\r\n            android:text=&quot;Anfahrt&quot;\r\n            android:textColor=&quot;@android:color/black&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;159dp&quot;\r\n            android:layout_height=&quot;44dp&quot;\r\n            android:layout_marginStart=&quot;168dp&quot;\r\n            android:layout_marginTop=&quot;300dp&quot;\r\n            android:fontFamily=&quot;sans-serif-light&quot;\r\n            android:text=&quot;Plasmaspende-Zentrum in Egelsbach&quot;\r\n            android:textSize=&quot;14sp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;351dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;com.google.android.material.button.MaterialButton\r\n                    android:id=&quot;@+id/routenplanung&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;16dp&quot;\r\n                    android:layout_marginEnd=&quot;10dp&quot;\r\n                    android:layout_marginBottom=&quot;10dp&quot;\r\n                    android:backgroundTint=&quot;@color/colorAccent&quot;\r\n                    android:text=&quot;Routenplanung&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    app:cornerRadius=&quot;20dp&quot; /&gt;\r\n\r\n                &lt;!-- Map View --&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView6&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginEnd=&quot;10dp&quot;\r\n                    android:text=&quot;@string/stradis_med_gmbh_anfahrt&quot; /&gt;\r\n\r\n                &lt;fragment\r\n                    android:id=&quot;@+id/mapFragment&quot;\r\n                    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;200dp&quot;\r\n                    android:layout_marginTop=&quot;16dp&quot; /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\n        &lt;/ScrollView&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Rendering Problem on Samsung Devices with Android 14 and One UI 6","body":"<p>I am puzzled. I have done this layout in Android Studio. It is rendering fine on all devices except Samsung with Android 14 and One UI 6. Can you spot any problems in this XML causing the Text View to disappear on Samsung Devices?</p>\n<p>I have verified the XML on Sony Xperia 1 family mobiles and on Pixel 7 Pro Devices.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/background\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginTop=\"0dp\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"430dp\"\n        android:layout_height=\"253dp\"\n        android:background=\"@drawable/background_portrait\"\n        tools:layout_editor_absoluteX=\"0dp\"\n        tools:layout_editor_absoluteY=\"0dp\"&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;com.mikhaellopez.circularimageview.CircularImageView\n        android:id=\"@+id/circularImageView\"\n        android:layout_width=\"150dp\"\n        android:layout_height=\"150dp\"\n        android:layout_marginStart=\"16dp\"\n        android:layout_marginTop=\"200dp\"\n        android:src=\"@drawable/stradislogo\"\n        app:civ_border_color=\"@color/semiTransparentWhite\"\n        app:civ_border_width=\"10dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"168dp\"\n        android:layout_marginTop=\"260dp\"\n        android:fontFamily=\"sans-serif-light\"\n        android:text=\"Anfahrt\"\n        android:textColor=\"@android:color/black\"\n        android:textSize=\"30sp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"159dp\"\n        android:layout_height=\"44dp\"\n        android:layout_marginStart=\"168dp\"\n        android:layout_marginTop=\"300dp\"\n        android:fontFamily=\"sans-serif-light\"\n        android:text=\"Plasmaspende-Zentrum in Egelsbach\"\n        android:textSize=\"14sp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;ScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_marginTop=\"351dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:id=\"@+id/routenplanung\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:backgroundTint=\"@color/colorAccent\"\n                android:text=\"Routenplanung\"\n                android:textColor=\"@color/white\"\n                app:cornerRadius=\"20dp\" /&gt;\n\n            &lt;!-- Map View --&gt;\n            &lt;TextView\n                android:id=\"@+id/textView6\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"10dp\"\n                android:text=\"@string/stradis_med_gmbh_anfahrt\" /&gt;\n\n            &lt;fragment\n                android:id=\"@+id/mapFragment\"\n                android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"200dp\"\n                android:layout_marginTop=\"16dp\" /&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n\n\n\n    &lt;/ScrollView&gt;\n\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","caching","weak-references"],"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1505711324,"post_id":1802809,"comment_id":79506232,"body_markdown":"Java API is full of weird quirks. You can always rewrite WeakHashMap using WeakReference.","body":"Java API is full of weird quirks. You can always rewrite WeakHashMap using WeakReference."}],"answers":[{"comments":[{"owner":{"account_id":46830,"reputation":1275,"user_id":138468,"display_name":"Matthew Phillips"},"score":4,"creation_date":1375587223,"post_id":1802879,"comment_id":26390191,"body_markdown":"Just to update this for Aug 2013: Google Collections is now named Guava, and the cache creation logic is now part of the [CacheBuilder](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/index.html) class.","body":"Just to update this for Aug 2013: Google Collections is now named Guava, and the cache creation logic is now part of the <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/index.html\" rel=\"nofollow noreferrer\">CacheBuilder</a> class."},{"owner":{"account_id":24162,"reputation":10032,"user_id":61298,"accept_rate":67,"display_name":"Matt R"},"score":0,"creation_date":1380120895,"post_id":1802879,"comment_id":28082907,"body_markdown":"More precise link: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/cache/CacheBuilder.html","body":"More precise link: <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/cache/CacheBuilder.html\" rel=\"nofollow noreferrer\">docs.guava-libraries.googlecode.com/git-history/release/java&zwnj;&#8203;doc/&hellip;</a>"},{"owner":{"account_id":2736,"reputation":2091,"user_id":3847,"accept_rate":73,"display_name":"jklp"},"score":1,"creation_date":1384316582,"post_id":1802879,"comment_id":29684046,"body_markdown":"Note, I think in your example for MapMaker you were meant to say new MapMaker().softValues().makeMap(), as calling weakValues() gives you the same result as a WeakHashMap.  There&#39;s a great example here for how to build a cache with MapMaker - http://stackoverflow.com/questions/3737140/use-of-google-collections-mapmaker","body":"Note, I think in your example for MapMaker you were meant to say new MapMaker().softValues().makeMap(), as calling weakValues() gives you the same result as a WeakHashMap.  There&#39;s a great example here for how to build a cache with MapMaker - <a href=\"http://stackoverflow.com/questions/3737140/use-of-google-collections-mapmaker\" title=\"use of google collections mapmaker\">stackoverflow.com/questions/3737140/&hellip;</a>"},{"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"score":1,"creation_date":1395641056,"post_id":1802879,"comment_id":34413032,"body_markdown":"jklp - no, weakValues() isn&#39;t the same as a WeakHashMap at all. weakKeys() is the same as a weak hash map. A WeakHashMap holds STRONG references to its values!\n\nAgree that for most cases, soft may make more sense than weak; however, this is a matter of degree (a soft reference _may_, but is not _required to_, be kept around as long as there is no memory pressure; a weak reference will be thrown away next GC cycle) and the semantics are no different.","body":"jklp - no, weakValues() isn&#39;t the same as a WeakHashMap at all. weakKeys() is the same as a weak hash map. A WeakHashMap holds STRONG references to its values!  Agree that for most cases, soft may make more sense than weak; however, this is a matter of degree (a soft reference <i>may</i>, but is not <i>required to</i>, be kept around as long as there is no memory pressure; a weak reference will be thrown away next GC cycle) and the semantics are no different."},{"owner":{"account_id":1227466,"reputation":10105,"user_id":1192761,"accept_rate":57,"display_name":"Kirill Kulakov"},"score":0,"creation_date":1398694612,"post_id":1802879,"comment_id":35747321,"body_markdown":"I&#39;ve spent an hour trying to debug why my cache is not working.... the name is misleading","body":"I&#39;ve spent an hour trying to debug why my cache is not working.... the name is misleading"},{"owner":{"account_id":564775,"reputation":2435,"user_id":196405,"display_name":"Christopher"},"score":2,"creation_date":1502745455,"post_id":1802879,"comment_id":78324354,"body_markdown":"Links are broken.","body":"Links are broken."},{"owner":{"account_id":564775,"reputation":2435,"user_id":196405,"display_name":"Christopher"},"score":0,"creation_date":1502745847,"post_id":1802879,"comment_id":78324520,"body_markdown":"MapMaker.weakValues() isn&#39;t suitable for a cache in many cases, because it forces identity comparison of keys. This isn&#39;t suitable for a cache of objects indexed by a String or some other identifier which you&#39;re not certain to be using the same instance of that object every time. In fact, the whole reason I want to use WeakHashMap or similar, is for deduplicating so I *do* get the same object every time. It&#39;s no good to me if that is a prerequisite characteristic.","body":"MapMaker.weakValues() isn&#39;t suitable for a cache in many cases, because it forces identity comparison of keys. This isn&#39;t suitable for a cache of objects indexed by a String or some other identifier which you&#39;re not certain to be using the same instance of that object every time. In fact, the whole reason I want to use WeakHashMap or similar, is for deduplicating so I <i>do</i> get the same object every time. It&#39;s no good to me if that is a prerequisite characteristic."},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1540720908,"post_id":1802879,"comment_id":92961406,"body_markdown":"Christopher, from the [JavaDoc](https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/cache/CacheBuilder.html#weakValues--) of weakValues(): &quot;Note: when this method is used, the resulting cache will use identity (==) comparison to determine equality of values.&quot; Seems to me that your statement &quot;it forces to identity comparison of keys&quot; is wrong.","body":"Christopher, from the <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/cache/CacheBuilder.html#weakValues--\" rel=\"nofollow noreferrer\">JavaDoc</a> of weakValues(): &quot;Note: when this method is used, the resulting cache will use identity (==) comparison to determine equality of values.&quot; Seems to me that your statement &quot;it forces to identity comparison of keys&quot; is wrong."}],"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"comment_count":8,"down_vote_count":0,"up_vote_count":127,"is_accepted":true,"score":127,"last_activity_date":1701713605,"creation_date":1259231548,"answer_id":1802879,"question_id":1802809,"body_markdown":"WeakHashMap _isn&#39;t_ useful as a cache, at least the way most people think of it. As you say, it uses weak _keys_, not weak _values_, so it&#39;s not designed for what most people want to use it for (and, in fact, I&#39;ve _seen_ people use it for, incorrectly).\r\n\r\nWeakHashMap is mostly useful to keep metadata about objects whose lifecycle you don&#39;t control. For example, if you have a bunch of objects passing through your class, and you want to keep track of extra data about them without needing to be notified when they go out of scope, and without your reference to them keeping them alive.\r\n\r\nA simple example (and one I&#39;ve used before) might be something like:\r\n    \r\n    WeakHashMap&lt;Thread, SomeMetaData&gt;\r\n\r\nwhere you might keep track of what various threads in your system are doing; when the thread dies, the entry will be removed silently from your map, and you won&#39;t keep the Thread from being garbage collected if you&#39;re the last reference to it. You can then iterate over the entries in that map to find out what metadata you have about active threads in your system.\r\n\r\nSee [WeakHashMap in not a cache!][1] for more information.\r\n\r\nFor the type of cache you&#39;re after, either use a dedicated cache system (e.g. [EHCache][2]) or look at [Guava][3]&#39;s [MapMaker class][4]; something like\r\n\r\n    new MapMaker().weakValues().makeMap();\r\n\r\nwill do what you&#39;re after, or if you want to get fancy you can add timed expiration:\r\n\r\n    new MapMaker().weakValues().expiration(5, TimeUnit.MINUTES).makeMap();\r\n\r\n\r\n  [1]: https://web.archive.org/web/20150403082405/http://www.codeinstructions.com/2008/09/weakhashmap-is-not-cache-understanding.html\r\n  [2]: http://ehcache.org/\r\n  [3]: https://guava.dev/\r\n  [4]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/MapMaker.html","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>WeakHashMap <em>isn't</em> useful as a cache, at least the way most people think of it. As you say, it uses weak <em>keys</em>, not weak <em>values</em>, so it's not designed for what most people want to use it for (and, in fact, I've <em>seen</em> people use it for, incorrectly).</p>\n<p>WeakHashMap is mostly useful to keep metadata about objects whose lifecycle you don't control. For example, if you have a bunch of objects passing through your class, and you want to keep track of extra data about them without needing to be notified when they go out of scope, and without your reference to them keeping them alive.</p>\n<p>A simple example (and one I've used before) might be something like:</p>\n<pre><code>WeakHashMap&lt;Thread, SomeMetaData&gt;\n</code></pre>\n<p>where you might keep track of what various threads in your system are doing; when the thread dies, the entry will be removed silently from your map, and you won't keep the Thread from being garbage collected if you're the last reference to it. You can then iterate over the entries in that map to find out what metadata you have about active threads in your system.</p>\n<p>See <a href=\"https://web.archive.org/web/20150403082405/http://www.codeinstructions.com/2008/09/weakhashmap-is-not-cache-understanding.html\" rel=\"nofollow noreferrer\">WeakHashMap in not a cache!</a> for more information.</p>\n<p>For the type of cache you're after, either use a dedicated cache system (e.g. <a href=\"http://ehcache.org/\" rel=\"nofollow noreferrer\">EHCache</a>) or look at <a href=\"https://guava.dev/\" rel=\"nofollow noreferrer\">Guava</a>'s <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/MapMaker.html\" rel=\"nofollow noreferrer\">MapMaker class</a>; something like</p>\n<pre><code>new MapMaker().weakValues().makeMap();\n</code></pre>\n<p>will do what you're after, or if you want to get fancy you can add timed expiration:</p>\n<pre><code>new MapMaker().weakValues().expiration(5, TimeUnit.MINUTES).makeMap();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":2,"creation_date":1359329839,"post_id":1803213,"comment_id":20303420,"body_markdown":"using this solution over time leaves you with many hashmap items that the value has been gc-ed . is there an alternative that uses a similar approach ?","body":"using this solution over time leaves you with many hashmap items that the value has been gc-ed . is there an alternative that uses a similar approach ?"},{"owner":{"account_id":361630,"reputation":3255,"user_id":704335,"accept_rate":50,"display_name":"Timmos"},"score":2,"creation_date":1439991779,"post_id":1803213,"comment_id":52088939,"body_markdown":"A `Map&lt;K, SoftRereference&lt;?&gt;&gt;` approach leaves leaves instances of `SoftReference` in the map that contain `null` referents after GC has run. I think the internal implementation of this map must periodically clear all mappings with a value that is a soft reference holding a `null` referent, for a nice cleanup.","body":"A <code>Map&lt;K, SoftRereference&lt;?&gt;&gt;</code> approach leaves leaves instances of <code>SoftReference</code> in the map that contain <code>null</code> referents after GC has run. I think the internal implementation of this map must periodically clear all mappings with a value that is a soft reference holding a <code>null</code> referent, for a nice cleanup."},{"owner":{"account_id":361630,"reputation":3255,"user_id":704335,"accept_rate":50,"display_name":"Timmos"},"score":5,"creation_date":1439992235,"post_id":1803213,"comment_id":52089347,"body_markdown":"(continuation) Strictly speaking, if a naive programmer uses the implementation `HashMap&lt;K, SoftReference&lt;V&gt;&gt;` then this will induce a memory leak. You might consider to include this in your answer. Have a look at how `WeakHashMap` does it, the Oracle JDK has a private method `expungeStaleEntries` in it that takes care of this cleanup.","body":"(continuation) Strictly speaking, if a naive programmer uses the implementation <code>HashMap&lt;K, SoftReference&lt;V&gt;&gt;</code> then this will induce a memory leak. You might consider to include this in your answer. Have a look at how <code>WeakHashMap</code> does it, the Oracle JDK has a private method <code>expungeStaleEntries</code> in it that takes care of this cleanup."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1505711744,"post_id":1803213,"comment_id":79506355,"body_markdown":"@Timmos, Do you mean that the internal JVM reference from obj instance to SoftReference&lt;V&gt; would prevent collection? **Then it&#39;s a JVM bug that needs to be fixed.**","body":"@Timmos, Do you mean that the internal JVM reference from obj instance to SoftReference&lt;V&gt; would prevent collection? <b>Then it&#39;s a JVM bug that needs to be fixed.</b>"},{"owner":{"account_id":361630,"reputation":3255,"user_id":704335,"accept_rate":50,"display_name":"Timmos"},"score":2,"creation_date":1505727324,"post_id":1803213,"comment_id":79514690,"body_markdown":"No, just the fact that the GC&#39;ed values referenced by SoftReference are still in the map without any purpose, is a memory leak if you fail to take action to remove these SoftReferences from the map. The values contained in SoftReferences will be GC&#39;ed eventually, but the SoftReferences themselves will not. This is the task of the programmer.","body":"No, just the fact that the GC&#39;ed values referenced by SoftReference are still in the map without any purpose, is a memory leak if you fail to take action to remove these SoftReferences from the map. The values contained in SoftReferences will be GC&#39;ed eventually, but the SoftReferences themselves will not. This is the task of the programmer."}],"tags":[],"owner":{"account_id":60641,"reputation":25396,"user_id":181106,"accept_rate":81,"display_name":"uckelman"},"comment_count":5,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1531153077,"creation_date":1259235800,"answer_id":1803213,"question_id":1802809,"body_markdown":"The main use for `WeakHashMap` is when you have mappings which you want to disappear when their keys disappear. A cache is the reverse---you have mappings which you want to disappear when their values disappear.\r\n\r\nFor a cache, what you want is a `Map&lt;K,SoftReference&lt;V&gt;&gt;`. A &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/ref/SoftReference.html&quot;&gt;`SoftReference`&lt;/a&gt; will be garbage-collected when memory gets tight. (Contrast this with a `WeakReference`, which may be cleared as soon as there is no longer a hard reference to its referent.) You want your references to be soft in a cache (at least in one where key-value mappings don&#39;t go stale), since then there is a chance that your values will still be in the cache if you look for them later. If the references were weak instead, your values would be gc&#39;d right away, defeating the purpose of caching.\r\n\r\nFor convenience, you might want to hide the `SoftReference` values inside your `Map` implementation, so that your cache appears to be of type `&lt;K,V&gt;` instead of `&lt;K,SoftReference&lt;V&gt;&gt;`. If you want to do that, &lt;a href=&quot;https://stackoverflow.com/questions/264582/is-there-a-softhashmap-in-java&quot;&gt;this question&lt;/a&gt; has suggestions for implementations available on the net.\r\n\r\nNote also that when you use `SoftReference` values in a `Map`, you _must_ do something to manually remove key-value pairs which have had their `SoftReferences` cleared---otherwise your `Map` will only grow in size forever, and leak memory.","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>The main use for <code>WeakHashMap</code> is when you have mappings which you want to disappear when their keys disappear. A cache is the reverse---you have mappings which you want to disappear when their values disappear.</p>\n\n<p>For a cache, what you want is a <code>Map&lt;K,SoftReference&lt;V&gt;&gt;</code>. A <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/ref/SoftReference.html\" rel=\"noreferrer\"><code>SoftReference</code></a> will be garbage-collected when memory gets tight. (Contrast this with a <code>WeakReference</code>, which may be cleared as soon as there is no longer a hard reference to its referent.) You want your references to be soft in a cache (at least in one where key-value mappings don't go stale), since then there is a chance that your values will still be in the cache if you look for them later. If the references were weak instead, your values would be gc'd right away, defeating the purpose of caching.</p>\n\n<p>For convenience, you might want to hide the <code>SoftReference</code> values inside your <code>Map</code> implementation, so that your cache appears to be of type <code>&lt;K,V&gt;</code> instead of <code>&lt;K,SoftReference&lt;V&gt;&gt;</code>. If you want to do that, <a href=\"https://stackoverflow.com/questions/264582/is-there-a-softhashmap-in-java\">this question</a> has suggestions for implementations available on the net.</p>\n\n<p>Note also that when you use <code>SoftReference</code> values in a <code>Map</code>, you <em>must</em> do something to manually remove key-value pairs which have had their <code>SoftReferences</code> cleared---otherwise your <code>Map</code> will only grow in size forever, and leak memory.</p>\n"},{"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1505712699,"post_id":6416461,"comment_id":79506673,"body_markdown":"`Map&lt;K, V&gt;`, not `Map&lt;K, WeakReference&lt;V&gt;&gt;`. This answer seems to make sense on the surface, but note the missing mappings can be removed every time the user calls `Map.get`, and seeing that [this is exactly how WeakHashMap removes keys](http://archive.is/Z3aK9#selection-1069.117-1069.237), it couldn&#39;t have been that the Java team didn&#39;t realize this.","body":"<code>Map&lt;K, V&gt;</code>, not <code>Map&lt;K, WeakReference&lt;V&gt;&gt;</code>. This answer seems to make sense on the surface, but note the missing mappings can be removed every time the user calls <code>Map.get</code>, and seeing that <a href=\"http://archive.is/Z3aK9#selection-1069.117-1069.237\" rel=\"nofollow noreferrer\">this is exactly how WeakHashMap removes keys</a>, it couldn&#39;t have been that the Java team didn&#39;t realize this."},{"owner":{"account_id":297150,"reputation":1073,"user_id":602506,"accept_rate":40,"display_name":"Shannon"},"score":0,"creation_date":1657748437,"post_id":6416461,"comment_id":128887455,"body_markdown":"@Pacerier You seem to be describing a custom implementation of Map which removes the entry when `get` is called and it finds the `WeakReference`&#39;s reference is null. That is still vulnerable to memory leakage, depending on usage, because it relies on calls to `get` with specific keys. Definitely better to use a cache with a specific eviction mechanism.","body":"@Pacerier You seem to be describing a custom implementation of Map which removes the entry when <code>get</code> is called and it finds the <code>WeakReference</code>&#39;s reference is null. That is still vulnerable to memory leakage, depending on usage, because it relies on calls to <code>get</code> with specific keys. Definitely better to use a cache with a specific eviction mechanism."}],"tags":[],"owner":{"account_id":297150,"reputation":1073,"user_id":602506,"accept_rate":40,"display_name":"Shannon"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1308598556,"creation_date":1308598556,"answer_id":6416461,"question_id":1802809,"body_markdown":"Another thing to consider is that if you take the `Map&lt;K, WeakReference&lt;V&gt;&gt;` approach, the value may disappear, but the mapping will not. Depending on usage, you may as a result end up with a Map containing many entries whose Weak References have been GC&#39;d.","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>Another thing to consider is that if you take the <code>Map&lt;K, WeakReference&lt;V&gt;&gt;</code> approach, the value may disappear, but the mapping will not. Depending on usage, you may as a result end up with a Map containing many entries whose Weak References have been GC'd.</p>\n"},{"comments":[{"owner":{"account_id":248873,"reputation":787,"user_id":524529,"display_name":"Chris Hatton"},"score":3,"creation_date":1430121340,"post_id":16991188,"comment_id":47903743,"body_markdown":"Great answer.  Worth noting that a ReferenceQueue, unlike many other kinds of collection, blocks until a value can be returned from queue.remove().  This means the cleanup thread isn&#39;t the non-waiting infinite loop that first glance might suggest.","body":"Great answer.  Worth noting that a ReferenceQueue, unlike many other kinds of collection, blocks until a value can be returned from queue.remove().  This means the cleanup thread isn&#39;t the non-waiting infinite loop that first glance might suggest."},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":0,"creation_date":1437050051,"post_id":16991188,"comment_id":50875641,"body_markdown":"@Gordon If you use weak keys and weak values, everything is weak and will garbage collected just after you have added it to the cache.","body":"@Gordon If you use weak keys and weak values, everything is weak and will garbage collected just after you have added it to the cache."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1505713370,"post_id":16991188,"comment_id":79506931,"body_markdown":"**This is the answer**. So we can say that therefore it&#39;s for **optimizing  the cleanup phase** that the API is implemented as such.","body":"<b>This is the answer</b>. So we can say that therefore it&#39;s for <b>optimizing  the cleanup phase</b> that the API is implemented as such."}],"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1505713477,"creation_date":1370631763,"answer_id":16991188,"question_id":1802809,"body_markdown":"You need two maps: one which maps between the cache key and [weak referenced][1] values and one in the opposite direction mapping between the weak referenced values and the keys. And you need a [reference queue][2] and a cleanup thread.\r\n\r\nWeak references have the ability to move the reference into a queue when the referenced object can not accessed any longer.  This queue has to be drained by a cleanup thread.  **And for the cleanup it is necessary to get the key for a reference.**  This is the reason why the second map is required.\r\n\r\nThe following example shows how to create a cache with a hash map of weak references. When you run the program you get the following output:\r\n\r\n&lt;pre&gt;\r\n$ javac -Xlint:unchecked Cache.java &amp;&amp; java Cache\r\n{even: [2, 4, 6], odd: [1, 3, 5]}\r\n{even: [2, 4, 6]}\r\n&lt;/pre&gt;\r\n\r\nThe first line shows the contents of the cache before the reference to the odd list has been deleted and the second line after the odds have been deleted.\r\n\r\nThis is the code:\r\n\r\n    import java.lang.ref.Reference;\r\n    import java.lang.ref.ReferenceQueue;\r\n    import java.lang.ref.WeakReference;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    class Cache&lt;K,V&gt;\r\n    {\r\n        ReferenceQueue&lt;V&gt; queue = null;\r\n        Map&lt;K,WeakReference&lt;V&gt;&gt; values = null;\r\n        Map&lt;WeakReference&lt;V&gt;,K&gt; keys = null;\r\n        Thread cleanup = null;\r\n    \r\n        Cache ()\r\n        {\r\n            queue  = new ReferenceQueue&lt;V&gt;();\r\n            keys   = Collections.synchronizedMap (new HashMap&lt;WeakReference&lt;V&gt;,K&gt;());\r\n            values = Collections.synchronizedMap (new HashMap&lt;K,WeakReference&lt;V&gt;&gt;());\r\n            cleanup = new Thread() {\r\n                    public void run() {\r\n                        try {\r\n                            for (;;) {\r\n                                @SuppressWarnings(&quot;unchecked&quot;)\r\n                                WeakReference&lt;V&gt; ref = (WeakReference&lt;V&gt;)queue.remove();\r\n                                K key = keys.get(ref);\r\n                                keys.remove(ref);\r\n                                values.remove(key);\r\n                            }\r\n                        }\r\n                        catch (InterruptedException e) {}\r\n                    }\r\n                };\r\n            cleanup.setDaemon (true);\r\n            cleanup.start();\r\n        }\r\n    \r\n        void stop () {\r\n            cleanup.interrupt();\r\n        }\r\n    \r\n        V get (K key) {\r\n            return values.get(key).get();\r\n        }\r\n    \r\n        void put (K key, V value) {\r\n            WeakReference&lt;V&gt; ref = new WeakReference&lt;V&gt;(value, queue);\r\n            keys.put (ref, key);\r\n            values.put (key, ref);\r\n        }\r\n    \r\n        public String toString() {\r\n            StringBuilder str = new StringBuilder();\r\n            str.append (&quot;{&quot;);\r\n            boolean first = true;\r\n            for (Map.Entry&lt;K,WeakReference&lt;V&gt;&gt; entry : values.entrySet()) {\r\n                if (first)\r\n                    first = false;\r\n                else\r\n                    str.append (&quot;, &quot;);\r\n                str.append (entry.getKey());\r\n                str.append (&quot;: &quot;);\r\n                str.append (entry.getValue().get());\r\n            }\r\n            str.append (&quot;}&quot;);\r\n            return str.toString();\r\n        }\r\n    \r\n        static void gc (int loop, int delay) throws Exception\r\n        {\r\n            for (int n = loop; n &gt; 0; n--) {\r\n                Thread.sleep(delay);\r\n                System.gc(); // &lt;- obstinate donkey\r\n            }\r\n        }\r\n    \r\n        public static void main (String[] args) throws Exception\r\n        {\r\n            // Create the cache\r\n            Cache&lt;String,List&gt; c = new Cache&lt;String,List&gt;();\r\n    \r\n            // Create some values\r\n            List odd = Arrays.asList(new Object[]{1,3,5});\r\n            List even = Arrays.asList(new Object[]{2,4,6});\r\n    \r\n            // Save them in the cache\r\n            c.put (&quot;odd&quot;, odd);\r\n            c.put (&quot;even&quot;, even);\r\n    \r\n            // Display the cache contents\r\n            System.out.println (c);\r\n    \r\n            // Erase one value;\r\n            odd = null;\r\n    \r\n            // Force garbage collection\r\n            gc (10, 10);\r\n    \r\n            // Display the cache again\r\n            System.out.println (c);\r\n    \r\n            // Stop cleanup thread\r\n            c.stop();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>You need two maps: one which maps between the cache key and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html\" rel=\"noreferrer\">weak referenced</a> values and one in the opposite direction mapping between the weak referenced values and the keys. And you need a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html\" rel=\"noreferrer\">reference queue</a> and a cleanup thread.</p>\n\n<p>Weak references have the ability to move the reference into a queue when the referenced object can not accessed any longer.  This queue has to be drained by a cleanup thread.  <strong>And for the cleanup it is necessary to get the key for a reference.</strong>  This is the reason why the second map is required.</p>\n\n<p>The following example shows how to create a cache with a hash map of weak references. When you run the program you get the following output:</p>\n\n<pre>\n$ javac -Xlint:unchecked Cache.java && java Cache\n{even: [2, 4, 6], odd: [1, 3, 5]}\n{even: [2, 4, 6]}\n</pre>\n\n<p>The first line shows the contents of the cache before the reference to the odd list has been deleted and the second line after the odds have been deleted.</p>\n\n<p>This is the code:</p>\n\n<pre><code>import java.lang.ref.Reference;\nimport java.lang.ref.ReferenceQueue;\nimport java.lang.ref.WeakReference;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nclass Cache&lt;K,V&gt;\n{\n    ReferenceQueue&lt;V&gt; queue = null;\n    Map&lt;K,WeakReference&lt;V&gt;&gt; values = null;\n    Map&lt;WeakReference&lt;V&gt;,K&gt; keys = null;\n    Thread cleanup = null;\n\n    Cache ()\n    {\n        queue  = new ReferenceQueue&lt;V&gt;();\n        keys   = Collections.synchronizedMap (new HashMap&lt;WeakReference&lt;V&gt;,K&gt;());\n        values = Collections.synchronizedMap (new HashMap&lt;K,WeakReference&lt;V&gt;&gt;());\n        cleanup = new Thread() {\n                public void run() {\n                    try {\n                        for (;;) {\n                            @SuppressWarnings(\"unchecked\")\n                            WeakReference&lt;V&gt; ref = (WeakReference&lt;V&gt;)queue.remove();\n                            K key = keys.get(ref);\n                            keys.remove(ref);\n                            values.remove(key);\n                        }\n                    }\n                    catch (InterruptedException e) {}\n                }\n            };\n        cleanup.setDaemon (true);\n        cleanup.start();\n    }\n\n    void stop () {\n        cleanup.interrupt();\n    }\n\n    V get (K key) {\n        return values.get(key).get();\n    }\n\n    void put (K key, V value) {\n        WeakReference&lt;V&gt; ref = new WeakReference&lt;V&gt;(value, queue);\n        keys.put (ref, key);\n        values.put (key, ref);\n    }\n\n    public String toString() {\n        StringBuilder str = new StringBuilder();\n        str.append (\"{\");\n        boolean first = true;\n        for (Map.Entry&lt;K,WeakReference&lt;V&gt;&gt; entry : values.entrySet()) {\n            if (first)\n                first = false;\n            else\n                str.append (\", \");\n            str.append (entry.getKey());\n            str.append (\": \");\n            str.append (entry.getValue().get());\n        }\n        str.append (\"}\");\n        return str.toString();\n    }\n\n    static void gc (int loop, int delay) throws Exception\n    {\n        for (int n = loop; n &gt; 0; n--) {\n            Thread.sleep(delay);\n            System.gc(); // &lt;- obstinate donkey\n        }\n    }\n\n    public static void main (String[] args) throws Exception\n    {\n        // Create the cache\n        Cache&lt;String,List&gt; c = new Cache&lt;String,List&gt;();\n\n        // Create some values\n        List odd = Arrays.asList(new Object[]{1,3,5});\n        List even = Arrays.asList(new Object[]{2,4,6});\n\n        // Save them in the cache\n        c.put (\"odd\", odd);\n        c.put (\"even\", even);\n\n        // Display the cache contents\n        System.out.println (c);\n\n        // Erase one value;\n        odd = null;\n\n        // Force garbage collection\n        gc (10, 10);\n\n        // Display the cache again\n        System.out.println (c);\n\n        // Stop cleanup thread\n        c.stop();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665791266,"creation_date":1665791266,"answer_id":74075728,"question_id":1802809,"body_markdown":"If you need weak values it&#39;s surprisingly easy:\r\n\r\n\tpublic final class SimpleCache&lt;K,V&gt; {\r\n\t\tprivate final HashMap&lt;K,Ref&lt;K,V&gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\tprivate final ReferenceQueue&lt;V&gt; queue = new ReferenceQueue&lt;&gt;();\r\n\t\t\r\n\t\tprivate static final class Ref&lt;K,V&gt; extends WeakReference&lt;V&gt; {\r\n\t\t\tfinal K key;\r\n\t\t\t\r\n\t\t\tRef(K key, V value, ReferenceQueue&lt;V&gt; queue) {\r\n\t\t\t\tsuper(value, queue);\r\n\t\t\t\tthis.key = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tprivate synchronized void gc() {\r\n\t\t\tfor (Ref&lt;?,?&gt; ref; (ref = (Ref&lt;?,?&gt;)queue.poll()) != null;)\r\n\t\t\t\tmap.remove(ref.key, ref);\r\n\t\t}\r\n\t\t\r\n\t\tpublic synchronized V getOrCreate(K key, Function&lt;K,V&gt; creator) {\r\n\t\t\tgc();\r\n\t\t\tRef&lt;K,V&gt; ref = map.get(key);\r\n\t\t\tV v = ref == null ? null : ref.get();\r\n\t\t\tif (v == null) {\r\n\t\t\t\tv = Objects.requireNonNull(creator.apply(key));\r\n\t\t\t\tmap.put(key, new Ref&lt;&gt;(key, v, queue));\r\n\t\t\t}\r\n\t\t\treturn v;\r\n\t\t}\r\n\t\t\r\n\t\tpublic synchronized void remove(K key) {\r\n\t\t\tgc();\r\n\t\t\tmap.remove(key);\r\n\t\t}\r\n\t}\r\n\r\nNo need for multiple threads; stale map entries are removed by polling the reference queue opportunistically when other methods are called. (This is also how WeakHashMap works.)\r\n\r\nExample:\r\n\t\r\n\tstatic final SimpleCache&lt;File,BigObject&gt; cache = new SimpleCache&lt;&gt;();\r\n\t\r\n\t...\r\n\t\r\n\t// if there is already a BigObject generated for this file,\r\n\t// and it is hasn&#39;t been garbage-collected yet, it is returned;\r\n\t// otherwise, its constructor is called to create one\r\n\tBigObject bo = cache.getOrCreate(fileName, BigObject::new)\r\n\t// it will be gc&#39;d after nothing in the program keeps a strong ref any more\r\n","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>If you need weak values it's surprisingly easy:</p>\n<pre><code>public final class SimpleCache&lt;K,V&gt; {\n    private final HashMap&lt;K,Ref&lt;K,V&gt;&gt; map = new HashMap&lt;&gt;();\n    private final ReferenceQueue&lt;V&gt; queue = new ReferenceQueue&lt;&gt;();\n    \n    private static final class Ref&lt;K,V&gt; extends WeakReference&lt;V&gt; {\n        final K key;\n        \n        Ref(K key, V value, ReferenceQueue&lt;V&gt; queue) {\n            super(value, queue);\n            this.key = key;\n        }\n    }\n    \n    private synchronized void gc() {\n        for (Ref&lt;?,?&gt; ref; (ref = (Ref&lt;?,?&gt;)queue.poll()) != null;)\n            map.remove(ref.key, ref);\n    }\n    \n    public synchronized V getOrCreate(K key, Function&lt;K,V&gt; creator) {\n        gc();\n        Ref&lt;K,V&gt; ref = map.get(key);\n        V v = ref == null ? null : ref.get();\n        if (v == null) {\n            v = Objects.requireNonNull(creator.apply(key));\n            map.put(key, new Ref&lt;&gt;(key, v, queue));\n        }\n        return v;\n    }\n    \n    public synchronized void remove(K key) {\n        gc();\n        map.remove(key);\n    }\n}\n</code></pre>\n<p>No need for multiple threads; stale map entries are removed by polling the reference queue opportunistically when other methods are called. (This is also how WeakHashMap works.)</p>\n<p>Example:</p>\n<pre><code>static final SimpleCache&lt;File,BigObject&gt; cache = new SimpleCache&lt;&gt;();\n\n...\n\n// if there is already a BigObject generated for this file,\n// and it is hasn't been garbage-collected yet, it is returned;\n// otherwise, its constructor is called to create one\nBigObject bo = cache.getOrCreate(fileName, BigObject::new)\n// it will be gc'd after nothing in the program keeps a strong ref any more\n</code></pre>\n"}],"owner":{"account_id":43447,"reputation":43136,"user_id":127013,"accept_rate":66,"display_name":"mxk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29289,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":1802879,"answer_count":5,"score":75,"last_activity_date":1701713605,"creation_date":1259230611,"question_id":1802809,"body_markdown":"Java&#39;s [WeakHashMap][1] is often cited as being useful for caching. It seems odd though that its weak references are defined in terms of the map&#39;s keys, not its values. I mean, it&#39;s the values I want to cache, and which I want to get garbage collected once no-one else besides the cache is strongly referencing them, no?\r\n\r\nIn which way does it help to hold weak references to the keys? If you do a `ExpensiveObject o = weakHashMap.get(&quot;some_key&quot;)`, then I want the cache to hold on to &#39;o&#39; until the caller doesn&#39;t hold the strong reference anymore, and I don&#39;t care at all about the string object &quot;some_key&quot;.\r\n\r\nAm I missing something?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/WeakHashMap.html","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>Java's <a href=\"http://developer.android.com/reference/java/util/WeakHashMap.html\" rel=\"noreferrer\">WeakHashMap</a> is often cited as being useful for caching. It seems odd though that its weak references are defined in terms of the map's keys, not its values. I mean, it's the values I want to cache, and which I want to get garbage collected once no-one else besides the cache is strongly referencing them, no?</p>\n\n<p>In which way does it help to hold weak references to the keys? If you do a <code>ExpensiveObject o = weakHashMap.get(\"some_key\")</code>, then I want the cache to hold on to 'o' until the caller doesn't hold the strong reference anymore, and I don't care at all about the string object \"some_key\".</p>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","sockets","synchronization","threadpool","objectoutputstream"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701264000,"post_id":77570738,"comment_id":136753785,"body_markdown":"Are you sure the recipient is reading the data? The sender might be blocked waiting for space to become available if the socket output buffer is full because the socket input buffer on the other side is full (e.g. because the recipient is not reading the data). Have you dumped the stacktraces of all threads to see where it is actually stuck? As an aside, I personally would never use `ObjectInputStream`/`ObjectOutputStream` for this.","body":"Are you sure the recipient is reading the data? The sender might be blocked waiting for space to become available if the socket output buffer is full because the socket input buffer on the other side is full (e.g. because the recipient is not reading the data). Have you dumped the stacktraces of all threads to see where it is actually stuck? As an aside, I personally would never use <code>ObjectInputStream</code>/<code>ObjectOutputStream</code> for this."}],"answers":[{"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1701762165,"post_id":77601630,"comment_id":136812622,"body_markdown":"So you wrote `write(imageBytes)` on the sender side with `readObject()` on the receiver side and it worked? The code you posted suggests that you used `readObject()` on the receiver side, and as far as I know `write` with `readObject` are not compatible, this is why I am asking.","body":"So you wrote <code>write(imageBytes)</code> on the sender side with <code>readObject()</code> on the receiver side and it worked? The code you posted suggests that you used <code>readObject()</code> on the receiver side, and as far as I know <code>write</code> with <code>readObject</code> are not compatible, this is why I am asking."}],"tags":[],"owner":{"account_id":21451770,"reputation":13,"user_id":15804092,"display_name":"Bottas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701712754,"creation_date":1701712754,"answer_id":77601630,"question_id":77570738,"body_markdown":"I wrote clientObjectOutputStream.write(imageBytes); instead of clientObjectOutputStream.writeObject(imageBytes);\r\n\r\nafter using writeObject it worked perfectly fine.","title":"ObjectOutputStream stops working without error message","body":"<p>I wrote clientObjectOutputStream.write(imageBytes); instead of clientObjectOutputStream.writeObject(imageBytes);</p>\n<p>after using writeObject it worked perfectly fine.</p>\n"}],"owner":{"account_id":21451770,"reputation":13,"user_id":15804092,"display_name":"Bottas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77601630,"answer_count":1,"score":0,"last_activity_date":1701712754,"creation_date":1701257182,"question_id":77570738,"body_markdown":"I am currently working on a video transmission program involving a client sender, a server receiver, and multiple client receivers. The sender sends video frames every 75ms to the server, which then broadcasts these frames to a group of client receivers.\r\n\r\nThe issue I am encountering is that after approximately 4 or 5 iterations, the server stops broadcasting frames to the clients, even though it continues to receive frames from the sender without any errors. Any help or suggestion would be much appreciated. \r\n\r\nThis is the sender code:\r\n\r\n```\r\npublic void sendImageToServer(BufferedImage screenshot) {\r\n\ttry {\r\n\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\tImageIO.write(screenshot, &quot;jpeg&quot;, byteArrayOutputStream);\t        \r\n\t\tbyte[] imageBytes = byteArrayOutputStream.toByteArray();\r\n\r\n\t\tobjectOutputVideoStream.writeObject(imageBytes);\r\n\t\tobjectOutputVideoStream.flush();\r\n\t\tSystem.out.println(&quot;Frame sent&quot;);\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nThis is the server code: \r\n\r\n```\r\nprivate ExecutorService pool = Executors.newCachedThreadPool();\r\n\r\n\tpublic void receiveAndBroadcastVideo(Socket socket, int roomId) {\r\n\t\ttry {\r\n\t\t\tInputStream inputStream = socket.getInputStream();\r\n\t\t\tObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\r\n\t\t\twhile (true) {\r\n\t\t\t\tbyte[] imageBytes = (byte[]) objectInputStream.readObject();\r\n\t\t\t\tSystem.out.println(&quot;Frame ricevuto&quot;);\r\n\t\t\t\tList&lt;UserWithSocket&gt; roomClients = videoChatRoomClients.get(roomId);\r\n\t\t\t\tfor (UserWithSocket client : roomClients) {\r\n\t\t\t\t\tif(client.getUserSocket()!=socket) {\r\n\t\t\t\t\t\tpool.submit(() -&gt; {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tObjectOutputStream clientObjectOutputStream = client.getClientObjectOutputStream();\r\n\t\t\t\t\t\t\t\tsynchronized (clientObjectOutputStream) {\r\n\t\t\t\t\t\t\t\t\tclientObjectOutputStream.write(imageBytes);\r\n\t\t\t\t\t\t\t\t\tclientObjectOutputStream.flush();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Frame Broadcasted&quot;);\r\n\t\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAnd this is where I create the ObjectOutputStream:\r\n\r\n```\r\npublic class UserWithSocket {\r\n\r\n\tprivate int id;\r\n\tprivate Socket userSocket;\r\n\tprivate ObjectOutputStream clientObjectOutputStream;\r\n\r\n\tpublic UserWithSocket(int id, Socket userSocket) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.userSocket = userSocket;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Socket getUserSocket() {\r\n\t\treturn userSocket;\r\n\t}\r\n\r\n\tpublic void setUserSocket(Socket userSocket) {\r\n\t\tthis.userSocket = userSocket;\r\n\t}\r\n\r\n\tpublic void createStream() {\r\n\t\ttry {\r\n\t\t\tOutputStream outputStream = userSocket.getOutputStream();\r\n\t\t\tclientObjectOutputStream = new ObjectOutputStream(outputStream);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ObjectOutputStream getClientObjectOutputStream() {\r\n\t\treturn clientObjectOutputStream;\r\n\t}\r\n\r\n\tpublic void setClientObjectOutputStream(ObjectOutputStream clientObjectOutputStream) {\r\n\t\tthis.clientObjectOutputStream = clientObjectOutputStream;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nSince I&#39;m not receiving any kind of error it might be a deadlock situation, I just know that after 4 or 5 iterations this part of the code won&#39;t run:\r\n```\r\nsynchronized (clientObjectOutputStream) {\r\n\tclientObjectOutputStream.write(imageBytes);\r\n\tclientObjectOutputStream.flush();\r\n}\r\n```","title":"ObjectOutputStream stops working without error message","body":"<p>I am currently working on a video transmission program involving a client sender, a server receiver, and multiple client receivers. The sender sends video frames every 75ms to the server, which then broadcasts these frames to a group of client receivers.</p>\n<p>The issue I am encountering is that after approximately 4 or 5 iterations, the server stops broadcasting frames to the clients, even though it continues to receive frames from the sender without any errors. Any help or suggestion would be much appreciated.</p>\n<p>This is the sender code:</p>\n<pre><code>public void sendImageToServer(BufferedImage screenshot) {\n    try {\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        ImageIO.write(screenshot, &quot;jpeg&quot;, byteArrayOutputStream);           \n        byte[] imageBytes = byteArrayOutputStream.toByteArray();\n\n        objectOutputVideoStream.writeObject(imageBytes);\n        objectOutputVideoStream.flush();\n        System.out.println(&quot;Frame sent&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This is the server code:</p>\n<pre><code>private ExecutorService pool = Executors.newCachedThreadPool();\n\n    public void receiveAndBroadcastVideo(Socket socket, int roomId) {\n        try {\n            InputStream inputStream = socket.getInputStream();\n            ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\n            while (true) {\n                byte[] imageBytes = (byte[]) objectInputStream.readObject();\n                System.out.println(&quot;Frame ricevuto&quot;);\n                List&lt;UserWithSocket&gt; roomClients = videoChatRoomClients.get(roomId);\n                for (UserWithSocket client : roomClients) {\n                    if(client.getUserSocket()!=socket) {\n                        pool.submit(() -&gt; {\n                            try {\n                                ObjectOutputStream clientObjectOutputStream = client.getClientObjectOutputStream();\n                                synchronized (clientObjectOutputStream) {\n                                    clientObjectOutputStream.write(imageBytes);\n                                    clientObjectOutputStream.flush();\n                                }\n                                System.out.println(&quot;Frame Broadcasted&quot;);\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                        });\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>And this is where I create the ObjectOutputStream:</p>\n<pre><code>public class UserWithSocket {\n\n    private int id;\n    private Socket userSocket;\n    private ObjectOutputStream clientObjectOutputStream;\n\n    public UserWithSocket(int id, Socket userSocket) {\n        super();\n        this.id = id;\n        this.userSocket = userSocket;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Socket getUserSocket() {\n        return userSocket;\n    }\n\n    public void setUserSocket(Socket userSocket) {\n        this.userSocket = userSocket;\n    }\n\n    public void createStream() {\n        try {\n            OutputStream outputStream = userSocket.getOutputStream();\n            clientObjectOutputStream = new ObjectOutputStream(outputStream);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public ObjectOutputStream getClientObjectOutputStream() {\n        return clientObjectOutputStream;\n    }\n\n    public void setClientObjectOutputStream(ObjectOutputStream clientObjectOutputStream) {\n        this.clientObjectOutputStream = clientObjectOutputStream;\n    }\n    \n    \n}\n</code></pre>\n<p>Since I'm not receiving any kind of error it might be a deadlock situation, I just know that after 4 or 5 iterations this part of the code won't run:</p>\n<pre><code>synchronized (clientObjectOutputStream) {\n    clientObjectOutputStream.write(imageBytes);\n    clientObjectOutputStream.flush();\n}\n</code></pre>\n"},{"tags":["java","audio","kalman-filter","noise-reduction"],"comments":[{"owner":{"account_id":10028867,"reputation":116,"user_id":7416207,"display_name":"Dawson Beatty"},"score":0,"creation_date":1701876516,"post_id":77601615,"comment_id":136829589,"body_markdown":"I suspect that a Kalman Filter is not the appropriate tool for this type of problem. I would suggest searching around for textbooks that include discussion of the problem that you are trying to solve. If there&#39;s already a reference that you&#39;re following, feel free to post that too and we can try to help you apply that reference to the problem that you&#39;re having.","body":"I suspect that a Kalman Filter is not the appropriate tool for this type of problem. I would suggest searching around for textbooks that include discussion of the problem that you are trying to solve. If there&#39;s already a reference that you&#39;re following, feel free to post that too and we can try to help you apply that reference to the problem that you&#39;re having."}],"owner":{"account_id":21451770,"reputation":13,"user_id":15804092,"display_name":"Bottas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701712637,"creation_date":1701712637,"question_id":77601615,"body_markdown":"I have been trying to create a Voice Communication program using Java. So far it has been great but I need a way to reduce the background noise, and after researching I found out that the Kalman Filter seems to be the best option for this task. I&#39;m using the org.apache.commons.math3 library and after reading some papers I came up with a Class that should help me reduce the noise coming from the audio that is recorded from the microphone and transferred as byte arrays of dimension 1024 bytes. Right now using the filter the output audio is not what I was expecting, I can only hear a faint scratching noise when someone talks. I&#39;m aware of my limits when it comes to matrix and vectors and right now I&#39;m stuck. I would appreciate any kind of tips you can give me. I tired changing the values of the R matrix but it didn&#39;t seem to make any difference.\r\n\r\n```\r\nimport org.apache.commons.math3.filter.DefaultMeasurementModel;\r\nimport org.apache.commons.math3.filter.DefaultProcessModel;\r\nimport org.apache.commons.math3.filter.KalmanFilter;\r\nimport org.apache.commons.math3.linear.Array2DRowRealMatrix;\r\nimport org.apache.commons.math3.linear.ArrayRealVector;\r\nimport org.apache.commons.math3.linear.RealMatrix;\r\nimport org.apache.commons.math3.linear.RealVector;\r\n\r\npublic class KalmanFilterNoiseReduction {\r\n\r\n\r\n\tprivate static final int STATE_DIMENSION = 2;\r\n    private static final int MEASUREMENT_DIMENSION = 1024;\r\n\r\n    private KalmanFilter kalmanFilter;\r\n\r\n    public KalmanFilterNoiseReduction() {\r\n        initializeKalmanFilter();\r\n    }\r\n\r\n    private void initializeKalmanFilter() {\r\n        // State transition matrix A\r\n        RealMatrix A = new Array2DRowRealMatrix(new double[][]{{1, 1}, {0, 1}});\r\n\r\n        // Control input matrix B\r\n        RealMatrix B = new Array2DRowRealMatrix(new double[][]{{0}, {0}});\r\n\r\n        // Measurement matrix H\r\n        RealMatrix H = new Array2DRowRealMatrix(new double[MEASUREMENT_DIMENSION][STATE_DIMENSION]);\r\n        for (int i = 0; i &lt; MEASUREMENT_DIMENSION; i++) {\r\n            for (int j = 0; j &lt; STATE_DIMENSION; j++) {\r\n                H.setEntry(i, j, (i == j) ? 1.0 : 0.0);\r\n            }\r\n        }\r\n\r\n        // Process noise covariance matrix Q\r\n        RealMatrix Q = new Array2DRowRealMatrix(new double[][]{{1, 0}, {0, 1}});\r\n\r\n        // Measurement noise covariance matrix R\r\n        RealMatrix R = new Array2DRowRealMatrix(new double[MEASUREMENT_DIMENSION][MEASUREMENT_DIMENSION]);\r\n        for (int i = 0; i &lt; MEASUREMENT_DIMENSION; i++) {\r\n            R.setEntry(i, i, 0.1); \r\n        }\r\n\r\n\r\n        // Initial state estimate x\r\n        RealVector initialStateEstimate = new ArrayRealVector(new double[]{0, 0});\r\n\r\n        // Initial error covariance matrix P\r\n        RealMatrix initialErrorCovariance = new Array2DRowRealMatrix(STATE_DIMENSION, STATE_DIMENSION);\r\n\r\n        // Create Kalman Filter\r\n        kalmanFilter = new KalmanFilter(\r\n                new DefaultProcessModel(A, B, Q, initialStateEstimate, initialErrorCovariance),\r\n                new DefaultMeasurementModel(H, R));\r\n    }\r\n\r\n    public byte[] filterAudio(byte[] audioData) {\r\n        double[] input = convertByteArrayToDoubleArray(audioData);\r\n\r\n        // Predict the next state\r\n        kalmanFilter.predict();\r\n\r\n        // Update the state based on the measurement\r\n        kalmanFilter.correct(input);\r\n\r\n        // Get the filtered output\r\n        double[] output = kalmanFilter.getStateEstimation();\r\n\r\n        // Convert the double array to a byte array\r\n        byte[] filteredAudio = convertDoubleArrayToByteArray(output);\r\n\r\n        return filteredAudio;\r\n    }\r\n\r\n    private double[] convertByteArrayToDoubleArray(byte[] byteArray) {\r\n        double[] doubleArray = new double[byteArray.length];\r\n        for (int i = 0; i &lt; byteArray.length; i++) {\r\n            doubleArray[i] = byteArray[i];\r\n        }\r\n        return doubleArray;\r\n    }\r\n\r\n    private byte[] convertDoubleArrayToByteArray(double[] doubleArray) {\r\n        byte[] byteArray = new byte[doubleArray.length];\r\n        for (int i = 0; i &lt; doubleArray.length; i++) {\r\n            byteArray[i] = (byte) doubleArray[i];\r\n        }\r\n        return byteArray;\r\n    }\r\n}\r\n```\r\nThis is the part where I send the audio to my server to be broadcasted:\r\n```\r\nthis.filter=new KalmanFilterNoiseReduction();\r\n\r\n\tprivate void captureAndSendAudio() {\r\n\t\ttry {\r\n\t\t\tbyte[] audioData = new byte[1024];\r\n\t\t\ttargetDataLine.start();\r\n\r\n\t\t\twhile (!Thread.currentThread().isInterrupted()) {\r\n\t\t\t\tint bytesRead = targetDataLine.read(audioData, 0, audioData.length);\r\n\t\t\t\tif (bytesRead &gt; 0) {\r\n\t\t\t\t\tif(vad.start(audioData)==false) {\r\n\t\t\t\t\t\tbyte[] filteredAudio = filter.filterAudio(audioData);\r\n\t\t\t\t\t\toutputStream.write(filteredAudio, 0, filteredAudio.length);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tArrays.fill(audioData, (byte) 0);\r\n\t\t\t\t\t\toutputStream.write(audioData, 0, bytesRead);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Kalman Filter Noise Reduction in Java not working","body":"<p>I have been trying to create a Voice Communication program using Java. So far it has been great but I need a way to reduce the background noise, and after researching I found out that the Kalman Filter seems to be the best option for this task. I'm using the org.apache.commons.math3 library and after reading some papers I came up with a Class that should help me reduce the noise coming from the audio that is recorded from the microphone and transferred as byte arrays of dimension 1024 bytes. Right now using the filter the output audio is not what I was expecting, I can only hear a faint scratching noise when someone talks. I'm aware of my limits when it comes to matrix and vectors and right now I'm stuck. I would appreciate any kind of tips you can give me. I tired changing the values of the R matrix but it didn't seem to make any difference.</p>\n<pre><code>import org.apache.commons.math3.filter.DefaultMeasurementModel;\nimport org.apache.commons.math3.filter.DefaultProcessModel;\nimport org.apache.commons.math3.filter.KalmanFilter;\nimport org.apache.commons.math3.linear.Array2DRowRealMatrix;\nimport org.apache.commons.math3.linear.ArrayRealVector;\nimport org.apache.commons.math3.linear.RealMatrix;\nimport org.apache.commons.math3.linear.RealVector;\n\npublic class KalmanFilterNoiseReduction {\n\n\n    private static final int STATE_DIMENSION = 2;\n    private static final int MEASUREMENT_DIMENSION = 1024;\n\n    private KalmanFilter kalmanFilter;\n\n    public KalmanFilterNoiseReduction() {\n        initializeKalmanFilter();\n    }\n\n    private void initializeKalmanFilter() {\n        // State transition matrix A\n        RealMatrix A = new Array2DRowRealMatrix(new double[][]{{1, 1}, {0, 1}});\n\n        // Control input matrix B\n        RealMatrix B = new Array2DRowRealMatrix(new double[][]{{0}, {0}});\n\n        // Measurement matrix H\n        RealMatrix H = new Array2DRowRealMatrix(new double[MEASUREMENT_DIMENSION][STATE_DIMENSION]);\n        for (int i = 0; i &lt; MEASUREMENT_DIMENSION; i++) {\n            for (int j = 0; j &lt; STATE_DIMENSION; j++) {\n                H.setEntry(i, j, (i == j) ? 1.0 : 0.0);\n            }\n        }\n\n        // Process noise covariance matrix Q\n        RealMatrix Q = new Array2DRowRealMatrix(new double[][]{{1, 0}, {0, 1}});\n\n        // Measurement noise covariance matrix R\n        RealMatrix R = new Array2DRowRealMatrix(new double[MEASUREMENT_DIMENSION][MEASUREMENT_DIMENSION]);\n        for (int i = 0; i &lt; MEASUREMENT_DIMENSION; i++) {\n            R.setEntry(i, i, 0.1); \n        }\n\n\n        // Initial state estimate x\n        RealVector initialStateEstimate = new ArrayRealVector(new double[]{0, 0});\n\n        // Initial error covariance matrix P\n        RealMatrix initialErrorCovariance = new Array2DRowRealMatrix(STATE_DIMENSION, STATE_DIMENSION);\n\n        // Create Kalman Filter\n        kalmanFilter = new KalmanFilter(\n                new DefaultProcessModel(A, B, Q, initialStateEstimate, initialErrorCovariance),\n                new DefaultMeasurementModel(H, R));\n    }\n\n    public byte[] filterAudio(byte[] audioData) {\n        double[] input = convertByteArrayToDoubleArray(audioData);\n\n        // Predict the next state\n        kalmanFilter.predict();\n\n        // Update the state based on the measurement\n        kalmanFilter.correct(input);\n\n        // Get the filtered output\n        double[] output = kalmanFilter.getStateEstimation();\n\n        // Convert the double array to a byte array\n        byte[] filteredAudio = convertDoubleArrayToByteArray(output);\n\n        return filteredAudio;\n    }\n\n    private double[] convertByteArrayToDoubleArray(byte[] byteArray) {\n        double[] doubleArray = new double[byteArray.length];\n        for (int i = 0; i &lt; byteArray.length; i++) {\n            doubleArray[i] = byteArray[i];\n        }\n        return doubleArray;\n    }\n\n    private byte[] convertDoubleArrayToByteArray(double[] doubleArray) {\n        byte[] byteArray = new byte[doubleArray.length];\n        for (int i = 0; i &lt; doubleArray.length; i++) {\n            byteArray[i] = (byte) doubleArray[i];\n        }\n        return byteArray;\n    }\n}\n</code></pre>\n<p>This is the part where I send the audio to my server to be broadcasted:</p>\n<pre><code>this.filter=new KalmanFilterNoiseReduction();\n\n    private void captureAndSendAudio() {\n        try {\n            byte[] audioData = new byte[1024];\n            targetDataLine.start();\n\n            while (!Thread.currentThread().isInterrupted()) {\n                int bytesRead = targetDataLine.read(audioData, 0, audioData.length);\n                if (bytesRead &gt; 0) {\n                    if(vad.start(audioData)==false) {\n                        byte[] filteredAudio = filter.filterAudio(audioData);\n                        outputStream.write(filteredAudio, 0, filteredAudio.length);\n                    }else {\n                        Arrays.fill(audioData, (byte) 0);\n                        outputStream.write(audioData, 0, bytesRead);\n                    }\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","permissions"],"comments":[{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1701675186,"post_id":77597717,"comment_id":136800485,"body_markdown":"use `MANAGE_EXTERNAL_STORAGE` instead of `WRITE_EXTERNAL_STORAGE`. also from android 11 api level 30 this permission is not longer sufficient to access the entire external storage. To create files and directories inside the app&#39;s internal storage, you don&#39;t need any specific permissions because the internal storage is private to your app","body":"use <code>MANAGE_EXTERNAL_STORAGE</code> instead of <code>WRITE_EXTERNAL_STORAGE</code>. also from android 11 api level 30 this permission is not longer sufficient to access the entire external storage. To create files and directories inside the app&#39;s internal storage, you don&#39;t need any specific permissions because the internal storage is private to your app"}],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701675304,"creation_date":1701675304,"answer_id":77597819,"question_id":77597717,"body_markdown":"use **MANAGE_EXTERNAL_STORAGE** instead of **WRITE_EXTERNAL_STORAGE**. also from Android 11 API level 30 this permission is not longer sufficient to access the entire external storage. To create files and directories inside the app&#39;s internal storage, you don&#39;t need any specific permissions because the internal storage is private to your app.\r\n\r\ntry this code:\r\n\r\n    File file2 = new File(getFilesDir(), &quot;Reporwt.pdf&quot;);\r\n    \r\n    if (!file2.exists()) {\r\n        try {\r\n            boolean created = file2.createNewFile();\r\n            Log.i(&quot;download&quot;, &quot;File created? &quot; + created);\r\n        } catch (IOException e) {\r\n            Log.i(&quot;download&quot;, e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n***getFilesDir()*** returns the path to your app&#39;s internal storage directory. You don&#39;t need additional permissions for this.\r\n\r\nIf you really want to create files on external storage, you need to use the Storage Access Framework (SAF) or the MediaStore API.","title":"Android 13 storage Permission Issue","body":"<p>use <strong>MANAGE_EXTERNAL_STORAGE</strong> instead of <strong>WRITE_EXTERNAL_STORAGE</strong>. also from Android 11 API level 30 this permission is not longer sufficient to access the entire external storage. To create files and directories inside the app's internal storage, you don't need any specific permissions because the internal storage is private to your app.</p>\n<p>try this code:</p>\n<pre><code>File file2 = new File(getFilesDir(), &quot;Reporwt.pdf&quot;);\n\nif (!file2.exists()) {\n    try {\n        boolean created = file2.createNewFile();\n        Log.i(&quot;download&quot;, &quot;File created? &quot; + created);\n    } catch (IOException e) {\n        Log.i(&quot;download&quot;, e.getMessage());\n    }\n}\n</code></pre>\n<p><em><strong>getFilesDir()</strong></em> returns the path to your app's internal storage directory. You don't need additional permissions for this.</p>\n<p>If you really want to create files on external storage, you need to use the Storage Access Framework (SAF) or the MediaStore API.</p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701712616,"creation_date":1701712616,"answer_id":77601614,"question_id":77597717,"body_markdown":"&gt;&gt;new File(Environment.getExternalStorageDirectory(), &quot;Reporwt.pdf&quot;);\r\n\r\nChange to:\r\n\r\n    new File(Environment.getExternalStoragePublicDirectoryDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;Reporwt.pdf&quot;);\r\n\r\nSo use any of the public directories on external storage that are already there.","title":"Android 13 storage Permission Issue","body":"<blockquote>\n<blockquote>\n<p>new File(Environment.getExternalStorageDirectory(), &quot;Reporwt.pdf&quot;);</p>\n</blockquote>\n</blockquote>\n<p>Change to:</p>\n<pre><code>new File(Environment.getExternalStoragePublicDirectoryDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;Reporwt.pdf&quot;);\n</code></pre>\n<p>So use any of the public directories on external storage that are already there.</p>\n"}],"owner":{"account_id":29251271,"reputation":1,"user_id":22410580,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701712616,"creation_date":1701673915,"question_id":77597717,"body_markdown":"            File file2 = new File(Environment.getExternalStorageDirectory(), &quot;Reporwt.pdf&quot;);\r\n        if(!file2.exists()) {\r\n            try {\r\n                boolean created = file2.createNewFile();\r\n                Log.i(&quot;download&quot;, &quot;File created? &quot; + created);\r\n            } catch (IOException e) {\r\n                Log.i(&quot;download&quot;, e.getMessage());\r\n            }\r\n        }\r\n\r\n\r\nI am trying to create a new file inside the internal storage of the device. When I am running this code on device running Android 13, I am getting &quot;Operation not permitted&quot; Error. \r\n\r\nHow do I create new files and directories inside the Internal Storage of the device in Android 13?\r\n\r\nI tried all the below permissions but it didn&#39;t worked.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\r\n\r\n\r\n","title":"Android 13 storage Permission Issue","body":"<pre><code>        File file2 = new File(Environment.getExternalStorageDirectory(), &quot;Reporwt.pdf&quot;);\n    if(!file2.exists()) {\n        try {\n            boolean created = file2.createNewFile();\n            Log.i(&quot;download&quot;, &quot;File created? &quot; + created);\n        } catch (IOException e) {\n            Log.i(&quot;download&quot;, e.getMessage());\n        }\n    }\n</code></pre>\n<p>I am trying to create a new file inside the internal storage of the device. When I am running this code on device running Android 13, I am getting &quot;Operation not permitted&quot; Error.</p>\n<p>How do I create new files and directories inside the Internal Storage of the device in Android 13?</p>\n<p>I tried all the below permissions but it didn't worked.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701846815,"post_id":77601580,"comment_id":136824334,"body_markdown":"By looking into the exception, seems `ModelMapper` trying to insert `UserInfoDto` type to `updatedBy` property by calling `UserInfoDto.setUpdatedBy()`, but based on your `UserInfoDto` class definition it accepts `JwtUserInfo` type. That&#39;s why you are getting `argument type mismatch` error message. In my opinion why `0843c5b6-1537-4dbf-b8c7-a28cee8a277b` is successful, because it&#39;s returning `NULL` for `updatedBy` property. So, there is no conversion issue. Can you ads the `updatedBy` data for `0843c5b6-1537-4dbf-b8c7-a28cee8a277b` and try","body":"By looking into the exception, seems <code>ModelMapper</code> trying to insert <code>UserInfoDto</code> type to <code>updatedBy</code> property by calling <code>UserInfoDto.setUpdatedBy()</code>, but based on your <code>UserInfoDto</code> class definition it accepts <code>JwtUserInfo</code> type. That&#39;s why you are getting <code>argument type mismatch</code> error message. In my opinion why <code>0843c5b6-1537-4dbf-b8c7-a28cee8a277b</code> is successful, because it&#39;s returning <code>NULL</code> for <code>updatedBy</code> property. So, there is no conversion issue. Can you ads the <code>updatedBy</code> data for <code>0843c5b6-1537-4dbf-b8c7-a28cee8a277b</code> and try"},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701852465,"post_id":77601580,"comment_id":136825116,"body_markdown":"can you share what version of `ModelMapper` and `Java` along with provider like `oracle-jdk`, `open-jdk`, `zulu`, etc., you are using","body":"can you share what version of <code>ModelMapper</code> and <code>Java</code> along with provider like <code>oracle-jdk</code>, <code>open-jdk</code>, <code>zulu</code>, etc., you are using"}],"owner":{"account_id":16846710,"reputation":1,"user_id":12180720,"display_name":"Tay Nguyen Duong Chanh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701712360,"creation_date":1701712360,"question_id":77601580,"body_markdown":"User Entity:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    private String id;\r\n\r\n    @Column(unique = true)\r\n    private String email;\r\n    private String password;\r\n    private int age;\r\n    private String fullName;\r\n    private String address;\r\n    private String phoneNumber;\r\n\r\n    @CreationTimestamp\r\n    private LocalDateTime createdAt;\r\n\r\n    @UpdateTimestamp\r\n    private LocalDateTime updatedAt;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;created_by_id&quot;)\r\n    private User createdBy;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;updated_by_id&quot;)\r\n    private User updatedBy;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;deleted_by_id&quot;)\r\n    private User deletedBy;\r\n\r\n    @Column(name = &quot;is_deleted&quot;)\r\n    private boolean isDeleted = false;\r\n\r\n    private LocalDateTime deletedAt;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;company_id&quot;)\r\n    private Company company;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;users_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;users_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    )\r\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n    @PrePersist\r\n    private void setRandomId() {\r\n        this.id = generateId();\r\n    }\r\n\r\n    private String generateId() {\r\n        return UUID.randomUUID().toString();\r\n    }\r\n}\r\n\r\n```\r\nJwtUserInfo\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class JwtUserInfo {\r\n    private String id;\r\n    private String fullName;\r\n    private String email;\r\n}\r\n```\r\nUserInfoDto\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserInfoDto {\r\n    private String id;\r\n\r\n    @Email(message = &quot;Email must be valid&quot;)\r\n    @NotEmpty(message = &quot;Email must not be empty&quot;)\r\n    private String email;\r\n    private String fullName;\r\n    private String address;\r\n    private int age;\r\n\r\n    @NotEmpty(message = &quot;Phone number must not be empty&quot;)\r\n    private String phoneNumber;\r\n\r\n    @NotEmpty(message = &quot;Company must not be empty&quot;)\r\n    private CompanyInfoDto company;\r\n    private JwtUserInfo createdBy;\r\n    private LocalDateTime createdAt;\r\n    private JwtUserInfo updatedBy;\r\n    private LocalDateTime updatedAt;\r\n    private JwtUserInfo deletedBy;\r\n    private LocalDateTime deletedAt;\r\n    private boolean isDeleted;\r\n}\r\n```\r\nHere is a part of my logic for retrieving a user by ID.\r\n\r\n```\r\n@Override\r\n    public UserInfoDto getUserById(String id) {\r\n        try {\r\n            User user = userRepository.findById(id).orElseThrow(\r\n                    () -&gt; new ResourceNotFoundException(&quot;id&quot;, &quot;User&quot;, id)\r\n            );\r\n            return modelMapper.map(user, UserInfoDto.class);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n    }\r\n```\r\nI am encountering an issue where, after logging in and checking the &#39;getUserById&#39; request in Postman, all IDs return correct results except for when I send a request with the ID &#39;c65df504-5394-4a10-b2c1-9efecf4b7fbb, which results in an error.\r\n\r\nHere is the information in the database that I have converted to JSON for the ID &#39;0843c5b6-1537-4dbf-b8c7-a28cee8a277b&#39;\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;0843c5b6-1537-4dbf-b8c7-a28cee8a277b&quot;,\r\n    &quot;email&quot;: &quot;nguyenduongchanhtay@gmail.com&quot;,\r\n    &quot;fullName&quot;: null,\r\n    &quot;address&quot;: &quot;Hanoi&quot;,\r\n    &quot;age&quot;: 25,\r\n    &quot;phoneNumber&quot;: &quot;1241&quot;,\r\n    &quot;company&quot;: {\r\n        &quot;id&quot;: &quot;974818d2-5257-4af9-a83d-0eed14127607&quot;,\r\n        &quot;name&quot;: &quot;MISA Software&quot;\r\n    },\r\n    &quot;createdBy&quot;: {\r\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n    },\r\n    &quot;createdAt&quot;: &quot;2023-12-02T03:27:55.736432&quot;,\r\n    &quot;updatedBy&quot;: null,\r\n    &quot;updatedAt&quot;: &quot;2023-12-02T04:18:45.977473&quot;,\r\n    &quot;deletedBy&quot;: {\r\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n    },\r\n    &quot;deletedAt&quot;: &quot;2023-12-02T04:18:45.97672&quot;,\r\n    &quot;deleted&quot;: true\r\n}\r\n```\r\nHere is the information in the database that I have converted to JSON for the ID &#39;c65df504-5394-4a10-b2c1-9efecf4b7fbb&#39;\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n    &quot;email&quot;: &quot;admin@gmail.com&quot;,\r\n    &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n    &quot;address&quot;: &quot;Hanoi&quot;,\r\n    &quot;age&quot;: 26,\r\n    &quot;phoneNumber&quot;: &quot;123&quot;,\r\n    &quot;roles&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;f3c11adb-1bfd-495f-9d9d-ce161ce01211&quot;,\r\n            &quot;name&quot;: &quot;ROLE_USER&quot;,\r\n            &quot;permissions&quot;: [\r\n                {\r\n                    &quot;id&quot;: &quot;733416fd-397f-41c7-bd1d-b76b97dbafaf&quot;,\r\n                    &quot;name&quot;: &quot;GET_USERS&quot;,\r\n                    &quot;module&quot;: &quot;USERS&quot;,\r\n                    &quot;path&quot;: &quot;/users&quot;,\r\n                    &quot;method&quot;: &quot;GET&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-04T01:48:21.631549&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-04T01:48:21.63157&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;c4a6f052-0753-44db-ac4c-be92711453a4&quot;,\r\n                    &quot;name&quot;: &quot;GET_USER_BY_ID&quot;,\r\n                    &quot;module&quot;: &quot;USERS&quot;,\r\n                    &quot;path&quot;: &quot;/users/{id}&quot;,\r\n                    &quot;method&quot;: &quot;GET&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:30:58.923667&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:30:58.923703&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;00140d2d-f596-4a01-841b-c1b62abb72d7&quot;,\r\n                    &quot;name&quot;: &quot;UPDATE_USER_BY_ID&quot;,\r\n                    &quot;module&quot;: &quot;USERS&quot;,\r\n                    &quot;path&quot;: &quot;/users/{id}&quot;,\r\n                    &quot;method&quot;: &quot;PATCH&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:31:28.028948&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:31:28.028996&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;fada1727-d13e-48e5-81bf-3d8d52c24e93&quot;,\r\n                    &quot;name&quot;: &quot;GET_COMPANIES&quot;,\r\n                    &quot;module&quot;: &quot;COMPANIES&quot;,\r\n                    &quot;path&quot;: &quot;/companies&quot;,\r\n                    &quot;method&quot;: &quot;GET&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:34:11.256933&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:34:11.25695&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;88b80919-5903-4f0b-baa9-3cfce16e7724&quot;,\r\n                    &quot;name&quot;: &quot;GET_COMPANY_BY_ID&quot;,\r\n                    &quot;module&quot;: &quot;COMPANIES&quot;,\r\n                    &quot;path&quot;: &quot;/companies/{id}&quot;,\r\n                    &quot;method&quot;: &quot;GET&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:34:28.031876&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:34:28.03191&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                }\r\n            ],\r\n            &quot;createdBy&quot;: {\r\n                &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n            },\r\n            &quot;createdAt&quot;: &quot;2023-12-03T04:21:52.351181&quot;,\r\n            &quot;updatedBy&quot;: {\r\n                &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n            },\r\n            &quot;updatedAt&quot;: &quot;2023-12-04T04:07:11.08364&quot;,\r\n            &quot;deletedBy&quot;: null,\r\n            &quot;deletedAt&quot;: null,\r\n            &quot;active&quot;: false,\r\n            &quot;deleted&quot;: false\r\n        }\r\n    ],\r\n    &quot;createdBy&quot;: null,\r\n    &quot;createdAt&quot;: &quot;2023-12-01 02:31:17.460545&quot;,\r\n    &quot;updatedBy&quot;: {\r\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n    },\r\n    &quot;updatedAt&quot;: &quot;2023-12-04T22:39:23.040448&quot;,\r\n    &quot;deletedBy&quot;: null,\r\n    &quot;deletedAt&quot;: null,\r\n    &quot;deleted&quot;: false\r\n}\r\n```\r\nWhen I send a &#39;getUserById&#39; request with the ID &#39;0843c5b6-1537-4dbf-b8c7-a28cee8a277b&#39;, the response returns the information in the database that I previously converted to JSON above.\r\nBut when I send a request with the ID &#39;c65df504-5394-4a10-b2c1-9efecf4b7fbb&#39;, it encounters an error as shown in the image below.\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-12-05T00:45:46.731086&quot;,\r\n    &quot;message&quot;: &quot;ModelMapper mapping errors:\\n\\n1) Error mapping com.frankie.workdev.entity.User to com.frankie.workdev.dto.user.UserInfoDto\\n\\n1 error&quot;,\r\n    &quot;details&quot;: &quot;uri=/api/v1/users/c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n    &quot;errorCode&quot;: &quot;BAD_REQUEST&quot;\r\n}\r\n```\r\nThis is the error log within the catch block in IntelliJ.\r\n\r\n\r\n```\r\norg.modelmapper.MappingException: ModelMapper mapping errors:\r\n\r\n1) Error mapping com.frankie.workdev.entity.User to com.frankie.workdev.dto.user.UserInfoDto\r\n\r\n1 error\r\n\tat org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\r\n\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:80)\r\n\tat org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\r\n\tat org.modelmapper.ModelMapper.map(ModelMapper.java:406)\r\n\tat com.frankie.workdev.service.serviceImpl.UserServiceImpl.getUserById(UserServiceImpl.java:121)\r\n\tat com.frankie.workdev.controller.UserController.getUserById(UserController.java:41)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat com.frankie.workdev.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:50)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: org.modelmapper.MappingException: ModelMapper mapping errors:\r\n\r\n1) Failed to set value &#39;com.frankie.workdev.dto.user.UserInfoDto@1dfba458&#39; on com.frankie.workdev.dto.user.UserInfoDto.setUpdatedBy()\r\n\r\n1 error\r\n\tat org.modelmapper.internal.Errors.toMappingException(Errors.java:258)\r\n\tat org.modelmapper.internal.PropertyInfoImpl$MethodMutator.setValue(PropertyInfoImpl.java:126)\r\n\tat org.modelmapper.internal.MappingContextImpl.getParentDestination(MappingContextImpl.java:325)\r\n\tat org.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:230)\r\n\tat org.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\r\n\tat org.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\r\n\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:114)\r\n\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\r\n\t... 102 more\r\nCaused by: java.lang.IllegalArgumentException: argument type mismatch\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:108)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.modelmapper.internal.PropertyInfoImpl$MethodMutator.setValue(PropertyInfoImpl.java:124)\r\n\t... 108 more\r\n\r\n```\r\n\r\n\r\n\r\nI have looked into the information and found that using @ManyToOne may cause errors when mapping an object with a self-referencing relationship. However, my logic is to have one user create multiple accounts, but each account belongs to only one user in fields such as createdBy, updatedBy, and deletedBy. I hope someone can provide guidance on this matter. Thank you.","title":"errors related to ModelMapping when using @ManyToOne","body":"<p>User Entity:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    private String id;\n\n    @Column(unique = true)\n    private String email;\n    private String password;\n    private int age;\n    private String fullName;\n    private String address;\n    private String phoneNumber;\n\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n\n    @UpdateTimestamp\n    private LocalDateTime updatedAt;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;created_by_id&quot;)\n    private User createdBy;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;updated_by_id&quot;)\n    private User updatedBy;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;deleted_by_id&quot;)\n    private User deletedBy;\n\n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted = false;\n\n    private LocalDateTime deletedAt;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;company_id&quot;)\n    private Company company;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;users_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;, referencedColumnName = &quot;id&quot;)\n    )\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n\n    @PrePersist\n    private void setRandomId() {\n        this.id = generateId();\n    }\n\n    private String generateId() {\n        return UUID.randomUUID().toString();\n    }\n}\n\n</code></pre>\n<p>JwtUserInfo</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class JwtUserInfo {\n    private String id;\n    private String fullName;\n    private String email;\n}\n</code></pre>\n<p>UserInfoDto</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserInfoDto {\n    private String id;\n\n    @Email(message = &quot;Email must be valid&quot;)\n    @NotEmpty(message = &quot;Email must not be empty&quot;)\n    private String email;\n    private String fullName;\n    private String address;\n    private int age;\n\n    @NotEmpty(message = &quot;Phone number must not be empty&quot;)\n    private String phoneNumber;\n\n    @NotEmpty(message = &quot;Company must not be empty&quot;)\n    private CompanyInfoDto company;\n    private JwtUserInfo createdBy;\n    private LocalDateTime createdAt;\n    private JwtUserInfo updatedBy;\n    private LocalDateTime updatedAt;\n    private JwtUserInfo deletedBy;\n    private LocalDateTime deletedAt;\n    private boolean isDeleted;\n}\n</code></pre>\n<p>Here is a part of my logic for retrieving a user by ID.</p>\n<pre><code>@Override\n    public UserInfoDto getUserById(String id) {\n        try {\n            User user = userRepository.findById(id).orElseThrow(\n                    () -&gt; new ResourceNotFoundException(&quot;id&quot;, &quot;User&quot;, id)\n            );\n            return modelMapper.map(user, UserInfoDto.class);\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw e;\n        }\n    }\n</code></pre>\n<p>I am encountering an issue where, after logging in and checking the 'getUserById' request in Postman, all IDs return correct results except for when I send a request with the ID 'c65df504-5394-4a10-b2c1-9efecf4b7fbb, which results in an error.</p>\n<p>Here is the information in the database that I have converted to JSON for the ID '0843c5b6-1537-4dbf-b8c7-a28cee8a277b'</p>\n<pre><code>{\n    &quot;id&quot;: &quot;0843c5b6-1537-4dbf-b8c7-a28cee8a277b&quot;,\n    &quot;email&quot;: &quot;nguyenduongchanhtay@gmail.com&quot;,\n    &quot;fullName&quot;: null,\n    &quot;address&quot;: &quot;Hanoi&quot;,\n    &quot;age&quot;: 25,\n    &quot;phoneNumber&quot;: &quot;1241&quot;,\n    &quot;company&quot;: {\n        &quot;id&quot;: &quot;974818d2-5257-4af9-a83d-0eed14127607&quot;,\n        &quot;name&quot;: &quot;MISA Software&quot;\n    },\n    &quot;createdBy&quot;: {\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\n    },\n    &quot;createdAt&quot;: &quot;2023-12-02T03:27:55.736432&quot;,\n    &quot;updatedBy&quot;: null,\n    &quot;updatedAt&quot;: &quot;2023-12-02T04:18:45.977473&quot;,\n    &quot;deletedBy&quot;: {\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\n    },\n    &quot;deletedAt&quot;: &quot;2023-12-02T04:18:45.97672&quot;,\n    &quot;deleted&quot;: true\n}\n</code></pre>\n<p>Here is the information in the database that I have converted to JSON for the ID 'c65df504-5394-4a10-b2c1-9efecf4b7fbb'</p>\n<pre><code>{\n    &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n    &quot;email&quot;: &quot;admin@gmail.com&quot;,\n    &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n    &quot;address&quot;: &quot;Hanoi&quot;,\n    &quot;age&quot;: 26,\n    &quot;phoneNumber&quot;: &quot;123&quot;,\n    &quot;roles&quot;: [\n        {\n            &quot;id&quot;: &quot;f3c11adb-1bfd-495f-9d9d-ce161ce01211&quot;,\n            &quot;name&quot;: &quot;ROLE_USER&quot;,\n            &quot;permissions&quot;: [\n                {\n                    &quot;id&quot;: &quot;733416fd-397f-41c7-bd1d-b76b97dbafaf&quot;,\n                    &quot;name&quot;: &quot;GET_USERS&quot;,\n                    &quot;module&quot;: &quot;USERS&quot;,\n                    &quot;path&quot;: &quot;/users&quot;,\n                    &quot;method&quot;: &quot;GET&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-04T01:48:21.631549&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-04T01:48:21.63157&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                },\n                {\n                    &quot;id&quot;: &quot;c4a6f052-0753-44db-ac4c-be92711453a4&quot;,\n                    &quot;name&quot;: &quot;GET_USER_BY_ID&quot;,\n                    &quot;module&quot;: &quot;USERS&quot;,\n                    &quot;path&quot;: &quot;/users/{id}&quot;,\n                    &quot;method&quot;: &quot;GET&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:30:58.923667&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:30:58.923703&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                },\n                {\n                    &quot;id&quot;: &quot;00140d2d-f596-4a01-841b-c1b62abb72d7&quot;,\n                    &quot;name&quot;: &quot;UPDATE_USER_BY_ID&quot;,\n                    &quot;module&quot;: &quot;USERS&quot;,\n                    &quot;path&quot;: &quot;/users/{id}&quot;,\n                    &quot;method&quot;: &quot;PATCH&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:31:28.028948&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:31:28.028996&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                },\n                {\n                    &quot;id&quot;: &quot;fada1727-d13e-48e5-81bf-3d8d52c24e93&quot;,\n                    &quot;name&quot;: &quot;GET_COMPANIES&quot;,\n                    &quot;module&quot;: &quot;COMPANIES&quot;,\n                    &quot;path&quot;: &quot;/companies&quot;,\n                    &quot;method&quot;: &quot;GET&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:34:11.256933&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:34:11.25695&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                },\n                {\n                    &quot;id&quot;: &quot;88b80919-5903-4f0b-baa9-3cfce16e7724&quot;,\n                    &quot;name&quot;: &quot;GET_COMPANY_BY_ID&quot;,\n                    &quot;module&quot;: &quot;COMPANIES&quot;,\n                    &quot;path&quot;: &quot;/companies/{id}&quot;,\n                    &quot;method&quot;: &quot;GET&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:34:28.031876&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:34:28.03191&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                }\n            ],\n            &quot;createdBy&quot;: {\n                &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                &quot;email&quot;: &quot;admin@gmail.com&quot;\n            },\n            &quot;createdAt&quot;: &quot;2023-12-03T04:21:52.351181&quot;,\n            &quot;updatedBy&quot;: {\n                &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                &quot;email&quot;: &quot;admin@gmail.com&quot;\n            },\n            &quot;updatedAt&quot;: &quot;2023-12-04T04:07:11.08364&quot;,\n            &quot;deletedBy&quot;: null,\n            &quot;deletedAt&quot;: null,\n            &quot;active&quot;: false,\n            &quot;deleted&quot;: false\n        }\n    ],\n    &quot;createdBy&quot;: null,\n    &quot;createdAt&quot;: &quot;2023-12-01 02:31:17.460545&quot;,\n    &quot;updatedBy&quot;: {\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\n    },\n    &quot;updatedAt&quot;: &quot;2023-12-04T22:39:23.040448&quot;,\n    &quot;deletedBy&quot;: null,\n    &quot;deletedAt&quot;: null,\n    &quot;deleted&quot;: false\n}\n</code></pre>\n<p>When I send a 'getUserById' request with the ID '0843c5b6-1537-4dbf-b8c7-a28cee8a277b', the response returns the information in the database that I previously converted to JSON above.\nBut when I send a request with the ID 'c65df504-5394-4a10-b2c1-9efecf4b7fbb', it encounters an error as shown in the image below.</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-12-05T00:45:46.731086&quot;,\n    &quot;message&quot;: &quot;ModelMapper mapping errors:\\n\\n1) Error mapping com.frankie.workdev.entity.User to com.frankie.workdev.dto.user.UserInfoDto\\n\\n1 error&quot;,\n    &quot;details&quot;: &quot;uri=/api/v1/users/c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n    &quot;errorCode&quot;: &quot;BAD_REQUEST&quot;\n}\n</code></pre>\n<p>This is the error log within the catch block in IntelliJ.</p>\n<pre><code>org.modelmapper.MappingException: ModelMapper mapping errors:\n\n1) Error mapping com.frankie.workdev.entity.User to com.frankie.workdev.dto.user.UserInfoDto\n\n1 error\n    at org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:80)\n    at org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\n    at org.modelmapper.ModelMapper.map(ModelMapper.java:406)\n    at com.frankie.workdev.service.serviceImpl.UserServiceImpl.getUserById(UserServiceImpl.java:121)\n    at com.frankie.workdev.controller.UserController.getUserById(UserController.java:41)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at com.frankie.workdev.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:50)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: org.modelmapper.MappingException: ModelMapper mapping errors:\n\n1) Failed to set value 'com.frankie.workdev.dto.user.UserInfoDto@1dfba458' on com.frankie.workdev.dto.user.UserInfoDto.setUpdatedBy()\n\n1 error\n    at org.modelmapper.internal.Errors.toMappingException(Errors.java:258)\n    at org.modelmapper.internal.PropertyInfoImpl$MethodMutator.setValue(PropertyInfoImpl.java:126)\n    at org.modelmapper.internal.MappingContextImpl.getParentDestination(MappingContextImpl.java:325)\n    at org.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:230)\n    at org.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\n    at org.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:114)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\n    ... 102 more\nCaused by: java.lang.IllegalArgumentException: argument type mismatch\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:108)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.modelmapper.internal.PropertyInfoImpl$MethodMutator.setValue(PropertyInfoImpl.java:124)\n    ... 108 more\n\n</code></pre>\n<p>I have looked into the information and found that using @ManyToOne may cause errors when mapping an object with a self-referencing relationship. However, my logic is to have one user create multiple accounts, but each account belongs to only one user in fields such as createdBy, updatedBy, and deletedBy. I hope someone can provide guidance on this matter. Thank you.</p>\n"},{"tags":["java","lambda","java-8","functional-interface"],"comments":[{"owner":{"account_id":6450631,"reputation":625,"user_id":4997647,"accept_rate":33,"display_name":"Kulbhushan Singh"},"score":1,"creation_date":1461738590,"post_id":36881826,"comment_id":61329222,"body_markdown":"It  looks duplcate to this link. They also talk about why there should be only one method in Functional Interface. http://stackoverflow.com/questions/33010594/why-do-i-need-a-functional-interface-to-work-with-lambdas","body":"It  looks duplcate to this link. They also talk about why there should be only one method in Functional Interface. <a href=\"http://stackoverflow.com/questions/33010594/why-do-i-need-a-functional-interface-to-work-with-lambdas\" title=\"why do i need a functional interface to work with lambdas\">stackoverflow.com/questions/33010594/&hellip;</a>"},{"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"score":1,"creation_date":1461738772,"post_id":36881826,"comment_id":61329321,"body_markdown":"@KulbhushanSingh I saw this question before posting... Both questions sense difference...","body":"@KulbhushanSingh I saw this question before posting... Both questions sense difference..."}],"answers":[{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":7,"creation_date":1461738844,"post_id":36881900,"comment_id":61329364,"body_markdown":"Well, lamdbas work without the annotation as well. It&#39;s an assertion just like `@Override` to let the compiler know that you intended to write something that was &quot;functional&quot; (and get an error if you slipped).","body":"Well, lamdbas work without the annotation as well. It&#39;s an assertion just like <code>@Override</code> to let the compiler know that you intended to write something that was &quot;functional&quot; (and get an error if you slipped)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1461746510,"post_id":36881900,"comment_id":61334076,"body_markdown":"Straight to the point and the correct answer, though a bit short. I took the time to add a [more elaborated answer](http://stackoverflow.com/a/36884458/2711488) saying the same thing with more words…","body":"Straight to the point and the correct answer, though a bit short. I took the time to add a <a href=\"http://stackoverflow.com/a/36884458/2711488\">more elaborated answer</a> saying the same thing with more words…"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1461738324,"creation_date":1461738324,"answer_id":36881900,"question_id":36881826,"body_markdown":"Not at all.  Lambda expressions are the one and only point of that annotation.","title":"What are functional interfaces used for in Java 8?","body":"<p>Not at all.  Lambda expressions are the one and only point of that annotation.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":47,"creation_date":1461744297,"post_id":36882003,"comment_id":61332624,"body_markdown":"To be more precise, you have to have *exactly one* abstract method that doesn’t override a method in `java.lang.Object` in a functional interface.","body":"To be more precise, you have to have <i>exactly one</i> abstract method that doesn’t override a method in <code>java.lang.Object</code> in a functional interface."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":9,"creation_date":1461744740,"post_id":36882003,"comment_id":61332884,"body_markdown":"…and it’s slightly different to “not have more than one `public` method besides `static` and `default`”…","body":"…and it’s slightly different to “not have more than one <code>public</code> method besides <code>static</code> and <code>default</code>”…"},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":0,"creation_date":1500823728,"post_id":36882003,"comment_id":77496337,"body_markdown":"@lwpro2 a typo. Sure it was about `obj -&gt; obj.doSomething(anyObj)`. Thanks for noticing!","body":"@lwpro2 a typo. Sure it was about <code>obj -&gt; obj.doSomething(anyObj)</code>. Thanks for noticing!"},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":0,"creation_date":1500824278,"post_id":36882003,"comment_id":77496507,"body_markdown":"@lwpro2 but even with this I&#39;m unable to reproduce the issue in most recent  versions of java","body":"@lwpro2 but even with this I&#39;m unable to reproduce the issue in most recent  versions of java"},{"owner":{"account_id":442888,"reputation":303,"user_id":833771,"display_name":"Pr0methean"},"score":0,"creation_date":1503016906,"post_id":36882003,"comment_id":78451140,"body_markdown":"What if a method overridden from Object is redeclared in a manner incompatible with Object&#39;s implementation -- e.g. narrowing the return type of clone()?","body":"What if a method overridden from Object is redeclared in a manner incompatible with Object&#39;s implementation -- e.g. narrowing the return type of clone()?"},{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":5,"creation_date":1519321686,"post_id":36882003,"comment_id":84874748,"body_markdown":"Still don&#39;t understand any point of having it. Why would anyone on earth bothers checking how many methods does his/her interface has. \n\nMarker interfaces still have a point and a specific purpose. \nThe documentation and the answer only explain what it does, not how is it of any use at all. And &quot;use&quot; is exactly what the OP asked. So I wouldn&#39;t recommend this answer.","body":"Still don&#39;t understand any point of having it. Why would anyone on earth bothers checking how many methods does his/her interface has.   Marker interfaces still have a point and a specific purpose.  The documentation and the answer only explain what it does, not how is it of any use at all. And &quot;use&quot; is exactly what the OP asked. So I wouldn&#39;t recommend this answer."},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":0,"creation_date":1519377303,"post_id":36882003,"comment_id":84895623,"body_markdown":"@saran3h thanks for your comment. The concept of the functional interface is completely different question. The point of having this annotation on top of your interface is to make it clear to the client of this interface how it is used, and make sure no one add more methods consequently breaking the clients of your interface.","body":"@saran3h thanks for your comment. The concept of the functional interface is completely different question. The point of having this annotation on top of your interface is to make it clear to the client of this interface how it is used, and make sure no one add more methods consequently breaking the clients of your interface."},{"owner":{"account_id":3329744,"reputation":944,"user_id":2798950,"accept_rate":100,"display_name":"VNT"},"score":0,"creation_date":1524837963,"post_id":36882003,"comment_id":87144915,"body_markdown":"@Sergii Bishyr But without declaring FunctionalInterface annotation on the interface, we have got the compilation errors if we declare more than one method in the interface and using lambda expressions. Then what is the use of FunctionalInterface annotation?","body":"@Sergii Bishyr But without declaring FunctionalInterface annotation on the interface, we have got the compilation errors if we declare more than one method in the interface and using lambda expressions. Then what is the use of FunctionalInterface annotation?"},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":1,"creation_date":1524846092,"post_id":36882003,"comment_id":87149602,"body_markdown":"@VNT the compilation error get the clients of this interface, but not the interface itself can change. With this annotation the compilation error is on the interface, so you make sure that nobody will break the clients of your interface.","body":"@VNT the compilation error get the clients of this interface, but not the interface itself can change. With this annotation the compilation error is on the interface, so you make sure that nobody will break the clients of your interface."},{"owner":{"account_id":1280762,"reputation":117,"user_id":1234899,"accept_rate":0,"display_name":"sheikh"},"score":3,"creation_date":1565406245,"post_id":36882003,"comment_id":101355105,"body_markdown":"This shows how to use them but doesn&#39;t explain why we need them though.","body":"This shows how to use them but doesn&#39;t explain why we need them though."},{"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"score":0,"creation_date":1593937620,"post_id":36882003,"comment_id":110946310,"body_markdown":"Don&#39;t you think, the compiler will anyways throw an error in case of the interface is not compliant. Then why even we should use @FunctionalInterface? Just wondering...","body":"Don&#39;t you think, the compiler will anyways throw an error in case of the interface is not compliant. Then why even we should use @FunctionalInterface? Just wondering..."},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":0,"creation_date":1593963412,"post_id":36882003,"comment_id":110954026,"body_markdown":"It’s true for the case when you are the client of your own interface. But not for the case when it’s part of a library. Also, usually the software projects is written by many people, so this is a way to tell other developers that this interface is can be used as a lambda, so it’s better not to add another abstract method","body":"It’s true for the case when you are the client of your own interface. But not for the case when it’s part of a library. Also, usually the software projects is written by many people, so this is a way to tell other developers that this interface is can be used as a lambda, so it’s better not to add another abstract method"}],"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"comment_count":12,"down_vote_count":2,"up_vote_count":146,"is_accepted":true,"score":144,"last_activity_date":1509682829,"creation_date":1461738635,"answer_id":36882003,"question_id":36881826,"body_markdown":"`@FunctionalInterface` annotation is useful for compilation time checking of your code. You cannot have more than one method besides `static`, `default` and abstract methods that override methods in `Object` in your `@FunctionalInterface` or any other interface used as a functional interface.\r\n\r\nBut you can use lambdas without this annotation as well as you can override methods without `@Override` annotation.\r\n\r\nFrom docs\r\n&gt; a functional interface has exactly one abstract method. Since default\r\n&gt; methods have an implementation, they are not abstract. If an interface\r\n&gt; declares an abstract method overriding one of the public methods of\r\n&gt; java.lang.Object, that also does not count toward the interface&#39;s\r\n&gt; abstract method count since any implementation of the interface will\r\n&gt; have an implementation from java.lang.Object or elsewhere\r\n\r\nThis **can be used** in lambda expression:\r\n\r\n    public interface Foo {\r\n      public void doSomething();\r\n    }\r\n\r\nThis **cannot be used** in lambda expression:\r\n\r\n    public interface Foo {\r\n      public void doSomething();\r\n      public void doSomethingElse();\r\n    }\r\n\r\nBut this will give **compilation error**:\r\n\r\n    @FunctionalInterface\r\n    public interface Foo {\r\n      public void doSomething();\r\n      public void doSomethingElse();\r\n    }\r\n\r\n&gt; Invalid &#39;@FunctionalInterface&#39; annotation; Foo is not a functional\r\n&gt; interface\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.3","title":"What are functional interfaces used for in Java 8?","body":"<p><code>@FunctionalInterface</code> annotation is useful for compilation time checking of your code. You cannot have more than one method besides <code>static</code>, <code>default</code> and abstract methods that override methods in <code>Object</code> in your <code>@FunctionalInterface</code> or any other interface used as a functional interface.</p>\n\n<p>But you can use lambdas without this annotation as well as you can override methods without <code>@Override</code> annotation.</p>\n\n<p>From docs</p>\n\n<blockquote>\n  <p>a functional interface has exactly one abstract method. Since default\n  methods have an implementation, they are not abstract. If an interface\n  declares an abstract method overriding one of the public methods of\n  java.lang.Object, that also does not count toward the interface's\n  abstract method count since any implementation of the interface will\n  have an implementation from java.lang.Object or elsewhere</p>\n</blockquote>\n\n<p>This <strong>can be used</strong> in lambda expression:</p>\n\n<pre><code>public interface Foo {\n  public void doSomething();\n}\n</code></pre>\n\n<p>This <strong>cannot be used</strong> in lambda expression:</p>\n\n<pre><code>public interface Foo {\n  public void doSomething();\n  public void doSomethingElse();\n}\n</code></pre>\n\n<p>But this will give <strong>compilation error</strong>:</p>\n\n<pre><code>@FunctionalInterface\npublic interface Foo {\n  public void doSomething();\n  public void doSomethingElse();\n}\n</code></pre>\n\n<blockquote>\n  <p>Invalid '@FunctionalInterface' annotation; Foo is not a functional\n  interface</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1521065636,"post_id":36882322,"comment_id":85580061,"body_markdown":"You should elaborate on this comment more. What about method references and new functions?","body":"You should elaborate on this comment more. What about method references and new functions?"}],"tags":[],"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1461739604,"creation_date":1461739604,"answer_id":36882322,"question_id":36881826,"body_markdown":"A lambda expression can be assigned to a functional interface type, but so can method references, and anonymous classes.\r\n\r\nOne nice thing about the specific functional interfaces in `java.util.function` is that they can be composed to create new functions (like `Function.andThen` and `Function.compose`, `Predicate.and`, etc.) due to the handy default methods they contain.","title":"What are functional interfaces used for in Java 8?","body":"<p>A lambda expression can be assigned to a functional interface type, but so can method references, and anonymous classes.</p>\n\n<p>One nice thing about the specific functional interfaces in <code>java.util.function</code> is that they can be composed to create new functions (like <code>Function.andThen</code> and <code>Function.compose</code>, <code>Predicate.and</code>, etc.) due to the handy default methods they contain.</p>\n"},{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1578591076,"post_id":36884458,"comment_id":105497458,"body_markdown":"Might just be asking for a little too much or irrelevant(you can choose not to answer), but what would you suggest when someone created a utility `public static String generateTaskId()` versus to make it more &quot;functional&quot; someone else chose to write it as `public class TaskIdSupplier implements Supplier&lt;String&gt;` with the `get` method using the existing generation implementation. Is that a misuse of functional interfaces, especially reusing the `Supplier` from the JDK built-in? PS: I couldn&#39;t find a better place/Q&amp;A to ask this. Happy to migrate if you could suggest.","body":"Might just be asking for a little too much or irrelevant(you can choose not to answer), but what would you suggest when someone created a utility <code>public static String generateTaskId()</code> versus to make it more &quot;functional&quot; someone else chose to write it as <code>public class TaskIdSupplier implements Supplier&lt;String&gt;</code> with the <code>get</code> method using the existing generation implementation. Is that a misuse of functional interfaces, especially reusing the <code>Supplier</code> from the JDK built-in? PS: I couldn&#39;t find a better place/Q&amp;A to ask this. Happy to migrate if you could suggest."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1578591759,"post_id":36884458,"comment_id":105497774,"body_markdown":"@Naman you are not making the utility method more functional when you create a named class `TaskIdSupplier`. Now, the question is why you created the named class. There are scenarios where such a named type is needed, e.g. when you want to support finding the implementation via `ServiceLoader`. There is nothing wrong with letting it implement `Supplier` then. But when you don’t need it, don’t create it. When you only need a `Supplier&lt;String&gt;`, it’s already sufficient to use `DeclaringClass::generateTaskId` and eliminating the need for an explicit class is the point of this language feature.","body":"@Naman you are not making the utility method more functional when you create a named class <code>TaskIdSupplier</code>. Now, the question is why you created the named class. There are scenarios where such a named type is needed, e.g. when you want to support finding the implementation via <code>ServiceLoader</code>. There is nothing wrong with letting it implement <code>Supplier</code> then. But when you don’t need it, don’t create it. When you only need a <code>Supplier&lt;String&gt;</code>, it’s already sufficient to use <code>DeclaringClass::generateTaskId</code> and eliminating the need for an explicit class is the point of this language feature."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1578592977,"post_id":36884458,"comment_id":105498350,"body_markdown":"To be honest, I was looking towards a justification for a recommendation that I was passing on. For some reason at work I didn&#39;t really felt that the `TaskIdSupplier` implementation was worth the effort, but then the concept of `ServiceLoader` totally skipped off my mind. Encountered a few questions during these discussions we were having such as *What is the use of `Supplier`&#39;s `public` existence when one can go ahead and develop their own interfaces?* and *Why not have `public static Supplier&lt;String&gt; TASK_ID_SUPPLIER = () -&gt;...` as a global constant?*. (1/2)","body":"To be honest, I was looking towards a justification for a recommendation that I was passing on. For some reason at work I didn&#39;t really felt that the <code>TaskIdSupplier</code> implementation was worth the effort, but then the concept of <code>ServiceLoader</code> totally skipped off my mind. Encountered a few questions during these discussions we were having such as <i>What is the use of <code>Supplier</code>&#39;s <code>public</code> existence when one can go ahead and develop their own interfaces?</i> and <i>Why not have <code>public static Supplier&lt;String&gt; TASK_ID_SUPPLIER = () -&gt;...</code> as a global constant?</i>. (1/2)"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1578593245,"post_id":36884458,"comment_id":105498487,"body_markdown":"All of that seems to be simple and basic, while in the course of implementation to make a decision or while designing the services, it seems tough to provide justifications over such questions and that certainly needs a hands-on with a variety of language features.","body":"All of that seems to be simple and basic, while in the course of implementation to make a decision or while designing the services, it seems tough to provide justifications over such questions and that certainly needs a hands-on with a variety of language features."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1578594156,"post_id":36884458,"comment_id":105498914,"body_markdown":"@Naman the idiomatic way to represent functions in Java are methods and evaluating those functions is identical to invoking them. Never should a developer be forced to do `variable.genericMethodName(args)` instead of `meaningfulMethodName(args)`. Using a class type to represent a function, whether via lambda expression/ method reference or a manually created class, is only a vehicle *to pass the function around* (in the absence of true function types in Java). This should only be done when needed.","body":"@Naman the idiomatic way to represent functions in Java are methods and evaluating those functions is identical to invoking them. Never should a developer be forced to do <code>variable.genericMethodName(args)</code> instead of <code>meaningfulMethodName(args)</code>. Using a class type to represent a function, whether via lambda expression/ method reference or a manually created class, is only a vehicle <i>to pass the function around</i> (in the absence of true function types in Java). This should only be done when needed."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1578594161,"post_id":36884458,"comment_id":105498917,"body_markdown":"When you have a small code fragment only being passed around, you may create a lambda expression encapsulating it. Whenever there’s also a need to invoke it like a method (this includes scenarios with a need for testing, when the code fragment is not trivial), create a named method that can be invoked and use a method reference or a lambda expression/ explicit class encapsulating a call, to pass it around when needed. Constants are only useful when you don’t trust the efficiency of lambda expressions or method references embedded in your code, in other words, they are almost never needed.","body":"When you have a small code fragment only being passed around, you may create a lambda expression encapsulating it. Whenever there’s also a need to invoke it like a method (this includes scenarios with a need for testing, when the code fragment is not trivial), create a named method that can be invoked and use a method reference or a lambda expression/ explicit class encapsulating a call, to pass it around when needed. Constants are only useful when you don’t trust the efficiency of lambda expressions or method references embedded in your code, in other words, they are almost never needed."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":6,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1578592303,"creation_date":1461746059,"answer_id":36884458,"question_id":36881826,"body_markdown":"The [documentation](https://docs.oracle.com/javase/8/docs/api/?java/lang/FunctionalInterface.html) makes indeed a difference between the purpose\n\n&gt; An informative annotation type used to indicate that an interface type declaration is intended to be a *functional interface* as defined by the Java Language Specification.\n\nand the use case\n\n&gt; Note that instances of functional interfaces can be created with lambda expressions, method references, or constructor references.\n\nwhose wording does not preclude other use cases in general. Since the primary purpose is to indicate a *functional interface*, your actual question boils down to *“Are there other use cases for* functional interfaces *other than lambda expressions and method/constructor references?”*\n\nSince *functional interface* is a Java language construct defined by the Java Language Specification, only that specification can answer that question:\n\n[JLS &#167;9.8. Functional Interfaces](https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.8):\n\n&gt; …\n&gt;\n&gt; In addition to the usual process of creating an interface instance by declaring and instantiating a class (&#167;15.9), instances of functional interfaces can be created with method reference expressions and lambda expressions (&#167;15.13, &#167;15.27).\n\nSo the Java Language Specification doesn’t say otherwise, the only use case mentioned in that section is that of creating interface instances with method reference expressions and lambda expressions. (This includes constructor references as they are noted as one form of method reference expression in the specification).\n\nSo in one sentence, no, there is no other use case for it in Java&#160;8.","title":"What are functional interfaces used for in Java 8?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/lang/FunctionalInterface.html\" rel=\"noreferrer\">documentation</a> makes indeed a difference between the purpose</p>\n<blockquote>\n<p>An informative annotation type used to indicate that an interface type declaration is intended to be a <em>functional interface</em> as defined by the Java Language Specification.</p>\n</blockquote>\n<p>and the use case</p>\n<blockquote>\n<p>Note that instances of functional interfaces can be created with lambda expressions, method references, or constructor references.</p>\n</blockquote>\n<p>whose wording does not preclude other use cases in general. Since the primary purpose is to indicate a <em>functional interface</em>, your actual question boils down to <em>“Are there other use cases for</em> functional interfaces <em>other than lambda expressions and method/constructor references?”</em></p>\n<p>Since <em>functional interface</em> is a Java language construct defined by the Java Language Specification, only that specification can answer that question:</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.8\" rel=\"noreferrer\">JLS §9.8. Functional Interfaces</a>:</p>\n<blockquote>\n<p>…</p>\n<p>In addition to the usual process of creating an interface instance by declaring and instantiating a class (§15.9), instances of functional interfaces can be created with method reference expressions and lambda expressions (§15.13, §15.27).</p>\n</blockquote>\n<p>So the Java Language Specification doesn’t say otherwise, the only use case mentioned in that section is that of creating interface instances with method reference expressions and lambda expressions. (This includes constructor references as they are noted as one form of method reference expression in the specification).</p>\n<p>So in one sentence, no, there is no other use case for it in Java 8.</p>\n"},{"tags":[],"owner":{"account_id":3656281,"reputation":1256,"user_id":5870336,"accept_rate":71,"display_name":"Sina Madani"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1461767996,"creation_date":1461767996,"answer_id":36893110,"question_id":36881826,"body_markdown":"As others have said, a functional interface is an interface which exposes one method. It may have more than one method, but all of the others must have a default implementation. The reason it&#39;s called a &quot;functional interface&quot; is because it effectively acts as a function. Since you can pass interfaces as parameters, it means that functions are now &quot;first-class citizens&quot; like in functional programming languages. This has many benefits, and you&#39;ll see them quite a lot when using the Stream API. Of course, lambda expressions are the main obvious use for them.","title":"What are functional interfaces used for in Java 8?","body":"<p>As others have said, a functional interface is an interface which exposes one method. It may have more than one method, but all of the others must have a default implementation. The reason it's called a \"functional interface\" is because it effectively acts as a function. Since you can pass interfaces as parameters, it means that functions are now \"first-class citizens\" like in functional programming languages. This has many benefits, and you'll see them quite a lot when using the Stream API. Of course, lambda expressions are the main obvious use for them.</p>\n"},{"tags":[],"owner":{"account_id":6135552,"reputation":2268,"user_id":4784537,"display_name":"Ahmad Al-Kurdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531849841,"creation_date":1531311190,"answer_id":51285201,"question_id":36881826,"body_markdown":"`@FunctionalInterface` is a new annotation are released with Java 8 and provide target types for lambda expressions and it used on compilation time checking of your code.\r\n\r\nWhen you want to use it :\r\n\r\n1- Your interface **must not** have more than one abstract methods, otherwise compilation error will be given.\r\n\r\n\r\n1- Your interface **Should** be pure, which means functional interface is intended to be implemented by stateless classes, exmple of pure is `Comparator` interface because its not depend on the implementers state, in this case **No** compilation error will be given, but in many cases you will not be able to use lambda with this kind of interfaces \r\n\r\n\r\n\r\n The `java.util.function` package contains various general purpose functional interfaces such as `Predicate`, `Consumer`, `Function`, and `Supplier`. \r\n\r\nAlso please note that you can use lambdas without this annotation.\r\n\r\n \r\n\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p><code>@FunctionalInterface</code> is a new annotation are released with Java 8 and provide target types for lambda expressions and it used on compilation time checking of your code.</p>\n\n<p>When you want to use it :</p>\n\n<p>1- Your interface <strong>must not</strong> have more than one abstract methods, otherwise compilation error will be given.</p>\n\n<p>1- Your interface <strong>Should</strong> be pure, which means functional interface is intended to be implemented by stateless classes, exmple of pure is <code>Comparator</code> interface because its not depend on the implementers state, in this case <strong>No</strong> compilation error will be given, but in many cases you will not be able to use lambda with this kind of interfaces </p>\n\n<p>The <code>java.util.function</code> package contains various general purpose functional interfaces such as <code>Predicate</code>, <code>Consumer</code>, <code>Function</code>, and <code>Supplier</code>. </p>\n\n<p>Also please note that you can use lambdas without this annotation.</p>\n"},{"tags":[],"owner":{"account_id":9546393,"reputation":1184,"user_id":7092293,"display_name":"MMKarami"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536932640,"creation_date":1536932640,"answer_id":52333286,"question_id":36881826,"body_markdown":"Beside other answers, I think the main reason to &quot;why using Functional Interface other than directly with lambda expressions&quot; can be related to nature of Java language which is Object Oriented. \r\n\r\nThe main attributes of Lambda expressions are: 1. They can be passed around 2. and they can executed in future in specific time (several times). Now to support this feature in languages, some other languages deal simply with this matter. \r\n\r\nFor instance in Java Script, a function (Anonymous function, or Function literals) can be addressed as a object. So, you can create them simply and also they can be assigned to a variable and so forth. For example:\r\n\r\n    var myFunction = function (...) {\r\n    \t...;\r\n    }\r\n    alert(myFunction(...));\r\n\r\nor via ES6, you can use an arrow function.\r\n\r\n    const myFunction = ... =&gt; ...\r\n\r\nUp to now, Java language designers have not accepted to handle mentioned features via these manner (functional programming techniques). They believe that Java language is Object Oriented and therefore they should solve this problem via Object Oriented techniques. They don&#39;t want to miss simplicity and consistency of Java language. \r\n\r\nTherefore, they use interfaces, as when an object of an interface with just one method (I mean functional interface) is need you can replace it with a lambda expression. Such as:\r\n\r\n    ActionListener listener = event -&gt; ...;\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p>Beside other answers, I think the main reason to \"why using Functional Interface other than directly with lambda expressions\" can be related to nature of Java language which is Object Oriented. </p>\n\n<p>The main attributes of Lambda expressions are: 1. They can be passed around 2. and they can executed in future in specific time (several times). Now to support this feature in languages, some other languages deal simply with this matter. </p>\n\n<p>For instance in Java Script, a function (Anonymous function, or Function literals) can be addressed as a object. So, you can create them simply and also they can be assigned to a variable and so forth. For example:</p>\n\n<pre><code>var myFunction = function (...) {\n    ...;\n}\nalert(myFunction(...));\n</code></pre>\n\n<p>or via ES6, you can use an arrow function.</p>\n\n<pre><code>const myFunction = ... =&gt; ...\n</code></pre>\n\n<p>Up to now, Java language designers have not accepted to handle mentioned features via these manner (functional programming techniques). They believe that Java language is Object Oriented and therefore they should solve this problem via Object Oriented techniques. They don't want to miss simplicity and consistency of Java language. </p>\n\n<p>Therefore, they use interfaces, as when an object of an interface with just one method (I mean functional interface) is need you can replace it with a lambda expression. Such as:</p>\n\n<pre><code>ActionListener listener = event -&gt; ...;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9267443,"reputation":6364,"user_id":6882497,"accept_rate":77,"display_name":"Akiner Alkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564033565,"creation_date":1537164365,"answer_id":52361613,"question_id":36881826,"body_markdown":"You can use lambda in Java 8\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    tentimes(inputPrm - &gt; System.out.println(inputPrm));\r\n    //tentimes(System.out::println);  // You can also replace lambda with static method reference\r\n}\r\n\r\npublic static void tentimes(Consumer myFunction) {\r\n    for (int i = 0; i &lt; 10; i++)\r\n        myFunction.accept(&quot;hello&quot;);\r\n}\r\n```\r\n\r\nFor further info about [Java Lambdas][1] and [FunctionalInterfaces][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html","title":"What are functional interfaces used for in Java 8?","body":"<p>You can use lambda in Java 8</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    tentimes(inputPrm - &gt; System.out.println(inputPrm));\n    //tentimes(System.out::println);  // You can also replace lambda with static method reference\n}\n\npublic static void tentimes(Consumer myFunction) {\n    for (int i = 0; i &lt; 10; i++)\n        myFunction.accept(\"hello\");\n}\n</code></pre>\n\n<p>For further info about <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Java Lambdas</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">FunctionalInterfaces</a></p>\n"},{"tags":[],"owner":{"account_id":14420650,"reputation":99,"user_id":10416754,"display_name":"Akhilesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1538560069,"creation_date":1537941155,"answer_id":52510804,"question_id":36881826,"body_markdown":"An interface with only one abstract method is called Functional Interface. \r\nIt is not mandatory to use @FunctionalInterface, but it’s best practice to use it with functional interfaces to avoid addition of extra methods accidentally. If the interface is annotated with @FunctionalInterface annotation and we try to have more than one abstract method, it throws compiler error.\r\n        \r\n    package com.akhi;\r\n        @FunctionalInterface\r\n        public interface FucnctionalDemo {\r\n        \t\r\n          void letsDoSomething();\r\n          //void letsGo();  \t//invalid because another abstract method does not allow\r\n          public String toString();    // valid because toString from Object \r\n          public boolean equals(Object o); //valid\r\n          \r\n          public static int sum(int a,int b)   // valid because method static\r\n          \t{   \r\n        \t\treturn a+b;\r\n        \t}\r\n        \tpublic default int sub(int a,int b)   //valid because method default\r\n        \t{\r\n        \t\treturn a-b;\r\n        \t}\r\n        }\r\n\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p>An interface with only one abstract method is called Functional Interface. \nIt is not mandatory to use @FunctionalInterface, but it’s best practice to use it with functional interfaces to avoid addition of extra methods accidentally. If the interface is annotated with @FunctionalInterface annotation and we try to have more than one abstract method, it throws compiler error.</p>\n\n<pre><code>package com.akhi;\n    @FunctionalInterface\n    public interface FucnctionalDemo {\n\n      void letsDoSomething();\n      //void letsGo();      //invalid because another abstract method does not allow\n      public String toString();    // valid because toString from Object \n      public boolean equals(Object o); //valid\n\n      public static int sum(int a,int b)   // valid because method static\n        {   \n            return a+b;\n        }\n        public default int sub(int a,int b)   //valid because method default\n        {\n            return a-b;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":0,"creation_date":1545648218,"post_id":53833462,"comment_id":94668406,"body_markdown":"Should your first two examples have &#39;abstract&#39; keyword to it?","body":"Should your first two examples have &#39;abstract&#39; keyword to it?"},{"owner":{"account_id":2820470,"reputation":89,"user_id":2424331,"display_name":"Ketan"},"score":1,"creation_date":1546406120,"post_id":53833462,"comment_id":94839832,"body_markdown":"@sofs1 Methods declared in interfaces are by default both public and abstract. You have to use abstract keyword in case of methods in abstract class. However it is fine to use abstract keyword for methods in interface also. They have permitted it for compatibility of older java version but it is discouraged.","body":"@sofs1 Methods declared in interfaces are by default both public and abstract. You have to use abstract keyword in case of methods in abstract class. However it is fine to use abstract keyword for methods in interface also. They have permitted it for compatibility of older java version but it is discouraged."}],"tags":[],"owner":{"account_id":2820470,"reputation":89,"user_id":2424331,"display_name":"Ketan"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556188909,"creation_date":1545137594,"answer_id":53833462,"question_id":36881826,"body_markdown":"Functional Interface:\r\n\r\n - Introduced in Java 8\r\n - Interface that contains a &quot;single abstract&quot; method.\r\n\r\nExample 1: \r\n\t\t\r\n       interface CalcArea {   // --functional interface\r\n\t\t\tdouble calcArea(double rad);\r\n\t\t}\t\t\t\r\n\t\t\r\nExample 2:\r\n\r\n\tinterface CalcGeometry { // --functional interface\r\n\t\tdouble calcArea(double rad);\r\n\t\tdefault double calcPeri(double rad) {\r\n\t\t\treturn 0.0;\r\n\t\t}\r\n\t}\t\t\r\n\r\nExample 3:\r\n\r\n\tinterface CalcGeometry {  // -- not functional interface\r\n\t\tdouble calcArea(double rad);\r\n\t\tdouble calcPeri(double rad);\r\n\t}\t\r\n\r\nJava8 annotation -- `@FunctionalInterface`\r\n\r\n - Annotation check that interface contains only one abstract method. If not, raise error.\r\n - Even though @FunctionalInterface missing, it is still functional interface (if having single abstract method). The annotation helps avoid mistakes.\r\n - Functional interface may have additional static &amp; default methods.\r\n - e.g. Iterable&lt;&gt;, Comparable&lt;&gt;, Comparator&lt;&gt;.\r\n\t\t\r\nApplications of Functional Interface:\r\n\r\n - Method references\r\n - Lambda Expression\r\n - Constructor references\r\n\r\nTo learn functional interfaces, learn first default methods in interface, and after learning functional interface, it will be easy to you to understand method reference and lambda expression\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p>Functional Interface:</p>\n\n<ul>\n<li>Introduced in Java 8</li>\n<li>Interface that contains a \"single abstract\" method.</li>\n</ul>\n\n<p>Example 1: </p>\n\n<pre><code>   interface CalcArea {   // --functional interface\n        double calcArea(double rad);\n    }           \n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>interface CalcGeometry { // --functional interface\n    double calcArea(double rad);\n    default double calcPeri(double rad) {\n        return 0.0;\n    }\n}       \n</code></pre>\n\n<p>Example 3:</p>\n\n<pre><code>interface CalcGeometry {  // -- not functional interface\n    double calcArea(double rad);\n    double calcPeri(double rad);\n}   \n</code></pre>\n\n<p>Java8 annotation -- <code>@FunctionalInterface</code></p>\n\n<ul>\n<li>Annotation check that interface contains only one abstract method. If not, raise error.</li>\n<li>Even though @FunctionalInterface missing, it is still functional interface (if having single abstract method). The annotation helps avoid mistakes.</li>\n<li>Functional interface may have additional static &amp; default methods.</li>\n<li>e.g. Iterable&lt;>, Comparable&lt;>, Comparator&lt;>.</li>\n</ul>\n\n<p>Applications of Functional Interface:</p>\n\n<ul>\n<li>Method references</li>\n<li>Lambda Expression</li>\n<li>Constructor references</li>\n</ul>\n\n<p>To learn functional interfaces, learn first default methods in interface, and after learning functional interface, it will be easy to you to understand method reference and lambda expression</p>\n"},{"tags":[],"owner":{"account_id":6275005,"reputation":11,"user_id":4877925,"display_name":"yog_05"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606303709,"creation_date":1606289225,"answer_id":65000147,"question_id":36881826,"body_markdown":"Functional Interfaces: An interface is called a functional interface if it has a single abstract method irrespective of the number of default or static methods. Functional Interface are use for lamda expression. `Runnable`, `Callable`, `Comparable`, `Comparator` are few examples of `Functional` Interface.\r\n\r\nKeyNotes:\r\n - Annotation `@FunctionalInterface` is used(Optional).\r\n - It should have only 1 abstract method(irrespective of number of default and static \r\n    methods).\r\n - Two abstract method gives compilation error(Provider `@FunctionalInterface` annotation is \r\n    used).\r\n\r\n\r\n This [thread][1] talks more in detail about what benefit functional Interface gives over anonymous class and how to use them.\r\n\r\n\r\n  [1]: http://justjavathings05.blogspot.com/2020/11/understand-functional-interface.html","title":"What are functional interfaces used for in Java 8?","body":"<p>Functional Interfaces: An interface is called a functional interface if it has a single abstract method irrespective of the number of default or static methods. Functional Interface are use for lamda expression. <code>Runnable</code>, <code>Callable</code>, <code>Comparable</code>, <code>Comparator</code> are few examples of <code>Functional</code> Interface.</p>\n<p>KeyNotes:</p>\n<ul>\n<li>Annotation <code>@FunctionalInterface</code> is used(Optional).</li>\n<li>It should have only 1 abstract method(irrespective of number of default and static\nmethods).</li>\n<li>Two abstract method gives compilation error(Provider <code>@FunctionalInterface</code> annotation is\nused).</li>\n</ul>\n<p>This <a href=\"http://justjavathings05.blogspot.com/2020/11/understand-functional-interface.html\" rel=\"nofollow noreferrer\">thread</a> talks more in detail about what benefit functional Interface gives over anonymous class and how to use them.</p>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701712106,"creation_date":1701712106,"answer_id":77601554,"question_id":36881826,"body_markdown":"Java has introduced many features in Java 8 but one of the important features related to functional interface is **Stream**.\r\n\r\nWhen you look at most of the **Stream&#39;s** features we use lambda expression only. To shorten the code writing in **Stream** java has introduced this feature.\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p>Java has introduced many features in Java 8 but one of the important features related to functional interface is <strong>Stream</strong>.</p>\n<p>When you look at most of the <strong>Stream's</strong> features we use lambda expression only. To shorten the code writing in <strong>Stream</strong> java has introduced this feature.</p>\n"}],"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150808,"favorite_count":0,"down_vote_count":0,"up_vote_count":189,"accepted_answer_id":36882003,"answer_count":12,"score":189,"last_activity_date":1701712106,"creation_date":1461738083,"question_id":36881826,"body_markdown":"I came across a new term in Java 8: &quot;functional interface&quot;. I could only find one use of it while working with *lambda expressions*. \r\n\r\nJava 8 provides some built-in functional interfaces and if we want to define any functional interface then we can make use of the `@FunctionalInterface` annotation. It will allow us to declare only a single method in the interface.\r\n\r\nFor example:\r\n\r\n    @FunctionalInterface\r\n    interface MathOperation {\r\n        int operation(int a, int b);\r\n    }\r\n\r\nHow useful it is in Java 8 other than just working with *lambda expressions*? \r\n\r\n(The question [here][1] is different from the one I asked. It is asking why we need functional interfaces while working with lambda expressions. My question is: What are the other uses of functional interfaces besides use with lambda expressions?)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33010594/why-do-i-need-a-functional-interface-to-work-with-lambdas","title":"What are functional interfaces used for in Java 8?","body":"<p>I came across a new term in Java 8: &quot;functional interface&quot;. I could only find one use of it while working with <em>lambda expressions</em>.</p>\n<p>Java 8 provides some built-in functional interfaces and if we want to define any functional interface then we can make use of the <code>@FunctionalInterface</code> annotation. It will allow us to declare only a single method in the interface.</p>\n<p>For example:</p>\n<pre><code>@FunctionalInterface\ninterface MathOperation {\n    int operation(int a, int b);\n}\n</code></pre>\n<p>How useful it is in Java 8 other than just working with <em>lambda expressions</em>?</p>\n<p>(The question <a href=\"https://stackoverflow.com/questions/33010594/why-do-i-need-a-functional-interface-to-work-with-lambdas\">here</a> is different from the one I asked. It is asking why we need functional interfaces while working with lambda expressions. My question is: What are the other uses of functional interfaces besides use with lambda expressions?)</p>\n"},{"tags":["java","kotlin","gradle","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":1,"creation_date":1701715445,"post_id":77601412,"comment_id":136807789,"body_markdown":"https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/","body":"<a href=\"https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2021/11/&hellip;</a>"}],"owner":{"account_id":16955942,"reputation":46,"user_id":12264338,"display_name":"beet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701711348,"creation_date":1701710818,"question_id":77601412,"body_markdown":"In various answers I found the following ways to specify the JDK version:\r\n\r\n```kotlin\r\nconst val JDK_VERSION = 17\r\n\r\n// 1\r\nextensions.configure&lt;KotlinMultiplatformExtension&gt; {\r\n    jvm {\r\n        jvmToolchain(JDK_VERSION)\r\n    }\r\n}\r\n\r\n// 2\r\ntasks.withType(KotlinCompile::class.java) {\r\n    compilerOptions {\r\n        jvmTarget.set(JvmTarget.fromTarget(JDK_VERSION.toString()))\r\n    }\r\n}\r\n\r\n// 3\r\nextensions.findByType(JavaPluginExtension::class.java)?.apply {\r\n    sourceCompatibility = JavaVersion.toVersion(JDK_VERSION)\r\n    targetCompatibility = JavaVersion.toVersion(JDK_VERSION)\r\n}\r\n```\r\n\r\nCan you please tell me what is the difference between them all? In what cases should they be used?","title":"Various ways to specify JDK version for a Kotlin project in Gradle","body":"<p>In various answers I found the following ways to specify the JDK version:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>const val JDK_VERSION = 17\n\n// 1\nextensions.configure&lt;KotlinMultiplatformExtension&gt; {\n    jvm {\n        jvmToolchain(JDK_VERSION)\n    }\n}\n\n// 2\ntasks.withType(KotlinCompile::class.java) {\n    compilerOptions {\n        jvmTarget.set(JvmTarget.fromTarget(JDK_VERSION.toString()))\n    }\n}\n\n// 3\nextensions.findByType(JavaPluginExtension::class.java)?.apply {\n    sourceCompatibility = JavaVersion.toVersion(JDK_VERSION)\n    targetCompatibility = JavaVersion.toVersion(JDK_VERSION)\n}\n</code></pre>\n<p>Can you please tell me what is the difference between them all? In what cases should they be used?</p>\n"},{"tags":["java","eclipse","switch-statement","pattern-matching","java-17"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1655080725,"post_id":72596788,"comment_id":128238434,"body_markdown":"What does `javac` say when you compile that file?","body":"What does <code>javac</code> say when you compile that file?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1655082275,"post_id":72596788,"comment_id":128238555,"body_markdown":"Good idea. I tried with Maven (which should be equivalent to `javac`), and it gave the same error! I updated the question with this additional information.","body":"Good idea. I tried with Maven (which should be equivalent to <code>javac</code>), and it gave the same error! I updated the question with this additional information."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1655083507,"post_id":72596788,"comment_id":128238695,"body_markdown":"*&quot;Isn&#39;t null cases with pattern matching part of Java 17? What am I doing wrong?&quot;* - It is a preview feature, not a full feature.  See https://stackoverflow.com/questions/52232681 for how to enable preview features in Maven builds.","body":"<i>&quot;Isn&#39;t null cases with pattern matching part of Java 17? What am I doing wrong?&quot;</i> - It is a preview feature, not a full feature.  See <a href=\"https://stackoverflow.com/questions/52232681\">stackoverflow.com/questions/52232681</a> for how to enable preview features in Maven builds."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1655086355,"post_id":72596788,"comment_id":128239050,"body_markdown":"I had read https://medium.com/@javatechie/the-evolution-of-switch-statement-from-java-7-to-java-17-4b5eee8d29b7 , which seemed to indicate that the `null` cases was present in Java 17, but I guess that is different than pattern matching. So pattern matching is a full feature in Java 17, and `null` case statements is a full feature in Java 17, but pattern matching with `null` is only a preview feature in Java 17? That&#39;s sort of confusing.","body":"I had read <a href=\"https://medium.com/@javatechie/the-evolution-of-switch-statement-from-java-7-to-java-17-4b5eee8d29b7\" rel=\"nofollow noreferrer\">medium.com/@javatechie/&hellip;</a> , which seemed to indicate that the <code>null</code> cases was present in Java 17, but I guess that is different than pattern matching. So pattern matching is a full feature in Java 17, and <code>null</code> case statements is a full feature in Java 17, but pattern matching with <code>null</code> is only a preview feature in Java 17? That&#39;s sort of confusing."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1655096464,"post_id":72596788,"comment_id":128240419,"body_markdown":"In Java 17, _Pattern Matching for switch_ is a preview feature. See new features of Java 17: https://openjdk.java.net/projects/jdk/17/","body":"In Java 17, <i>Pattern Matching for switch</i> is a preview feature. See new features of Java 17: <a href=\"https://openjdk.java.net/projects/jdk/17/\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/jdk/17</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1655110888,"post_id":72596788,"comment_id":128244271,"body_markdown":"I just noted that enabling preview features under Eclipse isn’t helpful either. It compiles, but produces a `NullPointerException` at runtime. Seems, that support isn’t complete.","body":"I just noted that enabling preview features under Eclipse isn’t helpful either. It compiles, but produces a <code>NullPointerException</code> at runtime. Seems, that support isn’t complete."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655083447,"creation_date":1655083447,"answer_id":72596978,"question_id":72596788,"body_markdown":"This command line works for me:\r\n```\r\n$ javac -version\r\njavac 17.0.3\r\n$ javac  -source 17 -Xlint:preview --enable-preview org/kablambda/Main.java\r\norg/kablambda/Main.java:10: warning: [preview] null in switch cases is a preview feature and may be removed in a future release.\r\n            case null -&gt; &quot;c&quot;;\r\n                 ^\r\n1 warning\r\n```","title":"Java 17 null case with pattern matching","body":"<p>This command line works for me:</p>\n<pre><code>$ javac -version\njavac 17.0.3\n$ javac  -source 17 -Xlint:preview --enable-preview org/kablambda/Main.java\norg/kablambda/Main.java:10: warning: [preview] null in switch cases is a preview feature and may be removed in a future release.\n            case null -&gt; &quot;c&quot;;\n                 ^\n1 warning\n</code></pre>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1655088785,"post_id":72597126,"comment_id":128239338,"body_markdown":"Actually, `switch` expression do not have to use arrow labels. And a `switch` statement can now use arrow labels. Those two features are orthogonal - although I admit that they work very well together.","body":"Actually, <code>switch</code> expression do not have to use arrow labels. And a <code>switch</code> statement can now use arrow labels. Those two features are orthogonal - although I admit that they work very well together."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1655088957,"post_id":72597126,"comment_id":128239356,"body_markdown":"@JohannesKuhn I added an example at the end showing the old-school syntax without arrow label. Thank you.","body":"@JohannesKuhn I added an example at the end showing the old-school syntax without arrow label. Thank you."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1701711208,"creation_date":1655085786,"answer_id":72597126,"question_id":72596788,"body_markdown":"**Update:** Pattern matching for `switch` [arrived in Java 21][1]. \r\n\r\n# tl;dr\r\n\r\n&#128073; `switch` expressions != pattern matching with `switch`\r\n\r\nYou are mixing up the relatively new feature of *`switch` expressions* with the still-not-released feature of *pattern matching with `switch`*. \r\n\r\nThe `switch` feature in Java has been evolving through 3 phases, two completed:\r\n\r\n - ☑️ `switch` statement (original feature in Java 1)\r\n - ☑️ `switch` expression (Java 14+)\r\n - ❌ Pattern matching for `switch`, including `case null` (previewed in Java 17, 18, 19, &amp; 20)\r\n\r\n\r\n\r\n\r\n# Do not conflate `switch` expressions with pattern matching\r\n\r\n## Classic `switch`\r\n\r\nUnderstand that historically, the Java `switch` statement has been hostile to `null` checks. See this Question, [*How to use null in switch*](https://stackoverflow.com/q/10332132/642706). As shown there, code such as this:\r\n\r\n```java\r\nswitch (i) {\r\n    case null:\r\n        doSomething0();\r\n        break;    \r\n}\r\n``` \r\n… was not possible. \r\n\r\n## `switch` expressions\r\n\r\nFast forward to Java 14, when `switch` expressions was added to Java. See [*JEP 361: Switch Expressions*](https://openjdk.java.net/jeps/361). That allows the syntax seen in your first code example:\r\n\r\n```java\r\nreturn switch(testEnum) {\r\n  case foo -&gt; newFoo();\r\n  case bar -&gt; newBar();\r\n}\r\n```\r\n\r\nBut read the JEP. No mention of `null` — &#171; crickets &#187;.\r\n\r\n## Pattern matching for `switch`\r\n\r\nFast forward further, to [*JEP 406: Pattern Matching for switch (Preview)*](https://openjdk.java.net/jeps/406). Note that this is a preview feature in Java 17, not a final, officially released feature. (To understand how preview features work, read [*JEP 12: Preview Features*](https://openjdk.java.net/jeps/12).)\r\n\r\n&#128073; In that JEP 406, notice its second goal: ***Allow the historical null-hostility of switch to be relaxed when desired***. \r\n\r\nNow search that page for “null” —&#160;73 hits! That page explains the former policy of the Java language:\r\n\r\n&gt;Traditionally, `switch` statements and expressions throw `NullPointerException` if the selector expression evaluates to `null` …\r\n\r\nNotice the mention of *statements*, the original `switch` syntax, and additionally *expressions*, the new syntax used in your code. In both cases, `null` check was forbidden.\r\n\r\nThat page goes on to explain the changes that motivate the inclusion of support for null checks. Read the JEP for will-written details.\r\n\r\n&#128073; The upshot is that you can use `case null` in a `switch` in Java 17 — but only if you go out of your way to **enable the preview feature**. \r\n\r\n# Still in preview, in Java 20\r\n\r\n - The preview in Java 17 was *not* finalized in Java 18. \r\n - [Java 18 saw a second preview][2]. \r\n - A third preview appeared in Java 19: [*JEP 427: Pattern Matching for switch (Third Preview)*](https://openjdk.java.net/jeps/427). \r\n - &#128073; Currently in [4th preview in Java 20][3], as of 2022-10. \r\n\r\n[*&quot;We will sell no wine before its time.&quot;*][4]\r\n\r\nThere too, in Java 20, you will have to go out of your way to **activate the preview feature**. \r\n\r\nAnd of course two reminders: \r\n\r\n - Preview features should not be used in production for critical apps. \r\n - Preview features are likely to change. That is their purpose, to gather feedback and suggestions leading to changes. \r\n\r\n# Example\r\n\r\nLet&#39;s try this code example. Notice how we use plain old syntax here, without the `-&gt;`. The arrow operator is not related to our discussion here.\r\n\r\n```java\r\nString x = null;\r\nswitch ( x )\r\n{\r\n    case &quot;starburst&quot;:\r\n        System.out.println( &quot;Is starburst.&quot; );\r\n        break;\r\n    case null:\r\n        System.out.println( &quot;Whoops, null.&quot; );\r\n        break;\r\n    default:\r\n        System.out.println( &quot;Some other value found.&quot; );\r\n        break;\r\n}\r\n```\r\n\r\nIn Java 17, by default, without enabling preview features we get this error while editing the code for `case null`:\r\n\r\n&gt;Patterns in switch are not supported at language level &#39;17&#39;\r\n&gt;\r\n&gt;Set language level to 17 (Preview) - Pattern matching for switch\r\n\r\nAfter enabling preview features in Java 17, the code compiles without complaint. And it runs:\r\n\r\n&gt;Whoops, null.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/441\r\n  [2]: https://openjdk.java.net/jeps/420\r\n  [3]: https://openjdk.org/jeps/433\r\n  [4]: https://en.wikipedia.org/wiki/Orson_Welles_Paul_Masson_advertisements#1978:_Original_ad%E2%80%94Beethoven,_Emerald_Dry","title":"Java 17 null case with pattern matching","body":"<p><strong>Update:</strong> Pattern matching for <code>switch</code> <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">arrived in Java 21</a>.</p>\n<h1>tl;dr</h1>\n<p>👉 <code>switch</code> expressions != pattern matching with <code>switch</code></p>\n<p>You are mixing up the relatively new feature of <em><code>switch</code> expressions</em> with the still-not-released feature of <em>pattern matching with <code>switch</code></em>.</p>\n<p>The <code>switch</code> feature in Java has been evolving through 3 phases, two completed:</p>\n<ul>\n<li>☑️ <code>switch</code> statement (original feature in Java 1)</li>\n<li>☑️ <code>switch</code> expression (Java 14+)</li>\n<li>❌ Pattern matching for <code>switch</code>, including <code>case null</code> (previewed in Java 17, 18, 19, &amp; 20)</li>\n</ul>\n<h1>Do not conflate <code>switch</code> expressions with pattern matching</h1>\n<h2>Classic <code>switch</code></h2>\n<p>Understand that historically, the Java <code>switch</code> statement has been hostile to <code>null</code> checks. See this Question, <a href=\"https://stackoverflow.com/q/10332132/642706\"><em>How to use null in switch</em></a>. As shown there, code such as this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (i) {\n    case null:\n        doSomething0();\n        break;    \n}\n</code></pre>\n<p>… was not possible.</p>\n<h2><code>switch</code> expressions</h2>\n<p>Fast forward to Java 14, when <code>switch</code> expressions was added to Java. See <a href=\"https://openjdk.java.net/jeps/361\" rel=\"nofollow noreferrer\"><em>JEP 361: Switch Expressions</em></a>. That allows the syntax seen in your first code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return switch(testEnum) {\n  case foo -&gt; newFoo();\n  case bar -&gt; newBar();\n}\n</code></pre>\n<p>But read the JEP. No mention of <code>null</code> — « crickets ».</p>\n<h2>Pattern matching for <code>switch</code></h2>\n<p>Fast forward further, to <a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\"><em>JEP 406: Pattern Matching for switch (Preview)</em></a>. Note that this is a preview feature in Java 17, not a final, officially released feature. (To understand how preview features work, read <a href=\"https://openjdk.java.net/jeps/12\" rel=\"nofollow noreferrer\"><em>JEP 12: Preview Features</em></a>.)</p>\n<p>👉 In that JEP 406, notice its second goal: <em><strong>Allow the historical null-hostility of switch to be relaxed when desired</strong></em>.</p>\n<p>Now search that page for “null” — 73 hits! That page explains the former policy of the Java language:</p>\n<blockquote>\n<p>Traditionally, <code>switch</code> statements and expressions throw <code>NullPointerException</code> if the selector expression evaluates to <code>null</code> …</p>\n</blockquote>\n<p>Notice the mention of <em>statements</em>, the original <code>switch</code> syntax, and additionally <em>expressions</em>, the new syntax used in your code. In both cases, <code>null</code> check was forbidden.</p>\n<p>That page goes on to explain the changes that motivate the inclusion of support for null checks. Read the JEP for will-written details.</p>\n<p>👉 The upshot is that you can use <code>case null</code> in a <code>switch</code> in Java 17 — but only if you go out of your way to <strong>enable the preview feature</strong>.</p>\n<h1>Still in preview, in Java 20</h1>\n<ul>\n<li>The preview in Java 17 was <em>not</em> finalized in Java 18.</li>\n<li><a href=\"https://openjdk.java.net/jeps/420\" rel=\"nofollow noreferrer\">Java 18 saw a second preview</a>.</li>\n<li>A third preview appeared in Java 19: <a href=\"https://openjdk.java.net/jeps/427\" rel=\"nofollow noreferrer\"><em>JEP 427: Pattern Matching for switch (Third Preview)</em></a>.</li>\n<li>👉 Currently in <a href=\"https://openjdk.org/jeps/433\" rel=\"nofollow noreferrer\">4th preview in Java 20</a>, as of 2022-10.</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/Orson_Welles_Paul_Masson_advertisements#1978:_Original_ad%E2%80%94Beethoven,_Emerald_Dry\" rel=\"nofollow noreferrer\"><em>&quot;We will sell no wine before its time.&quot;</em></a></p>\n<p>There too, in Java 20, you will have to go out of your way to <strong>activate the preview feature</strong>.</p>\n<p>And of course two reminders:</p>\n<ul>\n<li>Preview features should not be used in production for critical apps.</li>\n<li>Preview features are likely to change. That is their purpose, to gather feedback and suggestions leading to changes.</li>\n</ul>\n<h1>Example</h1>\n<p>Let's try this code example. Notice how we use plain old syntax here, without the <code>-&gt;</code>. The arrow operator is not related to our discussion here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String x = null;\nswitch ( x )\n{\n    case &quot;starburst&quot;:\n        System.out.println( &quot;Is starburst.&quot; );\n        break;\n    case null:\n        System.out.println( &quot;Whoops, null.&quot; );\n        break;\n    default:\n        System.out.println( &quot;Some other value found.&quot; );\n        break;\n}\n</code></pre>\n<p>In Java 17, by default, without enabling preview features we get this error while editing the code for <code>case null</code>:</p>\n<blockquote>\n<p>Patterns in switch are not supported at language level '17'</p>\n<p>Set language level to 17 (Preview) - Pattern matching for switch</p>\n</blockquote>\n<p>After enabling preview features in Java 17, the code compiles without complaint. And it runs:</p>\n<blockquote>\n<p>Whoops, null.</p>\n</blockquote>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7806,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1701711208,"creation_date":1655079935,"question_id":72596788,"body_markdown":"I have a Java 17 project using Eclipse 2022-03 and OpenJDK 17:\r\n\r\n```\r\nopenjdk 17.0.2 2022-01-18\r\nOpenJDK Runtime Environment Temurin-17.0.2+8 (build 17.0.2+8)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.2+8 (build 17.0.2+8, mixed mode, sharing)\r\n```\r\n\r\nI&#39;m trying to use the new Java 17 switch features, so I tried this in a method:\r\n\r\n```\r\nreturn switch(testEnum) {\r\n  case foo -&gt; newFoo();\r\n  case bar -&gt; newBar();\r\n}\r\n```\r\n\r\nThat works fine. But then I tried this (because the value might be `null`):\r\n\r\n```\r\nreturn switch(testEnum) {\r\n  case foo -&gt; newFoo();\r\n  case bar -&gt; newBar();\r\n  case null -&gt; newDefault();\r\n}\r\n```\r\n\r\nEclipse underlines `null` in red and says:\r\n\r\n&gt; Pattern Matching in Switch is a preview feature and disabled by default. Use --enable-preview to enable\r\n\r\nCompiling via Maven produces:\r\n\r\n```\r\n[ERROR] /project/src/main/java/com/example/FooBar.java:[432,38] null in switch cases is a preview feature and is disabled by default.\r\n[ERROR]   (use --enable-preview to enable null in switch cases)\r\n```\r\n\r\nMy Maven project has:\r\n\r\n```\r\n&lt;properties&gt;\r\n  &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nI know the compiler release setting isn&#39;t being ignored; otherwise it would be defaulting to Java 8 (as per my parent POM) and not allowing pattern matching at all.\r\n\r\nIsn&#39;t null cases with pattern matching part of Java 17? What am I doing wrong?","title":"Java 17 null case with pattern matching","body":"<p>I have a Java 17 project using Eclipse 2022-03 and OpenJDK 17:</p>\n<pre><code>openjdk 17.0.2 2022-01-18\nOpenJDK Runtime Environment Temurin-17.0.2+8 (build 17.0.2+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.2+8 (build 17.0.2+8, mixed mode, sharing)\n</code></pre>\n<p>I'm trying to use the new Java 17 switch features, so I tried this in a method:</p>\n<pre><code>return switch(testEnum) {\n  case foo -&gt; newFoo();\n  case bar -&gt; newBar();\n}\n</code></pre>\n<p>That works fine. But then I tried this (because the value might be <code>null</code>):</p>\n<pre><code>return switch(testEnum) {\n  case foo -&gt; newFoo();\n  case bar -&gt; newBar();\n  case null -&gt; newDefault();\n}\n</code></pre>\n<p>Eclipse underlines <code>null</code> in red and says:</p>\n<blockquote>\n<p>Pattern Matching in Switch is a preview feature and disabled by default. Use --enable-preview to enable</p>\n</blockquote>\n<p>Compiling via Maven produces:</p>\n<pre><code>[ERROR] /project/src/main/java/com/example/FooBar.java:[432,38] null in switch cases is a preview feature and is disabled by default.\n[ERROR]   (use --enable-preview to enable null in switch cases)\n</code></pre>\n<p>My Maven project has:</p>\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>I know the compiler release setting isn't being ignored; otherwise it would be defaulting to Java 8 (as per my parent POM) and not allowing pattern matching at all.</p>\n<p>Isn't null cases with pattern matching part of Java 17? What am I doing wrong?</p>\n"},{"tags":["java","android","android-wifi","android-8.0-oreo","hotspot"],"comments":[{"owner":{"account_id":1150960,"reputation":1788,"user_id":1132699,"accept_rate":84,"display_name":"nitzanms"},"score":0,"creation_date":1513011632,"post_id":47700717,"comment_id":82476657,"body_markdown":"I don&#39;t have an answer for you, but have you considered using Bluetooth to either perform the authentication or to publish the network SSID?","body":"I don&#39;t have an answer for you, but have you considered using Bluetooth to either perform the authentication or to publish the network SSID?"},{"owner":{"account_id":1150960,"reputation":1788,"user_id":1132699,"accept_rate":84,"display_name":"nitzanms"},"score":2,"creation_date":1513012153,"post_id":47700717,"comment_id":82476941,"body_markdown":"Note that according to the documentation of ``startLocalOnlyHotspot``, the hotspot may be shared between several apps. This indicates that modifying the SSID is unlikely to be officially supported.","body":"Note that according to the documentation of <code>startLocalOnlyHotspot</code>, the hotspot may be shared between several apps. This indicates that modifying the SSID is unlikely to be officially supported."},{"owner":{"account_id":5407171,"reputation":649,"user_id":4305282,"accept_rate":20,"display_name":"Visionwriter"},"score":0,"creation_date":1520867234,"post_id":47700717,"comment_id":85480274,"body_markdown":"Hey, did you ever find a solution to this problem?","body":"Hey, did you ever find a solution to this problem?"},{"owner":{"account_id":4326690,"reputation":2132,"user_id":3533322,"accept_rate":76,"display_name":"Markinson"},"score":0,"creation_date":1520867270,"post_id":47700717,"comment_id":85480304,"body_markdown":"@Visionwriter nope :(","body":"@Visionwriter nope :("},{"owner":{"account_id":14076707,"reputation":125,"user_id":10168772,"display_name":"Karan Malhotra"},"score":0,"creation_date":1595385415,"post_id":47700717,"comment_id":111453146,"body_markdown":"@Markinson did you found the solution yet ?","body":"@Markinson did you found the solution yet ?"}],"answers":[{"comments":[{"owner":{"account_id":8646935,"reputation":8115,"user_id":6473867,"accept_rate":44,"display_name":"Gowthaman M"},"score":0,"creation_date":1535719642,"post_id":47801837,"comment_id":91182137,"body_markdown":"Thanks for your answe......`context.getResources().getString(\n              R.string.wifi_localhotspot_configure_ssid_default) + &quot;_&quot;\n                      + getRandomIntForDefaultSsid();` can give us the format please..","body":"Thanks for your answe......<code>context.getResources().getString(               R.string.wifi_localhotspot_configure_ssid_default) + &quot;_&quot;                       + getRandomIntForDefaultSsid();</code> can give us the format please.."},{"owner":{"account_id":8646935,"reputation":8115,"user_id":6473867,"accept_rate":44,"display_name":"Gowthaman M"},"score":0,"creation_date":1535719788,"post_id":47801837,"comment_id":91182219,"body_markdown":"please help me sir","body":"please help me sir"},{"owner":{"account_id":479856,"reputation":3437,"user_id":892771,"display_name":"pellucide"},"score":0,"creation_date":1536068556,"post_id":47801837,"comment_id":91285359,"body_markdown":"It is not possible to change the SSID","body":"It is not possible to change the SSID"},{"owner":{"account_id":8646935,"reputation":8115,"user_id":6473867,"accept_rate":44,"display_name":"Gowthaman M"},"score":0,"creation_date":1536068757,"post_id":47801837,"comment_id":91285498,"body_markdown":"is there any workaround solution for that....I want to create hotspot name with some specific name sir..","body":"is there any workaround solution for that....I want to create hotspot name with some specific name sir.."},{"owner":{"account_id":479856,"reputation":3437,"user_id":892771,"display_name":"pellucide"},"score":2,"creation_date":1536513903,"post_id":47801837,"comment_id":91441905,"body_markdown":"@Gowthamam, As far as I know, there isnt a way to set a specific name.","body":"@Gowthamam, As far as I know, there isnt a way to set a specific name."},{"owner":{"account_id":11905400,"reputation":1028,"user_id":8712102,"display_name":"HandyPawan"},"score":0,"creation_date":1568099925,"post_id":47801837,"comment_id":102156794,"body_markdown":"Still same not effect on name !","body":"Still same not effect on name !"},{"owner":{"account_id":6806860,"reputation":89,"user_id":5238326,"display_name":"Sudhir"},"score":1,"creation_date":1579580488,"post_id":47801837,"comment_id":105803849,"body_markdown":"For our use case we also need to set ssid and password programitically. Any solution appreciated.","body":"For our use case we also need to set ssid and password programitically. Any solution appreciated."}],"tags":[],"owner":{"account_id":479856,"reputation":3437,"user_id":892771,"display_name":"pellucide"},"comment_count":7,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1536070633,"creation_date":1513197950,"answer_id":47801837,"question_id":47700717,"body_markdown":"I have only a partial solution to the problem. Hopefully, it will be sufficient for the application you are designing.\r\n\r\n   **The SSID and the password are hard-coded by the android system when you start the Hotspot**. By looking over at the AOSP code, I see that the same hotspot can be shared by multiple applications. The configuration for this hotspot(class name is `WifiConfiguration`) is also shared with all the requesting applications. This configuration is passed back to the application in the callback `onStarted(LocalOnlyHotspotReservation reservation)`. You can get the `WifiConfiguration` by calling `reservation.getWifiConfiguration()`. You will get all the information you need from the `WifiConfiguration` object. So you can **read** the Pre-Shared Key and the access point name. But I don&#39;t think you can change them\r\n&lt;br&gt;\r\n&lt;BR&gt;\r\n&lt;BR&gt;\r\nFYI, The relevant code that sets up the wifi configuration (including the hard-coded SSID and WPA2-PSK key) is done by the following piece of code\r\n\r\n      /**\r\n       * Generate a temporary WPA2 based configuration for use by the local only hotspot.\r\n       * This config is not persisted and will not be stored by the WifiApConfigStore.\r\n       */\r\n       public static WifiConfiguration generateLocalOnlyHotspotConfig(Context context) {\r\n           WifiConfiguration config = new WifiConfiguration();\r\n           config.SSID = context.getResources().getString(\r\n                  R.string.wifi_localhotspot_configure_ssid_default) + &quot;_&quot;\r\n                          + getRandomIntForDefaultSsid();\r\n           config.allowedKeyManagement.set(KeyMgmt.WPA2_PSK);\r\n           config.networkId = WifiConfiguration.LOCAL_ONLY_NETWORK_ID;\r\n           String randomUUID = UUID.randomUUID().toString();\r\n           // first 12 chars from xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\r\n           config.preSharedKey = randomUUID.substring(0, 8) + randomUUID.substring(9, 13);\r\n           return config;\r\n       }\r\n\r\n","title":"Change local-only Wi-Fi hotspot&#39;s SSID and password in Android Oreo 8.x","body":"<p>I have only a partial solution to the problem. Hopefully, it will be sufficient for the application you are designing.</p>\n\n<p><strong>The SSID and the password are hard-coded by the android system when you start the Hotspot</strong>. By looking over at the AOSP code, I see that the same hotspot can be shared by multiple applications. The configuration for this hotspot(class name is <code>WifiConfiguration</code>) is also shared with all the requesting applications. This configuration is passed back to the application in the callback <code>onStarted(LocalOnlyHotspotReservation reservation)</code>. You can get the <code>WifiConfiguration</code> by calling <code>reservation.getWifiConfiguration()</code>. You will get all the information you need from the <code>WifiConfiguration</code> object. So you can <strong>read</strong> the Pre-Shared Key and the access point name. But I don't think you can change them\n<br>\n<BR>\n<BR>\nFYI, The relevant code that sets up the wifi configuration (including the hard-coded SSID and WPA2-PSK key) is done by the following piece of code</p>\n\n<pre><code>  /**\n   * Generate a temporary WPA2 based configuration for use by the local only hotspot.\n   * This config is not persisted and will not be stored by the WifiApConfigStore.\n   */\n   public static WifiConfiguration generateLocalOnlyHotspotConfig(Context context) {\n       WifiConfiguration config = new WifiConfiguration();\n       config.SSID = context.getResources().getString(\n              R.string.wifi_localhotspot_configure_ssid_default) + \"_\"\n                      + getRandomIntForDefaultSsid();\n       config.allowedKeyManagement.set(KeyMgmt.WPA2_PSK);\n       config.networkId = WifiConfiguration.LOCAL_ONLY_NETWORK_ID;\n       String randomUUID = UUID.randomUUID().toString();\n       // first 12 chars from xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\n       config.preSharedKey = randomUUID.substring(0, 8) + randomUUID.substring(9, 13);\n       return config;\n   }\n</code></pre>\n"}],"owner":{"account_id":4326690,"reputation":2132,"user_id":3533322,"accept_rate":76,"display_name":"Markinson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8908,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":1,"score":32,"last_activity_date":1701711202,"creation_date":1512668192,"question_id":47700717,"body_markdown":"In my Android application I&#39;m using the following code snippet:\r\n\r\n```java\r\n@RequiresApi(api = Build.VERSION_CODES.O)\r\nprivate void turnOnHotspot(){\r\n    WifiManager manager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n    \r\n    manager.startLocalOnlyHotspot(new WifiManager.LocalOnlyHotspotCallback(){\r\n    \r\n        @Override\r\n        public void onStarted(WifiManager.LocalOnlyHotspotReservation reservation) {\r\n            super.onStarted(reservation);\r\n            Log.d(TAG, &quot;Wifi Hotspot is on now&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onStopped() {\r\n            super.onStopped();\r\n            Log.d(TAG, &quot;onStopped: &quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onFailed(int reason) {\r\n            super.onFailed(reason);\r\n            Log.d(TAG, &quot;onFailed: &quot;);\r\n        }\r\n    },new Handler());\r\n}\r\n```\r\n\r\nThis piece of code creates a hotspot named something like &quot;AndroidShare_1234&quot;. For a project of mine I need to be able to set a password and  SSID to this hotspot.  However, I can&#39;t find a way to do this.\r\n\r\nNote that the `setWifiApEnabled`  is not supported anymore in Android O.  This is how it&#39;s done in older versions of Android. However, I still need to programmatically make a Wi-Fi hotspot with an SSID and a password. I can&#39;t figure out how to do this. Thanks in advance!\r\n\r\n**For who cares...:**\r\n\r\nFor a school project I made a locker that unlocks whenever it can connect to a wireless network with certain credentials hence the need of setting a hotspot programmatically. ","title":"Change local-only Wi-Fi hotspot&#39;s SSID and password in Android Oreo 8.x","body":"<p>In my Android application I'm using the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiresApi(api = Build.VERSION_CODES.O)\nprivate void turnOnHotspot(){\n    WifiManager manager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n    \n    manager.startLocalOnlyHotspot(new WifiManager.LocalOnlyHotspotCallback(){\n    \n        @Override\n        public void onStarted(WifiManager.LocalOnlyHotspotReservation reservation) {\n            super.onStarted(reservation);\n            Log.d(TAG, &quot;Wifi Hotspot is on now&quot;);\n        }\n    \n        @Override\n        public void onStopped() {\n            super.onStopped();\n            Log.d(TAG, &quot;onStopped: &quot;);\n        }\n    \n        @Override\n        public void onFailed(int reason) {\n            super.onFailed(reason);\n            Log.d(TAG, &quot;onFailed: &quot;);\n        }\n    },new Handler());\n}\n</code></pre>\n<p>This piece of code creates a hotspot named something like &quot;AndroidShare_1234&quot;. For a project of mine I need to be able to set a password and  SSID to this hotspot.  However, I can't find a way to do this.</p>\n<p>Note that the <code>setWifiApEnabled</code>  is not supported anymore in Android O.  This is how it's done in older versions of Android. However, I still need to programmatically make a Wi-Fi hotspot with an SSID and a password. I can't figure out how to do this. Thanks in advance!</p>\n<p><strong>For who cares...:</strong></p>\n<p>For a school project I made a locker that unlocks whenever it can connect to a wireless network with certain credentials hence the need of setting a hotspot programmatically.</p>\n"},{"tags":["java"],"owner":{"account_id":13902811,"reputation":1,"user_id":10038012,"display_name":"merman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701723782,"answer_count":0,"score":-2,"last_activity_date":1701711070,"creation_date":1701711070,"question_id":77601441,"body_markdown":"Essentially I am working for a client who is using basic authentication to authenticate users and wants me to add JWT tokens to the headers for each request going out. I am having some trouble understanding how authentication works in general, especially in the case of JWT and how to go about the implementation. From my understanding user sends request to login, server accepts username/pw and gives user a jwt token(do i generate the token and endcode/decode manually?  or should i use a java/spring library?) with a expiration time. The token is stored and placed into all request being sent out as a header, whenever the token expires i should have some logic to handle a redirect or new token assignment. The other main question I am having is how does this secure a user logging in? They are still using basic auth to do the logging in the only change is from the request after a user logs in. Java BE angular FE\r\n\r\nPlease just looking for some guidance I may just be completely wrong and speaking nonesense this isnt my area of expertise \r\n\r\nTried using some tutorials or general doc and ive been stumped","title":"Add Jwt token to existing basic auth","body":"<p>Essentially I am working for a client who is using basic authentication to authenticate users and wants me to add JWT tokens to the headers for each request going out. I am having some trouble understanding how authentication works in general, especially in the case of JWT and how to go about the implementation. From my understanding user sends request to login, server accepts username/pw and gives user a jwt token(do i generate the token and endcode/decode manually?  or should i use a java/spring library?) with a expiration time. The token is stored and placed into all request being sent out as a header, whenever the token expires i should have some logic to handle a redirect or new token assignment. The other main question I am having is how does this secure a user logging in? They are still using basic auth to do the logging in the only change is from the request after a user logs in. Java BE angular FE</p>\n<p>Please just looking for some guidance I may just be completely wrong and speaking nonesense this isnt my area of expertise</p>\n<p>Tried using some tutorials or general doc and ive been stumped</p>\n"},{"tags":["java","quartz"],"comments":[{"owner":{"account_id":16801428,"reputation":920,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1654242916,"post_id":72486381,"comment_id":128049068,"body_markdown":"[how-do-i-post-code-in-stackoverflow](https://meta.stackexchange.com/questions/51144/how-do-i-post-code-in-stackoverflow)","body":"<a href=\"https://meta.stackexchange.com/questions/51144/how-do-i-post-code-in-stackoverflow\">how-do-i-post-code-in-stackoverflow</a>"}],"answers":[{"comments":[{"owner":{"account_id":24806269,"reputation":1,"user_id":18688252,"display_name":"Tan"},"score":0,"creation_date":1654243479,"post_id":72486477,"comment_id":128049215,"body_markdown":"You are right, my thread pool is Quartz&#39;s default thread pool, there are a total of 10 threads, but my task and my trigger each have only one","body":"You are right, my thread pool is Quartz&#39;s default thread pool, there are a total of 10 threads, but my task and my trigger each have only one"},{"owner":{"account_id":24806269,"reputation":1,"user_id":18688252,"display_name":"Tan"},"score":0,"creation_date":1654243688,"post_id":72486477,"comment_id":128049275,"body_markdown":"I see the Trigger status of the database, it will become acquired, but the task will not be executed, and then become wating","body":"I see the Trigger status of the database, it will become acquired, but the task will not be executed, and then become wating"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654243281,"creation_date":1654243281,"answer_id":72486477,"question_id":72486381,"body_markdown":"Quartz knows it does not always execute on time. The reasons can be different. Just as an example, imagine you have CronTriggers setup for more jobs at the same time than you have threads in your pool. Obviously some jobs would not get executed at all or with delay. \r\n\r\nI cannot tell what exeactly is going on in your environment, but evidence of the above can be seen when looking at the API: http://www.quartz-scheduler.org/api/2.4.0-SNAPSHOT/org/quartz/Trigger.html#getMisfireInstruction--","title":"Quartz does not execute tasks according to Cron expressions","body":"<p>Quartz knows it does not always execute on time. The reasons can be different. Just as an example, imagine you have CronTriggers setup for more jobs at the same time than you have threads in your pool. Obviously some jobs would not get executed at all or with delay.</p>\n<p>I cannot tell what exeactly is going on in your environment, but evidence of the above can be seen when looking at the API: <a href=\"http://www.quartz-scheduler.org/api/2.4.0-SNAPSHOT/org/quartz/Trigger.html#getMisfireInstruction--\" rel=\"nofollow noreferrer\">http://www.quartz-scheduler.org/api/2.4.0-SNAPSHOT/org/quartz/Trigger.html#getMisfireInstruction--</a></p>\n"},{"tags":[],"owner":{"account_id":8684047,"reputation":73,"user_id":6499046,"display_name":"Marco Mascellani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701710257,"creation_date":1701710257,"answer_id":77601358,"question_id":72486381,"body_markdown":"It does make sense under two hypothesis:\r\n\r\n1. there is another running instance of your application (f.e. two nodes environment)\r\n2. your job is marked as &quot;DisallowConcurrentExecution&quot; (or equivalent setting via quartz.config)\r\n\r\nIf so, when you run with in-memory management both nodes have no way to synchronize and they trigger every time.\r\n\r\nWhen you switch to DB management, each node begins to check if another node has already executed the job and, when it is the case, it skips.\r\n","title":"Quartz does not execute tasks according to Cron expressions","body":"<p>It does make sense under two hypothesis:</p>\n<ol>\n<li>there is another running instance of your application (f.e. two nodes environment)</li>\n<li>your job is marked as &quot;DisallowConcurrentExecution&quot; (or equivalent setting via quartz.config)</li>\n</ol>\n<p>If so, when you run with in-memory management both nodes have no way to synchronize and they trigger every time.</p>\n<p>When you switch to DB management, each node begins to check if another node has already executed the job and, when it is the case, it skips.</p>\n"}],"owner":{"account_id":24806269,"reputation":1,"user_id":18688252,"display_name":"Tan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701710257,"creation_date":1654242800,"question_id":72486381,"body_markdown":"Recently, I am using Quartz to perform some scheduled tasks. I use SpringBoot to integrate Quartz. When I use memory storage, everything is normal. When I JDBC quartz, the tasks will not be executed according to Cron expressions. I set it to be executed once every minute, but it will actually be executed every 2 minutes or more. Has anyone encountered this situation?\r\n\r\nSpringBoot version 2.7\r\nQuartz Version 2.3.2\r\n\r\n    @Bean\r\n\tpublic Trigger emailTrigger() {\r\n\t\tCronScheduleBuilder csb = CronScheduleBuilder.cronSchedule(&quot;0 0/1 * * * ?&quot;);\r\n\t\tcsb.withMisfireHandlingInstructionDoNothing();\r\n\t\treturn TriggerBuilder.newTrigger().forJob(taskJobDetail()).withIdentity(&quot;task&quot;, &quot;task&quot;)\r\n\t\t\t\t.withSchedule(csb).build();\r\n\t}\r\n\r\n\r\n    @Override\r\n\tprotected void executeInternal(JobExecutionContext context) throws JobExecutionException {\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\n\t\tSystem.out.println(sdf.format(new Date()) + &quot;: task&quot;);\r\n\t}\r\n\r\n\r\n\r\n\r\n2022-06-03 04:07:00: task\r\n\r\n2022-06-03 04:09:00: task\r\n\r\n2022-06-03 04:11:00: task\r\n\r\n2022-06-03 04:13:00: task\r\n\r\n2022-06-03 04:15:00: task\r\n\r\n2022-06-03 04:17:00: task\r\n\r\n2022-06-03 04:19:00: task\r\n\r\n2022-06-03 04:21:00: task\r\n\r\n2022-06-03 04:23:00: task\r\n\r\n    \r\n","title":"Quartz does not execute tasks according to Cron expressions","body":"<p>Recently, I am using Quartz to perform some scheduled tasks. I use SpringBoot to integrate Quartz. When I use memory storage, everything is normal. When I JDBC quartz, the tasks will not be executed according to Cron expressions. I set it to be executed once every minute, but it will actually be executed every 2 minutes or more. Has anyone encountered this situation?</p>\n<p>SpringBoot version 2.7\nQuartz Version 2.3.2</p>\n<pre><code>@Bean\npublic Trigger emailTrigger() {\n    CronScheduleBuilder csb = CronScheduleBuilder.cronSchedule(&quot;0 0/1 * * * ?&quot;);\n    csb.withMisfireHandlingInstructionDoNothing();\n    return TriggerBuilder.newTrigger().forJob(taskJobDetail()).withIdentity(&quot;task&quot;, &quot;task&quot;)\n            .withSchedule(csb).build();\n}\n\n\n@Override\nprotected void executeInternal(JobExecutionContext context) throws JobExecutionException {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\n    System.out.println(sdf.format(new Date()) + &quot;: task&quot;);\n}\n</code></pre>\n<p>2022-06-03 04:07:00: task</p>\n<p>2022-06-03 04:09:00: task</p>\n<p>2022-06-03 04:11:00: task</p>\n<p>2022-06-03 04:13:00: task</p>\n<p>2022-06-03 04:15:00: task</p>\n<p>2022-06-03 04:17:00: task</p>\n<p>2022-06-03 04:19:00: task</p>\n<p>2022-06-03 04:21:00: task</p>\n<p>2022-06-03 04:23:00: task</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1582600176,"post_id":60382587,"comment_id":106824309,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/208459/discussion-on-question-by-faraz-how-to-get-localtime-at-different-time-zone).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/208459/discussion-on-question-by-faraz-how-to-get-localtime-at-different-time-zone\">moved to chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1582573495,"post_id":60382840,"comment_id":106816748,"body_markdown":"While this works, it really sounds like `LocalTime` is the wrong tool here. Why not `ZonedDateTime` or `OffsetTime`. Or going from CST to UTC, passing UTC around, and finally going back to a zoned time.","body":"While this works, it really sounds like <code>LocalTime</code> is the wrong tool here. Why not <code>ZonedDateTime</code> or <code>OffsetTime</code>. Or going from CST to UTC, passing UTC around, and finally going back to a zoned time."},{"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"score":1,"creation_date":1582573677,"post_id":60382840,"comment_id":106816818,"body_markdown":"@Zabuza I tend to agree with you. Myself, I prefer to work with &quot;Clock&quot; only while mocking the date-time in unit-tests.","body":"@Zabuza I tend to agree with you. Myself, I prefer to work with &quot;Clock&quot; only while mocking the date-time in unit-tests."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1582574538,"post_id":60382840,"comment_id":106817214,"body_markdown":"@amseager it doesn&#39;t really answer my question. This is showing `now()` at CST. I want to convert my 11 to CST.","body":"@amseager it doesn&#39;t really answer my question. This is showing <code>now()</code> at CST. I want to convert my 11 to CST."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1582574850,"post_id":60382840,"comment_id":106817365,"body_markdown":"It doesn&#39;t really answers my question. But this gives me an idea.","body":"It doesn&#39;t really answers my question. But this gives me an idea."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1582575112,"post_id":60382840,"comment_id":106817469,"body_markdown":"It’s overly complicated. You need no `Clock`. Just `LocalTime.now(ZoneId.of(&quot;America/Chicago&quot;))`.","body":"It’s overly complicated. You need no <code>Clock</code>. Just <code>LocalTime.now(ZoneId.of(&quot;America&#47;Chicago&quot;))</code>."},{"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"score":0,"creation_date":1582575497,"post_id":60382840,"comment_id":106817633,"body_markdown":"@OleV.V. both ways are the same. `now(ZoneId zone)` is another shortcut method which calls `now(Clock.system(zone))` under the hood.","body":"@OleV.V. both ways are the same. <code>now(ZoneId zone)</code> is another shortcut method which calls <code>now(Clock.system(zone))</code> under the hood."},{"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"score":0,"creation_date":1582575652,"post_id":60382840,"comment_id":106817689,"body_markdown":"@Faraz I meant what you can set `currentTime` to different zone and then compare it with your `startTime`. You can, for example, set zone (&quot;Europe/London&quot;) for `currentTime` - in this case it doesn&#39;t needed to convert `startTime` at all while comparing them.","body":"@Faraz I meant what you can set <code>currentTime</code> to different zone and then compare it with your <code>startTime</code>. You can, for example, set zone (&quot;Europe/London&quot;) for <code>currentTime</code> - in this case it doesn&#39;t needed to convert <code>startTime</code> at all while comparing them."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1582575754,"post_id":60382840,"comment_id":106817730,"body_markdown":"@amseager I don’t care what it does under the hood (that’s why it’s kept under the hood). I care about keeping my own code simple, readable and maintainable. Therefore the suggestion.","body":"@amseager I don’t care what it does under the hood (that’s why it’s kept under the hood). I care about keeping my own code simple, readable and maintainable. Therefore the suggestion."},{"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"score":0,"creation_date":1582576001,"post_id":60382840,"comment_id":106817846,"body_markdown":"@OleV.V. Technically, both methods are `public` and part of the API. About readability and stuff - it&#39;s just a matter of taste.","body":"@OleV.V. Technically, both methods are <code>public</code> and part of the API. About readability and stuff - it&#39;s just a matter of taste."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1582576228,"post_id":60382840,"comment_id":106817949,"body_markdown":"@amseager thanks. `then you can compare it with unmodified startTime (in this case - 11:00)` -&gt; this part answers my question. Thanks","body":"@amseager thanks. <code>then you can compare it with unmodified startTime (in this case - 11:00)</code> -&gt; this part answers my question. Thanks"}],"tags":[],"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"comment_count":10,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1582575854,"creation_date":1582573220,"answer_id":60382840,"question_id":60382587,"body_markdown":"`LocalDateTime.now()` is actually a shortcut for `LocalDateTime.now(Clock.systemDefaultZone())`, where `Clock.class` represents some date-time instant ([see docs][1]), and static method `systemDefaultZone()` returns the date-time instant of your PC.\r\n\r\nIn your case it&#39;s possible to use &quot;clock&quot; for a different zone (zone with id=&quot;CST&quot; doesn&#39;t exist but you can choose &quot;America/Chicago&quot; instead - see explanation [in this answer][2]).\r\n\r\n```\r\nLocalTime currentTime = LocalTime.now(Clock.system(ZoneId.of(&quot;America/Chicago&quot;)));\r\n```\r\n\r\n**UPD** Didn&#39;t understand the task properly. In this case it&#39;s actually easier to convert  `currentTime` instead of `startTime` to needed zone.\r\n\r\n```\r\nLocalTime currentTime = LocalTime.now(Clock.system(ZoneId.of(&quot;Europe/London&quot;)));\r\n```\r\n\r\nor, as Ole V.V. reminded:\r\n\r\n```\r\nLocalTime currentTime = LocalTime.now(ZoneId.of(&quot;Europe/London&quot;));\r\n```\r\n\r\nthen you can compare it with unmodified `startTime` (in this case - 11:00)\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [2]: https://stackoverflow.com/a/49533117/5572007","title":"How to get LocalTime at different time-zone?","body":"<p><code>LocalDateTime.now()</code> is actually a shortcut for <code>LocalDateTime.now(Clock.systemDefaultZone())</code>, where <code>Clock.class</code> represents some date-time instant (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\">see docs</a>), and static method <code>systemDefaultZone()</code> returns the date-time instant of your PC.</p>\n\n<p>In your case it's possible to use \"clock\" for a different zone (zone with id=\"CST\" doesn't exist but you can choose \"America/Chicago\" instead - see explanation <a href=\"https://stackoverflow.com/a/49533117/5572007\">in this answer</a>).</p>\n\n<pre><code>LocalTime currentTime = LocalTime.now(Clock.system(ZoneId.of(\"America/Chicago\")));\n</code></pre>\n\n<p><strong>UPD</strong> Didn't understand the task properly. In this case it's actually easier to convert  <code>currentTime</code> instead of <code>startTime</code> to needed zone.</p>\n\n<pre><code>LocalTime currentTime = LocalTime.now(Clock.system(ZoneId.of(\"Europe/London\")));\n</code></pre>\n\n<p>or, as Ole V.V. reminded:</p>\n\n<pre><code>LocalTime currentTime = LocalTime.now(ZoneId.of(\"Europe/London\"));\n</code></pre>\n\n<p>then you can compare it with unmodified <code>startTime</code> (in this case - 11:00)</p>\n"}],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4088,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60382840,"answer_count":1,"score":3,"last_activity_date":1701710137,"creation_date":1582571950,"question_id":60382587,"body_markdown":"I understand that LocalTime is time zone agnostic. But I would like to get hours in Central Standard Time (CST) zone. All I am given is time in String:\r\n\r\n    String start = &quot;11:00&quot; //11 am CST. \r\n    LocalTime startTime = LocalTime.parse(start);\r\n\r\nThis is good but server is running in different time-zone. So it will interpret it as 11 am UTC. I want LocalTime to be in CST. I need to in CST.","title":"How to get LocalTime at different time-zone?","body":"<p>I understand that LocalTime is time zone agnostic. But I would like to get hours in Central Standard Time (CST) zone. All I am given is time in String:</p>\n<pre><code>String start = &quot;11:00&quot; //11 am CST. \nLocalTime startTime = LocalTime.parse(start);\n</code></pre>\n<p>This is good but server is running in different time-zone. So it will interpret it as 11 am UTC. I want LocalTime to be in CST. I need to in CST.</p>\n"},{"tags":["java","converters","calculator","audit","energy"],"comments":[{"owner":{"account_id":57542,"reputation":28477,"user_id":172363,"accept_rate":83,"display_name":"Andrew Eisenberg"},"score":0,"creation_date":1474511208,"post_id":39629275,"comment_id":66563783,"body_markdown":"What are your inputs?","body":"What are your inputs?"},{"owner":{"account_id":8198383,"reputation":193,"user_id":6170426,"accept_rate":62,"display_name":"Aramza"},"score":0,"creation_date":1474511478,"post_id":39629275,"comment_id":66563850,"body_markdown":"@AndrewEisenberg Added them below program, how silly of me to forget.","body":"@AndrewEisenberg Added them below program, how silly of me to forget."}],"answers":[{"comments":[{"owner":{"account_id":8198383,"reputation":193,"user_id":6170426,"accept_rate":62,"display_name":"Aramza"},"score":0,"creation_date":1474512961,"post_id":39629434,"comment_id":66564220,"body_markdown":"Thank you very much, I suppose I had a few logical errors.","body":"Thank you very much, I suppose I had a few logical errors."}],"tags":[],"owner":{"account_id":7064527,"reputation":325,"user_id":5408305,"accept_rate":60,"display_name":"Jimmy M."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1474512239,"creation_date":1474512239,"answer_id":39629434,"question_id":39629275,"body_markdown":"You take in the number of days per week and weeks per year as input, but forget to use them in your calculations.  Also, instead of printing KWH, you are displaying the variable storing Watt Hours.  \r\n\r\n    // Calculations\r\n    usageHoursPerYear     = usageHoursPerDay * usageDaysPerWeek * usageWeeksPerYear; //calculate based on time used, not 365 days in the year\r\n    usageWattHoursPerYear = wattsPerHour * usageHoursPerYear; //use variable from above line\r\n    usageKWHPerYear       = usageWattHoursPerYear / 1000;\r\n    costPerYear           = usageKWHPerYear * COST_PER_KWH;\r\n    lbsCO2PerYear         = LBS_CO2_PER_KWH * usageKWHPerYear;\r\n\r\n    // Printing Energy Audits\r\n    System.out.println(&quot;Computer Energy Audit&quot;);\r\n    System.out.println(&quot;You use your computer for &quot; + usageHoursPerYear + &quot; hours per year.&quot;);\r\n    System.out.println(&quot;It will use &quot; + usageKWHPerYear + &quot; KWH/year.&quot;); //changed to correct variable\r\n    System.out.println(&quot;Whih will cost &quot; + costPerYear + &quot;$/year for electricity.&quot;);\r\n    System.out.println(&quot;Generating that electricity will produce &quot; + lbsCO2PerYear + &quot; lbs of CO2 pollution.&quot;);\r\n","title":"Electricity/Energy Bill Calculator: Java","body":"<p>You take in the number of days per week and weeks per year as input, but forget to use them in your calculations.  Also, instead of printing KWH, you are displaying the variable storing Watt Hours.  </p>\n\n<pre><code>// Calculations\nusageHoursPerYear     = usageHoursPerDay * usageDaysPerWeek * usageWeeksPerYear; //calculate based on time used, not 365 days in the year\nusageWattHoursPerYear = wattsPerHour * usageHoursPerYear; //use variable from above line\nusageKWHPerYear       = usageWattHoursPerYear / 1000;\ncostPerYear           = usageKWHPerYear * COST_PER_KWH;\nlbsCO2PerYear         = LBS_CO2_PER_KWH * usageKWHPerYear;\n\n// Printing Energy Audits\nSystem.out.println(\"Computer Energy Audit\");\nSystem.out.println(\"You use your computer for \" + usageHoursPerYear + \" hours per year.\");\nSystem.out.println(\"It will use \" + usageKWHPerYear + \" KWH/year.\"); //changed to correct variable\nSystem.out.println(\"Whih will cost \" + costPerYear + \"$/year for electricity.\");\nSystem.out.println(\"Generating that electricity will produce \" + lbsCO2PerYear + \" lbs of CO2 pollution.\");\n</code></pre>\n"}],"owner":{"account_id":8198383,"reputation":193,"user_id":6170426,"accept_rate":62,"display_name":"Aramza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39629434,"answer_count":1,"score":2,"last_activity_date":1701709559,"creation_date":1474511051,"question_id":39629275,"body_markdown":"I am having issues figuring out exactly what is wrong with this little Electricity/Energy calculator used to calculate computer energy costs.\r\n\r\nI&#39;d appreciate any help.\r\n\r\n**Program:**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ElectricityCalculations {\r\n       public static void main (String [] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          double usageHoursPerDay      = 0; // Hours computer is on per day\r\n          double usageDaysPerWeek      = 0; // Days computer is used per week\r\n          double usageWeeksPerYear     = 0; // Weeks computer is used per year\r\n          double wattsPerHour          = 0; // Watts used by computer per hour\r\n          final double COST_PER_KWH    = 0.145; // Prices of power per kilowatt hour\r\n          final double LBS_CO2_PER_KWH = 0.58815; // Pounds of CO2 generated per KWH\r\n          double usageHoursPerYear     = 0; // Amount of hours on per year\r\n          double usageWattHoursPerYear = 0; // Amount of watt hours consumed per year\r\n          double usageKWHPerYear       = 0; // Amount of KWH used in a year\r\n          double costPerYear           = 0; // Total cost per year\r\n          double lbsCO2PerYear         = 0; // Total amount of CO2 in pounds released per year\r\n          \r\n          // Input Values\r\n          System.out.println(&quot;How many hours is your computer on per day?&quot;);\r\n          usageHoursPerDay  = scnr.nextDouble();\r\n          System.out.println(&quot;How many days per week is your computer used?&quot;);\r\n          usageDaysPerWeek  = scnr.nextDouble();\r\n          System.out.println(&quot;How many weeks per year is your computer used?&quot;);\r\n          usageWeeksPerYear = scnr.nextDouble();\r\n          System.out.println(&quot;How many watts per hour does your computer use? (Suggestive value for desktop: 100, laptop: 30).&quot;);\r\n          wattsPerHour      = scnr.nextDouble();\r\n          \r\n          // Calculations\r\n          usageHoursPerYear     = usageHoursPerDay * 365;\r\n          usageWattHoursPerYear = wattsPerHour * 8760; // 8760 is the number of hours in a year\r\n          usageKWHPerYear       = usageWattHoursPerYear / 1000;\r\n          costPerYear           = usageKWHPerYear * COST_PER_KWH;\r\n          lbsCO2PerYear         = LBS_CO2_PER_KWH * usageKWHPerYear;\r\n          \r\n          // Printing Energy Audits\r\n          System.out.println(&quot;Computer Energy Audit&quot;);\r\n          System.out.println(&quot;You use your computer for &quot; + usageHoursPerYear + &quot; hours per year.&quot;);\r\n          System.out.println(&quot;It will use &quot; + usageWattHoursPerYear + &quot; KWH/year.&quot;);\r\n          System.out.println(&quot;Whih will cost &quot; + costPerYear + &quot;$/year for electricity.&quot;);\r\n          System.out.println(&quot;Generating that electricity will produce &quot; + lbsCO2PerYear + &quot; lbs of CO2 pollution.&quot;);\r\n          \r\n          return;\r\n       }\r\n    }\r\n\r\n**Inputs:**\r\n\r\n8 hours/day\r\n\r\n5 days/week\r\n\r\n50 weeks/year\r\n\r\n100 watts/hour\r\n\r\n\r\n**My (wrong output):**\r\n\r\nComputer Energy Audit:\r\n\r\nYou use your computer for 2920.0 hours per year.\r\n\r\nIt will use 876000.0 KWH/year.\r\n\r\nWhih will cost 127.02$/year for electricity.\r\n\r\nGenerating that electricity will produce 515.2194 lbs of CO2 pollution.\r\n\r\n**Correct Output:**\r\n\r\nComputer Energy Audit:\r\n\r\nYou use your computer for 2000.0 hours per year.\r\n\r\nIt will use 200.0 KWH/year.\r\n\r\nWhich will cost 28.999999999999996 $/year for electricity.\r\n\r\nGenerating that electricity will produce 117.63 lbs of CO2 pollution.","title":"Electricity/Energy Bill Calculator: Java","body":"<p>I am having issues figuring out exactly what is wrong with this little Electricity/Energy calculator used to calculate computer energy costs.</p>\n\n<p>I'd appreciate any help.</p>\n\n<p><strong>Program:</strong></p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ElectricityCalculations {\n   public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      double usageHoursPerDay      = 0; // Hours computer is on per day\n      double usageDaysPerWeek      = 0; // Days computer is used per week\n      double usageWeeksPerYear     = 0; // Weeks computer is used per year\n      double wattsPerHour          = 0; // Watts used by computer per hour\n      final double COST_PER_KWH    = 0.145; // Prices of power per kilowatt hour\n      final double LBS_CO2_PER_KWH = 0.58815; // Pounds of CO2 generated per KWH\n      double usageHoursPerYear     = 0; // Amount of hours on per year\n      double usageWattHoursPerYear = 0; // Amount of watt hours consumed per year\n      double usageKWHPerYear       = 0; // Amount of KWH used in a year\n      double costPerYear           = 0; // Total cost per year\n      double lbsCO2PerYear         = 0; // Total amount of CO2 in pounds released per year\n\n      // Input Values\n      System.out.println(\"How many hours is your computer on per day?\");\n      usageHoursPerDay  = scnr.nextDouble();\n      System.out.println(\"How many days per week is your computer used?\");\n      usageDaysPerWeek  = scnr.nextDouble();\n      System.out.println(\"How many weeks per year is your computer used?\");\n      usageWeeksPerYear = scnr.nextDouble();\n      System.out.println(\"How many watts per hour does your computer use? (Suggestive value for desktop: 100, laptop: 30).\");\n      wattsPerHour      = scnr.nextDouble();\n\n      // Calculations\n      usageHoursPerYear     = usageHoursPerDay * 365;\n      usageWattHoursPerYear = wattsPerHour * 8760; // 8760 is the number of hours in a year\n      usageKWHPerYear       = usageWattHoursPerYear / 1000;\n      costPerYear           = usageKWHPerYear * COST_PER_KWH;\n      lbsCO2PerYear         = LBS_CO2_PER_KWH * usageKWHPerYear;\n\n      // Printing Energy Audits\n      System.out.println(\"Computer Energy Audit\");\n      System.out.println(\"You use your computer for \" + usageHoursPerYear + \" hours per year.\");\n      System.out.println(\"It will use \" + usageWattHoursPerYear + \" KWH/year.\");\n      System.out.println(\"Whih will cost \" + costPerYear + \"$/year for electricity.\");\n      System.out.println(\"Generating that electricity will produce \" + lbsCO2PerYear + \" lbs of CO2 pollution.\");\n\n      return;\n   }\n}\n</code></pre>\n\n<p><strong>Inputs:</strong></p>\n\n<p>8 hours/day</p>\n\n<p>5 days/week</p>\n\n<p>50 weeks/year</p>\n\n<p>100 watts/hour</p>\n\n<p><strong>My (wrong output):</strong></p>\n\n<p>Computer Energy Audit:</p>\n\n<p>You use your computer for 2920.0 hours per year.</p>\n\n<p>It will use 876000.0 KWH/year.</p>\n\n<p>Whih will cost 127.02$/year for electricity.</p>\n\n<p>Generating that electricity will produce 515.2194 lbs of CO2 pollution.</p>\n\n<p><strong>Correct Output:</strong></p>\n\n<p>Computer Energy Audit:</p>\n\n<p>You use your computer for 2000.0 hours per year.</p>\n\n<p>It will use 200.0 KWH/year.</p>\n\n<p>Which will cost 28.999999999999996 $/year for electricity.</p>\n\n<p>Generating that electricity will produce 117.63 lbs of CO2 pollution.</p>\n"},{"tags":["java","microservices","spring-integration","outbox-pattern"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701709259,"creation_date":1701709259,"answer_id":77601245,"question_id":77601049,"body_markdown":"It would be great if you show how you process a business data before sending it into this `domain.event.sender` channel for storing into so-called outbox table.\r\n\r\nHowever it is just pretty simple to make this `domain.event.sender` as a `PublishSubscribeChannel` and have another subscriber which would do the logic you are asking. If you don&#39;t configure this channel for a `TaskExecutor`, both subscribers will process the same message sequentially and withing the same business transaction.\r\n\r\nSee more info in docs: https://docs.spring.io/spring-integration/reference/channel/implementations.html#channel-implementations-publishsubscribechannel","title":"Outbox pattern with Spring Integration","body":"<p>It would be great if you show how you process a business data before sending it into this <code>domain.event.sender</code> channel for storing into so-called outbox table.</p>\n<p>However it is just pretty simple to make this <code>domain.event.sender</code> as a <code>PublishSubscribeChannel</code> and have another subscriber which would do the logic you are asking. If you don't configure this channel for a <code>TaskExecutor</code>, both subscribers will process the same message sequentially and withing the same business transaction.</p>\n<p>See more info in docs: <a href=\"https://docs.spring.io/spring-integration/reference/channel/implementations.html#channel-implementations-publishsubscribechannel\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/channel/implementations.html#channel-implementations-publishsubscribechannel</a></p>\n"}],"owner":{"account_id":940956,"reputation":531,"user_id":969039,"accept_rate":88,"display_name":"user969039"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701709259,"creation_date":1701707382,"question_id":77601049,"body_markdown":"We want to implement an Outbox pattern by using spring integration. \r\nStarting from [this example][1], we came up with this simpeler solution:\r\n\r\n    protected IntegrationFlowDefinition&lt;?&gt; buildFlow() {\r\n        return from(&quot;domain.event.sender&quot;)\r\n                .channel(c -&gt; c.queue(this.jdbcMessageStore, &quot;outbox&quot;))\r\n                .handle(\r\n                        this.messagePublisherHandler,\r\n                        c -&gt; c.poller(poller -&gt; poller.fixedDelay(1000).transactional()));\r\n    }\r\n\r\nThis solution will take a message from &quot;domain.event.sender&quot;, store it in the database (in case of an error) and then POLL this db to send a message to a MessageBus (via\r\nmessagePublisherHandler).\r\n\r\nWe want to have a solution that will ALSO process this message immediately after transaction synchronisation, without that we have to wait for the poller to finish. \r\n\r\n  [1]: https://github.com/artembilan/microservices-patterns-spring-integration/blob/main/outbox/src/main/java/org/springframework/integration/microservices/outbox/OutboxApplication.java","title":"Outbox pattern with Spring Integration","body":"<p>We want to implement an Outbox pattern by using spring integration.\nStarting from <a href=\"https://github.com/artembilan/microservices-patterns-spring-integration/blob/main/outbox/src/main/java/org/springframework/integration/microservices/outbox/OutboxApplication.java\" rel=\"nofollow noreferrer\">this example</a>, we came up with this simpeler solution:</p>\n<pre><code>protected IntegrationFlowDefinition&lt;?&gt; buildFlow() {\n    return from(&quot;domain.event.sender&quot;)\n            .channel(c -&gt; c.queue(this.jdbcMessageStore, &quot;outbox&quot;))\n            .handle(\n                    this.messagePublisherHandler,\n                    c -&gt; c.poller(poller -&gt; poller.fixedDelay(1000).transactional()));\n}\n</code></pre>\n<p>This solution will take a message from &quot;domain.event.sender&quot;, store it in the database (in case of an error) and then POLL this db to send a message to a MessageBus (via\nmessagePublisherHandler).</p>\n<p>We want to have a solution that will ALSO process this message immediately after transaction synchronisation, without that we have to wait for the poller to finish.</p>\n"},{"tags":["java","testing","integration-testing","micronaut"],"owner":{"account_id":16078489,"reputation":943,"user_id":11605100,"display_name":"ajinzrathod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1701708969,"creation_date":1701708969,"question_id":77601214,"body_markdown":"I&#39;m facing an issue in my Micronaut integration test where I&#39;m trying to use two different fixed clocks in two separate tests. One should be set to 10th Oct 1800, and the other to 10th Oct 1900. However, my current approach doesn&#39;t seem to work. Below is a simplified version of my code:\r\n\r\nThis is my code:\r\n\r\n```java\r\npackage some.package.path;\r\n\r\nimport static org.assertj.core.api.Assertions.*;\r\n\r\nimport io.micronaut.context.annotation.Property;\r\nimport io.micronaut.context.annotation.Requires;\r\nimport io.micronaut.test.annotation.MockBean;\r\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\r\nimport jakarta.inject.Inject;\r\nimport java.time.Clock;\r\nimport java.time.Instant;\r\nimport java.time.LocalDate;\r\nimport java.time.ZoneOffset;\r\nimport org.junit.jupiter.api.Test;\r\n\r\n@MicronautTest(rebuildContext = true)\r\nclass AzureTest {\r\n  @Inject Clock clock;\r\n\r\n  @MockBean(Clock.class)\r\n  @Requires(missingProperty = &quot;mock.clock&quot;)\r\n  Clock fixed() {\r\n    return Clock.fixed(\r\n        LocalDate.of(1800, 10, 10).atStartOfDay().toInstant(ZoneOffset.UTC), ZoneOffset.UTC);\r\n  }\r\n\r\n  @MockBean(Clock.class)\r\n  @Requires(property = &quot;mock.clock&quot;, value = &quot;true&quot;)\r\n  Clock fixed2() {\r\n    return Clock.fixed(\r\n        LocalDate.of(1900, 10, 10).atStartOfDay().toInstant(ZoneOffset.UTC), ZoneOffset.UTC);\r\n  }\r\n\r\n  @Test\r\n  void testItWorks() {\r\n    Instant instant = clock.instant();\r\n    LocalDate date = instant.atZone(ZoneOffset.UTC).toLocalDate();\r\n    System.out.println(&quot;======&quot; + date + &quot;======&quot;);\r\n    assertThat(date).isEqualTo(LocalDate.of(1800, 10, 10));\r\n  }\r\n\r\n  @Test\r\n  @Property(name = &quot;mock.clock&quot;, value = &quot;true&quot;)\r\n  void testItWorks2() {\r\n    Instant instant = clock.instant();\r\n    LocalDate date = instant.atZone(ZoneOffset.UTC).toLocalDate();\r\n    System.out.println(&quot;======&quot; + date + &quot;======&quot;);\r\n    assertThat(date).isEqualTo(LocalDate.of(1900, 10, 10));\r\n  }\r\n}\r\n\r\n```\r\n\r\nHow can I achieve this within the same file without resorting to splitting the tests into different files? Any help would be greatly appreciated.\r\n\r\n----\r\n\r\n### What I tried\r\n\r\nI tried using a service\r\n```java\r\ninterface MyService {\r\n    Clock getDate();\r\n}\r\n\r\n@Singleton\r\n@Requires(missingProperty = &quot;foo.bar&quot;)\r\nstatic class MyServiceStuff implements MyService {\r\n  @Override\r\n  public Clock getDate() {\r\n     // 10th Oct 1800    \r\n  }\r\n}\r\n\r\n@Singleton\r\n@Requires(property = &quot;foo.bar&quot;, value = &quot;changed&quot;)\r\nstatic class MyServiceChanged implements MyService {\r\n  @Override\r\n  public Clock getDate() {\r\n    // 10th Oct 1900    \r\n  }\r\n} \r\n```\r\n\r\nBut this is only helpful, if I want to create or get date using MyService.\r\nExample: \r\n```java\r\n@Inject MyService myservice;\r\n\r\n@Property(name = &quot;foo.bar&quot;, value = &quot;changed&quot;)\r\nsome_test {\r\n   myservice.getDate();\r\n}\r\n\r\n```\r\nOnce my code transitions from the controller to the service layer, the service utilizes `LocalDate.now(clock)`. During this phase, a static clock is required. Consequently, the previously suggested solution becomes ineffective in this context.\r\n\r\n\r\n**P.S:**\r\nWhile I&#39;m aware I can create separate files for each test scenario, I&#39;m specifically interested in understanding how to handle this within the same file.","title":"Mock 2 clocks for different integration in same class - Micronaut","body":"<p>I'm facing an issue in my Micronaut integration test where I'm trying to use two different fixed clocks in two separate tests. One should be set to 10th Oct 1800, and the other to 10th Oct 1900. However, my current approach doesn't seem to work. Below is a simplified version of my code:</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package some.package.path;\n\nimport static org.assertj.core.api.Assertions.*;\n\nimport io.micronaut.context.annotation.Property;\nimport io.micronaut.context.annotation.Requires;\nimport io.micronaut.test.annotation.MockBean;\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\nimport jakarta.inject.Inject;\nimport java.time.Clock;\nimport java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.ZoneOffset;\nimport org.junit.jupiter.api.Test;\n\n@MicronautTest(rebuildContext = true)\nclass AzureTest {\n  @Inject Clock clock;\n\n  @MockBean(Clock.class)\n  @Requires(missingProperty = &quot;mock.clock&quot;)\n  Clock fixed() {\n    return Clock.fixed(\n        LocalDate.of(1800, 10, 10).atStartOfDay().toInstant(ZoneOffset.UTC), ZoneOffset.UTC);\n  }\n\n  @MockBean(Clock.class)\n  @Requires(property = &quot;mock.clock&quot;, value = &quot;true&quot;)\n  Clock fixed2() {\n    return Clock.fixed(\n        LocalDate.of(1900, 10, 10).atStartOfDay().toInstant(ZoneOffset.UTC), ZoneOffset.UTC);\n  }\n\n  @Test\n  void testItWorks() {\n    Instant instant = clock.instant();\n    LocalDate date = instant.atZone(ZoneOffset.UTC).toLocalDate();\n    System.out.println(&quot;======&quot; + date + &quot;======&quot;);\n    assertThat(date).isEqualTo(LocalDate.of(1800, 10, 10));\n  }\n\n  @Test\n  @Property(name = &quot;mock.clock&quot;, value = &quot;true&quot;)\n  void testItWorks2() {\n    Instant instant = clock.instant();\n    LocalDate date = instant.atZone(ZoneOffset.UTC).toLocalDate();\n    System.out.println(&quot;======&quot; + date + &quot;======&quot;);\n    assertThat(date).isEqualTo(LocalDate.of(1900, 10, 10));\n  }\n}\n\n</code></pre>\n<p>How can I achieve this within the same file without resorting to splitting the tests into different files? Any help would be greatly appreciated.</p>\n<hr />\n<h3>What I tried</h3>\n<p>I tried using a service</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MyService {\n    Clock getDate();\n}\n\n@Singleton\n@Requires(missingProperty = &quot;foo.bar&quot;)\nstatic class MyServiceStuff implements MyService {\n  @Override\n  public Clock getDate() {\n     // 10th Oct 1800    \n  }\n}\n\n@Singleton\n@Requires(property = &quot;foo.bar&quot;, value = &quot;changed&quot;)\nstatic class MyServiceChanged implements MyService {\n  @Override\n  public Clock getDate() {\n    // 10th Oct 1900    \n  }\n} \n</code></pre>\n<p>But this is only helpful, if I want to create or get date using MyService.\nExample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject MyService myservice;\n\n@Property(name = &quot;foo.bar&quot;, value = &quot;changed&quot;)\nsome_test {\n   myservice.getDate();\n}\n\n</code></pre>\n<p>Once my code transitions from the controller to the service layer, the service utilizes <code>LocalDate.now(clock)</code>. During this phase, a static clock is required. Consequently, the previously suggested solution becomes ineffective in this context.</p>\n<p><strong>P.S:</strong>\nWhile I'm aware I can create separate files for each test scenario, I'm specifically interested in understanding how to handle this within the same file.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1126061,"reputation":2343,"user_id":2123050,"accept_rate":73,"display_name":"FuryFart"},"score":0,"creation_date":1701861933,"post_id":77601152,"comment_id":136826810,"body_markdown":"You can not define entities for temporary tables. The @Transient annotation is meant for fields within the entity which you do not want to be mapped to DB table.","body":"You can not define entities for temporary tables. The @Transient annotation is meant for fields within the entity which you do not want to be mapped to DB table."}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701708313,"creation_date":1701708313,"question_id":77601152,"body_markdown":"In my Spring Data Java Persistence Application Programming Interface (JPA) application I have a temporary table which I populate by executing a stored procedure. I do not need to persist this table in the database, but I need it to behave as if it was a real table, so that I can make queries on it from the Spring repository.\r\n\r\nHere is the example:\r\n```Java\r\n@Entity(name = &quot;t&quot;)\r\n@Table(name = &quot;t&quot;)\r\npublic class t\r\n{\r\n    @Id()\r\n    private Integer id;\r\n}\r\n```\r\n\r\nWhen I start my Spring Boot application, this table is created in the database automatically. How to prevent this from happening?\r\n\r\nI read about the ```@Transient``` annotation, but when I try to apply it to the ```t``` class I get the error: ```&#39;@javax.persistence.Transient&#39; not applicable to type```. How else to mark the entire entity, so not just a single field, transient?","title":"How to create transient table in Spring Data Java Persistence Application Programming Interface?","body":"<p>In my Spring Data Java Persistence Application Programming Interface (JPA) application I have a temporary table which I populate by executing a stored procedure. I do not need to persist this table in the database, but I need it to behave as if it was a real table, so that I can make queries on it from the Spring repository.</p>\n<p>Here is the example:</p>\n<pre><code>@Entity(name = &quot;t&quot;)\n@Table(name = &quot;t&quot;)\npublic class t\n{\n    @Id()\n    private Integer id;\n}\n</code></pre>\n<p>When I start my Spring Boot application, this table is created in the database automatically. How to prevent this from happening?</p>\n<p>I read about the <code>@Transient</code> annotation, but when I try to apply it to the <code>t</code> class I get the error: <code>'@javax.persistence.Transient' not applicable to type</code>. How else to mark the entire entity, so not just a single field, transient?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701709661,"post_id":77601143,"comment_id":136806726,"body_markdown":"You can always make the method parameter an object, let&#39;s say `record Data(boolean Amap, String fooId, Date fooDate){}`, and each implementation uses whatever data it needs, but this does not seem like a good idea. From the example the two processes do not look interchangeable - if you were to replace `ClassA` with `ClassB` (assuming they already implement same interface), or vice versa, it seems as if this would break the process.","body":"You can always make the method parameter an object, let&#39;s say <code>record Data(boolean Amap, String fooId, Date fooDate){}</code>, and each implementation uses whatever data it needs, but this does not seem like a good idea. From the example the two processes do not look interchangeable - if you were to replace <code>ClassA</code> with <code>ClassB</code> (assuming they already implement same interface), or vice versa, it seems as if this would break the process."},{"owner":{"account_id":30064460,"reputation":1,"user_id":23039919,"display_name":"xcffdsf"},"score":0,"creation_date":1701709884,"post_id":77601143,"comment_id":136806772,"body_markdown":"You hit the nail on the head. Likewise I could make an interface that defines both signatures and have a dummy implementation. But then it still requires the other classes to know which one is the right method. So it works but isn’t ideal.","body":"You hit the nail on the head. Likewise I could make an interface that defines both signatures and have a dummy implementation. But then it still requires the other classes to know which one is the right method. So it works but isn’t ideal."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701710776,"post_id":77601143,"comment_id":136806899,"body_markdown":"These methods may look similar in shape but what they have in common is too trivial to deserve an abstraction for the uncommon parts. By the way, you can rewrite `ClassA`’s method to the one-liner `return (Amap? FooAMap: FooBMap).computeIfAbsent(fooId, key -&gt; new Foo(&quot;data&quot;));` Then, the two methods have nothing in common anymore.","body":"These methods may look similar in shape but what they have in common is too trivial to deserve an abstraction for the uncommon parts. By the way, you can rewrite <code>ClassA</code>’s method to the one-liner <code>return (Amap? FooAMap: FooBMap).computeIfAbsent(fooId, key -&gt; new Foo(&quot;data&quot;));</code> Then, the two methods have nothing in common anymore."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701720825,"post_id":77601143,"comment_id":136808595,"body_markdown":"Do both methods create the same Foo? Then running one before the other might reveal different results - it is just not equivalent. But without more details it is hard to say how to move on. You will have to take some decision here.","body":"Do both methods create the same Foo? Then running one before the other might reveal different results - it is just not equivalent. But without more details it is hard to say how to move on. You will have to take some decision here."}],"owner":{"account_id":30064460,"reputation":1,"user_id":23039919,"display_name":"xcffdsf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701708251,"creation_date":1701708251,"question_id":77601143,"body_markdown":"I might be trying to too hard to combine something that cannot be combined. I have 2 classes that do the same thing called createOrReturnFoo. two different classes that implement this process but they do it in different ways and use different parameters. I would liked to combine them under the same interface but I&#39;m not sure its possible. \r\n\r\n\r\n```\r\npublic class Foo {\r\n    private final String data;\r\n\r\n    public Foo(String data) {\r\n        this.data = data;\r\n    }\r\n}\r\n\r\npublic class ClassA {\r\n    HashMap&lt;String, Foo&gt; FooAMap = new HashMap&lt;&gt;();\r\n    HashMap&lt;String, Foo&gt; FooBMap = new HashMap&lt;&gt;();\r\n\r\n    public ClassA() {\r\n        FooAMap = new HashMap&lt;&gt;();\r\n        FooBMap = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public Foo createOrReturnFoo(boolean Amap, String fooId) {\r\n        HashMap&lt;String, Foo&gt; mapToUse = Amap ? FooAMap : FooBMap;\r\n        if (mapToUse.containsKey(fooId)) {\r\n            return mapToUse.get(fooId);\r\n        } else {\r\n            Foo foo = new Foo(&quot;data&quot;);\r\n            mapToUse.put(fooId, foo);\r\n            return foo;\r\n        }\r\n    }\r\n}\r\n\r\npublic class ClassB {\r\n    Repository fooRepository;\r\n    public ClassB() {\r\n        fooRepository = new fooRepository();\r\n    }\r\n\r\n    public Foo createOrReturnFoo(Date fooDate) {\r\n        Foo foo = fooRepository.findByDate(fooDate);\r\n        if (foo != null) {\r\n            return foo;\r\n        } else {\r\n            foo = new Foo(&quot;data&quot;);\r\n            fooRepository.save(foo);\r\n            return foo;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nIt might be hard to tell from the generic example but both ClassA and B &quot;do&quot; the same thing, either retrieve Foo from a store, or create and new one. But they are used in different contexts. for example in ClassA I need to a boolean to see which store to use in the first place.","title":"How should I combine two implementations which do the same thing but under different contexts and have different method signatures?","body":"<p>I might be trying to too hard to combine something that cannot be combined. I have 2 classes that do the same thing called createOrReturnFoo. two different classes that implement this process but they do it in different ways and use different parameters. I would liked to combine them under the same interface but I'm not sure its possible.</p>\n<pre><code>public class Foo {\n    private final String data;\n\n    public Foo(String data) {\n        this.data = data;\n    }\n}\n\npublic class ClassA {\n    HashMap&lt;String, Foo&gt; FooAMap = new HashMap&lt;&gt;();\n    HashMap&lt;String, Foo&gt; FooBMap = new HashMap&lt;&gt;();\n\n    public ClassA() {\n        FooAMap = new HashMap&lt;&gt;();\n        FooBMap = new HashMap&lt;&gt;();\n    }\n\n    public Foo createOrReturnFoo(boolean Amap, String fooId) {\n        HashMap&lt;String, Foo&gt; mapToUse = Amap ? FooAMap : FooBMap;\n        if (mapToUse.containsKey(fooId)) {\n            return mapToUse.get(fooId);\n        } else {\n            Foo foo = new Foo(&quot;data&quot;);\n            mapToUse.put(fooId, foo);\n            return foo;\n        }\n    }\n}\n\npublic class ClassB {\n    Repository fooRepository;\n    public ClassB() {\n        fooRepository = new fooRepository();\n    }\n\n    public Foo createOrReturnFoo(Date fooDate) {\n        Foo foo = fooRepository.findByDate(fooDate);\n        if (foo != null) {\n            return foo;\n        } else {\n            foo = new Foo(&quot;data&quot;);\n            fooRepository.save(foo);\n            return foo;\n        }\n    }\n}\n</code></pre>\n<p>It might be hard to tell from the generic example but both ClassA and B &quot;do&quot; the same thing, either retrieve Foo from a store, or create and new one. But they are used in different contexts. for example in ClassA I need to a boolean to see which store to use in the first place.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","one-to-one"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1701634431,"post_id":77595543,"comment_id":136797355,"body_markdown":"Show the logic of the method that saves this record","body":"Show the logic of the method that saves this record"},{"owner":{"account_id":24613039,"reputation":15,"user_id":18514341,"display_name":"Nguyen Dang"},"score":0,"creation_date":1701666264,"post_id":77595543,"comment_id":136799743,"body_markdown":"I have posted the logic of the method that saves into database @lane.maxwell","body":"I have posted the logic of the method that saves into database @lane.maxwell"}],"answers":[{"comments":[{"owner":{"account_id":24613039,"reputation":15,"user_id":18514341,"display_name":"Nguyen Dang"},"score":0,"creation_date":1701754391,"post_id":77601122,"comment_id":136811775,"body_markdown":"Hi, thank you for your advice, but after changing those, i still cannot get the username in the login table to give it to the thongTinKhachHang table. When i query out, it still null","body":"Hi, thank you for your advice, but after changing those, i still cannot get the username in the login table to give it to the thongTinKhachHang table. When i query out, it still null"}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701707937,"creation_date":1701707937,"answer_id":77601122,"question_id":77595543,"body_markdown":"I think you&#39;re just missing the cascade.  On both sides of your OneToOne, add either `CascadeType.ALL` or `CascadeType.PERSIST`.\r\n\r\nThen, you can remove the explicit call to save the login &lt;s&gt;`loginDAO.save(login)`&lt;/s&gt; and save both entities with your call to `khachHangDAO.save(khachHang);`.\r\n\r\n    login.setKhachHang(khachHang);\r\n    khachHang.setLogin(login);\r\n\r\n    khachHangDAO.save(khachHang);","title":"Cannot using one-to-one relation in java spring","body":"<p>I think you're just missing the cascade.  On both sides of your OneToOne, add either <code>CascadeType.ALL</code> or <code>CascadeType.PERSIST</code>.</p>\n<p>Then, you can remove the explicit call to save the login <s><code>loginDAO.save(login)</code></s> and save both entities with your call to <code>khachHangDAO.save(khachHang);</code>.</p>\n<pre><code>login.setKhachHang(khachHang);\nkhachHang.setLogin(login);\n\nkhachHangDAO.save(khachHang);\n</code></pre>\n"}],"owner":{"account_id":24613039,"reputation":15,"user_id":18514341,"display_name":"Nguyen Dang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701707937,"creation_date":1701626410,"question_id":77595543,"body_markdown":"i have a question in javaspring, when using one-to-one relation, why i cannot mapping the username in khachHang class with the login class, althought the login.getUsername is not null, i have tried many times, but it awlays wrong, the CCCD can import to Login class but khachHang cannot get the variable of Login. What is the point of this error. Thank you.\r\n\r\nThis is my Login class:\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;Login&quot;)\r\npublic class Login {\r\n\r\n\t@Id\r\n\tprivate String username;\r\n\r\n\tprivate String password;\r\n\tprivate boolean role;\r\n\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;CCCD&quot;, referencedColumnName = &quot;CCCD&quot;)\r\n\tprivate KhachHang khachHang;\r\n\r\n\tpublic Login(String username, String password, boolean role) {\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.role = role;\r\n\t}\r\n}\r\n```\r\n\r\nThis is my KhachHang Class:\r\n```java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;ThongTinKhachHang&quot;)\r\npublic class KhachHang {\r\n\r\n    @Id\r\n    private String CCCD;\r\n\r\n    private String tenKhachHang;\r\n    private boolean gioiTinh;\r\n    private String diaChi;\r\n    private String email;\r\n    private String soDienThoai;\r\n\r\n    @OneToOne(mappedBy = &quot;khachHang&quot;)\r\n    @JoinColumn(name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\r\n    private Login login;\r\n\r\n    @OneToMany(mappedBy = &quot;khachHang&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;ChiTietDatTour&gt; chiTietDatTours;\r\n\r\n    public KhachHang(String CCCD, String tenKhachHang, boolean gioiTinh, String diaChi, String email, String soDienThoai, Login login) {\r\n        this.CCCD = CCCD;\r\n        this.tenKhachHang = tenKhachHang;\r\n        this.gioiTinh = gioiTinh;\r\n        this.diaChi = diaChi;\r\n        this.email = email;\r\n        this.soDienThoai = soDienThoai;\r\n        this.login = login;\r\n    }\r\n}\r\n```\r\nAnd this is the result when query from database.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jYruR.png\r\n\r\nUpdate: I have updated the save to database logic:\r\n```\r\n    @PostMapping(&quot;/signup/userSignUp&quot;)\r\n    public String userSaveToDatabase(@RequestParam(name = &quot;hoTen&quot;) String hoTen,\r\n                                     @RequestParam(name = &quot;username&quot;) String username,\r\n                                     @RequestParam(name = &quot;phonenumber&quot;) String phoneNumber,\r\n                                     @RequestParam(name = &quot;CCCD&quot;) String CCCD,\r\n                                     @RequestParam(name = &quot;email&quot;) String email,\r\n                                     @RequestParam(name = &quot;diachi&quot;) String diaChi,\r\n                                     @RequestParam(name = &quot;password&quot;) String password,\r\n                                     @RequestParam(name = &quot;reconfirm&quot;) String reconfirm,\r\n                                     @RequestParam(name = &quot;gioiTinh&quot;) boolean gioiTinh,\r\n                                     Model model) {\r\n\r\n        if (loginDAO.existsByUsername(username)) {\r\n            model.addAttribute(&quot;error&quot;, &quot;Username already exists.&quot;);\r\n            return &quot;redirect:/signup&quot;;\r\n        }\r\n\r\n        if (!password.equals(reconfirm)) {\r\n            model.addAttribute(&quot;error&quot;, &quot;Password and reconfirm password do not match.&quot;);\r\n            return &quot;redirect:/index&quot;;\r\n        }\r\n\r\n        if (!loginDAO.existsCCCD(CCCD).isEmpty()) {\r\n            model.addAttribute(&quot;error&quot;, &quot;CCCD already exists.&quot;);\r\n            return &quot;redirect:/book&quot;;\r\n        }\r\n\r\n        if (!checkPassword(password) || !validateEmail(email) ||\r\n                !checkCCCD(CCCD) || !checkPhone(phoneNumber) || !checkAddress(diaChi)) {\r\n            return &quot;redirect:/test3&quot;;\r\n        }\r\n\r\n        Login login = new Login(username, password, false);\r\n        KhachHang khachHang = new KhachHang(CCCD, hoTen, gioiTinh, diaChi, email, phoneNumber, login);\r\n\r\n        login.setKhachHang(khachHang);\r\n        khachHang.setLogin(login);\r\n\r\n        khachHangDAO.save(khachHang);\r\n        loginDAO.save(login);\r\n\r\n        return &quot;redirect:/test2&quot;;\r\n    }\r\n```\r\n","title":"Cannot using one-to-one relation in java spring","body":"<p>i have a question in javaspring, when using one-to-one relation, why i cannot mapping the username in khachHang class with the login class, althought the login.getUsername is not null, i have tried many times, but it awlays wrong, the CCCD can import to Login class but khachHang cannot get the variable of Login. What is the point of this error. Thank you.</p>\n<p>This is my Login class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;Login&quot;)\npublic class Login {\n\n    @Id\n    private String username;\n\n    private String password;\n    private boolean role;\n\n    @OneToOne\n    @JoinColumn(name = &quot;CCCD&quot;, referencedColumnName = &quot;CCCD&quot;)\n    private KhachHang khachHang;\n\n    public Login(String username, String password, boolean role) {\n        this.username = username;\n        this.password = password;\n        this.role = role;\n    }\n}\n</code></pre>\n<p>This is my KhachHang Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;ThongTinKhachHang&quot;)\npublic class KhachHang {\n\n    @Id\n    private String CCCD;\n\n    private String tenKhachHang;\n    private boolean gioiTinh;\n    private String diaChi;\n    private String email;\n    private String soDienThoai;\n\n    @OneToOne(mappedBy = &quot;khachHang&quot;)\n    @JoinColumn(name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\n    private Login login;\n\n    @OneToMany(mappedBy = &quot;khachHang&quot;, cascade = CascadeType.ALL)\n    private List&lt;ChiTietDatTour&gt; chiTietDatTours;\n\n    public KhachHang(String CCCD, String tenKhachHang, boolean gioiTinh, String diaChi, String email, String soDienThoai, Login login) {\n        this.CCCD = CCCD;\n        this.tenKhachHang = tenKhachHang;\n        this.gioiTinh = gioiTinh;\n        this.diaChi = diaChi;\n        this.email = email;\n        this.soDienThoai = soDienThoai;\n        this.login = login;\n    }\n}\n</code></pre>\n<p>And this is the result when query from database.\n<a href=\"https://i.stack.imgur.com/jYruR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYruR.png\" alt=\"enter image description here\" /></a></p>\n<p>Update: I have updated the save to database logic:</p>\n<pre><code>    @PostMapping(&quot;/signup/userSignUp&quot;)\n    public String userSaveToDatabase(@RequestParam(name = &quot;hoTen&quot;) String hoTen,\n                                     @RequestParam(name = &quot;username&quot;) String username,\n                                     @RequestParam(name = &quot;phonenumber&quot;) String phoneNumber,\n                                     @RequestParam(name = &quot;CCCD&quot;) String CCCD,\n                                     @RequestParam(name = &quot;email&quot;) String email,\n                                     @RequestParam(name = &quot;diachi&quot;) String diaChi,\n                                     @RequestParam(name = &quot;password&quot;) String password,\n                                     @RequestParam(name = &quot;reconfirm&quot;) String reconfirm,\n                                     @RequestParam(name = &quot;gioiTinh&quot;) boolean gioiTinh,\n                                     Model model) {\n\n        if (loginDAO.existsByUsername(username)) {\n            model.addAttribute(&quot;error&quot;, &quot;Username already exists.&quot;);\n            return &quot;redirect:/signup&quot;;\n        }\n\n        if (!password.equals(reconfirm)) {\n            model.addAttribute(&quot;error&quot;, &quot;Password and reconfirm password do not match.&quot;);\n            return &quot;redirect:/index&quot;;\n        }\n\n        if (!loginDAO.existsCCCD(CCCD).isEmpty()) {\n            model.addAttribute(&quot;error&quot;, &quot;CCCD already exists.&quot;);\n            return &quot;redirect:/book&quot;;\n        }\n\n        if (!checkPassword(password) || !validateEmail(email) ||\n                !checkCCCD(CCCD) || !checkPhone(phoneNumber) || !checkAddress(diaChi)) {\n            return &quot;redirect:/test3&quot;;\n        }\n\n        Login login = new Login(username, password, false);\n        KhachHang khachHang = new KhachHang(CCCD, hoTen, gioiTinh, diaChi, email, phoneNumber, login);\n\n        login.setKhachHang(khachHang);\n        khachHang.setLogin(login);\n\n        khachHangDAO.save(khachHang);\n        loginDAO.save(login);\n\n        return &quot;redirect:/test2&quot;;\n    }\n</code></pre>\n"},{"tags":["java","python","uuid"],"answers":[{"comments":[{"owner":{"account_id":58449,"reputation":9995,"user_id":1391064,"accept_rate":73,"display_name":"Jon"},"score":0,"creation_date":1421228239,"post_id":27939485,"comment_id":44275637,"body_markdown":"Superb. I was trying for ages to turn an empty string into bytes but couldn&#39;t find the trick.","body":"Superb. I was trying for ages to turn an empty string into bytes but couldn&#39;t find the trick."},{"owner":{"account_id":111215,"reputation":4304,"user_id":293933,"display_name":"Jarek Przyg&#243;dzki"},"score":0,"creation_date":1421228598,"post_id":27939485,"comment_id":44275847,"body_markdown":"In Python 3 it is no longer possible to mix Unicode strings with encoded strings -  it will result in a `TypeError: Can&#39;t convert &#39;bytes&#39; object to str implicitly`. I think that `bytes` should by binary string: `bytes = &#39;&#39;.encode(&#39;utf-8&#39;)`","body":"In Python 3 it is no longer possible to mix Unicode strings with encoded strings -  it will result in a <code>TypeError: Can&#39;t convert &#39;bytes&#39; object to str implicitly</code>. I think that <code>bytes</code> should by binary string: <code>bytes = &#39;&#39;.encode(&#39;utf-8&#39;)</code>"},{"owner":{"account_id":34676,"reputation":15299,"user_id":98057,"accept_rate":90,"display_name":"Andr&#233; Laszlo"},"score":0,"creation_date":1421228851,"post_id":27939485,"comment_id":44276017,"body_markdown":"@JarekPrzyg&#243;dzki Good point. I changed `&#39;&#39;` to `b&#39;&#39;` for Python 3 compatibility.","body":"@JarekPrzyg&#243;dzki Good point. I changed <code>&#39;&#39;</code> to <code>b&#39;&#39;</code> for Python 3 compatibility."},{"owner":{"account_id":238745,"reputation":790,"user_id":2219288,"display_name":"Rik"},"score":2,"creation_date":1499893243,"post_id":27939485,"comment_id":77108115,"body_markdown":"Rather than create the class, you can use some (somewhat ugly) code to do this inline: `type(&#39;&#39;, (), dict(bytes=b&#39;&#39;))()` (from [this answer](https://stackoverflow.com/a/1123054) to another question).  So then you can do this as a one liner if needed, e.g.: `python -c &quot;import uuid; print uuid.uuid3(type(&#39;&#39;, (), dict(bytes=b&#39;&#39;))(), &#39;TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN&#39;)&quot;`.","body":"Rather than create the class, you can use some (somewhat ugly) code to do this inline: <code>type(&#39;&#39;, (), dict(bytes=b&#39;&#39;))()</code> (from <a href=\"https://stackoverflow.com/a/1123054\">this answer</a> to another question).  So then you can do this as a one liner if needed, e.g.: <code>python -c &quot;import uuid; print uuid.uuid3(type(&#39;&#39;, (), dict(bytes=b&#39;&#39;))(), &#39;TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN&#39;)&quot;</code>."},{"owner":{"account_id":448246,"reputation":106,"user_id":842344,"display_name":"Mache"},"score":1,"creation_date":1549552417,"post_id":27939485,"comment_id":95950402,"body_markdown":"@Rik - the creation of the class is quite a good approach if you ever need to reuse the constant in any place in your project but I agree with your solution also; as a combined solution you can have\n\n`class Numeric(Enum):   \n      NULL_NAMESPACE = type(&#39;&#39;, (), dict(bytes=b&#39;&#39;))()\n\n uuid.uuid3(Numeric.NULL_NAMESPACE, &#39;TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN&#39;)\n# returns: UUID(&#39;c6a0deb5-0c4f-3961-9d19-3f0fde0517c2&#39;) `","body":"@Rik - the creation of the class is quite a good approach if you ever need to reuse the constant in any place in your project but I agree with your solution also; as a combined solution you can have  <code>class Numeric(Enum):          NULL_NAMESPACE = type(&#39;&#39;, (), dict(bytes=b&#39;&#39;))()   uuid.uuid3(Numeric.NULL_NAMESPACE, &#39;TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN&#39;) # returns: UUID(&#39;c6a0deb5-0c4f-3961-9d19-3f0fde0517c2&#39;) </code>"}],"tags":[],"owner":{"account_id":34676,"reputation":15299,"user_id":98057,"accept_rate":90,"display_name":"Andr&#233; Laszlo"},"comment_count":5,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1421228789,"creation_date":1421227525,"answer_id":27939485,"question_id":27939281,"body_markdown":"[`nameUUIDFromBytes`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/UUID.java#UUID.nameUUIDFromBytes%28byte%5B%5D%29) only takes one parameter, which is supposed to be the concatenation of the namespace and name just like you say. The namespace parameter is supposed to be a `UUID`, and as far as I know, they don&#39;t have a `null` value defined.\r\n\r\nA &quot;`null` uuid&quot; can be passed to Python&#39;s [`uuid3`](https://github.com/python/cpython/blob/master/Lib/uuid.py#L599) like this. This should work as long as the namespace has a `bytes` attribute (tested with Python 2 and 3):\r\n\r\n    class NULL_NAMESPACE:\r\n        bytes = b&#39;&#39;\r\n    uuid.uuid3(NULL_NAMESPACE, &#39;TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN&#39;)\r\n    # returns: UUID(&#39;c6a0deb5-0c4f-3961-9d19-3f0fde0517c2&#39;)\r\n\r\n","title":"Reproduce uuid from java code in python","body":"<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/UUID.java#UUID.nameUUIDFromBytes%28byte%5B%5D%29\"><code>nameUUIDFromBytes</code></a> only takes one parameter, which is supposed to be the concatenation of the namespace and name just like you say. The namespace parameter is supposed to be a <code>UUID</code>, and as far as I know, they don't have a <code>null</code> value defined.</p>\n\n<p>A \"<code>null</code> uuid\" can be passed to Python's <a href=\"https://github.com/python/cpython/blob/master/Lib/uuid.py#L599\"><code>uuid3</code></a> like this. This should work as long as the namespace has a <code>bytes</code> attribute (tested with Python 2 and 3):</p>\n\n<pre><code>class NULL_NAMESPACE:\n    bytes = b''\nuuid.uuid3(NULL_NAMESPACE, 'TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN')\n# returns: UUID('c6a0deb5-0c4f-3961-9d19-3f0fde0517c2')\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4156176,"reputation":2475,"user_id":3407418,"display_name":"Gaskoin"},"score":0,"creation_date":1701707557,"post_id":48789847,"comment_id":136806317,"body_markdown":"It does not output same UUID as java","body":"It does not output same UUID as java"}],"tags":[],"owner":{"account_id":9653299,"reputation":69,"user_id":7163741,"display_name":"turbomerl"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1701707659,"creation_date":1518619319,"answer_id":48789847,"question_id":27939281,"body_markdown":"In the case that it is helpful, if you want to do the Java side of this, you can use the following:\r\n\r\n\r\n    UUID namespaceUUID = UUID.fromString(&quot;9db60607-6b12-41eb-8848-eafd26681583&quot;);\r\n    String myString = &quot;sometextinhere&quot;;\r\n\r\n    ByteBuffer buffer = ByteBuffer.wrap(new byte[16 + myString.getBytes().length]);\r\n    buffer.putLong(namespaceUUID.getMostSignificantBits());\r\n    buffer.putLong(namespaceUUID.getLeastSignificantBits());\r\n    buffer.put(myString.getBytes());\r\n\r\n    byte[] uuidBytes = buffer.array();\r\n\r\n    UUID myUUID = UUID.nameUUIDFromBytes(uuidBytes);\r\n\r\n\r\nThis will provide the same output UUID as the following Python:\r\n\r\n    namespaceUUID = UUID(&#39;9db60607-6b12-41eb-8848-eafd26681583&#39;)\r\n    myUUID = uuid.uuid3(namespaceUUID, &#39;sometextinhere&#39;))\r\n    ","title":"Reproduce uuid from java code in python","body":"<p>In the case that it is helpful, if you want to do the Java side of this, you can use the following:</p>\n<pre><code>UUID namespaceUUID = UUID.fromString(&quot;9db60607-6b12-41eb-8848-eafd26681583&quot;);\nString myString = &quot;sometextinhere&quot;;\n\nByteBuffer buffer = ByteBuffer.wrap(new byte[16 + myString.getBytes().length]);\nbuffer.putLong(namespaceUUID.getMostSignificantBits());\nbuffer.putLong(namespaceUUID.getLeastSignificantBits());\nbuffer.put(myString.getBytes());\n\nbyte[] uuidBytes = buffer.array();\n\nUUID myUUID = UUID.nameUUIDFromBytes(uuidBytes);\n</code></pre>\n<p>This will provide the same output UUID as the following Python:</p>\n<pre><code>namespaceUUID = UUID('9db60607-6b12-41eb-8848-eafd26681583')\nmyUUID = uuid.uuid3(namespaceUUID, 'sometextinhere'))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2863481,"reputation":41,"user_id":2458223,"display_name":"Sathish Kumar S"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644385215,"creation_date":1644385215,"answer_id":71044501,"question_id":27939281,"body_markdown":"@turbomeri&#39;s answer is right.. just python code didn&#39;t had few mistakes, so corrected the version\r\n\r\n```import uuid\r\na = &#39;sometextinhere&#39;\r\nnamespaceUUID = uuid.UUID(&#39;9db60607-6b12-41eb-8848-eafd26681583&#39;)\r\nprint(str(uuid.uuid3(namespaceUUID, a)))```","title":"Reproduce uuid from java code in python","body":"<p>@turbomeri's answer is right.. just python code didn't had few mistakes, so corrected the version</p>\n<pre><code>a = 'sometextinhere'\nnamespaceUUID = uuid.UUID('9db60607-6b12-41eb-8848-eafd26681583')\nprint(str(uuid.uuid3(namespaceUUID, a)))```\n</code></pre>\n"}],"owner":{"account_id":58449,"reputation":9995,"user_id":1391064,"accept_rate":73,"display_name":"Jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4840,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":27939485,"answer_count":3,"score":9,"last_activity_date":1701707659,"creation_date":1421226877,"question_id":27939281,"body_markdown":"In a Java application files are created where the filename is a UUID generated from a protein sequence (e.g. TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN) created using the function `UUID.nameUUIDFromBytes`. This results in the UUID `c6a0deb5-0c4f-3961-9d19-3f0fde0517c2`.\r\n\r\n`UUID.namedUUIDFromBytes` doesn&#39;t take a namespace as a parameter, whereas in python `uuid.uuid3` does. According to https://stackoverflow.com/questions/9504519/what-namespace-does-the-jdk-use-to-generate-a-uuid-with-nameuuidfrombytes, the namespace should have been passed as part of the name, but it&#39;s no longer possible to change the java code.\r\n\r\nIs there a way to create a custom namespace in the python code such that it will produce the same UUID&#39;s as the Java code?","title":"Reproduce uuid from java code in python","body":"<p>In a Java application files are created where the filename is a UUID generated from a protein sequence (e.g. TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN) created using the function <code>UUID.nameUUIDFromBytes</code>. This results in the UUID <code>c6a0deb5-0c4f-3961-9d19-3f0fde0517c2</code>.</p>\n\n<p><code>UUID.namedUUIDFromBytes</code> doesn't take a namespace as a parameter, whereas in python <code>uuid.uuid3</code> does. According to <a href=\"https://stackoverflow.com/questions/9504519/what-namespace-does-the-jdk-use-to-generate-a-uuid-with-nameuuidfrombytes\">What namespace does the JDK use to generate a UUID with nameUUIDFromBytes?</a>, the namespace should have been passed as part of the name, but it's no longer possible to change the java code.</p>\n\n<p>Is there a way to create a custom namespace in the python code such that it will produce the same UUID's as the Java code?</p>\n"},{"tags":["java","spring","rest","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":1,"creation_date":1568643652,"post_id":57956436,"comment_id":102329481,"body_markdown":"Or customize the param names: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.basic.paging-and-sorting and https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/web/config/PageableHandlerMethodArgumentResolverCustomizer.html","body":"Or customize the param names: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.basic.paging-and-sorting\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a> and <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/web/config/PageableHandlerMethodArgumentResolverCustomizer.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/commons/docs/current/api/org/&hellip;</a>"}],"tags":[],"owner":{"account_id":15284220,"reputation":3452,"user_id":11027700,"display_name":"i.bondarenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1568635570,"creation_date":1568635266,"answer_id":57956436,"question_id":57956154,"body_markdown":"Spring Boot maps the request params to `org.springframework.data.domain.PageRequest` that extends `AbstractPageRequest`\r\n\r\n      AbstractPageRequest implements Pageable, Serializable {\r\n        ...\r\n        private final int page;\r\n        private final int size;\r\n\r\n        public long getOffset() {\r\n            return (long)this.page * (long)this.size;\r\n        }\r\n        ...\r\n\r\nYou should use following url:\r\n\r\n    http://localhost:8080?page=3&amp;size=5\r\n\r\nAlso you could add sorting by ...&amp;sort=name","title":"Spring Boot: @GetMapping with Pageable as request parameter don&#39;t work as expected","body":"<p>Spring Boot maps the request params to <code>org.springframework.data.domain.PageRequest</code> that extends <code>AbstractPageRequest</code></p>\n\n<pre><code>  AbstractPageRequest implements Pageable, Serializable {\n    ...\n    private final int page;\n    private final int size;\n\n    public long getOffset() {\n        return (long)this.page * (long)this.size;\n    }\n    ...\n</code></pre>\n\n<p>You should use following url:</p>\n\n<pre><code>http://localhost:8080?page=3&amp;size=5\n</code></pre>\n\n<p>Also you could add sorting by ...&amp;sort=name</p>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701707416,"creation_date":1701707416,"answer_id":77601056,"question_id":57956154,"body_markdown":"Spring boot `Pageable` supports the following url params OOTB:\r\n\r\n- page: page number, where 0 is the first page\r\n- size: page size\r\n- sort: sort by field\r\n- direction: ASC/DESC\r\n\r\n**Sample endpoint:**\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;?&gt; getUsers(Pageable pageable) {\r\n    \ttry {\r\n    \t\treturn ResponseEntity.status(HttpStatus.OK).body(userService.getUsers(pageable));\r\n    \t} catch (Exception e) {\r\n    \t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\r\n    \t}\r\n    }\r\n\r\n**Sample Request:**\r\n\r\n    localhost:8080/users?page=2&amp;size=5&amp;sort=createdAt,DESC\r\n\r\n**Sample Response** (note the paging data below):\r\n\r\n    {\r\n        &quot;content&quot;: [\r\n           ... \r\n        ],\r\n        &quot;pageable&quot;: {\r\n            &quot;sort&quot;: {\r\n                &quot;empty&quot;: false,\r\n                &quot;sorted&quot;: true,\r\n                &quot;unsorted&quot;: false\r\n            },\r\n            &quot;offset&quot;: 10,\r\n            &quot;pageNumber&quot;: 2,\r\n            &quot;pageSize&quot;: 5,\r\n            &quot;paged&quot;: true,\r\n            &quot;unpaged&quot;: false\r\n        },\r\n        &quot;last&quot;: false,\r\n        &quot;totalPages&quot;: 12,\r\n        &quot;totalElements&quot;: 58,\r\n        &quot;size&quot;: 5,\r\n        &quot;number&quot;: 2,\r\n        &quot;sort&quot;: {\r\n            &quot;empty&quot;: false,\r\n            &quot;sorted&quot;: true,\r\n            &quot;unsorted&quot;: false\r\n        },\r\n        &quot;numberOfElements&quot;: 5,\r\n        &quot;first&quot;: false,\r\n        &quot;empty&quot;: false\r\n    }\r\n\r\n\r\n","title":"Spring Boot: @GetMapping with Pageable as request parameter don&#39;t work as expected","body":"<p>Spring boot <code>Pageable</code> supports the following url params OOTB:</p>\n<ul>\n<li>page: page number, where 0 is the first page</li>\n<li>size: page size</li>\n<li>sort: sort by field</li>\n<li>direction: ASC/DESC</li>\n</ul>\n<p><strong>Sample endpoint:</strong></p>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;?&gt; getUsers(Pageable pageable) {\n    try {\n        return ResponseEntity.status(HttpStatus.OK).body(userService.getUsers(pageable));\n    } catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\n    }\n}\n</code></pre>\n<p><strong>Sample Request:</strong></p>\n<pre><code>localhost:8080/users?page=2&amp;size=5&amp;sort=createdAt,DESC\n</code></pre>\n<p><strong>Sample Response</strong> (note the paging data below):</p>\n<pre><code>{\n    &quot;content&quot;: [\n       ... \n    ],\n    &quot;pageable&quot;: {\n        &quot;sort&quot;: {\n            &quot;empty&quot;: false,\n            &quot;sorted&quot;: true,\n            &quot;unsorted&quot;: false\n        },\n        &quot;offset&quot;: 10,\n        &quot;pageNumber&quot;: 2,\n        &quot;pageSize&quot;: 5,\n        &quot;paged&quot;: true,\n        &quot;unpaged&quot;: false\n    },\n    &quot;last&quot;: false,\n    &quot;totalPages&quot;: 12,\n    &quot;totalElements&quot;: 58,\n    &quot;size&quot;: 5,\n    &quot;number&quot;: 2,\n    &quot;sort&quot;: {\n        &quot;empty&quot;: false,\n        &quot;sorted&quot;: true,\n        &quot;unsorted&quot;: false\n    },\n    &quot;numberOfElements&quot;: 5,\n    &quot;first&quot;: false,\n    &quot;empty&quot;: false\n}\n</code></pre>\n"}],"owner":{"account_id":9227487,"reputation":1065,"user_id":6854812,"accept_rate":12,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5840,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57956436,"answer_count":2,"score":2,"last_activity_date":1701707416,"creation_date":1568634311,"question_id":57956154,"body_markdown":"I am using **Spring Boot 2** and I have write a `@RestController` within a `@GetMapping` that takes a `Pageable` as parameter.\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;Page&lt;AppointmentTO&gt;&gt; findAll(Pageable pageable) {\r\n        Page&lt;AppointmentTO&gt; page = appointmentService.findAll(pageable);\r\n        return ResponseEntity.ok(page);\r\n    }\r\n\r\nThe problem is the following:\r\n\r\nBy each request, the **queries-parameters** `pageSize` and `offset` are always reset to default when they arrived in Spring Boot Backend (`?offset=0&amp;pageSize=20`), however I send different parameters in the url of my request (`?offset=15&amp;pageSize=5` for example).","title":"Spring Boot: @GetMapping with Pageable as request parameter don&#39;t work as expected","body":"<p>I am using <strong>Spring Boot 2</strong> and I have write a <code>@RestController</code> within a <code>@GetMapping</code> that takes a <code>Pageable</code> as parameter.</p>\n\n<pre><code>@GetMapping\npublic ResponseEntity&lt;Page&lt;AppointmentTO&gt;&gt; findAll(Pageable pageable) {\n    Page&lt;AppointmentTO&gt; page = appointmentService.findAll(pageable);\n    return ResponseEntity.ok(page);\n}\n</code></pre>\n\n<p>The problem is the following:</p>\n\n<p>By each request, the <strong>queries-parameters</strong> <code>pageSize</code> and <code>offset</code> are always reset to default when they arrived in Spring Boot Backend (<code>?offset=0&amp;pageSize=20</code>), however I send different parameters in the url of my request (<code>?offset=15&amp;pageSize=5</code> for example).</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"score":3,"creation_date":1264090540,"post_id":2110757,"comment_id":2046025,"body_markdown":"Can you include the offending code? Does the name match the values you get in ResultSet.getColumnNames?","body":"Can you include the offending code? Does the name match the values you get in ResultSet.getColumnNames?"},{"owner":{"account_id":2361780,"reputation":303,"user_id":2068320,"display_name":"Praveen Shendge"},"score":0,"creation_date":1534486549,"post_id":2110757,"comment_id":90729671,"body_markdown":"This has happen to me when I was excluding the existing column from the table.\nTo resolve this problem you can select &#39;*&#39; first i.e all the records and then try to included columns one by one.","body":"This has happen to me when I was excluding the existing column from the table. To resolve this problem you can select &#39;*&#39; first i.e all the records and then try to included columns one by one."}],"answers":[{"comments":[{"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"score":0,"creation_date":1264093132,"post_id":2110799,"comment_id":2046401,"body_markdown":"I&#39;m afraid that wasn&#39;t the problem but thanks very much for the suggestion.","body":"I&#39;m afraid that wasn&#39;t the problem but thanks very much for the suggestion."}],"tags":[],"owner":{"account_id":25056,"reputation":11600,"user_id":64132,"accept_rate":95,"display_name":"David Espart"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264090642,"creation_date":1264090642,"answer_id":2110799,"question_id":2110757,"body_markdown":"Try to enclose the column name inside square brackets: [MarginCall]\r\nJust a guess.","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>Try to enclose the column name inside square brackets: [MarginCall]\nJust a guess.</p>\n"},{"tags":[],"owner":{"account_id":24831,"reputation":5854,"user_id":63383,"accept_rate":100,"display_name":"Mauricio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264092450,"creation_date":1264092450,"answer_id":2111027,"question_id":2110757,"body_markdown":"Check the case of your table name. if collation is set to case sensitive on ms sql server the table names are affected too.","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>Check the case of your table name. if collation is set to case sensitive on ms sql server the table names are affected too.</p>\n"},{"tags":[],"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1264093615,"creation_date":1264093615,"answer_id":2111181,"question_id":2110757,"body_markdown":"Problem solved. It was a simple mistake by me. \r\n\r\nMy query was using an &#39;AS&#39; clause in the select statement. I was trying to retrieve the column value from the ResultSet using the actual column name, instead of the column alias defined in the AS clause.\r\n\r\nSchoolboy error. Apologies for the time wasting.\r\n\r\nMany thanks to Steve B. for his suggestion to use ResultSet.getColumnNames(). Although the actual method call I used was ResultSet.getMetaData().getColumnName(columnIndex);","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>Problem solved. It was a simple mistake by me. </p>\n\n<p>My query was using an 'AS' clause in the select statement. I was trying to retrieve the column value from the ResultSet using the actual column name, instead of the column alias defined in the AS clause.</p>\n\n<p>Schoolboy error. Apologies for the time wasting.</p>\n\n<p>Many thanks to Steve B. for his suggestion to use ResultSet.getColumnNames(). Although the actual method call I used was ResultSet.getMetaData().getColumnName(columnIndex);</p>\n"},{"tags":[],"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701707317,"creation_date":1600933885,"answer_id":64041833,"question_id":2110757,"body_markdown":"The same issue can be thrown, if the `Entity` *properties* &amp; `SELECT` statement *column* values are mismatching.\r\n\r\nCheck the following example:\r\n\r\n**Entity**\r\n```java\r\n@Setter\r\n@Getter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;country&quot;)\r\npublic class Country {\r\n\r\n    @Id\r\n    private Integer id;\r\n    \r\n    private String name;\r\n\r\n    private String code;\r\n}\r\n```\r\n**Repository**\r\n```java\r\npublic interface CountryRepository extends JpaRepository&lt;Country, Integer&gt; {\r\n    \r\n    @Query(nativeQuery = true, value = &quot;SELECT id, name FROM country WHERE isActive = &#39;true&#39; ORDER BY name&quot;)\r\n    List&lt;Country&gt; findIdAndNameAndCodeByIsActiveTrue();\r\n}\r\n```\r\nIn this case it will throw an Exception\r\n```java\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The column name code is not valid.\r\n```\r\nSo, if you do not need all the columns as response, then use [Projections][1] as return type or mention all the columns which are available as part of `entity` in the `select` query.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>The same issue can be thrown, if the <code>Entity</code> <em>properties</em> &amp; <code>SELECT</code> statement <em>column</em> values are mismatching.</p>\n<p>Check the following example:</p>\n<p><strong>Entity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;country&quot;)\npublic class Country {\n\n    @Id\n    private Integer id;\n    \n    private String name;\n\n    private String code;\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CountryRepository extends JpaRepository&lt;Country, Integer&gt; {\n    \n    @Query(nativeQuery = true, value = &quot;SELECT id, name FROM country WHERE isActive = 'true' ORDER BY name&quot;)\n    List&lt;Country&gt; findIdAndNameAndCodeByIsActiveTrue();\n}\n</code></pre>\n<p>In this case it will throw an Exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.microsoft.sqlserver.jdbc.SQLServerException: The column name code is not valid.\n</code></pre>\n<p>So, if you do not need all the columns as response, then use <a href=\"https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html\" rel=\"nofollow noreferrer\">Projections</a> as return type or mention all the columns which are available as part of <code>entity</code> in the <code>select</code> query.</p>\n"}],"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31464,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":2111181,"answer_count":4,"score":14,"last_activity_date":1701707317,"creation_date":1264090388,"question_id":2110757,"body_markdown":"I&#39;m getting a strange error from the SQL Server JDBC driver. It is telling me that a column name is invalid even though the column is present, correctly named and the same query works fine when executed in SqlServer Management Studio.\r\n\r\nThe error is:\r\n\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The column name MarginCall is not valid.\r\n        at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:170)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerResultSet.findColumn(SQLServerResultSet.java:626)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerResultSet.getBigDecimal(SQLServerResultSet.java:2570)\r\n        at org.apache.commons.dbcp.DelegatingResultSet.getBigDecimal(DelegatingResultSet.java:305)\r\n    ...\r\n\r\n","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>I'm getting a strange error from the SQL Server JDBC driver. It is telling me that a column name is invalid even though the column is present, correctly named and the same query works fine when executed in SqlServer Management Studio.</p>\n\n<p>The error is:</p>\n\n<pre><code>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The column name MarginCall is not valid.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:170)\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.findColumn(SQLServerResultSet.java:626)\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.getBigDecimal(SQLServerResultSet.java:2570)\n    at org.apache.commons.dbcp.DelegatingResultSet.getBigDecimal(DelegatingResultSet.java:305)\n...\n</code></pre>\n"},{"tags":["javascript","java","selenium-webdriver","selenium-chromedriver","selenide"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1701718089,"post_id":77601014,"comment_id":136808204,"body_markdown":"driver.quit() will not work as that will shut down the browser and dispose of the driver. \n When using the driver.close() command the current tab/window will be closed.  If it&#39;s the last tab/window opened, it may also quit the driver (depends on the driver used).  It&#39;s possible that this behavior is causing your issue.  To avoid that, make sure there is more than one window/tab open in the browser.  Call, executeScript(&quot;window.open(&#39;about:blank&#39;, &#39;_blank&#39;);&quot;);  before calling driver.close()...  (you may also want to use expected condition of numberOfWindowsToBe...)","body":"driver.quit() will not work as that will shut down the browser and dispose of the driver.   When using the driver.close() command the current tab/window will be closed.  If it&#39;s the last tab/window opened, it may also quit the driver (depends on the driver used).  It&#39;s possible that this behavior is causing your issue.  To avoid that, make sure there is more than one window/tab open in the browser.  Call, executeScript(&quot;window.open(&#39;about:blank&#39;, &#39;_blank&#39;);&quot;);  before calling driver.close()...  (you may also want to use expected condition of numberOfWindowsToBe...)"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1701798164,"post_id":77601014,"comment_id":136819079,"body_markdown":"since this will be triggered onbeforeunload, another alternative is just to send driver .back(), or .refresh() commands.","body":"since this will be triggered onbeforeunload, another alternative is just to send driver .back(), or .refresh() commands."}],"owner":{"account_id":30064332,"reputation":1,"user_id":23039818,"display_name":"Anil Ch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701707225,"creation_date":1701707016,"question_id":77601014,"body_markdown":"Our application has a popup alert built-in if user closes the browser tab. It works when I manually close the Chrome browser tab, but when I use Selenium methods like `driver.close()` or `quit()`, or `Keys(COMMAND + w)` it doesn&#39;t throw any pop up - but directly closes the browser.\r\n\r\nIs there anyway to display that prompt/popup/alert as it is normally thrown on manual run?\r\n\r\n![Popup image](https://i.stack.imgur.com/TP8XP.png)\r\n\r\nI tried all possible ways to close the browser tab, and all those methods directly closing the browser tab without throwing the pop up.\r\n\r\nI want the popup to be displayed before closing the browser tab, as it normally appears on manual execution.","title":"While closing the browser tab in Selenium run, Pop-up alert not displayed, but pop-up is displayed when manually closing the browser tab","body":"<p>Our application has a popup alert built-in if user closes the browser tab. It works when I manually close the Chrome browser tab, but when I use Selenium methods like <code>driver.close()</code> or <code>quit()</code>, or <code>Keys(COMMAND + w)</code> it doesn't throw any pop up - but directly closes the browser.</p>\n<p>Is there anyway to display that prompt/popup/alert as it is normally thrown on manual run?</p>\n<p><img src=\"https://i.stack.imgur.com/TP8XP.png\" alt=\"Popup image\" /></p>\n<p>I tried all possible ways to close the browser tab, and all those methods directly closing the browser tab without throwing the pop up.</p>\n<p>I want the popup to be displayed before closing the browser tab, as it normally appears on manual execution.</p>\n"},{"tags":["java","junit","interface","java-annotations"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1701703831,"post_id":77600621,"comment_id":136805546,"body_markdown":"`permission` isn&#39;t an annotation, it&#39;s an attribute of the `MockToken` annotation. Are you really trying to set it to all of that, I guess, JSON data? You can simply define it as a string  like you did `user` and grab it and parse it. Are you expecting it to get parsed for you from JSON into an object graph?","body":"<code>permission</code> isn&#39;t an annotation, it&#39;s an attribute of the <code>MockToken</code> annotation. Are you really trying to set it to all of that, I guess, JSON data? You can simply define it as a string  like you did <code>user</code> and grab it and parse it. Are you expecting it to get parsed for you from JSON into an object graph?"},{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701704325,"post_id":77600621,"comment_id":136805638,"body_markdown":"thank you. I want to define an object to include in MockToken which includes data like example permissions.","body":"thank you. I want to define an object to include in MockToken which includes data like example permissions."},{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701704386,"post_id":77600621,"comment_id":136805653,"body_markdown":"Defining it as an String is also a good idea. But I tought about defiine it as a class.","body":"Defining it as an String is also a good idea. But I tought about defiine it as a class."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1701705236,"post_id":77600621,"comment_id":136805817,"body_markdown":"I think what you need is [repeating annotations](https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html), at multiple levels, for permissions but also for resource_scopes within a permission, but I have never set up such complicated annotations before.","body":"I think what you need is <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html\" rel=\"nofollow noreferrer\">repeating annotations</a>, at multiple levels, for permissions but also for resource_scopes within a permission, but I have never set up such complicated annotations before."},{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701706289,"post_id":77600621,"comment_id":136806020,"body_markdown":"My goal is at the end to have field access like this: mockToken.permissions().resourceId();","body":"My goal is at the end to have field access like this: mockToken.permissions().resourceId();"},{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701706448,"post_id":77600621,"comment_id":136806055,"body_markdown":"Yes I defined it exactly like this, but the problem is how to pass it as parameter in the test:  @Target(value={ElementType.METHOD, ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Permission {\n\n    String resourceId() default &quot;&quot;;\n    String resourceScopes() default &quot;&quot;;\n    int exp() default 0;\n\n\n\n\n}","body":"Yes I defined it exactly like this, but the problem is how to pass it as parameter in the test:  @Target(value={ElementType.METHOD, ElementType.FIELD}) @Retention(RetentionPolicy.RUNTIME) public @interface Permission {      String resourceId() default &quot;&quot;;     String resourceScopes() default &quot;&quot;;     int exp() default 0;     }"}],"answers":[{"tags":[],"owner":{"account_id":30064126,"reputation":11,"user_id":23039637,"display_name":"Harukero"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701704942,"creation_date":1701704942,"answer_id":77600795,"question_id":77600621,"body_markdown":"Unfortunately, the types of attribute you can use in an annotation are limited.\r\n \r\nMaybe you can directly try to inject the `permission` object itself as a parameter for your test? \r\nIn that case, you&#39;ll need a ParameterResolver.\r\n\r\nIn this link they explain this quite well: https://www.baeldung.com/junit-5-extensions#4-parameter-resolution\r\n\r\nYou could also consider creating your own junit extension.\r\n\r\nYou can also try to create a `@ParameterizedTest`?","title":"Defining embeded annotation interface in Java","body":"<p>Unfortunately, the types of attribute you can use in an annotation are limited.</p>\n<p>Maybe you can directly try to inject the <code>permission</code> object itself as a parameter for your test?\nIn that case, you'll need a ParameterResolver.</p>\n<p>In this link they explain this quite well: <a href=\"https://www.baeldung.com/junit-5-extensions#4-parameter-resolution\" rel=\"nofollow noreferrer\">https://www.baeldung.com/junit-5-extensions#4-parameter-resolution</a></p>\n<p>You could also consider creating your own junit extension.</p>\n<p>You can also try to create a <code>@ParameterizedTest</code>?</p>\n"}],"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701706277,"creation_date":1701703506,"question_id":77600621,"body_markdown":"I have following annotation interface: \r\n\r\n    @Target({ElementType.METHOD, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Inherited\r\n    @Documented\r\n    public @interface MockToken {\r\n    \r\n        String user() default &quot;user&quot;;\r\n    \r\n        String[] allowedConfigs() default {};\r\n    \r\n    }\r\n\r\n\r\nWithin this annotation, I would like to define another annotation and initalize it in the test. The data should be an array at the end: \r\n\r\n  \r\n\r\n      &quot;permissions&quot;: [\r\n            {\r\n                &quot;resource_id&quot;: &quot;xy&quot;,\r\n                &quot;resource_scopes&quot;: [\r\n                    &quot;download&quot;\r\n                ],\r\n                &quot;exp&quot;: 1522334692\r\n            }\r\n        ]\r\n\r\nAnd I would like to initialize them in the test:\r\n\r\n    @Test\r\n    @MockToken(user= &quot;user1&quot;, allowedConfigs = {testUser}, permission = examplePermission)\r\n\r\n\r\nMy problem is now how to define **permission** annotation and how to define **examplePermission** in the test. \r\n\r\nMy goal is at the end to have field access like this: mockToken.permissions().resourceId();","title":"Defining embeded annotation interface in Java","body":"<p>I have following annotation interface:</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\npublic @interface MockToken {\n\n    String user() default &quot;user&quot;;\n\n    String[] allowedConfigs() default {};\n\n}\n</code></pre>\n<p>Within this annotation, I would like to define another annotation and initalize it in the test. The data should be an array at the end:</p>\n<pre><code>  &quot;permissions&quot;: [\n        {\n            &quot;resource_id&quot;: &quot;xy&quot;,\n            &quot;resource_scopes&quot;: [\n                &quot;download&quot;\n            ],\n            &quot;exp&quot;: 1522334692\n        }\n    ]\n</code></pre>\n<p>And I would like to initialize them in the test:</p>\n<pre><code>@Test\n@MockToken(user= &quot;user1&quot;, allowedConfigs = {testUser}, permission = examplePermission)\n</code></pre>\n<p>My problem is now how to define <strong>permission</strong> annotation and how to define <strong>examplePermission</strong> in the test.</p>\n<p>My goal is at the end to have field access like this: mockToken.permissions().resourceId();</p>\n"},{"tags":["java","android","bottom-sheet"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1701703612,"post_id":77600574,"comment_id":136805495,"body_markdown":"Both &quot;it&#39;s&quot; and &quot;its&quot; in the title, really covering all the bases, huh?","body":"Both &quot;it&#39;s&quot; and &quot;its&quot; in the title, really covering all the bases, huh?"},{"owner":{"account_id":14050521,"reputation":51,"user_id":10149431,"display_name":"sumit kumar"},"score":0,"creation_date":1701707793,"post_id":77600574,"comment_id":136806368,"body_markdown":"@DavidConrad can you please help me what i am doing wrong over here?","body":"@DavidConrad can you please help me what i am doing wrong over here?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1701728543,"post_id":77600574,"comment_id":136809659,"body_markdown":"I have no idea, sorry.","body":"I have no idea, sorry."},{"owner":{"account_id":14050521,"reputation":51,"user_id":10149431,"display_name":"sumit kumar"},"score":0,"creation_date":1701786177,"post_id":77600574,"comment_id":136816713,"body_markdown":"I found a work around as in my styles.xml under tag &lt;style name=&quot;bottomsheet_dialog&quot; parent=&quot;@style/Theme.MaterialComponents.BottomSheetDialog&quot;&gt; an item tag was added &lt;item name=&quot;android:maxHeight&quot;&gt;300dp&lt;/item&gt;. I just removed it and it started working. But what should I do if this maxHeight for the bottomsheet is needed for other purpose where fixed height required (may be device size).","body":"I found a work around as in my styles.xml under tag &lt;style name=&quot;bottomsheet_dialog&quot; parent=&quot;@style/Theme.MaterialComponents.BottomSheetDialog&quot;&gt; an item tag was added &lt;item name=&quot;android:maxHeight&quot;&gt;300dp&lt;/item&gt;. I just removed it and it started working. But what should I do if this maxHeight for the bottomsheet is needed for other purpose where fixed height required (may be device size)."}],"owner":{"account_id":14050521,"reputation":51,"user_id":10149431,"display_name":"sumit kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701706090,"creation_date":1701703122,"question_id":77600574,"body_markdown":"I worked in another project where I implemented same code and it works well there but in my new project it doesn&#39;t work. \r\n\r\nsomehow my bottomsheet height got fixed and content of it which is inflated into it gets scrollable. I want bottom sheet height should be adjusted according to its content and not scrollable.\r\nWhat and where, Am I doing wrong please suggest me.\r\nMy BaseBottomsheetDialogFragment xml to show Dialog from BottomSheet is as :\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/rootlayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/framelayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;gone&quot;&gt;\r\n\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\nand I inflate this Framelayout with AddFriendConfirmationFragment xml and this is as follows:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/main_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@drawable/bottomsheet_bg&quot;\r\n    android:padding=&quot;5dp&quot;&gt;\r\n\r\n\r\n    &lt;ScrollView\r\n        android:id=&quot;@+id/scroll_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/layout_one&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/title2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:layout_marginRight=&quot;@dimen/padding_10dp&quot;\r\n                android:text=&quot;Add Friend to your List?&quot;\r\n                android:textColor=&quot;@color/colorPrimaryText&quot;\r\n                android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/two&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/title2&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:padding=&quot;10dp&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/name_layout&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/title_2&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:ellipsize=&quot;end&quot;\r\n                        android:text=&quot;Full Name&quot;\r\n                        android:textColor=&quot;#444444&quot;\r\n                        android:textSize=&quot;13sp&quot; /&gt;\r\n\r\n                    &lt;EditText\r\n                        android:id=&quot;@+id/name&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/title_2&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;30dp&quot;\r\n                        android:background=&quot;@drawable/edittext_line_bg&quot;\r\n                        android:hint=&quot;Enter Full Name&quot;\r\n                        android:importantForAutofill=&quot;no&quot;\r\n                        android:inputType=&quot;textPersonName&quot;\r\n                        android:maxLines=&quot;1&quot;\r\n                        android:paddingTop=&quot;10dp&quot;\r\n                        android:paddingBottom=&quot;10dp&quot;\r\n                        android:textColor=&quot;@color/colorPrimaryText&quot;\r\n                        android:textColorHint=&quot;@color/hintcolor&quot;\r\n                        android:textCursorDrawable=&quot;@drawable/cursor&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:theme=&quot;@style/EditTextTheme&quot; /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/error1&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/name&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;3dp&quot;\r\n                        android:text=&quot;&quot;\r\n                        android:textColor=&quot;@color/transaction_failed&quot;\r\n                        android:textSize=&quot;@dimen/small_text_size&quot;\r\n                        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/title_4&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/error1&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;16dp&quot;\r\n                    android:ellipsize=&quot;end&quot;\r\n                    android:text=&quot;Nick Name&quot;\r\n                    android:textColor=&quot;#444444&quot;\r\n                    android:textSize=&quot;13sp&quot; /&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/nick_name&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/title_4&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;30dp&quot;\r\n                    android:background=&quot;@drawable/edittext_line_bg&quot;\r\n                    android:digits=&quot;1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz &quot;\r\n                    android:hint=&quot;Enter Nick Name&quot;\r\n                    android:importantForAutofill=&quot;no&quot;\r\n                    android:inputType=&quot;textPersonName|textCapWords&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:paddingTop=&quot;10dp&quot;\r\n                    android:paddingBottom=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/colorPrimaryText&quot;\r\n                    android:textColorHint=&quot;@color/hintcolor&quot;\r\n                    android:textCursorDrawable=&quot;@drawable/cursor&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:theme=&quot;@style/EditTextTheme&quot; /&gt;\r\n\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/error1_1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;3dp&quot;\r\n                    android:text=&quot;&quot;\r\n                    android:textColor=&quot;@color/transaction_failed&quot;\r\n                    android:textSize=&quot;@dimen/small_text_size&quot;\r\n                    android:visibility=&quot;gone&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/title_3&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:ellipsize=&quot;end&quot;\r\n                    android:text=&quot;Mobile Number&quot;\r\n                    android:textColor=&quot;#444444&quot;\r\n                    android:textSize=&quot;13sp&quot; /&gt;\r\n\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/number&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/title_3&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;30dp&quot;\r\n                    android:background=&quot;@drawable/edittext_line_bg&quot;\r\n                    android:digits=&quot;1234567890&quot;\r\n                    android:hint=&quot;Enter Mobile Number&quot;\r\n                    android:importantForAutofill=&quot;no&quot;\r\n                    android:inputType=&quot;phone&quot;\r\n                    android:maxLength=&quot;10&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:paddingTop=&quot;10dp&quot;\r\n                    android:paddingBottom=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/colorPrimaryText&quot;\r\n                    android:textColorHint=&quot;@color/hintcolor&quot;\r\n                    android:textCursorDrawable=&quot;@drawable/cursor&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:theme=&quot;@style/EditTextTheme&quot; /&gt;\r\n\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/error2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:text=&quot;&quot;\r\n                    android:textColor=&quot;@color/transaction_failed&quot;\r\n                    android:textSize=&quot;@dimen/small_text_size&quot;\r\n                    android:visibility=&quot;visible&quot; /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/main_error&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/two&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:text=&quot;&quot;\r\n                android:textColor=&quot;@color/transaction_failed&quot;\r\n                android:textSize=&quot;13sp&quot;\r\n                android:visibility=&quot;gone&quot;\r\n\r\n                /&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout_1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/main_error&quot;\r\n\r\n                android:layout_alignParentRight=&quot;true&quot;&gt;\r\n\r\n                &lt;ProgressBar\r\n                    android:id=&quot;@+id/proceed_bar&quot;\r\n                    android:layout_width=&quot;24dp&quot;\r\n                    android:layout_height=&quot;24dp&quot;\r\n                    android:layout_centerInParent=&quot;true&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot;\r\n                    android:visibility=&quot;gone&quot; /&gt;\r\n\r\n                &lt;include\r\n                    layout=&quot;@layout/big_button_layout&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:layout_margin=&quot;16dp&quot; /&gt;\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/close&quot;\r\n        android:layout_width=&quot;36dp&quot;\r\n        android:layout_height=&quot;36dp&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/ripplebg_viewscircle&quot;\r\n        android:padding=&quot;6dp&quot;\r\n        app:srcCompat=&quot;@drawable/closesvgnormal&quot;\r\n\r\n        /&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\nand my code to show bottom sheet is:\r\n\r\n        @NonNull\r\n        @Override\r\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n    \r\n            BottomSheetDialog dialog = (BottomSheetDialog) super.onCreateDialog(savedInstanceState);\r\n    \r\n            dialog.setOnShowListener(new DialogInterface.OnShowListener() {\r\n                @Override\r\n                public void onShow(DialogInterface dialog) {\r\n                    BottomSheetDialog d = (BottomSheetDialog) dialog;\r\n    \r\n                    FrameLayout bottomSheet = (FrameLayout) d.findViewById(com.google.android.material.R.id.design_bottom_sheet);\r\n                    //BottomSheetBehavior.from(bottomSheet).setState(BottomSheetBehavior.STATE_EXPANDED);\r\n    \r\n    \r\n                    if (bottomSheet != null) {\r\n    \r\n                        final BottomSheetBehavior behaviour = BottomSheetBehavior.from(bottomSheet);\r\n                        // behaviour.setState(BottomSheetBehavior.STATE_EXPANDED);\r\n    \r\n                        behaviour.addBottomSheetCallback(new LockableBottomSheetBehavior.BottomSheetCallback() {\r\n                            @Override\r\n                            public void onStateChanged(@NonNull View bottomSheet, int newState) {\r\n    \r\n                                if (newState == CustomBottomSheetBehaviour.STATE_DRAGGING) {\r\n    \r\n                                    behaviour.setState(CustomBottomSheetBehaviour.STATE_EXPANDED);\r\n    \r\n                                } else if (newState == CustomBottomSheetBehaviour.STATE_EXPANDED) {\r\n    \r\n                                    // setStatusBarColor(&quot;#000000&quot;);\r\n    \r\n    \r\n                                    if (behaviour instanceof LockableBottomSheetBehavior) {\r\n                                        ((LockableBottomSheetBehavior) behaviour).setLocked(true);\r\n                                    }\r\n    \r\n                                }\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onSlide(@NonNull View bottomSheet, float slideOffset) {\r\n    \r\n                                bottomSheet.setOnTouchListener(new View.OnTouchListener() {\r\n                                    @Override\r\n                                    public boolean onTouch(View v, MotionEvent event) {\r\n                                        int action = event.getAction();\r\n                                        switch (action) {\r\n                                            case MotionEvent.ACTION_DOWN:\r\n                                                return false;\r\n                                            default:\r\n                                                return true;\r\n                                        }\r\n                                    }\r\n                                });\r\n    \r\n                            }\r\n    \r\n                        });\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n            });\r\n            if (from == Constants.ADD_FRIEND_CONFIRMATION || from == Constants.DELETE_EXPENSE) {\r\n    \r\n                dialog.setOnKeyListener(new DialogInterface.OnKeyListener() {\r\n                    @Override\r\n                    public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) {\r\n                        if (keyCode == KeyEvent.KEYCODE_BACK\r\n                                &amp;&amp; event.getAction() == KeyEvent.ACTION_UP) {\r\n                            // TODO do the &quot;back pressed&quot; work here\r\n    \r\n                            if (from == Constants.ADD_FRIEND_CONFIRMATION) {\r\n    \r\n                                AddFriendConfirmationFragment addFriendConfirmationFragment = (AddFriendConfirmationFragment) getChildFragmentManager().findFragmentByTag(&quot;addFriendConfirmationFragment&quot;);\r\n    \r\n                                if (addFriendConfirmationFragment != null) {\r\n    \r\n                                    if (addFriendConfirmationFragment.status == 1) {\r\n    \r\n                                        Log.d(&quot;upisdk&quot;, &quot;onkeybackpressed cancel ADD_FRIEND_CONFIRMATION&quot;);\r\n    \r\n                                        dismissDialog();\r\n                                        return true;\r\n    \r\n                                    }\r\n                                }\r\n                            } \r\n                            return false;\r\n    \r\n                        }\r\n                        return false;\r\n                    }\r\n                });\r\n    \r\n            }\r\n            return dialog;\r\n       }","title":"Bottomsheet height got fixed and content inside it gets scrollable. I want my Bottomsheet height according to it&#39;s content","body":"<p>I worked in another project where I implemented same code and it works well there but in my new project it doesn't work.</p>\n<p>somehow my bottomsheet height got fixed and content of it which is inflated into it gets scrollable. I want bottom sheet height should be adjusted according to its content and not scrollable.\nWhat and where, Am I doing wrong please suggest me.\nMy BaseBottomsheetDialogFragment xml to show Dialog from BottomSheet is as :</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/rootlayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/framelayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:visibility=&quot;gone&quot;&gt;\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>and I inflate this Framelayout with AddFriendConfirmationFragment xml and this is as follows:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/main_layout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:background=&quot;@drawable/bottomsheet_bg&quot;\nandroid:padding=&quot;5dp&quot;&gt;\n\n\n&lt;ScrollView\n    android:id=&quot;@+id/scroll_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/layout_one&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/title2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;20dp&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:layout_marginRight=&quot;@dimen/padding_10dp&quot;\n            android:text=&quot;Add Friend to your List?&quot;\n            android:textColor=&quot;@color/colorPrimaryText&quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/two&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/title2&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:orientation=&quot;vertical&quot;\n            android:padding=&quot;10dp&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/name_layout&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n\n                &lt;TextView\n                    android:id=&quot;@+id/title_2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:ellipsize=&quot;end&quot;\n                    android:text=&quot;Full Name&quot;\n                    android:textColor=&quot;#444444&quot;\n                    android:textSize=&quot;13sp&quot; /&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/name&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/title_2&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;30dp&quot;\n                    android:background=&quot;@drawable/edittext_line_bg&quot;\n                    android:hint=&quot;Enter Full Name&quot;\n                    android:importantForAutofill=&quot;no&quot;\n                    android:inputType=&quot;textPersonName&quot;\n                    android:maxLines=&quot;1&quot;\n                    android:paddingTop=&quot;10dp&quot;\n                    android:paddingBottom=&quot;10dp&quot;\n                    android:textColor=&quot;@color/colorPrimaryText&quot;\n                    android:textColorHint=&quot;@color/hintcolor&quot;\n                    android:textCursorDrawable=&quot;@drawable/cursor&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:theme=&quot;@style/EditTextTheme&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/error1&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/name&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;3dp&quot;\n                    android:text=&quot;&quot;\n                    android:textColor=&quot;@color/transaction_failed&quot;\n                    android:textSize=&quot;@dimen/small_text_size&quot;\n                    android:visibility=&quot;gone&quot; /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/title_4&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/error1&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:ellipsize=&quot;end&quot;\n                android:text=&quot;Nick Name&quot;\n                android:textColor=&quot;#444444&quot;\n                android:textSize=&quot;13sp&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/nick_name&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/title_4&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginRight=&quot;30dp&quot;\n                android:background=&quot;@drawable/edittext_line_bg&quot;\n                android:digits=&quot;1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz &quot;\n                android:hint=&quot;Enter Nick Name&quot;\n                android:importantForAutofill=&quot;no&quot;\n                android:inputType=&quot;textPersonName|textCapWords&quot;\n                android:maxLines=&quot;1&quot;\n                android:paddingTop=&quot;10dp&quot;\n                android:paddingBottom=&quot;10dp&quot;\n                android:textColor=&quot;@color/colorPrimaryText&quot;\n                android:textColorHint=&quot;@color/hintcolor&quot;\n                android:textCursorDrawable=&quot;@drawable/cursor&quot;\n                android:textSize=&quot;16sp&quot;\n                android:theme=&quot;@style/EditTextTheme&quot; /&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/error1_1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;3dp&quot;\n                android:text=&quot;&quot;\n                android:textColor=&quot;@color/transaction_failed&quot;\n                android:textSize=&quot;@dimen/small_text_size&quot;\n                android:visibility=&quot;gone&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/title_3&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:ellipsize=&quot;end&quot;\n                android:text=&quot;Mobile Number&quot;\n                android:textColor=&quot;#444444&quot;\n                android:textSize=&quot;13sp&quot; /&gt;\n\n\n            &lt;EditText\n                android:id=&quot;@+id/number&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/title_3&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginRight=&quot;30dp&quot;\n                android:background=&quot;@drawable/edittext_line_bg&quot;\n                android:digits=&quot;1234567890&quot;\n                android:hint=&quot;Enter Mobile Number&quot;\n                android:importantForAutofill=&quot;no&quot;\n                android:inputType=&quot;phone&quot;\n                android:maxLength=&quot;10&quot;\n                android:maxLines=&quot;1&quot;\n                android:paddingTop=&quot;10dp&quot;\n                android:paddingBottom=&quot;10dp&quot;\n                android:textColor=&quot;@color/colorPrimaryText&quot;\n                android:textColorHint=&quot;@color/hintcolor&quot;\n                android:textCursorDrawable=&quot;@drawable/cursor&quot;\n                android:textSize=&quot;16sp&quot;\n                android:theme=&quot;@style/EditTextTheme&quot; /&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/error2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:text=&quot;&quot;\n                android:textColor=&quot;@color/transaction_failed&quot;\n                android:textSize=&quot;@dimen/small_text_size&quot;\n                android:visibility=&quot;visible&quot; /&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/main_error&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/two&quot;\n            android:layout_marginLeft=&quot;20dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:text=&quot;&quot;\n            android:textColor=&quot;@color/transaction_failed&quot;\n            android:textSize=&quot;13sp&quot;\n            android:visibility=&quot;gone&quot;\n\n            /&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/layout_1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/main_error&quot;\n\n            android:layout_alignParentRight=&quot;true&quot;&gt;\n\n            &lt;ProgressBar\n                android:id=&quot;@+id/proceed_bar&quot;\n                android:layout_width=&quot;24dp&quot;\n                android:layout_height=&quot;24dp&quot;\n                android:layout_centerInParent=&quot;true&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:visibility=&quot;gone&quot; /&gt;\n\n            &lt;include\n                layout=&quot;@layout/big_button_layout&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_centerVertical=&quot;true&quot;\n                android:layout_margin=&quot;16dp&quot; /&gt;\n\n\n        &lt;/RelativeLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/ScrollView&gt;\n\n&lt;RelativeLayout\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n&lt;/RelativeLayout&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/close&quot;\n    android:layout_width=&quot;36dp&quot;\n    android:layout_height=&quot;36dp&quot;\n    android:layout_alignParentRight=&quot;true&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:background=&quot;@drawable/ripplebg_viewscircle&quot;\n    android:padding=&quot;6dp&quot;\n    app:srcCompat=&quot;@drawable/closesvgnormal&quot;\n\n    /&gt;\n</code></pre>\n\n<p>and my code to show bottom sheet is:</p>\n<pre><code>    @NonNull\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n\n        BottomSheetDialog dialog = (BottomSheetDialog) super.onCreateDialog(savedInstanceState);\n\n        dialog.setOnShowListener(new DialogInterface.OnShowListener() {\n            @Override\n            public void onShow(DialogInterface dialog) {\n                BottomSheetDialog d = (BottomSheetDialog) dialog;\n\n                FrameLayout bottomSheet = (FrameLayout) d.findViewById(com.google.android.material.R.id.design_bottom_sheet);\n                //BottomSheetBehavior.from(bottomSheet).setState(BottomSheetBehavior.STATE_EXPANDED);\n\n\n                if (bottomSheet != null) {\n\n                    final BottomSheetBehavior behaviour = BottomSheetBehavior.from(bottomSheet);\n                    // behaviour.setState(BottomSheetBehavior.STATE_EXPANDED);\n\n                    behaviour.addBottomSheetCallback(new LockableBottomSheetBehavior.BottomSheetCallback() {\n                        @Override\n                        public void onStateChanged(@NonNull View bottomSheet, int newState) {\n\n                            if (newState == CustomBottomSheetBehaviour.STATE_DRAGGING) {\n\n                                behaviour.setState(CustomBottomSheetBehaviour.STATE_EXPANDED);\n\n                            } else if (newState == CustomBottomSheetBehaviour.STATE_EXPANDED) {\n\n                                // setStatusBarColor(&quot;#000000&quot;);\n\n\n                                if (behaviour instanceof LockableBottomSheetBehavior) {\n                                    ((LockableBottomSheetBehavior) behaviour).setLocked(true);\n                                }\n\n                            }\n                        }\n\n                        @Override\n                        public void onSlide(@NonNull View bottomSheet, float slideOffset) {\n\n                            bottomSheet.setOnTouchListener(new View.OnTouchListener() {\n                                @Override\n                                public boolean onTouch(View v, MotionEvent event) {\n                                    int action = event.getAction();\n                                    switch (action) {\n                                        case MotionEvent.ACTION_DOWN:\n                                            return false;\n                                        default:\n                                            return true;\n                                    }\n                                }\n                            });\n\n                        }\n\n                    });\n\n                }\n\n            }\n\n        });\n        if (from == Constants.ADD_FRIEND_CONFIRMATION || from == Constants.DELETE_EXPENSE) {\n\n            dialog.setOnKeyListener(new DialogInterface.OnKeyListener() {\n                @Override\n                public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) {\n                    if (keyCode == KeyEvent.KEYCODE_BACK\n                            &amp;&amp; event.getAction() == KeyEvent.ACTION_UP) {\n                        // TODO do the &quot;back pressed&quot; work here\n\n                        if (from == Constants.ADD_FRIEND_CONFIRMATION) {\n\n                            AddFriendConfirmationFragment addFriendConfirmationFragment = (AddFriendConfirmationFragment) getChildFragmentManager().findFragmentByTag(&quot;addFriendConfirmationFragment&quot;);\n\n                            if (addFriendConfirmationFragment != null) {\n\n                                if (addFriendConfirmationFragment.status == 1) {\n\n                                    Log.d(&quot;upisdk&quot;, &quot;onkeybackpressed cancel ADD_FRIEND_CONFIRMATION&quot;);\n\n                                    dismissDialog();\n                                    return true;\n\n                                }\n                            }\n                        } \n                        return false;\n\n                    }\n                    return false;\n                }\n            });\n\n        }\n        return dialog;\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","antlr"],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701705626,"creation_date":1701686044,"question_id":77598736,"body_markdown":"I m using a jar of generation library by another team that uses antlr-runtime version 3.\r\n\r\nI lately upgraded to Spring Boot 3 and the hqlParser is causing me some troubles where the version conflict between ANTLR (ATN CLASS) is rising always that the expected is 3 but the used is 4 even if I m using the runtime version below 4.10 (which is 4)\r\n\r\nas details here is the console log:\r\n\r\n```\r\nCaused by: java.lang.UnsupportedOperationException: java.io.InvalidClassException: org.antlr.v4.runtime.atn.ATN; Could not deserialize ATN with version 4 (expected 3).\r\n\tat org.antlr.v4.runtime.atn.ATNDeserializer.deserialize(ATNDeserializer.java:146)\r\n\tat org.springframework.data.jpa.repository.query.HqlLexer.&lt;clinit&gt;(HqlLexer.java:1321)\r\n\t... 127 common frames omitted\r\nCaused by: java.io.InvalidClassException: org.antlr.v4.runtime.atn.ATN; Could not deserialize ATN with version 4 (expected 3).\r\n\t... 129 common frames omitted\r\n```\r\n\r\nmy pom.xml is like below\r\n```\r\n\t\t  &lt;dependency&gt;\r\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n&lt;!-- \t\t  &lt;dependency&gt; --&gt;\r\n&lt;!--             &lt;groupId&gt;org.antlr&lt;/groupId&gt; --&gt;\r\n&lt;!--             &lt;artifactId&gt;antlr4&lt;/artifactId&gt; --&gt;\r\n&lt;!--             &lt;version&gt;4.7.2&lt;/version&gt;  --&gt;\r\n&lt;!--         &lt;/dependency&gt; --&gt;\r\n```\r\n\r\nis there a way to force spring to use version 3 of ANTLR?","title":"ATN ANTLR version 4 of hqlLexer is not using my Version 3 declared in POM","body":"<p>I m using a jar of generation library by another team that uses antlr-runtime version 3.</p>\n<p>I lately upgraded to Spring Boot 3 and the hqlParser is causing me some troubles where the version conflict between ANTLR (ATN CLASS) is rising always that the expected is 3 but the used is 4 even if I m using the runtime version below 4.10 (which is 4)</p>\n<p>as details here is the console log:</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: java.io.InvalidClassException: org.antlr.v4.runtime.atn.ATN; Could not deserialize ATN with version 4 (expected 3).\n    at org.antlr.v4.runtime.atn.ATNDeserializer.deserialize(ATNDeserializer.java:146)\n    at org.springframework.data.jpa.repository.query.HqlLexer.&lt;clinit&gt;(HqlLexer.java:1321)\n    ... 127 common frames omitted\nCaused by: java.io.InvalidClassException: org.antlr.v4.runtime.atn.ATN; Could not deserialize ATN with version 4 (expected 3).\n    ... 129 common frames omitted\n</code></pre>\n<p>my pom.xml is like below</p>\n<pre><code>          &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt; \n        &lt;/dependency&gt;\n&lt;!--          &lt;dependency&gt; --&gt;\n&lt;!--             &lt;groupId&gt;org.antlr&lt;/groupId&gt; --&gt;\n&lt;!--             &lt;artifactId&gt;antlr4&lt;/artifactId&gt; --&gt;\n&lt;!--             &lt;version&gt;4.7.2&lt;/version&gt;  --&gt;\n&lt;!--         &lt;/dependency&gt; --&gt;\n</code></pre>\n<p>is there a way to force spring to use version 3 of ANTLR?</p>\n"},{"tags":["java","spring","rest"],"answers":[{"comments":[{"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"score":1,"creation_date":1550777571,"post_id":34890481,"comment_id":96406151,"body_markdown":"If you put the page and size as query parameters it works fine for me.  See my answer.","body":"If you put the page and size as query parameters it works fine for me.  See my answer."}],"tags":[],"owner":{"account_id":1223545,"reputation":843,"user_id":1189662,"accept_rate":25,"display_name":"Lucas Oliveira"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1453258675,"creation_date":1453256820,"answer_id":34890481,"question_id":34889613,"body_markdown":"I Think that is not possible, at least not already provided by the framework. \r\n\r\nThe Spring has a `HandlerMethodArgumentResolver` interface with an implementation called `PageableHandlerMethodArgumentResolver` that retrieves the request param value calling something like HttpServletRequest.getParameter. So, you can bind the Pageable instance passing the parameters &quot;page&quot; and &quot;size&quot; for GET and POST. So, the following code works:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RequestMapping(value=&quot;/test&quot;,method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public String bindPage(Pageable page){\r\n        return page.toString();\r\n    }\r\n\r\n\r\n$ curl -X POST --data &quot;page=10&amp;size=50&quot; http://localhost:8080/test\r\n\r\nReturn:\r\nPage request [number: 10, size 50, sort: null]\r\n\r\n\r\nBut, if you pass an json nothing happens:\r\n\r\n$ curl -X POST --data &quot;{page:10&amp;size:50}&quot; http://localhost:8080/test\r\n\r\nReturn:\r\nPage request [number: 0, size 20, sort: null]\r\n","title":"Passing pageable (spring data) in post request","body":"<p>I Think that is not possible, at least not already provided by the framework. </p>\n\n<p>The Spring has a <code>HandlerMethodArgumentResolver</code> interface with an implementation called <code>PageableHandlerMethodArgumentResolver</code> that retrieves the request param value calling something like HttpServletRequest.getParameter. So, you can bind the Pageable instance passing the parameters \"page\" and \"size\" for GET and POST. So, the following code works:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value=\"/test\",method = RequestMethod.POST)\n@ResponseBody\npublic String bindPage(Pageable page){\n    return page.toString();\n}\n</code></pre>\n\n<p>$ curl -X POST --data \"page=10&amp;size=50\" <a href=\"http://localhost:8080/test\" rel=\"noreferrer\">http://localhost:8080/test</a></p>\n\n<p>Return:\nPage request [number: 10, size 50, sort: null]</p>\n\n<p>But, if you pass an json nothing happens:</p>\n\n<p>$ curl -X POST --data \"{page:10&amp;size:50}\" <a href=\"http://localhost:8080/test\" rel=\"noreferrer\">http://localhost:8080/test</a></p>\n\n<p>Return:\nPage request [number: 0, size 20, sort: null]</p>\n"},{"comments":[{"owner":{"account_id":1223545,"reputation":843,"user_id":1189662,"accept_rate":25,"display_name":"Lucas Oliveira"},"score":0,"creation_date":1453260142,"post_id":34890815,"comment_id":57520113,"body_markdown":"seems a good solution. But, one doubt: Probably he need to expose some other interface for &quot;Pageable&quot; object, because  Pageable is a interface and the framework implementation does not have default constructor or setters for page and size. Dont you think?","body":"seems a good solution. But, one doubt: Probably he need to expose some other interface for &quot;Pageable&quot; object, because  Pageable is a interface and the framework implementation does not have default constructor or setters for page and size. Dont you think?"}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453301931,"creation_date":1453258975,"answer_id":34890815,"question_id":34889613,"body_markdown":"create a class that has the Pageable and QueryDto objects as members.  Then pass JSON in the post body of this new object.\r\n\r\nfor example,\r\n\r\n    public class PageableQueryDto\r\n    {\r\n        private Pageable pageable;\r\n        private QueryDto queryDto;\r\n\r\n        ... getters and setters.\r\n    }\r\n\r\n**Edit**\r\nAs noted in the comment below, you may need to implement the Pageable interface.\r\nThe result could be something like this:\r\n\r\n    public class PageableQueryDto implements Pageable\r\n    {\r\n        private Pageable pageable;\r\n        private QueryDto queryDto;\r\n\r\n        ... getters and setters.\r\n\r\n        ... Implement the Pageable interface.  proxy all calls to the\r\n        ... contained Pageable object.\r\n\r\n        ... for example\r\n        public void blam()\r\n        {\r\n            pageable.blam();\r\n        }\r\n\r\n        ... or maybe\r\n        public void blam()\r\n        {\r\n            if (pageable != null)\r\n            {\r\n                pageable.blam();\r\n            }\r\n            else\r\n            {\r\n                ... do something.\r\n            }\r\n    }","title":"Passing pageable (spring data) in post request","body":"<p>create a class that has the Pageable and QueryDto objects as members.  Then pass JSON in the post body of this new object.</p>\n\n<p>for example,</p>\n\n<pre><code>public class PageableQueryDto\n{\n    private Pageable pageable;\n    private QueryDto queryDto;\n\n    ... getters and setters.\n}\n</code></pre>\n\n<p><strong>Edit</strong>\nAs noted in the comment below, you may need to implement the Pageable interface.\nThe result could be something like this:</p>\n\n<pre><code>public class PageableQueryDto implements Pageable\n{\n    private Pageable pageable;\n    private QueryDto queryDto;\n\n    ... getters and setters.\n\n    ... Implement the Pageable interface.  proxy all calls to the\n    ... contained Pageable object.\n\n    ... for example\n    public void blam()\n    {\n        pageable.blam();\n    }\n\n    ... or maybe\n    public void blam()\n    {\n        if (pageable != null)\n        {\n            pageable.blam();\n        }\n        else\n        {\n            ... do something.\n        }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1438404,"reputation":492,"user_id":1359274,"accept_rate":100,"display_name":"spetz83"},"score":0,"creation_date":1606244096,"post_id":54814803,"comment_id":114903610,"body_markdown":"This answer works perfectly. In my case I was doing a GET  request with a RequestBody and pageable. Supplying page and size as query params  allowed for the request to go through successfully.","body":"This answer works perfectly. In my case I was doing a GET  request with a RequestBody and pageable. Supplying page and size as query params  allowed for the request to go through successfully."}],"tags":[],"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550778772,"creation_date":1550777458,"answer_id":54814803,"question_id":34889613,"body_markdown":"It seems to work just fine for me if you continue to provide them as query parameters on the URL, and still post data in.\r\n\r\n    POST http://localhost:8080/xyz?page=2&amp;size=50\r\n    Content-Type: application/json\r\n    {\r\n      &quot;filterABC&quot;: &quot;data&quot;\r\n    }\r\n\r\nSpring seems to translate the page, size, sort etc. into the Pageable provided to the method on the way in.","title":"Passing pageable (spring data) in post request","body":"<p>It seems to work just fine for me if you continue to provide them as query parameters on the URL, and still post data in.</p>\n\n<pre><code>POST http://localhost:8080/xyz?page=2&amp;size=50\nContent-Type: application/json\n{\n  \"filterABC\": \"data\"\n}\n</code></pre>\n\n<p>Spring seems to translate the page, size, sort etc. into the Pageable provided to the method on the way in.</p>\n"},{"comments":[{"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"score":0,"creation_date":1591786784,"post_id":56685621,"comment_id":110186483,"body_markdown":"how can we send these params from ajax javascript code .","body":"how can we send these params from ajax javascript code ."},{"owner":{"account_id":5505924,"reputation":956,"user_id":4373784,"accept_rate":62,"display_name":"Szymon Roziewski"},"score":0,"creation_date":1699536591,"post_id":56685621,"comment_id":136546251,"body_markdown":"In my case, number parameter does not work, I have to pass page param.","body":"In my case, number parameter does not work, I have to pass page param."}],"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1674139754,"creation_date":1561032325,"answer_id":56685621,"question_id":34889613,"body_markdown":"Spring Post method\r\n\r\n    @RequestMapping(value = &quot;/quickSearchAction&quot;, method = RequestMethod.POST)\r\n\tpublic @ResponseBody SearchList quickSearchAction(@RequestParam(value=&quot;userId&quot;) Long userId, \r\n                                              Pageable pageable) throws Exception {\r\n\t\treturn searchService.quickSearchAction(userId, pageable);\r\n\t}\r\n\r\nPostman Example:\r\n\r\n    http://localhost:8080/api/actionSearch/quickSearchAction?\r\n    userId=4451&amp;number=0&amp;size=20&amp;sort=titleListId,DESC\r\n\r\nIn above POST Pageable is used for Sorting and Pagination in Spring RESTful service. Use below syntax at URL.\r\n\r\nnumber `0`, size `20`, Sort by field `titleListId` and direction `DESC`\r\n\r\nAll passing parameter internally recognizes by **Pageable** as Sorting / Pagination parameters as below\r\n\r\n    number - Page number\r\n\r\n    size - Page Size\r\n\r\n    sort - sort by(Order by)\r\n\r\n    direction - ASC / DESC\r\n\r\nUpdated: \r\nAngular Example: \r\n**CustomerComponent.ts** file\r\n\r\n    let resultDesignations = null;\r\n    let fieldName = &quot;designationId&quot;;\r\n\r\n    this.customerService.getDesignations(fieldName, &quot;DESC&quot;).subscribe(\r\n      (data) =&gt; {\r\n        resultDesignations = data;\r\n      },\r\n      (err) =&gt; {\r\n        this.error(err.error);\r\n      },\r\n      () =&gt; {\r\n        this.designations = resultDesignations;\r\n      }\r\n    );//END getDesignations`\r\n\r\n**CustomerService.ts**\r\n\r\n    getDesignations(fieldName: string, sortOrder: string): Observable&lt;any&gt; {\r\n        return this.httpClient.get(&quot;http://localhost:9876/api/getDesignations&quot;, {\r\n          params: {\r\n            sort: fieldName,sortOrder\r\n          }\r\n        });\r\n      }","title":"Passing pageable (spring data) in post request","body":"<p>Spring Post method</p>\n<pre><code>@RequestMapping(value = &quot;/quickSearchAction&quot;, method = RequestMethod.POST)\npublic @ResponseBody SearchList quickSearchAction(@RequestParam(value=&quot;userId&quot;) Long userId, \n                                          Pageable pageable) throws Exception {\n    return searchService.quickSearchAction(userId, pageable);\n}\n</code></pre>\n<p>Postman Example:</p>\n<pre><code>http://localhost:8080/api/actionSearch/quickSearchAction?\nuserId=4451&amp;number=0&amp;size=20&amp;sort=titleListId,DESC\n</code></pre>\n<p>In above POST Pageable is used for Sorting and Pagination in Spring RESTful service. Use below syntax at URL.</p>\n<p>number <code>0</code>, size <code>20</code>, Sort by field <code>titleListId</code> and direction <code>DESC</code></p>\n<p>All passing parameter internally recognizes by <strong>Pageable</strong> as Sorting / Pagination parameters as below</p>\n<pre><code>number - Page number\n\nsize - Page Size\n\nsort - sort by(Order by)\n\ndirection - ASC / DESC\n</code></pre>\n<p>Updated:\nAngular Example:\n<strong>CustomerComponent.ts</strong> file</p>\n<pre><code>let resultDesignations = null;\nlet fieldName = &quot;designationId&quot;;\n\nthis.customerService.getDesignations(fieldName, &quot;DESC&quot;).subscribe(\n  (data) =&gt; {\n    resultDesignations = data;\n  },\n  (err) =&gt; {\n    this.error(err.error);\n  },\n  () =&gt; {\n    this.designations = resultDesignations;\n  }\n);//END getDesignations`\n</code></pre>\n<p><strong>CustomerService.ts</strong></p>\n<pre><code>getDesignations(fieldName: string, sortOrder: string): Observable&lt;any&gt; {\n    return this.httpClient.get(&quot;http://localhost:9876/api/getDesignations&quot;, {\n      params: {\n        sort: fieldName,sortOrder\n      }\n    });\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7010028,"reputation":99,"user_id":5373257,"display_name":"ChandraPrakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569775217,"creation_date":1569775217,"answer_id":58157211,"question_id":34889613,"body_markdown":"sample example\r\n\r\n    @RequestMapping(path = &quot;/employees&quot;,method = RequestMethod.POST,consumes = &quot;application/json&quot;,produces = &quot;application/json&quot;)\r\n    ResponseEntity&lt;Object&gt; getEmployeesByPage(@RequestBody PageDTO page){\r\n        //creating a pagable object with pagenumber and size of the page\r\n        Pageable pageable= PageRequest.of(page.getPage(),page.getSize());\r\n        return ResponseEntity.status(HttpStatus.ACCEPTED).body(employeeRegistryService.getEmployeesByPage(pageable));\r\n    }\r\n\r\nIn your case try to add pagination variables in QueryDTO \r\ncreate a Pageable object and pass it to service \r\n\r\nI think that will solve :)","title":"Passing pageable (spring data) in post request","body":"<p>sample example</p>\n\n<pre><code>@RequestMapping(path = \"/employees\",method = RequestMethod.POST,consumes = \"application/json\",produces = \"application/json\")\nResponseEntity&lt;Object&gt; getEmployeesByPage(@RequestBody PageDTO page){\n    //creating a pagable object with pagenumber and size of the page\n    Pageable pageable= PageRequest.of(page.getPage(),page.getSize());\n    return ResponseEntity.status(HttpStatus.ACCEPTED).body(employeeRegistryService.getEmployeesByPage(pageable));\n}\n</code></pre>\n\n<p>In your case try to add pagination variables in QueryDTO \ncreate a Pageable object and pass it to service </p>\n\n<p>I think that will solve :)</p>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701705567,"creation_date":1701705567,"answer_id":77600853,"question_id":34889613,"body_markdown":"**An updated answer for spring boot:**\r\n \r\n`Pageable` supports the following url params:\r\n- page - page number, where 0 is the first page\r\n- size - page size\r\n- sort - sort by field\r\n- direction - ASC/DESC\r\n\r\nE.g. \r\n\r\nSample GET URL:\r\n\r\n&gt; localhost:8080/users?page=2&amp;size=10&amp;sort=createdAt,DESC\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public ResponseEntity&lt;?&gt; getUsers(Pageable pageable) {\r\n    \ttry {\r\n    \t\treturn ResponseEntity.status(HttpStatus.OK).body(userService.getUsers(pageable));\r\n    \t} catch (Exception e) {\r\n    \t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\r\n    \t}\r\n    }","title":"Passing pageable (spring data) in post request","body":"<p><strong>An updated answer for spring boot:</strong></p>\n<p><code>Pageable</code> supports the following url params:</p>\n<ul>\n<li>page - page number, where 0 is the first page</li>\n<li>size - page size</li>\n<li>sort - sort by field</li>\n<li>direction - ASC/DESC</li>\n</ul>\n<p>E.g.</p>\n<p>Sample GET URL:</p>\n<blockquote>\n<p>localhost:8080/users?page=2&amp;size=10&amp;sort=createdAt,DESC</p>\n</blockquote>\n<pre><code>@GetMapping(&quot;/users&quot;)\npublic ResponseEntity&lt;?&gt; getUsers(Pageable pageable) {\n    try {\n        return ResponseEntity.status(HttpStatus.OK).body(userService.getUsers(pageable));\n    } catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1644891,"reputation":321,"user_id":1516593,"display_name":"Raja Krishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46247,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":6,"score":15,"last_activity_date":1701705567,"creation_date":1453250848,"question_id":34889613,"body_markdown":"I have a rest API server which has the following API.\r\nI have some other APIs, where i get pageable from `GET` requests. Here, I need to make a post request for passing the queryDto. So, I cannot pass the  `page=0?size=20` etc as url parameters. \r\n\r\nI would like to know how to pass pageable as JSON object to a `POST` request\r\n\r\n\t@RequestMapping(value = &quot;/internal/search&quot;, method = RequestMethod.POST)\r\n\t@ResponseStatus(HttpStatus.OK)\r\n\t@ResponseBody\r\n\tpublic ResponseList&lt;Object&gt; findObjects(@RequestBody QueryDto queryDto, Pageable pageable) {\r\n\t\tif (queryDto.isEmpty()) {\r\n\t\t\tthrow new BadRequestException();\r\n\t\t}\r\n\r\n\t\treturn someService.findObjectsByQuery(queryDto, pageable);\r\n\t}","title":"Passing pageable (spring data) in post request","body":"<p>I have a rest API server which has the following API.\nI have some other APIs, where i get pageable from <code>GET</code> requests. Here, I need to make a post request for passing the queryDto. So, I cannot pass the  <code>page=0?size=20</code> etc as url parameters. </p>\n\n<p>I would like to know how to pass pageable as JSON object to a <code>POST</code> request</p>\n\n<pre><code>@RequestMapping(value = \"/internal/search\", method = RequestMethod.POST)\n@ResponseStatus(HttpStatus.OK)\n@ResponseBody\npublic ResponseList&lt;Object&gt; findObjects(@RequestBody QueryDto queryDto, Pageable pageable) {\n    if (queryDto.isEmpty()) {\n        throw new BadRequestException();\n    }\n\n    return someService.findObjectsByQuery(queryDto, pageable);\n}\n</code></pre>\n"},{"tags":["java","bufferedwriter"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701706376,"post_id":77600851,"comment_id":136806042,"body_markdown":"You tried `replaceAll(&quot;\\\\n&quot;, &quot;\\n&quot;)` ? You need to do it for the OS you&#39;re on though, so `recipes = recipes.replace(&quot;\\\\n&quot;, System.lineSeparator());` would be better","body":"You tried <code>replaceAll(&quot;\\\\n&quot;, &quot;\\n&quot;)</code> ? You need to do it for the OS you&#39;re on though, so <code>recipes = recipes.replace(&quot;\\\\n&quot;, System.lineSeparator());</code> would be better"},{"owner":{"account_id":29845737,"reputation":1,"user_id":22872849,"display_name":"P.noulis"},"score":0,"creation_date":1701706810,"post_id":77600851,"comment_id":136806141,"body_markdown":"Yeah you are correct! I used that and then played around with some other things and I got it to work thanks!","body":"Yeah you are correct! I used that and then played around with some other things and I got it to work thanks!"}],"owner":{"account_id":29845737,"reputation":1,"user_id":22872849,"display_name":"P.noulis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701705556,"creation_date":1701705556,"question_id":77600851,"body_markdown":"I&#39;m trying to write a large String that I have into a txt file, in said string there are a lot of \\\\n and I&#39;d like that to register as a new line in my txt file. I&#39;ve tried to split the string whenever there is such a character in order to write it to the txt file as multiple lines but it didn&#39;t work. I&#39;ve tried using String.replaceAll((\\\\n),(\\\\r\\\\n)), but it did nothing. I&#39;ve also tried String.split(\\\\n), but again it did nothing. Am I doing something wrong? Is there another way of doing this?\r\n\r\n```\r\nrecipes = recipes.replaceAll(&quot;(\\n)&quot;, &quot;(\\r\\n)&quot;);\r\n```\r\n\r\nI&#39;ve also tried\r\n\r\n```\r\ntry (BufferedWriter bw = new BufferedWriter(new FileWriter(path))) {\r\n                    // *Split the string in lines\r\n                    String[] lines = recipes.split(&quot;\\n&quot;);\r\n                    System.out.println(&quot;Split text into lines: &quot; + lines.length);\r\n                    for (String line : lines) {\r\n                        bw.write(line);\r\n                        bw.newLine(); // * Add a new line\r\n                    }\r\n\r\n                }\r\n```\r\n\r\nbut I&#39;ve had no luck.\r\n\r\nAny help would be massively appreciated","title":"How to split a string in java when there is a new line character?","body":"<p>I'm trying to write a large String that I have into a txt file, in said string there are a lot of \\n and I'd like that to register as a new line in my txt file. I've tried to split the string whenever there is such a character in order to write it to the txt file as multiple lines but it didn't work. I've tried using String.replaceAll((\\n),(\\r\\n)), but it did nothing. I've also tried String.split(\\n), but again it did nothing. Am I doing something wrong? Is there another way of doing this?</p>\n<pre><code>recipes = recipes.replaceAll(&quot;(\\n)&quot;, &quot;(\\r\\n)&quot;);\n</code></pre>\n<p>I've also tried</p>\n<pre><code>try (BufferedWriter bw = new BufferedWriter(new FileWriter(path))) {\n                    // *Split the string in lines\n                    String[] lines = recipes.split(&quot;\\n&quot;);\n                    System.out.println(&quot;Split text into lines: &quot; + lines.length);\n                    for (String line : lines) {\n                        bw.write(line);\n                        bw.newLine(); // * Add a new line\n                    }\n\n                }\n</code></pre>\n<p>but I've had no luck.</p>\n<p>Any help would be massively appreciated</p>\n"},{"tags":["java","database","amazon-web-services","amazon-dynamodb","nosql"],"comments":[{"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"score":0,"creation_date":1701701616,"post_id":77599506,"comment_id":136805051,"body_markdown":"Does this answer your question? [dynamoDB / aws-amplify - Query with &#39;limit&#39; + &#39;filter&#39; - returns half empty or completely empty pages and not full with items with &#39;limit&#39; amount](https://stackoverflow.com/questions/71816380/dynamodb-aws-amplify-query-with-limit-filter-returns-half-empty-or-c)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71816380/dynamodb-aws-amplify-query-with-limit-filter-returns-half-empty-or-c\">dynamoDB / aws-amplify - Query with &#39;limit&#39; + &#39;filter&#39; - returns half empty or completely empty pages and not full with items with &#39;limit&#39; amount</a>"},{"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"score":0,"creation_date":1701701712,"post_id":77599506,"comment_id":136805071,"body_markdown":"note DDB works the same way regardless of client","body":"note DDB works the same way regardless of client"}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701704711,"creation_date":1701704711,"answer_id":77600760,"question_id":77599506,"body_markdown":"In DynamoDB you cannot guarantee the number of items to be returned while filtering on non-key attributes. If your aim is to guarantee a set number of items you have two choices:\r\n\r\n1. Make sure your items match your KeyConditionExpression so that you can read them without filtering which will return exactly what you ask. \r\n\r\n2. Return more than you require, then limit the results on the client side to match your needs. \r\n\r\nAs for Scan, that will not fit your use case either, as all the APIs work the same way with filtering, filter is applied after the limit. ","title":"DynamoDB filtering before pagination","body":"<p>In DynamoDB you cannot guarantee the number of items to be returned while filtering on non-key attributes. If your aim is to guarantee a set number of items you have two choices:</p>\n<ol>\n<li><p>Make sure your items match your KeyConditionExpression so that you can read them without filtering which will return exactly what you ask.</p>\n</li>\n<li><p>Return more than you require, then limit the results on the client side to match your needs.</p>\n</li>\n</ol>\n<p>As for Scan, that will not fit your use case either, as all the APIs work the same way with filtering, filter is applied after the limit.</p>\n"}],"owner":{"account_id":27353008,"reputation":1,"user_id":20861857,"display_name":"MaxDudkov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701704711,"creation_date":1701693560,"question_id":77599506,"body_markdown":"I am writing a request to DynamoDB in which I need to guarantee the number of items in the page. I am using java, awssdk. This is what my request looks like:\r\n\r\n```\r\nval keyEqual =\r\n                sortBeginsWith(\r\n                        key -&gt;\r\n                                key.partitionValue(source.getParrentEntityId())\r\n                                        .sortValue(SOME_PREFIX.getValue() + &quot;#&quot;));\r\n        val requestBuilder =\r\n                QueryEnhancedRequest.builder()\r\n                        .queryConditional(keyEqual)\r\n                        .limit(source.getLimit())\r\n                        .exclusiveStartKey(startKey);\r\n        if (nonNull(source.getStatus())) {\r\n            requestBuilder.filterExpression(\r\n                    Expression.builder()\r\n                            .expression(&quot;#status = :status&quot;)\r\n                            .putExpressionName(&quot;#status&quot;, &quot;st&quot;)\r\n                            .putExpressionValue(\r\n                                    &quot;:status&quot;,\r\n                                    AttributeValue.builder()\r\n                                            .s(source.getStatus().toString())\r\n                                            .build())\r\n                            .build());\r\n        }\r\n        val pages = dynamoDbTable.query(requestBuilder.build());\r\n```\r\n\r\nI know that filtering is applied after pagination and tried to use scan instead of query, but I did not find information on how to add my sk and pk condition to the scan query. Can someone tell me how to solve my problem?","title":"DynamoDB filtering before pagination","body":"<p>I am writing a request to DynamoDB in which I need to guarantee the number of items in the page. I am using java, awssdk. This is what my request looks like:</p>\n<pre><code>val keyEqual =\n                sortBeginsWith(\n                        key -&gt;\n                                key.partitionValue(source.getParrentEntityId())\n                                        .sortValue(SOME_PREFIX.getValue() + &quot;#&quot;));\n        val requestBuilder =\n                QueryEnhancedRequest.builder()\n                        .queryConditional(keyEqual)\n                        .limit(source.getLimit())\n                        .exclusiveStartKey(startKey);\n        if (nonNull(source.getStatus())) {\n            requestBuilder.filterExpression(\n                    Expression.builder()\n                            .expression(&quot;#status = :status&quot;)\n                            .putExpressionName(&quot;#status&quot;, &quot;st&quot;)\n                            .putExpressionValue(\n                                    &quot;:status&quot;,\n                                    AttributeValue.builder()\n                                            .s(source.getStatus().toString())\n                                            .build())\n                            .build());\n        }\n        val pages = dynamoDbTable.query(requestBuilder.build());\n</code></pre>\n<p>I know that filtering is applied after pagination and tried to use scan instead of query, but I did not find information on how to add my sk and pk condition to the scan query. Can someone tell me how to solve my problem?</p>\n"},{"tags":["java","android","kotlin","zebra-printers","zebra"],"comments":[{"owner":{"account_id":6076103,"reputation":1381,"user_id":4743430,"display_name":"Mark Warren"},"score":0,"creation_date":1701723976,"post_id":77600748,"comment_id":136809070,"body_markdown":"Take a look at the `~HS` command.  You will have to poll the printer using the command.  Its return values can be parsed to show current printer status.  Specifically, the `uuuuuuuu - labels remaining in batch` field will go to zero when the label has been printed.    You can also use `~HS` to determine if it is &quot;safe&quot; to send a print job by inspecting the error flags like ribbon out, paper out, head up, etc.","body":"Take a look at the <code>~HS</code> command.  You will have to poll the printer using the command.  Its return values can be parsed to show current printer status.  Specifically, the <code>uuuuuuuu - labels remaining in batch</code> field will go to zero when the label has been printed.    You can also use <code>~HS</code> to determine if it is &quot;safe&quot; to send a print job by inspecting the error flags like ribbon out, paper out, head up, etc."},{"owner":{"account_id":30064079,"reputation":1,"user_id":23039595,"display_name":"Camilo Romero"},"score":0,"creation_date":1701727061,"post_id":77600748,"comment_id":136809471,"body_markdown":"I managed to make the HS command work, thanks for that. Now I have another question about the sendAndWaitForResponse method: what value should I pass for the terminator parameter? When I use &quot;&quot;, the printer just waits until the defined timeout.","body":"I managed to make the HS command work, thanks for that. Now I have another question about the sendAndWaitForResponse method: what value should I pass for the terminator parameter? When I use &quot;&quot;, the printer just waits until the defined timeout."},{"owner":{"account_id":6076103,"reputation":1381,"user_id":4743430,"display_name":"Mark Warren"},"score":0,"creation_date":1701733365,"post_id":77600748,"comment_id":136810087,"body_markdown":"Unfortunately, the `~HS` reply does not have a unique terminator,  It is simply three lines of text, with each line prefixed with `\\x02` and ending with `\\x03\\r\\n`.  Not familiar with the android sdk, but can you send the command, then receive the three lines individually?  Most network libraries have &quot;sendline&quot; and &quot;recvline&quot; style interfaces.","body":"Unfortunately, the <code>~HS</code> reply does not have a unique terminator,  It is simply three lines of text, with each line prefixed with <code>\\x02</code> and ending with <code>\\x03\\r\\n</code>.  Not familiar with the android sdk, but can you send the command, then receive the three lines individually?  Most network libraries have &quot;sendline&quot; and &quot;recvline&quot; style interfaces."}],"owner":{"account_id":30064079,"reputation":1,"user_id":23039595,"display_name":"Camilo Romero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701704582,"creation_date":1701704582,"question_id":77600748,"body_markdown":"I&#39;m currently developing an application with the Zebra Android SDK and facing a challenge in determining when a print job has completed on a Zebra printer. I am using the latest version of the Zebra Android SDK.\r\n\r\nI attempted to use the sendAndWaitForResponse method in conjunction with the ^HV ZPL command, hoping to receive a &quot;finished&quot; response or similar indication when the print job completes.\r\n\r\nHowever, I didn&#39;t receive the expected response. The response was always empty or not indicative of the print job&#39;s completion. I suspect this might be due to the specifications of my printer, which operates based on the guidelines provided in Volume One of the ZPL manual. It&#39;s possible that the ^HV command or the way I&#39;m using it isn&#39;t compatible or sufficient for detecting the end of a print job in my specific scenario.","title":"How to Determine When a Print Job Completes Using Zebra Android SDK","body":"<p>I'm currently developing an application with the Zebra Android SDK and facing a challenge in determining when a print job has completed on a Zebra printer. I am using the latest version of the Zebra Android SDK.</p>\n<p>I attempted to use the sendAndWaitForResponse method in conjunction with the ^HV ZPL command, hoping to receive a &quot;finished&quot; response or similar indication when the print job completes.</p>\n<p>However, I didn't receive the expected response. The response was always empty or not indicative of the print job's completion. I suspect this might be due to the specifications of my printer, which operates based on the guidelines provided in Volume One of the ZPL manual. It's possible that the ^HV command or the way I'm using it isn't compatible or sufficient for detecting the end of a print job in my specific scenario.</p>\n"},{"tags":["java","oracle","jdbi"],"owner":{"account_id":1908379,"reputation":1063,"user_id":1722791,"accept_rate":56,"display_name":"Mewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701704529,"creation_date":1701704529,"question_id":77600743,"body_markdown":"I&#39;m trying to call, through JDBI, a Oracle stored procedure with a input parameter and a custom output parameter.\r\n```lang-sql\r\nPROCEDURE customProcedure(in_val IN NUMBER, out_val OUT CUSTOM_OBJECT)\r\n```\r\n(where CUSTOM_OBJECT) is defined as\r\n```lang-sql\r\nCREATE TYPE CUSTOM_OBJECT AS OBJECT\r\n(\r\n    a NUMBER,\r\n    b VARCHAR,\r\n    ....\r\n)\r\n```\r\n\r\nThe code is\r\n```lang-java\r\n    @SqlCall(&quot;call customProcedure(:input,:result)&quot;)\r\n    @OutParameter(name=&quot;result&quot;, sqlType=Types.STRUCT)\r\n    OutParameters callProcedure(@Bind(&quot;input&quot;) Long input);\r\n```\r\n\r\nbut I get only a `java.sql.SQLException: Invalid argument(s) in call` during the out parameter binding phase.\r\n\r\nDebugging the `OracleCallableStatement` I arrived in a `registerOutParameterInternal` method, where in a switch case with my specified type (STRUCT) if a variable is null, an exception is thrown, but this variable arrives internally from \r\n```lang-java\r\nthis.registerOutParameterInternal(var1, var2, var3, var4, **(String)null**);\r\n```\r\n\r\nI tried different out types, but I get either a `java.sql.SQLException: Invalid column type: [int value from the chosen sqlType]`, or a type mismatch from the stored procedure (`oracle.jdbc.OracleDatabaseException: ORA-06553: PLS-306: wrong number or types of arguments in call to &#39;customProcedure&#39;`)\r\n.\r\n\r\nI tried also to call the query manually (using the `jdbi.handle.createCall(&quot;...&quot;).registerOutParameter(...)`) without differences.\r\n\r\nHow can I call a stored procedure with a custom output type?\r\n\r\nThanks in advance","title":"JDBI + oracle stored procedure + out parameter as object","body":"<p>I'm trying to call, through JDBI, a Oracle stored procedure with a input parameter and a custom output parameter.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>PROCEDURE customProcedure(in_val IN NUMBER, out_val OUT CUSTOM_OBJECT)\n</code></pre>\n<p>(where CUSTOM_OBJECT) is defined as</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TYPE CUSTOM_OBJECT AS OBJECT\n(\n    a NUMBER,\n    b VARCHAR,\n    ....\n)\n</code></pre>\n<p>The code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SqlCall(&quot;call customProcedure(:input,:result)&quot;)\n    @OutParameter(name=&quot;result&quot;, sqlType=Types.STRUCT)\n    OutParameters callProcedure(@Bind(&quot;input&quot;) Long input);\n</code></pre>\n<p>but I get only a <code>java.sql.SQLException: Invalid argument(s) in call</code> during the out parameter binding phase.</p>\n<p>Debugging the <code>OracleCallableStatement</code> I arrived in a <code>registerOutParameterInternal</code> method, where in a switch case with my specified type (STRUCT) if a variable is null, an exception is thrown, but this variable arrives internally from</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.registerOutParameterInternal(var1, var2, var3, var4, **(String)null**);\n</code></pre>\n<p>I tried different out types, but I get either a <code>java.sql.SQLException: Invalid column type: [int value from the chosen sqlType]</code>, or a type mismatch from the stored procedure (<code>oracle.jdbc.OracleDatabaseException: ORA-06553: PLS-306: wrong number or types of arguments in call to 'customProcedure'</code>)\n.</p>\n<p>I tried also to call the query manually (using the <code>jdbi.handle.createCall(&quot;...&quot;).registerOutParameter(...)</code>) without differences.</p>\n<p>How can I call a stored procedure with a custom output type?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","maven","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":19118254,"reputation":65,"user_id":13962702,"display_name":"Oualid EL HASNAOUI"},"score":1,"creation_date":1650458786,"post_id":70007017,"comment_id":127120458,"body_markdown":"Hello @Vikrant Korde, \n\nI am facing the exact same issue, were you able to fix this issue? \n\nThanks, Oualid.","body":"Hello @Vikrant Korde,   I am facing the exact same issue, were you able to fix this issue?   Thanks, Oualid."},{"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"score":0,"creation_date":1701249883,"post_id":70007017,"comment_id":136751149,"body_markdown":"I had same issue, and [Baeldung](https://www.baeldung.com/maven-jacoco-multi-module-project) saved me.","body":"I had same issue, and <a href=\"https://www.baeldung.com/maven-jacoco-multi-module-project\" rel=\"nofollow noreferrer\">Baeldung</a> saved me."}],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701294832,"creation_date":1701294832,"answer_id":77574686,"question_id":70007017,"body_markdown":"The `&lt;destFile&gt;` parameter you are setting in the parent is not the report XML file, it is [the agent&#39;s execution file](https://www.jacoco.org/jacoco/trunk/doc/prepare-agent-mojo.html#destFile), it&#39;s always a binary file.\r\n\r\nTo make it do what you want:\r\n\r\n1. Remove the `&lt;destFile&gt;` configuration.\r\n1. Ensure your report module&#39;s pom has other modules as dependencies.\r\n1. Run `mvn clean verify -Pjacoco`\r\n\r\nThen `&lt;report-module-dir&gt;/target/site/jacoco-aggregate/jacoco.xml` will contain your aggregated XML report.","title":"Jacoco aggregate report is generating Exec file instead of XML","body":"<p>The <code>&lt;destFile&gt;</code> parameter you are setting in the parent is not the report XML file, it is <a href=\"https://www.jacoco.org/jacoco/trunk/doc/prepare-agent-mojo.html#destFile\" rel=\"nofollow noreferrer\">the agent's execution file</a>, it's always a binary file.</p>\n<p>To make it do what you want:</p>\n<ol>\n<li>Remove the <code>&lt;destFile&gt;</code> configuration.</li>\n<li>Ensure your report module's pom has other modules as dependencies.</li>\n<li>Run <code>mvn clean verify -Pjacoco</code></li>\n</ol>\n<p>Then <code>&lt;report-module-dir&gt;/target/site/jacoco-aggregate/jacoco.xml</code> will contain your aggregated XML report.</p>\n"},{"tags":[],"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701704509,"creation_date":1701704509,"answer_id":77600740,"question_id":70007017,"body_markdown":"I finally succeed with help of [Baeldung][1], thanks to them!\r\nIt was mainly configuration part where I struggled.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.11&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;verify&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;dataFileIncludes&gt;\r\n                        &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\r\n                    &lt;/dataFileIncludes&gt;\r\n                    &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate/&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n&gt; For a maven multi-modules project, change&lt;br&gt;\r\n\r\n`outputDirectory` = `${maven.multiModuleProjectDirectory}/target/site/jacoco-aggregate/`\r\n\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/maven-jacoco-multi-module-project\r\n\r\n","title":"Jacoco aggregate report is generating Exec file instead of XML","body":"<p>I finally succeed with help of <a href=\"https://www.baeldung.com/maven-jacoco-multi-module-project\" rel=\"nofollow noreferrer\">Baeldung</a>, thanks to them!\nIt was mainly configuration part where I struggled.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.11&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFileIncludes&gt;\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\n                &lt;/dataFileIncludes&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate/&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<blockquote>\n<p>For a maven multi-modules project, change<br></p>\n</blockquote>\n<p><code>outputDirectory</code> = <code>${maven.multiModuleProjectDirectory}/target/site/jacoco-aggregate/</code></p>\n"}],"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2037,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1701704509,"creation_date":1637162248,"question_id":70007017,"body_markdown":"We have a multi-module maven project. We are using java8.\r\n\r\n    -Parent\r\n    -- Child 1\r\n    -- Child 2\r\n    -- Coverage-Report\r\n\r\nAll projects have unit test cases, those all are working good and have more than 85% of coverage. Parent pom.xml file has jacoco-profile and jacoco-maven-plugin plugin  as below\r\n\r\n          &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;destFile&gt;${sonar.coverage.jacoco.xmlReportPaths}&lt;/destFile&gt;\r\n                    &lt;append&gt;true&lt;/append&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nIn Coverage-Report module, there is only pom.xml which is for aggregating report. It has profile as jacoco as below\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;jacoco&lt;/id&gt;\r\n            &lt;activation/&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;report-aggregate&lt;/id&gt;\r\n                                &lt;phase&gt;verify&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\nTo generate the report, we are using below command\r\n\r\n    mvn clean verify -Pjacoco\r\n\r\nWe do see the file getting generated which is mentioned in parent pom.xml \r\n\r\n    &lt;sonar.coverage.jacoco.xmlReportPaths&gt;${maven.multiModuleProjectDirectory}/ocapi-promotion-service-coverage-report/target/site/jacoco-aggregate/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n        \r\nHowever this file, jacoco.xml, is not proper XML. It has some encoded character as below. (few lines from that file)\r\n\r\n    ��ca6191af5ae0-1a24a201}-�Sy}-ƌ|pW�\\����;org/springframework/context/annotation/BeanAnnotationHelper�w~�j�zI�ZMorg/springframework/boot/autoconfigure/condition/FilteringSpringBootCondition������e֢+org/sp\r\n\r\nOn jenkins we see below error\r\n\r\n    Caused by: java.nio.charset.MalformedInputException: Input length = 1\r\n\r\nI have followed an article from sonar source community https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151 which gives some steps. But I am not able to generate XML file. Please help. ","title":"Jacoco aggregate report is generating Exec file instead of XML","body":"<p>We have a multi-module maven project. We are using java8.</p>\n<pre><code>-Parent\n-- Child 1\n-- Child 2\n-- Coverage-Report\n</code></pre>\n<p>All projects have unit test cases, those all are working good and have more than 85% of coverage. Parent pom.xml file has jacoco-profile and jacoco-maven-plugin plugin  as below</p>\n<pre><code>      &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;destFile&gt;${sonar.coverage.jacoco.xmlReportPaths}&lt;/destFile&gt;\n                &lt;append&gt;true&lt;/append&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;prepare-agent&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>In Coverage-Report module, there is only pom.xml which is for aggregating report. It has profile as jacoco as below</p>\n<pre><code>    &lt;profile&gt;\n        &lt;id&gt;jacoco&lt;/id&gt;\n        &lt;activation/&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;report-aggregate&lt;/id&gt;\n                            &lt;phase&gt;verify&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n<p>To generate the report, we are using below command</p>\n<pre><code>mvn clean verify -Pjacoco\n</code></pre>\n<p>We do see the file getting generated which is mentioned in parent pom.xml</p>\n<pre><code>&lt;sonar.coverage.jacoco.xmlReportPaths&gt;${maven.multiModuleProjectDirectory}/ocapi-promotion-service-coverage-report/target/site/jacoco-aggregate/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n    \n</code></pre>\n<p>However this file, jacoco.xml, is not proper XML. It has some encoded character as below. (few lines from that file)</p>\n<pre><code>��ca6191af5ae0-1a24a201}-�Sy}-ƌ|pW�\\����;org/springframework/context/annotation/BeanAnnotationHelper�w~�j�zI�ZMorg/springframework/boot/autoconfigure/condition/FilteringSpringBootCondition������e֢+org/sp\n</code></pre>\n<p>On jenkins we see below error</p>\n<pre><code>Caused by: java.nio.charset.MalformedInputException: Input length = 1\n</code></pre>\n<p>I have followed an article from sonar source community <a href=\"https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151\" rel=\"noreferrer\">https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151</a> which gives some steps. But I am not able to generate XML file. Please help.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1384112171,"post_id":19894093,"comment_id":29595968,"body_markdown":"This will not serialize Enum to lower case. This will print its name in lower case.","body":"This will not serialize Enum to lower case. This will print its name in lower case."},{"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"score":0,"creation_date":1384113346,"post_id":19894093,"comment_id":29596381,"body_markdown":"Just a matter of translation misunderstanding, english is not my native language, sorry.","body":"Just a matter of translation misunderstanding, english is not my native language, sorry."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1384113437,"post_id":19894093,"comment_id":29596416,"body_markdown":"OK, no problem. I am also in the middle of learning English :)","body":"OK, no problem. I am also in the middle of learning English :)"}],"answers":[{"comments":[{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":20,"creation_date":1384112861,"post_id":19894094,"comment_id":29596196,"body_markdown":"This is not a very good solution (despite the upvotes) because now `toString()` and `name()` no longer return the same value. True, it doesn&#39;t say anywhere that they should but it&#39;s their default behavior that they do. Furthermore by overriding `toString()` you only catch code use such as in your example - it&#39;s kind of an implicit contract. That&#39;s not clean design. Since you cannot override `name()` I&#39;d much rather provide a new method like `lowerCaseName()`.","body":"This is not a very good solution (despite the upvotes) because now <code>toString()</code> and <code>name()</code> no longer return the same value. True, it doesn&#39;t say anywhere that they should but it&#39;s their default behavior that they do. Furthermore by overriding <code>toString()</code> you only catch code use such as in your example - it&#39;s kind of an implicit contract. That&#39;s not clean design. Since you cannot override <code>name()</code> I&#39;d much rather provide a new method like <code>lowerCaseName()</code>."},{"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"score":9,"creation_date":1384112931,"post_id":19894094,"comment_id":29596228,"body_markdown":"It is absolutely a clean way to do it, otherwise toString would not be overridable, it works as expected for me. I do not want to use a new method lowerCase as in code, i want to get the lowercase value directly. Just a matter of preference from the developer.","body":"It is absolutely a clean way to do it, otherwise toString would not be overridable, it works as expected for me. I do not want to use a new method lowerCase as in code, i want to get the lowercase value directly. Just a matter of preference from the developer."},{"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"score":5,"creation_date":1402324072,"post_id":19894094,"comment_id":37215920,"body_markdown":"toString is overridable on all objects, that doesn&#39;t make your usage of it appropriate.  I have to agree with Marcel, and in fact since you appear to be wanting a readable label from the enum, you should just put in a getLabel() method.  Then you have a well defined method with a well defined return value.  toString() is neither of these things, and is only used in this fashion in a few extremely limited cases where an objects value has a defacto standard format, like Integer, Boolean and String.  Other than these few fringe cases, you should never rely on the output of toString().","body":"toString is overridable on all objects, that doesn&#39;t make your usage of it appropriate.  I have to agree with Marcel, and in fact since you appear to be wanting a readable label from the enum, you should just put in a getLabel() method.  Then you have a well defined method with a well defined return value.  toString() is neither of these things, and is only used in this fashion in a few extremely limited cases where an objects value has a defacto standard format, like Integer, Boolean and String.  Other than these few fringe cases, you should never rely on the output of toString()."},{"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"score":0,"creation_date":1402579027,"post_id":19894094,"comment_id":37333258,"body_markdown":"You can find usage like this in Google applications (ie: https://play.google.com/store/apps/details?id=com.google.android.apps.iosched) , where they overwrite the toString function of some objects to get the desired string. I repeat: it&#39;s just a matter of the developer preference, and as long as it is well documented for me it&#39;s a valid solution.","body":"You can find usage like this in Google applications (ie: <a href=\"https://play.google.com/store/apps/details?id=com.google.android.apps.iosched\" rel=\"nofollow noreferrer\">play.google.com/store/apps/&hellip;</a>) , where they overwrite the toString function of some objects to get the desired string. I repeat: it&#39;s just a matter of the developer preference, and as long as it is well documented for me it&#39;s a valid solution."},{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":14,"creation_date":1434647068,"post_id":19894094,"comment_id":49879931,"body_markdown":"As made clear in this post, name() is really there to return the original name of the declared enum, which is marked final, and developers know it wont be overridden, while toString() is intended (and even encouraged) to be used to return a &quot;friendly&quot; name, so this usage seems in line with the recommendations - http://stackoverflow.com/questions/18031125/what-is-the-difference-between-enum-name-and-enum-tostring","body":"As made clear in this post, name() is really there to return the original name of the declared enum, which is marked final, and developers know it wont be overridden, while toString() is intended (and even encouraged) to be used to return a &quot;friendly&quot; name, so this usage seems in line with the recommendations - <a href=\"http://stackoverflow.com/questions/18031125/what-is-the-difference-between-enum-name-and-enum-tostring\" title=\"what is the difference between enum name and enum tostring\">stackoverflow.com/questions/18031125/&hellip;</a>"},{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1701702981,"post_id":19894094,"comment_id":136805342,"body_markdown":"It&#39;s generally recommended that `toString()` should provide more descriptive, human-readable information about the object, rather than being used for specific formatting.","body":"It&#39;s generally recommended that <code>toString()</code> should provide more descriptive, human-readable information about the object, rather than being used for specific formatting."}],"tags":[],"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"comment_count":6,"down_vote_count":3,"up_vote_count":65,"is_accepted":true,"score":62,"last_activity_date":1681142225,"creation_date":1384111770,"answer_id":19894094,"question_id":19894093,"body_markdown":"I am replying this question myself as i found the solution interesting and could not find a reply in the site. Just in case somebody else looks for a way to solve this.\r\n\r\nThe solution is simple, just override the Enum toString method like this:\r\n\r\n    public enum Status {\r\n        DRAFT, PENDING, COMPLETE;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return name().toLowerCase();\r\n        }\r\n    }\r\n    println (&quot;Status=&quot; + Status.DRAFT);\r\n\r\nThis would output the name in lower case.\r\n\r\n*a short note for all those unbelievers:\r\nYou can find usage like this in Google applications (ie: play.google.com/store/apps/…) , where they overwrite the toString function of some objects to get the desired string. I repeat: it&#39;s just a matter of the developer preference, and as long as it is well documented for me it&#39;s a valid solution.*","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>I am replying this question myself as i found the solution interesting and could not find a reply in the site. Just in case somebody else looks for a way to solve this.</p>\n<p>The solution is simple, just override the Enum toString method like this:</p>\n<pre><code>public enum Status {\n    DRAFT, PENDING, COMPLETE;\n\n    @Override\n    public String toString() {\n        return name().toLowerCase();\n    }\n}\nprintln (&quot;Status=&quot; + Status.DRAFT);\n</code></pre>\n<p>This would output the name in lower case.</p>\n<p><em>a short note for all those unbelievers:\nYou can find usage like this in Google applications (ie: play.google.com/store/apps/…) , where they overwrite the toString function of some objects to get the desired string. I repeat: it's just a matter of the developer preference, and as long as it is well documented for me it's a valid solution.</em></p>\n"},{"comments":[{"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"score":0,"creation_date":1384112345,"post_id":19894176,"comment_id":29596020,"body_markdown":"Hi Peter, thanks for your reply, but look for mine below, i solved it by overriding the Enum.toString function. Your answer does not solve  my question as i&#39;d like to use the constant enum in uppercase, but when requesting the real value get the lowercase representation.","body":"Hi Peter, thanks for your reply, but look for mine below, i solved it by overriding the Enum.toString function. Your answer does not solve  my question as i&#39;d like to use the constant enum in uppercase, but when requesting the real value get the lowercase representation."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1384112881,"post_id":19894176,"comment_id":29596205,"body_markdown":"IMHO either upper case or lower case is more readable and make more sense to put in your output or code. It does answer the question because you didn&#39;t say you need to have your constants in upper case.","body":"IMHO either upper case or lower case is more readable and make more sense to put in your output or code. It does answer the question because you didn&#39;t say you need to have your constants in upper case."},{"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"score":1,"creation_date":1384113119,"post_id":19894176,"comment_id":29596296,"body_markdown":"You are right, i did not specify i wanted constants in uppercase, i thought it was obvious. I edited the question.Thanks","body":"You are right, i did not specify i wanted constants in uppercase, i thought it was obvious. I edited the question.Thanks"},{"owner":{"account_id":106916,"reputation":155,"user_id":2485636,"display_name":"Colm"},"score":0,"creation_date":1666002155,"post_id":19894176,"comment_id":130823676,"body_markdown":"Seeing an uppercase identifier lets you know you are dealing with a constant value. Seeing a lower case enum means you cannot trust that naming conventions are adhered to in this codebase... &quot;All bets are off&quot;. \nThis will also fail static analysis linting (like Sonar) so once you make this exception, it&#39;s turtles all the way down.","body":"Seeing an uppercase identifier lets you know you are dealing with a constant value. Seeing a lower case enum means you cannot trust that naming conventions are adhered to in this codebase... &quot;All bets are off&quot;.  This will also fail static analysis linting (like Sonar) so once you make this exception, it&#39;s turtles all the way down."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":4,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1384112223,"creation_date":1384112223,"answer_id":19894176,"question_id":19894093,"body_markdown":"If you want lower case, you could just use lower case, or mixed case, or whatever makes more sense to you.\r\n\r\n    public enum Status {\r\n        draft, pending, complete;\r\n    }\r\n\r\n    println (&quot;Status=&quot; + Status.draft);\r\n\r\nprints\r\n    \r\n    Status=draft","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>If you want lower case, you could just use lower case, or mixed case, or whatever makes more sense to you.</p>\n\n<pre><code>public enum Status {\n    draft, pending, complete;\n}\n\nprintln (\"Status=\" + Status.draft);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>Status=draft\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1701703150,"post_id":26893053,"comment_id":136805382,"body_markdown":"This should be the accepted answer because the method `nameLowerCase()` clearly indicates its purpose, making the code more readable and understandable. Also, it preserves the standard behavior of the `toString()` and `name()` methods, avoiding potential confusion or misuse. Additionally, this method provides an explicit choice for the developer when they need the lowercase representation, while keeping the uppercase constants for conventional uses.","body":"This should be the accepted answer because the method <code>nameLowerCase()</code> clearly indicates its purpose, making the code more readable and understandable. Also, it preserves the standard behavior of the <code>toString()</code> and <code>name()</code> methods, avoiding potential confusion or misuse. Additionally, this method provides an explicit choice for the developer when they need the lowercase representation, while keeping the uppercase constants for conventional uses."},{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1701703187,"post_id":26893053,"comment_id":136805394,"body_markdown":"Compared to overriding the `toString()` method, this solution is more aligned with clean coding principles. It avoids altering the behavior of a commonly used and well-understood method `toString()`, which could potentially lead to confusing situations where `toString()` and `name()` return different values, as stated by @[Marcel St&#246;r](https://stackoverflow.com/users/131929/marcel-st%c3%b6r)","body":"Compared to overriding the <code>toString()</code> method, this solution is more aligned with clean coding principles. It avoids altering the behavior of a commonly used and well-understood method <code>toString()</code>, which could potentially lead to confusing situations where <code>toString()</code> and <code>name()</code> return different values, as stated by @<a href=\"https://stackoverflow.com/users/131929/marcel-st%c3%b6r\">Marcel St&#246;r</a>"},{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1701703305,"post_id":26893053,"comment_id":136805421,"body_markdown":"Compared to using lowercase enum constants, this method upholds Java&#39;s naming convention for enums, usually favoring uppercase. It&#39;s crucial for code consistency and readability, particularly in large codebases or when adhering to standard Java practices. The `nameLowerCase()` method offers a clear, explicit, and convention-aligned way to get a lowercase enum constant in Java, balancing functionality with Java coding standards, thus a preferable choice in many cases.","body":"Compared to using lowercase enum constants, this method upholds Java&#39;s naming convention for enums, usually favoring uppercase. It&#39;s crucial for code consistency and readability, particularly in large codebases or when adhering to standard Java practices. The <code>nameLowerCase()</code> method offers a clear, explicit, and convention-aligned way to get a lowercase enum constant in Java, balancing functionality with Java coding standards, thus a preferable choice in many cases."}],"tags":[],"owner":{"account_id":892064,"reputation":1665,"user_id":930122,"accept_rate":95,"display_name":"Lorenzo Sciuto"},"comment_count":3,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1415813771,"creation_date":1415813771,"answer_id":26893053,"question_id":19894093,"body_markdown":"Another solution could be:\r\n\r\n    public enum Status {\r\n      DRAFT, PENDING, COMPLETE;\r\n\r\n      public String nameLowerCase(){\r\n\t\t\treturn name().toLowerCase();\r\n\t\t}\r\n    }","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>Another solution could be:</p>\n\n<pre><code>public enum Status {\n  DRAFT, PENDING, COMPLETE;\n\n  public String nameLowerCase(){\n        return name().toLowerCase();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1518477052,"post_id":39273953,"comment_id":84515193,"body_markdown":"There&#39;s no need to store the `value` as a separate string since you can just call `name().toLowerCase()` .","body":"There&#39;s no need to store the <code>value</code> as a separate string since you can just call <code>name().toLowerCase()</code> ."}],"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1472739712,"creation_date":1472739322,"answer_id":39273953,"question_id":19894093,"body_markdown":"You can use the following Enum class which contains constructor with name and ordinal for each enum constant. You can assign values you need for the enum constant.\r\n\r\n    public enum Status {\r\n\r\n    DRAFT(0,&quot;draft&quot;), PENDING(1,&quot;pending&quot;), COMPLETE(2,&quot;complete&quot;);\r\n    \r\n    private int key;\r\n\tprivate String value;\r\n\t\r\n    Status(int key, String value){\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n    \r\n    public int getKey() {\r\n\t\treturn key;\r\n\t}\r\n\r\n\tpublic void setKey(int key) {\r\n\t\tthis.key = key;\r\n\t}\r\n\r\n\tpublic String getValue() {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic void setValue(String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n    \r\n    @Override\r\n    public String toString(){\r\n        return this.value;\r\n    }\r\n    \r\n    }\r\n\r\nSince we override the `toString` method, the value which is lowercase is returned. \r\n\r\nUsing\r\n\r\n    System.out.print(&quot;Status = &quot;+Status.DRAFT);\r\n\r\nwould print,\r\n\r\n    Status = draft\r\n\r\nand \r\n\r\n    System.out.print(&quot;Status = &quot;+Status.DRAFT.name());\r\n\r\nwould print\r\n\r\n    Status = DRAFT","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>You can use the following Enum class which contains constructor with name and ordinal for each enum constant. You can assign values you need for the enum constant.</p>\n\n<pre><code>public enum Status {\n\nDRAFT(0,\"draft\"), PENDING(1,\"pending\"), COMPLETE(2,\"complete\");\n\nprivate int key;\nprivate String value;\n\nStatus(int key, String value){\n    this.key = key;\n    this.value = value;\n}\n\npublic int getKey() {\n    return key;\n}\n\npublic void setKey(int key) {\n    this.key = key;\n}\n\npublic String getValue() {\n    return value;\n}\n\npublic void setValue(String value) {\n    this.value = value;\n}\n\n@Override\npublic String toString(){\n    return this.value;\n}\n\n}\n</code></pre>\n\n<p>Since we override the <code>toString</code> method, the value which is lowercase is returned. </p>\n\n<p>Using</p>\n\n<pre><code>System.out.print(\"Status = \"+Status.DRAFT);\n</code></pre>\n\n<p>would print,</p>\n\n<pre><code>Status = draft\n</code></pre>\n\n<p>and </p>\n\n<pre><code>System.out.print(\"Status = \"+Status.DRAFT.name());\n</code></pre>\n\n<p>would print</p>\n\n<pre><code>Status = DRAFT\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701704278,"creation_date":1701704278,"answer_id":77600711,"question_id":19894093,"body_markdown":"### Efficient approach to handling uppercase Enums with lowercase representations in Java (and Thymeleaf)\r\n\r\nI&#39;ve developed a Java enum solution that efficiently manages uppercase enums while providing their lowercase representations. Here&#39;s the implementation:\r\n\r\n```java\r\npublic enum Category {\r\n\r\n    COOKING(&quot;COOKING&quot;, &quot;cooking&quot;),\r\n    BAKING(&quot;BAKING&quot;, &quot;baking&quot;),\r\n    DRINKS(&quot;DRINKS&quot;, &quot;drinks&quot;);\r\n\r\n    public final String name;\r\n    public final String lowercaseName;\r\n\r\n    Category(String name, String lowercaseName) {\r\n        this.name = name;\r\n        this.lowercaseName = lowercaseName;\r\n    }\r\n}\r\n```\r\n\r\nIn Thymeleaf I access the Enum lowercase name like this:\r\n\r\n```html\r\n\r\n&lt;div th:with=&quot;category = ${T(com.example.homepage.util.Category)}&quot;&gt;\r\n    &lt;h1 th:text=&quot;${category.COOKING.lowercaseName}&quot;&gt;&lt;/h1&gt;\r\n&lt;/div&gt;\r\n\r\n```\r\n\r\n\r\nThis approach to managing uppercase enums with their lowercase counterparts in Java combines clarity, safety, and efficiency, offering explicit lowercase representations, immutable values, reduced method overhead, and easy maintenance. It aligns with Java naming conventions, provides operational flexibility, and is a practical, efficient solution for diverse use cases.","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<h3>Efficient approach to handling uppercase Enums with lowercase representations in Java (and Thymeleaf)</h3>\n<p>I've developed a Java enum solution that efficiently manages uppercase enums while providing their lowercase representations. Here's the implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Category {\n\n    COOKING(&quot;COOKING&quot;, &quot;cooking&quot;),\n    BAKING(&quot;BAKING&quot;, &quot;baking&quot;),\n    DRINKS(&quot;DRINKS&quot;, &quot;drinks&quot;);\n\n    public final String name;\n    public final String lowercaseName;\n\n    Category(String name, String lowercaseName) {\n        this.name = name;\n        this.lowercaseName = lowercaseName;\n    }\n}\n</code></pre>\n<p>In Thymeleaf I access the Enum lowercase name like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>\n&lt;div th:with=&quot;category = ${T(com.example.homepage.util.Category)}&quot;&gt;\n    &lt;h1 th:text=&quot;${category.COOKING.lowercaseName}&quot;&gt;&lt;/h1&gt;\n&lt;/div&gt;\n\n</code></pre>\n<p>This approach to managing uppercase enums with their lowercase counterparts in Java combines clarity, safety, and efficiency, offering explicit lowercase representations, immutable values, reduced method overhead, and easy maintenance. It aligns with Java naming conventions, provides operational flexibility, and is a practical, efficient solution for diverse use cases.</p>\n"}],"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52762,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":19894094,"answer_count":5,"score":26,"last_activity_date":1701704278,"creation_date":1384111770,"question_id":19894093,"body_markdown":"I have an enum in Java I&#39;d like to serialize, so that when I call it from anywhere in the code, I get the lowercase representation of the name.\r\n\r\nLet&#39;s say I have the following enum:\r\n\r\n    public enum Status {\r\n        DRAFT, PENDING, COMPLETE;\r\n    }\r\n    println (&quot;Status=&quot; + Status.DRAFT);\r\n\r\nI&#39;d like to get the following:\r\n\r\n    Status=draft\r\n\r\n[Note]: I want to use the enum constants in uppercase, and when requesting the value get the lowercase representation.","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>I have an enum in Java I'd like to serialize, so that when I call it from anywhere in the code, I get the lowercase representation of the name.</p>\n<p>Let's say I have the following enum:</p>\n<pre><code>public enum Status {\n    DRAFT, PENDING, COMPLETE;\n}\nprintln (&quot;Status=&quot; + Status.DRAFT);\n</code></pre>\n<p>I'd like to get the following:</p>\n<pre><code>Status=draft\n</code></pre>\n<p>[Note]: I want to use the enum constants in uppercase, and when requesting the value get the lowercase representation.</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":16541273,"reputation":51,"user_id":11951981,"display_name":"Diabelna Pomidorowa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701704025,"creation_date":1701704025,"question_id":77600681,"body_markdown":"I am using elastic search java library to index one of the mongodb entities. One of the fields is HashMap&lt;String, String&gt;, but is not displayed, map is empty although there is a value in the database. I do not want to search through that field, only return it. Is there any way to configure that via that library? Using REST API is not an option. ","title":"Elasticsearch HashMap config via elasticsearch org library","body":"<p>I am using elastic search java library to index one of the mongodb entities. One of the fields is HashMap&lt;String, String&gt;, but is not displayed, map is empty although there is a value in the database. I do not want to search through that field, only return it. Is there any way to configure that via that library? Using REST API is not an option.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1537721784,"post_id":52468261,"comment_id":91878383,"body_markdown":"If you want examples for spring boot, here is some working examples: https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples, https://github.com/dineshbhagat/spring-boot-web-jpa","body":"If you want examples for spring boot, here is some working examples: <a href=\"https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/tree/master/&hellip;</a>, <a href=\"https://github.com/dineshbhagat/spring-boot-web-jpa\" rel=\"nofollow noreferrer\">github.com/dineshbhagat/spring-boot-web-jpa</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1537727646,"post_id":52468261,"comment_id":91880074,"body_markdown":"Your package structure is wrong. Move everything in `com.example.demo` or make it a sub package. But `Services` and `Repositories` aren&#39;t under that package and hence aren&#39;t scanned.","body":"Your package structure is wrong. Move everything in <code>com.example.demo</code> or make it a sub package. But <code>Services</code> and <code>Repositories</code> aren&#39;t under that package and hence aren&#39;t scanned."}],"answers":[{"tags":[],"owner":{"account_id":10306117,"reputation":1,"user_id":7603309,"display_name":"arturk9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537723293,"creation_date":1537721679,"answer_id":52468300,"question_id":52468261,"body_markdown":"EDIT:\r\n\r\nYou are missing PostService class or you have imported incorrect class as Server.PostService.\r\n\r\ntry to create a service like this one:\r\n\r\n    @Component \r\n    public class PostService {\r\n        public List&lt;Post&gt; getAllPosts(){\r\n         //your code\r\n        }\r\n    }\r\n\r\n","title":"Java Spring Boot problem LoggiFailureAnalysisReporter","body":"<p>EDIT:</p>\n\n<p>You are missing PostService class or you have imported incorrect class as Server.PostService.</p>\n\n<p>try to create a service like this one:</p>\n\n<pre><code>@Component \npublic class PostService {\n    public List&lt;Post&gt; getAllPosts(){\n     //your code\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12018191,"reputation":23,"user_id":8792676,"display_name":"Andy Andi"},"score":1,"creation_date":1537814570,"post_id":52469253,"comment_id":91912430,"body_markdown":"Thank you to were right man... redid again today and problem was that all should derive from com.example.demo","body":"Thank you to were right man... redid again today and problem was that all should derive from com.example.demo"}],"tags":[],"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1537728841,"creation_date":1537728841,"answer_id":52469253,"question_id":52468261,"body_markdown":"Your `BlogApplication` Class, which is the class annotated with `@SpringBootApplication` is in the package `com.example.demo`. That means that, by default, Spring is going to launch a Component Scan starting from that package.\r\n\r\nThe problem is that your class `PostService` and your interface `PostRepository` are not in the same package as (or in a sub-package of) `com.example.demo`, so Spring can&#39;t find them and won&#39;t automatically create these beans for you.\r\n\r\nTo correct this issue, move the packages you created inside your root package (`com.example.demo`).\r\n\r\nYou can find more information about the use of `@SpringBootApplication` [here][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-using-springbootapplication-annotation.html","title":"Java Spring Boot problem LoggiFailureAnalysisReporter","body":"<p>Your <code>BlogApplication</code> Class, which is the class annotated with <code>@SpringBootApplication</code> is in the package <code>com.example.demo</code>. That means that, by default, Spring is going to launch a Component Scan starting from that package.</p>\n\n<p>The problem is that your class <code>PostService</code> and your interface <code>PostRepository</code> are not in the same package as (or in a sub-package of) <code>com.example.demo</code>, so Spring can't find them and won't automatically create these beans for you.</p>\n\n<p>To correct this issue, move the packages you created inside your root package (<code>com.example.demo</code>).</p>\n\n<p>You can find more information about the use of <code>@SpringBootApplication</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":12018191,"reputation":23,"user_id":8792676,"display_name":"Andy Andi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52469253,"answer_count":2,"score":0,"last_activity_date":1701703858,"creation_date":1537721395,"question_id":52468261,"body_markdown":"I am new to Boot-Spring apparently, I mostly copy some code from youtube on this case. However, after modification, in the end, I got a message like this;\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField postService in com.example.demo.BlogController required a bean of type &#39;Server.PostService&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;Server.PostService&#39; in your configuration.\r\n\r\n\r\n.....Any idea how to deal with this situation. Thank you for the support.\r\n1stclass-BlogApplciation-----com.example.demo(package)\r\n2nd-Blog Controller--------same package as BlogApplication\r\n3rdclass-Post---entities\r\n4rthclass-PostRepositories---Repositories\r\n\r\n    **package com.example.demo;  \r\n\r\n    import org.springframework.boot.SpringApplication;\r\n\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n      \r\n\r\n    @SpringBootApplication\r\n\r\n    public class BlogApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(BlogApplication.class, args);\r\n\t}\r\n}**\r\n\r\n\r\n\r\n\r\n\r\n      **package com.example.demo;\r\n      import java.util.List;\r\n     import org.springframework.beans.factory.annotation.Autowired;\r\n     import org.springframework.web.bind.annotation.GetMapping;\r\n     import org.springframework.web.bind.annotation.PostMapping;\r\n     import org.springframework.web.bind.annotation.RequestBody;\r\n     import org.springframework.web.bind.annotation.RestController;\r\n     import Server.PostService;\r\n     import entities.Post;\r\n     import java.util.Date;\r\n      @RestController\r\n      public class BlogController {\r\n      @Autowired\r\n      private PostService postService;\r\n      @GetMapping(value=&quot;/&quot;)\r\n \r\n\t  public String index() {\r\n     \treturn &quot;index&quot;;\r\n        }\r\n      @GetMapping(value=&quot;/posts&quot;)\r\n      public List&lt;Post&gt;posts(){\r\n\t  return postService.getAllPosts();\r\n\t \r\n        }\r\n      @PostMapping(value=&quot;/post&quot;)\r\n      public void publishPost(@RequestBody Post post) {\r\n\t  \r\n\t   if(post.getDatecreation() == null) \r\n\t  post.setDatecreation(new Date());\r\n\t\t  postService.insert(post);  \r\n         }\r\n         }**\r\n     \r\n\r\n      **package entities;\r\n        import java.util.Date;\r\n        import javax.persistence.Entity;\r\n        import javax.persistence.GeneratedValue;\r\n        import javax.persistence.GenerationType;\r\n        import javax.persistence.Id;\r\n        @Entity\r\n         public class Post {\r\n          @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n\t     private Long id;\r\n         private String title;\r\n        private String body;\r\n        private Date Datecreation;\r\n\t\r\n\t    public Post() {\r\n\t\t\r\n\t     }\r\n        public long getId() {\r\n\t\treturn id;\r\n\t     }\r\n\t    public void setId(long id) {\r\n\t\tthis.id = id;\r\n\t    }\t\r\n\t    public String gettitle() {\r\n\t\treturn title;\r\n\t     }\r\n\t    public void settitle(String title) {\r\n\t\t this.title= title;\r\n\t     }\r\n\t    public String getBody() {\r\n\t\treturn body;\r\n\t     }\r\n\t    public void setBody(String body) {\r\n\t\tthis.body = body;\r\n\t     }\r\n\t    public Date getDatecreation() {\r\n\t\treturn Datecreation;\r\n\t    }\r\n\t    public void setDatecreation(Date datecreation) {\r\n\t\tthis.Datecreation = datecreation;\r\n      \t}\r\n\t    }**\r\n  \r\n\r\n       **package Repositories;\r\n\r\n       import org.springframework.data.jpa.repository.JpaRepository;\r\n       import org.springframework.stereotype.Repository;\r\n       import entities.Post;\r\n       @Repository\r\n       public interface PostRepository extends JpaRepository&lt;Post,Long&gt;{\r\n        }**\r\n\t    \r\n         \r\n\r\n\t\r\n","title":"Java Spring Boot problem LoggiFailureAnalysisReporter","body":"<p>I am new to Boot-Spring apparently, I mostly copy some code from youtube on this case. However, after modification, in the end, I got a message like this;\nAPPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field postService in com.example.demo.BlogController required a bean of type 'Server.PostService' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'Server.PostService' in your configuration.</p>\n<p>.....Any idea how to deal with this situation. Thank you for the support.\n1stclass-BlogApplciation-----com.example.demo(package)\n2nd-Blog Controller--------same package as BlogApplication\n3rdclass-Post---entities\n4rthclass-PostRepositories---Repositories</p>\n<pre><code>**package com.example.demo;  \n\nimport org.springframework.boot.SpringApplication;\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n  \n\n@SpringBootApplication\n\npublic class BlogApplication {\n\npublic static void main(String[] args) {\n\n    SpringApplication.run(BlogApplication.class, args);\n}\n</code></pre>\n<p>}**</p>\n<pre><code>  **package com.example.demo;\n  import java.util.List;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.web.bind.annotation.GetMapping;\n import org.springframework.web.bind.annotation.PostMapping;\n import org.springframework.web.bind.annotation.RequestBody;\n import org.springframework.web.bind.annotation.RestController;\n import Server.PostService;\n import entities.Post;\n import java.util.Date;\n  @RestController\n  public class BlogController {\n  @Autowired\n  private PostService postService;\n  @GetMapping(value=&quot;/&quot;)\n\n  public String index() {\n    return &quot;index&quot;;\n    }\n  @GetMapping(value=&quot;/posts&quot;)\n  public List&lt;Post&gt;posts(){\n  return postService.getAllPosts();\n \n    }\n  @PostMapping(value=&quot;/post&quot;)\n  public void publishPost(@RequestBody Post post) {\n  \n   if(post.getDatecreation() == null) \n  post.setDatecreation(new Date());\n      postService.insert(post);  \n     }\n     }**\n \n\n  **package entities;\n    import java.util.Date;\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.GenerationType;\n    import javax.persistence.Id;\n    @Entity\n     public class Post {\n      @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n     private Long id;\n     private String title;\n    private String body;\n    private Date Datecreation;\n\n    public Post() {\n    \n     }\n    public long getId() {\n    return id;\n     }\n    public void setId(long id) {\n    this.id = id;\n    }   \n    public String gettitle() {\n    return title;\n     }\n    public void settitle(String title) {\n     this.title= title;\n     }\n    public String getBody() {\n    return body;\n     }\n    public void setBody(String body) {\n    this.body = body;\n     }\n    public Date getDatecreation() {\n    return Datecreation;\n    }\n    public void setDatecreation(Date datecreation) {\n    this.Datecreation = datecreation;\n    }\n    }**\n\n\n   **package Repositories;\n\n   import org.springframework.data.jpa.repository.JpaRepository;\n   import org.springframework.stereotype.Repository;\n   import entities.Post;\n   @Repository\n   public interface PostRepository extends JpaRepository&lt;Post,Long&gt;{\n    }**\n    \n     \n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":18897269,"reputation":21,"user_id":13786124,"display_name":"Danijan7"},"score":0,"creation_date":1602179251,"post_id":64264534,"comment_id":113646047,"body_markdown":"Thanks for the reply as i am still new to android and have no knowlege of coding at all... could you please tell me how to do it","body":"Thanks for the reply as i am still new to android and have no knowlege of coding at all... could you please tell me how to do it"},{"owner":{"account_id":7507439,"reputation":1018,"user_id":5703530,"accept_rate":57,"display_name":"Merve Sahin"},"score":0,"creation_date":1602193648,"post_id":64264534,"comment_id":113651598,"body_markdown":"I already explained how to approach the problem, now its up to you on how to implement it. The first guide already shows how to implement the binding between JS and Java. As for the calling API, I&#39;m not familiar with it so you just have to google for examples.","body":"I already explained how to approach the problem, now its up to you on how to implement it. The first guide already shows how to implement the binding between JS and Java. As for the calling API, I&#39;m not familiar with it so you just have to google for examples."}],"tags":[],"owner":{"account_id":7507439,"reputation":1018,"user_id":5703530,"accept_rate":57,"display_name":"Merve Sahin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602166778,"creation_date":1602166778,"answer_id":64264534,"question_id":64263416,"body_markdown":"First you would need to bind your javascript code to your android code, [this guide](https://developer.android.com/guide/webapps/webview#BindingJavaScript) demonstrates how to do that. Then in your javascript, you could add a listener to your button that invokes a Java method. \r\n\r\nSecond, you need to integrate a calling solution into your app [this guide](https://developer.android.com/guide/topics/connectivity/telecom#integrateCalling) explains what options you have and how you can implement them. \r\n\r\nOnce you implemented the calling solution, you could simply make a call from the Java method that you intend to invoke from your javascript.  ","title":"How to Allow Calls on Button Click in Android Web View App?","body":"<p>First you would need to bind your javascript code to your android code, <a href=\"https://developer.android.com/guide/webapps/webview#BindingJavaScript\" rel=\"nofollow noreferrer\">this guide</a> demonstrates how to do that. Then in your javascript, you could add a listener to your button that invokes a Java method.</p>\n<p>Second, you need to integrate a calling solution into your app <a href=\"https://developer.android.com/guide/topics/connectivity/telecom#integrateCalling\" rel=\"nofollow noreferrer\">this guide</a> explains what options you have and how you can implement them.</p>\n<p>Once you implemented the calling solution, you could simply make a call from the Java method that you intend to invoke from your javascript.</p>\n"},{"comments":[{"owner":{"account_id":18897269,"reputation":21,"user_id":13786124,"display_name":"Danijan7"},"score":0,"creation_date":1602533688,"post_id":64324756,"comment_id":113745584,"body_markdown":"in android manifest:\n\n &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;","body":"in android manifest:   &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;"}],"tags":[],"owner":{"account_id":18897269,"reputation":21,"user_id":13786124,"display_name":"Danijan7"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602533639,"creation_date":1602533639,"answer_id":64324756,"question_id":64263416,"body_markdown":"This is How it works for me:\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\n\r\npublic class MainActivity extends Activity {\r\n\r\n    private static final String TEL_PREFIX = &quot;tel:&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        WebView wv = (WebView) findViewById(R.id.webview);\r\n        wv.setWebViewClient(new CustomWebViewClient());\r\n        wv.loadUrl(&quot;https://google.pk&quot;);\r\n        WebSettings webSettings = wv.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n    }\r\n\r\n    private class CustomWebViewClient extends WebViewClient {\r\n\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView wv, String url) {\r\n            if(url.startsWith(TEL_PREFIX)) {\r\n                Intent intent = new Intent(Intent.ACTION_DIAL);\r\n                intent.setData(Uri.parse(url));\r\n                startActivity(intent);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```","title":"How to Allow Calls on Button Click in Android Web View App?","body":"<p>This is How it works for me:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.app.Activity;\nimport android.content.Intent;\n\npublic class MainActivity extends Activity {\n\n    private static final String TEL_PREFIX = &quot;tel:&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        WebView wv = (WebView) findViewById(R.id.webview);\n        wv.setWebViewClient(new CustomWebViewClient());\n        wv.loadUrl(&quot;https://google.pk&quot;);\n        WebSettings webSettings = wv.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n    }\n\n    private class CustomWebViewClient extends WebViewClient {\n\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView wv, String url) {\n            if(url.startsWith(TEL_PREFIX)) {\n                Intent intent = new Intent(Intent.ACTION_DIAL);\n                intent.setData(Uri.parse(url));\n                startActivity(intent);\n                return true;\n            }\n            return false;\n        }\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":18897269,"reputation":21,"user_id":13786124,"display_name":"Danijan7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701703714,"creation_date":1602163147,"question_id":64263416,"body_markdown":"I am building an Android app and I am newbie.\r\nI am not able to make calls by clicking a button inside android webview app\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my code:\r\n\r\nMainactivity\r\n\r\n```\r\npackage pk.gogobazar.gogobazarapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.ActivityNotFoundException;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.KeyEvent;\r\nimport android.webkit.ValueCallback;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebResourceRequest;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n\r\n    WebView webView;\r\n    private ValueCallback&lt;Uri&gt; mUploadMessage;\r\n    public ValueCallback&lt;Uri[]&gt; uploadMessage;\r\n    public static final int REQUEST_SELECT_FILE = 100;\r\n    private final static int FILECHOOSER_RESULTCODE = 1;\r\n\r\n    public String url =&quot;https://gogobazar.pk/&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n        webView = (WebView) findViewById(R.id.webView);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.loadUrl(url);\r\n\r\n        webView.setWebViewClient(new xWebViewClient());\r\n        webView.setWebChromeClient(new WebChromeClient()\r\n        {\r\n\r\n            // For 3.0+ Devices (Start)\r\n            // onActivityResult attached before constructor\r\n            protected void openFileChooser(ValueCallback uploadMsg, String acceptType)\r\n            {\r\n                mUploadMessage = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;image/*&quot;);\r\n                startActivityForResult(Intent.createChooser(i, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\r\n            }\r\n\r\n\r\n            // For Lollipop 5.0+ Devices\r\n            public boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams)\r\n            {\r\n                if (uploadMessage != null) {\r\n                    uploadMessage.onReceiveValue(null);\r\n                    uploadMessage = null;\r\n                }\r\n\r\n                uploadMessage = filePathCallback;\r\n\r\n                Intent intent = null;\r\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n                    intent = fileChooserParams.createIntent();\r\n                }\r\n                try\r\n                {\r\n                    startActivityForResult(intent, REQUEST_SELECT_FILE);\r\n                } catch (ActivityNotFoundException e)\r\n                {\r\n                    uploadMessage = null;\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n            //For Android 4.1 only\r\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture)\r\n            {\r\n                mUploadMessage = uploadMsg;\r\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                intent.setType(&quot;image/*&quot;);\r\n                startActivityForResult(Intent.createChooser(intent, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\r\n            }\r\n\r\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg)\r\n            {\r\n                mUploadMessage = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;image/*&quot;);\r\n                startActivityForResult(Intent.createChooser(i, &quot;File Chooser&quot;), FILECHOOSER_RESULTCODE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent intent)\r\n    {\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n        {\r\n            if (requestCode == REQUEST_SELECT_FILE)\r\n            {\r\n                if (uploadMessage == null)\r\n                    return;\r\n                uploadMessage.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, intent));\r\n                uploadMessage = null;\r\n            }\r\n        }\r\n        else if (requestCode == FILECHOOSER_RESULTCODE)\r\n        {\r\n            if (null == mUploadMessage)\r\n                return;\r\n            // Use MainActivity.RESULT_OK if you&#39;re implementing WebView inside Fragment\r\n            // Use RESULT_OK only if you&#39;re implementing WebView inside an Activity\r\n            Uri result = intent == null || resultCode != MainActivity.RESULT_OK ? null : intent.getData();\r\n            mUploadMessage.onReceiveValue(result);\r\n            mUploadMessage = null;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    private class xWebViewClient extends WebViewClient {\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n\r\n        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; webView.canGoBack()) {\r\n            webView.goBack();\r\n            return true;\r\n        }\r\n\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nAndroid Manifest File\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;pk.gogobazar.gogobazarapp&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI am new and still learning basics. Please help me to allow the phone calls in webview on this activity. So when someone clicks on phone number it should call, thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t2dqw.jpg","title":"How to Allow Calls on Button Click in Android Web View App?","body":"<p>I am building an Android app and I am newbie.\nI am not able to make calls by clicking a button inside android webview app</p>\n<p><a href=\"https://i.stack.imgur.com/t2dqw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t2dqw.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code:</p>\n<p>Mainactivity</p>\n<pre><code>package pk.gogobazar.gogobazarapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.ActivityNotFoundException;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.KeyEvent;\nimport android.webkit.ValueCallback;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n\n    WebView webView;\n    private ValueCallback&lt;Uri&gt; mUploadMessage;\n    public ValueCallback&lt;Uri[]&gt; uploadMessage;\n    public static final int REQUEST_SELECT_FILE = 100;\n    private final static int FILECHOOSER_RESULTCODE = 1;\n\n    public String url =&quot;https://gogobazar.pk/&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n        webView = (WebView) findViewById(R.id.webView);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(url);\n\n        webView.setWebViewClient(new xWebViewClient());\n        webView.setWebChromeClient(new WebChromeClient()\n        {\n\n            // For 3.0+ Devices (Start)\n            // onActivityResult attached before constructor\n            protected void openFileChooser(ValueCallback uploadMsg, String acceptType)\n            {\n                mUploadMessage = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(i, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\n            }\n\n\n            // For Lollipop 5.0+ Devices\n            public boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams)\n            {\n                if (uploadMessage != null) {\n                    uploadMessage.onReceiveValue(null);\n                    uploadMessage = null;\n                }\n\n                uploadMessage = filePathCallback;\n\n                Intent intent = null;\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n                    intent = fileChooserParams.createIntent();\n                }\n                try\n                {\n                    startActivityForResult(intent, REQUEST_SELECT_FILE);\n                } catch (ActivityNotFoundException e)\n                {\n                    uploadMessage = null;\n                    return false;\n                }\n                return true;\n            }\n\n            //For Android 4.1 only\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture)\n            {\n                mUploadMessage = uploadMsg;\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\n                intent.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(intent, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\n            }\n\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg)\n            {\n                mUploadMessage = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(i, &quot;File Chooser&quot;), FILECHOOSER_RESULTCODE);\n            }\n        });\n\n\n\n\n\n\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent intent)\n    {\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n        {\n            if (requestCode == REQUEST_SELECT_FILE)\n            {\n                if (uploadMessage == null)\n                    return;\n                uploadMessage.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, intent));\n                uploadMessage = null;\n            }\n        }\n        else if (requestCode == FILECHOOSER_RESULTCODE)\n        {\n            if (null == mUploadMessage)\n                return;\n            // Use MainActivity.RESULT_OK if you're implementing WebView inside Fragment\n            // Use RESULT_OK only if you're implementing WebView inside an Activity\n            Uri result = intent == null || resultCode != MainActivity.RESULT_OK ? null : intent.getData();\n            mUploadMessage.onReceiveValue(result);\n            mUploadMessage = null;\n        }\n\n\n    }\n\n\n    private class xWebViewClient extends WebViewClient {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n    }\n\n\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n\n        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; webView.canGoBack()) {\n            webView.goBack();\n            return true;\n        }\n\n        return super.onKeyDown(keyCode, event);\n    }\n\n\n\n\n}\n</code></pre>\n<p>Android Manifest File</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;pk.gogobazar.gogobazarapp&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I am new and still learning basics. Please help me to allow the phone calls in webview on this activity. So when someone clicks on phone number it should call, thanks.</p>\n"},{"tags":["java","ssl","glassfish-6"],"owner":{"account_id":26860788,"reputation":3,"user_id":20444324,"display_name":"Jos&#233; Daniel Osorio Pacheco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701703198,"creation_date":1701702902,"question_id":77600551,"body_markdown":"I&#39;m using glassfish 6 with java 11. So initially in https listener 2 i have TLS turned on, and when I try to turn SSL3 it says &quot;you must enter certificate nickname as ssl3 and/or tls is enabled glassfish&quot;; but i already gave it the name &quot;s1sa&quot;, my cacerts and keystore have a valid cert with that name, i have the same password as master but still not working. \r\n\r\nIm thinking this could be a bug in glassfish, am i doing something wrong?\r\n\r\nI tried: changing the name of certificate , setting the master password to the one in the keystore and cacerts. Also tried turning off &quot;TLS&quot; (now i can&#39;t turn it on either, it says the same message), tried editing domains.xml and replace s1as name. Log doesn&#39;t say anything related either.\r\n\r\nI was expecting to see TLS and or SSL3 enabled whenever i click on the checkbox.\r\n\r\nThe whole problem started because uploads to a servlet in the &quot;https&quot; protocol are 10 times slower, so i&#39;m guessing everything is connected","title":"You must enter certificate nickname as ssl3 and/or tls is enabled?","body":"<p>I'm using glassfish 6 with java 11. So initially in https listener 2 i have TLS turned on, and when I try to turn SSL3 it says &quot;you must enter certificate nickname as ssl3 and/or tls is enabled glassfish&quot;; but i already gave it the name &quot;s1sa&quot;, my cacerts and keystore have a valid cert with that name, i have the same password as master but still not working.</p>\n<p>Im thinking this could be a bug in glassfish, am i doing something wrong?</p>\n<p>I tried: changing the name of certificate , setting the master password to the one in the keystore and cacerts. Also tried turning off &quot;TLS&quot; (now i can't turn it on either, it says the same message), tried editing domains.xml and replace s1as name. Log doesn't say anything related either.</p>\n<p>I was expecting to see TLS and or SSL3 enabled whenever i click on the checkbox.</p>\n<p>The whole problem started because uploads to a servlet in the &quot;https&quot; protocol are 10 times slower, so i'm guessing everything is connected</p>\n"},{"tags":["java","syntax","null","variable-assignment","method-call"],"comments":[{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":4,"creation_date":1428580257,"post_id":29537639,"comment_id":47227531,"body_markdown":"Not really an answer but if your code is full of such blocks of code replacing missing values with default one, there&#39;s probably a problem in the design of your API.","body":"Not really an answer but if your code is full of such blocks of code replacing missing values with default one, there&#39;s probably a problem in the design of your API."}],"answers":[{"comments":[{"owner":{"account_id":241380,"reputation":14178,"user_id":512155,"accept_rate":100,"display_name":"Jan Groth"},"score":0,"creation_date":1428581538,"post_id":29537741,"comment_id":47228312,"body_markdown":"Missing curly braces aside, using an assignment within an evaluation shouldn&#39;t be legal IMHO. This code is just too hard to read and too easy to get wrong.","body":"Missing curly braces aside, using an assignment within an evaluation shouldn&#39;t be legal IMHO. This code is just too hard to read and too easy to get wrong."},{"owner":{"account_id":888610,"reputation":10638,"user_id":927408,"accept_rate":100,"display_name":"J&#248;rgen R"},"score":0,"creation_date":1428582820,"post_id":29537741,"comment_id":47229182,"body_markdown":"While this may answer the question it’s always a good idea to put some text in your answer to explain what you&#39;re doing. Read [how to write a good answer](http://stackoverflow.com/help/how-to-answer).","body":"While this may answer the question it’s always a good idea to put some text in your answer to explain what you&#39;re doing. Read <a href=\"http://stackoverflow.com/help/how-to-answer\">how to write a good answer</a>."},{"owner":{"account_id":1099514,"reputation":2234,"user_id":1092271,"accept_rate":56,"display_name":"NikkyD"},"score":1,"creation_date":1505404188,"post_id":29537741,"comment_id":79409799,"body_markdown":"i find the first part of the answer the best solution, its clear and easy to understand and only one call to getChicken is made","body":"i find the first part of the answer the best solution, its clear and easy to understand and only one call to getChicken is made"}],"tags":[],"owner":{"account_id":5252868,"reputation":692,"user_id":4196542,"display_name":"crashxxl"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1428580244,"creation_date":1428580244,"answer_id":29537741,"question_id":29537639,"body_markdown":"    dinner = cage.getChicken();\r\n    if(dinner == null) dinner = getFreeRangeChicken();\r\n\r\nor\r\n\r\n    if( (dinner = cage.getChicken() ) == null) dinner = getFreeRangeChicken();","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<pre><code>dinner = cage.getChicken();\nif(dinner == null) dinner = getFreeRangeChicken();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if( (dinner = cage.getChicken() ) == null) dinner = getFreeRangeChicken();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6125680,"reputation":458,"user_id":4777776,"display_name":"MoxGeek"},"score":1,"creation_date":1605790702,"post_id":29537744,"comment_id":114763775,"body_markdown":"work like i expected, however my IDE ( android studio ) ask me to remove it under the title of &quot;duplicated initialization &quot; ....","body":"work like i expected, however my IDE ( android studio ) ask me to remove it under the title of &quot;duplicated initialization &quot; ...."}],"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":92,"is_accepted":true,"score":92,"last_activity_date":1483528426,"creation_date":1428580253,"answer_id":29537744,"question_id":29537639,"body_markdown":"Java lacks coalesce operator, so your code with an explicit temporary is your best choice for an assignment with a single call.\r\n\r\nYou can use the result variable as your temporary, like this:\r\n\r\n    dinner = ((dinner = cage.getChicken()) != null) ? dinner : getFreeRangeChicken();\r\n\r\nThis, however, is hard to read.","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Java lacks coalesce operator, so your code with an explicit temporary is your best choice for an assignment with a single call.</p>\n\n<p>You can use the result variable as your temporary, like this:</p>\n\n<pre><code>dinner = ((dinner = cage.getChicken()) != null) ? dinner : getFreeRangeChicken();\n</code></pre>\n\n<p>This, however, is hard to read.</p>\n"},{"tags":[],"owner":{"account_id":1828009,"reputation":4065,"user_id":1660228,"accept_rate":80,"display_name":"Loki"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1428581046,"creation_date":1428580307,"answer_id":29537764,"question_id":29537639,"body_markdown":"Using Java 1.8 you can use `Optional`\r\n\r\n\tpublic class Main  {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n            //example call, the methods are just dumb templates, note they are static\r\n\t\t\tFutureMeal meal = getChicken().orElse(getFreeRangeChicken());\r\n\r\n            //another possible way to call this having static methods is\r\n            FutureMeal meal = getChicken().orElseGet(Main::getFreeRangeChicken); //method reference\r\n\r\n            //or if you would use a Instance of Main and call getChicken and getFreeRangeChicken\r\n            // as nonstatic methods (assume static would be replaced with public for this)\r\n            Main m = new Main();\r\n            FutureMeal meal = m.getChicken().orElseGet(m::getFreeRangeChicken); //method reference\r\n            \r\n            //or\r\n            FutureMeal meal = m.getChicken().orElse(m.getFreeRangeChicken()); //method call\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tstatic Optional&lt;FutureMeal&gt; getChicken(){\r\n\t\t\t\r\n\t\t\t//instead of returning null, you would return Optional.empty() \r\n            //here I just return it to demonstrate\r\n\t\t\treturn Optional.empty();\r\n\r\n            //if you would return a valid object the following comment would be the code\r\n            //FutureMeal ret = new FutureMeal(); //your return object\r\n            //return Optional.of(ret);            \r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tstatic FutureMeal getFreeRangeChicken(){\r\n\t\t\treturn new FutureMeal();\r\n\t\t}\r\n\t}\r\n\r\nYou would implement a logic for `getChicken` to return either `Optional.empty()` instead of null, or `Optional.of(myReturnObject)`, where `myReturnObject` is your `chicken`.\r\n\r\nThen you can call `getChicken()` and if it would return `Optional.empty()` the `orElse(fallback)` would give you whatever the fallback would be, in your case the second method.","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Using Java 1.8 you can use <code>Optional</code></p>\n\n<pre><code>public class Main  {\n\n    public static void main(String[] args) {\n\n        //example call, the methods are just dumb templates, note they are static\n        FutureMeal meal = getChicken().orElse(getFreeRangeChicken());\n\n        //another possible way to call this having static methods is\n        FutureMeal meal = getChicken().orElseGet(Main::getFreeRangeChicken); //method reference\n\n        //or if you would use a Instance of Main and call getChicken and getFreeRangeChicken\n        // as nonstatic methods (assume static would be replaced with public for this)\n        Main m = new Main();\n        FutureMeal meal = m.getChicken().orElseGet(m::getFreeRangeChicken); //method reference\n\n        //or\n        FutureMeal meal = m.getChicken().orElse(m.getFreeRangeChicken()); //method call\n\n\n    }\n\n    static Optional&lt;FutureMeal&gt; getChicken(){\n\n        //instead of returning null, you would return Optional.empty() \n        //here I just return it to demonstrate\n        return Optional.empty();\n\n        //if you would return a valid object the following comment would be the code\n        //FutureMeal ret = new FutureMeal(); //your return object\n        //return Optional.of(ret);            \n\n    }\n\n    static FutureMeal getFreeRangeChicken(){\n        return new FutureMeal();\n    }\n}\n</code></pre>\n\n<p>You would implement a logic for <code>getChicken</code> to return either <code>Optional.empty()</code> instead of null, or <code>Optional.of(myReturnObject)</code>, where <code>myReturnObject</code> is your <code>chicken</code>.</p>\n\n<p>Then you can call <code>getChicken()</code> and if it would return <code>Optional.empty()</code> the <code>orElse(fallback)</code> would give you whatever the fallback would be, in your case the second method.</p>\n"},{"comments":[{"owner":{"account_id":53935,"reputation":2915,"user_id":161293,"accept_rate":83,"display_name":"andreszs"},"score":2,"creation_date":1654632297,"post_id":30935017,"comment_id":128135882,"body_markdown":"If the OP&#39;s objective was to prevent clutter, you only managed to worsen the problem.","body":"If the OP&#39;s objective was to prevent clutter, you only managed to worsen the problem."}],"tags":[],"owner":{"account_id":2319381,"reputation":874,"user_id":2035600,"accept_rate":86,"display_name":"Dan Jay"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1434707285,"creation_date":1434707285,"answer_id":30935017,"question_id":29537639,"body_markdown":"Alternatively in Java8 you can use **Nullable** or **NotNull** Annotations according to your need.\r\n\r\n     public class TestingNullable {\r\n            @Nullable\r\n            public Color nullableMethod(){\r\n                //some code here\r\n                return color;\r\n            }\r\n\r\n            public void usingNullableMethod(){\r\n                // some code\r\n                Color color = nullableMethod();\r\n                // Introducing assurance of not-null resolves the problem\r\n                if (color != null) {\r\n                    color.toString();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n----------\r\n\r\n\r\n     public class TestingNullable {\r\n            public void foo(@NotNull Object param){\r\n                //some code here\r\n            }\r\n\r\n            ...\r\n\r\n            public void callingNotNullMethod() {\r\n                //some code here\r\n                // the parameter value according to the explicit contract\r\n                // cannot be null\r\n                foo(null);\r\n            }\r\n        }\r\n\r\nhttp://mindprod.com/jgloss/atnullable.html","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Alternatively in Java8 you can use <strong>Nullable</strong> or <strong>NotNull</strong> Annotations according to your need.</p>\n\n<pre><code> public class TestingNullable {\n        @Nullable\n        public Color nullableMethod(){\n            //some code here\n            return color;\n        }\n\n        public void usingNullableMethod(){\n            // some code\n            Color color = nullableMethod();\n            // Introducing assurance of not-null resolves the problem\n            if (color != null) {\n                color.toString();\n            }\n        }\n    }\n</code></pre>\n\n<hr>\n\n<pre><code> public class TestingNullable {\n        public void foo(@NotNull Object param){\n            //some code here\n        }\n\n        ...\n\n        public void callingNotNullMethod() {\n            //some code here\n            // the parameter value according to the explicit contract\n            // cannot be null\n            foo(null);\n        }\n    }\n</code></pre>\n\n<p><a href=\"http://mindprod.com/jgloss/atnullable.html\" rel=\"nofollow\">http://mindprod.com/jgloss/atnullable.html</a></p>\n"},{"comments":[{"owner":{"account_id":1756174,"reputation":1329,"user_id":2406872,"accept_rate":50,"display_name":"Matheus208"},"score":17,"creation_date":1512050699,"post_id":38084312,"comment_id":82107461,"body_markdown":"If `getFreerangeChicken()` is costly, make sure to use `dinner = Optional.ofNullable(cage.getChicken())\n  .orElseGet(()-&gt;getFreerangeChicken());`","body":"If <code>getFreerangeChicken()</code> is costly, make sure to use <code>dinner = Optional.ofNullable(cage.getChicken())   .orElseGet(()-&gt;getFreerangeChicken());</code>"},{"owner":{"account_id":267334,"reputation":2179,"user_id":555451,"display_name":"Stuart Cardall"},"score":1,"creation_date":1528974602,"post_id":38084312,"comment_id":88714634,"body_markdown":"this was useful in a websocket client: `javax.websocket.CloseReason.getReasonPhrase()` returns `null` on successful messages","body":"this was useful in a websocket client: <code>javax.websocket.CloseReason.getReasonPhrase()</code> returns <code>null</code> on successful messages"},{"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"score":1,"creation_date":1530883182,"post_id":38084312,"comment_id":89403457,"body_markdown":"Too bad it&#39;s discouraged. I kinda like it.","body":"Too bad it&#39;s discouraged. I kinda like it."},{"owner":{"account_id":5007357,"reputation":352,"user_id":4024626,"display_name":"Heather Sawatsky"},"score":0,"creation_date":1543353263,"post_id":38084312,"comment_id":93886345,"body_markdown":"@PieterDeBie Why is this discouraged?","body":"@PieterDeBie Why is this discouraged?"},{"owner":{"account_id":214595,"reputation":4260,"user_id":468661,"accept_rate":90,"display_name":"Alex Pritchard"},"score":3,"creation_date":1585752349,"post_id":38084312,"comment_id":107873699,"body_markdown":"@HeatherSawatsky, I think just because, as the poster of this answer notes, you allocate an entire new Optional object every time you use it, so it&#39;s more expensive than just checking if it&#39;s null yourself.","body":"@HeatherSawatsky, I think just because, as the poster of this answer notes, you allocate an entire new Optional object every time you use it, so it&#39;s more expensive than just checking if it&#39;s null yourself."}],"tags":[],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"comment_count":5,"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1529667309,"creation_date":1467140657,"answer_id":38084312,"question_id":29537639,"body_markdown":"Same principle as Loki&#39;s answer but shorter. Just keep in mind that shorter doesn&#39;t automatically mean better.\r\n\r\n    dinner = Optional.ofNullable(cage.getChicken())\r\n      .orElse(getFreerangeChicken());\r\n\r\n\r\n----\r\nNote: This usage of `Optional` is explicitly discouraged by the architects of the JDK and the designers of the Optional feature. You are allocating a fresh object and immediately throwing it away every time. But on the other hand it can be quite readable.","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Same principle as Loki's answer but shorter. Just keep in mind that shorter doesn't automatically mean better.</p>\n\n<pre><code>dinner = Optional.ofNullable(cage.getChicken())\n  .orElse(getFreerangeChicken());\n</code></pre>\n\n<hr>\n\n<p>Note: This usage of <code>Optional</code> is explicitly discouraged by the architects of the JDK and the designers of the Optional feature. You are allocating a fresh object and immediately throwing it away every time. But on the other hand it can be quite readable.</p>\n"},{"comments":[{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1488069660,"post_id":40171461,"comment_id":72068831,"body_markdown":"why not with java 8?","body":"why not with java 8?"},{"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"score":0,"creation_date":1488101395,"post_id":40171461,"comment_id":72075011,"body_markdown":"Java 8 has Optional, which doesn&#39;t require an external dependency. You can still use this of course.","body":"Java 8 has Optional, which doesn&#39;t require an external dependency. You can still use this of course."},{"owner":{"account_id":1359980,"reputation":17363,"user_id":1680919,"accept_rate":60,"display_name":"Levite"},"score":0,"creation_date":1511264258,"post_id":40171461,"comment_id":81777530,"body_markdown":"Good answer, for example when you develop for Android pre API 24, where `Optional` calls are not available.","body":"Good answer, for example when you develop for Android pre API 24, where <code>Optional</code> calls are not available."},{"owner":{"account_id":313626,"reputation":1356,"user_id":628371,"display_name":"Joachim Lous"},"score":2,"creation_date":1591949846,"post_id":40171461,"comment_id":110254193,"body_markdown":"ObjectUtils also offers ```firstNonNull(cage.getChicken(),getFreeRangeChicken())```, which reads nicer IMO, and allows longer fallback chains.","body":"ObjectUtils also offers <code>firstNonNull(cage.getChicken(),getFreeRangeChicken())</code>, which reads nicer IMO, and allows longer fallback chains."},{"owner":{"account_id":8348155,"reputation":812,"user_id":6271234,"accept_rate":71,"display_name":"Flyout91"},"score":1,"creation_date":1626439945,"post_id":40171461,"comment_id":120900221,"body_markdown":"No because with this both getChicken() and getFreeRangeChicken() are computed, and according to the question only one has to be computed (if - else).","body":"No because with this both getChicken() and getFreeRangeChicken() are computed, and according to the question only one has to be computed (if - else)."},{"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"score":0,"creation_date":1626440242,"post_id":40171461,"comment_id":120900334,"body_markdown":"The problem in the original question was that he had to execute cage.getChicken() two times. Not that he executed both cage.getChicken() and getFreeRangeChicken().","body":"The problem in the original question was that he had to execute cage.getChicken() two times. Not that he executed both cage.getChicken() and getFreeRangeChicken()."}],"tags":[],"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"comment_count":6,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1661778411,"creation_date":1477037359,"answer_id":40171461,"question_id":29537639,"body_markdown":"If you don&#39;t mind to use commons-lang you can use [org.apache.commons.lang3.ObjectUtils#defaultIfNull][1]\r\n\r\nYour code would be:\r\n\r\n    dinner = ObjectUtils.defaultIfNull(cage.getChicken(),getFreeRangeChicken())\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#defaultIfNull-T-T-","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>If you don't mind to use commons-lang you can use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#defaultIfNull-T-T-\" rel=\"nofollow noreferrer\">org.apache.commons.lang3.ObjectUtils#defaultIfNull</a></p>\n<p>Your code would be:</p>\n<pre><code>dinner = ObjectUtils.defaultIfNull(cage.getChicken(),getFreeRangeChicken())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1359980,"reputation":17363,"user_id":1680919,"accept_rate":60,"display_name":"Levite"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1511267056,"creation_date":1511267056,"answer_id":47413065,"question_id":29537639,"body_markdown":"# Use your own\r\n\r\n\r\n    public static &lt;T&gt; T defaultWhenNull(@Nullable T object, @NonNull T def) {\r\n        return (object == null) ? def : object;\r\n    }\r\n\r\nExample:\r\n\r\n    defaultWhenNull(getNullableString(), &quot;&quot;);\r\n\r\n&amp;nbsp;\r\n\r\n### Advantages\r\n - Works if you **don&#39;t develop in Java8** \r\n - Works for android development with support for **pre API 24** devices\r\n - Doesn&#39;t need an external library\r\n\r\n### Disadvantages\r\n\r\n - Always evaluates the `default value` (as oposed to `cond ? nonNull() : notEvaluated()`)\r\n\r\n\r\n   This could be circumvented by passing a Callable instead of a default value, but making it somewhat more complicated and less dynamic (e.g. if performance is an issue).\r\n\r\n   By the way, you encounter the same disadvantage when using `Optional.orElse()` ;-)\r\n\r\n","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<h1>Use your own</h1>\n\n<pre><code>public static &lt;T&gt; T defaultWhenNull(@Nullable T object, @NonNull T def) {\n    return (object == null) ? def : object;\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>defaultWhenNull(getNullableString(), \"\");\n</code></pre>\n\n<p>&nbsp;</p>\n\n<h3>Advantages</h3>\n\n<ul>\n<li>Works if you <strong>don't develop in Java8</strong> </li>\n<li>Works for android development with support for <strong>pre API 24</strong> devices</li>\n<li>Doesn't need an external library</li>\n</ul>\n\n<h3>Disadvantages</h3>\n\n<ul>\n<li><p>Always evaluates the <code>default value</code> (as oposed to <code>cond ? nonNull() : notEvaluated()</code>)</p>\n\n<p>This could be circumvented by passing a Callable instead of a default value, but making it somewhat more complicated and less dynamic (e.g. if performance is an issue).</p>\n\n<p>By the way, you encounter the same disadvantage when using <code>Optional.orElse()</code> ;-)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1535478061,"creation_date":1535478061,"answer_id":52063580,"question_id":29537639,"body_markdown":"Since Java 9 you have [Objects#requireNonNullElse](https://docs.oracle.com/javase/10/docs/api/java/util/Objects.html#requireNonNullElse(T,T)) which does:\r\n\r\n    public static &lt;T&gt; T requireNonNullElse(T obj, T defaultObj) {\r\n        return (obj != null) ? obj : requireNonNull(defaultObj, &quot;defaultObj&quot;);\r\n    }\r\n\r\nYour code would be\r\n\r\n    dinner = Objects.requireNonNullElse(cage.getChicken(), getFreeRangeChicken());\r\n\r\nWhich is 1 line and calls `getChicken()` only once, so both requirements are satisfied.\r\n\r\nNote that the second argument cannot be `null` as well; this method forces non-nullness of the returned value.\r\n\r\nConsider also the alternative [Objects#requireNonNullElseGet](https://docs.oracle.com/javase/10/docs/api/java/util/Objects.html#requireNonNullElseGet(T,java.util.function.Supplier)):\r\n\r\n    public static &lt;T&gt; T requireNonNullElseGet(T obj, Supplier&lt;? extends T&gt; supplier)\r\n\r\nwhich does not even evaluate the second argument if the first is not `null`, but does have the overhead of creating a `Supplier`.","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Since Java 9 you have <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Objects.html#requireNonNullElse(T,T)\" rel=\"noreferrer\">Objects#requireNonNullElse</a> which does:</p>\n\n<pre><code>public static &lt;T&gt; T requireNonNullElse(T obj, T defaultObj) {\n    return (obj != null) ? obj : requireNonNull(defaultObj, \"defaultObj\");\n}\n</code></pre>\n\n<p>Your code would be</p>\n\n<pre><code>dinner = Objects.requireNonNullElse(cage.getChicken(), getFreeRangeChicken());\n</code></pre>\n\n<p>Which is 1 line and calls <code>getChicken()</code> only once, so both requirements are satisfied.</p>\n\n<p>Note that the second argument cannot be <code>null</code> as well; this method forces non-nullness of the returned value.</p>\n\n<p>Consider also the alternative <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Objects.html#requireNonNullElseGet(T,java.util.function.Supplier)\" rel=\"noreferrer\">Objects#requireNonNullElseGet</a>:</p>\n\n<pre><code>public static &lt;T&gt; T requireNonNullElseGet(T obj, Supplier&lt;? extends T&gt; supplier)\n</code></pre>\n\n<p>which does not even evaluate the second argument if the first is not <code>null</code>, but does have the overhead of creating a <code>Supplier</code>.</p>\n"},{"comments":[{"owner":{"account_id":53935,"reputation":2915,"user_id":161293,"accept_rate":83,"display_name":"andreszs"},"score":0,"creation_date":1654632103,"post_id":69402417,"comment_id":128135817,"body_markdown":"(*) Not valid for Java 1.8","body":"(*) Not valid for Java 1.8"},{"owner":{"account_id":7501162,"reputation":820,"user_id":5699459,"accept_rate":50,"display_name":"Michael"},"score":3,"creation_date":1662361034,"post_id":69402417,"comment_id":129979492,"body_markdown":"This will evaluate both functions on every call since it&#39;s the result that gets passed in not a method reference. It would be better to use `Objects.requireNonNullElseGet(cage.getChicken(), () -&gt; getFreeRangeChicken());` which will only call the supplier if the first object is null.","body":"This will evaluate both functions on every call since it&#39;s the result that gets passed in not a method reference. It would be better to use <code>Objects.requireNonNullElseGet(cage.getChicken(), () -&gt; getFreeRangeChicken());</code> which will only call the supplier if the first object is null."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1683035894,"post_id":69402417,"comment_id":134302650,"body_markdown":"This is just a worse version of the answer in https://stackoverflow.com/a/52063580/1803551.","body":"This is just a worse version of the answer in <a href=\"https://stackoverflow.com/a/52063580/1803551\">stackoverflow.com/a/52063580/1803551</a>."},{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1683097682,"post_id":69402417,"comment_id":134312412,"body_markdown":"Fixed the answer. I don&#39;t know what was going through my head when I typed this previously...","body":"Fixed the answer. I don&#39;t know what was going through my head when I typed this previously..."}],"tags":[],"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683097657,"creation_date":1633075086,"answer_id":69402417,"question_id":29537639,"body_markdown":"You could use\r\n\r\n```\r\nObjects.requireNonNullElseGet(cage.getChicken(), () -&gt; getFreerangeChicken())\r\n```\r\n\r\neven nicer with static import:\r\n\r\n```\r\nimport static java.util.Objects.requireNonNullElseGet;\r\n\r\nrequireNonNullElseGet(cage.getChicken(), () -&gt; getFreerangeChicken())\r\n```","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>You could use</p>\n<pre><code>Objects.requireNonNullElseGet(cage.getChicken(), () -&gt; getFreerangeChicken())\n</code></pre>\n<p>even nicer with static import:</p>\n<pre><code>import static java.util.Objects.requireNonNullElseGet;\n\nrequireNonNullElseGet(cage.getChicken(), () -&gt; getFreerangeChicken())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701703192,"creation_date":1701703192,"answer_id":77600586,"question_id":29537639,"body_markdown":"Trivial attempt to make a copy of a list, if it refers to a null, will trigger a **NullPointerException**:\r\n\r\n    List&lt;String&gt; originalList = null;\r\n    List&lt;String&gt; copyList = new ArrayList(originalList);\r\n\r\nSame **NullPointerException** if we will use newer API to get immutable list:\r\n\r\n    List&lt;String&gt; originalList = null;\r\n    List&lt;String&gt; copyList = List.copyOf(originalList);\r\n\r\nAnd this is the good thing we have control to intercept exception. However, we often just want to have an empty list if original list was referring to null. Here few examples creating a copy of original list. **In case of original list is null, it will return an empty list, instead of throwing exception**:\r\n\r\n    //List copied into immutable List\r\n    //Java 9+\r\n    copyList = List.copyOf(Objects.requireNonNullElse(originalList, List.of()));\r\n    //Java 8+\r\n    copyList = List.copyOf(Optional.ofNullable(originalList).orElse(List.of()));\r\n    \r\n    //Copy provided within good old mutable ArrayList\r\n    //Java 9+\r\n    copyList = new ArrayList(Objects.requireNonNullElse(originalList, new ArrayList()));\r\n    //Java 8+\r\n    copyList = new ArrayList(Optional.ofNullable(originalList).orElse(new ArrayList()));","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Trivial attempt to make a copy of a list, if it refers to a null, will trigger a <strong>NullPointerException</strong>:</p>\n<pre><code>List&lt;String&gt; originalList = null;\nList&lt;String&gt; copyList = new ArrayList(originalList);\n</code></pre>\n<p>Same <strong>NullPointerException</strong> if we will use newer API to get immutable list:</p>\n<pre><code>List&lt;String&gt; originalList = null;\nList&lt;String&gt; copyList = List.copyOf(originalList);\n</code></pre>\n<p>And this is the good thing we have control to intercept exception. However, we often just want to have an empty list if original list was referring to null. Here few examples creating a copy of original list. <strong>In case of original list is null, it will return an empty list, instead of throwing exception</strong>:</p>\n<pre><code>//List copied into immutable List\n//Java 9+\ncopyList = List.copyOf(Objects.requireNonNullElse(originalList, List.of()));\n//Java 8+\ncopyList = List.copyOf(Optional.ofNullable(originalList).orElse(List.of()));\n\n//Copy provided within good old mutable ArrayList\n//Java 9+\ncopyList = new ArrayList(Objects.requireNonNullElse(originalList, new ArrayList()));\n//Java 8+\ncopyList = new ArrayList(Optional.ofNullable(originalList).orElse(new ArrayList()));\n</code></pre>\n"}],"owner":{"account_id":1346927,"reputation":2441,"user_id":1287477,"accept_rate":52,"display_name":"Continuity8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216028,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"accepted_answer_id":29537744,"answer_count":10,"score":108,"last_activity_date":1701703192,"creation_date":1428579953,"question_id":29537639,"body_markdown":"Java is littered with statements like:\r\n\r\n    if(cage.getChicken() != null) {\r\n        dinner = cage.getChicken();\r\n    } else {\r\n        dinner = getFreeRangeChicken();\r\n    }\r\n\r\nWhich takes two calls to `getChicken()` before the returned object can be assigned to `dinner`.\r\n\r\nThis could also be written in one line like so:\r\n\r\n    dinner = cage.getChicken() != null? cage.getChicken() : getFreeRangeChicken();\r\nBut alas there are still two calls to `getChicken()`.\r\n\r\nOf course we could assign a local variable then use the ternary operator again to assign it if it is not null, but this is two lines and not so pretty:\r\n\r\n    FutureMeal chicken = cage.getChicken();\r\n    dinner = chicken != null? chicken : getFreeRangeChicken();\r\n\r\nSo is there any way to say:\r\n\r\n&gt; Variable var = some value if some value is not null OR some other\r\n&gt; value;\r\n\r\nAnd I guess I&#39;m just talking syntax here, after the code is compiled it probably doesn&#39;t make much difference how the code was written in a performance sense.\r\n\r\nAs this is such common code it&#39;d be great to have a one-liner to write it.\r\n\r\nDo any other languages have this feature?","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Java is littered with statements like:</p>\n\n<pre><code>if(cage.getChicken() != null) {\n    dinner = cage.getChicken();\n} else {\n    dinner = getFreeRangeChicken();\n}\n</code></pre>\n\n<p>Which takes two calls to <code>getChicken()</code> before the returned object can be assigned to <code>dinner</code>.</p>\n\n<p>This could also be written in one line like so:</p>\n\n<pre><code>dinner = cage.getChicken() != null? cage.getChicken() : getFreeRangeChicken();\n</code></pre>\n\n<p>But alas there are still two calls to <code>getChicken()</code>.</p>\n\n<p>Of course we could assign a local variable then use the ternary operator again to assign it if it is not null, but this is two lines and not so pretty:</p>\n\n<pre><code>FutureMeal chicken = cage.getChicken();\ndinner = chicken != null? chicken : getFreeRangeChicken();\n</code></pre>\n\n<p>So is there any way to say:</p>\n\n<blockquote>\n  <p>Variable var = some value if some value is not null OR some other\n  value;</p>\n</blockquote>\n\n<p>And I guess I'm just talking syntax here, after the code is compiled it probably doesn't make much difference how the code was written in a performance sense.</p>\n\n<p>As this is such common code it'd be great to have a one-liner to write it.</p>\n\n<p>Do any other languages have this feature?</p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"score":0,"creation_date":1375365891,"post_id":17995796,"comment_id":26313332,"body_markdown":"If the spredsheet is not that big you can clear the row you want to delete and then shift back one position the row below... Not the optimal but an option.","body":"If the spredsheet is not that big you can clear the row you want to delete and then shift back one position the row below... Not the optimal but an option."}],"answers":[{"comments":[{"owner":{"account_id":2192969,"reputation":678,"user_id":1939482,"accept_rate":50,"display_name":"James Williams"},"score":0,"creation_date":1375365633,"post_id":17995927,"comment_id":26313145,"body_markdown":"Java is good but in this case I think a VBA macro would be much easier and more efficient.","body":"Java is good but in this case I think a VBA macro would be much easier and more efficient."},{"owner":{"account_id":2192969,"reputation":678,"user_id":1939482,"accept_rate":50,"display_name":"James Williams"},"score":0,"creation_date":1375366599,"post_id":17995927,"comment_id":26313834,"body_markdown":"If you&#39;re working with Excel a lot it&#39;s not a bad idea to pick it up, it&#39;s very easy to learn. Either way it seems that Ganesh has answered your question.","body":"If you&#39;re working with Excel a lot it&#39;s not a bad idea to pick it up, it&#39;s very easy to learn. Either way it seems that Ganesh has answered your question."}],"tags":[],"owner":{"account_id":2192969,"reputation":678,"user_id":1939482,"accept_rate":50,"display_name":"James Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375364966,"creation_date":1375364966,"answer_id":17995927,"question_id":17995796,"body_markdown":"Perhaps using a VBA macro would be more helpful in this situation? VBA macros can be embedded into your spreadsheet, so running them could be a lot easier.\r\n\r\nHere is a good place to get started with VBA:\r\n\r\nhttp://msdn.microsoft.com/en-us/library/office/ee814737(v=office.14).aspx\r\n\r\n","title":"Delete Excel rows programmatically using Java","body":"<p>Perhaps using a VBA macro would be more helpful in this situation? VBA macros can be embedded into your spreadsheet, so running them could be a lot easier.</p>\n\n<p>Here is a good place to get started with VBA:</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/office/ee814737(v=office.14).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/office/ee814737(v=office.14).aspx</a></p>\n"},{"tags":[],"owner":{"account_id":2887395,"reputation":2006,"user_id":2476907,"display_name":"Ganesh Rengarajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375365675,"creation_date":1375365675,"answer_id":17996214,"question_id":17995796,"body_markdown":" Try this one...    \r\n\r\n     SVTableModel model = new SVTableModel(sheet);\r\n     int lastIndex = model.getRowCount();\r\n     for (int i=1; i&lt;=lastIndex; i++)\r\n       {\r\n      row=sheet.getRow(i);\r\n      if((row.getCell(getLastCell)!=null) &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not valid&quot;) ||  row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not Applicable&quot;)))\r\n      {\r\n          row.setZeroHeight(true);\r\n          sheet.removeRow(row);\r\n      }","title":"Delete Excel rows programmatically using Java","body":"<p>Try this one...    </p>\n\n<pre><code> SVTableModel model = new SVTableModel(sheet);\n int lastIndex = model.getRowCount();\n for (int i=1; i&lt;=lastIndex; i++)\n   {\n  row=sheet.getRow(i);\n  if((row.getCell(getLastCell)!=null) &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not valid\") ||  row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not Applicable\")))\n  {\n      row.setZeroHeight(true);\n      sheet.removeRow(row);\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"score":0,"creation_date":1375368123,"post_id":17996849,"comment_id":26314956,"body_markdown":"@JavaDeveloper In the code you posted,you didn&#39;t set properly the values to shift the row. In fact you are shift all the rows including the one you want to delete up by one, instead i&#39;m moving up by 1 all the row below the one you want to delete.","body":"@JavaDeveloper In the code you posted,you didn&#39;t set properly the values to shift the row. In fact you are shift all the rows including the one you want to delete up by one, instead i&#39;m moving up by 1 all the row below the one you want to delete."}],"tags":[],"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375367275,"creation_date":1375367275,"answer_id":17996849,"question_id":17995796,"body_markdown":"Instead of `sheet.removeRow(row);` you can use the `shiftRows(int startRow, int endRow, int n)` instruction, that seems you have tried, that shifts rows between startRow and endRow n number of rows. \r\n\r\nIn your case it will be\r\n\r\n    // ... code before    ...\r\n    for (int i=0; i&lt;=lastIndex; i++)\r\n            {\r\n              row=sheet.getRow(i);\r\n              if(row.getCell(getLastCell)!=null &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not valid&quot;) || row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not Applicable&quot;)))\r\n                  {\r\n                   // This should shift up by 1 row all the rows below\r\n                   sheet.shiftRows(i+1, lastIndex, -1);\r\n                   i--; // Since you move row at i+1 to i you have to recompute the i-th row\r\n                }\r\n            }\r\n    // ... code after ...\r\n\r\nCheck [org.apache.poi.hssf.usermodel.HSSFSheet Documentation](http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFSheet.html) for more information","title":"Delete Excel rows programmatically using Java","body":"<p>Instead of <code>sheet.removeRow(row);</code> you can use the <code>shiftRows(int startRow, int endRow, int n)</code> instruction, that seems you have tried, that shifts rows between startRow and endRow n number of rows. </p>\n\n<p>In your case it will be</p>\n\n<pre><code>// ... code before    ...\nfor (int i=0; i&lt;=lastIndex; i++)\n        {\n          row=sheet.getRow(i);\n          if(row.getCell(getLastCell)!=null &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not valid\") || row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not Applicable\")))\n              {\n               // This should shift up by 1 row all the rows below\n               sheet.shiftRows(i+1, lastIndex, -1);\n               i--; // Since you move row at i+1 to i you have to recompute the i-th row\n            }\n        }\n// ... code after ...\n</code></pre>\n\n<p>Check <a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFSheet.html\" rel=\"nofollow\">org.apache.poi.hssf.usermodel.HSSFSheet Documentation</a> for more information</p>\n"},{"comments":[{"owner":{"account_id":15904122,"reputation":11,"user_id":11475794,"display_name":"Ravi Chhetri"},"score":0,"creation_date":1569324310,"post_id":58079189,"comment_id":102552867,"body_markdown":"This code is for deleting all the records in the different sheet. Just pass the value of the sheet.","body":"This code is for deleting all the records in the different sheet. Just pass the value of the sheet."},{"owner":{"account_id":1854656,"reputation":1056,"user_id":4720652,"display_name":"Saharsh"},"score":0,"creation_date":1569324709,"post_id":58079189,"comment_id":102553089,"body_markdown":"Welcome to SO! Posting long code as answer is fine but it&#39;s important that you explain what exactly you changed in OP&#39;s code to make it work","body":"Welcome to SO! Posting long code as answer is fine but it&#39;s important that you explain what exactly you changed in OP&#39;s code to make it work"}],"tags":[],"owner":{"account_id":15904122,"reputation":11,"user_id":11475794,"display_name":"Ravi Chhetri"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569324137,"creation_date":1569324137,"answer_id":58079189,"question_id":17995796,"body_markdown":"Please try the below code. My last cell value is Mismatched ot \r\n    Matched. Set as per ur excel.\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    public class DeleteAllRecord {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\ttry{\r\n\r\n\t\t\tFile src= new File(&quot;testdata\\\\OSBC.xlsx&quot;);\r\n\t\t\tFileInputStream fis= new FileInputStream(src);\r\n\t\t\tXSSFWorkbook workbook= new XSSFWorkbook(fis);\r\n\t\t\tXSSFSheet data= workbook.getSheet(&quot;TestData&quot;);\t\r\n\t\t\tint length=data.getLastRowNum();\r\n\t\t\tXSSFSheet data1;\r\n\t\t\tRow row1;\r\n\t\t\tfor(int i=1;i&lt;=length;i++){\r\n\r\n\t\t\t\tString testCaseNo=data.getRow(i).getCell(4).toString();\r\n\t\t\t\tSystem.out.println(&quot;The Testcase no &quot;+testCaseNo);\r\n\t\t\t\tdata1= workbook.getSheet(testCaseNo);\r\n\t\t\t\trow1 = data1.getRow(2);\r\n\t\t\t\tint getLastCell=row1.getLastCellNum()-1;\r\n\t\t\t\tSystem.out.println(&quot;The last cell is &quot;+getLastCell);\r\n\t\t\t\tint lastIndex = data1.getLastRowNum();\r\n\t\t\t\tSystem.out.println(&quot;The last row is &quot;+lastIndex);\r\n\t\t\t\tString str1= row1.getCell(getLastCell).toString();\r\n\t\t\t\tSystem.out.println(&quot;The valu1 is &quot;+ str1);\r\n\t\t\t\tfor (int j=0; j&lt;lastIndex-1; j++)\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\tString str=data1.getRow(j+2).getCell(getLastCell).toString();\r\n\t\t\t\t\trow1=data1.getRow(j+2);\r\n\t\t\t\t\tSystem.out.println(&quot;print &quot; + (j+2) +str);\r\n\r\n\t\t\t\t\tif(row1.getCell(getLastCell)!=null &amp;&amp;\r\n    (row1.getCell(getLastCell).toString().equalsIgnoreCase(&quot;MATCHED&quot;)||\r\n    row1.getCell(getLastCell).toString().equalsIgnoreCase(&quot;MISMATCHED&quot;)|| \r\n    row1.getCell(getLastCell).toString().equalsIgnoreCase(&quot;&quot;))){\r\n\t\t\t\t\t\t\r\n    data1.removeRow(row1);\r\n\t\t\t\t\t\tSystem.out.println(&quot;print &quot; + (j+2)+ &quot; &quot; +str);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Null&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tFileOutputStream fileOut = new FileOutputStream(&quot;testdata\\\\delete.xlsx&quot;);\r\n\t\t\t\tworkbook.write(fileOut);\r\n\t\t\t\tfileOut.close();\r\n\t\t\t\tSystem.out.println(&quot;File deleted&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\r\n\t\t\tSystem.out.println(&quot;No Data Exists to delete&quot;);\r\n\t\t  }\r\n\t   }\r\n    }\r\n","title":"Delete Excel rows programmatically using Java","body":"<p>Please try the below code. My last cell value is Mismatched ot \n    Matched. Set as per ur excel.</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class DeleteAllRecord {\n\npublic static void main(String[] args) {\n\n    try{\n\n        File src= new File(\"testdata\\\\OSBC.xlsx\");\n        FileInputStream fis= new FileInputStream(src);\n        XSSFWorkbook workbook= new XSSFWorkbook(fis);\n        XSSFSheet data= workbook.getSheet(\"TestData\");  \n        int length=data.getLastRowNum();\n        XSSFSheet data1;\n        Row row1;\n        for(int i=1;i&lt;=length;i++){\n\n            String testCaseNo=data.getRow(i).getCell(4).toString();\n            System.out.println(\"The Testcase no \"+testCaseNo);\n            data1= workbook.getSheet(testCaseNo);\n            row1 = data1.getRow(2);\n            int getLastCell=row1.getLastCellNum()-1;\n            System.out.println(\"The last cell is \"+getLastCell);\n            int lastIndex = data1.getLastRowNum();\n            System.out.println(\"The last row is \"+lastIndex);\n            String str1= row1.getCell(getLastCell).toString();\n            System.out.println(\"The valu1 is \"+ str1);\n            for (int j=0; j&lt;lastIndex-1; j++)\n            {\n\n                String str=data1.getRow(j+2).getCell(getLastCell).toString();\n                row1=data1.getRow(j+2);\n                System.out.println(\"print \" + (j+2) +str);\n\n                if(row1.getCell(getLastCell)!=null &amp;&amp;\n(row1.getCell(getLastCell).toString().equalsIgnoreCase(\"MATCHED\")||\nrow1.getCell(getLastCell).toString().equalsIgnoreCase(\"MISMATCHED\")|| \nrow1.getCell(getLastCell).toString().equalsIgnoreCase(\"\"))){\n\ndata1.removeRow(row1);\n                    System.out.println(\"print \" + (j+2)+ \" \" +str);\n\n                }\n                else{\n                    System.out.println(\"Null\");\n                }\n            }\n            FileOutputStream fileOut = new FileOutputStream(\"testdata\\\\delete.xlsx\");\n            workbook.write(fileOut);\n            fileOut.close();\n            System.out.println(\"File deleted\");\n        }\n    }\n    catch(Exception e){\n\n        System.out.println(\"No Data Exists to delete\");\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2401998,"reputation":165,"user_id":2099478,"accept_rate":55,"display_name":"Java Developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1701702410,"creation_date":1375364667,"question_id":17995796,"body_markdown":"Finding last column cell values. if cell value is &quot;Not Valid&quot; or &quot;Not Applicable&quot;, delete the entire row.\r\n\r\n The code I have written so far is as follows:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n\r\n    public class Column\r\n    {\r\n    \tpublic static void main(String[] args) throws InvalidFormatException, FileNotFoundException, IOException\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tWorkbook wb = WorkbookFactory.create(new FileInputStream(&quot;C:/Users/Excel1.xlsx&quot;));\r\n    \t\t\tSheet sheet = wb.getSheet(&quot;Retail-All&quot;);\r\n    \t\t\t\r\n    \t\t\tWorkbook wb2 = new HSSFWorkbook();\r\n    \t\t\twb2 = wb;\r\n    \t\t\t\r\n    \t\t\tRow row;\r\n    \t\t\trow = sheet.getRow(0);\r\n    \t\t\tint getLastCell=row.getLastCellNum()-1;\r\n            \tint lastIndex = sheet.getLastRowNum();\r\n            \t\r\n            \tfor (int i=0; i&lt;=lastIndex; i++)\r\n            \t{\r\n          \t \t    row=sheet.getRow(i);\r\n          \t\t    if(row.getCell(getLastCell)!=null &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not valid) || row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not Applicable&quot;)))\r\n                    {\r\n          \t\t   \t\tsheet.removeRow(row);\r\n          \t\t   \t\t//sheet.shiftRows(i, lastIndex, -1);\r\n              \t\t}\r\n            \t}\r\n            \tFileOutputStream fileOut = new FileOutputStream(&quot;C:/Users/shiftRows.xlsx&quot;);\r\n            \twb2.write(fileOut);\r\n            \tfileOut.close();\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nWith the above code, using row.setZeroHeight(true); method I can able to hide the rows. \r\n  \r\nWith the above code, using sheet.removeRow(row); method I can able to empty all the cells in that particular row.\r\n\r\nI found some code in net, but none of them are deleting the rows permanently.My requirement is to delete the rows permanently. How to code to meet my requirement?","title":"Delete Excel rows programmatically using Java","body":"<p>Finding last column cell values. if cell value is \"Not Valid\" or \"Not Applicable\", delete the entire row.</p>\n\n<p>The code I have written so far is as follows:</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\nimport org.apache.poi.ss.usermodel.Workbook;\n\npublic class Column\n{\n    public static void main(String[] args) throws InvalidFormatException, FileNotFoundException, IOException\n    {\n        try\n        {\n            Workbook wb = WorkbookFactory.create(new FileInputStream(\"C:/Users/Excel1.xlsx\"));\n            Sheet sheet = wb.getSheet(\"Retail-All\");\n\n            Workbook wb2 = new HSSFWorkbook();\n            wb2 = wb;\n\n            Row row;\n            row = sheet.getRow(0);\n            int getLastCell=row.getLastCellNum()-1;\n            int lastIndex = sheet.getLastRowNum();\n\n            for (int i=0; i&lt;=lastIndex; i++)\n            {\n                row=sheet.getRow(i);\n                if(row.getCell(getLastCell)!=null &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not valid) || row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not Applicable\")))\n                {\n                    sheet.removeRow(row);\n                    //sheet.shiftRows(i, lastIndex, -1);\n                }\n            }\n            FileOutputStream fileOut = new FileOutputStream(\"C:/Users/shiftRows.xlsx\");\n            wb2.write(fileOut);\n            fileOut.close();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>With the above code, using row.setZeroHeight(true); method I can able to hide the rows. </p>\n\n<p>With the above code, using sheet.removeRow(row); method I can able to empty all the cells in that particular row.</p>\n\n<p>I found some code in net, but none of them are deleting the rows permanently.My requirement is to delete the rows permanently. How to code to meet my requirement?</p>\n"},{"tags":["java","web-services","rest","jersey"],"comments":[{"owner":{"account_id":135266,"reputation":6543,"user_id":338004,"display_name":"Paul Jowett"},"score":0,"creation_date":1333619663,"post_id":10025702,"comment_id":12822697,"body_markdown":"is it because your web.xml is referring to &quot;com.restful.demo.resources&quot; but your code is in the package &quot;mypack&quot;?","body":"is it because your web.xml is referring to &quot;com.restful.demo.resources&quot; but your code is in the package &quot;mypack&quot;?"},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333621096,"post_id":10025702,"comment_id":12823124,"body_markdown":"I am getting the same error after adding the package&quot;mypack&quot; in web.xml","body":"I am getting the same error after adding the package&quot;mypack&quot; in web.xml"},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333698687,"post_id":10025702,"comment_id":12844769,"body_markdown":"I am working from this example:\nhttp://www.jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey/\nPlease give suggestions how do it.","body":"I am working from this example: <a href=\"http://www.jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey/\" rel=\"nofollow noreferrer\">jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey</a> Please give suggestions how do it."}],"answers":[{"comments":[{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333620914,"post_id":10026475,"comment_id":12823077,"body_markdown":"I am getting error after adding the package in web.xml:\nThe specified HTTP method is not allowed for the requested resource (Method Not Allowed).","body":"I am getting error after adding the package in web.xml: The specified HTTP method is not allowed for the requested resource (Method Not Allowed)."},{"owner":{"account_id":60290,"reputation":2077,"user_id":180152,"accept_rate":81,"display_name":"jaxb"},"score":0,"creation_date":1333622385,"post_id":10026475,"comment_id":12823552,"body_markdown":"@Praveensai How you are calling web-service? How you are passing parameters for sum?","body":"@Praveensai How you are calling web-service? How you are passing parameters for sum?"},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333622712,"post_id":10026475,"comment_id":12823667,"body_markdown":"For that we are using xml and by using the annotations:\n@XmlAccessorType(XmlAccessType.FIELD)\nFor passing parameter for sum:\n@XmlType(name = &quot;sum&quot;, propOrder = {\n    &quot;arg0&quot;,\n    &quot;arg1&quot;}) in the sum class\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;sumResponse&quot;, propOrder = {\n    &quot;_return&quot; in SumResponse class","body":"For that we are using xml and by using the annotations: @XmlAccessorType(XmlAccessType.FIELD) For passing parameter for sum: @XmlType(name = &quot;sum&quot;, propOrder = {     &quot;arg0&quot;,     &quot;arg1&quot;}) in the sum class  @XmlAccessorType(XmlAccessType.FIELD) @XmlType(name = &quot;sumResponse&quot;, propOrder = {     &quot;_return&quot; in SumResponse class"},{"owner":{"account_id":60290,"reputation":2077,"user_id":180152,"accept_rate":81,"display_name":"jaxb"},"score":0,"creation_date":1333623219,"post_id":10026475,"comment_id":12823838,"body_markdown":"Please add @GET/@POST before public String sum(int x,int y) to specify which type of request you want for web-method. And call it accordingly using GET/POST. This will solve above error. All the best.","body":"Please add @GET/@POST before public String sum(int x,int y) to specify which type of request you want for web-method. And call it accordingly using GET/POST. This will solve above error. All the best."},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333624605,"post_id":10026475,"comment_id":12824334,"body_markdown":"After adding the @POST to the method it is giving the same error","body":"After adding the @POST to the method it is giving the same error"},{"owner":{"account_id":60290,"reputation":2077,"user_id":180152,"accept_rate":81,"display_name":"jaxb"},"score":0,"creation_date":1333625054,"post_id":10026475,"comment_id":12824497,"body_markdown":"Are you calling web-method by using URL? You need to call it from HTML form and setting method as POST in form /any other method using POST like using apache lib for POST request. Or If are calling method by using URL set it to @GET.","body":"Are you calling web-method by using URL? You need to call it from HTML form and setting method as POST in form /any other method using POST like using apache lib for POST request. Or If are calling method by using URL set it to @GET."},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333625936,"post_id":10026475,"comment_id":12824816,"body_markdown":"I have not created any method using URL and also HTML form, it will take the index.jsp as the default as welcome page and it will use it.","body":"I have not created any method using URL and also HTML form, it will take the index.jsp as the default as welcome page and it will use it."},{"owner":{"account_id":60290,"reputation":2077,"user_id":180152,"accept_rate":81,"display_name":"jaxb"},"score":0,"creation_date":1333626860,"post_id":10026475,"comment_id":12825143,"body_markdown":"But how index.jsp is calling web-service?","body":"But how index.jsp is calling web-service?"},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333626899,"post_id":10026475,"comment_id":12825157,"body_markdown":"I have added @GET to the method public String sum(int x,int y) it is showing  \nUnsupported Media Type:\ndescription The server refused this request because the request entity is in a format not supported by the requested resource for the requested method (Unsupported Media Type).\nThen i added @Produces(MediaType.TEXT_XML) to the method\nthen also it is showing the error above","body":"I have added @GET to the method public String sum(int x,int y) it is showing   Unsupported Media Type: description The server refused this request because the request entity is in a format not supported by the requested resource for the requested method (Unsupported Media Type). Then i added @Produces(MediaType.TEXT_XML) to the method then also it is showing the error above"},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333698608,"post_id":10026475,"comment_id":12844757,"body_markdown":"I am working from this example:\nhttp://www.jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey/\nPlease give suggestions how do it.","body":"I am working from this example: <a href=\"http://www.jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey/\" rel=\"nofollow noreferrer\">jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey</a> Please give suggestions how do it."}],"tags":[],"owner":{"account_id":60290,"reputation":2077,"user_id":180152,"accept_rate":81,"display_name":"jaxb"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333619957,"creation_date":1333619957,"answer_id":10026475,"question_id":10025702,"body_markdown":"It is because:\r\n  \r\n    &lt;init-param&gt;\r\n         &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n         &lt;param-value&gt;com.restful.demo.resources&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\nChange it to:\r\n\r\n     &lt;init-param&gt;\r\n         &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n         &lt;param-value&gt;p1&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n","title":"WebServices Calculator Example using Java","body":"<p>It is because:</p>\n\n<pre><code>&lt;init-param&gt;\n     &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n     &lt;param-value&gt;com.restful.demo.resources&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<p>Change it to:</p>\n\n<pre><code> &lt;init-param&gt;\n     &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n     &lt;param-value&gt;p1&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333698388,"post_id":10028641,"comment_id":12844704,"body_markdown":"I am working from this example:\nhttp://www.jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey/\nPlease give suggestions how do it.","body":"I am working from this example: <a href=\"http://www.jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey/\" rel=\"nofollow noreferrer\">jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey</a> Please give suggestions how do it."},{"owner":{"account_id":917789,"reputation":7969,"user_id":950199,"display_name":"Martin Matula"},"score":1,"creation_date":1333701600,"post_id":10028641,"comment_id":12845364,"body_markdown":"That sample looks fine, but your code is very different. Seems like you replaced all the jax-rs annotations with jax-ws ones. So no wonder it doesn&#39;t work. Just read any introductory article on jax-rs. E.g. http://jersey.java.net/nonav/documentation/latest/jax-rs.html","body":"That sample looks fine, but your code is very different. Seems like you replaced all the jax-rs annotations with jax-ws ones. So no wonder it doesn&#39;t work. Just read any introductory article on jax-rs. E.g. <a href=\"http://jersey.java.net/nonav/documentation/latest/jax-rs.html\" rel=\"nofollow noreferrer\">jersey.java.net/nonav/documentation/latest/jax-rs.html</a>"},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333708477,"post_id":10028641,"comment_id":12846959,"body_markdown":"The example is working fine but not giving all the values in the xml","body":"The example is working fine but not giving all the values in the xml"},{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":0,"creation_date":1333711981,"post_id":10028641,"comment_id":12847839,"body_markdown":"What do you mean by &quot;not giving all values&quot;? Either the result is XML, or not. It can&#39;t be in-between. Also have a look at [documentiation](http://jersey.java.net/nonav/documentation/latest/xml.html#d4e820).","body":"What do you mean by &quot;not giving all values&quot;? Either the result is XML, or not. It can&#39;t be in-between. Also have a look at <a href=\"http://jersey.java.net/nonav/documentation/latest/xml.html#d4e820\" rel=\"nofollow noreferrer\">documentiation</a>."}],"tags":[],"owner":{"account_id":917789,"reputation":7969,"user_id":950199,"display_name":"Martin Matula"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333629094,"creation_date":1333629094,"answer_id":10028641,"question_id":10025702,"body_markdown":"What I see is a code using a JAX-WS web service and a web.xml registering Jersey servlet. There is not a single JAX-RS resource in your code. So that&#39;s why you are getting the error. Look at the JAX-RS spec and see how to write JAX-RS resources.","title":"WebServices Calculator Example using Java","body":"<p>What I see is a code using a JAX-WS web service and a web.xml registering Jersey servlet. There is not a single JAX-RS resource in your code. So that's why you are getting the error. Look at the JAX-RS spec and see how to write JAX-RS resources.</p>\n"}],"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12076,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701702410,"creation_date":1333616752,"question_id":10025702,"body_markdown":"I have created an sample application of calculator for sum of two numbers using webservices in Java by using Jersey service.\r\n\r\nMy code is : \r\nCalculator.java\r\n\r\n    package p1;\r\n    import javax.jws.WebService;\r\n    import javax.jws.WebMethod;\r\n    import javax.ws.rs.Path;\r\n    \r\n    @WebService\r\n    @Path(&quot;/CalculatorService&quot;)\r\n    public class Calculator\r\n    {\r\n    \t@WebMethod\r\n    \tpublic String sum(int x,int y)\r\n    \t{\r\n    \t\treturn &quot;&quot;+(x+y);\r\n    \t}\r\n    }\r\nCalculator.java:\r\n\r\n    package mypack;\r\n    \r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebParam;\r\n    import javax.jws.WebResult;\r\n    import javax.jws.WebService;\r\n    import javax.xml.ws.RequestWrapper;\r\n    import javax.xml.ws.ResponseWrapper;\r\n    \r\n    \r\n    /**\r\n     * This class was generated by the JAXWS SI.\r\n     * JAX-WS RI 2.0_02-b08-fcs\r\n     * Generated source version: 2.0\r\n     * \r\n     */\r\n    @WebService(name = &quot;Calculator&quot;, targetNamespace = &quot;http://p1/&quot;)\r\n    public interface Calculator {\r\n    \r\n    \r\n        /**\r\n         * \r\n         * @param arg1\r\n         * @param arg0\r\n         * @return\r\n         *     returns java.lang.String\r\n         */\r\n        @WebMethod\r\n        @WebResult(targetNamespace = &quot;&quot;)\r\n        @RequestWrapper(localName = &quot;sum&quot;, targetNamespace = &quot;http://p1/&quot;, className = &quot;mypack.Sum&quot;)\r\n        @ResponseWrapper(localName = &quot;sumResponse&quot;, targetNamespace = &quot;http://p1/&quot;, className = &quot;mypack.SumResponse&quot;)\r\n        public String sum(\r\n            @WebParam(name = &quot;arg0&quot;, targetNamespace = &quot;&quot;)\r\n            int arg0,\r\n            @WebParam(name = &quot;arg1&quot;, targetNamespace = &quot;&quot;)\r\n            int arg1);\r\n    \r\n    }\r\nCalculatorService.java:\r\n\r\n    package mypack;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.ws.Service;\r\n    import javax.xml.ws.WebEndpoint;\r\n    import javax.xml.ws.WebServiceClient;\r\n    \r\n    \r\n    /**\r\n     * This class was generated by the JAXWS SI.\r\n     * JAX-WS RI 2.0_02-b08-fcs\r\n     * Generated source version: 2.0\r\n     * \r\n     */\r\n    @WebServiceClient(name = &quot;CalculatorService&quot;, targetNamespace = &quot;http://p1/&quot;, wsdlLocation = &quot;http://localhost:8081/MyCalculatorWs/CalculatorService?WSDL&quot;)\r\n    public class CalculatorService\r\n        extends Service\r\n    {\r\n    \r\n        private final static URL CALCULATORSERVICE_WSDL_LOCATION;\r\n    \r\n        static {\r\n            URL url = null;\r\n            try {\r\n                url = new URL(&quot;http://localhost:8081/MyCalculatorWs/CalculatorService?WSDL&quot;);\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            CALCULATORSERVICE_WSDL_LOCATION = url;\r\n        }\r\n    \r\n        public CalculatorService(URL wsdlLocation, QName serviceName) {\r\n            super(wsdlLocation, serviceName);\r\n        }\r\n    \r\n        public CalculatorService() {\r\n            super(CALCULATORSERVICE_WSDL_LOCATION, new QName(&quot;http://p1/&quot;, &quot;CalculatorService&quot;));\r\n        }\r\n    \r\n        /**\r\n         * \r\n         * @return\r\n         *     returns Calculator\r\n         */\r\n        @WebEndpoint(name = &quot;CalculatorPort&quot;)\r\n        public Calculator getCalculatorPort() {\r\n            return (Calculator)super.getPort(new QName(&quot;http://p1/&quot;, &quot;CalculatorPort&quot;), Calculator.class);\r\n        }\r\n    \r\n    }\r\nObjectFactory.java:\r\n\r\n\r\n    package mypack;\r\n    \r\n    import javax.xml.bind.JAXBElement;\r\n    import javax.xml.bind.annotation.XmlElementDecl;\r\n    import javax.xml.bind.annotation.XmlRegistry;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    \r\n    /**\r\n     * This object contains factory methods for each \r\n     * Java content interface and Java element interface \r\n     * generated in the mypack package. \r\n     * &lt;p&gt;An ObjectFactory allows you to programatically \r\n     * construct new instances of the Java representation \r\n     * for XML content. The Java representation of XML \r\n     * content can consist of schema derived interfaces \r\n     * and classes representing the binding of schema \r\n     * type definitions, element declarations and model \r\n     * groups.  Factory methods for each of these are \r\n     * provided in this class.\r\n     * \r\n     */\r\n    @XmlRegistry\r\n    public class ObjectFactory {\r\n    \r\n        private final static QName _Sum_QNAME = new QName(&quot;http://p1/&quot;, &quot;sum&quot;);\r\n        private final static QName _SumResponse_QNAME = new QName(&quot;http://p1/&quot;, &quot;sumResponse&quot;);\r\n    \r\n        /**\r\n         * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: mypack\r\n         * \r\n         */\r\n        public ObjectFactory() {\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link Sum }\r\n         * \r\n         */\r\n        public Sum createSum() {\r\n            return new Sum();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link SumResponse }\r\n         * \r\n         */\r\n        public SumResponse createSumResponse() {\r\n            return new SumResponse();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link JAXBElement }{@code &lt;}{@link Sum }{@code &gt;}}\r\n         * \r\n         */\r\n        @XmlElementDecl(namespace = &quot;http://p1/&quot;, name = &quot;sum&quot;)\r\n        public JAXBElement&lt;Sum&gt; createSum(Sum value) {\r\n            return new JAXBElement&lt;Sum&gt;(_Sum_QNAME, Sum.class, null, value);\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link JAXBElement }{@code &lt;}{@link SumResponse }{@code &gt;}}\r\n         * \r\n         */\r\n        @XmlElementDecl(namespace = &quot;http://p1/&quot;, name = &quot;sumResponse&quot;)\r\n        public JAXBElement&lt;SumResponse&gt; createSumResponse(SumResponse value) {\r\n            return new JAXBElement&lt;SumResponse&gt;(_SumResponse_QNAME, SumResponse.class, null, value);\r\n        }\r\n    \r\n    }\r\npackage-info.java:\r\n\r\n    @javax.xml.bind.annotation.XmlSchema(namespace = &quot;http://p1/&quot;)\r\n    package mypack;\r\n\r\nSum.java:\r\n\r\n    package mypack;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    \r\n    /**\r\n     * &lt;p&gt;Java class for sum complex type.\r\n     * \r\n     * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;complexType name=&quot;sum&quot;&gt;\r\n     *   &amp;lt;complexContent&gt;\r\n     *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&gt;\r\n     *       &amp;lt;sequence&gt;\r\n     *         &amp;lt;element name=&quot;arg0&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}int&quot;/&gt;\r\n     *         &amp;lt;element name=&quot;arg1&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}int&quot;/&gt;\r\n     *       &amp;lt;/sequence&gt;\r\n     *     &amp;lt;/restriction&gt;\r\n     *   &amp;lt;/complexContent&gt;\r\n     * &amp;lt;/complexType&gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;sum&quot;, propOrder = {\r\n        &quot;arg0&quot;,\r\n        &quot;arg1&quot;\r\n    })\r\n    public class Sum {\r\n    \r\n        protected int arg0;\r\n        protected int arg1;\r\n    \r\n        /**\r\n         * Gets the value of the arg0 property.\r\n         * \r\n         */\r\n        public int getArg0() {\r\n            return arg0;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the arg0 property.\r\n         * \r\n         */\r\n        public void setArg0(int value) {\r\n            this.arg0 = value;\r\n        }\r\n    \r\n        /**\r\n         * Gets the value of the arg1 property.\r\n         * \r\n         */\r\n        public int getArg1() {\r\n            return arg1;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the arg1 property.\r\n         * \r\n         */\r\n        public void setArg1(int value) {\r\n            this.arg1 = value;\r\n        }\r\n    \r\n    }\r\n\r\nSumResponse.java:\r\n\r\n    package mypack;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    \r\n    /**\r\n     * &lt;p&gt;Java class for sumResponse complex type.\r\n     * \r\n     * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;complexType name=&quot;sumResponse&quot;&gt;\r\n     *   &amp;lt;complexContent&gt;\r\n     *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&gt;\r\n     *       &amp;lt;sequence&gt;\r\n     *         &amp;lt;element name=&quot;return&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot; minOccurs=&quot;0&quot;/&gt;\r\n     *       &amp;lt;/sequence&gt;\r\n     *     &amp;lt;/restriction&gt;\r\n     *   &amp;lt;/complexContent&gt;\r\n     * &amp;lt;/complexType&gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;sumResponse&quot;, propOrder = {\r\n        &quot;_return&quot;\r\n    })\r\n    public class SumResponse {\r\n    \r\n        @XmlElement(name = &quot;return&quot;)\r\n        protected String _return;\r\n    \r\n        /**\r\n         * Gets the value of the return property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public String getReturn() {\r\n            return _return;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the return property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public void setReturn(String value) {\r\n            this._return = value;\r\n        }\r\n    \r\n    }\r\nAnd my web.xml file is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;CalculatorEx&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n     &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n          &lt;param-value&gt;com.restful.demo.resources&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\nI am executing my application using:\r\n`http://localhost:8080/CalculatorEx/rest/CalculatorService`\r\n\r\ni am getting the error like this:\r\n\r\n    exception:\r\n    javax.servlet.ServletException: Servlet.init() for servlet Jersey REST Service threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n    \tjava.lang.Thread.run(Thread.java:679)\r\n    \r\n    root cause:\r\n    com.sun.jersey.api.container.ContainerException: The ResourceConfig instance does not contain any root resource classes.\r\n    \tcom.sun.jersey.server.impl.application.RootResourceUriRules.&lt;init&gt;(RootResourceUriRules.java:99)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl._initiate(WebApplicationImpl.java:1298)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl.access$700(WebApplicationImpl.java:169)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:775)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:771)\r\n    \tcom.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:771)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:766)\r\n    \tcom.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:488)\r\n    \tcom.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:318)\r\n    \tcom.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:609)\r\n    \tcom.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:210)\r\n    \tcom.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:373)\r\n    \tcom.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:556)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n    \tjava.lang.Thread.run(Thread.java:679)\r\n\r\n","title":"WebServices Calculator Example using Java","body":"<p>I have created an sample application of calculator for sum of two numbers using webservices in Java by using Jersey service.</p>\n\n<p>My code is : \nCalculator.java</p>\n\n<pre><code>package p1;\nimport javax.jws.WebService;\nimport javax.jws.WebMethod;\nimport javax.ws.rs.Path;\n\n@WebService\n@Path(\"/CalculatorService\")\npublic class Calculator\n{\n    @WebMethod\n    public String sum(int x,int y)\n    {\n        return \"\"+(x+y);\n    }\n}\n</code></pre>\n\n<p>Calculator.java:</p>\n\n<pre><code>package mypack;\n\nimport javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebResult;\nimport javax.jws.WebService;\nimport javax.xml.ws.RequestWrapper;\nimport javax.xml.ws.ResponseWrapper;\n\n\n/**\n * This class was generated by the JAXWS SI.\n * JAX-WS RI 2.0_02-b08-fcs\n * Generated source version: 2.0\n * \n */\n@WebService(name = \"Calculator\", targetNamespace = \"http://p1/\")\npublic interface Calculator {\n\n\n    /**\n     * \n     * @param arg1\n     * @param arg0\n     * @return\n     *     returns java.lang.String\n     */\n    @WebMethod\n    @WebResult(targetNamespace = \"\")\n    @RequestWrapper(localName = \"sum\", targetNamespace = \"http://p1/\", className = \"mypack.Sum\")\n    @ResponseWrapper(localName = \"sumResponse\", targetNamespace = \"http://p1/\", className = \"mypack.SumResponse\")\n    public String sum(\n        @WebParam(name = \"arg0\", targetNamespace = \"\")\n        int arg0,\n        @WebParam(name = \"arg1\", targetNamespace = \"\")\n        int arg1);\n\n}\n</code></pre>\n\n<p>CalculatorService.java:</p>\n\n<pre><code>package mypack;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport javax.xml.namespace.QName;\nimport javax.xml.ws.Service;\nimport javax.xml.ws.WebEndpoint;\nimport javax.xml.ws.WebServiceClient;\n\n\n/**\n * This class was generated by the JAXWS SI.\n * JAX-WS RI 2.0_02-b08-fcs\n * Generated source version: 2.0\n * \n */\n@WebServiceClient(name = \"CalculatorService\", targetNamespace = \"http://p1/\", wsdlLocation = \"http://localhost:8081/MyCalculatorWs/CalculatorService?WSDL\")\npublic class CalculatorService\n    extends Service\n{\n\n    private final static URL CALCULATORSERVICE_WSDL_LOCATION;\n\n    static {\n        URL url = null;\n        try {\n            url = new URL(\"http://localhost:8081/MyCalculatorWs/CalculatorService?WSDL\");\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n        CALCULATORSERVICE_WSDL_LOCATION = url;\n    }\n\n    public CalculatorService(URL wsdlLocation, QName serviceName) {\n        super(wsdlLocation, serviceName);\n    }\n\n    public CalculatorService() {\n        super(CALCULATORSERVICE_WSDL_LOCATION, new QName(\"http://p1/\", \"CalculatorService\"));\n    }\n\n    /**\n     * \n     * @return\n     *     returns Calculator\n     */\n    @WebEndpoint(name = \"CalculatorPort\")\n    public Calculator getCalculatorPort() {\n        return (Calculator)super.getPort(new QName(\"http://p1/\", \"CalculatorPort\"), Calculator.class);\n    }\n\n}\n</code></pre>\n\n<p>ObjectFactory.java:</p>\n\n<pre><code>package mypack;\n\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.XmlElementDecl;\nimport javax.xml.bind.annotation.XmlRegistry;\nimport javax.xml.namespace.QName;\n\n\n/**\n * This object contains factory methods for each \n * Java content interface and Java element interface \n * generated in the mypack package. \n * &lt;p&gt;An ObjectFactory allows you to programatically \n * construct new instances of the Java representation \n * for XML content. The Java representation of XML \n * content can consist of schema derived interfaces \n * and classes representing the binding of schema \n * type definitions, element declarations and model \n * groups.  Factory methods for each of these are \n * provided in this class.\n * \n */\n@XmlRegistry\npublic class ObjectFactory {\n\n    private final static QName _Sum_QNAME = new QName(\"http://p1/\", \"sum\");\n    private final static QName _SumResponse_QNAME = new QName(\"http://p1/\", \"sumResponse\");\n\n    /**\n     * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: mypack\n     * \n     */\n    public ObjectFactory() {\n    }\n\n    /**\n     * Create an instance of {@link Sum }\n     * \n     */\n    public Sum createSum() {\n        return new Sum();\n    }\n\n    /**\n     * Create an instance of {@link SumResponse }\n     * \n     */\n    public SumResponse createSumResponse() {\n        return new SumResponse();\n    }\n\n    /**\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link Sum }{@code &gt;}}\n     * \n     */\n    @XmlElementDecl(namespace = \"http://p1/\", name = \"sum\")\n    public JAXBElement&lt;Sum&gt; createSum(Sum value) {\n        return new JAXBElement&lt;Sum&gt;(_Sum_QNAME, Sum.class, null, value);\n    }\n\n    /**\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link SumResponse }{@code &gt;}}\n     * \n     */\n    @XmlElementDecl(namespace = \"http://p1/\", name = \"sumResponse\")\n    public JAXBElement&lt;SumResponse&gt; createSumResponse(SumResponse value) {\n        return new JAXBElement&lt;SumResponse&gt;(_SumResponse_QNAME, SumResponse.class, null, value);\n    }\n\n}\n</code></pre>\n\n<p>package-info.java:</p>\n\n<pre><code>@javax.xml.bind.annotation.XmlSchema(namespace = \"http://p1/\")\npackage mypack;\n</code></pre>\n\n<p>Sum.java:</p>\n\n<pre><code>package mypack;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java class for sum complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=\"sum\"&gt;\n *   &amp;lt;complexContent&gt;\n *     &amp;lt;restriction base=\"{http://www.w3.org/2001/XMLSchema}anyType\"&gt;\n *       &amp;lt;sequence&gt;\n *         &amp;lt;element name=\"arg0\" type=\"{http://www.w3.org/2001/XMLSchema}int\"/&gt;\n *         &amp;lt;element name=\"arg1\" type=\"{http://www.w3.org/2001/XMLSchema}int\"/&gt;\n *       &amp;lt;/sequence&gt;\n *     &amp;lt;/restriction&gt;\n *   &amp;lt;/complexContent&gt;\n * &amp;lt;/complexType&gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"sum\", propOrder = {\n    \"arg0\",\n    \"arg1\"\n})\npublic class Sum {\n\n    protected int arg0;\n    protected int arg1;\n\n    /**\n     * Gets the value of the arg0 property.\n     * \n     */\n    public int getArg0() {\n        return arg0;\n    }\n\n    /**\n     * Sets the value of the arg0 property.\n     * \n     */\n    public void setArg0(int value) {\n        this.arg0 = value;\n    }\n\n    /**\n     * Gets the value of the arg1 property.\n     * \n     */\n    public int getArg1() {\n        return arg1;\n    }\n\n    /**\n     * Sets the value of the arg1 property.\n     * \n     */\n    public void setArg1(int value) {\n        this.arg1 = value;\n    }\n\n}\n</code></pre>\n\n<p>SumResponse.java:</p>\n\n<pre><code>package mypack;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java class for sumResponse complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=\"sumResponse\"&gt;\n *   &amp;lt;complexContent&gt;\n *     &amp;lt;restriction base=\"{http://www.w3.org/2001/XMLSchema}anyType\"&gt;\n *       &amp;lt;sequence&gt;\n *         &amp;lt;element name=\"return\" type=\"{http://www.w3.org/2001/XMLSchema}string\" minOccurs=\"0\"/&gt;\n *       &amp;lt;/sequence&gt;\n *     &amp;lt;/restriction&gt;\n *   &amp;lt;/complexContent&gt;\n * &amp;lt;/complexType&gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"sumResponse\", propOrder = {\n    \"_return\"\n})\npublic class SumResponse {\n\n    @XmlElement(name = \"return\")\n    protected String _return;\n\n    /**\n     * Gets the value of the return property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getReturn() {\n        return _return;\n    }\n\n    /**\n     * Sets the value of the return property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setReturn(String value) {\n        this._return = value;\n    }\n\n}\n</code></pre>\n\n<p>And my web.xml file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n  &lt;display-name&gt;CalculatorEx&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n &lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n      &lt;param-value&gt;com.restful.demo.resources&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>I am executing my application using:\n<code>http://localhost:8080/CalculatorEx/rest/CalculatorService</code></p>\n\n<p>i am getting the error like this:</p>\n\n<pre><code>exception:\njavax.servlet.ServletException: Servlet.init() for servlet Jersey REST Service threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    java.lang.Thread.run(Thread.java:679)\n\nroot cause:\ncom.sun.jersey.api.container.ContainerException: The ResourceConfig instance does not contain any root resource classes.\n    com.sun.jersey.server.impl.application.RootResourceUriRules.&lt;init&gt;(RootResourceUriRules.java:99)\n    com.sun.jersey.server.impl.application.WebApplicationImpl._initiate(WebApplicationImpl.java:1298)\n    com.sun.jersey.server.impl.application.WebApplicationImpl.access$700(WebApplicationImpl.java:169)\n    com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:775)\n    com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:771)\n    com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193)\n    com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:771)\n    com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:766)\n    com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:488)\n    com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:318)\n    com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:609)\n    com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:210)\n    com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:373)\n    com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:556)\n    javax.servlet.GenericServlet.init(GenericServlet.java:160)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    java.lang.Thread.run(Thread.java:679)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign"],"answers":[{"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1521663344,"post_id":49415278,"comment_id":85833252,"body_markdown":"If this is an answer, could you elaborate it a bit more? If not, you should have posted it as a comment.","body":"If this is an answer, could you elaborate it a bit more? If not, you should have posted it as a comment."},{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1521663839,"post_id":49415278,"comment_id":85833513,"body_markdown":"I guess I totally missed the second exception. I though the first error is causing the context shutdown. But after I dig more I saw that you might have this issue https://github.com/spring-cloud/spring-cloud-netflix/issues/1588","body":"I guess I totally missed the second exception. I though the first error is causing the context shutdown. But after I dig more I saw that you might have this issue <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/1588\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-netflix/issues/1588</a>"},{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1521664256,"post_id":49415278,"comment_id":85833726,"body_markdown":"Can you try with adding pathVariable name like this @PathVariable(value = &quot;fooId&quot;)","body":"Can you try with adding pathVariable name like this @PathVariable(value = &quot;fooId&quot;)"},{"owner":{"account_id":343341,"reputation":1286,"user_id":674989,"accept_rate":85,"display_name":"Rig"},"score":0,"creation_date":1521665639,"post_id":49415278,"comment_id":85834417,"body_markdown":"Is there a way to get better information from the driver error? The application ran otherwise as is until I began adding the feign client code to interact with another application.","body":"Is there a way to get better information from the driver error? The application ran otherwise as is until I began adding the feign client code to interact with another application."},{"owner":{"account_id":343341,"reputation":1286,"user_id":674989,"accept_rate":85,"display_name":"Rig"},"score":0,"creation_date":1521666014,"post_id":49415278,"comment_id":85834597,"body_markdown":"Additionally confusing about that is that it sounds like I am using a lob or clob but my schema for the included objects have no column of that type.","body":"Additionally confusing about that is that it sounds like I am using a lob or clob but my schema for the included objects have no column of that type."},{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":1,"creation_date":1521666370,"post_id":49415278,"comment_id":85834763,"body_markdown":"I guess it is not about what you use but about the version incompatibility between different jars. I found a similar topic https://stackoverflow.com/questions/6066570/why-do-i-keep-getting-the-java-lang-abstractmethoderror-oracle-jdbc-driver-ora","body":"I guess it is not about what you use but about the version incompatibility between different jars. I found a similar topic <a href=\"https://stackoverflow.com/questions/6066570/why-do-i-keep-getting-the-java-lang-abstractmethoderror-oracle-jdbc-driver-ora\" title=\"why do i keep getting the java lang abstractmethoderror oracle jdbc driver ora\">stackoverflow.com/questions/6066570/&hellip;</a>"},{"owner":{"account_id":343341,"reputation":1286,"user_id":674989,"accept_rate":85,"display_name":"Rig"},"score":0,"creation_date":1521666952,"post_id":49415278,"comment_id":85835041,"body_markdown":"Added an update. Commented out the feign code and it runs but I do still see that database driver error. The rest of our codebase does use that driver for the same database. Might try to update to the ojdbc8 driver for the sake of it but not sure why it will matter. Thanks for the link, I&#39;ll look.","body":"Added an update. Commented out the feign code and it runs but I do still see that database driver error. The rest of our codebase does use that driver for the same database. Might try to update to the ojdbc8 driver for the sake of it but not sure why it will matter. Thanks for the link, I&#39;ll look."},{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1521667234,"post_id":49415278,"comment_id":85835162,"body_markdown":"Have you also tried using pathVariable name like this @PathVariable(value = &quot;fooId&quot;) with Feign. I know there was an issue about this before.","body":"Have you also tried using pathVariable name like this @PathVariable(value = &quot;fooId&quot;) with Feign. I know there was an issue about this before."},{"owner":{"account_id":343341,"reputation":1286,"user_id":674989,"accept_rate":85,"display_name":"Rig"},"score":0,"creation_date":1521667633,"post_id":49415278,"comment_id":85835363,"body_markdown":"Dude, not sure why...but the application at least ran when I changed the @PathVariable syntax. I don&#39;t know if it works works but it at least runs which was my primary concern at the moment. If you make an answer of that I&#39;ll have to accept it.","body":"Dude, not sure why...but the application at least ran when I changed the @PathVariable syntax. I don&#39;t know if it works works but it at least runs which was my primary concern at the moment. If you make an answer of that I&#39;ll have to accept it."},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1580123946,"post_id":49415278,"comment_id":105982085,"body_markdown":"Worked fine for me, I was using @PathVariable String id, replaced it with @PathVariable(&quot;id&quot;) String id. It worked perfectly fine afterwards.","body":"Worked fine for me, I was using @PathVariable String id, replaced it with @PathVariable(&quot;id&quot;) String id. It worked perfectly fine afterwards."}],"tags":[],"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"comment_count":10,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1521667923,"creation_date":1521661464,"answer_id":49415278,"question_id":49415197,"body_markdown":"There was an issue in feign client before. I guess you are experiencing the same maybe because you are using an old version but what you should do is including the pathVariable name in your @PathVariable annotation like this `    \r\n    @RequestMapping(value = &quot;/hello/{name}&quot;, method = RequestMethod.GET)\r\n    String hello(@PathVariable(value = &quot;name&quot;) String name);`\r\n\r\nYou can find the details from [here][1]\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-netflix/issues/861","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>There was an issue in feign client before. I guess you are experiencing the same maybe because you are using an old version but what you should do is including the pathVariable name in your @PathVariable annotation like this <code>\n    @RequestMapping(value = \"/hello/{name}\", method = RequestMethod.GET)\n    String hello(@PathVariable(value = \"name\") String name);</code></p>\n\n<p>You can find the details from <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/861\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1802358,"reputation":1658,"user_id":1640358,"accept_rate":33,"display_name":"Susitha Ravinda Senarath"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1562651868,"creation_date":1562651868,"answer_id":56946135,"question_id":49415197,"body_markdown":"```\r\n@GetMapping(value = &quot;/foo/{fooId}&quot;)\r\n    @ResponseBody\r\n    String getFoo(@PathVariable(value=&quot;fooId&quot;) int fooId);\r\n```\r\nwill do","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<pre><code>@GetMapping(value = \"/foo/{fooId}\")\n    @ResponseBody\n    String getFoo(@PathVariable(value=\"fooId\") int fooId);\n</code></pre>\n\n<p>will do</p>\n"},{"comments":[{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1666001138,"post_id":61044689,"comment_id":130823295,"body_markdown":"I don&#39;t understand this - it seems to be randomly required. For example this was fine: `@PostMapping(&quot;/v2/customers/{customerId}/cards&quot; CustomerAddCardResponse customerAddCard(URI host, @RequestHeader(&quot;Authorization&quot;) String token, @PathVariable String customerId, CustomerAddCardRequest request);`\nBut this was not `@GetMapping(&quot;/v2/merchants/{merchantId}&quot;) MerchantResponse getMerchant(URI host, @RequestHeader(&quot;Authorization&quot;) String token, @PathVariable String merchantId);`","body":"I don&#39;t understand this - it seems to be randomly required. For example this was fine: <code>@PostMapping(&quot;&#47;v2&#47;customers&#47;{customerId}&#47;cards&quot; CustomerAddCardResponse customerAddCard(URI host, @RequestHeader(&quot;Authorization&quot;) String token, @PathVariable String customerId, CustomerAddCardRequest request);</code> But this was not <code>@GetMapping(&quot;&#47;v2&#47;merchants&#47;{merchantId}&quot;) MerchantResponse getMerchant(URI host, @RequestHeader(&quot;Authorization&quot;) String token, @PathVariable String merchantId);</code>"}],"tags":[],"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1586099257,"creation_date":1586099257,"answer_id":61044689,"question_id":49415197,"body_markdown":"When you using rest feign client service we need to define exact @Pathvariable name.\r\n\r\n \r\n\r\n    @GetMapping(&quot;/hello-world/from/{from}/to/{to}&quot;)\r\n     public String getHelloWorld(@PathVariable(&quot;from&quot;) String from, @PathVariable (&quot;to&quot;) String to);","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>When you using rest feign client service we need to define exact @Pathvariable name.</p>\n\n<pre><code>@GetMapping(\"/hello-world/from/{from}/to/{to}\")\n public String getHelloWorld(@PathVariable(\"from\") String from, @PathVariable (\"to\") String to);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10410348,"reputation":11,"user_id":7675953,"display_name":"Dinesh D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610764106,"creation_date":1610727008,"answer_id":65739528,"question_id":49415197,"body_markdown":"I had the same issue with @pathvariable, its resolved when I added the value property of `@PathVariable` like below,\r\n\r\n```\r\n@PathVariable(value = &quot;from&quot;) String from,\r\n\t\t\t@PathVariable(value = &quot;to&quot;) String to);\r\n```","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>I had the same issue with @pathvariable, its resolved when I added the value property of <code>@PathVariable</code> like below,</p>\n<pre><code>@PathVariable(value = &quot;from&quot;) String from,\n            @PathVariable(value = &quot;to&quot;) String to);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15433035,"reputation":13,"user_id":11741602,"display_name":"Edisson Andres Garcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700669522,"creation_date":1700669495,"answer_id":77531520,"question_id":49415197,"body_markdown":"In Spring Boot, when using @PathVariable, it&#39;s not necessary to explicitly specify the parameter name if you are using the default parameter name, which is derived from the method parameter name.\r\n\r\nFor example, instead of:\r\n\r\n    @GetMapping(&quot;/example/{customerId}&quot;)\r\n    public ResponseEntity&lt;?&gt; exampleMethod(@PathVariable(value=&quot;customerId&quot;) BigInteger customerId)\r\n\r\nYou can simply use:\r\n\r\n    @GetMapping(&quot;/example/{customerId}&quot;)\r\n    public ResponseEntity&lt;?&gt; exampleMethod(@PathVariable BigInteger customerId)\r\n\r\n\r\nThis works well in most cases, and Spring Boot is able to match the path variable correctly.\r\n\r\nHowever, if you are facing issues with the Maven Compiler Plugin, particularly version 3.5.1, I recommend updating the plugin to a newer version. In my case, upgrading from version 3.5.1 to 3.8.1 resolved the issue.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt; \r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nIt&#39;s worth mentioning that this solution is tested with Spring Boot version 2.7.7 and Spring Cloud version 2021.0.8. Ensure compatibility with your specific versions.\r\n","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>In Spring Boot, when using @PathVariable, it's not necessary to explicitly specify the parameter name if you are using the default parameter name, which is derived from the method parameter name.</p>\n<p>For example, instead of:</p>\n<pre><code>@GetMapping(&quot;/example/{customerId}&quot;)\npublic ResponseEntity&lt;?&gt; exampleMethod(@PathVariable(value=&quot;customerId&quot;) BigInteger customerId)\n</code></pre>\n<p>You can simply use:</p>\n<pre><code>@GetMapping(&quot;/example/{customerId}&quot;)\npublic ResponseEntity&lt;?&gt; exampleMethod(@PathVariable BigInteger customerId)\n</code></pre>\n<p>This works well in most cases, and Spring Boot is able to match the path variable correctly.</p>\n<p>However, if you are facing issues with the Maven Compiler Plugin, particularly version 3.5.1, I recommend updating the plugin to a newer version. In my case, upgrading from version 3.5.1 to 3.8.1 resolved the issue.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt; \n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>It's worth mentioning that this solution is tested with Spring Boot version 2.7.7 and Spring Cloud version 2021.0.8. Ensure compatibility with your specific versions.</p>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701702268,"creation_date":1701702268,"answer_id":77600478,"question_id":49415197,"body_markdown":"[Even though there seems to be a problem in the spring-cloud-oepnfiegn][1], most of the time the reason is not the framework, based on my experience. \r\n\r\nThe problem often comes out from something like this: you use some library, that contains the OpenFeign clients to the services. In this case, the issue is often in the compilation of this client library. [See the related thread in spring-cloud-oepnfiegn bugtracker][2]. \r\n\r\nThe issue is that `javac`, by default, does not retain parameter&#39;s names of the methods and constructors in the bytecode. Therefore, if the authors of the client lib relied on the spring to resolve `@PathVariable` by simple parameter name - that just does not work - all information has been erased already. \r\n\r\nSo to solve this problem, you need to either:\r\n- Add an explicit `@PathVariable(&quot;someVar&quot;)` mapping to the path variable in the client lib, then recompile\r\n- Or you need to recompile the client with `-parameters` flag. [This flag will include metadata about parameter&#39;s names into the bytecode][3] and spring will resolve the mapping without any additional hints. \r\n\r\nUnfortunately, I do not know the ways to fix it unless you do not have access to the library source code. Hope it helped.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-openfeign/issues/863\r\n  [2]: https://github.com/spring-cloud/spring-cloud-openfeign/issues/178\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html#BHCJABJA","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p><a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/863\" rel=\"nofollow noreferrer\">Even though there seems to be a problem in the spring-cloud-oepnfiegn</a>, most of the time the reason is not the framework, based on my experience.</p>\n<p>The problem often comes out from something like this: you use some library, that contains the OpenFeign clients to the services. In this case, the issue is often in the compilation of this client library. <a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/178\" rel=\"nofollow noreferrer\">See the related thread in spring-cloud-oepnfiegn bugtracker</a>.</p>\n<p>The issue is that <code>javac</code>, by default, does not retain parameter's names of the methods and constructors in the bytecode. Therefore, if the authors of the client lib relied on the spring to resolve <code>@PathVariable</code> by simple parameter name - that just does not work - all information has been erased already.</p>\n<p>So to solve this problem, you need to either:</p>\n<ul>\n<li>Add an explicit <code>@PathVariable(&quot;someVar&quot;)</code> mapping to the path variable in the client lib, then recompile</li>\n<li>Or you need to recompile the client with <code>-parameters</code> flag. <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html#BHCJABJA\" rel=\"nofollow noreferrer\">This flag will include metadata about parameter's names into the bytecode</a> and spring will resolve the mapping without any additional hints.</li>\n</ul>\n<p>Unfortunately, I do not know the ways to fix it unless you do not have access to the library source code. Hope it helped.</p>\n"}],"owner":{"account_id":343341,"reputation":1286,"user_id":674989,"accept_rate":85,"display_name":"Rig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32410,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":61044689,"answer_count":6,"score":11,"last_activity_date":1701702268,"creation_date":1521661124,"question_id":49415197,"body_markdown":"I have a pretty simple situation and I&#39;ve tried a few things now and I can&#39;t find the cause of this issue. It claims it can not Autowire the Feign client class though this is how I have done this in Spring Boot 1.5.9. At least I&#39;m pretty sure. Things work fine in all my unit tests though I&#39;m mocking this client. Formerly it was a part of an imported library however to eliminate possibilities of me not properly locating the bean I just added it to the same project.     \r\n\r\nI&#39;m not the most experienced with Spring or Feign so I&#39;m wondering if it&#39;s obvious what I&#39;m missing here.     \r\n\r\nSimple feign client:\r\n\r\n    @FeignClient(name = &quot;my-other-service&quot;)\r\n    public interface OtherServiceClient {\r\n    \r\n        @GetMapping(value = &quot;/foo/{fooId}&quot;)\r\n        @ResponseBody\r\n        String getFoo(@PathVariable int fooId);\r\n    }\r\n\r\nMain application class:\r\n\r\n    @SpringBootApplication\r\n    @EnableDiscoveryClient\r\n    @EnableFeignClients\r\n    // Had a component scan here when in other module\r\n    public class MyServiceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MyServiceApplication.class, args);\r\n        }\r\n    }\r\n\r\n\r\nThe service that depends on the feign client:\r\n\r\n    @Service\r\n    public class FooService {\r\n        private final FooRepository fooRepository;\r\n        private final BarRepository barRepository;\r\n        private OtherServiceClient otherServiceClient;\r\n    \r\n        @Autowired\r\n        public OrderService(\r\n                FooRepository fooRepository,\r\n                BarRepository barRepository,\r\n                OtherServiceClient otherServiceClient) {\r\n            this.fooRepository= fooRepository;\r\n            this.barRepository = barRepository;\r\n            this.otherServiceClient = otherServiceClient;\r\n        }\r\n\r\n\r\nSince it might be an auto config thing here is the configuration report: \r\n\r\n    ============================\r\n    CONDITIONS EVALUATION REPORT\r\n    ============================\r\n    \r\n    \r\n    Positive matches:\r\n    -----------------\r\n    \r\n       ConfigServiceBootstrapConfiguration#configServicePropertySource matched:\r\n          - @ConditionalOnProperty (spring.cloud.config.enabled) matched (OnPropertyCondition)\r\n          - @ConditionalOnMissingBean (types: org.springframework.cloud.config.client.ConfigServicePropertySourceLocator; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       ConfigurationPropertiesRebinderAutoConfiguration matched:\r\n          - @ConditionalOnBean (types: org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor; SearchStrategy: all) found bean &#39;org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor&#39; (OnBeanCondition)\r\n    \r\n       ConfigurationPropertiesRebinderAutoConfiguration#configurationPropertiesBeans matched:\r\n          - @ConditionalOnMissingBean (types: org.springframework.cloud.context.properties.ConfigurationPropertiesBeans; SearchStrategy: current) did not find any beans (OnBeanCondition)\r\n    \r\n       ConfigurationPropertiesRebinderAutoConfiguration#configurationPropertiesRebinder matched:\r\n          - @ConditionalOnMissingBean (types: org.springframework.cloud.context.properties.ConfigurationPropertiesRebinder; SearchStrategy: current) did not find any beans (OnBeanCondition)\r\n    \r\n       EncryptionBootstrapConfiguration matched:\r\n          - @ConditionalOnClass found required class &#39;org.springframework.security.crypto.encrypt.TextEncryptor&#39;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\r\n    \r\n       PropertyPlaceholderAutoConfiguration#propertySourcesPlaceholderConfigurer matched:\r\n          - @ConditionalOnMissingBean (types: org.springframework.context.support.PropertySourcesPlaceholderConfigurer; SearchStrategy: current) did not find any beans (OnBeanCondition)\r\n    \r\n    \r\n    Negative matches:\r\n    -----------------\r\n    \r\n       ConfigServiceBootstrapConfiguration.RetryConfiguration:\r\n          Did not match:\r\n             - @ConditionalOnClass did not find required class &#39;org.springframework.retry.annotation.Retryable&#39; (OnClassCondition)\r\n    \r\n       DiscoveryClientConfigServiceBootstrapConfiguration:\r\n          Did not match:\r\n             - @ConditionalOnProperty (spring.cloud.config.discovery.enabled) did not find property &#39;spring.cloud.config.discovery.enabled&#39; (OnPropertyCondition)\r\n    \r\n       EncryptionBootstrapConfiguration.RsaEncryptionConfiguration:\r\n          Did not match:\r\n             - Keystore nor key found in Environment (EncryptionBootstrapConfiguration.KeyCondition)\r\n          Matched:\r\n             - @ConditionalOnClass found required class &#39;org.springframework.security.rsa.crypto.RsaSecretEncryptor&#39;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\r\n    \r\n       EncryptionBootstrapConfiguration.VanillaEncryptionConfiguration:\r\n          Did not match:\r\n             - @ConditionalOnMissingClass found unwanted class &#39;org.springframework.security.rsa.crypto.RsaSecretEncryptor&#39; (OnClassCondition)\r\n    \r\n       EurekaDiscoveryClientConfigServiceBootstrapConfiguration:\r\n          Did not match:\r\n             - @ConditionalOnProperty (spring.cloud.config.discovery.enabled) did not find property &#39;spring.cloud.config.discovery.enabled&#39; (OnPropertyCondition)\r\n          Matched:\r\n             - @ConditionalOnClass found required class &#39;org.springframework.cloud.config.client.ConfigServicePropertySourceLocator&#39;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\r\n\r\n\r\nRelevant parts of the pom...I&#39;m using Maven.\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;Finchley.BUILD-SNAPSHOT&lt;/spring-cloud.version&gt;\r\n    \r\n        &lt;spring-restdocs.version&gt;2.0.0.RELEASE&lt;/spring-restdocs.version&gt;\r\n        &lt;snippetsDirectory&gt;${project.build.directory}/generated-snippets&lt;/snippetsDirectory&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n            &lt;version&gt;10.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nStack trace pruned from some of the less pertinent data...\r\n\r\n    2018-03-21 15:07:20.481  INFO 26756 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.14.Final}\r\n    2018-03-21 15:07:20.483  INFO 26756 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2018-03-21 15:07:20.539  INFO 26756 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n        2018-03-21 15:07:20.930  INFO 26756 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\r\n        2018-03-21 15:07:21.445  INFO 26756 --- [  restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n    \r\n        java.lang.reflect.InvocationTargetException: null\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\r\n            at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\r\n            at org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.useContextualLobCreation(LobCreatorBuilderImpl.java:113) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.makeLobCreatorBuilder(LobCreatorBuilderImpl.java:54) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:271) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at ...\r\n            at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            .\r\n            .\r\n            .\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at com.myservice.EqOrderServiceApplication.main(EqOrderServiceApplication.java:14) ~[classes/:na]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\r\n            at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\r\n            at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n        Caused by: java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.createClob()Ljava/sql/Clob;\r\n            ... 49 common frames omitted\r\n    \r\n        2018-03-21 15:07:22.361  INFO 26756 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n        2018-03-21 15:07:23.295  INFO 26756 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Refreshing FeignContext-dbe-order-detail: startup date [Wed Mar 21 15:07:23 EDT 2018]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1290d90c\r\n        2018-03-21 15:07:23.316  INFO 26756 --- [  restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n        2018-03-21 15:07:24.048  WARN 26756 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mainController&#39; defined in file [&lt;my path&gt;\\controller\\MainController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;orderService&#39; defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.myservice.OtherServiceClient &#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n        2018-03-21 15:07:24.049  INFO 26756 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Closing FeignContext-dbe-order-detail: startup date [Wed Mar 21 15:07:23 EDT 2018]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1290d90c\r\n        2018-03-21 15:07:24.051  INFO 26756 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n        2018-03-21 15:07:24.053  WARN 26756 --- [  restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method &#39;close&#39; failed on bean with name &#39;eurekaRegistration&#39;: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name &#39;org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n        2018-03-21 15:07:24.055  INFO 26756 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n        2018-03-21 15:07:24.077  INFO 26756 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n    \r\n        Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n        2018-03-21 15:07:24.091 ERROR 26756 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mainController&#39; defined in file [&lt;my path&gt;\\controller\\MainController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;orderService&#39; defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.myservice.OtherServiceClient &#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:729) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1270) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            .\r\n            .\r\n            .\r\n            at com.myservice.MyServiceApplication.main(MyServiceApplication.java:14) [classes/:na]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\r\n            at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\r\n            at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;orderService&#39; defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.myservice.OtherServiceClient &#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:729) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1270) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            .\r\n            .\r\n            .\r\n            at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:815) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:721) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            ... 24 common frames omitted\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.myservice.OtherServiceClient &#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n            at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:168) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1645) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1178) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:258) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1325) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1291) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1101) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:815) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:721) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            ... 38 common frames omitted\r\n        Caused by: java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n            at feign.Util.checkState(Util.java:128) ~[feign-core-9.5.1.jar:na]\r\n            at org.springframework.cloud.openfeign.annotation.PathVariableParameterProcessor.processArgument(PathVariableParameterProcessor.java:51) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at org.springframework.cloud.openfeign.support.SpringMvcContract.processAnnotationsOnParameter(SpringMvcContract.java:238) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:110) ~[feign-core-9.5.1.jar:na]\r\n            at org.springframework.cloud.openfeign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:133) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at feign.Contract$BaseContract.parseAndValidatateMetadata(Contract.java:66) ~[feign-core-9.5.1.jar:na]\r\n            at feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:146) ~[feign-core-9.5.1.jar:na]\r\n            at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:53) ~[feign-core-9.5.1.jar:na]\r\n            at feign.Feign$Builder.target(Feign.java:218) ~[feign-core-9.5.1.jar:na]\r\n            at org.springframework.cloud.openfeign.HystrixTargeter.target(HystrixTargeter.java:39) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at org.springframework.cloud.openfeign.FeignClientFactoryBean.loadBalance(FeignClientFactoryBean.java:223) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:244) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:161) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            ... 50 common frames omitted\r\n    \r\n        Disconnected from the target VM, address: &#39;127.0.0.1:50881&#39;, transport: &#39;socket&#39;\r\n    \r\n        Process finished with exit code 0    \r\n\r\n\r\nI&#39;m pretty stumped at this point.     \r\n\r\n\r\nEDIT: \r\n\r\nUpdate, so, in order to investigate more as I was confident the service started prior to beginning the Feign work I commented out all references to the feign client and the feign client itself except the the configuration annotations on the application class. I still see the reference to the database driver on start up but the application does indeed run. This is the exception I see on start up but without Feign interactions the application starts.\r\n\r\n    2018-03-21 17:04:56.222  INFO 27424 --- [  restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n    \r\n    java.lang.reflect.InvocationTargetException: null\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n\r\n    Caused by: java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.createClob()Ljava/sql/Clob;\r\n    \t... 49 common frames omitted    \r\n\r\n\r\nThe database driver is on the older side so I might see about updating it to the ojdbc8 driver maybe while I&#39;m at it...    ","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>I have a pretty simple situation and I've tried a few things now and I can't find the cause of this issue. It claims it can not Autowire the Feign client class though this is how I have done this in Spring Boot 1.5.9. At least I'm pretty sure. Things work fine in all my unit tests though I'm mocking this client. Formerly it was a part of an imported library however to eliminate possibilities of me not properly locating the bean I just added it to the same project.</p>\n<p>I'm not the most experienced with Spring or Feign so I'm wondering if it's obvious what I'm missing here.</p>\n<p>Simple feign client:</p>\n<pre><code>@FeignClient(name = &quot;my-other-service&quot;)\npublic interface OtherServiceClient {\n\n    @GetMapping(value = &quot;/foo/{fooId}&quot;)\n    @ResponseBody\n    String getFoo(@PathVariable int fooId);\n}\n</code></pre>\n<p>Main application class:</p>\n<pre><code>@SpringBootApplication\n@EnableDiscoveryClient\n@EnableFeignClients\n// Had a component scan here when in other module\npublic class MyServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyServiceApplication.class, args);\n    }\n}\n</code></pre>\n<p>The service that depends on the feign client:</p>\n<pre><code>@Service\npublic class FooService {\n    private final FooRepository fooRepository;\n    private final BarRepository barRepository;\n    private OtherServiceClient otherServiceClient;\n\n    @Autowired\n    public OrderService(\n            FooRepository fooRepository,\n            BarRepository barRepository,\n            OtherServiceClient otherServiceClient) {\n        this.fooRepository= fooRepository;\n        this.barRepository = barRepository;\n        this.otherServiceClient = otherServiceClient;\n    }\n</code></pre>\n<p>Since it might be an auto config thing here is the configuration report:</p>\n<pre><code>============================\nCONDITIONS EVALUATION REPORT\n============================\n\n\nPositive matches:\n-----------------\n\n   ConfigServiceBootstrapConfiguration#configServicePropertySource matched:\n      - @ConditionalOnProperty (spring.cloud.config.enabled) matched (OnPropertyCondition)\n      - @ConditionalOnMissingBean (types: org.springframework.cloud.config.client.ConfigServicePropertySourceLocator; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   ConfigurationPropertiesRebinderAutoConfiguration matched:\n      - @ConditionalOnBean (types: org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor; SearchStrategy: all) found bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor' (OnBeanCondition)\n\n   ConfigurationPropertiesRebinderAutoConfiguration#configurationPropertiesBeans matched:\n      - @ConditionalOnMissingBean (types: org.springframework.cloud.context.properties.ConfigurationPropertiesBeans; SearchStrategy: current) did not find any beans (OnBeanCondition)\n\n   ConfigurationPropertiesRebinderAutoConfiguration#configurationPropertiesRebinder matched:\n      - @ConditionalOnMissingBean (types: org.springframework.cloud.context.properties.ConfigurationPropertiesRebinder; SearchStrategy: current) did not find any beans (OnBeanCondition)\n\n   EncryptionBootstrapConfiguration matched:\n      - @ConditionalOnClass found required class 'org.springframework.security.crypto.encrypt.TextEncryptor'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\n\n   PropertyPlaceholderAutoConfiguration#propertySourcesPlaceholderConfigurer matched:\n      - @ConditionalOnMissingBean (types: org.springframework.context.support.PropertySourcesPlaceholderConfigurer; SearchStrategy: current) did not find any beans (OnBeanCondition)\n\n\nNegative matches:\n-----------------\n\n   ConfigServiceBootstrapConfiguration.RetryConfiguration:\n      Did not match:\n         - @ConditionalOnClass did not find required class 'org.springframework.retry.annotation.Retryable' (OnClassCondition)\n\n   DiscoveryClientConfigServiceBootstrapConfiguration:\n      Did not match:\n         - @ConditionalOnProperty (spring.cloud.config.discovery.enabled) did not find property 'spring.cloud.config.discovery.enabled' (OnPropertyCondition)\n\n   EncryptionBootstrapConfiguration.RsaEncryptionConfiguration:\n      Did not match:\n         - Keystore nor key found in Environment (EncryptionBootstrapConfiguration.KeyCondition)\n      Matched:\n         - @ConditionalOnClass found required class 'org.springframework.security.rsa.crypto.RsaSecretEncryptor'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\n\n   EncryptionBootstrapConfiguration.VanillaEncryptionConfiguration:\n      Did not match:\n         - @ConditionalOnMissingClass found unwanted class 'org.springframework.security.rsa.crypto.RsaSecretEncryptor' (OnClassCondition)\n\n   EurekaDiscoveryClientConfigServiceBootstrapConfiguration:\n      Did not match:\n         - @ConditionalOnProperty (spring.cloud.config.discovery.enabled) did not find property 'spring.cloud.config.discovery.enabled' (OnPropertyCondition)\n      Matched:\n         - @ConditionalOnClass found required class 'org.springframework.cloud.config.client.ConfigServicePropertySourceLocator'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\n</code></pre>\n<p>Relevant parts of the pom...I'm using Maven.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;Finchley.BUILD-SNAPSHOT&lt;/spring-cloud.version&gt;\n\n    &lt;spring-restdocs.version&gt;2.0.0.RELEASE&lt;/spring-restdocs.version&gt;\n    &lt;snippetsDirectory&gt;${project.build.directory}/generated-snippets&lt;/snippetsDirectory&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n        &lt;version&gt;10.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n        &lt;version&gt;2.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>Stack trace pruned from some of the less pertinent data...</p>\n<pre><code>2018-03-21 15:07:20.481  INFO 26756 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.14.Final}\n2018-03-21 15:07:20.483  INFO 26756 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2018-03-21 15:07:20.539  INFO 26756 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\n    2018-03-21 15:07:20.930  INFO 26756 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\n    2018-03-21 15:07:21.445  INFO 26756 --- [  restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n\n    java.lang.reflect.InvocationTargetException: null\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\n        at org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.useContextualLobCreation(LobCreatorBuilderImpl.java:113) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.makeLobCreatorBuilder(LobCreatorBuilderImpl.java:54) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:271) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at ...\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        .\n        .\n        .\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at com.myservice.EqOrderServiceApplication.main(EqOrderServiceApplication.java:14) ~[classes/:na]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    Caused by: java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.createClob()Ljava/sql/Clob;\n        ... 49 common frames omitted\n\n    2018-03-21 15:07:22.361  INFO 26756 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n    2018-03-21 15:07:23.295  INFO 26756 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Refreshing FeignContext-dbe-order-detail: startup date [Wed Mar 21 15:07:23 EDT 2018]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1290d90c\n    2018-03-21 15:07:23.316  INFO 26756 --- [  restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n    2018-03-21 15:07:24.048  WARN 26756 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController' defined in file [&lt;my path&gt;\\controller\\MainController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.myservice.OtherServiceClient ': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n    2018-03-21 15:07:24.049  INFO 26756 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Closing FeignContext-dbe-order-detail: startup date [Wed Mar 21 15:07:23 EDT 2018]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1290d90c\n    2018-03-21 15:07:24.051  INFO 26756 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n    2018-03-21 15:07:24.053  WARN 26756 --- [  restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method 'close' failed on bean with name 'eurekaRegistration': org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\n    2018-03-21 15:07:24.055  INFO 26756 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n    2018-03-21 15:07:24.077  INFO 26756 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\n    Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n    2018-03-21 15:07:24.091 ERROR 26756 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController' defined in file [&lt;my path&gt;\\controller\\MainController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.myservice.OtherServiceClient ': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:729) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1270) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        .\n        .\n        .\n        at com.myservice.MyServiceApplication.main(MyServiceApplication.java:14) [classes/:na]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.myservice.OtherServiceClient ': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:729) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1270) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        .\n        .\n        .\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:815) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:721) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        ... 24 common frames omitted\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.myservice.OtherServiceClient ': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:168) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1645) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1178) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:258) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1325) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1291) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1101) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:815) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:721) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        ... 38 common frames omitted\n    Caused by: java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n        at feign.Util.checkState(Util.java:128) ~[feign-core-9.5.1.jar:na]\n        at org.springframework.cloud.openfeign.annotation.PathVariableParameterProcessor.processArgument(PathVariableParameterProcessor.java:51) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at org.springframework.cloud.openfeign.support.SpringMvcContract.processAnnotationsOnParameter(SpringMvcContract.java:238) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:110) ~[feign-core-9.5.1.jar:na]\n        at org.springframework.cloud.openfeign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:133) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at feign.Contract$BaseContract.parseAndValidatateMetadata(Contract.java:66) ~[feign-core-9.5.1.jar:na]\n        at feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:146) ~[feign-core-9.5.1.jar:na]\n        at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:53) ~[feign-core-9.5.1.jar:na]\n        at feign.Feign$Builder.target(Feign.java:218) ~[feign-core-9.5.1.jar:na]\n        at org.springframework.cloud.openfeign.HystrixTargeter.target(HystrixTargeter.java:39) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at org.springframework.cloud.openfeign.FeignClientFactoryBean.loadBalance(FeignClientFactoryBean.java:223) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:244) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:161) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        ... 50 common frames omitted\n\n    Disconnected from the target VM, address: '127.0.0.1:50881', transport: 'socket'\n\n    Process finished with exit code 0    \n</code></pre>\n<p>I'm pretty stumped at this point.</p>\n<p>EDIT:</p>\n<p>Update, so, in order to investigate more as I was confident the service started prior to beginning the Feign work I commented out all references to the feign client and the feign client itself except the the configuration annotations on the application class. I still see the reference to the database driver on start up but the application does indeed run. This is the exception I see on start up but without Feign interactions the application starts.</p>\n<pre><code>2018-03-21 17:04:56.222  INFO 27424 --- [  restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n\njava.lang.reflect.InvocationTargetException: null\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\norg.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n\nCaused by: java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.createClob()Ljava/sql/Clob;\n    ... 49 common frames omitted    \n</code></pre>\n<p>The database driver is on the older side so I might see about updating it to the ojdbc8 driver maybe while I'm at it...</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8084605,"reputation":337,"user_id":6092538,"accept_rate":78,"display_name":"Snehal Gongle"},"score":0,"creation_date":1502537210,"post_id":45649670,"comment_id":78257914,"body_markdown":"what are you using firebase for notifications or storage and please post your logcat error code","body":"what are you using firebase for notifications or storage and please post your logcat error code"},{"owner":{"account_id":8084605,"reputation":337,"user_id":6092538,"accept_rate":78,"display_name":"Snehal Gongle"},"score":0,"creation_date":1502537417,"post_id":45649670,"comment_id":78257973,"body_markdown":"If you are using Firebase for notifications then to initialize fire base you have to do something like this    FirebaseMessaging.getInstance().subscribeToTopic(Config.TOPIC_GLOBAL);      But do not forget to use services and files related to Firebase services","body":"If you are using Firebase for notifications then to initialize fire base you have to do something like this    FirebaseMessaging.getInstance().subscribeToTopic(Config.TOPI&zwnj;&#8203;C_GLOBAL);      But do not forget to use services and files related to Firebase services"},{"owner":{"account_id":4286140,"reputation":11,"user_id":3503882,"display_name":"Abdullah Al Mamun"},"score":0,"creation_date":1502537589,"post_id":45649670,"comment_id":78258021,"body_markdown":"i am not  using firebase for notifications. i just use admob ad. ad perfectly show but log cat show this massage.","body":"i am not  using firebase for notifications. i just use admob ad. ad perfectly show but log cat show this massage."},{"owner":{"account_id":8084605,"reputation":337,"user_id":6092538,"accept_rate":78,"display_name":"Snehal Gongle"},"score":0,"creation_date":1502537889,"post_id":45649670,"comment_id":78258104,"body_markdown":"//Add this in OnCreate of Activity to initialize the ad\nMobileAds.initialize(getApplicationContext(), &quot;&lt; your-ad-unit-Id &gt;&quot;);    try this","body":"//Add this in OnCreate of Activity to initialize the ad MobileAds.initialize(getApplicationContext(), &quot;&lt; your-ad-unit-Id &gt;&quot;);    try this"},{"owner":{"account_id":417710,"reputation":10050,"user_id":793861,"accept_rate":50,"display_name":"John O&#39;Reilly"},"score":0,"creation_date":1502623468,"post_id":45649670,"comment_id":78277484,"body_markdown":"Are you seeing this with release and debug builds?  If release only, are you using ProGuard?","body":"Are you seeing this with release and debug builds?  If release only, are you using ProGuard?"},{"owner":{"account_id":1540427,"reputation":1000,"user_id":1435238,"accept_rate":75,"display_name":"Bero"},"score":0,"creation_date":1503599840,"post_id":45649670,"comment_id":78696302,"body_markdown":"I have the same error. Did you find a solution?","body":"I have the same error. Did you find a solution?"}],"answers":[{"comments":[{"owner":{"account_id":1363964,"reputation":703,"user_id":1300794,"display_name":"Emperor Orionii"},"score":0,"creation_date":1641549356,"post_id":45878485,"comment_id":124837887,"body_markdown":"5 years and 11 versions later, here I am with the same log warning","body":"5 years and 11 versions later, here I am with the same log warning"}],"tags":[],"owner":{"account_id":1540427,"reputation":1000,"user_id":1435238,"accept_rate":75,"display_name":"Bero"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503654454,"creation_date":1503653527,"answer_id":45878485,"question_id":45649670,"body_markdown":"There is a bug in Google Play Service. Here is the link to Google Group: https://groups.google.com/forum/#!search/appMeasurement/google-admob-ads-sdk/9Cukd02En9o/ELCZfzjUCQAJ It should be fixed if one of the next release","title":"Invoke Firebase method getInstance error. java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>There is a bug in Google Play Service. Here is the link to Google Group: <a href=\"https://groups.google.com/forum/#!search/appMeasurement/google-admob-ads-sdk/9Cukd02En9o/ELCZfzjUCQAJ\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!search/appMeasurement/google-admob-ads-sdk/9Cukd02En9o/ELCZfzjUCQAJ</a> It should be fixed if one of the next release</p>\n"},{"tags":[],"owner":{"account_id":5216151,"reputation":601,"user_id":4171025,"display_name":"Mohan Noone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701702170,"creation_date":1701702170,"answer_id":77600463,"question_id":45649670,"body_markdown":"Had the same issue today, and adding this to the Proguard/R8 rules fixed it:\r\n\r\n    -keep class com.google.android.gms.measurement.AppMeasurement {public *; }","title":"Invoke Firebase method getInstance error. java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>Had the same issue today, and adding this to the Proguard/R8 rules fixed it:</p>\n<pre><code>-keep class com.google.android.gms.measurement.AppMeasurement {public *; }\n</code></pre>\n"}],"owner":{"account_id":4286140,"reputation":11,"user_id":3503882,"display_name":"Abdullah Al Mamun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701702170,"creation_date":1502537003,"question_id":45649670,"body_markdown":"Android studio show this what is the problem?\r\ni include this file compile `&#39;com.google.android.gms:play-services-ads:11.0.4&#39;`\r\nbut it also shows this. whats the matter?\r\n\r\n    \r\n\r\n&gt; 08-12 08:56:52.773 22268-22319/? W/Ads: Invoke Firebase method\r\n&gt; getInstance error.\r\n&gt;     java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.gms.measurement.AppMeasurement&quot; on path:\r\n&gt; DexPathList[[zip file &quot;/data/app/com.orangehostbd.bpl-1/base.apk&quot;,","title":"Invoke Firebase method getInstance error. java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>Android studio show this what is the problem?\ni include this file compile <code>'com.google.android.gms:play-services-ads:11.0.4'</code>\nbut it also shows this. whats the matter?</p>\n\n<blockquote>\n  <p>08-12 08:56:52.773 22268-22319/? W/Ads: Invoke Firebase method\n  getInstance error.\n      java.lang.ClassNotFoundException: Didn't find class \"com.google.android.gms.measurement.AppMeasurement\" on path:\n  DexPathList[[zip file \"/data/app/com.orangehostbd.bpl-1/base.apk\",</p>\n</blockquote>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9899,"page":18,"page_size":100}
