{"items":[{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1680464385,"post_id":75914190,"comment_id":133899061,"body_markdown":"Not automatically. Best you can do is to try and build a replace regex. Even so it may not be complete. Reason being there is noway for the IDE to tel the difference of say `String returnCar()` and `String returnVehicle()` methods, the method names are for the developer to chose. In the example given if both methods should be of type `Car` the IDE have no way to know.","body":"Not automatically. Best you can do is to try and build a replace regex. Even so it may not be complete. Reason being there is noway for the IDE to tel the difference of say <code>String returnCar()</code> and <code>String returnVehicle()</code> methods, the method names are for the developer to chose. In the example given if both methods should be of type <code>Car</code> the IDE have no way to know."},{"owner":{"account_id":23343204,"reputation":33,"user_id":17417859,"display_name":"back2back"},"score":0,"creation_date":1680464629,"post_id":75914190,"comment_id":133899109,"body_markdown":"Thank you. I was trying to avoid doing it manually since there are more than 100 changes. But I think that is the only way to do it.","body":"Thank you. I was trying to avoid doing it manually since there are more than 100 changes. But I think that is the only way to do it."}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680506531,"creation_date":1680506531,"answer_id":75916904,"question_id":75914190,"body_markdown":"You might be able to use [Type migration][1] in IntelliJ IDEA.\r\n\r\nFrom the docs: \r\n&quot;The Type Migration refactoring lets you automatically change a member type (such as from integer to string), and data flow dependent type entries (such as method return types, local variables, parameters, and so on) across the entire project.\r\n\r\nIt also lets you automatically convert variable or method return type between arrays and collections. If any conflicts are found IntelliJ IDEA displays the appropriate message.&quot;\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/type-migration.html","title":"Refactor field type everywhere in Java Project IntelliJ","body":"<p>You might be able to use <a href=\"https://www.jetbrains.com/help/idea/type-migration.html\" rel=\"nofollow noreferrer\">Type migration</a> in IntelliJ IDEA.</p>\n<p>From the docs:\n&quot;The Type Migration refactoring lets you automatically change a member type (such as from integer to string), and data flow dependent type entries (such as method return types, local variables, parameters, and so on) across the entire project.</p>\n<p>It also lets you automatically convert variable or method return type between arrays and collections. If any conflicts are found IntelliJ IDEA displays the appropriate message.&quot;</p>\n"}],"owner":{"account_id":23343204,"reputation":33,"user_id":17417859,"display_name":"back2back"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680506531,"creation_date":1680463789,"question_id":75914190,"body_markdown":"I have a field in my java project. I want to change the field&#39;s type everywhere in the project.\r\n\r\nI have:\r\n\r\n    String car\r\n\r\nI want to change it everywhere to\r\n\r\n    Vehicle car\r\n\r\n\r\nA simple replace will not work because apart from changing where it used, I also want to change the return type of functions where it is being returned.\r\n\r\nFor example-\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public String returnCar{\r\n      ......\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI want to change this to \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public Car returnCar{\r\n      ...\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nI there a way of refactoring like this in IntelliJ?\r\n\r\nThanks\r\n","title":"Refactor field type everywhere in Java Project IntelliJ","body":"<p>I have a field in my java project. I want to change the field's type everywhere in the project.</p>\n<p>I have:</p>\n<pre><code>String car\n</code></pre>\n<p>I want to change it everywhere to</p>\n<pre><code>Vehicle car\n</code></pre>\n<p>A simple replace will not work because apart from changing where it used, I also want to change the return type of functions where it is being returned.</p>\n<p>For example-</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public String returnCar{\n  ......\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I want to change this to</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public Car returnCar{\n  ...\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I there a way of refactoring like this in IntelliJ?</p>\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":3,"creation_date":1680455375,"post_id":75913322,"comment_id":133897707,"body_markdown":"The data seems to be valid JSON data, why don&#39;t you parse it to an JSON object using the built-in JSON library or a third party one so accessing the fields is getting more easier?","body":"The data seems to be valid JSON data, why don&#39;t you parse it to an JSON object using the built-in JSON library or a third party one so accessing the fields is getting more easier?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1680455539,"post_id":75913322,"comment_id":133897731,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/14185338/150978","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/14185338/150978\">stackoverflow.com/q/14185338/150978</a>"}],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680497479,"creation_date":1680497479,"answer_id":75916120,"question_id":75913322,"body_markdown":"Are you trying to say you want to process the URL only if there&#39;s a value in the ***ingr*** query? If so:\r\n\r\n    fun shouldCallAPI(uriString: String) =\r\n        Uri\r\n            .parse(uriString)\r\n            .getQueryParameter(&quot;ingr&quot;)\r\n            .isNullOrEmpty()\r\n            .not()\r\n\r\n ","title":"How to parse a link?","body":"<p>Are you trying to say you want to process the URL only if there's a value in the <em><strong>ingr</strong></em> query? If so:</p>\n<pre><code>fun shouldCallAPI(uriString: String) =\n    Uri\n        .parse(uriString)\n        .getQueryParameter(&quot;ingr&quot;)\n        .isNullOrEmpty()\n        .not()\n</code></pre>\n"}],"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680506503,"creation_date":1680453640,"question_id":75913322,"body_markdown":"How to parse a link only if a value came from the search and it is not empty?\r\nThe problem is that even a link without a value at the end gives the result https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=\r\n\r\n\r\nAnd I need to display values ​​only if a value comes from the searchView at the end, how to organize it correctly? I&#39;ve tried it this way and it still doesn&#39;t work!\r\n\r\n    @Override\r\n    protected String doInBackground(String... strings) {\r\n        String current = &quot;&quot;;\r\n    \r\n        try {\r\n            URL url;\r\n            HttpURLConnection urlConnection = null;\r\n            SEARCH_TEXT = binding.searchs.getQuery().toString();\r\n    \r\n            try {\r\n    \r\n                url = new URL(PARSE_URL + END_URL + SEARCH_TEXT);\r\n                urlConnection = (HttpURLConnection) url.openConnection();\r\n                InputStream is = urlConnection.getInputStream();\r\n                InputStreamReader isr = new InputStreamReader(is);\r\n    \r\n                int data = isr.read();\r\n                while (data != -1) {\r\n                    current += (char) data;\r\n                    data = isr.read();\r\n                }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if(urlConnection != null) {\r\n                    urlConnection.disconnect();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return current;\r\n    }","title":"How to parse a link?","body":"<p>How to parse a link only if a value came from the search and it is not empty?\nThe problem is that even a link without a value at the end gives the result <a href=\"https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=\" rel=\"nofollow noreferrer\">https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=</a></p>\n<p>And I need to display values ​​only if a value comes from the searchView at the end, how to organize it correctly? I've tried it this way and it still doesn't work!</p>\n<pre><code>@Override\nprotected String doInBackground(String... strings) {\n    String current = &quot;&quot;;\n\n    try {\n        URL url;\n        HttpURLConnection urlConnection = null;\n        SEARCH_TEXT = binding.searchs.getQuery().toString();\n\n        try {\n\n            url = new URL(PARSE_URL + END_URL + SEARCH_TEXT);\n            urlConnection = (HttpURLConnection) url.openConnection();\n            InputStream is = urlConnection.getInputStream();\n            InputStreamReader isr = new InputStreamReader(is);\n\n            int data = isr.read();\n            while (data != -1) {\n                current += (char) data;\n                data = isr.read();\n            }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if(urlConnection != null) {\n                urlConnection.disconnect();\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return current;\n}\n</code></pre>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":9248237,"reputation":391,"user_id":6869491,"display_name":"Amit Verma"},"score":0,"creation_date":1503151663,"post_id":45772321,"comment_id":78503063,"body_markdown":"you are getting text input error please check have implement all the dependencies correctly, and clean your project and rebuild this then run your app hope it will solve  your issue","body":"you are getting text input error please check have implement all the dependencies correctly, and clean your project and rebuild this then run your app hope it will solve  your issue"}],"answers":[{"comments":[{"owner":{"account_id":7292081,"reputation":13504,"user_id":5558150,"accept_rate":100,"display_name":"Bhuvanesh BS"},"score":0,"creation_date":1505412670,"post_id":45772512,"comment_id":79414957,"body_markdown":"Mark it as accepted answer if it is helped you to resolve your issue. It will help others.","body":"Mark it as accepted answer if it is helped you to resolve your issue. It will help others."}],"tags":[],"owner":{"account_id":7292081,"reputation":13504,"user_id":5558150,"accept_rate":100,"display_name":"Bhuvanesh BS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503151562,"creation_date":1503151562,"answer_id":45772512,"question_id":45772321,"body_markdown":"You have to include multiDex in your application. In your **manifest**, you have not included the **MulitiDexApplication**.\r\n\r\nIn you error code. See this line.\r\n\r\n    Didn&#39;t find class &quot;android.support.v4.view.animation.FastOutSlowInInterpolator&quot; on path: DexPathList[\r\n\r\nAdd this to your dependencies.\r\n\r\n    compile &#39;com.android.support:multidex:1.0.1&#39;\r\n\r\nIn your Gradle add `multiDexEnabled` true.\r\n\r\n    android {\r\n        defaultConfig {\r\n            ...\r\n            minSdkVersion 21 \r\n            targetSdkVersion 26\r\n            multiDexEnabled true    // add this line\r\n        }\r\n        ...\r\n    }\r\n\r\nIn your `manifest` add multiDex application class.\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.myapp&quot;&gt;\r\n        &lt;application\r\n                android:name=&quot;android.support.multidex.MultiDexApplication&quot; &gt;\r\n            ...\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nFinally clean and rebuild your project.\r\n\r\nFor more info: https://developer.android.com/studio/build/multidex.html\r\n\r\nHope it helps:)\r\n","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;","body":"<p>You have to include multiDex in your application. In your <strong>manifest</strong>, you have not included the <strong>MulitiDexApplication</strong>.</p>\n\n<p>In you error code. See this line.</p>\n\n<pre><code>Didn't find class \"android.support.v4.view.animation.FastOutSlowInInterpolator\" on path: DexPathList[\n</code></pre>\n\n<p>Add this to your dependencies.</p>\n\n<pre><code>compile 'com.android.support:multidex:1.0.1'\n</code></pre>\n\n<p>In your Gradle add <code>multiDexEnabled</code> true.</p>\n\n<pre><code>android {\n    defaultConfig {\n        ...\n        minSdkVersion 21 \n        targetSdkVersion 26\n        multiDexEnabled true    // add this line\n    }\n    ...\n}\n</code></pre>\n\n<p>In your <code>manifest</code> add multiDex application class.</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.myapp\"&gt;\n    &lt;application\n            android:name=\"android.support.multidex.MultiDexApplication\" &gt;\n        ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Finally clean and rebuild your project.</p>\n\n<p>For more info: <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex.html</a></p>\n\n<p>Hope it helps:)</p>\n"},{"tags":[],"owner":{"account_id":8452233,"reputation":1,"user_id":6340720,"display_name":"Z.quibbler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680506434,"creation_date":1680505472,"answer_id":75916794,"question_id":45772321,"body_markdown":"Add this to your build.gradle\r\n\r\n    implementation &quot;androidx.interpolator:interpolator:1.0.0&quot;\r\n\r\nbecause google has extract interpolator to this lib.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;","body":"<p>Add this to your build.gradle</p>\n<pre><code>implementation &quot;androidx.interpolator:interpolator:1.0.0&quot;\n</code></pre>\n<p>because google has extract interpolator to this lib.</p>\n"}],"owner":{"account_id":9194600,"reputation":63,"user_id":6833762,"accept_rate":20,"display_name":"Dinesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680506434,"creation_date":1503150505,"question_id":45772321,"body_markdown":"I&#39;m facing an issue with my new app. I created a app for shopping cart and i created a signin and signup page and it is now showing error message\r\n\r\nError:\r\n   \r\n    08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: FATAL EXCEPTION: main `Error`\r\n                                                                        Process: com.example.dinidev.ecom, PID: 2902\r\n                                                                        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dinidev.ecom/com.example.dinidev.ecom.Signin}: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\r\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\r\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                            at android.os.Looper.loop(Looper.java:154)\r\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                                                                         Caused by: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\r\n                                                                         Caused by: android.view.InflateException: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\r\n                                                                         Caused by: java.lang.reflect.InvocationTargetException\r\n                                                                            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n                                                                            at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\r\n                                                                            at android.view.LayoutInflater.createView(LayoutInflater.java:645)\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\r\n                                                                            at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414)\r\n                                                                            at android.app.Activity.setContentView(Activity.java:2414)\r\n                                                                            at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16)\r\n                                                                            at android.app.Activity.performCreate(Activity.java:6662)\r\n                                                                            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\r\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                            at android.os.Looper.loop(Looper.java:154)\r\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                                                                         Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;\r\n                                                                            at android.support.design.widget.AnimationUtils.&lt;clinit&gt;(AnimationUtils.java:30)\r\n                                                                            at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:200)\r\n                                                                            at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:183)\r\n                                                                            at java.lang.reflect.Constructor.newInstance0(Native Method)&#160;\r\n                                                                            at java.lang.reflect.Constructor.newInstance(Constructor.java:430)&#160;\r\n                                                                            at android.view.LayoutInflater.createView(LayoutInflater.java:645)&#160;\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)&#160;\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)&#160;\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:518)&#160;\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:426)&#160;\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:377)&#160;\r\n                                                                            at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414)&#160;\r\n                                                                            at android.app.Activity.setContentView(Activity.java:2414)&#160;\r\n                                                                            at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16)&#160;\r\n                                                                            at android.app.Activity.performCreate(Activity.java:6662)&#160;\r\n                                                                            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)&#160;\r\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)&#160;\r\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)&#160;\r\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)&#160;\r\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)&#160;\r\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n                                                                            at android.os.Looper.loop(Looper.java:154)&#160;\r\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6077)&#160;\r\n                                                                            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)&#160;\r\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)&#160;\r\n    08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;android.support.v4.view.animation.FastOutSlowInInterpolator&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.dinidev.ecom-2/base.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_dependencies_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_0_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_1_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_2_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_3_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_4_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_5_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_6_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_7_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_8_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_9_apk.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.dinidev.ecom-2/lib/x86, /system/lib, /vendor/lib]]\r\n                                                                            at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n                                                                            at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\r\n                                                                            at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n                                                                            \t... 30 more\r\n\r\n\r\n\r\nmodule app:`Build.gradle`\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.2&quot;\r\n        defaultConfig {\r\n        applicationId &quot;com.example.dinidev.ecom&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 25\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner \r\n    &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n    dependencies {\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n         exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })\r\n    compile &#39;com.android.support:appcompat-v7:25.3.1&#39;\r\n    compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n\r\n    compile &#39;com.android.support:design:25.3.1&#39;\r\n    compile &#39;com.android.support:cardview-v7:25.3.1&#39;\r\n    compile &#39;com.android.support:support-v4:25.3.1&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:25.3.1&#39;\r\n    compile &#39;com.google.code.gson:gson:2.2.4&#39;\r\n    compile &#39;com.android.support:multidex:1.0.1&#39;\r\n\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n    }`Code`\r\n\r\nactivity_main xml `It is opening and working properly`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/profile1&quot;\r\n    tools:context=&quot;com.example.dinidev.ecom.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/guest&quot;\r\n        android:layout_width=&quot;168dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@+id/signin&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;31dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:text=&quot;@string/Guest_User&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/eighteen_sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteY=&quot;487dp&quot; /&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/signin&quot;\r\n        android:layout_width=&quot;178dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignBaseline=&quot;@+id/signup&quot;\r\n        android:layout_alignBottom=&quot;@+id/signup&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;12dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:text=&quot;@string/login&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/eighteen_sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        tools:layout_editor_absoluteX=&quot;8dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;487dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/signup&quot;\r\n        android:layout_width=&quot;168dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;27dp&quot;\r\n        android:layout_marginEnd=&quot;12dp&quot;\r\n        android:layout_marginRight=&quot;12dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:text=&quot;@string/New_User&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/eighteen_sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteY=&quot;487dp&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nlogin_page xml `It is not opening`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:background=&quot;@drawable/login_background&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/loginPage_logo&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;@dimen/fourty_seven_dp&quot;\r\n            android:text=&quot;@string/logo&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;@dimen/fourty_four_sp&quot;\r\n            android:textStyle=&quot;italic|bold&quot;/&gt;\r\n    &lt;/RelativeLayout&gt; `It is not opening it shows error as app stopped working message`\r\n\r\nMainActivity class\r\n\r\nMain activity is working fine but when I click login it stops action \r\n\r\n    package com.example.dinidev.ecom;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    public class MainActivity extends AppCompatActivity {\r\n    Button signin;\r\n    final Context context = this;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        addListenerOnButton();\r\n    }\r\n\r\n    private void addListenerOnButton() {\r\n        /** Login Button Click */\r\n        signin = (Button) findViewById(R.id.signin);\r\n        signin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(context, Signin.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n     }\r\n\r\n\r\nSignin class\r\n\r\nWhen i debug the line it shows save instance : null message\r\n\r\n\r\n    package com.example.dinidev.ecom;\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    public class Signin extends Activity{\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.login_page);\r\n    }\r\n    }\r\n\r\n\r\nAndroidmanifest\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.dinidev.ecom&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:label=&quot;@string/register_label&quot;\r\n            android:name=&quot;.Signup&quot;&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:label=&quot;@string/register_label&quot;\r\n            android:name=&quot;.Signin&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;","body":"<p>I'm facing an issue with my new app. I created a app for shopping cart and i created a signin and signup page and it is now showing error message</p>\n\n<p>Error:</p>\n\n<pre><code>08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: FATAL EXCEPTION: main `Error`\n                                                                    Process: com.example.dinidev.ecom, PID: 2902\n                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dinidev.ecom/com.example.dinidev.ecom.Signin}: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n                                                                        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                        at android.os.Looper.loop(Looper.java:154)\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:6077)\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n                                                                     Caused by: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\n                                                                     Caused by: android.view.InflateException: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\n                                                                     Caused by: java.lang.reflect.InvocationTargetException\n                                                                        at java.lang.reflect.Constructor.newInstance0(Native Method)\n                                                                        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\n                                                                        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\n                                                                        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414)\n                                                                        at android.app.Activity.setContentView(Activity.java:2414)\n                                                                        at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16)\n                                                                        at android.app.Activity.performCreate(Activity.java:6662)\n                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n                                                                        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                        at android.os.Looper.loop(Looper.java:154)\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:6077)\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n                                                                     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;\n                                                                        at android.support.design.widget.AnimationUtils.&lt;clinit&gt;(AnimationUtils.java:30)\n                                                                        at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:200)\n                                                                        at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:183)\n                                                                        at java.lang.reflect.Constructor.newInstance0(Native Method) \n                                                                        at java.lang.reflect.Constructor.newInstance(Constructor.java:430) \n                                                                        at android.view.LayoutInflater.createView(LayoutInflater.java:645) \n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787) \n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727) \n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858) \n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821) \n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861) \n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821) \n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:518) \n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:426) \n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:377) \n                                                                        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414) \n                                                                        at android.app.Activity.setContentView(Activity.java:2414) \n                                                                        at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16) \n                                                                        at android.app.Activity.performCreate(Activity.java:6662) \n                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118) \n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599) \n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707) \n                                                                        at android.app.ActivityThread.-wrap12(ActivityThread.java) \n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460) \n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                                        at android.os.Looper.loop(Looper.java:154) \n                                                                        at android.app.ActivityThread.main(ActivityThread.java:6077) \n                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755) \n08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.support.v4.view.animation.FastOutSlowInInterpolator\" on path: DexPathList[[zip file \"/data/app/com.example.dinidev.ecom-2/base.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_dependencies_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_0_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_1_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_2_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_3_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_4_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_5_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_6_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_7_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_8_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.example.dinidev.ecom-2/lib/x86, /system/lib, /vendor/lib]]\n                                                                        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n                                                                        at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\n                                                                        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n                                                                            ... 30 more\n</code></pre>\n\n<p>module app:<code>Build.gradle</code></p>\n\n<pre><code>apply plugin: 'com.android.application'\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n    applicationId \"com.example.dinidev.ecom\"\n    minSdkVersion 15\n    targetSdkVersion 25\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\nandroidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n     exclude group: 'com.android.support', module: 'support-annotations'\n})\ncompile 'com.android.support:appcompat-v7:25.3.1'\ncompile 'com.android.support.constraint:constraint-layout:1.0.2'\n\ncompile 'com.android.support:design:25.3.1'\ncompile 'com.android.support:cardview-v7:25.3.1'\ncompile 'com.android.support:support-v4:25.3.1'\ncompile 'com.android.support:recyclerview-v7:25.3.1'\ncompile 'com.google.code.gson:gson:2.2.4'\ncompile 'com.android.support:multidex:1.0.1'\n\ntestCompile 'junit:junit:4.12'\n}`Code`\n</code></pre>\n\n<p>activity_main xml <code>It is opening and working properly</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@drawable/profile1\"\ntools:context=\"com.example.dinidev.ecom.MainActivity\"&gt;\n\n\n&lt;Button\n    android:id=\"@+id/guest\"\n    android:layout_width=\"168dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_above=\"@+id/signin\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginBottom=\"31dp\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:clickable=\"true\"\n    android:text=\"@string/Guest_User\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"@dimen/eighteen_sp\"\n    android:textStyle=\"bold\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    tools:layout_editor_absoluteY=\"487dp\" /&gt;\n\n\n&lt;Button\n    android:id=\"@+id/signin\"\n    android:layout_width=\"178dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignBaseline=\"@+id/signup\"\n    android:layout_alignBottom=\"@+id/signup\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_marginLeft=\"12dp\"\n    android:layout_marginStart=\"12dp\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:clickable=\"true\"\n    android:text=\"@string/login\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"@dimen/eighteen_sp\"\n    android:textStyle=\"bold\"\n    tools:layout_editor_absoluteX=\"8dp\"\n    tools:layout_editor_absoluteY=\"487dp\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/signup\"\n    android:layout_width=\"168dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    android:layout_alignParentEnd=\"true\"\n    android:layout_alignParentRight=\"true\"\n    android:layout_marginBottom=\"27dp\"\n    android:layout_marginEnd=\"12dp\"\n    android:layout_marginRight=\"12dp\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:clickable=\"true\"\n    android:text=\"@string/New_User\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"@dimen/eighteen_sp\"\n    android:textStyle=\"bold\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    tools:layout_editor_absoluteY=\"487dp\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>login_page xml <code>It is not opening</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:background=\"@drawable/login_background\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/loginPage_logo\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"@dimen/fourty_seven_dp\"\n        android:text=\"@string/logo\"\n        android:textColor=\"@color/white\"\n        android:textSize=\"@dimen/fourty_four_sp\"\n        android:textStyle=\"italic|bold\"/&gt;\n&lt;/RelativeLayout&gt; `It is not opening it shows error as app stopped working message`\n</code></pre>\n\n<p>MainActivity class</p>\n\n<p>Main activity is working fine but when I click login it stops action </p>\n\n<pre><code>package com.example.dinidev.ecom;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\npublic class MainActivity extends AppCompatActivity {\nButton signin;\nfinal Context context = this;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    addListenerOnButton();\n}\n\nprivate void addListenerOnButton() {\n    /** Login Button Click */\n    signin = (Button) findViewById(R.id.signin);\n    signin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(context, Signin.class);\n            startActivity(intent);\n        }\n    });\n }\n</code></pre>\n\n<p>Signin class</p>\n\n<p>When i debug the line it shows save instance : null message</p>\n\n<pre><code>package com.example.dinidev.ecom;\nimport android.app.Activity;\nimport android.os.Bundle;\npublic class Signin extends Activity{\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.login_page);\n}\n}\n</code></pre>\n\n<p>Androidmanifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.dinidev.ecom\"&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:label=\"@string/register_label\"\n        android:name=\".Signup\"&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:label=\"@string/register_label\"\n        android:name=\".Signin\"&gt;\n    &lt;/activity&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680098057,"post_id":75867109,"comment_id":133839653,"body_markdown":"Why would you want to store four obviously separate pieces of data in a single variable?","body":"Why would you want to store four obviously separate pieces of data in a single variable?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680258994,"post_id":75867109,"comment_id":133871697,"body_markdown":"You should use different classes for each type, and use the `dataType` as the &quot;discriminator&quot;.","body":"You should use different classes for each type, and use the <code>dataType</code> as the &quot;discriminator&quot;."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680259105,"post_id":75867109,"comment_id":133871722,"body_markdown":"Also, shouldn&#39;t the type of the last example be &quot;LIST&quot;, not &quot;RANGE&quot;?","body":"Also, shouldn&#39;t the type of the last example be &quot;LIST&quot;, not &quot;RANGE&quot;?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680259126,"post_id":75867109,"comment_id":133871730,"body_markdown":"@VGR Such requirement is pretty common","body":"@VGR Such requirement is pretty common"}],"answers":[{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680016427,"creation_date":1680016427,"answer_id":75868060,"question_id":75867109,"body_markdown":"At glance, I can see that you can use a HashMap variable.\r\n\r\n    HashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n\r\nNow you can enter any type of data without any issue.\r\nMake sure that you use proper validation against null values.\r\nHope this help.","title":"How to store an input with various data types into a single variable (String, Int, Date, List)","body":"<p>At glance, I can see that you can use a HashMap variable.</p>\n<pre><code>HashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n</code></pre>\n<p>Now you can enter any type of data without any issue.\nMake sure that you use proper validation against null values.\nHope this help.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680262805,"creation_date":1680261880,"answer_id":75897987,"question_id":75867109,"body_markdown":"You can achieve this with polymorphic serialization and deserialization. This example uses records and sealed types, but should also work when rewritten to not use sealed and using &quot;normal&quot; POJOs.\r\n\r\nI use Jackson (`com.fasterxml.jackson.core:jackson-databind:2.14.2`) for this, with the `@JsonSubTypes` annotation to declare the mapping from the `dataType` property to the appropriate classes. I have only listed the examples in your question, but doing this for QUANTITY and DATE should follow from this.\r\n\r\nDefine an interface as the root of the types:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;dataType&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = AmountValue.class, name = &quot;AMOUNT&quot;),\r\n        @JsonSubTypes.Type(value = RangeValue.class, name = &quot;RANGE&quot;),\r\n        @JsonSubTypes.Type(value = ListValue.class, name = &quot;LIST&quot;),\r\n})\r\npublic sealed interface Condition \r\n        permits AmountValue, \r\n                ListValue, \r\n                RangeValue {\r\n\r\n    String condition();\r\n\r\n}\r\n```\r\n\r\nAnd the individual records of each type:\r\n\r\n```java\r\npublic record AmountValue(\r\n        String condition, \r\n        String value) implements Condition {\r\n}\r\n```\r\n\r\n```java\r\npublic record RangeValue(\r\n        String condition, \r\n        int minValue, \r\n        int maxValue) implements Condition {\r\n}\r\n```\r\n\r\n```java\r\npublic record ListValue(\r\n        String condition, \r\n        List&lt;String&gt; valueList) implements Condition {\r\n\r\n    public ListValue {\r\n        valueList = List.copyOf(valueList);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAn example for serializing and deserializing:\r\n\r\n```java\r\npublic class Example {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        var conditionHolder = new ConditionHolder(\r\n                new AmountValue(&quot;Basket Value&quot;, &quot;5&quot;),\r\n                new RangeValue(&quot;Percentile&quot;, 10, 60),\r\n                new ListValue(&quot;Percentile&quot;, List.of(&quot;option1&quot;, &quot;option2&quot;)));\r\n\r\n        var mapper = new ObjectMapper()\r\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\r\n\r\n        System.out.println(&quot;serialized format&quot;);\r\n        System.out.println(mapper.writeValueAsString(conditionHolder));\r\n        System.out.println(&quot;===============================&quot;);\r\n        System.out.println(&quot;deserialized result&quot;);\r\n\r\n        ConditionHolder deserialized = mapper.readValue(&quot;&quot;&quot;\r\n                {\r\n                  &quot;conditionList&quot; : [ {\r\n                    &quot;dataType&quot; : &quot;AMOUNT&quot;,\r\n                    &quot;condition&quot; : &quot;Basket Value&quot;,\r\n                    &quot;value&quot; : &quot;5&quot;\r\n                  }, {\r\n                    &quot;dataType&quot; : &quot;RANGE&quot;,\r\n                    &quot;condition&quot; : &quot;Percentile&quot;,\r\n                    &quot;minValue&quot; : 10,\r\n                    &quot;maxValue&quot; : 60\r\n                  }, {\r\n                    &quot;dataType&quot; : &quot;LIST&quot;,\r\n                    &quot;condition&quot; : &quot;Percentile&quot;,\r\n                    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\r\n                  } ]\r\n                }\r\n                &quot;&quot;&quot;, ConditionHolder.class);\r\n        System.out.println(deserialized);\r\n    }\r\n\r\n    public record ConditionHolder(List&lt;Condition&gt; conditionList) {\r\n\r\n        public ConditionHolder {\r\n            conditionList = List.copyOf(conditionList);\r\n        }\r\n\r\n        public ConditionHolder(Condition... conditions) {\r\n            this(List.of(conditions));\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput (with added linebreaks in deserialized result for readability):\r\n\r\n```none\r\nserialized format\r\n{\r\n  &quot;conditionList&quot; : [ {\r\n    &quot;dataType&quot; : &quot;AMOUNT&quot;,\r\n    &quot;condition&quot; : &quot;Basket Value&quot;,\r\n    &quot;value&quot; : &quot;5&quot;\r\n  }, {\r\n    &quot;dataType&quot; : &quot;RANGE&quot;,\r\n    &quot;condition&quot; : &quot;Percentile&quot;,\r\n    &quot;minValue&quot; : 10,\r\n    &quot;maxValue&quot; : 60\r\n  }, {\r\n    &quot;dataType&quot; : &quot;LIST&quot;,\r\n    &quot;condition&quot; : &quot;Percentile&quot;,\r\n    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\r\n  } ]\r\n}\r\n===============================\r\ndeserialized result\r\nConditionHolder[conditionList=[\r\n  AmountValue[condition=Basket Value, value=5], \r\n  RangeValue[condition=Percentile, minValue=10, maxValue=60],\r\n  ListValue[condition=Percentile, valueList=[option1, option2]]\r\n]]\r\n```\r\n\r\nObviously, to actually use these types and their value in code, you will have to do `instanceof` checks, but once pattern matching switch lands (probably in Java 21), that type of handling can be further simplified. Alternatively, it might be possible to define necessary evaluation or behaviour through methods in `Condition`, but if that is possible depends on the problem you&#39;re trying to solve.\r\n\r\nIf you need to &quot;manually&quot; perform the serialization or deserialization (e.g. because the library you use doesn&#39;t provide support for polymorphic serialization/deserialization), then you need to mimic what Jackson does. That is, for serialization, determine the actual type, add the _discriminator_ property (`dataType`) with the right value to the JSON object, and then the properties of the actual object. For deserialization, use the _discriminator_ property (`dataType`) to decide which type to create, and read the properties of that type from the JSON object.","title":"How to store an input with various data types into a single variable (String, Int, Date, List)","body":"<p>You can achieve this with polymorphic serialization and deserialization. This example uses records and sealed types, but should also work when rewritten to not use sealed and using &quot;normal&quot; POJOs.</p>\n<p>I use Jackson (<code>com.fasterxml.jackson.core:jackson-databind:2.14.2</code>) for this, with the <code>@JsonSubTypes</code> annotation to declare the mapping from the <code>dataType</code> property to the appropriate classes. I have only listed the examples in your question, but doing this for QUANTITY and DATE should follow from this.</p>\n<p>Define an interface as the root of the types:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;dataType&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = AmountValue.class, name = &quot;AMOUNT&quot;),\n        @JsonSubTypes.Type(value = RangeValue.class, name = &quot;RANGE&quot;),\n        @JsonSubTypes.Type(value = ListValue.class, name = &quot;LIST&quot;),\n})\npublic sealed interface Condition \n        permits AmountValue, \n                ListValue, \n                RangeValue {\n\n    String condition();\n\n}\n</code></pre>\n<p>And the individual records of each type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record AmountValue(\n        String condition, \n        String value) implements Condition {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record RangeValue(\n        String condition, \n        int minValue, \n        int maxValue) implements Condition {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record ListValue(\n        String condition, \n        List&lt;String&gt; valueList) implements Condition {\n\n    public ListValue {\n        valueList = List.copyOf(valueList);\n    }\n\n}\n</code></pre>\n<p>An example for serializing and deserializing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        var conditionHolder = new ConditionHolder(\n                new AmountValue(&quot;Basket Value&quot;, &quot;5&quot;),\n                new RangeValue(&quot;Percentile&quot;, 10, 60),\n                new ListValue(&quot;Percentile&quot;, List.of(&quot;option1&quot;, &quot;option2&quot;)));\n\n        var mapper = new ObjectMapper()\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\n\n        System.out.println(&quot;serialized format&quot;);\n        System.out.println(mapper.writeValueAsString(conditionHolder));\n        System.out.println(&quot;===============================&quot;);\n        System.out.println(&quot;deserialized result&quot;);\n\n        ConditionHolder deserialized = mapper.readValue(&quot;&quot;&quot;\n                {\n                  &quot;conditionList&quot; : [ {\n                    &quot;dataType&quot; : &quot;AMOUNT&quot;,\n                    &quot;condition&quot; : &quot;Basket Value&quot;,\n                    &quot;value&quot; : &quot;5&quot;\n                  }, {\n                    &quot;dataType&quot; : &quot;RANGE&quot;,\n                    &quot;condition&quot; : &quot;Percentile&quot;,\n                    &quot;minValue&quot; : 10,\n                    &quot;maxValue&quot; : 60\n                  }, {\n                    &quot;dataType&quot; : &quot;LIST&quot;,\n                    &quot;condition&quot; : &quot;Percentile&quot;,\n                    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\n                  } ]\n                }\n                &quot;&quot;&quot;, ConditionHolder.class);\n        System.out.println(deserialized);\n    }\n\n    public record ConditionHolder(List&lt;Condition&gt; conditionList) {\n\n        public ConditionHolder {\n            conditionList = List.copyOf(conditionList);\n        }\n\n        public ConditionHolder(Condition... conditions) {\n            this(List.of(conditions));\n        }\n\n    }\n\n}\n</code></pre>\n<p>Output (with added linebreaks in deserialized result for readability):</p>\n<pre class=\"lang-none prettyprint-override\"><code>serialized format\n{\n  &quot;conditionList&quot; : [ {\n    &quot;dataType&quot; : &quot;AMOUNT&quot;,\n    &quot;condition&quot; : &quot;Basket Value&quot;,\n    &quot;value&quot; : &quot;5&quot;\n  }, {\n    &quot;dataType&quot; : &quot;RANGE&quot;,\n    &quot;condition&quot; : &quot;Percentile&quot;,\n    &quot;minValue&quot; : 10,\n    &quot;maxValue&quot; : 60\n  }, {\n    &quot;dataType&quot; : &quot;LIST&quot;,\n    &quot;condition&quot; : &quot;Percentile&quot;,\n    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\n  } ]\n}\n===============================\ndeserialized result\nConditionHolder[conditionList=[\n  AmountValue[condition=Basket Value, value=5], \n  RangeValue[condition=Percentile, minValue=10, maxValue=60],\n  ListValue[condition=Percentile, valueList=[option1, option2]]\n]]\n</code></pre>\n<p>Obviously, to actually use these types and their value in code, you will have to do <code>instanceof</code> checks, but once pattern matching switch lands (probably in Java 21), that type of handling can be further simplified. Alternatively, it might be possible to define necessary evaluation or behaviour through methods in <code>Condition</code>, but if that is possible depends on the problem you're trying to solve.</p>\n<p>If you need to &quot;manually&quot; perform the serialization or deserialization (e.g. because the library you use doesn't provide support for polymorphic serialization/deserialization), then you need to mimic what Jackson does. That is, for serialization, determine the actual type, add the <em>discriminator</em> property (<code>dataType</code>) with the right value to the JSON object, and then the properties of the actual object. For deserialization, use the <em>discriminator</em> property (<code>dataType</code>) to decide which type to create, and read the properties of that type from the JSON object.</p>\n"}],"owner":{"account_id":5194812,"reputation":31,"user_id":4156532,"display_name":"rma_ranasinghe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680505812,"creation_date":1680011147,"question_id":75867109,"body_markdown":"In the UI, I need to support to select the condition and based on the condition must provide the input. Inputs can be one of the listed below:\r\n\r\n- QUANTITY\r\n- DATE\r\n- AMOUNT\r\n- LIST - [&quot;Option1&quot;, &quot;Option2&quot;] - Multiple Selection \r\n- RANGE - (Min and Max)\r\n\r\nOnce selected it will get populated as a JSON. \r\n\r\nThe Java class looks like the below with the fields and its getters and setters: \r\n```java\r\nprivate String condition;\r\nprivate String value;\r\nprivate List&lt;String&gt; valueList;\r\nprivate String valueType;\r\nprivate int minValue;\r\nprivate int maxValue;\r\n```\r\n\r\nFor AMOUNT, as the below: \r\n\r\n```json\r\n{\r\n  &quot;condition&quot;: &quot;Basket Value&quot;,\r\n  &quot;value&quot;: &quot;5&quot;,\r\n  &quot;dataType&quot;: &quot;AMOUNT&quot;,\r\n}\r\n```\r\n\r\nFor RANGE, as the below: \r\n\r\n```json\r\n{\r\n  &quot;condition&quot;: &quot;Percentile&quot;,\r\n  &quot;dataType&quot;: &quot;RANGE&quot;,\r\n  &quot;minValue&quot;: 10,\r\n  &quot;maxValue&quot;: 60\r\n}\r\n``` \r\nFor LIST, as the below: \r\n\r\n```json\r\n{\r\n  &quot;condition&quot;: &quot;Options&quot;,\r\n  &quot;dataType&quot;: &quot;LIST&quot;,\r\n  &quot;valueList&quot;: [&quot;option1&quot;, &quot;option2&quot;]\r\n}\r\n``` \r\nInstead of having `value`, `valueList`, `attributeMin`, and `attributeMax`. How can I store it in a single variable? \r\n\r\nIs using `Object` the best solution? Is there any other solution? I cannot use `var` in Java for this. \r\n\r\n```java\r\nObject inputValue;\r\n```\r\n\r\nThe data will be saved to MongoDB. \r\n","title":"How to store an input with various data types into a single variable (String, Int, Date, List)","body":"<p>In the UI, I need to support to select the condition and based on the condition must provide the input. Inputs can be one of the listed below:</p>\n<ul>\n<li>QUANTITY</li>\n<li>DATE</li>\n<li>AMOUNT</li>\n<li>LIST - [&quot;Option1&quot;, &quot;Option2&quot;] - Multiple Selection</li>\n<li>RANGE - (Min and Max)</li>\n</ul>\n<p>Once selected it will get populated as a JSON.</p>\n<p>The Java class looks like the below with the fields and its getters and setters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String condition;\nprivate String value;\nprivate List&lt;String&gt; valueList;\nprivate String valueType;\nprivate int minValue;\nprivate int maxValue;\n</code></pre>\n<p>For AMOUNT, as the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;condition&quot;: &quot;Basket Value&quot;,\n  &quot;value&quot;: &quot;5&quot;,\n  &quot;dataType&quot;: &quot;AMOUNT&quot;,\n}\n</code></pre>\n<p>For RANGE, as the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;condition&quot;: &quot;Percentile&quot;,\n  &quot;dataType&quot;: &quot;RANGE&quot;,\n  &quot;minValue&quot;: 10,\n  &quot;maxValue&quot;: 60\n}\n</code></pre>\n<p>For LIST, as the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;condition&quot;: &quot;Options&quot;,\n  &quot;dataType&quot;: &quot;LIST&quot;,\n  &quot;valueList&quot;: [&quot;option1&quot;, &quot;option2&quot;]\n}\n</code></pre>\n<p>Instead of having <code>value</code>, <code>valueList</code>, <code>attributeMin</code>, and <code>attributeMax</code>. How can I store it in a single variable?</p>\n<p>Is using <code>Object</code> the best solution? Is there any other solution? I cannot use <code>var</code> in Java for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object inputValue;\n</code></pre>\n<p>The data will be saved to MongoDB.</p>\n"},{"tags":["java","multithreading","spring-boot","concurrency","guava"],"answers":[{"tags":[],"owner":{"account_id":131689,"reputation":451,"user_id":331864,"accept_rate":67,"display_name":"isomeme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680389187,"creation_date":1680389187,"answer_id":75909235,"question_id":75898065,"body_markdown":"It&#39;s always a good idea to provide a code sample so we can see what is producing the behavior you&#39;re trying to change.\r\n\r\nPer the [Javadoc](https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html), an idle `RateLimiter` will allow a burst of up to `permitsPerSecond` approvals, then begin issuing permits at intervals of 1/pps seconds.\r\n\r\nIt&#39;s useful to think of the `RateLimiter` as maintaining a bag of tokens. Acquiring a permit removes a token. Periodically a new token is added if there are less than pps tokens already. That isn&#39;t precisely how it actually works, but it&#39;s close enough to help you understand what&#39;s going on.\r\n\r\nSo, in other words, it seems that `RateLimiter` already behaves how you want it to. Perhaps I have misunderstood your question?","title":"Guava&#39;s Rate Limiter - change rate at which permits are issued","body":"<p>It's always a good idea to provide a code sample so we can see what is producing the behavior you're trying to change.</p>\n<p>Per the <a href=\"https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html\" rel=\"nofollow noreferrer\">Javadoc</a>, an idle <code>RateLimiter</code> will allow a burst of up to <code>permitsPerSecond</code> approvals, then begin issuing permits at intervals of 1/pps seconds.</p>\n<p>It's useful to think of the <code>RateLimiter</code> as maintaining a bag of tokens. Acquiring a permit removes a token. Periodically a new token is added if there are less than pps tokens already. That isn't precisely how it actually works, but it's close enough to help you understand what's going on.</p>\n<p>So, in other words, it seems that <code>RateLimiter</code> already behaves how you want it to. Perhaps I have misunderstood your question?</p>\n"}],"owner":{"account_id":18348376,"reputation":1,"user_id":13363096,"display_name":"kheptan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680505425,"creation_date":1680262444,"question_id":75898065,"body_markdown":"i want to implement a throttle mechanism in spring boot for all our application requests\r\ni&#39;ve chosen to catch all http requests in the OncePerRequestFilter and use the guava rate-limiter with 3 cases\r\none general with 1000 requests /second and the other two will limit requests by ip /hour/second\r\n\r\nlets say i have 5 permits/second for an api call\r\nand if i got 5 threads arriving at the same time or in an interval smaller than 200 milliseconds i still want them all to pass\r\n\r\nEX.\r\n```\r\n0............ 1 sec\r\n 12345 -------\r\n\r\n0 ............ 1 sec\r\n   ------12345\r\n```\r\nhow can i get this to work \r\n\r\ntesting this and only gives access only to two or three threads then  blocks the rest, which is normal as the permits rate are at fixed intervals (only after 200ms)\r\n","title":"Guava&#39;s Rate Limiter - change rate at which permits are issued","body":"<p>i want to implement a throttle mechanism in spring boot for all our application requests\ni've chosen to catch all http requests in the OncePerRequestFilter and use the guava rate-limiter with 3 cases\none general with 1000 requests /second and the other two will limit requests by ip /hour/second</p>\n<p>lets say i have 5 permits/second for an api call\nand if i got 5 threads arriving at the same time or in an interval smaller than 200 milliseconds i still want them all to pass</p>\n<p>EX.</p>\n<pre><code>0............ 1 sec\n 12345 -------\n\n0 ............ 1 sec\n   ------12345\n</code></pre>\n<p>how can i get this to work</p>\n<p>testing this and only gives access only to two or three threads then  blocks the rest, which is normal as the permits rate are at fixed intervals (only after 200ms)</p>\n"},{"tags":["java","spring-boot","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1680502042,"post_id":75916334,"comment_id":133903070,"body_markdown":"What&#39;s the problem when you are using it as a dependency in other project ? Maven will import it if your lib is present in your local .m2 folder.","body":"What&#39;s the problem when you are using it as a dependency in other project ? Maven will import it if your lib is present in your local .m2 folder."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1680511984,"post_id":75916334,"comment_id":133904968,"body_markdown":"Spring boot jars are finalized for deployment and not further consumption.  Reconsider your approach","body":"Spring boot jars are finalized for deployment and not further consumption.  Reconsider your approach"},{"owner":{"account_id":17170928,"reputation":23,"user_id":12428091,"display_name":"Steve"},"score":0,"creation_date":1680587928,"post_id":75916334,"comment_id":133919050,"body_markdown":"Thanks Throbjorn. That is a good point. I really should have utility.jar that&#39;s just built with the maven-jar-plugin and then imported into my app.","body":"Thanks Throbjorn. That is a good point. I really should have utility.jar that&#39;s just built with the maven-jar-plugin and then imported into my app."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680504672,"creation_date":1680504672,"answer_id":75916704,"question_id":75916334,"body_markdown":"Have a look at the article https://www.baeldung.com/maven-artifact-classifiers, following dependency should work for you:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n            &lt;artifactId&gt;utility&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;importable&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Maven pom to include importable jar from another project","body":"<p>Have a look at the article <a href=\"https://www.baeldung.com/maven-artifact-classifiers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-artifact-classifiers</a>, following dependency should work for you:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\n            &lt;artifactId&gt;utility&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;classifier&gt;importable&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":17170928,"reputation":23,"user_id":12428091,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680505222,"creation_date":1680500767,"question_id":75916334,"body_markdown":"I have a project creating a Utility jar using Maven and it is stored in the local repository. I want to import that jar into my Application project. Because Maven now puts BOOT-INF in-front of the class path, I put the following into the Utility Jar to generate an importable version.\r\n\t\r\n```\r\n&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t   &lt;plugin&gt;\r\n\t\t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;executions&gt;\r\n\t\t            &lt;execution&gt;\r\n\t\t                &lt;goals&gt;\r\n\t\t                    &lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t                &lt;/goals&gt;\r\n\t\t                &lt;phase&gt;package&lt;/phase&gt;\r\n\t\t                &lt;configuration&gt;\r\n\t\t                    &lt;!--to be imported on other projects--&gt;\r\n\t\t                    &lt;classifier&gt;importable&lt;/classifier&gt;\r\n\t\t                &lt;/configuration&gt;\r\n\t\t            &lt;/execution&gt;\r\n\t\t        &lt;/executions&gt;\r\n\t\t    &lt;/plugin&gt;\r\n\t\t    &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t    &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n```\r\nIt&#39;s version 1.0 so it creates the following in the repository ...\r\n```\r\nutility-1.0-importable.jar\r\nutility-1.0.jar\r\n```\r\n... and some other stuff.\r\nThe importable jar does NOT put BOOT-INF in-front of the directories for my classes and so that&#39;s the jar I want to include in my Application pom.xml.\r\n\r\nI just don&#39;t know how to refer to it as the following refers to the utility-1.0.jar, which has the BOOT-INF and consequently the classes are not found.\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;utility&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nHow do I refer to the importable jar?\r\n(This is all brand new and so the latest versions of everything are being used.)\r\n\r\nI&#39;ve been wading through heaps of posts about including dependent maven projects but they don&#39;t seem to explain just what precisely goes into the dependent project and what goes into the application project. \r\n","title":"Maven pom to include importable jar from another project","body":"<p>I have a project creating a Utility jar using Maven and it is stored in the local repository. I want to import that jar into my Application project. Because Maven now puts BOOT-INF in-front of the class path, I put the following into the Utility Jar to generate an importable version.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;!--to be imported on other projects--&gt;\n                            &lt;classifier&gt;importable&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<p>It's version 1.0 so it creates the following in the repository ...</p>\n<pre><code>utility-1.0-importable.jar\nutility-1.0.jar\n</code></pre>\n<p>... and some other stuff.\nThe importable jar does NOT put BOOT-INF in-front of the directories for my classes and so that's the jar I want to include in my Application pom.xml.</p>\n<p>I just don't know how to refer to it as the following refers to the utility-1.0.jar, which has the BOOT-INF and consequently the classes are not found.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\n            &lt;artifactId&gt;utility&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>How do I refer to the importable jar?\n(This is all brand new and so the latest versions of everything are being used.)</p>\n<p>I've been wading through heaps of posts about including dependent maven projects but they don't seem to explain just what precisely goes into the dependent project and what goes into the application project.</p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":3135286,"reputation":1144,"user_id":2651902,"accept_rate":35,"display_name":"RaT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680504172,"creation_date":1679918645,"question_id":75855545,"body_markdown":"```\r\npublic class A {\r\n\r\n\tprivate B\tb;\r\n\r\n\t@NotNull\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;B_ID&quot;)\r\n\tpublic B getB() {\r\n\t\treturn this.b;\r\n\t}\r\n\r\n\tpublic void seB(B b) {\r\n\t\tthis.b = b;\r\n\t}\r\n}\r\n\r\npublic class B {\r\n\r\n\tprivate Set&lt;A&gt; a   = new HashSet&lt;&gt;(0);\r\n\t\r\n\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;b&quot;, cascade = { CascadeType.ALL }, orphanRemoval = true)\r\n\tpublic Set&lt;A&gt; getA() {\r\n\t\treturn this.a;\r\n\t}\r\n\t\r\n\tpublic void setA(Set&lt;A&gt; a) {\r\n\t\tthis.a = a;\r\n\t}\r\n}\r\n```\r\nI have two entity with ManyToOne mapping, like above.\r\n\r\nWhen I fetch object A with HQL eager fetch like ```SELECT ai FROM A ai LEFT JOIN FETCH ai.b b LEFT JOIN FETCH b.a where id=1```\r\nthe object received from query (suppose A a= getByQuery()) and the grand child of that object are same\r\n```a == a.getB().getA().get(0)```\r\n\r\nWhen I fetch only parent object from query ```SELECT ai FROM A ai where id=1```\r\nAnd thenlazy fetch the child and grandchild elements then they are not same objects\r\n```a != a.getB().getA().get(0)```\r\n\r\nIt is like hibernate didn&#39;t return same object from session cache, rather it creates new object with same id and returned during lazy fetch.\r\n\r\nI am not able to understand why it is happening, how can I avoid it. How can I debug and check the reason of it in hibernate code.","title":"Hibernate returning different object from session cache","body":"<pre><code>public class A {\n\n    private B   b;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;B_ID&quot;)\n    public B getB() {\n        return this.b;\n    }\n\n    public void seB(B b) {\n        this.b = b;\n    }\n}\n\npublic class B {\n\n    private Set&lt;A&gt; a   = new HashSet&lt;&gt;(0);\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;b&quot;, cascade = { CascadeType.ALL }, orphanRemoval = true)\n    public Set&lt;A&gt; getA() {\n        return this.a;\n    }\n    \n    public void setA(Set&lt;A&gt; a) {\n        this.a = a;\n    }\n}\n</code></pre>\n<p>I have two entity with ManyToOne mapping, like above.</p>\n<p>When I fetch object A with HQL eager fetch like <code>SELECT ai FROM A ai LEFT JOIN FETCH ai.b b LEFT JOIN FETCH b.a where id=1</code>\nthe object received from query (suppose A a= getByQuery()) and the grand child of that object are same\n<code>a == a.getB().getA().get(0)</code></p>\n<p>When I fetch only parent object from query <code>SELECT ai FROM A ai where id=1</code>\nAnd thenlazy fetch the child and grandchild elements then they are not same objects\n<code>a != a.getB().getA().get(0)</code></p>\n<p>It is like hibernate didn't return same object from session cache, rather it creates new object with same id and returned during lazy fetch.</p>\n<p>I am not able to understand why it is happening, how can I avoid it. How can I debug and check the reason of it in hibernate code.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1680496747,"post_id":75916040,"comment_id":133902555,"body_markdown":"why use this `for (int x = 1; x &gt; 0; x++)` loop.  I suggest just having an endless loop, then control your counter variable separately.  e.g. `while (true) {`","body":"why use this <code>for (int x = 1; x &gt; 0; x++)</code> loop.  I suggest just having an endless loop, then control your counter variable separately.  e.g. <code>while (true) {</code>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1680496831,"post_id":75916040,"comment_id":133902563,"body_markdown":"Also it is the general opinion that using exceptions for code control is not a good idea.","body":"Also it is the general opinion that using exceptions for code control is not a good idea."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680500651,"post_id":75916251,"comment_id":133902900,"body_markdown":"No need to create a new `Scanner` instance in each loop iteration, is there?","body":"No need to create a new <code>Scanner</code> instance in each loop iteration, is there?"}],"tags":[],"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680503438,"creation_date":1680499577,"answer_id":75916251,"question_id":75916040,"body_markdown":"try this,\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int min = 1;\r\n        int max = 50;\r\n        int rndm = (int) (Math.random() * (max - min) + 1) + min;\r\n        int x = 0;\r\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        while(true) {    \r\n            System.out.print(&quot;Guess the randomized number: &quot;);\r\n            int jv = sc.nextInt();\r\n            try {\r\n                if (jv &lt; min || jv &gt; max) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\r\n                    x++;\r\n                    if (jv == rndm) {\r\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\r\n                                + &quot;Your guess is correct!&quot;);\r\n                        int atmpts = x;\r\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    else if (jv &gt; rndm) {\r\n                        System.out.println(&quot;Too high! Try again.&quot;);\r\n                    }\r\n                    else if (jv &lt; rndm) {\r\n                        System.out.println(&quot;Too low! Try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (IllegalArgumentException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\r\n            }\r\n            catch (InputMismatchException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\r\n            }\r\n        }\r\n    }","title":"Number of attempts is inaccurate (for loop)","body":"<p>try this,</p>\n<pre><code>public static void main(String[] args) {\n\n    int min = 1;\n    int max = 50;\n    int rndm = (int) (Math.random() * (max - min) + 1) + min;\n    int x = 0;\n    System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n    Scanner sc = new Scanner(System.in);\n    while(true) {    \n        System.out.print(&quot;Guess the randomized number: &quot;);\n        int jv = sc.nextInt();\n        try {\n            if (jv &lt; min || jv &gt; max) {\n                throw new IllegalArgumentException();\n            }\n            else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\n                x++;\n                if (jv == rndm) {\n                    System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\n                            + &quot;Your guess is correct!&quot;);\n                    int atmpts = x;\n                    System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\n                    System.exit(0);\n                }\n                else if (jv &gt; rndm) {\n                    System.out.println(&quot;Too high! Try again.&quot;);\n                }\n                else if (jv &lt; rndm) {\n                    System.out.println(&quot;Too low! Try again.&quot;);\n                }\n            }\n        }\n        catch (IllegalArgumentException ex) {\n            System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\n        }\n        catch (InputMismatchException ex) {\n            System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680499677,"creation_date":1680499677,"answer_id":75916256,"question_id":75916040,"body_markdown":"No need to create a new `Scanner` each time you need to get input from the user. Create the `Scanner` once, before entering the loop.\r\n\r\nThis line of code is incorrect:\r\n```java\r\nx = x--;\r\n```\r\nIt should be:\r\n```java\r\n--x;\r\n```\r\nRefer to Oracle&#39;s Java [tutorials](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html).\r\n\r\nHere is your code with my corrections as described above:  \r\n(Note that I use class [Random](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html) to get a random number.)\r\n```java\r\nimport java.util.InputMismatchException;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int min = 1;\r\n        int max = 50;\r\n        Random rand = new Random();\r\n        int rndm = rand.nextInt(1, 51); // (int) (Math.random() * (max - min) + 1) + min;\r\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        for (int x = 1; x &gt; 0; x++) {\r\n            System.out.print(&quot;Guess the randomized number: &quot;);\r\n            int jv = sc.nextInt();\r\n            try {\r\n                if (jv &lt; min || jv &gt; max) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\r\n                    if (jv == rndm) {\r\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\r\n                                + &quot;Your guess is correct!&quot;);\r\n                        int atmpts = x;\r\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    else if (jv &gt; rndm) {\r\n                        System.out.println(&quot;Too high! Try again.&quot;);\r\n                    }\r\n                    else if (jv &lt; rndm) {\r\n                        System.out.println(&quot;Too low! Try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (IllegalArgumentException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\r\n                --x;\r\n            }\r\n            catch (InputMismatchException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\r\n                --x;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Number of attempts is inaccurate (for loop)","body":"<p>No need to create a new <code>Scanner</code> each time you need to get input from the user. Create the <code>Scanner</code> once, before entering the loop.</p>\n<p>This line of code is incorrect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>x = x--;\n</code></pre>\n<p>It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>--x;\n</code></pre>\n<p>Refer to Oracle's Java <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"nofollow noreferrer\">tutorials</a>.</p>\n<p>Here is your code with my corrections as described above:<br />\n(Note that I use class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\">Random</a> to get a random number.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.InputMismatchException;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        int min = 1;\n        int max = 50;\n        Random rand = new Random();\n        int rndm = rand.nextInt(1, 51); // (int) (Math.random() * (max - min) + 1) + min;\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n        Scanner sc = new Scanner(System.in);\n        for (int x = 1; x &gt; 0; x++) {\n            System.out.print(&quot;Guess the randomized number: &quot;);\n            int jv = sc.nextInt();\n            try {\n                if (jv &lt; min || jv &gt; max) {\n                    throw new IllegalArgumentException();\n                }\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\n                    if (jv == rndm) {\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\n                                + &quot;Your guess is correct!&quot;);\n                        int atmpts = x;\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\n                        System.exit(0);\n                    }\n                    else if (jv &gt; rndm) {\n                        System.out.println(&quot;Too high! Try again.&quot;);\n                    }\n                    else if (jv &lt; rndm) {\n                        System.out.println(&quot;Too low! Try again.&quot;);\n                    }\n                }\n            }\n            catch (IllegalArgumentException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\n                --x;\n            }\n            catch (InputMismatchException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\n                --x;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23015564,"reputation":5,"user_id":17137392,"display_name":"Alex L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916256,"answer_count":2,"score":0,"last_activity_date":1680503438,"creation_date":1680496125,"question_id":75916040,"body_markdown":"Is it possible to display the number of guesses/attempts made not counting the ones when an exception is thrown? Because the number of attempts I&#39;m getting when I execute the program includes the exceptions. I used decrement for whenever an exception is thrown but that&#39;s not working.\r\n\r\nHere&#39;s my code:\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int min = 1;\r\n        int max = 50;\r\n        int rndm = (int) (Math.random() * (max - min) + 1) + min;\r\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n        for (int x = 1; x &gt; 0; x++) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;Guess the randomized number: &quot;);\r\n            int jv = sc.nextInt();\r\n            try {\r\n                if (jv &lt; min || jv &gt; max) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\r\n                    if (jv == rndm) {\r\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\r\n                                + &quot;Your guess is correct!&quot;);\r\n                        int atmpts = x;\r\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    else if (jv &gt; rndm) {\r\n                        System.out.println(&quot;Too high! Try again.&quot;);\r\n                    }\r\n                    else if (jv &lt; rndm) {\r\n                        System.out.println(&quot;Too low! Try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (IllegalArgumentException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\r\n                x = x--;\r\n            }\r\n            catch (InputMismatchException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\r\n                x = x--;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Number of attempts is inaccurate (for loop)","body":"<p>Is it possible to display the number of guesses/attempts made not counting the ones when an exception is thrown? Because the number of attempts I'm getting when I execute the program includes the exceptions. I used decrement for whenever an exception is thrown but that's not working.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        int min = 1;\n        int max = 50;\n        int rndm = (int) (Math.random() * (max - min) + 1) + min;\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n        for (int x = 1; x &gt; 0; x++) {\n            Scanner sc = new Scanner(System.in);\n            System.out.print(&quot;Guess the randomized number: &quot;);\n            int jv = sc.nextInt();\n            try {\n                if (jv &lt; min || jv &gt; max) {\n                    throw new IllegalArgumentException();\n                }\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\n                    if (jv == rndm) {\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\n                                + &quot;Your guess is correct!&quot;);\n                        int atmpts = x;\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\n                        System.exit(0);\n                    }\n                    else if (jv &gt; rndm) {\n                        System.out.println(&quot;Too high! Try again.&quot;);\n                    }\n                    else if (jv &lt; rndm) {\n                        System.out.println(&quot;Too low! Try again.&quot;);\n                    }\n                }\n            }\n            catch (IllegalArgumentException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\n                x = x--;\n            }\n            catch (InputMismatchException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\n                x = x--;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","antlr4"],"comments":[{"owner":{"account_id":175495,"reputation":2169,"user_id":405555,"accept_rate":80,"display_name":"Elliveny"},"score":0,"creation_date":1680334295,"post_id":75904566,"comment_id":133883938,"body_markdown":"Ok, so I installed microsoft-jdk-17.0.6-windows-x64.msi from https://learn.microsoft.com/en-us/java/openjdk/download. This has given me a new java.exe in &quot;C:\\Program Files\\Microsoft\\jdk-17.0.6.10-hotspot&quot;. After rebooting, java --version gives me &#39;openjdk 17.0.6 2023-01-17 LTS - OpenJDK Runtime Environment Microsoft-7209853 (build 17.0.6+10-LTS) - OpenJDK 64-Bit Server VM Microsoft-7209853 (build 17.0.6+10-LTS, mixed mode, sharing)&#39; and now I get the &#39;ANTLR Parser Generator  Version 4.12.0&#39; help when I execute the jar file :-) - Still wondering if the JDK was the best choice though?","body":"Ok, so I installed microsoft-jdk-17.0.6-windows-x64.msi from <a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/java/openjdk/download</a>. This has given me a new java.exe in &quot;C:\\Program Files\\Microsoft\\jdk-17.0.6.10-hotspot&quot;. After rebooting, java --version gives me &#39;openjdk 17.0.6 2023-01-17 LTS - OpenJDK Runtime Environment Microsoft-7209853 (build 17.0.6+10-LTS) - OpenJDK 64-Bit Server VM Microsoft-7209853 (build 17.0.6+10-LTS, mixed mode, sharing)&#39; and now I get the &#39;ANTLR Parser Generator  Version 4.12.0&#39; help when I execute the jar file :-) - Still wondering if the JDK was the best choice though?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680426421,"post_id":75904566,"comment_id":133893763,"body_markdown":"As far as I&#39;m aware, the java.com site is only retained and only offers Java 8 for &quot;historic reasons&quot;. So the fact it recommends &quot;Version 8 Update 361&quot; has no bearing on what the wider Java community does and uses. For example, if you go to https://www.java.com/en/, it has a blurb _&quot;Are you a software developer looking for JDK downloads?&quot;_ which points you to https://www.oracle.com/java/technologies/downloads/ (which right now will recommend Java 17 and/or Java 20). Also there are a lot of different &quot;vendors&quot; for Java: Oracle, Eclipse Adoptium, Microsoft, Azul, IBM and others.","body":"As far as I&#39;m aware, the java.com site is only retained and only offers Java 8 for &quot;historic reasons&quot;. So the fact it recommends &quot;Version 8 Update 361&quot; has no bearing on what the wider Java community does and uses. For example, if you go to <a href=\"https://www.java.com/en/\" rel=\"nofollow noreferrer\">java.com/en</a>, it has a blurb <i>&quot;Are you a software developer looking for JDK downloads?&quot;</i> which points you to <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/downloads</a> (which right now will recommend Java 17 and/or Java 20). Also there are a lot of different &quot;vendors&quot; for Java: Oracle, Eclipse Adoptium, Microsoft, Azul, IBM and others."},{"owner":{"account_id":175495,"reputation":2169,"user_id":405555,"accept_rate":80,"display_name":"Elliveny"},"score":0,"creation_date":1680503092,"post_id":75904566,"comment_id":133903220,"body_markdown":"Thanks @MarkRotteveel - it seems bizarre to me that Java 8 has a recent release date, it&#39;s very misleading. I see my question was closed, with reference to a &#39;duplicate&#39; which I did see, but which has such an overwhelming number of replies and which discusses subjects way outside the issue I was trying to fix that I couldn&#39;t see an answer there. I hope this question stays around for the benefit of others who are looking for a simple answer to &#39;how can I get the latest version of Antlr running on Windows 10&#39;.","body":"Thanks @MarkRotteveel - it seems bizarre to me that Java 8 has a recent release date, it&#39;s very misleading. I see my question was closed, with reference to a &#39;duplicate&#39; which I did see, but which has such an overwhelming number of replies and which discusses subjects way outside the issue I was trying to fix that I couldn&#39;t see an answer there. I hope this question stays around for the benefit of others who are looking for a simple answer to &#39;how can I get the latest version of Antlr running on Windows 10&#39;."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680506494,"post_id":75904566,"comment_id":133903828,"body_markdown":"Java 8 is still maintained, just like Java 11, Java 17, and Java 20 (Java 20 is supported until the release of Java 21). In any case. from the accepted answer on the duplicate, you should be able to understand the exception, and that you need Java 11 or higher to be able to run classes of &quot;class file version 55.0&quot;.","body":"Java 8 is still maintained, just like Java 11, Java 17, and Java 20 (Java 20 is supported until the release of Java 21). In any case. from the accepted answer on the duplicate, you should be able to understand the exception, and that you need Java 11 or higher to be able to run classes of &quot;class file version 55.0&quot;."}],"owner":{"account_id":175495,"reputation":2169,"user_id":405555,"accept_rate":80,"display_name":"Elliveny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680426331,"answer_count":0,"score":0,"last_activity_date":1680503432,"creation_date":1680329716,"question_id":75904566,"body_markdown":"I&#39;m learning Antlr and trying to use the [latest jar file][1] (4.12.0) on a Windows 10 machine. \r\n\r\nI get an error when I try to run it:\r\n\r\n    java -jar antlr-4.12.0-complete.jar\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/antlr/v4/Tool \r\n    has been compiled by a more recent version of the Java Runtime (class file version 55.0), \r\n    this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nI uninstalled all versions of Java, cleared out my PATH and environment variables of any Java references, rebooted and downloaded what appears to be the latest Java version on the [java.com downloads page][2]. It says &#39;Recommended Version 8 Update 361 Release date: January 17, 2023&#39;.\r\n\r\nAfter the install (and a reboot for good measure) I&#39;m disappointed to see the same error.\r\n\r\nI don&#39;t work with Java and am unfamiliar with versions but I&#39;ve tried to work this out. Right now I&#39;ve found a &#39;[Microsoft Build of OpenJDK][3]&#39;, a &#39;[JDK 20 reached General Availability on 21 March 2023][4]&#39; and a &#39;[Java SE Development Kit 20][5]&#39; and am doing some reading, but am feeling thoroughly confused by it all. I think I just need a Java runtime of the right version but haven&#39;t found one yet.\r\n\r\nSo, help please, what do I need to install to get Antlr working?\r\n\r\n  [1]: https://www.antlr.org/download.html\r\n  [2]: https://www.java.com/en/download/manual.jsp\r\n  [3]: https://learn.microsoft.com/en-us/java/openjdk/download\r\n  [4]: https://openjdk.org/projects/jdk/20/\r\n  [5]: https://www.oracle.com/java/technologies/downloads/#java20","title":"What version of Java do I need to run the latest version of Antlr on Windows?","body":"<p>I'm learning Antlr and trying to use the <a href=\"https://www.antlr.org/download.html\" rel=\"nofollow noreferrer\">latest jar file</a> (4.12.0) on a Windows 10 machine.</p>\n<p>I get an error when I try to run it:</p>\n<pre><code>java -jar antlr-4.12.0-complete.jar\n\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/antlr/v4/Tool \nhas been compiled by a more recent version of the Java Runtime (class file version 55.0), \nthis version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>I uninstalled all versions of Java, cleared out my PATH and environment variables of any Java references, rebooted and downloaded what appears to be the latest Java version on the <a href=\"https://www.java.com/en/download/manual.jsp\" rel=\"nofollow noreferrer\">java.com downloads page</a>. It says 'Recommended Version 8 Update 361 Release date: January 17, 2023'.</p>\n<p>After the install (and a reboot for good measure) I'm disappointed to see the same error.</p>\n<p>I don't work with Java and am unfamiliar with versions but I've tried to work this out. Right now I've found a '<a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">Microsoft Build of OpenJDK</a>', a '<a href=\"https://openjdk.org/projects/jdk/20/\" rel=\"nofollow noreferrer\">JDK 20 reached General Availability on 21 March 2023</a>' and a '<a href=\"https://www.oracle.com/java/technologies/downloads/#java20\" rel=\"nofollow noreferrer\">Java SE Development Kit 20</a>' and am doing some reading, but am feeling thoroughly confused by it all. I think I just need a Java runtime of the right version but haven't found one yet.</p>\n<p>So, help please, what do I need to install to get Antlr working?</p>\n"},{"tags":["java","split"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1680488420,"post_id":75915626,"comment_id":133901807,"body_markdown":"How are you seeing this result? Do you have `System.out.println()` or something in your code? If so, please [edit] your question to include that. In general, you should add enough code to your question so that anyone can compile and run it themselves to get the same result.","body":"How are you seeing this result? Do you have <code>System.out.println()</code> or something in your code? If so, please <a href=\"https://stackoverflow.com/posts/75915626/edit\">edit</a> your question to include that. In general, you should add enough code to your question so that anyone can compile and run it themselves to get the same result."}],"answers":[{"comments":[{"owner":{"account_id":8602157,"reputation":1,"user_id":6443349,"display_name":"Azka"},"score":0,"creation_date":1680489377,"post_id":75915638,"comment_id":133901891,"body_markdown":"i tried this one. but MRS is gone. can we keep it? so, it will give output like \n1. Alison Quek Yong Hoon \n2. MRS Alison Teng Yong Hoon","body":"i tried this one. but MRS is gone. can we keep it? so, it will give output like  1. Alison Quek Yong Hoon  2. MRS Alison Teng Yong Hoon"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680495923,"post_id":75915638,"comment_id":133902496,"body_markdown":"Your regexp uses positive lookbehind. You want positive lookahead for that. So, `(?=)`, not `(?&lt;=)`.","body":"Your regexp uses positive lookbehind. You want positive lookahead for that. So, <code>(?=)</code>, not <code>(?&lt;=)</code>."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680488518,"creation_date":1680488518,"answer_id":75915638,"question_id":75915626,"body_markdown":"The regexp you pass to `split` needs to _match_ the entire &#39;thing that separates&#39;. In your case, you want it to match the M, the R, the S, and any spaces around it.\r\n\r\nYour regexp instead matches 0 characters: It has nothing but lookbehind. It only matches that 0-char-sized position in the input which precedes MRS followed by precisely one space or one dot, because of the lookahead, but that&#39;s what is matched and thus removed, and therefore, 0 characters (nothing) is removed.\r\n\r\nWhat you want is much simpler: `input.split(&quot;\\\\s*MRS[ .]&quot;)`.\r\n\r\nThis matches &#39;any amount of spaces, followed by MRS, followed by either a space or a dot&#39;. It will then return everything in between what this matches, removing the stuff that matches (i.e. removing the &#39;spaces, MRS, space-or-dot&#39; parts, and returning everything in between).\r\n","title":"How to Split Title in Java","body":"<p>The regexp you pass to <code>split</code> needs to <em>match</em> the entire 'thing that separates'. In your case, you want it to match the M, the R, the S, and any spaces around it.</p>\n<p>Your regexp instead matches 0 characters: It has nothing but lookbehind. It only matches that 0-char-sized position in the input which precedes MRS followed by precisely one space or one dot, because of the lookahead, but that's what is matched and thus removed, and therefore, 0 characters (nothing) is removed.</p>\n<p>What you want is much simpler: <code>input.split(&quot;\\\\s*MRS[ .]&quot;)</code>.</p>\n<p>This matches 'any amount of spaces, followed by MRS, followed by either a space or a dot'. It will then return everything in between what this matches, removing the stuff that matches (i.e. removing the 'spaces, MRS, space-or-dot' parts, and returning everything in between).</p>\n"},{"comments":[{"owner":{"account_id":8602157,"reputation":1,"user_id":6443349,"display_name":"Azka"},"score":0,"creation_date":1680490063,"post_id":75915650,"comment_id":133901966,"body_markdown":"This one works!\nThank you so much.","body":"This one works! Thank you so much."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1680490217,"post_id":75915650,"comment_id":133901981,"body_markdown":"If green checkmark to the left would be possible it would be appreciated.","body":"If green checkmark to the left would be possible it would be appreciated."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680489682,"creation_date":1680488712,"answer_id":75915650,"question_id":75915626,"body_markdown":"Split on `\\s+MRS\\s+` and then prepend `MRS` to the second part of the split:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\r\n    String[] parts = input.split(&quot;\\\\s+MRS\\\\s+&quot;);\r\n    parts[1] = &quot;MRS &quot; + parts[1];\r\n    System.out.println(Arrays.toString(parts));\r\n\r\n    // [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]\r\n\r\nIf you really want to use a lookaround, then you should be using a positive _lookahead_:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\r\n    String[] parts = input.split(&quot;\\\\s+(?=MRS\\\\b)&quot;);\r\n    System.out.println(Arrays.toString(parts));\r\n\r\n    // [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]","title":"How to Split Title in Java","body":"<p>Split on <code>\\s+MRS\\s+</code> and then prepend <code>MRS</code> to the second part of the split:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\nString[] parts = input.split(&quot;\\\\s+MRS\\\\s+&quot;);\nparts[1] = &quot;MRS &quot; + parts[1];\nSystem.out.println(Arrays.toString(parts));\n\n// [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]\n</code></pre>\n<p>If you really want to use a lookaround, then you should be using a positive <em>lookahead</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\nString[] parts = input.split(&quot;\\\\s+(?=MRS\\\\b)&quot;);\nSystem.out.println(Arrays.toString(parts));\n\n// [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680502971,"creation_date":1680502971,"answer_id":75916529,"question_id":75915626,"body_markdown":"If you want to split it with a single regular expression, you can use this:\r\n``` lang-regex\r\n\\s(?=MRS)\r\n```\r\nThis is a single whitespace followed by the string &quot;MRS&quot;, but &quot;MRS&quot; is not included in the match.\r\n\r\nIf you want to extend that by one or more whitespaces, you can use `\\s+(?=MRS)`.\r\n\r\nTested in jshell:\r\n``` lang-jshell\r\njshell&gt; &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;.split(&quot;\\\\s(?=MRS)&quot;)\r\n$1 ==&gt; String[2] { &quot;Alison Quek Yong Hoon&quot;, &quot;MRS Alison Teng Yong Hoon&quot; }\r\n```","title":"How to Split Title in Java","body":"<p>If you want to split it with a single regular expression, you can use this:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\s(?=MRS)\n</code></pre>\n<p>This is a single whitespace followed by the string &quot;MRS&quot;, but &quot;MRS&quot; is not included in the match.</p>\n<p>If you want to extend that by one or more whitespaces, you can use <code>\\s+(?=MRS)</code>.</p>\n<p>Tested in jshell:</p>\n<pre class=\"lang-jshell prettyprint-override\"><code>jshell&gt; &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;.split(&quot;\\\\s(?=MRS)&quot;)\n$1 ==&gt; String[2] { &quot;Alison Quek Yong Hoon&quot;, &quot;MRS Alison Teng Yong Hoon&quot; }\n</code></pre>\n"}],"owner":{"account_id":8602157,"reputation":1,"user_id":6443349,"display_name":"Azka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680502971,"creation_date":1680488244,"question_id":75915626,"body_markdown":"I tried to split below\r\n&lt;br&gt;String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;&lt;br&gt;\r\nString[] output = input.split(&quot;(?&lt;=(MRS\\\\s|MRS\\\\.))&quot;);\r\n\r\n\r\n\r\nresult i got :\r\n1. Alison Quek Yong Hoon MRS\r\n2. Alison Teng Yong Hoon\r\n\r\nmy expected result are : \r\n1. Alison Quek Yong Hoon\r\n2. MRS Alison Teng Yong Hoon","title":"How to Split Title in Java","body":"<p>I tried to split below\n<br>String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;<br>\nString[] output = input.split(&quot;(?&lt;=(MRS\\s|MRS\\.))&quot;);</p>\n<p>result i got :</p>\n<ol>\n<li>Alison Quek Yong Hoon MRS</li>\n<li>Alison Teng Yong Hoon</li>\n</ol>\n<p>my expected result are :</p>\n<ol>\n<li>Alison Quek Yong Hoon</li>\n<li>MRS Alison Teng Yong Hoon</li>\n</ol>\n"},{"tags":["java","docker","shell","containers","container-image"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1680516036,"post_id":75915891,"comment_id":133905922,"body_markdown":"Does [What are shell form and exec form?](https://stackoverflow.com/questions/47904974/what-are-shell-form-and-exec-form) answer your question?  Are you referring to the two syntaxes of `CMD`, launching the `CMD` from an entrypoint wrapper script, something else?","body":"Does <a href=\"https://stackoverflow.com/questions/47904974/what-are-shell-form-and-exec-form\">What are shell form and exec form?</a> answer your question?  Are you referring to the two syntaxes of <code>CMD</code>, launching the <code>CMD</code> from an entrypoint wrapper script, something else?"}],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680502227,"creation_date":1680502227,"answer_id":75916456,"question_id":75915891,"body_markdown":"As per the best practices is concerned there is no such recommendation for invoking java Processes.\r\n\r\nAs both approaches have their own pros and cons. it certainly depends on what your app does or is there any reconfiguration is required in such cases writing a shell makes sense.\r\n\r\nAn interesting read on this scenario https://stackoverflow.com/questions/75910305/how-can-i-make-the-dotnet-command-the-second-command-in-docker/75910448#75910448\r\n\r\nRegarding SIGTERM scenario. The only difference will be if you invoke the java process directly Sigterm will be received by the Java process and in the case of the Shell program your shell PID will receive the shutdown event. \r\n\r\nSo to conclude I think usage depends on your requirements. Hope this helps.","title":"Invoking Java from container - directly or shell","body":"<p>As per the best practices is concerned there is no such recommendation for invoking java Processes.</p>\n<p>As both approaches have their own pros and cons. it certainly depends on what your app does or is there any reconfiguration is required in such cases writing a shell makes sense.</p>\n<p>An interesting read on this scenario <a href=\"https://stackoverflow.com/questions/75910305/how-can-i-make-the-dotnet-command-the-second-command-in-docker/75910448#75910448\">How can I make the dotnet command the second command in docker?</a></p>\n<p>Regarding SIGTERM scenario. The only difference will be if you invoke the java process directly Sigterm will be received by the Java process and in the case of the Shell program your shell PID will receive the shutdown event.</p>\n<p>So to conclude I think usage depends on your requirements. Hope this helps.</p>\n"}],"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680502227,"creation_date":1680493667,"question_id":75915891,"body_markdown":"Is there a recommended practice to invoke Java process between invoking directly vs using shell as entry point?\r\n\r\nI understand that shell will add extra file to maintain as downside, but provides flexibility in setting up JVM, e.g. JFR, memory conf, etc.\r\n\r\nBut any issues of using one over the other, e.g. SIGTERM?","title":"Invoking Java from container - directly or shell","body":"<p>Is there a recommended practice to invoke Java process between invoking directly vs using shell as entry point?</p>\n<p>I understand that shell will add extra file to maintain as downside, but provides flexibility in setting up JVM, e.g. JFR, memory conf, etc.</p>\n<p>But any issues of using one over the other, e.g. SIGTERM?</p>\n"},{"tags":["java","servlets"],"owner":{"account_id":28154193,"reputation":1,"user_id":21515170,"display_name":"SHEKHAR CHAVAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680501919,"creation_date":1680500347,"question_id":75916312,"body_markdown":"I am working with a servlet project in which the user inputs data in a form and if  the terms and conditions are not met then the form is displayed.\r\nHowever, the above functionality does not seem to work?\r\nHow do I fix it?\r\n\r\nI am using NetBeans.\r\n\r\nRegisterServlet.java\r\n\r\n```\r\nRegisterServlet.java\r\n\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\npackage com.packages;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\n \r\n/**\r\n *\r\n * @author soura\r\n */\r\npublic class RegisterServlet extends HttpServlet{\r\n    @Override\r\n    public void doPost(HttpServletRequest request,HttpServletResponse response)throws ServletException,IOException{\r\n        response.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out=response.getWriter();\r\n        out.println(&quot;&lt;h1&gt;Welcome to Register Servlet&lt;/h1&gt;&quot;);\r\n        String name=request.getParameter(&quot;user_name&quot;);\r\n        String password=request.getParameter(&quot;user_password&quot;);\r\n        String email=request.getParameter(&quot;user_mail&quot;);\r\n        String gender=request.getParameter(&quot;user_gender&quot;);\r\n        String course=request.getParameter(&quot;user_course&quot;);\r\n         \r\n         String condition=request.getParameter(&quot;conditiontocheck&quot;);\r\n          \r\n         if(condition!=null){\r\n            if(condition.equals(&quot;checked&quot;)){\r\n                out.println(&quot;&lt;h2&gt;Name:&lt;/h2&gt;&quot;+name);\r\n                out.println(&quot;&lt;h2&gt;Password:&lt;/h2&gt;&quot;+password);\r\n                out.println(&quot;&lt;h2&gt;Email:&lt;/h2&gt;&quot;+email);\r\n                out.println(&quot;&lt;h2&gt;Gensder:&lt;/h2&gt;&quot;+gender);\r\n                out.println(&quot;&lt;h2&gt;Course:&lt;/h2&gt;&quot;+course);      \r\n            }else{\r\n             out.println(&quot;The terms and conditions have not been applied.&quot;); \r\n            }\r\n         }\r\n         else{\r\n            out.println(&quot;The terms and conditions have not been applied.&quot;); \r\n           RequestDispatcher rd=request.getRequestDispatcher(&quot;/index.html&quot;);\r\n            rd.include(request,response);\r\n         }\r\n    }   \r\n}\r\n```\r\n\r\n\r\nI was expecting that when I run the app on netbeans and don&#39;t click on terms and conditions agree the browser displays the form with details with the text &quot;the terms and consitions have not been agreed&quot;\r\n\r\nHowever, the form is displayed without the details I entered.","title":"include() method in Requestdispatcher not working in servlet","body":"<p>I am working with a servlet project in which the user inputs data in a form and if  the terms and conditions are not met then the form is displayed.\nHowever, the above functionality does not seem to work?\nHow do I fix it?</p>\n<p>I am using NetBeans.</p>\n<p>RegisterServlet.java</p>\n<pre><code>RegisterServlet.java\n\n/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage com.packages;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n \n/**\n *\n * @author soura\n */\npublic class RegisterServlet extends HttpServlet{\n    @Override\n    public void doPost(HttpServletRequest request,HttpServletResponse response)throws ServletException,IOException{\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out=response.getWriter();\n        out.println(&quot;&lt;h1&gt;Welcome to Register Servlet&lt;/h1&gt;&quot;);\n        String name=request.getParameter(&quot;user_name&quot;);\n        String password=request.getParameter(&quot;user_password&quot;);\n        String email=request.getParameter(&quot;user_mail&quot;);\n        String gender=request.getParameter(&quot;user_gender&quot;);\n        String course=request.getParameter(&quot;user_course&quot;);\n         \n         String condition=request.getParameter(&quot;conditiontocheck&quot;);\n          \n         if(condition!=null){\n            if(condition.equals(&quot;checked&quot;)){\n                out.println(&quot;&lt;h2&gt;Name:&lt;/h2&gt;&quot;+name);\n                out.println(&quot;&lt;h2&gt;Password:&lt;/h2&gt;&quot;+password);\n                out.println(&quot;&lt;h2&gt;Email:&lt;/h2&gt;&quot;+email);\n                out.println(&quot;&lt;h2&gt;Gensder:&lt;/h2&gt;&quot;+gender);\n                out.println(&quot;&lt;h2&gt;Course:&lt;/h2&gt;&quot;+course);      \n            }else{\n             out.println(&quot;The terms and conditions have not been applied.&quot;); \n            }\n         }\n         else{\n            out.println(&quot;The terms and conditions have not been applied.&quot;); \n           RequestDispatcher rd=request.getRequestDispatcher(&quot;/index.html&quot;);\n            rd.include(request,response);\n         }\n    }   \n}\n</code></pre>\n<p>I was expecting that when I run the app on netbeans and don't click on terms and conditions agree the browser displays the form with details with the text &quot;the terms and consitions have not been agreed&quot;</p>\n<p>However, the form is displayed without the details I entered.</p>\n"},{"tags":["java","json","junit-jupiter","spring-webtestclient"],"answers":[{"tags":[],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680501727,"creation_date":1680501727,"answer_id":75916412,"question_id":75887814,"body_markdown":"Solved it by checking the size of the json properties. Not exactly what I wanted (because now I have to change 2 values of something changes), but it&#39;s still a viable solution: \r\n\r\n    .jsonPath(&quot;$.length()&quot;).isEqualTo(4);\r\n\r\nHamcrest Matchers did not work for me. \r\n\r\nSee also this answer: https://stackoverflow.com/a/74195945/3824715","title":"WebTestClient assertThat json has only specific keys","body":"<p>Solved it by checking the size of the json properties. Not exactly what I wanted (because now I have to change 2 values of something changes), but it's still a viable solution:</p>\n<pre><code>.jsonPath(&quot;$.length()&quot;).isEqualTo(4);\n</code></pre>\n<p>Hamcrest Matchers did not work for me.</p>\n<p>See also this answer: <a href=\"https://stackoverflow.com/a/74195945/3824715\">https://stackoverflow.com/a/74195945/3824715</a></p>\n"}],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916412,"answer_count":1,"score":0,"last_activity_date":1680501727,"creation_date":1680176686,"question_id":75887814,"body_markdown":"I&#39;m testing my endpoints like so:  \r\n\r\n            webTestClient.get().uri(BASE_URL).\r\n                .exchange().expectStatus().isOk().expectBody()\r\n                .jsonPath(&quot;$.name&quot;).isEqualTo(&quot;test1&quot;)\r\n                .jsonPath(&quot;$.street&quot;).isEqualTo(&quot;test1&quot;)\r\n                .jsonPath(&quot;$.id&quot;).isEqualTo(1);\r\n\r\nIs there any way I can make sure that the json has only those 3 fields and not more? ","title":"WebTestClient assertThat json has only specific keys","body":"<p>I'm testing my endpoints like so:</p>\n<pre><code>        webTestClient.get().uri(BASE_URL).\n            .exchange().expectStatus().isOk().expectBody()\n            .jsonPath(&quot;$.name&quot;).isEqualTo(&quot;test1&quot;)\n            .jsonPath(&quot;$.street&quot;).isEqualTo(&quot;test1&quot;)\n            .jsonPath(&quot;$.id&quot;).isEqualTo(1);\n</code></pre>\n<p>Is there any way I can make sure that the json has only those 3 fields and not more?</p>\n"},{"tags":["java","android","notifications","firebase-cloud-messaging","custom-notification"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680358055,"creation_date":1680358055,"answer_id":75906725,"question_id":75906005,"body_markdown":"When the app is not running, notification messages are displayed by the system and not by your application code.\r\n\r\nIf you always want your application code to handle the display, you should send only data messages.\r\n\r\nFor more on this, have a look at the Firebase documentation on [messages types](https://firebase.google.com/docs/cloud-messaging/concept-options#notifications_and_data_messages).","title":"I have RemoteViews for my (FCM) custom notification which is working great if app is running but when app is close system sending default notification","body":"<p>When the app is not running, notification messages are displayed by the system and not by your application code.</p>\n<p>If you always want your application code to handle the display, you should send only data messages.</p>\n<p>For more on this, have a look at the Firebase documentation on <a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options#notifications_and_data_messages\" rel=\"nofollow noreferrer\">messages types</a>.</p>\n"}],"owner":{"account_id":28186517,"reputation":1,"user_id":21542602,"display_name":"K Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680501009,"creation_date":1680349750,"question_id":75906005,"body_markdown":"I am trying to create custom notification which data is coming from Firebase cloud messaging and it is working fine if app is running but when app is closed system taking default notification.\r\n\r\nSo what is solution or alternative for this?\r\n\r\n\r\n```\r\n@Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        if (remoteMessage.getNotification() != null) {\r\n            Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived: &quot; + remoteMessage.getData().toString());\r\n            try {\r\n                if (remoteMessage.getNotification().getImageUrl() != null &amp;&amp; !remoteMessage.getNotification().getImageUrl().toString().isEmpty()) {\r\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), remoteMessage.getNotification().getImageUrl().toString());\r\n                } else {\r\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), &quot;&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived Exception : &quot; + e.getMessage());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\n// i added this code in my onMessageReceived \r\npublic void showNotification(String title, String message, String type, String imageUrl) throws IOException {\r\n      \r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.putExtra(&quot;type&quot;, type);\r\n        String channel_id = &quot;notification_channel&quot;;\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, Build.VERSION.SDK_INT &lt; 31 ? PendingIntent.FLAG_ONE_SHOT : PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\r\n                NotificationChannel notificationChannel = new NotificationChannel(channel_id, &quot;web_app&quot;, NotificationManager.IMPORTANCE_HIGH);\r\n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n                notificationManager.createNotificationChannel(notificationChannel);\r\n\r\n                // Attach the custom Expand layout\r\n                RemoteViews notificationLayout = new RemoteViews(getPackageName(), R.layout.notification_layout);\r\n                notificationLayout.setTextViewText(R.id.notification_text, title);\r\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\r\n                notificationLayout.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\r\n\r\n                // Attach the custom Init layout\r\n                RemoteViews notificationLayoutInit = new RemoteViews(getPackageName(), R.layout.notification_init_layout);\r\n                notificationLayoutInit.setTextViewText(R.id.notification_text, title);\r\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\r\n                notificationLayoutInit.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\r\n\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\r\n                        .setSmallIcon(R.mipmap.app_launcher)\r\n                        .setAutoCancel(true)\r\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\r\n                        .setOnlyAlertOnce(true)\r\n                        .setContentIntent(pendingIntent)\r\n                        .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\r\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\r\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                        .setCustomContentView(notificationLayoutInit)\r\n                        .setCustomBigContentView(notificationLayout);\r\n\r\n                // Show the notification\r\n                notificationManager.notify(1, builder.build());\r\n\r\n            } else {\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\r\n                        .setSmallIcon(R.mipmap.app_launcher)\r\n                        .setAutoCancel(true)\r\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\r\n                        .setOnlyAlertOnce(true)\r\n                        .setContentIntent(pendingIntent)\r\n//                        .setContentTitle(title)\r\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\r\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                        .setContentText(title);\r\n                if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {\r\n                    builder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(getBitmapFromUrl(imageUrl)));\r\n                }\r\n                NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\r\n                notificationManager.notify(0, builder.build());\r\n            }\r\n        }\r\n```\r\n\r\nI want to show my custom notification even if app is closed. Can i use service for that and if yes than how?","title":"I have RemoteViews for my (FCM) custom notification which is working great if app is running but when app is close system sending default notification","body":"<p>I am trying to create custom notification which data is coming from Firebase cloud messaging and it is working fine if app is running but when app is closed system taking default notification.</p>\n<p>So what is solution or alternative for this?</p>\n<pre><code>@Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        if (remoteMessage.getNotification() != null) {\n            Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived: &quot; + remoteMessage.getData().toString());\n            try {\n                if (remoteMessage.getNotification().getImageUrl() != null &amp;&amp; !remoteMessage.getNotification().getImageUrl().toString().isEmpty()) {\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), remoteMessage.getNotification().getImageUrl().toString());\n                } else {\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), &quot;&quot;);\n                }\n            } catch (Exception e) {\n                Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived Exception : &quot; + e.getMessage());\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<pre><code>// i added this code in my onMessageReceived \npublic void showNotification(String title, String message, String type, String imageUrl) throws IOException {\n      \n        Intent intent = new Intent(this, MainActivity.class);\n        intent.putExtra(&quot;type&quot;, type);\n        String channel_id = &quot;notification_channel&quot;;\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, Build.VERSION.SDK_INT &lt; 31 ? PendingIntent.FLAG_ONE_SHOT : PendingIntent.FLAG_IMMUTABLE);\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n                NotificationChannel notificationChannel = new NotificationChannel(channel_id, &quot;web_app&quot;, NotificationManager.IMPORTANCE_HIGH);\n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\n                notificationManager.createNotificationChannel(notificationChannel);\n\n                // Attach the custom Expand layout\n                RemoteViews notificationLayout = new RemoteViews(getPackageName(), R.layout.notification_layout);\n                notificationLayout.setTextViewText(R.id.notification_text, title);\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\n                notificationLayout.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\n\n                // Attach the custom Init layout\n                RemoteViews notificationLayoutInit = new RemoteViews(getPackageName(), R.layout.notification_init_layout);\n                notificationLayoutInit.setTextViewText(R.id.notification_text, title);\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\n                notificationLayoutInit.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\n\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\n                        .setSmallIcon(R.mipmap.app_launcher)\n                        .setAutoCancel(true)\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\n                        .setOnlyAlertOnce(true)\n                        .setContentIntent(pendingIntent)\n                        .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\n                        .setCustomContentView(notificationLayoutInit)\n                        .setCustomBigContentView(notificationLayout);\n\n                // Show the notification\n                notificationManager.notify(1, builder.build());\n\n            } else {\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\n                        .setSmallIcon(R.mipmap.app_launcher)\n                        .setAutoCancel(true)\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\n                        .setOnlyAlertOnce(true)\n                        .setContentIntent(pendingIntent)\n//                        .setContentTitle(title)\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\n                        .setContentText(title);\n                if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {\n                    builder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(getBitmapFromUrl(imageUrl)));\n                }\n                NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\n                notificationManager.notify(0, builder.build());\n            }\n        }\n</code></pre>\n<p>I want to show my custom notification even if app is closed. Can i use service for that and if yes than how?</p>\n"},{"tags":["java","hazelcast","vert.x"],"answers":[{"comments":[{"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"score":0,"creation_date":1680504912,"post_id":75916349,"comment_id":133903520,"body_markdown":"Thank you, İ found same solution.","body":"Thank you, İ found same solution."}],"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680500966,"creation_date":1680500966,"answer_id":75916349,"question_id":75835123,"body_markdown":"When creating the member you can do something like this\r\n\r\n    Config config = ...;\r\n    config.getMapConfig(MAP_NAME)\r\n      .getMapStoreConfig().setEnabled(true)\r\n      .setImplementation(new MyMapStore&lt;&gt;());\r\nYou can use setImplementation() to pass an object. The MyMapStore will contain the connection object","title":"How to inject object into Hazelcast MapStore in no-Spring application","body":"<p>When creating the member you can do something like this</p>\n<pre><code>Config config = ...;\nconfig.getMapConfig(MAP_NAME)\n  .getMapStoreConfig().setEnabled(true)\n  .setImplementation(new MyMapStore&lt;&gt;());\n</code></pre>\n<p>You can use setImplementation() to pass an object. The MyMapStore will contain the connection object</p>\n"}],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916349,"answer_count":1,"score":0,"last_activity_date":1680500966,"creation_date":1679669415,"question_id":75835123,"body_markdown":"\r\nI need to pass (inject) already created object into Hazelcast MapStore. In the example (from Hazelcast documentation) below shown how to pass properties into MapStore from xml configuration and create new object using these properties inside store init method.\r\n\r\nBut how to pass already constructed connection object in Vert.x? As it is **not Spring** project, I can&#39;t use @SpringAware and bean injection.\r\n````\r\n&lt;hazelcast&gt;\r\n    ...\r\n    &lt;map name=&quot;supplements&quot;&gt;\r\n        &lt;map-store enabled=&quot;true&quot; initial-mode=&quot;LAZY&quot;&gt;\r\n            &lt;class-name&gt;com.hazelcast.loader.YourMapStoreImplementation&lt;/class-name&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;mongo.url&quot;&gt;mongodb://localhost:27017&lt;/property&gt;\r\n                &lt;property name=&quot;mongo.db&quot;&gt;mydb&lt;/property&gt;\r\n                &lt;property name=&quot;mongo.collection&quot;&gt;supplements&lt;/property&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/map-store&gt;\r\n    &lt;/map&gt;\r\n    ...\r\n&lt;/hazelcast&gt;\r\n````\r\n\r\n&gt; After specifying the database properties in your configuration, you\r\n&gt; need to implement the MapLoaderLifecycleSupport interface and give\r\n&gt; those properties in the init() method, as shown below:\r\n\r\n````\r\npublic class YourMapStoreImplementation implements MapStore&lt;String, Supplement&gt;, MapLoaderLifecycleSupport {\r\n\r\n    private MongoClient mongoClient;\r\n    private MongoCollection collection;\r\n\r\n    public YourMapStoreImplementation() {\r\n    }\r\n\r\n    @Override\r\n    public void init(HazelcastInstance hazelcastInstance, Properties properties, String mapName) {\r\n        String mongoUrl = (String) properties.get(&quot;mongo.url&quot;);\r\n        String dbName = (String) properties.get(&quot;mongo.db&quot;);\r\n        String collectionName = (String) properties.get(&quot;mongo.collection&quot;);\r\n        this.mongoClient = new MongoClient(new MongoClientURI(mongoUrl));\r\n        this.collection = mongoClient.getDatabase(dbName).getCollection(collectionName);\r\n    }\r\n````","title":"How to inject object into Hazelcast MapStore in no-Spring application","body":"<p>I need to pass (inject) already created object into Hazelcast MapStore. In the example (from Hazelcast documentation) below shown how to pass properties into MapStore from xml configuration and create new object using these properties inside store init method.</p>\n<p>But how to pass already constructed connection object in Vert.x? As it is <strong>not Spring</strong> project, I can't use @SpringAware and bean injection.</p>\n<pre><code>&lt;hazelcast&gt;\n    ...\n    &lt;map name=&quot;supplements&quot;&gt;\n        &lt;map-store enabled=&quot;true&quot; initial-mode=&quot;LAZY&quot;&gt;\n            &lt;class-name&gt;com.hazelcast.loader.YourMapStoreImplementation&lt;/class-name&gt;\n            &lt;properties&gt;\n                &lt;property name=&quot;mongo.url&quot;&gt;mongodb://localhost:27017&lt;/property&gt;\n                &lt;property name=&quot;mongo.db&quot;&gt;mydb&lt;/property&gt;\n                &lt;property name=&quot;mongo.collection&quot;&gt;supplements&lt;/property&gt;\n            &lt;/properties&gt;\n        &lt;/map-store&gt;\n    &lt;/map&gt;\n    ...\n&lt;/hazelcast&gt;\n</code></pre>\n<blockquote>\n<p>After specifying the database properties in your configuration, you\nneed to implement the MapLoaderLifecycleSupport interface and give\nthose properties in the init() method, as shown below:</p>\n</blockquote>\n<pre><code>public class YourMapStoreImplementation implements MapStore&lt;String, Supplement&gt;, MapLoaderLifecycleSupport {\n\n    private MongoClient mongoClient;\n    private MongoCollection collection;\n\n    public YourMapStoreImplementation() {\n    }\n\n    @Override\n    public void init(HazelcastInstance hazelcastInstance, Properties properties, String mapName) {\n        String mongoUrl = (String) properties.get(&quot;mongo.url&quot;);\n        String dbName = (String) properties.get(&quot;mongo.db&quot;);\n        String collectionName = (String) properties.get(&quot;mongo.collection&quot;);\n        this.mongoClient = new MongoClient(new MongoClientURI(mongoUrl));\n        this.collection = mongoClient.getDatabase(dbName).getCollection(collectionName);\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680489254,"post_id":75915290,"comment_id":133901875,"body_markdown":"Can you let me know why you dont use `onResume` / `onPause` to Play/Pause your playback but On/Off screen event?","body":"Can you let me know why you dont use <code>onResume</code> / <code>onPause</code> to Play/Pause your playback but On/Off screen event?"},{"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"score":0,"creation_date":1680493077,"post_id":75915290,"comment_id":133902251,"body_markdown":"If you turn off the power button while playing a video on your Android phone, it won&#39;t play for a long time. After all, even if you turn off the power, the app processor will continue to shut down when you turn on the power that runs in the background.","body":"If you turn off the power button while playing a video on your Android phone, it won&#39;t play for a long time. After all, even if you turn off the power, the app processor will continue to shut down when you turn on the power that runs in the background."},{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680493150,"post_id":75915290,"comment_id":133902257,"body_markdown":"I mean you can `onResume` / `onPause` to Play/Pause your playback instead of the above solution","body":"I mean you can <code>onResume</code> / <code>onPause</code> to Play/Pause your playback instead of the above solution"},{"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"score":0,"creation_date":1680493505,"post_id":75915290,"comment_id":133902287,"body_markdown":"Is it correct to use the onResum() method in mediaPlayer?","body":"Is it correct to use the onResum() method in mediaPlayer?"},{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680493806,"post_id":75915290,"comment_id":133902312,"body_markdown":"on `onResume` of activity or fragment, make a call to your mediaplayer to play your playback. And on `onPause` to pause the playback","body":"on <code>onResume</code> of activity or fragment, make a call to your mediaplayer to play your playback. And on <code>onPause</code> to pause the playback"},{"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"score":0,"creation_date":1680494681,"post_id":75915290,"comment_id":133902376,"body_markdown":"Calling the onResume() function will cause the app to bounce in the foreground when launched. Any other workaround?","body":"Calling the onResume() function will cause the app to bounce in the foreground when launched. Any other workaround?"}],"answers":[{"tags":[],"owner":{"account_id":7758137,"reputation":1831,"user_id":6059583,"accept_rate":62,"display_name":"Jeeva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680500503,"creation_date":1680500503,"answer_id":75916321,"question_id":75915290,"body_markdown":"    IntentFilter powerButtonOffFilter = new IntentFilter();\r\n    powerButtonOffFilter.addAction(Intent.ACTION_SCREEN_OFF);\r\n    powerButtonOffFilter.addAction(Intent.ACTION_SCREEN_ON);\r\n    registerReceiver(powerButtonOnOffReciever, powerButtonOffFilter);\r\n&lt;br&gt;\r\nIn your code you have used same intent filter which only listens for for action screen on as it replaces the screen off due to your code logic.\r\nWhen you want to listen to multiple broadcast using single intent filter you have to group them and then listen.","title":"Android java video playback background pause doesn&#39;t work Please tell me how to solve it","body":"<pre><code>IntentFilter powerButtonOffFilter = new IntentFilter();\npowerButtonOffFilter.addAction(Intent.ACTION_SCREEN_OFF);\npowerButtonOffFilter.addAction(Intent.ACTION_SCREEN_ON);\nregisterReceiver(powerButtonOnOffReciever, powerButtonOffFilter);\n</code></pre>\n<br>\nIn your code you have used same intent filter which only listens for for action screen on as it replaces the screen off due to your code logic.\nWhen you want to listen to multiple broadcast using single intent filter you have to group them and then listen.\n"}],"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680500503,"creation_date":1680481125,"question_id":75915290,"body_markdown":"MainActivity.java\r\n\r\n```\r\n\r\n@SuppressLint(&quot;WrongViewCast&quot;)\r\n    @Override\r\n    protected void onCreate(final Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        IntentFilter powerButtonOff = new IntentFilter(Intent.ACTION_SCREEN_OFF);\r\n        IntentFilter powerButtonOn = new IntentFilter(Intent.ACTION_SCREEN_ON);\r\n\r\n        registerReceiver(powerButtonOnOff, powerButtonOff);\r\n        registerReceiver(powerButtonOnOff, powerButtonOn);\r\n```\r\n\r\n\r\n\r\n\r\nMainActivity.java\r\n\r\n```\r\nprivate void unregisterBroadcast(){\r\n        unregisterReceiver(powerButtonOnOff);\r\n    }\r\n\r\n\r\n    BroadcastReceiver powerButtonOnOff = new BroadcastReceiver() {\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if(mediaPlayer == null){\r\n                mediaPlayer = MediaPlayer.create(context,R.id.videoView);\r\n            }\r\n            if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\r\n                try {\r\n                    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n                        mediaPlayer.stop();\r\n                        mediaPlayer.release();\r\n                        mediaPlayer = null;\r\n\r\n\r\n                    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\r\n                        mediaPlayer.start();\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n```\r\n\r\nMainActivity.java\r\n\r\n```\r\n @Override\r\n    protected void onDestroy() {\r\n      unregisterBroadcast();\r\n```\r\n\r\nAndroidManifest.xml\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.DEVICE_POWER&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\r\n```\r\n\r\nhello. The code above should pause playback when the phone is turned off while the video is playing in the app, but it doesn&#39;t stop. So I tried the onReceive method by applying the code, but it didn&#39;t work, so I don&#39;t know the cause.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIn Android Java MainActivity.java, if you turn OFF through the onReceive method power key event, the app process screen bounces. I used WAKE_LOCK in AndroidManifest.xml to avoid bouncing, but it doesn&#39;t work out well. help.","title":"Android java video playback background pause doesn&#39;t work Please tell me how to solve it","body":"<p>MainActivity.java</p>\n<pre><code>\n@SuppressLint(&quot;WrongViewCast&quot;)\n    @Override\n    protected void onCreate(final Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        IntentFilter powerButtonOff = new IntentFilter(Intent.ACTION_SCREEN_OFF);\n        IntentFilter powerButtonOn = new IntentFilter(Intent.ACTION_SCREEN_ON);\n\n        registerReceiver(powerButtonOnOff, powerButtonOff);\n        registerReceiver(powerButtonOnOff, powerButtonOn);\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>private void unregisterBroadcast(){\n        unregisterReceiver(powerButtonOnOff);\n    }\n\n\n    BroadcastReceiver powerButtonOnOff = new BroadcastReceiver() {\n\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if(mediaPlayer == null){\n                mediaPlayer = MediaPlayer.create(context,R.id.videoView);\n            }\n            if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\n                try {\n                    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n                        mediaPlayer.stop();\n                        mediaPlayer.release();\n                        mediaPlayer = null;\n\n\n                    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\n                        mediaPlayer.start();\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    };\n\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code> @Override\n    protected void onDestroy() {\n      unregisterBroadcast();\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.DEVICE_POWER&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\n</code></pre>\n<p>hello. The code above should pause playback when the phone is turned off while the video is playing in the app, but it doesn't stop. So I tried the onReceive method by applying the code, but it didn't work, so I don't know the cause.</p>\n<p>In Android Java MainActivity.java, if you turn OFF through the onReceive method power key event, the app process screen bounces. I used WAKE_LOCK in AndroidManifest.xml to avoid bouncing, but it doesn't work out well. help.</p>\n"},{"tags":["java","spring-boot","rest","swagger","multipart"],"answers":[{"comments":[{"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"score":0,"creation_date":1680409659,"post_id":75907317,"comment_id":133892389,"body_markdown":"i dont understand how it can helps me?","body":"i dont understand how it can helps me?"},{"owner":{"account_id":3611476,"reputation":59,"user_id":3012347,"display_name":"Max"},"score":0,"creation_date":1680422907,"post_id":75907317,"comment_id":133893372,"body_markdown":"Well, maybe you can provide more context like the exact error message and the lines of your `deviceSummaryMapper` where the error occurs.\n\nI just provided code according your title how you would response with a binary object, when you have an `InputStream`.","body":"Well, maybe you can provide more context like the exact error message and the lines of your <code>deviceSummaryMapper</code> where the error occurs.  I just provided code according your title how you would response with a binary object, when you have an <code>InputStream</code>."}],"tags":[],"owner":{"account_id":3611476,"reputation":59,"user_id":3012347,"display_name":"Max"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680364973,"creation_date":1680364973,"answer_id":75907317,"question_id":75907037,"body_markdown":"You can use [`readAllBytes()`][1] on your InputStream and use the byte-array constructor of String.\r\n\r\n```java\r\nInputStream route;\r\n…\r\nbyte[] routeBytes = route.readAllBytes();\r\nString routeBinary = new String(routeBytes, StandardCharsets.UTF_8); // for UTF-8 encoding\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--","title":"Spring REST how to response object with binary field","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"nofollow noreferrer\"><code>readAllBytes()</code></a> on your InputStream and use the byte-array constructor of String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream route;\n…\nbyte[] routeBytes = route.readAllBytes();\nString routeBinary = new String(routeBytes, StandardCharsets.UTF_8); // for UTF-8 encoding\n</code></pre>\n"}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680500048,"creation_date":1680361788,"question_id":75907037,"body_markdown":"how can i send response with Spring MVC this object:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class DeviceSummaryResponse {\r\n    \r\n        @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\r\n        private ConfigResponse config;\r\n    \r\n        @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\r\n        private InputStream route;\r\n    }\r\n\r\n\r\ni try this, but it dont work due to &#39;route&#39; field, converter error.\r\n\r\n\r\n    @GetMapping(DEVICE_ID_PATH)\r\n    public ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\r\n    \r\n        log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\r\n    \r\n        var deviceSummary = mobileComplexService.getSummary(id);\r\n    \r\n        return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\r\n    }\r\n\r\n\r\n\r\ni need to do as described in the specification:\r\n\r\n```yaml\r\nDeviceSummaryResponse:\r\n      type: object\r\n      properties:\r\n        config:\r\n          type: object\r\n          properties:\r\n           ...\r\n          ...\r\n        route:\r\n          type: string\r\n          format: binary\r\n          description: GPX файл с маршрутом устройства\r\n      required:\r\n        - config\r\n        - route\r\n```\r\n\r\nthank you very much in advance","title":"Spring REST how to response object with binary field","body":"<p>how can i send response with Spring MVC this object:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class DeviceSummaryResponse {\n\n    @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\n    private ConfigResponse config;\n\n    @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\n    private InputStream route;\n}\n</code></pre>\n<p>i try this, but it dont work due to 'route' field, converter error.</p>\n<pre><code>@GetMapping(DEVICE_ID_PATH)\npublic ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\n\n    log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\n\n    var deviceSummary = mobileComplexService.getSummary(id);\n\n    return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\n}\n</code></pre>\n<p>i need to do as described in the specification:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>DeviceSummaryResponse:\n      type: object\n      properties:\n        config:\n          type: object\n          properties:\n           ...\n          ...\n        route:\n          type: string\n          format: binary\n          description: GPX файл с маршрутом устройства\n      required:\n        - config\n        - route\n</code></pre>\n<p>thank you very much in advance</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1680507412,"post_id":75916257,"comment_id":133903996,"body_markdown":"I suspect you will need to change your design a bit. The timeline/animation is Designed to move from point A to point B in the animations. You dont really want to interrupt it, you can, but it isn&#39;t really the design. You should probably go with a more traditional approach where your actors to update each step.","body":"I suspect you will need to change your design a bit. The timeline/animation is Designed to move from point A to point B in the animations. You dont really want to interrupt it, you can, but it isn&#39;t really the design. You should probably go with a more traditional approach where your actors to update each step."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1680553818,"post_id":75916257,"comment_id":133915198,"body_markdown":"Builders are outdated but you can get some ideas from https://carlfx.wordpress.com/2012/04/09/javafx-2-gametutorial-part-2/.","body":"Builders are outdated but you can get some ideas from <a href=\"https://carlfx.wordpress.com/2012/04/09/javafx-2-gametutorial-part-2/\" rel=\"nofollow noreferrer\">carlfx.wordpress.com/2012/04/09/javafx-2-gametutorial-part-2</a>&zwnj;&#8203;."}],"owner":{"account_id":28199375,"reputation":11,"user_id":21553429,"display_name":"Sera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680500004,"creation_date":1680499690,"question_id":75916257,"body_markdown":"How to make the carGroup, and carGroup1 keep bouncing and when they reach and touch the border or the touch each other, they rotate to the opposite side, I am new to JavaFX and searched about the collision problem but I got confused on how to make these 2 cars bounce and whenever they touch either the border or each other, they rotate to the opposite side and continue bouncing. Here is my code in which I tried to create the 2 cars groups and animate them, but I face difficulties and the bouncing and collision parts\r\n\r\n```\r\n\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.KeyValue;\r\nimport javafx.animation.Timeline;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Bounds;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.Border;\r\nimport javafx.scene.layout.BorderStroke;\r\nimport javafx.scene.layout.BorderStrokeStyle;\r\nimport javafx.scene.layout.BorderWidths;\r\nimport javafx.scene.layout.CornerRadii;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.shape.Shape;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\npublic class ShapeTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        Pane pane = new Pane();\r\n        Scene scene = new Scene(pane, 300, 300);\r\n\r\n        //=======================================================================\r\n        // CAR 1\r\n        // create the car body\r\n        Rectangle body = new Rectangle(150, 50, 100, 50);\r\n        body.setFill(Color.RED);\r\n\r\n        // create the wheels\r\n        Circle wheel1 = new Circle(175, 100, 15);\r\n        Circle wheel2 = new Circle(225, 100, 15);\r\n\r\n        // create the car roof\r\n        Rectangle roof = new Rectangle(160, 30, 80, 20);\r\n        roof.setFill(Color.DARKBLUE);\r\n\r\n        // create the windows\r\n        Rectangle window1 = new Rectangle(170, 35, 25, 15);\r\n        Rectangle window2 = new Rectangle(205, 35, 25, 15);\r\n        Shape windows = Shape.union(window1, window2);\r\n        windows.setFill(Color.LIGHTBLUE);\r\n\r\n        // create the car group and add the shapes to it\r\n        Group carGroup = new Group();\r\n        carGroup.getChildren().addAll(body, wheel1, wheel2, roof, windows);\r\n        carGroup.setLayoutX(5); // initial X position\r\n        carGroup.setLayoutY(5); // initial Y position\r\n\r\n        // add the car group to the pane\r\n        pane.getChildren().add(carGroup);\r\n\r\n        pane.setBorder(new Border(new BorderStroke(Color.RED,\r\n                BorderStrokeStyle.SOLID, CornerRadii.EMPTY, BorderWidths.DEFAULT)));\r\n\r\n        carGroup.relocate(5, 5);\r\n\r\n        // move the carGroup along the X axis\r\n        KeyValue kvX = new KeyValue(carGroup.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup.getBoundsInLocal().getMaxX());\r\n        KeyFrame kfX = new KeyFrame(Duration.seconds(1), kvX);\r\n        Timeline timelineX = new Timeline(kfX);\r\n        timelineX.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        // move the carGroup along the Y axis\r\n        KeyValue kvY = new KeyValue(carGroup.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup.getBoundsInLocal().getMaxY());\r\n        KeyFrame kfY = new KeyFrame(Duration.seconds(1), kvY);\r\n        Timeline timelineY = new Timeline(kfY);\r\n        timelineY.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        timelineX.play();\r\n        timelineY.play();\r\n\r\n        //=======================================================================\r\n        // CAR 2\r\n        // create the car body\r\n        Rectangle body1 = new Rectangle(150, 50, 100, 50);\r\n        body1.setFill(Color.YELLOW);\r\n\r\n        // create the wheels\r\n        Circle wheel11 = new Circle(175, 100, 15);\r\n        Circle wheel22 = new Circle(225, 100, 15);\r\n\r\n        // create the car roof\r\n        Rectangle roof1 = new Rectangle(160, 30, 80, 20);\r\n        roof1.setFill(Color.CYAN);\r\n\r\n        // create the windows\r\n        Rectangle window11 = new Rectangle(170, 35, 25, 15);\r\n        Rectangle window22 = new Rectangle(205, 35, 25, 15);\r\n        Shape windows1 = Shape.union(window11, window22);\r\n        windows1.setFill(Color.PINK);\r\n\r\n        // create the car group and add the shapes to it\r\n        Group carGroup1 = new Group();\r\n        carGroup1.getChildren().addAll(body1, wheel11, wheel22, roof1, windows1);\r\n        carGroup1.setLayoutX(5); // initial X position\r\n        carGroup1.setLayoutY(5); // initial Y position\r\n\r\n        // add the car group to the pane\r\n        pane.getChildren().add(carGroup1);\r\n\r\n        carGroup1.relocate(20, 20);\r\n\r\n        // move the carGroup along the X axis\r\n        KeyValue kvX1 = new KeyValue(carGroup1.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup1.getBoundsInLocal().getMaxX());\r\n        KeyFrame kfX1 = new KeyFrame(Duration.seconds(1), kvX1);\r\n        Timeline timelineX1 = new Timeline(kfX);\r\n        timelineX1.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        // move the carGroup along the Y axis\r\n        KeyValue kvY1 = new KeyValue(carGroup1.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup1.getBoundsInLocal().getMaxY());\r\n        KeyFrame kfY1 = new KeyFrame(Duration.seconds(1), kvY1);\r\n        Timeline timelineY1 = new Timeline(kfY1);\r\n        timelineY1.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        timelineX1.play();\r\n        timelineY1.play();\r\n\r\n        //=======================================================================\r\n        // set the stage properties and show it\r\n        stage.setTitle(&quot;Moving Cars&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```","title":"How to bounce 2 shapes concurrently in JAVAFX with avoiding collision?","body":"<p>How to make the carGroup, and carGroup1 keep bouncing and when they reach and touch the border or the touch each other, they rotate to the opposite side, I am new to JavaFX and searched about the collision problem but I got confused on how to make these 2 cars bounce and whenever they touch either the border or each other, they rotate to the opposite side and continue bouncing. Here is my code in which I tried to create the 2 cars groups and animate them, but I face difficulties and the bouncing and collision parts</p>\n<pre><code>\nimport javafx.animation.KeyFrame;\nimport javafx.animation.KeyValue;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Border;\nimport javafx.scene.layout.BorderStroke;\nimport javafx.scene.layout.BorderStrokeStyle;\nimport javafx.scene.layout.BorderWidths;\nimport javafx.scene.layout.CornerRadii;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.shape.Shape;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class ShapeTest extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        Pane pane = new Pane();\n        Scene scene = new Scene(pane, 300, 300);\n\n        //=======================================================================\n        // CAR 1\n        // create the car body\n        Rectangle body = new Rectangle(150, 50, 100, 50);\n        body.setFill(Color.RED);\n\n        // create the wheels\n        Circle wheel1 = new Circle(175, 100, 15);\n        Circle wheel2 = new Circle(225, 100, 15);\n\n        // create the car roof\n        Rectangle roof = new Rectangle(160, 30, 80, 20);\n        roof.setFill(Color.DARKBLUE);\n\n        // create the windows\n        Rectangle window1 = new Rectangle(170, 35, 25, 15);\n        Rectangle window2 = new Rectangle(205, 35, 25, 15);\n        Shape windows = Shape.union(window1, window2);\n        windows.setFill(Color.LIGHTBLUE);\n\n        // create the car group and add the shapes to it\n        Group carGroup = new Group();\n        carGroup.getChildren().addAll(body, wheel1, wheel2, roof, windows);\n        carGroup.setLayoutX(5); // initial X position\n        carGroup.setLayoutY(5); // initial Y position\n\n        // add the car group to the pane\n        pane.getChildren().add(carGroup);\n\n        pane.setBorder(new Border(new BorderStroke(Color.RED,\n                BorderStrokeStyle.SOLID, CornerRadii.EMPTY, BorderWidths.DEFAULT)));\n\n        carGroup.relocate(5, 5);\n\n        // move the carGroup along the X axis\n        KeyValue kvX = new KeyValue(carGroup.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup.getBoundsInLocal().getMaxX());\n        KeyFrame kfX = new KeyFrame(Duration.seconds(1), kvX);\n        Timeline timelineX = new Timeline(kfX);\n        timelineX.setCycleCount(Timeline.INDEFINITE);\n\n        // move the carGroup along the Y axis\n        KeyValue kvY = new KeyValue(carGroup.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup.getBoundsInLocal().getMaxY());\n        KeyFrame kfY = new KeyFrame(Duration.seconds(1), kvY);\n        Timeline timelineY = new Timeline(kfY);\n        timelineY.setCycleCount(Timeline.INDEFINITE);\n\n        timelineX.play();\n        timelineY.play();\n\n        //=======================================================================\n        // CAR 2\n        // create the car body\n        Rectangle body1 = new Rectangle(150, 50, 100, 50);\n        body1.setFill(Color.YELLOW);\n\n        // create the wheels\n        Circle wheel11 = new Circle(175, 100, 15);\n        Circle wheel22 = new Circle(225, 100, 15);\n\n        // create the car roof\n        Rectangle roof1 = new Rectangle(160, 30, 80, 20);\n        roof1.setFill(Color.CYAN);\n\n        // create the windows\n        Rectangle window11 = new Rectangle(170, 35, 25, 15);\n        Rectangle window22 = new Rectangle(205, 35, 25, 15);\n        Shape windows1 = Shape.union(window11, window22);\n        windows1.setFill(Color.PINK);\n\n        // create the car group and add the shapes to it\n        Group carGroup1 = new Group();\n        carGroup1.getChildren().addAll(body1, wheel11, wheel22, roof1, windows1);\n        carGroup1.setLayoutX(5); // initial X position\n        carGroup1.setLayoutY(5); // initial Y position\n\n        // add the car group to the pane\n        pane.getChildren().add(carGroup1);\n\n        carGroup1.relocate(20, 20);\n\n        // move the carGroup along the X axis\n        KeyValue kvX1 = new KeyValue(carGroup1.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup1.getBoundsInLocal().getMaxX());\n        KeyFrame kfX1 = new KeyFrame(Duration.seconds(1), kvX1);\n        Timeline timelineX1 = new Timeline(kfX);\n        timelineX1.setCycleCount(Timeline.INDEFINITE);\n\n        // move the carGroup along the Y axis\n        KeyValue kvY1 = new KeyValue(carGroup1.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup1.getBoundsInLocal().getMaxY());\n        KeyFrame kfY1 = new KeyFrame(Duration.seconds(1), kvY1);\n        Timeline timelineY1 = new Timeline(kfY1);\n        timelineY1.setCycleCount(Timeline.INDEFINITE);\n\n        timelineX1.play();\n        timelineY1.play();\n\n        //=======================================================================\n        // set the stage properties and show it\n        stage.setTitle(&quot;Moving Cars&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","email","gmail"],"answers":[{"tags":[],"owner":{"account_id":21776732,"reputation":46,"user_id":16079033,"display_name":"ProgrammingSolver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680276148,"creation_date":1680276148,"answer_id":75900199,"question_id":75898881,"body_markdown":"Google email has built-in limits for emails sent. These limits are server-side and not-client side, so they are immutable. If you want to send over 100 emails an hour, you need to create a custom email domain.","title":"How to send bulk mail with java spring email best practices","body":"<p>Google email has built-in limits for emails sent. These limits are server-side and not-client side, so they are immutable. If you want to send over 100 emails an hour, you need to create a custom email domain.</p>\n"}],"owner":{"account_id":15648762,"reputation":106,"user_id":11290530,"display_name":"Fatih AKSOY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680499768,"creation_date":1680267830,"question_id":75898881,"body_markdown":"I want to send 2000 emails in the same hour. I&#39;m doing this with spring mail and google smtp.But google says you can send me 100 emails in 1 hour.\r\n\r\nI couldn&#39;t find anything about limit increase.Is there a way to do this?\r\n\r\nOr is there another solution you can suggest as best practices?","title":"How to send bulk mail with java spring email best practices","body":"<p>I want to send 2000 emails in the same hour. I'm doing this with spring mail and google smtp.But google says you can send me 100 emails in 1 hour.</p>\n<p>I couldn't find anything about limit increase.Is there a way to do this?</p>\n<p>Or is there another solution you can suggest as best practices?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1680538853,"post_id":75916218,"comment_id":133911837,"body_markdown":"How do you build the query in Spring Data Elasticsearch?","body":"How do you build the query in Spring Data Elasticsearch?"},{"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"score":0,"creation_date":1680576540,"post_id":75916218,"comment_id":133917832,"body_markdown":"We use combinations of Querybuilders and repository interface when building query","body":"We use combinations of Querybuilders and repository interface when building query"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680499093,"creation_date":1680499093,"question_id":75916218,"body_markdown":"We have an existing &quot;person&quot; index that has &quot;status&quot; field in it. We have several (around 6) existing queries for retrieving person document with different parameters and logic. \r\n\r\nHowever, we have a new requirement that only &quot;active&quot; status will be retrieved from all queries. Is it possible to apply a &quot;template&quot; and append it to all queries searching on the person index without updating all queries one by one to apply filter for status?\r\nThis is the query that we need to append for every existing queries we have:\r\n\r\n    {\r\n    &quot;bool&quot;: {\r\n        &quot;should&quot;: [\r\n            {\r\n                &quot;nested&quot;: {\r\n                    &quot;path&quot;: &quot;additionalAttributes&quot;,\r\n                    &quot;query&quot;: {\r\n                        &quot;terms&quot;: {\r\n                            &quot;additionalAttributes.status&quot;: [\r\n                                &quot;active&quot;\r\n                            ]\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                &quot;bool&quot;: {\r\n                    &quot;must_not&quot;: [\r\n                        {\r\n                            &quot;nested&quot;: {\r\n                                &quot;path&quot;: &quot;additionalAttributes&quot;,\r\n                                &quot;query&quot;: {\r\n                                    &quot;exists&quot;: {\r\n                                        &quot;field&quot;: &quot;additionalAttributes.status&quot;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}","title":"ElasticSearch + Spring - Query template that will append to existing query for further filtering out results","body":"<p>We have an existing &quot;person&quot; index that has &quot;status&quot; field in it. We have several (around 6) existing queries for retrieving person document with different parameters and logic.</p>\n<p>However, we have a new requirement that only &quot;active&quot; status will be retrieved from all queries. Is it possible to apply a &quot;template&quot; and append it to all queries searching on the person index without updating all queries one by one to apply filter for status?\nThis is the query that we need to append for every existing queries we have:</p>\n<pre><code>{\n&quot;bool&quot;: {\n    &quot;should&quot;: [\n        {\n            &quot;nested&quot;: {\n                &quot;path&quot;: &quot;additionalAttributes&quot;,\n                &quot;query&quot;: {\n                    &quot;terms&quot;: {\n                        &quot;additionalAttributes.status&quot;: [\n                            &quot;active&quot;\n                        ]\n                    }\n                }\n            }\n        },\n        {\n            &quot;bool&quot;: {\n                &quot;must_not&quot;: [\n                    {\n                        &quot;nested&quot;: {\n                            &quot;path&quot;: &quot;additionalAttributes&quot;,\n                            &quot;query&quot;: {\n                                &quot;exists&quot;: {\n                                    &quot;field&quot;: &quot;additionalAttributes.status&quot;\n                                }\n                            }\n                        }\n                    }\n                ]\n            }\n        }\n    ]\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","datetime","jackson","jodatime"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1680499440,"post_id":75916213,"comment_id":133902767,"body_markdown":"By the way, the [*Joda-Time*](https://www.joda.org/joda-time/) project is now in maintenance-mode, as noted on its home page. It was years ago supplanted by its official successor, the *java.time* classes built into Java 8 as defined by JSR 310. Both *Joda-Time* and *java.time* are led by the same man, [Stephen Colebourne](https://stackoverflow.com/users/38896/jodastephen).","body":"By the way, the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><i>Joda-Time</i></a> project is now in maintenance-mode, as noted on its home page. It was years ago supplanted by its official successor, the <i>java.time</i> classes built into Java 8 as defined by JSR 310. Both <i>Joda-Time</i> and <i>java.time</i> are led by the same man, <a href=\"https://stackoverflow.com/users/38896/jodastephen\">Stephen Colebourne</a>."}],"owner":{"account_id":12186602,"reputation":148,"user_id":8896134,"display_name":"Pranav Totala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680499020,"creation_date":1680499020,"question_id":75916213,"body_markdown":"I am getting an error in converting string to datetime: \r\n\r\n    Can not instantiate value of type [simple type, class org.joda.time.DateTime] from String value (&#39;2023-03-28T18:29:59.000Z&#39;); no single-String constructor\r\n\r\nDependencies are as follows: \r\n\r\n    com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.7.6:compile\r\n    com.fasterxml.jackson.core:jackson-core:jar:2.7.6:compile\r\n    joda-time:joda-time:jar:2.9.9:compile\r\n\r\nThe part of code is:\r\n\r\n    import org.joda.time.DateTime;\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor(suppressConstructorProperties = true)\r\n    @RequiredArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class CollectionEntity {\r\n        @JsonProperty(&quot;collection_id&quot;)\r\n        private String id;\r\n\r\n        @JsonProperty(&quot;collection_start_date&quot;)\r\n        private DateTime startDate;\r\n    }\r\nAnd loading this directly via jersey request:\r\n\r\n    @PUT\r\n    @Timed\r\n    @ExceptionMetered\r\n    @Path(&quot;/getProductsList&quot;)\r\n    public Response getProductsList(CollectionEntity collections) {}\r\n\r\nThis has been working in other services and hence makes me believe it is a dependency issue, but cannot figure the above error. Any help is appreciated. **Also note, this is just taking int EPOCH values as input in collection_start_date and correctly converting them**","title":"Can not instantiate value org.joda.time.DateTime no single-String constructor","body":"<p>I am getting an error in converting string to datetime:</p>\n<pre><code>Can not instantiate value of type [simple type, class org.joda.time.DateTime] from String value ('2023-03-28T18:29:59.000Z'); no single-String constructor\n</code></pre>\n<p>Dependencies are as follows:</p>\n<pre><code>com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.7.6:compile\ncom.fasterxml.jackson.core:jackson-core:jar:2.7.6:compile\njoda-time:joda-time:jar:2.9.9:compile\n</code></pre>\n<p>The part of code is:</p>\n<pre><code>import org.joda.time.DateTime;\n\n@Data\n@Builder\n@AllArgsConstructor(suppressConstructorProperties = true)\n@RequiredArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_DEFAULT)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CollectionEntity {\n    @JsonProperty(&quot;collection_id&quot;)\n    private String id;\n\n    @JsonProperty(&quot;collection_start_date&quot;)\n    private DateTime startDate;\n}\n</code></pre>\n<p>And loading this directly via jersey request:</p>\n<pre><code>@PUT\n@Timed\n@ExceptionMetered\n@Path(&quot;/getProductsList&quot;)\npublic Response getProductsList(CollectionEntity collections) {}\n</code></pre>\n<p>This has been working in other services and hence makes me believe it is a dependency issue, but cannot figure the above error. Any help is appreciated. <strong>Also note, this is just taking int EPOCH values as input in collection_start_date and correctly converting them</strong></p>\n"},{"tags":["java","binary-search-tree","inorder","preorder","postorder"],"answers":[{"comments":[{"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"score":0,"creation_date":1680461400,"post_id":75913978,"comment_id":133898611,"body_markdown":"I&#39;m not allowed to change the parameter of the getNextItem method","body":"I&#39;m not allowed to change the parameter of the getNextItem method"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680467174,"post_id":75913978,"comment_id":133899514,"body_markdown":"@MarcusAvailo, such &quot;rules&quot; should be listed in your question.","body":"@MarcusAvailo, such &quot;rules&quot; should be listed in your question."},{"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"score":1,"creation_date":1680469401,"post_id":75913978,"comment_id":133899806,"body_markdown":"I tried to expand the answer a bit more to cover that need, but indeed you need to list those rules in your question.","body":"I tried to expand the answer a bit more to cover that need, but indeed you need to list those rules in your question."}],"tags":[],"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680469297,"creation_date":1680461150,"answer_id":75913978,"question_id":75913896,"body_markdown":"First of all, I think your `*successor` methods need to be recursive; otherwise you won&#39;t get the correct successor according to the ordering method. Assuming that you have done that:\r\n\r\nThe `getNextItem` implies that you keep a cursor (e.g. a current node to traverse on), or you provide a `currentNode` as a parameter. If you don&#39;t want an iterative behavior (e.g. if you don&#39;t want a cursor), then the second option would be better for you; which is to provide a `currentNode` as a parameter, and then select the appropriate method WRT the order type).\r\n\r\n```java\r\n   //..previous code\r\n   public Comparable getNextItem(int orderType, TreeNode currentNode) {\r\n        TreeNode successor = null;\r\n        switch (orderType) {\r\n            case INORDER:\r\n                successor = inOrderSuccessor(currentNode);\r\n                break;\r\n            case PREORDER:\r\n                successor = preOrderSuccessor(currentNode);\r\n                break;\r\n            case POSTORDER:\r\n                successor = postOrderSuccessor(currentNode);\r\n                break;\r\n         } //end of switch\r\n         \r\n         return successor.data;\r\n    }\r\n   //..the rest\r\n```\r\n\r\nPlease be aware of null checks and so on.\r\n\r\nEDIT: If you aren&#39;t allowed to change the parameters of the `getNextItem` method, then your tree needs to behave as an iterator, hence you need a cursor. Since you already have a field called `currentNode`, then you can use that as a cursor, initially setting it to `root`.\r\n\r\nThen it should look like this:\r\n\r\n\r\n```java\r\n   //..previous code\r\n   public Comparable getNextItem(int orderType) {\r\n        TreeNode successor = null;\r\n        switch (orderType) {\r\n            case INORDER:\r\n                successor = inOrderSuccessor(this.currentNode);\r\n                break;\r\n            case PREORDER:\r\n                successor = preOrderSuccessor(this.currentNode);\r\n                break;\r\n            case POSTORDER:\r\n                successor = postOrderSuccessor(this.currentNode);\r\n                break;\r\n         } //end of switch\r\n         //keep the cursor up to date.\r\n         this.currentNode = successor;\r\n         return successor.data;\r\n    }\r\n   //..the rest\r\n```\r\n\r\nFor this option to work properly, you also need to have a `reset` method which sets the `currentNode` to `root`, as well as keeping an eye on `null` values. \r\n\r\nI would suggest a few refactors as well, like to encapsulate node management in the binary tree and make sure that your order algorithms work correctly.\r\n\r\n\r\n","title":"How do I call one function in another function?","body":"<p>First of all, I think your <code>*successor</code> methods need to be recursive; otherwise you won't get the correct successor according to the ordering method. Assuming that you have done that:</p>\n<p>The <code>getNextItem</code> implies that you keep a cursor (e.g. a current node to traverse on), or you provide a <code>currentNode</code> as a parameter. If you don't want an iterative behavior (e.g. if you don't want a cursor), then the second option would be better for you; which is to provide a <code>currentNode</code> as a parameter, and then select the appropriate method WRT the order type).</p>\n<pre class=\"lang-java prettyprint-override\"><code>   //..previous code\n   public Comparable getNextItem(int orderType, TreeNode currentNode) {\n        TreeNode successor = null;\n        switch (orderType) {\n            case INORDER:\n                successor = inOrderSuccessor(currentNode);\n                break;\n            case PREORDER:\n                successor = preOrderSuccessor(currentNode);\n                break;\n            case POSTORDER:\n                successor = postOrderSuccessor(currentNode);\n                break;\n         } //end of switch\n         \n         return successor.data;\n    }\n   //..the rest\n</code></pre>\n<p>Please be aware of null checks and so on.</p>\n<p>EDIT: If you aren't allowed to change the parameters of the <code>getNextItem</code> method, then your tree needs to behave as an iterator, hence you need a cursor. Since you already have a field called <code>currentNode</code>, then you can use that as a cursor, initially setting it to <code>root</code>.</p>\n<p>Then it should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   //..previous code\n   public Comparable getNextItem(int orderType) {\n        TreeNode successor = null;\n        switch (orderType) {\n            case INORDER:\n                successor = inOrderSuccessor(this.currentNode);\n                break;\n            case PREORDER:\n                successor = preOrderSuccessor(this.currentNode);\n                break;\n            case POSTORDER:\n                successor = postOrderSuccessor(this.currentNode);\n                break;\n         } //end of switch\n         //keep the cursor up to date.\n         this.currentNode = successor;\n         return successor.data;\n    }\n   //..the rest\n</code></pre>\n<p>For this option to work properly, you also need to have a <code>reset</code> method which sets the <code>currentNode</code> to <code>root</code>, as well as keeping an eye on <code>null</code> values.</p>\n<p>I would suggest a few refactors as well, like to encapsulate node management in the binary tree and make sure that your order algorithms work correctly.</p>\n"},{"comments":[{"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"score":0,"creation_date":1680473902,"post_id":75914603,"comment_id":133900302,"body_markdown":"Thank you, your answer worked. However, I tried fitting it with my insert method, and it didn&#39;t work the one you have is public void insert(int newData) but mines is public void insert(Comparable item). So when I tried running it, it gave me an error.","body":"Thank you, your answer worked. However, I tried fitting it with my insert method, and it didn&#39;t work the one you have is public void insert(int newData) but mines is public void insert(Comparable item). So when I tried running it, it gave me an error."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680505213,"post_id":75914603,"comment_id":133903574,"body_markdown":"That&#39;s not what you have in the question, though. Your question has `TreeNode insert(TreeNode node, int data)`. If you want a `Comparable` instead of `int`, then you must make that change all the way down to your `TreeNode` class with its `data` member.","body":"That&#39;s not what you have in the question, though. Your question has <code>TreeNode insert(TreeNode node, int data)</code>. If you want a <code>Comparable</code> instead of <code>int</code>, then you must make that change all the way down to your <code>TreeNode</code> class with its <code>data</code> member."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680498382,"creation_date":1680469443,"answer_id":75914603,"question_id":75913896,"body_markdown":"I would suggest starting with `currentNode = null`, so that the very first call of `getNextItem` will actually return the data of the very *first* node in the given traversal order.\r\n\r\nI would also have the class manage its `root` member itself, so that the main program does not have to update it after calling `insert`.\r\n\r\nThe name `minValue` is not really representative of what it does, as it does not return a node&#39;s value, but a node. It could be a method on the `TreeNode` class.\r\n\r\nHere is how it could look:\r\n\r\n```\r\nclass BinaryTree {\r\n    public static final int INORDER = 1;\r\n    public static final int PREORDER = 2;\r\n    public static final int POSTORDER = 3;\r\n    TreeNode root, currentNode;\r\n\r\n    public class TreeNode {\r\n        int data;\r\n        TreeNode left, right, parent;\r\n\r\n        public TreeNode(int data) {\r\n            this.data = data;\r\n            left = right = parent = null; // There should be no root here.\r\n        }\r\n            \r\n        TreeNode minNode() {\r\n            return left == null ? this : left.minNode();\r\n        }\r\n    }\r\n\r\n    public BinaryTree() {\r\n        root = null;\r\n    }\r\n \r\n    public void insert(int newData) {\r\n        root = root == null ? new TreeNode(newData) : insert(root, newData);\r\n    }\r\n    \r\n    private TreeNode insert(TreeNode node, int newData) {\r\n        if (node == null) return new TreeNode(newData);\r\n        if (newData &lt; node.data) {\r\n            node.left = insert(node.left, newData);\r\n            node.left.parent = node;\r\n        } else if (newData &gt; node.data) { \r\n            node.right = insert(node.right, newData);\r\n            node.right.parent = node;\r\n        }\r\n        return node;\r\n    }\r\n\r\n    private TreeNode inOrderSuccessor(TreeNode node) {\r\n        if (node == null) return root.minNode();\r\n        if (node.right != null) return node.right.minNode();\r\n        while (node.parent != null) {\r\n            if (node == node.parent.left) return node.parent;\r\n            node = node.parent;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private TreeNode preOrderSuccessor(TreeNode node) {\r\n        if (node == null) return root;\r\n        if (node.left != null) return node.left;\r\n        if (node.right != null) return node.right;\r\n        while (node.parent != null) {\r\n            if (node == node.parent.left &amp;&amp; node.parent.right != null) {\r\n                return node.parent.right;\r\n            }\r\n            node = node.parent;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private TreeNode postOrderSuccessor(TreeNode node) {\r\n        if (node == null) return root.minNode();\r\n        if (node.parent == null) return null;\r\n        if (node.parent.right == node || node.parent.right == null) return node.parent;\r\n        node = node.parent.right;\r\n        while (node.left == null &amp;&amp; node.right != null) {\r\n            node = node.right;\r\n        }\r\n        return node.minNode();\r\n    }\r\n    \r\n\r\n    public Comparable getNextItem(int orderType) {\r\n        if (root == null) return null;\r\n        switch (orderType) {\r\n            case INORDER:\r\n                currentNode = inOrderSuccessor(currentNode);\r\n                break;\r\n            case PREORDER:\r\n                currentNode = preOrderSuccessor(currentNode);\r\n                break;\r\n            case POSTORDER:\r\n                currentNode = postOrderSuccessor(currentNode);\r\n                break;\r\n        }\r\n        return currentNode == null ? null : currentNode.data;\r\n    }\r\n    \r\n    public void reset() {\r\n        currentNode = null;\r\n    }\r\n\r\n    void print() {\r\n        print(root, &quot;&quot;);\r\n    }\r\n\r\n    void print(TreeNode node, String tab) {\r\n        if (node == null) return;\r\n        print(node.right, tab + &quot;  &quot;);\r\n        System.out.println(tab + node.data);\r\n        print(node.left, tab + &quot;  &quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Main tree = new BinaryTree();\r\n        tree.insert(8);\r\n        tree.insert(3);\r\n        tree.insert(10);\r\n        tree.insert(9);\r\n        tree.insert(1);\r\n        tree.insert(6);\r\n        tree.insert(7);\r\n        tree.print();\r\n        tree.reset();\r\n        System.out.println(&quot;In-order traversal:&quot;);\r\n        while (true) {\r\n            Comparable data = tree.getNextItem(INORDER);\r\n            if (data == null) break;\r\n            System.out.print(data + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n\r\n        tree.reset();\r\n        System.out.println(&quot;Pre-order traversal:&quot;);\r\n        while (true) {\r\n            Comparable data = tree.getNextItem(PREORDER);\r\n            if (data == null) break;\r\n            System.out.print(data + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n\r\n        tree.reset();\r\n        System.out.println(&quot;Post-order traversal:&quot;);\r\n        while (true) {\r\n            Comparable  data = tree.getNextItem(POSTORDER);\r\n            if (data == null) break;\r\n            System.out.print(data + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"How do I call one function in another function?","body":"<p>I would suggest starting with <code>currentNode = null</code>, so that the very first call of <code>getNextItem</code> will actually return the data of the very <em>first</em> node in the given traversal order.</p>\n<p>I would also have the class manage its <code>root</code> member itself, so that the main program does not have to update it after calling <code>insert</code>.</p>\n<p>The name <code>minValue</code> is not really representative of what it does, as it does not return a node's value, but a node. It could be a method on the <code>TreeNode</code> class.</p>\n<p>Here is how it could look:</p>\n<pre><code>class BinaryTree {\n    public static final int INORDER = 1;\n    public static final int PREORDER = 2;\n    public static final int POSTORDER = 3;\n    TreeNode root, currentNode;\n\n    public class TreeNode {\n        int data;\n        TreeNode left, right, parent;\n\n        public TreeNode(int data) {\n            this.data = data;\n            left = right = parent = null; // There should be no root here.\n        }\n            \n        TreeNode minNode() {\n            return left == null ? this : left.minNode();\n        }\n    }\n\n    public BinaryTree() {\n        root = null;\n    }\n \n    public void insert(int newData) {\n        root = root == null ? new TreeNode(newData) : insert(root, newData);\n    }\n    \n    private TreeNode insert(TreeNode node, int newData) {\n        if (node == null) return new TreeNode(newData);\n        if (newData &lt; node.data) {\n            node.left = insert(node.left, newData);\n            node.left.parent = node;\n        } else if (newData &gt; node.data) { \n            node.right = insert(node.right, newData);\n            node.right.parent = node;\n        }\n        return node;\n    }\n\n    private TreeNode inOrderSuccessor(TreeNode node) {\n        if (node == null) return root.minNode();\n        if (node.right != null) return node.right.minNode();\n        while (node.parent != null) {\n            if (node == node.parent.left) return node.parent;\n            node = node.parent;\n        }\n        return null;\n    }\n    \n    private TreeNode preOrderSuccessor(TreeNode node) {\n        if (node == null) return root;\n        if (node.left != null) return node.left;\n        if (node.right != null) return node.right;\n        while (node.parent != null) {\n            if (node == node.parent.left &amp;&amp; node.parent.right != null) {\n                return node.parent.right;\n            }\n            node = node.parent;\n        }\n        return null;\n    }\n    \n    private TreeNode postOrderSuccessor(TreeNode node) {\n        if (node == null) return root.minNode();\n        if (node.parent == null) return null;\n        if (node.parent.right == node || node.parent.right == null) return node.parent;\n        node = node.parent.right;\n        while (node.left == null &amp;&amp; node.right != null) {\n            node = node.right;\n        }\n        return node.minNode();\n    }\n    \n\n    public Comparable getNextItem(int orderType) {\n        if (root == null) return null;\n        switch (orderType) {\n            case INORDER:\n                currentNode = inOrderSuccessor(currentNode);\n                break;\n            case PREORDER:\n                currentNode = preOrderSuccessor(currentNode);\n                break;\n            case POSTORDER:\n                currentNode = postOrderSuccessor(currentNode);\n                break;\n        }\n        return currentNode == null ? null : currentNode.data;\n    }\n    \n    public void reset() {\n        currentNode = null;\n    }\n\n    void print() {\n        print(root, &quot;&quot;);\n    }\n\n    void print(TreeNode node, String tab) {\n        if (node == null) return;\n        print(node.right, tab + &quot;  &quot;);\n        System.out.println(tab + node.data);\n        print(node.left, tab + &quot;  &quot;);\n    }\n\n    public static void main(String[] args) {\n        Main tree = new BinaryTree();\n        tree.insert(8);\n        tree.insert(3);\n        tree.insert(10);\n        tree.insert(9);\n        tree.insert(1);\n        tree.insert(6);\n        tree.insert(7);\n        tree.print();\n        tree.reset();\n        System.out.println(&quot;In-order traversal:&quot;);\n        while (true) {\n            Comparable data = tree.getNextItem(INORDER);\n            if (data == null) break;\n            System.out.print(data + &quot; &quot;);\n        }\n        System.out.println();\n\n        tree.reset();\n        System.out.println(&quot;Pre-order traversal:&quot;);\n        while (true) {\n            Comparable data = tree.getNextItem(PREORDER);\n            if (data == null) break;\n            System.out.print(data + &quot; &quot;);\n        }\n        System.out.println();\n\n        tree.reset();\n        System.out.println(&quot;Post-order traversal:&quot;);\n        while (true) {\n            Comparable  data = tree.getNextItem(POSTORDER);\n            if (data == null) break;\n            System.out.print(data + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914603,"answer_count":2,"score":0,"last_activity_date":1680498382,"creation_date":1680460099,"question_id":75913896,"body_markdown":"I created functions that are able to get the successor Node in a binary search tree traversing it in all 3 ways, in order, post order, and pre order. My challenge now is try to put them all in a getNextItem method, and call each of those aforementioned functions using the getNextItem method. I know what the skeleton of the getNextItem method should be I just don&#39;t know how to complete it. I also included the insert and main method if anyone wanted to test my functions. Please note I cannot change the parameters in the getNextItem method.\r\n\r\n\r\n\r\n```\r\npublic class BinaryTree {\r\n    public static final int INORDER = 1;\r\n    public static final int PREORDER = 2;\r\n    public static final int POSTORDER = 3;\r\n    TreeNode root;\r\n    TreeNode currentNode;\r\n\r\n    class TreeNode {\r\n        int data;\r\n        TreeNode left, right, parent, root;\r\n\r\n        TreeNode(int data) {\r\n            this.data = data;\r\n            left = right = parent = root = null;\r\n        }\r\n    }\r\n\r\n    TreeNode insert(TreeNode node, int data) {\r\n        if (node == null) {\r\n            return (new TreeNode(data));\r\n        }\r\n        else {\r\n            TreeNode temp = null;\r\n\r\n            if (data &lt;= node.data) {\r\n                temp = insert(node.left, data);\r\n                node.left = temp;\r\n                temp.parent = node;\r\n            }\r\n            else {\r\n                temp = insert(node.right, data);\r\n                node.right = temp;\r\n                temp.parent = node;\r\n            }\r\n\r\n            return node;\r\n        }\r\n    }\r\n\r\n    public Comparable getNextItem(int orderType) {\r\n        switch (orderType) {\r\n            case INORDER:\r\n                break;\r\n            case PREORDER:\r\n                break;\r\n            case POSTORDER:\r\n                break;\r\n        return;\r\n    }\r\n\r\n    TreeNode inOrderSuccessor(TreeNode n) {\r\n        if (n.right != null) {\r\n            return minValue(n.right);\r\n        }\r\n\r\n        TreeNode p = n.parent;\r\n        while (p != null &amp;&amp; n == p.right) {\r\n            n = p;\r\n            p = p.parent;\r\n        }\r\n        return p;\r\n    }\r\n\r\n    TreeNode minValue(TreeNode node) {\r\n        TreeNode current = node;\r\n        while (current.left != null) {\r\n            current = current.left;\r\n        }\r\n        return current;\r\n    }\r\n\r\n    TreeNode preorderSuccessor(TreeNode n) {\r\n        if (n.left != null)\r\n            return n.left;\r\n\r\n        if (n.right != null)\r\n            return n.right;\r\n\r\n        TreeNode curr = n, parent = curr.parent;\r\n        while (parent != null &amp;&amp; parent.right == curr) {\r\n            curr = curr.parent;\r\n            parent = parent.parent;\r\n        }\r\n\r\n        if (parent == null)\r\n            return null;\r\n\r\n        return parent.right;\r\n    }\r\n\r\n    TreeNode postorderSuccessor(TreeNode n) {\r\n        if (n == null)\r\n            return null;\r\n\r\n        TreeNode parent = n.parent;\r\n        if (parent.right == null || parent.right == n)\r\n            return parent;\r\n\r\n        TreeNode curr = parent.right;\r\n        while (curr.left != null)\r\n            curr = curr.left;\r\n\r\n        return curr;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        BinaryTree tree = new BinaryTree();\r\n        TreeNode root = null, temp = null, suc = null, suc2 = null, suc3 = null, min = null;\r\n        root = tree.insert(root, 20);\r\n        root = tree.insert(root, 8);\r\n        root = tree.insert(root, 22);\r\n        root = tree.insert(root, 4);\r\n        root = tree.insert(root, 12);\r\n        root = tree.insert(root, 10);\r\n        root = tree.insert(root, 14);\r\n        temp = root.left.right.right;\r\n        suc = tree.inOrderSuccessor(temp);\r\n        System.out.println(\r\n                &quot;Inorder successor of &quot;\r\n                        + temp.data + &quot; is &quot; + suc.data);\r\n        suc = tree.preorderSuccessor(temp);\r\n        System.out.println(\r\n                &quot;Preorder successor of &quot;\r\n                        + temp.data + &quot; is &quot; + suc.data);\r\n        suc = tree.postorderSuccessor(temp);\r\n        System.out.println(\r\n                &quot;Postorder successor of &quot;\r\n                        + temp.data + &quot; is &quot; + suc.data);\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n```","title":"How do I call one function in another function?","body":"<p>I created functions that are able to get the successor Node in a binary search tree traversing it in all 3 ways, in order, post order, and pre order. My challenge now is try to put them all in a getNextItem method, and call each of those aforementioned functions using the getNextItem method. I know what the skeleton of the getNextItem method should be I just don't know how to complete it. I also included the insert and main method if anyone wanted to test my functions. Please note I cannot change the parameters in the getNextItem method.</p>\n<pre><code>public class BinaryTree {\n    public static final int INORDER = 1;\n    public static final int PREORDER = 2;\n    public static final int POSTORDER = 3;\n    TreeNode root;\n    TreeNode currentNode;\n\n    class TreeNode {\n        int data;\n        TreeNode left, right, parent, root;\n\n        TreeNode(int data) {\n            this.data = data;\n            left = right = parent = root = null;\n        }\n    }\n\n    TreeNode insert(TreeNode node, int data) {\n        if (node == null) {\n            return (new TreeNode(data));\n        }\n        else {\n            TreeNode temp = null;\n\n            if (data &lt;= node.data) {\n                temp = insert(node.left, data);\n                node.left = temp;\n                temp.parent = node;\n            }\n            else {\n                temp = insert(node.right, data);\n                node.right = temp;\n                temp.parent = node;\n            }\n\n            return node;\n        }\n    }\n\n    public Comparable getNextItem(int orderType) {\n        switch (orderType) {\n            case INORDER:\n                break;\n            case PREORDER:\n                break;\n            case POSTORDER:\n                break;\n        return;\n    }\n\n    TreeNode inOrderSuccessor(TreeNode n) {\n        if (n.right != null) {\n            return minValue(n.right);\n        }\n\n        TreeNode p = n.parent;\n        while (p != null &amp;&amp; n == p.right) {\n            n = p;\n            p = p.parent;\n        }\n        return p;\n    }\n\n    TreeNode minValue(TreeNode node) {\n        TreeNode current = node;\n        while (current.left != null) {\n            current = current.left;\n        }\n        return current;\n    }\n\n    TreeNode preorderSuccessor(TreeNode n) {\n        if (n.left != null)\n            return n.left;\n\n        if (n.right != null)\n            return n.right;\n\n        TreeNode curr = n, parent = curr.parent;\n        while (parent != null &amp;&amp; parent.right == curr) {\n            curr = curr.parent;\n            parent = parent.parent;\n        }\n\n        if (parent == null)\n            return null;\n\n        return parent.right;\n    }\n\n    TreeNode postorderSuccessor(TreeNode n) {\n        if (n == null)\n            return null;\n\n        TreeNode parent = n.parent;\n        if (parent.right == null || parent.right == n)\n            return parent;\n\n        TreeNode curr = parent.right;\n        while (curr.left != null)\n            curr = curr.left;\n\n        return curr;\n    }\n\n\n    public static void main(String[] args) {\n        BinaryTree tree = new BinaryTree();\n        TreeNode root = null, temp = null, suc = null, suc2 = null, suc3 = null, min = null;\n        root = tree.insert(root, 20);\n        root = tree.insert(root, 8);\n        root = tree.insert(root, 22);\n        root = tree.insert(root, 4);\n        root = tree.insert(root, 12);\n        root = tree.insert(root, 10);\n        root = tree.insert(root, 14);\n        temp = root.left.right.right;\n        suc = tree.inOrderSuccessor(temp);\n        System.out.println(\n                &quot;Inorder successor of &quot;\n                        + temp.data + &quot; is &quot; + suc.data);\n        suc = tree.preorderSuccessor(temp);\n        System.out.println(\n                &quot;Preorder successor of &quot;\n                        + temp.data + &quot; is &quot; + suc.data);\n        suc = tree.postorderSuccessor(temp);\n        System.out.println(\n                &quot;Postorder successor of &quot;\n                        + temp.data + &quot; is &quot; + suc.data);\n\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","iterator","iteration"],"answers":[{"tags":[],"owner":{"account_id":160574,"reputation":15892,"user_id":380734,"accept_rate":81,"display_name":"Noel M"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1283353535,"creation_date":1283266784,"answer_id":3610271,"question_id":3610261,"body_markdown":"You could create your own implementation of the `Iterator` interface which iterates over the iterators:\r\n\r\n    public class IteratorOfIterators implements Iterator {\r\n        private final List&lt;Iterator&gt; iterators;\r\n    \r\n        public IteratorOfIterators(List&lt;Iterator&gt; iterators) {\r\n            this.iterators = iterators;\r\n        }\r\n\r\n        public IteratorOfIterators(Iterator... iterators) {\r\n            this.iterators = Arrays.asList(iterators);\r\n        }\r\n\r\n    \r\n        public boolean hasNext() { /* implementation */ }\r\n    \r\n        public Object next() { /* implementation */ }\r\n    \r\n        public void remove() { /* implementation */ }\r\n    }\r\n\r\n_(I&#39;ve not added generics to the Iterator for brevity.)_ The implementation is not too hard, but isn&#39;t the most trivial, you need to keep track of which `Iterator` you are currently iterating over, and calling `next()` you&#39;ll need to iterate as far as you can through the iterators until you find a `hasNext()` that returns `true`, or you may hit the end of the last iterator.\r\n\r\n&lt;strike&gt;I&#39;m not aware of any implementation that already exists for this.&lt;/strike&gt;\r\n\r\n*Update:*&lt;br/&gt;\r\nI&#39;ve up-voted [Andrew Duffy&#39;s][1] answer - no need to re-invent the wheel. I really need to look into Guava in more depth.\r\n\r\nI&#39;ve added another constructor for a variable number of arguments - almost getting off topic, as how the class is constructed here isn&#39;t really of interest, just the concept of how it works.\r\n\r\n  [1]: https://stackoverflow.com/questions/3610261/is-it-possible-to-merge-iterators-in-java/3610310#3610310","title":"Is it possible to merge iterators in Java?","body":"<p>You could create your own implementation of the <code>Iterator</code> interface which iterates over the iterators:</p>\n\n<pre><code>public class IteratorOfIterators implements Iterator {\n    private final List&lt;Iterator&gt; iterators;\n\n    public IteratorOfIterators(List&lt;Iterator&gt; iterators) {\n        this.iterators = iterators;\n    }\n\n    public IteratorOfIterators(Iterator... iterators) {\n        this.iterators = Arrays.asList(iterators);\n    }\n\n\n    public boolean hasNext() { /* implementation */ }\n\n    public Object next() { /* implementation */ }\n\n    public void remove() { /* implementation */ }\n}\n</code></pre>\n\n<p><em>(I've not added generics to the Iterator for brevity.)</em> The implementation is not too hard, but isn't the most trivial, you need to keep track of which <code>Iterator</code> you are currently iterating over, and calling <code>next()</code> you'll need to iterate as far as you can through the iterators until you find a <code>hasNext()</code> that returns <code>true</code>, or you may hit the end of the last iterator.</p>\n\n<p><strike>I'm not aware of any implementation that already exists for this.</strike></p>\n\n<p><em>Update:</em><br/>\nI've up-voted <a href=\"https://stackoverflow.com/questions/3610261/is-it-possible-to-merge-iterators-in-java/3610310#3610310\">Andrew Duffy's</a> answer - no need to re-invent the wheel. I really need to look into Guava in more depth.</p>\n\n<p>I've added another constructor for a variable number of arguments - almost getting off topic, as how the class is constructed here isn't really of interest, just the concept of how it works.</p>\n"},{"comments":[{"owner":{"account_id":18638,"reputation":6820,"user_id":42902,"display_name":"Andrew Duffy"},"score":0,"creation_date":1283267434,"post_id":3610310,"comment_id":3791020,"body_markdown":"There appears to be no way to get that second link working properly :(","body":"There appears to be no way to get that second link working properly :("},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1283268158,"post_id":3610310,"comment_id":3791171,"body_markdown":"@youssef @Colin: The intent of the link is to go to the `concat()` method immediately without scrolling (using the `#` hash fragment). That part was however not correctly URL-encoded. I fixed it (long live Firefox with automagic URL-encoding when copypasting links from its address bar).","body":"@youssef @Colin: The intent of the link is to go to the <code>concat()</code> method immediately without scrolling (using the <code>#</code> hash fragment). That part was however not correctly URL-encoded. I fixed it (long live Firefox with automagic URL-encoding when copypasting links from its address bar)."},{"owner":{"account_id":42318,"reputation":1948,"user_id":123250,"accept_rate":38,"display_name":"Jahanzeb Farooq"},"score":0,"creation_date":1283268545,"post_id":3610310,"comment_id":3791230,"body_markdown":"Hmm interesting. Though cannot use it as we aren&#39;t using Guava in our software.","body":"Hmm interesting. Though cannot use it as we aren&#39;t using Guava in our software."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":0,"creation_date":1283269580,"post_id":3610310,"comment_id":3791440,"body_markdown":"@BalusC Yes, and he originally had the URL basically the same as you have it now.","body":"@BalusC Yes, and he originally had the URL basically the same as you have it now."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":0,"creation_date":1283269651,"post_id":3610310,"comment_id":3791453,"body_markdown":"@Jahanzeb Farooq Well you should be! =) That said, obviously that&#39;s often not a decision you can just make yourself.","body":"@Jahanzeb Farooq Well you should be! =) That said, obviously that&#39;s often not a decision you can just make yourself."},{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":0,"creation_date":1396452515,"post_id":3610310,"comment_id":34796715,"body_markdown":"I think Iterators.concat is useful for small collections, but not Iterables which access databases. The concat method converts first all given iterators into an array list and then returns it iterator. The Commons Collections seem to work with less memory, as it does not convert it to an ArrayList, but keeps both iterators untouched, until it is necessary. Please be aware of this behaviour!","body":"I think Iterators.concat is useful for small collections, but not Iterables which access databases. The concat method converts first all given iterators into an array list and then returns it iterator. The Commons Collections seem to work with less memory, as it does not convert it to an ArrayList, but keeps both iterators untouched, until it is necessary. Please be aware of this behaviour!"},{"owner":{"account_id":61723,"reputation":2977,"user_id":183802,"display_name":"David"},"score":2,"creation_date":1398452075,"post_id":3610310,"comment_id":35670026,"body_markdown":"@guerda: You&#39;re mistaken. Iterators.concat is lazy; it doesn&#39;t buffer elements in a list.","body":"@guerda: You&#39;re mistaken. Iterators.concat is lazy; it doesn&#39;t buffer elements in a list."},{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":0,"creation_date":1398673013,"post_id":3610310,"comment_id":35733811,"body_markdown":"@David: Are you sure? I assumed it because of this implementation: http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/collect/Iterators.java?r=9dcde66ab9bfcdbe007b69d4912a297894bece59#524","body":"@David: Are you sure? I assumed it because of this implementation: <a href=\"http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/collect/Iterators.java?r=9dcde66ab9bfcdbe007b69d4912a297894bece59#524\" rel=\"nofollow noreferrer\">code.google.com/p/guava-libraries/source/browse/guava/src/co&zwnj;&#8203;m/&hellip;</a>"},{"owner":{"account_id":61723,"reputation":2977,"user_id":183802,"display_name":"David"},"score":1,"creation_date":1398714413,"post_id":3610310,"comment_id":35759748,"body_markdown":"@guerda: Yes. The code you&#39;re referring to creates an array _of iterators_; it doesn&#39;t have anything to do with the contents of those iterators.","body":"@guerda: Yes. The code you&#39;re referring to creates an array <i>of iterators</i>; it doesn&#39;t have anything to do with the contents of those iterators."}],"tags":[],"owner":{"account_id":18638,"reputation":6820,"user_id":42902,"display_name":"Andrew Duffy"},"comment_count":9,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1474039274,"creation_date":1283267032,"answer_id":3610310,"question_id":3610261,"body_markdown":"[Guava][1] (formerly Google Collections) has [Iterators.concat][2].\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable,%20java.lang.Iterable)","title":"Is it possible to merge iterators in Java?","body":"<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> (formerly Google Collections) has <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable,%20java.lang.Iterable)\" rel=\"noreferrer\">Iterators.concat</a>.</p>\n"},{"comments":[{"owner":{"account_id":42318,"reputation":1948,"user_id":123250,"accept_rate":38,"display_name":"Jahanzeb Farooq"},"score":1,"creation_date":1283267469,"post_id":3610331,"comment_id":3791025,"body_markdown":"Thanks. But I still have to call the method twice.","body":"Thanks. But I still have to call the method twice."},{"owner":{"account_id":70701,"reputation":3641,"user_id":204782,"accept_rate":57,"display_name":"Alb"},"score":0,"creation_date":1283275154,"post_id":3610331,"comment_id":3792359,"body_markdown":"This seems to me to be the simplest solution (without Guava) for your specific case. Yes you have to call methodX twice but you&#39;d have to  make two method calls anyway, one to merge the iterators, and one to do what methodX does.\n\nYour own solution with the flag seems more complicated and probably more code.","body":"This seems to me to be the simplest solution (without Guava) for your specific case. Yes you have to call methodX twice but you&#39;d have to  make two method calls anyway, one to merge the iterators, and one to do what methodX does.  Your own solution with the flag seems more complicated and probably more code."}],"tags":[],"owner":{"account_id":168371,"reputation":16522,"user_id":393786,"accept_rate":78,"display_name":"mhshams"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574781416,"creation_date":1283267163,"answer_id":3610331,"question_id":3610261,"body_markdown":"move your loop to a method and pass the iterator to method.\r\n\r\n    void methodX(Iterator x) {\r\n        while (x.hasNext()) {\r\n            ....\r\n        }\r\n    }\r\n&lt;!----&gt;","title":"Is it possible to merge iterators in Java?","body":"<p>move your loop to a method and pass the iterator to method.</p>\n\n<pre><code>void methodX(Iterator x) {\n    while (x.hasNext()) {\n        ....\n    }\n}\n</code></pre>\n\n\n"},{"comments":[{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1509393742,"post_id":3610332,"comment_id":80993581,"body_markdown":"OP does not necessarily need to iterate both at once. He is looking more to iterate one, then the other. Your second solution will fail once the first iterator has been processed.","body":"OP does not necessarily need to iterate both at once. He is looking more to iterate one, then the other. Your second solution will fail once the first iterator has been processed."}],"tags":[],"owner":{"account_id":119365,"reputation":1330,"user_id":311017,"accept_rate":100,"display_name":"Youssef"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283267595,"creation_date":1283267170,"answer_id":3610332,"question_id":3610261,"body_markdown":"every `Iterator` object holds own memory location (**adress**), so you can&#39;t simply &quot;merge&quot; them. except if you extend `iterator` class and write your own implementation there.\r\n\r\n\r\nIf you are dealing with the **same number of objects** in both iterators an alternative solution  would be to process two iterators in one loop like this :\r\n\r\n      \r\n       while (iterator1.hasNext() &amp;&amp; iterator2.hasNext()) {\r\n          // code\r\n        }\r\n\r\n\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>every <code>Iterator</code> object holds own memory location (<strong>adress</strong>), so you can't simply \"merge\" them. except if you extend <code>iterator</code> class and write your own implementation there.</p>\n\n<p>If you are dealing with the <strong>same number of objects</strong> in both iterators an alternative solution  would be to process two iterators in one loop like this :</p>\n\n<pre><code>   while (iterator1.hasNext() &amp;&amp; iterator2.hasNext()) {\n      // code\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8569,"reputation":12752,"user_id":15514,"accept_rate":95,"display_name":"Christoffer"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1283275680,"creation_date":1283275680,"answer_id":3611579,"question_id":3610261,"body_markdown":"I haven&#39;t written Java code in a while, and this got me curious to whether I&#39;ve still &quot;got it&quot;.\r\n\r\nFirst try:\r\n\r\n    import java.util.Iterator;\r\n    import java.util.Arrays; /* For sample code */\r\n    \r\n    public class IteratorIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n        private final Iterator&lt;T&gt; is[];\r\n        private int current;\r\n\r\n        public IteratorIterator(Iterator&lt;T&gt;... iterators)\r\n        {\r\n                is = iterators;\r\n                current = 0;\r\n        }\r\n\r\n        public boolean hasNext() {\r\n                while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\r\n                        current++;\r\n\r\n                return current &lt; is.length;\r\n        }\r\n\r\n        public T next() {\r\n                while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\r\n                        current++;\r\n\r\n                return is[current].next();\r\n        }\r\n\r\n        public void remove() { /* not implemented */ }\r\n\r\n        /* Sample use */\r\n        public static void main(String... args)\r\n        {\r\n                Iterator&lt;Integer&gt; a = Arrays.asList(1,2,3,4).iterator();\r\n                Iterator&lt;Integer&gt; b = Arrays.asList(10,11,12).iterator();\r\n                Iterator&lt;Integer&gt; c = Arrays.asList(99, 98, 97).iterator();\r\n\r\n                Iterator&lt;Integer&gt; ii = new IteratorIterator&lt;Integer&gt;(a,b,c);\r\n\r\n                while ( ii.hasNext() )\r\n                        System.out.println(ii.next());\r\n        }\r\n    }\r\n\r\nYou *could* of course use more Collection classes rather than a pure array + index counter, but this actually feels a bit cleaner than the alternative. Or am I just biased from writing mostly C these days? \r\n\r\nAnyway, there you go. The answer to you question is &quot;yes, probably&quot;.","title":"Is it possible to merge iterators in Java?","body":"<p>I haven't written Java code in a while, and this got me curious to whether I've still \"got it\".</p>\n\n<p>First try:</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.Arrays; /* For sample code */\n\npublic class IteratorIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n    private final Iterator&lt;T&gt; is[];\n    private int current;\n\n    public IteratorIterator(Iterator&lt;T&gt;... iterators)\n    {\n            is = iterators;\n            current = 0;\n    }\n\n    public boolean hasNext() {\n            while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\n                    current++;\n\n            return current &lt; is.length;\n    }\n\n    public T next() {\n            while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\n                    current++;\n\n            return is[current].next();\n    }\n\n    public void remove() { /* not implemented */ }\n\n    /* Sample use */\n    public static void main(String... args)\n    {\n            Iterator&lt;Integer&gt; a = Arrays.asList(1,2,3,4).iterator();\n            Iterator&lt;Integer&gt; b = Arrays.asList(10,11,12).iterator();\n            Iterator&lt;Integer&gt; c = Arrays.asList(99, 98, 97).iterator();\n\n            Iterator&lt;Integer&gt; ii = new IteratorIterator&lt;Integer&gt;(a,b,c);\n\n            while ( ii.hasNext() )\n                    System.out.println(ii.next());\n    }\n}\n</code></pre>\n\n<p>You <em>could</em> of course use more Collection classes rather than a pure array + index counter, but this actually feels a bit cleaner than the alternative. Or am I just biased from writing mostly C these days? </p>\n\n<p>Anyway, there you go. The answer to you question is \"yes, probably\".</p>\n"},{"comments":[{"owner":{"account_id":4081370,"reputation":363,"user_id":3537255,"display_name":"Fabian"},"score":3,"creation_date":1410460133,"post_id":3614702,"comment_id":40345164,"body_markdown":"This has some drawbacks, in particular if you want to use lazy iterators or if the collections are very large.","body":"This has some drawbacks, in particular if you want to use lazy iterators or if the collections are very large."},{"owner":{"account_id":361030,"reputation":3779,"user_id":703382,"accept_rate":92,"display_name":"Navin"},"score":0,"creation_date":1442721726,"post_id":3614702,"comment_id":53196553,"body_markdown":"So many reasons not to use this. Iterators don&#39;t have to come from a collection or set. Even if they did, you shouldn&#39;t copy all those references unless you know you&#39;ll go through them all.","body":"So many reasons not to use this. Iterators don&#39;t have to come from a collection or set. Even if they did, you shouldn&#39;t copy all those references unless you know you&#39;ll go through them all."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1496148537,"post_id":3614702,"comment_id":75533420,"body_markdown":"It does not necessarily come from a collection, go back to the basics, an iterator is anything able to iterate and doesn&#39;t need to be a collection, they call it abstraction.","body":"It does not necessarily come from a collection, go back to the basics, an iterator is anything able to iterate and doesn&#39;t need to be a collection, they call it abstraction."}],"tags":[],"owner":{"account_id":304715,"reputation":50,"user_id":614391,"accept_rate":50,"display_name":"p01ntbl4nk"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1283309047,"creation_date":1283309047,"answer_id":3614702,"question_id":3610261,"body_markdown":"an iterator comes FROM a collection or a set.  \r\nwhy not use the method already available  \r\n`Collection.addAll(Collection c);`  \r\nand then create your iterator from the last object.  \r\nthis way, your iterator will iterate all the contents of both collection.","title":"Is it possible to merge iterators in Java?","body":"<p>an iterator comes FROM a collection or a set.<br>\nwhy not use the method already available<br>\n<code>Collection.addAll(Collection c);</code><br>\nand then create your iterator from the last object.<br>\nthis way, your iterator will iterate all the contents of both collection.</p>\n"},{"comments":[{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":2,"creation_date":1396452544,"post_id":3614740,"comment_id":34796737,"body_markdown":"I think this method is less resource intensive, as it does not convert all iterators to an ArrayList.","body":"I think this method is less resource intensive, as it does not convert all iterators to an ArrayList."},{"owner":{"account_id":15443473,"reputation":749,"user_id":11141271,"display_name":"TeamDman"},"score":0,"creation_date":1639275842,"post_id":3614740,"comment_id":124306811,"body_markdown":"The javadoc on the guava one currently mentiones explicitly that the concatenated iterators are not polled until necessary.","body":"The javadoc on the guava one currently mentiones explicitly that the concatenated iterators are not polled until necessary."}],"tags":[],"owner":{"account_id":144764,"reputation":2527,"user_id":354063,"accept_rate":94,"display_name":"Ither"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1396452242,"creation_date":1283309796,"answer_id":3614740,"question_id":3610261,"body_markdown":"Also the [Apache Commons Collection][1] have several classes for manipulating Iterators, like the [IteratorChain][2], that wraps a number of Iterators. \r\n\r\n\r\n  [1]: http://commons.apache.org/collections\r\n  [2]: https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/iterators/IteratorChain.html","title":"Is it possible to merge iterators in Java?","body":"<p>Also the <a href=\"http://commons.apache.org/collections\" rel=\"noreferrer\">Apache Commons Collection</a> have several classes for manipulating Iterators, like the <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/iterators/IteratorChain.html\" rel=\"noreferrer\">IteratorChain</a>, that wraps a number of Iterators. </p>\n"},{"tags":[],"owner":{"account_id":173934,"reputation":5023,"user_id":402963,"accept_rate":100,"display_name":"Billworth Vandory"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286365248,"creation_date":1286365248,"answer_id":3872031,"question_id":3610261,"body_markdown":"I would refactor the original design from:\r\n\r\n    Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\r\n    Iterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\r\n\r\nTo something like:\r\n\r\n    Iterator&lt;User&gt; users = userService.getUsersInGroup(group.getId(), User.PRIMARY, User.SECONDARY, ...);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>I would refactor the original design from:</p>\n\n<pre><code>Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\nIterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\n</code></pre>\n\n<p>To something like:</p>\n\n<pre><code>Iterator&lt;User&gt; users = userService.getUsersInGroup(group.getId(), User.PRIMARY, User.SECONDARY, ...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":915710,"reputation":30644,"user_id":948550,"accept_rate":93,"display_name":"Reut Sharabani"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448469637,"creation_date":1448469637,"answer_id":33921910,"question_id":3610261,"body_markdown":"You can use [my version][1] of an extendable iterator. It uses a double-ended queue of iterators which to me makes sense:\r\n\r\n    import java.util.Deque;\r\n    import java.util.Iterator;\r\n    import java.util.concurrent.ConcurrentLinkedDeque;\r\n    \r\n    public class ExtendableIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \t\r\n    \tpublic Deque&lt;Iterator&lt;T&gt;&gt; its = new ConcurrentLinkedDeque&lt;Iterator&lt;T&gt;&gt;();\r\n    \r\n    \tpublic ExtendableIterator() {\r\n    \t\r\n    \t}\r\n    \r\n    \tpublic ExtendableIterator(Iterator&lt;T&gt; it) {\r\n    \t\tthis();\r\n    \t\tthis.extend(it);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\t// this is true since we never hold empty iterators\r\n    \t\treturn !its.isEmpty() &amp;&amp; its.peekLast().hasNext();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic T next() {\r\n    \t\tT next = its.peekFirst().next();\r\n    \t\tif (!its.peekFirst().hasNext()) {\r\n    \t\t\tits.removeFirst();\r\n    \t\t}\r\n    \t\treturn next;\r\n    \t}\r\n    \t\r\n    \tpublic void extend(Iterator&lt;T&gt; it) {\r\n    \t\tif (it.hasNext()) {\r\n    \t\t\tits.addLast(it);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://gist.github.com/reutsharabani/03a457b401b81e448ce2","title":"Is it possible to merge iterators in Java?","body":"<p>You can use <a href=\"https://gist.github.com/reutsharabani/03a457b401b81e448ce2\" rel=\"nofollow\">my version</a> of an extendable iterator. It uses a double-ended queue of iterators which to me makes sense:</p>\n\n<pre><code>import java.util.Deque;\nimport java.util.Iterator;\nimport java.util.concurrent.ConcurrentLinkedDeque;\n\npublic class ExtendableIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    public Deque&lt;Iterator&lt;T&gt;&gt; its = new ConcurrentLinkedDeque&lt;Iterator&lt;T&gt;&gt;();\n\n    public ExtendableIterator() {\n\n    }\n\n    public ExtendableIterator(Iterator&lt;T&gt; it) {\n        this();\n        this.extend(it);\n    }\n\n    @Override\n    public boolean hasNext() {\n        // this is true since we never hold empty iterators\n        return !its.isEmpty() &amp;&amp; its.peekLast().hasNext();\n    }\n\n    @Override\n    public T next() {\n        T next = its.peekFirst().next();\n        if (!its.peekFirst().hasNext()) {\n            its.removeFirst();\n        }\n        return next;\n    }\n\n    public void extend(Iterator&lt;T&gt; it) {\n        if (it.hasNext()) {\n            its.addLast(it);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2824199,"reputation":164,"user_id":2427160,"display_name":"Nic Stray"},"score":0,"creation_date":1677174847,"post_id":41488126,"comment_id":133290700,"body_markdown":"Why not use the List returned by Arrays.asList() directly, instead of the LinkedList? Because of the possible changes in the array &quot;iterables&quot;? Is this something I have to be worried about, even without multithreading? I would have to rewiev some of my code...","body":"Why not use the List returned by Arrays.asList() directly, instead of the LinkedList? Because of the possible changes in the array &quot;iterables&quot;? Is this something I have to be worried about, even without multithreading? I would have to rewiev some of my code..."},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":0,"creation_date":1677593574,"post_id":41488126,"comment_id":133365800,"body_markdown":"@NicStray the `LinkedList` here is only used to make a defensive copy, which will iterate over the elements. it&#39;s a design choice. you may chose to use `asList(..)` directly and avoid the copy operations, but then you must ensure not to modify the original iterables before using the `Iterator`. the choice is yours...","body":"@NicStray the <code>LinkedList</code> here is only used to make a defensive copy, which will iterate over the elements. it&#39;s a design choice. you may chose to use <code>asList(..)</code> directly and avoid the copy operations, but then you must ensure not to modify the original iterables before using the <code>Iterator</code>. the choice is yours..."},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":1,"creation_date":1677594293,"post_id":41488126,"comment_id":133366010,"body_markdown":"@NicStray the copy constructor of the `LinkedList` here is called. if you want to use `asList(..)` directly, you need to have an index variable or otherwise change the code, since remove will not work anymore.","body":"@NicStray the copy constructor of the <code>LinkedList</code> here is called. if you want to use <code>asList(..)</code> directly, you need to have an index variable or otherwise change the code, since remove will not work anymore."}],"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483628336,"creation_date":1483628336,"answer_id":41488126,"question_id":3610261,"body_markdown":"The Merged Iterator:\r\n\r\n    import static java.util.Arrays.asList;\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.NoSuchElementException;\r\n    \r\n    \r\n    public class ConcatIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \r\n        private final List&lt;Iterable&lt;T&gt;&gt; iterables;\r\n        private Iterator&lt;T&gt; current;\r\n    \r\n        @SafeVarargs\r\n        public ConcatIterator(final Iterable&lt;T&gt;... iterables) {\r\n            this.iterables = new LinkedList&lt;&gt;(asList(iterables));\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasNext() {\r\n            checkNext();\r\n            return current != null &amp;&amp; current.hasNext();\r\n        }\r\n    \r\n        @Override\r\n        public T next() {\r\n            checkNext();\r\n            if (current == null || !current.hasNext()) throw new NoSuchElementException();\r\n            return current.next();\r\n        }\r\n    \r\n        @Override\r\n        public void remove() {\r\n            if (current == null) throw new IllegalStateException();\r\n            current.remove();\r\n        }\r\n    \r\n        private void checkNext() {\r\n            while ((current == null || !current.hasNext()) &amp;&amp; !iterables.isEmpty()) {\r\n                current = iterables.remove(0).iterator();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThe `concat` method to create an `Iterable`:\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Iterable&lt;T&gt; concat(final Iterable&lt;T&gt;... iterables) {\r\n        return () -&gt; new ConcatIterator&lt;&gt;(iterables);\r\n    }\r\n\r\nSimple JUnit test:\r\n\r\n    @Test\r\n    public void testConcat() throws Exception {\r\n        final Iterable&lt;Integer&gt; it1 = asList(1, 2, 3);\r\n        final Iterable&lt;Integer&gt; it2 = asList(4, 5);\r\n        int j = 1;\r\n        for (final int i : concat(it1, it2)) {\r\n            assertEquals(j, i);\r\n            j++;\r\n        }\r\n    }\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>The Merged Iterator:</p>\n\n<pre><code>import static java.util.Arrays.asList;\n\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.NoSuchElementException;\n\n\npublic class ConcatIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    private final List&lt;Iterable&lt;T&gt;&gt; iterables;\n    private Iterator&lt;T&gt; current;\n\n    @SafeVarargs\n    public ConcatIterator(final Iterable&lt;T&gt;... iterables) {\n        this.iterables = new LinkedList&lt;&gt;(asList(iterables));\n    }\n\n    @Override\n    public boolean hasNext() {\n        checkNext();\n        return current != null &amp;&amp; current.hasNext();\n    }\n\n    @Override\n    public T next() {\n        checkNext();\n        if (current == null || !current.hasNext()) throw new NoSuchElementException();\n        return current.next();\n    }\n\n    @Override\n    public void remove() {\n        if (current == null) throw new IllegalStateException();\n        current.remove();\n    }\n\n    private void checkNext() {\n        while ((current == null || !current.hasNext()) &amp;&amp; !iterables.isEmpty()) {\n            current = iterables.remove(0).iterator();\n        }\n    }\n\n}\n</code></pre>\n\n<p>The <code>concat</code> method to create an <code>Iterable</code>:</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; Iterable&lt;T&gt; concat(final Iterable&lt;T&gt;... iterables) {\n    return () -&gt; new ConcatIterator&lt;&gt;(iterables);\n}\n</code></pre>\n\n<p>Simple JUnit test:</p>\n\n<pre><code>@Test\npublic void testConcat() throws Exception {\n    final Iterable&lt;Integer&gt; it1 = asList(1, 2, 3);\n    final Iterable&lt;Integer&gt; it2 = asList(4, 5);\n    int j = 1;\n    for (final int i : concat(it1, it2)) {\n        assertEquals(j, i);\n        j++;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16641188,"reputation":449,"user_id":12026681,"display_name":"lue"},"score":0,"creation_date":1580728698,"post_id":44626289,"comment_id":106180112,"body_markdown":"The last comma must be removed","body":"The last comma must be removed"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499677703,"creation_date":1497862964,"answer_id":44626289,"question_id":3610261,"body_markdown":"You can try [`ConcatIterator`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterator.html) from [Cactoos](http://www.cactoos.org):\r\n\r\n    Iterator&lt;String&gt; names = new ConcatIterator&lt;&gt;(\r\n      Arrays.asList(&quot;Sarah&quot;, &quot;Mary&quot;).iterator(),\r\n      Arrays.asList(&quot;Jeff&quot;, &quot;Johnny&quot;).iterator(),\r\n    );\r\n\r\nAlso check [`ConcatIterable`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterable.html), which concatenates `Iterable`s.","title":"Is it possible to merge iterators in Java?","body":"<p>You can try <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterator.html\" rel=\"nofollow noreferrer\"><code>ConcatIterator</code></a> from <a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a>:</p>\n\n<pre><code>Iterator&lt;String&gt; names = new ConcatIterator&lt;&gt;(\n  Arrays.asList(\"Sarah\", \"Mary\").iterator(),\n  Arrays.asList(\"Jeff\", \"Johnny\").iterator(),\n);\n</code></pre>\n\n<p>Also check <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterable.html\" rel=\"nofollow noreferrer\"><code>ConcatIterable</code></a>, which concatenates <code>Iterable</code>s.</p>\n"},{"tags":[],"owner":{"account_id":13055416,"reputation":81,"user_id":9434443,"display_name":"clelson"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1545153797,"creation_date":1520000138,"answer_id":49070952,"question_id":3610261,"body_markdown":"    public class IteratorJoin&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \tprivate final Iterator&lt;T&gt; first, next;\r\n    \t\r\n    \tpublic IteratorJoin(Iterator&lt;T&gt; first, Iterator&lt;T&gt; next) {\r\n    \t\tthis.first = first;\r\n    \t\tthis.next = next;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\treturn first.hasNext() || next.hasNext();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T next() {\r\n    \t\tif (first.hasNext())\r\n    \t\t\treturn first.next();\r\n    \t\treturn next.next();\r\n    \t}\r\n    }\r\n","title":"Is it possible to merge iterators in Java?","body":"<pre><code>public class IteratorJoin&lt;T&gt; implements Iterator&lt;T&gt; {\n    private final Iterator&lt;T&gt; first, next;\n\n    public IteratorJoin(Iterator&lt;T&gt; first, Iterator&lt;T&gt; next) {\n        this.first = first;\n        this.next = next;\n    }\n\n    @Override\n    public boolean hasNext() {\n        return first.hasNext() || next.hasNext();\n    }\n\n    @Override\n    public T next() {\n        if (first.hasNext())\n            return first.next();\n        return next.next();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553111316,"creation_date":1553110581,"answer_id":55268906,"question_id":3610261,"body_markdown":"In the [Apache Commons Collections](https://commons.apache.org/proper/commons-collections/) there is [`public static &lt;E&gt; Iterator&lt;E&gt; org.apache.commons.collections4.IteratorUtils.chainedIterator(Collection&lt;Iterator&lt;? extends E&gt;&gt; iterators)`](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/IteratorUtils.html#chainedIterator-java.util.Collection-) that says\r\n\r\n&gt;Gets an iterator that iterates through a collections of Iterators one after another.\r\n\r\nwhich should be what you want.\r\n\r\n\timport java.util.Arrays;\r\n\timport java.util.Iterator;\r\n\t\r\n\timport org.apache.commons.collections4.IteratorUtils;\r\n    //also works: import org.apache.commons.collections.IteratorUtils;\r\n\t\r\n\tclass Scratch {\r\n\t\tpublic static void main( String[] args ) {\r\n\t\t\tfinal Iterator&lt;String&gt; combinedIterator = IteratorUtils.chainedIterator(\r\n\t\t\t\t\tArrays.asList( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ).iterator(),\r\n\t\t\t\t\tArrays.asList( &quot;1&quot;, &quot;2&quot;, &quot;3&quot; ).iterator()\r\n\t\t\t\t);\r\n\t\t\twhile( combinedIterator.hasNext() ){\r\n\t\t\t\tSystem.out.println( combinedIterator.next() );\r\n\t\t\t}\r\n            // &quot;abc123&quot; will have been printed out\r\n\t\t}\r\n\t}\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>In the <a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\">Apache Commons Collections</a> there is <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/IteratorUtils.html#chainedIterator-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>public static &lt;E&gt; Iterator&lt;E&gt; org.apache.commons.collections4.IteratorUtils.chainedIterator(Collection&lt;Iterator&lt;? extends E&gt;&gt; iterators)</code></a> that says</p>\n\n<blockquote>\n  <p>Gets an iterator that iterates through a collections of Iterators one after another.</p>\n</blockquote>\n\n<p>which should be what you want.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Iterator;\n\nimport org.apache.commons.collections4.IteratorUtils;\n//also works: import org.apache.commons.collections.IteratorUtils;\n\nclass Scratch {\n    public static void main( String[] args ) {\n        final Iterator&lt;String&gt; combinedIterator = IteratorUtils.chainedIterator(\n                Arrays.asList( \"a\", \"b\", \"c\" ).iterator(),\n                Arrays.asList( \"1\", \"2\", \"3\" ).iterator()\n            );\n        while( combinedIterator.hasNext() ){\n            System.out.println( combinedIterator.next() );\n        }\n        // \"abc123\" will have been printed out\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36538,"reputation":8134,"user_id":104261,"display_name":"Taras Alenin"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1680496519,"creation_date":1566001118,"answer_id":57532382,"question_id":3610261,"body_markdown":"Starting with Java 8 and later this can be done without external dependencies using [Stream API][1]. This also allows concatenation of iterator with other types of streams.\r\n\r\n```java\r\nStreams.concat(\r\n   StreamSupport.stream(&lt;iter1&gt;, false), \r\n   StreamSupport.stream(&lt;iter2&gt;, false));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-","title":"Is it possible to merge iterators in Java?","body":"<p>Starting with Java 8 and later this can be done without external dependencies using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-\" rel=\"nofollow noreferrer\">Stream API</a>. This also allows concatenation of iterator with other types of streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Streams.concat(\n   StreamSupport.stream(&lt;iter1&gt;, false), \n   StreamSupport.stream(&lt;iter2&gt;, false));\n</code></pre>\n"}],"owner":{"account_id":42318,"reputation":1948,"user_id":123250,"accept_rate":38,"display_name":"Jahanzeb Farooq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43874,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":14,"score":54,"last_activity_date":1680496519,"creation_date":1283266724,"question_id":3610261,"body_markdown":"Is it possible to merge iterators in Java? I have two iterators and I want to combine/merge them so that I could iterate though their elements in one go (in same loop) rather than two steps. Is that possible? \r\n\r\nNote that the number of elements in the two lists can be different therefore one loop over both lists is not the solution. \r\n\r\n    Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\r\n    Iterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\r\n    \r\n    while(pUsers.hasNext()) {\r\n      User user = pUsers.next();\r\n      .....\r\n    }\r\n\r\n    while(sUsers.hasNext()) {\r\n      User user = sUsers.next();\r\n      .....\r\n    }\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>Is it possible to merge iterators in Java? I have two iterators and I want to combine/merge them so that I could iterate though their elements in one go (in same loop) rather than two steps. Is that possible? </p>\n\n<p>Note that the number of elements in the two lists can be different therefore one loop over both lists is not the solution. </p>\n\n<pre><code>Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\nIterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\n\nwhile(pUsers.hasNext()) {\n  User user = pUsers.next();\n  .....\n}\n\nwhile(sUsers.hasNext()) {\n  User user = sUsers.next();\n  .....\n}\n</code></pre>\n"},{"tags":["java","compiler-construction","antlr4","lexer"],"answers":[{"comments":[{"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"score":0,"creation_date":1680506855,"post_id":75916027,"comment_id":133903888,"body_markdown":"The answer is great and fully answers my confusion. I spent a whole morning consulting chat-gpt, but all the answers given were wrong.","body":"The answer is great and fully answers my confusion. I spent a whole morning consulting chat-gpt, but all the answers given were wrong."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680495825,"creation_date":1680495825,"answer_id":75916027,"question_id":75915913,"body_markdown":"It&#39;s not trying to exclude something like:\r\n\r\n```java\r\nchar x = `\\r`;\r\n```\r\n\r\nIt&#39;s trying to exclude:\r\n\r\n```java\r\nchar x = &#39;\r\n&#39;;\r\n```\r\n\r\nThat last one is illegal java. A `&#39;` (opening a char literal) can be followed by either an EscapeSequence, or a character, but by exception, not a newline character. (as in, literally pressing enter in your editor, not `\\n` which isn&#39;t a newline, it&#39;s an escape sequence that represents a new line).\r\n\r\nIn other words, after the single quote, any character is fine, EXCEPT backslash which needs to be excluded, as `EscapeSequence` handles this, and EXCEPT the literal unicode values `0D`/`0A` (CR and LF, in antlrspeak, `\\r` and `\\n`).\r\n\r\nIt gets a little confusing perhaps - just make sure you very very carefully count the backslashes:\r\n\r\n```\r\n[&#39;\\\\\\r\\n]\r\n```\r\n\r\nThat is excluding 4 unicode values, and only 4:\r\n\r\n* a single quote. `char x = &#39;&#39;;` is not legal java.\r\n* a backslash. Because the ANTLR grammar needs to hop on over to the `EscapeSequence` part to parse that. `char x = &#39;\\&#39;;` is not legal.\r\n* a newline, either one (CR or LF) - because you can&#39;t actually start a new line in the middle of your char literal.\r\n\r\nIn contrast, the escape sequences aren&#39;t looking for `\\n`, they are looking for a backslash symbol and then the actual letter &#39;n&#39;.\r\n","title":"How to understand the CHAR_LITERAL rule in java antlr4 lexer file","body":"<p>It's not trying to exclude something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char x = `\\r`;\n</code></pre>\n<p>It's trying to exclude:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char x = '\n';\n</code></pre>\n<p>That last one is illegal java. A <code>'</code> (opening a char literal) can be followed by either an EscapeSequence, or a character, but by exception, not a newline character. (as in, literally pressing enter in your editor, not <code>\\n</code> which isn't a newline, it's an escape sequence that represents a new line).</p>\n<p>In other words, after the single quote, any character is fine, EXCEPT backslash which needs to be excluded, as <code>EscapeSequence</code> handles this, and EXCEPT the literal unicode values <code>0D</code>/<code>0A</code> (CR and LF, in antlrspeak, <code>\\r</code> and <code>\\n</code>).</p>\n<p>It gets a little confusing perhaps - just make sure you very very carefully count the backslashes:</p>\n<pre><code>['\\\\\\r\\n]\n</code></pre>\n<p>That is excluding 4 unicode values, and only 4:</p>\n<ul>\n<li>a single quote. <code>char x = '';</code> is not legal java.</li>\n<li>a backslash. Because the ANTLR grammar needs to hop on over to the <code>EscapeSequence</code> part to parse that. <code>char x = '\\';</code> is not legal.</li>\n<li>a newline, either one (CR or LF) - because you can't actually start a new line in the middle of your char literal.</li>\n</ul>\n<p>In contrast, the escape sequences aren't looking for <code>\\n</code>, they are looking for a backslash symbol and then the actual letter 'n'.</p>\n"}],"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916027,"answer_count":1,"score":0,"last_activity_date":1680495825,"creation_date":1680493867,"question_id":75915913,"body_markdown":"[java antlr4 lexer file](https://github.com/antlr/grammars-v4/blob/master/java/java/JavaLexer.g4)\r\n\r\n```g4\r\nCHAR_LITERAL:       &#39;\\&#39;&#39; (~[&#39;\\\\\\r\\n] | EscapeSequence) &#39;\\&#39;&#39;;\r\n\r\nfragment EscapeSequence\r\n    : &#39;\\\\&#39; &#39;u005c&#39;? [btnfr&quot;&#39;\\\\]\r\n    | &#39;\\\\&#39; &#39;u005c&#39;? ([0-3]? [0-7])? [0-7]\r\n    | &#39;\\\\&#39; &#39;u&#39;+ HexDigit HexDigit HexDigit HexDigit\r\n    ;\r\n```\r\n\r\nWhy &#39;\\r&#39;, &#39;\\n&#39;, &#39;&#39;&#39;, &#39;\\&#39; is excluded in first part，and &#39;\\b&#39;, &#39;\\t&#39;, &#39;\\f&#39;, &#39;&quot;&#39; not excluded in first part?\r\n\r\nIf I change the rule to this, is it equivalent to the previous rule\r\n\r\n```g4\r\nCHAR_LITERAL:       &#39;\\&#39;&#39; (~[&#39;\\\\\\r\\n\\b\\f\\t\\&quot;] | EscapeSequence) &#39;\\&#39;&#39;;\r\n```\r\n\r\nOr change it to this\r\n\r\n```g4\r\nCHAR_LITERAL:       &#39;\\&#39;&#39; (~[&#39;\\\\] | EscapeSequence) &#39;\\&#39;&#39;;\r\n```","title":"How to understand the CHAR_LITERAL rule in java antlr4 lexer file","body":"<p><a href=\"https://github.com/antlr/grammars-v4/blob/master/java/java/JavaLexer.g4\" rel=\"nofollow noreferrer\">java antlr4 lexer file</a></p>\n<pre><code>CHAR_LITERAL:       '\\'' (~['\\\\\\r\\n] | EscapeSequence) '\\'';\n\nfragment EscapeSequence\n    : '\\\\' 'u005c'? [btnfr&quot;'\\\\]\n    | '\\\\' 'u005c'? ([0-3]? [0-7])? [0-7]\n    | '\\\\' 'u'+ HexDigit HexDigit HexDigit HexDigit\n    ;\n</code></pre>\n<p>Why '\\r', '\\n', ''', '' is excluded in first part，and '\\b', '\\t', '\\f', '&quot;' not excluded in first part?</p>\n<p>If I change the rule to this, is it equivalent to the previous rule</p>\n<pre><code>CHAR_LITERAL:       '\\'' (~['\\\\\\r\\n\\b\\f\\t\\&quot;] | EscapeSequence) '\\'';\n</code></pre>\n<p>Or change it to this</p>\n<pre><code>CHAR_LITERAL:       '\\'' (~['\\\\] | EscapeSequence) '\\'';\n</code></pre>\n"},{"tags":["java","sonarqube","sonarqube-scan"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1606746828,"creation_date":1606746828,"answer_id":65075512,"question_id":65075408,"body_markdown":"You first test if `getBody()` returns `null`.\r\n\r\nSonarQube sees that and thinks the method can return null.\r\n\r\nThen, you call the same method again. SonarQube just knows that the method can return null so it tells you the warning.\r\n\r\nIn other words, SonarQube thinks that it could return something different than `null` the first time but return `null` the second time.\r\n\r\nIf the method is just a simple getter and the object is not modified concurrently, this is no problem.\r\n\r\nIn order to remove the warning, you can do one of the following:\r\n\r\n* Save the result of `getBody()` to a variable, check if it is null and continue if it is not\r\n* Add a `//NOSONAR` comment telling SonarQube that you know what you are doing.\r\n\r\nNote that you might want to explain why this is ok in the comment, if you decide for the second case.","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>You first test if <code>getBody()</code> returns <code>null</code>.</p>\n<p>SonarQube sees that and thinks the method can return null.</p>\n<p>Then, you call the same method again. SonarQube just knows that the method can return null so it tells you the warning.</p>\n<p>In other words, SonarQube thinks that it could return something different than <code>null</code> the first time but return <code>null</code> the second time.</p>\n<p>If the method is just a simple getter and the object is not modified concurrently, this is no problem.</p>\n<p>In order to remove the warning, you can do one of the following:</p>\n<ul>\n<li>Save the result of <code>getBody()</code> to a variable, check if it is null and continue if it is not</li>\n<li>Add a <code>//NOSONAR</code> comment telling SonarQube that you know what you are doing.</li>\n</ul>\n<p>Note that you might want to explain why this is ok in the comment, if you decide for the second case.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606748791,"creation_date":1606748791,"answer_id":65076044,"question_id":65075408,"body_markdown":"It could theoretically be the case that a repeated call of `getBody()` might return an other value. The following utilizes `hasBody()` and calls `getBody()` only once.\r\n\r\n    if (holdingResponseEntity == null\r\n            || !holdingResponseEntity.hasBody()) {\r\n        throw new HoldingNotFoundException(&quot;Holding with id=&quot; + idHolding + &quot; not found.&quot;);\r\n    }\r\n    T body = holdingResponseEntity.getBody(); // Change T appropriately.\r\n    if (body.getError() || body.getResult() == null) {\r\n        throw new HoldingNotFoundException(&quot;Holding with id=&quot; + idHolding + &quot; not found.&quot;);\r\n    }\r\n\r\nNormally you should check the source code of the library `getBody`. My guess: it is not a simple getter, but construes the body once. Because there is a `hasBody`.\r\n\r\nSuch things make code checkers valuable.","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>It could theoretically be the case that a repeated call of <code>getBody()</code> might return an other value. The following utilizes <code>hasBody()</code> and calls <code>getBody()</code> only once.</p>\n<pre><code>if (holdingResponseEntity == null\n        || !holdingResponseEntity.hasBody()) {\n    throw new HoldingNotFoundException(&quot;Holding with id=&quot; + idHolding + &quot; not found.&quot;);\n}\nT body = holdingResponseEntity.getBody(); // Change T appropriately.\nif (body.getError() || body.getResult() == null) {\n    throw new HoldingNotFoundException(&quot;Holding with id=&quot; + idHolding + &quot; not found.&quot;);\n}\n</code></pre>\n<p>Normally you should check the source code of the library <code>getBody</code>. My guess: it is not a simple getter, but construes the body once. Because there is a <code>hasBody</code>.</p>\n<p>Such things make code checkers valuable.</p>\n"},{"comments":[{"owner":{"account_id":14845959,"reputation":135,"user_id":10721258,"display_name":"Puskin"},"score":1,"creation_date":1677652374,"post_id":65076655,"comment_id":133378056,"body_markdown":"If i understand correctly, your code still got a warning from SonarQube. Take a look at `holdingResponseEntity.getBody() != null` and `holdingResponseEntity.getBody().getError() !=null`. The first one is oke but the second one can throw NPE because the second one call `getBody()` again, and result can be null in theory. Unless you&#39;re checking like this `(body=holdingResponseEntity.getBody()) != null &amp;&amp; body.getError() != null`","body":"If i understand correctly, your code still got a warning from SonarQube. Take a look at <code>holdingResponseEntity.getBody() != null</code> and <code>holdingResponseEntity.getBody().getError() !=null</code>. The first one is oke but the second one can throw NPE because the second one call <code>getBody()</code> again, and result can be null in theory. Unless you&#39;re checking like this <code>(body=holdingResponseEntity.getBody()) != null &amp;&amp; body.getError() != null</code>"}],"tags":[],"owner":{"account_id":12572002,"reputation":632,"user_id":9145797,"display_name":"Ajeet Maurya"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606751079,"creation_date":1606751079,"answer_id":65076655,"question_id":65075408,"body_markdown":"However there are other ways to solve this as well, as answered above but if I want to solve it the way you have written the code with minimum changes and avoid warning from Sonar, this would be as below - \r\n\r\nUsing &amp;&amp; operator will make sure once the condition fails , it would not check for subsequent condition , and that solves the issue . \r\n\r\n    if(holdingResponseEntity != null &amp;&amp;\r\n                    holdingResponseEntity.getBody() != null &amp;&amp;\r\n                    holdingResponseEntity.getBody().getError() != null &amp;&amp;\r\n                    holdingResponseEntity.getBody().getResult() != null){\r\n               //Everything is good if it comes here\r\n    \r\n            }else{\r\n                System.out.println(&quot;Going to throw ***** &quot;);\r\n                throw new HoldingNotFoundException(&quot;Holding whit id=&quot; + idHolding + &quot; not found-&quot;);\r\n            }","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>However there are other ways to solve this as well, as answered above but if I want to solve it the way you have written the code with minimum changes and avoid warning from Sonar, this would be as below -</p>\n<p>Using &amp;&amp; operator will make sure once the condition fails , it would not check for subsequent condition , and that solves the issue .</p>\n<pre><code>if(holdingResponseEntity != null &amp;&amp;\n                holdingResponseEntity.getBody() != null &amp;&amp;\n                holdingResponseEntity.getBody().getError() != null &amp;&amp;\n                holdingResponseEntity.getBody().getResult() != null){\n           //Everything is good if it comes here\n\n        }else{\n            System.out.println(&quot;Going to throw ***** &quot;);\n            throw new HoldingNotFoundException(&quot;Holding whit id=&quot; + idHolding + &quot; not found-&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28199243,"reputation":1,"user_id":21553321,"display_name":"Sukesh Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680495301,"creation_date":1680495209,"answer_id":75915996,"question_id":65075408,"body_markdown":"There is multiple way to solve this but in some of the scenario sonar will fail to check the condition so better you can use Optional to check null and sonar issue will be resolved \r\nFor Example: \r\n\r\n&gt; Optional.ofNullable(responseEntity.getBody()).isEmpty()","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>There is multiple way to solve this but in some of the scenario sonar will fail to check the condition so better you can use Optional to check null and sonar issue will be resolved\nFor Example:</p>\n<blockquote>\n<p>Optional.ofNullable(responseEntity.getBody()).isEmpty()</p>\n</blockquote>\n"}],"owner":{"account_id":2599570,"reputation":51,"user_id":2252369,"display_name":"Gino Sarnieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27326,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1680495301,"creation_date":1606746384,"question_id":65075408,"body_markdown":"SonarQube reports this bug to me: `A &quot;NullPointerException&quot; could be thrown; &quot;getBody()&quot; can return null.`\r\n\r\nThis is the code:\r\n\r\n    if (holdingResponseEntity == null || holdingResponseEntity.getBody() == null || holdingResponseEntity.getBody().getError() || holdingResponseEntity.getBody().getResult() == null) { throw new HoldingNotFoundException(&quot;Holding whit id=&quot; + idHolding + &quot; not found-&quot;); }\r\n","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>SonarQube reports this bug to me: <code>A &quot;NullPointerException&quot; could be thrown; &quot;getBody()&quot; can return null.</code></p>\n<p>This is the code:</p>\n<pre><code>if (holdingResponseEntity == null || holdingResponseEntity.getBody() == null || holdingResponseEntity.getBody().getError() || holdingResponseEntity.getBody().getResult() == null) { throw new HoldingNotFoundException(&quot;Holding whit id=&quot; + idHolding + &quot; not found-&quot;); }\n</code></pre>\n"},{"tags":["java","maven","configuration","classpath","velocity"],"comments":[{"owner":{"account_id":1558198,"reputation":3820,"user_id":1448704,"accept_rate":72,"display_name":"seba.wagner"},"score":0,"creation_date":1350307879,"post_id":12861672,"comment_id":17466911,"body_markdown":"I think you should tag this issue with &quot;Maven&quot; or &quot;Classpath issue&quot;. I don&#39;t think it has something todo with Valocity itself. We have almost the same dependencies.","body":"I think you should tag this issue with &quot;Maven&quot; or &quot;Classpath issue&quot;. I don&#39;t think it has something todo with Valocity itself. We have almost the same dependencies."},{"owner":{"account_id":1558198,"reputation":3820,"user_id":1448704,"accept_rate":72,"display_name":"seba.wagner"},"score":0,"creation_date":1350307898,"post_id":12861672,"comment_id":17466920,"body_markdown":"btw: we did not do any extra coding to &quot;enable&quot; velocity tools.","body":"btw: we did not do any extra coding to &quot;enable&quot; velocity tools."},{"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"score":0,"creation_date":1350309439,"post_id":12861672,"comment_id":17467732,"body_markdown":"I&#39;ll give it a try without any special configuration and see how it goes.","body":"I&#39;ll give it a try without any special configuration and see how it goes."}],"answers":[{"tags":[],"owner":{"account_id":3816200,"reputation":1,"user_id":3165515,"display_name":"andrden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389014056,"creation_date":1389014056,"answer_id":20950827,"question_id":12861672,"body_markdown":"try\r\n\r\n     new ToolManager(false,false) ","title":"Velocity EscapeTool from Java","body":"<p>try</p>\n\n<pre><code> new ToolManager(false,false) \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3144605,"reputation":30329,"user_id":2659313,"accept_rate":100,"display_name":"Mohit Jain"},"score":0,"creation_date":1402071156,"post_id":24085528,"comment_id":37147316,"body_markdown":"Please explain your answer in brief to make it more useful for other readers.","body":"Please explain your answer in brief to make it more useful for other readers."}],"tags":[],"owner":{"account_id":3428611,"reputation":11,"user_id":2873690,"display_name":"nickwu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402068520,"creation_date":1402068520,"answer_id":24085528,"question_id":12861672,"body_markdown":"    XmlFactoryConfiguration factoryConfiguration = new XmlFactoryConfiguration(&quot;Default Tools&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tfactoryConfiguration.read(new FileInputStream(new File(Thread.currentThread().getContextClassLoader().getResource(&quot;/&quot;).getFile(), TOOL_BOX_CONF_FILE)));\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tToolboxFactory factory = factoryConfiguration.createFactory();\r\n\t\t\tfactory.configure(factoryConfiguration);\r\n\t\t\ttoolContext = new ToolContext();\r\n\t\t\tfor (String scope : Scope.values()) {\r\n\t\t\t\ttoolContext.addToolbox(factory.createToolbox(scope));\r\n\t\t\t}","title":"Velocity EscapeTool from Java","body":"<pre><code>XmlFactoryConfiguration factoryConfiguration = new XmlFactoryConfiguration(\"Default Tools\");\n        try {\n            factoryConfiguration.read(new FileInputStream(new File(Thread.currentThread().getContextClassLoader().getResource(\"/\").getFile(), TOOL_BOX_CONF_FILE)));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        ToolboxFactory factory = factoryConfiguration.createFactory();\n        factory.configure(factoryConfiguration);\n        toolContext = new ToolContext();\n        for (String scope : Scope.values()) {\n            toolContext.addToolbox(factory.createToolbox(scope));\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247334,"reputation":669,"user_id":521990,"accept_rate":80,"display_name":"user521990"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680494854,"creation_date":1680494854,"answer_id":75915972,"question_id":12861672,"body_markdown":"I am using Velocity in Spring boot and was trying to figure out the above. I didn&#39;t try the approach above since I didn&#39;t need every tool, but just wanted to share you could add one specific tool from the Velocity tools.\r\n\r\nMy velocity engine configuration\r\n```\r\n@Configuration\r\npublic class VelocityConfiguration {\r\n    \r\n    @Bean\r\n    public VelocityEngine velocityEngine() throws IOException{\r\n        VelocityEngineFactoryBean bean = new VelocityEngineFactoryBean();\r\n        Properties velocityProperties = new Properties();\r\n        velocityProperties.setProperty(&quot;runtime.log.invalid.references&quot;, &quot;true&quot;);\r\n        velocityProperties.setProperty(&quot;input.encoding&quot;, &quot;UTF-8&quot;);\r\n        velocityProperties.setProperty(&quot;runtime.log.invalid.references&quot;, &quot;true&quot;);\r\n        \r\n        //for CLASS = template must be in /resources ONLY (under the &lt;default package&gt;\r\n        velocityProperties.setProperty(&quot;resource.loader&quot;, &quot;class&quot;);\r\n        velocityProperties.setProperty(&quot;class.resource.loader.description&quot;, &quot;Velocity Classpath Resource Loader&quot;);\r\n        velocityProperties.setProperty(&quot;class.resource.loader.class&quot;, &quot;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&quot;);\r\n        \r\n        //enable inclusion of relative templates\r\n        velocityProperties.setProperty(&quot;eventhandler.include.class&quot;, &quot;org.apache.velocity.app.event.implement.IncludeRelativePath&quot;);\r\n        \r\n        bean.setVelocityProperties(velocityProperties);\r\n                        \r\n        return bean.createVelocityEngine();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI just needed the date tool, so I just added the class that&#39;s in the XML file\r\nvelocityContext.put(&quot;date&quot;, new ComparisonDateTool());\r\n\r\n```\r\n@Component\r\npublic class VelocityTemplateWriter {\r\n\r\n    private final VelocityEngine velocityEngine;\r\n\r\n    @Value(&quot;${vm.template.path}&quot;)\r\n    private String apacheVMTemplatePath;\r\n\r\n    @Autowired\r\n    public VelocityTemplateWriter(@Qualifier(&quot;velocityEngine&quot;) VelocityEngine velocityEngine) {\r\n        this.velocityEngine = velocityEngine;\r\n    }\r\n\r\n    public String write(Map&lt;String, Object&gt; data){\r\n        VelocityContext velocityContext = new VelocityContext();\r\n        velocityContext.put(&quot;output&quot;, data);\r\n        velocityContext.put(&quot;date&quot;, new ComparisonDateTool());\r\n\r\n        StringWriter stringWriter = new StringWriter();\r\n        velocityEngine.mergeTemplate(apacheVMTemplatePath + &quot;ParentResponse.vm&quot;, &quot;UTF-8&quot;, velocityContext, stringWriter);\r\n\r\n        String output = stringWriter.toString();\r\n\r\n        return output;\r\n    }\r\n```","title":"Velocity EscapeTool from Java","body":"<p>I am using Velocity in Spring boot and was trying to figure out the above. I didn't try the approach above since I didn't need every tool, but just wanted to share you could add one specific tool from the Velocity tools.</p>\n<p>My velocity engine configuration</p>\n<pre><code>@Configuration\npublic class VelocityConfiguration {\n    \n    @Bean\n    public VelocityEngine velocityEngine() throws IOException{\n        VelocityEngineFactoryBean bean = new VelocityEngineFactoryBean();\n        Properties velocityProperties = new Properties();\n        velocityProperties.setProperty(&quot;runtime.log.invalid.references&quot;, &quot;true&quot;);\n        velocityProperties.setProperty(&quot;input.encoding&quot;, &quot;UTF-8&quot;);\n        velocityProperties.setProperty(&quot;runtime.log.invalid.references&quot;, &quot;true&quot;);\n        \n        //for CLASS = template must be in /resources ONLY (under the &lt;default package&gt;\n        velocityProperties.setProperty(&quot;resource.loader&quot;, &quot;class&quot;);\n        velocityProperties.setProperty(&quot;class.resource.loader.description&quot;, &quot;Velocity Classpath Resource Loader&quot;);\n        velocityProperties.setProperty(&quot;class.resource.loader.class&quot;, &quot;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&quot;);\n        \n        //enable inclusion of relative templates\n        velocityProperties.setProperty(&quot;eventhandler.include.class&quot;, &quot;org.apache.velocity.app.event.implement.IncludeRelativePath&quot;);\n        \n        bean.setVelocityProperties(velocityProperties);\n                        \n        return bean.createVelocityEngine();\n    }\n\n}\n</code></pre>\n<p>I just needed the date tool, so I just added the class that's in the XML file\nvelocityContext.put(&quot;date&quot;, new ComparisonDateTool());</p>\n<pre><code>@Component\npublic class VelocityTemplateWriter {\n\n    private final VelocityEngine velocityEngine;\n\n    @Value(&quot;${vm.template.path}&quot;)\n    private String apacheVMTemplatePath;\n\n    @Autowired\n    public VelocityTemplateWriter(@Qualifier(&quot;velocityEngine&quot;) VelocityEngine velocityEngine) {\n        this.velocityEngine = velocityEngine;\n    }\n\n    public String write(Map&lt;String, Object&gt; data){\n        VelocityContext velocityContext = new VelocityContext();\n        velocityContext.put(&quot;output&quot;, data);\n        velocityContext.put(&quot;date&quot;, new ComparisonDateTool());\n\n        StringWriter stringWriter = new StringWriter();\n        velocityEngine.mergeTemplate(apacheVMTemplatePath + &quot;ParentResponse.vm&quot;, &quot;UTF-8&quot;, velocityContext, stringWriter);\n\n        String output = stringWriter.toString();\n\n        return output;\n    }\n</code></pre>\n"}],"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680494854,"creation_date":1350053522,"question_id":12861672,"body_markdown":"I&#39;m having issues using the Velocity Escape tool on my Annotation processor. First of all, I got the Annotation processor working fine with velocity alone so I know the set up is correct. I started having issues with my created sources when using strings with scape characters. So I went on the internet and found about [EscapeTool][1] for Velocity. Lets just say that the documentation is not pretty good about configuration.\r\n\r\nI was able to find some code, don&#39;t remember where, to get me started:\r\n\r\n    ToolManager velocityToolManager = new ToolManager();\r\n    velocityToolManager.configure(&quot;velocity-tools.xml&quot;);\r\n    VelocityContext vc =\r\n               new VelocityContext(velocityToolManager.createContext());\r\n\r\nBut I&#39;m getting the following error during the configuration part:\r\n\r\n    java.lang.RuntimeException: There was an error while parsing the InputStream\r\n    \tat org.apache.velocity.tools.config.XmlFactoryConfiguration.read(XmlFactoryConfiguration.java:132)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:140)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:116)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:91)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:69)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:59)\r\n    \tat org.apache.velocity.tools.config.ConfigurationUtils.getDefaultTools(ConfigurationUtils.java:79)\r\n    \tat org.apache.velocity.tools.config.ConfigurationUtils.getAutoLoaded(ConfigurationUtils.java:176)\r\n    \tat org.apache.velocity.tools.ToolManager.autoConfigure(ToolManager.java:74)\r\n    \tat org.apache.velocity.tools.ToolManager.&lt;init&gt;(ToolManager.java:68)\r\n    \tat org.apache.velocity.tools.ToolManager.&lt;init&gt;(ToolManager.java:54)\r\n    \tat games.jwrestling.core.annotation.processor.CardAnnotationProcessor.process(CardAnnotationProcessor.java:116)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:793)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:722)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1700(JavacProcessingEnvironment.java:97)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1029)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1163)\r\n    \tat com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1108)\r\n    \tat com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)\r\n    \tat com.sun.tools.javac.main.Main.compile(Main.java:439)\r\n    \tat com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)\r\n    \tat org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.executeWithExceptionsHandled(AbstractAnnotationProcessorMojo.java:424)\r\n    \tat org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.execute(AbstractAnnotationProcessorMojo.java:250)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n    Caused by: org.xml.sax.SAXParseException; lineNumber: 23; columnNumber: 58; Error at line 23 char 58: org.apache.velocity.tools.config.Data\r\n    \tat org.apache.commons.digester.Digester.createSAXException(Digester.java:3181)\r\n    \tat org.apache.commons.digester.Digester.createSAXException(Digester.java:3207)\r\n    \tat org.apache.commons.digester.Digester.startElement(Digester.java:1456)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:506)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:182)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1303)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2717)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:489)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)\r\n    \tat org.apache.commons.digester.Digester.parse(Digester.java:1765)\r\n    \tat org.apache.velocity.tools.config.XmlFactoryConfiguration.read(XmlFactoryConfiguration.java:128)\r\n    \t... 43 more\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.velocity.tools.config.Data\r\n    \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)\r\n    \tat org.apache.commons.digester.ObjectCreateRule.begin(ObjectCreateRule.java:205)\r\n    \tat org.apache.commons.digester.Rule.begin(Rule.java:175)\r\n    \tat org.apache.commons.digester.Digester.startElement(Digester.java:1453)\r\n    \t... 56 more\r\n\r\nI thought it was a dependency issue but the dependencies are there as follows:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n                &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n                &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\norg.apache.velocity.tools.config.Data is included in the velocity-tools jar.\r\n\r\nYou can find the code [here][2] (commented on the repo).\r\n\r\nSource can be checked out from https://javydreamercsw@bitbucket.org/javydreamercsw/jwrestling if interested.\r\n\r\nAny help is more than welcomed!\r\n\r\n\r\n  [1]: http://velocity.apache.org/tools/devel/generic/EscapeTool.html\r\n  [2]: https://bitbucket.org/javydreamercsw/jwrestling/src/a194c01c12d06da1abd46df8134585e6e57a00ba/AnnotationProcessor/src/main/java/games/jwrestling/core/annotation/processor/CardAnnotationProcessor.java?at=default\r\n\r\n**Update:**\r\nHere are the contents of velocity-tools.xml, a copy of the one found within the velocity-tool jar:\r\n\r\n    &lt;tools&gt; \r\n        &lt;data type=&quot;number&quot; key=&quot;TOOLS_VERSION&quot; value=&quot;2.0&quot;/&gt;\r\n        &lt;data type=&quot;boolean&quot; key=&quot;GENERIC_TOOLS_AVAILABLE&quot; value=&quot;true&quot;/&gt;\r\n        &lt;toolbox scope=&quot;application&quot;&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.AlternatorTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.DisplayTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.MathTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.NumberTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ComparisonDateTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ClassTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ConversionTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.EscapeTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.FieldTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ListTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ResourceTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.SortTool&quot;/&gt;\r\n        &lt;/toolbox&gt;\r\n        &lt;toolbox scope=&quot;request&quot;&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.LoopTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ContextTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.LinkTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.RenderTool&quot;/&gt;\r\n        &lt;/toolbox&gt;\r\n    &lt;/tools&gt;\r\n\r\n","title":"Velocity EscapeTool from Java","body":"<p>I'm having issues using the Velocity Escape tool on my Annotation processor. First of all, I got the Annotation processor working fine with velocity alone so I know the set up is correct. I started having issues with my created sources when using strings with scape characters. So I went on the internet and found about <a href=\"http://velocity.apache.org/tools/devel/generic/EscapeTool.html\" rel=\"nofollow\">EscapeTool</a> for Velocity. Lets just say that the documentation is not pretty good about configuration.</p>\n\n<p>I was able to find some code, don't remember where, to get me started:</p>\n\n<pre><code>ToolManager velocityToolManager = new ToolManager();\nvelocityToolManager.configure(\"velocity-tools.xml\");\nVelocityContext vc =\n           new VelocityContext(velocityToolManager.createContext());\n</code></pre>\n\n<p>But I'm getting the following error during the configuration part:</p>\n\n<pre><code>java.lang.RuntimeException: There was an error while parsing the InputStream\n    at org.apache.velocity.tools.config.XmlFactoryConfiguration.read(XmlFactoryConfiguration.java:132)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:140)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:116)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:91)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:69)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:59)\n    at org.apache.velocity.tools.config.ConfigurationUtils.getDefaultTools(ConfigurationUtils.java:79)\n    at org.apache.velocity.tools.config.ConfigurationUtils.getAutoLoaded(ConfigurationUtils.java:176)\n    at org.apache.velocity.tools.ToolManager.autoConfigure(ToolManager.java:74)\n    at org.apache.velocity.tools.ToolManager.&lt;init&gt;(ToolManager.java:68)\n    at org.apache.velocity.tools.ToolManager.&lt;init&gt;(ToolManager.java:54)\n    at games.jwrestling.core.annotation.processor.CardAnnotationProcessor.process(CardAnnotationProcessor.java:116)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:793)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:722)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1700(JavacProcessingEnvironment.java:97)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1029)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1163)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1108)\n    at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)\n    at com.sun.tools.javac.main.Main.compile(Main.java:439)\n    at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.executeWithExceptionsHandled(AbstractAnnotationProcessorMojo.java:424)\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.execute(AbstractAnnotationProcessorMojo.java:250)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\nCaused by: org.xml.sax.SAXParseException; lineNumber: 23; columnNumber: 58; Error at line 23 char 58: org.apache.velocity.tools.config.Data\n    at org.apache.commons.digester.Digester.createSAXException(Digester.java:3181)\n    at org.apache.commons.digester.Digester.createSAXException(Digester.java:3207)\n    at org.apache.commons.digester.Digester.startElement(Digester.java:1456)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:506)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:182)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1303)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2717)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:489)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)\n    at org.apache.commons.digester.Digester.parse(Digester.java:1765)\n    at org.apache.velocity.tools.config.XmlFactoryConfiguration.read(XmlFactoryConfiguration.java:128)\n    ... 43 more\nCaused by: java.lang.ClassNotFoundException: org.apache.velocity.tools.config.Data\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)\n    at org.apache.commons.digester.ObjectCreateRule.begin(ObjectCreateRule.java:205)\n    at org.apache.commons.digester.Rule.begin(Rule.java:175)\n    at org.apache.commons.digester.Digester.startElement(Digester.java:1453)\n    ... 56 more\n</code></pre>\n\n<p>I thought it was a dependency issue but the dependencies are there as follows:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>org.apache.velocity.tools.config.Data is included in the velocity-tools jar.</p>\n\n<p>You can find the code <a href=\"https://bitbucket.org/javydreamercsw/jwrestling/src/a194c01c12d06da1abd46df8134585e6e57a00ba/AnnotationProcessor/src/main/java/games/jwrestling/core/annotation/processor/CardAnnotationProcessor.java?at=default\" rel=\"nofollow\">here</a> (commented on the repo).</p>\n\n<p>Source can be checked out from <a href=\"https://javydreamercsw@bitbucket.org/javydreamercsw/jwrestling\" rel=\"nofollow\">https://javydreamercsw@bitbucket.org/javydreamercsw/jwrestling</a> if interested.</p>\n\n<p>Any help is more than welcomed!</p>\n\n<p><strong>Update:</strong>\nHere are the contents of velocity-tools.xml, a copy of the one found within the velocity-tool jar:</p>\n\n<pre><code>&lt;tools&gt; \n    &lt;data type=\"number\" key=\"TOOLS_VERSION\" value=\"2.0\"/&gt;\n    &lt;data type=\"boolean\" key=\"GENERIC_TOOLS_AVAILABLE\" value=\"true\"/&gt;\n    &lt;toolbox scope=\"application\"&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.AlternatorTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.DisplayTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.MathTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.NumberTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ComparisonDateTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ClassTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ConversionTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.EscapeTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.FieldTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ListTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ResourceTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.SortTool\"/&gt;\n    &lt;/toolbox&gt;\n    &lt;toolbox scope=\"request\"&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.LoopTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ContextTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.LinkTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.RenderTool\"/&gt;\n    &lt;/toolbox&gt;\n&lt;/tools&gt;\n</code></pre>\n"},{"tags":["java","elasticsearch","client","elasticsearch-java-api"],"answers":[{"comments":[{"owner":{"account_id":6919968,"reputation":63,"user_id":5312939,"display_name":"Wolverine"},"score":1,"creation_date":1508735204,"post_id":46851518,"comment_id":80711728,"body_markdown":"If i am connecting to node-1(localhost, 9300) but some how this ES node goes down and there 2 nodes still running on port [(localhost, 9301) and (localhost, 9302) . all nodes are in single cluster then my transport client will automatically get connected to one of node which is running on (9301 OR 9302)  ??","body":"If i am connecting to node-1(localhost, 9300) but some how this ES node goes down and there 2 nodes still running on port [(localhost, 9301) and (localhost, 9302) . all nodes are in single cluster then my transport client will automatically get connected to one of node which is running on (9301 OR 9302)  ??"},{"owner":{"account_id":298482,"reputation":1844,"user_id":604530,"display_name":"pkhlop"},"score":0,"creation_date":1508778559,"post_id":46851518,"comment_id":80736843,"body_markdown":"each elasticsearch node uses at least 2 ports (transport.tcp.port: 9300\nhttp.port: 9200 by default)\nMake sure you override both of them if you starting several nodes on same server","body":"each elasticsearch node uses at least 2 ports (transport.tcp.port: 9300 http.port: 9200 by default) Make sure you override both of them if you starting several nodes on same server"},{"owner":{"account_id":6919968,"reputation":63,"user_id":5312939,"display_name":"Wolverine"},"score":2,"creation_date":1508828491,"post_id":46851518,"comment_id":80754840,"body_markdown":"Agreed elasticsearch uses 2 ports for each 1 for tcp and 1 for http, but still I am not clear about my question\n\t\n**If i am connecting to node-1(localhost, 9300) but some how this ES node goes down and there 2 nodes still running on port [(localhost, 9301) and (localhost, 9302) . all nodes are in single cluster then my transport client will automatically get connected to one of node which is running on (9301 OR 9302) ??**","body":"Agreed elasticsearch uses 2 ports for each 1 for tcp and 1 for http, but still I am not clear about my question \t <b>If i am connecting to node-1(localhost, 9300) but some how this ES node goes down and there 2 nodes still running on port [(localhost, 9301) and (localhost, 9302) . all nodes are in single cluster then my transport client will automatically get connected to one of node which is running on (9301 OR 9302) ??</b>"},{"owner":{"account_id":298482,"reputation":1844,"user_id":604530,"display_name":"pkhlop"},"score":0,"creation_date":1508859550,"post_id":46851518,"comment_id":80776413,"body_markdown":"I am afraid you are using ports which already taken. By default elasticsearch listen to port 9200 for http request and port 9300 for nodes coordination. You can not run 2 nodes on same server listening to port 9300. you have to override 9200 and 9300 ports. Will add instructions to my answer.","body":"I am afraid you are using ports which already taken. By default elasticsearch listen to port 9200 for http request and port 9300 for nodes coordination. You can not run 2 nodes on same server listening to port 9300. you have to override 9200 and 9300 ports. Will add instructions to my answer."},{"owner":{"account_id":6919968,"reputation":63,"user_id":5312939,"display_name":"Wolverine"},"score":2,"creation_date":1508991541,"post_id":46851518,"comment_id":80838704,"body_markdown":"I think there is some confusion, let me explain it one more time.\nI am having three physical server in same domain, consider 10.0.0.1, 10.0.0.2 and 10.0.0.3. on each each server elasticsearch is running with port.\non server 10.0.0.1(ES :- tcp port=9300, http port=9200)\non server 10.0.0.2(ES :- tcp port=9300, http port=9200)\non server 10.0.0.3(ES :- tcp port=9300, http port=9200)\nall three ES nodes are in cluster.\nthrough java client i am connecting to server 10.0.0.1(ES :- tcp port=9300, http port=9200) using transport client like this","body":"I think there is some confusion, let me explain it one more time. I am having three physical server in same domain, consider 10.0.0.1, 10.0.0.2 and 10.0.0.3. on each each server elasticsearch is running with port. on server 10.0.0.1(ES :- tcp port=9300, http port=9200) on server 10.0.0.2(ES :- tcp port=9300, http port=9200) on server 10.0.0.3(ES :- tcp port=9300, http port=9200) all three ES nodes are in cluster. through java client i am connecting to server 10.0.0.1(ES :- tcp port=9300, http port=9200) using transport client like this"}],"tags":[],"owner":{"account_id":298482,"reputation":1844,"user_id":604530,"display_name":"pkhlop"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508859933,"creation_date":1508510362,"answer_id":46851518,"question_id":46844012,"body_markdown":"If all three nodes are in a single cluster, you may communicate only with one of them. They will do all necessary communications behind the scene.\r\n\r\nYou can also setup cluster to have loadbalancer node without data and always connect to this node. more details [here](https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-node.html)\r\n\r\nUpdate:\r\n\r\nLet say you want to run 3 nodes of the same cluster on the same server:\r\nnode1.local node2.local node3.local\r\n\r\nConfig files will look like this\r\n\r\nnode1.local\r\n\r\n    cluster.name: BillyMiligan\r\n    node.name: &quot;node1.local&quot;\r\n    network.host: &quot;localhost&quot;\r\n    transport.tcp.port: 9301\r\n    http.port: 9201\r\n    discovery.zen.ping.unicast.hosts: [&quot;node1.local:9301&quot;, &quot;node2.local:9302&quot;, &quot;node3.local:9303&quot;]\r\n    discovery.zen.minimum_master_nodes: 2\r\n\r\nnode2.local\r\n\r\n    cluster.name: BillyMiligan\r\n    node.name: &quot;node2.local&quot;\r\n    network.host: &quot;localhost&quot;\r\n    transport.tcp.port: 9302\r\n    http.port: 9202\r\n    discovery.zen.ping.unicast.hosts: [&quot;node1.local:9301&quot;, &quot;node2.local:9302&quot;, &quot;node3.local:9303&quot;]\r\n    discovery.zen.minimum_master_nodes: 2\r\n\r\nnode3.local\r\n\r\n    cluster.name: BillyMiligan\r\n    node.name: &quot;node3.local&quot;\r\n    network.host: &quot;localhost&quot;\r\n    transport.tcp.port: 9303\r\n    http.port: 9203\r\n    discovery.zen.ping.unicast.hosts: [&quot;node1.local:9301&quot;, &quot;node2.local:9302&quot;, &quot;node3.local:9303&quot;]\r\n    discovery.zen.minimum_master_nodes: 2\r\n\r\n\r\n\r\n","title":"Elasticsearch cluster connection","body":"<p>If all three nodes are in a single cluster, you may communicate only with one of them. They will do all necessary communications behind the scene.</p>\n\n<p>You can also setup cluster to have loadbalancer node without data and always connect to this node. more details <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-node.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Update:</p>\n\n<p>Let say you want to run 3 nodes of the same cluster on the same server:\nnode1.local node2.local node3.local</p>\n\n<p>Config files will look like this</p>\n\n<p>node1.local</p>\n\n<pre><code>cluster.name: BillyMiligan\nnode.name: \"node1.local\"\nnetwork.host: \"localhost\"\ntransport.tcp.port: 9301\nhttp.port: 9201\ndiscovery.zen.ping.unicast.hosts: [\"node1.local:9301\", \"node2.local:9302\", \"node3.local:9303\"]\ndiscovery.zen.minimum_master_nodes: 2\n</code></pre>\n\n<p>node2.local</p>\n\n<pre><code>cluster.name: BillyMiligan\nnode.name: \"node2.local\"\nnetwork.host: \"localhost\"\ntransport.tcp.port: 9302\nhttp.port: 9202\ndiscovery.zen.ping.unicast.hosts: [\"node1.local:9301\", \"node2.local:9302\", \"node3.local:9303\"]\ndiscovery.zen.minimum_master_nodes: 2\n</code></pre>\n\n<p>node3.local</p>\n\n<pre><code>cluster.name: BillyMiligan\nnode.name: \"node3.local\"\nnetwork.host: \"localhost\"\ntransport.tcp.port: 9303\nhttp.port: 9203\ndiscovery.zen.ping.unicast.hosts: [\"node1.local:9301\", \"node2.local:9302\", \"node3.local:9303\"]\ndiscovery.zen.minimum_master_nodes: 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680494148,"creation_date":1680494148,"answer_id":75915930,"question_id":46844012,"body_markdown":"why not config a FQDN for these nodes, like:\r\n```\r\nupstream elasticsearch_cluster {\r\n    server 192.168.0.1:9200;\r\n    server 192.168.0.2:9200;\r\n    server 192.168.0.3:9200;\r\n    server 192.168.0.4:9200;\r\n    server 192.168.0.5:9200;\r\n    server 192.168.0.6:9200;\r\n}\r\n\r\nserver {\r\n    listen 80;\r\n    server_name elasticsearch.example.com;\r\n\r\n    location / {\r\n        proxy_pass http://elasticsearch_cluster;\r\n    }\r\n}\r\n```\r\n\r\nThen use `elasticsearch.example.com` to connect to all nodes.","title":"Elasticsearch cluster connection","body":"<p>why not config a FQDN for these nodes, like:</p>\n<pre><code>upstream elasticsearch_cluster {\n    server 192.168.0.1:9200;\n    server 192.168.0.2:9200;\n    server 192.168.0.3:9200;\n    server 192.168.0.4:9200;\n    server 192.168.0.5:9200;\n    server 192.168.0.6:9200;\n}\n\nserver {\n    listen 80;\n    server_name elasticsearch.example.com;\n\n    location / {\n        proxy_pass http://elasticsearch_cluster;\n    }\n}\n</code></pre>\n<p>Then use <code>elasticsearch.example.com</code> to connect to all nodes.</p>\n"}],"owner":{"account_id":6919968,"reputation":63,"user_id":5312939,"display_name":"Wolverine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1512,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1680494148,"creation_date":1508483403,"question_id":46844012,"body_markdown":"It might be a dumb question but i was unable to find answer.\r\nIf I am having 3 nodes in my cluster so do need to provide the IP and Port of each node while creating transport client so that i can communicate with each node??\r\n\r\n    new PreBuiltTransportClient(settings, AuthenticationPlugin.class).addTransportAddress(new InetSocketTransportAddress(InetAddress.getByName(&quot;localhost&quot;),\r\n                            Integer.parseInt(&quot;9300&quot;)))\r\n                            .addTransportAddress(new InetSocketTransportAddress(InetAddress.getByName(&quot;localhost&quot;),\r\n                            Integer.parseInt(&quot;9301&quot;)))\r\n    InetSocketTransportAddress(InetAddress.getByName(&quot;localhost&quot;),\r\n                            Integer.parseInt(&quot;9302&quot;)));;\r\n\r\nIs there any way where i don&#39;t need to provide IP and Port of each node ??\r\nPlease help","title":"Elasticsearch cluster connection","body":"<p>It might be a dumb question but i was unable to find answer.\nIf I am having 3 nodes in my cluster so do need to provide the IP and Port of each node while creating transport client so that i can communicate with each node??</p>\n\n<pre><code>new PreBuiltTransportClient(settings, AuthenticationPlugin.class).addTransportAddress(new InetSocketTransportAddress(InetAddress.getByName(\"localhost\"),\n                        Integer.parseInt(\"9300\")))\n                        .addTransportAddress(new InetSocketTransportAddress(InetAddress.getByName(\"localhost\"),\n                        Integer.parseInt(\"9301\")))\nInetSocketTransportAddress(InetAddress.getByName(\"localhost\"),\n                        Integer.parseInt(\"9302\")));;\n</code></pre>\n\n<p>Is there any way where i don't need to provide IP and Port of each node ??\nPlease help</p>\n"},{"tags":["java","spring-boot","rest","jpa","foreign-keys"],"comments":[{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":0,"creation_date":1623080486,"post_id":67871757,"comment_id":119970934,"body_markdown":"Add more details... &quot;first POST request is executed it will return the expected output&quot; - what request, the controller method return type is void... What database are you using...","body":"Add more details... &quot;first POST request is executed it will return the expected output&quot; - what request, the controller method return type is void... What database are you using..."}],"answers":[{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623143854,"creation_date":1623143854,"answer_id":67884818,"question_id":67871757,"body_markdown":"You&#39;re probably getting this behavior because of JsonIdentityInfo, so it&#39;s a serialization problem you have not a persistence one. I&#39;m assuming you&#39;re using a relational database (Hibernate for NoSql has Jpa like annotations but then that would make this a different problem) and that data is being persisted correctly.\r\n\r\nSee [the javadocs](https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIdentityInfo.html):\r\n\r\n&gt; In practice this is done by serializing the first instance as full object and object identity, and other references to the object as reference values","title":"Spring boot JPA - bidirectional relationsship: returns foreign key instead of the related object","body":"<p>You're probably getting this behavior because of JsonIdentityInfo, so it's a serialization problem you have not a persistence one. I'm assuming you're using a relational database (Hibernate for NoSql has Jpa like annotations but then that would make this a different problem) and that data is being persisted correctly.</p>\n<p>See <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIdentityInfo.html\" rel=\"nofollow noreferrer\">the javadocs</a>:</p>\n<blockquote>\n<p>In practice this is done by serializing the first instance as full object and object identity, and other references to the object as reference values</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":28173156,"reputation":1,"user_id":21531361,"display_name":"AyooB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680494059,"creation_date":1680494059,"answer_id":75915923,"question_id":67871757,"body_markdown":"Just remove the @JsonIdentityInfo ","title":"Spring boot JPA - bidirectional relationsship: returns foreign key instead of the related object","body":"<p>Just remove the @JsonIdentityInfo</p>\n"}],"owner":{"account_id":14696647,"reputation":780,"user_id":10613856,"display_name":"Delice"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680494059,"creation_date":1623069470,"question_id":67871757,"body_markdown":"I have two entities: **Customer** and **Address**.\r\n\r\nIt is a ***bidirectional relationsship*** - one address can have many customers (oneToMany) and one customer can only have one address (manyToOne).\r\n\r\nExecuting GET request for customers returns:\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Foo&quot;,\r\n        &quot;contact&quot;: &quot;5512312&quot;,\r\n        &quot;email&quot;: &quot;Foo@gmail.com&quot;,\r\n        &quot;address&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;street&quot;: &quot;X&quot;,\r\n            &quot;postalCode&quot;: 123,\r\n            &quot;houseNo&quot;: &quot;10&quot;,\r\n            &quot;city&quot;: &quot;New York&quot;\r\n        }\r\n    }\r\n]\r\n```\r\n\r\nWhen a new customer, with the exact same address properties as the one exists in DB - is being added with POST request, the json response returns the foreign key related to the existing object in DB instead of the object itself:\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Foo&quot;,\r\n        &quot;contact&quot;: &quot;5512312&quot;,\r\n        &quot;email&quot;: &quot;Foo@gmail.com&quot;,\r\n        &quot;address&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;street&quot;: &quot;X&quot;,\r\n            &quot;postalCode&quot;: 123,\r\n            &quot;houseNo&quot;: &quot;10&quot;,\r\n            &quot;city&quot;: &quot;New York&quot;\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;Bar&quot;,\r\n        &quot;contact&quot;: &quot;5512312&quot;,\r\n        &quot;email&quot;: &quot;Bar@gmail.com&quot;,\r\n        &quot;address&quot;: 1 &lt;----------- it returns the foreign key instead of the object\r\n    }\r\n]\r\n```\r\n\r\nSo what I **expect** is that whenever a new customer, that has an address that *already exists* in the DB, is being added - it should return the *address object* instead of the foreign key from the json response.\r\n\r\nCode:\r\n\r\n**Customer.java**\r\n```java\r\n@JsonIdentityInfo(\r\n        generator = ObjectIdGenerators.PropertyGenerator.class,\r\n        property = &quot;id&quot;)\r\n@Entity\r\n@Table\r\npublic class Customer {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;customer_sequence&quot;,\r\n            sequenceName = &quot;customer_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;customer_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String name;\r\n    private String contact;\r\n    private String email;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;address_id&quot;, nullable = false)\r\n    private Address address;\r\n    [...]\r\n\r\n```\r\n\r\n**Address.java**\r\n```java\r\n@JsonIdentityInfo(\r\n        generator = ObjectIdGenerators.PropertyGenerator.class,\r\n        property = &quot;id&quot;)\r\n@Entity\r\n@Table\r\npublic class Address {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;address_sequence&quot;,\r\n            sequenceName = &quot;address_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;address_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String street;\r\n    private int postalCode;\r\n    private String houseNo;\r\n    private String city;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;address&quot;)\r\n    private Set&lt;Customer&gt; customers;\r\n    [...]\r\n```\r\n\r\n**CustomerController.java**\r\n```java\r\n//...\r\n@PostMapping\r\n    public void createCustomer(@RequestBody Customer customer) {\r\n        customerService.createCustomer(customer);\r\n    }\r\n\r\n[...]\r\n```\r\n\r\nAnd the ***service*** that saves the customer to the DB which also makes sure that no address is being created if already exists in database (it checks on every property to be equal from the param):\r\n\r\n```java\r\n//...\r\npublic void createCustomer(Customer customer) {\r\n        Optional&lt;Customer&gt; customerWithExistingAddress = customerRepository.findAll()\r\n                .stream()\r\n                .filter(x -&gt; x.getAddress().equals(customer.getAddress()))\r\n                .findFirst();\r\n\r\n        customerWithExistingAddress.ifPresent(c -&gt; customer.setAddress(c.getAddress()));\r\n\r\n        customerRepository.save(customer);\r\n    }\r\n\r\n[...]\r\n\r\n```","title":"Spring boot JPA - bidirectional relationsship: returns foreign key instead of the related object","body":"<p>I have two entities: <strong>Customer</strong> and <strong>Address</strong>.</p>\n<p>It is a <em><strong>bidirectional relationsship</strong></em> - one address can have many customers (oneToMany) and one customer can only have one address (manyToOne).</p>\n<p>Executing GET request for customers returns:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Foo&quot;,\n        &quot;contact&quot;: &quot;5512312&quot;,\n        &quot;email&quot;: &quot;Foo@gmail.com&quot;,\n        &quot;address&quot;: {\n            &quot;id&quot;: 1,\n            &quot;street&quot;: &quot;X&quot;,\n            &quot;postalCode&quot;: 123,\n            &quot;houseNo&quot;: &quot;10&quot;,\n            &quot;city&quot;: &quot;New York&quot;\n        }\n    }\n]\n</code></pre>\n<p>When a new customer, with the exact same address properties as the one exists in DB - is being added with POST request, the json response returns the foreign key related to the existing object in DB instead of the object itself:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Foo&quot;,\n        &quot;contact&quot;: &quot;5512312&quot;,\n        &quot;email&quot;: &quot;Foo@gmail.com&quot;,\n        &quot;address&quot;: {\n            &quot;id&quot;: 1,\n            &quot;street&quot;: &quot;X&quot;,\n            &quot;postalCode&quot;: 123,\n            &quot;houseNo&quot;: &quot;10&quot;,\n            &quot;city&quot;: &quot;New York&quot;\n        }\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Bar&quot;,\n        &quot;contact&quot;: &quot;5512312&quot;,\n        &quot;email&quot;: &quot;Bar@gmail.com&quot;,\n        &quot;address&quot;: 1 &lt;----------- it returns the foreign key instead of the object\n    }\n]\n</code></pre>\n<p>So what I <strong>expect</strong> is that whenever a new customer, that has an address that <em>already exists</em> in the DB, is being added - it should return the <em>address object</em> instead of the foreign key from the json response.</p>\n<p>Code:</p>\n<p><strong>Customer.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;)\n@Entity\n@Table\npublic class Customer {\n    @Id\n    @SequenceGenerator(\n            name = &quot;customer_sequence&quot;,\n            sequenceName = &quot;customer_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;customer_sequence&quot;\n    )\n    private Long id;\n    private String name;\n    private String contact;\n    private String email;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;address_id&quot;, nullable = false)\n    private Address address;\n    [...]\n\n</code></pre>\n<p><strong>Address.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;)\n@Entity\n@Table\npublic class Address {\n    @Id\n    @SequenceGenerator(\n            name = &quot;address_sequence&quot;,\n            sequenceName = &quot;address_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;address_sequence&quot;\n    )\n    private Long id;\n    private String street;\n    private int postalCode;\n    private String houseNo;\n    private String city;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;address&quot;)\n    private Set&lt;Customer&gt; customers;\n    [...]\n</code></pre>\n<p><strong>CustomerController.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\n@PostMapping\n    public void createCustomer(@RequestBody Customer customer) {\n        customerService.createCustomer(customer);\n    }\n\n[...]\n</code></pre>\n<p>And the <em><strong>service</strong></em> that saves the customer to the DB which also makes sure that no address is being created if already exists in database (it checks on every property to be equal from the param):</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\npublic void createCustomer(Customer customer) {\n        Optional&lt;Customer&gt; customerWithExistingAddress = customerRepository.findAll()\n                .stream()\n                .filter(x -&gt; x.getAddress().equals(customer.getAddress()))\n                .findFirst();\n\n        customerWithExistingAddress.ifPresent(c -&gt; customer.setAddress(c.getAddress()));\n\n        customerRepository.save(customer);\n    }\n\n[...]\n\n</code></pre>\n"},{"tags":["java","xml","dom","nodes","digital-signature"],"owner":{"account_id":16795391,"reputation":57,"user_id":12141953,"display_name":"Enjo A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680492713,"creation_date":1680490605,"question_id":75915757,"body_markdown":"I want to generate digital signature but were told that i need to canonicalize first the SignedInfo node before generation. I am stuck on how to canonicalize the node first and would like to know if it is possible based on below codes:\r\n\r\n```      \r\n            byte [] xmlstringbytes=null;\r\n            xmlstringbytes= XMLStringWithNoSignature.getBytes(&quot;UTF-8&quot;);\r\n            final List&lt;Object&gt; listkey= new LinkedList&lt;Object&gt; ();\r\n            XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n           //digest\r\n\t\t\tDigestMethod digestMethodObj = fac.newDigestMethod(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;, null);\r\n           //canon\r\n\t\t\tCanonicalizationMethod canonicalizationMethod = fac.newCanonicalizationMethod(&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;, (C14NMethodParameterSpec) null);\r\n            //signature\r\n\t\t\tSignatureMethod signatureMethodObj = fac.newSignatureMethod(&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;, null);\r\n\t\t\t\r\n            //transform\r\n            Transform transform1 = fac.newTransform(&quot;http://www.w3.org/2000/09/xmldsig#enveloped- \r\n            signature&quot;, (TransformParameterSpec) null);\r\n\r\n\t\t\tTransform transform2 = fac.newTransform(&quot;http://www.w3.org/2006/12/xml-c14n11&quot;, (TransformParameterSpec) null);\r\n\r\n\t\t\tList&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\r\n\t\t\ttransformList.add(transform1);\r\n\t\t\ttransformList.add(transform2);\r\n\r\n            //reference\r\n\t\t\tReference ref = (Reference) fac.newReference(&quot;&quot;, digestMethodObj, transformList, null, null);\r\n\t\t\tList&lt;Reference&gt; referenceList = Collections.singletonList(ref);\r\n\r\n            //keyinfo\r\n            final KeyInfo keyInfo = keyInfoFactory.newKeyInfo (listkey);\r\n\r\n           //signedinfo\r\n            SignedInfo signedInfo = fac.newSignedInfo(canonicalizationMethod, signatureMethodObj, \r\n             referenceList);\r\n\r\n\t\t    Document doc = dbf.newDocumentBuilder().parse(new ByteArrayInputStream(xmlstringbytes));\r\n\t\r\n\t\t\tDOMSignContext dsc = new DOMSignContext(Key, doc.getDocumentElement());\r\n\r\n           //generate signature, will need to canonicalize signedInfo first before executing below \r\n             command\r\n\t\t\tXMLSignature xmlSignature = fac.newXMLSignature(signedInfo, keyInfo);\r\n\t\t\txmlSignature.sign(dsc);\r\n\r\n```\r\nThanks in advance for your inputs.\r\n\r\n","title":"How to canonicalize SignedInfo node before generating digital signature?","body":"<p>I want to generate digital signature but were told that i need to canonicalize first the SignedInfo node before generation. I am stuck on how to canonicalize the node first and would like to know if it is possible based on below codes:</p>\n<pre><code>            byte [] xmlstringbytes=null;\n            xmlstringbytes= XMLStringWithNoSignature.getBytes(&quot;UTF-8&quot;);\n            final List&lt;Object&gt; listkey= new LinkedList&lt;Object&gt; ();\n            XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\n           //digest\n            DigestMethod digestMethodObj = fac.newDigestMethod(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;, null);\n           //canon\n            CanonicalizationMethod canonicalizationMethod = fac.newCanonicalizationMethod(&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;, (C14NMethodParameterSpec) null);\n            //signature\n            SignatureMethod signatureMethodObj = fac.newSignatureMethod(&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;, null);\n            \n            //transform\n            Transform transform1 = fac.newTransform(&quot;http://www.w3.org/2000/09/xmldsig#enveloped- \n            signature&quot;, (TransformParameterSpec) null);\n\n            Transform transform2 = fac.newTransform(&quot;http://www.w3.org/2006/12/xml-c14n11&quot;, (TransformParameterSpec) null);\n\n            List&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\n            transformList.add(transform1);\n            transformList.add(transform2);\n\n            //reference\n            Reference ref = (Reference) fac.newReference(&quot;&quot;, digestMethodObj, transformList, null, null);\n            List&lt;Reference&gt; referenceList = Collections.singletonList(ref);\n\n            //keyinfo\n            final KeyInfo keyInfo = keyInfoFactory.newKeyInfo (listkey);\n\n           //signedinfo\n            SignedInfo signedInfo = fac.newSignedInfo(canonicalizationMethod, signatureMethodObj, \n             referenceList);\n\n            Document doc = dbf.newDocumentBuilder().parse(new ByteArrayInputStream(xmlstringbytes));\n    \n            DOMSignContext dsc = new DOMSignContext(Key, doc.getDocumentElement());\n\n           //generate signature, will need to canonicalize signedInfo first before executing below \n             command\n            XMLSignature xmlSignature = fac.newXMLSignature(signedInfo, keyInfo);\n            xmlSignature.sign(dsc);\n\n</code></pre>\n<p>Thanks in advance for your inputs.</p>\n"},{"tags":["java","garbage-collection","heap-memory","g1gc"],"comments":[{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1459469035,"post_id":36345409,"comment_id":60313182,"body_markdown":"I&#39;ve just read through that presentation (it&#39;s quite good really), but I don&#39;t see the same things on slide 55 that you mention in your post. And, it shows an example of eden reducing from 12.5gb to &lt;1gb, which is rather similar to yours. Can you explain in more detail why you expect eden to shrink less than it has?","body":"I&#39;ve just read through that presentation (it&#39;s quite good really), but I don&#39;t see the same things on slide 55 that you mention in your post. And, it shows an example of eden reducing from 12.5gb to &lt;1gb, which is rather similar to yours. Can you explain in more detail why you expect eden to shrink less than it has?"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1459469463,"post_id":36345409,"comment_id":60313313,"body_markdown":"And, maybe consider adding the print-adaptive-size-policy flag.","body":"And, maybe consider adding the print-adaptive-size-policy flag."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1459470692,"post_id":36345409,"comment_id":60313607,"body_markdown":"@EngineerDollery The `PrintAdaptiveSizePolicy` parameter is enabled (added to question). In the presentation, issue #3, it states &quot;Must account for old regions, not only young, Currently G1 shrinks the young generation&quot;. Ideally, I wouldn&#39;t expect the generation to shrink at all. We&#39;ve set our pause goal to 1000ms and collections are much quicker than that. Having to collect twice the garbage (which is already marked) shouldn&#39;t take more than twice the time.","body":"@EngineerDollery The <code>PrintAdaptiveSizePolicy</code> parameter is enabled (added to question). In the presentation, issue #3, it states &quot;Must account for old regions, not only young, Currently G1 shrinks the young generation&quot;. Ideally, I wouldn&#39;t expect the generation to shrink at all. We&#39;ve set our pause goal to 1000ms and collections are much quicker than that. Having to collect twice the garbage (which is already marked) shouldn&#39;t take more than twice the time."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":4,"creation_date":1459487077,"post_id":36345409,"comment_id":60317769,"body_markdown":"you&#39;re putting lots of constraints on G1. are you certain that each parameter is justified as it is right now? And if the new gen shrinking really is the concern, why not set a minimum size for it?","body":"you&#39;re putting lots of constraints on G1. are you certain that each parameter is justified as it is right now? And if the new gen shrinking really is the concern, why not set a minimum size for it?"},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1459521868,"post_id":36345409,"comment_id":60338078,"body_markdown":"@the8472 We can have that discussion in chat (though you&#39;d have to create it, I don&#39;t have enough reputation).","body":"@the8472 We can have that discussion in chat (though you&#39;d have to create it, I don&#39;t have enough reputation)."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1459849466,"post_id":36345409,"comment_id":60459749,"body_markdown":"I agree with the8472. G1GC works well when we did not modify most of the default values except key parameters like pause time goal , region size, GC threds etc. Refer to http://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/ and http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html","body":"I agree with the8472. G1GC works well when we did not modify most of the default values except key parameters like pause time goal , region size, GC threds etc. Refer to <a href=\"http://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/\" title=\"java 7 jdk 7 garbage collection and documentation\">stackoverflow.com/questions/8111310/&hellip;</a> and <a href=\"http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/articles/java/g1gc-1984535.html</a>"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1459850143,"post_id":36345409,"comment_id":60460270,"body_markdown":"Pillar,  respecting maximum pause time goal should be the reason for aggressiveness of algorithm","body":"Pillar,  respecting maximum pause time goal should be the reason for aggressiveness of algorithm"}],"answers":[{"comments":[{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1460279087,"post_id":36428963,"comment_id":60659810,"body_markdown":"So your answer is that it does because it can? That doesn&#39;t satisfy me and you currently haven&#39;t supported it with any documentation. As I&#39;ve shown from the printed GC details, the pause time is already well within the max pause time goal. There&#39;s no reason to resize so much. Resizing so much causes more strain on the application. Currently, this application can generate 10g of garbage in 2-3 seconds. With a new heap of 800m, the JVM will be gc&#39;ing every few hundred milliseconds. This negatively affects throughput.","body":"So your answer is that it does because it can? That doesn&#39;t satisfy me and you currently haven&#39;t supported it with any documentation. As I&#39;ve shown from the printed GC details, the pause time is already well within the max pause time goal. There&#39;s no reason to resize so much. Resizing so much causes more strain on the application. Currently, this application can generate 10g of garbage in 2-3 seconds. With a new heap of 800m, the JVM will be gc&#39;ing every few hundred milliseconds. This negatively affects throughput."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1460280469,"post_id":36428963,"comment_id":60660221,"body_markdown":"From oracle documentation page: The G1 GC has a pause time-target that it tries to meet (soft real time). During young collections, the G1 GC adjusts its young generation (eden and survivor sizes) to meet the soft real-time target. During mixed collections, the G1 GC adjusts the number of old regions that are collected based on a target number of mixed garbage collections, the percentage of live objects in each region of the heap, and the overall acceptable heap waste percentage.","body":"From oracle documentation page: The G1 GC has a pause time-target that it tries to meet (soft real time). During young collections, the G1 GC adjusts its young generation (eden and survivor sizes) to meet the soft real-time target. During mixed collections, the G1 GC adjusts the number of old regions that are collected based on a target number of mixed garbage collections, the percentage of live objects in each region of the heap, and the overall acceptable heap waste percentage."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1460280923,"post_id":36428963,"comment_id":60660356,"body_markdown":"This article and infoq articles are provide proof.","body":"This article and infoq articles are provide proof."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1460306554,"post_id":36428963,"comment_id":60668779,"body_markdown":"My point is that the JVM should have met the pause time target without resizing the young gen. It&#39;s being too aggressive and I want to know why. Your answer doesn&#39;t address that, the _aggressiveness_.","body":"My point is that the JVM should have met the pause time target without resizing the young gen. It&#39;s being too aggressive and I want to know why. Your answer doesn&#39;t address that, the <i>aggressiveness</i>."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1460435283,"post_id":36428963,"comment_id":60727441,"body_markdown":"Young/mixed gc runs with stop the world processor. Keeping it low helps to achieve pause time goal.","body":"Young/mixed gc runs with stop the world processor. Keeping it low helps to achieve pause time goal."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1460436975,"post_id":36428963,"comment_id":60727958,"body_markdown":"Except now, because the young gen is so small (during mixed collections), the JVM is gc&#39;ing almost constantly to try and keep up with the garbage. Because of _that_, the JVM fails to me the `GCTimeRatio`. The JVM was already meeting the pause time goal, there was no reason for it to resize.","body":"Except now, because the young gen is so small (during mixed collections), the JVM is gc&#39;ing almost constantly to try and keep up with the garbage. Because of <i>that</i>, the JVM fails to me the <code>GCTimeRatio</code>. The JVM was already meeting the pause time goal, there was no reason for it to resize."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1460439422,"post_id":36428963,"comment_id":60728758,"body_markdown":"GCTimeRatio and less young gen are not related. What is the failure in your case for GCTimeRatio? you are giving only 1% of time for GC instead of default value of 10%.","body":"GCTimeRatio and less young gen are not related. What is the failure in your case for GCTimeRatio? you are giving only 1% of time for GC instead of default value of 10%."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1460439771,"post_id":36428963,"comment_id":60728883,"body_markdown":"Yeah, I only want 1% GC time. And, under normal circumstances, that&#39;s satisfied. (It&#39;s actually more like 0.6% on average.) But when young gen is resized, GC time increases because the JVM gc&#39;s much more often. If the JVM didn&#39;t resize, both the pause time goal AND the gc time ratio would be satisfied. For some reason, it&#39;s being overly aggressive with resizing  and that ruins the `GCTimeRatio`. IMO it&#39;s not adapting efficiently.","body":"Yeah, I only want 1% GC time. And, under normal circumstances, that&#39;s satisfied. (It&#39;s actually more like 0.6% on average.) But when young gen is resized, GC time increases because the JVM gc&#39;s much more often. If the JVM didn&#39;t resize, both the pause time goal AND the gc time ratio would be satisfied. For some reason, it&#39;s being overly aggressive with resizing  and that ruins the <code>GCTimeRatio</code>. IMO it&#39;s not adapting efficiently."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1460439963,"post_id":36428963,"comment_id":60728958,"body_markdown":"Then try with modifying  -XX:G1NewSizePercent to a high value instead of 5 so that it won&#39;t re-size up to that value ( say 10%-15%). But current algorithm is designed to re-size even in healthy state as per oracle ergonomics page.","body":"Then try with modifying  -XX:G1NewSizePercent to a high value instead of 5 so that it won&#39;t re-size up to that value ( say 10%-15%). But current algorithm is designed to re-size even in healthy state as per oracle ergonomics page."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1460440052,"post_id":36428963,"comment_id":60729009,"body_markdown":"Yes, that&#39;s good advice, and I&#39;ve already done so. My question, which I keep coming back to, is why the current implementation of the collector is being so aggressive. The quote from your latest edit is interesting, but not quite as specific as I want.","body":"Yes, that&#39;s good advice, and I&#39;ve already done so. My question, which I keep coming back to, is why the current implementation of the collector is being so aggressive. The quote from your latest edit is interesting, but not quite as specific as I want."}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":10,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1680492089,"creation_date":1459865727,"answer_id":36428963,"question_id":36345409,"body_markdown":"Young generation can shrink by a factor of 20X. So shrinking by a factory of 10X is not a surprise. \r\n\r\nSince you have not set young gen size explicitly, default value is\r\n\r\n    -XX:G1NewSizePercent=5\r\n\r\nSets the percentage of the heap to use as the minimum for the young generation size.\r\n\r\nSo to respect your pause time goal of \r\n\r\n    -XX:MaxGCPauseMillis=1000 \r\n\r\nthe young gen can shrink up-to 5% of total heap.\r\n\r\nNote: *G1NewSizePercent*, and *G1MaxNewSizePercent* are not to be confused with *NewSize* or *MaxNewSize*. \r\n\r\n*G1NewSizePercent* and *G1MaxNewSizePercent* put a lower and upper bound respectively YoungGen sizing\r\n\r\nOn a different note, you have configured many parameters which may be un-necessary sine G1GC works fine if most of the default parameters have been set to default values. Refer to this SE question for more details.\r\n\r\nhttps://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/34254605#34254605\r\n\r\n**In summary**: *Depending on pause time goal, young gen will shrink. If you are really worried about shrinking of young gen to low value, configure `-XX:G1NewSizePercent`. But I won&#39;t recommend it as long as `-XX:MaxGCPauseMillis` has been met*\r\n","title":"Why does G1GC shrink the young generation before starting mixed collections?","body":"<p>Young generation can shrink by a factor of 20X. So shrinking by a factory of 10X is not a surprise.</p>\n<p>Since you have not set young gen size explicitly, default value is</p>\n<pre><code>-XX:G1NewSizePercent=5\n</code></pre>\n<p>Sets the percentage of the heap to use as the minimum for the young generation size.</p>\n<p>So to respect your pause time goal of</p>\n<pre><code>-XX:MaxGCPauseMillis=1000 \n</code></pre>\n<p>the young gen can shrink up-to 5% of total heap.</p>\n<p>Note: <em>G1NewSizePercent</em>, and <em>G1MaxNewSizePercent</em> are not to be confused with <em>NewSize</em> or <em>MaxNewSize</em>.</p>\n<p><em>G1NewSizePercent</em> and <em>G1MaxNewSizePercent</em> put a lower and upper bound respectively YoungGen sizing</p>\n<p>On a different note, you have configured many parameters which may be un-necessary sine G1GC works fine if most of the default parameters have been set to default values. Refer to this SE question for more details.</p>\n<p><a href=\"https://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/34254605#34254605\">Java 7 (JDK 7) garbage collection and documentation on G1</a></p>\n<p><strong>In summary</strong>: <em>Depending on pause time goal, young gen will shrink. If you are really worried about shrinking of young gen to low value, configure <code>-XX:G1NewSizePercent</code>. But I won't recommend it as long as <code>-XX:MaxGCPauseMillis</code> has been met</em></p>\n"},{"tags":[],"owner":{"account_id":3477725,"reputation":197,"user_id":2910541,"display_name":"rustyfinger"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1551172564,"creation_date":1551172564,"answer_id":54881982,"question_id":36345409,"body_markdown":"With MaxTenuringThreshold=1 you are telling the GC to promoted an object to the Old Generation after surviving only 1 GC cycle. In most of the application this will lead to many premature promotions. If too many objects are promoted too early your Old Gen will grow rapidly thus it has to shrink the Youg Gen to make space for the Old Gen ","title":"Why does G1GC shrink the young generation before starting mixed collections?","body":"<p>With MaxTenuringThreshold=1 you are telling the GC to promoted an object to the Old Generation after surviving only 1 GC cycle. In most of the application this will lead to many premature promotions. If too many objects are promoted too early your Old Gen will grow rapidly thus it has to shrink the Youg Gen to make space for the Old Gen </p>\n"}],"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6833,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":2,"score":15,"last_activity_date":1680492089,"creation_date":1459466044,"question_id":36345409,"body_markdown":"When G1 decides it needs to start doing mixed collections, it aggressively shrinks our Eden space from 10g to about 1g.\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    {Heap before GC invocations=294 (full 0):\r\n     garbage-first heap   total 20480000K, used 18304860K [0x00000002de000000, 0x00000002de804e20, 0x00000007c0000000)\r\n      region size 8192K, 1363 young (11165696K), 11 survivors (90112K)\r\n     Metaspace       used 37327K, capacity 37826K, committed 38096K, reserved 1083392K\r\n      class space    used 3935K, capacity 4081K, committed 4096K, reserved 1048576K\r\n    2016-03-31T20:57:31.002+0000: 7196.427: [GC pause (G1 Evacuation Pause) (young)\r\n    Desired survivor size 717225984 bytes, new threshold 1 (max 1)\r\n    - age   1:   41346816 bytes,   41346816 total\r\n     7196.427: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 144693, predicted base time: 48.88 ms, remaining time: 951.12 ms, target pause time: 1000.00 ms]\r\n     7196.427: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 1352 regions, survivors: 11 regions, predicted young region time: 20.72 ms]\r\n     7196.427: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 1352 regions, survivors: 11 regions, old: 0 regions, predicted pause time: 69.60 ms, target pause time: 1000.00 ms]\r\n     7196.494: [G1Ergonomics (Mixed GCs) start mixed GCs, reason: candidate old regions available, candidate old regions: 789 regions, reclaimable: 4703761904 bytes (22.43 %), threshold: 5.00 %]\r\n    , 0.0673540 secs]\r\n       [Parallel Time: 60.1 ms, GC Workers: 18]\r\n          [GC Worker Start (ms): Min: 7196427.8, Avg: 7196428.1, Max: 7196428.2, Diff: 0.4]\r\n          [Ext Root Scanning (ms): Min: 7.3, Avg: 7.5, Max: 7.7, Diff: 0.4, Sum: 134.2]\r\n          [Update RS (ms): Min: 28.2, Avg: 28.8, Max: 29.9, Diff: 1.7, Sum: 518.4]\r\n             [Processed Buffers: Min: 41, Avg: 57.7, Max: 80, Diff: 39, Sum: 1039]\r\n          [Scan RS (ms): Min: 0.1, Avg: 0.2, Max: 0.5, Diff: 0.4, Sum: 3.7]\r\n          [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n          [Object Copy (ms): Min: 22.1, Avg: 23.1, Max: 23.4, Diff: 1.3, Sum: 416.2]\r\n          [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n             [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 18]\r\n          [GC Worker Other (ms): Min: 0.0, Avg: 0.1, Max: 0.2, Diff: 0.2, Sum: 2.5]\r\n          [GC Worker Total (ms): Min: 59.5, Avg: 59.7, Max: 60.0, Diff: 0.5, Sum: 1075.1]\r\n          [GC Worker End (ms): Min: 7196487.7, Avg: 7196487.8, Max: 7196487.9, Diff: 0.2]\r\n       [Code Root Fixup: 0.2 ms]\r\n       [Code Root Purge: 0.0 ms]\r\n       [Clear CT: 1.9 ms]\r\n       [Other: 5.2 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 0.5 ms]\r\n          [Ref Enq: 0.0 ms]\r\n          [Redirty Cards: 0.5 ms]\r\n          [Humongous Register: 0.2 ms]\r\n          [Humongous Reclaim: 0.1 ms]\r\n          [Free CSet: 2.3 ms]\r\n       [Eden: 10.6G(10.6G)-&gt;0.0B(848.0M) Survivors: 88.0M-&gt;152.0M Heap: 17.5G(19.5G)-&gt;7128.3M(19.5G)]\r\n    Heap after GC invocations=295 (full 0):\r\n     garbage-first heap   total 20480000K, used 7299344K [0x00000002de000000, 0x00000002de804e20, 0x00000007c0000000)\r\n      region size 8192K, 19 young (155648K), 19 survivors (155648K)\r\n     Metaspace       used 37327K, capacity 37826K, committed 38096K, reserved 1083392K\r\n      class space    used 3935K, capacity 4081K, committed 4096K, reserved 1048576K\r\n    }\r\n     [Times: user=1.09 sys=0.00, real=0.07 secs]\r\n    2016-03-31T20:57:31.070+0000: 7196.495: Total time for which application threads were stopped: 0.0699324 seconds, Stopping threads took: 0.0003462 seconds\r\n\r\nThis is after it&#39;s been running with 10-11g of Eden for 60 or more collections.\r\n\r\nHere are the appropriate JVM GC parameters we&#39;re running with\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    -Xms20000m -Xmx20000m\r\n    -XX:+UseG1GC \r\n    -XX:G1RSetUpdatingPauseTimePercent=5 \r\n    -XX:MaxGCPauseMillis=1000 \r\n    -XX:GCTimeRatio=99 \r\n    -XX:InitiatingHeapOccupancyPercent=35 \r\n    -XX:MaxTenuringThreshold=1 \r\n    -XX:G1ConcRefinementThreads=6 \r\n    -XX:ConcGCThreads=18 \r\n    -XX:ParallelGCThreads=18\r\n\r\n    -XX:+PrintGCDetails&quot;\r\n    -XX:+PrintGCDateStamps&quot;\r\n    -XX:+PrintHeapAtGC&quot;\r\n    -XX:+PrintTenuringDistribution&quot;\r\n    -XX:+PrintGCApplicationStoppedTime&quot;\r\n    -XX:+PrintPromotionFailure&quot;\r\n    -XX:+PrintAdaptiveSizePolicy&quot;\r\n\r\nAccording to [page 55 of this presentation][1], it needs to resize Eden so that max pause target accounts for the entire heap, not just to the new generation. Why is the collector being so aggressive? \r\n\r\nAverage young generation pause times are between 50-150ms for a heap size of 10g. If the presentation is correct (I haven&#39;t found anything else to support the statement), I would expect shrinking by half (20g heap), not 10x.\r\n\r\n\r\n  [1]: http://presentations2015.s3.amazonaws.com/40_presentation.pdf","title":"Why does G1GC shrink the young generation before starting mixed collections?","body":"<p>When G1 decides it needs to start doing mixed collections, it aggressively shrinks our Eden space from 10g to about 1g.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>{Heap before GC invocations=294 (full 0):\n garbage-first heap   total 20480000K, used 18304860K [0x00000002de000000, 0x00000002de804e20, 0x00000007c0000000)\n  region size 8192K, 1363 young (11165696K), 11 survivors (90112K)\n Metaspace       used 37327K, capacity 37826K, committed 38096K, reserved 1083392K\n  class space    used 3935K, capacity 4081K, committed 4096K, reserved 1048576K\n2016-03-31T20:57:31.002+0000: 7196.427: [GC pause (G1 Evacuation Pause) (young)\nDesired survivor size 717225984 bytes, new threshold 1 (max 1)\n- age   1:   41346816 bytes,   41346816 total\n 7196.427: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 144693, predicted base time: 48.88 ms, remaining time: 951.12 ms, target pause time: 1000.00 ms]\n 7196.427: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 1352 regions, survivors: 11 regions, predicted young region time: 20.72 ms]\n 7196.427: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 1352 regions, survivors: 11 regions, old: 0 regions, predicted pause time: 69.60 ms, target pause time: 1000.00 ms]\n 7196.494: [G1Ergonomics (Mixed GCs) start mixed GCs, reason: candidate old regions available, candidate old regions: 789 regions, reclaimable: 4703761904 bytes (22.43 %), threshold: 5.00 %]\n, 0.0673540 secs]\n   [Parallel Time: 60.1 ms, GC Workers: 18]\n      [GC Worker Start (ms): Min: 7196427.8, Avg: 7196428.1, Max: 7196428.2, Diff: 0.4]\n      [Ext Root Scanning (ms): Min: 7.3, Avg: 7.5, Max: 7.7, Diff: 0.4, Sum: 134.2]\n      [Update RS (ms): Min: 28.2, Avg: 28.8, Max: 29.9, Diff: 1.7, Sum: 518.4]\n         [Processed Buffers: Min: 41, Avg: 57.7, Max: 80, Diff: 39, Sum: 1039]\n      [Scan RS (ms): Min: 0.1, Avg: 0.2, Max: 0.5, Diff: 0.4, Sum: 3.7]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\n      [Object Copy (ms): Min: 22.1, Avg: 23.1, Max: 23.4, Diff: 1.3, Sum: 416.2]\n      [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\n         [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 18]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.1, Max: 0.2, Diff: 0.2, Sum: 2.5]\n      [GC Worker Total (ms): Min: 59.5, Avg: 59.7, Max: 60.0, Diff: 0.5, Sum: 1075.1]\n      [GC Worker End (ms): Min: 7196487.7, Avg: 7196487.8, Max: 7196487.9, Diff: 0.2]\n   [Code Root Fixup: 0.2 ms]\n   [Code Root Purge: 0.0 ms]\n   [Clear CT: 1.9 ms]\n   [Other: 5.2 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 0.5 ms]\n      [Ref Enq: 0.0 ms]\n      [Redirty Cards: 0.5 ms]\n      [Humongous Register: 0.2 ms]\n      [Humongous Reclaim: 0.1 ms]\n      [Free CSet: 2.3 ms]\n   [Eden: 10.6G(10.6G)-&gt;0.0B(848.0M) Survivors: 88.0M-&gt;152.0M Heap: 17.5G(19.5G)-&gt;7128.3M(19.5G)]\nHeap after GC invocations=295 (full 0):\n garbage-first heap   total 20480000K, used 7299344K [0x00000002de000000, 0x00000002de804e20, 0x00000007c0000000)\n  region size 8192K, 19 young (155648K), 19 survivors (155648K)\n Metaspace       used 37327K, capacity 37826K, committed 38096K, reserved 1083392K\n  class space    used 3935K, capacity 4081K, committed 4096K, reserved 1048576K\n}\n [Times: user=1.09 sys=0.00, real=0.07 secs]\n2016-03-31T20:57:31.070+0000: 7196.495: Total time for which application threads were stopped: 0.0699324 seconds, Stopping threads took: 0.0003462 seconds\n</code></pre>\n\n<p>This is after it's been running with 10-11g of Eden for 60 or more collections.</p>\n\n<p>Here are the appropriate JVM GC parameters we're running with</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-Xms20000m -Xmx20000m\n-XX:+UseG1GC \n-XX:G1RSetUpdatingPauseTimePercent=5 \n-XX:MaxGCPauseMillis=1000 \n-XX:GCTimeRatio=99 \n-XX:InitiatingHeapOccupancyPercent=35 \n-XX:MaxTenuringThreshold=1 \n-XX:G1ConcRefinementThreads=6 \n-XX:ConcGCThreads=18 \n-XX:ParallelGCThreads=18\n\n-XX:+PrintGCDetails\"\n-XX:+PrintGCDateStamps\"\n-XX:+PrintHeapAtGC\"\n-XX:+PrintTenuringDistribution\"\n-XX:+PrintGCApplicationStoppedTime\"\n-XX:+PrintPromotionFailure\"\n-XX:+PrintAdaptiveSizePolicy\"\n</code></pre>\n\n<p>According to <a href=\"http://presentations2015.s3.amazonaws.com/40_presentation.pdf\" rel=\"noreferrer\">page 55 of this presentation</a>, it needs to resize Eden so that max pause target accounts for the entire heap, not just to the new generation. Why is the collector being so aggressive? </p>\n\n<p>Average young generation pause times are between 50-150ms for a heap size of 10g. If the presentation is correct (I haven't found anything else to support the statement), I would expect shrinking by half (20g heap), not 10x.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1680487556,"post_id":75915593,"comment_id":133901724,"body_markdown":"Please edit your question to include the entire error message.","body":"Please edit your question to include the entire error message."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1680487619,"post_id":75915593,"comment_id":133901728,"body_markdown":"Googling &quot;java int max value&quot; shows that an `int` can store any number up to `2147483647`, so `100000` definitely is not too big.","body":"Googling &quot;java int max value&quot; shows that an <code>int</code> can store any number up to <code>2147483647</code>, so <code>100000</code> definitely is not too big."},{"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"score":0,"creation_date":1680488563,"post_id":75915593,"comment_id":133901821,"body_markdown":"When there are thousands of data, I can press enter and get the results. But when there are 100,000 data, I noticed that pressing enter does not end the input.","body":"When there are thousands of data, I can press enter and get the results. But when there are 100,000 data, I noticed that pressing enter does not end the input."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1680488687,"post_id":75915593,"comment_id":133901831,"body_markdown":"That simply means there is a &#39;number&#39; that is either [A] too large for `nextLong()`, or [B] some non-digit in your input. And that input is somewhere deep down into the data. If you are asking: &quot;Is java, a tool used by many millions, randomly broken for no good reason&quot; the answer is virtually always: No. Stop blaming the tools, start taking the messages on face value: There is a non-long in there. Don&#39;t make it more complicated.","body":"That simply means there is a &#39;number&#39; that is either [A] too large for <code>nextLong()</code>, or [B] some non-digit in your input. And that input is somewhere deep down into the data. If you are asking: &quot;Is java, a tool used by many millions, randomly broken for no good reason&quot; the answer is virtually always: No. Stop blaming the tools, start taking the messages on face value: There is a non-long in there. Don&#39;t make it more complicated."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1680488716,"post_id":75915593,"comment_id":133901835,"body_markdown":"If truly this was too much data, you&#39;d get an OutOfMemoryError.","body":"If truly this was too much data, you&#39;d get an OutOfMemoryError."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680488724,"post_id":75915593,"comment_id":133901837,"body_markdown":"As the comment from @Code-Apprentice said,  please edit the question to include the entire error message. Include the stack trace, because that will point to a specific call sequence, showing line numbers. That can be used to point to the line in your code that triggered the exception.","body":"As the comment from @Code-Apprentice said,  please edit the question to include the entire error message. Include the stack trace, because that will point to a specific call sequence, showing line numbers. That can be used to point to the line in your code that triggered the exception."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680488908,"post_id":75915593,"comment_id":133901849,"body_markdown":"By any chance, when you enter `100000` is that exactly what you enter? Or do you enter something like `100,000` ?","body":"By any chance, when you enter <code>100000</code> is that exactly what you enter? Or do you enter something like <code>100,000</code> ?"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1680488943,"post_id":75915593,"comment_id":133901851,"body_markdown":"I recommend [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code. For example, you can add `System.out.println()` calls to print values of variables. This will help you see the values that are ok up until the program crashes on the problem. Then find the last of those values in your input data to figure out what the problem is.","body":"I recommend <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips on debugging your code. For example, you can add <code>System.out.println()</code> calls to print values of variables. This will help you see the values that are ok up until the program crashes on the problem. Then find the last of those values in your input data to figure out what the problem is."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680489341,"post_id":75915593,"comment_id":133901888,"body_markdown":"More likely there is an error in the data, causing your scanner to be unable to process a value as a `long`. Try changing `nextLong()` to `next()` to read 2 `String`  Objects. Use `Long.parseLong (String str)` to get the `long` values. Put the `for` loop block inside a `try` block and add catch `(NumberFormatException ex)` block, where you display the values of `n` and the two input strings.","body":"More likely there is an error in the data, causing your scanner to be unable to process a value as a <code>long</code>. Try changing <code>nextLong()</code> to <code>next()</code> to read 2 <code>String</code>  Objects. Use <code>Long.parseLong (String str)</code> to get the <code>long</code> values. Put the <code>for</code> loop block inside a <code>try</code> block and add catch <code>(NumberFormatException ex)</code> block, where you display the values of <code>n</code> and the two input strings."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680490555,"post_id":75915593,"comment_id":133902018,"body_markdown":"How are you entering 100000 pairs of numbers from stdin (i.e., from the console or System.in) ?","body":"How are you entering 100000 pairs of numbers from stdin (i.e., from the console or System.in) ?"},{"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"score":0,"creation_date":1680490772,"post_id":75915593,"comment_id":133902034,"body_markdown":"@OldDogProgrammer yes，i enter it by System in","body":"@OldDogProgrammer yes，i enter it by System in"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1680490795,"post_id":75915593,"comment_id":133902037,"body_markdown":"You type 200,000 numbers by hand?","body":"You type 200,000 numbers by hand?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680490945,"post_id":75915593,"comment_id":133902057,"body_markdown":"That many data items should be in a file. There&#39;s a good chance of making a typing error. Try using a `Scanner` to wrap something that reads from a file instead of `System.in`.","body":"That many data items should be in a file. There&#39;s a good chance of making a typing error. Try using a <code>Scanner</code> to wrap something that reads from a file instead of <code>System.in</code>."},{"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"score":0,"creation_date":1680492482,"post_id":75915593,"comment_id":133902195,"body_markdown":"@OldDogProgrammer i copy the data","body":"@OldDogProgrammer i copy the data"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680508247,"post_id":75915593,"comment_id":133904192,"body_markdown":"Perhaps you have an odd number of numbers in your input.","body":"Perhaps you have an odd number of numbers in your input."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680537015,"post_id":75915593,"comment_id":133911392,"body_markdown":"Even so, you can make a mistake using copy-and-paste. Try altering the program to read from a file. An alternative is to add the count (100000 or other value) to the top of the file, and have your program process it using stdin redirection.","body":"Even so, you can make a mistake using copy-and-paste. Try altering the program to read from a file. An alternative is to add the count (100000 or other value) to the top of the file, and have your program process it using stdin redirection."},{"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"score":0,"creation_date":1680579585,"post_id":75915593,"comment_id":133918106,"body_markdown":"Thanks to everyone. I knew the reason. If you read a large amount of data into memory at once, it may cause memory overflow, and the program may get stuck in the data reading stage because the operating system cannot allocate enough memory for the program, resulting in program hang or crash. In this case, you can try to use buffered reading or external sorting methods to alleviate memory pressure.","body":"Thanks to everyone. I knew the reason. If you read a large amount of data into memory at once, it may cause memory overflow, and the program may get stuck in the data reading stage because the operating system cannot allocate enough memory for the program, resulting in program hang or crash. In this case, you can try to use buffered reading or external sorting methods to alleviate memory pressure."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680623642,"post_id":75915593,"comment_id":133927919,"body_markdown":"As true as that may be, memory overflow should not cause a `java.util.InputMismatchException`. If it does, you may have uncovered a Java bug. It might be a good idea to report it.","body":"As true as that may be, memory overflow should not cause a <code>java.util.InputMismatchException</code>. If it does, you may have uncovered a Java bug. It might be a good idea to report it."}],"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680490003,"creation_date":1680487460,"question_id":75915593,"body_markdown":"I did not get an error when I input a few thousand data, but when the number of data changed to 100000, I got an error &#39;Exception in thread &quot;main&quot; java.util.InputMismatchException&#39;. I&#39;m not sure if it is a problem with Scanner. Can anyone help me with this issue?&quot;\r\n\r\n```\r\nimport java.math.BigInteger;\r\nimport java.util.*;\r\n\r\nclass Work {\r\n    public long end;\r\n    public long money;\r\n    Work(long end, long money){\r\n        this.end = end;\r\n        this.money = money;\r\n    }\r\n}\r\npublic class TanXin {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int n = scanner.nextInt();\r\n        List&lt;Work&gt; works = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            long end = scanner.nextLong();\r\n            long money = scanner.nextLong();\r\n            works.add(new Work(end ,money));\r\n        }\r\n        Collections.sort(works, new Comparator&lt;Work&gt;() {\r\n            @Override\r\n            public int compare(Work o1, Work o2) {\r\n                return Long.compare(o1.end, o2.end);\r\n            }\r\n        });\r\n        scanner.nextLine();\r\n        long curEnd =  works.get(0).end;\r\n        long money = works.get(0).money;\r\n        BigInteger result = BigInteger.valueOf(0);\r\n        for (int i = 1; i &lt; works.size(); i++) {\r\n            Work work = works.get(i);\r\n            if(work.end == curEnd){\r\n                money = Math.max(money, work.money);\r\n            }\r\n            else {\r\n                result=result.add(BigInteger.valueOf(money));\r\n                money = work.money;\r\n                curEnd = work.end;\r\n            }\r\n        }\r\n        result=result.add(BigInteger.valueOf(money));\r\n        System.out.println(result);\r\n    }\r\n}\r\n\r\n```\r\nmy input is similar to this:\r\n\r\n100000  \r\n801615855 349230664\r\n887145852 256709348\r\n543490607 406712523\r\n290306792 866994656\r\n761434274 614622174\r\n523543132 477488683\r\n416651127 515580101\r\n610336950 152185241\r\n337713494 547698342\r\n6453239 251894056\r\n17161871 278487265\r\n309123183 826630026\r\n22171935 97670396\r\n937046566 551871611\r\n338360787 511206428\r\n234499030 12274630\r\n999066863 377262036\r\n498450141 907352279\r\n699130053 40056368\r\n341503872 598356413\r\n92329093 58969313\r\n839293680 912223354\r\n435852220 370051435\r\n328226392 703616380\r\n84394712 320189993\r\n89139302 692379179\r\n668921100 37915667\r\n750500527 980565603\r\n951214595 443240740\r\n342283327 733767608\r\n674959282 407118651\r\n114057416 595985258\r\n908001458 748864346\r\n406064066 170499053","title":"java scanner exception maybe the data is to big？","body":"<p>I did not get an error when I input a few thousand data, but when the number of data changed to 100000, I got an error 'Exception in thread &quot;main&quot; java.util.InputMismatchException'. I'm not sure if it is a problem with Scanner. Can anyone help me with this issue?&quot;</p>\n<pre><code>import java.math.BigInteger;\nimport java.util.*;\n\nclass Work {\n    public long end;\n    public long money;\n    Work(long end, long money){\n        this.end = end;\n        this.money = money;\n    }\n}\npublic class TanXin {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int n = scanner.nextInt();\n        List&lt;Work&gt; works = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; n; i++) {\n            long end = scanner.nextLong();\n            long money = scanner.nextLong();\n            works.add(new Work(end ,money));\n        }\n        Collections.sort(works, new Comparator&lt;Work&gt;() {\n            @Override\n            public int compare(Work o1, Work o2) {\n                return Long.compare(o1.end, o2.end);\n            }\n        });\n        scanner.nextLine();\n        long curEnd =  works.get(0).end;\n        long money = works.get(0).money;\n        BigInteger result = BigInteger.valueOf(0);\n        for (int i = 1; i &lt; works.size(); i++) {\n            Work work = works.get(i);\n            if(work.end == curEnd){\n                money = Math.max(money, work.money);\n            }\n            else {\n                result=result.add(BigInteger.valueOf(money));\n                money = work.money;\n                curEnd = work.end;\n            }\n        }\n        result=result.add(BigInteger.valueOf(money));\n        System.out.println(result);\n    }\n}\n\n</code></pre>\n<p>my input is similar to this:</p>\n<p>100000<br />\n801615855 349230664\n887145852 256709348\n543490607 406712523\n290306792 866994656\n761434274 614622174\n523543132 477488683\n416651127 515580101\n610336950 152185241\n337713494 547698342\n6453239 251894056\n17161871 278487265\n309123183 826630026\n22171935 97670396\n937046566 551871611\n338360787 511206428\n234499030 12274630\n999066863 377262036\n498450141 907352279\n699130053 40056368\n341503872 598356413\n92329093 58969313\n839293680 912223354\n435852220 370051435\n328226392 703616380\n84394712 320189993\n89139302 692379179\n668921100 37915667\n750500527 980565603\n951214595 443240740\n342283327 733767608\n674959282 407118651\n114057416 595985258\n908001458 748864346\n406064066 170499053</p>\n"},{"tags":["java","methods","get"],"comments":[{"owner":{"account_id":2205293,"reputation":3363,"user_id":4136999,"display_name":"toyota Supra"},"score":0,"creation_date":1680489527,"post_id":75915675,"comment_id":133901910,"body_markdown":"Please post  as a text not screenshot.","body":"Please post  as a text not screenshot."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1680490489,"post_id":75915675,"comment_id":133902012,"body_markdown":"If `Emp1.getMonthly()` returns a number value of some type (not a String) then you should be able to do this.  You do not mention what error you are getting.","body":"If <code>Emp1.getMonthly()</code> returns a number value of some type (not a String) then you should be able to do this.  You do not mention what error you are getting."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680514856,"post_id":75915675,"comment_id":133905628,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26779143,"reputation":1,"user_id":20374276,"display_name":"newbie.programmer25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680489219,"creation_date":1680489219,"question_id":75915675,"body_markdown":"[enter image description here](https://i.stack.imgur.com/W3rQs.png)\r\n\r\nI am trying to get the Yearly salary of an employee with a %10 raise. But i can figure out how to calculate the total since the value of the monthly is in the Get Method\r\n\r\nI tried settting it like this: \r\n\r\nSystem.out.println(&quot;Yearly with %10 raise: &quot; + (Emp1.getMonthly() * .10) * year);","title":"Doing Calculations with Get Methods","body":"<p><a href=\"https://i.stack.imgur.com/W3rQs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am trying to get the Yearly salary of an employee with a %10 raise. But i can figure out how to calculate the total since the value of the monthly is in the Get Method</p>\n<p>I tried settting it like this:</p>\n<p>System.out.println(&quot;Yearly with %10 raise: &quot; + (Emp1.getMonthly() * .10) * year);</p>\n"},{"tags":["java","ruby","visual-studio-code","jruby"],"comments":[{"owner":{"account_id":4672584,"reputation":10125,"user_id":3784008,"display_name":"anothermh"},"score":0,"creation_date":1680554119,"post_id":75915609,"comment_id":133915250,"body_markdown":"Great question! Latest information I&#39;ve been able to find directly is from 9 years ago: https://stackoverflow.com/q/25238874/3784008. Most suggestions elsewhere are to use something other than VSCode which is itself fairly recent. MRI hasn&#39;t really had first-class support in VSCode either until Shopify released https://github.com/Shopify/vscode-shopify-ruby. JRuby is going to be tough to get nailed down in VSCode, I think.","body":"Great question! Latest information I&#39;ve been able to find directly is from 9 years ago: <a href=\"https://stackoverflow.com/q/25238874/3784008\">stackoverflow.com/q/25238874/3784008</a>. Most suggestions elsewhere are to use something other than VSCode which is itself fairly recent. MRI hasn&#39;t really had first-class support in VSCode either until Shopify released <a href=\"https://github.com/Shopify/vscode-shopify-ruby\" rel=\"nofollow noreferrer\">github.com/Shopify/vscode-shopify-ruby</a>. JRuby is going to be tough to get nailed down in VSCode, I think."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1680590728,"post_id":75915609,"comment_id":133919487,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.\n\nPlease see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.  Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":6892061,"reputation":811,"user_id":5295157,"accept_rate":43,"display_name":"shahram kalantari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1680487737,"creation_date":1680487737,"question_id":75915609,"body_markdown":"I have a JRuby app which has a controller, in which I call a method of a Java class. As far as I understood, I need to compile the java code (.java file) into either a .class file or a .jar file to be able to reference it in my controller. I have made it work by compiling the java code into a .class file and calling the java class method from my controller. However, compiling the java code and creating a binary file (.class) prevents me from debugging the java code within the JRuby app. My question is, is there a way to be able to put breakpoints in my java code when running the JRuby app and inspect the values? \r\n\r\nI am new to Java and any help would be appreciated. \r\nP.S. I am using visual studio code as my IDE.\r\n\r\n","title":"Is it possible to debug the java code inside a jruby app, in visual studio code?","body":"<p>I have a JRuby app which has a controller, in which I call a method of a Java class. As far as I understood, I need to compile the java code (.java file) into either a .class file or a .jar file to be able to reference it in my controller. I have made it work by compiling the java code into a .class file and calling the java class method from my controller. However, compiling the java code and creating a binary file (.class) prevents me from debugging the java code within the JRuby app. My question is, is there a way to be able to put breakpoints in my java code when running the JRuby app and inspect the values?</p>\n<p>I am new to Java and any help would be appreciated.\nP.S. I am using visual studio code as my IDE.</p>\n"},{"tags":["java","android","raspberry-pi"],"owner":{"account_id":28198428,"reputation":11,"user_id":21552627,"display_name":"simmytwice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680487246,"creation_date":1680487246,"question_id":75915583,"body_markdown":"There is no connection between Raspberry Pi and the Android application I made.\r\n\r\nI&#39;m building an application that connects to Raspberry Pi 4 with Bluetooth and receives data. However, when attempting to access Raspberry Pi with an application, the pairing lasted only a few seconds, then disconnected again and became unreachable.I installed an essential library on Raspberry Pi, and I even completed registering my Android device. I couldn&#39;t check what the problem was even when I looked at the code. I wonder if the code has changed since the new &quot;permissioncheck&quot; was created in June 2022, so it doesn&#39;t work properly.I want to know why this problem occurs.\r\n\r\n**MainActivity Code**\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final int PERMISSION_REQUEST_COARSE_LOCATION = 1;\r\n    TextView mTvBluetoothStatus;\r\n    TextView mTvReceiveData;\r\n    TextView mTvSendData;\r\n    Button mBtnBluetoothOn;\r\n    Button mBtnBluetoothOff;\r\n    Button mBtnConnect;\r\n    Button mBtnSendData;\r\n\r\n    BluetoothAdapter mBluetoothAdapter;\r\n    Set&lt;BluetoothDevice&gt; mPairedDevices;\r\n    List&lt;String&gt; mListPairedDevices;\r\n\r\n    Handler mBluetoothHandler;\r\n    ConnectedBluetoothThread mThreadConnectedBluetooth;\r\n    BluetoothDevice mBluetoothDevice;\r\n    BluetoothSocket mBluetoothSocket;\r\n\r\n    final static int BT_REQUEST_ENABLE = 1;\r\n    final static int BT_MESSAGE_READ = 2;\r\n    final static int BT_CONNECTING_STATUS = 3;\r\n    private static final int PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION = 1;\r\n    final static UUID BT_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n    private String Tag;\r\n\r\n    @SuppressLint(&quot;HandlerLeak&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTvBluetoothStatus = (TextView) findViewById(R.id.tvBluetoothStatus);\r\n        mTvReceiveData = (TextView) findViewById(R.id.tvReceiveData);\r\n        mTvSendData = (EditText) findViewById(R.id.tvSendData);\r\n        mBtnBluetoothOn = (Button) findViewById(R.id.btnBluetoothOn);\r\n        mBtnBluetoothOff = (Button) findViewById(R.id.btnBluetoothOff);\r\n        mBtnConnect = (Button) findViewById(R.id.btnConnect);\r\n        mBtnSendData = (Button) findViewById(R.id.btnSendData);\r\n\r\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n                builder.setTitle(&quot;Need Bluetooth Access&quot;);\r\n                builder.setMessage(&quot;Need location Access&quot;);\r\n                builder.setPositiveButton(android.R.string.ok, null);\r\n\r\n                builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\r\n\r\n                    @Override\r\n                    public void onDismiss(DialogInterface dialog) {\r\n                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_SCAN}, 2 );\r\n                    }\r\n                });\r\n                builder.show();\r\n            }\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n                builder.setTitle(&quot;Need Bluetooth Access&quot;);\r\n                builder.setMessage(&quot;Need location Access&quot;);\r\n                builder.setPositiveButton(android.R.string.ok, null);\r\n\r\n                builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\r\n\r\n                    @Override\r\n                    public void onDismiss(DialogInterface dialog) {\r\n                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 3 );\r\n                    }\r\n                });\r\n                builder.show();\r\n            }\r\n        }\r\n\r\n\r\n        mBtnBluetoothOn.setOnClickListener(new Button.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                bluetoothOn();\r\n            }\r\n        });\r\n        mBtnBluetoothOff.setOnClickListener(view -&gt; bluetoothOff());\r\n        mBtnConnect.setOnClickListener(view -&gt; listPairedDevices());\r\n        mBtnSendData.setOnClickListener(view -&gt; {\r\n            if (mThreadConnectedBluetooth != null) {\r\n                mThreadConnectedBluetooth.write(mTvSendData.getText().toString());\r\n                mTvSendData.setText(&quot;&quot;);\r\n            }\r\n        });\r\n        mBluetoothHandler = new Handler(Looper.getMainLooper()) {\r\n            public void handleMessage(android.os.Message msg) {\r\n                if (msg.what == BT_MESSAGE_READ) {\r\n                    String readMessage = null;\r\n                    readMessage = new String((byte[]) msg.obj, StandardCharsets.UTF_8);\r\n                    mTvReceiveData.setText(readMessage);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    void bluetoothOn() {\r\n        if (mBluetoothAdapter == null) {\r\n            Toast.makeText(getApplicationContext(), &quot;This device does not support Bluetooth&quot;, Toast.LENGTH_LONG).show();\r\n        } else {\r\n            if (mBluetoothAdapter.isEnabled()) {\r\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth is already enabled&quot;, Toast.LENGTH_LONG).show();\r\n                mTvBluetoothStatus.setText(&quot;Activation&quot;);\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth is not enabled&quot;, Toast.LENGTH_LONG).show();\r\n                Intent intentBluetoothEnable = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    // TODO: Consider calling\r\n                    //    ActivityCompat#requestPermissions\r\n                    // here to request the missing permissions, and then overriding\r\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                    //                                          int[] grantResults)\r\n                    // to handle the case where the user grants the permission. See the documentation\r\n                    // for ActivityCompat#requestPermissions for more details.\r\n                    return;\r\n                }\r\n                startActivityForResult(intentBluetoothEnable, BT_REQUEST_ENABLE);\r\n            }\r\n        }\r\n    }\r\n\r\n    void bluetoothOff() {\r\n        if (mBluetoothAdapter.isEnabled()) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            mBluetoothAdapter.disable();\r\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth disabled&quot;, Toast.LENGTH_SHORT).show();\r\n            mTvBluetoothStatus.setText(&quot;Deactivation&quot;);\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth is already disabled&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,String permissions [], int [] grantResults) {\r\n        switch (requestCode) {\r\n            case PERMISSION_REQUEST_COARSE_LOCATION: {\r\n                if (grantResults [0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Log.d(&quot;Debugging&quot;, &quot;coarse location permission granted&quot;);\r\n                } else {\r\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                    builder.setTitle(&quot;Restrict Permissions&quot;);\r\n                    builder.setMessage(&quot;BT cannot be retrieved and associated because location information and access are not allowed&quot;);\r\n                    builder.setPositiveButton(android.R.string.ok, null);\r\n                    builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\r\n\r\n                        @Override\r\n                        public void onDismiss(DialogInterface dialog) {\r\n                        }\r\n\r\n                    });\r\n                    builder.show();\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        switch (requestCode) {\r\n            case BT_REQUEST_ENABLE:\r\n                if (resultCode == RESULT_OK) { \r\n                    Toast.makeText(getApplicationContext(), &quot;Enable Bluetooth&quot;, Toast.LENGTH_LONG).show();\r\n                    mTvBluetoothStatus.setText(&quot;Enable&quot;);\r\n                } else if (resultCode == RESULT_CANCELED) { \r\n                    Toast.makeText(getApplicationContext(), &quot;Cancel&quot;, Toast.LENGTH_LONG).show();\r\n                    mTvBluetoothStatus.setText(&quot;Disable&quot;);\r\n                }\r\n                break;\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n\r\n    void listPairedDevices() {\r\n        if (mBluetoothAdapter.isEnabled()) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            mPairedDevices = mBluetoothAdapter.getBondedDevices();\r\n\r\n            if (mPairedDevices.size() &gt; 0) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setTitle(&quot;Check Device&quot;);\r\n\r\n                mListPairedDevices = new ArrayList&lt;String&gt;();\r\n                for (BluetoothDevice device : mPairedDevices) {\r\n                    mListPairedDevices.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n                }\r\n                final CharSequence[] items = mListPairedDevices.toArray(new CharSequence[mListPairedDevices.size()]);\r\n                mListPairedDevices.toArray(new CharSequence[mListPairedDevices.size()]);\r\n\r\n                builder.setItems(items, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int item) {\r\n                        connectSelectedDevice(items[item].toString());\r\n                    }\r\n                });\r\n                AlertDialog alert = builder.create();\r\n                alert.show();\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;no paired devices.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth disable&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    void connectSelectedDevice(String selectedDeviceName) {\r\n        for (BluetoothDevice tempDevice : mPairedDevices) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissionson\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            if (selectedDeviceName.equals(tempDevice.getName())) {\r\n                mBluetoothDevice = tempDevice;\r\n                break;\r\n            }\r\n        }\r\n        try {\r\n            mBluetoothSocket = mBluetoothDevice.createRfcommSocketToServiceRecord(BT_UUID);\r\n        } catch (IOException e) {\r\n            Toast.makeText(getApplicationContext(), &quot;error occurred while connecting to Bluetooth.&quot;, Toast.LENGTH_LONG).show();\r\n            e.printStackTrace();\r\n        }\r\n        try{\r\n            mBluetoothSocket.connect();}\r\n        catch(IOException e) {\r\n            try\r\n            {\r\n                mBluetoothSocket.close();\r\n            }\r\n            catch (IOException e2)\r\n            {\r\n                Log.e(Tag, &quot;Close socket&quot;, e2);\r\n            }\r\n        }\r\n\r\n        mThreadConnectedBluetooth = new ConnectedBluetoothThread(mBluetoothSocket);\r\n        Toast.makeText(getApplicationContext(), &quot;Bluetooth connect&quot;, Toast.LENGTH_LONG).show();\r\n        mThreadConnectedBluetooth.start();\r\n\r\n    }\r\n\r\n    private class ConnectedBluetoothThread extends Thread {\r\n        private final BluetoothSocket mmSocket;\r\n        private final InputStream mmInStream;\r\n        private final OutputStream mmOutStream;\r\n\r\n        public ConnectedBluetoothThread(BluetoothSocket socket) {\r\n            mmSocket = socket;\r\n            InputStream tmpIn = null;\r\n            OutputStream tmpOut = null;\r\n\r\n            try {\r\n                tmpIn = socket.getInputStream();\r\n                tmpOut = socket.getOutputStream();\r\n            } catch (IOException e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Error connecting socket.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            mmInStream = tmpIn;\r\n            mmOutStream = tmpOut;\r\n        }\r\n        public void run() {\r\n            byte[] buffer = new byte[1024];\r\n            int bytes;\r\n\r\n            while (true) {\r\n                try {\r\n                    bytes = mmInStream.available();\r\n                    if (bytes != 0) {\r\n                        SystemClock.sleep(100);\r\n                        bytes = mmInStream.available();\r\n                        bytes = mmInStream.read(buffer, 0, bytes);\r\n                        mBluetoothHandler.obtainMessage(BT_MESSAGE_READ, bytes, -1, buffer).sendToTarget();\r\n                    }\r\n                } catch (IOException e) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        public void write(String str) {\r\n            byte[] bytes = str.getBytes();\r\n            try {\r\n                mmOutStream.write(bytes);\r\n            } catch (IOException e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Error transferring data&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n        public void cancel() {\r\n            try {\r\n                mmSocket.close();\r\n            } catch (IOException e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Error releasing socket&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"There is no Bluetooth connection between the Android application and Raspberry Pi","body":"<p>There is no connection between Raspberry Pi and the Android application I made.</p>\n<p>I'm building an application that connects to Raspberry Pi 4 with Bluetooth and receives data. However, when attempting to access Raspberry Pi with an application, the pairing lasted only a few seconds, then disconnected again and became unreachable.I installed an essential library on Raspberry Pi, and I even completed registering my Android device. I couldn't check what the problem was even when I looked at the code. I wonder if the code has changed since the new &quot;permissioncheck&quot; was created in June 2022, so it doesn't work properly.I want to know why this problem occurs.</p>\n<p><strong>MainActivity Code</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_COARSE_LOCATION = 1;\n    TextView mTvBluetoothStatus;\n    TextView mTvReceiveData;\n    TextView mTvSendData;\n    Button mBtnBluetoothOn;\n    Button mBtnBluetoothOff;\n    Button mBtnConnect;\n    Button mBtnSendData;\n\n    BluetoothAdapter mBluetoothAdapter;\n    Set&lt;BluetoothDevice&gt; mPairedDevices;\n    List&lt;String&gt; mListPairedDevices;\n\n    Handler mBluetoothHandler;\n    ConnectedBluetoothThread mThreadConnectedBluetooth;\n    BluetoothDevice mBluetoothDevice;\n    BluetoothSocket mBluetoothSocket;\n\n    final static int BT_REQUEST_ENABLE = 1;\n    final static int BT_MESSAGE_READ = 2;\n    final static int BT_CONNECTING_STATUS = 3;\n    private static final int PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION = 1;\n    final static UUID BT_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n    private String Tag;\n\n    @SuppressLint(&quot;HandlerLeak&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mTvBluetoothStatus = (TextView) findViewById(R.id.tvBluetoothStatus);\n        mTvReceiveData = (TextView) findViewById(R.id.tvReceiveData);\n        mTvSendData = (EditText) findViewById(R.id.tvSendData);\n        mBtnBluetoothOn = (Button) findViewById(R.id.btnBluetoothOn);\n        mBtnBluetoothOff = (Button) findViewById(R.id.btnBluetoothOff);\n        mBtnConnect = (Button) findViewById(R.id.btnConnect);\n        mBtnSendData = (Button) findViewById(R.id.btnSendData);\n\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n\n                builder.setTitle(&quot;Need Bluetooth Access&quot;);\n                builder.setMessage(&quot;Need location Access&quot;);\n                builder.setPositiveButton(android.R.string.ok, null);\n\n                builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\n\n                    @Override\n                    public void onDismiss(DialogInterface dialog) {\n                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_SCAN}, 2 );\n                    }\n                });\n                builder.show();\n            }\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n\n                builder.setTitle(&quot;Need Bluetooth Access&quot;);\n                builder.setMessage(&quot;Need location Access&quot;);\n                builder.setPositiveButton(android.R.string.ok, null);\n\n                builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\n\n                    @Override\n                    public void onDismiss(DialogInterface dialog) {\n                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 3 );\n                    }\n                });\n                builder.show();\n            }\n        }\n\n\n        mBtnBluetoothOn.setOnClickListener(new Button.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                bluetoothOn();\n            }\n        });\n        mBtnBluetoothOff.setOnClickListener(view -&gt; bluetoothOff());\n        mBtnConnect.setOnClickListener(view -&gt; listPairedDevices());\n        mBtnSendData.setOnClickListener(view -&gt; {\n            if (mThreadConnectedBluetooth != null) {\n                mThreadConnectedBluetooth.write(mTvSendData.getText().toString());\n                mTvSendData.setText(&quot;&quot;);\n            }\n        });\n        mBluetoothHandler = new Handler(Looper.getMainLooper()) {\n            public void handleMessage(android.os.Message msg) {\n                if (msg.what == BT_MESSAGE_READ) {\n                    String readMessage = null;\n                    readMessage = new String((byte[]) msg.obj, StandardCharsets.UTF_8);\n                    mTvReceiveData.setText(readMessage);\n                }\n            }\n        };\n    }\n\n    void bluetoothOn() {\n        if (mBluetoothAdapter == null) {\n            Toast.makeText(getApplicationContext(), &quot;This device does not support Bluetooth&quot;, Toast.LENGTH_LONG).show();\n        } else {\n            if (mBluetoothAdapter.isEnabled()) {\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth is already enabled&quot;, Toast.LENGTH_LONG).show();\n                mTvBluetoothStatus.setText(&quot;Activation&quot;);\n            } else {\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth is not enabled&quot;, Toast.LENGTH_LONG).show();\n                Intent intentBluetoothEnable = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                    // TODO: Consider calling\n                    //    ActivityCompat#requestPermissions\n                    // here to request the missing permissions, and then overriding\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                    //                                          int[] grantResults)\n                    // to handle the case where the user grants the permission. See the documentation\n                    // for ActivityCompat#requestPermissions for more details.\n                    return;\n                }\n                startActivityForResult(intentBluetoothEnable, BT_REQUEST_ENABLE);\n            }\n        }\n    }\n\n    void bluetoothOff() {\n        if (mBluetoothAdapter.isEnabled()) {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            mBluetoothAdapter.disable();\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth disabled&quot;, Toast.LENGTH_SHORT).show();\n            mTvBluetoothStatus.setText(&quot;Deactivation&quot;);\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth is already disabled&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,String permissions [], int [] grantResults) {\n        switch (requestCode) {\n            case PERMISSION_REQUEST_COARSE_LOCATION: {\n                if (grantResults [0] == PackageManager.PERMISSION_GRANTED) {\n                    Log.d(&quot;Debugging&quot;, &quot;coarse location permission granted&quot;);\n                } else {\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                    builder.setTitle(&quot;Restrict Permissions&quot;);\n                    builder.setMessage(&quot;BT cannot be retrieved and associated because location information and access are not allowed&quot;);\n                    builder.setPositiveButton(android.R.string.ok, null);\n                    builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\n\n                        @Override\n                        public void onDismiss(DialogInterface dialog) {\n                        }\n\n                    });\n                    builder.show();\n                }\n                return;\n            }\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        switch (requestCode) {\n            case BT_REQUEST_ENABLE:\n                if (resultCode == RESULT_OK) { \n                    Toast.makeText(getApplicationContext(), &quot;Enable Bluetooth&quot;, Toast.LENGTH_LONG).show();\n                    mTvBluetoothStatus.setText(&quot;Enable&quot;);\n                } else if (resultCode == RESULT_CANCELED) { \n                    Toast.makeText(getApplicationContext(), &quot;Cancel&quot;, Toast.LENGTH_LONG).show();\n                    mTvBluetoothStatus.setText(&quot;Disable&quot;);\n                }\n                break;\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n\n    void listPairedDevices() {\n        if (mBluetoothAdapter.isEnabled()) {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            mPairedDevices = mBluetoothAdapter.getBondedDevices();\n\n            if (mPairedDevices.size() &gt; 0) {\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                builder.setTitle(&quot;Check Device&quot;);\n\n                mListPairedDevices = new ArrayList&lt;String&gt;();\n                for (BluetoothDevice device : mPairedDevices) {\n                    mListPairedDevices.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n                }\n                final CharSequence[] items = mListPairedDevices.toArray(new CharSequence[mListPairedDevices.size()]);\n                mListPairedDevices.toArray(new CharSequence[mListPairedDevices.size()]);\n\n                builder.setItems(items, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int item) {\n                        connectSelectedDevice(items[item].toString());\n                    }\n                });\n                AlertDialog alert = builder.create();\n                alert.show();\n            } else {\n                Toast.makeText(getApplicationContext(), &quot;no paired devices.&quot;, Toast.LENGTH_LONG).show();\n            }\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth disable&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    void connectSelectedDevice(String selectedDeviceName) {\n        for (BluetoothDevice tempDevice : mPairedDevices) {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissionson\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            if (selectedDeviceName.equals(tempDevice.getName())) {\n                mBluetoothDevice = tempDevice;\n                break;\n            }\n        }\n        try {\n            mBluetoothSocket = mBluetoothDevice.createRfcommSocketToServiceRecord(BT_UUID);\n        } catch (IOException e) {\n            Toast.makeText(getApplicationContext(), &quot;error occurred while connecting to Bluetooth.&quot;, Toast.LENGTH_LONG).show();\n            e.printStackTrace();\n        }\n        try{\n            mBluetoothSocket.connect();}\n        catch(IOException e) {\n            try\n            {\n                mBluetoothSocket.close();\n            }\n            catch (IOException e2)\n            {\n                Log.e(Tag, &quot;Close socket&quot;, e2);\n            }\n        }\n\n        mThreadConnectedBluetooth = new ConnectedBluetoothThread(mBluetoothSocket);\n        Toast.makeText(getApplicationContext(), &quot;Bluetooth connect&quot;, Toast.LENGTH_LONG).show();\n        mThreadConnectedBluetooth.start();\n\n    }\n\n    private class ConnectedBluetoothThread extends Thread {\n        private final BluetoothSocket mmSocket;\n        private final InputStream mmInStream;\n        private final OutputStream mmOutStream;\n\n        public ConnectedBluetoothThread(BluetoothSocket socket) {\n            mmSocket = socket;\n            InputStream tmpIn = null;\n            OutputStream tmpOut = null;\n\n            try {\n                tmpIn = socket.getInputStream();\n                tmpOut = socket.getOutputStream();\n            } catch (IOException e) {\n                Toast.makeText(getApplicationContext(), &quot;Error connecting socket.&quot;, Toast.LENGTH_LONG).show();\n            }\n\n            mmInStream = tmpIn;\n            mmOutStream = tmpOut;\n        }\n        public void run() {\n            byte[] buffer = new byte[1024];\n            int bytes;\n\n            while (true) {\n                try {\n                    bytes = mmInStream.available();\n                    if (bytes != 0) {\n                        SystemClock.sleep(100);\n                        bytes = mmInStream.available();\n                        bytes = mmInStream.read(buffer, 0, bytes);\n                        mBluetoothHandler.obtainMessage(BT_MESSAGE_READ, bytes, -1, buffer).sendToTarget();\n                    }\n                } catch (IOException e) {\n                    break;\n                }\n            }\n        }\n        public void write(String str) {\n            byte[] bytes = str.getBytes();\n            try {\n                mmOutStream.write(bytes);\n            } catch (IOException e) {\n                Toast.makeText(getApplicationContext(), &quot;Error transferring data&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n        public void cancel() {\n            try {\n                mmSocket.close();\n            } catch (IOException e) {\n                Toast.makeText(getApplicationContext(), &quot;Error releasing socket&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","equals","hashcode","overriding"],"answers":[{"comments":[{"owner":{"account_id":1817632,"reputation":1470,"user_id":1652429,"accept_rate":50,"display_name":"NeilA"},"score":0,"creation_date":1362307854,"post_id":15184674,"comment_id":21391888,"body_markdown":"Hi &quot;Noofz&quot;\nThanks for the advise, let me do some benchmarks first...\nHave you used this before, if you have, how does it work in multi-threaded environments?\n\nThe cache.get(...) operation gets performed 5,000 to 30,000 times per second and can spike to over double that.","body":"Hi &quot;Noofz&quot; Thanks for the advise, let me do some benchmarks first... Have you used this before, if you have, how does it work in multi-threaded environments?  The cache.get(...) operation gets performed 5,000 to 30,000 times per second and can spike to over double that."},{"owner":{"account_id":2314453,"reputation":4203,"user_id":2031799,"display_name":"Mikhail"},"score":0,"creation_date":1362308384,"post_id":15184674,"comment_id":21392008,"body_markdown":"No, nforunately I dont have experience of using it under such a great preasure.","body":"No, nforunately I dont have experience of using it under such a great preasure."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1614063418,"post_id":15184674,"comment_id":117262719,"body_markdown":"Thanks for the reference. I&#39;ve got the same requirement - I&#39;ve been using wrapper objects to achieve it, but I need to reduce the memory occupied by a very large map, and the wrapper objects are a significant overhead. So I guess the question for me is whether the GNU Trove map implementation is space-efficient.","body":"Thanks for the reference. I&#39;ve got the same requirement - I&#39;ve been using wrapper objects to achieve it, but I need to reduce the memory occupied by a very large map, and the wrapper objects are a significant overhead. So I guess the question for me is whether the GNU Trove map implementation is space-efficient."}],"tags":[],"owner":{"account_id":2314453,"reputation":4203,"user_id":2031799,"display_name":"Mikhail"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1362306949,"creation_date":1362306220,"answer_id":15184674,"question_id":15184637,"body_markdown":"[GNU Trove][1] allows you to provide specific TObjectHashingStrategy  with your own hash and equals functions for TCustomHashMap.\r\n\r\n\r\n  [1]: http://trove4j.sourceforge.net/html/overview.html","title":"Custom hashcode/equals operation for HashMap","body":"<p><a href=\"http://trove4j.sourceforge.net/html/overview.html\" rel=\"noreferrer\">GNU Trove</a> allows you to provide specific TObjectHashingStrategy  with your own hash and equals functions for TCustomHashMap.</p>\n"},{"comments":[{"owner":{"account_id":1817632,"reputation":1470,"user_id":1652429,"accept_rate":50,"display_name":"NeilA"},"score":1,"creation_date":1593144770,"post_id":62515976,"comment_id":110682941,"body_markdown":"Trove worked perfectly - even under higher load that I mensioned.\nHowever, more than 7 years on, I agree with you, I would have simply created key wrappers.","body":"Trove worked perfectly - even under higher load that I mensioned. However, more than 7 years on, I agree with you, I would have simply created key wrappers."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683625942,"post_id":62515976,"comment_id":134391766,"body_markdown":"Ephemeral keys only make sense if they encapsulate more than one property. If you need one property, you can use the property value as key in the first place, e.g. use the country `String` as key instead of wrapping it in a `CountryKey` object. With recent Java versions, you can use `record` classes to implement the multi-property keys.","body":"Ephemeral keys only make sense if they encapsulate more than one property. If you need one property, you can use the property value as key in the first place, e.g. use the country <code>String</code> as key instead of wrapping it in a <code>CountryKey</code> object. With recent Java versions, you can use <code>record</code> classes to implement the multi-property keys."}],"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592833711,"creation_date":1592833711,"answer_id":62515976,"question_id":15184637,"body_markdown":"Initial Java API bounded `equals` / `hashCode` behavior to type (class) because they didn&#39;t have lambdas back those days.\r\n\r\nIn order to reuse existing API / implementations - make ephemeral keys:\r\n\r\n    public CountryKey {\r\n        private String country;\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (!(obj instanceof CountryKey)) { return false; }\r\n            CountryKey that = (CountryKey) obj;\r\n            return this.country.equals(that.country);\r\n        }\r\n        @Override int hashCode() {\r\n             return country.hashCode();\r\n        }\r\n    }\r\n\r\nor wrappers:\r\n\r\n    public CountryKey {\r\n        private GeoIpData holder;\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (!(obj instanceof CountryKey)) { return false; }\r\n            CountryKey that = (CountryKey) obj;\r\n            return this.holder.getCountry().equals(that.holder.getCountry());\r\n        }\r\n        @Override int hashCode() {\r\n             return holder.getCountry().hashCode();\r\n        }\r\n    }\r\n\r\nand write helper constructors for keys:\r\n\r\n    public class GeoIpData {\r\n         public CountryKey buildCountryKey() {\r\n              return new CountryKey(this.country);\r\n         }\r\n    }","title":"Custom hashcode/equals operation for HashMap","body":"<p>Initial Java API bounded <code>equals</code> / <code>hashCode</code> behavior to type (class) because they didn't have lambdas back those days.</p>\n<p>In order to reuse existing API / implementations - make ephemeral keys:</p>\n<pre><code>public CountryKey {\n    private String country;\n    @Override\n    public boolean equals(Object obj) {\n        if (!(obj instanceof CountryKey)) { return false; }\n        CountryKey that = (CountryKey) obj;\n        return this.country.equals(that.country);\n    }\n    @Override int hashCode() {\n         return country.hashCode();\n    }\n}\n</code></pre>\n<p>or wrappers:</p>\n<pre><code>public CountryKey {\n    private GeoIpData holder;\n    @Override\n    public boolean equals(Object obj) {\n        if (!(obj instanceof CountryKey)) { return false; }\n        CountryKey that = (CountryKey) obj;\n        return this.holder.getCountry().equals(that.holder.getCountry());\n    }\n    @Override int hashCode() {\n         return holder.getCountry().hashCode();\n    }\n}\n</code></pre>\n<p>and write helper constructors for keys:</p>\n<pre><code>public class GeoIpData {\n     public CountryKey buildCountryKey() {\n          return new CountryKey(this.country);\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680486017,"creation_date":1679013256,"answer_id":75762799,"question_id":15184637,"body_markdown":"There are quite a number of non-concurrent third party hash maps, some of which support custom equals and hashCode, like the one mentioned in Mikhail&#39;s answer. I know of no concurrent implementation though.\r\n\r\n**Here&#39;s somewhat of a hack that allows you to use the standard ConcurrentHashMap with custom equals/hashCode implementations. It uses a thread local variable to convey which equals/hashCode implementation keys should use at any given point in time.**\r\n\r\nFirst a decorator to add the functionality to any `ConcurrentMap` implementation:\r\n\r\n```java\r\npublic class CustomEqualsAndHashCodeConcurrentMapDecorator&lt;K, V&gt;\r\n        implements ConcurrentMap&lt;K, V&gt; {\r\n\r\n    public interface EqualsAndHashCode&lt;X&gt; {\r\n        boolean equals(X x, X y);\r\n        int hashCode(X x);\r\n    }\r\n    private final ConcurrentMap&lt;K, V&gt; decoratee;\r\n    private final EqualsAndHashCode&lt;K&gt; equalsAndHashCode;\r\n    private final Consumer&lt;EqualsAndHashCode&lt;K&gt;&gt; equalsAndHashCodeSetter;\r\n\r\n    public CustomEqualsAndHashCodeConcurrentMapDecorator(ConcurrentMap&lt;K, V&gt; decoratee, EqualsAndHashCode&lt;K&gt; equalsAndHashCode, Consumer&lt;EqualsAndHashCode&lt;K&gt;&gt; equalsAndHashCodeSetter) {\r\n        this.decoratee = decoratee;\r\n        this.equalsAndHashCode = equalsAndHashCode;\r\n        this.equalsAndHashCodeSetter = equalsAndHashCodeSetter;\r\n    }\r\n\r\n    @Override\r\n    public V get(Object key) {\r\n        equalsAndHashCodeSetter.accept(equalsAndHashCode);\r\n        final V ret = decoratee.get(key);\r\n        equalsAndHashCodeSetter.accept(null);\r\n        return ret;\r\n    }\r\n\r\n    public Set&lt;K&gt; keySet() {\r\n// Note that this is potentially dangerous, as the caller will have to make sure\r\n// equalsAndHashCodeSetter.accept() is called before/after calling some of the methods of the returned set\r\n        return decoratee.keySet();\r\n    }\r\n\r\n    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\r\n// Note that this is potentially dangerous, as the caller will have to make sure\r\n// equalsAndHashCodeSetter.accept() is called before/after calling some of the methods of the returned set\r\n        return decoratee.entrySet();\r\n    }\r\n\r\n    // omitting the other methods, most of which need to be\r\n    // wrapped in equalsAndHashCodeSetter.accept() calls as well\r\n}\r\n```\r\nHere&#39;s an example on how to use the same key object instances a) with the default equals/hashCode, and b) with a custom one:\r\n```java\r\nclass CustomEqualsAndHashCodeConcurrentMapDecoratorTest {\r\n\r\n    private static abstract class DynamicEqualsAndHashCodeObject&lt;K&gt; {\r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        private static final ThreadLocal&lt;CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&gt; equalsAndHashCode = new ThreadLocal&lt;&gt;();\r\n\r\n        static void setEqualsAndHashCode(@SuppressWarnings(&quot;rawtypes&quot;) CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode equalsAndHashCode) {\r\n            DynamicEqualsAndHashCodeObject.equalsAndHashCode.set(equalsAndHashCode);\r\n        }\r\n\r\n        private CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;K&gt; getComparator() {\r\n            //noinspection rawtypes\r\n            final CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode raw = DynamicEqualsAndHashCodeObject.equalsAndHashCode.get();\r\n            //noinspection unchecked\r\n            return raw == null ? null : (CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;K&gt;) DynamicEqualsAndHashCodeObject.equalsAndHashCode.get();\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            var equalsAndHashCode = getComparator();\r\n            //noinspection unchecked\r\n            return equalsAndHashCode != null ? equalsAndHashCode.equals(dis(), (K) obj) : super.equals(obj);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            var equalsAndHashCode = getComparator();\r\n            return equalsAndHashCode != null ? equalsAndHashCode.hashCode(dis()) : super.hashCode();\r\n        }\r\n\r\n        abstract K dis();\r\n    }\r\n\r\n    static class Key extends DynamicEqualsAndHashCodeObject&lt;Key&gt; {\r\n        final String a;\r\n        final String b;\r\n\r\n        public Key(String a, String b) {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return a + b;\r\n        }\r\n\r\n        @Override\r\n        Key dis() {\r\n            return this;\r\n        }\r\n\r\n        static class AEqualsAndHashCode implements CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;Key&gt; {\r\n            public boolean equals(Key x, Key y) {return Objects.equals(x.a, y.a);}\r\n            public int hashCode(Key key) {return Objects.hashCode(key.a);}\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        var key11 = new Key(&quot;1&quot;, &quot;1&quot;);\r\n        var key12 = new Key(&quot;1&quot;, &quot;2&quot;);\r\n        var key21 = new Key(&quot;2&quot;, &quot;1&quot;);\r\n        var key22 = new Key(&quot;2&quot;, &quot;2&quot;);\r\n        var mapDefault = new ConcurrentHashMap&lt;Key, String&gt;();\r\n        mapDefault.put(key11, key11.toString());\r\n        mapDefault.put(key12, key12.toString());\r\n        mapDefault.put(key21, key21.toString());\r\n        mapDefault.put(key22, key22.toString());\r\n        mapDefault.forEach((k, v) -&gt; System.out.println(&quot;mapDefault: &quot; + k + &quot; -&gt; &quot; + v));\r\n        var mapA = new CustomEqualsAndHashCodeConcurrentMapDecorator&lt;&gt;(new ConcurrentHashMap&lt;Key, String&gt;(), new Key.AEqualsAndHashCode(), Key::setEqualsAndHashCode);\r\n        mapA.put(key11, key11.toString());\r\n        mapA.put(key12, key12.toString());\r\n        mapA.put(key21, key21.toString());\r\n        mapA.put(key22, key22.toString());\r\n        mapA.forEach((k, v) -&gt; System.out.println(&quot;mapA: &quot; + k + &quot; -&gt; &quot; + v));\r\n    }\r\n}\r\n```\r\nThe output is this:\r\n```\r\nmapDefault: 12 -&gt; 12\r\nmapDefault: 11 -&gt; 11\r\nmapDefault: 21 -&gt; 21\r\nmapDefault: 22 -&gt; 22\r\nmapA: 11 -&gt; 12\r\nmapA: 21 -&gt; 22\r\n```\r\n","title":"Custom hashcode/equals operation for HashMap","body":"<p>There are quite a number of non-concurrent third party hash maps, some of which support custom equals and hashCode, like the one mentioned in Mikhail's answer. I know of no concurrent implementation though.</p>\n<p><strong>Here's somewhat of a hack that allows you to use the standard ConcurrentHashMap with custom equals/hashCode implementations. It uses a thread local variable to convey which equals/hashCode implementation keys should use at any given point in time.</strong></p>\n<p>First a decorator to add the functionality to any <code>ConcurrentMap</code> implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomEqualsAndHashCodeConcurrentMapDecorator&lt;K, V&gt;\n        implements ConcurrentMap&lt;K, V&gt; {\n\n    public interface EqualsAndHashCode&lt;X&gt; {\n        boolean equals(X x, X y);\n        int hashCode(X x);\n    }\n    private final ConcurrentMap&lt;K, V&gt; decoratee;\n    private final EqualsAndHashCode&lt;K&gt; equalsAndHashCode;\n    private final Consumer&lt;EqualsAndHashCode&lt;K&gt;&gt; equalsAndHashCodeSetter;\n\n    public CustomEqualsAndHashCodeConcurrentMapDecorator(ConcurrentMap&lt;K, V&gt; decoratee, EqualsAndHashCode&lt;K&gt; equalsAndHashCode, Consumer&lt;EqualsAndHashCode&lt;K&gt;&gt; equalsAndHashCodeSetter) {\n        this.decoratee = decoratee;\n        this.equalsAndHashCode = equalsAndHashCode;\n        this.equalsAndHashCodeSetter = equalsAndHashCodeSetter;\n    }\n\n    @Override\n    public V get(Object key) {\n        equalsAndHashCodeSetter.accept(equalsAndHashCode);\n        final V ret = decoratee.get(key);\n        equalsAndHashCodeSetter.accept(null);\n        return ret;\n    }\n\n    public Set&lt;K&gt; keySet() {\n// Note that this is potentially dangerous, as the caller will have to make sure\n// equalsAndHashCodeSetter.accept() is called before/after calling some of the methods of the returned set\n        return decoratee.keySet();\n    }\n\n    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\n// Note that this is potentially dangerous, as the caller will have to make sure\n// equalsAndHashCodeSetter.accept() is called before/after calling some of the methods of the returned set\n        return decoratee.entrySet();\n    }\n\n    // omitting the other methods, most of which need to be\n    // wrapped in equalsAndHashCodeSetter.accept() calls as well\n}\n</code></pre>\n<p>Here's an example on how to use the same key object instances a) with the default equals/hashCode, and b) with a custom one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomEqualsAndHashCodeConcurrentMapDecoratorTest {\n\n    private static abstract class DynamicEqualsAndHashCodeObject&lt;K&gt; {\n        @SuppressWarnings(&quot;rawtypes&quot;)\n        private static final ThreadLocal&lt;CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&gt; equalsAndHashCode = new ThreadLocal&lt;&gt;();\n\n        static void setEqualsAndHashCode(@SuppressWarnings(&quot;rawtypes&quot;) CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode equalsAndHashCode) {\n            DynamicEqualsAndHashCodeObject.equalsAndHashCode.set(equalsAndHashCode);\n        }\n\n        private CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;K&gt; getComparator() {\n            //noinspection rawtypes\n            final CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode raw = DynamicEqualsAndHashCodeObject.equalsAndHashCode.get();\n            //noinspection unchecked\n            return raw == null ? null : (CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;K&gt;) DynamicEqualsAndHashCodeObject.equalsAndHashCode.get();\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            var equalsAndHashCode = getComparator();\n            //noinspection unchecked\n            return equalsAndHashCode != null ? equalsAndHashCode.equals(dis(), (K) obj) : super.equals(obj);\n        }\n\n        @Override\n        public int hashCode() {\n            var equalsAndHashCode = getComparator();\n            return equalsAndHashCode != null ? equalsAndHashCode.hashCode(dis()) : super.hashCode();\n        }\n\n        abstract K dis();\n    }\n\n    static class Key extends DynamicEqualsAndHashCodeObject&lt;Key&gt; {\n        final String a;\n        final String b;\n\n        public Key(String a, String b) {\n            this.a = a;\n            this.b = b;\n        }\n\n        @Override\n        public String toString() {\n            return a + b;\n        }\n\n        @Override\n        Key dis() {\n            return this;\n        }\n\n        static class AEqualsAndHashCode implements CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;Key&gt; {\n            public boolean equals(Key x, Key y) {return Objects.equals(x.a, y.a);}\n            public int hashCode(Key key) {return Objects.hashCode(key.a);}\n        }\n    }\n\n    @Test\n    void test() {\n        var key11 = new Key(&quot;1&quot;, &quot;1&quot;);\n        var key12 = new Key(&quot;1&quot;, &quot;2&quot;);\n        var key21 = new Key(&quot;2&quot;, &quot;1&quot;);\n        var key22 = new Key(&quot;2&quot;, &quot;2&quot;);\n        var mapDefault = new ConcurrentHashMap&lt;Key, String&gt;();\n        mapDefault.put(key11, key11.toString());\n        mapDefault.put(key12, key12.toString());\n        mapDefault.put(key21, key21.toString());\n        mapDefault.put(key22, key22.toString());\n        mapDefault.forEach((k, v) -&gt; System.out.println(&quot;mapDefault: &quot; + k + &quot; -&gt; &quot; + v));\n        var mapA = new CustomEqualsAndHashCodeConcurrentMapDecorator&lt;&gt;(new ConcurrentHashMap&lt;Key, String&gt;(), new Key.AEqualsAndHashCode(), Key::setEqualsAndHashCode);\n        mapA.put(key11, key11.toString());\n        mapA.put(key12, key12.toString());\n        mapA.put(key21, key21.toString());\n        mapA.put(key22, key22.toString());\n        mapA.forEach((k, v) -&gt; System.out.println(&quot;mapA: &quot; + k + &quot; -&gt; &quot; + v));\n    }\n}\n</code></pre>\n<p>The output is this:</p>\n<pre><code>mapDefault: 12 -&gt; 12\nmapDefault: 11 -&gt; 11\nmapDefault: 21 -&gt; 21\nmapDefault: 22 -&gt; 22\nmapA: 11 -&gt; 12\nmapA: 21 -&gt; 22\n</code></pre>\n"}],"owner":{"account_id":1817632,"reputation":1470,"user_id":1652429,"accept_rate":50,"display_name":"NeilA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3793,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":15184674,"answer_count":3,"score":9,"last_activity_date":1680486017,"creation_date":1362305968,"question_id":15184637,"body_markdown":"Is there a an implementation of the HashMap class (or Map interface) that will allow me to use alternate hashcode and equals operations...\r\nSimilar to how collections of the same type can be sorted in multiple ways using the Comparator in Collections.sort(list, comparator).\r\n\r\nI would like to avoid if possible, creating a key wrapper providing the desired hashcode and equals operations.\r\n\r\n----------\r\nIn my case, one of the scenarios why I need something like this:\r\n\r\n\r\nIn my web application, for each request, I load the Location/ISP and other data.\r\nIn different parts of code (in my service and repository layers) I have &quot;minimized&quot; caches specific to its requirement.  \r\n\r\nHere is a simplified code example:\r\n\r\n    class GeoIpData{\r\n    \tprivate String countryName;\r\n    \tprivate String state;\r\n    \tprivate String city;\r\n    \tprivate String isp;\r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\t//countryName hashCode\r\n    \t\t//state hashCode\r\n    \t\t//city hashCode\r\n    \t\t//isp hashCode\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\t// compare countryName\r\n    \t\t// compare state\r\n    \t\t// compare city\r\n    \t\t// compare isp\r\n    \t}\r\n    }\r\n\r\n     Map&lt;GeoIpData,#Type1&gt; fullCache = ... //This cache needs to be unique per countryName,state,city and isp\r\n     Map&lt;GeoIpData,#Type2&gt; countryCache = ... //This cache needs to be unique per countryName\r\n     Map&lt;GeoIpData,#Type2&gt; ispCache = ... //This cache needs to be unique per countryName,isp\r\n\r\nTo achieve this the above 3 maps need 3 different hashcode and equals methods.\r\n\r\n    fullCache:\r\n    hashCode -&gt; GeoIpData.hashCode();\r\n    equals   -&gt; GeoIpData.equals(Object obj);\r\n    \r\n    countryCache:\r\n    hashCode -&gt; {countryName hashCode }\r\n    equals   -&gt; {compare countryName }\r\n    \r\n    ispCache:\r\n    hashCode -&gt; {countryName hashCode &amp; isp hashCode }\r\n    equals   -&gt; {compare countryName &amp; compare isp hashCode }\r\n","title":"Custom hashcode/equals operation for HashMap","body":"<p>Is there a an implementation of the HashMap class (or Map interface) that will allow me to use alternate hashcode and equals operations...\nSimilar to how collections of the same type can be sorted in multiple ways using the Comparator in Collections.sort(list, comparator).</p>\n\n<p>I would like to avoid if possible, creating a key wrapper providing the desired hashcode and equals operations.</p>\n\n<hr>\n\n<p>In my case, one of the scenarios why I need something like this:</p>\n\n<p>In my web application, for each request, I load the Location/ISP and other data.\nIn different parts of code (in my service and repository layers) I have \"minimized\" caches specific to its requirement.  </p>\n\n<p>Here is a simplified code example:</p>\n\n<pre><code>class GeoIpData{\n    private String countryName;\n    private String state;\n    private String city;\n    private String isp;\n    @Override\n    public int hashCode() {\n        //countryName hashCode\n        //state hashCode\n        //city hashCode\n        //isp hashCode\n    }\n    @Override\n    public boolean equals(Object obj) {\n        // compare countryName\n        // compare state\n        // compare city\n        // compare isp\n    }\n}\n\n Map&lt;GeoIpData,#Type1&gt; fullCache = ... //This cache needs to be unique per countryName,state,city and isp\n Map&lt;GeoIpData,#Type2&gt; countryCache = ... //This cache needs to be unique per countryName\n Map&lt;GeoIpData,#Type2&gt; ispCache = ... //This cache needs to be unique per countryName,isp\n</code></pre>\n\n<p>To achieve this the above 3 maps need 3 different hashcode and equals methods.</p>\n\n<pre><code>fullCache:\nhashCode -&gt; GeoIpData.hashCode();\nequals   -&gt; GeoIpData.equals(Object obj);\n\ncountryCache:\nhashCode -&gt; {countryName hashCode }\nequals   -&gt; {compare countryName }\n\nispCache:\nhashCode -&gt; {countryName hashCode &amp; isp hashCode }\nequals   -&gt; {compare countryName &amp; compare isp hashCode }\n</code></pre>\n"},{"tags":["java","exception","stack-overflow","infinite-loop"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1680486439,"post_id":75915508,"comment_id":133901597,"body_markdown":"Every time you call this method you are looping through the same set of `connections` `for (Neuron connection : this.connections)`","body":"Every time you call this method you are looping through the same set of <code>connections</code> <code>for (Neuron connection : this.connections)</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680486605,"post_id":75915508,"comment_id":133901616,"body_markdown":"Please format your code correctly.","body":"Please format your code correctly."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680487183,"post_id":75915508,"comment_id":133901672,"body_markdown":"It&#39;s  infinite recursion, similar to an infinite loop. The `receivesStimulus (double)` method gets the first element from `connections`, which passes the `signal` value of that first element to the `receivesStimulus (double)` method, which gets the first element from `connections, which passes the `signal` value of that first element to the `receivesStimulus (double)` method, which gets the first element from `connections`, which ....  So, your program enters infinite recursion everytime `connections` is not empty.","body":"It&#39;s  infinite recursion, similar to an infinite loop. The <code>receivesStimulus (double)</code> method gets the first element from <code>connections</code>, which passes the <code>signal</code> value of that first element to the <code>receivesStimulus (double)</code> method, which gets the first element from <code>connections, which passes the </code>signal` value of that first element to the <code>receivesStimulus (double)</code> method, which gets the first element from <code>connections</code>, which ....  So, your program enters infinite recursion everytime <code>connections</code> is not empty."},{"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"score":0,"creation_date":1680487611,"post_id":75915508,"comment_id":133901727,"body_markdown":"@tgdavies sorry it&#39;s my first time using this site to post a question and I don&#39;t know how to fix the format","body":"@tgdavies sorry it&#39;s my first time using this site to post a question and I don&#39;t know how to fix the format"},{"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"score":0,"creation_date":1680487665,"post_id":75915508,"comment_id":133901731,"body_markdown":"@OldDogProgrammer So how can i fix this infinite recursion?","body":"@OldDogProgrammer So how can i fix this infinite recursion?"},{"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"score":0,"creation_date":1680487776,"post_id":75915508,"comment_id":133901741,"body_markdown":"@ScaryWombat Yes i know but that was what the assignment said to do:  create a method void receivesStimulus(double stimulus) allowing the\nsimulation of a neuron. This simulation results in:\nstoring its value in the neuron&#39;s internal signal\nof stimulus  multiplied by the attenuation coefficient,\npropagating the internal signal to the connected neurons with its call\nreceivesStimulus method on all elements of the connections list. This call to the receivesStimulus method will be made with a parameter to\ninternal signal, signal, of the examined neuron (calculated in\nprevious bullet)","body":"@ScaryWombat Yes i know but that was what the assignment said to do:  create a method void receivesStimulus(double stimulus) allowing the simulation of a neuron. This simulation results in: storing its value in the neuron&#39;s internal signal of stimulus  multiplied by the attenuation coefficient, propagating the internal signal to the connected neurons with its call receivesStimulus method on all elements of the connections list. This call to the receivesStimulus method will be made with a parameter to internal signal, signal, of the examined neuron (calculated in previous bullet)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680488446,"post_id":75915508,"comment_id":133901809,"body_markdown":"@carlosS I don&#39;t know what `receiveStimulus (double)` is supposed to do. As it stands now, it is infinite recursion because nothing is changed. To solve it, the method has to make a change that causes it to be closer to coming to an end. But, I have no idea what that should be. Stack Overflow isn&#39;t suitable for teaching recursion or other programming subjects.","body":"@carlosS I don&#39;t know what <code>receiveStimulus (double)</code> is supposed to do. As it stands now, it is infinite recursion because nothing is changed. To solve it, the method has to make a change that causes it to be closer to coming to an end. But, I have no idea what that should be. Stack Overflow isn&#39;t suitable for teaching recursion or other programming subjects."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1680489926,"post_id":75915508,"comment_id":133901950,"body_markdown":"@carlosS In your last comment, where does it say that it should be recursive?","body":"@carlosS In your last comment, where does it say that it should be recursive?"},{"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"score":0,"creation_date":1680492255,"post_id":75915508,"comment_id":133902177,"body_markdown":"@ScaryWombat  &quot;its call receivesStimulus method on all elements of the connections list. This call to the receivesStimulus method will be made with a parameter to internal signal&quot; Doesnt that mean it should be recursive?","body":"@ScaryWombat  &quot;its call receivesStimulus method on all elements of the connections list. This call to the receivesStimulus method will be made with a parameter to internal signal&quot; Doesnt that mean it should be recursive?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1680495263,"post_id":75915508,"comment_id":133902423,"body_markdown":"That is not my understanding.  Usually if recursion is used, then loops will not be used.","body":"That is not my understanding.  Usually if recursion is used, then loops will not be used."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1680535732,"post_id":75915508,"comment_id":133911072,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680485775,"creation_date":1680485775,"question_id":75915508,"body_markdown":"```\r\nI have this classes as of know:\r\n```\r\n\r\n`public class Position {`  \r\n`private double x;`  \r\n`private double y;`  \r\n  \r\n`public Position(double x, double y) {`  \r\n`this.x = x;`  \r\n`this.y = y;`  \r\n`}`  \r\n  \r\n`public Position() {`  \r\n`this(0, 0);`  \r\n`}`  \r\n  \r\n`public double getX() {`  \r\n`return x;`  \r\n`}`  \r\n  \r\n`public double getY() {`  \r\n`return y;`  \r\n`}`  \r\n  \r\n`public String toString() {`  \r\n`return &quot;(&quot; + this.x + &quot;, &quot; + this.y + &quot;)&quot;;`  \r\n`}`\r\n\r\n`}`\r\n\r\n  \r\n`import java.util.ArrayList;`\r\n\r\n`public class Brain {`  \r\n`private ArrayList&lt;Neuron&gt; neurons;`  \r\n  \r\n`public Brain() {`  \r\n`this.neurons = new ArrayList&lt;Neuron&gt;();`  \r\n`}`  \r\n  \r\n`public int getNbNeurons() {`  \r\n`return neurons.size();`  \r\n`}`  \r\n  \r\n`public Neuron getNeuron(int index) {`  \r\n`return neurons.get(index);`  \r\n`}`\r\n\r\n`public void addNeuron(Position position, double attenuation) {`  \r\n  \r\n`Neuron n = new Neuron(position, attenuation);`  \r\n`this.neurons.add(n);`  \r\n`}`\r\n\r\n`public void addCumulativeNeuron(Position pos, double attenuation) {`  \r\n  \r\n`CumulativeNeuron cn = new CumulativeNeuron(pos, attenuation);`  \r\n`this.neurons.add(cn);`  \r\n`}`\r\n\r\n`public void stimulate(int index, double stimulus) {`  \r\n  \r\n`Neuron neuron = neurons.get(index);`  \r\n`neuron.receivesStimulus(stimulus);`  \r\n`}`\r\n\r\n`public double probe(int index) {`  \r\n`Neuron neuron = neurons.get(index);`  \r\n`System.out.println(&quot;INDEX IS: &quot; + index);`  \r\n`System.out.println(&quot;SIGNAL: &quot; + neuron.getSignal());`  \r\n`return neuron.getSignal();`  \r\n  \r\n`}`  \r\n`public void createConnections() {`  \r\n`int size = this.getNbNeurons();`  \r\n`for (int i = 0; i &lt; size - 2; i++) {`  \r\n`Neuron n1 = this.getNeuron(i);`  \r\n`Neuron n2 = this.getNeuron(i + 1);`  \r\n`n1.connection(n2);`  \r\n`n2.connection(n1);`  \r\n`}`  \r\n`if (size &gt; 1) {`  \r\n`this.getNeuron(0).connection(this.getNeuron(1));`  \r\n`}`  \r\n`if (size &gt; 2) {`  \r\n`this.getNeuron(0).connection(this.getNeuron(2));`  \r\n`}`  \r\n`}`\r\n\r\n`public String toString() {`  \r\n`StringBuilder sb = new StringBuilder();`  \r\n`sb.append(&quot;*----------*\\n&quot;);`  \r\n`sb.append(&quot;The brain contains &quot;).append(this.getNbNeurons()).append(&quot; neuron(s)\\n&quot;);`\r\n\r\n`for (Neuron neuron : this.neurons) {`  \r\n`sb.append(neuron.toString()).append(&quot;\\n&quot;);`  \r\n`}`\r\n\r\n`sb.append(&quot;*----------*\\n&quot;);`\r\n\r\n`return sb.toString();`  \r\n`}`  \r\n`}`\r\n\r\n```\r\nI&#39;m using this test class called NeuronSimulator\r\n```\r\n\r\n`public class NeuronSimulator {`\r\n\r\n`public static void main(String[] args) {`  \r\n`// TEST PART 1`  \r\n`System.out.println(&quot;Test part 1:&quot;);`  \r\n`System.out.println(&quot;--------------------&quot;);`\r\n\r\n`Position position1 = new Position(0, 1);`  \r\n`Position position2 = new Position(1, 0);`  \r\n`Position position3 = new Position(1, 1);`\r\n\r\n`Neuron neuron1 = new Neuron(position1, 0.5);`  \r\n`Neuron neuron2 = new Neuron(position2, 1.0);`  \r\n`Neuron neuron3 = new Neuron(position3, 2.0);`\r\n\r\n`neuron1.connection(neuron2);`  \r\n`neuron2.connection(neuron3);`  \r\n`neuron1.receivesStimulus(10);`\r\n\r\n`System.out.println(&quot;Signals : &quot;);`  \r\n`System.out.println(neuron1.getSignal());`  \r\n`System.out.println(neuron2.getSignal());`  \r\n`System.out.println(neuron3.getSignal());`\r\n\r\n`System.out.println();`  \r\n`System.out.println(&quot;First connection of neuron 1&quot;);`  \r\n`System.out.println(neuron1.getConnection(0));`\r\n\r\n`// END TEST PART 1`\r\n\r\n`// TEST PART 2`  \r\n`System.out.println(&quot;Test part 2:&quot;);`  \r\n`System.out.println(&quot;--------------------&quot;);`\r\n\r\n`Position position5 = new Position(0, 0);`  \r\n`CumulativeNeuron neuron5 = new CumulativeNeuron(position5, 0.5);`  \r\n`neuron5.receivesStimulus(10);`  \r\n`neuron5.receivesStimulus(10);`  \r\n`System.out.println(&quot;Signal of cumulative neuron -&gt; &quot; + neuron5.getSignal());`\r\n\r\n`// END TEST PART 2`\r\n\r\n`//TEST PART 3`  \r\n`System.out.println();`  \r\n`System.out.println(&quot;Test part 3:&quot;);`  \r\n`System.out.println(&quot;--------------------&quot;);`  \r\n`Brain brain = new Brain();`\r\n\r\n`brain.addNeuron(new Position(0, 0), 0.5);`  \r\n`brain.addNeuron(new Position(0, 1), 0.2);`  \r\n`brain.addNeuron(new Position(1, 0), 1.0);`\r\n\r\n`brain.addCumulativeNeuron(new Position(1, 1), 0.8);`  \r\n`brain.createConnections();`  \r\n`brain.stimulate(0, 10);`\r\n\r\n`System.out.println(&quot;Signal of 3rd neuron -&gt; &quot; + brain.probe(3));`  \r\n`System.out.println(brain);`  \r\n`// END TEST PART 3`  \r\n  \r\n`}`  \r\n`}`\r\n\r\nWhen i run the test class I should get as an output the following:\r\n\r\nTest part 3:\r\n\r\n\\--------------------\r\n\r\nSignal of 3rd neuron -\\&gt; 4.800000000000001\r\n\r\nThe brain contains 4 neuron(s)\r\n\r\nThe neuron in position (0.0, 0.0) with attenuation 0.5 in connection with\r\n\r\n\\- a neuron in position (0.0, 1.0)\r\n\r\n\\- a neuron in position (1.0, 0.0)\r\n\r\nThe neuron in position (0.0, 1.0) with attenuation 0.2 in connection with\r\n\r\n\\- a neuron in position (1.0, 0.0)\r\n\r\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\r\n\r\n\\- a neuron in position (1.0, 1.0)\r\n\r\nThe neuron in position (1.0, 1.0) with attenuation 0.8 without connection\r\n\r\n\\*----------\\*\r\n\r\nBut instead of that output I get this one \r\n\r\n```\r\nTest part 1:\r\n--------------------\r\nSignals : \r\n5.0\r\n5.0\r\n10.0\r\n\r\nFirst connection of neuron 1\r\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nTest part 2:\r\n--------------------\r\nSignal of cumulative neuron -&gt; 10.0\r\n\r\nTest part 3:\r\n--------------------\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:108)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n        .....\r\n\r\n\r\n```\r\n\r\nThat means that the program gets stuck in an infinite loop when this method is called\r\n\r\n```\r\npublic void receivesStimulus(double stimulus) {\r\n\t    this.signal = stimulus * this.attenuation;\r\n\t    for (Neuron connection : this.connections) {\r\n\t    \t\r\n\t        connection.receivesStimulus(this.signal);\r\n\t    }\r\n\t}\r\n```\r\n\r\nAnd more especially it seems that this line is the problem\r\n\r\n`connection.receivesStimulus(this.signal);`\r\n\r\nwhen I commend out either this line\r\n\r\n`brain.createConnections();`\r\n\r\nor this line\r\n\r\n`brain.stimulate(0, 10);`\r\n\r\nthe exception disappears and this is the output:\r\n\r\n```\r\nTest part 1:\r\n--------------------\r\nSignals : \r\n5.0\r\n5.0\r\n10.0\r\n\r\nFirst connection of neuron 1\r\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nTest part 2:\r\n--------------------\r\nSignal of cumulative neuron -&gt; 10.0\r\n\r\nTest part 3:\r\n--------------------\r\nBefore Brain new\r\nBefore first addNeuron\r\nBefore second addNeuron\r\nBefore third addNeuron\r\nBefore addCumulativeNeuron\r\nBefore createConnections\r\nBefore stimultate\r\nAfter stimultate\r\nINDEX IS: 3\r\nSIGNAL: 0.0\r\nSignal of 3rd neuron -&gt; 0.0\r\n*----------*\r\nThe brain contains 4 neuron(s)\r\nThe neuron in position (0.0, 0.0) with attenuation 0.5 in connection with\r\n  - a neuron in position (0.0, 1.0)\r\n  - a neuron in position (1.0, 0.0)\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nThe neuron in position (0.0, 1.0) with attenuation 0.2 in connection with\r\n  - a neuron in position (0.0, 0.0)\r\n  - a neuron in position (1.0, 0.0)\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\r\n  - a neuron in position (0.0, 0.0)\r\n  - a neuron in position (0.0, 1.0)\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nThe neuron in position (1.0, 1.0) with attenuation 0.8 in connection with\r\n  - a neuron in position (0.0, 0.0)\r\n  - a neuron in position (0.0, 1.0)\r\n  - a neuron in position (1.0, 0.0)\r\n\r\n*----------*\r\n```\r\n\r\nWhich again has a mistake because the signal of the 3rd neuron should be 4.800000000000001 and not 0.0\r\n\r\n```\r\nSignal of 3rd neuron -&gt; 0.0\r\n```\r\n\r\nDoes anyone know how to fix this this problem without commenting anything out, putting extra methods, extra characteristics or changing anything on the NeuronSimulator class (this is a project that needs to be this way)","title":"How to fix: Exception in thread &quot;main&quot; java.lang.StackOverflowError","body":"<pre><code>I have this classes as of know:\n</code></pre>\n<p><code>public class Position {</code><br />\n<code>private double x;</code><br />\n<code>private double y;</code></p>\n<p><code>public Position(double x, double y) {</code><br />\n<code>this.x = x;</code><br />\n<code>this.y = y;</code><br />\n<code>}</code></p>\n<p><code>public Position() {</code><br />\n<code>this(0, 0);</code><br />\n<code>}</code></p>\n<p><code>public double getX() {</code><br />\n<code>return x;</code><br />\n<code>}</code></p>\n<p><code>public double getY() {</code><br />\n<code>return y;</code><br />\n<code>}</code></p>\n<p><code>public String toString() {</code><br />\n<code>return &quot;(&quot; + this.x + &quot;, &quot; + this.y + &quot;)&quot;;</code><br />\n<code>}</code></p>\n<p><code>}</code></p>\n<p><code>import java.util.ArrayList;</code></p>\n<p><code>public class Brain {</code><br />\n<code>private ArrayList&lt;Neuron&gt; neurons;</code></p>\n<p><code>public Brain() {</code><br />\n<code>this.neurons = new ArrayList&lt;Neuron&gt;();</code><br />\n<code>}</code></p>\n<p><code>public int getNbNeurons() {</code><br />\n<code>return neurons.size();</code><br />\n<code>}</code></p>\n<p><code>public Neuron getNeuron(int index) {</code><br />\n<code>return neurons.get(index);</code><br />\n<code>}</code></p>\n<p><code>public void addNeuron(Position position, double attenuation) {</code></p>\n<p><code>Neuron n = new Neuron(position, attenuation);</code><br />\n<code>this.neurons.add(n);</code><br />\n<code>}</code></p>\n<p><code>public void addCumulativeNeuron(Position pos, double attenuation) {</code></p>\n<p><code>CumulativeNeuron cn = new CumulativeNeuron(pos, attenuation);</code><br />\n<code>this.neurons.add(cn);</code><br />\n<code>}</code></p>\n<p><code>public void stimulate(int index, double stimulus) {</code></p>\n<p><code>Neuron neuron = neurons.get(index);</code><br />\n<code>neuron.receivesStimulus(stimulus);</code><br />\n<code>}</code></p>\n<p><code>public double probe(int index) {</code><br />\n<code>Neuron neuron = neurons.get(index);</code><br />\n<code>System.out.println(&quot;INDEX IS: &quot; + index);</code><br />\n<code>System.out.println(&quot;SIGNAL: &quot; + neuron.getSignal());</code><br />\n<code>return neuron.getSignal();</code></p>\n<p><code>}</code><br />\n<code>public void createConnections() {</code><br />\n<code>int size = this.getNbNeurons();</code><br />\n<code>for (int i = 0; i &lt; size - 2; i++) {</code><br />\n<code>Neuron n1 = this.getNeuron(i);</code><br />\n<code>Neuron n2 = this.getNeuron(i + 1);</code><br />\n<code>n1.connection(n2);</code><br />\n<code>n2.connection(n1);</code><br />\n<code>}</code><br />\n<code>if (size &gt; 1) {</code><br />\n<code>this.getNeuron(0).connection(this.getNeuron(1));</code><br />\n<code>}</code><br />\n<code>if (size &gt; 2) {</code><br />\n<code>this.getNeuron(0).connection(this.getNeuron(2));</code><br />\n<code>}</code><br />\n<code>}</code></p>\n<p><code>public String toString() {</code><br />\n<code>StringBuilder sb = new StringBuilder();</code><br />\n<code>sb.append(&quot;*----------*\\n&quot;);</code><br />\n<code>sb.append(&quot;The brain contains &quot;).append(this.getNbNeurons()).append(&quot; neuron(s)\\n&quot;);</code></p>\n<p><code>for (Neuron neuron : this.neurons) {</code><br />\n<code>sb.append(neuron.toString()).append(&quot;\\n&quot;);</code><br />\n<code>}</code></p>\n<p><code>sb.append(&quot;*----------*\\n&quot;);</code></p>\n<p><code>return sb.toString();</code><br />\n<code>}</code><br />\n<code>}</code></p>\n<pre><code>I'm using this test class called NeuronSimulator\n</code></pre>\n<p><code>public class NeuronSimulator {</code></p>\n<p><code>public static void main(String[] args) {</code><br />\n<code>// TEST PART 1</code><br />\n<code>System.out.println(&quot;Test part 1:&quot;);</code><br />\n<code>System.out.println(&quot;--------------------&quot;);</code></p>\n<p><code>Position position1 = new Position(0, 1);</code><br />\n<code>Position position2 = new Position(1, 0);</code><br />\n<code>Position position3 = new Position(1, 1);</code></p>\n<p><code>Neuron neuron1 = new Neuron(position1, 0.5);</code><br />\n<code>Neuron neuron2 = new Neuron(position2, 1.0);</code><br />\n<code>Neuron neuron3 = new Neuron(position3, 2.0);</code></p>\n<p><code>neuron1.connection(neuron2);</code><br />\n<code>neuron2.connection(neuron3);</code><br />\n<code>neuron1.receivesStimulus(10);</code></p>\n<p><code>System.out.println(&quot;Signals : &quot;);</code><br />\n<code>System.out.println(neuron1.getSignal());</code><br />\n<code>System.out.println(neuron2.getSignal());</code><br />\n<code>System.out.println(neuron3.getSignal());</code></p>\n<p><code>System.out.println();</code><br />\n<code>System.out.println(&quot;First connection of neuron 1&quot;);</code><br />\n<code>System.out.println(neuron1.getConnection(0));</code></p>\n<p><code>// END TEST PART 1</code></p>\n<p><code>// TEST PART 2</code><br />\n<code>System.out.println(&quot;Test part 2:&quot;);</code><br />\n<code>System.out.println(&quot;--------------------&quot;);</code></p>\n<p><code>Position position5 = new Position(0, 0);</code><br />\n<code>CumulativeNeuron neuron5 = new CumulativeNeuron(position5, 0.5);</code><br />\n<code>neuron5.receivesStimulus(10);</code><br />\n<code>neuron5.receivesStimulus(10);</code><br />\n<code>System.out.println(&quot;Signal of cumulative neuron -&gt; &quot; + neuron5.getSignal());</code></p>\n<p><code>// END TEST PART 2</code></p>\n<p><code>//TEST PART 3</code><br />\n<code>System.out.println();</code><br />\n<code>System.out.println(&quot;Test part 3:&quot;);</code><br />\n<code>System.out.println(&quot;--------------------&quot;);</code><br />\n<code>Brain brain = new Brain();</code></p>\n<p><code>brain.addNeuron(new Position(0, 0), 0.5);</code><br />\n<code>brain.addNeuron(new Position(0, 1), 0.2);</code><br />\n<code>brain.addNeuron(new Position(1, 0), 1.0);</code></p>\n<p><code>brain.addCumulativeNeuron(new Position(1, 1), 0.8);</code><br />\n<code>brain.createConnections();</code><br />\n<code>brain.stimulate(0, 10);</code></p>\n<p><code>System.out.println(&quot;Signal of 3rd neuron -&gt; &quot; + brain.probe(3));</code><br />\n<code>System.out.println(brain);</code><br />\n<code>// END TEST PART 3</code></p>\n<p><code>}</code><br />\n<code>}</code></p>\n<p>When i run the test class I should get as an output the following:</p>\n<p>Test part 3:</p>\n<p>--------------------</p>\n<p>Signal of 3rd neuron -&gt; 4.800000000000001</p>\n<p>The brain contains 4 neuron(s)</p>\n<p>The neuron in position (0.0, 0.0) with attenuation 0.5 in connection with</p>\n<p>- a neuron in position (0.0, 1.0)</p>\n<p>- a neuron in position (1.0, 0.0)</p>\n<p>The neuron in position (0.0, 1.0) with attenuation 0.2 in connection with</p>\n<p>- a neuron in position (1.0, 0.0)</p>\n<p>The neuron in position (1.0, 0.0) with attenuation 1.0 in connection with</p>\n<p>- a neuron in position (1.0, 1.0)</p>\n<p>The neuron in position (1.0, 1.0) with attenuation 0.8 without connection</p>\n<p>*----------*</p>\n<p>But instead of that output I get this one</p>\n<pre><code>Test part 1:\n--------------------\nSignals : \n5.0\n5.0\n10.0\n\nFirst connection of neuron 1\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\n  - a neuron in position (1.0, 1.0)\n\nTest part 2:\n--------------------\nSignal of cumulative neuron -&gt; 10.0\n\nTest part 3:\n--------------------\nException in thread &quot;main&quot; java.lang.StackOverflowError\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:108)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n        .....\n\n\n</code></pre>\n<p>That means that the program gets stuck in an infinite loop when this method is called</p>\n<pre><code>public void receivesStimulus(double stimulus) {\n        this.signal = stimulus * this.attenuation;\n        for (Neuron connection : this.connections) {\n            \n            connection.receivesStimulus(this.signal);\n        }\n    }\n</code></pre>\n<p>And more especially it seems that this line is the problem</p>\n<p><code>connection.receivesStimulus(this.signal);</code></p>\n<p>when I commend out either this line</p>\n<p><code>brain.createConnections();</code></p>\n<p>or this line</p>\n<p><code>brain.stimulate(0, 10);</code></p>\n<p>the exception disappears and this is the output:</p>\n<pre><code>Test part 1:\n--------------------\nSignals : \n5.0\n5.0\n10.0\n\nFirst connection of neuron 1\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\n  - a neuron in position (1.0, 1.0)\n\nTest part 2:\n--------------------\nSignal of cumulative neuron -&gt; 10.0\n\nTest part 3:\n--------------------\nBefore Brain new\nBefore first addNeuron\nBefore second addNeuron\nBefore third addNeuron\nBefore addCumulativeNeuron\nBefore createConnections\nBefore stimultate\nAfter stimultate\nINDEX IS: 3\nSIGNAL: 0.0\nSignal of 3rd neuron -&gt; 0.0\n*----------*\nThe brain contains 4 neuron(s)\nThe neuron in position (0.0, 0.0) with attenuation 0.5 in connection with\n  - a neuron in position (0.0, 1.0)\n  - a neuron in position (1.0, 0.0)\n  - a neuron in position (1.0, 1.0)\n\nThe neuron in position (0.0, 1.0) with attenuation 0.2 in connection with\n  - a neuron in position (0.0, 0.0)\n  - a neuron in position (1.0, 0.0)\n  - a neuron in position (1.0, 1.0)\n\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\n  - a neuron in position (0.0, 0.0)\n  - a neuron in position (0.0, 1.0)\n  - a neuron in position (1.0, 1.0)\n\nThe neuron in position (1.0, 1.0) with attenuation 0.8 in connection with\n  - a neuron in position (0.0, 0.0)\n  - a neuron in position (0.0, 1.0)\n  - a neuron in position (1.0, 0.0)\n\n*----------*\n</code></pre>\n<p>Which again has a mistake because the signal of the 3rd neuron should be 4.800000000000001 and not 0.0</p>\n<pre><code>Signal of 3rd neuron -&gt; 0.0\n</code></pre>\n<p>Does anyone know how to fix this this problem without commenting anything out, putting extra methods, extra characteristics or changing anything on the NeuronSimulator class (this is a project that needs to be this way)</p>\n"},{"tags":["java","multithreading","mutex","illegalstateexception"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1680486508,"post_id":75915501,"comment_id":133901610,"body_markdown":"Why do you think that thread 2 *should* be blocked? Does it use synchronization anywhere?","body":"Why do you think that thread 2 <i>should</i> be blocked? Does it use synchronization anywhere?"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1680487221,"post_id":75915501,"comment_id":133901676,"body_markdown":"The boolean value is immutable. When you change the value you swap in a different object, now you&#39;re calling wait on something you didn&#39;t synchronize on.","body":"The boolean value is immutable. When you change the value you swap in a different object, now you&#39;re calling wait on something you didn&#39;t synchronize on."}],"owner":{"account_id":9933082,"reputation":169,"user_id":7352289,"display_name":"arp5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680487538,"answer_count":0,"score":0,"last_activity_date":1680485585,"creation_date":1680485585,"question_id":75915501,"body_markdown":"I don&#39;t understand why we get an IllegalMonitorState exception here. If the thread1 has synchronized on the boolean flag then how is thread2 able to change it. shouldn&#39;t it block on thread1? this code gives IllegalMonitorState exception because the wait is called after thread2 changes the value of the flag. i&#39;m having trouble understanding why thread2 did not get blocked here.\r\n\r\nclass IncorrectSynchronization {\r\n\r\n    Boolean flag = new Boolean(true);\r\n\r\n    public void example() throws InterruptedException {\r\n\r\n        Thread t1 = new Thread(new Runnable() {\r\n\r\n            public void run() {\r\n                synchronized (flag) {\r\n                    try {\r\n                        while (flag) {\r\n                            System.out.println(&quot;First thread about to sleep&quot;);\r\n                            Thread.sleep(5000);\r\n                            System.out.println(&quot;Woke up and about to invoke wait()&quot;);\r\n                            flag.wait();\r\n                        }\r\n                    } catch (InterruptedException ie) {\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        Thread t2 = new Thread(new Runnable() {\r\n\r\n            public void run() {\r\n                flag = false;\r\n                System.out.println(&quot;Boolean assignment done.&quot;);\r\n            }\r\n        });\r\n\r\n        t1.start();\r\n        Thread.sleep(1000);\r\n        t2.start();\r\n        t1.join();\r\n        t2.join();\r\n    }\r\n}\r\n\r\nI&#39;m having trouble understanding at which point did thread 1 relinquish lock on flag","title":"IllegalStateMonitor exception on Thread Execution","body":"<p>I don't understand why we get an IllegalMonitorState exception here. If the thread1 has synchronized on the boolean flag then how is thread2 able to change it. shouldn't it block on thread1? this code gives IllegalMonitorState exception because the wait is called after thread2 changes the value of the flag. i'm having trouble understanding why thread2 did not get blocked here.</p>\n<p>class IncorrectSynchronization {</p>\n<pre><code>Boolean flag = new Boolean(true);\n\npublic void example() throws InterruptedException {\n\n    Thread t1 = new Thread(new Runnable() {\n\n        public void run() {\n            synchronized (flag) {\n                try {\n                    while (flag) {\n                        System.out.println(&quot;First thread about to sleep&quot;);\n                        Thread.sleep(5000);\n                        System.out.println(&quot;Woke up and about to invoke wait()&quot;);\n                        flag.wait();\n                    }\n                } catch (InterruptedException ie) {\n\n                }\n            }\n        }\n    });\n\n    Thread t2 = new Thread(new Runnable() {\n\n        public void run() {\n            flag = false;\n            System.out.println(&quot;Boolean assignment done.&quot;);\n        }\n    });\n\n    t1.start();\n    Thread.sleep(1000);\n    t2.start();\n    t1.join();\n    t2.join();\n}\n</code></pre>\n<p>}</p>\n<p>I'm having trouble understanding at which point did thread 1 relinquish lock on flag</p>\n"},{"tags":["java","if-statement","decimal"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1680481004,"post_id":75915260,"comment_id":133901038,"body_markdown":"Why do you expect that the code should stop?","body":"Why do you expect that the code should stop?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1680481064,"post_id":75915260,"comment_id":133901044,"body_markdown":"And what steps have you taken to try to debug the issue? Please describe these steps and the results found.","body":"And what steps have you taken to try to debug the issue? Please describe these steps and the results found."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1680481446,"post_id":75915260,"comment_id":133901083,"body_markdown":"This looks to me like a floating point error.  Adding `0.2` ten times isn&#39;t going to get you to exactly `2.0`.  Perhaps you want to use `BigDecimal` instead of `double`, or perhaps you&#39;d like to use a slightly looser condition than `A == 2`.","body":"This looks to me like a floating point error.  Adding <code>0.2</code> ten times isn&#39;t going to get you to exactly <code>2.0</code>.  Perhaps you want to use <code>BigDecimal</code> instead of <code>double</code>, or perhaps you&#39;d like to use a slightly looser condition than <code>A == 2</code>."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1680481770,"post_id":75915260,"comment_id":133901117,"body_markdown":"Does this answer your question? [Is floating point math broken?](https://stackoverflow.com/questions/588004/is-floating-point-math-broken)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680481945,"creation_date":1680481945,"answer_id":75915338,"question_id":75915260,"body_markdown":"You&#39;re running into a key problem here. It&#39;s not &#39;in java, `if` does not work&#39;. Of course it does. It&#39;s a tool used by millions, and you&#39;re a beginner - anytime you think &#39;The tool must be broken&#39;, trust the millions. It isn&#39;t.\r\n\r\nThe problem you&#39;re running into is that `double` math doesn&#39;t do what you think it does.\r\n\r\n&gt; ```java\r\n&gt;  double A=0, J=1;\r\n&gt; .... A == 1.0 ....\r\n&gt; ```\r\n\r\nStop. You lost the game. You can&#39;t use `==` with doubles unless you really, really, really know what you are doing.\r\n\r\n`double` does not work that way. doubles are imprecise. Computers are finite constructs. Quick, grab me a piece of paper and write out 1 divided by 3, in decimal, exactly.\r\n\r\nOf course, you can&#39;t. 0.333333 - it never ends. Computers like binary instead of decimal, and they&#39;d be very slow indeed if they had to emulate decimal (after all, 10 is not a power of 2, so it&#39;s not so easy to emulate base-10 math, considering!) - so, `double` does two things:\r\n\r\n* Because computers aren&#39;t infinite, just like your piece of paper isn&#39;t, doubles __silently__ lop off anything beyond 52 digits (counting both before and after the comma). It&#39;s as if you wrote 0.3333 (52 threes), and then handed it back to me and went: Here you go! - you might think that is annoying, but consider how else it should work.\r\n\r\n* ... and because computers like binary, that&#39;s 52 __binary__ digits. zeroes and ones, only.\r\n\r\nHere&#39;s the thing: If I ask you to write 1/5th on a piece of paper, you can do that. 0.2. There. Exact perfection. That&#39;s because 1/5th is easy to &#39;do&#39; in base-10 math. But in base-2 math __it is as impossible as 1/3rd is!__ - a computer __CANNOT__ perfectly represent 0.2 and has to round it.\r\n\r\nImagine I asked you to write that note for 1/3, and then I ask you to write 2 more notes, also with 1/3. You hand me back a note with 0.(52 threes) three times. I then give you those notes right back and ask you to &#39;please add these numbers up&#39;.\r\n\r\nGuess what?\r\n\r\n__You will mess it up__. Because you will give me 0.(52 nines). Because that is indeed the correct sum of all the 3 notes you handed me. So, in this &#39;write it on a note&#39; system (which is, exactly, what computers do, of course), `1/3 + 1/3 + 1/3` results in __a broken result__.\r\n\r\n__This is part of the `double` spec - this is really how it works__.\r\n\r\nAs a consequence, doubles have errors, and given that they have errors, you need to think about any `double` value as merely &#39;near&#39; what the actual number is you wanted. Once you get real good at this you&#39;ll know exactly how &#39;far&#39; near can get (if you do a lot of math at very large magnitude, or do loads of ops, that error gets quite large. But, even if you don&#39;t, there&#39;s some error, even if only a very small one). Point is, given that the number is merely &#39;near&#39; what you think it is, `==` __is broken__ with doubles. It just doesn&#39;t work. That explains for example why `A == 2` is never `true`. For the same reason first writing down 1/3 three times lopping off any digits after the 52nd one, then adding _those_ up, isn&#39;t fully 1.0 either.\r\n\r\nBecause of this, you have the wrong idea about which of the `if`s is being triggered. You get straight integers when an `if` triggers that uses `%.0f` format, and you get the `5.0` style prints when a `%.1f` is being triggered.\r\n\r\n`%.1f` does what you ask it to: it rounds. So, if your actual number is 0.999999999 (because of that rounding issue), and you toss that at `printf(&quot;%.1f&quot;)` it dutifully prints 1.0, because 1.0 is indeed the closest number to 0.99999999 that you can print with only one digit after the comma.\r\n\r\n### So how do I fix this?\r\n\r\nThere are various strategies; your code is not clear about what it is actually trying to _do_, so I can&#39;t advise you on what the right answer is here. But there is a right answer to all scenarios. A small selection of common solutions:\r\n\r\n## int/long instead\r\n\r\nMany systems have a universally agreed upon unit of atomicity. Trying to operate sub-atomic is problematic and doesn&#39;t integrate. For example, for euros, the atomic unit is __cents__. You can ask a bank to transfer 1 cent. You cannot ask a bank to transfer half of a cent.\r\n\r\nIn such systems its generally a smarter plan to store the atomic unit and not the de facto unit. So, store cents, not euros. If you have a class representing an item stocked in a store and you need to track price, do NOT do `double price = 1.23;` for something costing 1 dollar and 23 cents. Instead fo `int price = 123;`.\r\n\r\n## BigDecimal\r\n\r\nBD emulates decimal math to whatever precision you want (with the one and only limitation your system&#39;s memory). It can perfectly do the math you are trying to do. But note that it comes with a bevy of caveats - it&#39;s slow as molasses and hard to use. Also, you still don&#39;t solve the division problem. Just like you can&#39;t write the exact result of 1 divided by 3 on a piece of paper, if you ask BD to divide 1 by 3 it will throw an exception instead; you have to tell it how to deal with the rounding that it has to do, and once you do that, rounding is back in and we&#39;re stick with that &#39;actually all doubles are more like a nebulous cloud that is merely near what it really should be&#39; thing.\r\n\r\n## delta\r\n\r\nInstead of using `==`, instead you want to know if the result is merely NEAR what you are looking for. So, instead of `A == 1.0`, you&#39;d do: `Math.abs(A - 1.0) &lt; 0.00001` which checks if A is really really close to 1.0.\r\n","title":"the ifs aren&#39;t working properly most of the time in this code. [java]","body":"<p>You're running into a key problem here. It's not 'in java, <code>if</code> does not work'. Of course it does. It's a tool used by millions, and you're a beginner - anytime you think 'The tool must be broken', trust the millions. It isn't.</p>\n<p>The problem you're running into is that <code>double</code> math doesn't do what you think it does.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code> double A=0, J=1;\n.... A == 1.0 ....\n</code></pre>\n</blockquote>\n<p>Stop. You lost the game. You can't use <code>==</code> with doubles unless you really, really, really know what you are doing.</p>\n<p><code>double</code> does not work that way. doubles are imprecise. Computers are finite constructs. Quick, grab me a piece of paper and write out 1 divided by 3, in decimal, exactly.</p>\n<p>Of course, you can't. 0.333333 - it never ends. Computers like binary instead of decimal, and they'd be very slow indeed if they had to emulate decimal (after all, 10 is not a power of 2, so it's not so easy to emulate base-10 math, considering!) - so, <code>double</code> does two things:</p>\n<ul>\n<li><p>Because computers aren't infinite, just like your piece of paper isn't, doubles <strong>silently</strong> lop off anything beyond 52 digits (counting both before and after the comma). It's as if you wrote 0.3333 (52 threes), and then handed it back to me and went: Here you go! - you might think that is annoying, but consider how else it should work.</p>\n</li>\n<li><p>... and because computers like binary, that's 52 <strong>binary</strong> digits. zeroes and ones, only.</p>\n</li>\n</ul>\n<p>Here's the thing: If I ask you to write 1/5th on a piece of paper, you can do that. 0.2. There. Exact perfection. That's because 1/5th is easy to 'do' in base-10 math. But in base-2 math <strong>it is as impossible as 1/3rd is!</strong> - a computer <strong>CANNOT</strong> perfectly represent 0.2 and has to round it.</p>\n<p>Imagine I asked you to write that note for 1/3, and then I ask you to write 2 more notes, also with 1/3. You hand me back a note with 0.(52 threes) three times. I then give you those notes right back and ask you to 'please add these numbers up'.</p>\n<p>Guess what?</p>\n<p><strong>You will mess it up</strong>. Because you will give me 0.(52 nines). Because that is indeed the correct sum of all the 3 notes you handed me. So, in this 'write it on a note' system (which is, exactly, what computers do, of course), <code>1/3 + 1/3 + 1/3</code> results in <strong>a broken result</strong>.</p>\n<p><strong>This is part of the <code>double</code> spec - this is really how it works</strong>.</p>\n<p>As a consequence, doubles have errors, and given that they have errors, you need to think about any <code>double</code> value as merely 'near' what the actual number is you wanted. Once you get real good at this you'll know exactly how 'far' near can get (if you do a lot of math at very large magnitude, or do loads of ops, that error gets quite large. But, even if you don't, there's some error, even if only a very small one). Point is, given that the number is merely 'near' what you think it is, <code>==</code> <strong>is broken</strong> with doubles. It just doesn't work. That explains for example why <code>A == 2</code> is never <code>true</code>. For the same reason first writing down 1/3 three times lopping off any digits after the 52nd one, then adding <em>those</em> up, isn't fully 1.0 either.</p>\n<p>Because of this, you have the wrong idea about which of the <code>if</code>s is being triggered. You get straight integers when an <code>if</code> triggers that uses <code>%.0f</code> format, and you get the <code>5.0</code> style prints when a <code>%.1f</code> is being triggered.</p>\n<p><code>%.1f</code> does what you ask it to: it rounds. So, if your actual number is 0.999999999 (because of that rounding issue), and you toss that at <code>printf(&quot;%.1f&quot;)</code> it dutifully prints 1.0, because 1.0 is indeed the closest number to 0.99999999 that you can print with only one digit after the comma.</p>\n<h3>So how do I fix this?</h3>\n<p>There are various strategies; your code is not clear about what it is actually trying to <em>do</em>, so I can't advise you on what the right answer is here. But there is a right answer to all scenarios. A small selection of common solutions:</p>\n<h2>int/long instead</h2>\n<p>Many systems have a universally agreed upon unit of atomicity. Trying to operate sub-atomic is problematic and doesn't integrate. For example, for euros, the atomic unit is <strong>cents</strong>. You can ask a bank to transfer 1 cent. You cannot ask a bank to transfer half of a cent.</p>\n<p>In such systems its generally a smarter plan to store the atomic unit and not the de facto unit. So, store cents, not euros. If you have a class representing an item stocked in a store and you need to track price, do NOT do <code>double price = 1.23;</code> for something costing 1 dollar and 23 cents. Instead fo <code>int price = 123;</code>.</p>\n<h2>BigDecimal</h2>\n<p>BD emulates decimal math to whatever precision you want (with the one and only limitation your system's memory). It can perfectly do the math you are trying to do. But note that it comes with a bevy of caveats - it's slow as molasses and hard to use. Also, you still don't solve the division problem. Just like you can't write the exact result of 1 divided by 3 on a piece of paper, if you ask BD to divide 1 by 3 it will throw an exception instead; you have to tell it how to deal with the rounding that it has to do, and once you do that, rounding is back in and we're stick with that 'actually all doubles are more like a nebulous cloud that is merely near what it really should be' thing.</p>\n<h2>delta</h2>\n<p>Instead of using <code>==</code>, instead you want to know if the result is merely NEAR what you are looking for. So, instead of <code>A == 1.0</code>, you'd do: <code>Math.abs(A - 1.0) &lt; 0.00001</code> which checks if A is really really close to 1.0.</p>\n"}],"owner":{"account_id":28198013,"reputation":3,"user_id":21552292,"display_name":"GABRIEL EURIPEDES VIEIRA CORRE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680508142,"accepted_answer_id":75915338,"answer_count":1,"score":-1,"last_activity_date":1680481945,"creation_date":1680480631,"question_id":75915260,"body_markdown":"```\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Main {\r\n \r\n    public static void main(String[] args)  {\r\n \r\n        Scanner s = new Scanner(System.in);\r\n        double A=0, J=1;\r\n        int aux=0;\r\n        \r\n        for(int i = 0; ; i++){\r\n            if(A%1==0.0 &amp;&amp; J%1==0.0) { System.out.printf(&quot;I=%.0f J=%.0f\\n&quot;, A, J); }\r\n            else if(A%1!=0 &amp;&amp; J%1==0) { System.out.printf(&quot;I=%.1f J=%.0f\\n&quot;, A, J); }\r\n            else if(A%1==0 &amp;&amp; J%1!=0) { System.out.printf(&quot;I=%.0f J=%.1f\\n&quot;, A, J); }\r\n            else if(A%1!=0 &amp;&amp; J%1!=0) { System.out.printf(&quot;I=%.1f J=%.1f\\n&quot;, A, J); }\r\n            J++;\r\n            aux++;\r\n            if(A==2 &amp;&amp; aux==3) { break;}\r\n            if(aux==3){ A+=0.2; J+=0.2; J-=3; aux=0;}\r\n        }\r\n}\r\n}\r\n```\r\n\r\n\r\n\r\nThis should print :\r\n```\r\nI=0 J=1\r\nI=0 J=2\r\nI=0 J=3\r\nI=0.2 J=1.2\r\nI=0.2 J=2.2\r\nI=0.2 J=3.2\r\n... \r\nI=2 J=5 \r\n```\r\n\r\nfirst of all the code doesn&#39;t stop, as it&#39;s not reading the `if(A==2 &amp;&amp; aux==3) { break;}`, then there&#39;s also the fact that it&#39;s not reading the first if properly either, as when I= integer and J=integer, the code should print exemple :  `I=2 J=5` but instead prints `I=2.0 J=5.0` in most cases, other than in `I=5.0 J=6, I=5.0 J=7, and I=5.0 J=8` where J is correctly being printed as an integer for some reason...","title":"the ifs aren&#39;t working properly most of the time in this code. [java]","body":"<pre><code>import java.io.IOException;\nimport java.util.Scanner;\n\n\npublic class Main {\n \n    public static void main(String[] args)  {\n \n        Scanner s = new Scanner(System.in);\n        double A=0, J=1;\n        int aux=0;\n        \n        for(int i = 0; ; i++){\n            if(A%1==0.0 &amp;&amp; J%1==0.0) { System.out.printf(&quot;I=%.0f J=%.0f\\n&quot;, A, J); }\n            else if(A%1!=0 &amp;&amp; J%1==0) { System.out.printf(&quot;I=%.1f J=%.0f\\n&quot;, A, J); }\n            else if(A%1==0 &amp;&amp; J%1!=0) { System.out.printf(&quot;I=%.0f J=%.1f\\n&quot;, A, J); }\n            else if(A%1!=0 &amp;&amp; J%1!=0) { System.out.printf(&quot;I=%.1f J=%.1f\\n&quot;, A, J); }\n            J++;\n            aux++;\n            if(A==2 &amp;&amp; aux==3) { break;}\n            if(aux==3){ A+=0.2; J+=0.2; J-=3; aux=0;}\n        }\n}\n}\n</code></pre>\n<p>This should print :</p>\n<pre><code>I=0 J=1\nI=0 J=2\nI=0 J=3\nI=0.2 J=1.2\nI=0.2 J=2.2\nI=0.2 J=3.2\n... \nI=2 J=5 \n</code></pre>\n<p>first of all the code doesn't stop, as it's not reading the <code>if(A==2 &amp;&amp; aux==3) { break;}</code>, then there's also the fact that it's not reading the first if properly either, as when I= integer and J=integer, the code should print exemple :  <code>I=2 J=5</code> but instead prints <code>I=2.0 J=5.0</code> in most cases, other than in <code>I=5.0 J=6, I=5.0 J=7, and I=5.0 J=8</code> where J is correctly being printed as an integer for some reason...</p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669438048,"post_id":74579783,"comment_id":131645790,"body_markdown":"It is `Ljava/util/Optional;`. You missed several things: erasure, primitives vs wrappers...","body":"It is <code>Ljava&#47;util&#47;Optional;</code>. You missed several things: erasure, primitives vs wrappers..."},{"owner":{"account_id":22421523,"reputation":40,"user_id":16628722,"display_name":"notabot"},"score":0,"creation_date":1669438430,"post_id":74579783,"comment_id":131645832,"body_markdown":"@JohannesKuhn I need to include the Optional&lt;Double&gt; and not just all of the Optional&lt;T&gt; types, thanks for the help and it is very helpful!","body":"@JohannesKuhn I need to include the Optional&lt;Double&gt; and not just all of the Optional&lt;T&gt; types, thanks for the help and it is very helpful!"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1669440785,"post_id":74579783,"comment_id":131646054,"body_markdown":"There is no specific type descriptor string for `Optional&lt;Double&gt;` ... because *type erasure*.  The erased type&#39;s descriptor string is `Ljava/util/Optional;`.  That&#39;s it.  Nothing else.","body":"There is no specific type descriptor string for <code>Optional&lt;Double&gt;</code> ... because <i>type erasure</i>.  The erased type&#39;s descriptor string is <code>Ljava&#47;util&#47;Optional;</code>.  That&#39;s it.  Nothing else."},{"owner":{"account_id":22421523,"reputation":40,"user_id":16628722,"display_name":"notabot"},"score":0,"creation_date":1669442403,"post_id":74579783,"comment_id":131646186,"body_markdown":"Then is there a way to differentiate `Option&lt;Double&gt;` and `Option&lt;Integer&gt;`?","body":"Then is there a way to differentiate <code>Option&lt;Double&gt;</code> and <code>Option&lt;Integer&gt;</code>?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669454326,"post_id":74579783,"comment_id":131647504,"body_markdown":"From the field descriptor? No, there is no way to differentiate `Optional&lt;Double&gt;` and `Optional&lt;Integer&gt;`, because erasure.","body":"From the field descriptor? No, there is no way to differentiate <code>Optional&lt;Double&gt;</code> and <code>Optional&lt;Integer&gt;</code>, because erasure."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669454502,"post_id":74579783,"comment_id":131647524,"body_markdown":"Also, you can&#39;t use primitive types with generics. `Double` is the wrapper type, and `double` is the primitive type. And the descriptor for `Double` is `Ljava/lang/Double;`, while for `double` it is `D`. (You mix that up in your question.)","body":"Also, you can&#39;t use primitive types with generics. <code>Double</code> is the wrapper type, and <code>double</code> is the primitive type. And the descriptor for <code>Double</code> is <code>Ljava&#47;lang&#47;Double;</code>, while for <code>double</code> it is <code>D</code>. (You mix that up in your question.)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669454609,"post_id":74579783,"comment_id":131647534,"body_markdown":"Finally, I hope you are aware of [`java.util.OptionalDouble`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalDouble.html)","body":"Finally, I hope you are aware of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalDouble.html\" rel=\"nofollow noreferrer\"><code>java.util.OptionalDouble</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":22421523,"reputation":40,"user_id":16628722,"display_name":"notabot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680480508,"creation_date":1680480508,"answer_id":75915248,"question_id":74579783,"body_markdown":"After reading some of the comments and doing some research. I summarized that there is no way to differentiate between the two because of type erasure","title":"What is the Java Field Descriptor for Optional&lt;Double&gt;?","body":"<p>After reading some of the comments and doing some research. I summarized that there is no way to differentiate between the two because of type erasure</p>\n"}],"owner":{"account_id":22421523,"reputation":40,"user_id":16628722,"display_name":"notabot"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75915248,"answer_count":1,"score":0,"last_activity_date":1680480508,"creation_date":1669437897,"question_id":74579783,"body_markdown":"I know that the Java Field Descriptor for type Double is D, but how would you include the &quot;Optional&lt;&gt;&quot; wrapping the primitive type? Any help would be appreciated. \r\n\r\nI have tried to use &quot;Ljava/util/Optional/Double&quot; but it appears that this does not work at all. ","title":"What is the Java Field Descriptor for Optional&lt;Double&gt;?","body":"<p>I know that the Java Field Descriptor for type Double is D, but how would you include the &quot;Optional&lt;&gt;&quot; wrapping the primitive type? Any help would be appreciated.</p>\n<p>I have tried to use &quot;Ljava/util/Optional/Double&quot; but it appears that this does not work at all.</p>\n"},{"tags":["java","ssl","telegram-bot","self-signed"],"owner":{"account_id":19042166,"reputation":33,"user_id":13902023,"display_name":"Сергей Штукатуров"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680478943,"creation_date":1680390295,"question_id":75909309,"body_markdown":"I try to run Telegram webhook bot on my VPS, and it starts. But when it tries to receive an update, it spams error messages instead. The output looks like this:\r\n\r\n&gt;!WARN 96184 --- [or-http-epoll-2] r.n.http.server.HttpServerOperations     : [9ee2cfa8, L:/000.000.000.000:8443 - R:/91.108.6.73:50172] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: &#203;&#207;&#207;4L&#39;.&#205;&quot;Ÿ&#184;@&#167;M\r\n0Z\t)_&#209;&gt;&#195;&gt;&#192;,&#192;02023-04-01 02:26:11.963  WARN 96184 --- [or-http-epoll-3] r.n.http.server.HttpServerOperations     : [5eb1a6ec, L:/000.000.000.000:8443 - R:/91.108.6.73:50616] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: [[P&#166;&#162;\r\n B)2023-04-01 02:26:13.967  WARN 96184 --- [or-http-epoll-4] r.n.http.server.HttpServerOperations     : [08774100, L:/000.000.000.000:8443 - R:/91.108.6.73:51120] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: &#209;&#174;&#182;&#201;&#210;&#176;&#210;T&#212;&#218;&#165;&#200;N+&#220;&#168;&#171;E&#204;&gt;&#192;,&#192;02023-04-01 02:26:15.956  WARN 96184 --- [or-http-epoll-1] r.n.http.server.HttpServerOperations     : [a2883024, L:/000.000.000.000:8443 - R:/91.108.6.73:51600] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: &#204; D&#166;W&#39;K&#192;J9V&#217;P&#209;{ DZ&#209;]\t&#201;V4CY&#172;I\r\n                               &amp;&#205;&#211;&gt;&#192;,&#192;02023-04-01 02:26:17.958\r\n\r\nAnd it continues until I stop app manually. I&#39;ve checked similar questions and it looks like I need a security certificate. Telegram API allows to use self-signed certificate, so I&#39;ve created one on VPS according to manual:\r\n`openssl req -newkey rsa:2048 -sha256 -nodes -keyout private.key -x509 -days 3650 -out cert.pem -subj &quot;/C=AU/ST=MySt/L=MyLoc/O=MyLearningBot/CN=000.000.000.000&quot;`\r\nWhere 000.000.000.000 is my VPS IP\r\n\r\nThen I&#39;ve registered webhook: \r\n`curl -F &quot;url=https://000.000.000.000:8443/bot1234567890mybottoken&quot; -F &quot;certificate=@/absolute/path/cert.pem&quot; https://api.telegram.org/bot1234567890mybottoken/setWebhook`\r\n\r\nI&#39;m not sure if I had to use @ in certificate parameter, so I&#39;ve tried it both ways. The result is the same - the app outputs stream of errors.\r\n\r\nWhile the app is working, getWebhookInfo method returns this: \r\n```\r\n{&quot;ok&quot;:true,&quot;result&quot;:{&quot;url&quot;:&quot;https://000.000.000.000:8443/bot1234567890mybottoken&quot;,&quot;has_custom_certificate&quot;:true,&quot;pending_update_count&quot;:1,&quot;last_error_date&quot;:1680305175,&quot;last_error_message&quot;:&quot;SSL error {error:0A00010B:SSL routines::wrong version number}&quot;,&quot;max_connections&quot;:40,&quot;ip_address&quot;:&quot;000.000.000.000&quot;}}\r\n```\r\nWhen app is stopped, last_error_message expectedly changes to &quot;Connection refused&quot;.\r\nI think that there is some problem with my certificate, but can&#39;t find solution. Mostly advice to configure Apache server, but I don&#39;t use one, it&#39;s an Spring web app.\r\nI use Java, on my local machine I run the app through ngrok and it works fine.\r\n\r\nApp runs from jar file, built by Gradle and located in MyProjectDir/build/libs. cert.pem and private.key located in the same folder with MyProjectDir (but not inside it).\r\n\r\nMaybe I have to register cert.pem inside my Java code? Or maybe there is the way to define version format?\r\n\r\nUPD: Tried to add server.ssl.certificate=cert.pem and server.ssl.certificate-private-key=private.key, getWebhookInfo changed to \r\n\r\n```\r\n{&quot;ok&quot;:true,&quot;result&quot;:{&quot;url&quot;:&quot;https://000.000.000.000:8443/bot1234567890mybottoken&quot;,&quot;has_custom_certificate&quot;:true,&quot;pending_update_count&quot;:2,&quot;last_error_date&quot;:1680477774,&quot;last_error_message&quot;:&quot;Wrong response from the webhook: 404 Not Found&quot;,&quot;max_connections&quot;:40,&quot;ip_address&quot;:&quot;000.000.000.000&quot;}}\r\n```","title":"Telegram webhook bot on VPS throws java.lang.IllegalArgumentException: invalid version format exeption","body":"<p>I try to run Telegram webhook bot on my VPS, and it starts. But when it tries to receive an update, it spams error messages instead. The output looks like this:</p>\n<blockquote>\n<p>!WARN 96184 --- [or-http-epoll-2] r.n.http.server.HttpServerOperations     : [9ee2cfa8, L:/000.000.000.000:8443 - R:/91.108.6.73:50172] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: ËÏÏ4L'.Í&quot;Ÿ¸@§M\n0Z  )_Ñ&gt;Ã&gt;À,À02023-04-01 02:26:11.963  WARN 96184 --- [or-http-epoll-3] r.n.http.server.HttpServerOperations     : [5eb1a6ec, L:/000.000.000.000:8443 - R:/91.108.6.73:50616] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: [[P¦¢\nB)2023-04-01 02:26:13.967  WARN 96184 --- [or-http-epoll-4] r.n.http.server.HttpServerOperations     : [08774100, L:/000.000.000.000:8443 - R:/91.108.6.73:51120] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: Ñ®¶ÉÒ°ÒTÔÚ¥ÈN+Ü¨«EÌ&gt;À,À02023-04-01 02:26:15.956  WARN 96184 --- [or-http-epoll-1] r.n.http.server.HttpServerOperations     : [a2883024, L:/000.000.000.000:8443 - R:/91.108.6.73:51600] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: Ì D¦W'KÀJ9VÙPÑ{ DZÑ] ÉV4CY¬I\n&amp;ÍÓ&gt;À,À02023-04-01 02:26:17.958</p>\n</blockquote>\n<p>And it continues until I stop app manually. I've checked similar questions and it looks like I need a security certificate. Telegram API allows to use self-signed certificate, so I've created one on VPS according to manual:\n<code>openssl req -newkey rsa:2048 -sha256 -nodes -keyout private.key -x509 -days 3650 -out cert.pem -subj &quot;/C=AU/ST=MySt/L=MyLoc/O=MyLearningBot/CN=000.000.000.000&quot;</code>\nWhere 000.000.000.000 is my VPS IP</p>\n<p>Then I've registered webhook:\n<code>curl -F &quot;url=https://000.000.000.000:8443/bot1234567890mybottoken&quot; -F &quot;certificate=@/absolute/path/cert.pem&quot; https://api.telegram.org/bot1234567890mybottoken/setWebhook</code></p>\n<p>I'm not sure if I had to use @ in certificate parameter, so I've tried it both ways. The result is the same - the app outputs stream of errors.</p>\n<p>While the app is working, getWebhookInfo method returns this:</p>\n<pre><code>{&quot;ok&quot;:true,&quot;result&quot;:{&quot;url&quot;:&quot;https://000.000.000.000:8443/bot1234567890mybottoken&quot;,&quot;has_custom_certificate&quot;:true,&quot;pending_update_count&quot;:1,&quot;last_error_date&quot;:1680305175,&quot;last_error_message&quot;:&quot;SSL error {error:0A00010B:SSL routines::wrong version number}&quot;,&quot;max_connections&quot;:40,&quot;ip_address&quot;:&quot;000.000.000.000&quot;}}\n</code></pre>\n<p>When app is stopped, last_error_message expectedly changes to &quot;Connection refused&quot;.\nI think that there is some problem with my certificate, but can't find solution. Mostly advice to configure Apache server, but I don't use one, it's an Spring web app.\nI use Java, on my local machine I run the app through ngrok and it works fine.</p>\n<p>App runs from jar file, built by Gradle and located in MyProjectDir/build/libs. cert.pem and private.key located in the same folder with MyProjectDir (but not inside it).</p>\n<p>Maybe I have to register cert.pem inside my Java code? Or maybe there is the way to define version format?</p>\n<p>UPD: Tried to add server.ssl.certificate=cert.pem and server.ssl.certificate-private-key=private.key, getWebhookInfo changed to</p>\n<pre><code>{&quot;ok&quot;:true,&quot;result&quot;:{&quot;url&quot;:&quot;https://000.000.000.000:8443/bot1234567890mybottoken&quot;,&quot;has_custom_certificate&quot;:true,&quot;pending_update_count&quot;:2,&quot;last_error_date&quot;:1680477774,&quot;last_error_message&quot;:&quot;Wrong response from the webhook: 404 Not Found&quot;,&quot;max_connections&quot;:40,&quot;ip_address&quot;:&quot;000.000.000.000&quot;}}\n</code></pre>\n"},{"tags":["java","sketchware"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680535438,"post_id":75915104,"comment_id":133911001,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28197777,"reputation":1,"user_id":21552102,"display_name":"java patcher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680477599,"creation_date":1680477599,"question_id":75915104,"body_markdown":"How to save preferences in linear background color and set the color to another and save a color and set to another linear view and text?\r\n\r\nget color in sharedpreference and put it into new linear","title":"finding solutions for get linearBackroundColor to save in savepreference","body":"<p>How to save preferences in linear background color and set the color to another and save a color and set to another linear view and text?</p>\n<p>get color in sharedpreference and put it into new linear</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680469331,"post_id":75914560,"comment_id":133899797,"body_markdown":"cleanJsonString = dirtyJsonString.replace(“ : ”, “: “);","body":"cleanJsonString = dirtyJsonString.replace(“ : ”, “: “);"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680470415,"post_id":75914560,"comment_id":133899925,"body_markdown":"@JohnWilliams I hope you are joking? Never use a regex on a JSON string","body":"@JohnWilliams I hope you are joking? Never use a regex on a JSON string"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680470641,"post_id":75914560,"comment_id":133899947,"body_markdown":"Whitespace isn&#39;t significant in that location, as far as JSON parsers are concerned, and your output is perfectly readable. Why do you need to do this?","body":"Whitespace isn&#39;t significant in that location, as far as JSON parsers are concerned, and your output is perfectly readable. Why do you need to do this?"},{"owner":{"account_id":413918,"reputation":3157,"user_id":787832,"accept_rate":75,"display_name":"Steve"},"score":1,"creation_date":1680470689,"post_id":75914560,"comment_id":133899953,"body_markdown":"@JohnWilliams I need to do it the right way, and not the wrong way with patching the results.  Thanks for the thought.","body":"@JohnWilliams I need to do it the right way, and not the wrong way with patching the results.  Thanks for the thought."},{"owner":{"account_id":413918,"reputation":3157,"user_id":787832,"accept_rate":75,"display_name":"Steve"},"score":0,"creation_date":1680470790,"post_id":75914560,"comment_id":133899975,"body_markdown":"@tgdavies the people I am making this for are unforgiving.  If it was just for me I would have left the ouput  as a linear string.","body":"@tgdavies the people I am making this for are unforgiving.  If it was just for me I would have left the ouput  as a linear string."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680475476,"creation_date":1680474895,"answer_id":75914945,"question_id":75914560,"body_markdown":"There may be a better way, but you can create your own pretty printer class which uses a different separator:\r\n```\r\nDefaultPrettyPrinter printer = new DefaultPrettyPrinter() {\r\n            @Override\r\n            public DefaultPrettyPrinter createInstance() {\r\n\r\n                return new DefaultPrettyPrinter(this);\r\n            }\r\n\r\n            @Override\r\n            public DefaultPrettyPrinter withSeparators(Separators separators) {\r\n                _separators = separators;\r\n                _objectFieldValueSeparatorWithSpaces = separators.getObjectFieldValueSeparator() + &quot; &quot;;\r\n                return this;\r\n            }\r\n        };\r\nprinter = printer.withSeparators(Separators.createDefaultInstance());\r\n```\r\nThis replaces the value in `_objectFieldValueSeparatorWithSpaces` with  `&quot;: &quot;` instead of the usual `&quot; : &quot;`.\r\n\r\nThe printer returned by `createInstance` will never be used, but `createInstance` still needs to be overridden.","title":"Jackson: How to change the indentation of the colon in the JSON outpout?","body":"<p>There may be a better way, but you can create your own pretty printer class which uses a different separator:</p>\n<pre><code>DefaultPrettyPrinter printer = new DefaultPrettyPrinter() {\n            @Override\n            public DefaultPrettyPrinter createInstance() {\n\n                return new DefaultPrettyPrinter(this);\n            }\n\n            @Override\n            public DefaultPrettyPrinter withSeparators(Separators separators) {\n                _separators = separators;\n                _objectFieldValueSeparatorWithSpaces = separators.getObjectFieldValueSeparator() + &quot; &quot;;\n                return this;\n            }\n        };\nprinter = printer.withSeparators(Separators.createDefaultInstance());\n</code></pre>\n<p>This replaces the value in <code>_objectFieldValueSeparatorWithSpaces</code> with  <code>&quot;: &quot;</code> instead of the usual <code>&quot; : &quot;</code>.</p>\n<p>The printer returned by <code>createInstance</code> will never be used, but <code>createInstance</code> still needs to be overridden.</p>\n"}],"owner":{"account_id":413918,"reputation":3157,"user_id":787832,"accept_rate":75,"display_name":"Steve"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680475476,"creation_date":1680468869,"question_id":75914560,"body_markdown":"I have JSON ouput that has 1 whitespace on the left side of the colons.\r\nI need to eliminate that whitespace on the left side.\r\n\r\nBelow is my output.\r\nBelow that is the code that produces it.\r\n\r\nI need to leave everything else in the output as it is, so I can&#39;t get rid of pretty printing or indenting the braces.\r\n\r\n    [\r\n        {\r\n            &quot;satelliteId&quot; : 1000,\r\n            &quot;severity&quot; : &quot;RED HIGH&quot;,\r\n            &quot;component&quot; : &quot;TSTAT&quot;,\r\n            &quot;timestamp&quot; : &quot;2018-01-01T23:01:38.001Z&quot;\r\n        },\r\n        {\r\n            &quot;satelliteId&quot; : 1000,\r\n            &quot;severity&quot; : &quot;RED LOW&quot;,\r\n            &quot;component&quot; : &quot;BATT&quot;,\r\n            &quot;timestamp&quot; : &quot;2018-01-01T23:01:09.521Z&quot;\r\n        }\r\n    ]\r\n\r\n**code:**\r\n\r\n    import java.io.IOException;\r\n    import java.time.Instant;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.util.DefaultIndenter;\r\n    import com.fasterxml.jackson.core.util.DefaultPrettyPrinter;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class FormatAlerts {\r\n        List&lt;Message&gt; alerts = new ArrayList&lt;&gt;();\r\n    \r\n        public FormatAlerts(List&lt;Message&gt;alerts){\r\n            this.alerts = alerts;\r\n        }\r\n    \r\n        public String formatAlerts(){\r\n    \r\n            String formattedAlerts = null;\r\n            ObjectMapper om = new ObjectMapper();\r\n            ArrayNode arrayNode = om.createArrayNode();\r\n    \r\n            // Create a &quot;Pretty Printer&quot; that will indent brackets and braces more\r\n            String indent = String.format(&quot;%-4s&quot;,&quot;&quot;);\r\n            DefaultPrettyPrinter.Indenter indenter = new DefaultIndenter(indent, DefaultIndenter.SYS_LF);\r\n            DefaultPrettyPrinter printer = new DefaultPrettyPrinter();\r\n            printer.indentObjectsWith(indenter);\r\n            printer.indentArraysWith(indenter);\r\n    \r\n    \r\n            try {\r\n                for (Message m : alerts) {\r\n                    // Format the time \r\n                    Instant t = Instant.ofEpochMilli(m.getEpochTime());\r\n                    m.setTimestamp(t.toString());\r\n    \r\n                    //Format the alert as Json\r\n                    String alert = om.writer(printer).writeValueAsString(m);\r\n                    //String alert = om.writerWithDefaultPrettyPrinter().writeValueAsString(m);\r\n                    ObjectNode obj = om.readValue(alert, ObjectNode.class);          \r\n                    arrayNode.add(obj);\r\n                    formattedAlerts = om.writer(printer).writeValueAsString(arrayNode);\r\n                    //formattedAlerts = om.writerWithDefaultPrettyPrinter().writeValueAsString(arrayNode);\r\n                }\r\n            } catch (JsonProcessingException jpe) {\r\n                jpe.printStackTrace();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return formattedAlerts;\r\n        }\r\n    }\r\n\r\n","title":"Jackson: How to change the indentation of the colon in the JSON outpout?","body":"<p>I have JSON ouput that has 1 whitespace on the left side of the colons.\nI need to eliminate that whitespace on the left side.</p>\n<p>Below is my output.\nBelow that is the code that produces it.</p>\n<p>I need to leave everything else in the output as it is, so I can't get rid of pretty printing or indenting the braces.</p>\n<pre><code>[\n    {\n        &quot;satelliteId&quot; : 1000,\n        &quot;severity&quot; : &quot;RED HIGH&quot;,\n        &quot;component&quot; : &quot;TSTAT&quot;,\n        &quot;timestamp&quot; : &quot;2018-01-01T23:01:38.001Z&quot;\n    },\n    {\n        &quot;satelliteId&quot; : 1000,\n        &quot;severity&quot; : &quot;RED LOW&quot;,\n        &quot;component&quot; : &quot;BATT&quot;,\n        &quot;timestamp&quot; : &quot;2018-01-01T23:01:09.521Z&quot;\n    }\n]\n</code></pre>\n<p><strong>code:</strong></p>\n<pre><code>import java.io.IOException;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.util.DefaultIndenter;\nimport com.fasterxml.jackson.core.util.DefaultPrettyPrinter;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class FormatAlerts {\n    List&lt;Message&gt; alerts = new ArrayList&lt;&gt;();\n\n    public FormatAlerts(List&lt;Message&gt;alerts){\n        this.alerts = alerts;\n    }\n\n    public String formatAlerts(){\n\n        String formattedAlerts = null;\n        ObjectMapper om = new ObjectMapper();\n        ArrayNode arrayNode = om.createArrayNode();\n\n        // Create a &quot;Pretty Printer&quot; that will indent brackets and braces more\n        String indent = String.format(&quot;%-4s&quot;,&quot;&quot;);\n        DefaultPrettyPrinter.Indenter indenter = new DefaultIndenter(indent, DefaultIndenter.SYS_LF);\n        DefaultPrettyPrinter printer = new DefaultPrettyPrinter();\n        printer.indentObjectsWith(indenter);\n        printer.indentArraysWith(indenter);\n\n\n        try {\n            for (Message m : alerts) {\n                // Format the time \n                Instant t = Instant.ofEpochMilli(m.getEpochTime());\n                m.setTimestamp(t.toString());\n\n                //Format the alert as Json\n                String alert = om.writer(printer).writeValueAsString(m);\n                //String alert = om.writerWithDefaultPrettyPrinter().writeValueAsString(m);\n                ObjectNode obj = om.readValue(alert, ObjectNode.class);          \n                arrayNode.add(obj);\n                formattedAlerts = om.writer(printer).writeValueAsString(arrayNode);\n                //formattedAlerts = om.writerWithDefaultPrettyPrinter().writeValueAsString(arrayNode);\n            }\n        } catch (JsonProcessingException jpe) {\n            jpe.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return formattedAlerts;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle","compatibility"],"comments":[{"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"score":1,"creation_date":1671747221,"post_id":74894299,"comment_id":132169992,"body_markdown":"You may need to switch your Gradle JVM under `IntelliJ IDEA &gt; Preferences &gt; Build, Execution, Deployment &gt; Gradle &gt; Gradle JVM` (it&#39;s probably defaulted to `JAVA_HOME`)","body":"You may need to switch your Gradle JVM under <code>IntelliJ IDEA &gt; Preferences &gt; Build, Execution, Deployment &gt; Gradle &gt; Gradle JVM</code> (it&#39;s probably defaulted to <code>JAVA_HOME</code>)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1671747691,"creation_date":1671747256,"answer_id":74894367,"question_id":74894299,"body_markdown":"# Java 17 required\r\n\r\nSpring Boot 3 requires Java 17 or later.\r\n\r\nSee the *Spring Blog* page, [*Preparing for Spring Boot 3.0*][1]. To quote:\r\n\r\n&gt;Spring Boot 3.0 will require Java 17\r\n\r\nAlso note that Spring Boot 3 is a major update, with changes that break backward compatibility. Amongst these changes is the change in package names from `javax.*` to `jakarta.*`.\r\n\r\n\r\n----------\r\n\r\n\r\nYou said:\r\n\r\n&gt;I don&#39;t really want to use Java 17\r\n\r\nI cannot imagine why you would choose Java 11 over Java 17. \r\n\r\nMost any Java app or library that runs on Java 11 should run on Java 17. I do not recall any problematic changes like there were between Java 8 to 9 to 11. \r\n\r\nBoth Java 11 and Java 17 are [long-term support (LTS)][2] versions.\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\r\n  [2]: https://en.wikipedia.org/wiki/Long-term_support","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<h1>Java 17 required</h1>\n<p>Spring Boot 3 requires Java 17 or later.</p>\n<p>See the <em>Spring Blog</em> page, <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"noreferrer\"><em>Preparing for Spring Boot 3.0</em></a>. To quote:</p>\n<blockquote>\n<p>Spring Boot 3.0 will require Java 17</p>\n</blockquote>\n<p>Also note that Spring Boot 3 is a major update, with changes that break backward compatibility. Amongst these changes is the change in package names from <code>javax.*</code> to <code>jakarta.*</code>.</p>\n<hr />\n<p>You said:</p>\n<blockquote>\n<p>I don't really want to use Java 17</p>\n</blockquote>\n<p>I cannot imagine why you would choose Java 11 over Java 17.</p>\n<p>Most any Java app or library that runs on Java 11 should run on Java 17. I do not recall any problematic changes like there were between Java 8 to 9 to 11.</p>\n<p>Both Java 11 and Java 17 are <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"noreferrer\">long-term support (LTS)</a> versions.</p>\n"},{"tags":[],"owner":{"account_id":27330965,"reputation":21,"user_id":20843102,"display_name":"sUserStack"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671749167,"creation_date":1671749167,"answer_id":74894570,"question_id":74894299,"body_markdown":"Spring 3 requires Java 17 [Spring Doc][1]. You can downgrade Springboot version (org.springframework.boot) in build.gradle file, if you want to work with Java 11\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started.system-requirements","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p>Spring 3 requires Java 17 <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started.system-requirements\" rel=\"nofollow noreferrer\">Spring Doc</a>. You can downgrade Springboot version (org.springframework.boot) in build.gradle file, if you want to work with Java 11</p>\n"},{"tags":[],"owner":{"account_id":27331099,"reputation":146,"user_id":20843210,"display_name":"mySkillskit"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1680475091,"creation_date":1671749486,"answer_id":74894600,"question_id":74894299,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt; &gt; Build, Execution, Deployment &gt; Gradle &gt; Gradle JVM -&gt; java 11 [photo][1]\r\nx\r\n\r\n  [1]: https://i.stack.imgur.com/rFYFo.jpg","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd> &gt; Build, Execution, Deployment &gt; Gradle &gt; Gradle JVM -&gt; java 11 <a href=\"https://i.stack.imgur.com/rFYFo.jpg\" rel=\"nofollow noreferrer\">photo</a>\nx</p>\n"},{"comments":[{"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"score":0,"creation_date":1674041611,"post_id":75142356,"comment_id":132628900,"body_markdown":"Step 1 is not mandatory, you can change the project specific JDK within the IDE. Step 2 might delete more than you want. Step 3 can be done later, it depends on which feature of the new version you decide to use.","body":"Step 1 is not mandatory, you can change the project specific JDK within the IDE. Step 2 might delete more than you want. Step 3 can be done later, it depends on which feature of the new version you decide to use."}],"tags":[],"owner":{"account_id":24957168,"reputation":1,"user_id":18821461,"display_name":"Antony Rajarathinam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673934444,"creation_date":1673934444,"answer_id":75142356,"question_id":74894299,"body_markdown":"To change your java version for the project:\r\n\r\n 1. Have to set the java path to the environment variable path with JAVA_HOME and also do the same changes in the path.\r\n 2. just delete the .gradle and .idea folders in your project and restart the project with the same IDE.\r\n 3. Important thing you have to change the source compatibility with your new java version and do the same changes in the project structure and configure the same JDK version.","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p>To change your java version for the project:</p>\n<ol>\n<li>Have to set the java path to the environment variable path with JAVA_HOME and also do the same changes in the path.</li>\n<li>just delete the .gradle and .idea folders in your project and restart the project with the same IDE.</li>\n<li>Important thing you have to change the source compatibility with your new java version and do the same changes in the project structure and configure the same JDK version.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17211831,"reputation":3,"user_id":12460939,"display_name":"Atul Tripathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674641841,"creation_date":1674420898,"answer_id":75203835,"question_id":74894299,"body_markdown":"The accepted answer does not work for me. Even after setting the Gradle JVM and restarting the IDE several times, it did not work. The only solution that worked is to change the JAVA_HOME to point to the directory of your preferred Java version and then restart IntelliJ. ","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p>The accepted answer does not work for me. Even after setting the Gradle JVM and restarting the IDE several times, it did not work. The only solution that worked is to change the JAVA_HOME to point to the directory of your preferred Java version and then restart IntelliJ.</p>\n"}],"owner":{"account_id":3151445,"reputation":2418,"user_id":2664815,"accept_rate":100,"display_name":"aCarella"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14051,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74894600,"answer_count":5,"score":4,"last_activity_date":1680475091,"creation_date":1671746691,"question_id":74894299,"body_markdown":"I recently started a new Spring Boot Gradle project, using IntelliJ. When making the project, I chose Java 17 as the project Java version. My `build.gradle` file had `sourceCompatibility = &#39;17&#39;`, but my `JAVA_HOME` environment variable is set to Java 11 and I don&#39;t really want to use Java 17.\r\n\r\nI tried changing `sourceCompatibility` to `11`, and went into\r\n\r\nFile -&gt; Project Structure -&gt; Project Settings -&gt; Project\r\n\r\nto change the SDK to 11 as well.\r\n\r\nWhenever I click the &quot;run&quot; button in IntelliJ, as well as when I try to build my project in command line with `./gradlew clean build`, I get a bunch of errors, mostly complaining about compatibility issues. They all read almost the same; here is the beginning of the errors from the failed build:\r\n\r\n```&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT.\r\n     Required by:\r\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.1-SNAPSHOT:20221222.181044-39\r\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT:20221222.181044-39 was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6&#39; but:\r\n          - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT declares a runtime of a component, and its dependencies declared externally:\r\n```\r\n\r\nI don&#39;t want to have to start my project over just to fix this compatibility issue. I&#39;d prefer not to have to switch between Java versions (I know about jEnv, just prefer to leave everything on my computer set to Java 11 for now). Is there a way to fix this project without trashing it and redoing it?","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p>I recently started a new Spring Boot Gradle project, using IntelliJ. When making the project, I chose Java 17 as the project Java version. My <code>build.gradle</code> file had <code>sourceCompatibility = '17'</code>, but my <code>JAVA_HOME</code> environment variable is set to Java 11 and I don't really want to use Java 17.</p>\n<p>I tried changing <code>sourceCompatibility</code> to <code>11</code>, and went into</p>\n<p>File -&gt; Project Structure -&gt; Project Settings -&gt; Project</p>\n<p>to change the SDK to 11 as well.</p>\n<p>Whenever I click the &quot;run&quot; button in IntelliJ, as well as when I try to build my project in command line with <code>./gradlew clean build</code>, I get a bunch of errors, mostly complaining about compatibility issues. They all read almost the same; here is the beginning of the errors from the failed build:</p>\n<pre><code>   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.1-SNAPSHOT:20221222.181044-39\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT:20221222.181044-39 was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6' but:\n          - Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT declares a runtime of a component, and its dependencies declared externally:\n</code></pre>\n<p>I don't want to have to start my project over just to fix this compatibility issue. I'd prefer not to have to switch between Java versions (I know about jEnv, just prefer to leave everything on my computer set to Java 11 for now). Is there a way to fix this project without trashing it and redoing it?</p>\n"},{"tags":["java","hibernate","sql-insert","h2","in-memory-database"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680456628,"post_id":75913522,"comment_id":133897894,"body_markdown":"Hello, please share the entity as a formatted code snippet. Especially the definition of id field.","body":"Hello, please share the entity as a formatted code snippet. Especially the definition of id field."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1680456745,"post_id":75913522,"comment_id":133897910,"body_markdown":"Can you provide a [mre]?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1680457217,"post_id":75913522,"comment_id":133897970,"body_markdown":"Please also share the code part where you actually persist the entity.","body":"Please also share the code part where you actually persist the entity."},{"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"score":0,"creation_date":1680458322,"post_id":75913522,"comment_id":133898120,"body_markdown":"id = UUID.randomUUID();\n\nwhen I create entity.","body":"id = UUID.randomUUID();  when I create entity."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680459522,"post_id":75913522,"comment_id":133898306,"body_markdown":"OK. So you have another code in use when you create a new entity, right? And what is actually wrong? Are you getting any SQL errors? Please share it as well.","body":"OK. So you have another code in use when you create a new entity, right? And what is actually wrong? Are you getting any SQL errors? Please share it as well."},{"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"score":0,"creation_date":1680460262,"post_id":75913522,"comment_id":133898439,"body_markdown":"ERROR [http-nio-8080-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions Referential integrity constraint violation: &quot;FKFTYLRNBHDEROXV82GJU98UYJE: PUBLIC.MATCH FOREIGN KEY(PLAYERONE_PLAYER_ID) REFERENCES PUBLIC.PLAYER(PLAYER_ID) (X&#39;7a4d091de8cb46a5b0149bbf0111446f&#39;)&quot;; SQL statement:\n/* update com.kharizma.tennisscoreboard.models.Match */ update MATCH set playerOne_PLAYER_ID=?, playerTwo_PLAYER_ID=?, winner_PLAYER_ID=? where MATCH_ID=? [23506-200]","body":"ERROR [http-nio-8080-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptio&zwnj;&#8203;ns Referential integrity constraint violation: &quot;FKFTYLRNBHDEROXV82GJU98UYJE: PUBLIC.MATCH FOREIGN KEY(PLAYERONE_PLAYER_ID) REFERENCES PUBLIC.PLAYER(PLAYER_ID) (X&#39;7a4d091de8cb46a5b0149bbf0111446f&#39;)&quot;; SQL statement: /* update com.kharizma.tennisscoreboard.models.Match */ update MATCH set playerOne_PLAYER_ID=?, playerTwo_PLAYER_ID=?, winner_PLAYER_ID=? where MATCH_ID=? [23506-200]"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680461523,"post_id":75913522,"comment_id":133898633,"body_markdown":"Does the player entity you are using exist in the database? Because the error shows a constraint violation on the foreign key.","body":"Does the player entity you are using exist in the database? Because the error shows a constraint violation on the foreign key."}],"answers":[{"comments":[{"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"score":0,"creation_date":1680460679,"post_id":75913913,"comment_id":133898511,"body_markdown":"The entity does not exist in the database yet, but the error is the same.\nI tried persist(), but the error is the same. And I don&#39;t understand what&#39;s a problem.","body":"The entity does not exist in the database yet, but the error is the same. I tried persist(), but the error is the same. And I don&#39;t understand what&#39;s a problem."},{"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"score":0,"creation_date":1680460835,"post_id":75913913,"comment_id":133898533,"body_markdown":"Why it says that hibernate uses SQL statement  with update, not insert?","body":"Why it says that hibernate uses SQL statement  with update, not insert?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680461811,"post_id":75913913,"comment_id":133898679,"body_markdown":"You can activate the SQL logs in the system.properties hibernate.show_sql=true to get more information.","body":"You can activate the SQL logs in the system.properties hibernate.show_sql=true to get more information."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680460285,"creation_date":1680460285,"answer_id":75913913,"question_id":75913522,"body_markdown":"As I understand the question you want to persist the entity in the database without letting Hibernate generate an identifier for you. To accomplish it you  can use following code:\r\n\r\nIf the entity with the id already exists in the database and should be updated - please use:\r\n\r\n    session.merge(myEntity); // myEntity contains the id\r\n\r\nIf it&#39;s a new entity and should be inserted - please use:\r\n\r\n    UUUID id = UUID.randomUUID(); // new id will be generated\r\n    myEntity.setId(id);\r\n    session.persist(myEntity);","title":"Hibernate save entity with existing Id","body":"<p>As I understand the question you want to persist the entity in the database without letting Hibernate generate an identifier for you. To accomplish it you  can use following code:</p>\n<p>If the entity with the id already exists in the database and should be updated - please use:</p>\n<pre><code>session.merge(myEntity); // myEntity contains the id\n</code></pre>\n<p>If it's a new entity and should be inserted - please use:</p>\n<pre><code>UUUID id = UUID.randomUUID(); // new id will be generated\nmyEntity.setId(id);\nsession.persist(myEntity);\n</code></pre>\n"}],"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680474647,"creation_date":1680455711,"question_id":75913522,"body_markdown":"I am creating a CRUD application using Servlets and Hibernate. \r\n\r\nWhen I try to save a new entity using save(), then Hibernate executes the SQL Update query and not Insert. The entity already contains the generated Id (UUID) and as I understand it, it searches for this entity in the database (h2 in-memory) and does not find it. How to properly save an entity in the database if the id has already been generated.\r\n\r\n    @Entity\r\n    @Table(name = &quot;MATCH&quot;)\r\n    public class Match implements Serializable {\r\n        @Id\r\n        @Column(name = &quot;MATCH_ID&quot;)\r\n        private UUID id;\r\n    \r\n        @ManyToOne\r\n        private Player playerOne;\r\n    \r\n        @ManyToOne\r\n        private Player playerTwo;\r\n    \r\n        @ManyToOne\r\n        private Player winner;\r\n    \r\n    \r\n        @Transient\r\n        private int[] score = new int[2];\r\n    \r\n        public Match() {\r\n    \r\n        }\r\n\r\n            //getters and setters\r\n    }\r\n\r\n\r\n \r\n\r\n       public void executePost(HttpServletRequest servletRequest, HttpServletResponse servletResponse) throws ServletException, IOException {\r\n            Transaction transaction = null;\r\n            try (Session session = DBHandler.getSessionFactory().openSession()) {\r\n                transaction = session.beginTransaction();\r\n    \r\n                UUID MatchUuid = UUID.fromString(servletRequest.getParameter(&quot;match-uuid&quot;));  \r\n                currentMatchService = CurrentMatchService.getInstance(); //service stores current matches in the app&#39;s memory\r\n                currentMatch = currentMatchService.getMatch(MatchUuid);\r\n                currentMatch.setWinner(currentMatch.getPlayerOne()); //player One set like winner just for test\r\n                session.save(currentMatch);\r\n                transaction.commit();\r\n            } catch (Exception e) {\r\n                if (transaction != null) {\r\n                    transaction.rollback();\r\n                }\r\n                e.printStackTrace();\r\n            }","title":"Hibernate save entity with existing Id","body":"<p>I am creating a CRUD application using Servlets and Hibernate.</p>\n<p>When I try to save a new entity using save(), then Hibernate executes the SQL Update query and not Insert. The entity already contains the generated Id (UUID) and as I understand it, it searches for this entity in the database (h2 in-memory) and does not find it. How to properly save an entity in the database if the id has already been generated.</p>\n<pre><code>@Entity\n@Table(name = &quot;MATCH&quot;)\npublic class Match implements Serializable {\n    @Id\n    @Column(name = &quot;MATCH_ID&quot;)\n    private UUID id;\n\n    @ManyToOne\n    private Player playerOne;\n\n    @ManyToOne\n    private Player playerTwo;\n\n    @ManyToOne\n    private Player winner;\n\n\n    @Transient\n    private int[] score = new int[2];\n\n    public Match() {\n\n    }\n\n        //getters and setters\n}\n\n\n\n\n   public void executePost(HttpServletRequest servletRequest, HttpServletResponse servletResponse) throws ServletException, IOException {\n        Transaction transaction = null;\n        try (Session session = DBHandler.getSessionFactory().openSession()) {\n            transaction = session.beginTransaction();\n\n            UUID MatchUuid = UUID.fromString(servletRequest.getParameter(&quot;match-uuid&quot;));  \n            currentMatchService = CurrentMatchService.getInstance(); //service stores current matches in the app's memory\n            currentMatch = currentMatchService.getMatch(MatchUuid);\n            currentMatch.setWinner(currentMatch.getPlayerOne()); //player One set like winner just for test\n            session.save(currentMatch);\n            transaction.commit();\n        } catch (Exception e) {\n            if (transaction != null) {\n                transaction.rollback();\n            }\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","serialization","abstract-class"],"answers":[{"comments":[{"owner":{"account_id":18082980,"reputation":3,"user_id":20038676,"display_name":"Sarah_Sameh"},"score":0,"creation_date":1680472536,"post_id":75914777,"comment_id":133900167,"body_markdown":"I got this well, now I have a question, the following code is wrong because Number class doesn&#39;t have compareTo method, \n    ``  Number x = Integer.valueOf(3);\n    System.out.println(x.intValue());\n    System.out.println(x.compareTo(Integer.valueOf(4)));``\n\nI mean how it can be while the Number x is Integer now ?","body":"I got this well, now I have a question, the following code is wrong because Number class doesn&#39;t have compareTo method,      ``  Number x = Integer.valueOf(3);     System.out.println(x.intValue());     System.out.println(x.compareTo(Integer.valueOf(4)));``  I mean how it can be while the Number x is Integer now ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680473394,"post_id":75914777,"comment_id":133900250,"body_markdown":"@Sarah_Sameh Because the code fails at compile time, not when running.  The *compiler* doesn’t try to run your whole program and determine all of the lines that may have assigned a value to `x`.  The compiler doesn’t know that `x` is only ever assigned an Integer.  The compiler only knows that the type of `x` is Number, and `x` may contain an object whose class has a compareTo method or may contain an object of a different subtype which does not have a compareTo method.","body":"@Sarah_Sameh Because the code fails at compile time, not when running.  The <i>compiler</i> doesn’t try to run your whole program and determine all of the lines that may have assigned a value to <code>x</code>.  The compiler doesn’t know that <code>x</code> is only ever assigned an Integer.  The compiler only knows that the type of <code>x</code> is Number, and <code>x</code> may contain an object whose class has a compareTo method or may contain an object of a different subtype which does not have a compareTo method."},{"owner":{"account_id":18082980,"reputation":3,"user_id":20038676,"display_name":"Sarah_Sameh"},"score":0,"creation_date":1680473645,"post_id":75914777,"comment_id":133900270,"body_markdown":"So, it&#39;s okay as concept but not applicable in compilation context?  \n@VGR","body":"So, it&#39;s okay as concept but not applicable in compilation context?   @VGR"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680490248,"post_id":75914777,"comment_id":133901984,"body_markdown":"@Sarah_Sameh It is certainly fine to store a value in a Number variable.  But if you wanted to be sure it was a Comparable value, you would declare `x` as an Integer.","body":"@Sarah_Sameh It is certainly fine to store a value in a Number variable.  But if you wanted to be sure it was a Comparable value, you would declare <code>x</code> as an Integer."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680474212,"creation_date":1680472148,"answer_id":75914777,"question_id":75914753,"body_markdown":"The method `doubleValue` is `abstract` in `Number`, but you are storing an `Integer` (through [auto-boxing][1]) when you do\r\n\r\n    Number x = 3; // This is Number x = Integer.valueOf(3);\r\n\r\nAnd [`Integer.doubleValue()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#doubleValue--) says *Returns the value of this Integer as a double after a widening primitive conversion.* And it then refers the reader to [JLS-5.1.2. Widening Primitive Conversion](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.2). Which says, in part, *A widening primitive conversion does not lose information about the overall magnitude of a numeric value in the following cases, where the numeric value is preserved exactly:* and then lists (specific to this case) *from `int` to `double`*\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Boxing_(computer_science)","title":"Number Class in java","body":"<p>The method <code>doubleValue</code> is <code>abstract</code> in <code>Number</code>, but you are storing an <code>Integer</code> (through <a href=\"https://en.wikipedia.org/wiki/Boxing_(computer_science)\" rel=\"nofollow noreferrer\">auto-boxing</a>) when you do</p>\n<pre><code>Number x = 3; // This is Number x = Integer.valueOf(3);\n</code></pre>\n<p>And <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#doubleValue--\" rel=\"nofollow noreferrer\"><code>Integer.doubleValue()</code></a> says <em>Returns the value of this Integer as a double after a widening primitive conversion.</em> And it then refers the reader to <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.2\" rel=\"nofollow noreferrer\">JLS-5.1.2. Widening Primitive Conversion</a>. Which says, in part, <em>A widening primitive conversion does not lose information about the overall magnitude of a numeric value in the following cases, where the numeric value is preserved exactly:</em> and then lists (specific to this case) <em>from <code>int</code> to <code>double</code></em></p>\n"}],"owner":{"account_id":18082980,"reputation":3,"user_id":20038676,"display_name":"Sarah_Sameh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914777,"answer_count":1,"score":0,"last_activity_date":1680474497,"creation_date":1680471788,"question_id":75914753,"body_markdown":"Number class is an abstract class in which you cannot make objects from it using `new` operator, but we can use the class as reference Type, I want some explaination for the following code:\r\n\r\n```\r\npublic class Test {\r\n  public static void main(String[] args) {\r\n    Number x = 3;\r\n    System.out.println(x.intValue());\r\n    System.out.println(x.doubleValue());\r\n  }\r\n}\r\n```\r\n\r\n**the output is 3 and 3.0**\r\n\r\nSo, in this line `Number x = 3;` is there any autoboxing or unboxing(which can&#39;t happen it&#39;s the superclass) happens? or what?\r\nhow the assignment happened here?","title":"Number Class in java","body":"<p>Number class is an abstract class in which you cannot make objects from it using <code>new</code> operator, but we can use the class as reference Type, I want some explaination for the following code:</p>\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    Number x = 3;\n    System.out.println(x.intValue());\n    System.out.println(x.doubleValue());\n  }\n}\n</code></pre>\n<p><strong>the output is 3 and 3.0</strong></p>\n<p>So, in this line <code>Number x = 3;</code> is there any autoboxing or unboxing(which can't happen it's the superclass) happens? or what?\nhow the assignment happened here?</p>\n"},{"tags":["java","android","android-studio","chronometer"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680161614,"creation_date":1680161614,"answer_id":75885328,"question_id":75883706,"body_markdown":"So separate into 2 parts:\r\n\r\n### Display time remaining and time elapsed of an audio file\r\nSo you have a timer that updates the ```Seekbar``` every half second :\r\n```java\r\n    new Timer().scheduleAtFixedRate(new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            seekbar.setProgress(mediaPlayer.getCurrentPosition());\r\n        }\r\n    }, 0, 500);\r\n```\r\nAnd you have set the [```OnSeekBarChangeListener```](https://developer.android.com/reference/android/widget/SeekBar.OnSeekBarChangeListener), which is expected to be triggered whenever there is a progress change in ```Seekbar```:\r\n```java\r\n    seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n        @Override\r\n        public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n            mediaPlayer.seekTo(i);\r\n        }\r\n\r\n        @Override\r\n        public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n        }\r\n    });\r\n```\r\nSo basically with the above, you are ready to have *clocks* displaying the time remaining and the time elapsed. As the ```onProgressChanged()``` of your ```OnSeekBarChangeListener``` should be triggered by your ```Timer``` periodically and therefore you can put some logic there to update your *clocks*:\r\n```java\r\n// You can define 2 more TextView to display remaining time and elapsed time\r\nTextView tvRemainingTime = findViewById(R.id.tvRemainingTime);\r\nTextView tvElapsedTime = findViewById(R.id.tvElapsedTime);\r\nfinal int totalDuration = mediaPlayer.getDuration();\r\nseekbar.setMax(totalDuration);\r\n// Hold the timer with a variable so that you can access it if necessary\r\nTimer timer = new Timer();\r\n// Change to run the Timer with a period of 1 second\r\ntimer.scheduleAtFixedRate(new TimerTask() {\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tseekbar.setProgress(mediaPlayer.getCurrentPosition());\r\n\t}\r\n}, 0, 1000);\r\n\r\nseekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n\t@Override\r\n\tpublic void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n\t\tmediaPlayer.seekTo(progress);\r\n        // As progress is in milliseconds, you can write a function to convert milliseconds into displaying time\r\n        tvElapsedTime.setText(convertMillisecondsToTime(progress));\r\n        tvRemainingTime.setText(convertMillisecondsToTime(totalDuration - progress));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n\t}\r\n});\r\n```\r\nFunction to convert milliseconds into displaying time (Or you should further enhance it if you would like to display more detailedly):\r\n```java\r\nprivate String convertMillisecondsToTime(int target) {\r\n    // For example, 30000 should be displayed as 00:30 mm:ss\r\n    int seconds = (target / 1000) % 60;\r\n    int minutes = (target / 1000) / 60;\r\n    return String.format(&quot;%02d:%02d&quot;, minutes, seconds);\r\n}\r\n```\r\n\r\n---\r\n\r\n### Go to different Activity from different Spinner option\r\nTo get selected value of Spinner, you can simply do the following:\r\n```java\r\nString selectedTime = spinner.getSelectedItem().toString();\r\n```\r\nAnd of course you can get the value of Spinner by index or by another way. See more [here](https://stackoverflow.com/questions/5787809/get-spinner-selected-items-text).\r\n\r\nSo for your ```openNewActivity()``` function, you can check the ```selectedTime``` and open the corresponding Activity:\r\n```java\r\nprivate void openNewActivity() {\r\n    String selectedTime = spinner.getSelectedItem().toString();\r\n    // For example, if the values showing on Spinner are &quot;5 mins&quot;, &quot;10 mins&quot;, &quot;15 mins&quot;\r\n    if (&quot;5 mins&quot;.equals(selectedTime)) {\r\n        Intent intent = new Intent(this, ActivityFiveMinutes.class);\r\n        startActivity(intent);\r\n    } else if (&quot;10 mins&quot;.equals(selectedTime)) {\r\n        Intent intent = new Intent(this, ActivityTenMinutes.class);\r\n        startActivity(intent);\r\n    } ...\r\n}\r\n```\r\nAnd don&#39;t forget to add your newly created Activity in **AndroidManifest.xml**:\r\n```xml\r\n...\r\n        &lt;activity android:name=&quot;.ActivityFiveMinutes&quot; /&gt;\r\n        &lt;activity android:name=&quot;.ActivityTenMinutes&quot; /&gt;\r\n...\r\n```","title":"android studio java audio timer and change activity based on drop down options","body":"<p>So separate into 2 parts:</p>\n<h3>Display time remaining and time elapsed of an audio file</h3>\n<p>So you have a timer that updates the <code>Seekbar</code> every half second :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    new Timer().scheduleAtFixedRate(new TimerTask() {\n        @Override\n        public void run() {\n            seekbar.setProgress(mediaPlayer.getCurrentPosition());\n        }\n    }, 0, 500);\n</code></pre>\n<p>And you have set the <a href=\"https://developer.android.com/reference/android/widget/SeekBar.OnSeekBarChangeListener\" rel=\"nofollow noreferrer\"><code>OnSeekBarChangeListener</code></a>, which is expected to be triggered whenever there is a progress change in <code>Seekbar</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n            mediaPlayer.seekTo(i);\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n\n        }\n    });\n</code></pre>\n<p>So basically with the above, you are ready to have <em>clocks</em> displaying the time remaining and the time elapsed. As the <code>onProgressChanged()</code> of your <code>OnSeekBarChangeListener</code> should be triggered by your <code>Timer</code> periodically and therefore you can put some logic there to update your <em>clocks</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You can define 2 more TextView to display remaining time and elapsed time\nTextView tvRemainingTime = findViewById(R.id.tvRemainingTime);\nTextView tvElapsedTime = findViewById(R.id.tvElapsedTime);\nfinal int totalDuration = mediaPlayer.getDuration();\nseekbar.setMax(totalDuration);\n// Hold the timer with a variable so that you can access it if necessary\nTimer timer = new Timer();\n// Change to run the Timer with a period of 1 second\ntimer.scheduleAtFixedRate(new TimerTask() {\n    @Override\n    public void run() {\n        seekbar.setProgress(mediaPlayer.getCurrentPosition());\n    }\n}, 0, 1000);\n\nseekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n    @Override\n    public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n        mediaPlayer.seekTo(progress);\n        // As progress is in milliseconds, you can write a function to convert milliseconds into displaying time\n        tvElapsedTime.setText(convertMillisecondsToTime(progress));\n        tvRemainingTime.setText(convertMillisecondsToTime(totalDuration - progress));\n    }\n\n    @Override\n    public void onStartTrackingTouch(SeekBar seekBar) {\n\n    }\n\n    @Override\n    public void onStopTrackingTouch(SeekBar seekBar) {\n\n    }\n});\n</code></pre>\n<p>Function to convert milliseconds into displaying time (Or you should further enhance it if you would like to display more detailedly):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String convertMillisecondsToTime(int target) {\n    // For example, 30000 should be displayed as 00:30 mm:ss\n    int seconds = (target / 1000) % 60;\n    int minutes = (target / 1000) / 60;\n    return String.format(&quot;%02d:%02d&quot;, minutes, seconds);\n}\n</code></pre>\n<hr />\n<h3>Go to different Activity from different Spinner option</h3>\n<p>To get selected value of Spinner, you can simply do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String selectedTime = spinner.getSelectedItem().toString();\n</code></pre>\n<p>And of course you can get the value of Spinner by index or by another way. See more <a href=\"https://stackoverflow.com/questions/5787809/get-spinner-selected-items-text\">here</a>.</p>\n<p>So for your <code>openNewActivity()</code> function, you can check the <code>selectedTime</code> and open the corresponding Activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void openNewActivity() {\n    String selectedTime = spinner.getSelectedItem().toString();\n    // For example, if the values showing on Spinner are &quot;5 mins&quot;, &quot;10 mins&quot;, &quot;15 mins&quot;\n    if (&quot;5 mins&quot;.equals(selectedTime)) {\n        Intent intent = new Intent(this, ActivityFiveMinutes.class);\n        startActivity(intent);\n    } else if (&quot;10 mins&quot;.equals(selectedTime)) {\n        Intent intent = new Intent(this, ActivityTenMinutes.class);\n        startActivity(intent);\n    } ...\n}\n</code></pre>\n<p>And don't forget to add your newly created Activity in <strong>AndroidManifest.xml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n        &lt;activity android:name=&quot;.ActivityFiveMinutes&quot; /&gt;\n        &lt;activity android:name=&quot;.ActivityTenMinutes&quot; /&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":20694306,"reputation":1,"user_id":15194896,"display_name":"chiwi.chiwi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680474004,"creation_date":1680144248,"question_id":75883706,"body_markdown":"I have a seek bar already to an audio file I have in my raw file with pause/play/stop functionality, but how would I also add &quot;clock&quot;, for lack of a better word, that shows how much time remains, or how much has gone by already based on the audio too?\r\n\r\nAnd on one of my activities, I have a drop down option with different times on it, 5,10,15 mins, how can I make it so that when the user chooses one of these options, a different audio plays or so that it goes to a separate activity page based on what the user chose?\r\n\r\nHere is my current activity with the audio:\r\n\r\n```java\r\npublic void play(View view){\r\n\r\n        mediaPlayer.start();\r\n    }\r\n\r\n    public void pause(View view){\r\n        mediaPlayer.pause();\r\n    }\r\n\r\n    public void stop(View view){\r\n        mediaPlayer.stop();\r\n        mediaPlayer.reset();\r\n    }\r\n    Button button;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        seekbar = findViewById(R.id.seekBar);\r\n        mediaPlayer = MediaPlayer.create(this, R.raw.mixkit);\r\n        button = (Button) findViewById(R.id.button3);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openNewActivity();\r\n\r\n\r\n            }\r\n        });\r\n        seekbar.setMax(mediaPlayer.getDuration());\r\n        new Timer().scheduleAtFixedRate(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                seekbar.setProgress(mediaPlayer.getCurrentPosition());\r\n            }\r\n        }, 0, 500);\r\n        seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n                mediaPlayer.seekTo(i);\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n        });\r\n    }\r\n```\r\nAnd for my page with dropdown:\r\n\r\n```java\r\nSpinner spinner;\r\n    Button startButton;\r\n    Button returnButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main3);\r\n        spinner = findViewById(R.id.spinner);\r\n        ArrayAdapter&lt;CharSequence&gt;adapter=ArrayAdapter.createFromResource(this, R.array.time, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_item);\r\n        spinner.setAdapter(adapter);\r\n        startButton = findViewById(R.id.button2);\r\n        startButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openNewActivity();\r\n            }\r\n        });\r\n        returnButton = findViewById(R.id.button3);\r\n        returnButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                returnToMain();\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nI&#39;ve spent a long time googling and havent found anything regarding the clock, only how to implement a clock and timer, but not how to link it with the seekbar/audio file. I assume I could make a clock and find out how long audio is but I feel like there must be a better way.","title":"android studio java audio timer and change activity based on drop down options","body":"<p>I have a seek bar already to an audio file I have in my raw file with pause/play/stop functionality, but how would I also add &quot;clock&quot;, for lack of a better word, that shows how much time remains, or how much has gone by already based on the audio too?</p>\n<p>And on one of my activities, I have a drop down option with different times on it, 5,10,15 mins, how can I make it so that when the user chooses one of these options, a different audio plays or so that it goes to a separate activity page based on what the user chose?</p>\n<p>Here is my current activity with the audio:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void play(View view){\n\n        mediaPlayer.start();\n    }\n\n    public void pause(View view){\n        mediaPlayer.pause();\n    }\n\n    public void stop(View view){\n        mediaPlayer.stop();\n        mediaPlayer.reset();\n    }\n    Button button;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        seekbar = findViewById(R.id.seekBar);\n        mediaPlayer = MediaPlayer.create(this, R.raw.mixkit);\n        button = (Button) findViewById(R.id.button3);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openNewActivity();\n\n\n            }\n        });\n        seekbar.setMax(mediaPlayer.getDuration());\n        new Timer().scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                seekbar.setProgress(mediaPlayer.getCurrentPosition());\n            }\n        }, 0, 500);\n        seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n                mediaPlayer.seekTo(i);\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n    }\n</code></pre>\n<p>And for my page with dropdown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Spinner spinner;\n    Button startButton;\n    Button returnButton;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main3);\n        spinner = findViewById(R.id.spinner);\n        ArrayAdapter&lt;CharSequence&gt;adapter=ArrayAdapter.createFromResource(this, R.array.time, android.R.layout.simple_spinner_item);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_item);\n        spinner.setAdapter(adapter);\n        startButton = findViewById(R.id.button2);\n        startButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openNewActivity();\n            }\n        });\n        returnButton = findViewById(R.id.button3);\n        returnButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                returnToMain();\n            }\n        });\n\n    }\n</code></pre>\n<p>I've spent a long time googling and havent found anything regarding the clock, only how to implement a clock and timer, but not how to link it with the seekbar/audio file. I assume I could make a clock and find out how long audio is but I feel like there must be a better way.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1680467074,"post_id":75065556,"comment_id":133899498,"body_markdown":"Please refrain from adding &quot;Hi&quot; or other greetings to your posts. Technical writing is a community expectation here, and it has been removed from your posts countless times already.","body":"Please refrain from adding &quot;Hi&quot; or other greetings to your posts. Technical writing is a community expectation here, and it has been removed from your posts countless times already."}],"answers":[{"tags":[],"owner":{"account_id":26701199,"reputation":21,"user_id":20308225,"display_name":"miguel30452"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673349932,"creation_date":1673349932,"answer_id":75069275,"question_id":75065556,"body_markdown":"Did you change the scheme at any point after creating the kafka topic?\r\n\r\nIf that is the case you would have to reset the Kafka topic to get the new scheme, if you want to change the scheme of a topic you need to create a new topic.","title":"Apache Kafka Error Handling at Consumer End","body":"<p>Did you change the scheme at any point after creating the kafka topic?</p>\n<p>If that is the case you would have to reset the Kafka topic to get the new scheme, if you want to change the scheme of a topic you need to create a new topic.</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673362464,"creation_date":1673362464,"answer_id":75071775,"question_id":75065556,"body_markdown":"Use an `ErrorHandlingDeserializer` \r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\r\n\r\nThen, serialization errors will be sent directly to the error handler, which treats such errors as fatal, by default, and will not retry them but send them straight to the recoverer (log by default).","title":"Apache Kafka Error Handling at Consumer End","body":"<p>Use an <code>ErrorHandlingDeserializer</code></p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer</a></p>\n<p>Then, serialization errors will be sent directly to the error handler, which treats such errors as fatal, by default, and will not retry them but send them straight to the recoverer (log by default).</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1680472678,"creation_date":1673325933,"question_id":75065556,"body_markdown":"I am using Apache Kafka for consuming messages from another application. I wanted to handle error scenarios when there is an issue in message deserialization or conversion. I am using Avro schema for receiving the object. \r\n\r\nI implemented the below\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class ConsumerConfig {\r\n      @Bean\r\n      ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n          ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n          ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        factory.setErrorHandler(((exception, data) -&gt; {           \r\n          log.error(&quot;Error in process with Exception {} and the record is {}&quot;, exception, data);\r\n        }));\r\n        return factory;\r\n      }\r\n    }\r\n\r\nBut if I pass message of different object type, above code is not handling it. I tried to pass a string and it is throwing below error but not going inside the error handler.\r\n\r\n&gt; org.apache.kafka.common.errors.InvalidConfigurationException: Schema being registered is incompatible with an earlier schema for subject &quot;taas.cacib.lscsad-dev.queue.wwfdbtemp.Avros-value&quot; io.confluent.kafka.schemaregistry.rest.exceptions.RestIncompatibleSchemaException: Schema being registered is incompatible with an earlier schema for subject &quot;taas.cacib.lscsad-dev.queue.wwfdbtemp.Avros-value&quot;\r\n","title":"Apache Kafka Error Handling at Consumer End","body":"<p>I am using Apache Kafka for consuming messages from another application. I wanted to handle error scenarios when there is an issue in message deserialization or conversion. I am using Avro schema for receiving the object.</p>\n<p>I implemented the below</p>\n<pre><code>@Configuration\n@Slf4j\npublic class ConsumerConfig {\n  @Bean\n  ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n      ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n      ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    factory.setErrorHandler(((exception, data) -&gt; {           \n      log.error(&quot;Error in process with Exception {} and the record is {}&quot;, exception, data);\n    }));\n    return factory;\n  }\n}\n</code></pre>\n<p>But if I pass message of different object type, above code is not handling it. I tried to pass a string and it is throwing below error but not going inside the error handler.</p>\n<blockquote>\n<p>org.apache.kafka.common.errors.InvalidConfigurationException: Schema being registered is incompatible with an earlier schema for subject &quot;taas.cacib.lscsad-dev.queue.wwfdbtemp.Avros-value&quot; io.confluent.kafka.schemaregistry.rest.exceptions.RestIncompatibleSchemaException: Schema being registered is incompatible with an earlier schema for subject &quot;taas.cacib.lscsad-dev.queue.wwfdbtemp.Avros-value&quot;</p>\n</blockquote>\n"},{"tags":["java","spring","hibernate","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"score":0,"creation_date":1498653699,"post_id":44802676,"comment_id":76585366,"body_markdown":"Because you need to instruct SpringBoot to create the Schema. https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html and https://stackoverflow.com/questions/29758136/h2-db-in-spring-boot-hibernate-does-not-generate-db-schema","body":"Because you need to instruct SpringBoot to create the Schema. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/29758136/h2-db-in-spring-boot-hibernate-does-not-generate-db-schema\" title=\"h2 db in spring boot hibernate does not generate db schema\">stackoverflow.com/questions/29758136/&hellip;</a>"},{"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"score":0,"creation_date":1498653717,"post_id":44802676,"comment_id":76585381,"body_markdown":"Please share your application.properties","body":"Please share your application.properties"},{"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1498716896,"post_id":44802676,"comment_id":76615092,"body_markdown":"@Salman now you setup a db name in `application.properties`: *dbname*. So when you try to connect to db from H2 console (`http://localhost:8080/h2-console`) you have to use `jdbc:h2:mem:dbname` as &#39;JDBC URL&#39;. Port 9092 you have to use from your IDE (or from over SQL tool) to connect to H2 DB server.","body":"@Salman now you setup a db name in <code>application.properties</code>: <i>dbname</i>. So when you try to connect to db from H2 console (<code>http:&#47;&#47;localhost:8080&#47;h2-console</code>) you have to use <code>jdbc:h2:mem:dbname</code> as &#39;JDBC URL&#39;. Port 9092 you have to use from your IDE (or from over SQL tool) to connect to H2 DB server."}],"answers":[{"tags":[],"owner":{"account_id":9816945,"reputation":41,"user_id":7273154,"display_name":"hassan bassi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498653797,"creation_date":1498653797,"answer_id":44802817,"question_id":44802676,"body_markdown":"Check if your main class that contains the annotation @SpringBootConfiguration is in the root of hierarchy of your package","title":"JPA: entity object is not appeared in the H2 console","body":"<p>Check if your main class that contains the annotation @SpringBootConfiguration is in the root of hierarchy of your package</p>\n"},{"tags":[],"owner":{"account_id":5803046,"reputation":166,"user_id":8097809,"display_name":"Chad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498654210,"creation_date":1498654210,"answer_id":44802992,"question_id":44802676,"body_markdown":"You can also achieve so by writing the schema.sql file that creates tables and can load data by placing the file in your src/main/resources location. There are a lot of different ways you can do this. I like the schema.sql file because it has something that you can look at and manage.","title":"JPA: entity object is not appeared in the H2 console","body":"<p>You can also achieve so by writing the schema.sql file that creates tables and can load data by placing the file in your src/main/resources location. There are a lot of different ways you can do this. I like the schema.sql file because it has something that you can look at and manage.</p>\n"},{"comments":[{"owner":{"account_id":2211885,"reputation":11194,"user_id":1953504,"accept_rate":66,"display_name":"Sal-laS"},"score":0,"creation_date":1498716399,"post_id":44812803,"comment_id":76614881,"body_markdown":"i have updated my question with ur hint, but still does not work","body":"i have updated my question with ur hint, but still does not work"},{"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1498716949,"post_id":44812803,"comment_id":76615110,"body_markdown":"@Salman now you setup a db name in `application.properties`: *dbname*. So when you try to connect to db from H2 console (`http://localhost:8080/h2-console`) you have to use `jdbc:h2:mem:dbname` as &#39;JDBC URL&#39;. Port 9092 you have to use from your IDE (or from over SQL tool) to connect to H2 DB server.","body":"@Salman now you setup a db name in <code>application.properties</code>: <i>dbname</i>. So when you try to connect to db from H2 console (<code>http:&#47;&#47;localhost:8080&#47;h2-console</code>) you have to use <code>jdbc:h2:mem:dbname</code> as &#39;JDBC URL&#39;. Port 9092 you have to use from your IDE (or from over SQL tool) to connect to H2 DB server."}],"tags":[],"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498685159,"creation_date":1498685159,"answer_id":44812803,"question_id":44802676,"body_markdown":"Then you open &#39;http://localhost:8080/h2-console&#39; you need to specify &#39;JDBC URL&#39;. By default (as I understand you use default setting because your application.properties is empty) this value is:\r\n\r\n    jdbc:h2:mem:testdb\r\n\r\n----\r\nIMHO H2 Console is not the best choice for the developer. You can work with H2 right from your IDE - see [my answer](https://stackoverflow.com/a/43276769). ","title":"JPA: entity object is not appeared in the H2 console","body":"<p>Then you open '<a href=\"http://localhost:8080/h2-console\" rel=\"nofollow noreferrer\">http://localhost:8080/h2-console</a>' you need to specify 'JDBC URL'. By default (as I understand you use default setting because your application.properties is empty) this value is:</p>\n\n<pre><code>jdbc:h2:mem:testdb\n</code></pre>\n\n<hr>\n\n<p>IMHO H2 Console is not the best choice for the developer. You can work with H2 right from your IDE - see <a href=\"https://stackoverflow.com/a/43276769\">my answer</a>. </p>\n"},{"tags":[],"owner":{"account_id":3916995,"reputation":20992,"user_id":3240583,"accept_rate":69,"display_name":"Mina Fawzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551821364,"creation_date":1551821364,"answer_id":55011894,"question_id":44802676,"body_markdown":"you need to set h2 configuration in `application.properties`\r\nwrite these lines \r\n\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.url=jdbc:h2:mem:testdb --&gt; whatever url you find when open console\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\n","title":"JPA: entity object is not appeared in the H2 console","body":"<p>you need to set h2 configuration in <code>application.properties</code>\nwrite these lines </p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:testdb --&gt; whatever url you find when open console\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461842,"reputation":26,"user_id":5005340,"display_name":"Mahmoud Khalaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680472608,"creation_date":1680472608,"answer_id":75914804,"question_id":44802676,"body_markdown":"I had the same problem, I **solved** it by moving the entity to the main app package.\r\n&lt;br&gt;&lt;br&gt;\r\nNote: using @ComponentScan over the main app class didn&#39;t solve the issue nither a separate class with @Configuratin @ComponentScan ( basePackages =  {&quot;thepackage&quot;})","title":"JPA: entity object is not appeared in the H2 console","body":"<p>I had the same problem, I <strong>solved</strong> it by moving the entity to the main app package.\n<br><br>\nNote: using @ComponentScan over the main app class didn't solve the issue nither a separate class with @Configuratin @ComponentScan ( basePackages =  {&quot;thepackage&quot;})</p>\n"}],"owner":{"account_id":2211885,"reputation":11194,"user_id":1953504,"accept_rate":66,"display_name":"Sal-laS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2051,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1680472608,"creation_date":1498653474,"question_id":44802676,"body_markdown":"In my spring app i have the below entity:\r\n\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    @Entity\r\n    \r\n    public class Profile {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tLong id;\r\n    \t\r\n    \tString name;\r\n    \tString address;\r\n    \tString description;\r\n    \tString img;\r\n    \t\r\n    public Profile(String name, String address, String description, String img) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.address = address;\r\n    \t\tthis.description = description;\r\n    \t\tthis.img = img;\r\n    \t}\r\n    \r\n }\r\n\r\nand then the repository is:\r\n\r\n    @Repository\r\n    public interface ProfileRepository extends JpaRepository&lt;Profile,Long&gt; {\r\n    \r\n    }\r\n\r\nHere is my `pom.xml`:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nSo, i expect when i go to the h2 console uri:\r\n\r\n    http://localhost:8080/h2-console/login.do?jsessionid=ae6ba7021a23e0ebb4a4844381546e72\r\n\r\n\r\nIt shows the table related to the object `Profile`. \r\n\r\nThe problem is: *there is no table called Profile.*\r\n\r\nSo, **why i don&#39;t have the profile table?**\r\n\r\nThe `application.properties` is empty\r\n  \r\nHere is how i connect to H2[![enter image description here][2]][2]\r\n\r\n\r\nAnd when i run my application, it says:\r\n\r\n    [2m2017-06-29 10:07:21.106[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    [2m2017-06-29 10:07:21.557[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.tool.hbm2ddl.SchemaExport [0;39m [2m:[0;39m HHH000227: Running hbm2ddl schema export\r\n    [2m2017-06-29 10:07:21.557[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.tool.hbm2ddl.SchemaExport [0;39m [2m:[0;39m HHH000230: Schema export complete\r\n\r\n\r\nSo, it seems that, **the application makes the schema of database**. Am i right?\r\n\r\n  [1]: https://stackoverflow.com/questions/43256295/how-to-access-in-memory-h2-database-of-one-spring-boot-application-from-another/43276769#43276769\r\n  [2]: https://i.stack.imgur.com/Ty3AF.png","title":"JPA: entity object is not appeared in the H2 console","body":"<p>In my spring app i have the below entity:</p>\n\n<pre><code>import lombok.Data;\n\n@Data\n@Entity\n\npublic class Profile {\n\n    @Id\n    @GeneratedValue\n    Long id;\n\n    String name;\n    String address;\n    String description;\n    String img;\n\npublic Profile(String name, String address, String description, String img) {\n        this.name = name;\n        this.address = address;\n        this.description = description;\n        this.img = img;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>and then the repository is:</p>\n\n<pre><code>@Repository\npublic interface ProfileRepository extends JpaRepository&lt;Profile,Long&gt; {\n\n}\n</code></pre>\n\n<p>Here is my <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>So, i expect when i go to the h2 console uri:</p>\n\n<pre><code>http://localhost:8080/h2-console/login.do?jsessionid=ae6ba7021a23e0ebb4a4844381546e72\n</code></pre>\n\n<p>It shows the table related to the object <code>Profile</code>. </p>\n\n<p>The problem is: <em>there is no table called Profile.</em></p>\n\n<p>So, <strong>why i don't have the profile table?</strong></p>\n\n<p>The <code>application.properties</code> is empty</p>\n\n<p>Here is how i connect to H2<a href=\"https://i.stack.imgur.com/Ty3AF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ty3AF.png\" alt=\"enter image description here\"></a></p>\n\n<p>And when i run my application, it says:</p>\n\n<pre><code>[2m2017-06-29 10:07:21.106[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n[2m2017-06-29 10:07:21.557[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.tool.hbm2ddl.SchemaExport [0;39m [2m:[0;39m HHH000227: Running hbm2ddl schema export\n[2m2017-06-29 10:07:21.557[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.tool.hbm2ddl.SchemaExport [0;39m [2m:[0;39m HHH000230: Schema export complete\n</code></pre>\n\n<p>So, it seems that, <strong>the application makes the schema of database</strong>. Am i right?</p>\n"},{"tags":["java","android","wear-os"],"comments":[{"owner":{"account_id":1494993,"reputation":6603,"user_id":1401164,"accept_rate":67,"display_name":"Gustavo Pagani"},"score":0,"creation_date":1680516783,"post_id":75914712,"comment_id":133906093,"body_markdown":"[this](https://developer.android.com/training/wearables/data/data-layer) documentation is a good entry point","body":"<a href=\"https://developer.android.com/training/wearables/data/data-layer\" rel=\"nofollow noreferrer\">this</a> documentation is a good entry point"}],"owner":{"account_id":20081624,"reputation":17,"user_id":14724137,"display_name":"Luis Barba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680471259,"creation_date":1680471259,"question_id":75914712,"body_markdown":"I am currently working on an android application where I would like to first gather sensor data form a smartwatch and continuously send that data into the handheld device. Most of the documentation I have seen generally uses a button to send data, how can I do this without the use of a button and have the data streamed in real time?\r\n\r\nRight now, I am using the health services api to extract the heart rate but I&#39;m not really sure how to properly pair this with a message or channel client to constantly send the data every time there&#39;s a change. I&#39;ve read that using DataItems helps synchronize data between both devices whenever there is a change, but I haven&#39;t found any documentation that points me the correct way of implementing it to my project.\r\n\r\nI am new to java and android development so any help or guidance would be appreciated.","title":"How to send real-time sensor data from wear os to mobile?","body":"<p>I am currently working on an android application where I would like to first gather sensor data form a smartwatch and continuously send that data into the handheld device. Most of the documentation I have seen generally uses a button to send data, how can I do this without the use of a button and have the data streamed in real time?</p>\n<p>Right now, I am using the health services api to extract the heart rate but I'm not really sure how to properly pair this with a message or channel client to constantly send the data every time there's a change. I've read that using DataItems helps synchronize data between both devices whenever there is a change, but I haven't found any documentation that points me the correct way of implementing it to my project.</p>\n<p>I am new to java and android development so any help or guidance would be appreciated.</p>\n"},{"tags":["java","android","retrofit2","rx-java2"],"answers":[{"comments":[{"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"score":0,"creation_date":1592889606,"post_id":62523795,"comment_id":110578214,"body_markdown":"Hey I have added my complete server response above and changed my ApiService returntype accordingly please go through my code and let me know   what is wrong as its still not autheticating user.","body":"Hey I have added my complete server response above and changed my ApiService returntype accordingly please go through my code and let me know   what is wrong as its still not autheticating user."},{"owner":{"account_id":7535001,"reputation":870,"user_id":5721636,"display_name":"Hamid Rasti"},"score":0,"creation_date":1608794171,"post_id":62523795,"comment_id":115686465,"body_markdown":"I think your data do not sent correctly. you should use `@FieldMap` in your `getResponse` method (like my answer) . if you want to use `@Body` you should create a POJO class for `getResponse` argument","body":"I think your data do not sent correctly. you should use <code>@FieldMap</code> in your <code>getResponse</code> method (like my answer) . if you want to use <code>@Body</code> you should create a POJO class for <code>getResponse</code> argument"}],"tags":[],"owner":{"account_id":7535001,"reputation":870,"user_id":5721636,"display_name":"Hamid Rasti"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592885326,"creation_date":1592861422,"answer_id":62523795,"question_id":62521299,"body_markdown":"In your ApiService\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;userLoginVerification&quot;)\r\n    Call&lt;User&gt; getResponse(@FieldMap HashMap&lt;String, String&gt; data);\r\n\r\nAnd the HashMap\r\n\r\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;userId&quot;, &quot;theUserId&quot;);\r\n            map.put(&quot;password&quot;, &quot;thePassword&quot;);\r\n\r\n\r\nAlso, a big problem is that your response is in format\r\n\r\n    { &quot;status&quot;: &quot;Success&quot; }\r\n\r\nbut in `ApiService` you expect server return a user!\r\nYou must change the `getResponse` return type to match the server response format.\r\n\r\nAnother problem is in the line\r\n\r\n    if (response.equals(&quot;Success&quot;))\r\n\r\nthis condition is never true, because `response` is not `String` and you cant check equality in this way. you should use `response.body()`.","title":"How to post data using Retrofit as raw JSON","body":"<p>In your ApiService</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;userLoginVerification&quot;)\nCall&lt;User&gt; getResponse(@FieldMap HashMap&lt;String, String&gt; data);\n</code></pre>\n<p>And the HashMap</p>\n<pre><code>HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;userId&quot;, &quot;theUserId&quot;);\n        map.put(&quot;password&quot;, &quot;thePassword&quot;);\n</code></pre>\n<p>Also, a big problem is that your response is in format</p>\n<pre><code>{ &quot;status&quot;: &quot;Success&quot; }\n</code></pre>\n<p>but in <code>ApiService</code> you expect server return a user!\nYou must change the <code>getResponse</code> return type to match the server response format.</p>\n<p>Another problem is in the line</p>\n<pre><code>if (response.equals(&quot;Success&quot;))\n</code></pre>\n<p>this condition is never true, because <code>response</code> is not <code>String</code> and you cant check equality in this way. you should use <code>response.body()</code>.</p>\n"},{"comments":[{"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"score":0,"creation_date":1592891172,"post_id":62528057,"comment_id":110578729,"body_markdown":"That means I should remove  `try-catch` block  and simply use `resp` string.","body":"That means I should remove  <code>try-catch</code> block  and simply use <code>resp</code> string."},{"owner":{"account_id":12253040,"reputation":7939,"user_id":8942811,"accept_rate":80,"display_name":"Bek"},"score":0,"creation_date":1592893140,"post_id":62528057,"comment_id":110579403,"body_markdown":"Yes. Use `response`","body":"Yes. Use <code>response</code>"}],"tags":[],"owner":{"account_id":12253040,"reputation":7939,"user_id":8942811,"accept_rate":80,"display_name":"Bek"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592890882,"creation_date":1592890882,"answer_id":62528057,"question_id":62521299,"body_markdown":"`public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response)`\r\n\r\nDon&#39;t create `JSONObject` in `onResponse`. `response.body()` gives you LoginResponse object. Use that object to get status. Dismiss your progress bar immediately after `onResponse` or `onFailure` if activity or fragment is not destroyed.","title":"How to post data using Retrofit as raw JSON","body":"<p><code>public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response)</code></p>\n<p>Don't create <code>JSONObject</code> in <code>onResponse</code>. <code>response.body()</code> gives you LoginResponse object. Use that object to get status. Dismiss your progress bar immediately after <code>onResponse</code> or <code>onFailure</code> if activity or fragment is not destroyed.</p>\n"}],"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62528057,"answer_count":2,"score":0,"last_activity_date":1680471254,"creation_date":1592851233,"question_id":62521299,"body_markdown":"I am trying to post data using retrofit2 in the from of raw JSON to the server but there is no response from the server. Progress bar keeps on loading but there is  no response from the server.\r\n\r\nMy server is sending below JSON object as a success message:\r\n\r\n    {\r\n    &quot;status&quot;: &quot;Success&quot;,\r\n    &quot;statusCode&quot;: &quot;S001&quot;,\r\n    &quot;loginResponse&quot;: {\r\n        &quot;authenticationStatus&quot;: false,\r\n        &quot;sessionid&quot;: null,\r\n        &quot;errorDescription&quot;: null,\r\n        &quot;predictionStatus&quot;: null,\r\n        &quot;predictionPercentage&quot;: null,\r\n        &quot;predictionPercentageA&quot;: null,\r\n        &quot;predictionPercentageB&quot;: null,\r\n        &quot;predictionPercentageC&quot;: null\r\n     }\r\n    }\r\n\r\nI want to check for only `status` whether it&#39;s `Success` or not so I made below POJO class `LoginResponse` for that.  \r\n\r\n**LoginResponse**\r\n\r\n    public class LoginResponse {\r\n\r\n    @SerializedName(&quot;status&quot;)\r\n    String status;\r\n\r\n    public LoginResponse(){\r\n\r\n    }\r\n\r\n    public LoginResponse(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n    }\r\n\r\n\r\nBelow is my code:\r\n\r\n**ApiService.class**\r\n\r\n    public interface ApiService {\r\n\r\n    @POST(&quot;userLoginVerification&quot;)\r\n    Call&lt;LoginResponse&gt; getResponse(@Body JsonObject body);\r\n    }\r\n\r\n**MainActivity.class**\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        login = findViewById(R.id.login);\r\n        email = findViewById(R.id.email);\r\n        pwd = findViewById(R.id.pwd);\r\n\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                final ProgressDialog prg = new ProgressDialog(MainActivity.this);\r\n                prg.setCancelable(false);\r\n                prg.setMessage(&quot;Logging in...&quot;);\r\n                prg.show();\r\n\r\n                String str1 = email.getText().toString();\r\n                String str2 = pwd.getText().toString();\r\n\r\n                if(str1.equals(&quot;&quot;)){\r\n\r\n                    prg.dismiss();\r\n                    TastyToast.makeText(getApplicationContext(),&quot;Enter email&quot;,TastyToast.LENGTH_SHORT,\r\n                            TastyToast.ERROR).show();\r\n                }\r\n                else if(str2.equals(&quot;&quot;)){\r\n\r\n                    prg.dismiss();\r\n                    TastyToast.makeText(getApplicationContext(),&quot;Enter password&quot;,TastyToast.LENGTH_SHORT,\r\n                            TastyToast.ERROR).show();\r\n                }\r\n                else{\r\n\r\n                    Retrofit retrofit = RetrofitClient.getInstance();\r\n                    ApiService apiService = retrofit.create(ApiService.class);\r\n\r\n                    JsonObject jsonObject= new JsonObject();\r\n                    jsonObject.addProperty(&quot;userId&quot;,str1);\r\n                    jsonObject.addProperty(&quot;password&quot;,str2);\r\n\r\n                    Call&lt;LoginResponse&gt; call = apiService.getResponse(jsonObject);\r\n\r\n                    call.enqueue(new Callback&lt;LoginResponse&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\r\n\r\n                           try{\r\n                                JSONObject jsonObject1 = new JSONObject(resp);\r\n\r\n                                String str = jsonObject1.getString(&quot;status&quot;);\r\n\r\n                                if(str.equals(&quot;Success&quot;)){\r\n\r\n                                    prg.dismiss();\r\n                                    email.setText(&quot;&quot;);\r\n                                    pwd.setText(&quot;&quot;);\r\n                                }\r\n                               }\r\n                              catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Call&lt;LoginResponse&gt; call, Throwable t) {\r\n\r\n                            TastyToast.makeText(getApplicationContext(),t.getMessage(),TastyToast.LENGTH_SHORT,\r\n                                       TastyToast.ERROR).show();\r\n                        }\r\n                    });\r\n\r\n                }\r\n            }\r\n        });\r\n      }\r\n\r\nThere is no response from the server on implementing above code. What I am doing wrong?\r\n","title":"How to post data using Retrofit as raw JSON","body":"<p>I am trying to post data using retrofit2 in the from of raw JSON to the server but there is no response from the server. Progress bar keeps on loading but there is  no response from the server.</p>\n<p>My server is sending below JSON object as a success message:</p>\n<pre><code>{\n&quot;status&quot;: &quot;Success&quot;,\n&quot;statusCode&quot;: &quot;S001&quot;,\n&quot;loginResponse&quot;: {\n    &quot;authenticationStatus&quot;: false,\n    &quot;sessionid&quot;: null,\n    &quot;errorDescription&quot;: null,\n    &quot;predictionStatus&quot;: null,\n    &quot;predictionPercentage&quot;: null,\n    &quot;predictionPercentageA&quot;: null,\n    &quot;predictionPercentageB&quot;: null,\n    &quot;predictionPercentageC&quot;: null\n }\n}\n</code></pre>\n<p>I want to check for only <code>status</code> whether it's <code>Success</code> or not so I made below POJO class <code>LoginResponse</code> for that.</p>\n<p><strong>LoginResponse</strong></p>\n<pre><code>public class LoginResponse {\n\n@SerializedName(&quot;status&quot;)\nString status;\n\npublic LoginResponse(){\n\n}\n\npublic LoginResponse(String status) {\n    this.status = status;\n}\n\npublic String getStatus() {\n    return status;\n}\n\npublic void setStatus(String status) {\n    this.status = status;\n}\n}\n</code></pre>\n<p>Below is my code:</p>\n<p><strong>ApiService.class</strong></p>\n<pre><code>public interface ApiService {\n\n@POST(&quot;userLoginVerification&quot;)\nCall&lt;LoginResponse&gt; getResponse(@Body JsonObject body);\n}\n</code></pre>\n<p><strong>MainActivity.class</strong></p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    login = findViewById(R.id.login);\n    email = findViewById(R.id.email);\n    pwd = findViewById(R.id.pwd);\n\n    login.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            final ProgressDialog prg = new ProgressDialog(MainActivity.this);\n            prg.setCancelable(false);\n            prg.setMessage(&quot;Logging in...&quot;);\n            prg.show();\n\n            String str1 = email.getText().toString();\n            String str2 = pwd.getText().toString();\n\n            if(str1.equals(&quot;&quot;)){\n\n                prg.dismiss();\n                TastyToast.makeText(getApplicationContext(),&quot;Enter email&quot;,TastyToast.LENGTH_SHORT,\n                        TastyToast.ERROR).show();\n            }\n            else if(str2.equals(&quot;&quot;)){\n\n                prg.dismiss();\n                TastyToast.makeText(getApplicationContext(),&quot;Enter password&quot;,TastyToast.LENGTH_SHORT,\n                        TastyToast.ERROR).show();\n            }\n            else{\n\n                Retrofit retrofit = RetrofitClient.getInstance();\n                ApiService apiService = retrofit.create(ApiService.class);\n\n                JsonObject jsonObject= new JsonObject();\n                jsonObject.addProperty(&quot;userId&quot;,str1);\n                jsonObject.addProperty(&quot;password&quot;,str2);\n\n                Call&lt;LoginResponse&gt; call = apiService.getResponse(jsonObject);\n\n                call.enqueue(new Callback&lt;LoginResponse&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\n\n                       try{\n                            JSONObject jsonObject1 = new JSONObject(resp);\n\n                            String str = jsonObject1.getString(&quot;status&quot;);\n\n                            if(str.equals(&quot;Success&quot;)){\n\n                                prg.dismiss();\n                                email.setText(&quot;&quot;);\n                                pwd.setText(&quot;&quot;);\n                            }\n                           }\n                          catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;LoginResponse&gt; call, Throwable t) {\n\n                        TastyToast.makeText(getApplicationContext(),t.getMessage(),TastyToast.LENGTH_SHORT,\n                                   TastyToast.ERROR).show();\n                    }\n                });\n\n            }\n        }\n    });\n  }\n</code></pre>\n<p>There is no response from the server on implementing above code. What I am doing wrong?</p>\n"},{"tags":["java","android","sqlite","dao"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1536510138,"post_id":52246416,"comment_id":91440910,"body_markdown":"Cant you get a `List`, which is the default and simply transform to an array?","body":"Cant you get a <code>List</code>, which is the default and simply transform to an array?"},{"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"score":0,"creation_date":1536510185,"post_id":52246416,"comment_id":91440922,"body_markdown":"I... could. Let me try that.","body":"I... could. Let me try that."},{"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"score":0,"creation_date":1536510929,"post_id":52246416,"comment_id":91441141,"body_markdown":"The `List` seems empty.","body":"The <code>List</code> seems empty."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1536510962,"post_id":52246416,"comment_id":91441151,"body_markdown":"Well now u know that the query might be the problem, right?","body":"Well now u know that the query might be the problem, right?"},{"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"score":0,"creation_date":1536511016,"post_id":52246416,"comment_id":91441171,"body_markdown":"I&#39;ve run the query on the sqlite3 binary on my phone and it outputs as expected. Where could I be messing up?","body":"I&#39;ve run the query on the sqlite3 binary on my phone and it outputs as expected. Where could I be messing up?"},{"owner":{"account_id":11228250,"reputation":1147,"user_id":8237252,"display_name":"LaVepe"},"score":0,"creation_date":1536513201,"post_id":52246416,"comment_id":91441722,"body_markdown":"I&#39;m just guessing here but have you tried changing your table name and field names from camelcase to lowercase? \ne.g. `SubMenus` entity will be annotated `@Entity(tableName = &quot;sub_menus&quot;)`, `SubMenuTitle` field will be annotated `@ColumnInfo(name = &quot;sub_menu_title&quot;)` and `MenuID` will be annotated `@ColumnInfo(name = &quot;menu_id &quot;)`\nand your Query will be: `@Query(&quot;SELECT sub_menu_title FROM sub_menus WHERE menu_id = :MenuID&quot;)`","body":"I&#39;m just guessing here but have you tried changing your table name and field names from camelcase to lowercase?  e.g. <code>SubMenus</code> entity will be annotated <code>@Entity(tableName = &quot;sub_menus&quot;)</code>, <code>SubMenuTitle</code> field will be annotated <code>@ColumnInfo(name = &quot;sub_menu_title&quot;)</code> and <code>MenuID</code> will be annotated <code>@ColumnInfo(name = &quot;menu_id &quot;)</code> and your Query will be: <code>@Query(&quot;SELECT sub_menu_title FROM sub_menus WHERE menu_id = :MenuID&quot;)</code>"},{"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"score":0,"creation_date":1536513778,"post_id":52246416,"comment_id":91441873,"body_markdown":"Still doesn&#39;t work","body":"Still doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680469516,"creation_date":1680469516,"answer_id":75914608,"question_id":52246416,"body_markdown":"This answer is many, many years late, but I got around this by altering the code to resemble the following:\r\n\r\n    @Query(&quot;SELECT SubMenuTitle FROM SubMenus WHERE MenuID = :MenuID&quot;)\r\n    LiveData&lt;String[]&gt; getSubMenus(int MenuID);\r\n\r\nThen, after creating a ViewModel object, the `observe()` method was implemented as follows:\r\n\r\n    vm.getSubMenus(MenuID).observe(this, new Observer&lt;String[]&gt;() {\r\n        @Override\r\n        public void onChanged(@Nullable String[] menus) {\r\n            populateTabs(menus);\r\n        }\r\n    });\r\n\r\nMy understanding is that since the database queries take time to run, the instant that `getSubMenus()` is run, nothing is actually returned from the database. My initial flawed understanding was that Room would wait for the database query to finish running before returning the object, but 5 further years of studying has proven that this is not the case. Therefore, the `LiveData&lt;&gt;` wrapper was needed so that the `String[]` could be updated as data came in from the database. However,  I may still be wrong, so someone please correct me if I am.","title":"How do you get a String[] from a Room database?","body":"<p>This answer is many, many years late, but I got around this by altering the code to resemble the following:</p>\n<pre><code>@Query(&quot;SELECT SubMenuTitle FROM SubMenus WHERE MenuID = :MenuID&quot;)\nLiveData&lt;String[]&gt; getSubMenus(int MenuID);\n</code></pre>\n<p>Then, after creating a ViewModel object, the <code>observe()</code> method was implemented as follows:</p>\n<pre><code>vm.getSubMenus(MenuID).observe(this, new Observer&lt;String[]&gt;() {\n    @Override\n    public void onChanged(@Nullable String[] menus) {\n        populateTabs(menus);\n    }\n});\n</code></pre>\n<p>My understanding is that since the database queries take time to run, the instant that <code>getSubMenus()</code> is run, nothing is actually returned from the database. My initial flawed understanding was that Room would wait for the database query to finish running before returning the object, but 5 further years of studying has proven that this is not the case. Therefore, the <code>LiveData&lt;&gt;</code> wrapper was needed so that the <code>String[]</code> could be updated as data came in from the database. However,  I may still be wrong, so someone please correct me if I am.</p>\n"}],"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914608,"answer_count":1,"score":0,"last_activity_date":1680469516,"creation_date":1536510024,"question_id":52246416,"body_markdown":"Pretty self-explanatory. I have a Room database, one of the tables has a column of type `String`, I want to get all the data in that column and return it as `String[]`. For some reason, that `String[]` is always empty. What am I doing wrong?\r\n\r\nHere is the command from my DAO:\r\n    \r\n    @Query(&quot;SELECT SubMenuTitle FROM SubMenus WHERE MenuID = :MenuID&quot;)\r\n    String[] getSubMenus(int MenuID);\r\n\r\nWhen I run the query using the sqlite3 binary on my phone, the output is as expected.","title":"How do you get a String[] from a Room database?","body":"<p>Pretty self-explanatory. I have a Room database, one of the tables has a column of type <code>String</code>, I want to get all the data in that column and return it as <code>String[]</code>. For some reason, that <code>String[]</code> is always empty. What am I doing wrong?</p>\n\n<p>Here is the command from my DAO:</p>\n\n<pre><code>@Query(\"SELECT SubMenuTitle FROM SubMenus WHERE MenuID = :MenuID\")\nString[] getSubMenus(int MenuID);\n</code></pre>\n\n<p>When I run the query using the sqlite3 binary on my phone, the output is as expected.</p>\n"},{"tags":["java","reflection","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680449718,"post_id":75912952,"comment_id":133896851,"body_markdown":"[mcve] please (including the complete stacktrace formatted as code)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (including the complete stacktrace formatted as code)"},{"owner":{"account_id":28195297,"reputation":31,"user_id":21550046,"display_name":"Nathalie Kitty"},"score":0,"creation_date":1680449995,"post_id":75912952,"comment_id":133896908,"body_markdown":"Ah, sorrie! I&#39;ll organize some more code and edit","body":"Ah, sorrie! I&#39;ll organize some more code and edit"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1680454689,"post_id":75912952,"comment_id":133897633,"body_markdown":"Welcome on SO. The given code show that you are looking for the good method, and the error is saying you are only searching for `v()`. Is that normal? Also, prefer use declaredMehtods","body":"Welcome on SO. The given code show that you are looking for the good method, and the error is saying you are only searching for <code>v()</code>. Is that normal? Also, prefer use declaredMehtods"},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":1,"creation_date":1680484361,"post_id":75912952,"comment_id":133901353,"body_markdown":"Are you familiar with Minecraft&#39;s use of obfuscation, or with SRG vs. MCP names?","body":"Are you familiar with Minecraft&#39;s use of obfuscation, or with SRG vs. MCP names?"}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1680501016,"post_id":75914602,"comment_id":133902941,"body_markdown":"I&#39;m 100% sure this is not a Java bug.","body":"I&#39;m 100% sure this is not a Java bug."}],"tags":[],"owner":{"account_id":28195297,"reputation":31,"user_id":21550046,"display_name":"Nathalie Kitty"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680469443,"creation_date":1680469443,"answer_id":75914602,"question_id":75912952,"body_markdown":"I was able to resolve the core issue but not the mystery.\r\n\r\nTurns out you can use both .v() and .func_181057_v() on a clean Mohist server. I forgot to remove a plugin called BKCommonLib (version 1.19.3-v3-1512), which appears to remove .func_181057_v(), but leaves v() working.  \r\nSolution - just use `.v()`.\r\n\r\nAs to why the logs say that .v() cannot be found when you use .func_181057_v() while BKCommonLib is present on the server - I have no idea. Perhaps it&#39;s a Java bug that appears due to BKCommonLib pathing stuff through reflection.  \r\nFeel free to look into it and add comments!","title":"Reflection getMethod(...) throws NoSuchMethodException with a different method name","body":"<p>I was able to resolve the core issue but not the mystery.</p>\n<p>Turns out you can use both .v() and .func_181057_v() on a clean Mohist server. I forgot to remove a plugin called BKCommonLib (version 1.19.3-v3-1512), which appears to remove .func_181057_v(), but leaves v() working.<br />\nSolution - just use <code>.v()</code>.</p>\n<p>As to why the logs say that .v() cannot be found when you use .func_181057_v() while BKCommonLib is present on the server - I have no idea. Perhaps it's a Java bug that appears due to BKCommonLib pathing stuff through reflection.<br />\nFeel free to look into it and add comments!</p>\n"}],"owner":{"account_id":28195297,"reputation":31,"user_id":21550046,"display_name":"Nathalie Kitty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75914602,"answer_count":1,"score":0,"last_activity_date":1680469443,"creation_date":1680449419,"question_id":75912952,"body_markdown":"Using `myClass.getMethod(&quot;func_181057_v&quot;)` throws exception in the console - &quot;NoSuchMethodException: myClass.v()&quot;.  \r\nI don&#39;t think it&#39;s supposed to do that - why is the method name different in thrown exception compared to what I&#39;ve actually typed in and how can I retrieve that method?\r\n\r\nI have tried both `.getMethod(..)` and `.getDelcaredMethod(..)` as well as printed `.getDeclaredMethods()` list and .func_181057_v() was on the list. When I change anything about the name (for example func_181057__v) then the exact typed in method is looked for rather than &quot;v&quot;.\r\n\r\nMy code:\r\n```java\r\ntry {\r\n   Class&lt;?&gt; fmlCommonHandlerClass = Class.forName(&quot;net.minecraftforge.fml.common.FMLCommonHandler&quot;);\r\n   Class&lt;?&gt; minecraftServerClass = Class.forName(&quot;net.minecraft.server.MinecraftServer&quot;);\r\n   Class&lt;?&gt; playerListClass = Class.forName(&quot;net.minecraft.server.management.PlayerList&quot;);\r\n\r\n   Method getMinecraftServerInstanceMethod = fmlCommonHandlerClass.getDeclaredMethod(&quot;getMinecraftServerInstance&quot;);\r\n   Method getPlayerListMethod = minecraftServerClass.getDeclaredMethod(&quot;getPlayerList&quot;);\r\n   Method getPlayersMethod = playerListClass.getDeclaredMethod(&quot;func_181057_v&quot;);\r\n} catch (Exception exception) {\r\n   throw new RuntimeException(exception);\r\n}\r\n```\r\nFull code: https://github.com/KittyNath/ReflectionExample  \r\nExact method name is `public java.util.List net.minecraft.server.management.PlayerList.func_181057_v()`  \r\nIf you want to execute it you need to compile and install it as a plugin to Mohist server, I&#39;m using version 1.12.2, build 320.  \r\nJava 1.8.0_361.\r\n\r\nFull exception:\r\n```\r\n[18:25:56 ERROR]: Error occurred while enabling ReflectionExample v1.0-SNAPSHOT (Is it up to date?)\r\n java.lang.RuntimeException: java.lang.NoSuchMethodException: net.minecraft.server.management.PlayerList.v()\r\n        at com.example.plugin.reflectionExample.ReflectionExample.onEnable(ReflectionExample.java:20) ~[?:?]\r\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:177) ~[JavaPlugin.class:?]\r\n        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:318) [JavaPluginLoader.class:?]\r\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:399) [SimplePluginManager.class:?]\r\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:477) [CraftServer.class:?]\r\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:418) [CraftServer.class:?]\r\n        at net.minecraft.server.MinecraftServer.func_71247_a(MinecraftServer.java:383) [MinecraftServer.class:?]\r\n        at net.minecraft.server.dedicated.DedicatedServer.func_71197_b(DedicatedServer.java:315) [nz.class:?]\r\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:590) [MinecraftServer.class:?]\r\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_361]\r\nCaused by: java.lang.NoSuchMethodException: net.minecraft.server.management.PlayerList.v()\r\n        at java.lang.Class.getMethod(Unknown Source) ~[?:1.8.0_361]\r\n        at com.mohistmc.bukkit.nms.proxy.ProxyClass.getMethod(ProxyClass.java:43) ~[ProxyClass.class:?]\r\n        at com.example.plugin.reflectionExample.ReflectionExample.onEnable(ReflectionExample.java:18) ~[?:?]\r\n        ... 9 more\r\n```","title":"Reflection getMethod(...) throws NoSuchMethodException with a different method name","body":"<p>Using <code>myClass.getMethod(&quot;func_181057_v&quot;)</code> throws exception in the console - &quot;NoSuchMethodException: myClass.v()&quot;.<br />\nI don't think it's supposed to do that - why is the method name different in thrown exception compared to what I've actually typed in and how can I retrieve that method?</p>\n<p>I have tried both <code>.getMethod(..)</code> and <code>.getDelcaredMethod(..)</code> as well as printed <code>.getDeclaredMethods()</code> list and .func_181057_v() was on the list. When I change anything about the name (for example func_181057__v) then the exact typed in method is looked for rather than &quot;v&quot;.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n   Class&lt;?&gt; fmlCommonHandlerClass = Class.forName(&quot;net.minecraftforge.fml.common.FMLCommonHandler&quot;);\n   Class&lt;?&gt; minecraftServerClass = Class.forName(&quot;net.minecraft.server.MinecraftServer&quot;);\n   Class&lt;?&gt; playerListClass = Class.forName(&quot;net.minecraft.server.management.PlayerList&quot;);\n\n   Method getMinecraftServerInstanceMethod = fmlCommonHandlerClass.getDeclaredMethod(&quot;getMinecraftServerInstance&quot;);\n   Method getPlayerListMethod = minecraftServerClass.getDeclaredMethod(&quot;getPlayerList&quot;);\n   Method getPlayersMethod = playerListClass.getDeclaredMethod(&quot;func_181057_v&quot;);\n} catch (Exception exception) {\n   throw new RuntimeException(exception);\n}\n</code></pre>\n<p>Full code: <a href=\"https://github.com/KittyNath/ReflectionExample\" rel=\"nofollow noreferrer\">https://github.com/KittyNath/ReflectionExample</a><br />\nExact method name is <code>public java.util.List net.minecraft.server.management.PlayerList.func_181057_v()</code><br />\nIf you want to execute it you need to compile and install it as a plugin to Mohist server, I'm using version 1.12.2, build 320.<br />\nJava 1.8.0_361.</p>\n<p>Full exception:</p>\n<pre><code>[18:25:56 ERROR]: Error occurred while enabling ReflectionExample v1.0-SNAPSHOT (Is it up to date?)\n java.lang.RuntimeException: java.lang.NoSuchMethodException: net.minecraft.server.management.PlayerList.v()\n        at com.example.plugin.reflectionExample.ReflectionExample.onEnable(ReflectionExample.java:20) ~[?:?]\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:177) ~[JavaPlugin.class:?]\n        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:318) [JavaPluginLoader.class:?]\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:399) [SimplePluginManager.class:?]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:477) [CraftServer.class:?]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:418) [CraftServer.class:?]\n        at net.minecraft.server.MinecraftServer.func_71247_a(MinecraftServer.java:383) [MinecraftServer.class:?]\n        at net.minecraft.server.dedicated.DedicatedServer.func_71197_b(DedicatedServer.java:315) [nz.class:?]\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:590) [MinecraftServer.class:?]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_361]\nCaused by: java.lang.NoSuchMethodException: net.minecraft.server.management.PlayerList.v()\n        at java.lang.Class.getMethod(Unknown Source) ~[?:1.8.0_361]\n        at com.mohistmc.bukkit.nms.proxy.ProxyClass.getMethod(ProxyClass.java:43) ~[ProxyClass.class:?]\n        at com.example.plugin.reflectionExample.ReflectionExample.onEnable(ReflectionExample.java:18) ~[?:?]\n        ... 9 more\n</code></pre>\n"},{"tags":["java","android","arrays"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1680466085,"post_id":75914334,"comment_id":133899335,"body_markdown":"It sounds like a chapter is made up of units, where units are not unique _across chapters_. I would suggest that a flat list is not the correct way to model this data. Nor, necessarily, is relying directly on `String`. Perhaps you should create custom classes with this (e.g., a `Chapter` class that has-a list of `Unit`s).","body":"It sounds like a chapter is made up of units, where units are not unique <i>across chapters</i>. I would suggest that a flat list is not the correct way to model this data. Nor, necessarily, is relying directly on <code>String</code>. Perhaps you should create custom classes with this (e.g., a <code>Chapter</code> class that has-a list of <code>Unit</code>s)."},{"owner":{"account_id":24332935,"reputation":482,"user_id":21183551,"display_name":"Ars_Codicis"},"score":0,"creation_date":1680466649,"post_id":75914334,"comment_id":133899421,"body_markdown":"@Slaw, no, my &quot;Chapters&quot; aren&#39;t made up of units. And, since my data isn&#39;t really in need of a model, I don&#39;t want to go down that route.","body":"@Slaw, no, my &quot;Chapters&quot; aren&#39;t made up of units. And, since my data isn&#39;t really in need of a model, I don&#39;t want to go down that route."},{"owner":{"account_id":19078257,"reputation":94,"user_id":13931072,"display_name":"Cryptolis"},"score":0,"creation_date":1680466663,"post_id":75914334,"comment_id":133899425,"body_markdown":"If you want to stay with a list this [link](https://stackoverflow.com/questions/708698/how-can-i-sort-a-list-alphabetically) could be quite helpful. Otherwise I would go with Slaw&#39;s approach.","body":"If you want to stay with a list this <a href=\"https://stackoverflow.com/questions/708698/how-can-i-sort-a-list-alphabetically\">link</a> could be quite helpful. Otherwise I would go with Slaw&#39;s approach."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1680474262,"post_id":75914334,"comment_id":133900349,"body_markdown":"@vincere Well, based off your edit, I mostly just got it the wrong way around. A unit is made up of chapters. And given your tree-like structure, I still think modeling your data with classes is the right approach. Later, if you really want a flat list, you can add that functionality (take the tree and flatten it; if the chapters are in order, and the units of each chapter are in order, then the flattened list will be in order). Regardless, you need to somehow record the fact that a chapter belongs to a unit, or maybe give everything sequential IDs (in the right order).","body":"@vincere Well, based off your edit, I mostly just got it the wrong way around. A unit is made up of chapters. And given your tree-like structure, I still think modeling your data with classes is the right approach. Later, if you really want a flat list, you can add that functionality (take the tree and flatten it; if the chapters are in order, and the units of each chapter are in order, then the flattened list will be in order). Regardless, you need to somehow record the fact that a chapter belongs to a unit, or maybe give everything sequential IDs (in the right order)."}],"answers":[{"comments":[{"owner":{"account_id":24332935,"reputation":482,"user_id":21183551,"display_name":"Ars_Codicis"},"score":0,"creation_date":1680469551,"post_id":75914582,"comment_id":133899824,"body_markdown":"Thanks! This was my final option, and I guess I&#39;ll get to work.","body":"Thanks! This was my final option, and I guess I&#39;ll get to work."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680469214,"creation_date":1680469214,"answer_id":75914582,"question_id":75914334,"body_markdown":"The best way to solve this is probably not to keep this data as strings, but as an actual data structure.\r\n\r\nIf you&#39;re stuck with strings, use sort with a custom comparator that decides which comes first based on your criteria (which would require splitting that string into a number and a type, then comparing first the number then the type).","title":"Order List&lt;String&gt; of Data with Chapters vs. Units","body":"<p>The best way to solve this is probably not to keep this data as strings, but as an actual data structure.</p>\n<p>If you're stuck with strings, use sort with a custom comparator that decides which comes first based on your criteria (which would require splitting that string into a number and a type, then comparing first the number then the type).</p>\n"}],"owner":{"account_id":24332935,"reputation":482,"user_id":21183551,"display_name":"Ars_Codicis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914582,"answer_count":1,"score":0,"last_activity_date":1680469214,"creation_date":1680465703,"question_id":75914334,"body_markdown":"I have a `List&lt;String&gt;` of Units and Chapters for a basic flashcard game. I would like to order them least to greatest (E.G. Chapter 1, Unit 1, Chapter 2 etc...)\r\n\r\nUsing this code:\r\n\r\n```\r\nString UnitsChaptersString = Utils.GetReviewUnitsChapters().replaceAll(&quot; &quot;, &quot;_&quot;);\r\n\r\nList&lt;String&gt; UnitsChaptersList = Arrays.asList(UnitsChaptersString.split(&quot;,&quot;));\r\n\r\nfor (int i = 0; i &lt; UnitsChaptersList.size(); i++) {\r\n\r\n    // Order and add to the RecyclerView here...\r\n\r\n}\r\n```\r\n\r\nI obtain and loop through a list of units and chapters.\r\n\r\nAn example `String` value returned by `Utils.GetReviewUnitsChapters()...` is this:\r\n\r\n`Chapter_3,Unit_2,Chapter_1`\r\n\r\nWith the string above, the end result should be: `Chapter_1,Chapter_3,Unit_2.`\r\n\r\nFor clarity, `Unit_2` is greater than both `Chapter_1 `and `Chapter_3`, but `Unit_1 `is only greater than `Chapter_1`.\r\n\r\n**Important Note:** Units &#39;hold&#39; chapters! Chapters are a subsidiary of Units.\r\n\r\nVisual Tree:\r\n\r\n**Unit_1:**\r\n\r\n   \r\n - Chapter 1\r\n   \r\n - Chapter 2\r\n   \r\n - Etc...\r\n\r\n**Unit_2:**\r\n\r\n   \r\n - Chapter 5\r\n   \r\n - Chapter 6\r\n   \r\n - And so on.\r\n\r\nI had this same question for Swift (https://stackoverflow.com/questions/73954632/eliminate-array-sorted-errors-swift-5). Note that in Swift, there is a nice `.sorted()` function available. Might there be one for Java?\r\n\r\nStackOverflow tried to send me to this [link](https://stackoverflow.com/questions/42428419/ordering-of-data-with-firebase-android), but it wasn&#39;t the answer to my question.\r\n\r\nI also looked into the `List.sort(...)` option, but I ran into the wall of `Comparators` and `super Strings`, so I was unable to implement that on my own.\r\n\r\n\r\n**Update:**\r\n-------\r\n\r\n\r\nUsing one of the suggested methods, I used this code:\r\n\r\n```\r\nList&lt;String&gt; TestList = Arrays.asList(&quot;Chapter_1&quot;, &quot;Unit_3&quot;, &quot;Chapter_42&quot;, &quot;Chapter_2&quot;);\r\n\r\n        Collections.sort(TestList);\r\n\r\n        for (int i = 0; i &lt; TestList.size(); i++) {\r\n\r\n            Log.i(&quot;SortedList&quot;, TestList.get(i));\r\n\r\n        }\r\n```\r\n\r\nAnd got this:\r\n\r\n```\r\nI/SortedList: Chapter_1\r\nI/SortedList: Chapter_2\r\nI/SortedList: Chapter_42\r\nI/SortedList: Unit_3\r\n```\r\n\r\n`Unit_3` should be after `Chapter_2` but before `Chapter_42`.\r\n\r\nIn other words, the output needs to be:\r\n\r\n```\r\nI/SortedList: Chapter_1\r\nI/SortedList: Chapter_2\r\nI/SortedList: Unit_3\r\nI/SortedList: Chapter_42\r\n```\r\n\r\nThank you!","title":"Order List&lt;String&gt; of Data with Chapters vs. Units","body":"<p>I have a <code>List&lt;String&gt;</code> of Units and Chapters for a basic flashcard game. I would like to order them least to greatest (E.G. Chapter 1, Unit 1, Chapter 2 etc...)</p>\n<p>Using this code:</p>\n<pre><code>String UnitsChaptersString = Utils.GetReviewUnitsChapters().replaceAll(&quot; &quot;, &quot;_&quot;);\n\nList&lt;String&gt; UnitsChaptersList = Arrays.asList(UnitsChaptersString.split(&quot;,&quot;));\n\nfor (int i = 0; i &lt; UnitsChaptersList.size(); i++) {\n\n    // Order and add to the RecyclerView here...\n\n}\n</code></pre>\n<p>I obtain and loop through a list of units and chapters.</p>\n<p>An example <code>String</code> value returned by <code>Utils.GetReviewUnitsChapters()...</code> is this:</p>\n<p><code>Chapter_3,Unit_2,Chapter_1</code></p>\n<p>With the string above, the end result should be: <code>Chapter_1,Chapter_3,Unit_2.</code></p>\n<p>For clarity, <code>Unit_2</code> is greater than both <code>Chapter_1 </code>and <code>Chapter_3</code>, but <code>Unit_1 </code>is only greater than <code>Chapter_1</code>.</p>\n<p><strong>Important Note:</strong> Units 'hold' chapters! Chapters are a subsidiary of Units.</p>\n<p>Visual Tree:</p>\n<p><strong>Unit_1:</strong></p>\n<ul>\n<li><p>Chapter 1</p>\n</li>\n<li><p>Chapter 2</p>\n</li>\n<li><p>Etc...</p>\n</li>\n</ul>\n<p><strong>Unit_2:</strong></p>\n<ul>\n<li><p>Chapter 5</p>\n</li>\n<li><p>Chapter 6</p>\n</li>\n<li><p>And so on.</p>\n</li>\n</ul>\n<p>I had this same question for Swift (<a href=\"https://stackoverflow.com/questions/73954632/eliminate-array-sorted-errors-swift-5\">Eliminate array .sorted errors Swift 5</a>). Note that in Swift, there is a nice <code>.sorted()</code> function available. Might there be one for Java?</p>\n<p>StackOverflow tried to send me to this <a href=\"https://stackoverflow.com/questions/42428419/ordering-of-data-with-firebase-android\">link</a>, but it wasn't the answer to my question.</p>\n<p>I also looked into the <code>List.sort(...)</code> option, but I ran into the wall of <code>Comparators</code> and <code>super Strings</code>, so I was unable to implement that on my own.</p>\n<h2><strong>Update:</strong></h2>\n<p>Using one of the suggested methods, I used this code:</p>\n<pre><code>List&lt;String&gt; TestList = Arrays.asList(&quot;Chapter_1&quot;, &quot;Unit_3&quot;, &quot;Chapter_42&quot;, &quot;Chapter_2&quot;);\n\n        Collections.sort(TestList);\n\n        for (int i = 0; i &lt; TestList.size(); i++) {\n\n            Log.i(&quot;SortedList&quot;, TestList.get(i));\n\n        }\n</code></pre>\n<p>And got this:</p>\n<pre><code>I/SortedList: Chapter_1\nI/SortedList: Chapter_2\nI/SortedList: Chapter_42\nI/SortedList: Unit_3\n</code></pre>\n<p><code>Unit_3</code> should be after <code>Chapter_2</code> but before <code>Chapter_42</code>.</p>\n<p>In other words, the output needs to be:</p>\n<pre><code>I/SortedList: Chapter_1\nI/SortedList: Chapter_2\nI/SortedList: Unit_3\nI/SortedList: Chapter_42\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","ubuntu","jenkins","systemctl"],"answers":[{"tags":[],"owner":{"account_id":2008812,"reputation":609,"user_id":2464312,"accept_rate":67,"display_name":"TeabagD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648890113,"creation_date":1648890113,"answer_id":71716174,"question_id":71710824,"body_markdown":"    sudo systemctl edit jenkins\r\n\r\nIs what actually works,, as in the link in the question. It doesn&#39;t modify the config file, but anything that gets added here overwrites the config that can be viewed using:\r\n\r\n    systemctl cat jenkins","title":"Jenkins not picking up config file changed (/etc/default/jenkins) in Ubuntu","body":"<pre><code>sudo systemctl edit jenkins\n</code></pre>\n<p>Is what actually works,, as in the link in the question. It doesn't modify the config file, but anything that gets added here overwrites the config that can be viewed using:</p>\n<pre><code>systemctl cat jenkins\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21516280,"reputation":116,"user_id":15858082,"display_name":"Barath Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1649869156,"creation_date":1649262850,"answer_id":71770501,"question_id":71710824,"body_markdown":"Editing `/etc/default/jenkins`\r\ndoes not work after Jenkins version 2.332.1, which relies\r\non systemd rather than the init system ([documentation][1]).\r\n\r\nInstead, run:\r\n\r\n&gt; systemctl edit jenkins\r\n\r\nwhich will bring up an editor with an empty file. Create the section below with the following:\r\n\r\n    [Service]\r\n    Environment=&quot;JENKINS_PORT=8888&quot;\r\n\r\nChange the port as desired and save the file (in case of nano as editor with `Ctrl + X, Y`).\r\nFinally, restart Jenkins and it should pick up the new port:\r\n\r\n&gt; sudo systemctl restart jenkins\r\n\r\n\r\n  [1]: https://www.jenkins.io/doc/upgrade-guide/2.332/","title":"Jenkins not picking up config file changed (/etc/default/jenkins) in Ubuntu","body":"<p>Editing <code>/etc/default/jenkins</code>\ndoes not work after Jenkins version 2.332.1, which relies\non systemd rather than the init system (<a href=\"https://www.jenkins.io/doc/upgrade-guide/2.332/\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n<p>Instead, run:</p>\n<blockquote>\n<p>systemctl edit jenkins</p>\n</blockquote>\n<p>which will bring up an editor with an empty file. Create the section below with the following:</p>\n<pre><code>[Service]\nEnvironment=&quot;JENKINS_PORT=8888&quot;\n</code></pre>\n<p>Change the port as desired and save the file (in case of nano as editor with <code>Ctrl + X, Y</code>).\nFinally, restart Jenkins and it should pick up the new port:</p>\n<blockquote>\n<p>sudo systemctl restart jenkins</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":15993751,"reputation":484,"user_id":16355737,"display_name":"Signor"},"score":2,"creation_date":1684359555,"post_id":75914538,"comment_id":134508957,"body_markdown":"I&#39;m doing it using Ansible, and `systemctl daemon-reload` was the key point to grab the override.conf file. Thanks.","body":"I&#39;m doing it using Ansible, and <code>systemctl daemon-reload</code> was the key point to grab the override.conf file. Thanks."}],"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680468369,"creation_date":1680468369,"answer_id":75914538,"question_id":71710824,"body_markdown":"With Debian Bullseye (Debian 11) :\r\n\r\n`vim /etc/systemd/system/jenkins.service.d/override.conf` \r\n\r\n    [Service]\r\n    Environment=&quot;JENKINS_LISTEN_ADDRESS=127.0.0.1&quot;\r\n    Environment=&quot;JENKINS_PREFIX=/jenkins&quot;\r\n    Environment=&quot;JENKINS_PORT=XXXX&quot;  &lt;= Change XXXX to the port value you want to use.\r\n\r\nThe key is to edit the config file which is overriding the default configuration, because the default configuration is updated each new release, erasing your custom config.\r\n\r\nDon&#39;t forget to update and reload your changes with :\r\n\r\n`systemctl daemon-reload`\r\n\r\n`service jenkins restart`\r\n","title":"Jenkins not picking up config file changed (/etc/default/jenkins) in Ubuntu","body":"<p>With Debian Bullseye (Debian 11) :</p>\n<p><code>vim /etc/systemd/system/jenkins.service.d/override.conf</code></p>\n<pre><code>[Service]\nEnvironment=&quot;JENKINS_LISTEN_ADDRESS=127.0.0.1&quot;\nEnvironment=&quot;JENKINS_PREFIX=/jenkins&quot;\nEnvironment=&quot;JENKINS_PORT=XXXX&quot;  &lt;= Change XXXX to the port value you want to use.\n</code></pre>\n<p>The key is to edit the config file which is overriding the default configuration, because the default configuration is updated each new release, erasing your custom config.</p>\n<p>Don't forget to update and reload your changes with :</p>\n<p><code>systemctl daemon-reload</code></p>\n<p><code>service jenkins restart</code></p>\n"}],"owner":{"account_id":2008812,"reputation":609,"user_id":2464312,"accept_rate":67,"display_name":"TeabagD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3407,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71770501,"answer_count":3,"score":3,"last_activity_date":1680468369,"creation_date":1648834548,"question_id":71710824,"body_markdown":"Using:\r\n- Ubuntu 20.04.2 LTS\r\n- Java 1.8.0_322\r\n- Jenkins 2.332.1\r\n\r\nI&#39;ve been attempting to change the HTTP port or the User in /etc/default/jenkins file. However the changes are not picked up once I do:\r\n\r\n    sudo service jenkins restart\r\n\r\nThe answer here also doesn&#39;t seem to work:\r\n[https://stackoverflow.com/questions/71494231/jenkins-changes-in-etc-default-jenkins-not-working][1]\r\n\r\n    sudo systemctl edit jenkins\r\n\r\njust opens a new file for editing\r\n\r\n  [1]: https://stackoverflow.com/questions/71494231/jenkins-changes-in-etc-default-jenkins-not-working","title":"Jenkins not picking up config file changed (/etc/default/jenkins) in Ubuntu","body":"<p>Using:</p>\n<ul>\n<li>Ubuntu 20.04.2 LTS</li>\n<li>Java 1.8.0_322</li>\n<li>Jenkins 2.332.1</li>\n</ul>\n<p>I've been attempting to change the HTTP port or the User in /etc/default/jenkins file. However the changes are not picked up once I do:</p>\n<pre><code>sudo service jenkins restart\n</code></pre>\n<p>The answer here also doesn't seem to work:\n<a href=\"https://stackoverflow.com/questions/71494231/jenkins-changes-in-etc-default-jenkins-not-working\">Jenkins changes in /etc/default/jenkins not working</a></p>\n<pre><code>sudo systemctl edit jenkins\n</code></pre>\n<p>just opens a new file for editing</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1680195283,"post_id":75890340,"comment_id":133860955,"body_markdown":"Like it or not, your techniques are the way to override spring boot default beans.","body":"Like it or not, your techniques are the way to override spring boot default beans."}],"answers":[{"comments":[{"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"score":0,"creation_date":1681060603,"post_id":75914469,"comment_id":133994768,"body_markdown":"Thank you for this. I wish there was an easier way that didn&#39;t involve hunting down the specific auto config class to know this, but thank you for the info","body":"Thank you for this. I wish there was an easier way that didn&#39;t involve hunting down the specific auto config class to know this, but thank you for the info"}],"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680467518,"creation_date":1680467518,"answer_id":75914469,"question_id":75890340,"body_markdown":"Spring Boot provides defaults with the capability to exclude, or use a user provide bean. It&#39;s one of the key capabilities. \r\n\r\nGiven the WebFlux ErrorExceptionHandler currently looks like this, \r\n\r\n```\r\n@AutoConfiguration(before = WebFluxAutoConfiguration.class)\r\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.REACTIVE)\r\n@ConditionalOnClass(WebFluxConfigurer.class)\r\n@EnableConfigurationProperties({ ServerProperties.class, WebProperties.class })\r\npublic class ErrorWebFluxAutoConfiguration {\r\n\r\n\tprivate final ServerProperties serverProperties;\r\n\r\n\tpublic ErrorWebFluxAutoConfiguration(ServerProperties serverProperties) {\r\n\t\tthis.serverProperties = serverProperties;\r\n\t}\r\n\r\n\t@Bean\r\n\t@ConditionalOnMissingBean(value = ErrorWebExceptionHandler.class, search = SearchStrategy.CURRENT)\r\n\t@Order(-1)\r\n\tpublic ErrorWebExceptionHandler errorWebExceptionHandler(ErrorAttributes errorAttributes,\r\n\t\t\tWebProperties webProperties, ObjectProvider&lt;ViewResolver&gt; viewResolvers,\r\n\t\t\tServerCodecConfigurer serverCodecConfigurer, ApplicationContext applicationContext) {\r\n\t\tDefaultErrorWebExceptionHandler exceptionHandler = new DefaultErrorWebExceptionHandler(errorAttributes,\r\n\t\t\t\twebProperties.getResources(), this.serverProperties.getError(), applicationContext);\r\n\t\texceptionHandler.setViewResolvers(viewResolvers.orderedStream().toList());\r\n\t\texceptionHandler.setMessageWriters(serverCodecConfigurer.getWriters());\r\n\t\texceptionHandler.setMessageReaders(serverCodecConfigurer.getReaders());\r\n\t\treturn exceptionHandler;\r\n\t}\r\n\r\n\t@Bean\r\n\t@ConditionalOnMissingBean(value = ErrorAttributes.class, search = SearchStrategy.CURRENT)\r\n\tpublic DefaultErrorAttributes errorAttributes() {\r\n\t\treturn new DefaultErrorAttributes();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nYou can either, \r\n\r\n1. Create a Bean that implements `ErrorWebExceptionHandler` rather `WebExceptionHandler` \r\n1. Exclude `ErrorWebFluxAutoConfiguration.class` which can be done in a few ways, but normally these days via `@SpringBootApplication(exclude = { ErrorWebFluxAutoConfiguration.class })` ","title":"Are there good options to remove or disable a default Spring bean?","body":"<p>Spring Boot provides defaults with the capability to exclude, or use a user provide bean. It's one of the key capabilities.</p>\n<p>Given the WebFlux ErrorExceptionHandler currently looks like this,</p>\n<pre><code>@AutoConfiguration(before = WebFluxAutoConfiguration.class)\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.REACTIVE)\n@ConditionalOnClass(WebFluxConfigurer.class)\n@EnableConfigurationProperties({ ServerProperties.class, WebProperties.class })\npublic class ErrorWebFluxAutoConfiguration {\n\n    private final ServerProperties serverProperties;\n\n    public ErrorWebFluxAutoConfiguration(ServerProperties serverProperties) {\n        this.serverProperties = serverProperties;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(value = ErrorWebExceptionHandler.class, search = SearchStrategy.CURRENT)\n    @Order(-1)\n    public ErrorWebExceptionHandler errorWebExceptionHandler(ErrorAttributes errorAttributes,\n            WebProperties webProperties, ObjectProvider&lt;ViewResolver&gt; viewResolvers,\n            ServerCodecConfigurer serverCodecConfigurer, ApplicationContext applicationContext) {\n        DefaultErrorWebExceptionHandler exceptionHandler = new DefaultErrorWebExceptionHandler(errorAttributes,\n                webProperties.getResources(), this.serverProperties.getError(), applicationContext);\n        exceptionHandler.setViewResolvers(viewResolvers.orderedStream().toList());\n        exceptionHandler.setMessageWriters(serverCodecConfigurer.getWriters());\n        exceptionHandler.setMessageReaders(serverCodecConfigurer.getReaders());\n        return exceptionHandler;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(value = ErrorAttributes.class, search = SearchStrategy.CURRENT)\n    public DefaultErrorAttributes errorAttributes() {\n        return new DefaultErrorAttributes();\n    }\n\n}\n</code></pre>\n<p>You can either,</p>\n<ol>\n<li>Create a Bean that implements <code>ErrorWebExceptionHandler</code> rather <code>WebExceptionHandler</code></li>\n<li>Exclude <code>ErrorWebFluxAutoConfiguration.class</code> which can be done in a few ways, but normally these days via <code>@SpringBootApplication(exclude = { ErrorWebFluxAutoConfiguration.class })</code></li>\n</ol>\n"}],"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680467518,"creation_date":1680190930,"question_id":75890340,"body_markdown":"The scenario that inspired this question is the `WebExceptionHandler` for Spring WebFlux:\r\n\r\n```\r\n@Bean\r\n@Order(-2)\r\npublic WebExceptionHandler exceptionHandler() {\r\n\treturn (exchange, ex) -&gt; {\r\n\t\t// Handle exceptions\r\n\t};\r\n}\r\n```\r\n\r\nIn the above code example, I&#39;m using the `@Order` annotation to ensure my exception handler is prioritized above the `DefaultErrorWebExceptionHandler` Spring WebFlux ships with. This is an effective solution. So is `@Primary`. However, I really don&#39;t like either of them. \r\n\r\nThe reason behind this is it feels unpleasant to me to rely on what is order-based functionality to ensure my code behaves. I would much rather find a way to exclude `DefaultErrorWebExceptionHandler` from the Spring container, so that my implementation is the only `WebExceptionHandler` available. However, `DefaultErrorWebExceptionHandler` is autowired automatically by Spring, and I&#39;m not aware of any way to exclude it.\r\n\r\nI&#39;m wondering what options there may be to achieve this goal.\r\n","title":"Are there good options to remove or disable a default Spring bean?","body":"<p>The scenario that inspired this question is the <code>WebExceptionHandler</code> for Spring WebFlux:</p>\n<pre><code>@Bean\n@Order(-2)\npublic WebExceptionHandler exceptionHandler() {\n    return (exchange, ex) -&gt; {\n        // Handle exceptions\n    };\n}\n</code></pre>\n<p>In the above code example, I'm using the <code>@Order</code> annotation to ensure my exception handler is prioritized above the <code>DefaultErrorWebExceptionHandler</code> Spring WebFlux ships with. This is an effective solution. So is <code>@Primary</code>. However, I really don't like either of them.</p>\n<p>The reason behind this is it feels unpleasant to me to rely on what is order-based functionality to ensure my code behaves. I would much rather find a way to exclude <code>DefaultErrorWebExceptionHandler</code> from the Spring container, so that my implementation is the only <code>WebExceptionHandler</code> available. However, <code>DefaultErrorWebExceptionHandler</code> is autowired automatically by Spring, and I'm not aware of any way to exclude it.</p>\n<p>I'm wondering what options there may be to achieve this goal.</p>\n"},{"tags":["java","spring","aop","spring-aop","spring-aspects"],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678908508,"answer_count":0,"score":0,"last_activity_date":1680467126,"creation_date":1678892828,"question_id":75746579,"body_markdown":"I am using a custom annotation and created around aspect for it. Aspect method is getting executed if it is on the service method called from controller. But if I place it on a intermediate method in service class, around aspect method is not getting executed.\r\n\r\nBelow is the code,\r\n\r\nTestServiceImpl.java\r\n\r\n\r\n    @Override\r\n    @TestAround\r\n    public ResponseDto testMethod(String param1) {\r\n       testMethod2(param1);\r\n       ...\r\n    }\r\n\r\n    public void testMethod2(String param1) {   \r\n      ...\r\n    } \r\n\r\n    TestAround.java\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface TestAround {    \r\n     ...\r\n    }\r\n\r\n    TestChangeAspect.java\r\n    @Around(&quot;@annotation(com.annotation.TestAround&quot;)\r\n    public Object testChangeAspectMethod(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    .....\r\n    }\r\n\r\nAbove code works good and testChangeAspectMethod method is getting executed when testMethod from service class is called from Controller.\r\n\r\nBut if I have modify like below, moving the annotation to testMethod2, aspect method is not getting executed.\r\n\r\n    @Override    \r\n    public ResponseDto testMethod(String param1) {\r\n       testMethod2(param1);\r\n       ...\r\n    }\r\n    \r\n    @TestAround\r\n    public void testMethod2(String param1) {   \r\n      ...\r\n    } \r\n\r\nWhy is the aspect method not getting executed when I change like above?\r\n","title":"Spring Around Aspect not executing on intermediate method","body":"<p>I am using a custom annotation and created around aspect for it. Aspect method is getting executed if it is on the service method called from controller. But if I place it on a intermediate method in service class, around aspect method is not getting executed.</p>\n<p>Below is the code,</p>\n<p>TestServiceImpl.java</p>\n<pre><code>@Override\n@TestAround\npublic ResponseDto testMethod(String param1) {\n   testMethod2(param1);\n   ...\n}\n\npublic void testMethod2(String param1) {   \n  ...\n} \n\nTestAround.java\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface TestAround {    \n ...\n}\n\nTestChangeAspect.java\n@Around(&quot;@annotation(com.annotation.TestAround&quot;)\npublic Object testChangeAspectMethod(ProceedingJoinPoint joinPoint) throws Throwable {\n.....\n}\n</code></pre>\n<p>Above code works good and testChangeAspectMethod method is getting executed when testMethod from service class is called from Controller.</p>\n<p>But if I have modify like below, moving the annotation to testMethod2, aspect method is not getting executed.</p>\n<pre><code>@Override    \npublic ResponseDto testMethod(String param1) {\n   testMethod2(param1);\n   ...\n}\n\n@TestAround\npublic void testMethod2(String param1) {   \n  ...\n} \n</code></pre>\n<p>Why is the aspect method not getting executed when I change like above?</p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1680468770,"post_id":75914420,"comment_id":133899729,"body_markdown":"I guess you could do this... After this is done, `current` will point to the node that will appear first in an X-order traversal. You cannot use it to implement such a traversal, so I fail to see the point of this exercise.","body":"I guess you could do this... After this is done, <code>current</code> will point to the node that will appear first in an X-order traversal. You cannot use it to implement such a traversal, so I fail to see the point of this exercise."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1680468889,"post_id":75914420,"comment_id":133899744,"body_markdown":"Those traversals are usually done recursively starting at root. Is this an attempt to implement an iterative traversal step-by step? In that case, your Node would need an additional `parent` link to be able to continue the traversal.","body":"Those traversals are usually done recursively starting at root. Is this an attempt to implement an iterative traversal step-by step? In that case, your Node would need an additional <code>parent</code> link to be able to continue the traversal."},{"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"score":0,"creation_date":1680469237,"post_id":75914420,"comment_id":133899783,"body_markdown":"The point of this method is to initialize the pointer to the start of the traversal. I have an additional getNext method that obtains the item after this reset method put the pointer back in the beginning.","body":"The point of this method is to initialize the pointer to the start of the traversal. I have an additional getNext method that obtains the item after this reset method put the pointer back in the beginning."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680470796,"post_id":75914420,"comment_id":133899978,"body_markdown":"@teapot418 is correct that you need the parent link -- one of the problems with the code in your previous question, as I mentioned, was that you were not setting the parent link.","body":"@teapot418 is correct that you need the parent link -- one of the problems with the code in your previous question, as I mentioned, was that you were not setting the parent link."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1680476177,"post_id":75914420,"comment_id":133900541,"body_markdown":"The premise doesn&#39;t make sense from a design perspective.  What you want is to create an `Iterator` that knows how to traverse the tree in the desired order, and store the &quot;current&quot; position there.","body":"The premise doesn&#39;t make sense from a design perspective.  What you want is to create an <code>Iterator</code> that knows how to traverse the tree in the desired order, and store the &quot;current&quot; position there."},{"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"score":0,"creation_date":1680477009,"post_id":75914420,"comment_id":133900623,"body_markdown":"I totally agree with you. I&#39;ll say tho that&#39;s what the getNext method does. It doesn&#39;t seem necessary to have this reset method, but alas that&#39;s my task.","body":"I totally agree with you. I&#39;ll say tho that&#39;s what the getNext method does. It doesn&#39;t seem necessary to have this reset method, but alas that&#39;s my task."}],"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680466808,"creation_date":1680466808,"question_id":75914420,"body_markdown":"So the goal is to reset or initialize the current position of the node for a given order type (ie. in-order, pre-order, post-order). We can assume there is at least one element in the tree, and we need to set the pointer to the relevant position based on the starting position of the order type. The function can only have the int orderType as its parameter.\r\n\r\n\r\n\r\n\r\nThis is what I came up with, my issue is I don&#39;t know if its right and I don&#39;t know how to test if its right.\r\n\r\n```\r\npublic class BinarySearchTree {\r\n    TreeNode root;\r\n    TreeNode current;\r\n\r\n    public class TreeNode {\r\n        Comparable data;\r\n        TreeNode left;\r\n        TreeNode right;\r\n\r\n        public TreeNode(Comparable data) {\r\n            this.data = data;\r\n            this.left = null;\r\n            this.right = null;\r\n        }\r\n    }\r\n\r\n    public static final int INORDER = 1;\r\n    public static final int PREORDER = 2;\r\n    public static final int POSTORDER = 3;\r\n\r\n    public void reset(int orderType) {\r\n        if (root == null) {\r\n            return;\r\n        }\r\n        switch (orderType) {\r\n            case PREORDER:\r\n                current = root;\r\n                break;\r\n            case INORDER:\r\n                TreeNode node = root;\r\n                while (node.left != null) {\r\n                    node = node.left;\r\n                }\r\n                current = node;\r\n                break;\r\n            case POSTORDER:\r\n                node = root;\r\n                while (node.right != null) {\r\n                    node = node.right;\r\n                }\r\n                current = node;\r\n                break;\r\n        }\r\n    }\r\n```","title":"I need to create a reset method for a binary search tree in java","body":"<p>So the goal is to reset or initialize the current position of the node for a given order type (ie. in-order, pre-order, post-order). We can assume there is at least one element in the tree, and we need to set the pointer to the relevant position based on the starting position of the order type. The function can only have the int orderType as its parameter.</p>\n<p>This is what I came up with, my issue is I don't know if its right and I don't know how to test if its right.</p>\n<pre><code>public class BinarySearchTree {\n    TreeNode root;\n    TreeNode current;\n\n    public class TreeNode {\n        Comparable data;\n        TreeNode left;\n        TreeNode right;\n\n        public TreeNode(Comparable data) {\n            this.data = data;\n            this.left = null;\n            this.right = null;\n        }\n    }\n\n    public static final int INORDER = 1;\n    public static final int PREORDER = 2;\n    public static final int POSTORDER = 3;\n\n    public void reset(int orderType) {\n        if (root == null) {\n            return;\n        }\n        switch (orderType) {\n            case PREORDER:\n                current = root;\n                break;\n            case INORDER:\n                TreeNode node = root;\n                while (node.left != null) {\n                    node = node.left;\n                }\n                current = node;\n                break;\n            case POSTORDER:\n                node = root;\n                while (node.right != null) {\n                    node = node.right;\n                }\n                current = node;\n                break;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680465923,"creation_date":1680465923,"answer_id":75914351,"question_id":75913904,"body_markdown":"If you want to cancel your pending `Runnable`, you have to pass *that specific `Runnable` object* to the *remove callbacks* call. Right now, when you post the Runnable, you&#39;re not keeping a reference to it:\r\n\r\n````\r\nfun setViewToDisappear(view: View) {\r\n    // you&#39;re only storing this in a variable local to the function\r\n    val hideViewRunnable = Runnable { hideView(view) }\r\n    handler.postDelayed(hideViewRunnable, 3000)\r\n}\r\n````\r\n\r\nAnd the one you&#39;re trying to cancel is a *different* Runnable (that happens to have the same name), which is local to the `init` block (and captured by the touch listener closure - i.e. you referred to it in the lambda, so that block has a reference to it)\r\n\r\n````\r\n// in the init block\r\n\r\n// this is a local variable \r\nval hideViewRunnable = Runnable { hideView(videoOptionsDoItYourself) }\r\n\r\n...\r\n\r\n// in the touch listener defined in the init block\r\ncancelSetViewToDisappear(hideViewRunnable)\r\n````\r\n\r\nSo you&#39;re passing a different `Runnable` instance to your cancel function.\r\n\r\n----\r\n\r\nYou have two options - probably the easiest is just to make `hideViewRunnable` a top-level variable, so `setViewToDisappear` can reference it instead of having to create a new instance. That way you just post and cancel the same `Runnable`.\r\n\r\nAnother option is to use the `Handler` *post* and *remove* functions that take a *token* parameter - that can be anything, it&#39;s just a shared object that lets you group stuff together by using the same token object, and you can easily cancel anything that uses the same token. Same idea as re-using the same Runnable, except you&#39;re using a shared token object to identify them instead","title":"How do I properly cancel pending runnable and keep the custom views visible whilst user is interacting with them?","body":"<p>If you want to cancel your pending <code>Runnable</code>, you have to pass <em>that specific <code>Runnable</code> object</em> to the <em>remove callbacks</em> call. Right now, when you post the Runnable, you're not keeping a reference to it:</p>\n<pre><code>fun setViewToDisappear(view: View) {\n    // you're only storing this in a variable local to the function\n    val hideViewRunnable = Runnable { hideView(view) }\n    handler.postDelayed(hideViewRunnable, 3000)\n}\n</code></pre>\n<p>And the one you're trying to cancel is a <em>different</em> Runnable (that happens to have the same name), which is local to the <code>init</code> block (and captured by the touch listener closure - i.e. you referred to it in the lambda, so that block has a reference to it)</p>\n<pre><code>// in the init block\n\n// this is a local variable \nval hideViewRunnable = Runnable { hideView(videoOptionsDoItYourself) }\n\n...\n\n// in the touch listener defined in the init block\ncancelSetViewToDisappear(hideViewRunnable)\n</code></pre>\n<p>So you're passing a different <code>Runnable</code> instance to your cancel function.</p>\n<hr />\n<p>You have two options - probably the easiest is just to make <code>hideViewRunnable</code> a top-level variable, so <code>setViewToDisappear</code> can reference it instead of having to create a new instance. That way you just post and cancel the same <code>Runnable</code>.</p>\n<p>Another option is to use the <code>Handler</code> <em>post</em> and <em>remove</em> functions that take a <em>token</em> parameter - that can be anything, it's just a shared object that lets you group stuff together by using the same token object, and you can easily cancel anything that uses the same token. Same idea as re-using the same Runnable, except you're using a shared token object to identify them instead</p>\n"}],"owner":{"account_id":15668798,"reputation":396,"user_id":11305890,"display_name":"Klem Lloyd Mwenya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914351,"answer_count":1,"score":0,"last_activity_date":1680465923,"creation_date":1680460181,"question_id":75913904,"body_markdown":"I have made a custom video player, and it&#39;s working mostly fine. However, there is a bug that I want to get rid of. I could use some help figuring out what I&#39;m doing wrong. For more context, I am setting a `postDelay Runnable` to hide the view after 3 seconds, which is working. I, however, **want to be able to cancel that runnable if the user keeps interacting with the video view and its options**. Here is the code, and what I have tried so far is to remove pending callbacks and messages, which, is not responding as expected, as the views keep disappearing after the 3 seconds that I set earlier: &lt;br /&gt;\r\n**NB: I shared the whole class to give you a more clear context of my implementation**\r\n```\r\npackage consumer.app.co.za.rain.clean.ui.view.custom.doityourselfvideoplayer\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.content.Context\r\nimport android.net.Uri\r\nimport android.os.Handler\r\nimport android.os.Looper\r\nimport android.util.AttributeSet\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.MotionEvent\r\nimport android.view.View\r\nimport android.widget.FrameLayout\r\nimport android.widget.SeekBar\r\nimport consumer.app.co.za.rain.R\r\nimport consumer.app.co.za.rain.databinding.MiniScreenVideoPlayerLayoutBinding\r\n\r\n@SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\nclass VideoPlayerMiniScreen @JvmOverloads constructor(\r\n    context: Context,\r\n    attrs: AttributeSet? = null,\r\n    defStyleAttr: Int = 0\r\n) : FrameLayout(context, attrs, defStyleAttr) {\r\n\r\n    /** Initialize global/class variables */\r\n    private val binding = MiniScreenVideoPlayerLayoutBinding.inflate(\r\n        LayoutInflater.from(context),\r\n        this,\r\n        true\r\n    )\r\n\r\n    private var seekBarTracking = false\r\n    private val handler = Handler(Looper.getMainLooper())\r\n\r\n    private val updateProgressRunnable = object : Runnable {\r\n        override fun run() {\r\n            if (!seekBarTracking &amp;&amp; binding.vvDoItYourself.isPlaying) {\r\n                val currentPosition = binding.vvDoItYourself.currentPosition\r\n                binding.seekBarDoItYourself.progress = currentPosition\r\n            }\r\n            handler.postDelayed(this, 16)\r\n        }\r\n    }\r\n\r\n    init {\r\n        with(binding) {\r\n\r\n            /** Set up video player widgets */\r\n            videoOptionsDoItYourself.apply {\r\n                visibility = VISIBLE\r\n                z = 2F\r\n            }\r\n            ivPlayPause.apply {\r\n                alpha = 1F\r\n                visibility = GONE\r\n                z = 2F\r\n            }\r\n\r\n            val hideViewRunnable = Runnable {\r\n                hideView(videoOptionsDoItYourself)\r\n            }\r\n\r\n            /** Set up video player */\r\n            vvDoItYourself.run {\r\n\r\n                z = 1F\r\n\r\n                setOnTouchListener { _, event -&gt;\r\n                    when (event.action) {\r\n                        MotionEvent.ACTION_DOWN -&gt; {\r\n                            /** Remove the pending post of setViewToDisappear callback */\r\n                            cancelSetViewToDisappear(hideViewRunnable)\r\n\r\n                            Log.d(&quot;DIY&quot;, &quot;Touched Down&quot;)\r\n\r\n                            if (ivPlayPause.visibility == VISIBLE) togglePlayPause()\r\n                            else {\r\n\r\n                                Log.d(&quot;DIY&quot;, &quot;Released&quot;)\r\n                                showView(ivPlayPause)\r\n                                showView(videoOptionsDoItYourself)\r\n                            }\r\n                        }\r\n                        MotionEvent.ACTION_UP -&gt; {\r\n                            setViewToDisappear(ivPlayPause)\r\n                            setViewToDisappear(videoOptionsDoItYourself)\r\n                        }\r\n                    }\r\n                    true\r\n                }\r\n\r\n                setOnPreparedListener { mediaPlayer -&gt;\r\n                    seekBarDoItYourself.max = mediaPlayer.duration\r\n\r\n                    /** Start in a stale state */\r\n                    if (mediaPlayer.isPlaying) mediaPlayer.stop()\r\n\r\n                    mediaPlayer.setOnSeekCompleteListener {\r\n                        val currentPosition = mediaPlayer.currentPosition\r\n                        seekBarDoItYourself.progress = currentPosition\r\n                    }\r\n\r\n                    /** Update Progress Bar in real-time */\r\n                    handler.post(updateProgressRunnable)\r\n                }\r\n\r\n                setOnCompletionListener { mediaPlayer -&gt;\r\n                    ivPlayPause.setImageResource(R.drawable.baseline_play_arrow_24)\r\n                    showView(ivPlayPause)\r\n                    seekBarDoItYourself.progress = 0\r\n                    mediaPlayer.seekTo(0)\r\n                    handler.removeCallbacks(updateProgressRunnable)\r\n                }\r\n            }\r\n\r\n            ivPlayPause.setOnClickListener {\r\n                togglePlayPause()\r\n            }\r\n\r\n            seekBarDoItYourself.setOnSeekBarChangeListener(object :\r\n                SeekBar.OnSeekBarChangeListener {\r\n                override fun onProgressChanged(\r\n                    seekBar: SeekBar?,\r\n                    progress: Int,\r\n                    fromUser: Boolean\r\n                ) {\r\n                    // Update the seek bar&#39;s progress as the video plays\r\n                    if (!seekBarTracking) {\r\n                        if (vvDoItYourself.isPlaying) {\r\n                            val currentPosition = vvDoItYourself.currentPosition\r\n                            seekBarDoItYourself.progress = currentPosition\r\n                        }\r\n                    }\r\n\r\n                    // Update the video&#39;s position to the seek bar&#39;s progress\r\n                    if (fromUser) {\r\n                        vvDoItYourself.seekTo(progress)\r\n                        seekBarDoItYourself.progress = progress\r\n                    }\r\n                }\r\n\r\n                override fun onStartTrackingTouch(seekBar: SeekBar?) {\r\n                    seekBarTracking = true\r\n                }\r\n\r\n                override fun onStopTrackingTouch(seekBar: SeekBar?) {\r\n                    seekBarTracking = false\r\n                    seekBar?.let {\r\n                        val progress = it.progress\r\n                        vvDoItYourself.seekTo(progress)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n\r\n    fun setVideoURI(uri: Uri) {\r\n        binding.vvDoItYourself.setVideoURI(uri)\r\n    }\r\n\r\n    private fun togglePlayPause() {\r\n        with(binding) {\r\n            if (!vvDoItYourself.isPlaying) {\r\n                ivPlayPause.setImageResource(R.drawable.baseline_pause_24)\r\n                vvDoItYourself.start()\r\n            } else {\r\n                ivPlayPause.setImageResource(R.drawable.baseline_play_arrow_24)\r\n                vvDoItYourself.pause()\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set to be called when controls are hidden\r\n     */\r\n    private fun showView(view: View) {\r\n        view.run {\r\n            visibility = VISIBLE\r\n            alpha = 0F\r\n            animate().alpha(1F).setDuration(500).withEndAction {\r\n\r\n            }.start()\r\n        }\r\n    }\r\n\r\n    private fun hideView(view: View) {\r\n        view.run {\r\n            alpha = 1F\r\n            animate().alpha(0F).setDuration(500).withEndAction {\r\n                view.visibility = GONE\r\n            }.start()\r\n        }\r\n    }\r\n\r\n    fun setViewToDisappear(view: View) {\r\n        val hideViewRunnable = Runnable {\r\n            hideView(view)\r\n        }\r\n        handler.postDelayed(hideViewRunnable, 3000)\r\n    }\r\n\r\n    fun cancelSetViewToDisappear(runnable: Runnable) {\r\n        handler.removeCallbacksAndMessages(runnable)\r\n    }\r\n\r\n\r\n}","title":"How do I properly cancel pending runnable and keep the custom views visible whilst user is interacting with them?","body":"<p>I have made a custom video player, and it's working mostly fine. However, there is a bug that I want to get rid of. I could use some help figuring out what I'm doing wrong. For more context, I am setting a <code>postDelay Runnable</code> to hide the view after 3 seconds, which is working. I, however, <strong>want to be able to cancel that runnable if the user keeps interacting with the video view and its options</strong>. Here is the code, and what I have tried so far is to remove pending callbacks and messages, which, is not responding as expected, as the views keep disappearing after the 3 seconds that I set earlier: <br />\n<strong>NB: I shared the whole class to give you a more clear context of my implementation</strong></p>\n<pre><code>package consumer.app.co.za.rain.clean.ui.view.custom.doityourselfvideoplayer\n\nimport android.annotation.SuppressLint\nimport android.content.Context\nimport android.net.Uri\nimport android.os.Handler\nimport android.os.Looper\nimport android.util.AttributeSet\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.MotionEvent\nimport android.view.View\nimport android.widget.FrameLayout\nimport android.widget.SeekBar\nimport consumer.app.co.za.rain.R\nimport consumer.app.co.za.rain.databinding.MiniScreenVideoPlayerLayoutBinding\n\n@SuppressLint(&quot;ClickableViewAccessibility&quot;)\nclass VideoPlayerMiniScreen @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyleAttr: Int = 0\n) : FrameLayout(context, attrs, defStyleAttr) {\n\n    /** Initialize global/class variables */\n    private val binding = MiniScreenVideoPlayerLayoutBinding.inflate(\n        LayoutInflater.from(context),\n        this,\n        true\n    )\n\n    private var seekBarTracking = false\n    private val handler = Handler(Looper.getMainLooper())\n\n    private val updateProgressRunnable = object : Runnable {\n        override fun run() {\n            if (!seekBarTracking &amp;&amp; binding.vvDoItYourself.isPlaying) {\n                val currentPosition = binding.vvDoItYourself.currentPosition\n                binding.seekBarDoItYourself.progress = currentPosition\n            }\n            handler.postDelayed(this, 16)\n        }\n    }\n\n    init {\n        with(binding) {\n\n            /** Set up video player widgets */\n            videoOptionsDoItYourself.apply {\n                visibility = VISIBLE\n                z = 2F\n            }\n            ivPlayPause.apply {\n                alpha = 1F\n                visibility = GONE\n                z = 2F\n            }\n\n            val hideViewRunnable = Runnable {\n                hideView(videoOptionsDoItYourself)\n            }\n\n            /** Set up video player */\n            vvDoItYourself.run {\n\n                z = 1F\n\n                setOnTouchListener { _, event -&gt;\n                    when (event.action) {\n                        MotionEvent.ACTION_DOWN -&gt; {\n                            /** Remove the pending post of setViewToDisappear callback */\n                            cancelSetViewToDisappear(hideViewRunnable)\n\n                            Log.d(&quot;DIY&quot;, &quot;Touched Down&quot;)\n\n                            if (ivPlayPause.visibility == VISIBLE) togglePlayPause()\n                            else {\n\n                                Log.d(&quot;DIY&quot;, &quot;Released&quot;)\n                                showView(ivPlayPause)\n                                showView(videoOptionsDoItYourself)\n                            }\n                        }\n                        MotionEvent.ACTION_UP -&gt; {\n                            setViewToDisappear(ivPlayPause)\n                            setViewToDisappear(videoOptionsDoItYourself)\n                        }\n                    }\n                    true\n                }\n\n                setOnPreparedListener { mediaPlayer -&gt;\n                    seekBarDoItYourself.max = mediaPlayer.duration\n\n                    /** Start in a stale state */\n                    if (mediaPlayer.isPlaying) mediaPlayer.stop()\n\n                    mediaPlayer.setOnSeekCompleteListener {\n                        val currentPosition = mediaPlayer.currentPosition\n                        seekBarDoItYourself.progress = currentPosition\n                    }\n\n                    /** Update Progress Bar in real-time */\n                    handler.post(updateProgressRunnable)\n                }\n\n                setOnCompletionListener { mediaPlayer -&gt;\n                    ivPlayPause.setImageResource(R.drawable.baseline_play_arrow_24)\n                    showView(ivPlayPause)\n                    seekBarDoItYourself.progress = 0\n                    mediaPlayer.seekTo(0)\n                    handler.removeCallbacks(updateProgressRunnable)\n                }\n            }\n\n            ivPlayPause.setOnClickListener {\n                togglePlayPause()\n            }\n\n            seekBarDoItYourself.setOnSeekBarChangeListener(object :\n                SeekBar.OnSeekBarChangeListener {\n                override fun onProgressChanged(\n                    seekBar: SeekBar?,\n                    progress: Int,\n                    fromUser: Boolean\n                ) {\n                    // Update the seek bar's progress as the video plays\n                    if (!seekBarTracking) {\n                        if (vvDoItYourself.isPlaying) {\n                            val currentPosition = vvDoItYourself.currentPosition\n                            seekBarDoItYourself.progress = currentPosition\n                        }\n                    }\n\n                    // Update the video's position to the seek bar's progress\n                    if (fromUser) {\n                        vvDoItYourself.seekTo(progress)\n                        seekBarDoItYourself.progress = progress\n                    }\n                }\n\n                override fun onStartTrackingTouch(seekBar: SeekBar?) {\n                    seekBarTracking = true\n                }\n\n                override fun onStopTrackingTouch(seekBar: SeekBar?) {\n                    seekBarTracking = false\n                    seekBar?.let {\n                        val progress = it.progress\n                        vvDoItYourself.seekTo(progress)\n                    }\n                }\n            })\n        }\n\n\n    }\n\n    fun setVideoURI(uri: Uri) {\n        binding.vvDoItYourself.setVideoURI(uri)\n    }\n\n    private fun togglePlayPause() {\n        with(binding) {\n            if (!vvDoItYourself.isPlaying) {\n                ivPlayPause.setImageResource(R.drawable.baseline_pause_24)\n                vvDoItYourself.start()\n            } else {\n                ivPlayPause.setImageResource(R.drawable.baseline_play_arrow_24)\n                vvDoItYourself.pause()\n            }\n        }\n    }\n\n    /**\n     * Set to be called when controls are hidden\n     */\n    private fun showView(view: View) {\n        view.run {\n            visibility = VISIBLE\n            alpha = 0F\n            animate().alpha(1F).setDuration(500).withEndAction {\n\n            }.start()\n        }\n    }\n\n    private fun hideView(view: View) {\n        view.run {\n            alpha = 1F\n            animate().alpha(0F).setDuration(500).withEndAction {\n                view.visibility = GONE\n            }.start()\n        }\n    }\n\n    fun setViewToDisappear(view: View) {\n        val hideViewRunnable = Runnable {\n            hideView(view)\n        }\n        handler.postDelayed(hideViewRunnable, 3000)\n    }\n\n    fun cancelSetViewToDisappear(runnable: Runnable) {\n        handler.removeCallbacksAndMessages(runnable)\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1050926,"reputation":2756,"user_id":1054897,"accept_rate":71,"display_name":"Pankaj Gadge"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524900051,"creation_date":1524900051,"answer_id":50073973,"question_id":50073875,"body_markdown":"You can use JPA&#39;s `CriteriaBuilder` API like below\r\n\r\n    // Create entity manager factory first\r\n    // Make sure the package name you specify `com.db.entity` matched what you specify in `pesistence.xml`\r\n    EntityManagerFactory entityManagerFactory = Persistence\r\n    \t\t.createEntityManagerFactory(&quot;com.db.entity&quot;);\r\n    EntityManager em = entityManagerFactory.createEntityManager();\r\n\r\n    \r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;User&gt; cq = cb.createQuery(Accounts.class);\r\n    cq.where(cb.equal(join.get(&quot;name&quot;), &quot;ordinary&quot;));\r\n    TypedQuery&lt;Accounts&gt; tq = em.createQuery(cq);\r\n    List&lt;Accounts&gt; accounts = tq.getResultList();\r\n    \r\n    return accounts;","title":"Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated","body":"<p>You can use JPA's <code>CriteriaBuilder</code> API like below</p>\n\n<pre><code>// Create entity manager factory first\n// Make sure the package name you specify `com.db.entity` matched what you specify in `pesistence.xml`\nEntityManagerFactory entityManagerFactory = Persistence\n        .createEntityManagerFactory(\"com.db.entity\");\nEntityManager em = entityManagerFactory.createEntityManager();\n\n\nCriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;User&gt; cq = cb.createQuery(Accounts.class);\ncq.where(cb.equal(join.get(\"name\"), \"ordinary\"));\nTypedQuery&lt;Accounts&gt; tq = em.createQuery(cq);\nList&lt;Accounts&gt; accounts = tq.getResultList();\n\nreturn accounts;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524900675,"creation_date":1524900372,"answer_id":50074020,"question_id":50073875,"body_markdown":"This log is a warning not an error :\r\n\r\n&gt; Apr 28, 2018 12:24:45 PM org.hibernate.internal.SessionImpl\r\n&gt; createCriteria WARN: HHH90000022: Hibernate&#39;s legacy\r\n&gt; org.hibernate.Criteria API is deprecated; use the JPA\r\n&gt; javax.persistence.criteria.CriteriaQuery instead\r\n\r\nIt encourages you to pass by the JPA API as you use Hibernate. \r\n \r\nAt the root of your problem, you manipulate a `Session` (Hibernate) instead of a `EntityManager`(JPA).   \r\nDoing the reverse will provoke many changes in your actual code as most of the imports and also the way to process will be different.   \r\nYou cannot change just one thing.   \r\n\r\nHere is the JPA way (imports included) :\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.criteria.CriteriaBuilder;\r\n    import javax.persistence.criteria.CriteriaQuery;\r\n    import javax.persistence.criteria.Root;\r\n    import javax.transaction.Transactional;\r\n\r\n    @Transactional\r\n    public class AccountDAOImpl implements AccountDAO {\r\n    \r\n        @Autowired\r\n        private EntityManager em;    \r\n    \r\n        @Override\r\n        public ACCOUNTS findAccount(String userName) {    \r\n            final CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\r\n            CriteriaQuery&lt;ACCOUNTS&gt; crit = criteriaBuilder.createQuery(ACCOUNTS.class);\r\n            Root&lt;ACCOUNTS&gt; root = crit.from(ACCOUNTS.class);\r\n            crit.where(criteriaBuilder.equal(root.get(&quot;user_name&quot;), userName))\r\n                .distinct(true);\r\n            return em.createQuery(crit).getSingleResult();      \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated","body":"<p>This log is a warning not an error :</p>\n\n<blockquote>\n  <p>Apr 28, 2018 12:24:45 PM org.hibernate.internal.SessionImpl\n  createCriteria WARN: HHH90000022: Hibernate's legacy\n  org.hibernate.Criteria API is deprecated; use the JPA\n  javax.persistence.criteria.CriteriaQuery instead</p>\n</blockquote>\n\n<p>It encourages you to pass by the JPA API as you use Hibernate. </p>\n\n<p>At the root of your problem, you manipulate a <code>Session</code> (Hibernate) instead of a <code>EntityManager</code>(JPA).<br>\nDoing the reverse will provoke many changes in your actual code as most of the imports and also the way to process will be different.<br>\nYou cannot change just one thing.   </p>\n\n<p>Here is the JPA way (imports included) :</p>\n\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Root;\nimport javax.transaction.Transactional;\n\n@Transactional\npublic class AccountDAOImpl implements AccountDAO {\n\n    @Autowired\n    private EntityManager em;    \n\n    @Override\n    public ACCOUNTS findAccount(String userName) {    \n        final CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\n        CriteriaQuery&lt;ACCOUNTS&gt; crit = criteriaBuilder.createQuery(ACCOUNTS.class);\n        Root&lt;ACCOUNTS&gt; root = crit.from(ACCOUNTS.class);\n        crit.where(criteriaBuilder.equal(root.get(\"user_name\"), userName))\n            .distinct(true);\n        return em.createQuery(crit).getSingleResult();      \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28197039,"reputation":1,"user_id":21551493,"display_name":"awende"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680465787,"creation_date":1680465787,"answer_id":75914338,"question_id":50073875,"body_markdown":"An very easy way to migrate hibernate legacy criteria is to use BaseCriteria:\r\nhttps://awsdc.gitlab.io/","title":"Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated","body":"<p>An very easy way to migrate hibernate legacy criteria is to use BaseCriteria:\n<a href=\"https://awsdc.gitlab.io/\" rel=\"nofollow noreferrer\">https://awsdc.gitlab.io/</a></p>\n"}],"owner":{"account_id":3216554,"reputation":93,"user_id":2715085,"accept_rate":14,"display_name":"user2715085"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27979,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680465787,"creation_date":1524899170,"question_id":50073875,"body_markdown":"As I am using Hibernate 5  and it shows error as: \r\n\r\n&gt; Apr 28, 2018 12:24:45 PM org.hibernate.internal.SessionImpl\r\n&gt; createCriteria WARN: HHH90000022: Hibernate&#39;s legacy\r\n&gt; org.hibernate.Criteria API is deprecated; use the JPA\r\n&gt; javax.persistence.criteria.CriteriaQuery instead\r\n\r\n\r\n    @Transactional\r\n    public class AccountDAOImpl implements AccountDAO {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic ACCOUNTS findAccount(String userName) {\r\n    \t\t// TODO Auto-generated method stub//\r\n    \t\t\r\n    \t\tSession session=sessionFactory.getCurrentSession();\r\n    \t\tCriteria crit=session.createCriteria(ACCOUNTS.class).add(Restrictions.eq(&quot;user_name&quot;, userName));\r\n    \t\t//crit.add(Restrictions.eq(&quot;user_name&quot;, userName));\r\n    \t\treturn (ACCOUNTS)crit.uniqueResult();\r\n    \t}\r\n    \r\n    }\r\n\r\ninteraface accountDAO\r\n\r\n    public interface AccountDAO {\r\n    \t\r\n    \t public ACCOUNTS findAccount(String userName );\r\n    \r\n    }\r\n\r\nand model class accounts\r\n\r\n    package org.vikas.shoppingCart.entity;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;ACCOUNTS&quot;)\r\n    public class ACCOUNTS implements Serializable\r\n    {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tpublic static final String ROLE_MANAGER = &quot;MANAGER&quot;;\r\n    \tpublic static final String ROLE_EMPLOYEE = &quot;EMPLOYEE&quot;;\r\n    \t\r\n    \tprivate String user_name;\r\n    \tprivate String user_password;\r\n    \tprivate boolean active;\r\n    \tprivate String user_role;\r\n    \t\r\n    \t@Id\r\n    \t@Column(name=&quot;user_name&quot;,length=50,nullable=false)\r\n    \tpublic String getUser_name() {\r\n    \t\treturn user_name;\r\n    \t}\r\n    \tpublic void setUser_name(String user_name) {\r\n    \t\tthis.user_name = user_name;\r\n    \t}\r\n    \t\r\n    \t@Column(name=&quot;user_password&quot;,length=20,nullable=false)\r\n    \tpublic String getUser_password() {\r\n    \t\treturn user_password;\r\n    \t}\r\n    \tpublic void setUser_password(String user_password) {\r\n    \t\tthis.user_password = user_password;\r\n    \t}\r\n    \t\r\n    \t@Column(name=&quot;active&quot;,length=1,nullable=false)\r\n    \tpublic boolean isActive() {\r\n    \t\treturn active;\r\n    \t}\r\n    \tpublic void setActive(boolean active) {\r\n    \t\tthis.active = active;\r\n    \t}\r\n    \t\r\n    \t@Column(name=&quot;user_role&quot;,length=20,nullable=false)\r\n    \tpublic String getUser_role() {\r\n    \t\treturn user_role;\r\n    \t}\r\n    \tpublic void setUser_role(String user_role) {\r\n    \t\tthis.user_role = user_role;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ACCOUNTS [user_name=&quot; + user_name + &quot;, user_password=&quot; + user_password + &quot;, active=&quot; + active\r\n    \t\t\t\t+ &quot;, user_role=&quot; + user_role + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\nAs I searched and it says to use `CreateBuilder` to avoid deprecation(as i got example of only to show all data in `List`), but I am using add condition here with restrictions.\r\n\r\nKindly help me to how to use `createBuilder` while using condition like I used `add(Restrictions.eq(&quot;user_name&quot;, userName));` in code or  is there any other solution to avoid deprecation?","title":"Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated","body":"<p>As I am using Hibernate 5  and it shows error as:</p>\n<blockquote>\n<p>Apr 28, 2018 12:24:45 PM org.hibernate.internal.SessionImpl\ncreateCriteria WARN: HHH90000022: Hibernate's legacy\norg.hibernate.Criteria API is deprecated; use the JPA\njavax.persistence.criteria.CriteriaQuery instead</p>\n</blockquote>\n<pre><code>@Transactional\npublic class AccountDAOImpl implements AccountDAO {\n    \n    @Autowired\n    private SessionFactory sessionFactory;\n\n\n    @Override\n    public ACCOUNTS findAccount(String userName) {\n        // TODO Auto-generated method stub//\n        \n        Session session=sessionFactory.getCurrentSession();\n        Criteria crit=session.createCriteria(ACCOUNTS.class).add(Restrictions.eq(&quot;user_name&quot;, userName));\n        //crit.add(Restrictions.eq(&quot;user_name&quot;, userName));\n        return (ACCOUNTS)crit.uniqueResult();\n    }\n\n}\n</code></pre>\n<p>interaface accountDAO</p>\n<pre><code>public interface AccountDAO {\n    \n     public ACCOUNTS findAccount(String userName );\n\n}\n</code></pre>\n<p>and model class accounts</p>\n<pre><code>package org.vikas.shoppingCart.entity;\n\nimport java.io.Serializable;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;ACCOUNTS&quot;)\npublic class ACCOUNTS implements Serializable\n{\n    private static final long serialVersionUID = 1L;\n    public static final String ROLE_MANAGER = &quot;MANAGER&quot;;\n    public static final String ROLE_EMPLOYEE = &quot;EMPLOYEE&quot;;\n    \n    private String user_name;\n    private String user_password;\n    private boolean active;\n    private String user_role;\n    \n    @Id\n    @Column(name=&quot;user_name&quot;,length=50,nullable=false)\n    public String getUser_name() {\n        return user_name;\n    }\n    public void setUser_name(String user_name) {\n        this.user_name = user_name;\n    }\n    \n    @Column(name=&quot;user_password&quot;,length=20,nullable=false)\n    public String getUser_password() {\n        return user_password;\n    }\n    public void setUser_password(String user_password) {\n        this.user_password = user_password;\n    }\n    \n    @Column(name=&quot;active&quot;,length=1,nullable=false)\n    public boolean isActive() {\n        return active;\n    }\n    public void setActive(boolean active) {\n        this.active = active;\n    }\n    \n    @Column(name=&quot;user_role&quot;,length=20,nullable=false)\n    public String getUser_role() {\n        return user_role;\n    }\n    public void setUser_role(String user_role) {\n        this.user_role = user_role;\n    }\n    @Override\n    public String toString() {\n        return &quot;ACCOUNTS [user_name=&quot; + user_name + &quot;, user_password=&quot; + user_password + &quot;, active=&quot; + active\n                + &quot;, user_role=&quot; + user_role + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>As I searched and it says to use <code>CreateBuilder</code> to avoid deprecation(as i got example of only to show all data in <code>List</code>), but I am using add condition here with restrictions.</p>\n<p>Kindly help me to how to use <code>createBuilder</code> while using condition like I used <code>add(Restrictions.eq(&quot;user_name&quot;, userName));</code> in code or  is there any other solution to avoid deprecation?</p>\n"},{"tags":["java","unit-testing"],"comments":[{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539235803,"post_id":52752597,"comment_id":92429226,"body_markdown":"sorry but where do you set your initial quantity? what is is preceded by 3 spaces, what that means?","body":"sorry but where do you set your initial quantity? what is is preceded by 3 spaces, what that means?"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539235975,"post_id":52752597,"comment_id":92429288,"body_markdown":"read after it says System.out.println(&quot;Beginning tests.&quot;); that is where I need to write the code for this to work.","body":"read after it says System.out.println(&quot;Beginning tests.&quot;); that is where I need to write the code for this to work."},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539236107,"post_id":52752597,"comment_id":92429335,"body_markdown":"You set it after System.out.println(&quot;Beginning tests.&quot;);","body":"You set it after System.out.println(&quot;Beginning tests.&quot;);"},{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539236789,"post_id":52752597,"comment_id":92429604,"body_markdown":"you have asked how to write tests and added tag unit-testing I was showing you how to write unit tests :) . Print the shown error? which error? and why there should be an error?","body":"you have asked how to write tests and added tag unit-testing I was showing you how to write unit tests :) . Print the shown error? which error? and why there should be an error?"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539236928,"post_id":52752597,"comment_id":92429675,"body_markdown":"what you wrote below was too advanced CallInventoryTagTest.java:6: error: cannot find symbol\n   @Test(expected=YourException.class)","body":"what you wrote below was too advanced CallInventoryTagTest.java:6: error: cannot find symbol    @Test(expected=YourException.class)"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539237006,"post_id":52752597,"comment_id":92429715,"body_markdown":"you need to edit the part where it says // FIXME add unit test for addInventory it should be like public double getNum() or something. I am really confused and I am worrying for this test. please respond asap","body":"you need to edit the part where it says // FIXME add unit test for addInventory it should be like public double getNum() or something. I am really confused and I am worrying for this test. please respond asap"},{"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"score":2,"creation_date":1539237052,"post_id":52752597,"comment_id":92429736,"body_markdown":"What you&#39;re posting here is not a proper Java unit test.  You _can_ exercise Java code by running a main method and running things, but @vmrvictor &#39;s answer below shows the proper way to do it.   The reason why your Test annotation is failing is because you need to import the proper library/classes, and any decent IDE will do that for you.","body":"What you&#39;re posting here is not a proper Java unit test.  You <i>can</i> exercise Java code by running a main method and running things, but @vmrvictor &#39;s answer below shows the proper way to do it.   The reason why your Test annotation is failing is because you need to import the proper library/classes, and any decent IDE will do that for you."},{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539237060,"post_id":52752597,"comment_id":92429741,"body_markdown":"eclipse will help you to import the classes to compile, if you write after //FIXME that is not a unit test and we are not here to do your homework, but we can help you and I am trying to do so","body":"eclipse will help you to import the classes to compile, if you write after //FIXME that is not a unit test and we are not here to do your homework, but we can help you and I am trying to do so"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539237183,"post_id":52752597,"comment_id":92429791,"body_markdown":"How would a run a main method. How do I do that&gt;","body":"How would a run a main method. How do I do that&gt;"},{"owner":{"account_id":1511352,"reputation":1,"user_id":1413395,"accept_rate":92,"display_name":"πάντα ῥεῖ"},"score":2,"creation_date":1539543320,"post_id":52752597,"comment_id":92530409,"body_markdown":"@Oceanman Do not vandalize your questions in that manner. That&#39;s unacceptable behavior here! Note that you can simply delete your question unless there&#39;s an upvoted or accepted answer given.","body":"@Oceanman Do not vandalize your questions in that manner. That&#39;s unacceptable behavior here! Note that you can simply delete your question unless there&#39;s an upvoted or accepted answer given."}],"answers":[{"comments":[{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539235871,"post_id":52752802,"comment_id":92429249,"body_markdown":"I need to write code after System.out.println(&quot;Beginning tests.&quot;); and I cannot think of anything to fix it. I really need this it is urgent please respond.","body":"I need to write code after System.out.println(&quot;Beginning tests.&quot;); and I cannot think of anything to fix it. I really need this it is urgent please respond."},{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539236950,"post_id":52752802,"comment_id":92429681,"body_markdown":"@Oceanman you have written that in your test you have to call addInventory with parameter sweaterShipment --&gt; here that is done, but I do not understand why you need an error","body":"@Oceanman you have written that in your test you have to call addInventory with parameter sweaterShipment --&gt; here that is done, but I do not understand why you need an error"},{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539237023,"post_id":52752802,"comment_id":92429721,"body_markdown":"an error for me is an exception, if you just throw an exception then your test will fail you have to either catch it or either use this annotation that says you expect this error.","body":"an error for me is an exception, if you just throw an exception then your test will fail you have to either catch it or either use this annotation that says you expect this error."},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539237132,"post_id":52752802,"comment_id":92429772,"body_markdown":"Beginning tests.\n   UNIT TEST FAILED: addInventory()\nTests complete.","body":"Beginning tests.    UNIT TEST FAILED: addInventory() Tests complete."},{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539237198,"post_id":52752802,"comment_id":92429794,"body_markdown":"If you want to have this output you just write --&gt; System.out.println(&quot;Beginning tests. UNIT TEST FAILED: addInventory() Tests complete.&quot;) //but why you do need this output, why is failing?","body":"If you want to have this output you just write --&gt; System.out.println(&quot;Beginning tests. UNIT TEST FAILED: addInventory() Tests complete.&quot;) //but why you do need this output, why is failing?"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539237336,"post_id":52752802,"comment_id":92429851,"body_markdown":"Call redSweater.addInventory() with parameter sweaterShipment. Print the shown error if the subsequent quantity is incorrect. Sample output for failed unit test given initial quantity is 10 and sweaterShipment is 50:","body":"Call redSweater.addInventory() with parameter sweaterShipment. Print the shown error if the subsequent quantity is incorrect. Sample output for failed unit test given initial quantity is 10 and sweaterShipment is 50:"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539237346,"post_id":52752802,"comment_id":92429856,"body_markdown":"I need to call a method to check inventory","body":"I need to call a method to check inventory"},{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539237678,"post_id":52752802,"comment_id":92429956,"body_markdown":"I do not see any check inventory method in your code, either in your question","body":"I do not see any check inventory method in your code, either in your question"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539237895,"post_id":52752802,"comment_id":92430020,"body_markdown":"what is that you have posted? That doesnt look like runable code? im confused","body":"what is that you have posted? That doesnt look like runable code? im confused"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539238273,"post_id":52752802,"comment_id":92430157,"body_markdown":"Not using @test that would be wrong. I want to use if statements to find the right one and print it yet I cannot. I am confsued bout that","body":"Not using @test that would be wrong. I want to use if statements to find the right one and print it yet I cannot. I am confsued bout that"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539238989,"post_id":52752802,"comment_id":92430448,"body_markdown":"I got the code and fixed it but this part just needs to be fixed","body":"I got the code and fixed it but this part just needs to be fixed"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539238999,"post_id":52752802,"comment_id":92430454,"body_markdown":"Define stubs for the methods called by the below main(). Each stub should print &quot;FIXME: Finish methodName()&quot; followed by a newline, and should return -1. Example output: \nFIXME: Finish getUserNum()\nFIXME: Finish getUserNum()\nFIXME: Finish computeAverage()\nAvg: -1","body":"Define stubs for the methods called by the below main(). Each stub should print &quot;FIXME: Finish methodName()&quot; followed by a newline, and should return -1. Example output:  FIXME: Finish getUserNum() FIXME: Finish getUserNum() FIXME: Finish computeAverage() Avg: -1"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539239008,"post_id":52752802,"comment_id":92430460,"body_markdown":"import java.util.Scanner;\n\npublic class MethodStubs{\n\n   /* Your solution goes here  */\n\n   public static void main(String [] args) {\n      int userNum1;\n      int userNum2;\n      int avgResult;\n      MethodStubs stubTester = new MethodStubs();\n\n      userNum1 = stubTester.getUserNum();\n      userNum2 = stubTester.getUserNum();\n      avgResult = stubTester.computeAverage(userNum1, userNum2);\n\n      System.out.println(&quot;Avg: &quot; + avgResult);\n   }\n}","body":"import java.util.Scanner;  public class MethodStubs{     /* Your solution goes here  */     public static void main(String [] args) {       int userNum1;       int userNum2;       int avgResult;       MethodStubs stubTester = new MethodStubs();        userNum1 = stubTester.getUserNum();       userNum2 = stubTester.getUserNum();       avgResult = stubTester.computeAverage(userNum1, userNum2);        System.out.println(&quot;Avg: &quot; + avgResult);    } }"}],"tags":[],"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539237641,"creation_date":1539235675,"answer_id":52752802,"question_id":52752597,"body_markdown":"Your code should be located in `src/main` for source code and `src/test` for tests.\r\nThen when you add a test for a class `A` in `package a;` and located at `src/main` then you write `ATest` in `package a;` located in `src/test`.\r\n\r\nin your example the test class should look similar to:\r\n    \r\n    public class CallInventoryTagTest {\r\n       @Test(expected=YourException.class)\r\n       public static void shouldThrowYourExceptionWhenX () {\r\n           //given\r\n           InventoryTag redSweater = new InventoryTag();\r\n           int sweaterShipmen=25;\r\n           int sweaterInventoryBefore;\r\n           //when\r\n           // that&#39;s what you need to write after your FIXME\r\n           sweaterInventoryBefore = redSweater.getQuantityRemaining(); \r\n           redSweater.addInventory(sweaterShipmen)  //calling addinventor with parameter sweaterShipment\r\n           //then\r\n           fail(&quot;should throw an error because of X&quot;);\r\n       }\r\n\r\n     }\r\n","title":"Trying to write unit test cannot work it out?","body":"<p>Your code should be located in <code>src/main</code> for source code and <code>src/test</code> for tests.\nThen when you add a test for a class <code>A</code> in <code>package a;</code> and located at <code>src/main</code> then you write <code>ATest</code> in <code>package a;</code> located in <code>src/test</code>.</p>\n\n<p>in your example the test class should look similar to:</p>\n\n<pre><code>public class CallInventoryTagTest {\n   @Test(expected=YourException.class)\n   public static void shouldThrowYourExceptionWhenX () {\n       //given\n       InventoryTag redSweater = new InventoryTag();\n       int sweaterShipmen=25;\n       int sweaterInventoryBefore;\n       //when\n       // that's what you need to write after your FIXME\n       sweaterInventoryBefore = redSweater.getQuantityRemaining(); \n       redSweater.addInventory(sweaterShipmen)  //calling addinventor with parameter sweaterShipment\n       //then\n       fail(\"should throw an error because of X\");\n   }\n\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8614021,"reputation":137849,"user_id":6451573,"accept_rate":90,"display_name":"Jean-Fran&#231;ois Fabre"},"score":0,"creation_date":1539544893,"post_id":52760841,"comment_id":92530825,"body_markdown":"&quot;It feels like homework.&quot; so what? this has nothing to do in an answer","body":"&quot;It feels like homework.&quot; so what? this has nothing to do in an answer"}],"tags":[],"owner":{"account_id":2922632,"reputation":2034,"user_id":3540652,"display_name":"Mumrah81"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539263216,"creation_date":1539263216,"answer_id":52760841,"question_id":52752597,"body_markdown":"It feels like homework.\r\n\r\nI think your teacher expects a simple math test to show that InventoryTag is not inited\r\nsuccessfully when a number less than or equal to 10 is provided.\r\n\r\nSomething like:\r\n\r\n    // ===== Code from file CallInventoryTag.java =====\r\n    public class CallInventoryTag {\r\n       public static void main (String [] args) {\r\n           InventoryTag redSweater = new InventoryTag();\r\n           int sweaterShipment;\r\n           int sweaterInventoryBefore;\r\n\r\n           sweaterInventoryBefore = redSweater.getQuantityRemaining();\r\n           sweaterInventoryBefore = 10;\r\n           sweaterShipment = 50;\r\n\r\n           System.out.println(&quot;Beginning tests.&quot;);\r\n\r\n           // FIXME add unit test for addInventory\r\n           redSweater.addInventory(sweaterInventoryBefore);\r\n           redSweater.addInventory(sweaterShipment);\r\n\r\n           if (sweaterInventoryBefore + sweaterShipment != redSweater.getQuantityRemaining()) {\r\n               System.out.println(&quot; UNIT TEST FAILED: addInventory()&quot;);\r\n           }\r\n\r\n           System.out.println(&quot;Tests complete.&quot;);\r\n       }\r\n\r\n     }// ===== end =====\r\n\r\nThe test fails because the condition in method addInventory prevents to add 10 or less items to the inventory. ","title":"Trying to write unit test cannot work it out?","body":"<p>It feels like homework.</p>\n\n<p>I think your teacher expects a simple math test to show that InventoryTag is not inited\nsuccessfully when a number less than or equal to 10 is provided.</p>\n\n<p>Something like:</p>\n\n<pre><code>// ===== Code from file CallInventoryTag.java =====\npublic class CallInventoryTag {\n   public static void main (String [] args) {\n       InventoryTag redSweater = new InventoryTag();\n       int sweaterShipment;\n       int sweaterInventoryBefore;\n\n       sweaterInventoryBefore = redSweater.getQuantityRemaining();\n       sweaterInventoryBefore = 10;\n       sweaterShipment = 50;\n\n       System.out.println(\"Beginning tests.\");\n\n       // FIXME add unit test for addInventory\n       redSweater.addInventory(sweaterInventoryBefore);\n       redSweater.addInventory(sweaterShipment);\n\n       if (sweaterInventoryBefore + sweaterShipment != redSweater.getQuantityRemaining()) {\n           System.out.println(\" UNIT TEST FAILED: addInventory()\");\n       }\n\n       System.out.println(\"Tests complete.\");\n   }\n\n }// ===== end =====\n</code></pre>\n\n<p>The test fails because the condition in method addInventory prevents to add 10 or less items to the inventory. </p>\n"},{"tags":[],"owner":{"account_id":14469790,"reputation":21,"user_id":10452159,"display_name":"CarverOfChoice"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540488762,"creation_date":1540488762,"answer_id":52995042,"question_id":52752597,"body_markdown":"This is the solution the class is looking for (it took me a while to figure out the particular solution they wanted):\r\n\r\n    // ===== Code from file InventoryTag.java =====\r\n    public class InventoryTag {\r\n       private int quantityRemaining;\r\n    \r\n       public InventoryTag() {\r\n          quantityRemaining = 0;\r\n       }\r\n    \r\n       public int getQuantityRemaining() {\r\n          return quantityRemaining;\r\n       }\r\n    \r\n       public void addInventory(int numItems) {\r\n          if (numItems &gt; 10) {\r\n             quantityRemaining = quantityRemaining + numItems;\r\n          }\r\n       }\r\n    }\r\n    // ===== end =====\r\n    \r\n    // ===== Code from file CallInventoryTag.java =====\r\n    public class CallInventoryTag {\r\n       public static void main (String [] args) {\r\n          InventoryTag redSweater = new InventoryTag();\r\n          int sweaterShipment;\r\n          int sweaterInventoryBefore;\r\n    \r\n          sweaterInventoryBefore = redSweater.getQuantityRemaining();\r\n          sweaterShipment = 25;\r\n    \r\n          System.out.println(&quot;Beginning tests.&quot;);\r\n    \r\n          // FIXME add unit test for addInventory\r\n          /* Your solution starts here  */    \r\n           redSweater.addInventory(sweaterShipment);\r\n    \r\n          if (sweaterInventoryBefore + sweaterShipment != redSweater.getQuantityRemaining()) {\r\n             System.out.println(&quot;   UNIT TEST FAILED: addInventory()&quot;);\r\n          }\r\n    \r\n          /* End of your solution*/    \r\n    \r\n          System.out.println(&quot;Tests complete.&quot;);\r\n       }\r\n    }\r\n    // ===== end =====","title":"Trying to write unit test cannot work it out?","body":"<p>This is the solution the class is looking for (it took me a while to figure out the particular solution they wanted):</p>\n\n<pre><code>// ===== Code from file InventoryTag.java =====\npublic class InventoryTag {\n   private int quantityRemaining;\n\n   public InventoryTag() {\n      quantityRemaining = 0;\n   }\n\n   public int getQuantityRemaining() {\n      return quantityRemaining;\n   }\n\n   public void addInventory(int numItems) {\n      if (numItems &gt; 10) {\n         quantityRemaining = quantityRemaining + numItems;\n      }\n   }\n}\n// ===== end =====\n\n// ===== Code from file CallInventoryTag.java =====\npublic class CallInventoryTag {\n   public static void main (String [] args) {\n      InventoryTag redSweater = new InventoryTag();\n      int sweaterShipment;\n      int sweaterInventoryBefore;\n\n      sweaterInventoryBefore = redSweater.getQuantityRemaining();\n      sweaterShipment = 25;\n\n      System.out.println(\"Beginning tests.\");\n\n      // FIXME add unit test for addInventory\n      /* Your solution starts here  */    \n       redSweater.addInventory(sweaterShipment);\n\n      if (sweaterInventoryBefore + sweaterShipment != redSweater.getQuantityRemaining()) {\n         System.out.println(\"   UNIT TEST FAILED: addInventory()\");\n      }\n\n      /* End of your solution*/    \n\n      System.out.println(\"Tests complete.\");\n   }\n}\n// ===== end =====\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680900392,"post_id":75914288,"comment_id":133978650,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75914288/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22890355,"reputation":1,"user_id":17030568,"display_name":"Rick Zhang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680465143,"creation_date":1680465143,"answer_id":75914288,"question_id":52752597,"body_markdown":"    // ===== Code from file InventoryTag.java =====\r\n    public class InventoryTag {\r\n       private int quantityRemaining;\r\n    \r\n       public InventoryTag() {\r\n          quantityRemaining = 0;\r\n       }\r\n    \r\n       public int getQuantityRemaining() {\r\n          return quantityRemaining;\r\n       }\r\n    \r\n       public void addInventory(int numItems) {\r\n          if (numItems &gt; 10) {\r\n             quantityRemaining = quantityRemaining + numItems;\r\n          }\r\n       }\r\n    }\r\n    // ===== end =====\r\n    \r\n    // ===== Code from file CallInventoryTag.java =====\r\n    import java.util.Scanner;\r\n    \r\n    public class CallInventoryTag {\r\n       public static void main(String [] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          InventoryTag redSweater = new InventoryTag();\r\n          int sweaterShipment;\r\n          int sweaterInventoryBefore;\r\n    \r\n          sweaterInventoryBefore = redSweater.getQuantityRemaining();\r\n          sweaterShipment = scnr.nextInt();\r\n    \r\n          System.out.println(&quot;Beginning tests.&quot;);\r\n    \r\n          // FIXME add unit test for addInventory\r\n          redSweater.addInventory(sweaterShipment);\r\n          redSweater.getQuantityRemaining();\r\n          if (sweaterShipment &lt;= 10) {\r\n             System.out.println(&quot;   UNIT TEST FAILED: addInventory()&quot;);\r\n          }\r\n          /* Your solution goes here  */\r\n    \r\n          System.out.println(&quot;Tests complete.&quot;);\r\n       }\r\n    }\r\n    // ===== end =====","title":"Trying to write unit test cannot work it out?","body":"<pre><code>// ===== Code from file InventoryTag.java =====\npublic class InventoryTag {\n   private int quantityRemaining;\n\n   public InventoryTag() {\n      quantityRemaining = 0;\n   }\n\n   public int getQuantityRemaining() {\n      return quantityRemaining;\n   }\n\n   public void addInventory(int numItems) {\n      if (numItems &gt; 10) {\n         quantityRemaining = quantityRemaining + numItems;\n      }\n   }\n}\n// ===== end =====\n\n// ===== Code from file CallInventoryTag.java =====\nimport java.util.Scanner;\n\npublic class CallInventoryTag {\n   public static void main(String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      InventoryTag redSweater = new InventoryTag();\n      int sweaterShipment;\n      int sweaterInventoryBefore;\n\n      sweaterInventoryBefore = redSweater.getQuantityRemaining();\n      sweaterShipment = scnr.nextInt();\n\n      System.out.println(&quot;Beginning tests.&quot;);\n\n      // FIXME add unit test for addInventory\n      redSweater.addInventory(sweaterShipment);\n      redSweater.getQuantityRemaining();\n      if (sweaterShipment &lt;= 10) {\n         System.out.println(&quot;   UNIT TEST FAILED: addInventory()&quot;);\n      }\n      /* Your solution goes here  */\n\n      System.out.println(&quot;Tests complete.&quot;);\n   }\n}\n// ===== end =====\n</code></pre>\n"}],"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21363,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":4,"score":-4,"last_activity_date":1680465143,"creation_date":1539234468,"question_id":52752597,"body_markdown":"Write a unit test for `addInventory()`. Call `redSweater.addInventory()` with parameter `sweaterShipment`. Print the shown error if the subsequent quantity is incorrect. Sample output for failed unit test given initial quantity is 10 and `sweaterShipment` is 50:\r\n\r\n&gt; Beginning tests. UNIT TEST FAILED: addInventory() Tests complete.Note:\r\n&gt; UNIT TEST FAILED is preceded by 3 spaces.\r\n\r\n\r\n\r\n      // ===== Code from file InventoryTag.java =====\r\n      public class InventoryTag {\r\n        private int quantityRemaining;\r\n    \r\n        public InventoryTag() {\r\n          quantityRemaining = 0;\r\n        }\r\n    \r\n        public int getQuantityRemaining() {\r\n           return quantityRemaining;\r\n        }\r\n      \r\n        public void addInventory(int numItems) {\r\n          if (numItems &gt; 10) {\r\n             quantityRemaining = quantityRemaining + numItems;\r\n          }\r\n        }\r\n      }// ===== end =====\r\n\r\n \r\n\r\n       // ===== Code from file CallInventoryTag.java =====\r\n        public class CallInventoryTag {\r\n           public static void main (String [] args) {\r\n               InventoryTag redSweater = new InventoryTag();\r\n               int sweaterShipment;\r\n               int sweaterInventoryBefore;\r\n    \r\n               sweaterInventoryBefore = redSweater.getQuantityRemaining();\r\n               sweaterShipment = 25;\r\n    \r\n               System.out.println(&quot;Beginning tests.&quot;);\r\n    \r\n               // FIXME add unit test for addInventory\r\n               System.out.println(&quot;Tests complete.&quot;);\r\n           }\r\n     \r\n         }// ===== end =====\r\n\r\n\r\n\r\n","title":"Trying to write unit test cannot work it out?","body":"<p>Write a unit test for <code>addInventory()</code>. Call <code>redSweater.addInventory()</code> with parameter <code>sweaterShipment</code>. Print the shown error if the subsequent quantity is incorrect. Sample output for failed unit test given initial quantity is 10 and <code>sweaterShipment</code> is 50:</p>\n\n<blockquote>\n  <p>Beginning tests. UNIT TEST FAILED: addInventory() Tests complete.Note:\n  UNIT TEST FAILED is preceded by 3 spaces.</p>\n</blockquote>\n\n<pre><code>  // ===== Code from file InventoryTag.java =====\n  public class InventoryTag {\n    private int quantityRemaining;\n\n    public InventoryTag() {\n      quantityRemaining = 0;\n    }\n\n    public int getQuantityRemaining() {\n       return quantityRemaining;\n    }\n\n    public void addInventory(int numItems) {\n      if (numItems &gt; 10) {\n         quantityRemaining = quantityRemaining + numItems;\n      }\n    }\n  }// ===== end =====\n\n\n\n   // ===== Code from file CallInventoryTag.java =====\n    public class CallInventoryTag {\n       public static void main (String [] args) {\n           InventoryTag redSweater = new InventoryTag();\n           int sweaterShipment;\n           int sweaterInventoryBefore;\n\n           sweaterInventoryBefore = redSweater.getQuantityRemaining();\n           sweaterShipment = 25;\n\n           System.out.println(\"Beginning tests.\");\n\n           // FIXME add unit test for addInventory\n           System.out.println(\"Tests complete.\");\n       }\n\n     }// ===== end =====\n</code></pre>\n"},{"tags":["java","volatile","java-memory-model"],"answers":[{"comments":[{"owner":{"account_id":91845,"reputation":258335,"user_id":252000,"accept_rate":95,"display_name":"fredoverflow"},"score":0,"creation_date":1306663010,"post_id":4905123,"comment_id":7167573,"body_markdown":"Regarding your second paragraph: Do you mean all writes to all variables, or all writes to that one volatile variable?","body":"Regarding your second paragraph: Do you mean all writes to all variables, or all writes to that one volatile variable?"},{"owner":{"account_id":205948,"reputation":20282,"user_id":454967,"accept_rate":66,"display_name":"ide"},"score":0,"creation_date":1307150558,"post_id":4905123,"comment_id":7264659,"body_markdown":"I believe it&#39;s all writes to all variables prior to the last write to the volatile variable that&#39;s being read.","body":"I believe it&#39;s all writes to all variables prior to the last write to the volatile variable that&#39;s being read."},{"owner":{"account_id":38453,"reputation":8528,"user_id":110353,"display_name":"James"},"score":8,"creation_date":1320599586,"post_id":4905123,"comment_id":9828334,"body_markdown":"&quot;When a field is declared volatile, the compiler and runtime are put on notice that this variable is shared and that operations on it should not be reordered with other memory operations. Volatile variables are not cached in registers or in caches where they are hidden from other processors, so a read of a volatile variable always returns the most recent write by any thread.&quot;\n\nBloch, Joshua; Goetz, Brian; Peierls, Tim; Bowbeer, Joseph; Holmes, David; Lea, Doug (2006-05-09). Java Concurrency in Practice (Kindle Locations 1194-1197). Pearson Education (US). Kindle Edition.","body":"&quot;When a field is declared volatile, the compiler and runtime are put on notice that this variable is shared and that operations on it should not be reordered with other memory operations. Volatile variables are not cached in registers or in caches where they are hidden from other processors, so a read of a volatile variable always returns the most recent write by any thread.&quot;  Bloch, Joshua; Goetz, Brian; Peierls, Tim; Bowbeer, Joseph; Holmes, David; Lea, Doug (2006-05-09). Java Concurrency in Practice (Kindle Locations 1194-1197). Pearson Education (US). Kindle Edition."},{"owner":{"account_id":38453,"reputation":8528,"user_id":110353,"display_name":"James"},"score":2,"creation_date":1320599594,"post_id":4905123,"comment_id":9828335,"body_markdown":"The visibility effects of volatile variables extend beyond the value of the volatile variable itself. When thread A writes to a volatile variable and subsequently thread B reads that same variable, the values of all variables that were visible to A prior to writing to the volatile variable become visible to B after reading the volatile variable.\n\nBloch, Joshua; Goetz, Brian; Peierls, Tim; Bowbeer, Joseph; Holmes, David; Lea, Doug (2006-05-09). Java Concurrency in Practice (Kindle Locations 1202-1205). Pearson Education (US). Kindle Edition.","body":"The visibility effects of volatile variables extend beyond the value of the volatile variable itself. When thread A writes to a volatile variable and subsequently thread B reads that same variable, the values of all variables that were visible to A prior to writing to the volatile variable become visible to B after reading the volatile variable.  Bloch, Joshua; Goetz, Brian; Peierls, Tim; Bowbeer, Joseph; Holmes, David; Lea, Doug (2006-05-09). Java Concurrency in Practice (Kindle Locations 1202-1205). Pearson Education (US). Kindle Edition."},{"owner":{"account_id":1157244,"reputation":5691,"user_id":1137529,"accept_rate":76,"display_name":"alexsmail"},"score":0,"creation_date":1347139548,"post_id":4905123,"comment_id":16557078,"body_markdown":"Lock-Free Thread Synchronization \nhttp://www.youtube.com/watch?v=KzDShvKbEMs#t=10m","body":"Lock-Free Thread Synchronization  <a href=\"http://www.youtube.com/watch?v=KzDShvKbEMs#t=10m\" rel=\"nofollow noreferrer\">youtube.com/watch?v=KzDShvKbEMs#t=10m</a>"}],"tags":[],"owner":{"account_id":205948,"reputation":20282,"user_id":454967,"accept_rate":66,"display_name":"ide"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1680464661,"creation_date":1296879683,"answer_id":4905123,"question_id":4885570,"body_markdown":"Short of reading the memory model specification, I recommend you read http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html. It&#39;s written by one of the [*Java Memory Model*][1] authors and should answer your question. Thinking of memory reads and writes in terms of the [happens-before][2] clause is also helpful; the JMM for Java 5 onwards adds happens-before semantics to `volatile`.\r\n\r\nSpecifically, when you read a volatile variable from one thread, all writes up to and including the write to that volatile variable from other threads are now visible to that one thread.\r\n\r\nAnd, yes, you can use [`static`][3] with `volatile`. They do different things.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_memory_model\r\n  [2]: https://secure.wikimedia.org/wikipedia/en/wiki/Java_Memory_Model#The_memory_model\r\n  [3]: https://stackoverflow.com/questions/413898/what-does-the-static-keyword-do-in-java","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>Short of reading the memory model specification, I recommend you read <a href=\"http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html\" rel=\"nofollow noreferrer\">http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html</a>. It's written by one of the <a href=\"https://en.wikipedia.org/wiki/Java_memory_model\" rel=\"nofollow noreferrer\"><em>Java Memory Model</em></a> authors and should answer your question. Thinking of memory reads and writes in terms of the <a href=\"https://secure.wikimedia.org/wikipedia/en/wiki/Java_Memory_Model#The_memory_model\" rel=\"nofollow noreferrer\">happens-before</a> clause is also helpful; the JMM for Java 5 onwards adds happens-before semantics to <code>volatile</code>.</p>\n<p>Specifically, when you read a volatile variable from one thread, all writes up to and including the write to that volatile variable from other threads are now visible to that one thread.</p>\n<p>And, yes, you can use <a href=\"https://stackoverflow.com/questions/413898/what-does-the-static-keyword-do-in-java\"><code>static</code></a> with <code>volatile</code>. They do different things.</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1431613689,"creation_date":1296880450,"answer_id":4905167,"question_id":4885570,"body_markdown":"`volatile` means that the variable changes at runtime and that the compiler should not cache its value for any reason. \r\n\r\nThis is only really a problem when sharing the variable amongst threads, you don&#39;t want a thread working with stale data, so the compiler should never cache the value of a `volatile` variable reference.","title":"What does &quot;volatile&quot; mean in Java?","body":"<p><code>volatile</code> means that the variable changes at runtime and that the compiler should not cache its value for any reason. </p>\n\n<p>This is only really a problem when sharing the variable amongst threads, you don't want a thread working with stale data, so the compiler should never cache the value of a <code>volatile</code> variable reference.</p>\n"},{"tags":[],"owner":{"account_id":17676,"reputation":9638,"user_id":39808,"accept_rate":78,"display_name":"Paul Fisher"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1680464703,"creation_date":1296880734,"answer_id":4905180,"question_id":4885570,"body_markdown":"In Java, volatile has a similar general meaning as it does in C. The [Java Memory Model][1] (see the excellent link in ide&#39;s answer) allows threads to &quot;see&quot; a different value at the same time for variables marked as non-volatile.  For example:\r\n\r\nThread a:\r\n\r\n    n = 1;\r\n    // wait...\r\n    n = 2;\r\n\r\nThreads B and C:\r\n\r\n    while (true) {\r\n        System.out.println(name + &quot;: &quot; + n);\r\n    }\r\n\r\nThis output is allowed to happen (note that you&#39;re not guaranteed to strictly alternate between B and C, I&#39;m just trying to show the &quot;changeover&quot; of B and C here):\r\n\r\n    C: 1\r\n    B: 1\r\n    C: 2\r\n    B: 1\r\n    C: 2\r\n    B: 2\r\n\r\nThis is entirely separate from the lock taken by `println`; thread B is *allowed* to see `n` as 1 even after C finds out that it&#39;s 2.  There are a variety of very good reasons for this that I can&#39;t pretend to fully understand, many pertaining to speed, and some pertaining to security.\r\n\r\nIf it&#39;s volatile, you&#39;re guaranteed (apart from the `println`&#39;s locking, which I&#39;ll ignore for the moment) that B and C will both &quot;simultaneously&quot; see the new value of B as soon as it is sent.\r\n\r\nYou can use `volatile` with `static` because they affect different things.  `volatile` causes changes a variable to be &quot;replicated&quot; to all *threads* that use that variable before they use it, while `static` shares a single variable across all *classes* that use that variable.  (This can be rather confusing to people new to threading in Java, because every `Thread` happens to be implemented as a `class`.)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_memory_model","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>In Java, volatile has a similar general meaning as it does in C. The <a href=\"https://en.wikipedia.org/wiki/Java_memory_model\" rel=\"nofollow noreferrer\">Java Memory Model</a> (see the excellent link in ide's answer) allows threads to &quot;see&quot; a different value at the same time for variables marked as non-volatile.  For example:</p>\n<p>Thread a:</p>\n<pre><code>n = 1;\n// wait...\nn = 2;\n</code></pre>\n<p>Threads B and C:</p>\n<pre><code>while (true) {\n    System.out.println(name + &quot;: &quot; + n);\n}\n</code></pre>\n<p>This output is allowed to happen (note that you're not guaranteed to strictly alternate between B and C, I'm just trying to show the &quot;changeover&quot; of B and C here):</p>\n<pre><code>C: 1\nB: 1\nC: 2\nB: 1\nC: 2\nB: 2\n</code></pre>\n<p>This is entirely separate from the lock taken by <code>println</code>; thread B is <em>allowed</em> to see <code>n</code> as 1 even after C finds out that it's 2.  There are a variety of very good reasons for this that I can't pretend to fully understand, many pertaining to speed, and some pertaining to security.</p>\n<p>If it's volatile, you're guaranteed (apart from the <code>println</code>'s locking, which I'll ignore for the moment) that B and C will both &quot;simultaneously&quot; see the new value of B as soon as it is sent.</p>\n<p>You can use <code>volatile</code> with <code>static</code> because they affect different things.  <code>volatile</code> causes changes a variable to be &quot;replicated&quot; to all <em>threads</em> that use that variable before they use it, while <code>static</code> shares a single variable across all <em>classes</em> that use that variable.  (This can be rather confusing to people new to threading in Java, because every <code>Thread</code> happens to be implemented as a <code>class</code>.)</p>\n"},{"tags":[],"owner":{"account_id":7446560,"reputation":286,"user_id":5662513,"display_name":"Jeffy"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1502305100,"creation_date":1502305100,"answer_id":45598674,"question_id":4885570,"body_markdown":"Consider a scenario when two thread (Thread1 and Thread2) are accessing same variable &#39;mObject&#39;  with value 1.\r\n\r\n\r\nwhen a Thread1 runs, it doesn&#39;t expect other threads to modify the variable &#39;mObject&#39;. In this scenario the Thread1 caches the variable &#39;mObject&#39; with value 1.\r\n\r\n\r\nAnd if the Thread2 modify the value of &#39;mObject&#39; to 2, still the Thread1 would be refering the mObject value as 1 since it did caching.\r\nTo avoid this caching we should to declare the variable as\r\n \r\n\r\nprivate volatile int mObject;\r\n\r\n\r\nin this scenarion the Thread1 will be getting updated value of mObject","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>Consider a scenario when two thread (Thread1 and Thread2) are accessing same variable 'mObject'  with value 1.</p>\n\n<p>when a Thread1 runs, it doesn't expect other threads to modify the variable 'mObject'. In this scenario the Thread1 caches the variable 'mObject' with value 1.</p>\n\n<p>And if the Thread2 modify the value of 'mObject' to 2, still the Thread1 would be refering the mObject value as 1 since it did caching.\nTo avoid this caching we should to declare the variable as</p>\n\n<p>private volatile int mObject;</p>\n\n<p>in this scenarion the Thread1 will be getting updated value of mObject</p>\n"},{"comments":[{"owner":{"account_id":13889174,"reputation":2896,"user_id":10027592,"display_name":"starriet"},"score":2,"creation_date":1646820552,"post_id":57365777,"comment_id":126216681,"body_markdown":"The only answer mentioning both caching and reordering. Plus the Java history.","body":"The only answer mentioning both caching and reordering. Plus the Java history."}],"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565118405,"creation_date":1565037330,"answer_id":57365777,"question_id":4885570,"body_markdown":"Small elaboration, but the volatile keyword isn&#39;t just for for memory visibility. Before Java ver `1.5` was released the volatile keyword declared that the field will get the most recent value of the object by hitting main memory each time for reads and flushing for writes.\r\n\r\nIn the latest Java versions, the volatile keyword says two very important things:\r\n\r\n 1. Don&#39;t worry about how but know that when reading a volatile field\r\n    you will always have the most up to date value. \r\n 2. A compiler cannot reorder a volatile read/write as to maintain program order.\r\n\r\nCheck it out for more [Java volatile][1] examples.\r\n\r\n\r\n  [1]: https://javatutorial.net/java-volatile-example","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>Small elaboration, but the volatile keyword isn't just for for memory visibility. Before Java ver <code>1.5</code> was released the volatile keyword declared that the field will get the most recent value of the object by hitting main memory each time for reads and flushing for writes.</p>\n\n<p>In the latest Java versions, the volatile keyword says two very important things:</p>\n\n<ol>\n<li>Don't worry about how but know that when reading a volatile field\nyou will always have the most up to date value. </li>\n<li>A compiler cannot reorder a volatile read/write as to maintain program order.</li>\n</ol>\n\n<p>Check it out for more <a href=\"https://javatutorial.net/java-volatile-example\" rel=\"nofollow noreferrer\">Java volatile</a> examples.</p>\n"},{"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1650686053,"post_id":71973572,"comment_id":127184296,"body_markdown":"This is a flawed mental model. https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-reorderings-and-commit. CPU caches are always coherent, that is the responsibility of the cache coherence protocol. Main memory is just a spill bucket for whatever doesn&#39;t fit in the cache and can be completely stale.","body":"This is a flawed mental model. <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-reorderings-and-commit\" rel=\"nofollow noreferrer\">shipilev.net/blog/2016/close-encounters-of-jmm-kind/&hellip;</a>. CPU caches are always coherent, that is the responsibility of the cache coherence protocol. Main memory is just a spill bucket for whatever doesn&#39;t fit in the cache and can be completely stale."},{"owner":{"account_id":19173470,"reputation":51,"user_id":14006673,"display_name":"Lucas de Lima"},"score":0,"creation_date":1650714535,"post_id":71973572,"comment_id":127188559,"body_markdown":"Jeremy Manson one of the authors of the JMM says different, doesn&#39;t he?http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html  &quot;For example, most processors nowadays have local caches. If one thread is reading from and writing to a cache on one processor, it may not see the same value as another thread writing and reading from another cache on another processor, depending on the processor&#39;s memory consistency model. One of the things that accessing a volatile variable effectively does on such machines is to say &quot;reconcile the cache with main memory.&quot;","body":"Jeremy Manson one of the authors of the JMM says different, doesn&#39;t he?<a href=\"http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html\" rel=\"nofollow noreferrer\">jeremymanson.blogspot.com/2008/11/&hellip;</a>  &quot;For example, most processors nowadays have local caches. If one thread is reading from and writing to a cache on one processor, it may not see the same value as another thread writing and reading from another cache on another processor, depending on the processor&#39;s memory consistency model. One of the things that accessing a volatile variable effectively does on such machines is to say &quot;reconcile the cache with main memory.&quot;"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1650727576,"post_id":71973572,"comment_id":127191424,"body_markdown":"To keep local caches in sync is the task of the cache coherence protocol. If one or more CPUs have read a cache line and the write of a different CPU needs to be committed to the cache, the cache line is first invalidated before the write can commit. I don&#39;t know any mainstream CPU lacking cache coherence.\n\nThinking in terms of flushing to main memory is a flawed mental model and it will lead to making bad choices.","body":"To keep local caches in sync is the task of the cache coherence protocol. If one or more CPUs have read a cache line and the write of a different CPU needs to be committed to the cache, the cache line is first invalidated before the write can commit. I don&#39;t know any mainstream CPU lacking cache coherence.  Thinking in terms of flushing to main memory is a flawed mental model and it will lead to making bad choices."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1650727847,"post_id":71973572,"comment_id":127191512,"body_markdown":"For example: if a local thread would continuously write to an uncontended volatile variable. With a flush-to-main-memory mental model, this is an extremely expensive operation because you will be consuming a lot of the memory bandwidth and I guess you want to stall the CPU as well. But if your mental model works based on cache coherence, the cache line will be owned by a single CPU and hence no cache coherence traffic and no traffic to main memory is needed. So continuously writing is relatively cheap.","body":"For example: if a local thread would continuously write to an uncontended volatile variable. With a flush-to-main-memory mental model, this is an extremely expensive operation because you will be consuming a lot of the memory bandwidth and I guess you want to stall the CPU as well. But if your mental model works based on cache coherence, the cache line will be owned by a single CPU and hence no cache coherence traffic and no traffic to main memory is needed. So continuously writing is relatively cheap."},{"owner":{"account_id":19173470,"reputation":51,"user_id":14006673,"display_name":"Lucas de Lima"},"score":0,"creation_date":1650768888,"post_id":71973572,"comment_id":127198605,"body_markdown":"In summary, the CPU / motherboard uses its cache coherence methods to make sure that all other CPUs caches can see the variables (volatile and non-volatile) in the other CPUs cache. But instruction reordering remains a challenge, which can affect visibility of non-volatile variables to other threads. Hence, the main reason for volatile keyword, after JSR-133, is preventing instruction reordering.\n\nUsing volatile, you can ensure that non-volatile fields are visible to other threads by &quot;happens-before&quot; rules.","body":"In summary, the CPU / motherboard uses its cache coherence methods to make sure that all other CPUs caches can see the variables (volatile and non-volatile) in the other CPUs cache. But instruction reordering remains a challenge, which can affect visibility of non-volatile variables to other threads. Hence, the main reason for volatile keyword, after JSR-133, is preventing instruction reordering.  Using volatile, you can ensure that non-volatile fields are visible to other threads by &quot;happens-before&quot; rules."},{"owner":{"account_id":19173470,"reputation":51,"user_id":14006673,"display_name":"Lucas de Lima"},"score":0,"creation_date":1650768895,"post_id":71973572,"comment_id":127198607,"body_markdown":"Also, these variables are flushed from CPU registers to the CPU cache and not  from CPU cache to main RAM. Is this correct? Thank you in advance.","body":"Also, these variables are flushed from CPU registers to the CPU cache and not  from CPU cache to main RAM. Is this correct? Thank you in advance."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1650769216,"post_id":71973572,"comment_id":127198636,"body_markdown":"You are spot on. Reordering isn&#39;t the only thing volatile provides btw. There are 2 other concerns that need to be handled. (1) Atomicity: you don&#39;t want to end up with a torn read/write. (2) Visibility: the compiler should not optimize out a load/store. But AFAIK the biggest part of volatile is indeed controlling the order of memory actions.","body":"You are spot on. Reordering isn&#39;t the only thing volatile provides btw. There are 2 other concerns that need to be handled. (1) Atomicity: you don&#39;t want to end up with a torn read/write. (2) Visibility: the compiler should not optimize out a load/store. But AFAIK the biggest part of volatile is indeed controlling the order of memory actions."}],"tags":[],"owner":{"account_id":19173470,"reputation":51,"user_id":14006673,"display_name":"Lucas de Lima"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650654506,"creation_date":1650654506,"answer_id":71973572,"question_id":4885570,"body_markdown":"The Java volatile keyword is used to mark a Java variable as &quot;being stored in main memory&quot;. More precisely that means, that every read of a volatile variable will be read from the computer&#39;s main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache. The value of an attribute is not cached thread-locally, and is always read from the &quot;main memory&quot;.\r\n\r\nOvercoming the data inconsistency problem is the advantage but reading from and writing to main memory is more expensive than accessing the CPU cache. Hence, if there are no specific requirements it is never recommended to use volatile keywords.\r\n\r\n    class Test  \r\n    {  \r\n        static int var=5;  \r\n    } \r\n\r\n \r\nIn the above example, assume that two threads are working on the same class. Both threads run on different processors where each thread has its local copy of var. If any thread modifies its value, the change will not reflect in the original one in the main memory. It leads to data inconsistency because the other thread is not aware of the modified value.\r\n\r\n\r\n\r\n     class Test  \r\n    {  \r\n       static volatile int var =5;  \r\n    }  \r\n\r\nIn the above example, the value of a volatile variable will never be stored in the cache. All read and write will be done from and to the main memory.","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>The Java volatile keyword is used to mark a Java variable as &quot;being stored in main memory&quot;. More precisely that means, that every read of a volatile variable will be read from the computer's main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache. The value of an attribute is not cached thread-locally, and is always read from the &quot;main memory&quot;.</p>\n<p>Overcoming the data inconsistency problem is the advantage but reading from and writing to main memory is more expensive than accessing the CPU cache. Hence, if there are no specific requirements it is never recommended to use volatile keywords.</p>\n<pre><code>class Test  \n{  \n    static int var=5;  \n} \n</code></pre>\n<p>In the above example, assume that two threads are working on the same class. Both threads run on different processors where each thread has its local copy of var. If any thread modifies its value, the change will not reflect in the original one in the main memory. It leads to data inconsistency because the other thread is not aware of the modified value.</p>\n<pre><code> class Test  \n{  \n   static volatile int var =5;  \n}  \n</code></pre>\n<p>In the above example, the value of a volatile variable will never be stored in the cache. All read and write will be done from and to the main memory.</p>\n"}],"owner":{"account_id":269655,"reputation":537,"user_id":559122,"accept_rate":33,"display_name":"jnivasreddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31787,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":6,"score":37,"last_activity_date":1680464703,"creation_date":1296732677,"question_id":4885570,"body_markdown":"We use `volatile` in one of our projects to maintain the same copy of variable accessed by different threads. My question is whether it is alright to use `volatile` with `static`. The compiler does not give any errors but I don&#39;t understand the reason of using both.","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>We use <code>volatile</code> in one of our projects to maintain the same copy of variable accessed by different threads. My question is whether it is alright to use <code>volatile</code> with <code>static</code>. The compiler does not give any errors but I don't understand the reason of using both.</p>\n"},{"tags":["java","json","jackson","text-files"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1680463441,"post_id":75914132,"comment_id":133898912,"body_markdown":"Does this answer your question? [Fast random access read/write access on big files in java](https://stackoverflow.com/questions/65717446/fast-random-access-read-write-access-on-big-files-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65717446/fast-random-access-read-write-access-on-big-files-in-java\">Fast random access read/write access on big files in java</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1680464057,"post_id":75914132,"comment_id":133899011,"body_markdown":"You’ll have to parse the entire file once without storing its contents, and save a table of file positions (possibly in another file).  JSON records are not fixed width, so there is no way around this.","body":"You’ll have to parse the entire file once without storing its contents, and save a table of file positions (possibly in another file).  JSON records are not fixed width, so there is no way around this."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1680464820,"post_id":75914132,"comment_id":133899133,"body_markdown":"can you transform json into something else, or obtain another format entirely? (parquet would be nice, but even csv would help)","body":"can you transform json into something else, or obtain another format entirely? (parquet would be nice, but even csv would help)"}],"answers":[{"comments":[{"owner":{"account_id":5450308,"reputation":147,"user_id":4335353,"display_name":"Sogawa-sps"},"score":0,"creation_date":1680992751,"post_id":75914231,"comment_id":133988356,"body_markdown":"Thank you, Raphael, and thanks to @Jorge Campos too. So the task can be solved by using the FileChannel. It&#39;s possible to read a portion of a file into the byte array and use JsonFactory.createParser(byte[]) method then. And, yes, it will be necessary to trim this array from both sides to make sure that only full lines of text are present.","body":"Thank you, Raphael, and thanks to @Jorge Campos too. So the task can be solved by using the FileChannel. It&#39;s possible to read a portion of a file into the byte array and use JsonFactory.createParser(byte[]) method then. And, yes, it will be necessary to trim this array from both sides to make sure that only full lines of text are present."}],"tags":[],"owner":{"account_id":18561380,"reputation":46,"user_id":13525314,"display_name":"Raphael"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680464269,"creation_date":1680464269,"answer_id":75914231,"question_id":75914132,"body_markdown":"Your question assumes that your JSON has lines endings, which it most likely won&#39;t have. Such large files are likely stripped from all unneeded characters and line endings are certainly not needed in a JSON file.\r\n\r\nYou&#39;re already using the Jackson Streaming API which is good, because it&#39;s your only chance to process such a large file. \r\nWhile you can&#39;t seek to a certain line, you can seek to a certain (byte) position, using [RandomAccessFile.html#seek(long)][1]. You need to &quot;guessstimate&quot; the position you want to jump to (based on the total file size).\r\nSince your seek will likely you put in a random position (e.g. inside a attribute value) you probably need to first use some custom parsing rules to find a valid starting point to let the JSON Streaming Parser start. Once you figured out when exactly in the JSON you are, you can use the parser as usual.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/RandomAccessFile.html#seek(long)","title":"Random access to the text file in Java","body":"<p>Your question assumes that your JSON has lines endings, which it most likely won't have. Such large files are likely stripped from all unneeded characters and line endings are certainly not needed in a JSON file.</p>\n<p>You're already using the Jackson Streaming API which is good, because it's your only chance to process such a large file.\nWhile you can't seek to a certain line, you can seek to a certain (byte) position, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/RandomAccessFile.html#seek(long)\" rel=\"nofollow noreferrer\">RandomAccessFile.html#seek(long)</a>. You need to &quot;guessstimate&quot; the position you want to jump to (based on the total file size).\nSince your seek will likely you put in a random position (e.g. inside a attribute value) you probably need to first use some custom parsing rules to find a valid starting point to let the JSON Streaming Parser start. Once you figured out when exactly in the JSON you are, you can use the parser as usual.</p>\n"}],"owner":{"account_id":5450308,"reputation":147,"user_id":4335353,"display_name":"Sogawa-sps"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914231,"answer_count":1,"score":0,"last_activity_date":1680464269,"creation_date":1680463105,"question_id":75914132,"body_markdown":"I’m parsing a really huge JSON file of 1.4 TB (it’s a WikiData dump just in case). It’s so big that even simple lines counting takes forever even with the help of optimizations like this https://stackoverflow.com/questions/453018/number-of-lines-in-a-file-in-java In order to speed it up I’m going to split the task and run it using both different SSDs on my main machine (so I probably get some extra disk throughput) and other computers I have (maybe using Apache Spark).\r\n\r\nAnd the question is how do I start reading a file from a random position? Skipping the lines is obviously not an option :). And I also would like to try to avoid a physical splitting of this file. It’s actually the easiest and most traffic/disk-space-efficient solution but I would like to explore alternatives for some corner use cases.\r\n\r\nBasically speaking I do the following:\r\n\r\n    JsonParser jp = f.createParser(new File(inputFile));\r\n    while(jp.nextToken() != JsonToken.END_OBJECT) {\r\n         //Fancy stuff\r\n    }\r\n\r\nIs there a way to quickly jump to line #20,000,000?\r\n","title":"Random access to the text file in Java","body":"<p>I’m parsing a really huge JSON file of 1.4 TB (it’s a WikiData dump just in case). It’s so big that even simple lines counting takes forever even with the help of optimizations like this <a href=\"https://stackoverflow.com/questions/453018/number-of-lines-in-a-file-in-java\">Number of lines in a file in Java</a> In order to speed it up I’m going to split the task and run it using both different SSDs on my main machine (so I probably get some extra disk throughput) and other computers I have (maybe using Apache Spark).</p>\n<p>And the question is how do I start reading a file from a random position? Skipping the lines is obviously not an option :). And I also would like to try to avoid a physical splitting of this file. It’s actually the easiest and most traffic/disk-space-efficient solution but I would like to explore alternatives for some corner use cases.</p>\n<p>Basically speaking I do the following:</p>\n<pre><code>JsonParser jp = f.createParser(new File(inputFile));\nwhile(jp.nextToken() != JsonToken.END_OBJECT) {\n     //Fancy stuff\n}\n</code></pre>\n<p>Is there a way to quickly jump to line #20,000,000?</p>\n"},{"tags":["java","android","android-studio","audio-processing"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680466733,"post_id":75914192,"comment_id":133899436,"body_markdown":"`uri.getPath()` Does not give you a file system path and cannot be used to read a file. Have a look at uri.toString() to see the content scheme. Use full uri to read the file.","body":"<code>uri.getPath()</code> Does not give you a file system path and cannot be used to read a file. Have a look at uri.toString() to see the content scheme. Use full uri to read the file."},{"owner":{"account_id":28195807,"reputation":1,"user_id":21550464,"display_name":"Adrien S."},"score":0,"creation_date":1681331492,"post_id":75914192,"comment_id":134041162,"body_markdown":"Thank you for you answer, but thought I did what you said and did make some research, I couldn&#39;t find the way to extract the audio data from the file :(","body":"Thank you for you answer, but thought I did what you said and did make some research, I couldn&#39;t find the way to extract the audio data from the file :("},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681335052,"post_id":75914192,"comment_id":134041904,"body_markdown":"Well what was the problem?","body":"Well what was the problem?"},{"owner":{"account_id":28195807,"reputation":1,"user_id":21550464,"display_name":"Adrien S."},"score":0,"creation_date":1681469460,"post_id":75914192,"comment_id":134065141,"body_markdown":"I still have the same issue : &quot;Could not find an ffmpeg binary for your Android system.&quot;","body":"I still have the same issue : &quot;Could not find an ffmpeg binary for your Android system.&quot;"}],"owner":{"account_id":28195807,"reputation":1,"user_id":21550464,"display_name":"Adrien S."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680463792,"creation_date":1680463792,"question_id":75914192,"body_markdown":"My project involves working with audio files to process the audio signal they contain to compare them to other files. The main problem I&#39;ve been facing for many hours now is that I don&#39;t know how or what libraries to use **to extract the audio signal data** from an audio file (mp3 or other types) into an float array for example. My only issue lies in the data extraction of an audio file chosen by the user of my application.\r\n\r\nIdealy, this float array would then contain at the `n` index the pressure measured of the microphone that recorded the audio track at the time `t=n*dt` where `dt` is a fixed constant. (`dt` is in this case the sample time that will be defined prior to the data extraction of the audio file)\r\n\r\nI don&#39;t know how mp3 files and other types are encoded,\\\r\nI tried to use the **TarsosDSP** library without any success,\\\r\nI am using **Android Studio** and the **java**.\r\n\r\nAm I missing permissions  ?\r\n\r\nAs stated before, I tried to use the **TarsosDSP** library :\r\nI successfully imported the library by puting the `.jar` file in the `/libs` folder and then adding it in the project with `File&gt;Project Structure&gt;Dependencies&gt;(+) (add icon)` then specifying the location of the `TarsosDSP` library. (which is `libs/TarsosDSP-Android-latest.jar`)\r\n\r\nOnce that out of the way, here&#39;s my code requesting the user to choose one file :\r\n\r\n```java\r\npublic void requestFileSeeking(View view){\r\n        Snackbar.make(view,&quot;Requested file choosing&quot;, Snackbar.LENGTH_SHORT).show();\r\n\r\n        myFileIntent=new Intent(Intent.ACTION_GET_CONTENT);\r\n        myFileIntent.setType(&quot;*/*&quot;);\r\n        startActivityForResult(myFileIntent, 10);\r\n    }\r\n```\r\n\r\nBtw, the `startActivityForResult()` function is deprecated, so if you got a better way to do this, I&#39;m all ears but it&#39;s not the main issue.\r\n\r\nWhat is problematic is the following code :\r\n\r\n```java\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == PICK_SONG_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n            Uri uri = data.getData();\r\n            // Create an AudioDispatcher instance and attach a FileProcessor to it\r\n\r\n            // This line causes the error when I choose a file\r\n            AudioDispatcher dispatcher = AudioDispatcherFactory.fromPipe(uri.getPath(), 44100, 4096, 0);\r\n\r\n            Toast.makeText(this, uri.getPath(), Toast.LENGTH_SHORT).show();\r\n            dispatcher.addAudioProcessor(new AudioProcessor() {\r\n\r\n                @Override\r\n                public boolean process(AudioEvent audioEvent) {\r\n                    // Process audio data here\r\n                    float[] audioBuffer = audioEvent.getFloatBuffer().clone();\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public void processingFinished() {\r\n                    // Final processing here\r\n                }\r\n            });\r\n\r\n            dispatcher.run();\r\n        }\r\n    }\r\n```\r\n\r\nSo here, looks like everything&#39;s good because IntellJ suggests to import all the classes from the `TarsosDSP` without any error.\r\n\r\nThe issue is when I try to select a file on the emulator when running the application. The moment `onActivityResult()` is called, there is this fatal error coming up :\r\n\r\n```java\r\nE/PipeDecoder: Could not find an ffmpeg binary for your Android system. Did you forget calling: &#39;new AndroidFFMPEGLocator(this);&#39; ?\r\nE/PipeDecoder: Tried to unpack a statically compiled ffmpeg binary for your architecture to: /data/user/0/com.example.youknowthatsong/cache/ffmpeg\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.youknowthatsong, PID: 32739\r\n    java.lang.Error: Decoding via a pipe will not work: Could not find an ffmpeg binary for your system\r\n        at be.tarsos.dsp.io.PipeDecoder.&lt;init&gt;(Unknown Source:350)\r\n        at be.tarsos.dsp.io.PipedAudioStream.&lt;clinit&gt;(Unknown Source:2)\r\n        at be.tarsos.dsp.io.android.AudioDispatcherFactory.fromPipe(Unknown Source:0)\r\n        at com.example.youknowthatsong.MainActivity.onActivityResult(MainActivity.java:198)\r\n        at android.app.Activity.dispatchActivityResult(Activity.java:8939)\r\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:5474)\r\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:5520)\r\n        at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:67)\r\n        at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:138)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2401)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:205)\r\n        at android.os.Looper.loop(Looper.java:294)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8128)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:578)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:946)\r\n```\r\n\r\nMe and my team did a lot of research to try and find to install this `ffmpeg binary` but to no avail, it either did the same error even when we tried to install it, or it gave another similar error...\r\n\r\nI would be really delighted if someone already went through this and could guide us !\r\n\r\nThanks in advance !","title":"Is there way to extract data audio from an mp3 file picked by an user on Android Studio?","body":"<p>My project involves working with audio files to process the audio signal they contain to compare them to other files. The main problem I've been facing for many hours now is that I don't know how or what libraries to use <strong>to extract the audio signal data</strong> from an audio file (mp3 or other types) into an float array for example. My only issue lies in the data extraction of an audio file chosen by the user of my application.</p>\n<p>Idealy, this float array would then contain at the <code>n</code> index the pressure measured of the microphone that recorded the audio track at the time <code>t=n*dt</code> where <code>dt</code> is a fixed constant. (<code>dt</code> is in this case the sample time that will be defined prior to the data extraction of the audio file)</p>\n<p>I don't know how mp3 files and other types are encoded,<br />\nI tried to use the <strong>TarsosDSP</strong> library without any success,<br />\nI am using <strong>Android Studio</strong> and the <strong>java</strong>.</p>\n<p>Am I missing permissions  ?</p>\n<p>As stated before, I tried to use the <strong>TarsosDSP</strong> library :\nI successfully imported the library by puting the <code>.jar</code> file in the <code>/libs</code> folder and then adding it in the project with <code>File&gt;Project Structure&gt;Dependencies&gt;(+) (add icon)</code> then specifying the location of the <code>TarsosDSP</code> library. (which is <code>libs/TarsosDSP-Android-latest.jar</code>)</p>\n<p>Once that out of the way, here's my code requesting the user to choose one file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void requestFileSeeking(View view){\n        Snackbar.make(view,&quot;Requested file choosing&quot;, Snackbar.LENGTH_SHORT).show();\n\n        myFileIntent=new Intent(Intent.ACTION_GET_CONTENT);\n        myFileIntent.setType(&quot;*/*&quot;);\n        startActivityForResult(myFileIntent, 10);\n    }\n</code></pre>\n<p>Btw, the <code>startActivityForResult()</code> function is deprecated, so if you got a better way to do this, I'm all ears but it's not the main issue.</p>\n<p>What is problematic is the following code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == PICK_SONG_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n            Uri uri = data.getData();\n            // Create an AudioDispatcher instance and attach a FileProcessor to it\n\n            // This line causes the error when I choose a file\n            AudioDispatcher dispatcher = AudioDispatcherFactory.fromPipe(uri.getPath(), 44100, 4096, 0);\n\n            Toast.makeText(this, uri.getPath(), Toast.LENGTH_SHORT).show();\n            dispatcher.addAudioProcessor(new AudioProcessor() {\n\n                @Override\n                public boolean process(AudioEvent audioEvent) {\n                    // Process audio data here\n                    float[] audioBuffer = audioEvent.getFloatBuffer().clone();\n                    return true;\n                }\n\n                @Override\n                public void processingFinished() {\n                    // Final processing here\n                }\n            });\n\n            dispatcher.run();\n        }\n    }\n</code></pre>\n<p>So here, looks like everything's good because IntellJ suggests to import all the classes from the <code>TarsosDSP</code> without any error.</p>\n<p>The issue is when I try to select a file on the emulator when running the application. The moment <code>onActivityResult()</code> is called, there is this fatal error coming up :</p>\n<pre class=\"lang-java prettyprint-override\"><code>E/PipeDecoder: Could not find an ffmpeg binary for your Android system. Did you forget calling: 'new AndroidFFMPEGLocator(this);' ?\nE/PipeDecoder: Tried to unpack a statically compiled ffmpeg binary for your architecture to: /data/user/0/com.example.youknowthatsong/cache/ffmpeg\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.youknowthatsong, PID: 32739\n    java.lang.Error: Decoding via a pipe will not work: Could not find an ffmpeg binary for your system\n        at be.tarsos.dsp.io.PipeDecoder.&lt;init&gt;(Unknown Source:350)\n        at be.tarsos.dsp.io.PipedAudioStream.&lt;clinit&gt;(Unknown Source:2)\n        at be.tarsos.dsp.io.android.AudioDispatcherFactory.fromPipe(Unknown Source:0)\n        at com.example.youknowthatsong.MainActivity.onActivityResult(MainActivity.java:198)\n        at android.app.Activity.dispatchActivityResult(Activity.java:8939)\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:5474)\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:5520)\n        at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:67)\n        at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:138)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2401)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:205)\n        at android.os.Looper.loop(Looper.java:294)\n        at android.app.ActivityThread.main(ActivityThread.java:8128)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:578)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:946)\n</code></pre>\n<p>Me and my team did a lot of research to try and find to install this <code>ffmpeg binary</code> but to no avail, it either did the same error even when we tried to install it, or it gave another similar error...</p>\n<p>I would be really delighted if someone already went through this and could guide us !</p>\n<p>Thanks in advance !</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":349346,"reputation":13527,"user_id":684582,"accept_rate":75,"display_name":"Al&#233;cio Carvalho"},"score":0,"creation_date":1680436748,"post_id":75911860,"comment_id":133895013,"body_markdown":"did you add this list to a Adapter and attached the adapter to a RecyclerView?","body":"did you add this list to a Adapter and attached the adapter to a RecyclerView?"},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680436877,"post_id":75911860,"comment_id":133895023,"body_markdown":"@Al&#233;cio Carvalho Yes I did it, with other api it works fine, which doesn&#39;t have nested arrays.","body":"@Al&#233;cio Carvalho Yes I did it, with other api it works fine, which doesn&#39;t have nested arrays."},{"owner":{"account_id":349346,"reputation":13527,"user_id":684582,"accept_rate":75,"display_name":"Al&#233;cio Carvalho"},"score":1,"creation_date":1680437306,"post_id":75911860,"comment_id":133895081,"body_markdown":"without seeing your adapter it is hard to tell what&#39;s going on.","body":"without seeing your adapter it is hard to tell what&#39;s going on."},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680437924,"post_id":75911860,"comment_id":133895145,"body_markdown":"@Al&#233;cio Carvalho add adapter code","body":"@Al&#233;cio Carvalho add adapter code"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1680438415,"post_id":75911860,"comment_id":133895206,"body_markdown":"`JSONArray jsonArray2 = jsonObject.getJSONArray(&quot;food&quot;);` This is wrong. `food` is inside `hints`. I suggest you use a JSON parser library that automatically parses your JSON to a POJO instead of doing it manually.","body":"<code>JSONArray jsonArray2 = jsonObject.getJSONArray(&quot;food&quot;);</code> This is wrong. <code>food</code> is inside <code>hints</code>. I suggest you use a JSON parser library that automatically parses your JSON to a POJO instead of doing it manually."},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680438649,"post_id":75911860,"comment_id":133895232,"body_markdown":"@m0skit0 What is the library?","body":"@m0skit0 What is the library?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1680443703,"post_id":75911860,"comment_id":133895883,"body_markdown":"You can search that for yourself, recommendations are not allowed here.","body":"You can search that for yourself, recommendations are not allowed here."}],"answers":[{"comments":[{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680439304,"post_id":75912044,"comment_id":133895306,"body_markdown":"Thank you very much, could you please tell me how to get objects from `&quot;nutrients&quot;: {\n          &quot;ENERC_KCAL&quot;: 594,\n          &quot;PROCNT&quot;: 17.3,\n          &quot;FAT&quot;: 51.45,\n          &quot;CHOCDF&quot;: 25.35,\n          &quot;FIBTG&quot;: 9\n        }`","body":"Thank you very much, could you please tell me how to get objects from <code>&quot;nutrients&quot;: {           &quot;ENERC_KCAL&quot;: 594,           &quot;PROCNT&quot;: 17.3,           &quot;FAT&quot;: 51.45,           &quot;CHOCDF&quot;: 25.35,           &quot;FIBTG&quot;: 9         }</code>"},{"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"score":0,"creation_date":1680440421,"post_id":75912044,"comment_id":133895456,"body_markdown":"@soundsofnature Please let me know if you have any error","body":"@soundsofnature Please let me know if you have any error"},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680441453,"post_id":75912044,"comment_id":133895594,"body_markdown":"I am getting total 9 values ​​in the list","body":"I am getting total 9 values ​​in the list"},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680442684,"post_id":75912044,"comment_id":133895736,"body_markdown":"I don&#39;t get the whole list","body":"I don&#39;t get the whole list"},{"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"score":0,"creation_date":1680443778,"post_id":75912044,"comment_id":133895894,"body_markdown":"@soundsofnature That is normal because you have to complete the code I just demonstrated the way to do that  for just a part","body":"@soundsofnature That is normal because you have to complete the code I just demonstrated the way to do that  for just a part"},{"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"score":0,"creation_date":1680444017,"post_id":75912044,"comment_id":133895940,"body_markdown":"@soundsofnature Try to create fromMap and toMap methods in your classes to make your code more efficient.","body":"@soundsofnature Try to create fromMap and toMap methods in your classes to make your code more efficient."},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680444518,"post_id":75912044,"comment_id":133896024,"body_markdown":"I can&#39;t do it no matter what I do","body":"I can&#39;t do it no matter what I do"},{"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"score":0,"creation_date":1680452036,"post_id":75912044,"comment_id":133897233,"body_markdown":"@soundsofnature update your question and add what you did so I can see where is the error and help you","body":"@soundsofnature update your question and add what you did so I can see where is the error and help you"},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680453914,"post_id":75912044,"comment_id":133897527,"body_markdown":"The problem is that there are only 9 `food` values ​​in the hints array itself, and the rest of the `food` values ​​go without an array. It turns out that you need to parse all food values ​​and not just those in `hints`","body":"The problem is that there are only 9 <code>food</code> values ​​in the hints array itself, and the rest of the <code>food</code> values ​​go without an array. It turns out that you need to parse all food values ​​and not just those in <code>hints</code>"},{"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"score":0,"creation_date":1680463092,"post_id":75912044,"comment_id":133898867,"body_markdown":"@soundsofnature I updated my answer but I do not understand your last comment. so sorry If this is not what you meant and wants me to explain by do it to you.","body":"@soundsofnature I updated my answer but I do not understand your last comment. so sorry If this is not what you meant and wants me to explain by do it to you."}],"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680462922,"creation_date":1680438787,"answer_id":75912044,"question_id":75911860,"body_markdown":"I suggest you to do this: \r\n\r\n    try {\r\n        JSONObject jsonObject = new JSONObject(s);\r\n        JSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\r\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n            JSONObject hintObject = jsonArray.getJSONObject(i);\r\n            JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\r\n\r\n            String label = foodObject.getString(&quot;label&quot;);\r\n\r\n            FoodModels model = new FoodModels();\r\n            model.setName(label);\r\n\r\n            foodModelsList.add(model);\r\n        }\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nIn order to get the insider JSONObject you have to do this: \r\n\r\n    JSONObject nutrientsObject = foodObject.getJSONObject(&quot;nutrients&quot;);\r\n        int enercKcal = nutrientsObject.getInt(&quot;ENERC_KCAL&quot;);\r\n        double procnt = nutrientsObject.getDouble(&quot;PROCNT&quot;);\r\n        double fat = nutrientsObject.getDouble(&quot;FAT&quot;);\r\n        double chocdf = nutrientsObject.getDouble(&quot;CHOCDF&quot;);\r\n        int fibtg = nutrientsObject.getInt(&quot;FIBTG&quot;);\r\n\r\nThink about it as a staircase that will be more easier for you.\r\n\r\nthis is the full code **but not the best solution**:\r\n\r\n    try {\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\r\n    \r\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n        JSONObject hintObject = jsonArray.getJSONObject(i);\r\n        JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\r\n        \r\n        String foodId = foodObject.getString(&quot;foodId&quot;);\r\n        String label = foodObject.getString(&quot;label&quot;);\r\n        String knownAs = foodObject.getString(&quot;knownAs&quot;);\r\n        String category = foodObject.getString(&quot;category&quot;);\r\n        String categoryLabel = foodObject.getString(&quot;categoryLabel&quot;);\r\n        String image = foodObject.getString(&quot;image&quot;);\r\n        JSONObject nutrients = foodObject.getJSONObject(&quot;nutrients&quot;);\r\n        double enercKcal = nutrients.getDouble(&quot;ENERC_KCAL&quot;);\r\n        double procnt = nutrients.getDouble(&quot;PROCNT&quot;);\r\n        double fat = nutrients.getDouble(&quot;FAT&quot;);\r\n        double chocdf = nutrients.getDouble(&quot;CHOCDF&quot;);\r\n        double fibtg = nutrients.getDouble(&quot;FIBTG&quot;);\r\n        \r\n        JSONArray measures = hintObject.getJSONArray(&quot;measures&quot;);\r\n        \r\n        for (int j = 0; j &lt; measures.length(); j++) {\r\n            JSONObject measure = measures.getJSONObject(j);\r\n            \r\n            String uri = measure.getString(&quot;uri&quot;);\r\n            String measureLabel = measure.getString(&quot;label&quot;);\r\n            double weight = measure.getDouble(&quot;weight&quot;);\r\n            \r\n        }\r\n    }\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n&gt; This is all the data inside the hints but do not forget to add them to\r\n&gt; the models.\r\n\r\nregards ","title":"I get an empty RecyclerView","body":"<p>I suggest you to do this:</p>\n<pre><code>try {\n    JSONObject jsonObject = new JSONObject(s);\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\n        JSONObject hintObject = jsonArray.getJSONObject(i);\n        JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\n\n        String label = foodObject.getString(&quot;label&quot;);\n\n        FoodModels model = new FoodModels();\n        model.setName(label);\n\n        foodModelsList.add(model);\n    }\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>In order to get the insider JSONObject you have to do this:</p>\n<pre><code>JSONObject nutrientsObject = foodObject.getJSONObject(&quot;nutrients&quot;);\n    int enercKcal = nutrientsObject.getInt(&quot;ENERC_KCAL&quot;);\n    double procnt = nutrientsObject.getDouble(&quot;PROCNT&quot;);\n    double fat = nutrientsObject.getDouble(&quot;FAT&quot;);\n    double chocdf = nutrientsObject.getDouble(&quot;CHOCDF&quot;);\n    int fibtg = nutrientsObject.getInt(&quot;FIBTG&quot;);\n</code></pre>\n<p>Think about it as a staircase that will be more easier for you.</p>\n<p>this is the full code <strong>but not the best solution</strong>:</p>\n<pre><code>try {\nJSONObject jsonObject = new JSONObject(jsonString);\nJSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\n\nfor (int i = 0; i &lt; jsonArray.length(); i++) {\n    JSONObject hintObject = jsonArray.getJSONObject(i);\n    JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\n    \n    String foodId = foodObject.getString(&quot;foodId&quot;);\n    String label = foodObject.getString(&quot;label&quot;);\n    String knownAs = foodObject.getString(&quot;knownAs&quot;);\n    String category = foodObject.getString(&quot;category&quot;);\n    String categoryLabel = foodObject.getString(&quot;categoryLabel&quot;);\n    String image = foodObject.getString(&quot;image&quot;);\n    JSONObject nutrients = foodObject.getJSONObject(&quot;nutrients&quot;);\n    double enercKcal = nutrients.getDouble(&quot;ENERC_KCAL&quot;);\n    double procnt = nutrients.getDouble(&quot;PROCNT&quot;);\n    double fat = nutrients.getDouble(&quot;FAT&quot;);\n    double chocdf = nutrients.getDouble(&quot;CHOCDF&quot;);\n    double fibtg = nutrients.getDouble(&quot;FIBTG&quot;);\n    \n    JSONArray measures = hintObject.getJSONArray(&quot;measures&quot;);\n    \n    for (int j = 0; j &lt; measures.length(); j++) {\n        JSONObject measure = measures.getJSONObject(j);\n        \n        String uri = measure.getString(&quot;uri&quot;);\n        String measureLabel = measure.getString(&quot;label&quot;);\n        double weight = measure.getDouble(&quot;weight&quot;);\n        \n    }\n}\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<blockquote>\n<p>This is all the data inside the hints but do not forget to add them to\nthe models.</p>\n</blockquote>\n<p>regards</p>\n"}],"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680462922,"creation_date":1680436364,"question_id":75911860,"body_markdown":"I need to get all the values ​​from the `food` object as well as the `nutrients` that are in `hints`.\r\n\r\n    &quot;hints&quot;: [\r\n        {\r\n          &quot;food&quot;: {\r\n            &quot;foodId&quot;: &quot;food_amqspy5ap567v6bun60usbgsaor7&quot;,\r\n            &quot;label&quot;: &quot;Nuts&quot;,\r\n            &quot;knownAs&quot;: &quot;nuts&quot;,\r\n            &quot;nutrients&quot;: {\r\n              &quot;ENERC_KCAL&quot;: 594,\r\n              &quot;PROCNT&quot;: 17.3,\r\n              &quot;FAT&quot;: 51.45,\r\n              &quot;CHOCDF&quot;: 25.35,\r\n              &quot;FIBTG&quot;: 9\r\n            },\r\n            &quot;category&quot;: &quot;Generic foods&quot;,\r\n            &quot;categoryLabel&quot;: &quot;food&quot;,\r\n            &quot;image&quot;: &quot;https://www.edamam.com/food-img/e29/e2985d3585a6950c276e204ba7ba9b2e.jpg&quot;\r\n          },\r\n          &quot;measures&quot;: [\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_unit&quot;,\r\n              &quot;label&quot;: &quot;Whole&quot;,\r\n              &quot;weight&quot;: 2\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_pouch&quot;,\r\n              &quot;label&quot;: &quot;Pouch&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_serving&quot;,\r\n              &quot;label&quot;: &quot;Serving&quot;,\r\n              &quot;weight&quot;: 34\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_nut&quot;,\r\n              &quot;label&quot;: &quot;Nut&quot;,\r\n              &quot;weight&quot;: 2\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_bag&quot;,\r\n              &quot;label&quot;: &quot;Bag&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_container&quot;,\r\n              &quot;label&quot;: &quot;Container&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_package&quot;,\r\n              &quot;label&quot;: &quot;Package&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_packet&quot;,\r\n              &quot;label&quot;: &quot;Packet&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_gram&quot;,\r\n              &quot;label&quot;: &quot;Gram&quot;,\r\n              &quot;weight&quot;: 1\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_ounce&quot;,\r\n              &quot;label&quot;: &quot;Ounce&quot;,\r\n              &quot;weight&quot;: 28.349523125\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_pound&quot;,\r\n              &quot;label&quot;: &quot;Pound&quot;,\r\n              &quot;weight&quot;: 453.59237\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram&quot;,\r\n              &quot;label&quot;: &quot;Kilogram&quot;,\r\n              &quot;weight&quot;: 1000\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_handful&quot;,\r\n              &quot;label&quot;: &quot;Handful&quot;,\r\n              &quot;weight&quot;: 17.125\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_cup&quot;,\r\n              &quot;label&quot;: &quot;Cup&quot;,\r\n              &quot;weight&quot;: 137\r\n            }\r\n          ]\r\n        },\r\n\r\nAt the moment I&#39;m trying to get at least the `label` value from `food`, but I can&#39;t get anything.\r\n\r\n        try {\r\n        JSONObject jsonObject = new JSONObject(s);\r\n        JSONArray jsonArray1 = jsonObject.getJSONArray(&quot;hints&quot;);\r\n        JSONArray jsonArray2 = jsonObject.getJSONArray(&quot;food&quot;);\r\n        for(int i = 0 ; i &lt; jsonArray1.length() &amp;&amp; i &lt; jsonArray2.length() ; i++) {\r\n            JSONObject jsonObject1 = jsonArray1.getJSONObject(i);\r\n            JSONObject jsonObject2 = jsonArray2.getJSONObject(i);\r\n    \r\n            FoodModels model = new FoodModels();\r\n            model.setName(jsonObject2.getString(&quot;label&quot;));\r\n    \r\n            foodModelsList.add(model);\r\n        }\r\n    \r\n    } \r\n\r\nFoodAdapter\r\n\r\n    public class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.MyViewHolder&gt; {\r\n    \r\n        private final FoodRecyclerViewInterface recyclerViewInterface;\r\n        private Context context;\r\n        private List&lt;FoodModels&gt; mData;\r\n    \r\n        public FoodAdapter(Context context, List&lt;FoodModels&gt; mData, FoodRecyclerViewInterface recyclerViewInterface) {\r\n            this.recyclerViewInterface = recyclerViewInterface;\r\n            this.context = context;\r\n            this.mData = mData;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public FoodAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view;\r\n            LayoutInflater inflater = LayoutInflater.from(context);\r\n            view = inflater.inflate(R.layout.recycler_item, parent, false);\r\n    \r\n            return new FoodAdapter.MyViewHolder(view, recyclerViewInterface);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull FoodAdapter.MyViewHolder holder, int position) {\r\n            holder.name.setText(mData.get(position).getName());\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return mData.size();\r\n        }\r\n    \r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            TextView name, img, kcal, procent, fat, chocdf, fidtg;\r\n            public MyViewHolder(@NonNull View itemView, FoodRecyclerViewInterface recyclerViewInterface) {\r\n                super(itemView);\r\n    \r\n                name = itemView.findViewById(R.id.name);\r\n    \r\n                itemView.setOnClickListener(v -&gt; {\r\n                    if (recyclerViewInterface != null){\r\n                        int pos = getAdapterPosition();\r\n                        if(pos != RecyclerView.NO_POSITION) {\r\n                            recyclerViewInterface.onItemClick(pos);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"I get an empty RecyclerView","body":"<p>I need to get all the values ​​from the <code>food</code> object as well as the <code>nutrients</code> that are in <code>hints</code>.</p>\n<pre><code>&quot;hints&quot;: [\n    {\n      &quot;food&quot;: {\n        &quot;foodId&quot;: &quot;food_amqspy5ap567v6bun60usbgsaor7&quot;,\n        &quot;label&quot;: &quot;Nuts&quot;,\n        &quot;knownAs&quot;: &quot;nuts&quot;,\n        &quot;nutrients&quot;: {\n          &quot;ENERC_KCAL&quot;: 594,\n          &quot;PROCNT&quot;: 17.3,\n          &quot;FAT&quot;: 51.45,\n          &quot;CHOCDF&quot;: 25.35,\n          &quot;FIBTG&quot;: 9\n        },\n        &quot;category&quot;: &quot;Generic foods&quot;,\n        &quot;categoryLabel&quot;: &quot;food&quot;,\n        &quot;image&quot;: &quot;https://www.edamam.com/food-img/e29/e2985d3585a6950c276e204ba7ba9b2e.jpg&quot;\n      },\n      &quot;measures&quot;: [\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_unit&quot;,\n          &quot;label&quot;: &quot;Whole&quot;,\n          &quot;weight&quot;: 2\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_pouch&quot;,\n          &quot;label&quot;: &quot;Pouch&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_serving&quot;,\n          &quot;label&quot;: &quot;Serving&quot;,\n          &quot;weight&quot;: 34\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_nut&quot;,\n          &quot;label&quot;: &quot;Nut&quot;,\n          &quot;weight&quot;: 2\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_bag&quot;,\n          &quot;label&quot;: &quot;Bag&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_container&quot;,\n          &quot;label&quot;: &quot;Container&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_package&quot;,\n          &quot;label&quot;: &quot;Package&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_packet&quot;,\n          &quot;label&quot;: &quot;Packet&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_gram&quot;,\n          &quot;label&quot;: &quot;Gram&quot;,\n          &quot;weight&quot;: 1\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_ounce&quot;,\n          &quot;label&quot;: &quot;Ounce&quot;,\n          &quot;weight&quot;: 28.349523125\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_pound&quot;,\n          &quot;label&quot;: &quot;Pound&quot;,\n          &quot;weight&quot;: 453.59237\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram&quot;,\n          &quot;label&quot;: &quot;Kilogram&quot;,\n          &quot;weight&quot;: 1000\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_handful&quot;,\n          &quot;label&quot;: &quot;Handful&quot;,\n          &quot;weight&quot;: 17.125\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_cup&quot;,\n          &quot;label&quot;: &quot;Cup&quot;,\n          &quot;weight&quot;: 137\n        }\n      ]\n    },\n</code></pre>\n<p>At the moment I'm trying to get at least the <code>label</code> value from <code>food</code>, but I can't get anything.</p>\n<pre><code>    try {\n    JSONObject jsonObject = new JSONObject(s);\n    JSONArray jsonArray1 = jsonObject.getJSONArray(&quot;hints&quot;);\n    JSONArray jsonArray2 = jsonObject.getJSONArray(&quot;food&quot;);\n    for(int i = 0 ; i &lt; jsonArray1.length() &amp;&amp; i &lt; jsonArray2.length() ; i++) {\n        JSONObject jsonObject1 = jsonArray1.getJSONObject(i);\n        JSONObject jsonObject2 = jsonArray2.getJSONObject(i);\n\n        FoodModels model = new FoodModels();\n        model.setName(jsonObject2.getString(&quot;label&quot;));\n\n        foodModelsList.add(model);\n    }\n\n} \n</code></pre>\n<p>FoodAdapter</p>\n<pre><code>public class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.MyViewHolder&gt; {\n\n    private final FoodRecyclerViewInterface recyclerViewInterface;\n    private Context context;\n    private List&lt;FoodModels&gt; mData;\n\n    public FoodAdapter(Context context, List&lt;FoodModels&gt; mData, FoodRecyclerViewInterface recyclerViewInterface) {\n        this.recyclerViewInterface = recyclerViewInterface;\n        this.context = context;\n        this.mData = mData;\n    }\n\n    @NonNull\n    @Override\n    public FoodAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view;\n        LayoutInflater inflater = LayoutInflater.from(context);\n        view = inflater.inflate(R.layout.recycler_item, parent, false);\n\n        return new FoodAdapter.MyViewHolder(view, recyclerViewInterface);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull FoodAdapter.MyViewHolder holder, int position) {\n        holder.name.setText(mData.get(position).getName());\n    }\n\n    @Override\n    public int getItemCount() {\n        return mData.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n        TextView name, img, kcal, procent, fat, chocdf, fidtg;\n        public MyViewHolder(@NonNull View itemView, FoodRecyclerViewInterface recyclerViewInterface) {\n            super(itemView);\n\n            name = itemView.findViewById(R.id.name);\n\n            itemView.setOnClickListener(v -&gt; {\n                if (recyclerViewInterface != null){\n                    int pos = getAdapterPosition();\n                    if(pos != RecyclerView.NO_POSITION) {\n                        recyclerViewInterface.onItemClick(pos);\n                    }\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","linkedhashmap"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1680421569,"post_id":75910702,"comment_id":133893242,"body_markdown":"Do you mean `get(&quot;id&quot;)`? This looks like structured data. How about writing a class to store those 3 things, instead of a `LinkedHashMap`?","body":"Do you mean <code>get(&quot;id&quot;)</code>? This looks like structured data. How about writing a class to store those 3 things, instead of a <code>LinkedHashMap</code>?"},{"owner":{"account_id":26076572,"reputation":31,"user_id":19775445,"display_name":"JuniorDev"},"score":0,"creation_date":1680421643,"post_id":75910702,"comment_id":133893250,"body_markdown":"When using Page, values in ArrayList came with LinkedHashMap @Sweeper","body":"When using Page, values in ArrayList came with LinkedHashMap @Sweeper"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1680421784,"post_id":75910702,"comment_id":133893258,"body_markdown":"What is &quot;Page&quot;? Is that one of the libraries you are using?","body":"What is &quot;Page&quot;? Is that one of the libraries you are using?"}],"answers":[{"tags":[],"owner":{"account_id":2931439,"reputation":59,"user_id":2511564,"display_name":"koZmiZm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680462489,"creation_date":1680462489,"answer_id":75914085,"question_id":75910702,"body_markdown":"Did you intialize the ArrayList? Like, did you add an element to it first?\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedHashMap;\r\n    \r\n    public class StackOverflow {\r\n    \t\r\n\t    public static void main(String[] args) {\r\n\t\t    ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt; myList = new ArrayList&lt;&gt;();\r\n\t\t    myList.add(new LinkedHashMap&lt;&gt;());//\r\n\t\t    myList.get(0).put(&quot;id&quot;, &quot;1&quot;);\r\n\t\t    myList.get(0).put(&quot;name&quot;, &quot;A&quot;);\r\n\t\t    myList.get(0).put(&quot;status&quot;, &quot;ACTIVE&quot;);\r\n\t    \t\r\n\t    \t//now you should be able to access them using  \r\n\t    \tSystem.out.println( myList.get(0).get(&quot;id&quot;) );\r\n\t    }\t\r\n\t    \r\n    }\r\n\r\nIf you want a special function called getID(), you will have to code that yourself. Also, I agreee with other comments that it seems like you should be creating a class. I&#39;m not even sure what return types those are. Seems like they are mixed. I made them into String, but I&#39;m betting you need to make a class that has 3 properties. id, name, status\r\n\r\nHere is a basic example of a record class that holds those 3 properties\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class StackOverflow {\r\n    \t\r\n\t    enum Status { ACTIVE, INACTIVE } \r\n\t    record Person(long id, String name, Status status) { }\r\n    \r\n        public static void main(String[] args) {\r\n            ArrayList&lt;Person&gt; myList = new ArrayList&lt;&gt;();\r\n            myList.add(new Person(1L, &quot;A&quot;, Status.ACTIVE));\r\n\t    \t\r\n            //now you should be able to access them using  \r\n            System.out.println( myList.get(0).id() );\r\n            System.out.println( myList.get(0).name() );\r\n            System.out.println( myList.get(0).status() );\r\n        }\t\r\n    }","title":"How can I access the value in ArrayList&lt;LinkedHashMap&lt;K,V&gt;&gt;?","body":"<p>Did you intialize the ArrayList? Like, did you add an element to it first?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.LinkedHashMap;\n\npublic class StackOverflow {\n    \n    public static void main(String[] args) {\n        ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt; myList = new ArrayList&lt;&gt;();\n        myList.add(new LinkedHashMap&lt;&gt;());//\n        myList.get(0).put(&quot;id&quot;, &quot;1&quot;);\n        myList.get(0).put(&quot;name&quot;, &quot;A&quot;);\n        myList.get(0).put(&quot;status&quot;, &quot;ACTIVE&quot;);\n        \n        //now you should be able to access them using  \n        System.out.println( myList.get(0).get(&quot;id&quot;) );\n    }   \n    \n}\n</code></pre>\n<p>If you want a special function called getID(), you will have to code that yourself. Also, I agreee with other comments that it seems like you should be creating a class. I'm not even sure what return types those are. Seems like they are mixed. I made them into String, but I'm betting you need to make a class that has 3 properties. id, name, status</p>\n<p>Here is a basic example of a record class that holds those 3 properties</p>\n<pre><code>import java.util.ArrayList;\n\npublic class StackOverflow {\n    \n    enum Status { ACTIVE, INACTIVE } \n    record Person(long id, String name, Status status) { }\n\n    public static void main(String[] args) {\n        ArrayList&lt;Person&gt; myList = new ArrayList&lt;&gt;();\n        myList.add(new Person(1L, &quot;A&quot;, Status.ACTIVE));\n        \n        //now you should be able to access them using  \n        System.out.println( myList.get(0).id() );\n        System.out.println( myList.get(0).name() );\n        System.out.println( myList.get(0).status() );\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":26076572,"reputation":31,"user_id":19775445,"display_name":"JuniorDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680462489,"creation_date":1680421327,"question_id":75910702,"body_markdown":"There are 3 values in LinkedHashMap.\r\n\r\n    &quot;id&quot; -&gt;1\r\n    &quot;name&quot;-&gt;A\r\n    &quot;status&quot;-&gt;ACTIVE\r\n\r\nBut I can&#39;t access them via arraylist.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ow4Xf.png\r\nHow can I access the id value?","title":"How can I access the value in ArrayList&lt;LinkedHashMap&lt;K,V&gt;&gt;?","body":"<p>There are 3 values in LinkedHashMap.</p>\n<pre><code>&quot;id&quot; -&gt;1\n&quot;name&quot;-&gt;A\n&quot;status&quot;-&gt;ACTIVE\n</code></pre>\n<p>But I can't access them via arraylist.</p>\n<p><a href=\"https://i.stack.imgur.com/Ow4Xf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ow4Xf.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I access the id value?</p>\n"},{"tags":["java","ajax","spring-boot","jsp","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":20466933,"reputation":111,"user_id":15018228,"display_name":"Rakhi Sharma"},"score":0,"creation_date":1623675265,"post_id":67970394,"comment_id":120138093,"body_markdown":"How to handle these things from frontend? As user will be able to see only single date field and need to pass single date in javascript function using Ajax.","body":"How to handle these things from frontend? As user will be able to see only single date field and need to pass single date in javascript function using Ajax."},{"owner":{"account_id":9675383,"reputation":111,"user_id":7179058,"display_name":"Hesham Osman"},"score":0,"creation_date":1623676134,"post_id":67970394,"comment_id":120138558,"body_markdown":"you don&#39;t have to do it through the frontend.\nYou can do the following:\nString[] splittedDate = createddate.split(&quot;-&quot;);\nthen pass it to the query\nordersdao.findByCreateddatetimeOrderByCreateddatetimeDesc(splittedDate[0],splittedDate[1],splittedDate[2], pageable);\nwhere you query is something like that:\n@Query(&quot;select e from Event e where year(e.eventDate) = ?1 and month(e.eventDate) = ?2 and day(e.eventDate) = ?3&quot;)\nList&lt;Entity&gt; getByYearAndMonth(int year, int month,int day);","body":"you don&#39;t have to do it through the frontend. You can do the following: String[] splittedDate = createddate.split(&quot;-&quot;); then pass it to the query ordersdao.findByCreateddatetimeOrderByCreateddatetimeDesc(sp&zwnj;&#8203;littedDate[0],splitt&zwnj;&#8203;edDate[1],splittedDa&zwnj;&#8203;te[2], pageable); where you query is something like that: @Query(&quot;select e from Event e where year(e.eventDate) = ?1 and month(e.eventDate) = ?2 and day(e.eventDate) = ?3&quot;) List&lt;Entity&gt; getByYearAndMonth(int year, int month,int day);"},{"owner":{"account_id":20466933,"reputation":111,"user_id":15018228,"display_name":"Rakhi Sharma"},"score":0,"creation_date":1623676401,"post_id":67970394,"comment_id":120138686,"body_markdown":"So, what to do in javascript function then? I want to fetch records and show that records inside a table. If I select any date from there, then how it would communicate with my backend code.","body":"So, what to do in javascript function then? I want to fetch records and show that records inside a table. If I select any date from there, then how it would communicate with my backend code."},{"owner":{"account_id":9675383,"reputation":111,"user_id":7179058,"display_name":"Hesham Osman"},"score":0,"creation_date":1623676550,"post_id":67970394,"comment_id":120138767,"body_markdown":"quick zoom call?","body":"quick zoom call?"},{"owner":{"account_id":20466933,"reputation":111,"user_id":15018228,"display_name":"Rakhi Sharma"},"score":0,"creation_date":1623739121,"post_id":67970394,"comment_id":120156532,"body_markdown":"Hi, sorry but solution did not worked for me. Is there any other way to search or fetch list of orders by date?","body":"Hi, sorry but solution did not worked for me. Is there any other way to search or fetch list of orders by date?"}],"tags":[],"owner":{"account_id":9675383,"reputation":111,"user_id":7179058,"display_name":"Hesham Osman"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623674940,"creation_date":1623674401,"answer_id":67970394,"question_id":67969933,"body_markdown":"It seems that the data is being persisted in a different format than what you are searching by.\r\nyou can apply any of the following solutions:\r\n\r\n1- make sure that the same date format is used\r\n\r\n2- to ignore the time part of the date you can use greater that and pass two dates ,like (createdDate &gt;= 2021-06-14 and createdDate &lt; 2021-06-15)\r\n\r\n3- split your search date input and use functions to search like this example\r\n\r\n    @Query(&quot;select e from Event e where year(e.eventDate) = ?1 and month(e.eventDate) = ?2&quot;)\r\n    List&lt;Entity&gt; getByYearAndMonth(int year, int month);\r\n\r\n ","title":"How can I fetch data or records by date column in Spring Boot?","body":"<p>It seems that the data is being persisted in a different format than what you are searching by.\nyou can apply any of the following solutions:</p>\n<p>1- make sure that the same date format is used</p>\n<p>2- to ignore the time part of the date you can use greater that and pass two dates ,like (createdDate &gt;= 2021-06-14 and createdDate &lt; 2021-06-15)</p>\n<p>3- split your search date input and use functions to search like this example</p>\n<pre><code>@Query(&quot;select e from Event e where year(e.eventDate) = ?1 and month(e.eventDate) = ?2&quot;)\nList&lt;Entity&gt; getByYearAndMonth(int year, int month);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20466933,"reputation":111,"user_id":15018228,"display_name":"Rakhi Sharma"},"score":0,"creation_date":1623675005,"post_id":67970416,"comment_id":120137982,"body_markdown":"If I talk about UI part i.e. from frontend there is a single date field. So, how should I handle those things in my Orders JSP page using JavaScript or jQuery with Ajax?","body":"If I talk about UI part i.e. from frontend there is a single date field. So, how should I handle those things in my Orders JSP page using JavaScript or jQuery with Ajax?"},{"owner":{"account_id":21609349,"reputation":21,"user_id":15936215,"display_name":"Basti291"},"score":0,"creation_date":1623675221,"post_id":67970416,"comment_id":120138076,"body_markdown":"What do you mean ? You can use the date, you have and in the java-code, you can call date.setHours()","body":"What do you mean ? You can use the date, you have and in the java-code, you can call date.setHours()"},{"owner":{"account_id":20466933,"reputation":111,"user_id":15018228,"display_name":"Rakhi Sharma"},"score":0,"creation_date":1623675355,"post_id":67970416,"comment_id":120138141,"body_markdown":"Please, Do you have any example to show because I did not handle such things before?","body":"Please, Do you have any example to show because I did not handle such things before?"},{"owner":{"account_id":21609349,"reputation":21,"user_id":15936215,"display_name":"Basti291"},"score":0,"creation_date":1623675927,"post_id":67970416,"comment_id":120138439,"body_markdown":"Make Use of Calendar class: https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html","body":"Make Use of Calendar class: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Calendar.html</a>"},{"owner":{"account_id":21609349,"reputation":21,"user_id":15936215,"display_name":"Basti291"},"score":0,"creation_date":1623675993,"post_id":67970416,"comment_id":120138486,"body_markdown":"Calendar cal = Calendar.getInstance(); // creates calendar\ncal.setTime(yourDate);               // sets calendar time/date\ncal.set(Calendar.HOUR_OF_DAY, 0);      // sets hours to 0\ncal.getTime();                                       // returns date with hours on 0","body":"Calendar cal = Calendar.getInstance(); // creates calendar cal.setTime(yourDate);               // sets calendar time/date cal.set(Calendar.HOUR_OF_DAY, 0);      // sets hours to 0 cal.getTime();                                       // returns date with hours on 0"}],"tags":[],"owner":{"account_id":21609349,"reputation":21,"user_id":15936215,"display_name":"Basti291"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623674495,"creation_date":1623674495,"answer_id":67970416,"question_id":67969933,"body_markdown":"In your Database the date-pattern is &quot;yyyy-MM-dd hh:mm:ss&quot;, so execute a range query like:\r\n\r\n    List&lt;Orders&gt; findByCreateddatetimeBetweenOrderByCreateddatetimeDesc(Date createddateBegin, Date createddateEnd);\r\n\r\nand give the day, you want from midnight to midnight.\r\n","title":"How can I fetch data or records by date column in Spring Boot?","body":"<p>In your Database the date-pattern is &quot;yyyy-MM-dd hh:mm:ss&quot;, so execute a range query like:</p>\n<pre><code>List&lt;Orders&gt; findByCreateddatetimeBetweenOrderByCreateddatetimeDesc(Date createddateBegin, Date createddateEnd);\n</code></pre>\n<p>and give the day, you want from midnight to midnight.</p>\n"},{"tags":[],"owner":{"account_id":22051693,"reputation":61,"user_id":16317008,"display_name":"Shaowen Zhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680462391,"creation_date":1680461872,"answer_id":75914026,"question_id":67969933,"body_markdown":"I&#39;m not sure if this can solve your problems, but I retrieve data successfully with these code below, hope this could help:)\r\n\r\nMy `Repository` code, The reason I give this code is that I want you to notice the **parameter type** of `findAllByCreatedDateBetween()` method is `LocalDateTime`:\r\n\r\n```java\r\npublic interface TemperatureRepository extends CrudRepository&lt;Temperature, Integer&gt; {\r\n    List&lt;Temperature&gt; findAllByCreatedDateBetween(LocalDateTime startTime, LocalDateTime endTime);\r\n}\r\n```\r\n\r\nWrite you `Controller` code like this:\r\n\r\n```java\r\n// Get data on a specific day, e.g., from `2023-04-01 00:00:00` to `2023-04-01 23:59:59`\r\n@GetMapping(&quot;/find/temperature/{date}&quot;)\r\n    public Iterable&lt;Temperature&gt; findCustomerByCreatedDate(@PathVariable LocalDate date) {\r\n        return tempRepository.findAllByCreatedDateBetween(date.atStartOfDay(),\r\n                date.atTime(23, 59, 59, 999999999));\r\n    }\r\n\r\n    @GetMapping(&quot;/find/temperature&quot;)\r\n    public Iterable&lt;Temperature&gt; findCustomerBetweenDate(@RequestParam LocalDate from, @RequestParam LocalDate to) {\r\n        return tempRepository.findAllByCreatedDateBetween(from.atStartOfDay(),\r\n                to.atTime(23, 59, 59, 999999999));\r\n    }\r\n```\r\n\r\nAnd `http url`:\r\n\r\n```\r\n# Get the data on a specific date\r\nGET http://localhost:8080/find/temperature/2023-04-02\r\n\r\n# Get the data between two dates\r\nGET http://localhost:8080/find/temperature?from=2023-04-02&amp;to=2023-04-02\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L5CkY.png","title":"How can I fetch data or records by date column in Spring Boot?","body":"<p>I'm not sure if this can solve your problems, but I retrieve data successfully with these code below, hope this could help:)</p>\n<p>My <code>Repository</code> code, The reason I give this code is that I want you to notice the <strong>parameter type</strong> of <code>findAllByCreatedDateBetween()</code> method is <code>LocalDateTime</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TemperatureRepository extends CrudRepository&lt;Temperature, Integer&gt; {\n    List&lt;Temperature&gt; findAllByCreatedDateBetween(LocalDateTime startTime, LocalDateTime endTime);\n}\n</code></pre>\n<p>Write you <code>Controller</code> code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Get data on a specific day, e.g., from `2023-04-01 00:00:00` to `2023-04-01 23:59:59`\n@GetMapping(&quot;/find/temperature/{date}&quot;)\n    public Iterable&lt;Temperature&gt; findCustomerByCreatedDate(@PathVariable LocalDate date) {\n        return tempRepository.findAllByCreatedDateBetween(date.atStartOfDay(),\n                date.atTime(23, 59, 59, 999999999));\n    }\n\n    @GetMapping(&quot;/find/temperature&quot;)\n    public Iterable&lt;Temperature&gt; findCustomerBetweenDate(@RequestParam LocalDate from, @RequestParam LocalDate to) {\n        return tempRepository.findAllByCreatedDateBetween(from.atStartOfDay(),\n                to.atTime(23, 59, 59, 999999999));\n    }\n</code></pre>\n<p>And <code>http url</code>:</p>\n<pre><code># Get the data on a specific date\nGET http://localhost:8080/find/temperature/2023-04-02\n\n# Get the data between two dates\nGET http://localhost:8080/find/temperature?from=2023-04-02&amp;to=2023-04-02\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/L5CkY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L5CkY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20466933,"reputation":111,"user_id":15018228,"display_name":"Rakhi Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680462391,"creation_date":1623672440,"question_id":67969933,"body_markdown":"Actually, I have Orders entity (table) having column and I want to filter the orders data according to createddatetime column. **Basic scenario is, when a user select any date for example: createddate is 03-06-2021 and there are 3-4 records present on that date so it would be able to display total records present on that date from mysql database.**\r\n    \r\n        @Builder.Default\r\n        @Column(updatable=false)\r\n        @JsonFormat(shape=JsonFormat.Shape.STRING,pattern=&quot;yyyy-MM-dd hh:mm:ss&quot;)\r\n        private Date createddatetime=new Date();\t\r\n      \r\nI have created function in Orders JPA repositiry like this:\r\n    \r\n        List&lt;Orders&gt; findByCreateddatetimeOrderByCreateddatetimeDesc(Date createddate);\r\n\r\nBelow is my API controller code to fetch records on particular date. But on hitting this, I am getting no response (error response). \r\n    \r\n    @RequestMapping(value = AkApiUrl.onedayorder, method = { RequestMethod.POST, RequestMethod.GET }, produces = {MediaType.APPLICATION_JSON_VALUE })\r\n    \tpublic ResponseEntity&lt;?&gt; onedayorder(HttpServletRequest request, @RequestParam(&quot;limit&quot;) int limit, @RequestParam(&quot;createddate&quot;) String createddate ) {\r\n    \t\tCustomResponse = ResponseFactory.getResponse(request);\r\n    \t\tint min = limit - 1;\r\n    \t\tint max = Constants.limitResult;\r\n    \t\ttry {\r\n    \t\t\tList&lt;Orders&gt; order = null;\r\n    \t\t\tList&lt;Orders&gt; totalorders = null;\r\n    \t\t\tPageable pageable = new PageRequest(min, max, Sort.Direction.ASC, &quot;orderid&quot;);\r\n    \t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t\t\tDate onedayorder = sdf.parse(createddate);\r\n    \t\t\tif(createddate != null &amp;&amp; createddate != &quot;&quot;) {\r\n    \t\t\t\torder = ordersdao.findByCreateddatetimeOrderByCreateddatetimeDesc(onedayorder, pageable);\r\n    \t\t\t\ttotalorders = ordersdao.findByCreateddatetimeOrderByCreateddatetimeDesc(onedayorder);\r\n    \t\t\t}else {\r\n    \t\t\t\torder = ordersdao.findAllByStatus(1, pageable);\r\n    \t\t\t\ttotalorders = ordersdao.findAllByStatus(1);\r\n    \t\t\t}\r\n    \t\t\tif (order != null) {\r\n    \t\t\t\tCustomResponse.setResponse(order);\r\n    \t\t\t\tCustomResponse.setMaxlimit(Constants.limitResult);\r\n    \t\t\t\tCustomResponse.setTotalorders(totalorders.size());\r\n    \t\t\t\tCustomResponse.setStatus(CustomStatus.OK);\r\n    \t\t\t\tCustomResponse.setStatusCode(CustomStatus.OK_CODE);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tCustomResponse.setResponse(null);\r\n    \t\t\tCustomResponse.setStatus(CustomStatus.Error);\r\n    \t\t\tCustomResponse.setStatusCode(CustomStatus.Error_CODE);\r\n    \t\t}\r\n    \t\treturn new ResponseEntity&lt;ResponseDao&gt;(CustomResponse, HttpStatus.OK);\r\n    \t}\r\n\r\nI tried @Query to create custom query using like operator, but again faced type mismatch error. **How can I fix this thing? Any suggestions would be appreciable and valuable.**\r\n\r\n\r\n\r\n[![Screenshot to show response][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lWk9C.png","title":"How can I fetch data or records by date column in Spring Boot?","body":"<p>Actually, I have Orders entity (table) having column and I want to filter the orders data according to createddatetime column. <strong>Basic scenario is, when a user select any date for example: createddate is 03-06-2021 and there are 3-4 records present on that date so it would be able to display total records present on that date from mysql database.</strong></p>\n<pre><code>    @Builder.Default\n    @Column(updatable=false)\n    @JsonFormat(shape=JsonFormat.Shape.STRING,pattern=&quot;yyyy-MM-dd hh:mm:ss&quot;)\n    private Date createddatetime=new Date();    \n  \n</code></pre>\n<p>I have created function in Orders JPA repositiry like this:</p>\n<pre><code>    List&lt;Orders&gt; findByCreateddatetimeOrderByCreateddatetimeDesc(Date createddate);\n</code></pre>\n<p>Below is my API controller code to fetch records on particular date. But on hitting this, I am getting no response (error response).</p>\n<pre><code>@RequestMapping(value = AkApiUrl.onedayorder, method = { RequestMethod.POST, RequestMethod.GET }, produces = {MediaType.APPLICATION_JSON_VALUE })\n    public ResponseEntity&lt;?&gt; onedayorder(HttpServletRequest request, @RequestParam(&quot;limit&quot;) int limit, @RequestParam(&quot;createddate&quot;) String createddate ) {\n        CustomResponse = ResponseFactory.getResponse(request);\n        int min = limit - 1;\n        int max = Constants.limitResult;\n        try {\n            List&lt;Orders&gt; order = null;\n            List&lt;Orders&gt; totalorders = null;\n            Pageable pageable = new PageRequest(min, max, Sort.Direction.ASC, &quot;orderid&quot;);\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            Date onedayorder = sdf.parse(createddate);\n            if(createddate != null &amp;&amp; createddate != &quot;&quot;) {\n                order = ordersdao.findByCreateddatetimeOrderByCreateddatetimeDesc(onedayorder, pageable);\n                totalorders = ordersdao.findByCreateddatetimeOrderByCreateddatetimeDesc(onedayorder);\n            }else {\n                order = ordersdao.findAllByStatus(1, pageable);\n                totalorders = ordersdao.findAllByStatus(1);\n            }\n            if (order != null) {\n                CustomResponse.setResponse(order);\n                CustomResponse.setMaxlimit(Constants.limitResult);\n                CustomResponse.setTotalorders(totalorders.size());\n                CustomResponse.setStatus(CustomStatus.OK);\n                CustomResponse.setStatusCode(CustomStatus.OK_CODE);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            CustomResponse.setResponse(null);\n            CustomResponse.setStatus(CustomStatus.Error);\n            CustomResponse.setStatusCode(CustomStatus.Error_CODE);\n        }\n        return new ResponseEntity&lt;ResponseDao&gt;(CustomResponse, HttpStatus.OK);\n    }\n</code></pre>\n<p>I tried @Query to create custom query using like operator, but again faced type mismatch error. <strong>How can I fix this thing? Any suggestions would be appreciable and valuable.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/lWk9C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWk9C.png\" alt=\"Screenshot to show response\" /></a></p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":1,"creation_date":1680455896,"post_id":75913406,"comment_id":133897772,"body_markdown":"Where are you getting the consumer lag value from? Through the Kafka UI? Or are you measuring it yourself?","body":"Where are you getting the consumer lag value from? Through the Kafka UI? Or are you measuring it yourself?"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1680456544,"post_id":75913406,"comment_id":133897881,"body_markdown":"I have put a logger on producer and consumer side.So calculating the time difference of the two","body":"I have put a logger on producer and consumer side.So calculating the time difference of the two"},{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":1,"creation_date":1680458246,"post_id":75913406,"comment_id":133898102,"body_markdown":"That may not be the best way; the value you measure would include the time required for the Spring application to produce the message and read it from the topic. You should read the timestamp field from the [ConsumerRecord](https://kafka.apache.org/21/javadoc/org/apache/kafka/clients/consumer/ConsumerRecord.html) and set the [message.timestamp.type](https://kafka.apache.org/documentation/#topicconfigs_message.timestamp.type) property to LogAppendTime. This will give you the time when the message reached Kafka.","body":"That may not be the best way; the value you measure would include the time required for the Spring application to produce the message and read it from the topic. You should read the timestamp field from the <a href=\"https://kafka.apache.org/21/javadoc/org/apache/kafka/clients/consumer/ConsumerRecord.html\" rel=\"nofollow noreferrer\">ConsumerRecord</a> and set the <a href=\"https://kafka.apache.org/documentation/#topicconfigs_message.timestamp.type\" rel=\"nofollow noreferrer\">message.timestamp.type</a> property to LogAppendTime. This will give you the time when the message reached Kafka."},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1680460075,"post_id":75913406,"comment_id":133898398,"body_markdown":"@TylerLiu But i am storing the timestamp after producing the message.And at start when it comes to the consumer.Also we see that event processing is happening in only one server.What about that?","body":"@TylerLiu But i am storing the timestamp after producing the message.And at start when it comes to the consumer.Also we see that event processing is happening in only one server.What about that?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1680461947,"post_id":75913406,"comment_id":133898696,"body_markdown":"1) Kafka producers do not immediately send to Kafka. There is a synchronous buffer flush before ever reaching the broker, so no consumer will be immediate consuming 2) Please show your code as a [mcve]","body":"1) Kafka producers do not immediately send to Kafka. There is a synchronous buffer flush before ever reaching the broker, so no consumer will be immediate consuming 2) Please show your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680461878,"creation_date":1680454588,"question_id":75913406,"body_markdown":"Hi we are using spring Kafka for producing and consuming messages.The topic has 6 partitions.On doing a load testing with 500,1000 messages being posted to the topic we see that the consumer receives it at a lag of 1 sec or more.\r\nAlso our application is deployed in two servers.So we have kept the concurrency of the Consumer to be 3.So 3 consumers on one server and 3 on other.We see two problem here.\r\n\r\n1) We observe a lag of 1 seconds or more for each message.This is observed even on sending 1 message from producer to consumer.\r\n2) On seeing the splunk logs ,we observe that event processing is happening on only one server not both.Means consumer logs are seen on one server only.\r\n\r\nWe are not setting any specific producer and consumer properties.So consumer and producer should be using the default configuration.Also we have verified that the producer distributes the load to all partitions.\r\n\r\nAny help or suggestion in this regard is highly appreciable.\r\n\r\nWe even manually changed the consumer and producer properties as shown in image attached.But no luck.","title":"Spring Kafka Producer to Consumer lag","body":"<p>Hi we are using spring Kafka for producing and consuming messages.The topic has 6 partitions.On doing a load testing with 500,1000 messages being posted to the topic we see that the consumer receives it at a lag of 1 sec or more.\nAlso our application is deployed in two servers.So we have kept the concurrency of the Consumer to be 3.So 3 consumers on one server and 3 on other.We see two problem here.</p>\n<ol>\n<li>We observe a lag of 1 seconds or more for each message.This is observed even on sending 1 message from producer to consumer.</li>\n<li>On seeing the splunk logs ,we observe that event processing is happening on only one server not both.Means consumer logs are seen on one server only.</li>\n</ol>\n<p>We are not setting any specific producer and consumer properties.So consumer and producer should be using the default configuration.Also we have verified that the producer distributes the load to all partitions.</p>\n<p>Any help or suggestion in this regard is highly appreciable.</p>\n<p>We even manually changed the consumer and producer properties as shown in image attached.But no luck.</p>\n"},{"tags":["java","logging","log4j2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680428104,"post_id":75911123,"comment_id":133893962,"body_markdown":"I think this page explains it well https://logging.apache.org/log4j/2.x/manual/api.html","body":"I think this page explains it well <a href=\"https://logging.apache.org/log4j/2.x/manual/api.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/api.html</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680428698,"post_id":75911123,"comment_id":133894032,"body_markdown":"yup, you&#39;re right. I must have missed that line which says string construction will only occur if debug is enabled.","body":"yup, you&#39;re right. I must have missed that line which says string construction will only occur if debug is enabled."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680428083,"creation_date":1680428083,"answer_id":75911188,"question_id":75911123,"body_markdown":"When constructing the log message, you optimized using StringBuilder however the readability of your code went down. Even more, by configuration of the log level the log message may be discarded completely, which means having constructed the String was a total waste of time.\r\n\r\nYou can apply guard clauses like\r\n\r\n    //random other code\r\n\r\n    if (LOGGER.isDebugEnabled()) {\r\n        StringBuilder globalSB = new StringBuilder();\r\n\r\n         //place that needs to be logged\r\n         globalSB.setLength(0);\r\n         globalSB.append(&quot;something&quot;).append(&quot;other something&quot;).().().().append(&quot;end&quot;);  //&lt;--imagine theres a lot of appending of variables/objects etc\r\n         LOGGER.info(globalSB.toString());\r\n    }\r\n\r\nbut that adds even more distracting code in your source.\r\n\r\nWith parameterized logging all this is sent into the logging library.\r\nWhile log4j 1.x did not know about parameterized logging, both log4j2 and slf4j do know.","title":"Log4j2 logging - guard clauses or parameterized logging?","body":"<p>When constructing the log message, you optimized using StringBuilder however the readability of your code went down. Even more, by configuration of the log level the log message may be discarded completely, which means having constructed the String was a total waste of time.</p>\n<p>You can apply guard clauses like</p>\n<pre><code>//random other code\n\nif (LOGGER.isDebugEnabled()) {\n    StringBuilder globalSB = new StringBuilder();\n\n     //place that needs to be logged\n     globalSB.setLength(0);\n     globalSB.append(&quot;something&quot;).append(&quot;other something&quot;).().().().append(&quot;end&quot;);  //&lt;--imagine theres a lot of appending of variables/objects etc\n     LOGGER.info(globalSB.toString());\n}\n</code></pre>\n<p>but that adds even more distracting code in your source.</p>\n<p>With parameterized logging all this is sent into the logging library.\nWhile log4j 1.x did not know about parameterized logging, both log4j2 and slf4j do know.</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680461064,"creation_date":1680460748,"answer_id":75913953,"question_id":75911123,"body_markdown":"Both SLF4J and Log4j 2.x API:\r\n\r\n * support **parameterized logging**. This was actually one of the features introduces in SLF4J that was missing in the previous APIs (Jakarta Commons Logging, `java.util.logging` and Log4j 1.x),\r\n * **string concatenation** is not performed if the message level is not specific enough,\r\n * **string concatenation** is not performed unless an appender is configured to send the message (appenders can also have filters). If you use Log4j 2.x Core as implementation (with either API) and garbage-free logging, **no concatenated string** is actually created: the pattern and the parameters are directly appended to a per-thread `StringBuilder`,\r\n * if the arguments are `Supplier`s, they are evaluated only when the message is logged. The ability to use suppliers is available since Log4j 2.4 (in both `Logger` and `LogBuilder`) and SLF4J 2.0 (only in `LoggingEventBuilder`).\r\n\r\nRegarding the `if (logger.isDebugEnabled())` guard clauses: they are not necessary and can actually alter your logging logic.\r\n\r\nImagine you use a marker for all your network related messages:\r\n\r\n```lang-java\r\nprivate static final Marker NET = MarkerManager.getMarker(&quot;NET&quot;);\r\n```\r\n\r\nBoth Logback and Log4j 2.x Core allow you to log everything at least as specific as `INFO` or containing the `NET` marker (this requires turbofilters in Logback and global filters in Log4j 2.x Core). With such a configuration the following statement will **not** log anything (`DEBUG` is disabled):\r\n\r\n```lang-java\r\nif (logger.isDebugEnabled()) {\r\n    logger.debug(NET, &quot;Receiving incoming message: {}&quot;, message);\r\n}\r\n```\r\n\r\nwhile the following message will be logged (`NET` messages should be logged):\r\n\r\n```lang-java\r\nlogger.debug(NET, &quot;Receiving incoming message: {}&quot;, message);\r\n```","title":"Log4j2 logging - guard clauses or parameterized logging?","body":"<p>Both SLF4J and Log4j 2.x API:</p>\n<ul>\n<li>support <strong>parameterized logging</strong>. This was actually one of the features introduces in SLF4J that was missing in the previous APIs (Jakarta Commons Logging, <code>java.util.logging</code> and Log4j 1.x),</li>\n<li><strong>string concatenation</strong> is not performed if the message level is not specific enough,</li>\n<li><strong>string concatenation</strong> is not performed unless an appender is configured to send the message (appenders can also have filters). If you use Log4j 2.x Core as implementation (with either API) and garbage-free logging, <strong>no concatenated string</strong> is actually created: the pattern and the parameters are directly appended to a per-thread <code>StringBuilder</code>,</li>\n<li>if the arguments are <code>Supplier</code>s, they are evaluated only when the message is logged. The ability to use suppliers is available since Log4j 2.4 (in both <code>Logger</code> and <code>LogBuilder</code>) and SLF4J 2.0 (only in <code>LoggingEventBuilder</code>).</li>\n</ul>\n<p>Regarding the <code>if (logger.isDebugEnabled())</code> guard clauses: they are not necessary and can actually alter your logging logic.</p>\n<p>Imagine you use a marker for all your network related messages:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Marker NET = MarkerManager.getMarker(&quot;NET&quot;);\n</code></pre>\n<p>Both Logback and Log4j 2.x Core allow you to log everything at least as specific as <code>INFO</code> or containing the <code>NET</code> marker (this requires turbofilters in Logback and global filters in Log4j 2.x Core). With such a configuration the following statement will <strong>not</strong> log anything (<code>DEBUG</code> is disabled):</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (logger.isDebugEnabled()) {\n    logger.debug(NET, &quot;Receiving incoming message: {}&quot;, message);\n}\n</code></pre>\n<p>while the following message will be logged (<code>NET</code> messages should be logged):</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.debug(NET, &quot;Receiving incoming message: {}&quot;, message);\n</code></pre>\n"}],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680461064,"creation_date":1680427378,"question_id":75911123,"body_markdown":"I went through the logging in my application and found that a lot of it was very messy because I used StringBuilders with appends and guard clauses to check whether or not to build the string.\r\n\r\n    ie \r\n    StringBuilder globalSB = new StringBuilder();\r\n    //random other code\r\n    \r\n    //place that needs to be logged\r\n    globalSB.setLength(0);\r\n    globalSB.append(&quot;something&quot;).append(&quot;other something&quot;).().().().append(&quot;end&quot;);  //&lt;--imagine theres a lot of appending of variables/objects etc\r\n    LOGGER.info(globalSB.toString());\r\n\r\nI recently came across this question and [answer](https://stackoverflow.com/a/58699969/16034206) that suggests to use parameterized logging, though its not clear if its slf4j or log4j. Many other answers suggest to directly use slf4j,since it will check if the string concatenation needs to happen (logging level) before actually building the string; or to just directly use guard clauses regardless since the overhead of checking the debug level is insignificant.\r\n\r\nI m kinda looking to find out what log4j2 *can* do instead of what slf4j *can* do, so I checked some other question/answer/comments and found that some suggest the newer versions of log4j2 support behavior similar to that of slf4j and the lazy(?) string building (using parameterized logging) as well as Java 8 lambda support for lazy logging. ie [1](https://stackoverflow.com/q/48586887/16034206), [2](https://stackoverflow.com/a/50144361/16034206). \r\n\r\nIs it mandatory to use guard clauses (then use a stringbuilder etc), or does parameterized logging with lambdas for expensive method calls also provide same behavior (does not create the string unless log level dictates it is needed)? I m hoping to get an answer, because many of the other posts seems to have divided opinions.\r\nie \r\n\r\n    byte[] rawIp; //assume it has some value\r\n    int port;  //assume it has some value\r\n    String msgReceived;//assume it has some value\r\n\r\n    LOGGER.debug(&quot;{},{} sent {}&quot;, ()-&gt;rawIp.convertToString(), port, msgReceived);","title":"Log4j2 logging - guard clauses or parameterized logging?","body":"<p>I went through the logging in my application and found that a lot of it was very messy because I used StringBuilders with appends and guard clauses to check whether or not to build the string.</p>\n<pre><code>ie \nStringBuilder globalSB = new StringBuilder();\n//random other code\n\n//place that needs to be logged\nglobalSB.setLength(0);\nglobalSB.append(&quot;something&quot;).append(&quot;other something&quot;).().().().append(&quot;end&quot;);  //&lt;--imagine theres a lot of appending of variables/objects etc\nLOGGER.info(globalSB.toString());\n</code></pre>\n<p>I recently came across this question and <a href=\"https://stackoverflow.com/a/58699969/16034206\">answer</a> that suggests to use parameterized logging, though its not clear if its slf4j or log4j. Many other answers suggest to directly use slf4j,since it will check if the string concatenation needs to happen (logging level) before actually building the string; or to just directly use guard clauses regardless since the overhead of checking the debug level is insignificant.</p>\n<p>I m kinda looking to find out what log4j2 <em>can</em> do instead of what slf4j <em>can</em> do, so I checked some other question/answer/comments and found that some suggest the newer versions of log4j2 support behavior similar to that of slf4j and the lazy(?) string building (using parameterized logging) as well as Java 8 lambda support for lazy logging. ie <a href=\"https://stackoverflow.com/q/48586887/16034206\">1</a>, <a href=\"https://stackoverflow.com/a/50144361/16034206\">2</a>.</p>\n<p>Is it mandatory to use guard clauses (then use a stringbuilder etc), or does parameterized logging with lambdas for expensive method calls also provide same behavior (does not create the string unless log level dictates it is needed)? I m hoping to get an answer, because many of the other posts seems to have divided opinions.\nie</p>\n<pre><code>byte[] rawIp; //assume it has some value\nint port;  //assume it has some value\nString msgReceived;//assume it has some value\n\nLOGGER.debug(&quot;{},{} sent {}&quot;, ()-&gt;rawIp.convertToString(), port, msgReceived);\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","android-activity"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1680460758,"post_id":75913940,"comment_id":133898524,"body_markdown":"You have the wrong namespace for the `tools` prefix. The second line should be `xmlns:tools=&quot;http://schemas.android.com/tools&quot;`.","body":"You have the wrong namespace for the <code>tools</code> prefix. The second line should be <code>xmlns:tools=&quot;http:&#47;&#47;schemas.android.com&#47;tools&quot;</code>."}],"owner":{"account_id":28196503,"reputation":1,"user_id":21551044,"display_name":"Sahir Rajput"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680460642,"creation_date":1680460642,"question_id":75913940,"body_markdown":"\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n   xmlns:tools=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/abs&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/skip&quot;\r\n        android:text=&quot;SKIP&quot;\r\n        android:textColor=&quot;@color/design_default_color_background&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_margin=&quot;25dp&quot;\r\n        android:gravity=&quot;end&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/signin&quot;\r\n        android:text=&quot;Sign in&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;35sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_margin=&quot;50dp&quot;\r\n        android:gravity=&quot;center&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/username&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/signin&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:background=&quot;#30ffffff&quot;\r\n        android:hint=&quot;USERNAME&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:drawableStart=&quot;@drawable/ic_baseline_person_24&quot;\r\n        android:drawablePadding=&quot;20dp&quot;/&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/username&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:background=&quot;#30ffffff&quot;\r\n        android:hint=&quot;PASSWORD&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        android:textSize=&quot;25dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:drawableLeft=&quot;@drawable/ic_baseline_lock_24&quot;\r\n        android:drawablePadding=&quot;20dp&quot;\r\n        android:inputType=&quot;textPassword&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/loginbtn&quot;\r\n        android:layout_below=&quot;@id/password&quot;\r\n        android:text=&quot;LOGIN&quot;\r\n        tools:backgroundTint=&quot;@color/design_default_color_secondary_variant&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_margin=&quot;20dp&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/forgotpass&quot;\r\n        android:layout_below=&quot;@id/loginbtn&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:text=&quot;FORGOT PASSWORD?&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:background=&quot;#30ffffff&quot;\r\n        android:padding=&quot;20dp&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/signup&quot;\r\n        android:layout_below=&quot;@id/forgotpass&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:text=&quot;SIGN UP&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:background=&quot;#30ffffff&quot;\r\n        android:padding=&quot;20dp&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/others&quot;\r\n        android:text=&quot;OR SIGN IN WITH&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:layout_below=&quot;@id/signup&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:gravity=&quot;center&quot;&gt;\r\n            &lt;ImageView\r\n                android:layout_width=&quot;48dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:layout_margin=&quot;20dp&quot;\r\n                android:src=&quot;@drawable/g&quot;/&gt;\r\n            &lt;ImageView\r\n                android:layout_width=&quot;48dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:layout_margin=&quot;20dp&quot;\r\n                android:src=&quot;@drawable/f&quot;/&gt;\r\n            &lt;ImageView\r\n               ` android:layout_width=&quot;58dp&quot;\r\n                android:layout_height=&quot;78dp&quot;\r\n                android:layout_margin=&quot;20dp&quot;\r\n                android:src=&quot;@drawable/tw&quot;/&gt;`\r\n        &lt;/LinearLayout&gt;\r\n```\r\n&lt;/RelativeLayout&gt;\r\n``\r\n\r\n\r\n\r\n\r\n\r\n[error](https://i.stack.imgur.com/ODQoy.png)`\r\n\r\nhow to solve these errors?ERROR:C:\\Users\\afrin\\AndroidStudioProjects\\MyloginApplication\\app\\src\\main\\res\\layout\\activity_main.xml:\r\n2: AAPT: error: attribute context (aka com.example.myloginapplication:context) not found. \r\n1\r\n\r\n\r\nI have no idea why but MyLoginApplication will not build and run. I cannot move onto  next stage of making my app but I cannot move on as it keeps giving me this error.","title":"2: AAPT: error: attribute context (aka com.example.myloginapplication:context) not found","body":"<p>`</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:tools=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/abs&quot;\n    tools:context=&quot;.MainActivity&quot; &gt;\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/skip&quot;\n        android:text=&quot;SKIP&quot;\n        android:textColor=&quot;@color/design_default_color_background&quot;\n        android:textSize=&quot;25sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_margin=&quot;25dp&quot;\n        android:gravity=&quot;end&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/signin&quot;\n        android:text=&quot;Sign in&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;35sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_margin=&quot;50dp&quot;\n        android:gravity=&quot;center&quot;/&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/username&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/signin&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:background=&quot;#30ffffff&quot;\n        android:hint=&quot;USERNAME&quot;\n        android:padding=&quot;20dp&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        android:textSize=&quot;25sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:drawableStart=&quot;@drawable/ic_baseline_person_24&quot;\n        android:drawablePadding=&quot;20dp&quot;/&gt;\n    &lt;EditText\n        android:id=&quot;@+id/password&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/username&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:background=&quot;#30ffffff&quot;\n        android:hint=&quot;PASSWORD&quot;\n        android:padding=&quot;20dp&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        android:textSize=&quot;25dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:drawableLeft=&quot;@drawable/ic_baseline_lock_24&quot;\n        android:drawablePadding=&quot;20dp&quot;\n        android:inputType=&quot;textPassword&quot;/&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/loginbtn&quot;\n        android:layout_below=&quot;@id/password&quot;\n        android:text=&quot;LOGIN&quot;\n        tools:backgroundTint=&quot;@color/design_default_color_secondary_variant&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_margin=&quot;20dp&quot;\n        /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/forgotpass&quot;\n        android:layout_below=&quot;@id/loginbtn&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:text=&quot;FORGOT PASSWORD?&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:background=&quot;#30ffffff&quot;\n        android:padding=&quot;20dp&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/signup&quot;\n        android:layout_below=&quot;@id/forgotpass&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:text=&quot;SIGN UP&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textSize=&quot;20dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:background=&quot;#30ffffff&quot;\n        android:padding=&quot;20dp&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/others&quot;\n        android:text=&quot;OR SIGN IN WITH&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:layout_below=&quot;@id/signup&quot;\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentBottom=&quot;true&quot;\n            android:gravity=&quot;center&quot;&gt;\n            &lt;ImageView\n                android:layout_width=&quot;48dp&quot;\n                android:layout_height=&quot;48dp&quot;\n                android:layout_margin=&quot;20dp&quot;\n                android:src=&quot;@drawable/g&quot;/&gt;\n            &lt;ImageView\n                android:layout_width=&quot;48dp&quot;\n                android:layout_height=&quot;48dp&quot;\n                android:layout_margin=&quot;20dp&quot;\n                android:src=&quot;@drawable/f&quot;/&gt;\n            &lt;ImageView\n               ` android:layout_width=&quot;58dp&quot;\n                android:layout_height=&quot;78dp&quot;\n                android:layout_margin=&quot;20dp&quot;\n                android:src=&quot;@drawable/tw&quot;/&gt;`\n        &lt;/LinearLayout&gt;\n</code></pre>\n\n``\n<p><a href=\"https://i.stack.imgur.com/ODQoy.png\" rel=\"nofollow noreferrer\">error</a>`</p>\n<p>how to solve these errors?ERROR:C:\\Users\\afrin\\AndroidStudioProjects\\MyloginApplication\\app\\src\\main\\res\\layout\\activity_main.xml:\n2: AAPT: error: attribute context (aka com.example.myloginapplication:context) not found.\n1</p>\n<p>I have no idea why but MyLoginApplication will not build and run. I cannot move onto  next stage of making my app but I cannot move on as it keeps giving me this error.</p>\n"},{"tags":["java","spring","git","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1662553680,"post_id":73635009,"comment_id":130031934,"body_markdown":"What version are you using?","body":"What version are you using?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1662554932,"post_id":73635009,"comment_id":130032437,"body_markdown":"@spencergibb Spring Boot version is 2.7.3 and Github version is 2.37.3.","body":"@spencergibb Spring Boot version is 2.7.3 and Github version is 2.37.3."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662578152,"post_id":73635009,"comment_id":130040865,"body_markdown":"If I’m not wrong I’ve faced the same issue. You have to define the label also in the client. The property is `spring.cloud.config.label` and you have to hit `http://localhost:8888/limit-service/default/master`","body":"If I’m not wrong I’ve faced the same issue. You have to define the label also in the client. The property is <code>spring.cloud.config.label</code> and you have to hit <code>http:&#47;&#47;localhost:8888&#47;limit-service&#47;default&#47;master</code>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1662627705,"post_id":73635009,"comment_id":130051024,"body_markdown":"@Pp88 How should I define `spring.cloud.config.label` ? Is it possible to write the answer if you don&#39;t mind?","body":"@Pp88 How should I define <code>spring.cloud.config.label</code> ? Is it possible to write the answer if you don&#39;t mind?"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1662631253,"post_id":73635009,"comment_id":130052357,"body_markdown":"When you hit `http://localhost:8888/limit-service/default/master` are the properties downloaded? do you have in your master branch a file named `limit-service-default.yaml`?","body":"When you hit <code>http:&#47;&#47;localhost:8888&#47;limit-service&#47;default&#47;master</code> are the properties downloaded? do you have in your master branch a file named <code>limit-service-default.yaml</code>?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675020150,"post_id":73635009,"comment_id":132833713,"body_markdown":"@spencergibb I have a same issue. Have you ever fixed it? Here is my link : https://stackoverflow.com/questions/75277601/spring-boot-microservices-config-server-cannot-fetch-property-file-adding-pro","body":"@spencergibb I have a same issue. Have you ever fixed it? Here is my link : <a href=\"https://stackoverflow.com/questions/75277601/spring-boot-microservices-config-server-cannot-fetch-property-file-adding-pro\" title=\"spring boot microservices config server cannot fetch property file adding pro\">stackoverflow.com/questions/75277601/&hellip;</a>"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680459948,"creation_date":1662551456,"question_id":73635009,"body_markdown":"I have a problem about getting properties file from Git.\r\n\r\nI&#39;ve done some settings for defining git local repo shown below.\r\n\r\n1. Open Git Bash\r\n2. mkdir git-localconfig-repo\r\n3. cd git-localconfig-repo\r\n4. git init\r\n5. git add\r\n6. git commit -m &quot;Message&quot;\r\n7. git branch -&gt; master\r\n\r\ngit-localconfig-repo is located under C:/Users/Username/\r\n\r\nHere is the **application.properties** file of **Spring Cloud Config** shown below\r\n\r\n    spring.application.name=spring-cloud-config-server\r\n    server.port=8888\r\n    spring.cloud.config.server.git.uri=file:///C:/Users/Username/git-localconfig-repo (I use Windows)\r\n\r\nHere is the another services&#39; properties file shown below\r\n\r\n    spring.config.import=optional:configserver:http://localhost:8888\r\n    spring.application.name=limits-service\r\n\r\nWhen I tried to send a request to `http://localhost:8888/limit-service/default` , I got this json result shown below.\r\n\r\n    {&quot;name&quot;: &quot;limit-service&quot;,&quot;profiles&quot;: [&quot;default&quot;],&quot;label&quot;: null,&quot;version&quot;: &quot;5161fd2bf848e99e7447f4bd95f4dcf914f97066&quot;,&quot;state&quot;: null,&quot;propertySources&quot;: []}\r\n\r\nHere are errors appearing on the console in Spring Cloud Config shown below.\r\n\r\n    org.springframework.cloud.config.server.environment.NoSuchLabelException: No such label: main\r\n    Caused by: org.eclipse.jgit.api.errors.RefNotFoundException: Ref main cannot be resolved\r\n\r\nI defined `spring.cloud.config.server.git.default-label=master` or `spring.cloud.config.server.git.default-label=main` in **application.properties** file of Spring Cloud Config but nothing changed.\r\n\r\nI defined **master** and then restart Config server and then restart limit service\r\n\r\nHere is the **application.properties** file of **Spring Cloud Config** shown below\r\n\r\n    spring.application.name=spring-cloud-config-server\r\n    server.port=8888\r\n    spring.cloud.config.server.git.default-label=master\r\n    spring.cloud.config.server.git.uri=file:///C:/Users/Noyan/git-localconfig-repo\r\n\r\nHere is the console result shown below.\r\n\r\n    2022-09-07 14:16:31.110  WARN 2096 --- [nio-8888-exec-1] .c.s.e.MultipleJGitEnvironmentRepository : Could not merge remote for master remote: null\r\n    2022-09-07 14:16:31.134  INFO 2096 --- [nio-8888-exec-1] o.s.c.c.s.e.NativeEnvironmentRepository  : Adding property source: Config resource &#39;file [C:\\Users\\Noyan\\git-localconfig-repo\\limits-service.properties]&#39; via location &#39;file:/C:/Users/Noyan/git-localconfig-repo/&#39;\r\n\r\nWhen I tried to send a request to `http://localhost:8888/limit-service/default` , I got this json result shown below.\r\n\r\n    {\r\n        &quot;name&quot;: &quot;limit-service&quot;,\r\n        &quot;profiles&quot;: [\r\n            &quot;default&quot;\r\n        ],\r\n        &quot;label&quot;: null,\r\n        &quot;version&quot;: &quot;5161fd2bf848e99e7447f4bd95f4dcf914f97066&quot;,\r\n        &quot;state&quot;: null,\r\n        &quot;propertySources&quot;: []\r\n    }\r\n\r\nHere is the console result shown below.\r\n\r\n    2022-09-07 14:16:31.110  WARN 2096 --- [nio-8888-exec-1] .c.s.e.MultipleJGitEnvironmentRepository : Could not merge remote for master remote: null\r\n    2022-09-07 14:16:31.134  INFO 2096 --- [nio-8888-exec-1] o.s.c.c.s.e.NativeEnvironmentRepository  : Adding property source: Config resource &#39;file [C:\\Users\\Noyan\\git-localconfig-repo\\limits-service.properties]&#39; via location &#39;file:/C:/Users/Noyan/git-localconfig-repo/&#39;\r\n    2022-09-07 14:18:18.698  WARN 2096 --- [nio-8888-exec-6] .c.s.e.MultipleJGitEnvironmentRepository : Could not merge remote for master remote: null\r\n\r\n\r\nHow can I fix it?","title":"Spring Cloud Config Server - Cannot detect Git Local File","body":"<p>I have a problem about getting properties file from Git.</p>\n<p>I've done some settings for defining git local repo shown below.</p>\n<ol>\n<li>Open Git Bash</li>\n<li>mkdir git-localconfig-repo</li>\n<li>cd git-localconfig-repo</li>\n<li>git init</li>\n<li>git add</li>\n<li>git commit -m &quot;Message&quot;</li>\n<li>git branch -&gt; master</li>\n</ol>\n<p>git-localconfig-repo is located under C:/Users/Username/</p>\n<p>Here is the <strong>application.properties</strong> file of <strong>Spring Cloud Config</strong> shown below</p>\n<pre><code>spring.application.name=spring-cloud-config-server\nserver.port=8888\nspring.cloud.config.server.git.uri=file:///C:/Users/Username/git-localconfig-repo (I use Windows)\n</code></pre>\n<p>Here is the another services' properties file shown below</p>\n<pre><code>spring.config.import=optional:configserver:http://localhost:8888\nspring.application.name=limits-service\n</code></pre>\n<p>When I tried to send a request to <code>http://localhost:8888/limit-service/default</code> , I got this json result shown below.</p>\n<pre><code>{&quot;name&quot;: &quot;limit-service&quot;,&quot;profiles&quot;: [&quot;default&quot;],&quot;label&quot;: null,&quot;version&quot;: &quot;5161fd2bf848e99e7447f4bd95f4dcf914f97066&quot;,&quot;state&quot;: null,&quot;propertySources&quot;: []}\n</code></pre>\n<p>Here are errors appearing on the console in Spring Cloud Config shown below.</p>\n<pre><code>org.springframework.cloud.config.server.environment.NoSuchLabelException: No such label: main\nCaused by: org.eclipse.jgit.api.errors.RefNotFoundException: Ref main cannot be resolved\n</code></pre>\n<p>I defined <code>spring.cloud.config.server.git.default-label=master</code> or <code>spring.cloud.config.server.git.default-label=main</code> in <strong>application.properties</strong> file of Spring Cloud Config but nothing changed.</p>\n<p>I defined <strong>master</strong> and then restart Config server and then restart limit service</p>\n<p>Here is the <strong>application.properties</strong> file of <strong>Spring Cloud Config</strong> shown below</p>\n<pre><code>spring.application.name=spring-cloud-config-server\nserver.port=8888\nspring.cloud.config.server.git.default-label=master\nspring.cloud.config.server.git.uri=file:///C:/Users/Noyan/git-localconfig-repo\n</code></pre>\n<p>Here is the console result shown below.</p>\n<pre><code>2022-09-07 14:16:31.110  WARN 2096 --- [nio-8888-exec-1] .c.s.e.MultipleJGitEnvironmentRepository : Could not merge remote for master remote: null\n2022-09-07 14:16:31.134  INFO 2096 --- [nio-8888-exec-1] o.s.c.c.s.e.NativeEnvironmentRepository  : Adding property source: Config resource 'file [C:\\Users\\Noyan\\git-localconfig-repo\\limits-service.properties]' via location 'file:/C:/Users/Noyan/git-localconfig-repo/'\n</code></pre>\n<p>When I tried to send a request to <code>http://localhost:8888/limit-service/default</code> , I got this json result shown below.</p>\n<pre><code>{\n    &quot;name&quot;: &quot;limit-service&quot;,\n    &quot;profiles&quot;: [\n        &quot;default&quot;\n    ],\n    &quot;label&quot;: null,\n    &quot;version&quot;: &quot;5161fd2bf848e99e7447f4bd95f4dcf914f97066&quot;,\n    &quot;state&quot;: null,\n    &quot;propertySources&quot;: []\n}\n</code></pre>\n<p>Here is the console result shown below.</p>\n<pre><code>2022-09-07 14:16:31.110  WARN 2096 --- [nio-8888-exec-1] .c.s.e.MultipleJGitEnvironmentRepository : Could not merge remote for master remote: null\n2022-09-07 14:16:31.134  INFO 2096 --- [nio-8888-exec-1] o.s.c.c.s.e.NativeEnvironmentRepository  : Adding property source: Config resource 'file [C:\\Users\\Noyan\\git-localconfig-repo\\limits-service.properties]' via location 'file:/C:/Users/Noyan/git-localconfig-repo/'\n2022-09-07 14:18:18.698  WARN 2096 --- [nio-8888-exec-6] .c.s.e.MultipleJGitEnvironmentRepository : Could not merge remote for master remote: null\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","math","arraylist","methods","graph"],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680459296,"creation_date":1680459296,"answer_id":75913817,"question_id":75913756,"body_markdown":"It looks like your `sub` method is intended to compute *a*&lt;sub&gt;0&lt;/sub&gt;*x*&lt;sup&gt;*n*&lt;/sup&gt;&amp;nbsp;+&amp;nbsp;*a*&lt;sub&gt;1&lt;/sub&gt;*x*&lt;sup&gt;*n*−1&lt;/sup&gt;&amp;nbsp;+&amp;nbsp;&amp;hellip;&amp;nbsp;+*a*&lt;sub&gt;*n*−1&lt;/sub&gt;*x*&amp;nbsp;+&amp;nbsp;*a*&lt;sub&gt;*n*&lt;/sub&gt;; do I have that right? If so, then &amp;mdash; that&#39;s not what you&#39;ve implemented. You&#39;ve put your coefficients *a*&lt;sub&gt;*i*&lt;/sub&gt; *inside* the call to `Math.pow`, so you&#39;re computing (*a*&lt;sub&gt;*i*&lt;/sub&gt;*x*)&lt;sup&gt;*n*−*i*&lt;/sup&gt; instead of *a*&lt;sub&gt;*i*&lt;/sub&gt;(*x*&lt;sup&gt;*n*−*i*&lt;/sup&gt;).\r\n\r\nThere may be other problems as well; that&#39;s just one that jumped out at me while trying to figure out what you&#39;re trying to do. Eric Lippert has written a very helpful blog post, [&quot;How to debug small programs&quot;](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/), that can help you find and fix them all. :-)","title":"I am making a graphing method and the y-Value keeps getting flipped","body":"<p>It looks like your <code>sub</code> method is intended to compute <em>a</em><sub>0</sub><em>x</em><sup><em>n</em></sup> + <em>a</em><sub>1</sub><em>x</em><sup><em>n</em>−1</sup> + … +<em>a</em><sub><em>n</em>−1</sub><em>x</em> + <em>a</em><sub><em>n</em></sub>; do I have that right? If so, then — that's not what you've implemented. You've put your coefficients <em>a</em><sub><em>i</em></sub> <em>inside</em> the call to <code>Math.pow</code>, so you're computing (<em>a</em><sub><em>i</em></sub><em>x</em>)<sup><em>n</em>−<em>i</em></sup> instead of <em>a</em><sub><em>i</em></sub>(<em>x</em><sup><em>n</em>−<em>i</em></sup>).</p>\n<p>There may be other problems as well; that's just one that jumped out at me while trying to figure out what you're trying to do. Eric Lippert has written a very helpful blog post, <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">&quot;How to debug small programs&quot;</a>, that can help you find and fix them all. :-)</p>\n"}],"owner":{"account_id":28134715,"reputation":11,"user_id":21498648,"display_name":"Mikey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680459296,"creation_date":1680458672,"question_id":75913756,"body_markdown":"So, whenever I input the value &#39;1.0, 0.0&#39; or the values &#39;1.0, 2.0&#39; the graph I have made returns a flipped y-value, and whenever I input the values 1.0, 0.0 the graph is just completely off by 5. This method is meant to take in an arraylist of double values (the coeffecients) in a polynomial, and then solve for y, substituting values from -5 to 5 into the equation. The graph outputs, and the x-values are correct, its just the y-values which are flipped.\r\n\r\nSo, what have I tried so far? Well, negatating the yVal in 3 different places, negating the xVal in the for loop, separating the for loop, unifying it, using different variables, everything. Nothing has worked and I&#39;ve spent like 2 hours on it. ATP i think it might be something simple that I just can&#39;t see, but I really can&#39;t figure out what it is. I also thought it could be my substitution method which was off, but I&#39;ve tested it a ton and nothing is wrong with it. Test cases: &quot;1.0, 0.0&quot;, &quot;1.0, 2.0&quot;\r\nCode:\r\n    ```\r\n\r\n    public static double sub(ArrayList&lt;Double&gt; currentCoefList, double val) {\r\n        double subbed = 0.0;\r\n        int i = 0;\r\n        for (i = 0; i &lt; currentCoefList.size() - 1; i++) {\r\n            subbed += Math.pow(currentCoefList.get(i) * val, currentCoefList.size() - i - 1);\r\n        }\r\n        subbed = subbed + currentCoefList.get(i);\r\n        return subbed;\r\n    }\r\n\r\n    public static char[][] makesGraph(ArrayList&lt;Double&gt; currentArrayList) {\r\n\r\n        int row = 11;\r\n        int col = 11;\r\n        int xVal = -5;\r\n        int yVal = 0;\r\n        int[] ysVal = new int[11];\r\n        char[][] grid = new char[row][col];\r\n\r\n        for (int r = 0; r &lt; grid.length; r++) {\r\n            for (int c = 0; c &lt; grid[0].length; c++) {\r\n                if (r == 5 &amp;&amp; c == 5) {\r\n                    grid[r][c] = &#39;+&#39;;\r\n                } else if (c == 5) {\r\n                    grid[r][c] = &#39;|&#39;;\r\n                } else if (r == 5) {\r\n                    grid[r][c] = &#39;-&#39;;\r\n                } else {\r\n                    grid[r][c] = &#39; &#39;;\r\n                }\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; grid[0].length; i++){\r\n            ysVal[i] = (int) sub(currentArrayList, xVal);\r\n            xVal++;\r\n        }\r\n\r\n        for (int i = 0; i &lt; grid[0].length; i++) {\r\n            yVal = Math.round(ysVal[i]);\r\n            if(yVal &lt; 0)\r\n            {\r\n                yVal = yVal + 5;\r\n            }\r\n            else if (i &lt; row &amp;&amp; yVal &lt; col) {\r\n                grid[i][yVal] = &#39;*&#39;;\r\n            }\r\n        }\r\n    \r\n        for (int r = 0; r &lt; grid.length; r++) {\r\n            for (int c = 0; c &lt; grid[0].length; c++) {\r\n                System.out.print(grid[r][c]);\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        return grid;\r\n    }\r\n```","title":"I am making a graphing method and the y-Value keeps getting flipped","body":"<p>So, whenever I input the value '1.0, 0.0' or the values '1.0, 2.0' the graph I have made returns a flipped y-value, and whenever I input the values 1.0, 0.0 the graph is just completely off by 5. This method is meant to take in an arraylist of double values (the coeffecients) in a polynomial, and then solve for y, substituting values from -5 to 5 into the equation. The graph outputs, and the x-values are correct, its just the y-values which are flipped.</p>\n<p>So, what have I tried so far? Well, negatating the yVal in 3 different places, negating the xVal in the for loop, separating the for loop, unifying it, using different variables, everything. Nothing has worked and I've spent like 2 hours on it. ATP i think it might be something simple that I just can't see, but I really can't figure out what it is. I also thought it could be my substitution method which was off, but I've tested it a ton and nothing is wrong with it. Test cases: &quot;1.0, 0.0&quot;, &quot;1.0, 2.0&quot;\nCode:\n```</p>\n<pre><code>public static double sub(ArrayList&lt;Double&gt; currentCoefList, double val) {\n    double subbed = 0.0;\n    int i = 0;\n    for (i = 0; i &lt; currentCoefList.size() - 1; i++) {\n        subbed += Math.pow(currentCoefList.get(i) * val, currentCoefList.size() - i - 1);\n    }\n    subbed = subbed + currentCoefList.get(i);\n    return subbed;\n}\n\npublic static char[][] makesGraph(ArrayList&lt;Double&gt; currentArrayList) {\n\n    int row = 11;\n    int col = 11;\n    int xVal = -5;\n    int yVal = 0;\n    int[] ysVal = new int[11];\n    char[][] grid = new char[row][col];\n\n    for (int r = 0; r &lt; grid.length; r++) {\n        for (int c = 0; c &lt; grid[0].length; c++) {\n            if (r == 5 &amp;&amp; c == 5) {\n                grid[r][c] = '+';\n            } else if (c == 5) {\n                grid[r][c] = '|';\n            } else if (r == 5) {\n                grid[r][c] = '-';\n            } else {\n                grid[r][c] = ' ';\n            }\n        }\n    }\n\n    for (int i = 0; i &lt; grid[0].length; i++){\n        ysVal[i] = (int) sub(currentArrayList, xVal);\n        xVal++;\n    }\n\n    for (int i = 0; i &lt; grid[0].length; i++) {\n        yVal = Math.round(ysVal[i]);\n        if(yVal &lt; 0)\n        {\n            yVal = yVal + 5;\n        }\n        else if (i &lt; row &amp;&amp; yVal &lt; col) {\n            grid[i][yVal] = '*';\n        }\n    }\n\n    for (int r = 0; r &lt; grid.length; r++) {\n        for (int c = 0; c &lt; grid[0].length; c++) {\n            System.out.print(grid[r][c]);\n        }\n        System.out.println();\n    }\n\n    return grid;\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1680458760,"post_id":75913748,"comment_id":133898190,"body_markdown":"Add code as text not as image","body":"Add code as text not as image"},{"owner":{"account_id":4749863,"reputation":27187,"user_id":3840170,"display_name":"user3840170"},"score":0,"creation_date":1680460627,"post_id":75913748,"comment_id":133898504,"body_markdown":"https://meta.stackoverflow.com/questions/285551/","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/\">meta.stackoverflow.com/questions/285551</a>"}],"answers":[{"comments":[{"owner":{"account_id":28196014,"reputation":11,"user_id":21550639,"display_name":"Rukshan Jayasuriya"},"score":0,"creation_date":1683760030,"post_id":75913793,"comment_id":134417794,"body_markdown":"Thank you all for your support in resolving this","body":"Thank you all for your support in resolving this"}],"tags":[],"owner":{"account_id":14540625,"reputation":143,"user_id":10568035,"display_name":"LeMoonStar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680458951,"creation_date":1680458951,"answer_id":75913793,"question_id":75913748,"body_markdown":"`\\` is a escape character. To print the literal character, you need to escape it itself. Replace every `\\` with `\\\\` and it&#39;ll work.","title":"How to print escape character &quot;\\&quot; in java?","body":"<p><code>\\</code> is a escape character. To print the literal character, you need to escape it itself. Replace every <code>\\</code> with <code>\\\\</code> and it'll work.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680458978,"creation_date":1680458978,"answer_id":75913794,"question_id":75913748,"body_markdown":"You escape `\\` with a second `\\` like `\\\\` and (if using Java 13+) you can use [triple quotes](https://openjdk.org/jeps/355).\r\n\r\n\tString msg = &quot;&quot;&quot;\r\n\t\t\t\\\\   /\r\n\t\t\t \\\\ /\r\n\t\t\t  X\r\n\t\t\t / \\\\\r\n\t\t\t/   \\\\\r\n\t\t\t&quot;&quot;&quot;;\r\n\tSystem.out.println(msg);\r\n\r\nOutputs\r\n\r\n    \\   /\r\n     \\ /\r\n      X\r\n     / \\\r\n    /   \\\r\n\r\n","title":"How to print escape character &quot;\\&quot; in java?","body":"<p>You escape <code>\\</code> with a second <code>\\</code> like <code>\\\\</code> and (if using Java 13+) you can use <a href=\"https://openjdk.org/jeps/355\" rel=\"nofollow noreferrer\">triple quotes</a>.</p>\n<pre><code>String msg = &quot;&quot;&quot;\n        \\\\   /\n         \\\\ /\n          X\n         / \\\\\n        /   \\\\\n        &quot;&quot;&quot;;\nSystem.out.println(msg);\n</code></pre>\n<p>Outputs</p>\n<pre><code>\\   /\n \\ /\n  X\n / \\\n/   \\\n</code></pre>\n"}],"owner":{"account_id":28196014,"reputation":11,"user_id":21550639,"display_name":"Rukshan Jayasuriya"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1680465692,"answer_count":2,"score":-3,"last_activity_date":1680458978,"creation_date":1680458601,"question_id":75913748,"body_markdown":"How to print a graphic in java using escape character &quot;\\&quot;? \r\nSystem.out.println(&quot;  \\ &quot;); etc..\r\n\r\n[Source Code](https://i.stack.imgur.com/OjcSu.png)\r\n\r\n","title":"How to print escape character &quot;\\&quot; in java?","body":"<p>How to print a graphic in java using escape character &quot;&quot;?\nSystem.out.println(&quot;  \\ &quot;); etc..</p>\n<p><a href=\"https://i.stack.imgur.com/OjcSu.png\" rel=\"nofollow noreferrer\">Source Code</a></p>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":1,"creation_date":1632730048,"post_id":69343118,"comment_id":122561958,"body_markdown":"Can you replace the images with code-blocks?","body":"Can you replace the images with code-blocks?"},{"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"score":0,"creation_date":1632730422,"post_id":69343118,"comment_id":122562107,"body_markdown":"Is this answer your question https://stackoverflow.com/questions/40488585/postman-required-request-part-file-is-not-present","body":"Is this answer your question <a href=\"https://stackoverflow.com/questions/40488585/postman-required-request-part-file-is-not-present\" title=\"postman required request part file is not present\">stackoverflow.com/questions/40488585/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":19370993,"reputation":113,"user_id":14164296,"display_name":"Elizama Melo"},"score":0,"creation_date":1632732338,"post_id":69343554,"comment_id":122562885,"body_markdown":"Hola!\n\nI followed the steps you said and\n\nsent the json file with the values to create the object. \n\nBut now gives another error:\n\nin postman: &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n\nin console: java.util.NoSuchElementException: No value present","body":"Hola!  I followed the steps you said and  sent the json file with the values to create the object.   But now gives another error:  in postman: &quot;status&quot;: 500,     &quot;error&quot;: &quot;Internal Server Error&quot;,  in console: java.util.NoSuchElementException: No value present"},{"owner":{"account_id":7032763,"reputation":2130,"user_id":5387880,"display_name":"Tanuj"},"score":0,"creation_date":1632732513,"post_id":69343554,"comment_id":122562958,"body_markdown":"Did you replace the `employee` key with `deliverable` and uploaded correct deliverable json file? Also can you post stack trace here?","body":"Did you replace the <code>employee</code> key with <code>deliverable</code> and uploaded correct deliverable json file? Also can you post stack trace here?"},{"owner":{"account_id":19370993,"reputation":113,"user_id":14164296,"display_name":"Elizama Melo"},"score":0,"creation_date":1632733218,"post_id":69343554,"comment_id":122563275,"body_markdown":"I have updated the question with the settings you mentioned and stacktrace. thank you","body":"I have updated the question with the settings you mentioned and stacktrace. thank you"},{"owner":{"account_id":7032763,"reputation":2130,"user_id":5387880,"display_name":"Tanuj"},"score":0,"creation_date":1632734306,"post_id":69343554,"comment_id":122563776,"body_markdown":"From the log I see you are not passing the `idDeliverable` in the input file (Thats why you are getting . You will need to include all the data that is required by the endpoint. Please check and correct the file and request accordingly.\nAlso when you use `Optional` you should use `optional.isPresent()` to check for null values and process accordignly.","body":"From the log I see you are not passing the <code>idDeliverable</code> in the input file (Thats why you are getting . You will need to include all the data that is required by the endpoint. Please check and correct the file and request accordingly. Also when you use <code>Optional</code> you should use <code>optional.isPresent()</code> to check for null values and process accordignly."}],"tags":[],"owner":{"account_id":7032763,"reputation":2130,"user_id":5387880,"display_name":"Tanuj"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1632731752,"creation_date":1632731752,"answer_id":69343554,"question_id":69343118,"body_markdown":"Here is the way you can do it, use this example and change it according to your scenario -\r\n\r\nIn the post man select POST operation on appropriate endpoint and then follow these steps -\r\n[![enter image description here][1]][1]\r\n\r\n 1. In postman set the **header** `Content-type` to `multipart/form-data`.\r\n[![enter image description here][2]][2]\r\n 2. In the **body** section choose `form-data` and set appropriate `key` (in the example it&#39;s set to **employee**) and type should be `file`\r\n[![enter image description here][3]][3]\r\n 3. In the `value` select the **employee** input file (json), here is what my example json file looks like  -\r\n[![enter image description here][4]][4]\r\n\r\nThen you can send the request and it should work as expected.\r\n\r\nHere is the cURL that you can use in postman to check header and request.\r\n\r\n    curl --location --request POST &#39;http://localhost:8081/employee&#39; --header &#39;Content-Type: multipart/form-data&#39; --header &#39;Cookie: JSESSIONID=8A3EEB5DA1F992DCC5B879CBF538000D&#39; --form &#39;employee=@&quot;/C:/Users/ASUS/Desktop/employee.json&quot;&#39;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CyAiG.png\r\n  [2]: https://i.stack.imgur.com/HpFrd.png\r\n  [3]: https://i.stack.imgur.com/sa0SB.png\r\n  [4]: https://i.stack.imgur.com/wC50S.png","title":"How to send data as @RequestPart in the postman","body":"<p>Here is the way you can do it, use this example and change it according to your scenario -</p>\n<p>In the post man select POST operation on appropriate endpoint and then follow these steps -\n<a href=\"https://i.stack.imgur.com/CyAiG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CyAiG.png\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li>In postman set the <strong>header</strong> <code>Content-type</code> to <code>multipart/form-data</code>.\n<a href=\"https://i.stack.imgur.com/HpFrd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HpFrd.png\" alt=\"enter image description here\" /></a></li>\n<li>In the <strong>body</strong> section choose <code>form-data</code> and set appropriate <code>key</code> (in the example it's set to <strong>employee</strong>) and type should be <code>file</code>\n<a href=\"https://i.stack.imgur.com/sa0SB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sa0SB.png\" alt=\"enter image description here\" /></a></li>\n<li>In the <code>value</code> select the <strong>employee</strong> input file (json), here is what my example json file looks like  -\n<a href=\"https://i.stack.imgur.com/wC50S.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wC50S.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>Then you can send the request and it should work as expected.</p>\n<p>Here is the cURL that you can use in postman to check header and request.</p>\n<pre><code>curl --location --request POST 'http://localhost:8081/employee' --header 'Content-Type: multipart/form-data' --header 'Cookie: JSESSIONID=8A3EEB5DA1F992DCC5B879CBF538000D' --form 'employee=@&quot;/C:/Users/ASUS/Desktop/employee.json&quot;'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680458882,"creation_date":1680458882,"answer_id":75913787,"question_id":69343118,"body_markdown":"The postman part is ok it is correct whatever process you have used change is required to the cotroller side only.\r\n\r\nWhat I had done in postman is as below:\r\n[![enter image description here][1]][1]\r\n\r\nIn my case i was consumming one jason file, an excel file and a list of images file in my API, so what I have done is as follows:\r\n\r\nI have just change the RequestMapping things in controller and applied this code as below:\r\n\r\n    @PostMapping(value = &quot;/saveRetrofitmentCampaign&quot;, consumes = {org.springframework.http.MediaType.ALL_VALUE})\r\n    public ResponseEntity&lt;?&gt; saveRetrofitmentCampaign(@RequestPart(value = &quot;warrantyRetrofitmentCampaign&quot;) WarrantyRetrofitmentCampaign warrantyRetrofitmentCampaign,\r\n                                                      @RequestPart(value = &quot;multipartFile&quot;) MultipartFile multipartFile,\r\n                                                      @RequestPart(value = &quot;multipartFileList&quot;) List&lt;MultipartFile&gt; multipartFileList)  {\r\n        ApiResponse apiResponse=new ApiResponse();\r\n        try {\r\n          apiResponse=  warrantyRetrofitmentCampaignService.saveRetrofitmentCampaign(warrantyRetrofitmentCampaign,multipartFile,multipartFileList);\r\n          apiResponse.setMessage(&quot;retro fitment saved &quot;);\r\n          apiResponse.setStatus(HttpStatus.OK.value());\r\n        }catch (Exception e){\r\n            apiResponse.setMessage(e.getMessage());\r\n            apiResponse.setResult(e);\r\n            apiResponse.setMessage(&quot;retro fitment not saved&quot;);\r\n        }\r\n\r\n        return ResponseEntity.ok(apiResponse);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c0Rqt.png","title":"How to send data as @RequestPart in the postman","body":"<p>The postman part is ok it is correct whatever process you have used change is required to the cotroller side only.</p>\n<p>What I had done in postman is as below:\n<a href=\"https://i.stack.imgur.com/c0Rqt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c0Rqt.png\" alt=\"enter image description here\" /></a></p>\n<p>In my case i was consumming one jason file, an excel file and a list of images file in my API, so what I have done is as follows:</p>\n<p>I have just change the RequestMapping things in controller and applied this code as below:</p>\n<pre><code>@PostMapping(value = &quot;/saveRetrofitmentCampaign&quot;, consumes = {org.springframework.http.MediaType.ALL_VALUE})\npublic ResponseEntity&lt;?&gt; saveRetrofitmentCampaign(@RequestPart(value = &quot;warrantyRetrofitmentCampaign&quot;) WarrantyRetrofitmentCampaign warrantyRetrofitmentCampaign,\n                                                  @RequestPart(value = &quot;multipartFile&quot;) MultipartFile multipartFile,\n                                                  @RequestPart(value = &quot;multipartFileList&quot;) List&lt;MultipartFile&gt; multipartFileList)  {\n    ApiResponse apiResponse=new ApiResponse();\n    try {\n      apiResponse=  warrantyRetrofitmentCampaignService.saveRetrofitmentCampaign(warrantyRetrofitmentCampaign,multipartFile,multipartFileList);\n      apiResponse.setMessage(&quot;retro fitment saved &quot;);\n      apiResponse.setStatus(HttpStatus.OK.value());\n    }catch (Exception e){\n        apiResponse.setMessage(e.getMessage());\n        apiResponse.setResult(e);\n        apiResponse.setMessage(&quot;retro fitment not saved&quot;);\n    }\n\n    return ResponseEntity.ok(apiResponse);\n}\n</code></pre>\n"}],"owner":{"account_id":19370993,"reputation":113,"user_id":14164296,"display_name":"Elizama Melo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69343554,"answer_count":2,"score":2,"last_activity_date":1680458882,"creation_date":1632729736,"question_id":69343118,"body_markdown":"I just joined a new project and I&#39;m having trouble creating an object that has an @RequestPart annotation in the controller\r\n\r\nHere are images of the model:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is the controller:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd the service:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nHow should I send the request to create the Deliverable object?\r\n\r\nI tried a few ways but always get the error :\r\nrequest does not contain multipart/form-data or multipart/mixed stream, content type header is application/json\r\n\r\nThank you for your help!\r\n\r\nEDITED:\r\n\r\nBelow are the images of the postman configuration\r\n\r\n[![enter image description here][4]][4]\r\n\t\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zhgGv.png\r\n  [2]: https://i.stack.imgur.com/eh7Zs.png\r\n  [3]: https://i.stack.imgur.com/GRuzh.png\r\n  [4]: https://i.stack.imgur.com/gnTSU.png\r\n  [5]: https://i.stack.imgur.com/voQso.png\r\n  [6]: https://i.stack.imgur.com/mUHlS.png\r\n\r\n\r\n    2021-09-27 10:57:11.279 ERROR 148 --- [nio-8050-exec-5] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/portal-cliente-api] threw exception [Request processing failed; nested exception is java.util.NoSuchElementException: No value present] with root cause\r\n\r\njava.util.NoSuchElementException: No value present\r\n\tat java.util.Optional.get(Optional.java:135) ~[?:1.8.0_201]\r\n\tat security.innotec.portalcliente.service.impl.DeliverableServiceImpl.insert(DeliverableServiceImpl.java:78) ~[classes/:?]\r\n\tat security.innotec.portalcliente.service.impl.DeliverableServiceImpl$$FastClassBySpringCGLIB$$b02f851b.invoke(&lt;generated&gt;) ~[classes/:?]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367) ~[spring-tx-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat security.innotec.portalcliente.service.impl.DeliverableServiceImpl$$EnhancerBySpringCGLIB$$617be602.insert(&lt;generated&gt;) ~[classes/:?]\r\n\tat security.innotec.portalcliente.web.controllers.DeliverableController.create(DeliverableController.java:56) ~[classes/:?]\r\n\tat security.innotec.portalcliente.web.controllers.DeliverableController$$FastClassBySpringCGLIB$$a4692a9a.invoke(&lt;generated&gt;) ~[classes/:?]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat security.innotec.portalcliente.web.controllers.DeliverableController$$EnhancerBySpringCGLIB$$b109d415.create(&lt;generated&gt;) ~[classes/:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_201]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_201]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_201]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_201]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter.doFilter(KeycloakAuthenticatedActionsFilter.java:57) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter.doFilter(KeycloakSecurityContextRequestFilter.java:54) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter.doFilter(KeycloakPreAuthActionsFilter.java:86) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.successfulAuthentication(KeycloakAuthenticationProcessingFilter.java:210) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter.doFilter(KeycloakAuthenticatedActionsFilter.java:74) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter.doFilter(KeycloakSecurityContextRequestFilter.java:77) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.successfulAuthentication(KeycloakAuthenticationProcessingFilter.java:210) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter.doFilter(KeycloakPreAuthActionsFilter.java:86) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:67) [spring-boot-container-bundle-6.0.1.jar:6.0.1]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181) [spring-boot-container-bundle-6.0.1.jar:6.0.1]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_201]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_201]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_201]","title":"How to send data as @RequestPart in the postman","body":"<p>I just joined a new project and I'm having trouble creating an object that has an @RequestPart annotation in the controller</p>\n<p>Here are images of the model:\n<a href=\"https://i.stack.imgur.com/zhgGv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zhgGv.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the controller:</p>\n<p><a href=\"https://i.stack.imgur.com/eh7Zs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eh7Zs.png\" alt=\"enter image description here\" /></a></p>\n<p>And the service:</p>\n<p><a href=\"https://i.stack.imgur.com/GRuzh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GRuzh.png\" alt=\"enter image description here\" /></a></p>\n<p>How should I send the request to create the Deliverable object?</p>\n<p>I tried a few ways but always get the error :\nrequest does not contain multipart/form-data or multipart/mixed stream, content type header is application/json</p>\n<p>Thank you for your help!</p>\n<p>EDITED:</p>\n<p>Below are the images of the postman configuration</p>\n<p><a href=\"https://i.stack.imgur.com/gnTSU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gnTSU.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/voQso.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/voQso.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mUHlS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mUHlS.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>2021-09-27 10:57:11.279 ERROR 148 --- [nio-8050-exec-5] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/portal-cliente-api] threw exception [Request processing failed; nested exception is java.util.NoSuchElementException: No value present] with root cause\n</code></pre>\n<p>java.util.NoSuchElementException: No value present\nat java.util.Optional.get(Optional.java:135) ~[?:1.8.0_201]\nat security.innotec.portalcliente.service.impl.DeliverableServiceImpl.insert(DeliverableServiceImpl.java:78) ~[classes/:?]\nat security.innotec.portalcliente.service.impl.DeliverableServiceImpl$$FastClassBySpringCGLIB$$b02f851b.invoke() ~[classes/:?]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367) ~[spring-tx-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat security.innotec.portalcliente.service.impl.DeliverableServiceImpl$$EnhancerBySpringCGLIB$$617be602.insert() ~[classes/:?]\nat security.innotec.portalcliente.web.controllers.DeliverableController.create(DeliverableController.java:56) ~[classes/:?]\nat security.innotec.portalcliente.web.controllers.DeliverableController$$FastClassBySpringCGLIB$$a4692a9a.invoke() ~[classes/:?]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat security.innotec.portalcliente.web.controllers.DeliverableController$$EnhancerBySpringCGLIB$$b109d415.create() ~[classes/:?]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_201]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_201]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_201]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_201]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter.doFilter(KeycloakAuthenticatedActionsFilter.java:57) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter.doFilter(KeycloakSecurityContextRequestFilter.java:54) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter.doFilter(KeycloakPreAuthActionsFilter.java:86) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.successfulAuthentication(KeycloakAuthenticationProcessingFilter.java:210) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter.doFilter(KeycloakAuthenticatedActionsFilter.java:74) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter.doFilter(KeycloakSecurityContextRequestFilter.java:77) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.successfulAuthentication(KeycloakAuthenticationProcessingFilter.java:210) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter.doFilter(KeycloakPreAuthActionsFilter.java:86) ~[keycloak-spring-security-adapter-6.0.1.jar:6.0.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:67) [spring-boot-container-bundle-6.0.1.jar:6.0.1]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181) [spring-boot-container-bundle-6.0.1.jar:6.0.1]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_201]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_201]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.37.jar:9.0.37]\nat java.lang.Thread.run(Thread.java:748) [?:1.8.0_201]</p>\n"},{"tags":["java","spring","tomcat","jakarta-ee","websocket"],"answers":[{"tags":[],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680458866,"creation_date":1680458866,"answer_id":75913783,"question_id":75913697,"body_markdown":"To use a Spring-managed bean as a WebSocket handler, you can define a custom `javax.websocket.server.ServerEndpointConfig.Configurator` class and override its `getEndpointInstance()` method to return the Spring-managed bean instance.\r\n\r\n```\r\nimport javax.websocket.server.ServerEndpointConfig;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class WebSocketConfigurator extends ServerEndpointConfig.Configurator {\r\n\r\n    private static ApplicationContext applicationContext;\r\n\r\n    @Autowired\r\n    public void setApplicationContext(ApplicationContext applicationContext) {\r\n        WebSocketConfigurator.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; T getEndpointInstance(Class&lt;T&gt; endpointClass) throws InstantiationException {\r\n        return applicationContext.getBean(endpointClass);\r\n    }\r\n}\r\n```\r\n\r\nTo use this Configurator class in your Jakarta WebSocket application, you can add the following annotation to your WebSocket endpoint class:\r\n\r\n```\r\nimport javax.websocket.server.ServerEndpoint;\r\n\r\n@ServerEndpoint(value = &quot;/websocket&quot;, configurator = WebSocketConfigurator.class)\r\npublic class MessageHandler {\r\n    // ...\r\n}\r\n```","title":"Jakarta websocket handler with Spring managed bean","body":"<p>To use a Spring-managed bean as a WebSocket handler, you can define a custom <code>javax.websocket.server.ServerEndpointConfig.Configurator</code> class and override its <code>getEndpointInstance()</code> method to return the Spring-managed bean instance.</p>\n<pre><code>import javax.websocket.server.ServerEndpointConfig;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class WebSocketConfigurator extends ServerEndpointConfig.Configurator {\n\n    private static ApplicationContext applicationContext;\n\n    @Autowired\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        WebSocketConfigurator.applicationContext = applicationContext;\n    }\n\n    @Override\n    public &lt;T&gt; T getEndpointInstance(Class&lt;T&gt; endpointClass) throws InstantiationException {\n        return applicationContext.getBean(endpointClass);\n    }\n}\n</code></pre>\n<p>To use this Configurator class in your Jakarta WebSocket application, you can add the following annotation to your WebSocket endpoint class:</p>\n<pre><code>import javax.websocket.server.ServerEndpoint;\n\n@ServerEndpoint(value = &quot;/websocket&quot;, configurator = WebSocketConfigurator.class)\npublic class MessageHandler {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75913783,"answer_count":1,"score":0,"last_activity_date":1680458866,"creation_date":1680458046,"question_id":75913697,"body_markdown":"I have the following websocket client and server for peer-to-peer communication:\r\n\r\n```\r\npackage network;\r\n\r\nimport jakarta.websocket.ContainerProvider;\r\nimport jakarta.websocket.Session;\r\nimport jakarta.websocket.WebSocketContainer;\r\nimport java.net.URI;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.Future;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.TimeoutException;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.socket.client.WebSocketClient;\r\nimport org.springframework.web.socket.client.standard.StandardWebSocketClient;\r\n\r\n@Service\r\npublic class WebsocketNetwork {\r\n\r\n\r\n    private final MessageHandler messageHandler;\r\n\r\n    @Bean\r\n    public WebSocketClient webSocketClient() {\r\n        return new StandardWebSocketClient();\r\n    }\r\n\r\n    @Autowired\r\n    public WebsocketNetwork(MessageHandler messageHandler) {\r\n\r\n        this.messageHandler = messageHandler;\r\n\r\n    }\r\n\r\n    @EventListener(value = ApplicationReadyEvent.class)\r\n    public void establishConnection() {\r\n\r\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n\r\n        URI address = new URI(&quot;ws://localhost:15000/websocket&quot;);\r\n\r\n        Session session = container.connectToServer(this.messageHandler, address);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHandler:\r\n\r\n```\r\n\r\npackage network;\r\n\r\nimport jakarta.websocket.ClientEndpoint;\r\nimport jakarta.websocket.OnClose;\r\nimport jakarta.websocket.OnError;\r\nimport jakarta.websocket.OnMessage;\r\nimport jakarta.websocket.OnOpen;\r\nimport jakarta.websocket.Session;\r\nimport jakarta.websocket.server.ServerEndpoint;\r\nimport java.util.Map;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.ApplicationEventPublisher;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@ServerEndpoint(value = &quot;/websocket&quot;, decoders = MessageDecoder.class, encoders = MessageEncoder.class)\r\n@ClientEndpoint(decoders = MessageDecoder.class, encoders = MessageEncoder.class)\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class MessageHandler {\r\n\r\n    // MessageHandler should have no argument constructor else it fails with:\r\n    /*\r\n\r\n    Caused by: java.lang.NoSuchMethodException: network.MessageHandler.&lt;init&gt;()\r\n        at java.base/java.lang.Class.getConstructor0(Class.java:3641) ~[na:na]\r\n        at java.base/java.lang.Class.getConstructor(Class.java:2324) ~[na:na]\r\n        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:135) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.tomcat.websocket.WsSession.&lt;init&gt;(WsSession.java:275) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\r\n\r\n    */\r\n\r\n\r\n    @Autowired\r\n    private ApplicationEventPublisher eventPublisher;       // &lt;-- why this Null? And how to fix it?\r\n\r\n    @OnClose\r\n    public void onClose(Session session) {\r\n        System.out.println(&quot;Disconnected from server: &quot; + session.getId());\r\n    }\r\n\r\n    @OnOpen\r\n    public void onOpen(Session session) {\r\n        System.out.println(&quot;Connected to server: &quot; + session.getId());\r\n    }\r\n\r\n    // incoming messages\r\n    @OnMessage\r\n    public void receive(NetworkMessage message) {\r\n\r\n        // handle incoming message\r\n        \r\n    }\r\n\r\n    @OnError\r\n    public void onError(Session session, Throwable throwable) {\r\n        // handle error\r\n        System.err.println(throwable.getMessage());\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn the above handler, the issue is `ApplicationEventPublisher` is `null` even though it&#39;s Autowired, when I debugged it the websocket container seems to be creating a newInstance without considering its dependencies, [here][1], does anyone know how to fix it?\r\n\r\n\r\n  [1]: https://github.com/apache/tomcat/blob/7690caf7dcc5a4c4e9306f38c3d181aa0880f416/java/org/apache/tomcat/websocket/WsWebSocketContainer.java#L142","title":"Jakarta websocket handler with Spring managed bean","body":"<p>I have the following websocket client and server for peer-to-peer communication:</p>\n<pre><code>package network;\n\nimport jakarta.websocket.ContainerProvider;\nimport jakarta.websocket.Session;\nimport jakarta.websocket.WebSocketContainer;\nimport java.net.URI;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.socket.client.WebSocketClient;\nimport org.springframework.web.socket.client.standard.StandardWebSocketClient;\n\n@Service\npublic class WebsocketNetwork {\n\n\n    private final MessageHandler messageHandler;\n\n    @Bean\n    public WebSocketClient webSocketClient() {\n        return new StandardWebSocketClient();\n    }\n\n    @Autowired\n    public WebsocketNetwork(MessageHandler messageHandler) {\n\n        this.messageHandler = messageHandler;\n\n    }\n\n    @EventListener(value = ApplicationReadyEvent.class)\n    public void establishConnection() {\n\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n\n        URI address = new URI(&quot;ws://localhost:15000/websocket&quot;);\n\n        Session session = container.connectToServer(this.messageHandler, address);\n    }\n\n}\n</code></pre>\n<p>Handler:</p>\n<pre><code>\npackage network;\n\nimport jakarta.websocket.ClientEndpoint;\nimport jakarta.websocket.OnClose;\nimport jakarta.websocket.OnError;\nimport jakarta.websocket.OnMessage;\nimport jakarta.websocket.OnOpen;\nimport jakarta.websocket.Session;\nimport jakarta.websocket.server.ServerEndpoint;\nimport java.util.Map;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationEventPublisher;\nimport org.springframework.stereotype.Component;\n\n@Component\n@ServerEndpoint(value = &quot;/websocket&quot;, decoders = MessageDecoder.class, encoders = MessageEncoder.class)\n@ClientEndpoint(decoders = MessageDecoder.class, encoders = MessageEncoder.class)\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class MessageHandler {\n\n    // MessageHandler should have no argument constructor else it fails with:\n    /*\n\n    Caused by: java.lang.NoSuchMethodException: network.MessageHandler.&lt;init&gt;()\n        at java.base/java.lang.Class.getConstructor0(Class.java:3641) ~[na:na]\n        at java.base/java.lang.Class.getConstructor(Class.java:2324) ~[na:na]\n        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:135) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.tomcat.websocket.WsSession.&lt;init&gt;(WsSession.java:275) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\n\n    */\n\n\n    @Autowired\n    private ApplicationEventPublisher eventPublisher;       // &lt;-- why this Null? And how to fix it?\n\n    @OnClose\n    public void onClose(Session session) {\n        System.out.println(&quot;Disconnected from server: &quot; + session.getId());\n    }\n\n    @OnOpen\n    public void onOpen(Session session) {\n        System.out.println(&quot;Connected to server: &quot; + session.getId());\n    }\n\n    // incoming messages\n    @OnMessage\n    public void receive(NetworkMessage message) {\n\n        // handle incoming message\n        \n    }\n\n    @OnError\n    public void onError(Session session, Throwable throwable) {\n        // handle error\n        System.err.println(throwable.getMessage());\n    }\n\n}\n</code></pre>\n<p>In the above handler, the issue is <code>ApplicationEventPublisher</code> is <code>null</code> even though it's Autowired, when I debugged it the websocket container seems to be creating a newInstance without considering its dependencies, <a href=\"https://github.com/apache/tomcat/blob/7690caf7dcc5a4c4e9306f38c3d181aa0880f416/java/org/apache/tomcat/websocket/WsWebSocketContainer.java#L142\" rel=\"nofollow noreferrer\">here</a>, does anyone know how to fix it?</p>\n"},{"tags":["java","eclipse","jpa","jsf"],"owner":{"account_id":20673593,"reputation":11,"user_id":15178757,"display_name":"Mqam Youness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680458265,"creation_date":1680458144,"question_id":75913704,"body_markdown":"     ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;QuizP.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;QuizP.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\r\n        Caused by: org.jboss.weld.exceptions.WeldException: Failed to link javax/faces/webapp/UIComponentELTag (Module \\&quot;deployment.QuizP.war\\&quot; from Service Module Loader): Failed to link javax/faces/webapp/UIComponentClassicTagBase (Module \\&quot;deployment.QuizP.war\\&quot; from Service Module Loader): javax/servlet/jsp/tagext/BodyTag\r\n        Caused by: java.lang.NoClassDefFoundError: Failed to link javax/faces/webapp/UIComponentELTag (Module \\&quot;deployment.QuizP.war\\&quot; from Service Module Loader): Failed to link javax/faces/webapp/UIComponentClassicTagBase (Module \\&quot;deployment.QuizP.war\\&quot; from Service Module Loader): javax/servlet/jsp/tagext/BodyTag&quot;}}\r\n\r\ni can run the app \r\nOut put result : 404 - Not Found\r\n\r\n","title":"JSF 17:49:32,575 ERROR Failed to link javax/faces/webapp/UIComponentClassicTagBas","body":"<pre><code> ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;QuizP.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;QuizP.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\n    Caused by: org.jboss.weld.exceptions.WeldException: Failed to link javax/faces/webapp/UIComponentELTag (Module \\&quot;deployment.QuizP.war\\&quot; from Service Module Loader): Failed to link javax/faces/webapp/UIComponentClassicTagBase (Module \\&quot;deployment.QuizP.war\\&quot; from Service Module Loader): javax/servlet/jsp/tagext/BodyTag\n    Caused by: java.lang.NoClassDefFoundError: Failed to link javax/faces/webapp/UIComponentELTag (Module \\&quot;deployment.QuizP.war\\&quot; from Service Module Loader): Failed to link javax/faces/webapp/UIComponentClassicTagBase (Module \\&quot;deployment.QuizP.war\\&quot; from Service Module Loader): javax/servlet/jsp/tagext/BodyTag&quot;}}\n</code></pre>\n<p>i can run the app\nOut put result : 404 - Not Found</p>\n"},{"tags":["java","defaultlistmodel","extending-classes"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680464746,"post_id":75913666,"comment_id":133899125,"body_markdown":"If your Character value is already a Player instance, you can just cast it.  If not, you will need to write a method or Play constructor that copies the data.  (If Player, Creature, and NPC all have the same attributes, you may be better off having a single Character class with no subclasses, and instead adding a property to Character of type `public enum CharacterType { PLAYER, CREATURE, NPC }`.)","body":"If your Character value is already a Player instance, you can just cast it.  If not, you will need to write a method or Play constructor that copies the data.  (If Player, Creature, and NPC all have the same attributes, you may be better off having a single Character class with no subclasses, and instead adding a property to Character of type <code>public enum CharacterType { PLAYER, CREATURE, NPC }</code>.)"},{"owner":{"account_id":28196214,"reputation":1,"user_id":21550809,"display_name":"AJBarkus"},"score":0,"creation_date":1680467201,"post_id":75913666,"comment_id":133899519,"body_markdown":"Oh this makes much more sense, thank you so much for this information VGR! \n\nI think I&#39;m going to go the route of redefining the CharacterType variable that I defined to instead be an enum property as you described! \n\nThanks again!","body":"Oh this makes much more sense, thank you so much for this information VGR!   I think I&#39;m going to go the route of redefining the CharacterType variable that I defined to instead be an enum property as you described!   Thanks again!"}],"owner":{"account_id":28196214,"reputation":1,"user_id":21550809,"display_name":"AJBarkus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680457788,"creation_date":1680457649,"question_id":75913666,"body_markdown":"firstly, thank you for any help in advance. \r\n\r\nI&#39;m working on a personal project while in school - I would like to make a Table Top System Manager that my wife and I can use to run our homebrewed systems. \r\n\r\nCurrent Road-Block: Working with multiple Default List Models. \r\n\r\nHere&#39;s how I&#39;m trying to define them at the moment:\r\n\r\n\r\n```\r\npublic class GameGuideMain extends javax.swing.JFrame {\r\n    private DefaultListModel&lt;Player&gt; playerList;\r\n    private DefaultListModel&lt;Creature&gt; creatureList;\r\n    private DefaultListModel&lt;NPC&gt; npcList;\r\n    \r\n    public GameGuideMain() {\r\n        //Character Default List Models\r\n        //Player\r\n        playerList = new DefaultListModel&lt;Player&gt;();\r\n        //Creature\r\n        creatureList = new DefaultListModel&lt;Creature&gt;();\r\n        //NPC\r\n        npcList = new DefaultListModel&lt;NPC&gt;();\r\n```\r\n\r\nEach of these values extend from Character - I originally tried to define these separate list models as all &lt;Character&gt; value, but continued to get red so I tried it this way.\r\n\r\nWhile this did get rid of the Red - I originally faced - now my issue is how would I convert a value type of Character to Player when Player is already extending Character? \r\n\r\nMy expected result is that these would each be able to add to their respective characterList(s)\r\n\r\n[A JFrame that includes a label and 3 panels that hold JLists](https://i.stack.imgur.com/oVwJU.png)","title":"How can I successfully work with multiple Default List Models in Java?","body":"<p>firstly, thank you for any help in advance.</p>\n<p>I'm working on a personal project while in school - I would like to make a Table Top System Manager that my wife and I can use to run our homebrewed systems.</p>\n<p>Current Road-Block: Working with multiple Default List Models.</p>\n<p>Here's how I'm trying to define them at the moment:</p>\n<pre><code>public class GameGuideMain extends javax.swing.JFrame {\n    private DefaultListModel&lt;Player&gt; playerList;\n    private DefaultListModel&lt;Creature&gt; creatureList;\n    private DefaultListModel&lt;NPC&gt; npcList;\n    \n    public GameGuideMain() {\n        //Character Default List Models\n        //Player\n        playerList = new DefaultListModel&lt;Player&gt;();\n        //Creature\n        creatureList = new DefaultListModel&lt;Creature&gt;();\n        //NPC\n        npcList = new DefaultListModel&lt;NPC&gt;();\n</code></pre>\n<p>Each of these values extend from Character - I originally tried to define these separate list models as all  value, but continued to get red so I tried it this way.</p>\n<p>While this did get rid of the Red - I originally faced - now my issue is how would I convert a value type of Character to Player when Player is already extending Character?</p>\n<p>My expected result is that these would each be able to add to their respective characterList(s)</p>\n<p><a href=\"https://i.stack.imgur.com/oVwJU.png\" rel=\"nofollow noreferrer\">A JFrame that includes a label and 3 panels that hold JLists</a></p>\n"},{"tags":["java","spring-boot","vaadin","vaadin14"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1680496572,"post_id":75911008,"comment_id":133902540,"body_markdown":"Have you remembered to enable push by adding `@Push` annotation to right place?","body":"Have you remembered to enable push by adding <code>@Push</code> annotation to right place?"},{"owner":{"account_id":4432051,"reputation":1,"user_id":3608976,"display_name":"Omar122"},"score":0,"creation_date":1680509421,"post_id":75911008,"comment_id":133904451,"body_markdown":"@TatuLund I actually didn&#39;t know about it. Thanks this solved my issue.","body":"@TatuLund I actually didn&#39;t know about it. Thanks this solved my issue."}],"owner":{"account_id":4432051,"reputation":1,"user_id":3608976,"display_name":"Omar122"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680457528,"creation_date":1680425937,"question_id":75911008,"body_markdown":"Hello I have an async method called by a normal method which is addClickListener for a button anyway.\r\n\r\nI wanted to update the ProgressBar inside the async method.\r\n\r\nI already defined the progressBar and added it to the view. \r\n\r\n```\r\n@Async(&quot;DelegatingSecurityContextAsyncTaskExecutor&quot;)\r\n    private void runBulk(UI ui) {\r\n\r\n        int counter = 0;\r\n        for (int i = 0; i &lt; selectedMigrationDataTest.size(); i++) {\r\n           //Somecode \r\n     \r\n            ui.access(() -&gt; {\r\n                progressBar.setValue(progressValue);\r\n                progressBar.setVisible(true);\r\n                ui.push();\r\n            });\r\n\r\n        }\r\n    }\r\n```\r\n \r\n\r\nI do not see any changes happening inside the aysnc method. I can see only changes happening outside this method. \r\n\r\nI tried to getting a new UI and passing UI from normal method. \r\n\r\nI tried calling and not calling ui.push()\r\n \r\nI am working Vaadin 14.9.5 and Sping-boot 2.7.7. \r\n\r\n**Note**: this code used to work when I was calling this method using SimpleAsyncTaskExecutor without @Async of course. \r\nI decided to use @Async for security context injection. \r\n","title":"Updating UI elements inside an Async method doesn&#39;t work","body":"<p>Hello I have an async method called by a normal method which is addClickListener for a button anyway.</p>\n<p>I wanted to update the ProgressBar inside the async method.</p>\n<p>I already defined the progressBar and added it to the view.</p>\n<pre><code>@Async(&quot;DelegatingSecurityContextAsyncTaskExecutor&quot;)\n    private void runBulk(UI ui) {\n\n        int counter = 0;\n        for (int i = 0; i &lt; selectedMigrationDataTest.size(); i++) {\n           //Somecode \n     \n            ui.access(() -&gt; {\n                progressBar.setValue(progressValue);\n                progressBar.setVisible(true);\n                ui.push();\n            });\n\n        }\n    }\n</code></pre>\n<p>I do not see any changes happening inside the aysnc method. I can see only changes happening outside this method.</p>\n<p>I tried to getting a new UI and passing UI from normal method.</p>\n<p>I tried calling and not calling ui.push()</p>\n<p>I am working Vaadin 14.9.5 and Sping-boot 2.7.7.</p>\n<p><strong>Note</strong>: this code used to work when I was calling this method using SimpleAsyncTaskExecutor without @Async of course.\nI decided to use @Async for security context injection.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":465973,"reputation":523,"user_id":870438,"accept_rate":40,"display_name":"Nikhil Mahajan"},"score":3,"creation_date":1480931118,"post_id":30886571,"comment_id":69151521,"body_markdown":"CustomerRepositoryImpl class should implement CustomCustomerRepository  not CustomerRepository as only method of CustomCustomerRepository  needs implementation","body":"CustomerRepositoryImpl class should implement CustomCustomerRepository  not CustomerRepository as only method of CustomCustomerRepository  needs implementation"},{"owner":{"account_id":1454363,"reputation":422,"user_id":3198272,"display_name":"Doc Brown"},"score":0,"creation_date":1512996531,"post_id":30886571,"comment_id":82467005,"body_markdown":"Does this CustomCustomerRepositoryImpl work without a customMethod()?","body":"Does this CustomCustomerRepositoryImpl work without a customMethod()?"},{"owner":{"account_id":3635110,"reputation":1239,"user_id":3030406,"accept_rate":55,"display_name":"Rookie007"},"score":4,"creation_date":1561089346,"post_id":30886571,"comment_id":99957972,"body_markdown":"I am getting this error `No property customMethod found for type Customer` do I need to do any configuration ?","body":"I am getting this error <code>No property customMethod found for type Customer</code> do I need to do any configuration ?"},{"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"score":1,"creation_date":1591784311,"post_id":30886571,"comment_id":110185217,"body_markdown":"If you get error &quot;No property customMethod found for type Customer&quot; remove annotation @PersistenceContext and inject the entityManager object via the constructor of CustomRepositoryImpl","body":"If you get error &quot;No property customMethod found for type Customer&quot; remove annotation @PersistenceContext and inject the entityManager object via the constructor of CustomRepositoryImpl"},{"owner":{"account_id":9484819,"reputation":609,"user_id":7051479,"accept_rate":40,"display_name":"Avik Aggarwal"},"score":0,"creation_date":1602789156,"post_id":30886571,"comment_id":113838806,"body_markdown":"@cnmuc can you elaborate on the solution you mentioned. I am facing the same issue as you mentioned.","body":"@cnmuc can you elaborate on the solution you mentioned. I am facing the same issue as you mentioned."},{"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"score":2,"creation_date":1602791580,"post_id":30886571,"comment_id":113839727,"body_markdown":"@AvikAggarwal public class CustomerRepositoryImpl implements CustomCustomerRepository {\n\n    private final EntityManager entityManager;\n\n    public CustomerRepositoryImpl(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\t\n}","body":"@AvikAggarwal public class CustomerRepositoryImpl implements CustomCustomerRepository {      private final EntityManager entityManager;      public CustomerRepositoryImpl(EntityManager entityManager) {         this.entityManager = entityManager;     } \t }"},{"owner":{"account_id":9484819,"reputation":609,"user_id":7051479,"accept_rate":40,"display_name":"Avik Aggarwal"},"score":0,"creation_date":1602828538,"post_id":30886571,"comment_id":113848282,"body_markdown":"Thanks @cnmuc. I had implemented that but now I face `No query defined for that name`. Any idea about this?\nPlease note I am using a query to transform my table data to another shape defined as DTO.","body":"Thanks @cnmuc. I had implemented that but now I face <code>No query defined for that name</code>. Any idea about this? Please note I am using a query to transform my table data to another shape defined as DTO."},{"owner":{"account_id":2496504,"reputation":3612,"user_id":2172731,"accept_rate":67,"display_name":"Munish Chandel"},"score":0,"creation_date":1609074220,"post_id":30886571,"comment_id":115741072,"body_markdown":"Spring Data JPA Reference - https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations","body":"Spring Data JPA Reference - <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1620520274,"post_id":30886571,"comment_id":119225182,"body_markdown":"Convoluted answer and doesn&#39;t work. What do we even inject to our main class? the Impl or Repository class? both ways I&#39;m still getting the same error - Also - I have a JPA method on the `extends JpaRepository&lt;&gt;` interface that I need to use","body":"Convoluted answer and doesn&#39;t work. What do we even inject to our main class? the Impl or Repository class? both ways I&#39;m still getting the same error - Also - I have a JPA method on the <code>extends JpaRepository&lt;&gt;</code> interface that I need to use"},{"owner":{"account_id":4872166,"reputation":179,"user_id":3928268,"display_name":"khacsinhcs"},"score":1,"creation_date":1664987059,"post_id":30886571,"comment_id":130595522,"body_markdown":"Does CustomCustomerRepositoryImpl need to have annotation @Repository","body":"Does CustomCustomerRepositoryImpl need to have annotation @Repository"},{"owner":{"account_id":20847162,"reputation":894,"user_id":15312420,"display_name":"Mehdi Charife"},"score":0,"creation_date":1699277819,"post_id":30886571,"comment_id":136507483,"body_markdown":"I think using the `Customer` entity as an example was a bad choice. I got confused with all the custom customer stuff.","body":"I think using the <code>Customer</code> entity as an example was a bad choice. I got confused with all the custom customer stuff."}],"tags":[],"owner":{"account_id":211551,"reputation":2658,"user_id":463792,"accept_rate":22,"display_name":"Nitin Arora"},"comment_count":11,"down_vote_count":2,"up_vote_count":42,"is_accepted":true,"score":40,"last_activity_date":1609075991,"creation_date":1434530757,"answer_id":30886571,"question_id":30874214,"body_markdown":"You would define a ```CustomRepository``` to handle such scenarios. Consider you have ```CustomerRepository``` which extends the default spring data JPA interface ```JPARepository&lt;Customer,Long&gt;```\r\n\r\nCreate a new interface ```CustomCustomerRepository``` with a custom method signature. \r\n\r\n    public interface CustomCustomerRepository {\r\n        public void customMethod();\r\n    }\r\n\r\nExtend ```CustomerRepository``` interface using ```CustomCustomerRepository```\r\n\r\n    public interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt;, CustomCustomerRepository{\r\n\r\n    }\r\n\r\nCreate an implementation class named ```CustomerRepositoryImpl``` which implements ```CustomerRepository```. Here you can inject the ```EntityManager``` using the ```@PersistentContext```. Naming conventions matter here.\r\n\r\n    public class CustomCustomerRepositoryImpl implements CustomCustomerRepository {\r\n\r\n        @PersistenceContext\r\n        private EntityManager em;\r\n\r\n        @Override\r\n        public void customMethod() {\r\n        \r\n        }\r\n    }\r\n\r\n    \r\n\r\n\r\n ","title":"How to access entity manager with spring boot and spring data","body":"<p>You would define a <code>CustomRepository</code> to handle such scenarios. Consider you have <code>CustomerRepository</code> which extends the default spring data JPA interface <code>JPARepository&lt;Customer,Long&gt;</code></p>\n<p>Create a new interface <code>CustomCustomerRepository</code> with a custom method signature.</p>\n<pre><code>public interface CustomCustomerRepository {\n    public void customMethod();\n}\n</code></pre>\n<p>Extend <code>CustomerRepository</code> interface using <code>CustomCustomerRepository</code></p>\n<pre><code>public interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt;, CustomCustomerRepository{\n\n}\n</code></pre>\n<p>Create an implementation class named <code>CustomerRepositoryImpl</code> which implements <code>CustomerRepository</code>. Here you can inject the <code>EntityManager</code> using the <code>@PersistentContext</code>. Naming conventions matter here.</p>\n<pre><code>public class CustomCustomerRepositoryImpl implements CustomCustomerRepository {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    @Override\n    public void customMethod() {\n    \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":945079,"reputation":2425,"user_id":972463,"display_name":"Sergey Ushakov"},"comment_count":0,"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1664523384,"creation_date":1596400187,"answer_id":63220724,"question_id":30874214,"body_markdown":"In case you have many repositories to deal with, and your need in `EntityManager` is not specific for any particular repository, it is possible to implement various `EntityManager` functionality in a single helper class, maybe something like that:\r\n\r\n    @Service\r\n    public class RepositoryHelper {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager em;\r\n    \r\n        @Transactional\r\n        public &lt;E, R&gt; R refreshAndUse(\r\n                E entity,\r\n                Function&lt;E, R&gt; usageFunction) {\r\n            em.refresh(entity);\r\n            return usageFunction.apply(entity);\r\n        }\r\n    \r\n    }\r\n\r\nThe `refreshAndUse` method here is a sample method to consume a detached entity instance, perform a refresh for it and return a result of a custom function to be applied to the refreshed entity in a declarative transaction context. And you can add other methods too, including query ones...","title":"How to access entity manager with spring boot and spring data","body":"<p>In case you have many repositories to deal with, and your need in <code>EntityManager</code> is not specific for any particular repository, it is possible to implement various <code>EntityManager</code> functionality in a single helper class, maybe something like that:</p>\n<pre><code>@Service\npublic class RepositoryHelper {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    @Transactional\n    public &lt;E, R&gt; R refreshAndUse(\n            E entity,\n            Function&lt;E, R&gt; usageFunction) {\n        em.refresh(entity);\n        return usageFunction.apply(entity);\n    }\n\n}\n</code></pre>\n<p>The <code>refreshAndUse</code> method here is a sample method to consume a detached entity instance, perform a refresh for it and return a result of a custom function to be applied to the refreshed entity in a declarative transaction context. And you can add other methods too, including query ones...</p>\n"}],"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61569,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":30886571,"answer_count":2,"score":40,"last_activity_date":1680457464,"creation_date":1434475469,"question_id":30874214,"body_markdown":"How can I get access to the `Entity Manager` in the repository when using Spring Boot and Spring Data?\r\n\r\nOtherwise, I will need to put my big query in an annotation. I would prefer to have something more clear than a long text.","title":"How to access entity manager with spring boot and spring data","body":"<p>How can I get access to the <code>Entity Manager</code> in the repository when using Spring Boot and Spring Data?</p>\n\n<p>Otherwise, I will need to put my big query in an annotation. I would prefer to have something more clear than a long text.</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":14258314,"reputation":19,"user_id":11273207,"display_name":"TherrSpoob"},"score":0,"creation_date":1651801832,"post_id":72135191,"comment_id":127455511,"body_markdown":"Note: only the first @Override method gives me an error, not the second.","body":"Note: only the first @Override method gives me an error, not the second."}],"answers":[{"tags":[],"owner":{"account_id":14258314,"reputation":19,"user_id":11273207,"display_name":"TherrSpoob"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651874883,"creation_date":1651874883,"answer_id":72147836,"question_id":72135191,"body_markdown":"In build.gradle, on line 34, ```mappings``` is defined as ```channel: &#39;official&#39;, version: &#39;1.16.5&#39;```. This should be changed to ```channel: &#39;snapshot&#39;, version: &#39;[snapshot version]&#39;```. The version I used was ```&#39;20210309-1.16.5&#39;```. Then, rebuild the gradle in Terminal using ```gradlew genIntellijRuns```.","title":"IntelliJ does not recognize fillStateContainer, getDefaultState(), or getPlacementHorizontalFacing() Forge 1.16.5","body":"<p>In build.gradle, on line 34, <code>mappings</code> is defined as <code>channel: 'official', version: '1.16.5'</code>. This should be changed to <code>channel: 'snapshot', version: '[snapshot version]'</code>. The version I used was <code>'20210309-1.16.5'</code>. Then, rebuild the gradle in Terminal using <code>gradlew genIntellijRuns</code>.</p>\n"},{"tags":[],"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652389405,"creation_date":1652389405,"answer_id":72222032,"question_id":72135191,"body_markdown":"There are several possibilities, but most cases are cache issue.\r\nPlease try invalidate cache and restart IntelliJ.\r\nIf issue persist, then sync Gradle project manually.","title":"IntelliJ does not recognize fillStateContainer, getDefaultState(), or getPlacementHorizontalFacing() Forge 1.16.5","body":"<p>There are several possibilities, but most cases are cache issue.\nPlease try invalidate cache and restart IntelliJ.\nIf issue persist, then sync Gradle project manually.</p>\n"},{"tags":[],"owner":{"account_id":4025178,"reputation":66,"user_id":3313794,"display_name":"Serhii Ivanskoi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680456714,"creation_date":1680456714,"answer_id":75913598,"question_id":72135191,"body_markdown":"For 1.16.5 you have to use\r\n\r\n    @Override\r\n    protected void createBlockStateDefinition(StateContainer.Builder&lt;Block, BlockState&gt; builder) {\r\n        builder.add(FACING);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public BlockState getStateForPlacement(BlockItemUseContext context) {\r\n        return super.getStateForPlacement(context).setValue(FACING, context.getHorizontalDirection().getOpposite());\r\n                                                  \r\n    }","title":"IntelliJ does not recognize fillStateContainer, getDefaultState(), or getPlacementHorizontalFacing() Forge 1.16.5","body":"<p>For 1.16.5 you have to use</p>\n<pre><code>@Override\nprotected void createBlockStateDefinition(StateContainer.Builder&lt;Block, BlockState&gt; builder) {\n    builder.add(FACING);\n}\n\n@Nullable\n@Override\npublic BlockState getStateForPlacement(BlockItemUseContext context) {\n    return super.getStateForPlacement(context).setValue(FACING, context.getHorizontalDirection().getOpposite());\n                                              \n}\n</code></pre>\n"}],"owner":{"account_id":14258314,"reputation":19,"user_id":11273207,"display_name":"TherrSpoob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75913598,"answer_count":3,"score":0,"last_activity_date":1680456714,"creation_date":1651800087,"question_id":72135191,"body_markdown":"I am making a custom two block long model called &quot;littleguys:operating_table&quot; and I watched tutorials to make it face the direction I want when it is placed. I made a custom OperatingTable class here:\r\n```\r\npackage com.soliid.littleguys.blocks;\r\n\r\nimport net.minecraft.block.*;\r\nimport net.minecraft.block.material.Material;\r\nimport net.minecraft.item.BlockItemUseContext;\r\nimport net.minecraft.state.StateContainer;\r\nimport net.minecraftforge.common.ToolType;\r\n\r\npublic class OperatingTable extends HorizontalBlock\r\n{\r\n    public OperatingTable()\r\n    {\r\n        super(AbstractBlock.Properties.of(Material.STONE)\r\n            .harvestLevel(1)\r\n                .harvestTool(ToolType.PICKAXE)\r\n                .sound(SoundType.STONE)\r\n                .requiresCorrectToolForDrops()\r\n                .strength(3.5f, 4.0f)\r\n        );\r\n    }\r\n\r\n    @Override\r\n    protected void fillStateContainer (StateContainer.Builder&lt;Block, BlockState&gt; builder)\r\n    {\r\n        builder.add(FACING);\r\n    }\r\n\r\n    @Override\r\n    public BlockState getStateForPlacement(BlockItemUseContext context) {\r\n        return this.getDefaultState().with(FACING, context.getPlacementHorizontalFacing().getOpposite());\r\n    }\r\n}\r\n```\r\nThe @Override gives me an error reading\r\n``` Method does not override method from its superclass ```, getDefaultState() gives me ```Cannot resolve method &#39;getDefaultState&#39; in &#39;OperatingTable&#39;```, and getPlacementHorizontalFacing() gives me ```Cannot resolve method &#39;getPlacementHorizontalFacing&#39; in &#39;BlockItemUseContext&#39;```. \r\n\r\nI now realized that these methods are not in OperatingTables&#39;s superclasses (HorizontalBlock and Block) but I want to know which methods are now used instead. There are no errors in the registry of ```RegistryObject&lt;Block&gt; OPERATING_TABLE``` or ```RegistryObject&lt;Item&gt; OPERATING_TABLE_ITEM```.\r\n\r\nThis class is not complete but I cannot continue until I resolve the error.","title":"IntelliJ does not recognize fillStateContainer, getDefaultState(), or getPlacementHorizontalFacing() Forge 1.16.5","body":"<p>I am making a custom two block long model called &quot;littleguys:operating_table&quot; and I watched tutorials to make it face the direction I want when it is placed. I made a custom OperatingTable class here:</p>\n<pre><code>package com.soliid.littleguys.blocks;\n\nimport net.minecraft.block.*;\nimport net.minecraft.block.material.Material;\nimport net.minecraft.item.BlockItemUseContext;\nimport net.minecraft.state.StateContainer;\nimport net.minecraftforge.common.ToolType;\n\npublic class OperatingTable extends HorizontalBlock\n{\n    public OperatingTable()\n    {\n        super(AbstractBlock.Properties.of(Material.STONE)\n            .harvestLevel(1)\n                .harvestTool(ToolType.PICKAXE)\n                .sound(SoundType.STONE)\n                .requiresCorrectToolForDrops()\n                .strength(3.5f, 4.0f)\n        );\n    }\n\n    @Override\n    protected void fillStateContainer (StateContainer.Builder&lt;Block, BlockState&gt; builder)\n    {\n        builder.add(FACING);\n    }\n\n    @Override\n    public BlockState getStateForPlacement(BlockItemUseContext context) {\n        return this.getDefaultState().with(FACING, context.getPlacementHorizontalFacing().getOpposite());\n    }\n}\n</code></pre>\n<p>The @Override gives me an error reading\n<code>Method does not override method from its superclass</code>, getDefaultState() gives me <code>Cannot resolve method 'getDefaultState' in 'OperatingTable'</code>, and getPlacementHorizontalFacing() gives me <code>Cannot resolve method 'getPlacementHorizontalFacing' in 'BlockItemUseContext'</code>.</p>\n<p>I now realized that these methods are not in OperatingTables's superclasses (HorizontalBlock and Block) but I want to know which methods are now used instead. There are no errors in the registry of <code>RegistryObject&lt;Block&gt; OPERATING_TABLE</code> or <code>RegistryObject&lt;Item&gt; OPERATING_TABLE_ITEM</code>.</p>\n<p>This class is not complete but I cannot continue until I resolve the error.</p>\n"},{"tags":["java","spring","encryption","servlet-filters"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1446633534,"post_id":33519546,"comment_id":54820714,"body_markdown":"Why this all? HTTPS was already invented decades ago. Just let server do all the hard work.","body":"Why this all? HTTPS was already invented decades ago. Just let server do all the hard work."},{"owner":{"account_id":1303043,"reputation":1515,"user_id":1941560,"accept_rate":60,"display_name":"px5x2"},"score":1,"creation_date":1446633884,"post_id":33519546,"comment_id":54820924,"body_markdown":"afaik request approaches to dispatcher servlet after servlet filters do their job.","body":"afaik request approaches to dispatcher servlet after servlet filters do their job."},{"owner":{"account_id":4565510,"reputation":1239,"user_id":3706613,"display_name":"Hemant Sharma"},"score":0,"creation_date":1446634386,"post_id":33519546,"comment_id":54821250,"body_markdown":"Can you please give me any reference link to do this work. I am little confused in this functionality.","body":"Can you please give me any reference link to do this work. I am little confused in this functionality."},{"owner":{"account_id":1303043,"reputation":1515,"user_id":1941560,"accept_rate":60,"display_name":"px5x2"},"score":0,"creation_date":1446638409,"post_id":33519546,"comment_id":54823925,"body_markdown":"@HemantSharma http://tutorials.jenkov.com/images/java-servlets/servlet-filters-1.png, DispatcherServlet is a type of servlet in this context.","body":"@HemantSharma <a href=\"http://tutorials.jenkov.com/images/java-servlets/servlet-filters-1.png\" rel=\"nofollow noreferrer\">tutorials.jenkov.com/images/java-servlets/servlet-filters-1.&zwnj;&#8203;png</a>, DispatcherServlet is a type of servlet in this context."}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1680530251,"post_id":75913581,"comment_id":133909418,"body_markdown":"Please don&#39;t. Simply use HTTPS instead of HTTP.","body":"Please don&#39;t. Simply use HTTPS instead of HTTP."}],"tags":[],"owner":{"account_id":17463562,"reputation":1,"user_id":21550703,"display_name":"Devendra Gaupale"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680456469,"creation_date":1680456469,"answer_id":75913581,"question_id":33519546,"body_markdown":"we create wrapper classes for request extends HttpServletRequestWrapper and response extends HttpServletResponseWrapper then create your encryption decryption logic class\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport javax.servlet.ServletInputStream;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletRequestWrapper;\r\n\r\npublic class RequestWrapper extends HttpServletRequestWrapper {\r\n\r\n\tprivate final String body;\r\n\r\n\tpublic RequestWrapper(HttpServletRequest request) throws Exception {\r\n\t\tsuper(request);\r\n\r\n\t\tStringBuilder stringBuilder = new StringBuilder();\r\n\t\tBufferedReader bufferedReader = null;\r\n\t\ttry {\r\n\t\t\tInputStream inputStream = request.getInputStream();\r\n\t\t\tif (inputStream != null) {\r\n\t\t\t\tbufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\t\t\t\tchar[] charBuffer = new char[128];\r\n\t\t\t\tint bytesRead = -1;\r\n\t\t\t\twhile ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n\t\t\t\t\tstringBuilder.append(charBuffer, 0, bytesRead);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tstringBuilder.append(&quot;&quot;);\r\n\t\t\t}\r\n\t\t} catch (IOException ex) {\r\n\t\t\tthrow ex;\r\n\t\t} finally {\r\n\t\t\tif (bufferedReader != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tbufferedReader.close();\r\n\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\tthrow ex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tString encryptData = stringBuilder.toString();\r\n\t\tString deCryptData = null;\r\n\t\tif (encryptData != null &amp;&amp; !encryptData.isEmpty()) {\r\n\t\t\tdeCryptData = DecryptEncryptData.decrypt(encryptData);\r\n\t\t\tif (deCryptData == null) {\r\n\t\t\t\t//Exception occured inside decrypt - Request Body not valid:\r\n\t\t\t}\r\n\t\t}\r\n\t\tbody = deCryptData;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ServletInputStream getInputStream() throws IOException {\r\n\t\tfinal ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(body.getBytes());\r\n\t\tServletInputStream servletInputStream = new ServletInputStream() {\r\n\t\t\tpublic int read() throws IOException {\r\n\t\t\t\treturn byteArrayInputStream.read();\r\n\t\t\t}\r\n\r\n\t\t\tpublic boolean isFinished() {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tpublic boolean isReady() {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setReadListener() {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn servletInputStream;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BufferedReader getReader() throws IOException {\r\n\t\treturn new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n\t}\r\n\r\n\tpublic String getBody() {\r\n\t\treturn this.body;\r\n\t}\r\n}\r\n\r\n```\r\n```\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\nimport javax.servlet.ServletOutputStream;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpServletResponseWrapper;\r\n\r\npublic class ResponseWrapper extends HttpServletResponseWrapper {\r\n\r\n\tprivate ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\tprivate PrintWriter writer = new PrintWriter(outputStream);\r\n\t\r\n\tpublic ResponseWrapper(HttpServletResponse response) {\r\n\t\tsuper(response);\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ServletOutputStream getOutputStream() throws IOException {\r\n\r\n\t\treturn new ServletOutputStream() {\r\n\t\t\t@Override\r\n\t\t\tpublic void write(int b) throws IOException {\r\n\t\t\t\toutputStream.write(b);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void write(byte[] b) throws IOException {\r\n\t\t\t\toutputStream.write(b);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@Override\r\n\tpublic PrintWriter getWriter() throws IOException {\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void flushBuffer() throws IOException {\r\n\t\tif (writer != null) {\r\n\t\t\twriter.flush();\r\n\t\t} else if (outputStream != null) {\r\n\t\t\toutputStream.flush();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic String getResponseData() {\r\n\t\treturn outputStream.toString();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.security.InvalidAlgorithmParameterException;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport javax.crypto.BadPaddingException;\r\nimport javax.crypto.IllegalBlockSizeException;\r\nimport javax.crypto.NoSuchPaddingException;\r\nimport javax.servlet.Filter;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.FilterConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\npublic class ApiFilter implements Filter{\r\n\r\n\t@Override\r\n\tpublic void init(FilterConfig arg0) throws ServletException {\t\t\r\n\t}\r\n\t@Override\r\n\tpublic void destroy() {\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\tHttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n\t\tHttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n\t\tRequestWrapper requestWrapper = null;\r\n\t\tResponseWrapper responseWrapper = null;\r\n\t\ttry {\r\n\t\t\trequestWrapper = new RequestWrapper(httpServletRequest);\r\n\t\t\tresponseWrapper = new ResponseWrapper(httpServletResponse);\r\n\t\t\tchain.doFilter(requestWrapper, responseWrapper);\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t}  \r\n\t\t\r\n\t\tString responseData = responseWrapper.getResponseData();\r\n        String encryptedResponseData = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tencryptedResponseData = DecryptEncryptData.encrypt(responseData);\r\n\t\t} catch (InvalidKeyException e) {\r\n\r\n\t\t} catch (NoSuchPaddingException e) {\r\n\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\r\n\t\t} catch (InvalidAlgorithmParameterException e) {\r\n\r\n\t\t} catch (BadPaddingException e) {\r\n\r\n\t\t} catch (IllegalBlockSizeException e) {\r\n\r\n\t\t}\r\n        OutputStream outputStream = httpServletResponse.getOutputStream();\r\n        outputStream.write(encryptedResponseData.getBytes());\r\n        outputStream.flush();\r\n        outputStream.close();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n```\r\nimport java.security.InvalidAlgorithmParameterException;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.util.Base64;\r\n\r\nimport javax.crypto.BadPaddingException;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.IllegalBlockSizeException;\r\nimport javax.crypto.NoSuchPaddingException;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\npublic class DecryptEncryptData {\r\n\r\n\tprivate final static String KEY = &quot;&quot;;// provide your key\r\n\tprivate final static String IV = &quot;&quot;;// provide your vector key\r\n\tprivate final static String algorithm = &quot;&quot;;// provide your algorithm\r\n\t\r\n\r\n\tpublic static String encrypt(String plainText) throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n\t\t\tInvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n\r\n\t\tSecretKey key = new SecretKeySpec(KEY.getBytes(), &quot;AES&quot;);\r\n\t\tIvParameterSpec iv = new IvParameterSpec(IV.getBytes());\r\n\t\tCipher cipher = Cipher.getInstance(algorithm);\r\n\t\tcipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n\t\tbyte[] cipherText = cipher.doFinal(plainText.getBytes());\r\n\t\treturn Base64.getEncoder().encodeToString(cipherText);\r\n\t}\r\n\r\n\tpublic static String decrypt(String cipherText) throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n\t\t\tInvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n\r\n\t\tSecretKey key = new SecretKeySpec(KEY.getBytes(), &quot;AES&quot;);\r\n\t\tIvParameterSpec iv = new IvParameterSpec(IV.getBytes());\r\n\t\tCipher cipher = Cipher.getInstance(algorithm);\r\n\t\tcipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n\t\tbyte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\r\n\t\treturn new String(plainText);\r\n\t}\r\n\r\n}\r\n\r\n```","title":"Java Filter: Decode ServletRequest, process with decoded data, get and encode result and response user","body":"<p>we create wrapper classes for request extends HttpServletRequestWrapper and response extends HttpServletResponseWrapper then create your encryption decryption logic class</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\n\npublic class RequestWrapper extends HttpServletRequestWrapper {\n\n    private final String body;\n\n    public RequestWrapper(HttpServletRequest request) throws Exception {\n        super(request);\n\n        StringBuilder stringBuilder = new StringBuilder();\n        BufferedReader bufferedReader = null;\n        try {\n            InputStream inputStream = request.getInputStream();\n            if (inputStream != null) {\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                char[] charBuffer = new char[128];\n                int bytesRead = -1;\n                while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n                    stringBuilder.append(charBuffer, 0, bytesRead);\n                }\n            } else {\n                stringBuilder.append(&quot;&quot;);\n            }\n        } catch (IOException ex) {\n            throw ex;\n        } finally {\n            if (bufferedReader != null) {\n                try {\n                    bufferedReader.close();\n                } catch (IOException ex) {\n                    throw ex;\n                }\n            }\n        }\n        String encryptData = stringBuilder.toString();\n        String deCryptData = null;\n        if (encryptData != null &amp;&amp; !encryptData.isEmpty()) {\n            deCryptData = DecryptEncryptData.decrypt(encryptData);\n            if (deCryptData == null) {\n                //Exception occured inside decrypt - Request Body not valid:\n            }\n        }\n        body = deCryptData;\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(body.getBytes());\n        ServletInputStream servletInputStream = new ServletInputStream() {\n            public int read() throws IOException {\n                return byteArrayInputStream.read();\n            }\n\n            public boolean isFinished() {\n                // TODO Auto-generated method stub\n                return false;\n            }\n\n            public boolean isReady() {\n                // TODO Auto-generated method stub\n                return false;\n            }\n\n            public void setReadListener() {\n                // TODO Auto-generated method stub\n            }\n        };\n        return servletInputStream;\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        return new BufferedReader(new InputStreamReader(this.getInputStream()));\n    }\n\n    public String getBody() {\n        return this.body;\n    }\n}\n\n</code></pre>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpServletResponseWrapper;\n\npublic class ResponseWrapper extends HttpServletResponseWrapper {\n\n    private ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    private PrintWriter writer = new PrintWriter(outputStream);\n    \n    public ResponseWrapper(HttpServletResponse response) {\n        super(response);\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public ServletOutputStream getOutputStream() throws IOException {\n\n        return new ServletOutputStream() {\n            @Override\n            public void write(int b) throws IOException {\n                outputStream.write(b);\n            }\n\n            @Override\n            public void write(byte[] b) throws IOException {\n                outputStream.write(b);\n            }\n        };\n    }\n\n    @Override\n    public PrintWriter getWriter() throws IOException {\n        return writer;\n    }\n\n    @Override\n    public void flushBuffer() throws IOException {\n        if (writer != null) {\n            writer.flush();\n        } else if (outputStream != null) {\n            outputStream.flush();\n        }\n    }\n\n    public String getResponseData() {\n        return outputStream.toString();\n    }\n\n}\n\n</code></pre>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class ApiFilter implements Filter{\n\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {       \n    }\n    @Override\n    public void destroy() {     \n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n        HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n        RequestWrapper requestWrapper = null;\n        ResponseWrapper responseWrapper = null;\n        try {\n            requestWrapper = new RequestWrapper(httpServletRequest);\n            responseWrapper = new ResponseWrapper(httpServletResponse);\n            chain.doFilter(requestWrapper, responseWrapper);\n        } catch (Exception e) {\n\n        }  \n        \n        String responseData = responseWrapper.getResponseData();\n        String encryptedResponseData = &quot;&quot;;\n        try {\n            encryptedResponseData = DecryptEncryptData.encrypt(responseData);\n        } catch (InvalidKeyException e) {\n\n        } catch (NoSuchPaddingException e) {\n\n        } catch (NoSuchAlgorithmException e) {\n\n        } catch (InvalidAlgorithmParameterException e) {\n\n        } catch (BadPaddingException e) {\n\n        } catch (IllegalBlockSizeException e) {\n\n        }\n        OutputStream outputStream = httpServletResponse.getOutputStream();\n        outputStream.write(encryptedResponseData.getBytes());\n        outputStream.flush();\n        outputStream.close();\n    }\n\n}\n\n</code></pre>\n<pre><code>import java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Base64;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class DecryptEncryptData {\n\n    private final static String KEY = &quot;&quot;;// provide your key\n    private final static String IV = &quot;&quot;;// provide your vector key\n    private final static String algorithm = &quot;&quot;;// provide your algorithm\n    \n\n    public static String encrypt(String plainText) throws NoSuchPaddingException, NoSuchAlgorithmException,\n            InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        SecretKey key = new SecretKeySpec(KEY.getBytes(), &quot;AES&quot;);\n        IvParameterSpec iv = new IvParameterSpec(IV.getBytes());\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n        byte[] cipherText = cipher.doFinal(plainText.getBytes());\n        return Base64.getEncoder().encodeToString(cipherText);\n    }\n\n    public static String decrypt(String cipherText) throws NoSuchPaddingException, NoSuchAlgorithmException,\n            InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        SecretKey key = new SecretKeySpec(KEY.getBytes(), &quot;AES&quot;);\n        IvParameterSpec iv = new IvParameterSpec(IV.getBytes());\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\n        return new String(plainText);\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":4565510,"reputation":1239,"user_id":3706613,"display_name":"Hemant Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680456469,"creation_date":1446633205,"question_id":33519546,"body_markdown":"I am creating a secure Java web application using Spring. For this I am using AES encryption to decrypt and encrypt request, response data.\r\n\r\nI want to use filter for this functionality. **Here is the Flow:**\r\n\r\n 1. User request with encrypted data\r\n 2. Decrypt data in filter\r\n 3. Request controller with decrypted data\r\n 4. Get and encrypt response\r\n 5. Give encrypted response to requester.\r\n\r\nI can decrypt request data and encrypt response. But I don&#39;t know how to send decrypted data to my controller. Please check attached image for more information.\r\n[![enter image description here][1]][1]\r\n**Thanks in advance!**\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/y6JWP.png","title":"Java Filter: Decode ServletRequest, process with decoded data, get and encode result and response user","body":"<p>I am creating a secure Java web application using Spring. For this I am using AES encryption to decrypt and encrypt request, response data.</p>\n\n<p>I want to use filter for this functionality. <strong>Here is the Flow:</strong></p>\n\n<ol>\n<li>User request with encrypted data</li>\n<li>Decrypt data in filter</li>\n<li>Request controller with decrypted data</li>\n<li>Get and encrypt response</li>\n<li>Give encrypted response to requester.</li>\n</ol>\n\n<p>I can decrypt request data and encrypt response. But I don't know how to send decrypted data to my controller. Please check attached image for more information.\n<a href=\"https://i.stack.imgur.com/y6JWP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y6JWP.png\" alt=\"enter image description here\"></a>\n<strong>Thanks in advance!</strong></p>\n"},{"tags":["java","list","long-integer"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1680443126,"post_id":75912378,"comment_id":133895796,"body_markdown":"Have you looked at the documentation for `List.of` carefully?","body":"Have you looked at the documentation for <code>List.of</code> carefully?"},{"owner":{"account_id":28194697,"reputation":3,"user_id":21549534,"display_name":"David Klein"},"score":0,"creation_date":1680443333,"post_id":75912378,"comment_id":133895830,"body_markdown":"Oh dang. Thank you.... The List.of wasn&#39;t necessary... I just use an array List. I completely overlooked the obvious.","body":"Oh dang. Thank you.... The List.of wasn&#39;t necessary... I just use an array List. I completely overlooked the obvious."}],"answers":[{"comments":[{"owner":{"account_id":28194697,"reputation":3,"user_id":21549534,"display_name":"David Klein"},"score":1,"creation_date":1680443853,"post_id":75912431,"comment_id":133895908,"body_markdown":"Thank you :) I&#39;m just learning to code, so your feedback is truly appreciated.","body":"Thank you :) I&#39;m just learning to code, so your feedback is truly appreciated."}],"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680456461,"creation_date":1680443455,"answer_id":75912431,"question_id":75912378,"body_markdown":"From the [documentation of `List::of` (`docs.oracle.com`)][listApi]:\r\n\r\n&gt; Returns an unmodifiable list containing one element. See [Unmodifiable Lists][unmodifiableListApi] for details.\r\n\r\nThis is why the call to `add(...)` results in an `UnsupportedOperationException`. If we want to modify the list created, we will have to create a modifiable list, e.g.:\r\n\r\n```\r\nList&lt;Long&gt; LongList = new ArrayList&lt;&gt;(List.of((long) 3));\r\nLongList.add((long) 2);\r\n```\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][ideone]\r\n\r\nor:\r\n```\r\nList&lt;Long&gt; LongList = new ArrayList&lt;&gt;();\r\nLongList.add((long) 3);\r\nLongList.add((long) 2);\r\n```\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][idetwo]\r\n\r\n---\r\n\r\nSome remarks on the code:\r\n- Variable names should be written in `lowerCamelCase`, not `UpperCamelCase` (`LongList` -&gt; `longList`)\r\n- Instead of casting the literals `2` and `3` to `long`, we can use the `long`-literals `2L` and `3L`\r\n\r\n[listApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E)\r\n\r\n[unmodifiableListApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\r\n\r\n[ideone]: https://ideone.com/i80Qmo\r\n\r\n[idetwo]: https://ideone.com/sB7Ioq","title":"Add objects to List of Long","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E)\" rel=\"nofollow noreferrer\">documentation of <code>List::of</code> (<code>docs.oracle.com</code>)</a>:</p>\n<blockquote>\n<p>Returns an unmodifiable list containing one element. See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">Unmodifiable Lists</a> for details.</p>\n</blockquote>\n<p>This is why the call to <code>add(...)</code> results in an <code>UnsupportedOperationException</code>. If we want to modify the list created, we will have to create a modifiable list, e.g.:</p>\n<pre><code>List&lt;Long&gt; LongList = new ArrayList&lt;&gt;(List.of((long) 3));\nLongList.add((long) 2);\n</code></pre>\n<p><a href=\"https://ideone.com/i80Qmo\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>or:</p>\n<pre><code>List&lt;Long&gt; LongList = new ArrayList&lt;&gt;();\nLongList.add((long) 3);\nLongList.add((long) 2);\n</code></pre>\n<p><a href=\"https://ideone.com/sB7Ioq\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<hr />\n<p>Some remarks on the code:</p>\n<ul>\n<li>Variable names should be written in <code>lowerCamelCase</code>, not <code>UpperCamelCase</code> (<code>LongList</code> -&gt; <code>longList</code>)</li>\n<li>Instead of casting the literals <code>2</code> and <code>3</code> to <code>long</code>, we can use the <code>long</code>-literals <code>2L</code> and <code>3L</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680450160,"creation_date":1680443943,"answer_id":75912474,"question_id":75912378,"body_markdown":"You have initialized the list variable with the *List.of()* method. That&#39;s why your list is immutable. No items can be added to it. This can also be seen in the error message.\r\n\r\nPlease initialize the variable with a new instance of ArrayList. Then you can start adding items to it.\r\n\r\n    List&lt;Long&gt; longList = new ArrayList&lt;&gt;():\r\n    longList.add(3L);\r\n    longList.add(2L);","title":"Add objects to List of Long","body":"<p>You have initialized the list variable with the <em>List.of()</em> method. That's why your list is immutable. No items can be added to it. This can also be seen in the error message.</p>\n<p>Please initialize the variable with a new instance of ArrayList. Then you can start adding items to it.</p>\n<pre><code>List&lt;Long&gt; longList = new ArrayList&lt;&gt;():\nlongList.add(3L);\nlongList.add(2L);\n</code></pre>\n"}],"owner":{"account_id":28194697,"reputation":3,"user_id":21549534,"display_name":"David Klein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75912431,"answer_count":2,"score":0,"last_activity_date":1680456461,"creation_date":1680442944,"question_id":75912378,"body_markdown":"I want to add a Long Object to a List of Long, but I get some error that I don&#39;t understand\r\n\r\nI have the following minimal example:\r\n\r\n```\r\npackage main;\r\n\r\nimport java.util.List;\r\n\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tList&lt;Long&gt; LongList = List.of((long) 3);\r\n\t\tLongList.add((long) 2);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe Error msg is:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n&gt; at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\r\n&gt; at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)\r\n&gt; at main.Test.main(Test.java:10)\r\n\r\nI need to have the format Long, and I tried to change the way I convert to long. Also, I tried to give the position for where to add explicitly, but nothing changed.\r\n","title":"Add objects to List of Long","body":"<p>I want to add a Long Object to a List of Long, but I get some error that I don't understand</p>\n<p>I have the following minimal example:</p>\n<pre><code>package main;\n\nimport java.util.List;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        \n        List&lt;Long&gt; LongList = List.of((long) 3);\n        LongList.add((long) 2);\n    }\n\n}\n</code></pre>\n<p>The Error msg is:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\nat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\nat java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)\nat main.Test.main(Test.java:10)</p>\n</blockquote>\n<p>I need to have the format Long, and I tried to change the way I convert to long. Also, I tried to give the position for where to add explicitly, but nothing changed.</p>\n"},{"tags":["java","kotlin","gradle","antlr","gradlew"],"comments":[{"owner":{"account_id":4473,"reputation":474,"user_id":6740,"display_name":"Anarchofascist"},"score":0,"creation_date":1671688025,"post_id":74884511,"comment_id":132153264,"body_markdown":"distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-bin.zip\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip","body":"distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-7.5.1-bin.zip distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-7.2-bin.zip"},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1671707565,"post_id":74884511,"comment_id":132158236,"body_markdown":"It smells to me like a file-system case-sensitivity issue.  Check this carefully","body":"It smells to me like a file-system case-sensitivity issue.  Check this carefully"},{"owner":{"account_id":4473,"reputation":474,"user_id":6740,"display_name":"Anarchofascist"},"score":0,"creation_date":1671713362,"post_id":74884511,"comment_id":132159943,"body_markdown":"Thanks @AndrewL - you inspired me to try it out on Linux. Good idea, but looks like a dud! Still same problem.","body":"Thanks @AndrewL - you inspired me to try it out on Linux. Good idea, but looks like a dud! Still same problem."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1671791967,"post_id":74884511,"comment_id":132176944,"body_markdown":"OK, next thing that seems unusual is your path to these generated files: &quot;/home/ph/IdeaProjects/se/core/src/main/generated/com/pcholt...&quot; Normally the compiler defaults to looking in places like src/main/java or src/main/kotlin not in src/main/generated","body":"OK, next thing that seems unusual is your path to these generated files: &quot;/home/ph/IdeaProjects/se/core/src/main/generated/com/pcholt&zwnj;&#8203;...&quot; Normally the compiler defaults to looking in places like src/main/java or src/main/kotlin not in src/main/generated"},{"owner":{"account_id":4473,"reputation":474,"user_id":6740,"display_name":"Anarchofascist"},"score":0,"creation_date":1671967461,"post_id":74884511,"comment_id":132201844,"body_markdown":"The generated directory comes from the `generateGrammarSource` task, which takes a grammar and outputs a source directory.  I included that in the source directories list with `srcDirs = [&quot;src/main/kotlin&quot;, &quot;src/main/generated&quot;]`","body":"The generated directory comes from the <code>generateGrammarSource</code> task, which takes a grammar and outputs a source directory.  I included that in the source directories list with <code>srcDirs = [&quot;src&#47;main&#47;kotlin&quot;, &quot;src&#47;main&#47;generated&quot;]</code>"}],"answers":[{"comments":[{"owner":{"account_id":4473,"reputation":474,"user_id":6740,"display_name":"Anarchofascist"},"score":0,"creation_date":1681157919,"post_id":75913545,"comment_id":134008506,"body_markdown":"I think you might have solved it!","body":"I think you might have solved it!"}],"tags":[],"owner":{"account_id":28196105,"reputation":46,"user_id":21550712,"display_name":"Mark Dubkov"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680455988,"creation_date":1680455988,"answer_id":75913545,"question_id":74884511,"body_markdown":"try to specify an explicit relationship between the compilation task and the grammar generation task \r\n\r\nbuild.gradle.kts:\r\n\r\n```kotlin\r\n\r\n// ...\r\n\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n    dependsOn(tasks.generateGrammarSource)\r\n    kotlinOptions.jvmTarget = &quot;1.8&quot;\r\n}\r\n\r\n// ...\r\n```","title":"compileKotlin task says &quot;Java source root points to a non-existent location&quot;","body":"<p>try to specify an explicit relationship between the compilation task and the grammar generation task</p>\n<p>build.gradle.kts:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n// ...\n\ntasks.withType&lt;KotlinCompile&gt; {\n    dependsOn(tasks.generateGrammarSource)\n    kotlinOptions.jvmTarget = &quot;1.8&quot;\n}\n\n// ...\n</code></pre>\n"}],"owner":{"account_id":4473,"reputation":474,"user_id":6740,"display_name":"Anarchofascist"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75913545,"answer_count":1,"score":0,"last_activity_date":1680455988,"creation_date":1671687596,"question_id":74884511,"body_markdown":"I&#39;m getting this error when I compile my project on Windows under gradle. This is the first three lines of the error:\r\n\r\n```\r\n&gt; Task :core:compileKotlin FAILED\r\nw: Java source root points to a non-existent location: C:\\Users\\pchol\\IdeaProjects\\space-empires\\core\\src\\main\\generated\\com\\pcholt\\se\\OrdersBaseListener.java\r\nw: Java source root points to a non-existent location: C:\\Users\\pchol\\IdeaProjects\\space-empires\\core\\src\\main\\generated\\com\\pcholt\\se\\OrdersLexer.java\r\n```\r\n\r\nI&#39;ve done the usual thing and searched for the string &quot;Java source root points to a non-existent location&quot; and google returns **absolutely nothing**.\r\n\r\n**The files exist.** In IntelliJ, I can click on the files, and they come up in the editor. In fact, the IDE doesn&#39;t show any errors at all, until you try to run anything. Files appear in explorer.\r\n\r\nThese files are created by the antlr plugin, with these commands:\r\n\r\n``` groovy\r\nprocessResources {\r\n    dependsOn generateGrammarSource\r\n}\r\ngenerateGrammarSource {\r\n    outputDirectory = file(&quot;src/main/generated&quot;)\r\n}\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&quot;src/main/kotlin&quot;, &quot;src/main/generated&quot;]\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I **delete** the `C:\\Users\\pchol\\IdeaProjects\\space-empires\\.gradle` directory, and rebuild the application, I can build it without problems. The error doesn&#39;t appear, the `.jar` is generated and runs fine. If I make any subsequent changes to the code, and try again, the error returns.\r\n\r\n- Kotlin version 1.7.22\r\n- Jvm version 16\r\n- antlr 4.11.1\r\n\r\n```\r\nPS C:\\Users\\pchol&gt; java --version\r\njava 17.0.2 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n```\r\n\r\n\r\nI have switched off caching in `gradle.properties`:\r\n\r\n    org.gradle.caching=false\r\n\r\nIt&#39;s not an IDE problem - on the windows command line I get:\r\n[![image of the error shown above, but created from gradlew clear jar][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dZRDN.png\r\n\r\n---\r\n## Update `2022 Dec 23`\r\n\r\nThis is not only a Windows problem. I checked the codebase out on a Linux partition, and I get the same issue:\r\n\r\n```\r\n&gt; Task :core:compileKotlin FAILED\r\nw: Java source root points to a non-existent location: /home/ph/IdeaProjects/se/core/src/main/generated/com/pcholt/se/OrdersLexer.java\r\nw: Java source root points to a non-existent location: /home/ph/IdeaProjects/se/core/src/main/generated/com/pcholt/se/OrdersListener.java\r\n```\r\n\r\nThis also happens on OpenJDK\r\n\r\n```\r\nph@po:~/IdeaProjects/se$ java --version\r\nopenjdk 17.0.4 2022-07-19\r\nOpenJDK Runtime Environment (build 17.0.4+8-Ubuntu-120.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.4+8-Ubuntu-120.04, mixed mode, sharing)\r\n```","title":"compileKotlin task says &quot;Java source root points to a non-existent location&quot;","body":"<p>I'm getting this error when I compile my project on Windows under gradle. This is the first three lines of the error:</p>\n<pre><code>&gt; Task :core:compileKotlin FAILED\nw: Java source root points to a non-existent location: C:\\Users\\pchol\\IdeaProjects\\space-empires\\core\\src\\main\\generated\\com\\pcholt\\se\\OrdersBaseListener.java\nw: Java source root points to a non-existent location: C:\\Users\\pchol\\IdeaProjects\\space-empires\\core\\src\\main\\generated\\com\\pcholt\\se\\OrdersLexer.java\n</code></pre>\n<p>I've done the usual thing and searched for the string &quot;Java source root points to a non-existent location&quot; and google returns <strong>absolutely nothing</strong>.</p>\n<p><strong>The files exist.</strong> In IntelliJ, I can click on the files, and they come up in the editor. In fact, the IDE doesn't show any errors at all, until you try to run anything. Files appear in explorer.</p>\n<p>These files are created by the antlr plugin, with these commands:</p>\n<pre><code>processResources {\n    dependsOn generateGrammarSource\n}\ngenerateGrammarSource {\n    outputDirectory = file(&quot;src/main/generated&quot;)\n}\nsourceSets {\n    main {\n        java {\n            srcDirs = [&quot;src/main/kotlin&quot;, &quot;src/main/generated&quot;]\n        }\n    }\n}\n\n</code></pre>\n<p>When I <strong>delete</strong> the <code>C:\\Users\\pchol\\IdeaProjects\\space-empires\\.gradle</code> directory, and rebuild the application, I can build it without problems. The error doesn't appear, the <code>.jar</code> is generated and runs fine. If I make any subsequent changes to the code, and try again, the error returns.</p>\n<ul>\n<li>Kotlin version 1.7.22</li>\n<li>Jvm version 16</li>\n<li>antlr 4.11.1</li>\n</ul>\n<pre><code>PS C:\\Users\\pchol&gt; java --version\njava 17.0.2 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\n</code></pre>\n<p>I have switched off caching in <code>gradle.properties</code>:</p>\n<pre><code>org.gradle.caching=false\n</code></pre>\n<p>It's not an IDE problem - on the windows command line I get:\n<a href=\"https://i.stack.imgur.com/dZRDN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dZRDN.png\" alt=\"image of the error shown above, but created from gradlew clear jar\" /></a></p>\n<hr />\n<h2>Update <code>2022 Dec 23</code></h2>\n<p>This is not only a Windows problem. I checked the codebase out on a Linux partition, and I get the same issue:</p>\n<pre><code>&gt; Task :core:compileKotlin FAILED\nw: Java source root points to a non-existent location: /home/ph/IdeaProjects/se/core/src/main/generated/com/pcholt/se/OrdersLexer.java\nw: Java source root points to a non-existent location: /home/ph/IdeaProjects/se/core/src/main/generated/com/pcholt/se/OrdersListener.java\n</code></pre>\n<p>This also happens on OpenJDK</p>\n<pre><code>ph@po:~/IdeaProjects/se$ java --version\nopenjdk 17.0.4 2022-07-19\nOpenJDK Runtime Environment (build 17.0.4+8-Ubuntu-120.04)\nOpenJDK 64-Bit Server VM (build 17.0.4+8-Ubuntu-120.04, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","sql-server-2012","hikaricp"],"comments":[{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":1,"creation_date":1680077144,"post_id":75732175,"comment_id":133833961,"body_markdown":"Could you add stack trace of OOME?","body":"Could you add stack trace of OOME?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1680275669,"post_id":75732175,"comment_id":133875989,"body_markdown":"Are you sure that your SQL server is capable to handle that much connections ?  Because the timeout might happen because the server refuses (or have trouble) to handle as many connections, and the OOM might just be a side-effect of the fact that you have 100+ connections alive client-side. Hikari provides a [pool sizing documentation](https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing) to help you understand all of it.","body":"Are you sure that your SQL server is capable to handle that much connections ?  Because the timeout might happen because the server refuses (or have trouble) to handle as many connections, and the OOM might just be a side-effect of the fact that you have 100+ connections alive client-side. Hikari provides a <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\" rel=\"nofollow noreferrer\">pool sizing documentation</a> to help you understand all of it."}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680455780,"creation_date":1680455780,"answer_id":75913532,"question_id":75732175,"body_markdown":"for first question\r\n&gt;This is strange also because the total should be 600 and also why the connections go to queue ?\r\n\r\nthat is a &quot;connection&quot; open queue as described [here](https://stackoverflow.com/a/64319099/175554). And for second question check below.\r\n\r\nConfiguration is missing socket timeout configuration as described [here](https://github.com/brettwooldridge/HikariCP/wiki/Rapid-Recovery#tcp-timeouts)\r\n\r\n&gt; In order to avoid this condition, it is imperative that the application configures the driver-level TCP socket timeout. Each driver differs in how this timeout is set, but nearly all drivers support it.\r\n\r\n&gt; HikariCP recommends that the driver-level socket timeout be set to (at least) 2-3x the longest running SQL transaction, or 30 seconds, whichever is longer. However, your own recovery time targets should determine the appropriate timeout for your application.\r\n\r\nFor MS SQL doc is [here](https://github.com/microsoft/mssql-jdbc/wiki/SocketTimeout)\r\n\r\n&gt;connection URL jdbc:sqlserver://localhost;userName=sa;password=PASSW0RD;database=master;socketTimeout=10000;\r\n\r\nIf socketTimeout is not defined then that tcp connection waits forever and probably that creates the **OutOfMemoryError**.\r\n\r\nIn order to fix OutOfMemoryError, you can lower **crm.maximum-pool-size=600** or [increase/fine tune xmx and xms values of the jvm](https://stackoverflow.com/a/14763095/175554). last but not least why not upgrade to java 17. Java 8 is pretty old and every jvm brings more performance improvements.\r\n","title":"HikariCP lots of connection timeout causes java.lang.OutOfMemoryError","body":"<p>for first question</p>\n<blockquote>\n<p>This is strange also because the total should be 600 and also why the connections go to queue ?</p>\n</blockquote>\n<p>that is a &quot;connection&quot; open queue as described <a href=\"https://stackoverflow.com/a/64319099/175554\">here</a>. And for second question check below.</p>\n<p>Configuration is missing socket timeout configuration as described <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/Rapid-Recovery#tcp-timeouts\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>In order to avoid this condition, it is imperative that the application configures the driver-level TCP socket timeout. Each driver differs in how this timeout is set, but nearly all drivers support it.</p>\n</blockquote>\n<blockquote>\n<p>HikariCP recommends that the driver-level socket timeout be set to (at least) 2-3x the longest running SQL transaction, or 30 seconds, whichever is longer. However, your own recovery time targets should determine the appropriate timeout for your application.</p>\n</blockquote>\n<p>For MS SQL doc is <a href=\"https://github.com/microsoft/mssql-jdbc/wiki/SocketTimeout\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>connection URL jdbc:sqlserver://localhost;userName=sa;password=PASSW0RD;database=master;socketTimeout=10000;</p>\n</blockquote>\n<p>If socketTimeout is not defined then that tcp connection waits forever and probably that creates the <strong>OutOfMemoryError</strong>.</p>\n<p>In order to fix OutOfMemoryError, you can lower <strong>crm.maximum-pool-size=600</strong> or <a href=\"https://stackoverflow.com/a/14763095/175554\">increase/fine tune xmx and xms values of the jvm</a>. last but not least why not upgrade to java 17. Java 8 is pretty old and every jvm brings more performance improvements.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75913532,"answer_count":1,"score":1,"last_activity_date":1680455780,"creation_date":1678790984,"question_id":75732175,"body_markdown":"I am having an issue in production in my springboot application which uses HikariPool\r\n\r\n**Springboot**: 2.7.4\r\n\r\n**Java**: 1.8.0_281\r\n\r\n**Tomcat**: 9.0.71\r\n\r\n**Database**: Microsoft SQL Server 2012\r\n\r\n**application.properties**\r\n\r\n    crm.pool-name=crmPool\r\n    crm.maximum-pool-size=600\r\n    crm.connection-timeout=30000\r\n    crm.max-lifetime=180000\r\n    crm.idle-timeout=180000\r\n    crm.leak-detection-threshold=180000\r\n\r\nBecause I have multiple datasources I am creating the connection pool as follows :\r\n\r\n    public class HikariCPDataSource {\r\n    \r\n    \tprivate static HikariConfig crmConfig = new HikariConfig();\r\n    \tprivate static HikariDataSource crmDataSource;\r\n    \r\n    \tprivate static HikariConfig externalDatabaseConfig = new HikariConfig();\r\n    \tprivate static HikariDataSource externalDataSource;\r\n    \r\n    \tpublic static void init() {\r\n    \t\tinitCRMDataSource();\r\n    \t\tinitexternalDataSource();\r\n    \t}\r\n    \r\n    \tpublic static void initCRMDataSource() {\r\n    \r\n    \r\n    \t\tString crmDriverClassName = ConfigUtils.getConfig(&quot;spring.datasource.driver-class-name&quot;);\r\n    \r\n    \t\tString crmDatabaseServer = ConfigUtils.getConfig(&quot;CR_DATABASE_SERVER&quot;);\r\n    \t\tString crmDatabaseUserName = ConfigUtils.getConfig(&quot;CR_DATABASE_USER&quot;);\r\n    \t\tString crmDatabasePassword = Encryptor.decrypt(ConfigUtils.getConfig(&quot;CR_DATABASE_USER_PASSWORD&quot;));\r\n    \t\tString crmDatabaseName = ConfigUtils.getConfig(&quot;CR_DATABASE_NAME&quot;);\r\n    \r\n    \t\tint crmPoolSize = ConfigUtils.getConfigNumeric(&quot;crm.maximum-pool-size&quot;);\r\n    \t\tlong crmConnectionTimeout = ConfigUtils.getConfigNumeric(&quot;crm.connection-timeout&quot;);\r\n    \t\tlong crmMaxLifeTime = ConfigUtils.getConfigNumeric(&quot;crm.max-lifetime&quot;);\r\n    \t\tlong crmIdleTimeout = ConfigUtils.getConfigNumeric(&quot;crm.idle-timeout&quot;);\r\n    \t\tlong crmLeakDetectionThreshold = ConfigUtils.getConfigNumeric(&quot;crm.leak-detection-threshold&quot;);\r\n    \r\n    \t\tString crmPoolName = ConfigUtils.getConfig(&quot;crm.pool-name&quot;);\r\n    \r\n    \t\tif (crmPoolSize &gt; 0)\r\n    \t\t\tcrmConfig.setMaximumPoolSize(crmPoolSize);\r\n    \r\n    \t\tif (crmConnectionTimeout &gt; 0)\r\n    \t\t\tcrmConfig.setConnectionTimeout(crmConnectionTimeout);\r\n    \r\n    \t\tif (crmMaxLifeTime &gt; 0)\r\n    \t\t\tcrmConfig.setMaxLifetime(crmMaxLifeTime);\r\n    \r\n    \t\tif (crmIdleTimeout &gt; 0)\r\n    \t\t\tcrmConfig.setIdleTimeout(crmIdleTimeout);\r\n    \r\n    \t\tif (crmLeakDetectionThreshold &gt; 0)\r\n    \t\t\tcrmConfig.setLeakDetectionThreshold(crmLeakDetectionThreshold);\r\n    \r\n    \t\tcrmConfig.setDriverClassName(crmDriverClassName);\r\n    \r\n    \t\tString crmJdbcUrl = &quot;jdbc:sqlserver://&quot; + crmDatabaseServer + &quot;;databaseName=&quot; + crmDatabaseName\r\n    \t\t\t\t+ &quot;;encrypt=false&quot;;\r\n    \t\tcrmConfig.setJdbcUrl(crmJdbcUrl);\r\n    \t\tcrmConfig.setUsername(crmDatabaseUserName);\r\n    \t\tcrmConfig.setPassword(crmDatabasePassword);\r\n    \t\tif (StringUtils.isNotBlank(crmPoolName))\r\n    \t\t\tcrmConfig.setPoolName(crmPoolName);\r\n    \r\n    \t\ttry {\r\n    \t\t\tcrmDataSource = new HikariDataSource(crmConfig);\r\n    \t\t\tlog.info(&quot;########## CRM DataSource Initialized Successfully ##############&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;Exception in create crmDataSource,JdbcUrl: {},userName: {},Exception is: {}&quot;,\r\n    \t\t\t\t\tcrmConfig.getJdbcUrl(), crmConfig.getUsername(), e.getMessage());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void initexternalDataSource() {\r\n    \r\n    \r\n    \t\tString externalDriverClassName = ConfigUtils.getConfig(&quot;spring.datasource.driver-class-name&quot;);\r\n    \r\n    \t\tString externalDatabaseServer = ConfigUtils.getConfig(&quot;CR_DATABASE_SERVER&quot;);\r\n    \t\tString externalDatabaseUserName = ConfigUtils.getConfig(&quot;CR_DATABASE_USER&quot;);\r\n    \t\tString externalDatabasePassword = Encryptor.decrypt(ConfigUtils.getConfig(&quot;CR_DATABASE_USER_PASSWORD&quot;));\r\n    \t\tString externalDatabaseName = ConfigUtils.getConfig(&quot;external_DATABASE_NAME&quot;);\r\n    \r\n    \t\tint externalPoolSize = ConfigUtils.getConfigNumeric(&quot;externalDatabase.maximum-pool-size&quot;);\r\n    \t\tlong externalConnectionTimeout = ConfigUtils.getConfigNumeric(&quot;externalDatabase.connection-timeout&quot;);\r\n    \t\tlong externalMaxLifeTime = ConfigUtils.getConfigNumeric(&quot;externalDatabase.max-lifetime&quot;);\r\n    \t\tlong externalIdleTimeout = ConfigUtils.getConfigNumeric(&quot;externalDatabase.idle-timeout&quot;);\r\n    \t\tlong externalLeakDetectionThreshold = ConfigUtils.getConfigNumeric(&quot;externalDatabase.leak-detection-threshold&quot;);\r\n    \r\n    \t\tString externalPoolName = ConfigUtils.getConfig(&quot;externalDatabase.pool-name&quot;);\r\n    \r\n    \t\tif (externalPoolSize &gt; 0)\r\n    \t\t\texternalDatabaseConfig.setMaximumPoolSize(externalPoolSize);\r\n    \r\n    \t\tif (externalConnectionTimeout &gt; 0)\r\n    \t\t\texternalDatabaseConfig.setConnectionTimeout(externalConnectionTimeout);\r\n    \r\n    \t\tif (externalMaxLifeTime &gt; 0)\r\n    \t\t\texternalDatabaseConfig.setMaxLifetime(externalMaxLifeTime);\r\n    \r\n    \t\tif (externalIdleTimeout &gt; 0)\r\n    \t\t\texternalDatabaseConfig.setIdleTimeout(externalIdleTimeout);\r\n    \r\n    \t\tif (externalLeakDetectionThreshold &gt; 0)\r\n    \t\t\texternalDatabaseConfig.setLeakDetectionThreshold(externalLeakDetectionThreshold);\r\n    \r\n    \t\texternalDatabaseConfig.setDriverClassName(externalDriverClassName);\r\n    \r\n    \t\tString externalJdbcUrl = &quot;jdbc:sqlserver://&quot; + externalDatabaseServer + &quot;;databaseName=&quot; + externalDatabaseName\r\n    \t\t\t\t+ &quot;;encrypt=false&quot;;\r\n    \t\texternalDatabaseConfig.setJdbcUrl(externalJdbcUrl);\r\n    \t\texternalDatabaseConfig.setUsername(externalDatabaseUserName);\r\n    \t\texternalDatabaseConfig.setPassword(externalDatabasePassword);\r\n    \t\tif (StringUtils.isNotBlank(externalPoolName))\r\n    \t\t\texternalDatabaseConfig.setPoolName(externalPoolName);\r\n    \r\n    \t\ttry {\r\n    \t\t\texternalDataSource = new HikariDataSource(externalDatabaseConfig);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;Exception in create externalDataSource,JdbcUrl: {},userName: {},Exception is: {}&quot;,\r\n    \t\t\t\t\texternalDatabaseConfig.getJdbcUrl(), externalDatabaseConfig.getUsername(), e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void closeDataSources() {\r\n    \t\tlog.info(&quot;crmDataSource SHUTDOWN&quot;);\r\n    \t\tcrmDataSource.close();\r\n    \t\tlog.info(&quot;externalDataSource SHUTDOWN&quot;);\r\n    \t\texternalDataSource.close();\r\n    \t}\r\n    \r\n    \tpublic static Connection getCRMConnection() throws SQLException {\r\n    \t\treturn crmDataSource.getConnection();\r\n    \t}\r\n    \r\n    \tpublic static Connection getexternalConnection() throws SQLException {\r\n    \t\treturn externalDataSource.getConnection();\r\n    \t}\r\n    \r\n    \tprivate HikariCPDataSource() {\r\n    \t}\r\n    }\r\n\r\nand call the init function on application context initialized.\r\n\r\n**ISSUE**: when the database is down and I get some connection timeout exceptions as follows :\r\n\r\n    java.sql.SQLTransientConnectionException: crmPool - Connection is not available, request timed out after 36661ms.\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.myapp.dao.HikariCPDataSource.getCRMConnection(HikariCPDataSource.java:131) ~[classes/:1]\r\n    \tat com.myapp.dao.MyRepository.getConnection(MyRepository.java:22) ~[classes/:1]\r\n    \tat com.myapp.beans.MyBean.findClientRelatedCRs(MyBean.java:207) ~[classes/:1]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_281]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_281]\r\n    \tat org.apache.el.parser.AstValue.invoke(AstValue.java:252) ~[jasper-el.jar:9.0.71]\r\n    \tat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:266) ~[jasper-el.jar:9.0.71]\r\n    \tat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:107) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat org.primefaces.application.DialogActionListener.processAction(DialogActionListener.java:54) ~[primefaces-12.0.0.jar:12.0.0]\r\n    \tat javax.faces.component.UIViewAction.broadcast(UIViewAction.java:587) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:870) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1418) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:201) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:670) ~[javax.faces-2.3.9.jar:2.3.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-websocket.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.ocpsoft.rewrite.servlet.RewriteFilter.doFilter(RewriteFilter.java:226) ~[rewrite-servlet-3.4.4.Final.jar:3.4.4.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:111) ~[primefaces-12.0.0.jar:12.0.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:170) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.ocpsoft.rewrite.servlet.impl.HttpRewriteResultHandler.handleResult(HttpRewriteResultHandler.java:42) ~[rewrite-servlet-3.4.4.Final.jar:3.4.4.Final]\r\n    \tat org.ocpsoft.rewrite.servlet.RewriteFilter.rewrite(RewriteFilter.java:297) ~[rewrite-servlet-3.4.4.Final.jar:3.4.4.Final]\r\n    \tat org.ocpsoft.rewrite.servlet.RewriteFilter.doFilter(RewriteFilter.java:198) ~[rewrite-servlet-3.4.4.Final.jar:3.4.4.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:111) ~[primefaces-12.0.0.jar:12.0.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat com.myapp.AjaxTimeoutFilter.doFilter(AjaxTimeoutFilter.java:71) ~[classes/:1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat com.myapp.CaptchaAuthenticationFilter.doFilter(CaptchaAuthenticationFilter.java:72) ~[classes/:1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[catalina.jar:9.0.71]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-coyote.jar:9.0.71]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.71]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-coyote.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-coyote.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.71]\r\n    \tat java.lang.Thread.run(Unknown Source) ~[?:1.8.0_281]\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host 10.10.50.123, port 55225 has failed. Error: &quot;The timeout expired before connecting to the routing destination.&quot;. ClientConnectionId:5d1c4012-43a1-409b-accd-dffd822cdfc7\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3806) ~[mssql-jdbc-11.2.1.jre8.jar:?]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3795) ~[mssql-jdbc-11.2.1.jre8.jar:?]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3006) ~[mssql-jdbc-11.2.1.jre8.jar:?]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2790) ~[mssql-jdbc-11.2.1.jre8.jar:?]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1663) ~[mssql-jdbc-11.2.1.jre8.jar:?]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1064) ~[mssql-jdbc-11.2.1.jre8.jar:?]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726) ~[HikariCP-4.0.3.jar:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712) ~[HikariCP-4.0.3.jar:?]\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source) ~[?:1.8.0_281]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) ~[?:1.8.0_281]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) ~[?:1.8.0_281]\r\n    \t... 1 more\r\n\r\nAfter that I get `java.lang.OutOfMemoryError,exception message is: Java heap space`\r\n\r\nWhile enabling debug, I see the following logs :\r\n\r\n    crmPool - Closing connection ConnectionID:335466 ClientConnectionId: 16cef5bd-2ea3-44e5-a44f-ba5c66c0eeb1: (connection has passed maxLifetime)\r\n    crmPool - Add connection elided, waiting 0, queue 483\r\n    crmPool - After adding stats (total=117, active=0, idle=117, waiting=0)\r\n\r\nThis is strange also because the total should be 600 and also why the connections go to queue ?\r\n\r\nIs there&#39;s something I need to change in my Configuration in order to avoid this issue ?","title":"HikariCP lots of connection timeout causes java.lang.OutOfMemoryError","body":"<p>I am having an issue in production in my springboot application which uses HikariPool</p>\n<p><strong>Springboot</strong>: 2.7.4</p>\n<p><strong>Java</strong>: 1.8.0_281</p>\n<p><strong>Tomcat</strong>: 9.0.71</p>\n<p><strong>Database</strong>: Microsoft SQL Server 2012</p>\n<p><strong>application.properties</strong></p>\n<pre><code>crm.pool-name=crmPool\ncrm.maximum-pool-size=600\ncrm.connection-timeout=30000\ncrm.max-lifetime=180000\ncrm.idle-timeout=180000\ncrm.leak-detection-threshold=180000\n</code></pre>\n<p>Because I have multiple datasources I am creating the connection pool as follows :</p>\n<pre><code>public class HikariCPDataSource {\n\n    private static HikariConfig crmConfig = new HikariConfig();\n    private static HikariDataSource crmDataSource;\n\n    private static HikariConfig externalDatabaseConfig = new HikariConfig();\n    private static HikariDataSource externalDataSource;\n\n    public static void init() {\n        initCRMDataSource();\n        initexternalDataSource();\n    }\n\n    public static void initCRMDataSource() {\n\n\n        String crmDriverClassName = ConfigUtils.getConfig(&quot;spring.datasource.driver-class-name&quot;);\n\n        String crmDatabaseServer = ConfigUtils.getConfig(&quot;CR_DATABASE_SERVER&quot;);\n        String crmDatabaseUserName = ConfigUtils.getConfig(&quot;CR_DATABASE_USER&quot;);\n        String crmDatabasePassword = Encryptor.decrypt(ConfigUtils.getConfig(&quot;CR_DATABASE_USER_PASSWORD&quot;));\n        String crmDatabaseName = ConfigUtils.getConfig(&quot;CR_DATABASE_NAME&quot;);\n\n        int crmPoolSize = ConfigUtils.getConfigNumeric(&quot;crm.maximum-pool-size&quot;);\n        long crmConnectionTimeout = ConfigUtils.getConfigNumeric(&quot;crm.connection-timeout&quot;);\n        long crmMaxLifeTime = ConfigUtils.getConfigNumeric(&quot;crm.max-lifetime&quot;);\n        long crmIdleTimeout = ConfigUtils.getConfigNumeric(&quot;crm.idle-timeout&quot;);\n        long crmLeakDetectionThreshold = ConfigUtils.getConfigNumeric(&quot;crm.leak-detection-threshold&quot;);\n\n        String crmPoolName = ConfigUtils.getConfig(&quot;crm.pool-name&quot;);\n\n        if (crmPoolSize &gt; 0)\n            crmConfig.setMaximumPoolSize(crmPoolSize);\n\n        if (crmConnectionTimeout &gt; 0)\n            crmConfig.setConnectionTimeout(crmConnectionTimeout);\n\n        if (crmMaxLifeTime &gt; 0)\n            crmConfig.setMaxLifetime(crmMaxLifeTime);\n\n        if (crmIdleTimeout &gt; 0)\n            crmConfig.setIdleTimeout(crmIdleTimeout);\n\n        if (crmLeakDetectionThreshold &gt; 0)\n            crmConfig.setLeakDetectionThreshold(crmLeakDetectionThreshold);\n\n        crmConfig.setDriverClassName(crmDriverClassName);\n\n        String crmJdbcUrl = &quot;jdbc:sqlserver://&quot; + crmDatabaseServer + &quot;;databaseName=&quot; + crmDatabaseName\n                + &quot;;encrypt=false&quot;;\n        crmConfig.setJdbcUrl(crmJdbcUrl);\n        crmConfig.setUsername(crmDatabaseUserName);\n        crmConfig.setPassword(crmDatabasePassword);\n        if (StringUtils.isNotBlank(crmPoolName))\n            crmConfig.setPoolName(crmPoolName);\n\n        try {\n            crmDataSource = new HikariDataSource(crmConfig);\n            log.info(&quot;########## CRM DataSource Initialized Successfully ##############&quot;);\n        } catch (Exception e) {\n            log.error(&quot;Exception in create crmDataSource,JdbcUrl: {},userName: {},Exception is: {}&quot;,\n                    crmConfig.getJdbcUrl(), crmConfig.getUsername(), e.getMessage());\n        }\n\n    }\n\n    public static void initexternalDataSource() {\n\n\n        String externalDriverClassName = ConfigUtils.getConfig(&quot;spring.datasource.driver-class-name&quot;);\n\n        String externalDatabaseServer = ConfigUtils.getConfig(&quot;CR_DATABASE_SERVER&quot;);\n        String externalDatabaseUserName = ConfigUtils.getConfig(&quot;CR_DATABASE_USER&quot;);\n        String externalDatabasePassword = Encryptor.decrypt(ConfigUtils.getConfig(&quot;CR_DATABASE_USER_PASSWORD&quot;));\n        String externalDatabaseName = ConfigUtils.getConfig(&quot;external_DATABASE_NAME&quot;);\n\n        int externalPoolSize = ConfigUtils.getConfigNumeric(&quot;externalDatabase.maximum-pool-size&quot;);\n        long externalConnectionTimeout = ConfigUtils.getConfigNumeric(&quot;externalDatabase.connection-timeout&quot;);\n        long externalMaxLifeTime = ConfigUtils.getConfigNumeric(&quot;externalDatabase.max-lifetime&quot;);\n        long externalIdleTimeout = ConfigUtils.getConfigNumeric(&quot;externalDatabase.idle-timeout&quot;);\n        long externalLeakDetectionThreshold = ConfigUtils.getConfigNumeric(&quot;externalDatabase.leak-detection-threshold&quot;);\n\n        String externalPoolName = ConfigUtils.getConfig(&quot;externalDatabase.pool-name&quot;);\n\n        if (externalPoolSize &gt; 0)\n            externalDatabaseConfig.setMaximumPoolSize(externalPoolSize);\n\n        if (externalConnectionTimeout &gt; 0)\n            externalDatabaseConfig.setConnectionTimeout(externalConnectionTimeout);\n\n        if (externalMaxLifeTime &gt; 0)\n            externalDatabaseConfig.setMaxLifetime(externalMaxLifeTime);\n\n        if (externalIdleTimeout &gt; 0)\n            externalDatabaseConfig.setIdleTimeout(externalIdleTimeout);\n\n        if (externalLeakDetectionThreshold &gt; 0)\n            externalDatabaseConfig.setLeakDetectionThreshold(externalLeakDetectionThreshold);\n\n        externalDatabaseConfig.setDriverClassName(externalDriverClassName);\n\n        String externalJdbcUrl = &quot;jdbc:sqlserver://&quot; + externalDatabaseServer + &quot;;databaseName=&quot; + externalDatabaseName\n                + &quot;;encrypt=false&quot;;\n        externalDatabaseConfig.setJdbcUrl(externalJdbcUrl);\n        externalDatabaseConfig.setUsername(externalDatabaseUserName);\n        externalDatabaseConfig.setPassword(externalDatabasePassword);\n        if (StringUtils.isNotBlank(externalPoolName))\n            externalDatabaseConfig.setPoolName(externalPoolName);\n\n        try {\n            externalDataSource = new HikariDataSource(externalDatabaseConfig);\n        } catch (Exception e) {\n            log.error(&quot;Exception in create externalDataSource,JdbcUrl: {},userName: {},Exception is: {}&quot;,\n                    externalDatabaseConfig.getJdbcUrl(), externalDatabaseConfig.getUsername(), e.getMessage());\n        }\n    }\n\n    public static void closeDataSources() {\n        log.info(&quot;crmDataSource SHUTDOWN&quot;);\n        crmDataSource.close();\n        log.info(&quot;externalDataSource SHUTDOWN&quot;);\n        externalDataSource.close();\n    }\n\n    public static Connection getCRMConnection() throws SQLException {\n        return crmDataSource.getConnection();\n    }\n\n    public static Connection getexternalConnection() throws SQLException {\n        return externalDataSource.getConnection();\n    }\n\n    private HikariCPDataSource() {\n    }\n}\n</code></pre>\n<p>and call the init function on application context initialized.</p>\n<p><strong>ISSUE</strong>: when the database is down and I get some connection timeout exceptions as follows :</p>\n<pre><code>java.sql.SQLTransientConnectionException: crmPool - Connection is not available, request timed out after 36661ms.\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696) ~[HikariCP-4.0.3.jar:?]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197) ~[HikariCP-4.0.3.jar:?]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-4.0.3.jar:?]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100) ~[HikariCP-4.0.3.jar:?]\n    at com.myapp.dao.HikariCPDataSource.getCRMConnection(HikariCPDataSource.java:131) ~[classes/:1]\n    at com.myapp.dao.MyRepository.getConnection(MyRepository.java:22) ~[classes/:1]\n    at com.myapp.beans.MyBean.findClientRelatedCRs(MyBean.java:207) ~[classes/:1]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_281]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_281]\n    at org.apache.el.parser.AstValue.invoke(AstValue.java:252) ~[jasper-el.jar:9.0.71]\n    at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:266) ~[jasper-el.jar:9.0.71]\n    at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:107) ~[javax.faces-2.3.9.jar:2.3.9]\n    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87) ~[javax.faces-2.3.9.jar:2.3.9]\n    at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102) ~[javax.faces-2.3.9.jar:2.3.9]\n    at org.primefaces.application.DialogActionListener.processAction(DialogActionListener.java:54) ~[primefaces-12.0.0.jar:12.0.0]\n    at javax.faces.component.UIViewAction.broadcast(UIViewAction.java:587) ~[javax.faces-2.3.9.jar:2.3.9]\n    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:870) ~[javax.faces-2.3.9.jar:2.3.9]\n    at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1418) ~[javax.faces-2.3.9.jar:2.3.9]\n    at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82) ~[javax.faces-2.3.9.jar:2.3.9]\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100) ~[javax.faces-2.3.9.jar:2.3.9]\n    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:201) ~[javax.faces-2.3.9.jar:2.3.9]\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:670) ~[javax.faces-2.3.9.jar:2.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-websocket.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.ocpsoft.rewrite.servlet.RewriteFilter.doFilter(RewriteFilter.java:226) ~[rewrite-servlet-3.4.4.Final.jar:3.4.4.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:111) ~[primefaces-12.0.0.jar:12.0.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[catalina.jar:9.0.71]\n    at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:170) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.ocpsoft.rewrite.servlet.impl.HttpRewriteResultHandler.handleResult(HttpRewriteResultHandler.java:42) ~[rewrite-servlet-3.4.4.Final.jar:3.4.4.Final]\n    at org.ocpsoft.rewrite.servlet.RewriteFilter.rewrite(RewriteFilter.java:297) ~[rewrite-servlet-3.4.4.Final.jar:3.4.4.Final]\n    at org.ocpsoft.rewrite.servlet.RewriteFilter.doFilter(RewriteFilter.java:198) ~[rewrite-servlet-3.4.4.Final.jar:3.4.4.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:111) ~[primefaces-12.0.0.jar:12.0.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at com.myapp.AjaxTimeoutFilter.doFilter(AjaxTimeoutFilter.java:71) ~[classes/:1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at com.myapp.CaptchaAuthenticationFilter.doFilter(CaptchaAuthenticationFilter.java:72) ~[classes/:1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.4.jar:2.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[catalina.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-coyote.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-coyote.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-coyote.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.71]\n    at java.lang.Thread.run(Unknown Source) ~[?:1.8.0_281]\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host 10.10.50.123, port 55225 has failed. Error: &quot;The timeout expired before connecting to the routing destination.&quot;. ClientConnectionId:5d1c4012-43a1-409b-accd-dffd822cdfc7\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3806) ~[mssql-jdbc-11.2.1.jre8.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3795) ~[mssql-jdbc-11.2.1.jre8.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3006) ~[mssql-jdbc-11.2.1.jre8.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2790) ~[mssql-jdbc-11.2.1.jre8.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1663) ~[mssql-jdbc-11.2.1.jre8.jar:?]\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1064) ~[mssql-jdbc-11.2.1.jre8.jar:?]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:?]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:?]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:?]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:?]\n    at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71) ~[HikariCP-4.0.3.jar:?]\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726) ~[HikariCP-4.0.3.jar:?]\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712) ~[HikariCP-4.0.3.jar:?]\n    at java.util.concurrent.FutureTask.run(Unknown Source) ~[?:1.8.0_281]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) ~[?:1.8.0_281]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) ~[?:1.8.0_281]\n    ... 1 more\n</code></pre>\n<p>After that I get <code>java.lang.OutOfMemoryError,exception message is: Java heap space</code></p>\n<p>While enabling debug, I see the following logs :</p>\n<pre><code>crmPool - Closing connection ConnectionID:335466 ClientConnectionId: 16cef5bd-2ea3-44e5-a44f-ba5c66c0eeb1: (connection has passed maxLifetime)\ncrmPool - Add connection elided, waiting 0, queue 483\ncrmPool - After adding stats (total=117, active=0, idle=117, waiting=0)\n</code></pre>\n<p>This is strange also because the total should be 600 and also why the connections go to queue ?</p>\n<p>Is there's something I need to change in my Configuration in order to avoid this issue ?</p>\n"},{"tags":["java","oracle","jdbc","oracle18c"],"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1623683021,"post_id":67972657,"comment_id":120141922,"body_markdown":"Are you sure the timeout is coming from Oracle or JDBC/Java; and isn&#39;t something in the network layer killing what it thinks is an idle connection? If it is Oracle have you looked at DB resource limits or SQL\\*Net settings on the server end?","body":"Are you sure the timeout is coming from Oracle or JDBC/Java; and isn&#39;t something in the network layer killing what it thinks is an idle connection? If it is Oracle have you looked at DB resource limits or SQL*Net settings on the server end?"},{"owner":{"account_id":1360500,"reputation":2131,"user_id":1297972,"accept_rate":73,"display_name":"kothvandir"},"score":0,"creation_date":1623683870,"post_id":67972657,"comment_id":120142320,"body_markdown":"I&#39;m doing the test in my local server, and the exception is thrown in the server not in the Oracle server. If the exception were thrown by the Oracle server, there should be and SQLException with some ORA-xxx error code.","body":"I&#39;m doing the test in my local server, and the exception is thrown in the server not in the Oracle server. If the exception were thrown by the Oracle server, there should be and SQLException with some ORA-xxx error code."},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1623684285,"post_id":67972657,"comment_id":120142516,"body_markdown":"There are multiple levels of query timeouts, configured per statement, session and server hard limit. The smallest value wins: if you set the query timeout to 0 sec but the session limit is 60 sec, than the query will be interrupted after 60 sec. Check your database to see what are defaults for the connection.","body":"There are multiple levels of query timeouts, configured per statement, session and server hard limit. The smallest value wins: if you set the query timeout to 0 sec but the session limit is 60 sec, than the query will be interrupted after 60 sec. Check your database to see what are defaults for the connection."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1623684569,"post_id":67972657,"comment_id":120142650,"body_markdown":"I&#39;m talking about what killed it, not what threw the exception. JDBC is seeing the terminated connection - that doesn&#39;t tell you which layer terminated it. `Socket read interrupted` suggests something killed it at the network level; but that could be the server SQL\\*Net settings I think (in listener.ora or sqlnet.ora).","body":"I&#39;m talking about what killed it, not what threw the exception. JDBC is seeing the terminated connection - that doesn&#39;t tell you which layer terminated it. <code>Socket read interrupted</code> suggests something killed it at the network level; but that could be the server SQL*Net settings I think (in listener.ora or sqlnet.ora)."},{"owner":{"account_id":1360500,"reputation":2131,"user_id":1297972,"accept_rate":73,"display_name":"kothvandir"},"score":0,"creation_date":1623685203,"post_id":67972657,"comment_id":120142954,"body_markdown":"@AlexPoole thank you for the tips, I&#39;ve expanded the question to clarify why I think the problema is in the driver. Basically, I have a test application with the pool configured against the ORacle 18c server. If I use the 12c driver it works, If I change the driver jar to oracle 18c driver, It stops working.","body":"@AlexPoole thank you for the tips, I&#39;ve expanded the question to clarify why I think the problema is in the driver. Basically, I have a test application with the pool configured against the ORacle 18c server. If I use the 12c driver it works, If I change the driver jar to oracle 18c driver, It stops working."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1623688825,"post_id":67972657,"comment_id":120144456,"body_markdown":"Are you able to create minimal reproducible standalone application and run strace on it? This `Operation interrupted` is something returned from OS to JVM and it is to JDBC driver to handle it. It can possibly also be JDBC bug.","body":"Are you able to create minimal reproducible standalone application and run strace on it? This <code>Operation interrupted</code> is something returned from OS to JVM and it is to JDBC driver to handle it. It can possibly also be JDBC bug."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":3,"creation_date":1623688832,"post_id":67972657,"comment_id":120144461,"body_markdown":"For example: 12.2.0.1 and Above JDBC Connections Sometimes Fail With: IO Error: Socket Read Interrupted (Doc ID 2612009.1): The 12.2.0.1 and above JDBC driver uses Java NIO calls in blocking mode, which can be impacted by any interrupt() calls being made by the application. This differs from previous versions of the JDBC driver, which used stream-based I/O API calls that were not affected by calls to interrupt().  `Inspect the application code for any interrupt() method calls.\nAlternatively, set the following connection property:  oracle.jdbc.javaNetNio=false.","body":"For example: 12.2.0.1 and Above JDBC Connections Sometimes Fail With: IO Error: Socket Read Interrupted (Doc ID 2612009.1): The 12.2.0.1 and above JDBC driver uses Java NIO calls in blocking mode, which can be impacted by any interrupt() calls being made by the application. This differs from previous versions of the JDBC driver, which used stream-based I/O API calls that were not affected by calls to interrupt().  `Inspect the application code for any interrupt() method calls. Alternatively, set the following connection property:  oracle.jdbc.javaNetNio=false."}],"answers":[{"comments":[{"owner":{"account_id":1360500,"reputation":2131,"user_id":1297972,"accept_rate":73,"display_name":"kothvandir"},"score":0,"creation_date":1623747615,"post_id":67975882,"comment_id":120159830,"body_markdown":"You mean to set it as JVM property or connection property?","body":"You mean to set it as JVM property or connection property?"},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1623748152,"post_id":67975882,"comment_id":120160067,"body_markdown":"This is JVM property. But it does not work by its own. You will also need to to TCP Keepalive interval (time) on Linux kernel level. By default this interval is 2 hours. https://tldp.org/HOWTO/TCP-Keepalive-HOWTO/usingkeepalive.html","body":"This is JVM property. But it does not work by its own. You will also need to to TCP Keepalive interval (time) on Linux kernel level. By default this interval is 2 hours. <a href=\"https://tldp.org/HOWTO/TCP-Keepalive-HOWTO/usingkeepalive.html\" rel=\"nofollow noreferrer\">tldp.org/HOWTO/TCP-Keepalive-HOWTO/usingkeepalive.html</a>"}],"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623697489,"creation_date":1623697489,"answer_id":67975882,"question_id":67972657,"body_markdown":"The query execution could be stopped because of default tcp connection timeout. Can you set keepalive property &quot;oracle.net.keepAlive&quot;  to “true” and verify?","title":"Statement.setQueryTimeout doesn&#39;t work on Oracle 18c jdbc driver","body":"<p>The query execution could be stopped because of default tcp connection timeout. Can you set keepalive property &quot;oracle.net.keepAlive&quot;  to “true” and verify?</p>\n"},{"comments":[{"owner":{"account_id":433443,"reputation":4526,"user_id":818766,"display_name":"manyways"},"score":0,"creation_date":1629478366,"post_id":68093699,"comment_id":121705972,"body_markdown":"Had the same issue, helped me a ton, thanks for the detail!","body":"Had the same issue, helped me a ton, thanks for the detail!"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1651159893,"post_id":68093699,"comment_id":127302697,"body_markdown":"Is it still broken? Have you ever tried with Oracle 19 and 21?","body":"Is it still broken? Have you ever tried with Oracle 19 and 21?"},{"owner":{"account_id":1360500,"reputation":2131,"user_id":1297972,"accept_rate":73,"display_name":"kothvandir"},"score":0,"creation_date":1651298140,"post_id":68093699,"comment_id":127335890,"body_markdown":"Sorry, haven&#39;t tried yet.","body":"Sorry, haven&#39;t tried yet."}],"tags":[],"owner":{"account_id":1360500,"reputation":2131,"user_id":1297972,"accept_rate":73,"display_name":"kothvandir"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624424019,"creation_date":1624424019,"answer_id":68093699,"question_id":67972657,"body_markdown":"Finally the problem was fixed configuring in the payara pool the &quot;connectionProperties&quot; custom property of the OracleDataSource.  As @ibre5041  pointed, setting the property oracle.jdbc.javaNetNio=false changes the transport layer used by the driver and it starts working as the oracle 12c previous version.\r\n\r\nAccording to [Oracle reference][1], the OracleDataSource implementors can receive the connection properties as a java.util.Properties object.\r\n\r\nTable 8-2 Oracle Extended Data Source Properties\r\n* Name: connectionProperties\r\n* Type: java.util.Properties\r\n* Description: Specifies the connection properties.\r\n\r\nTo set a multivalued property to the jdbc pool in the Payara Admin Console, you have to set the properties as (prop1=value1,prop2=value2), ([Thank you again Ondro Mih&#225;lyi][2]). So in our case we set:\r\n\r\nconnectionProperties = (oracle.jdbc.ReadTimeout=0, oracle.jdbc.javaNetNio=false)\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/data-sources-and-URLs.html\r\n  [2]: https://groups.google.com/g/payara-forum/c/NoBEtP6rpuE\r\n\r\nAs a summary of what works and doesn&#39;t using Oracle 18c jdbc driver (every step tested separately)::\r\n\r\n* Setting timeout at statement level doesn&#39;t work:\r\n\r\n    statement.setQueryTimeout(0)\r\n\r\n* Setting timeout at connection level, with -1 or 0, doesn&#39;t work:\r\n\r\n    conn.setNetworkTimeout(Executors.newFixedThreadPool(1), timeout in ms)\r\n\r\n* Setting timeout properties programmatically in the java.util.connection using the OracleDataSource makes it work as indicated in the question.\r\n\r\n* Setting timeout properties as JVM properties makes it work if the limit is below 15min, but if you set a value &gt; 15 minutes the exceptions is thrown, so setting to 0 or -1 has no effect:\r\n\r\nSo this makes the query stop after 10 secs:\r\n    -Doracle.net.CONNECT_TIMEOUT=10000  -Doracle.net.READ_TIMEOUT=10000 -Doracle.jdbc.ReadTimeout=10000\r\n\r\nBut with this stops after 15 minutes:\r\n    -Doracle.net.CONNECT_TIMEOUT=-1 -Doracle.net.READ_TIMEOUT=-1 -Doracle.jdbc.ReadTimeout=-1\r\n\r\n\r\n* Setting oracle.net.keepAlive=true  as JVM property as @Nirmala suggested doesn’t work.\r\n* Setting oracle.jdbc.javaNetNio=false as JVM property as @ibre5041 **makes it work**. So it points to some problem with the java.nio transport layer.\r\n\r\n\r\nAnyway, we opened a support issue to Oracle, cause the jdbc api statement.setQueryTimeout(0) should work without having to configure the datasource, I&#39;ll put the response when the case is closed.\r\n","title":"Statement.setQueryTimeout doesn&#39;t work on Oracle 18c jdbc driver","body":"<p>Finally the problem was fixed configuring in the payara pool the &quot;connectionProperties&quot; custom property of the OracleDataSource.  As @ibre5041  pointed, setting the property oracle.jdbc.javaNetNio=false changes the transport layer used by the driver and it starts working as the oracle 12c previous version.</p>\n<p>According to <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/data-sources-and-URLs.html\" rel=\"noreferrer\">Oracle reference</a>, the OracleDataSource implementors can receive the connection properties as a java.util.Properties object.</p>\n<p>Table 8-2 Oracle Extended Data Source Properties</p>\n<ul>\n<li>Name: connectionProperties</li>\n<li>Type: java.util.Properties</li>\n<li>Description: Specifies the connection properties.</li>\n</ul>\n<p>To set a multivalued property to the jdbc pool in the Payara Admin Console, you have to set the properties as (prop1=value1,prop2=value2), (<a href=\"https://groups.google.com/g/payara-forum/c/NoBEtP6rpuE\" rel=\"noreferrer\">Thank you again Ondro Mihályi</a>). So in our case we set:</p>\n<p>connectionProperties = (oracle.jdbc.ReadTimeout=0, oracle.jdbc.javaNetNio=false)</p>\n<p>As a summary of what works and doesn't using Oracle 18c jdbc driver (every step tested separately)::</p>\n<ul>\n<li><p>Setting timeout at statement level doesn't work:</p>\n<p>statement.setQueryTimeout(0)</p>\n</li>\n<li><p>Setting timeout at connection level, with -1 or 0, doesn't work:</p>\n<p>conn.setNetworkTimeout(Executors.newFixedThreadPool(1), timeout in ms)</p>\n</li>\n<li><p>Setting timeout properties programmatically in the java.util.connection using the OracleDataSource makes it work as indicated in the question.</p>\n</li>\n<li><p>Setting timeout properties as JVM properties makes it work if the limit is below 15min, but if you set a value &gt; 15 minutes the exceptions is thrown, so setting to 0 or -1 has no effect:</p>\n</li>\n</ul>\n<p>So this makes the query stop after 10 secs:\n-Doracle.net.CONNECT_TIMEOUT=10000  -Doracle.net.READ_TIMEOUT=10000 -Doracle.jdbc.ReadTimeout=10000</p>\n<p>But with this stops after 15 minutes:\n-Doracle.net.CONNECT_TIMEOUT=-1 -Doracle.net.READ_TIMEOUT=-1 -Doracle.jdbc.ReadTimeout=-1</p>\n<ul>\n<li>Setting oracle.net.keepAlive=true  as JVM property as @Nirmala suggested doesn’t work.</li>\n<li>Setting oracle.jdbc.javaNetNio=false as JVM property as @ibre5041 <strong>makes it work</strong>. So it points to some problem with the java.nio transport layer.</li>\n</ul>\n<p>Anyway, we opened a support issue to Oracle, cause the jdbc api statement.setQueryTimeout(0) should work without having to configure the datasource, I'll put the response when the case is closed.</p>\n"},{"tags":[],"owner":{"account_id":28145624,"reputation":11,"user_id":21507983,"display_name":"EugeneT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680455655,"creation_date":1679990150,"answer_id":75863637,"question_id":67972657,"body_markdown":"According Doc ID 2612009.1(https://support.oracle.com/knowledge/Middleware/2612009_1.html):\r\nAll Oracle JDBC drivers starting with `12.2.0.1` have a bug, and also have a workaround for it: You are need to set property `-Doracle.jdbc.javaNetNio=false` when starting your application.","title":"Statement.setQueryTimeout doesn&#39;t work on Oracle 18c jdbc driver","body":"<p>According Doc ID 2612009.1(<a href=\"https://support.oracle.com/knowledge/Middleware/2612009_1.html\" rel=\"nofollow noreferrer\">https://support.oracle.com/knowledge/Middleware/2612009_1.html</a>):\nAll Oracle JDBC drivers starting with <code>12.2.0.1</code> have a bug, and also have a workaround for it: You are need to set property <code>-Doracle.jdbc.javaNetNio=false</code> when starting your application.</p>\n"}],"owner":{"account_id":1360500,"reputation":2131,"user_id":1297972,"accept_rate":73,"display_name":"kothvandir"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6201,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1680455655,"creation_date":1623682769,"question_id":67972657,"body_markdown":"We have a J2EE application on a payara 5.2020 server that executes a long running query (PL/SQL that executes for a couple of hours). \r\nTo avoid a timeout exception, we use this sentence at StatementLevel:\r\n\r\n    statement.setQueryTimeout(0);\r\n\r\nThis works using Oracle jdbc drivers version 12c, but when we have migrated to Oracle 18c, and we changed the driver to the version 18c, the query execution stops after 15 minutes with this exception. The code works with Oracle 12 and Oracle 18 is the change in the driver&#39;s jar what brings up the problem. \r\nThe problem has been reproduced in Linux and Windows machines:\r\n\r\n``` exception\r\n2021-06-14T07:50:01.762+0200|SEVERE: java.sql.SQLRecoverableException: Error de E/S: Socket read interrupted\r\n\tat oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:946)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1136)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3640)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.executeInternal(T4CCallableStatement.java:1318)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3752)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4242)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1079)\r\n\tat com.sun.gjc.spi.base.PreparedStatementWrapper.execute(PreparedStatementWrapper.java:532)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:437)\r\n\tat com.sun.proxy.$Proxy324.execute(Unknown Source)\r\n\tat org.apache.jsp.index_jsp.callPL(index_jsp.java:49)\r\n\tat org.apache.jsp.index_jsp._jspService(index_jsp.java:108)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:411)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:473)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:377)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:577)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:524)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.io.InterruptedIOException: Socket read interrupted\r\n\tat oracle.net.nt.TimeoutSocketChannel.handleInterrupt(TimeoutSocketChannel.java:262)\r\n\tat oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:184)\r\n\tat oracle.net.ns.NSProtocolNIO.doSocketRead(NSProtocolNIO.java:544)\r\n\tat oracle.net.ns.NIOPacket.readHeader(NIOPacket.java:234)\r\n\tat oracle.net.ns.NIOPacket.readPacketFromSocketChannel(NIOPacket.java:174)\r\n\tat oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:122)\r\n\tat oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:100)\r\n\tat oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:86)\r\n\tat oracle.jdbc.driver.T4CMAREngineNIO.prepareForUnmarshall(T4CMAREngineNIO.java:762)\r\n\tat oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:427)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:394)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:255)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:610)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:249)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:82)\r\n\tat oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:924)\r\n```\r\n\r\nIt seems the transport layer has been migrated to java.nio and the method setQueryTimeout is no longer \r\n\r\nThings We&#39;ve tried:\r\n\r\n1. Setting the default Statement timeout to -1 in the JDBC Connection Pool Advanced Attributes screen in payara console.\r\n2. Trying to set the time directly in the connection with conn.setNetworkTimeout(Executors.newFixedThreadPool(1), 0) didn&#39;t make any effect.\r\n3. In different sources we have found that these properties below should affect the network timeout evaluation. We set them as JVM properties for payara startup (-Doracle.net.CONNECT_TIMEOUT=xxx) and as JDBC Connection Pool Properties, both cases with values 0 and -1. Didn&#39;t work in any case.\r\n\r\n* oracle.net.CONNECT_TIMEOUT\r\n* oracle.net.READ_TIMEOUT\r\n* oracle.jdbc.ReadTimeout\r\n\r\nSources:\r\n* [Oracle 18c Net services best practices][1]\r\n* [Oracle 18c java jdbc reference. E.1.5 Using JDBC with Firewalls][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n4.- As we are accessing the DataSource through payara DataSource pool, we cannot cast the com.sun.gjc.spi.jdbc40.DataSource40 (class provided by payara) to an OracleDataSource, but we created the DataSorce programatically to set the connection properties as shown [here][4] and setting the properties seen in the image above but it doesn&#39;t work:\r\n\r\n\tpublic static Properties oracleProperties() {\r\n\t\t// Already tried -1 and 0\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.put(&quot;Oracle.net.CONNECT_TIMEOUT&quot;, 0);\r\n\t\tproperties.put(&quot;Oracle.net.READ_TIMEOUT&quot;, 0);\r\n\t\tproperties.put(&quot;Oracle.jdbc.ReadTimeout&quot;, 0);\r\n\t\treturn properties;\r\n\t}\r\n\r\n\tpublic static OracleDataSource createDataSource() throws Exception {\r\n\t\tOracleDataSource ods = new OracleDataSource();\r\n\t\tods.setURL(&quot;jdbc:oracle:thin:@itauc4602x:1521/BDExp&quot;);\r\n\t\tods.setUser(&quot;enevac&quot;);\r\n\t\tods.setPassword(&quot;enevac&quot;);\r\n\t\tods.setDataSourceName(&quot;OracleXADataSource&quot;);\r\n\t\tods.setLoginTimeout(0);\r\n\t\t// default connection properties to avoid timeoutException\r\n\t\tods.setConnectionProperties(oracleProperties());\r\n\t\treturn ods;\r\n\t}\r\n\r\n\r\n1. Has anyone faced this problem, any idea on how to avoid the timeOut restriction?\r\n2. Why 15 minutes?, [according to the reference][5], the default value for oracle.net.ReadTimeout is 10 minutes.\r\n\r\nUpdate:\r\nTo explain in more detail why I think the problem is in the driver and why I discard other possible origins of the exception, I assume the timeout can be raised from three sources:\r\n - Network timeout: I discard it cause I&#39;m testing a payara server in my local machine against the development database, with no firewall in between.\r\n - Database server: the DBA has checked the Oracle net services configuration and there&#39;s no limit set that explains the 15 minutes cut. Besides, in these case, an SQLException would be expected with some kind of ORA-xxx error code.\r\n - JDBC: this can be set at connection level, statement level and transaction level. As I said at the beginning, the code works with oracle 12c drivers against Oracle 12 and Oracle 18 servers, it was the change of the driver&#39;s jar what make the code stop working.  \r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/database/enterprise-edition/oow19-net-con4641-5766920.pdf\r\n  [2]: https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/JDBC-troubleshooting.html#GUID-5ADA932F-B2BF-4E34-8995-435FD2EF1F92\r\n  [3]: https://i.stack.imgur.com/n7yVp.png\r\n  [4]: https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/data-sources-and-URLs.html#GUID-77AF8002-36FB-41C5-8381-6A53B0C443AE\r\n  [5]: https://docs.oracle.com/cd/E57185_01/ESTUG/apbs02s23.html","title":"Statement.setQueryTimeout doesn&#39;t work on Oracle 18c jdbc driver","body":"<p>We have a J2EE application on a payara 5.2020 server that executes a long running query (PL/SQL that executes for a couple of hours).\nTo avoid a timeout exception, we use this sentence at StatementLevel:</p>\n<pre><code>statement.setQueryTimeout(0);\n</code></pre>\n<p>This works using Oracle jdbc drivers version 12c, but when we have migrated to Oracle 18c, and we changed the driver to the version 18c, the query execution stops after 15 minutes with this exception. The code works with Oracle 12 and Oracle 18 is the change in the driver's jar what brings up the problem.\nThe problem has been reproduced in Linux and Windows machines:</p>\n<pre><code>2021-06-14T07:50:01.762+0200|SEVERE: java.sql.SQLRecoverableException: Error de E/S: Socket read interrupted\n    at oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:946)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1136)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3640)\n    at oracle.jdbc.driver.T4CCallableStatement.executeInternal(T4CCallableStatement.java:1318)\n    at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3752)\n    at oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4242)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1079)\n    at com.sun.gjc.spi.base.PreparedStatementWrapper.execute(PreparedStatementWrapper.java:532)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.sun.gjc.spi.jdbc40.ProfiledConnectionWrapper40$1.invoke(ProfiledConnectionWrapper40.java:437)\n    at com.sun.proxy.$Proxy324.execute(Unknown Source)\n    at org.apache.jsp.index_jsp.callPL(index_jsp.java:49)\n    at org.apache.jsp.index_jsp._jspService(index_jsp.java:108)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:411)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:473)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:377)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:259)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)\n    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:577)\n    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)\n    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:524)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.io.InterruptedIOException: Socket read interrupted\n    at oracle.net.nt.TimeoutSocketChannel.handleInterrupt(TimeoutSocketChannel.java:262)\n    at oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:184)\n    at oracle.net.ns.NSProtocolNIO.doSocketRead(NSProtocolNIO.java:544)\n    at oracle.net.ns.NIOPacket.readHeader(NIOPacket.java:234)\n    at oracle.net.ns.NIOPacket.readPacketFromSocketChannel(NIOPacket.java:174)\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:122)\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:100)\n    at oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:86)\n    at oracle.jdbc.driver.T4CMAREngineNIO.prepareForUnmarshall(T4CMAREngineNIO.java:762)\n    at oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:427)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:394)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:255)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:610)\n    at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:249)\n    at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:82)\n    at oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:924)\n</code></pre>\n<p>It seems the transport layer has been migrated to java.nio and the method setQueryTimeout is no longer</p>\n<p>Things We've tried:</p>\n<ol>\n<li>Setting the default Statement timeout to -1 in the JDBC Connection Pool Advanced Attributes screen in payara console.</li>\n<li>Trying to set the time directly in the connection with conn.setNetworkTimeout(Executors.newFixedThreadPool(1), 0) didn't make any effect.</li>\n<li>In different sources we have found that these properties below should affect the network timeout evaluation. We set them as JVM properties for payara startup (-Doracle.net.CONNECT_TIMEOUT=xxx) and as JDBC Connection Pool Properties, both cases with values 0 and -1. Didn't work in any case.</li>\n</ol>\n<ul>\n<li>oracle.net.CONNECT_TIMEOUT</li>\n<li>oracle.net.READ_TIMEOUT</li>\n<li>oracle.jdbc.ReadTimeout</li>\n</ul>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/technetwork/database/enterprise-edition/oow19-net-con4641-5766920.pdf\" rel=\"nofollow noreferrer\">Oracle 18c Net services best practices</a></li>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/JDBC-troubleshooting.html#GUID-5ADA932F-B2BF-4E34-8995-435FD2EF1F92\" rel=\"nofollow noreferrer\">Oracle 18c java jdbc reference. E.1.5 Using JDBC with Firewalls</a></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/n7yVp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n7yVp.png\" alt=\"enter image description here\" /></a></p>\n<p>4.- As we are accessing the DataSource through payara DataSource pool, we cannot cast the com.sun.gjc.spi.jdbc40.DataSource40 (class provided by payara) to an OracleDataSource, but we created the DataSorce programatically to set the connection properties as shown <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/jjdbc/data-sources-and-URLs.html#GUID-77AF8002-36FB-41C5-8381-6A53B0C443AE\" rel=\"nofollow noreferrer\">here</a> and setting the properties seen in the image above but it doesn't work:</p>\n<pre><code>public static Properties oracleProperties() {\n    // Already tried -1 and 0\n    Properties properties = new Properties();\n    properties.put(&quot;Oracle.net.CONNECT_TIMEOUT&quot;, 0);\n    properties.put(&quot;Oracle.net.READ_TIMEOUT&quot;, 0);\n    properties.put(&quot;Oracle.jdbc.ReadTimeout&quot;, 0);\n    return properties;\n}\n\npublic static OracleDataSource createDataSource() throws Exception {\n    OracleDataSource ods = new OracleDataSource();\n    ods.setURL(&quot;jdbc:oracle:thin:@itauc4602x:1521/BDExp&quot;);\n    ods.setUser(&quot;enevac&quot;);\n    ods.setPassword(&quot;enevac&quot;);\n    ods.setDataSourceName(&quot;OracleXADataSource&quot;);\n    ods.setLoginTimeout(0);\n    // default connection properties to avoid timeoutException\n    ods.setConnectionProperties(oracleProperties());\n    return ods;\n}\n</code></pre>\n<ol>\n<li>Has anyone faced this problem, any idea on how to avoid the timeOut restriction?</li>\n<li>Why 15 minutes?, <a href=\"https://docs.oracle.com/cd/E57185_01/ESTUG/apbs02s23.html\" rel=\"nofollow noreferrer\">according to the reference</a>, the default value for oracle.net.ReadTimeout is 10 minutes.</li>\n</ol>\n<p>Update:\nTo explain in more detail why I think the problem is in the driver and why I discard other possible origins of the exception, I assume the timeout can be raised from three sources:</p>\n<ul>\n<li>Network timeout: I discard it cause I'm testing a payara server in my local machine against the development database, with no firewall in between.</li>\n<li>Database server: the DBA has checked the Oracle net services configuration and there's no limit set that explains the 15 minutes cut. Besides, in these case, an SQLException would be expected with some kind of ORA-xxx error code.</li>\n<li>JDBC: this can be set at connection level, statement level and transaction level. As I said at the beginning, the code works with oracle 12c drivers against Oracle 12 and Oracle 18 servers, it was the change of the driver's jar what make the code stop working.</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680417629,"post_id":75910300,"comment_id":133892881,"body_markdown":"By the way, you have omitted the &quot;Time&quot; part of a `LocalDateTime` in your `@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)` code.","body":"By the way, you have omitted the &quot;Time&quot; part of a <code>LocalDateTime</code> in your <code>@DateTimeFormat(pattern = &quot;dd&#47;MM&#47;yyyy&quot;)</code> code."},{"owner":{"account_id":27881855,"reputation":1,"user_id":21290134,"display_name":"Govardhan Lingampalli"},"score":0,"creation_date":1680455395,"post_id":75910300,"comment_id":133897709,"body_markdown":"Thank you for the detail. It was actually an unedited detail from previous code. It was not planned to be put there.","body":"Thank you for the detail. It was actually an unedited detail from previous code. It was not planned to be put there."},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":2,"creation_date":1680455977,"post_id":75910300,"comment_id":133897788,"body_markdown":"Does this answer your question? [JDK 17 spring boot Unable to make private java.time.LocalDateTime](https://stackoverflow.com/questions/69352207/jdk-17-spring-boot-unable-to-make-private-java-time-localdatetime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69352207/jdk-17-spring-boot-unable-to-make-private-java-time-localdatetime\">JDK 17 spring boot Unable to make private java.time.LocalDateTime</a>"}],"owner":{"account_id":27881855,"reputation":1,"user_id":21290134,"display_name":"Govardhan Lingampalli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680455423,"creation_date":1680413811,"question_id":75910300,"body_markdown":"I&#39;m trying to retrieve a Date format field in a MongoDB collection from a Spring Boot Application. In the Repository I&#39;ve written the native MongoDB query for the method. When I run the application, I get the errors like:\r\n\r\n    **org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;bookingHistoryController&#39;: Unsatisfied dependency expressed through field &#39;bookingHistoryService&#39;: Error creating bean with name &#39;bookingHistoryService&#39;: Unsatisfied dependency expressed through field &#39;bookingHistoryRepo&#39;: Error \r\n    creating bean with name &#39;bookingHistoryRepo&#39; defined in \r\n    hotelbookingsystem.repositories.BookingHistoryRepo defined in \r\n    @EnableMongoRepositories declared on \r\n    MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: \r\n    Could not create query for public abstract java.util.List \r\n    otelbookingsystem.repositories.BookingHistoryRepo.findCheckinByCustomerId(java.lang.Integer); Reason: Unable to make private \r\n        java.time.LocalDateTime(java.time.LocalDate,java.time.LocalTime) \r\n        accessible: module java.base does not &quot;opens java.time&quot; to \r\n        unnamed module @77523395**\r\n\r\nAnd,\r\n\r\n    **Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.time.LocalDateTime(java.time.LocalDate,java.time.LocalTime) accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @77523395**\r\n\r\nI understand that the issue has something to do with `--add-opens java.base/java.time=ALL-UNNAMED` but guide me a better way to implement this in IntelliJ. \r\n\r\nJava class for the &#39;bookinghistories&#39; collection in MongoDB.\r\n```\r\npackage hotelbookingsystem.documents;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\nimport org.springframework.data.mongodb.core.mapping.Field;\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\n@Document(collection = &quot;bookinghistories&quot;)\r\npublic class BookingHistory {\r\n\r\n\t@Id\r\n\t@Field(name = &quot;_id&quot;)\r\n\tprivate String id;\r\n\r\n\t@Field(name = &quot;customer_id&quot;)\r\n\tprivate Integer customerId;\r\n\r\n\t@Field(name = &quot;room_number&quot;)\r\n\tprivate Integer roomNumber;\r\n\r\n\t@Field(name = &quot;checkin_date&quot;)\r\n\tprivate LocalDateTime checkinDate;\r\n\r\n\t@Field(name = &quot;checkout_date&quot;)\r\n\tprivate LocalDateTime checkoutDate;\r\n\r\n\t@Field(name = &quot;days_of_stay&quot;)\r\n\tprivate Integer daysOfStay;\r\n\r\n\tpublic BookingHistory(String id, Integer customerId, Integer roomNumber, LocalDateTime checkinDate,\r\n\t\t\t\t\t\t  LocalDateTime checkoutDate, Integer daysOfStay) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.customerId = customerId;\r\n\t\tthis.roomNumber = roomNumber;\r\n\t\tthis.checkinDate = checkinDate;\r\n\t\tthis.checkoutDate = checkoutDate;\r\n\t\tthis.daysOfStay = daysOfStay;\r\n\t}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Integer getCustomerId() {\r\n\t\treturn customerId;\r\n\t}\r\n\r\n\tpublic void setCustomerId(Integer customerId) {\r\n\t\tthis.customerId = customerId;\r\n\t}\r\n\r\n\tpublic Integer getRoomNumber() {\r\n\t\treturn roomNumber;\r\n\t}\r\n\r\n\tpublic void setRoomNumber(Integer roomNumber) {\r\n\t\tthis.roomNumber = roomNumber;\r\n\t}\r\n\r\n\tpublic LocalDateTime getCheckinDate() {\r\n\t\treturn checkinDate;\r\n\t}\r\n\r\n\tpublic void setCheckinDate(LocalDateTime checkinDate) {\r\n\t\tthis.checkinDate = checkinDate;\r\n\t}\r\n\r\n\tpublic LocalDateTime getCheckoutDate() {\r\n\t\treturn checkoutDate;\r\n\t}\r\n\r\n\tpublic void setCheckoutDate(LocalDateTime checkoutDate) {\r\n\t\tthis.checkoutDate = checkoutDate;\r\n\t}\r\n\r\n\tpublic Integer getDaysOfStay() {\r\n\t\treturn daysOfStay;\r\n\t}\r\n\r\n\tpublic void setDaysOfStay(Integer daysOfStay) {\r\n\t\tthis.daysOfStay = daysOfStay;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe Repository:\r\n\r\n```\r\npackage hotelbookingsystem.repositories;\r\n\r\n\r\nimport hotelbookingsystem.documents.BookingHistory;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.data.mongodb.repository.Query;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\npublic interface BookingHistoryRepo extends MongoRepository&lt;BookingHistory, Integer&gt; {\r\n\r\n    @Query(value = &quot;{customer_id : ?0}&quot;, fields = &quot;{_id: 0, checkin_date: 1}&quot;)\r\n    List&lt;LocalDateTime&gt; findCheckinByCustomerId(Integer customerId);\r\n\r\n}\r\n```\r\n\r\nThe program is expected to retrieve the list of LocalDateTime Objects for the &#39;checkin_date&#39; field in MongoDB for the given &#39;customer_id&#39;.\r\n\r\nThis is how the collection looks: \r\n[Screenshot from MongoDB Compass of the collection](https://i.stack.imgur.com/pxH0d.png)\r\n\r\n","title":"How to fix &quot;Unable to make private java.time.LocalDateTime(java.time.LocalDate,java.time.LocalTime) accessible&quot;","body":"<p>I'm trying to retrieve a Date format field in a MongoDB collection from a Spring Boot Application. In the Repository I've written the native MongoDB query for the method. When I run the application, I get the errors like:</p>\n<pre><code>**org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookingHistoryController': Unsatisfied dependency expressed through field 'bookingHistoryService': Error creating bean with name 'bookingHistoryService': Unsatisfied dependency expressed through field 'bookingHistoryRepo': Error \ncreating bean with name 'bookingHistoryRepo' defined in \nhotelbookingsystem.repositories.BookingHistoryRepo defined in \n@EnableMongoRepositories declared on \nMongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: \nCould not create query for public abstract java.util.List \notelbookingsystem.repositories.BookingHistoryRepo.findCheckinByCustomerId(java.lang.Integer); Reason: Unable to make private \n    java.time.LocalDateTime(java.time.LocalDate,java.time.LocalTime) \n    accessible: module java.base does not &quot;opens java.time&quot; to \n    unnamed module @77523395**\n</code></pre>\n<p>And,</p>\n<pre><code>**Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.time.LocalDateTime(java.time.LocalDate,java.time.LocalTime) accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @77523395**\n</code></pre>\n<p>I understand that the issue has something to do with <code>--add-opens java.base/java.time=ALL-UNNAMED</code> but guide me a better way to implement this in IntelliJ.</p>\n<p>Java class for the 'bookinghistories' collection in MongoDB.</p>\n<pre><code>package hotelbookingsystem.documents;\n\nimport java.time.LocalDateTime;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\nimport org.springframework.format.annotation.DateTimeFormat;\n\n@Document(collection = &quot;bookinghistories&quot;)\npublic class BookingHistory {\n\n    @Id\n    @Field(name = &quot;_id&quot;)\n    private String id;\n\n    @Field(name = &quot;customer_id&quot;)\n    private Integer customerId;\n\n    @Field(name = &quot;room_number&quot;)\n    private Integer roomNumber;\n\n    @Field(name = &quot;checkin_date&quot;)\n    private LocalDateTime checkinDate;\n\n    @Field(name = &quot;checkout_date&quot;)\n    private LocalDateTime checkoutDate;\n\n    @Field(name = &quot;days_of_stay&quot;)\n    private Integer daysOfStay;\n\n    public BookingHistory(String id, Integer customerId, Integer roomNumber, LocalDateTime checkinDate,\n                          LocalDateTime checkoutDate, Integer daysOfStay) {\n        super();\n        this.id = id;\n        this.customerId = customerId;\n        this.roomNumber = roomNumber;\n        this.checkinDate = checkinDate;\n        this.checkoutDate = checkoutDate;\n        this.daysOfStay = daysOfStay;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public Integer getCustomerId() {\n        return customerId;\n    }\n\n    public void setCustomerId(Integer customerId) {\n        this.customerId = customerId;\n    }\n\n    public Integer getRoomNumber() {\n        return roomNumber;\n    }\n\n    public void setRoomNumber(Integer roomNumber) {\n        this.roomNumber = roomNumber;\n    }\n\n    public LocalDateTime getCheckinDate() {\n        return checkinDate;\n    }\n\n    public void setCheckinDate(LocalDateTime checkinDate) {\n        this.checkinDate = checkinDate;\n    }\n\n    public LocalDateTime getCheckoutDate() {\n        return checkoutDate;\n    }\n\n    public void setCheckoutDate(LocalDateTime checkoutDate) {\n        this.checkoutDate = checkoutDate;\n    }\n\n    public Integer getDaysOfStay() {\n        return daysOfStay;\n    }\n\n    public void setDaysOfStay(Integer daysOfStay) {\n        this.daysOfStay = daysOfStay;\n    }\n}\n\n</code></pre>\n<p>The Repository:</p>\n<pre><code>package hotelbookingsystem.repositories;\n\n\nimport hotelbookingsystem.documents.BookingHistory;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.data.mongodb.repository.Query;\n\nimport java.time.LocalDateTime;\nimport java.util.List;\n\npublic interface BookingHistoryRepo extends MongoRepository&lt;BookingHistory, Integer&gt; {\n\n    @Query(value = &quot;{customer_id : ?0}&quot;, fields = &quot;{_id: 0, checkin_date: 1}&quot;)\n    List&lt;LocalDateTime&gt; findCheckinByCustomerId(Integer customerId);\n\n}\n</code></pre>\n<p>The program is expected to retrieve the list of LocalDateTime Objects for the 'checkin_date' field in MongoDB for the given 'customer_id'.</p>\n<p>This is how the collection looks:\n<a href=\"https://i.stack.imgur.com/pxH0d.png\" rel=\"nofollow noreferrer\">Screenshot from MongoDB Compass of the collection</a></p>\n"},{"tags":["java","type-conversion","long-integer","biginteger"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":3,"creation_date":1663465022,"post_id":73759547,"comment_id":130245633,"body_markdown":"Can you explain what the line `BigInteger n1,n2,n3,i,count = BigInteger.valueOf(n1,n2,n3,i,count)` is intended to do?","body":"Can you explain what the line <code>BigInteger n1,n2,n3,i,count = BigInteger.valueOf(n1,n2,n3,i,count)</code> is intended to do?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1663465312,"post_id":73759547,"comment_id":130245656,"body_markdown":"`an error occurs` - compiler exactly telling you what&#39;s wrong, and you should pay attention to it. Copy the error-message to the question.","body":"<code>an error occurs</code> - compiler exactly telling you what&#39;s wrong, and you should pay attention to it. Copy the error-message to the question."},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1663465330,"post_id":73759547,"comment_id":130245659,"body_markdown":"I&#39;m trying to convert it into a BigInteger from a long using this. I found information on this site https://simplesolution.dev/java-convert-long-to-biginteger/#:~:text=To%20convert%20a%20given%20long,from%20a%20given%20long%20value.  which says the way to do it is &#39;BigInteger value = BigInteger.valueOf(longValue)&#39;","body":"I&#39;m trying to convert it into a BigInteger from a long using this. I found information on this site <a href=\"https://simplesolution.dev/java-convert-long-to-biginteger/#:~:text=To%20convert%20a%20given%20long,from%20a%20given%20long%20value\" rel=\"nofollow noreferrer\">simplesolution.dev/java-convert-long-to-biginteger/&hellip;</a>.  which says the way to do it is &#39;BigInteger value = BigInteger.valueOf(longValue)&#39;"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":3,"creation_date":1663465478,"post_id":73759547,"comment_id":130245668,"body_markdown":"Do you think it&#39;s a valid Java? Did you try to have a look at the [documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html)? It fairly easy to find out that the version of `BigInteger.valueOf()` that you&#39;re trying to use doesn&#39;t exist.","body":"Do you think it&#39;s a valid Java? Did you try to have a look at the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">documentation</a>? It fairly easy to find out that the version of <code>BigInteger.valueOf()</code> that you&#39;re trying to use doesn&#39;t exist."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663465361,"creation_date":1663465361,"answer_id":73759600,"question_id":73759547,"body_markdown":"The java spec defines rigidly what operators can be applied to what and what it means. Specifically, all the usual mathy operators (`+`, `-`, etc) all apply __only to primitive numbers__, with the one exception being `+` which can show up between strings and anything else too, but then it&#39;s a completely different thing (string concatenation instead of numeric addition).\r\n\r\n__They cannot be applied to BigInteger AT ALL__ - the spec simply doesn&#39;t list what that would mean, and java does not have operator overloading.\r\n\r\nThe direct replacements are methods confusingly named `add`, `subtract`, `multiply`, `divide`. So,\r\n\r\n```\r\nBigInteger a = BigInteger.ONE;\r\nBigInteger b = BigInteger.ONE;\r\nBigInteger c = a + b; // wrong\r\nBigInteger c = a.add(b); // correct\r\n```\r\n\r\nThe better names would have been `plus`, `minus`, `times`, and `dividedBy`. In the sense that if I write on a blackboard `a = b + c`, and I ask you to read it out loud, you&#39;d say: &quot;a equals b plus c&quot;. Not &quot;a equals b add c&quot;. But, it is what it is - just remember, `a.add(b)` will calculate the sum of a and b and return a brand new `BigInteger` with the result. It does _not_ add `b` to `a`. (BigInteger is immutable; it is not possible to change its value by calling methods on it, or any other way outside of hackery).\r\n","title":"How can I convert a long function into a Biginteger into a string?","body":"<p>The java spec defines rigidly what operators can be applied to what and what it means. Specifically, all the usual mathy operators (<code>+</code>, <code>-</code>, etc) all apply <strong>only to primitive numbers</strong>, with the one exception being <code>+</code> which can show up between strings and anything else too, but then it's a completely different thing (string concatenation instead of numeric addition).</p>\n<p><strong>They cannot be applied to BigInteger AT ALL</strong> - the spec simply doesn't list what that would mean, and java does not have operator overloading.</p>\n<p>The direct replacements are methods confusingly named <code>add</code>, <code>subtract</code>, <code>multiply</code>, <code>divide</code>. So,</p>\n<pre><code>BigInteger a = BigInteger.ONE;\nBigInteger b = BigInteger.ONE;\nBigInteger c = a + b; // wrong\nBigInteger c = a.add(b); // correct\n</code></pre>\n<p>The better names would have been <code>plus</code>, <code>minus</code>, <code>times</code>, and <code>dividedBy</code>. In the sense that if I write on a blackboard <code>a = b + c</code>, and I ask you to read it out loud, you'd say: &quot;a equals b plus c&quot;. Not &quot;a equals b add c&quot;. But, it is what it is - just remember, <code>a.add(b)</code> will calculate the sum of a and b and return a brand new <code>BigInteger</code> with the result. It does <em>not</em> add <code>b</code> to <code>a</code>. (BigInteger is immutable; it is not possible to change its value by calling methods on it, or any other way outside of hackery).</p>\n"},{"tags":[],"owner":{"account_id":2931439,"reputation":59,"user_id":2511564,"display_name":"koZmiZm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680455410,"creation_date":1680454356,"answer_id":75913379,"question_id":73759547,"body_markdown":"First, You will need to change the following line because you can&#39;t do multiple instantiations at the same time, and the method provided only allows for one argument to be passed. \r\n\r\nChange \r\n\r\n    BigInteger n1,n2,n3,i,count = BigInteger.valueOf(n1,n2,n3,i,count);\r\n\r\nto \r\n    \r\n    BigInteger n1    = BigInteger.valueOf(lngN1);\r\n    BigInteger n2    = BigInteger.valueOf(lngN2);\r\n    BigInteger n3    = BigInteger.valueOf(lngN3);\r\n    BigInteger i     = BigInteger.valueOf(lngI);\r\n    BigInteger count = BigInteger.valueOf(lngCount);\r\nand notice how I also changed the variable names for the longs. You can&#39;t declare a variable name twice in the same scope.\r\n\r\nYou cannot do this: \r\n\r\n    long       n1 = 1L;\r\n    BigInteger n1 = BigInteger.ONE;\r\n\r\nbecause they have the same name. Which n1 are you refering to? So, your longs need to have different names than your BigIntegers.\r\n\r\n\r\n\r\nReally, you don&#39;t need all those variables/properties to be BigInteger. When I clean up the code I get this:\r\n\r\n    \r\n    import java.math.BigInteger;\r\n\r\n    public class Fib {\r\n\t    public static void main(String[] args) {\r\n            long count = 100;\r\n            BigInteger n1 = BigInteger.valueOf(0L);\r\n            BigInteger n2 = BigInteger.valueOf(1L);\r\n            BigInteger n3 = null;\r\n            \r\n            \r\n            System.out.print(n1 + &quot; &quot; + n2);//printing 0 and 1\r\n            \r\n            for (long i=2; i&lt;count; ++i) {//loop starts from 2 because 0 and 1 are already printed\r\n                n3 = n1.add(n2);\r\n                System.out.print(&quot; &quot; + n3);\r\n                n1 = n2;\r\n                n2 = n3;\r\n            }\t\t\r\n\t    }\r\n    }\r\n\r\n\r\n(EDIT/ADDITION)        \r\nAnd actually, BigInteger has ZERO and ONE already built into it, so you can just do \r\n\r\n    BigInteger n1 = BigInteger.ZERO;\r\n    BigInteger n2 = BigInteger.ONE;\r\n            ","title":"How can I convert a long function into a Biginteger into a string?","body":"<p>First, You will need to change the following line because you can't do multiple instantiations at the same time, and the method provided only allows for one argument to be passed.</p>\n<p>Change</p>\n<pre><code>BigInteger n1,n2,n3,i,count = BigInteger.valueOf(n1,n2,n3,i,count);\n</code></pre>\n<p>to</p>\n<pre><code>BigInteger n1    = BigInteger.valueOf(lngN1);\nBigInteger n2    = BigInteger.valueOf(lngN2);\nBigInteger n3    = BigInteger.valueOf(lngN3);\nBigInteger i     = BigInteger.valueOf(lngI);\nBigInteger count = BigInteger.valueOf(lngCount);\n</code></pre>\n<p>and notice how I also changed the variable names for the longs. You can't declare a variable name twice in the same scope.</p>\n<p>You cannot do this:</p>\n<pre><code>long       n1 = 1L;\nBigInteger n1 = BigInteger.ONE;\n</code></pre>\n<p>because they have the same name. Which n1 are you refering to? So, your longs need to have different names than your BigIntegers.</p>\n<p>Really, you don't need all those variables/properties to be BigInteger. When I clean up the code I get this:</p>\n<pre><code>import java.math.BigInteger;\n\npublic class Fib {\n    public static void main(String[] args) {\n        long count = 100;\n        BigInteger n1 = BigInteger.valueOf(0L);\n        BigInteger n2 = BigInteger.valueOf(1L);\n        BigInteger n3 = null;\n        \n        \n        System.out.print(n1 + &quot; &quot; + n2);//printing 0 and 1\n        \n        for (long i=2; i&lt;count; ++i) {//loop starts from 2 because 0 and 1 are already printed\n            n3 = n1.add(n2);\n            System.out.print(&quot; &quot; + n3);\n            n1 = n2;\n            n2 = n3;\n        }       \n    }\n}\n</code></pre>\n<p>(EDIT/ADDITION)<br />\nAnd actually, BigInteger has ZERO and ONE already built into it, so you can just do</p>\n<pre><code>BigInteger n1 = BigInteger.ZERO;\nBigInteger n2 = BigInteger.ONE;\n        \n</code></pre>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680455410,"creation_date":1663464494,"question_id":73759547,"body_markdown":"I&#39;m trying to change my `long` variables into `BigInteger` because I&#39;m storing numbers of the fibonacci series in it and then ultimately turn them into a  string. Here is my original code.\r\n\r\n    public class Fib {\r\n        public static void main(String args[])\r\n        {\r\n            long n1=0,n2=1,n3,i,count = 100;\r\n            System.out.print(n1+&quot; &quot;+n2);//printing 0 and 1\r\n    \r\n            for(i=2;i&lt;count;++i)//loop starts from 2 because 0 and 1 are already printed\r\n                 {\r\n                    n3=n1+n2;\r\n                    System.out.print(&quot; &quot;+n3);\r\n                    n1=n2;\r\n                    n2=n3;\r\n                }\r\n    \r\n            }} :\r\n\r\nand I&#39;ve tried to convert it into a BigInteger AND a string afterwards like this...\r\n\r\n    public class Fib {\r\n        public static void main(String args[])\r\n        {\r\n            long n1=0,n2=1,n3,i,count = 100;\r\n            BigInteger n1,n2,n3,i,count = BigInteger.valueOf(n1,n2,n3,i,count)\r\n            System.out.print(n1+&quot; &quot;+n2);//printing 0 and 1\r\n    \r\n            for(i=2;i&lt;count;++i)//loop starts from 2 because 0 and 1 are already printed\r\n                 {\r\n                    String n3= n1+n2;\r\n                    System.out.print(&quot; &quot;+n3);\r\n                    n1=n2;\r\n                    n2=n3;\r\n                }\r\n    \r\n            }}\r\n\r\nHowever, an error occurs. I&#39;ve tried to read the syntax for converting long variables into BigIntegers and BigIntegers into strings and I understand that what I&#39;ve done is wrong. \r\n\r\nHowever, I can&#39;t seem to figure out the right way to implement what I want to do, which is why I&#39;ve came to StackOverflow to seek help. \r\n\r\nIf anyone can help me with this, It would be very much appreciated. ","title":"How can I convert a long function into a Biginteger into a string?","body":"<p>I'm trying to change my <code>long</code> variables into <code>BigInteger</code> because I'm storing numbers of the fibonacci series in it and then ultimately turn them into a  string. Here is my original code.</p>\n<pre><code>public class Fib {\n    public static void main(String args[])\n    {\n        long n1=0,n2=1,n3,i,count = 100;\n        System.out.print(n1+&quot; &quot;+n2);//printing 0 and 1\n\n        for(i=2;i&lt;count;++i)//loop starts from 2 because 0 and 1 are already printed\n             {\n                n3=n1+n2;\n                System.out.print(&quot; &quot;+n3);\n                n1=n2;\n                n2=n3;\n            }\n\n        }} :\n</code></pre>\n<p>and I've tried to convert it into a BigInteger AND a string afterwards like this...</p>\n<pre><code>public class Fib {\n    public static void main(String args[])\n    {\n        long n1=0,n2=1,n3,i,count = 100;\n        BigInteger n1,n2,n3,i,count = BigInteger.valueOf(n1,n2,n3,i,count)\n        System.out.print(n1+&quot; &quot;+n2);//printing 0 and 1\n\n        for(i=2;i&lt;count;++i)//loop starts from 2 because 0 and 1 are already printed\n             {\n                String n3= n1+n2;\n                System.out.print(&quot; &quot;+n3);\n                n1=n2;\n                n2=n3;\n            }\n\n        }}\n</code></pre>\n<p>However, an error occurs. I've tried to read the syntax for converting long variables into BigIntegers and BigIntegers into strings and I understand that what I've done is wrong.</p>\n<p>However, I can't seem to figure out the right way to implement what I want to do, which is why I've came to StackOverflow to seek help.</p>\n<p>If anyone can help me with this, It would be very much appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":324951,"reputation":935,"user_id":6722664,"display_name":"Sagar Gandhi"},"score":4,"creation_date":1680449837,"post_id":75912974,"comment_id":133896876,"body_markdown":"You have defined temp inside if scope and returning it outside.  declare temp outside the loop.","body":"You have defined temp inside if scope and returning it outside.  declare temp outside the loop."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1680449889,"post_id":75912974,"comment_id":133896888,"body_markdown":"The variable `int temp` is defined inside the `if()` block, so it only &quot;exists&quot; inside the `if()` block. This means, it does not exists in the `return temp;` line.","body":"The variable <code>int temp</code> is defined inside the <code>if()</code> block, so it only &quot;exists&quot; inside the <code>if()</code> block. This means, it does not exists in the <code>return temp;</code> line."}],"answers":[{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680450027,"creation_date":1680450027,"answer_id":75913010,"question_id":75912974,"body_markdown":"You defined the variable `temp` inside your `for loop` inside your `if condition`. It does not exist outside of that scope, which means that once that if condition ended, the variable no longer exists. So when you try to use it with `return temp` the program does not know what you are referring to.\r\n\r\nTo fix it, you just need to define temp in the scope of your entire function similarly to how you defined `int LCM = 0;` and then assign the value in the if condition.\r\n\r\nworking code:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Source {\r\n\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    // Enter the two numbers in the input console\r\n    int number1 = scan.nextInt();\r\n    int number2 = scan.nextInt();\r\n    System.out.print(lcm(number1, number2));\r\n  }\r\n\r\n  public static int lcm(int number1, int number2) {\r\n    int LCM = 0;\r\n    int temp;\r\n    if (number1 &gt; number2) {\r\n      LCM = number1;\r\n    } else {\r\n      LCM = number2;\r\n    }\r\n    for (int LCP = LCM; LCP &lt;= 100000000; LCP++) {\r\n      if ((LCP % number1 == 0) &amp;&amp; (LCP % number2 == 0)) {\r\n        temp = LCP;\r\n      }\r\n\r\n    }\r\n    return temp;\r\n  }\r\n\r\n}\r\n```\r\n\r\nYou can read more about scopes [here](https://www.geeksforgeeks.org/variable-scope-in-java/)","title":"i keep running into a &quot;cannot find symbol error&quot; at line 32","body":"<p>You defined the variable <code>temp</code> inside your <code>for loop</code> inside your <code>if condition</code>. It does not exist outside of that scope, which means that once that if condition ended, the variable no longer exists. So when you try to use it with <code>return temp</code> the program does not know what you are referring to.</p>\n<p>To fix it, you just need to define temp in the scope of your entire function similarly to how you defined <code>int LCM = 0;</code> and then assign the value in the if condition.</p>\n<p>working code:</p>\n<pre><code>import java.util.Scanner;\n\nclass Source {\n\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    // Enter the two numbers in the input console\n    int number1 = scan.nextInt();\n    int number2 = scan.nextInt();\n    System.out.print(lcm(number1, number2));\n  }\n\n  public static int lcm(int number1, int number2) {\n    int LCM = 0;\n    int temp;\n    if (number1 &gt; number2) {\n      LCM = number1;\n    } else {\n      LCM = number2;\n    }\n    for (int LCP = LCM; LCP &lt;= 100000000; LCP++) {\n      if ((LCP % number1 == 0) &amp;&amp; (LCP % number2 == 0)) {\n        temp = LCP;\n      }\n\n    }\n    return temp;\n  }\n\n}\n</code></pre>\n<p>You can read more about scopes <a href=\"https://www.geeksforgeeks.org/variable-scope-in-java/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1680453405,"post_id":75913082,"comment_id":133897449,"body_markdown":"I assumed lcm stands for Least Common Multiply, not gcm","body":"I assumed lcm stands for Least Common Multiply, not gcm"}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680450981,"creation_date":1680450981,"answer_id":75913082,"question_id":75912974,"body_markdown":"Define `temp` outside your loop function, and also you might want to break execution once you have found the value you were looking for:\r\n\r\n \r\n\r\n    public static int lcm(int number1, int number2) {\r\n        int LCM = 0;\r\n        int temp = 0; \r\n        if (number1 &gt; number2) {\r\n          LCM = number1;\r\n        } else {\r\n          LCM = number2;\r\n        }\r\n        for (int LCP = LCM; LCP &lt;= 100000000; LCP++) {\r\n          if ((LCP % number1 == 0) &amp;&amp; (LCP % number2 == 0)) {\r\n            temp = LCP;\r\n            break; // Finish loop \r\n          }\r\n    \r\n        }\r\n        return temp;\r\n      }","title":"i keep running into a &quot;cannot find symbol error&quot; at line 32","body":"<p>Define <code>temp</code> outside your loop function, and also you might want to break execution once you have found the value you were looking for:</p>\n<pre><code>public static int lcm(int number1, int number2) {\n    int LCM = 0;\n    int temp = 0; \n    if (number1 &gt; number2) {\n      LCM = number1;\n    } else {\n      LCM = number2;\n    }\n    for (int LCP = LCM; LCP &lt;= 100000000; LCP++) {\n      if ((LCP % number1 == 0) &amp;&amp; (LCP % number2 == 0)) {\n        temp = LCP;\n        break; // Finish loop \n      }\n\n    }\n    return temp;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680453048,"creation_date":1680453048,"answer_id":75913269,"question_id":75912974,"body_markdown":"You have defined the ‘temp’ variable inside the if statement. So, it has become a local variable. Local variables cannot be accessed outside the condition or function in which they are defined. So, you need to define the ‘temp’ variable outside the if statement. Modified code:\r\n~~~\r\nimport java.util.Scanner;\r\n\r\nclass Source {\r\n\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    // Enter the two numbers in the input console\r\n    int number1 = scan.nextInt();\r\n    int number2 = scan.nextInt();\r\n    System.out.print(lcm(number1, number2));\r\n  }\r\n\r\n  public static int lcm(int number1, int number2) {\r\n    int LCM = 0;\r\n    int temp = 0;\r\n    if (number1 &gt; number2) {\r\n      LCM = number1;\r\n    } else {\r\n      LCM = number2;\r\n    }\r\n    for (int LCP = LCM; LCP &lt;= 100000000; LCP++) {\r\n      if ((LCP % number1 == 0) &amp;&amp; (LCP % number2 == 0)) {\r\n          temp = LCP;\r\n      }\r\n\r\n    }\r\n    return temp;\r\n  }\r\n\r\n}\r\n~~~","title":"i keep running into a &quot;cannot find symbol error&quot; at line 32","body":"<p>You have defined the ‘temp’ variable inside the if statement. So, it has become a local variable. Local variables cannot be accessed outside the condition or function in which they are defined. So, you need to define the ‘temp’ variable outside the if statement. Modified code:</p>\n<pre><code>import java.util.Scanner;\n\nclass Source {\n\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    // Enter the two numbers in the input console\n    int number1 = scan.nextInt();\n    int number2 = scan.nextInt();\n    System.out.print(lcm(number1, number2));\n  }\n\n  public static int lcm(int number1, int number2) {\n    int LCM = 0;\n    int temp = 0;\n    if (number1 &gt; number2) {\n      LCM = number1;\n    } else {\n      LCM = number2;\n    }\n    for (int LCP = LCM; LCP &lt;= 100000000; LCP++) {\n      if ((LCP % number1 == 0) &amp;&amp; (LCP % number2 == 0)) {\n          temp = LCP;\n      }\n\n    }\n    return temp;\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28195444,"reputation":11,"user_id":21550164,"display_name":"happyashbunny "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75913010,"answer_count":3,"score":-1,"last_activity_date":1680454811,"creation_date":1680449621,"question_id":75912974,"body_markdown":"    import java.util.Scanner;\r\n\r\n    class Source {\r\n    \r\n      public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        // Enter the two numbers in the input console\r\n        int number1 = scan.nextInt();\r\n        int number2 = scan.nextInt();\r\n        System.out.print(lcm(number1, number2));\r\n      }\r\n    \r\n      public static int lcm(int number1, int number2) {\r\n        int LCM = 0;\r\n        if (number1 &gt; number2) {\r\n          LCM = number1;\r\n        } else {\r\n          LCM = number2;\r\n        }\r\n        for (int LCP = LCM; LCP &lt;= 100000000; LCP++) {\r\n          if ((LCP % number1 == 0) &amp;&amp; (LCP % number2 == 0)) {\r\n            int temp = LCP;\r\n          }\r\n    \r\n        }\r\n        return temp;\r\n      }\r\n    \r\n    }\r\n\r\nI think I properly defined the return variable. I know that its a petty issue yet I cant pinpoint the error or the adjustment that I have to make. ","title":"i keep running into a &quot;cannot find symbol error&quot; at line 32","body":"<pre><code>import java.util.Scanner;\n\nclass Source {\n\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    // Enter the two numbers in the input console\n    int number1 = scan.nextInt();\n    int number2 = scan.nextInt();\n    System.out.print(lcm(number1, number2));\n  }\n\n  public static int lcm(int number1, int number2) {\n    int LCM = 0;\n    if (number1 &gt; number2) {\n      LCM = number1;\n    } else {\n      LCM = number2;\n    }\n    for (int LCP = LCM; LCP &lt;= 100000000; LCP++) {\n      if ((LCP % number1 == 0) &amp;&amp; (LCP % number2 == 0)) {\n        int temp = LCP;\n      }\n\n    }\n    return temp;\n  }\n\n}\n</code></pre>\n<p>I think I properly defined the return variable. I know that its a petty issue yet I cant pinpoint the error or the adjustment that I have to make.</p>\n"},{"tags":["java","opengl","events","keylistener","jogl"],"comments":[{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1679924401,"post_id":75855828,"comment_id":133803135,"body_markdown":"it&#39;s because this is not a KeyListener","body":"it&#39;s because this is not a KeyListener"},{"owner":{"account_id":3779609,"reputation":666,"user_id":3157429,"display_name":"DRV"},"score":0,"creation_date":1679967878,"post_id":75855828,"comment_id":133812421,"body_markdown":"then what it is? @user253751","body":"then what it is? @user253751"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1679988762,"post_id":75855828,"comment_id":133815102,"body_markdown":"you see `import com.jogamp.newt.event.KeyListener` that means when you just write `KeyListener` it&#39;s talking about the JOGAMP one. But you need the AWT one because AWT uses AWT KeyListeners","body":"you see <code>import com.jogamp.newt.event.KeyListener</code> that means when you just write <code>KeyListener</code> it&#39;s talking about the JOGAMP one. But you need the AWT one because AWT uses AWT KeyListeners"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1680084990,"post_id":75855828,"comment_id":133836001,"body_markdown":"@user253751 Yes, this is almost correct. JogAmp supports AWT, Swing, OpenJFX and its own windowing system called NEWT. Either use JOGL AWT GLCanvas with the AWT KeyListener or use GLWindow (NEWT) with NEWT KeyListener.","body":"@user253751 Yes, this is almost correct. JogAmp supports AWT, Swing, OpenJFX and its own windowing system called NEWT. Either use JOGL AWT GLCanvas with the AWT KeyListener or use GLWindow (NEWT) with NEWT KeyListener."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1680085114,"post_id":75855828,"comment_id":133836028,"body_markdown":"@DRV This example uses NEWT: https://gist.github.com/xranby/ccbcfcaef341f5bd1ba8","body":"@DRV This example uses NEWT: <a href=\"https://gist.github.com/xranby/ccbcfcaef341f5bd1ba8\" rel=\"nofollow noreferrer\">gist.github.com/xranby/ccbcfcaef341f5bd1ba8</a>"}],"answers":[{"tags":[],"owner":{"account_id":3779609,"reputation":666,"user_id":3157429,"display_name":"DRV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680452827,"creation_date":1680452827,"answer_id":75913251,"question_id":75855828,"body_markdown":"\r\n I have modified and added this lines\r\n\r\n GLProfile g = GLProfile.getMaxProgrammableCore(true);\r\n\r\n  GLCapabilities c = new GLCapabilities(g);\r\n\r\n myCanvas = new GLCanvas(c);\r\n    \r\n\r\nNow I can able to do the Key listener interface in my program.\r\n\r\n**Code:**\r\n\r\n    import java.io.*;\r\n    import java.lang.Math;\r\n    import java.nio.*;\r\n    import javax.swing.*;\r\n    import static com.jogamp.opengl.GL4.*;\r\n    import com.jogamp.opengl.util.*;\r\n    import com.jogamp.opengl.*;\r\n    import com.jogamp.opengl.awt.GLCanvas;\r\n    import com.jogamp.opengl.util.texture.*;\r\n    import com.jogamp.common.nio.Buffers;\r\n    import org.joml.*;\r\n    import com.jogamp.opengl.GLContext;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    \r\n    \r\n    public class Code extends JFrame implements GLEventListener,KeyListener\r\n    {\tprivate GLCanvas myCanvas;\r\n    \tprivate int renderingProgram;\r\n       private double startTime = 0.0;\r\n    \tprivate double elapsedTime;\r\n    \tprivate int vao[] = new int[1];\r\n    \tprivate int vbo[] = new int[3];\r\n    \tprivate float cameraX, cameraY, cameraZ;\r\n    \tprivate float objLocX, objLocY, objLocZ;\r\n    \t\r\n    \t// allocate variables for display() function\r\n    \tprivate FloatBuffer vals = Buffers.newDirectFloatBuffer(16);\r\n    \tprivate Matrix4f pMat = new Matrix4f();  // perspective matrix\r\n    \tprivate Matrix4f vMat = new Matrix4f();  // view matrix\r\n    \tprivate Matrix4f mMat = new Matrix4f();  // model matrix\r\n    \tprivate Matrix4f mvMat = new Matrix4f(); // model-view matrix\r\n    \tprivate int mvLoc, pLoc;\r\n    \tprivate float aspect;\r\n    \t\r\n    \tprivate int shuttleTexture;\r\n    \t\r\n    \tprivate int numObjVertices;\r\n    \tprivate ImportedModel myModel;\r\n       \r\n       private double tf;\r\n       int i = 0;\r\n       double incX;\r\n       double incY;\r\n       int setx = 2;\r\n       \r\n       boolean toggle = false;\r\n       boolean texToggle = false;\r\n    \r\n    \tpublic Code()\r\n    \t{\tsetTitle(&quot;Chapter6 - program3&quot;);\r\n    \t\tsetSize(600, 600);\r\n          GLProfile g = GLProfile.getMaxProgrammableCore(true);\r\n    \r\n          GLCapabilities c = new GLCapabilities(g);\r\n          \r\n          myCanvas = new GLCanvas(c);\r\n    \r\n    \t\tmyCanvas.addGLEventListener(this);\r\n          myCanvas.addKeyListener(this);\r\n          myCanvas.setFocusable(true);\r\n    \t\tthis.add(myCanvas);\r\n    \t\tthis.setVisible(true);\r\n          Animator animator = new Animator(myCanvas);\r\n    \t\tanimator.start();\r\n    \t}\r\n    \r\n    \tpublic void display(GLAutoDrawable drawable)\r\n    \t{\tGL4 gl = (GL4) GLContext.getCurrentGL();\r\n    \t\tgl.glClear(GL_COLOR_BUFFER_BIT);\r\n    \t\tgl.glClear(GL_DEPTH_BUFFER_BIT);\r\n          elapsedTime = System.currentTimeMillis() - startTime;\r\n          \r\n    \t\ttf = elapsedTime/1000.0; \r\n          \r\n          if(texToggle){\r\n       \t\t   shuttleTexture = Utils.loadTexture(&quot;Material5.jpg&quot;);\r\n          }\r\n             else{\r\n       \t\t   shuttleTexture = Utils.loadTexture(&quot;dhoni.jpg&quot;);   \r\n          }\r\n    \r\n    \t\tgl.glUseProgram(renderingProgram);\r\n    \r\n    \t\tint mvLoc = gl.glGetUniformLocation(renderingProgram, &quot;mv_matrix&quot;);\r\n    \t\tint pLoc = gl.glGetUniformLocation(renderingProgram, &quot;p_matrix&quot;);\r\n    \r\n    \t\tvMat.identity().setTranslation(-cameraX,-cameraY,-cameraZ);\r\n          \r\n          for(int yUp = -1; yUp&lt;=1; yUp += 1){\r\n             for(int i = 0; i &lt; 9; i++){\r\n             \r\n       \r\n                   mMat.identity();\r\n                   mMat.rotateX((float)Math.toRadians(incX));\r\n                   mMat.rotateY((float)Math.toRadians(incY));\r\n                   \r\n                   if(i==0){\r\n                   \r\n                      mMat.translate(0*setx,yUp*setx,0*setx);\r\n                   }\r\n                   else if(i == 1){\r\n                      mMat.translate(-1*setx,yUp*setx,0*setx);\r\n                   }\r\n                   \r\n                    else if(i == 2){\r\n                      mMat.translate(1*setx,yUp*setx,0*setx);\r\n                   }\r\n       \r\n                    else if(i == 3){\r\n                      mMat.translate(0*setx,yUp*setx,-1*setx);\r\n                   }\r\n                    else if(i == 4){\r\n                      mMat.translate(0*setx,yUp*setx,1*setx);\r\n                   }\r\n                    else if(i == 5){\r\n                      mMat.translate(1*setx,yUp*setx,-1*setx);\r\n                   }\r\n                   else if(i == 6){\r\n                      mMat.translate(1*setx,yUp*setx,1*setx);\r\n                   }\r\n                   \r\n                   else if(i == 7){\r\n                      mMat.translate(-1*setx,yUp*setx,-1*setx);\r\n                   }\r\n                    else if(i == 8){\r\n                      mMat.translate(-1*setx,yUp*setx,1*setx);\r\n                   }\r\n       \r\n    \r\n    \r\n          \t\tmMat.rotateX((float)Math.toRadians(180.f));\r\n          \t\tmMat.rotateY((float)Math.toRadians(180.f));\r\n          \t\tmMat.rotateZ((float)Math.toRadians(90.0f));\r\n    \r\n          \r\n          \t\tmvMat.identity();\r\n          \t\tmvMat.mul(vMat);\r\n          \t\tmvMat.mul(mMat);\r\n        \r\n          \t\tgl.glUniformMatrix4fv(mvLoc, 1, false, mvMat.get(vals));\r\n          \t\tgl.glUniformMatrix4fv(pLoc, 1, false, pMat.get(vals));\r\n          \r\n          \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\r\n          \t\tgl.glVertexAttribPointer(0, 3, GL_FLOAT, false, 0, 0);\r\n          \t\tgl.glEnableVertexAttribArray(0);\r\n          \r\n          \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\r\n          \t\tgl.glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\r\n          \t\tgl.glEnableVertexAttribArray(1);\r\n          \r\n          \t\tgl.glActiveTexture(GL_TEXTURE0);\r\n          \t\tgl.glBindTexture(GL_TEXTURE_2D, shuttleTexture);\r\n                \r\n                if (toggle){\r\n                   gl.glPolygonMode( GL_FRONT_AND_BACK, GL_LINE );\r\n                }\r\n                else{\r\n                   gl.glPolygonMode( GL_FRONT_AND_BACK, GL_FILL );\r\n                } \r\n                \r\n          \t\tgl.glEnable(GL_DEPTH_TEST);\r\n          \t\tgl.glDepthFunc(GL_LEQUAL);\r\n          \t\tgl.glDrawArrays(GL_TRIANGLES, 0, myModel.getNumVertices());\r\n                   \r\n          }\r\n    \t}\r\n       \r\n       \r\n       }\r\n    \r\n    \tpublic void init(GLAutoDrawable drawable)\r\n    \t{\tGL4 gl = (GL4) GLContext.getCurrentGL();\r\n       \t\tstartTime = System.currentTimeMillis();\r\n    \t\tmyModel = new ImportedModel(&quot;cube1.obj&quot;);\r\n    \t\trenderingProgram = Utils.createShaderProgram(&quot;code/vertShader.glsl&quot;, &quot;code/fragShader.glsl&quot;);\r\n    \r\n    \t\tfloat aspect = (float) myCanvas.getWidth() / (float) myCanvas.getHeight();\r\n    \t\tpMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 1000.0f);\r\n    \r\n    \t\tsetupVertices();\r\n          cameraX = 0.0f; cameraY = 0.0f; cameraZ = 25.0f;\r\n    \t\tobjLocX = 100.0f; objLocY = 100.0f; objLocZ = 100.0f;\r\n    \r\n          if(texToggle){\r\n    \t\t   shuttleTexture = Utils.loadTexture(&quot;Material5.jpg&quot;);\r\n          }\r\n          else{\r\n    \t\t   shuttleTexture = Utils.loadTexture(&quot;dhoni.jpg&quot;);\r\n    \r\n          }\r\n    \r\n          \r\n    \t}\r\n    \r\n    \tprivate void setupVertices()\r\n    \t{\tGL4 gl = (GL4) GLContext.getCurrentGL();\r\n    \t\r\n    \t\tnumObjVertices = myModel.getNumVertices();\r\n    \t\tVector3f[] vertices = myModel.getVertices();\r\n    \t\tVector2f[] texCoords = myModel.getTexCoords();\r\n    \t\tVector3f[] normals = myModel.getNormals();\r\n    \t\t\r\n    \t\tfloat[] pvalues = new float[numObjVertices*3];\r\n    \t\tfloat[] tvalues = new float[numObjVertices*2];\r\n    \t\tfloat[] nvalues = new float[numObjVertices*3];\r\n    \t\t\r\n    \t\tfor (int i=0; i&lt;numObjVertices; i++)\r\n    \t\t{\tpvalues[i*3]   = (float) (vertices[i]).x();\r\n    \t\t\tpvalues[i*3+1] = (float) (vertices[i]).y();\r\n    \t\t\tpvalues[i*3+2] = (float) (vertices[i]).z();\r\n    \t\t\ttvalues[i*2]   = (float) (texCoords[i]).x();\r\n    \t\t\ttvalues[i*2+1] = (float) (texCoords[i]).y();\r\n    \t\t\tnvalues[i*3]   = (float) (normals[i]).x();\r\n    \t\t\tnvalues[i*3+1] = (float) (normals[i]).y();\r\n    \t\t\tnvalues[i*3+2] = (float) (normals[i]).z();\r\n    \t\t}\r\n    \t\t\r\n    \t\tgl.glGenVertexArrays(vao.length, vao, 0);\r\n    \t\tgl.glBindVertexArray(vao[0]);\r\n    \t\tgl.glGenBuffers(vbo.length, vbo, 0);\r\n    \t\t\r\n    \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\r\n    \t\tFloatBuffer vertBuf = Buffers.newDirectFloatBuffer(pvalues);\r\n    \t\tgl.glBufferData(GL_ARRAY_BUFFER, vertBuf.limit()*4, vertBuf, GL_STATIC_DRAW);\r\n    \r\n    \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\r\n    \t\tFloatBuffer texBuf = Buffers.newDirectFloatBuffer(tvalues);\r\n    \t\tgl.glBufferData(GL_ARRAY_BUFFER, texBuf.limit()*4, texBuf, GL_STATIC_DRAW);\r\n    \r\n    \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\r\n    \t\tFloatBuffer norBuf = Buffers.newDirectFloatBuffer(nvalues);\r\n    \t\tgl.glBufferData(GL_ARRAY_BUFFER, norBuf.limit()*4,norBuf, GL_STATIC_DRAW);\r\n    \t}\r\n    \r\n       public void keyPressed(KeyEvent e) {\r\n            System.out.println(&quot;keyPressed&quot;);\r\n            if(e.getKeyCode()== KeyEvent.VK_RIGHT)\r\n                incY  += 20.0f;\r\n                   \r\n            else if(e.getKeyCode()== KeyEvent.VK_LEFT)\r\n                incY  -= 20.0f;\r\n            else if(e.getKeyCode()== KeyEvent.VK_UP)\r\n                incX  += 20.0f;\r\n                \r\n            else if(e.getKeyCode()== KeyEvent.VK_DOWN)\r\n                incX  -= 20.0f;\r\n            else if(e.getKeyCode()== KeyEvent.VK_E)\r\n                setx  += 3;\r\n            else if(e.getKeyCode()== KeyEvent.VK_C)\r\n                setx  -= 1;\r\n            else if(e.getKeyCode()== KeyEvent.VK_L)\r\n                toggle = !toggle;\r\n            else if(e.getKeyCode()== KeyEvent.VK_X)\r\n                cameraZ -= 2.0f;\r\n            else if(e.getKeyCode()== KeyEvent.VK_Z)\r\n                cameraZ += 4.0f;\r\n            else if(e.getKeyCode()== KeyEvent.VK_T ){\r\n               texToggle = !texToggle;\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public void keyReleased(KeyEvent e) {\r\n        \r\n          \r\n        \r\n           System.out.println(&quot;keyReleased&quot;);\r\n          \r\n        }\r\n        public void keyTyped(KeyEvent e) {\r\n            System.out.println(&quot;keyTyped&quot;);\r\n        }\r\n    \r\n    \r\n    \tpublic static void main(String[] args) { new Code(); }\r\n    \tpublic void dispose(GLAutoDrawable drawable) {}\r\n    \tpublic void reshape(GLAutoDrawable drawable, int x, int y, int width, int height)\r\n    \t{\tfloat aspect = (float) myCanvas.getWidth() / (float) myCanvas.getHeight();\r\n    \t\tpMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 1000.0f);\r\n    \t}\r\n    }","title":"myCanvas.addKeyListener(this) throws an error in JOGL","body":"<p>I have modified and added this lines</p>\n<p>GLProfile g = GLProfile.getMaxProgrammableCore(true);</p>\n<p>GLCapabilities c = new GLCapabilities(g);</p>\n<p>myCanvas = new GLCanvas(c);</p>\n<p>Now I can able to do the Key listener interface in my program.</p>\n<p><strong>Code:</strong></p>\n<pre><code>import java.io.*;\nimport java.lang.Math;\nimport java.nio.*;\nimport javax.swing.*;\nimport static com.jogamp.opengl.GL4.*;\nimport com.jogamp.opengl.util.*;\nimport com.jogamp.opengl.*;\nimport com.jogamp.opengl.awt.GLCanvas;\nimport com.jogamp.opengl.util.texture.*;\nimport com.jogamp.common.nio.Buffers;\nimport org.joml.*;\nimport com.jogamp.opengl.GLContext;\n\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\n\npublic class Code extends JFrame implements GLEventListener,KeyListener\n{   private GLCanvas myCanvas;\n    private int renderingProgram;\n   private double startTime = 0.0;\n    private double elapsedTime;\n    private int vao[] = new int[1];\n    private int vbo[] = new int[3];\n    private float cameraX, cameraY, cameraZ;\n    private float objLocX, objLocY, objLocZ;\n    \n    // allocate variables for display() function\n    private FloatBuffer vals = Buffers.newDirectFloatBuffer(16);\n    private Matrix4f pMat = new Matrix4f();  // perspective matrix\n    private Matrix4f vMat = new Matrix4f();  // view matrix\n    private Matrix4f mMat = new Matrix4f();  // model matrix\n    private Matrix4f mvMat = new Matrix4f(); // model-view matrix\n    private int mvLoc, pLoc;\n    private float aspect;\n    \n    private int shuttleTexture;\n    \n    private int numObjVertices;\n    private ImportedModel myModel;\n   \n   private double tf;\n   int i = 0;\n   double incX;\n   double incY;\n   int setx = 2;\n   \n   boolean toggle = false;\n   boolean texToggle = false;\n\n    public Code()\n    {   setTitle(&quot;Chapter6 - program3&quot;);\n        setSize(600, 600);\n      GLProfile g = GLProfile.getMaxProgrammableCore(true);\n\n      GLCapabilities c = new GLCapabilities(g);\n      \n      myCanvas = new GLCanvas(c);\n\n        myCanvas.addGLEventListener(this);\n      myCanvas.addKeyListener(this);\n      myCanvas.setFocusable(true);\n        this.add(myCanvas);\n        this.setVisible(true);\n      Animator animator = new Animator(myCanvas);\n        animator.start();\n    }\n\n    public void display(GLAutoDrawable drawable)\n    {   GL4 gl = (GL4) GLContext.getCurrentGL();\n        gl.glClear(GL_COLOR_BUFFER_BIT);\n        gl.glClear(GL_DEPTH_BUFFER_BIT);\n      elapsedTime = System.currentTimeMillis() - startTime;\n      \n        tf = elapsedTime/1000.0; \n      \n      if(texToggle){\n           shuttleTexture = Utils.loadTexture(&quot;Material5.jpg&quot;);\n      }\n         else{\n           shuttleTexture = Utils.loadTexture(&quot;dhoni.jpg&quot;);   \n      }\n\n        gl.glUseProgram(renderingProgram);\n\n        int mvLoc = gl.glGetUniformLocation(renderingProgram, &quot;mv_matrix&quot;);\n        int pLoc = gl.glGetUniformLocation(renderingProgram, &quot;p_matrix&quot;);\n\n        vMat.identity().setTranslation(-cameraX,-cameraY,-cameraZ);\n      \n      for(int yUp = -1; yUp&lt;=1; yUp += 1){\n         for(int i = 0; i &lt; 9; i++){\n         \n   \n               mMat.identity();\n               mMat.rotateX((float)Math.toRadians(incX));\n               mMat.rotateY((float)Math.toRadians(incY));\n               \n               if(i==0){\n               \n                  mMat.translate(0*setx,yUp*setx,0*setx);\n               }\n               else if(i == 1){\n                  mMat.translate(-1*setx,yUp*setx,0*setx);\n               }\n               \n                else if(i == 2){\n                  mMat.translate(1*setx,yUp*setx,0*setx);\n               }\n   \n                else if(i == 3){\n                  mMat.translate(0*setx,yUp*setx,-1*setx);\n               }\n                else if(i == 4){\n                  mMat.translate(0*setx,yUp*setx,1*setx);\n               }\n                else if(i == 5){\n                  mMat.translate(1*setx,yUp*setx,-1*setx);\n               }\n               else if(i == 6){\n                  mMat.translate(1*setx,yUp*setx,1*setx);\n               }\n               \n               else if(i == 7){\n                  mMat.translate(-1*setx,yUp*setx,-1*setx);\n               }\n                else if(i == 8){\n                  mMat.translate(-1*setx,yUp*setx,1*setx);\n               }\n   \n\n\n            mMat.rotateX((float)Math.toRadians(180.f));\n            mMat.rotateY((float)Math.toRadians(180.f));\n            mMat.rotateZ((float)Math.toRadians(90.0f));\n\n      \n            mvMat.identity();\n            mvMat.mul(vMat);\n            mvMat.mul(mMat);\n    \n            gl.glUniformMatrix4fv(mvLoc, 1, false, mvMat.get(vals));\n            gl.glUniformMatrix4fv(pLoc, 1, false, pMat.get(vals));\n      \n            gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\n            gl.glVertexAttribPointer(0, 3, GL_FLOAT, false, 0, 0);\n            gl.glEnableVertexAttribArray(0);\n      \n            gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\n            gl.glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\n            gl.glEnableVertexAttribArray(1);\n      \n            gl.glActiveTexture(GL_TEXTURE0);\n            gl.glBindTexture(GL_TEXTURE_2D, shuttleTexture);\n            \n            if (toggle){\n               gl.glPolygonMode( GL_FRONT_AND_BACK, GL_LINE );\n            }\n            else{\n               gl.glPolygonMode( GL_FRONT_AND_BACK, GL_FILL );\n            } \n            \n            gl.glEnable(GL_DEPTH_TEST);\n            gl.glDepthFunc(GL_LEQUAL);\n            gl.glDrawArrays(GL_TRIANGLES, 0, myModel.getNumVertices());\n               \n      }\n    }\n   \n   \n   }\n\n    public void init(GLAutoDrawable drawable)\n    {   GL4 gl = (GL4) GLContext.getCurrentGL();\n        startTime = System.currentTimeMillis();\n        myModel = new ImportedModel(&quot;cube1.obj&quot;);\n        renderingProgram = Utils.createShaderProgram(&quot;code/vertShader.glsl&quot;, &quot;code/fragShader.glsl&quot;);\n\n        float aspect = (float) myCanvas.getWidth() / (float) myCanvas.getHeight();\n        pMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 1000.0f);\n\n        setupVertices();\n      cameraX = 0.0f; cameraY = 0.0f; cameraZ = 25.0f;\n        objLocX = 100.0f; objLocY = 100.0f; objLocZ = 100.0f;\n\n      if(texToggle){\n           shuttleTexture = Utils.loadTexture(&quot;Material5.jpg&quot;);\n      }\n      else{\n           shuttleTexture = Utils.loadTexture(&quot;dhoni.jpg&quot;);\n\n      }\n\n      \n    }\n\n    private void setupVertices()\n    {   GL4 gl = (GL4) GLContext.getCurrentGL();\n    \n        numObjVertices = myModel.getNumVertices();\n        Vector3f[] vertices = myModel.getVertices();\n        Vector2f[] texCoords = myModel.getTexCoords();\n        Vector3f[] normals = myModel.getNormals();\n        \n        float[] pvalues = new float[numObjVertices*3];\n        float[] tvalues = new float[numObjVertices*2];\n        float[] nvalues = new float[numObjVertices*3];\n        \n        for (int i=0; i&lt;numObjVertices; i++)\n        {   pvalues[i*3]   = (float) (vertices[i]).x();\n            pvalues[i*3+1] = (float) (vertices[i]).y();\n            pvalues[i*3+2] = (float) (vertices[i]).z();\n            tvalues[i*2]   = (float) (texCoords[i]).x();\n            tvalues[i*2+1] = (float) (texCoords[i]).y();\n            nvalues[i*3]   = (float) (normals[i]).x();\n            nvalues[i*3+1] = (float) (normals[i]).y();\n            nvalues[i*3+2] = (float) (normals[i]).z();\n        }\n        \n        gl.glGenVertexArrays(vao.length, vao, 0);\n        gl.glBindVertexArray(vao[0]);\n        gl.glGenBuffers(vbo.length, vbo, 0);\n        \n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\n        FloatBuffer vertBuf = Buffers.newDirectFloatBuffer(pvalues);\n        gl.glBufferData(GL_ARRAY_BUFFER, vertBuf.limit()*4, vertBuf, GL_STATIC_DRAW);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\n        FloatBuffer texBuf = Buffers.newDirectFloatBuffer(tvalues);\n        gl.glBufferData(GL_ARRAY_BUFFER, texBuf.limit()*4, texBuf, GL_STATIC_DRAW);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\n        FloatBuffer norBuf = Buffers.newDirectFloatBuffer(nvalues);\n        gl.glBufferData(GL_ARRAY_BUFFER, norBuf.limit()*4,norBuf, GL_STATIC_DRAW);\n    }\n\n   public void keyPressed(KeyEvent e) {\n        System.out.println(&quot;keyPressed&quot;);\n        if(e.getKeyCode()== KeyEvent.VK_RIGHT)\n            incY  += 20.0f;\n               \n        else if(e.getKeyCode()== KeyEvent.VK_LEFT)\n            incY  -= 20.0f;\n        else if(e.getKeyCode()== KeyEvent.VK_UP)\n            incX  += 20.0f;\n            \n        else if(e.getKeyCode()== KeyEvent.VK_DOWN)\n            incX  -= 20.0f;\n        else if(e.getKeyCode()== KeyEvent.VK_E)\n            setx  += 3;\n        else if(e.getKeyCode()== KeyEvent.VK_C)\n            setx  -= 1;\n        else if(e.getKeyCode()== KeyEvent.VK_L)\n            toggle = !toggle;\n        else if(e.getKeyCode()== KeyEvent.VK_X)\n            cameraZ -= 2.0f;\n        else if(e.getKeyCode()== KeyEvent.VK_Z)\n            cameraZ += 4.0f;\n        else if(e.getKeyCode()== KeyEvent.VK_T ){\n           texToggle = !texToggle;\n\n        }\n\n    }\n\n    public void keyReleased(KeyEvent e) {\n    \n      \n    \n       System.out.println(&quot;keyReleased&quot;);\n      \n    }\n    public void keyTyped(KeyEvent e) {\n        System.out.println(&quot;keyTyped&quot;);\n    }\n\n\n    public static void main(String[] args) { new Code(); }\n    public void dispose(GLAutoDrawable drawable) {}\n    public void reshape(GLAutoDrawable drawable, int x, int y, int width, int height)\n    {   float aspect = (float) myCanvas.getWidth() / (float) myCanvas.getHeight();\n        pMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 1000.0f);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3779609,"reputation":666,"user_id":3157429,"display_name":"DRV"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75913251,"answer_count":1,"score":1,"last_activity_date":1680452827,"creation_date":1679920573,"question_id":75855828,"body_markdown":"I want to rotate the cube if I press the left and right arrow keys to move the horizontal and vertical axis respectively. Hence I have used the keyListener interface in this program. While instantiation of the keyListener it throws an error and hereby I have attached my code for your reference.     \r\n\r\n    import java.io.*;\r\n    import java.lang.Math;\r\n    import java.nio.*;\r\n    import javax.swing.*;\r\n    import static com.jogamp.opengl.GL4.*;\r\n    import com.jogamp.opengl.*;\r\n    import com.jogamp.opengl.awt.GLCanvas;\r\n    import com.jogamp.opengl.util.texture.*;\r\n    import com.jogamp.common.nio.Buffers;\r\n    import com.jogamp.newt.event.KeyListener;\r\n    \r\n    import org.joml.*;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    public class Code extends JFrame implements GLEventListener,KeyListener\r\n    {\tprivate GLCanvas myCanvas;\r\n    \t\r\n    \tprivate int renderingProgram;\r\n    \tprivate int vao[] = new int[1];\r\n    \tprivate int vbo[] = new int[3];\r\n    \tprivate float cameraX, cameraY, cameraZ;\r\n    \tprivate float objLocX, objLocY, objLocZ;\r\n    \t\r\n    \t// allocate variables for display() function\r\n    \tprivate FloatBuffer vals = Buffers.newDirectFloatBuffer(16);\r\n    \tprivate Matrix4f pMat = new Matrix4f();  // perspective matrix\r\n    \tprivate Matrix4f vMat = new Matrix4f();  // view matrix\r\n    \tprivate Matrix4f mMat = new Matrix4f();  // model matrix\r\n    \tprivate Matrix4f mvMat = new Matrix4f(); // model-view matrix\r\n    \tprivate int mvLoc, pLoc;\r\n    \tprivate float aspect;\r\n    \t\r\n    \tprivate int shuttleTexture;\r\n    \tprivate int rotateX = 0,rotateY = 0;\r\n    \t\r\n    \tprivate int numObjVertices;\r\n    \tprivate ImportedModel myModel;\r\n    \t\r\n    \r\n    \tpublic Code()\r\n    \t{\tsetTitle(&quot;Chapter6 - program3&quot;);\r\n    \t\tsetSize(600, 600);\r\n    \t\tmyCanvas = new GLCanvas();\r\n    \t\tmyCanvas.addKeyListener(this); //this line throws an error.\r\n    \t\tmyCanvas.addGLEventListener(this);\r\n    \t\t\r\n    \t\tthis.add(myCanvas);\r\n    \t\tmyCanvas.setFocusable(true);\r\n    \t\tthis.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic void display(GLAutoDrawable drawable)\r\n    \t{\tGL4 gl = (GL4) GLContext.getCurrentGL();\r\n    \t\tgl.glClear(GL_COLOR_BUFFER_BIT);\r\n    \t\tgl.glClear(GL_DEPTH_BUFFER_BIT);\r\n    \r\n    \t\tgl.glUseProgram(renderingProgram);\r\n    \r\n    \t\tint mvLoc = gl.glGetUniformLocation(renderingProgram, &quot;mv_matrix&quot;);\r\n    \t\tint pLoc = gl.glGetUniformLocation(renderingProgram, &quot;p_matrix&quot;);\r\n    \r\n    \t\tvMat.identity().setTranslation(-cameraX,-cameraY,-cameraZ);\r\n    \r\n    \t\tmMat.identity();\r\n    \t\tmMat.translate(objLocX, objLocY, objLocZ);\r\n    \r\n    \t\tmMat.rotateX((float)Math.toRadians(20.0f));\r\n    \t\tmMat.rotateY((float)Math.toRadians(130.0f));\r\n    \t\tmMat.rotateZ((float)Math.toRadians(5.0f));\r\n    \r\n    \t\tmvMat.identity();\r\n    \t\tmvMat.mul(vMat);\r\n    \t\tmvMat.mul(mMat);\r\n    \r\n    \t\tgl.glUniformMatrix4fv(mvLoc, 1, false, mvMat.get(vals));\r\n    \t\tgl.glUniformMatrix4fv(pLoc, 1, false, pMat.get(vals));\r\n    \r\n    \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\r\n    \t\tgl.glVertexAttribPointer(0, 3, GL_FLOAT, false, 0, 0);\r\n    \t\tgl.glEnableVertexAttribArray(0);\r\n    \r\n    \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\r\n    \t\tgl.glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\r\n    \t\tgl.glEnableVertexAttribArray(1);\r\n    \r\n    \t\tgl.glActiveTexture(GL_TEXTURE0);\r\n    \t\tgl.glBindTexture(GL_TEXTURE_2D, shuttleTexture);\r\n    \r\n    \t\tgl.glEnable(GL_DEPTH_TEST);\r\n    \t\tgl.glDepthFunc(GL_LEQUAL);\r\n    \t\tgl.glDrawArrays(GL_TRIANGLES, 0, myModel.getNumVertices());\r\n    \t}\r\n    \r\n    \tpublic void init(GLAutoDrawable drawable)\r\n    \t{\tGL4 gl = (GL4) GLContext.getCurrentGL();\r\n    \t\r\n    \t\tmyModel = new ImportedModel(&quot;cube1.obj&quot;);\r\n    \t\trenderingProgram = Utils.createShaderProgram(&quot;src/code/vertShader.glsl&quot;, &quot;src/code/fragShader.glsl&quot;);\r\n    \r\n    \t\tfloat aspect = (float) myCanvas.getWidth() / (float) myCanvas.getHeight();\r\n    \t\tpMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 1000.0f);\r\n    \r\n    \t\tsetupVertices();\r\n    \t\tcameraX = 0.0f; cameraY = 0.0f; cameraZ = 3.0f;\r\n    \t\tobjLocX = 0.0f; objLocY = 0.0f; objLocZ = 0.0f;\r\n    \r\n    \t\tshuttleTexture = Utils.loadTexture(&quot;Material5.jpg&quot;);\r\n    \t}\r\n    \r\n    \tprivate void setupVertices()\r\n    \t{\tGL4 gl = (GL4) GLContext.getCurrentGL();\r\n    \t\r\n    \t\tnumObjVertices = myModel.getNumVertices();\r\n    \t\tVector3f[] vertices = myModel.getVertices();\r\n    \t\tVector2f[] texCoords = myModel.getTexCoords();\r\n    \t\tVector3f[] normals = myModel.getNormals();\r\n    \t\t\r\n    \t\tfloat[] pvalues = new float[numObjVertices*3];\r\n    \t\tfloat[] tvalues = new float[numObjVertices*2];\r\n    \t\tfloat[] nvalues = new float[numObjVertices*3];\r\n    \t\t\r\n    \t\tfor (int i=0; i&lt;numObjVertices; i++)\r\n    \t\t{\tpvalues[i*3]   = (float) (vertices[i]).x() + rotateX;\r\n    \t\t\tpvalues[i*3+1] = (float) (vertices[i]).y() + rotateY;\r\n    \t\t\tpvalues[i*3+2] = (float) (vertices[i]).z();\r\n    \t\t\ttvalues[i*2]   = (float) (texCoords[i]).x();\r\n    \t\t\ttvalues[i*2+1] = (float) (texCoords[i]).y();\r\n    \t\t\tnvalues[i*3]   = (float) (normals[i]).x();\r\n    \t\t\tnvalues[i*3+1] = (float) (normals[i]).y();\r\n    \t\t\tnvalues[i*3+2] = (float) (normals[i]).z();\r\n    \t\t}\r\n    \t\t\r\n    \t\tgl.glGenVertexArrays(vao.length, vao, 0);\r\n    \t\tgl.glBindVertexArray(vao[0]);\r\n    \t\tgl.glGenBuffers(vbo.length, vbo, 0);\r\n    \t\t\r\n    \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\r\n    \t\tFloatBuffer vertBuf = Buffers.newDirectFloatBuffer(pvalues);\r\n    \t\tgl.glBufferData(GL_ARRAY_BUFFER, vertBuf.limit()*4, vertBuf, GL_STATIC_DRAW);\r\n    \r\n    \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\r\n    \t\tFloatBuffer texBuf = Buffers.newDirectFloatBuffer(tvalues);\r\n    \t\tgl.glBufferData(GL_ARRAY_BUFFER, texBuf.limit()*4, texBuf, GL_STATIC_DRAW);\r\n    \r\n    \t\tgl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\r\n    \t\tFloatBuffer norBuf = Buffers.newDirectFloatBuffer(nvalues);\r\n    \t\tgl.glBufferData(GL_ARRAY_BUFFER, norBuf.limit()*4,norBuf, GL_STATIC_DRAW);\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \tpublic void keyTyped(KeyEvent e) {}\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) { \r\n    \t\tnew Code();}\r\n    \r\n    \r\n    \tpublic void dispose(GLAutoDrawable drawable) {}\r\n    \tpublic void reshape(GLAutoDrawable drawable, int x, int y, int width, int height)\r\n    \t{\tfloat aspect = (float) myCanvas.getWidth() / (float) myCanvas.getHeight();\r\n    \t\tpMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 1000.0f);\r\n    \t}\r\n    \r\n    \tpublic void keyPressed(com.jogamp.newt.event.KeyEvent arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tint key = arg0.getKeyCode();\r\n    \t\tSystem.out.println(arg0.getKeyCode());\r\n    \t\tif ( key == KeyEvent.VK_LEFT )\r\n    \t\t{\r\n    \t\t\trotateX +=2;\r\n    \t\t\tSystem.out.println(&quot;Left arrow is pressed&quot;);\r\n    \t\t}\r\n    \t\telse if ( key == KeyEvent.VK_RIGHT )\r\n    \t\t\trotateY += 2;\r\n    \t\telse if ( key == KeyEvent.VK_DOWN)\r\n    \t\t\trotateX += 2;\r\n    \t\telse if ( key == KeyEvent.VK_UP )\r\n    \t\t\trotateX -= 2;\r\n    \t\telse if ( key == KeyEvent.VK_HOME )\r\n    \t\t\trotateX = rotateY = 0;\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic void keyReleased(com.jogamp.newt.event.KeyEvent arg0) {}\r\n    }\r\n\r\n**Output**:\r\n\r\n```none\r\nThe method addKeyListener(KeyListener) in the type Component is not applicable for the arguments (Code)\r\n```\r\n\r\nWhy am I unable to add the add keylistener in opengl java?","title":"myCanvas.addKeyListener(this) throws an error in JOGL","body":"<p>I want to rotate the cube if I press the left and right arrow keys to move the horizontal and vertical axis respectively. Hence I have used the keyListener interface in this program. While instantiation of the keyListener it throws an error and hereby I have attached my code for your reference.</p>\n<pre><code>import java.io.*;\nimport java.lang.Math;\nimport java.nio.*;\nimport javax.swing.*;\nimport static com.jogamp.opengl.GL4.*;\nimport com.jogamp.opengl.*;\nimport com.jogamp.opengl.awt.GLCanvas;\nimport com.jogamp.opengl.util.texture.*;\nimport com.jogamp.common.nio.Buffers;\nimport com.jogamp.newt.event.KeyListener;\n\nimport org.joml.*;\nimport java.awt.event.KeyEvent;\n\npublic class Code extends JFrame implements GLEventListener,KeyListener\n{   private GLCanvas myCanvas;\n    \n    private int renderingProgram;\n    private int vao[] = new int[1];\n    private int vbo[] = new int[3];\n    private float cameraX, cameraY, cameraZ;\n    private float objLocX, objLocY, objLocZ;\n    \n    // allocate variables for display() function\n    private FloatBuffer vals = Buffers.newDirectFloatBuffer(16);\n    private Matrix4f pMat = new Matrix4f();  // perspective matrix\n    private Matrix4f vMat = new Matrix4f();  // view matrix\n    private Matrix4f mMat = new Matrix4f();  // model matrix\n    private Matrix4f mvMat = new Matrix4f(); // model-view matrix\n    private int mvLoc, pLoc;\n    private float aspect;\n    \n    private int shuttleTexture;\n    private int rotateX = 0,rotateY = 0;\n    \n    private int numObjVertices;\n    private ImportedModel myModel;\n    \n\n    public Code()\n    {   setTitle(&quot;Chapter6 - program3&quot;);\n        setSize(600, 600);\n        myCanvas = new GLCanvas();\n        myCanvas.addKeyListener(this); //this line throws an error.\n        myCanvas.addGLEventListener(this);\n        \n        this.add(myCanvas);\n        myCanvas.setFocusable(true);\n        this.setVisible(true);\n    }\n\n    public void display(GLAutoDrawable drawable)\n    {   GL4 gl = (GL4) GLContext.getCurrentGL();\n        gl.glClear(GL_COLOR_BUFFER_BIT);\n        gl.glClear(GL_DEPTH_BUFFER_BIT);\n\n        gl.glUseProgram(renderingProgram);\n\n        int mvLoc = gl.glGetUniformLocation(renderingProgram, &quot;mv_matrix&quot;);\n        int pLoc = gl.glGetUniformLocation(renderingProgram, &quot;p_matrix&quot;);\n\n        vMat.identity().setTranslation(-cameraX,-cameraY,-cameraZ);\n\n        mMat.identity();\n        mMat.translate(objLocX, objLocY, objLocZ);\n\n        mMat.rotateX((float)Math.toRadians(20.0f));\n        mMat.rotateY((float)Math.toRadians(130.0f));\n        mMat.rotateZ((float)Math.toRadians(5.0f));\n\n        mvMat.identity();\n        mvMat.mul(vMat);\n        mvMat.mul(mMat);\n\n        gl.glUniformMatrix4fv(mvLoc, 1, false, mvMat.get(vals));\n        gl.glUniformMatrix4fv(pLoc, 1, false, pMat.get(vals));\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\n        gl.glVertexAttribPointer(0, 3, GL_FLOAT, false, 0, 0);\n        gl.glEnableVertexAttribArray(0);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\n        gl.glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\n        gl.glEnableVertexAttribArray(1);\n\n        gl.glActiveTexture(GL_TEXTURE0);\n        gl.glBindTexture(GL_TEXTURE_2D, shuttleTexture);\n\n        gl.glEnable(GL_DEPTH_TEST);\n        gl.glDepthFunc(GL_LEQUAL);\n        gl.glDrawArrays(GL_TRIANGLES, 0, myModel.getNumVertices());\n    }\n\n    public void init(GLAutoDrawable drawable)\n    {   GL4 gl = (GL4) GLContext.getCurrentGL();\n    \n        myModel = new ImportedModel(&quot;cube1.obj&quot;);\n        renderingProgram = Utils.createShaderProgram(&quot;src/code/vertShader.glsl&quot;, &quot;src/code/fragShader.glsl&quot;);\n\n        float aspect = (float) myCanvas.getWidth() / (float) myCanvas.getHeight();\n        pMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 1000.0f);\n\n        setupVertices();\n        cameraX = 0.0f; cameraY = 0.0f; cameraZ = 3.0f;\n        objLocX = 0.0f; objLocY = 0.0f; objLocZ = 0.0f;\n\n        shuttleTexture = Utils.loadTexture(&quot;Material5.jpg&quot;);\n    }\n\n    private void setupVertices()\n    {   GL4 gl = (GL4) GLContext.getCurrentGL();\n    \n        numObjVertices = myModel.getNumVertices();\n        Vector3f[] vertices = myModel.getVertices();\n        Vector2f[] texCoords = myModel.getTexCoords();\n        Vector3f[] normals = myModel.getNormals();\n        \n        float[] pvalues = new float[numObjVertices*3];\n        float[] tvalues = new float[numObjVertices*2];\n        float[] nvalues = new float[numObjVertices*3];\n        \n        for (int i=0; i&lt;numObjVertices; i++)\n        {   pvalues[i*3]   = (float) (vertices[i]).x() + rotateX;\n            pvalues[i*3+1] = (float) (vertices[i]).y() + rotateY;\n            pvalues[i*3+2] = (float) (vertices[i]).z();\n            tvalues[i*2]   = (float) (texCoords[i]).x();\n            tvalues[i*2+1] = (float) (texCoords[i]).y();\n            nvalues[i*3]   = (float) (normals[i]).x();\n            nvalues[i*3+1] = (float) (normals[i]).y();\n            nvalues[i*3+2] = (float) (normals[i]).z();\n        }\n        \n        gl.glGenVertexArrays(vao.length, vao, 0);\n        gl.glBindVertexArray(vao[0]);\n        gl.glGenBuffers(vbo.length, vbo, 0);\n        \n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\n        FloatBuffer vertBuf = Buffers.newDirectFloatBuffer(pvalues);\n        gl.glBufferData(GL_ARRAY_BUFFER, vertBuf.limit()*4, vertBuf, GL_STATIC_DRAW);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\n        FloatBuffer texBuf = Buffers.newDirectFloatBuffer(tvalues);\n        gl.glBufferData(GL_ARRAY_BUFFER, texBuf.limit()*4, texBuf, GL_STATIC_DRAW);\n\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\n        FloatBuffer norBuf = Buffers.newDirectFloatBuffer(nvalues);\n        gl.glBufferData(GL_ARRAY_BUFFER, norBuf.limit()*4,norBuf, GL_STATIC_DRAW);\n    }\n    \n    \n\n    public void keyTyped(KeyEvent e) {}\n    \n\n    public static void main(String[] args) { \n        new Code();}\n\n\n    public void dispose(GLAutoDrawable drawable) {}\n    public void reshape(GLAutoDrawable drawable, int x, int y, int width, int height)\n    {   float aspect = (float) myCanvas.getWidth() / (float) myCanvas.getHeight();\n        pMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 1000.0f);\n    }\n\n    public void keyPressed(com.jogamp.newt.event.KeyEvent arg0) {\n        // TODO Auto-generated method stub\n        int key = arg0.getKeyCode();\n        System.out.println(arg0.getKeyCode());\n        if ( key == KeyEvent.VK_LEFT )\n        {\n            rotateX +=2;\n            System.out.println(&quot;Left arrow is pressed&quot;);\n        }\n        else if ( key == KeyEvent.VK_RIGHT )\n            rotateY += 2;\n        else if ( key == KeyEvent.VK_DOWN)\n            rotateX += 2;\n        else if ( key == KeyEvent.VK_UP )\n            rotateX -= 2;\n        else if ( key == KeyEvent.VK_HOME )\n            rotateX = rotateY = 0;\n        \n    }\n\n    public void keyReleased(com.jogamp.newt.event.KeyEvent arg0) {}\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The method addKeyListener(KeyListener) in the type Component is not applicable for the arguments (Code)\n</code></pre>\n<p>Why am I unable to add the add keylistener in opengl java?</p>\n"},{"tags":["java","feature-extraction","sift","openimaj"],"owner":{"account_id":28195760,"reputation":1,"user_id":21550430,"display_name":"Med A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680452601,"creation_date":1680452601,"question_id":75913233,"body_markdown":"I am using OpenImaj to extract features from images and then comparing them using DoGSIFTEngine.\r\nAs far as I understand, here is the process:\r\n\r\n- I extract keypoints feature from image and saving them. (file or database text)\r\n- Extracted keypoints are in ASCII format as I am using this writer:\r\n\r\n `                   IOUtils.writeASCII(output, localFeatureList);`\r\n\r\nImagine that I have more than 1 million of data (extracted features from images).\r\nI will receive a new input image and I have to compare to this million of data using this matcher:\r\n\r\n`    public static final RobustAffineTransformEstimator MODEL_FITTER = new RobustAffineTransformEstimator(50.0, 1500,\r\n            new RANSAC.PercentageInliersStoppingCondition(0.5));\r\n    public static final LocalFeatureMatcher&lt;Keypoint&gt; MATCHER = new ConsistentLocalFeatureMatcher2d&lt;&gt;(\r\n            new FastBasicKeypointMatcher&lt;&gt;(8), MODEL_FITTER);`\r\n\r\n\r\nI don&#39;t know which method is faster, using a database to store the file data or reading file data on the disk ????\r\n\r\nAlso, how to make things faster ?\r\n\r\nThank you!!!!\r\n\r\n\r\n\r\n\r\nI alrad tried using Redis as backend to store feature and reading them from there but it took 7 minutes for 50.000 records... (read + matching)","title":"Openimaj - Feature matching - Best way to insure good performence","body":"<p>I am using OpenImaj to extract features from images and then comparing them using DoGSIFTEngine.\nAs far as I understand, here is the process:</p>\n<ul>\n<li>I extract keypoints feature from image and saving them. (file or database text)</li>\n<li>Extracted keypoints are in ASCII format as I am using this writer:</li>\n</ul>\n<p><code>                   IOUtils.writeASCII(output, localFeatureList);</code></p>\n<p>Imagine that I have more than 1 million of data (extracted features from images).\nI will receive a new input image and I have to compare to this million of data using this matcher:</p>\n<p><code>    public static final RobustAffineTransformEstimator MODEL_FITTER = new RobustAffineTransformEstimator(50.0, 1500, new RANSAC.PercentageInliersStoppingCondition(0.5)); public static final LocalFeatureMatcher&lt;Keypoint&gt; MATCHER = new ConsistentLocalFeatureMatcher2d&lt;&gt;( new FastBasicKeypointMatcher&lt;&gt;(8), MODEL_FITTER);</code></p>\n<p>I don't know which method is faster, using a database to store the file data or reading file data on the disk ????</p>\n<p>Also, how to make things faster ?</p>\n<p>Thank you!!!!</p>\n<p>I alrad tried using Redis as backend to store feature and reading them from there but it took 7 minutes for 50.000 records... (read + matching)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":7,"creation_date":1680445984,"post_id":75912643,"comment_id":133896258,"body_markdown":"Don&#39;t use try-catch in this case. Check if the num2 == 0 before devide through it","body":"Don&#39;t use try-catch in this case. Check if the num2 == 0 before devide through it"},{"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"score":5,"creation_date":1680445991,"post_id":75912643,"comment_id":133896260,"body_markdown":"When you work with double values ArithmeticException is not thrown, instead you get Infinity.","body":"When you work with double values ArithmeticException is not thrown, instead you get Infinity."},{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1680446189,"post_id":75912643,"comment_id":133896290,"body_markdown":"You can make a condition to check first if  the number is 0, then use  `ArthmeticException` https://docs.oracle.com/javase/7/docs/api/java/lang/ArithmeticException.html","body":"You can make a condition to check first if  the number is 0, then use  <code>ArthmeticException</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ArithmeticException.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680446246,"post_id":75912643,"comment_id":133896301,"body_markdown":"Why are you using `nextInt()` to store doubles?","body":"Why are you using <code>nextInt()</code> to store doubles?"}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680447834,"post_id":75912716,"comment_id":133896538,"body_markdown":"are you sure that `num3` will be INFINITY only for division by 0? Wouldn&#39;t it be much easier to understand the intention and to implement it by just  checking if `num2` is zero (before even dividing) - and not USING try-catch at all? - Exceptions should be an *exception*, not used for flow control","body":"are you sure that <code>num3</code> will be INFINITY only for division by 0? Wouldn&#39;t it be much easier to understand the intention and to implement it by just  checking if <code>num2</code> is zero (before even dividing) - and not USING try-catch at all? - Exceptions should be an <i>exception</i>, not used for flow control"},{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":0,"creation_date":1680448206,"post_id":75912716,"comment_id":133896581,"body_markdown":"num3 can be infinite for many cases not just divided by zero case. and yes we can definitely check num2 for zero check and early exit the code which is good. but the author has an explicit requirement of throwing an ArithmeticException. thus the answer.","body":"num3 can be infinite for many cases not just divided by zero case. and yes we can definitely check num2 for zero check and early exit the code which is good. but the author has an explicit requirement of throwing an ArithmeticException. thus the answer."},{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":0,"creation_date":1680450031,"post_id":75912716,"comment_id":133896910,"body_markdown":"Agreed by 1 &amp; 2. currently, a few aspects are unclear. let&#39;s wait for the author to clarify the scenarios.","body":"Agreed by 1 &amp; 2. currently, a few aspects are unclear. let&#39;s wait for the author to clarify the scenarios."}],"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680449916,"creation_date":1680446737,"answer_id":75912716,"question_id":75912643,"body_markdown":"Jens and siarhei987 Have pretty much summed up the issue over here.\r\n\r\nIdeally you should be accepting the double value from scanner as follows:\r\n\r\n    double num1 = scanner.nextDouble();\r\n\r\nBut again as per your question if you want a program that explicitly throw an ArithmeticException when divided by zero following code can be used:\r\n\r\n  \r\n\r\n    static double Division(double num1,double num2)\r\n        {\r\n            double num3 = 0;\r\n            \r\n           try{\r\n              num3 = num1 / num2;\r\n              if (Double.isInfinite(num3)) {\r\n               // we are throwing ArithmeticException on purpose to catch it in the Exception block\r\n              throw new ArithmeticException(&quot;num3 is Infinite.&quot;);\r\n              }\r\n           }\r\n            catch(ArithmeticException e)\r\n            {\r\n                System.out.println(&quot;ArithmeticException =&gt; &quot; + e.getMessage());\r\n            }\r\n            return num3;\r\n        }\r\n\r\nNot a great way of doing things but again going by the requirements.\r\n\r\nHope this helps, Thanks.\r\n","title":"How to catch arithmetic exception handling when the number are divide by 0","body":"<p>Jens and siarhei987 Have pretty much summed up the issue over here.</p>\n<p>Ideally you should be accepting the double value from scanner as follows:</p>\n<pre><code>double num1 = scanner.nextDouble();\n</code></pre>\n<p>But again as per your question if you want a program that explicitly throw an ArithmeticException when divided by zero following code can be used:</p>\n<pre><code>static double Division(double num1,double num2)\n    {\n        double num3 = 0;\n        \n       try{\n          num3 = num1 / num2;\n          if (Double.isInfinite(num3)) {\n           // we are throwing ArithmeticException on purpose to catch it in the Exception block\n          throw new ArithmeticException(&quot;num3 is Infinite.&quot;);\n          }\n       }\n        catch(ArithmeticException e)\n        {\n            System.out.println(&quot;ArithmeticException =&gt; &quot; + e.getMessage());\n        }\n        return num3;\n    }\n</code></pre>\n<p>Not a great way of doing things but again going by the requirements.</p>\n<p>Hope this helps, Thanks.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680452417,"creation_date":1680452417,"answer_id":75913216,"question_id":75912643,"body_markdown":"I would just do the following.  You can either catch the exception yourself  and proceed with some special handling or you can let the JVM report the exception.\r\n```\r\npublic class DivideByZero {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            System.out.println(compute(10, 0.));\r\n        } catch (ArithmeticException ae) {\r\n            System.out.println(ae.getLocalizedMessage() + &quot;: Oops!&quot;);\r\n        }\r\n        System.out.println(compute(10, 0.));\r\n    }\r\n\r\n  \r\n    public static double compute(double a, double b){\r\n            if (b == 0) {\r\n                throw new ArithmeticException(&quot;Division by zero!&quot;);\r\n            }\r\n            return a/b;\r\n    }\r\n    \r\n}\r\n```\r\nprints\r\n```\r\nDivision by zero!: Oops!\r\nException in thread &quot;main&quot; java.lang.ArithmeticException: Division by zero!\r\n\tat stackOverflow.march._31_Mar_2023.DivideByZero.compute(DivideByZero.java:18)\r\n\tat stackOverflow.march._31_Mar_2023.DivideByZero.main(DivideByZero.java:11)\r\n","title":"How to catch arithmetic exception handling when the number are divide by 0","body":"<p>I would just do the following.  You can either catch the exception yourself  and proceed with some special handling or you can let the JVM report the exception.</p>\n<pre><code>public class DivideByZero {\n\n    public static void main(String[] args) {\n        try {\n            System.out.println(compute(10, 0.));\n        } catch (ArithmeticException ae) {\n            System.out.println(ae.getLocalizedMessage() + &quot;: Oops!&quot;);\n        }\n        System.out.println(compute(10, 0.));\n    }\n\n  \n    public static double compute(double a, double b){\n            if (b == 0) {\n                throw new ArithmeticException(&quot;Division by zero!&quot;);\n            }\n            return a/b;\n    }\n    \n}\n</code></pre>\n<p>prints</p>\n<pre><code>Division by zero!: Oops!\nException in thread &quot;main&quot; java.lang.ArithmeticException: Division by zero!\n    at stackOverflow.march._31_Mar_2023.DivideByZero.compute(DivideByZero.java:18)\n    at stackOverflow.march._31_Mar_2023.DivideByZero.main(DivideByZero.java:11)\n</code></pre>\n"}],"owner":{"account_id":28195031,"reputation":9,"user_id":21549819,"display_name":"Mizan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680470449,"answer_count":2,"score":0,"last_activity_date":1680452417,"creation_date":1680445847,"question_id":75912643,"body_markdown":"    package testdividebyzero;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class TestDivideByZero {\r\n    \r\n        public static void main(String[] args) {\r\n      \r\n                InputNumber();\r\n        }\r\n        \r\n        static void InputNumber()\r\n        {\r\n    \tScanner console=new Scanner (System.in);\r\n    \t\t\t\r\n            double num1=0,num2=0;\r\n            \r\n    \tSystem.out.print(&quot;Enter first number : &quot;);\r\n    \tnum1=console.nextInt();\r\n           \r\n            System.out.print(&quot;Enter second number : &quot;);\r\n    \tnum2=console.nextInt();\r\n           \r\n            double num3=Division(num1,num2);\r\n            \r\n            System.out.print(&quot;Result of the devision is:&quot;+num3);\r\n            \r\n    \t}\r\n        static double Division(double num1,double num2)\r\n        {\r\n            double num3 = 0;\r\n            \r\n           try{\r\n                num3 = num1 / num2;\r\n           }\r\n            catch(ArithmeticException e)\r\n            {\r\n                System.out.println(&quot;ArithmeticException =&gt; &quot; + e.getMessage());\r\n            }\r\n           \r\n            return num3;\r\n        }\r\n    \r\n    }\r\n    \r\n   \r\n    \r\n\r\n\r\nThis is my coding, when I try to divide with number zero it&#39;s not catch the exception  ","title":"How to catch arithmetic exception handling when the number are divide by 0","body":"<pre><code>package testdividebyzero;\n\nimport java.util.Scanner;\n\npublic class TestDivideByZero {\n\n    public static void main(String[] args) {\n  \n            InputNumber();\n    }\n    \n    static void InputNumber()\n    {\n    Scanner console=new Scanner (System.in);\n            \n        double num1=0,num2=0;\n        \n    System.out.print(&quot;Enter first number : &quot;);\n    num1=console.nextInt();\n       \n        System.out.print(&quot;Enter second number : &quot;);\n    num2=console.nextInt();\n       \n        double num3=Division(num1,num2);\n        \n        System.out.print(&quot;Result of the devision is:&quot;+num3);\n        \n    }\n    static double Division(double num1,double num2)\n    {\n        double num3 = 0;\n        \n       try{\n            num3 = num1 / num2;\n       }\n        catch(ArithmeticException e)\n        {\n            System.out.println(&quot;ArithmeticException =&gt; &quot; + e.getMessage());\n        }\n       \n        return num3;\n    }\n\n}\n</code></pre>\n<p>This is my coding, when I try to divide with number zero it's not catch the exception</p>\n"},{"tags":["java","ubuntu","elasticsearch","opensearch"],"answers":[{"tags":[],"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679837588,"creation_date":1679836678,"answer_id":75847983,"question_id":75847598,"body_markdown":"Well, just by the message itself - I would try to add the package `lucene-backward-codecs` to your dependencies (maven/gradle)\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.lucene/lucene-backward-codecs","title":"Elasticsearch cannot be started (Could not load codec &#39;Lucene95&#39;.)","body":"<p>Well, just by the message itself - I would try to add the package <code>lucene-backward-codecs</code> to your dependencies (maven/gradle)</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.lucene/lucene-backward-codecs\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.lucene/lucene-backward-codecs</a></p>\n"},{"tags":[],"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679837139,"creation_date":1679837139,"answer_id":75848022,"question_id":75847598,"body_markdown":"ElasticSearch (8.6.2) depends on lucence codec 9.4.2.\r\nElasticSearch (8.4.2) depends on lucence codec 9.3.0.\r\nsee https://mvnrepository.com/artifact/org.elasticsearch/elasticsearch for dependency.\r\n\r\nProbably, you index some data whith es 8.6.2, and then you degrade to es 8.4.2, lucene use codec 9.3.0 to decode data encoded with 9.4.2, it fails.\r\n\r\nYou can delete indexed data if the data is not important, or try to reindex to ElasticSearch (8.4.2).\r\n ","title":"Elasticsearch cannot be started (Could not load codec &#39;Lucene95&#39;.)","body":"<p>ElasticSearch (8.6.2) depends on lucence codec 9.4.2.\nElasticSearch (8.4.2) depends on lucence codec 9.3.0.\nsee <a href=\"https://mvnrepository.com/artifact/org.elasticsearch/elasticsearch\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.elasticsearch/elasticsearch</a> for dependency.</p>\n<p>Probably, you index some data whith es 8.6.2, and then you degrade to es 8.4.2, lucene use codec 9.3.0 to decode data encoded with 9.4.2, it fails.</p>\n<p>You can delete indexed data if the data is not important, or try to reindex to ElasticSearch (8.4.2).</p>\n"},{"tags":[],"owner":{"account_id":10997516,"reputation":21,"user_id":21493860,"display_name":"Sanyok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680452093,"creation_date":1680452093,"answer_id":75913187,"question_id":75847598,"body_markdown":"As far as I understood, the issue was in not deleted libraries that were installed by the highest version. And the older version tried to use them. \r\nAfter I removed them, and reinstalled the older version, it started.\r\nsudo rm -rf /var/lib/elasticsearch/\r\nsudo rm -rf /etc/elasticsearch","title":"Elasticsearch cannot be started (Could not load codec &#39;Lucene95&#39;.)","body":"<p>As far as I understood, the issue was in not deleted libraries that were installed by the highest version. And the older version tried to use them.\nAfter I removed them, and reinstalled the older version, it started.\nsudo rm -rf /var/lib/elasticsearch/\nsudo rm -rf /etc/elasticsearch</p>\n"}],"owner":{"account_id":10997516,"reputation":21,"user_id":21493860,"display_name":"Sanyok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1856,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75913187,"answer_count":3,"score":2,"last_activity_date":1680452093,"creation_date":1679831959,"question_id":75847598,"body_markdown":"I was installed latest version of ElasticSearch (8.6.2) and it worked fine. Then i realized that i need an older version (8.4.0), so i uninstalled it and then installed the older one.\r\nNow when i try to start it it fails. In logs (/var/log/elasticsearch/elasticsearch.log) i found the error message - `java.lang.IllegalArgumentException: Could not load codec &#39;Lucene95&#39;. Did you forget to add lucene-backward-codecs.jar?`.\r\nWhat to do? I am not used to java, and its libraries. So i dont even know from what to start.\r\n\r\nAs if found before the advise to download https://dlcdn.apache.org/lucene/java/9.5.0/ lucene9.5.0 and copy it`s folders into /lib directory. I tried it, but it didnt help me.","title":"Elasticsearch cannot be started (Could not load codec &#39;Lucene95&#39;.)","body":"<p>I was installed latest version of ElasticSearch (8.6.2) and it worked fine. Then i realized that i need an older version (8.4.0), so i uninstalled it and then installed the older one.\nNow when i try to start it it fails. In logs (/var/log/elasticsearch/elasticsearch.log) i found the error message - <code>java.lang.IllegalArgumentException: Could not load codec 'Lucene95'. Did you forget to add lucene-backward-codecs.jar?</code>.\nWhat to do? I am not used to java, and its libraries. So i dont even know from what to start.</p>\n<p>As if found before the advise to download <a href=\"https://dlcdn.apache.org/lucene/java/9.5.0/\" rel=\"nofollow noreferrer\">https://dlcdn.apache.org/lucene/java/9.5.0/</a> lucene9.5.0 and copy it`s folders into /lib directory. I tried it, but it didnt help me.</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680442608,"post_id":75911110,"comment_id":133895725,"body_markdown":"Why you should not upload [images of code, data, errors](https://meta.stackoverflow.com/a/285557/12567365) when asking a question. You can show the relevant formatted code as text, as part of a [mre], instead.","body":"Why you should not upload <a href=\"https://meta.stackoverflow.com/a/285557/12567365\">images of code, data, errors</a> when asking a question. You can show the relevant formatted code as text, as part of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, instead."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680442778,"post_id":75911110,"comment_id":133895748,"body_markdown":"Side note: A setter should have a `void` return type.","body":"Side note: A setter should have a <code>void</code> return type."},{"owner":{"account_id":24650079,"reputation":1,"user_id":21548221,"display_name":"Ph0en0x"},"score":0,"creation_date":1680446458,"post_id":75911110,"comment_id":133896340,"body_markdown":"I am sorry for that... This is my first post ever ^^. I tried to format it. It should look better now. Thanks for the remark.","body":"I am sorry for that... This is my first post ever ^^. I tried to format it. It should look better now. Thanks for the remark."},{"owner":{"account_id":24650079,"reputation":1,"user_id":21548221,"display_name":"Ph0en0x"},"score":0,"creation_date":1680451880,"post_id":75911110,"comment_id":133897209,"body_markdown":"How does it look now ? I tried to leave only the most relevant code. I hope now it looks concise and easy-to-understand.","body":"How does it look now ? I tried to leave only the most relevant code. I hope now it looks concise and easy-to-understand."}],"owner":{"account_id":24650079,"reputation":1,"user_id":21548221,"display_name":"Ph0en0x"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680451799,"creation_date":1680427153,"question_id":75911110,"body_markdown":"I am trying to build a personal project in Java, Spring, Thymeleaf etc.. \r\n\r\nI have a page where a person can buy a product. I am passing a DTO object from the dabase to display data which is already known(Size, Colour, Price, Description etc..) I pass another DTO so that they can customize it according to their own preferences - they can pick a size, quantity, colour etc.. So the problem is that some of the fields do not need to be filled from the customer like ID of the product, or price. \r\n\r\nI tried to pass those values from the first DTO to the second one like this:\r\n\r\n```html\r\n&lt;input type=&quot;number&quot; \r\n       th:value=&quot;${productDetailDTO.getId()}&quot; \r\n       th:field=&quot;*{productId}&quot; \r\n       th:readonly=&quot;${true}&quot; hidden /&gt;\r\n```\r\n\r\nHowever the dto arrives with empty field `productId` in the controller. I am not sure if I am using the right approach at all, but I am still learning and I would appreciate some help because I am stuck. Here is my code\r\n\r\n\r\n```java\r\n@GetMapping(&quot;/products-details/{id}&quot;)\r\n    public String productsDetail(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n        ProductDetailDTO productDetailDTO = this.productService.getProductById(id);\r\n        List&lt;String&gt; allSizes = productDetailDTO.getSizes();\r\n        List&lt;String&gt; allPictures = productDetailDTO.getThumbnailUrls();\r\n        CartProductDTO cartProductDTO = new CartProductDTO();\r\n\r\n        model.addAttribute(&quot;productDetailDTO&quot;, productDetailDTO);\r\n        model.addAttribute(&quot;allPictures&quot;, allPictures);\r\n        model.addAttribute(&quot;allSizes&quot;, allSizes);\r\n        model.addAttribute(&quot;cartProductDTO&quot;, cartProductDTO);\r\n\r\n\r\n        return &quot;product-detail&quot;;\r\n    }\r\n```\r\n\r\nHTML TEMPLATE\r\n\r\n```html\r\n&lt;form th:action=&quot;@{/cart/product}&quot; th:object=&quot;${cartProductDTO}&quot; th:method=&quot;post&quot;&gt;\r\n&lt;input type=&quot;number&quot; th:value=&quot;${productDetailDTO.getId()}&quot; th:field=&quot;*{productId}&quot; th:readonly=&quot;${true}&quot; hidden /&gt;\r\n\r\n                           \r\n\r\n\r\n","title":"How to pass a value from one DTO to another DTO in html template using thymeleaf","body":"<p>I am trying to build a personal project in Java, Spring, Thymeleaf etc..</p>\n<p>I have a page where a person can buy a product. I am passing a DTO object from the dabase to display data which is already known(Size, Colour, Price, Description etc..) I pass another DTO so that they can customize it according to their own preferences - they can pick a size, quantity, colour etc.. So the problem is that some of the fields do not need to be filled from the customer like ID of the product, or price.</p>\n<p>I tried to pass those values from the first DTO to the second one like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;number&quot; \n       th:value=&quot;${productDetailDTO.getId()}&quot; \n       th:field=&quot;*{productId}&quot; \n       th:readonly=&quot;${true}&quot; hidden /&gt;\n</code></pre>\n<p>However the dto arrives with empty field <code>productId</code> in the controller. I am not sure if I am using the right approach at all, but I am still learning and I would appreciate some help because I am stuck. Here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/products-details/{id}&quot;)\n    public String productsDetail(@PathVariable(&quot;id&quot;) Long id, Model model) {\n        ProductDetailDTO productDetailDTO = this.productService.getProductById(id);\n        List&lt;String&gt; allSizes = productDetailDTO.getSizes();\n        List&lt;String&gt; allPictures = productDetailDTO.getThumbnailUrls();\n        CartProductDTO cartProductDTO = new CartProductDTO();\n\n        model.addAttribute(&quot;productDetailDTO&quot;, productDetailDTO);\n        model.addAttribute(&quot;allPictures&quot;, allPictures);\n        model.addAttribute(&quot;allSizes&quot;, allSizes);\n        model.addAttribute(&quot;cartProductDTO&quot;, cartProductDTO);\n\n\n        return &quot;product-detail&quot;;\n    }\n</code></pre>\n<p>HTML TEMPLATE</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form th:action=&quot;@{/cart/product}&quot; th:object=&quot;${cartProductDTO}&quot; th:method=&quot;post&quot;&gt;\n&lt;input type=&quot;number&quot; th:value=&quot;${productDetailDTO.getId()}&quot; th:field=&quot;*{productId}&quot; th:readonly=&quot;${true}&quot; hidden /&gt;\n\n                           \n\n\n</code></pre>\n"},{"tags":["java","maven-2","build-process","build"],"answers":[{"tags":[],"owner":{"account_id":37019,"reputation":51344,"user_id":105744,"accept_rate":92,"display_name":"Taylor Leese"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1267511860,"creation_date":1267511860,"answer_id":2361329,"question_id":2361294,"body_markdown":"Basically, all Maven is telling you is that certain dependencies in your project are not available in the central maven repository. The default is to look in your local .m2 folder (local repository), and then any configured repositories in your POM, and then the central maven repository. Look at the repositories [section][1] of the Maven reference.\r\n\r\nThe problem is that the project that was checked in didn&#39;t configure the POM in such a way that all the dependencies could be found and the project could be built from scratch.\r\n\r\n  [1]: http://maven.apache.org/pom.html#Repositories","title":"How do I get Maven to use the correct repositories?","body":"<p>Basically, all Maven is telling you is that certain dependencies in your project are not available in the central maven repository. The default is to look in your local .m2 folder (local repository), and then any configured repositories in your POM, and then the central maven repository. Look at the repositories <a href=\"http://maven.apache.org/pom.html#Repositories\" rel=\"nofollow noreferrer\">section</a> of the Maven reference.</p>\n\n<p>The problem is that the project that was checked in didn't configure the POM in such a way that all the dependencies could be found and the project could be built from scratch.</p>\n"},{"comments":[{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1267526393,"post_id":2361453,"comment_id":2337438,"body_markdown":"Maven doesn&#39;t resolve dependencies during clean, no need to run it offline (at least not with maven 2.2.1 and the clean plugin 2.2).","body":"Maven doesn&#39;t resolve dependencies during clean, no need to run it offline (at least not with maven 2.2.1 and the clean plugin 2.2)."},{"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"score":6,"creation_date":1462373743,"post_id":2361453,"comment_id":61612702,"body_markdown":"NEVER use the wildcard &quot;*&quot; expression when defining mirrors or you will not be able to build third party vendor tools or sample projects that define custom repositories within their poms.","body":"NEVER use the wildcard &quot;*&quot; expression when defining mirrors or you will not be able to build third party vendor tools or sample projects that define custom repositories within their poms."},{"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"score":0,"creation_date":1488021164,"post_id":2361453,"comment_id":72053220,"body_markdown":"Whats the equivalent to defining and overriding this in my project pom.xml file?","body":"Whats the equivalent to defining and overriding this in my project pom.xml file?"},{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":0,"creation_date":1499164973,"post_id":2361453,"comment_id":76784405,"body_markdown":"Why &lt;mirror&gt; overwrites the central repository?","body":"Why &lt;mirror&gt; overwrites the central repository?"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":1,"creation_date":1546198996,"post_id":2361453,"comment_id":94798932,"body_markdown":"This is great info. But is the central maven repository http://repo1.maven.org as you state above or http://repo.maven.apache.org/maven2, as shown at http://maven.apache.org/pom.html#Repositories?","body":"This is great info. But is the central maven repository <a href=\"http://repo1.maven.org\" rel=\"nofollow noreferrer\">repo1.maven.org</a> as you state above or <a href=\"http://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a>, as shown at <a href=\"http://maven.apache.org/pom.html#Repositories\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html#Repositories</a>?"}],"tags":[],"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"comment_count":5,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1358269550,"creation_date":1267514291,"answer_id":2361453,"question_id":2361294,"body_markdown":"By default, Maven will always look in the official Maven repository, which is http://repo1.maven.org.\r\n\r\nWhen Maven tries to build a project, it will look in your local repository (by default `~/.m2/repository` but you can configure it by changing the `&lt;localRepository&gt;` value in your `~/.m2/settings.xml`) to find any dependency, plugin or report defined in your `pom.xml`. If the adequate artifact is not found in your local repository, it will look in all external repositories configured, starting with the default one, http://repo1.maven.org.\r\n\r\nYou can configure Maven to avoid this default repository by setting a mirror in your `settings.xml` file:\r\n\r\n\t&lt;mirrors&gt;\r\n\t\t&lt;mirror&gt;\r\n\t\t\t&lt;id&gt;repoMirror&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Our mirror for Maven repository&lt;/name&gt;\r\n\t\t\t&lt;url&gt;http://the/server/&lt;/url&gt;\r\n\t\t\t&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\r\n\t\t&lt;/mirror&gt;\r\n\t&lt;/mirrors&gt;\r\n\r\nThis way, instead of contacting `http://repo1.maven.org`, Maven will contact your entreprise repository (`http://the/server` in this example).\r\n\r\nIf you want to add another repository, you can define a new one in your settings.xml file:\r\n\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;repositories&gt;\r\n\t\t\t\t&lt;repository&gt;\r\n\t\t\t\t\t&lt;id&gt;foo.bar&lt;/id&gt;\r\n\t\t\t\t\t&lt;releases&gt;\r\n\t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t\t&lt;/releases&gt;\r\n\t\t\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t\t&lt;/snapshots&gt;\r\n\t\t\t\t\t&lt;url&gt;http://new/repository/server&lt;/url&gt;\r\n\t\t\t\t&lt;/repository&gt;\r\n\t\t\t&lt;/repositories&gt;\r\n\r\nYou can see the complete `settings.xml` model [here][1].\r\n\r\nConcerning the `clean` process, you can ask Maven to run it *offline*. In this case, Maven will not try to reach any external repositories:\r\n\r\n    mvn -o clean \r\n\r\n\r\n  [1]: http://maven.apache.org/settings.html","title":"How do I get Maven to use the correct repositories?","body":"<p>By default, Maven will always look in the official Maven repository, which is <a href=\"http://repo1.maven.org\" rel=\"noreferrer\">http://repo1.maven.org</a>.</p>\n\n<p>When Maven tries to build a project, it will look in your local repository (by default <code>~/.m2/repository</code> but you can configure it by changing the <code>&lt;localRepository&gt;</code> value in your <code>~/.m2/settings.xml</code>) to find any dependency, plugin or report defined in your <code>pom.xml</code>. If the adequate artifact is not found in your local repository, it will look in all external repositories configured, starting with the default one, <a href=\"http://repo1.maven.org\" rel=\"noreferrer\">http://repo1.maven.org</a>.</p>\n\n<p>You can configure Maven to avoid this default repository by setting a mirror in your <code>settings.xml</code> file:</p>\n\n<pre><code>&lt;mirrors&gt;\n    &lt;mirror&gt;\n        &lt;id&gt;repoMirror&lt;/id&gt;\n        &lt;name&gt;Our mirror for Maven repository&lt;/name&gt;\n        &lt;url&gt;http://the/server/&lt;/url&gt;\n        &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n    &lt;/mirror&gt;\n&lt;/mirrors&gt;\n</code></pre>\n\n<p>This way, instead of contacting <code>http://repo1.maven.org</code>, Maven will contact your entreprise repository (<code>http://the/server</code> in this example).</p>\n\n<p>If you want to add another repository, you can define a new one in your settings.xml file:</p>\n\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;foo.bar&lt;/id&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/releases&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n                &lt;url&gt;http://new/repository/server&lt;/url&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n</code></pre>\n\n<p>You can see the complete <code>settings.xml</code> model <a href=\"http://maven.apache.org/settings.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Concerning the <code>clean</code> process, you can ask Maven to run it <em>offline</em>. In this case, Maven will not try to reach any external repositories:</p>\n\n<pre><code>mvn -o clean \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":1,"creation_date":1487251211,"post_id":2362672,"comment_id":71706243,"body_markdown":"to see exactly where it checks as it runs, run `mvn -U dependency:resolve`  - `-U` forces mvn to retry, otherwise it caches the failure as metadata","body":"to see exactly where it checks as it runs, run <code>mvn -U dependency:resolve</code>  - <code>-U</code> forces mvn to retry, otherwise it caches the failure as metadata"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":1,"creation_date":1588611584,"post_id":2362672,"comment_id":108959398,"body_markdown":"Thank you! This answer has just helped me! `pluginRepository` was the key (in addition to `repository`), because the plugin from &#171;that&#187; (third-party) repository is referenced.","body":"Thank you! This answer has just helped me! <code>pluginRepository</code> was the key (in addition to <code>repository</code>), because the plugin from &#171;that&#187; (third-party) repository is referenced."},{"owner":{"account_id":5699731,"reputation":1782,"user_id":4505142,"display_name":"Darren Parker"},"score":1,"creation_date":1652369934,"post_id":2362672,"comment_id":127594855,"body_markdown":"Note the URLs have changed to &#39;https&#39; [MavenCentral](https://repo1.maven.org/maven2/)","body":"Note the URLs have changed to &#39;https&#39; <a href=\"https://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">MavenCentral</a>"}],"tags":[],"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":3,"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1267528573,"creation_date":1267528573,"answer_id":2362672,"question_id":2361294,"body_markdown":"&gt; the pom.xml for the project I have doesn&#39;t have this &quot;http://repo1.maven.org/myurlhere&quot; anywhere in it\r\n\r\n**All** projects have &lt;http://repo1.maven.org/&gt; declared as `&lt;repository&gt;` (and `&lt;pluginRepository&gt;`) by default. This repository, which is called the *central* repository, is inherited like others default settings from the &quot;Super POM&quot; (all projects inherit from the Super POM). So a POM is actually a combination of the Super POM, any parent POMs and the current POM. This combination is called the &quot;effective POM&quot; and can be printed using the `effective-pom` goal of the Maven Help plugin (useful for debugging).\r\n\r\nAnd indeed, if you run:\r\n\r\n    mvn help:effective-pom\r\n\r\nYou&#39;ll see at least the following:\r\n\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;name&gt;Maven Repository Switchboard&lt;/name&gt;\r\n          &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n      &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;releases&gt;\r\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n          &lt;/releases&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;name&gt;Maven Plugin Repository&lt;/name&gt;\r\n          &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n      &lt;/pluginRepositories&gt;\r\n\r\n&gt; it has the absolute url where the maven repo is for the project but maven is still trying to download from the general maven repo\r\n\r\nMaven will try to find dependencies in all repositories declared, including in the *central* one which is there by default as we saw. But, according to the trace you are showing, you only have **one** repository defined (the central repository) or maven would print something like this:\r\n\r\n    Reason: Unable to download the artifact from any repository\r\n    \r\n      url.project:project:pom:x.x\r\n    \r\n    from the specified remote repositories:\r\n      central (http://repo1.maven.org/),\r\n      another-repository (http://another/repository)\r\n\r\nSo, basically, maven is unable to find the `url.project:project:pom:x.x` because it is not available in central.\r\n\r\nBut without knowing which project you&#39;ve checked out (it has maybe specific instructions) or which dependency is missing (it can maybe be found in another repository), it&#39;s impossible to help you further.","title":"How do I get Maven to use the correct repositories?","body":"<blockquote>\n  <p>the pom.xml for the project I have doesn't have this \"<a href=\"http://repo1.maven.org/myurlhere\" rel=\"noreferrer\">http://repo1.maven.org/myurlhere</a>\" anywhere in it</p>\n</blockquote>\n\n<p><strong>All</strong> projects have <a href=\"http://repo1.maven.org/\" rel=\"noreferrer\">http://repo1.maven.org/</a> declared as <code>&lt;repository&gt;</code> (and <code>&lt;pluginRepository&gt;</code>) by default. This repository, which is called the <em>central</em> repository, is inherited like others default settings from the \"Super POM\" (all projects inherit from the Super POM). So a POM is actually a combination of the Super POM, any parent POMs and the current POM. This combination is called the \"effective POM\" and can be printed using the <code>effective-pom</code> goal of the Maven Help plugin (useful for debugging).</p>\n\n<p>And indeed, if you run:</p>\n\n<pre><code>mvn help:effective-pom\n</code></pre>\n\n<p>You'll see at least the following:</p>\n\n<pre><code>  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;Maven Repository Switchboard&lt;/name&gt;\n      &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;releases&gt;\n        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n      &lt;/releases&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;Maven Plugin Repository&lt;/name&gt;\n      &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n</code></pre>\n\n<blockquote>\n  <p>it has the absolute url where the maven repo is for the project but maven is still trying to download from the general maven repo</p>\n</blockquote>\n\n<p>Maven will try to find dependencies in all repositories declared, including in the <em>central</em> one which is there by default as we saw. But, according to the trace you are showing, you only have <strong>one</strong> repository defined (the central repository) or maven would print something like this:</p>\n\n<pre><code>Reason: Unable to download the artifact from any repository\n\n  url.project:project:pom:x.x\n\nfrom the specified remote repositories:\n  central (http://repo1.maven.org/),\n  another-repository (http://another/repository)\n</code></pre>\n\n<p>So, basically, maven is unable to find the <code>url.project:project:pom:x.x</code> because it is not available in central.</p>\n\n<p>But without knowing which project you've checked out (it has maybe specific instructions) or which dependency is missing (it can maybe be found in another repository), it's impossible to help you further.</p>\n"},{"tags":[],"owner":{"account_id":17912,"reputation":3052,"user_id":40570,"accept_rate":60,"display_name":"shabby"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602227104,"creation_date":1540198825,"answer_id":52925670,"question_id":2361294,"body_markdown":"I think what you have missed here is this:\r\n\r\nhttps://maven.apache.org/settings.html#Servers\r\n\r\n&gt; The repositories for download and deployment are defined by the repositories and distributionManagement elements of the POM. However, certain settings such as username and password should not be distributed along with the pom.xml. This type of information should exist on the build server in the settings.xml.\r\n\r\n\r\n\r\nThis is the prefered way of using custom repos. So probably what is happening is that the url of this repo is in settings.xml of the build server.\r\n\r\nOnce you get hold of the url and credentials, you can put them in your machine here: `~/.m2/settings.xml` like this:\r\n\r\n    \r\n\r\n    &lt;settings ...&gt; \r\n    \r\n            .\r\n            .\r\n            .\r\n            &lt;servers&gt;\r\n                &lt;server&gt;\r\n                  &lt;id&gt;internal-repository-group&lt;/id&gt;\r\n                  &lt;username&gt;YOUR-USERNAME-HERE&lt;/username&gt;\r\n                  &lt;password&gt;YOUR-PASSWORD-HERE&lt;/password&gt;\r\n                &lt;/server&gt;\r\n            &lt;/servers&gt;\r\n    &lt;/settings&gt;\r\n\r\n\r\n**EDIT:**\r\n\r\nYou then need to refer this repository into project POM. The id *internal-repository-group* can be used in every project. You can setup multiple repos and credentials setting using different IDs in settings xml. \r\n\r\nThe advantage of this approach is that project can be shared without worrying about the credentials and don&#39;t have to mention the credentials in every project.\r\n\r\nFollowing is a sample pom of a project using &quot;internal-repository-group&quot;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;internal-repository-group&lt;/id&gt;\r\n            &lt;name&gt;repo-name&lt;/name&gt;\r\n            &lt;url&gt;http://project.com/yourrepourl/&lt;/url&gt;\r\n            &lt;layout&gt;default&lt;/layout&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n","title":"How do I get Maven to use the correct repositories?","body":"<p>I think what you have missed here is this:</p>\n<p><a href=\"https://maven.apache.org/settings.html#Servers\" rel=\"nofollow noreferrer\">https://maven.apache.org/settings.html#Servers</a></p>\n<blockquote>\n<p>The repositories for download and deployment are defined by the repositories and distributionManagement elements of the POM. However, certain settings such as username and password should not be distributed along with the pom.xml. This type of information should exist on the build server in the settings.xml.</p>\n</blockquote>\n<p>This is the prefered way of using custom repos. So probably what is happening is that the url of this repo is in settings.xml of the build server.</p>\n<p>Once you get hold of the url and credentials, you can put them in your machine here: <code>~/.m2/settings.xml</code> like this:</p>\n<pre><code>&lt;settings ...&gt; \n\n        .\n        .\n        .\n        &lt;servers&gt;\n            &lt;server&gt;\n              &lt;id&gt;internal-repository-group&lt;/id&gt;\n              &lt;username&gt;YOUR-USERNAME-HERE&lt;/username&gt;\n              &lt;password&gt;YOUR-PASSWORD-HERE&lt;/password&gt;\n            &lt;/server&gt;\n        &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>You then need to refer this repository into project POM. The id <em>internal-repository-group</em> can be used in every project. You can setup multiple repos and credentials setting using different IDs in settings xml.</p>\n<p>The advantage of this approach is that project can be shared without worrying about the credentials and don't have to mention the credentials in every project.</p>\n<p>Following is a sample pom of a project using &quot;internal-repository-group&quot;</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;internal-repository-group&lt;/id&gt;\n        &lt;name&gt;repo-name&lt;/name&gt;\n        &lt;url&gt;http://project.com/yourrepourl/&lt;/url&gt;\n        &lt;layout&gt;default&lt;/layout&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155278,"reputation":197,"user_id":2667819,"display_name":"bence of outer space"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1570602515,"creation_date":1570602515,"answer_id":58298211,"question_id":2361294,"body_markdown":"**tl;dr**\r\n\r\nAll maven POMs inherit from a base [**Super POM**][1].&lt;br&gt;\r\nThe snippet below is part of the Super POM for Maven 3.5.4.\r\n\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;name&gt;Central Repository&lt;/name&gt;\r\n          &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n          &lt;layout&gt;default&lt;/layout&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/pom.html#The_Super_POM","title":"How do I get Maven to use the correct repositories?","body":"<p><strong>tl;dr</strong></p>\n\n<p>All maven POMs inherit from a base <a href=\"https://maven.apache.org/pom.html#The_Super_POM\" rel=\"noreferrer\"><strong>Super POM</strong></a>.<br>\nThe snippet below is part of the Super POM for Maven 3.5.4.</p>\n\n<pre><code>  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;Central Repository&lt;/name&gt;\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n      &lt;layout&gt;default&lt;/layout&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23372962,"reputation":1,"user_id":17443485,"display_name":"Mustafa Okur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680451746,"creation_date":1680451746,"answer_id":75913161,"question_id":2361294,"body_markdown":"change the settings.xml from your maven folder e.g\r\n C:\\Program Files\\apache-maven-3.6.3\\conf\r\ncheck above path..","title":"How do I get Maven to use the correct repositories?","body":"<p>change the settings.xml from your maven folder e.g\nC:\\Program Files\\apache-maven-3.6.3\\conf\ncheck above path..</p>\n"}],"owner":{"account_id":106721,"reputation":791,"user_id":284163,"display_name":"user284163"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223919,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"answer_count":6,"score":78,"last_activity_date":1680451746,"creation_date":1267511324,"question_id":2361294,"body_markdown":"I have just checked out some projects and need to build them, however I installed Maven quite some time ago (6 months maybe?) and really haven&#39;t used it since - the `pom.xml` for the project I have doesn&#39;t have this &quot;http://repo1.maven.org/myurlhere&quot; anywhere in it - it has the absolute `url` where the Maven repo is for the project, but Maven is still trying to download from the general Maven repo:\r\n\r\n    Macintosh:trunk$ mvn clean install\r\n    [INFO] Scanning for projects...\r\n    Downloading: http://repo1.maven.org/url/project/project/x.x/project-x.x.pom\r\n    [INFO] Unable to find resource &#39;url.project:project:pom:x.x&#39; in repository central (http://repo1.maven.org/)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] FATAL ERROR\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Failed to resolve artifact.\r\n    \r\n    GroupId: url.project\r\n    ArtifactId: project\r\n    Version: x.x\r\n    \r\n    Reason: Unable to download the artifact from any repository\r\n    \r\n      url.project:project:pom:x.x\r\n    \r\n    from the specified remote repositories:\r\n      central (http://repo1.maven.org/)\r\n\r\nCan anyone help me with what I&#39;m not doing right?  \r\nBasically, I have just checked the projects out from the command line, `cd`-ed into the directory and ran `mvn clean install` - nothing else.  \r\nAny help is greatly appreciated.","title":"How do I get Maven to use the correct repositories?","body":"<p>I have just checked out some projects and need to build them, however I installed Maven quite some time ago (6 months maybe?) and really haven't used it since - the <code>pom.xml</code> for the project I have doesn't have this \"<a href=\"http://repo1.maven.org/myurlhere\" rel=\"noreferrer\">http://repo1.maven.org/myurlhere</a>\" anywhere in it - it has the absolute <code>url</code> where the Maven repo is for the project, but Maven is still trying to download from the general Maven repo:</p>\n\n<pre><code>Macintosh:trunk$ mvn clean install\n[INFO] Scanning for projects...\nDownloading: http://repo1.maven.org/url/project/project/x.x/project-x.x.pom\n[INFO] Unable to find resource 'url.project:project:pom:x.x' in repository central (http://repo1.maven.org/)\n[INFO] ------------------------------------------------------------------------\n[ERROR] FATAL ERROR\n[INFO] ------------------------------------------------------------------------\n[INFO] Failed to resolve artifact.\n\nGroupId: url.project\nArtifactId: project\nVersion: x.x\n\nReason: Unable to download the artifact from any repository\n\n  url.project:project:pom:x.x\n\nfrom the specified remote repositories:\n  central (http://repo1.maven.org/)\n</code></pre>\n\n<p>Can anyone help me with what I'm not doing right?<br>\nBasically, I have just checked the projects out from the command line, <code>cd</code>-ed into the directory and ran <code>mvn clean install</code> - nothing else.<br>\nAny help is greatly appreciated.</p>\n"},{"tags":["java","maven","plugins","checkstyle","maven-checkstyle-plugin"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680354035,"post_id":75906265,"comment_id":133886207,"body_markdown":"You can provide a suppression XML file with the classes and line number ranges to be ignored. More here https://maven.apache.org/plugins/maven-checkstyle-plugin/examples/suppressions-filter.html","body":"You can provide a suppression XML file with the classes and line number ranges to be ignored. More here <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/examples/suppressions-filter.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-checkstyle-plugin/examples/&hellip;</a>"},{"owner":{"account_id":15976349,"reputation":84,"user_id":11529150,"display_name":"Ivan Ivanchuk"},"score":0,"creation_date":1680354464,"post_id":75906265,"comment_id":133886258,"body_markdown":"@Mar-Z is not what I am looking for. In the case you provided, I would have to describe every file in my project, which is completely unacceptable.","body":"@Mar-Z is not what I am looking for. In the case you provided, I would have to describe every file in my project, which is completely unacceptable."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680425267,"post_id":75906265,"comment_id":133893628,"body_markdown":"It&#39;s not the licence check it&#39;s a check for the line length... you have to configer it appropriately...","body":"It&#39;s not the licence check it&#39;s a check for the line length... you have to configer it appropriately..."},{"owner":{"account_id":15976349,"reputation":84,"user_id":11529150,"display_name":"Ivan Ivanchuk"},"score":0,"creation_date":1680426956,"post_id":75906265,"comment_id":133893824,"body_markdown":"@khmarbaise it is obvious that the string length is checked, I just need to turn off the all checks for the license section","body":"@khmarbaise it is obvious that the string length is checked, I just need to turn off the all checks for the license section"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680443983,"post_id":75906265,"comment_id":133895932,"body_markdown":"@IvanIvanchuk You do not need to describe every file in your project.  A Checkstyle suppression file takes a regular expression for the files it is expected to apply to.  Also, the LineLength check itself can be told to ignore lines matching a designated regular expression.","body":"@IvanIvanchuk You do not need to describe every file in your project.  A Checkstyle suppression file takes a regular expression for the files it is expected to apply to.  Also, the LineLength check itself can be told to ignore lines matching a designated regular expression."}],"answers":[{"tags":[],"owner":{"account_id":15976349,"reputation":84,"user_id":11529150,"display_name":"Ivan Ivanchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680450935,"creation_date":1680450935,"answer_id":75913079,"question_id":75906265,"body_markdown":"So, I found a solution, not without the help of comments.\r\n\r\nThe first thing I had to do was to determine which block I needed to exclude for the test. In my case it was from line 0 to line 23. Then I had to create a file `checkstyle-suppressions.xml` which would look like this\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?\r\n&lt;!DOCTYPE suppressions PUBLIC &quot;-//Checkstyle//DTD SuppressionFilter Configuration 1.0//EN&quot; &quot;https://checkstyle.org/dtds/suppressions_1_0.dtd&quot;&gt;\r\n&lt;suppressions&gt;\r\n  &lt;suppress checks=&quot;LineLength&quot; files=&quot;.*\\.java$&quot; lines=&quot;0-23&quot;/&gt;\r\n  ...\r\n&lt;/suppressions&gt;\r\n```\r\n\r\nIn it I&#39;ve listed all the checks I wanted to exclude for the license block. Also to check only Java sources I specified with regex file type - `.*\\.java$`.\r\n\r\nNext, in project `pom.xml`\r\n\r\n```xml\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-checkstyle-plugin.version}&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n            &lt;version&gt;${checkstyle.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;verify-style&lt;/id&gt;\r\n            &lt;phase&gt;process-classes&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;check&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;suppressionsFileExpression&gt;checkstyle.suppressions.file&lt;/suppressionsFileExpression&gt;\r\n              &lt;suppressionsLocation&gt;checkstyle-suppressions.xml&lt;/suppressionsLocation&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nI specified the `suppressionsLocation` configuration file I needed and the required `suppressionsFileExpression` setting","title":"Way to disable checkstyle check for the license in the source code","body":"<p>So, I found a solution, not without the help of comments.</p>\n<p>The first thing I had to do was to determine which block I needed to exclude for the test. In my case it was from line 0 to line 23. Then I had to create a file <code>checkstyle-suppressions.xml</code> which would look like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?\n&lt;!DOCTYPE suppressions PUBLIC &quot;-//Checkstyle//DTD SuppressionFilter Configuration 1.0//EN&quot; &quot;https://checkstyle.org/dtds/suppressions_1_0.dtd&quot;&gt;\n&lt;suppressions&gt;\n  &lt;suppress checks=&quot;LineLength&quot; files=&quot;.*\\.java$&quot; lines=&quot;0-23&quot;/&gt;\n  ...\n&lt;/suppressions&gt;\n</code></pre>\n<p>In it I've listed all the checks I wanted to exclude for the license block. Also to check only Java sources I specified with regex file type - <code>.*\\.java$</code>.</p>\n<p>Next, in project <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-checkstyle-plugin.version}&lt;/version&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n            &lt;version&gt;${checkstyle.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;verify-style&lt;/id&gt;\n            &lt;phase&gt;process-classes&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;suppressionsFileExpression&gt;checkstyle.suppressions.file&lt;/suppressionsFileExpression&gt;\n              &lt;suppressionsLocation&gt;checkstyle-suppressions.xml&lt;/suppressionsLocation&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>I specified the <code>suppressionsLocation</code> configuration file I needed and the required <code>suppressionsFileExpression</code> setting</p>\n"}],"owner":{"account_id":15976349,"reputation":84,"user_id":11529150,"display_name":"Ivan Ivanchuk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75913079,"answer_count":1,"score":1,"last_activity_date":1680450935,"creation_date":1680353314,"question_id":75906265,"body_markdown":"I am injecting checkstyle maven [plugin][1] in my Java project. And I have one problem. The problem is that the plugin checks for a style license, which is placed inside the source code file.\r\n\r\nWhat gives me an error:\r\n```bash\r\n[ERROR] src/main/java/io/github/eocqrs/kafka/consumer/KfConsumer.java:[11] (sizes) \r\nLineLength: Line is longer than 80 characters (found 81).\r\n```\r\n How do I turn off the license block check?\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-checkstyle-plugin/index.html","title":"Way to disable checkstyle check for the license in the source code","body":"<p>I am injecting checkstyle maven <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/index.html\" rel=\"nofollow noreferrer\">plugin</a> in my Java project. And I have one problem. The problem is that the plugin checks for a style license, which is placed inside the source code file.</p>\n<p>What gives me an error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[ERROR] src/main/java/io/github/eocqrs/kafka/consumer/KfConsumer.java:[11] (sizes) \nLineLength: Line is longer than 80 characters (found 81).\n</code></pre>\n<p>How do I turn off the license block check?</p>\n"},{"tags":["java","spring-boot","exception","mappedsuperclass","criteriabuilder"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680437264,"post_id":75911841,"comment_id":133895076,"body_markdown":"Which attribute - student, id or cb? What does the code that calls findStudentsByCriteria look like?","body":"Which attribute - student, id or cb? What does the code that calls findStudentsByCriteria look like?"},{"owner":{"account_id":12898470,"reputation":1,"user_id":9328094,"display_name":"Venkat"},"score":0,"creation_date":1680439109,"post_id":75911841,"comment_id":133895279,"body_markdown":"John - It is the Id attribute of StudentID class that is not identified and is null during runtime","body":"John - It is the Id attribute of StudentID class that is not identified and is null during runtime"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680440430,"post_id":75911841,"comment_id":133895458,"body_markdown":"What are you trying to do here? Get student by id? Get students by departments?","body":"What are you trying to do here? Get student by id? Get students by departments?"}],"owner":{"account_id":12898470,"reputation":1,"user_id":9328094,"display_name":"Venkat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680450739,"creation_date":1680436154,"question_id":75911841,"body_markdown":"I am trying to write CriteriaQuery in Spring boot application\r\n\r\nI have Entity class as below\r\n\r\n```\r\n@Entity\r\n@Data\r\nclass Student extends BaseEntity implements Serializable{\r\n\r\n    @EmbeddedId\r\n    StudentID id;\r\n\r\n    @Column(name = &quot;Student_name&quot;)\r\n    String name;\r\n    @Column(name = &quot;Student_age&quot;)\r\n    String age;\r\n\r\n    // getters and setters\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Embeddable\r\n@Data\r\nclass StudentID\r\n{\r\n\r\n    @Column(name = &quot;Student_id&quot;)\r\n    String id;\r\n    @Column(name = &quot;Student_dept&quot;)\r\n    String dept_id;\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@MappedSuperClass\r\n@Entity\r\nclass BaseEntity{\r\n@Column(name = &quot;start_date&quot;)\r\nDate startDate;\r\n@Column(name = &quot;end_date&quot;)\r\nDate endDate;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Repository\r\nclass StudentDao {\r\n\r\n    EntityManager em;\r\n\r\n    // constructor\r\n\r\n    List&lt;Student&gt; findStudentsByCriteria(Student student) {\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Book&gt; cq = cb.createQuery(Student.class);\r\n\r\n        Root&lt;Student&gt; student= cq.from(Student.class);\r\n        Predicate studentNamePredicate = cb.equal(student.get(&quot;id&quot;), id); --&gt; In this line I am getting exception as the attribute is null \r\n\r\n        Predicate studentDeptPredicate = cb.equal(student.get(&quot;dept_id&quot;), dept_id);\r\n        cq.where(authorNamePredicate, titlePredicate);\r\n\r\n        TypedQuery&lt;Student&gt; query = em.createQuery(cq);\r\n        return query.getResultList();\r\n    }\r\n\r\n}\r\n```\r\n\r\nPredicate studentNamePredicate = cb.equal(student.get(&quot;id&quot;), id); --&gt; In this line I am getting exception as the attribute is null.\r\n\r\n\r\nI tried to debug the framework code and observed that the attribute is looked up in super class.\r\nException is due to attribute being null. \r\n\r\nThe attribute should be looked in Entity class but not sure why it is looked up in BaseEntity class.\r\n","title":"Spring boot CriteraQuery attribute not found error","body":"<p>I am trying to write CriteriaQuery in Spring boot application</p>\n<p>I have Entity class as below</p>\n<pre><code>@Entity\n@Data\nclass Student extends BaseEntity implements Serializable{\n\n    @EmbeddedId\n    StudentID id;\n\n    @Column(name = &quot;Student_name&quot;)\n    String name;\n    @Column(name = &quot;Student_age&quot;)\n    String age;\n\n    // getters and setters\n\n}\n</code></pre>\n<pre><code>@Embeddable\n@Data\nclass StudentID\n{\n\n    @Column(name = &quot;Student_id&quot;)\n    String id;\n    @Column(name = &quot;Student_dept&quot;)\n    String dept_id;\n\n}\n</code></pre>\n<pre><code>@MappedSuperClass\n@Entity\nclass BaseEntity{\n@Column(name = &quot;start_date&quot;)\nDate startDate;\n@Column(name = &quot;end_date&quot;)\nDate endDate;\n}\n</code></pre>\n<pre><code>@Repository\nclass StudentDao {\n\n    EntityManager em;\n\n    // constructor\n\n    List&lt;Student&gt; findStudentsByCriteria(Student student) {\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;Book&gt; cq = cb.createQuery(Student.class);\n\n        Root&lt;Student&gt; student= cq.from(Student.class);\n        Predicate studentNamePredicate = cb.equal(student.get(&quot;id&quot;), id); --&gt; In this line I am getting exception as the attribute is null \n\n        Predicate studentDeptPredicate = cb.equal(student.get(&quot;dept_id&quot;), dept_id);\n        cq.where(authorNamePredicate, titlePredicate);\n\n        TypedQuery&lt;Student&gt; query = em.createQuery(cq);\n        return query.getResultList();\n    }\n\n}\n</code></pre>\n<p>Predicate studentNamePredicate = cb.equal(student.get(&quot;id&quot;), id); --&gt; In this line I am getting exception as the attribute is null.</p>\n<p>I tried to debug the framework code and observed that the attribute is looked up in super class.\nException is due to attribute being null.</p>\n<p>The attribute should be looked in Entity class but not sure why it is looked up in BaseEntity class.</p>\n"},{"tags":["java","algorithm","data-structures","dynamic-programming","backtracking"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1619708011,"post_id":67319667,"comment_id":118992149,"body_markdown":"Step it with a debugger and see?","body":"Step it with a debugger and see?"},{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1619708779,"post_id":67319667,"comment_id":118992560,"body_markdown":"This sounds like a great opportunity for you to spend some time learning [how to debug](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) your code.","body":"This sounds like a great opportunity for you to spend some time learning <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">how to debug</a> your code."},{"owner":{"account_id":14612183,"reputation":4799,"user_id":10553341,"display_name":"Damien"},"score":0,"creation_date":1619709365,"post_id":67319667,"comment_id":118992794,"body_markdown":"It is not a coding issue, but an algorithm one. Your code follow the route `91892765431-99812765431-99872165431-9987612543` instead of `9186279795431-99862715431-998671615431-99876215431`. For example, here, as you have two `9` (max value), you have two select which element must swap with the first `9`.","body":"It is not a coding issue, but an algorithm one. Your code follow the route <code>91892765431-99812765431-99872165431-9987612543</code> instead of <code>9186279795431-99862715431-998671615431-99876215431</code>. For example, here, as you have two <code>9</code> (max value), you have two select which element must swap with the first <code>9</code>."},{"owner":{"account_id":20164858,"reputation":604,"user_id":14789065,"display_name":"wLui155"},"score":0,"creation_date":1619713984,"post_id":67319667,"comment_id":118995024,"body_markdown":"If N and K are large you can optimize the approach by using a priority queue. Don&#39;t want to give away the whole answer but if done correctly, the time complexity can be reduced to O(N*log(K)).","body":"If N and K are large you can optimize the approach by using a priority queue. Don&#39;t want to give away the whole answer but if done correctly, the time complexity can be reduced to O(N*log(K))."}],"answers":[{"tags":[],"owner":{"account_id":19159097,"reputation":2505,"user_id":13995311,"display_name":"Jakub D&#243;ka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619709358,"creation_date":1619709358,"answer_id":67320235,"question_id":67319667,"body_markdown":"The basic steps how to solve this problem:\r\n0. cast string to array of integers\r\n1. make a loop K times\r\n2. in this loop go from i+1 (LOOP VAR) to end of a collection and search for higher value\r\n3. when we find higher value then collection[i], we will remember its value and index on witch it is. Important thing to note is that we want to swap biggest number but i also has to be last possible number.\r\n4. at the end of iteration we swap the elements (i with best index)\r\n5. we are done so all its left is convert our int list back to string.\r\n\r\ncode: (its python because java is pain)\r\n```\r\ndef sort(swaps, string):\r\n    l = list(map(int, list(string)))\r\n    print(l)\r\n    for i in range(swaps):\r\n        best = l[i] + 1\r\n        bestIndex = i\r\n        for j in range(i+1, len(l)):\r\n            if best &lt;= l[j]:\r\n                best = l[j]\r\n                bestIndex = j\r\n        print(i, bestIndex)\r\n        l[i], l[bestIndex] = l[bestIndex], l[i]\r\n    return &quot;&quot;.join(map(str, l))\r\n\r\nprint(sort(4, &quot;61892795431&quot;))\r\n```","title":"Largest number in k swaps","body":"<p>The basic steps how to solve this problem:\n0. cast string to array of integers</p>\n<ol>\n<li>make a loop K times</li>\n<li>in this loop go from i+1 (LOOP VAR) to end of a collection and search for higher value</li>\n<li>when we find higher value then collection[i], we will remember its value and index on witch it is. Important thing to note is that we want to swap biggest number but i also has to be last possible number.</li>\n<li>at the end of iteration we swap the elements (i with best index)</li>\n<li>we are done so all its left is convert our int list back to string.</li>\n</ol>\n<p>code: (its python because java is pain)</p>\n<pre><code>def sort(swaps, string):\n    l = list(map(int, list(string)))\n    print(l)\n    for i in range(swaps):\n        best = l[i] + 1\n        bestIndex = i\n        for j in range(i+1, len(l)):\n            if best &lt;= l[j]:\n                best = l[j]\n                bestIndex = j\n        print(i, bestIndex)\n        l[i], l[bestIndex] = l[bestIndex], l[i]\n    return &quot;&quot;.join(map(str, l))\n\nprint(sort(4, &quot;61892795431&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13996806,"reputation":810,"user_id":10109389,"display_name":"Amo Robb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619710902,"creation_date":1619710902,"answer_id":67320720,"question_id":67319667,"body_markdown":"Your code is correct. The problem comes from the parameter 4 (max number of swaps). If you use 10, the sorting is completed successfully.\r\n\r\nMaybe the deeper problems comes from the fact that you are comparing the swaps of your algorithm with the swaps that you would do efficiently to sort the numbers. Your algorithm may work but probably it is not the most efficient, so the number of swaps needed is above the optimum.","title":"Largest number in k swaps","body":"<p>Your code is correct. The problem comes from the parameter 4 (max number of swaps). If you use 10, the sorting is completed successfully.</p>\n<p>Maybe the deeper problems comes from the fact that you are comparing the swaps of your algorithm with the swaps that you would do efficiently to sort the numbers. Your algorithm may work but probably it is not the most efficient, so the number of swaps needed is above the optimum.</p>\n"}],"owner":{"account_id":9619675,"reputation":71,"user_id":7141320,"display_name":"Vivek Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1808,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680450655,"creation_date":1619707410,"question_id":67319667,"body_markdown":"Given a number K and string str of digits denoting a positive integer, build the largest number possible by performing swap operations on the digits of str at most K times.\r\n\r\nExample 1:\r\nInput:\r\nK = 4\r\nstr = &quot;1234567&quot;\r\nOutput:\r\n7654321\r\nExplanation:\r\nThree swaps can make the\r\ninput 1234567 to 7654321, swapping 1\r\nwith 7, 2 with 6 and finally 3 with 5\r\n\r\n\r\nI am trying to solve it using two loops. For every index i, I am finding the largest integer between (i+1)th index to (N-1)th index, where N is the size of string. If the largest number is greater than arr[i], then swap it. Below is the code I have written.\r\n\r\n\r\n    public static String findMaximumNum(String str, int k) {\r\n    \t\tint N = str.length();\r\n    \t\tint[] arr = new int[N];\r\n    \t\tfor (int i = 0; i &lt; N; i++) {\r\n    \t\t\tarr[i] = Integer.valueOf(str.charAt(i) + &quot;&quot;);\r\n    \t\t}\r\n    \t\tint swaps = 0;\r\n    \t\tfor (int i = 0; i &lt; N - 1; i++) {\r\n    \t\t\tif(swaps == k)\r\n    \t\t\t\tbreak;\r\n    \t\t\tint maxIndex = findMaxInRange(arr, i + 1, N - 1);\r\n    \t\t\tif (arr[i] &lt; arr[maxIndex]) {\r\n    \t\t\t\tswap(arr, i, maxIndex);\r\n    \t\t\t\tswaps++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tString out = &quot;&quot;;\r\n    \t\tfor (int i = 0; i &lt; N; i++) {\r\n    \t\t\tout = out + arr[i] + &quot;&quot;;\r\n    \t\t}\r\n    \t\treturn out;\r\n    \t}\r\n    \r\n    \tprivate static int findMaxInRange(int[] arr, int i, int j) {\r\n    \t\tint max = Integer.MIN_VALUE;\r\n    \t\tint maxIndex = i;\r\n    \t\tfor (int k = i; k &lt;= j; k++) {\r\n    \t\t\tif (arr[k] &gt;= max) {\r\n    \t\t\t\tmax = arr[k];\r\n    \t\t\t\tmaxIndex = k;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn maxIndex;\r\n    \t}\r\n    \r\n    \tprivate static void swap(int[] arr, int i, int j) {\r\n    \t\tSystem.out.println(&quot;swapping &quot;+arr[i]+&quot; and &quot;+arr[j]+&quot; from &quot;+Arrays.toString(arr));\r\n    \t\tint ch = arr[i];\r\n    \t\tarr[i] = arr[j];\r\n    \t\tarr[j] = ch;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(findMaximumNum(&quot;61892795431&quot;, 4));\r\n    \r\n    \t}\r\n\r\nIt is failing for few test cases. One of the test cases where it is failing is \r\nInput:\r\n4\r\n61892795431\r\n\r\nIts Correct output is:\r\n99876215431\r\n\r\nAnd MyCode&#39;s output is:\r\n99876125431\r\n\r\nI am not able to figure out how the output is &#39;99876215431&#39; and what is wrong in my approach. Please help me understand. Thanks a lot in advance :)","title":"Largest number in k swaps","body":"<p>Given a number K and string str of digits denoting a positive integer, build the largest number possible by performing swap operations on the digits of str at most K times.</p>\n<p>Example 1:\nInput:\nK = 4\nstr = &quot;1234567&quot;\nOutput:\n7654321\nExplanation:\nThree swaps can make the\ninput 1234567 to 7654321, swapping 1\nwith 7, 2 with 6 and finally 3 with 5</p>\n<p>I am trying to solve it using two loops. For every index i, I am finding the largest integer between (i+1)th index to (N-1)th index, where N is the size of string. If the largest number is greater than arr[i], then swap it. Below is the code I have written.</p>\n<pre><code>public static String findMaximumNum(String str, int k) {\n        int N = str.length();\n        int[] arr = new int[N];\n        for (int i = 0; i &lt; N; i++) {\n            arr[i] = Integer.valueOf(str.charAt(i) + &quot;&quot;);\n        }\n        int swaps = 0;\n        for (int i = 0; i &lt; N - 1; i++) {\n            if(swaps == k)\n                break;\n            int maxIndex = findMaxInRange(arr, i + 1, N - 1);\n            if (arr[i] &lt; arr[maxIndex]) {\n                swap(arr, i, maxIndex);\n                swaps++;\n            }\n        }\n        String out = &quot;&quot;;\n        for (int i = 0; i &lt; N; i++) {\n            out = out + arr[i] + &quot;&quot;;\n        }\n        return out;\n    }\n\n    private static int findMaxInRange(int[] arr, int i, int j) {\n        int max = Integer.MIN_VALUE;\n        int maxIndex = i;\n        for (int k = i; k &lt;= j; k++) {\n            if (arr[k] &gt;= max) {\n                max = arr[k];\n                maxIndex = k;\n            }\n        }\n        return maxIndex;\n    }\n\n    private static void swap(int[] arr, int i, int j) {\n        System.out.println(&quot;swapping &quot;+arr[i]+&quot; and &quot;+arr[j]+&quot; from &quot;+Arrays.toString(arr));\n        int ch = arr[i];\n        arr[i] = arr[j];\n        arr[j] = ch;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(findMaximumNum(&quot;61892795431&quot;, 4));\n\n    }\n</code></pre>\n<p>It is failing for few test cases. One of the test cases where it is failing is\nInput:\n4\n61892795431</p>\n<p>Its Correct output is:\n99876215431</p>\n<p>And MyCode's output is:\n99876125431</p>\n<p>I am not able to figure out how the output is '99876215431' and what is wrong in my approach. Please help me understand. Thanks a lot in advance :)</p>\n"},{"tags":["java","android","sql","database","sqlite"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1514862506,"post_id":48055086,"comment_id":83082648,"body_markdown":"You should look into using full text search.  The `LIKE` operator is going to fall short here.","body":"You should look into using full text search.  The <code>LIKE</code> operator is going to fall short here."},{"owner":{"account_id":35663,"reputation":27496,"user_id":101087,"accept_rate":62,"display_name":"NineBerry"},"score":1,"creation_date":1514862745,"post_id":48055086,"comment_id":83082683,"body_markdown":"See here for reference of FTS https://www.sqlite.org/fts3.html","body":"See here for reference of FTS <a href=\"https://www.sqlite.org/fts3.html\" rel=\"nofollow noreferrer\">sqlite.org/fts3.html</a>"},{"owner":{"account_id":1386208,"reputation":6896,"user_id":1318213,"accept_rate":85,"display_name":"waylonion"},"score":0,"creation_date":1514864904,"post_id":48055086,"comment_id":83083044,"body_markdown":"Thanks for the pointer! Looks like full text search has what I need @TimBiegeleisen","body":"Thanks for the pointer! Looks like full text search has what I need @TimBiegeleisen"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1514865054,"post_id":48055086,"comment_id":83083067,"body_markdown":"@wayway I can give you a query using `LIKE`, but it will be very ugly.  FTS is probably a better long term bet.","body":"@wayway I can give you a query using <code>LIKE</code>, but it will be very ugly.  FTS is probably a better long term bet."},{"owner":{"account_id":1386208,"reputation":6896,"user_id":1318213,"accept_rate":85,"display_name":"waylonion"},"score":0,"creation_date":1514915470,"post_id":48055086,"comment_id":83104268,"body_markdown":"@TimBiegeleisen for references sake, could you show me how I could achieve it with `LIKE` then? I won&#39;t be using it since it appears that FTS will have better performance and flexibility. Thanks!","body":"@TimBiegeleisen for references sake, could you show me how I could achieve it with <code>LIKE</code> then? I won&#39;t be using it since it appears that FTS will have better performance and flexibility. Thanks!"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1514982095,"post_id":48055086,"comment_id":83128253,"body_markdown":"Possible duplicate of [How do I use regex in a SQLite query?](https://stackoverflow.com/questions/5071601/how-do-i-use-regex-in-a-sqlite-query)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5071601/how-do-i-use-regex-in-a-sqlite-query\">How do I use regex in a SQLite query?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5752331,"reputation":948,"user_id":4541566,"display_name":"Dejan Dozet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514977157,"creation_date":1514977157,"answer_id":48076015,"question_id":48055086,"body_markdown":"Why not do it like this:\r\n\r\n    SELECT *\r\n     from kanji  \r\n     where (english_meaning = &#39;one&#39;\r\n    \tor english_meaning = &#39;one.&#39;\r\n    \tor english_meaning = &#39;one,&#39;\r\n    \tor english_meaning like &#39;one %&#39;\r\n    \tor english_meaning like &#39;% one %&#39;\r\n    \tor english_meaning like &#39;% one&#39;\r\n    \tor english_meaning like &#39;% one.&#39;\r\n    \tor english_meaning like &#39;% one,&#39;)","title":"SQLite match against words","body":"<p>Why not do it like this:</p>\n\n<pre><code>SELECT *\n from kanji  \n where (english_meaning = 'one'\n    or english_meaning = 'one.'\n    or english_meaning = 'one,'\n    or english_meaning like 'one %'\n    or english_meaning like '% one %'\n    or english_meaning like '% one'\n    or english_meaning like '% one.'\n    or english_meaning like '% one,')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680450403,"creation_date":1680450403,"answer_id":75913036,"question_id":48055086,"body_markdown":"The best solution is the usability of a full-text search engine like SQLite [`FTS4`](https://www.sqlite.org/fts3.html) or [`FTS5`](https://www.sqlite.org/fts5.html) which is design for efficient searching of large `datasets`.\r\n\r\nYou can create a virtual table that indexes the text columns you would want to search, and then its used SQL to search for words or phrases in the columns. It will handle tokenization, stemming and other text processing tasks for you, to manually list them out.\r\n\r\nUse FTS like this to search for the word `one` in the `english_meaining` of your `kanji`:\r\n\r\nCreate a virtual table for the `english_meaning` column:\r\n\r\n    CREATE VIRTUAL TABLE kanji_fts USING FTS5(english_meaning);\r\n\r\n---\r\n\r\nPopulate a virtual table with `data` from `kanji` table:\r\n\r\n    INSERT INTO kanji_fts(rowid, english_meaning) SELECT rowid, english_meaning FROM kanji;\r\n\r\n---\r\n\r\nSearch for the word `one` in the table:\r\n\r\n    SELECT * FROM kanji WHERE rowid IN (SELECT rowid FROM kanji_fts WHERE english_meaning MATCH &#39;one&#39;);\r\n\r\nIt will return all the rows from `kanji` and the `english_meaning` column will contain the `one` as a separate word.\r\n\r\n---\r\n\r\n[`FTS`](https://learn.microsoft.com/en-us/sql/relational-databases/search/full-text-search?view=sql-server-ver16) allows you to do searches with minimal code and high performance.\r\n\r\n---\r\n\r\nThis worked for me:\r\n\r\n    // Create the virtual table if it doesn&#39;t exist\r\n    db.execSQL(&quot;CREATE VIRTUAL TABLE IF NOT EXISTS kanji_fts USING FTS5(english_meaning);&quot;);\r\n    \r\n    // Populate the virtual table with data if it&#39;s empty\r\n    Cursor cursor = db.rawQuery(&quot;SELECT COUNT(*) FROM kanji_fts&quot;, null);\r\n    cursor.moveToFirst();\r\n    int count = cursor.getInt(0);\r\n    if (count == 0) {\r\n        db.execSQL(&quot;INSERT INTO kanji_fts(rowid, english_meaning) SELECT rowid, english_meaning FROM kanji;&quot;);\r\n    }\r\n    \r\n    // Perform a search on the virtual table\r\n    String query = &quot;SELECT * FROM kanji WHERE rowid IN (SELECT rowid FROM kanji_fts WHERE english_meaning MATCH ?) ORDER BY stroke_count&quot;;\r\n    String[] selectionArgs = new String[]{&quot;one&quot;};\r\n    cursor = db.rawQuery(query, selectionArgs);\r\n    \r\n    // Process the results\r\n    if (cursor != null) {\r\n        cursor.moveToFirst();\r\n    }\r\n    return cursor;\r\n\r\n","title":"SQLite match against words","body":"<p>The best solution is the usability of a full-text search engine like SQLite <a href=\"https://www.sqlite.org/fts3.html\" rel=\"nofollow noreferrer\"><code>FTS4</code></a> or <a href=\"https://www.sqlite.org/fts5.html\" rel=\"nofollow noreferrer\"><code>FTS5</code></a> which is design for efficient searching of large <code>datasets</code>.</p>\n<p>You can create a virtual table that indexes the text columns you would want to search, and then its used SQL to search for words or phrases in the columns. It will handle tokenization, stemming and other text processing tasks for you, to manually list them out.</p>\n<p>Use FTS like this to search for the word <code>one</code> in the <code>english_meaining</code> of your <code>kanji</code>:</p>\n<p>Create a virtual table for the <code>english_meaning</code> column:</p>\n<pre><code>CREATE VIRTUAL TABLE kanji_fts USING FTS5(english_meaning);\n</code></pre>\n<hr />\n<p>Populate a virtual table with <code>data</code> from <code>kanji</code> table:</p>\n<pre><code>INSERT INTO kanji_fts(rowid, english_meaning) SELECT rowid, english_meaning FROM kanji;\n</code></pre>\n<hr />\n<p>Search for the word <code>one</code> in the table:</p>\n<pre><code>SELECT * FROM kanji WHERE rowid IN (SELECT rowid FROM kanji_fts WHERE english_meaning MATCH 'one');\n</code></pre>\n<p>It will return all the rows from <code>kanji</code> and the <code>english_meaning</code> column will contain the <code>one</code> as a separate word.</p>\n<hr />\n<p><a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/search/full-text-search?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>FTS</code></a> allows you to do searches with minimal code and high performance.</p>\n<hr />\n<p>This worked for me:</p>\n<pre><code>// Create the virtual table if it doesn't exist\ndb.execSQL(&quot;CREATE VIRTUAL TABLE IF NOT EXISTS kanji_fts USING FTS5(english_meaning);&quot;);\n\n// Populate the virtual table with data if it's empty\nCursor cursor = db.rawQuery(&quot;SELECT COUNT(*) FROM kanji_fts&quot;, null);\ncursor.moveToFirst();\nint count = cursor.getInt(0);\nif (count == 0) {\n    db.execSQL(&quot;INSERT INTO kanji_fts(rowid, english_meaning) SELECT rowid, english_meaning FROM kanji;&quot;);\n}\n\n// Perform a search on the virtual table\nString query = &quot;SELECT * FROM kanji WHERE rowid IN (SELECT rowid FROM kanji_fts WHERE english_meaning MATCH ?) ORDER BY stroke_count&quot;;\nString[] selectionArgs = new String[]{&quot;one&quot;};\ncursor = db.rawQuery(query, selectionArgs);\n\n// Process the results\nif (cursor != null) {\n    cursor.moveToFirst();\n}\nreturn cursor;\n</code></pre>\n"}],"owner":{"account_id":1386208,"reputation":6896,"user_id":1318213,"accept_rate":85,"display_name":"waylonion"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1680450403,"creation_date":1514861706,"question_id":48055086,"body_markdown":"I have a sqlite database with a table named kanji which has a column named english_meaning. I would like to query for a &quot;word&quot;.\r\n\r\nThis is my existing query and code:\r\n\r\n    public Cursor fetchAllKanjiWithQuery(String input) {\r\n        input = &quot;%&quot; + input + &quot;%&quot;;\r\n        String query = &quot;SELECT * FROM kanji WHERE literal LIKE ? OR radicals LIKE ? OR english_meaning LIKE ? OR kun_reading LIKE ? OR romaji LIKE ? ORDER BY stroke_count&quot;;\r\n        String[] selectionArgs = new String[]{input, input, input, input, input};\r\n        Cursor cursor = db.rawQuery(query, selectionArgs);\r\n        if (cursor != null) {\r\n            cursor.moveToFirst();\r\n        }\r\n        return cursor;\r\n    }\r\n\r\nWith the input being &quot;one&quot;, results where english_meaning is &quot;b**one**&quot; or &quot;**one**self&quot; would match.\r\n\r\nHowever, I&#39;m only interested in strings with the word &quot;one&quot;. For example, valid matches should include:\r\n\r\n- &quot;one, a radical character&quot;\r\n- &quot;choose from one&quot;\r\n- &quot;one counter&quot;\r\n\r\nNamely, &quot;one&quot; can appear at the beginning or end of the string, it&#39;s separated from other characters by spaces. If possible, &quot;one&quot; should also be allowed to be followed by punctuation character such as &quot;,&quot; and &quot;.&quot;.\r\n\r\nCurrently, my query with LIKE and % input % doesn&#39;t give the desired result. How can this be fixed?","title":"SQLite match against words","body":"<p>I have a sqlite database with a table named kanji which has a column named english_meaning. I would like to query for a \"word\".</p>\n\n<p>This is my existing query and code:</p>\n\n<pre><code>public Cursor fetchAllKanjiWithQuery(String input) {\n    input = \"%\" + input + \"%\";\n    String query = \"SELECT * FROM kanji WHERE literal LIKE ? OR radicals LIKE ? OR english_meaning LIKE ? OR kun_reading LIKE ? OR romaji LIKE ? ORDER BY stroke_count\";\n    String[] selectionArgs = new String[]{input, input, input, input, input};\n    Cursor cursor = db.rawQuery(query, selectionArgs);\n    if (cursor != null) {\n        cursor.moveToFirst();\n    }\n    return cursor;\n}\n</code></pre>\n\n<p>With the input being \"one\", results where english_meaning is \"b<strong>one</strong>\" or \"<strong>one</strong>self\" would match.</p>\n\n<p>However, I'm only interested in strings with the word \"one\". For example, valid matches should include:</p>\n\n<ul>\n<li>\"one, a radical character\"</li>\n<li>\"choose from one\"</li>\n<li>\"one counter\"</li>\n</ul>\n\n<p>Namely, \"one\" can appear at the beginning or end of the string, it's separated from other characters by spaces. If possible, \"one\" should also be allowed to be followed by punctuation character such as \",\" and \".\".</p>\n\n<p>Currently, my query with LIKE and % input % doesn't give the desired result. How can this be fixed?</p>\n"},{"tags":["java","visual-studio-code","apache-beam","vscode-extensions","checker-framework"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1680228581,"post_id":75885754,"comment_id":133866710,"body_markdown":"It looks like there is no such configuration yet. I reported it on [GitHub](https://github.com/redhat-developer/vscode-java/issues/3036) hoping for a response.","body":"It looks like there is no such configuration yet. I reported it on <a href=\"https://github.com/redhat-developer/vscode-java/issues/3036\" rel=\"nofollow noreferrer\">GitHub</a> hoping for a response."},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1680236801,"post_id":75885754,"comment_id":133867514,"body_markdown":"Please provide a sample code that can be used to reproduce the problem.","body":"Please provide a sample code that can be used to reproduce the problem."},{"owner":{"account_id":2570790,"reputation":2469,"user_id":2229574,"accept_rate":43,"display_name":"srfrnk"},"score":0,"creation_date":1680335769,"post_id":75885754,"comment_id":133884098,"body_markdown":"@ShengChen - added in the end of the description.","body":"@ShengChen - added in the end of the description."},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1680348234,"post_id":75885754,"comment_id":133885428,"body_markdown":"@srfrnk It&#39;s 404","body":"@srfrnk It&#39;s 404"},{"owner":{"account_id":2570790,"reputation":2469,"user_id":2229574,"accept_rate":43,"display_name":"srfrnk"},"score":0,"creation_date":1680450288,"post_id":75885754,"comment_id":133896948,"body_markdown":"Sorry it was private - try now @ShengChen","body":"Sorry it was private - try now @ShengChen"},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1680745190,"post_id":75885754,"comment_id":133951714,"body_markdown":"Could you provide some more detailed steps? The gif is no clear I can hardly see anything.","body":"Could you provide some more detailed steps? The gif is no clear I can hardly see anything."},{"owner":{"account_id":2570790,"reputation":2469,"user_id":2229574,"accept_rate":43,"display_name":"srfrnk"},"score":0,"creation_date":1680854054,"post_id":75885754,"comment_id":133970031,"body_markdown":"Try anything that would generate code... like &quot;Implement unimplemented methods&quot;, &quot;Extract local variable&quot; etc...","body":"Try anything that would generate code... like &quot;Implement unimplemented methods&quot;, &quot;Extract local variable&quot; etc..."}],"owner":{"account_id":2570790,"reputation":2469,"user_id":2229574,"accept_rate":43,"display_name":"srfrnk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680450143,"creation_date":1680164447,"question_id":75885754,"body_markdown":"I&#39;m using VSCode with a Java project and whenever I use it to generate code (i.e. implement unimplemented methods, extract variable etc.) it will add the following annotations (sometimes other):\r\n\r\n - UnknownKeyFor \r\n - NonNull\r\n - Initialized\r\n\r\nI would like to disable those but I can&#39;t find which extension does that nor can I find where that happens in the codebase.\r\nDoes anyone know where these are added in the codebase or where can this behavior be disabled?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3xOyY.gif\r\n\r\n**ADDED:**\r\nAs per comments it appears the issue is related to using Apache Beam (Versions 2.28.0 and higher) - it emits annotations by `checkerframework` that are picked up by the `vscode` code generator.\r\nThis means to reproduce any code that uses Apache Beam would suffice. E.g. https://github.com/srfrnk/demo/tree/main/beam-kafka2file","title":"Removing VSCode Java added annotations","body":"<p>I'm using VSCode with a Java project and whenever I use it to generate code (i.e. implement unimplemented methods, extract variable etc.) it will add the following annotations (sometimes other):</p>\n<ul>\n<li>UnknownKeyFor</li>\n<li>NonNull</li>\n<li>Initialized</li>\n</ul>\n<p>I would like to disable those but I can't find which extension does that nor can I find where that happens in the codebase.\nDoes anyone know where these are added in the codebase or where can this behavior be disabled?</p>\n<p><a href=\"https://i.stack.imgur.com/3xOyY.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3xOyY.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>ADDED:</strong>\nAs per comments it appears the issue is related to using Apache Beam (Versions 2.28.0 and higher) - it emits annotations by <code>checkerframework</code> that are picked up by the <code>vscode</code> code generator.\nThis means to reproduce any code that uses Apache Beam would suffice. E.g. <a href=\"https://github.com/srfrnk/demo/tree/main/beam-kafka2file\" rel=\"nofollow noreferrer\">https://github.com/srfrnk/demo/tree/main/beam-kafka2file</a></p>\n"},{"tags":["java","android","kotlin","nativescript"],"owner":{"account_id":7773831,"reputation":813,"user_id":5882539,"display_name":"Ashish M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680449994,"creation_date":1680449994,"question_id":75913008,"body_markdown":"We want to integrate the NativeScript code which will be common for Android and iOS in to the Native Android and Native iOS App.\r\n\r\nDue to the lack of documentation and support we are not able to understand that how we can communicate with the NativeScript code from Native Android(JAVA/Kotlin) code or vice versa.\r\n\r\nWe tried to follow [https://v7.docs.nativescript.org/guides/integration-with-existing-ios-and-android-apps/extend-existing-android-app][1] \r\nBut its relevent for the older NativeScript and not working for current version NativeScript.\r\n\r\nAnother way I tried is extending the NativeScript Activity but that also throwing error.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /// &lt;reference path=&quot;../node_modules/@nativescript/types-android/lib/android.d.ts&quot; /&gt;\r\n\r\n    import {\r\n        Frame,\r\n        Application,\r\n        setActivityCallbacks,\r\n        AndroidActivityCallbacks\r\n    } from &#39;@nativescript/core&#39;\r\n\r\n    @NativeClass()\r\n    @JavaProxy(&#39;com.example.nssampleapp.MyNativeScriptActivity&#39;)\r\n    class MyNativeScriptActivity extends androidx.appcompat.app.AppCompatActivity {\r\n        public isNativeScriptActivity\r\n\r\n        private _callbacks: AndroidActivityCallbacks\r\n\r\n        public onCreate(savedInstanceState: android.os.Bundle): void {\r\n            Application.android.init(this.getApplication())\r\n            // Set the isNativeScriptActivity in onCreate (as done in the original NativeScript activity code)\r\n            // The JS constructor might not be called because the activity is created from Android.\r\n            this.isNativeScriptActivity = true\r\n            if (!this._callbacks) {\r\n                setActivityCallbacks(this)\r\n            }\r\n\r\n            this._callbacks.onCreate(this, savedInstanceState, this.getIntent(), super.onCreate)\r\n        }\r\n\r\n        public onNewIntent(intent: android.content.Intent): void {\r\n            this._callbacks.onNewIntent(this, intent, super.setIntent, super.onNewIntent)\r\n        }\r\n\r\n        public onSaveInstanceState(outState: android.os.Bundle): void {\r\n            this._callbacks.onSaveInstanceState(this, outState, super.onSaveInstanceState)\r\n        }\r\n\r\n        public onStart(): void {\r\n            this._callbacks.onStart(this, super.onStart)\r\n        }\r\n\r\n        public onStop(): void {\r\n            this._callbacks.onStop(this, super.onStop)\r\n        }\r\n\r\n        public onDestroy(): void {\r\n            this._callbacks.onDestroy(this, super.onDestroy)\r\n        }\r\n\r\n        public onPostResume(): void {\r\n            this._callbacks.onPostResume(this, super.onPostResume)\r\n        }\r\n\r\n        public onBackPressed(): void {\r\n            this._callbacks.onBackPressed(this, super.onBackPressed)\r\n        }\r\n\r\n        public onRequestPermissionsResult(\r\n            requestCode: number,\r\n            permissions: Array&lt;string&gt;,\r\n            grantResults: Array&lt;number&gt;\r\n        ): void {\r\n            this._callbacks.onRequestPermissionsResult(\r\n                this,\r\n                requestCode,\r\n                permissions,\r\n                grantResults,\r\n                undefined /*TODO: Enable if needed*/\r\n            )\r\n        }\r\n\r\n        public onActivityResult(\r\n            requestCode: number,\r\n            resultCode: number,\r\n            data: android.content.Intent\r\n        ): void {\r\n            this._callbacks.onActivityResult(\r\n                this,\r\n                requestCode,\r\n                resultCode,\r\n                data,\r\n                super.onActivityResult\r\n            )\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWe are facing below error while trying to start MyNativeScriptActivity\r\n\r\n``` An uncaught Exception occurred on &quot;main&quot; thread.\r\nUnable to instantiate activity ComponentInfo{com.example.nssampleapp/com.example.nssampleapp.MyNativeScriptActivity}: com.tns.NativeScriptException: Failed to create JavaScript extend wrapper for class &#39;com/example/nssampleapp/MyNativeScriptActivity&#39;\r\n\r\nStackTrace:\r\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.nssampleapp/com.example.nssampleapp.MyNativeScriptActivity}: com.tns.NativeScriptException: Failed to create JavaScript extend wrapper for class &#39;com/example/nssampleapp/MyNativeScriptActivity&#39;\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3551)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loopOnce(Looper.java:201)\r\n\tat android.os.Looper.loop(Looper.java:288)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7872)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\nCaused by: com.tns.NativeScriptException: Failed to create JavaScript extend wrapper for class &#39;com/example/nssampleapp/MyNativeScriptActivity&#39;\r\n\tat com.tns.Runtime.createJSInstanceNative(Native Method)\r\n\tat com.tns.Runtime.createJSInstance(Runtime.java:835)\r\n\tat com.tns.Runtime.initInstance(Runtime.java:808)\r\n\tat com.example.nssampleapp.MyNativeScriptActivity.&lt;init&gt;(MyNativeScriptActivity.java:13)\r\n\tat java.lang.Class.newInstance(Native Method)\r\n\tat android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n\tat androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n\tat android.app.Instrumentation.newActivity(Instrumentation.java:1339)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3538)\r\n\t... 12 more\r\n ```\r\n\r\n  [1]: https://v7.docs.nativescript.org/guides/integration-with-existing-ios-and-android-apps/extend-existing-android-app","title":"What is the best way to communicate with NativeScript Code from the Native Android(Kotlin/Java) Code","body":"<p>We want to integrate the NativeScript code which will be common for Android and iOS in to the Native Android and Native iOS App.</p>\n<p>Due to the lack of documentation and support we are not able to understand that how we can communicate with the NativeScript code from Native Android(JAVA/Kotlin) code or vice versa.</p>\n<p>We tried to follow <a href=\"https://v7.docs.nativescript.org/guides/integration-with-existing-ios-and-android-apps/extend-existing-android-app\" rel=\"nofollow noreferrer\">https://v7.docs.nativescript.org/guides/integration-with-existing-ios-and-android-apps/extend-existing-android-app</a>\nBut its relevent for the older NativeScript and not working for current version NativeScript.</p>\n<p>Another way I tried is extending the NativeScript Activity but that also throwing error.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/// &lt;reference path=\"../node_modules/@nativescript/types-android/lib/android.d.ts\" /&gt;\n\nimport {\n    Frame,\n    Application,\n    setActivityCallbacks,\n    AndroidActivityCallbacks\n} from '@nativescript/core'\n\n@NativeClass()\n@JavaProxy('com.example.nssampleapp.MyNativeScriptActivity')\nclass MyNativeScriptActivity extends androidx.appcompat.app.AppCompatActivity {\n    public isNativeScriptActivity\n\n    private _callbacks: AndroidActivityCallbacks\n\n    public onCreate(savedInstanceState: android.os.Bundle): void {\n        Application.android.init(this.getApplication())\n        // Set the isNativeScriptActivity in onCreate (as done in the original NativeScript activity code)\n        // The JS constructor might not be called because the activity is created from Android.\n        this.isNativeScriptActivity = true\n        if (!this._callbacks) {\n            setActivityCallbacks(this)\n        }\n\n        this._callbacks.onCreate(this, savedInstanceState, this.getIntent(), super.onCreate)\n    }\n\n    public onNewIntent(intent: android.content.Intent): void {\n        this._callbacks.onNewIntent(this, intent, super.setIntent, super.onNewIntent)\n    }\n\n    public onSaveInstanceState(outState: android.os.Bundle): void {\n        this._callbacks.onSaveInstanceState(this, outState, super.onSaveInstanceState)\n    }\n\n    public onStart(): void {\n        this._callbacks.onStart(this, super.onStart)\n    }\n\n    public onStop(): void {\n        this._callbacks.onStop(this, super.onStop)\n    }\n\n    public onDestroy(): void {\n        this._callbacks.onDestroy(this, super.onDestroy)\n    }\n\n    public onPostResume(): void {\n        this._callbacks.onPostResume(this, super.onPostResume)\n    }\n\n    public onBackPressed(): void {\n        this._callbacks.onBackPressed(this, super.onBackPressed)\n    }\n\n    public onRequestPermissionsResult(\n        requestCode: number,\n        permissions: Array&lt;string&gt;,\n        grantResults: Array&lt;number&gt;\n    ): void {\n        this._callbacks.onRequestPermissionsResult(\n            this,\n            requestCode,\n            permissions,\n            grantResults,\n            undefined /*TODO: Enable if needed*/\n        )\n    }\n\n    public onActivityResult(\n        requestCode: number,\n        resultCode: number,\n        data: android.content.Intent\n    ): void {\n        this._callbacks.onActivityResult(\n            this,\n            requestCode,\n            resultCode,\n            data,\n            super.onActivityResult\n        )\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>We are facing below error while trying to start MyNativeScriptActivity</p>\n<pre><code>Unable to instantiate activity ComponentInfo{com.example.nssampleapp/com.example.nssampleapp.MyNativeScriptActivity}: com.tns.NativeScriptException: Failed to create JavaScript extend wrapper for class 'com/example/nssampleapp/MyNativeScriptActivity'\n\nStackTrace:\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.nssampleapp/com.example.nssampleapp.MyNativeScriptActivity}: com.tns.NativeScriptException: Failed to create JavaScript extend wrapper for class 'com/example/nssampleapp/MyNativeScriptActivity'\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3551)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:201)\n    at android.os.Looper.loop(Looper.java:288)\n    at android.app.ActivityThread.main(ActivityThread.java:7872)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\nCaused by: com.tns.NativeScriptException: Failed to create JavaScript extend wrapper for class 'com/example/nssampleapp/MyNativeScriptActivity'\n    at com.tns.Runtime.createJSInstanceNative(Native Method)\n    at com.tns.Runtime.createJSInstance(Runtime.java:835)\n    at com.tns.Runtime.initInstance(Runtime.java:808)\n    at com.example.nssampleapp.MyNativeScriptActivity.&lt;init&gt;(MyNativeScriptActivity.java:13)\n    at java.lang.Class.newInstance(Native Method)\n    at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n    at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n    at android.app.Instrumentation.newActivity(Instrumentation.java:1339)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3538)\n    ... 12 more\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":4,"creation_date":1680383252,"post_id":75908852,"comment_id":133890344,"body_markdown":"Arrays are objects (first line).  Arrays of `Object` are not the same as arrays of primitives (second line).","body":"Arrays are objects (first line).  Arrays of <code>Object</code> are not the same as arrays of primitives (second line)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680386332,"post_id":75908852,"comment_id":133890677,"body_markdown":"error as specified in [JLS 15.26.1. Simple Assignment Operator =](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.1): &quot;If the type of the right-hand operand is not assignment compatible with the type of the variable (&#167;[&#167;5.2](https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.2)), then a compile-time error occurs.&quot;","body":"error as specified in <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.1\" rel=\"nofollow noreferrer\">JLS 15.26.1. Simple Assignment Operator =</a>: &quot;If the type of the right-hand operand is not assignment compatible with the type of the variable (&#167;<a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">&#167;5.2</a>), then a compile-time error occurs.&quot;"},{"owner":{"account_id":2931439,"reputation":59,"user_id":2511564,"display_name":"koZmiZm"},"score":0,"creation_date":1680463250,"post_id":75908852,"comment_id":133898883,"body_markdown":"Like @markspace says: Array inherits from Object, although I did not know that before today. Check out this article:\nhttps://www.geeksforgeeks.org/array-primitive-type-object-java/#","body":"Like @markspace says: Array inherits from Object, although I did not know that before today. Check out this article: <a href=\"https://www.geeksforgeeks.org/array-primitive-type-object-java/#\" rel=\"nofollow noreferrer\">geeksforgeeks.org/array-primitive-type-object-java/#</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680510051,"post_id":75908852,"comment_id":133904576,"body_markdown":"The array types `int[]` and `Object[]` are both subtypes of `Object`, but none of them is a subtype of the other. Also, why would you want to make that assignment? Surely there’s a way to get to your end goal, just a different way and possibly slightly wordier.","body":"The array types <code>int[]</code> and <code>Object[]</code> are both subtypes of <code>Object</code>, but none of them is a subtype of the other. Also, why would you want to make that assignment? Surely there’s a way to get to your end goal, just a different way and possibly slightly wordier."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680510124,"post_id":75908852,"comment_id":133904589,"body_markdown":"Similar: [Cast primitive type array into object array in java](https://stackoverflow.com/questions/5606338/cast-primitive-type-array-into-object-array-in-java)","body":"Similar: <a href=\"https://stackoverflow.com/questions/5606338/cast-primitive-type-array-into-object-array-in-java\">Cast primitive type array into object array in java</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680510676,"post_id":75908852,"comment_id":133904706,"body_markdown":"This could be helpful too? [How can I convert int\\[\\] to Integer\\[\\] in Java?](https://stackoverflow.com/questions/880581/how-can-i-convert-int-to-integer-in-java) `Integer[]` is a subtype of `Object[]` and therefore assignable to `Object[]` (which isn’t completely logical, but it works).","body":"This could be helpful too? <a href=\"https://stackoverflow.com/questions/880581/how-can-i-convert-int-to-integer-in-java\">How can I convert int&#91;&#93; to Integer&#91;&#93; in Java?</a> <code>Integer[]</code> is a subtype of <code>Object[]</code> and therefore assignable to <code>Object[]</code> (which isn’t completely logical, but it works)."},{"owner":{"account_id":28005232,"reputation":9,"user_id":21388756,"display_name":"Elias El hachem"},"score":0,"creation_date":1680526913,"post_id":75908852,"comment_id":133908441,"body_markdown":"Thank u all for your replies, now it is very clear especially : &quot;The array types int[] and Object[] are both subtypes of Object&quot; @OleV.V.","body":"Thank u all for your replies, now it is very clear especially : &quot;The array types int[] and Object[] are both subtypes of Object&quot; @OleV.V."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680449267,"creation_date":1680392346,"answer_id":75909415,"question_id":75908852,"body_markdown":"# tl;dr\r\n\r\n - In Java, every array is itself an object. (your first line)\r\n - In Java, an *array of primitive values* cannot be assigned to a variable declared for an *array of object references*. Primitives are not compatible with objects. (your second line)\r\n\r\n# Details\r\n\r\nAs the Comments explain:\r\n\r\n- Your first line creates an array, and puts a reference to that array in a variable of type `Object`. This works because every array (of any type) is itself a subtype of the [`Object`][1] class. See the [Java specifications][2].\r\n - Your second line creates an array specifically to hold `int` values. The `int` type is a primitive type, not an object-oriented type. You cannot assign a reference pointing to an array of primitives to a variable declared to hold an array of `Object` objects. That is a type mismatch, as primitives and objects are not directly compatible. \r\n\r\n\r\nUnderstand that Java has *two* [type systems][3], operating in parallel:\r\n\r\n - [**Object-oriented types**][4]. Modern, sophisticated, powerful, flexible.\r\n - [**Primitive types**][5]. Originally included to make [C code][6] easier to port to Java — a crucial feature to meet market expectations at that time. Also useful when high-performance and/or memory-efficiency is paramount.\r\n\r\nWork is underway to blur the distinction between these two type systems in future versions of Java. But that work is far from complete. So in the meantime you as a Java programmer must be fully cognizant of each realm. [Auto-boxing][7] helps to bridge the divide between those realms, but the divide is still very much present. \r\n\r\nLet&#39;s make that second line work. Change the `int` to [`Integer`][8]. The `Integer` class is a [wrapper][9] class. Each `Integer` object holds an `int` value. Now on the right side we instantiate an array of `Integer` objects, where each element of that array is `null`. \r\n\r\n    Object[] o2 = new Integer[3] ; \r\n\r\n&gt;Arrays.toString( o2 ): [null, null, null]\r\n\r\nWe can assign something to each element. \r\n\r\n - We can assign an `Integer` object of course. \r\n - We can assign an `int` primitive. The auto-boxing feature in Java automatically wraps that `int` value inside of an `Integer` object, then places a reference to that object within our array.\r\n\r\n```java\r\no2[0] = new Integer( 7 ) ;  // Assign an `Integer` object holding a `int` primitive within.\r\no2[2] = 42 ;                // Assign a primitive value where auto-boxing automatically wraps the `int` value in an `Integer` object, then places a reference within the array.\r\n```\r\n\r\nSee this code run [at Ideone.com][10].\r\n\r\n&gt;Arrays.toString( o2 ): [7, null, 42]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html\r\n  [2]: https://docs.oracle.com/javase/specs/\r\n  [3]: https://en.wikipedia.org/wiki/Type_system\r\n  [4]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [5]: https://en.wikipedia.org/wiki/Primitive_data_type\r\n  [6]: https://en.wikipedia.org/wiki/C_(programming_language)\r\n  [7]: https://en.wikipedia.org/wiki/Boxing_(computer_science)\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html\r\n  [9]: https://en.wikipedia.org/wiki/Primitive_wrapper_class_in_Java\r\n  [10]: https://ideone.com/2ab3lq","title":"Difference between Object and Object[] in arrays reference variable","body":"<h1>tl;dr</h1>\n<ul>\n<li>In Java, every array is itself an object. (your first line)</li>\n<li>In Java, an <em>array of primitive values</em> cannot be assigned to a variable declared for an <em>array of object references</em>. Primitives are not compatible with objects. (your second line)</li>\n</ul>\n<h1>Details</h1>\n<p>As the Comments explain:</p>\n<ul>\n<li>Your first line creates an array, and puts a reference to that array in a variable of type <code>Object</code>. This works because every array (of any type) is itself a subtype of the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\"><code>Object</code></a> class. See the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java specifications</a>.</li>\n<li>Your second line creates an array specifically to hold <code>int</code> values. The <code>int</code> type is a primitive type, not an object-oriented type. You cannot assign a reference pointing to an array of primitives to a variable declared to hold an array of <code>Object</code> objects. That is a type mismatch, as primitives and objects are not directly compatible.</li>\n</ul>\n<p>Understand that Java has <em>two</em> <a href=\"https://en.wikipedia.org/wiki/Type_system\" rel=\"nofollow noreferrer\">type systems</a>, operating in parallel:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\"><strong>Object-oriented types</strong></a>. Modern, sophisticated, powerful, flexible.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Primitive_data_type\" rel=\"nofollow noreferrer\"><strong>Primitive types</strong></a>. Originally included to make <a href=\"https://en.wikipedia.org/wiki/C_(programming_language)\" rel=\"nofollow noreferrer\">C code</a> easier to port to Java — a crucial feature to meet market expectations at that time. Also useful when high-performance and/or memory-efficiency is paramount.</li>\n</ul>\n<p>Work is underway to blur the distinction between these two type systems in future versions of Java. But that work is far from complete. So in the meantime you as a Java programmer must be fully cognizant of each realm. <a href=\"https://en.wikipedia.org/wiki/Boxing_(computer_science)\" rel=\"nofollow noreferrer\">Auto-boxing</a> helps to bridge the divide between those realms, but the divide is still very much present.</p>\n<p>Let's make that second line work. Change the <code>int</code> to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a>. The <code>Integer</code> class is a <a href=\"https://en.wikipedia.org/wiki/Primitive_wrapper_class_in_Java\" rel=\"nofollow noreferrer\">wrapper</a> class. Each <code>Integer</code> object holds an <code>int</code> value. Now on the right side we instantiate an array of <code>Integer</code> objects, where each element of that array is <code>null</code>.</p>\n<pre><code>Object[] o2 = new Integer[3] ; \n</code></pre>\n<blockquote>\n<p>Arrays.toString( o2 ): [null, null, null]</p>\n</blockquote>\n<p>We can assign something to each element.</p>\n<ul>\n<li>We can assign an <code>Integer</code> object of course.</li>\n<li>We can assign an <code>int</code> primitive. The auto-boxing feature in Java automatically wraps that <code>int</code> value inside of an <code>Integer</code> object, then places a reference to that object within our array.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>o2[0] = new Integer( 7 ) ;  // Assign an `Integer` object holding a `int` primitive within.\no2[2] = 42 ;                // Assign a primitive value where auto-boxing automatically wraps the `int` value in an `Integer` object, then places a reference within the array.\n</code></pre>\n<p>See this code run <a href=\"https://ideone.com/2ab3lq\" rel=\"nofollow noreferrer\">at Ideone.com</a>.</p>\n<blockquote>\n<p>Arrays.toString( o2 ): [7, null, 42]</p>\n</blockquote>\n"}],"owner":{"account_id":28005232,"reputation":9,"user_id":21388756,"display_name":"Elias El hachem"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680449267,"creation_date":1680383117,"question_id":75908852,"body_markdown":"Try this code [at Ideone.com][1]:\r\n\r\n```java\r\nObject o1 = new int[3]; \r\nObject[] o2 = new int[3]; //C.E\r\n```\r\n\r\nWhy second statements gives compile time error while first one does not ?\r\n\r\n\r\n  [1]: https://ideone.com/5t9frE","title":"Difference between Object and Object[] in arrays reference variable","body":"<p>Try this code <a href=\"https://ideone.com/5t9frE\" rel=\"nofollow noreferrer\">at Ideone.com</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object o1 = new int[3]; \nObject[] o2 = new int[3]; //C.E\n</code></pre>\n<p>Why second statements gives compile time error while first one does not ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9695,"page":530,"page_size":100}
