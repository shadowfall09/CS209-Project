{"items":[{"tags":["java","jvm"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1504013657,"post_id":45940297,"comment_id":78839210,"body_markdown":"Show us the stacktrace including the **full** error message","body":"Show us the stacktrace including the <b>full</b> error message"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1504029054,"post_id":45940297,"comment_id":78849224,"body_markdown":"And also the full command line used to run injector.","body":"And also the full command line used to run injector."}],"answers":[{"tags":[],"owner":{"account_id":12000934,"reputation":1,"user_id":8780904,"display_name":"Ramit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576564617,"creation_date":1576564617,"answer_id":59368777,"question_id":45940297,"body_markdown":"you may try:\r\n\r\nGive the path to tools.jar instead of being dependent on JAVA_HOME.\r\n\r\nNote: JAVA_HOME/path to jdk/bin/ should not have any space.","title":"java.lang.ClassNotFoundException Error when trying to inject into running VM","body":"<p>you may try:</p>\n\n<p>Give the path to tools.jar instead of being dependent on JAVA_HOME.</p>\n\n<p>Note: JAVA_HOME/path to jdk/bin/ should not have any space.</p>\n"},{"tags":[],"owner":{"account_id":23738735,"reputation":1,"user_id":17757081,"display_name":"Ian The Dead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657418691,"creation_date":1657418122,"answer_id":72925686,"question_id":45940297,"body_markdown":"By default, the &quot;tools.jar&quot; classes are not loaded, your options are to either use a jdk that does load it, include tools.jar in your jar, or forcefully load it with the method below, *(note: this might not work on certain jdk/jvm&#39;s)*\r\n```\r\nprivate static void prepareAttach() throws NoSuchMethodException, MalformedURLException, InvocationTargetException, IllegalAccessException {\r\n        String binPath = System.getProperty(&quot;sun.boot.library.path&quot;);\r\n        // remove jre/bin, replace with lib\r\n        String libPath = binPath.substring(0, binPath.length() - 7) + &quot;lib&quot;;\r\n        URLClassLoader loader = (URLClassLoader) [This Class].class.getClassLoader();\r\n        Method addURLMethod = URLClassLoader.class.getDeclaredMethod(&quot;addURL&quot;, URL.class);\r\n        addURLMethod.setAccessible(true);\r\n        File toolsJar = new File(libPath + &quot;/tools.jar&quot;);\r\n        if (!toolsJar.exists()) throw new RuntimeException(toolsJar.getAbsolutePath() + &quot; does not exist&quot;);\r\n        addURLMethod.invoke(loader, new File(libPath + &quot;/tools.jar&quot;).toURI().toURL());\r\n    }","title":"java.lang.ClassNotFoundException Error when trying to inject into running VM","body":"<p>By default, the &quot;tools.jar&quot; classes are not loaded, your options are to either use a jdk that does load it, include tools.jar in your jar, or forcefully load it with the method below, <em>(note: this might not work on certain jdk/jvm's)</em></p>\n<pre><code>private static void prepareAttach() throws NoSuchMethodException, MalformedURLException, InvocationTargetException, IllegalAccessException {\n        String binPath = System.getProperty(&quot;sun.boot.library.path&quot;);\n        // remove jre/bin, replace with lib\n        String libPath = binPath.substring(0, binPath.length() - 7) + &quot;lib&quot;;\n        URLClassLoader loader = (URLClassLoader) [This Class].class.getClassLoader();\n        Method addURLMethod = URLClassLoader.class.getDeclaredMethod(&quot;addURL&quot;, URL.class);\n        addURLMethod.setAccessible(true);\n        File toolsJar = new File(libPath + &quot;/tools.jar&quot;);\n        if (!toolsJar.exists()) throw new RuntimeException(toolsJar.getAbsolutePath() + &quot; does not exist&quot;);\n        addURLMethod.invoke(loader, new File(libPath + &quot;/tools.jar&quot;).toURI().toURL());\n    }\n</code></pre>\n"}],"owner":{"account_id":10443407,"reputation":87,"user_id":7699262,"display_name":"Tsvetomir Bonev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2054,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1657418691,"creation_date":1504012885,"question_id":45940297,"body_markdown":"I am trying to inject a .jar file in a running VM.\r\n\r\nI&#39;ve added tools.jar in the build path in eclipse, but when I try to run the injector, this error pops up. How should I add tools.jar to the project?\r\n\r\nFull error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/attach/VirtualMachine\r\n            at src.testinjector.MainClass.main(MainClass.java:13)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.tools.attach.VirtualMachine\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 1 more","title":"java.lang.ClassNotFoundException Error when trying to inject into running VM","body":"<p>I am trying to inject a .jar file in a running VM.</p>\n\n<p>I've added tools.jar in the build path in eclipse, but when I try to run the injector, this error pops up. How should I add tools.jar to the project?</p>\n\n<p>Full error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/sun/tools/attach/VirtualMachine\n        at src.testinjector.MainClass.main(MainClass.java:13)\nCaused by: java.lang.ClassNotFoundException: com.sun.tools.attach.VirtualMachine\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more\n</code></pre>\n"},{"tags":["java","sql","spring","postgresql","jpa"],"comments":[{"owner":{"account_id":4451391,"reputation":737,"user_id":3623163,"accept_rate":56,"display_name":"BELLIL"},"score":0,"creation_date":1622209271,"post_id":59603929,"comment_id":119734031,"body_markdown":"Have you tried to add a with no arguments constructor ? Hibernate use this constructor to instanciate your entity and since you overloaded it with yours hibernate will not be able to instanciate the entity","body":"Have you tried to add a with no arguments constructor ? Hibernate use this constructor to instanciate your entity and since you overloaded it with yours hibernate will not be able to instanciate the entity"}],"answers":[{"tags":[],"owner":{"account_id":12687707,"reputation":39,"user_id":9218917,"display_name":"No Name"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1578257417,"creation_date":1578257417,"answer_id":59604080,"question_id":59603929,"body_markdown":"I figured it out.\r\n\r\nI had to create new Repository for Contact\r\n\r\n**ContactRepo**\r\n\r\n    @RepositoryRestResource(collectionResourceRel = &quot;/users/contactLis&quot;, path = &quot;/users/contactLis&quot;)\r\n    public interface ContactRepo extends JpaRepository&lt;Contact, Integer&gt; {\r\n        @Query(value = &quot;select * from contact c where c.contact_owner_id=?1&quot;\r\n                , nativeQuery=true)\r\n        List&lt;Contact&gt; getContactList(int contact_owner_id);\r\n    }\r\n\r\n\r\n\r\nadded \r\n\r\n    @Autowire\r\n    ContactRepo contactRepo\r\n\r\nto AuthController\r\n\r\n\r\nand lastly i added default contructor to Contact class.\r\n\r\n\r\n","title":"org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type","body":"<p>I figured it out.</p>\n\n<p>I had to create new Repository for Contact</p>\n\n<p><strong>ContactRepo</strong></p>\n\n<pre><code>@RepositoryRestResource(collectionResourceRel = \"/users/contactLis\", path = \"/users/contactLis\")\npublic interface ContactRepo extends JpaRepository&lt;Contact, Integer&gt; {\n    @Query(value = \"select * from contact c where c.contact_owner_id=?1\"\n            , nativeQuery=true)\n    List&lt;Contact&gt; getContactList(int contact_owner_id);\n}\n</code></pre>\n\n<p>added </p>\n\n<pre><code>@Autowire\nContactRepo contactRepo\n</code></pre>\n\n<p>to AuthController</p>\n\n<p>and lastly i added default contructor to Contact class.</p>\n"},{"tags":[],"owner":{"account_id":5999925,"reputation":29,"user_id":4713520,"display_name":"Rodrigo Vergara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657418575,"creation_date":1657418575,"answer_id":72925709,"question_id":59603929,"body_markdown":"You need to create another repository that extends **JpaRepository&lt;Contact, Integer&gt;** and move **getContactList** to this new repository.","title":"org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type","body":"<p>You need to create another repository that extends <strong>JpaRepository&lt;Contact, Integer&gt;</strong> and move <strong>getContactList</strong> to this new repository.</p>\n"}],"owner":{"account_id":12687707,"reputation":39,"user_id":9218917,"display_name":"No Name"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657418575,"creation_date":1578256195,"question_id":59603929,"body_markdown":"I want to return all contacts of user specific user. I tried changing it so that it only returned one result it still didnt worked.\r\n\r\nI am getting error at\r\n\r\n&gt; List&lt;Contact&gt; contactList = repo.getContactList(user.getId());\r\n\r\nIt seems to be problem with the Object conversion.\r\n\r\n\r\nHere is code:\r\n\r\n**UserRepo**\r\n\r\n    @RepositoryRestResource(collectionResourceRel = &quot;/management/loginUser&quot;, path = &quot;/management/loginUser&quot;)\r\n    public interface UserRepo extends JpaRepository&lt;ChatUser, Integer&gt; {\r\n        //sprawdzanie poprawności loginu oraz hasła\r\n        @Query(value = &quot;select * from chat_user u where u.email=?1 and u.password=?2&quot; , nativeQuery=true)\r\n        ChatUser findByLogin(String email, String password);\r\n    \r\n    \r\n        @Query(value = &quot;select * from contact c where c.contact_owner_id=?1&quot;\r\n                , nativeQuery=true)\r\n        List&lt;Contact&gt; getContactList(int contact_owner_id);\r\n    \r\n    }\r\n\r\n\r\n**AuthController**\r\n\r\n    @RestController\r\n    public class AuthController{\r\n    \r\n        @Autowired\r\n        UserRepo repo;\r\n    \r\n        @GetMapping(&quot;/users/contactList&quot;)\r\n        @ResponseBody\r\n        public List&lt;Contact&gt; contactList(@RequestParam(&quot;id&quot;) String id){\r\n            System.out.println(&quot;userID: &quot; + id);\r\n            List&lt;Contact&gt; contactList = repo.getContactList(id);\r\n            System.out.println(contactList);\r\n        \r\n            return contactList;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Contact**\r\n\r\n    @Entity\r\n    @Table(name=&quot;contact&quot; , schema = &quot;public&quot;)\r\n    public class Contact implements Persistent{\r\n        @Id\r\n        @Column(name=&quot;contact_id&quot;)\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        private int contact_id;\r\n    \r\n        @Column(name=&quot;conversation_id&quot;)\r\n        private int conversation_id;\r\n    \r\n        @Column(name=&quot;contact_owner_id&quot;)\r\n        private int contact_owner_id;\r\n    \r\n        @Column(name=&quot;contacting_user_id&quot;)\r\n        private int contacting_user_id;\r\n    \r\n        @Column(name=&quot;relation_type&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private relationType relation_type;\r\n    \r\n        @Column(name=&quot;created_at&quot;)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date created_at;\r\n    \r\n        @Column(name=&quot;updated_at&quot;)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date updated_at;\r\n    \r\n        @Column(name=&quot;contact_name&quot;)\r\n        private String contact_name;\r\n    \r\n        public void setCreated_at(Date created_at) {\r\n            this.created_at = created_at;\r\n        }\r\n    \r\n        public void setUpdated_at(Date updated_at) {\r\n            this.updated_at = updated_at;\r\n        }\r\n    \r\n        public Contact(int contact_id, int conversation_id, int contact_owner_id, int contacting_user_id,\r\n                       relationType relation_type, Date created_at, Date updated_at, String contact_name) {\r\n            this.contact_id = contact_id;\r\n            this.conversation_id = conversation_id;\r\n            this.contact_owner_id = contact_owner_id;\r\n            this.contacting_user_id = contacting_user_id;\r\n            this.relation_type = relation_type;\r\n            this.contact_name = contact_name;\r\n            this.created_at = created_at;\r\n            this.updated_at = updated_at;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Contact contact = (Contact) o;\r\n            return contact_id == contact.contact_id &amp;&amp;\r\n                    conversation_id == contact.conversation_id &amp;&amp;\r\n                    contact_owner_id == contact.contact_owner_id &amp;&amp;\r\n                    contacting_user_id == contact.contacting_user_id &amp;&amp;\r\n                    relation_type == contact.relation_type &amp;&amp;\r\n                    contact_name.equals(contact.contact_name) &amp;&amp;\r\n                    created_at.equals(contact.created_at) &amp;&amp;\r\n                    updated_at.equals(contact.updated_at);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(contact_id, conversation_id, contact_owner_id, contacting_user_id, relation_type, created_at, updated_at, contact_name);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Contact{&quot; +\r\n                    &quot;content_id=&quot; + contact_id +\r\n                    &quot;, conversation_id=&quot; + conversation_id +\r\n                    &quot;, contact_owner_id=&quot; + contact_owner_id +\r\n                    &quot;, contact_user_id=&quot; + contacting_user_id +\r\n                    &quot;, relation_type=&quot; + relation_type +\r\n                    &quot;, contact_name=&#39;&quot; + contact_name + &#39;\\&#39;&#39; +\r\n                    &quot;, created_at=&#39;&quot; + created_at + &#39;\\&#39;&#39; +\r\n                    &quot;, updated_at=&#39;&quot; + updated_at + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    //GETERS SETTERS//\r\n    }\r\n\r\n\r\n\r\n**Error**\r\n\r\n    2020-01-05 21:10:43.099 DEBUG 10632 --- [-nio-443-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [fun.buzzz.app.model.Contact] for value &#39;{111, 100, 111, 122, block_second_first, 2019-12-13 19:31:21.0, 2019-12-13 19:31:21.0, froind}&#39;; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [fun.buzzz.app.model.Contact]\r\n    2020-01-05 21:10:43.165 ERROR 10632 --- [-nio-443-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [fun.buzzz.app.model.Contact] for value &#39;{111, 100, 111, 122, block_second_first, 2019-12-13 19:31:21.0, 2019-12-13 19:31:21.0, froind}&#39;; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [fun.buzzz.app.model.Contact]] with root cause\r\n    \r\n    org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [fun.buzzz.app.model.Contact]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:321) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:194) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.ArrayToObjectConverter.convert(ArrayToObjectConverter.java:68) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:191) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:174) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.data.repository.query.ResultProcessor$ProjectingConverter.convert(ResultProcessor.java:297) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.data.repository.query.ResultProcessor$ChainingConverter.lambda$and$0(ResultProcessor.java:217) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.data.repository.query.ResultProcessor$ChainingConverter.convert(ResultProcessor.java:228) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.data.repository.query.ResultProcessor.processResult(ResultProcessor.java:156) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:157) ~[spring-data-jpa-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:142) ~[spring-data-jpa-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:618) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99) ~[spring-tx-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149) ~[spring-data-jpa-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat com.sun.proxy.$Proxy107.getContactList(Unknown Source) ~[na:na]\r\n    \tat fun.buzzz.app.config.AuthenticationController.contactList(AuthenticationController.java:55) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:643) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:835) ~[na:na]\r\n\r\n","title":"org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type","body":"<p>I want to return all contacts of user specific user. I tried changing it so that it only returned one result it still didnt worked.</p>\n\n<p>I am getting error at</p>\n\n<blockquote>\n  <p>List contactList = repo.getContactList(user.getId());</p>\n</blockquote>\n\n<p>It seems to be problem with the Object conversion.</p>\n\n<p>Here is code:</p>\n\n<p><strong>UserRepo</strong></p>\n\n<pre><code>@RepositoryRestResource(collectionResourceRel = \"/management/loginUser\", path = \"/management/loginUser\")\npublic interface UserRepo extends JpaRepository&lt;ChatUser, Integer&gt; {\n    //sprawdzanie poprawności loginu oraz hasła\n    @Query(value = \"select * from chat_user u where u.email=?1 and u.password=?2\" , nativeQuery=true)\n    ChatUser findByLogin(String email, String password);\n\n\n    @Query(value = \"select * from contact c where c.contact_owner_id=?1\"\n            , nativeQuery=true)\n    List&lt;Contact&gt; getContactList(int contact_owner_id);\n\n}\n</code></pre>\n\n<p><strong>AuthController</strong></p>\n\n<pre><code>@RestController\npublic class AuthController{\n\n    @Autowired\n    UserRepo repo;\n\n    @GetMapping(\"/users/contactList\")\n    @ResponseBody\n    public List&lt;Contact&gt; contactList(@RequestParam(\"id\") String id){\n        System.out.println(\"userID: \" + id);\n        List&lt;Contact&gt; contactList = repo.getContactList(id);\n        System.out.println(contactList);\n\n        return contactList;\n    }\n\n}\n</code></pre>\n\n<p><strong>Contact</strong></p>\n\n<pre><code>@Entity\n@Table(name=\"contact\" , schema = \"public\")\npublic class Contact implements Persistent{\n    @Id\n    @Column(name=\"contact_id\")\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int contact_id;\n\n    @Column(name=\"conversation_id\")\n    private int conversation_id;\n\n    @Column(name=\"contact_owner_id\")\n    private int contact_owner_id;\n\n    @Column(name=\"contacting_user_id\")\n    private int contacting_user_id;\n\n    @Column(name=\"relation_type\")\n    @Enumerated(EnumType.STRING)\n    private relationType relation_type;\n\n    @Column(name=\"created_at\")\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date created_at;\n\n    @Column(name=\"updated_at\")\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date updated_at;\n\n    @Column(name=\"contact_name\")\n    private String contact_name;\n\n    public void setCreated_at(Date created_at) {\n        this.created_at = created_at;\n    }\n\n    public void setUpdated_at(Date updated_at) {\n        this.updated_at = updated_at;\n    }\n\n    public Contact(int contact_id, int conversation_id, int contact_owner_id, int contacting_user_id,\n                   relationType relation_type, Date created_at, Date updated_at, String contact_name) {\n        this.contact_id = contact_id;\n        this.conversation_id = conversation_id;\n        this.contact_owner_id = contact_owner_id;\n        this.contacting_user_id = contacting_user_id;\n        this.relation_type = relation_type;\n        this.contact_name = contact_name;\n        this.created_at = created_at;\n        this.updated_at = updated_at;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Contact contact = (Contact) o;\n        return contact_id == contact.contact_id &amp;&amp;\n                conversation_id == contact.conversation_id &amp;&amp;\n                contact_owner_id == contact.contact_owner_id &amp;&amp;\n                contacting_user_id == contact.contacting_user_id &amp;&amp;\n                relation_type == contact.relation_type &amp;&amp;\n                contact_name.equals(contact.contact_name) &amp;&amp;\n                created_at.equals(contact.created_at) &amp;&amp;\n                updated_at.equals(contact.updated_at);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(contact_id, conversation_id, contact_owner_id, contacting_user_id, relation_type, created_at, updated_at, contact_name);\n    }\n\n    @Override\n    public String toString() {\n        return \"Contact{\" +\n                \"content_id=\" + contact_id +\n                \", conversation_id=\" + conversation_id +\n                \", contact_owner_id=\" + contact_owner_id +\n                \", contact_user_id=\" + contacting_user_id +\n                \", relation_type=\" + relation_type +\n                \", contact_name='\" + contact_name + '\\'' +\n                \", created_at='\" + created_at + '\\'' +\n                \", updated_at='\" + updated_at + '\\'' +\n                '}';\n    }\n//GETERS SETTERS//\n}\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>2020-01-05 21:10:43.099 DEBUG 10632 --- [-nio-443-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [fun.buzzz.app.model.Contact] for value '{111, 100, 111, 122, block_second_first, 2019-12-13 19:31:21.0, 2019-12-13 19:31:21.0, froind}'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [fun.buzzz.app.model.Contact]\n2020-01-05 21:10:43.165 ERROR 10632 --- [-nio-443-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [fun.buzzz.app.model.Contact] for value '{111, 100, 111, 122, block_second_first, 2019-12-13 19:31:21.0, 2019-12-13 19:31:21.0, froind}'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [fun.buzzz.app.model.Contact]] with root cause\n\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [fun.buzzz.app.model.Contact]\n    at org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:321) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:194) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.ArrayToObjectConverter.convert(ArrayToObjectConverter.java:68) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:191) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:174) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.data.repository.query.ResultProcessor$ProjectingConverter.convert(ResultProcessor.java:297) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.data.repository.query.ResultProcessor$ChainingConverter.lambda$and$0(ResultProcessor.java:217) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.data.repository.query.ResultProcessor$ChainingConverter.convert(ResultProcessor.java:228) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.data.repository.query.ResultProcessor.processResult(ResultProcessor.java:156) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:157) ~[spring-data-jpa-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:142) ~[spring-data-jpa-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:618) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99) ~[spring-tx-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149) ~[spring-data-jpa-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at com.sun.proxy.$Proxy107.getContactList(Unknown Source) ~[na:na]\n    at fun.buzzz.app.config.AuthenticationController.contactList(AuthenticationController.java:55) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:643) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at java.base/java.lang.Thread.run(Thread.java:835) ~[na:na]\n</code></pre>\n"},{"tags":["java","android","push-notification"],"comments":[{"owner":{"account_id":6906340,"reputation":1061,"user_id":5304075,"display_name":"Arul"},"score":0,"creation_date":1657398007,"post_id":72924142,"comment_id":128802408,"body_markdown":"You have already done the implementation, Can you specify what output you got, and is there any error post the logcat as well would be helpful.","body":"You have already done the implementation, Can you specify what output you got, and is there any error post the logcat as well would be helpful."},{"owner":{"account_id":19005930,"reputation":31,"user_id":13872688,"display_name":"Ali Haydar"},"score":0,"creation_date":1657400842,"post_id":72924142,"comment_id":128802832,"body_markdown":"all things going well otherwise when the app is closed","body":"all things going well otherwise when the app is closed"},{"owner":{"account_id":6906340,"reputation":1061,"user_id":5304075,"display_name":"Arul"},"score":0,"creation_date":1657401195,"post_id":72924142,"comment_id":128802889,"body_markdown":"Instead of run via android studio try build the APK (Build --&gt; Build APK) and test it.","body":"Instead of run via android studio try build the APK (Build --&gt; Build APK) and test it."},{"owner":{"account_id":19005930,"reputation":31,"user_id":13872688,"display_name":"Ali Haydar"},"score":0,"creation_date":1657405309,"post_id":72924142,"comment_id":128803421,"body_markdown":"no bro its not working :(","body":"no bro its not working :("}],"answers":[{"tags":[],"owner":{"account_id":19991019,"reputation":155,"user_id":14652031,"display_name":"Mohsen El Sayed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657418509,"creation_date":1657418509,"answer_id":72925705,"question_id":72924142,"body_markdown":"I suggest using AlarmManger and you can watch this video to learn how to use AlarmManger [Display Android notification at a particular time with Alarm Manager\r\n][1]\r\n\r\n\r\n  [1]: https://youtu.be/nl-dheVpt8o\r\nI hope this helps you and you can put 86400 Seconds to display after 24 hour","title":"Daily push notification when the app is closed in android java","body":"<p>I suggest using AlarmManger and you can watch this video to learn how to use AlarmManger <a href=\"https://youtu.be/nl-dheVpt8o\" rel=\"nofollow noreferrer\">Display Android notification at a particular time with Alarm Manager\n</a></p>\n<p>I hope this helps you and you can put 86400 Seconds to display after 24 hour</p>\n"}],"owner":{"account_id":19005930,"reputation":31,"user_id":13872688,"display_name":"Ali Haydar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657418509,"creation_date":1657395567,"question_id":72924142,"body_markdown":"Daily push notification when the app is closed in android java !\r\n\r\nHello guys , any help !\r\nits working only when my app is opened \r\nthis is the code i&#39;m using\r\n\r\nHow to Send a notification when the Android app is closed\r\n\r\n**AndroidManifest.xml**\r\n\r\n   \r\n        &lt;receiver android:name=&quot;.dailyNotification.Notification_reciever&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.media.action.DISPLAY_NOTIFICATION&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n \r\n\r\nthis is the reciever class\r\n\r\n**Notification_reciever.java**\r\n\r\n    public class Notification_reciever extends BroadcastReceiver {\r\n\r\n    public static final String NOTIFICATION_CHANNEL_ID = &quot;10001&quot; ;\r\n    private final static String default_notification_channel_id = &quot;default&quot; ;\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        NotificationManager notificationManager=(NotificationManager) context.getSystemService(context.NOTIFICATION_SERVICE);\r\n\r\n        Intent repeating_intent =new Intent(context, MainActivity.class);\r\n        repeating_intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n        PendingIntent pendingIntent=PendingIntent.getActivity(context,100,repeating_intent,PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(context,\r\n                default_notification_channel_id )\r\n                .setContentIntent(pendingIntent)\r\n                .setSmallIcon(R.drawable. ic_launcher_foreground )\r\n                .setContentTitle(&quot;Notification 1&quot;)\r\n                .setContentText(&quot;Hello&quot;);\r\n        NotificationManager mNotificationManager = (NotificationManager) context.getSystemService(Context. NOTIFICATION_SERVICE ) ;\r\n        if (android.os.Build.VERSION. SDK_INT &gt;= android.os.Build.VERSION_CODES. O ) {\r\n            AudioAttributes audioAttributes = new AudioAttributes.Builder()\r\n                    .setContentType(AudioAttributes. CONTENT_TYPE_SONIFICATION )\r\n                    .setUsage(AudioAttributes.USAGE_ALARM )\r\n                    .build() ;\r\n            int importance = NotificationManager. IMPORTANCE_HIGH ;\r\n            NotificationChannel notificationChannel = new\r\n                    NotificationChannel( NOTIFICATION_CHANNEL_ID , &quot;NOTIFICATION_CHANNEL_NAME&quot; , importance) ;\r\n            notificationChannel.enableLights( true ) ;\r\n            notificationChannel.setLightColor(Color. RED ) ;\r\n            notificationChannel.enableVibration( true ) ;\r\n            notificationChannel.setVibrationPattern( new long []{ 100 , 200 , 300 , 400 , 500 , 400 , 300 , 200 , 400 }) ;\r\n            mBuilder.setChannelId( NOTIFICATION_CHANNEL_ID ) ;\r\n            assert mNotificationManager != null;\r\n            mNotificationManager.createNotificationChannel(notificationChannel) ;\r\n        }\r\n        assert mNotificationManager != null;\r\n        mNotificationManager.notify(( int ) System. currentTimeMillis (), mBuilder.build()) ;\r\n\r\n\r\n       }\r\n    }\r\n\r\n**Setup Alarm :**\r\n\r\n        Calendar calendar=Calendar.getInstance();\r\n        calendar.set(Calendar.HOUR_OF_DAY,22);\r\n        calendar.set(Calendar.MINUTE,20);\r\n        calendar.set(Calendar.SECOND,0);\r\n\r\n        Intent intent=new Intent(getApplicationContext(), Notification_reciever.class);\r\n\r\n        PendingIntent pendingIntent=PendingIntent.getBroadcast(getApplicationContext(),100,intent,PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        AlarmManager alarmManager=(AlarmManager) getSystemService(ALARM_SERVICE);\r\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,calendar.getTimeInMillis(),AlarmManager.INTERVAL_DAY,pendingIntent);\r\n","title":"Daily push notification when the app is closed in android java","body":"<p>Daily push notification when the app is closed in android java !</p>\n<p>Hello guys , any help !\nits working only when my app is opened\nthis is the code i'm using</p>\n<p>How to Send a notification when the Android app is closed</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>    &lt;receiver android:name=&quot;.dailyNotification.Notification_reciever&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.media.action.DISPLAY_NOTIFICATION&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>this is the reciever class</p>\n<p><strong>Notification_reciever.java</strong></p>\n<pre><code>public class Notification_reciever extends BroadcastReceiver {\n\npublic static final String NOTIFICATION_CHANNEL_ID = &quot;10001&quot; ;\nprivate final static String default_notification_channel_id = &quot;default&quot; ;\n@Override\npublic void onReceive(Context context, Intent intent) {\n\n    NotificationManager notificationManager=(NotificationManager) context.getSystemService(context.NOTIFICATION_SERVICE);\n\n    Intent repeating_intent =new Intent(context, MainActivity.class);\n    repeating_intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n    PendingIntent pendingIntent=PendingIntent.getActivity(context,100,repeating_intent,PendingIntent.FLAG_UPDATE_CURRENT);\n\n    NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(context,\n            default_notification_channel_id )\n            .setContentIntent(pendingIntent)\n            .setSmallIcon(R.drawable. ic_launcher_foreground )\n            .setContentTitle(&quot;Notification 1&quot;)\n            .setContentText(&quot;Hello&quot;);\n    NotificationManager mNotificationManager = (NotificationManager) context.getSystemService(Context. NOTIFICATION_SERVICE ) ;\n    if (android.os.Build.VERSION. SDK_INT &gt;= android.os.Build.VERSION_CODES. O ) {\n        AudioAttributes audioAttributes = new AudioAttributes.Builder()\n                .setContentType(AudioAttributes. CONTENT_TYPE_SONIFICATION )\n                .setUsage(AudioAttributes.USAGE_ALARM )\n                .build() ;\n        int importance = NotificationManager. IMPORTANCE_HIGH ;\n        NotificationChannel notificationChannel = new\n                NotificationChannel( NOTIFICATION_CHANNEL_ID , &quot;NOTIFICATION_CHANNEL_NAME&quot; , importance) ;\n        notificationChannel.enableLights( true ) ;\n        notificationChannel.setLightColor(Color. RED ) ;\n        notificationChannel.enableVibration( true ) ;\n        notificationChannel.setVibrationPattern( new long []{ 100 , 200 , 300 , 400 , 500 , 400 , 300 , 200 , 400 }) ;\n        mBuilder.setChannelId( NOTIFICATION_CHANNEL_ID ) ;\n        assert mNotificationManager != null;\n        mNotificationManager.createNotificationChannel(notificationChannel) ;\n    }\n    assert mNotificationManager != null;\n    mNotificationManager.notify(( int ) System. currentTimeMillis (), mBuilder.build()) ;\n\n\n   }\n}\n</code></pre>\n<p><strong>Setup Alarm :</strong></p>\n<pre><code>    Calendar calendar=Calendar.getInstance();\n    calendar.set(Calendar.HOUR_OF_DAY,22);\n    calendar.set(Calendar.MINUTE,20);\n    calendar.set(Calendar.SECOND,0);\n\n    Intent intent=new Intent(getApplicationContext(), Notification_reciever.class);\n\n    PendingIntent pendingIntent=PendingIntent.getBroadcast(getApplicationContext(),100,intent,PendingIntent.FLAG_UPDATE_CURRENT);\n\n    AlarmManager alarmManager=(AlarmManager) getSystemService(ALARM_SERVICE);\n    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,calendar.getTimeInMillis(),AlarmManager.INTERVAL_DAY,pendingIntent);\n</code></pre>\n"},{"tags":["java","selenium","driver"],"owner":{"account_id":20353965,"reputation":61,"user_id":14929936,"display_name":"ChinmoyJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657418332,"creation_date":1657418332,"question_id":72925696,"body_markdown":"&gt; July 10, 2022 11:43:52 AM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nThe code is below. It is not happening for driver.quit() but why?\r\n\r\n    public class ValidateTitleTest extends Base{\r\n\t\r\n\tWebDriverWait wait;\r\n\tJavascriptExecutor j;\r\n\tpublic static Logger log = LogManager.getLogger(Base.class.getName());\r\n\t\r\n\t@BeforeTest\r\n\tpublic void Initialize() throws Exception {\r\n\t\tdriver = InitializeDriver();\r\n\t\tlog.info(&quot;Driver is initilized&quot;);\r\n\t\tdriver.get(property.getProperty(&quot;url&quot;));\r\n\t\tlog.info(&quot;Navigated to HomePage&quot;);\r\n\t\twait=new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void ValidatePageTitle() throws Exception {\r\n\t\t//Accessing diff class method by creating object or inheritance i.e extends\r\n\t\tLandingPage l = new LandingPage(driver,wait);\t\r\n\t\twait.until(ExpectedConditions.visibilityOf(l.getTitle()));\r\n\t\tj = (JavascriptExecutor) driver;\r\n\t\tj.executeScript(&quot;window.stop();&quot;);\r\n\t\tAssert.assertTrue(l.getTitle().getText().equalsIgnoreCase(&quot;Featured Courses&quot;));\r\n\t\tlog.info(&quot;Successfully Validated Text&quot;);\r\n\t}\r\n\t\r\n\t@AfterTest\r\n\tpublic void TearDown() throws InterruptedException {\r\n\t\tdriver.close();\r\n\t\tlog.info(&quot;Browser Clossing&quot;);\r\n\t}\r\n\t\t\r\n\r\n}","title":"Getting java.net.SocketException: Connection reset while using driver.close()","body":"<blockquote>\n<p>July 10, 2022 11:43:52 AM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\nat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\nat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\nat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\nat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\nat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n<p>The code is below. It is not happening for driver.quit() but why?</p>\n<pre><code>public class ValidateTitleTest extends Base{\n\nWebDriverWait wait;\nJavascriptExecutor j;\npublic static Logger log = LogManager.getLogger(Base.class.getName());\n\n@BeforeTest\npublic void Initialize() throws Exception {\n    driver = InitializeDriver();\n    log.info(&quot;Driver is initilized&quot;);\n    driver.get(property.getProperty(&quot;url&quot;));\n    log.info(&quot;Navigated to HomePage&quot;);\n    wait=new WebDriverWait(driver, Duration.ofSeconds(10));\n}\n\n@Test\npublic void ValidatePageTitle() throws Exception {\n    //Accessing diff class method by creating object or inheritance i.e extends\n    LandingPage l = new LandingPage(driver,wait);   \n    wait.until(ExpectedConditions.visibilityOf(l.getTitle()));\n    j = (JavascriptExecutor) driver;\n    j.executeScript(&quot;window.stop();&quot;);\n    Assert.assertTrue(l.getTitle().getText().equalsIgnoreCase(&quot;Featured Courses&quot;));\n    log.info(&quot;Successfully Validated Text&quot;);\n}\n\n@AfterTest\npublic void TearDown() throws InterruptedException {\n    driver.close();\n    log.info(&quot;Browser Clossing&quot;);\n}\n    \n</code></pre>\n<p>}</p>\n"},{"tags":["java","byte-buddy"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1657521266,"post_id":72925694,"comment_id":128820525,"body_markdown":"Did you try to take s thread dump in such a case? It sounds like s deadlock.","body":"Did you try to take s thread dump in such a case? It sounds like s deadlock."},{"owner":{"account_id":3102769,"reputation":323,"user_id":2626457,"display_name":"Paulo Farah"},"score":0,"creation_date":1657545867,"post_id":72925694,"comment_id":128828941,"body_markdown":"Not yet, I&#39;ll check it out right now! Thanks for the suggestion...","body":"Not yet, I&#39;ll check it out right now! Thanks for the suggestion..."}],"owner":{"account_id":3102769,"reputation":323,"user_id":2626457,"display_name":"Paulo Farah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657418270,"creation_date":1657418270,"question_id":72925694,"body_markdown":"I&#39;m trying to collect execution time from all methods of an application called by their tests using Byte Buddy. However, sometimes, it takes much longer than expected. For example, when I run the test described below without the Byte Buddy agent, it takes a few milliseconds to run. When I start with the agent it runs without ending and I need to force stop. It occurs in several test cases from different projects. What could I be doing wrong and how can I fix it?\r\n\r\n\r\nAgent:\r\n```\r\nclass PerfrtProfilerAgent {\r\n\r\n\tpublic static void premain(String arguments, Instrumentation instrumentation) {\r\n\t    String[] agentArgs = arguments.trim().split(&quot;\\\\s*,\\\\s*&quot;);\r\n\t    final String packName = agentArgs[0];\r\n\r\n\t    new AgentBuilder.Default()\r\n\t    .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\r\n\t    .type((ElementMatchers.nameStartsWith(packName)))\r\n\t    .transform((builder, typeDescription, classLoader, module) -&gt; builder\r\n\t            .method(ElementMatchers.any())\r\n\t            .intercept(Advice.withCustomMapping().bind(AgentArguments.class, arguments).to(TimerAdvice.class))\r\n\t    ).installOn(instrumentation);\r\n\t}\r\n}\r\n```\r\n\r\nTimerAdvice.java\r\n```\r\npackage perfrt.profiler;\r\n\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nimport net.bytebuddy.asm.Advice;\r\n\r\n\t\r\npublic class TimerAdvice {   \r\n\t    \r\n\t@Advice.OnMethodEnter\r\n\tpublic static OnMethodEnterReturn enter(@Advice.Origin String method, @AgentArguments String agentArguments) {\r\n\t\tString[] agentArgs = agentArguments.trim().split(&quot;\\\\s*,\\\\s*&quot;);\r\n\t\t\r\n\t\tOnMethodEnterReturn onEnterValues = new OnMethodEnterReturn();\r\n\t\tonEnterValues.setPackageName(agentArgs[0]);\r\n\t\tonEnterValues.setCommitHash(agentArgs[1]);\r\n\t\tonEnterValues.setIdRun(Integer.parseInt(agentArgs[2]));\r\n\t\tonEnterValues.setStartTime(System.currentTimeMillis());\r\n\t\tString className = parseClassName(method);\r\n\t\tSystem.out.println(&quot;onEnter - Class: &quot; + className + &quot; method: &quot; + method);\r\n\t\tonEnterValues.setIdMethod(1);\r\n\t\treturn onEnterValues;\r\n\t}\r\n\t\r\n\t@Advice.OnMethodExit(onThrowable = Throwable.class)\r\n\tpublic static void exit(@Advice.Origin String method\r\n\t        , @Advice.Enter OnMethodEnterReturn onEnterValues \t\r\n\t){\r\n\t\tString packName = onEnterValues.getPackageName(); \r\n\t\tString className = parseClassName(method).replace(packName, &quot;&quot;) + &quot;.java&quot;;\r\n\t\tlong start = onEnterValues.getStartTime();\r\n\t\tlong end =  System.currentTimeMillis();\r\n\t\tlong duration = end - start; \r\n\t\tString returnedType = &quot;teste&quot;;\r\n\t\tSystem.out.println(&quot;onExit - Class: &quot; + className + &quot; method: &quot; + method + &quot; start: &quot; + start + &quot; end: &quot; + end + &quot; duration: &quot; + duration + &quot;retValue:&quot; );\r\n\t}\r\n\t\r\n\tpublic static String parseClassName(String method) {\r\n\t\tString className = null;\r\n\t\tPattern p = Pattern.compile(&quot;[^\\\\s]*\\\\(&quot;);\r\n\t\tMatcher m = p.matcher(method);\r\n\t\tif (m.find()) {\r\n\t\t    String methodName = (String)m.group(0).toString();\r\n\t\t    \r\n\t\t    String[] methodAux = methodName.split(&quot;\\\\.&quot;);\r\n\t\t    if(methodAux.length &gt; 0) {\r\n\t\t\t\tclassName = methodAux[0];\r\n\t\t\t\tfor(int i = 1; i &lt; methodAux.length-1; i++) {\r\n\t\t\t\t\tclassName += &quot;.&quot; + methodAux[i];\r\n\t\t\t\t}\r\n\t\t    }else {\r\n\t\t    \tclassName = methodName;\r\n\t\t    }\r\n\t\t}\r\n\t\tString last = className.substring(className.lastIndexOf(&#39;.&#39;) + 1);\r\n\t\tclassName = last + &quot;.java&quot;;\r\n\t\treturn className;\r\n\t}\r\n}\t\r\n```\r\n\r\nThe complete code of the agent is at [perfrt-profiler2][1].\r\n\r\nThe steps to reproduce one example of the situation are:\r\n\r\n 1. git clone https://github.com/apache/commons-bcel\r\n 2. cd commons-bcel\r\n 3. mvn -Drat.skip=true install (requires maven)\r\n 4. wget -O junit-platform-console-standalone-1.9.0-M1.jar https://search.maven.org/remotecontent?filepath=org/junit/platform/junit-platform-console-standalone/1.9.0-M1/junit-platform-console-standalone-1.9.0-M1.jar\r\n 5. wget https://github.com/paulorfarah/perfrt-profiler2/raw/master/perfrt-profiler2-0.0.1-SNAPSHOT.jar\r\n 6. java -javaagent:perfrt-profiler2-0.0.1-SNAPSHOT.jar=org.apache.bcel.,cbbed9ec41c70469cab42a584e205b96c0f964fc,483 -jar junit-platform-console-standalone-1.9.0-M1.jar -cp .:target/test-classes/:target/classes:/home/user/.m2/repository/org/junit/jupiter/junit-jupiter/5.8.2/junit-jupiter-5.8.2.jar:/home/user/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.2/junit-jupiter-api-5.8.2.jar:/home/user/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/home/user/.m2/repository/org/junit/platform/junit-platform-commons/1.8.2/junit-platform-commons-1.8.2.jar:/home/user/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/user/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.2/junit-jupiter-params-5.8.2.jar:/home/user/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.2/junit-jupiter-engine-5.8.2.jar:/home/user/.m2/repository/org/junit/platform/junit-platform-engine/1.8.2/junit-platform-engine-1.8.2.jar:/home/user/.m2/repository/net/java/dev/jna/jna/5.12.1/jna-5.12.1.jar:/home/user/.m2/repository/net/java/dev/jna/jna-platform/5.12.1/jna-platform-5.12.1.jar:/home/user/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/home/user/.m2/repository/javax/javaee-api/6.0/javaee-api-6.0.jar:/home/user/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar -m org.apache.bcel.HandleTestCase#testBranchHandle\r\n\r\nIn the last step, you need to replace &quot;/home/user/.m2&quot; for the correct maven cache folder of your computer.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/paulorfarah/perfrt-profiler2","title":"My Profiler using Byte Buddy agent does not stop monitoring some tests","body":"<p>I'm trying to collect execution time from all methods of an application called by their tests using Byte Buddy. However, sometimes, it takes much longer than expected. For example, when I run the test described below without the Byte Buddy agent, it takes a few milliseconds to run. When I start with the agent it runs without ending and I need to force stop. It occurs in several test cases from different projects. What could I be doing wrong and how can I fix it?</p>\n<p>Agent:</p>\n<pre><code>class PerfrtProfilerAgent {\n\n    public static void premain(String arguments, Instrumentation instrumentation) {\n        String[] agentArgs = arguments.trim().split(&quot;\\\\s*,\\\\s*&quot;);\n        final String packName = agentArgs[0];\n\n        new AgentBuilder.Default()\n        .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\n        .type((ElementMatchers.nameStartsWith(packName)))\n        .transform((builder, typeDescription, classLoader, module) -&gt; builder\n                .method(ElementMatchers.any())\n                .intercept(Advice.withCustomMapping().bind(AgentArguments.class, arguments).to(TimerAdvice.class))\n        ).installOn(instrumentation);\n    }\n}\n</code></pre>\n<p>TimerAdvice.java</p>\n<pre><code>package perfrt.profiler;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport net.bytebuddy.asm.Advice;\n\n    \npublic class TimerAdvice {   \n        \n    @Advice.OnMethodEnter\n    public static OnMethodEnterReturn enter(@Advice.Origin String method, @AgentArguments String agentArguments) {\n        String[] agentArgs = agentArguments.trim().split(&quot;\\\\s*,\\\\s*&quot;);\n        \n        OnMethodEnterReturn onEnterValues = new OnMethodEnterReturn();\n        onEnterValues.setPackageName(agentArgs[0]);\n        onEnterValues.setCommitHash(agentArgs[1]);\n        onEnterValues.setIdRun(Integer.parseInt(agentArgs[2]));\n        onEnterValues.setStartTime(System.currentTimeMillis());\n        String className = parseClassName(method);\n        System.out.println(&quot;onEnter - Class: &quot; + className + &quot; method: &quot; + method);\n        onEnterValues.setIdMethod(1);\n        return onEnterValues;\n    }\n    \n    @Advice.OnMethodExit(onThrowable = Throwable.class)\n    public static void exit(@Advice.Origin String method\n            , @Advice.Enter OnMethodEnterReturn onEnterValues   \n    ){\n        String packName = onEnterValues.getPackageName(); \n        String className = parseClassName(method).replace(packName, &quot;&quot;) + &quot;.java&quot;;\n        long start = onEnterValues.getStartTime();\n        long end =  System.currentTimeMillis();\n        long duration = end - start; \n        String returnedType = &quot;teste&quot;;\n        System.out.println(&quot;onExit - Class: &quot; + className + &quot; method: &quot; + method + &quot; start: &quot; + start + &quot; end: &quot; + end + &quot; duration: &quot; + duration + &quot;retValue:&quot; );\n    }\n    \n    public static String parseClassName(String method) {\n        String className = null;\n        Pattern p = Pattern.compile(&quot;[^\\\\s]*\\\\(&quot;);\n        Matcher m = p.matcher(method);\n        if (m.find()) {\n            String methodName = (String)m.group(0).toString();\n            \n            String[] methodAux = methodName.split(&quot;\\\\.&quot;);\n            if(methodAux.length &gt; 0) {\n                className = methodAux[0];\n                for(int i = 1; i &lt; methodAux.length-1; i++) {\n                    className += &quot;.&quot; + methodAux[i];\n                }\n            }else {\n                className = methodName;\n            }\n        }\n        String last = className.substring(className.lastIndexOf('.') + 1);\n        className = last + &quot;.java&quot;;\n        return className;\n    }\n}   \n</code></pre>\n<p>The complete code of the agent is at <a href=\"https://github.com/paulorfarah/perfrt-profiler2\" rel=\"nofollow noreferrer\">perfrt-profiler2</a>.</p>\n<p>The steps to reproduce one example of the situation are:</p>\n<ol>\n<li>git clone <a href=\"https://github.com/apache/commons-bcel\" rel=\"nofollow noreferrer\">https://github.com/apache/commons-bcel</a></li>\n<li>cd commons-bcel</li>\n<li>mvn -Drat.skip=true install (requires maven)</li>\n<li>wget -O junit-platform-console-standalone-1.9.0-M1.jar <a href=\"https://search.maven.org/remotecontent?filepath=org/junit/platform/junit-platform-console-standalone/1.9.0-M1/junit-platform-console-standalone-1.9.0-M1.jar\" rel=\"nofollow noreferrer\">https://search.maven.org/remotecontent?filepath=org/junit/platform/junit-platform-console-standalone/1.9.0-M1/junit-platform-console-standalone-1.9.0-M1.jar</a></li>\n<li>wget <a href=\"https://github.com/paulorfarah/perfrt-profiler2/raw/master/perfrt-profiler2-0.0.1-SNAPSHOT.jar\" rel=\"nofollow noreferrer\">https://github.com/paulorfarah/perfrt-profiler2/raw/master/perfrt-profiler2-0.0.1-SNAPSHOT.jar</a></li>\n<li>java -javaagent:perfrt-profiler2-0.0.1-SNAPSHOT.jar=org.apache.bcel.,cbbed9ec41c70469cab42a584e205b96c0f964fc,483 -jar junit-platform-console-standalone-1.9.0-M1.jar -cp .:target/test-classes/:target/classes:/home/user/.m2/repository/org/junit/jupiter/junit-jupiter/5.8.2/junit-jupiter-5.8.2.jar:/home/user/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.2/junit-jupiter-api-5.8.2.jar:/home/user/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/home/user/.m2/repository/org/junit/platform/junit-platform-commons/1.8.2/junit-platform-commons-1.8.2.jar:/home/user/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/user/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.2/junit-jupiter-params-5.8.2.jar:/home/user/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.2/junit-jupiter-engine-5.8.2.jar:/home/user/.m2/repository/org/junit/platform/junit-platform-engine/1.8.2/junit-platform-engine-1.8.2.jar:/home/user/.m2/repository/net/java/dev/jna/jna/5.12.1/jna-5.12.1.jar:/home/user/.m2/repository/net/java/dev/jna/jna-platform/5.12.1/jna-platform-5.12.1.jar:/home/user/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/home/user/.m2/repository/javax/javaee-api/6.0/javaee-api-6.0.jar:/home/user/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar -m org.apache.bcel.HandleTestCase#testBranchHandle</li>\n</ol>\n<p>In the last step, you need to replace &quot;/home/user/.m2&quot; for the correct maven cache folder of your computer.</p>\n"},{"tags":["java","list","sorting","nested-lists","comparator"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657413640,"creation_date":1657280686,"answer_id":72910898,"question_id":72910589,"body_markdown":"&lt;h1&gt;Use the Power of Objects&lt;/h1&gt;\r\n\r\nThe way you&#39;re representing your data is inconvenient and error-prone.\r\n\r\nIt clearly has to be an **object** having attributes of appropriate types, and not a list of strings. It&#39;s misuse of collections\r\n\r\nUsing `String` as a type for numbers, dates, etc. doesn&#39;t give you any advantage. There&#39;s nothing you can do with string without parsing apart from printing on the console. Proper data-types give you access to their unique behavior that `String` can&#39;t offer you.\r\n\r\nThe first property, let&#39;s call it `status` might be an *enum*. *Enum* - is a special kind of class, they are very handy when you need to represent a limited set of values, and they have a *natural order*, that is the same as the order of the *enum-constants* (the order in which they have been declared).\r\n\r\nAnd to represent date-time information we can use one of the Java 8 classes from `java.time` package. In the example below, I&#39;ll use `LocalDateTime` (class `Date` is legacy, avoid using it).\r\n\r\nThat how such a class might look like:\r\n\r\n```\r\npublic class Foo {\r\n    public enum Status {INITIAL, FINAL, DELETED, KEEP, EXCEPTION}\r\n    \r\n    private CountComponents.Foo.Status status;\r\n    private int value1;\r\n    private String value2;\r\n    private LocalDateTime dateTime;\r\n    \r\n    // constructor, getters, etc.\r\n}\r\n```\r\n&lt;h3&gt;Building Comparators with Java 8&lt;/h3&gt;\r\n\r\nIn order to sort a list of `Foo` objects, we need to define a comparator.\r\n\r\nFor that, we can use static methods that were introduced in the `Comparator` interface with Java 8. We can chain these methods in a fluent way because each of them gives a comparator.\r\n\r\n```\r\nComparator&lt;Foo&gt; byStatusByDate =\r\n    Comparator.comparing(Foo::getStatus)\r\n        .thenComparing(Foo::getDateTime);\r\n```\r\n**Note:** we need to define the sorting logic in a *single comparator*. Don&#39;t sort the data twice like you&#39;ve done in your code, it causes unnecessary performance overhead.\r\n\r\nTo learn how to build comparators using Java-8 methods, have a look at [*this tutorial*](https://www.baeldung.com/java-8-comparator-comparing).\r\n\r\nAnd to sort a list of `Foo` objects, we can use method `List.sort()` which was introduced in Java 9 as a more fluent alternative to `Collections.sort()`:\r\n\r\n```\r\nList&lt;Foo&gt; foos = // initializing the list\r\n    \r\nfoos.sort(byStatusByDate);\r\n```\r\n\r\n&lt;h1&gt;Parsing the data&lt;/h1&gt;\r\n\r\nIf data comes to you as a collection of strings, then you need to parse it.\r\n\r\nFor that we need to enhance `Foo` and its nested *enum* (the full code provided in the link below).\r\n\r\n    public static class Foo {\r\n        public enum Status {\r\n            INITIAL, FINAL, DELETED, KEEP, EXCEPTION;\r\n            \r\n            public static Status parse(String str) {\r\n                return Arrays.stream(values())\r\n                    .filter(cons -&gt; cons.name().equalsIgnoreCase(str))\r\n                    .findFirst()\r\n                    .orElseThrow();\r\n            }\r\n        }\r\n        \r\n        private Status status;\r\n        private int value1;\r\n        private String value2;\r\n        private LocalDateTime dateTime;\r\n        \r\n        public static Foo parse(List&lt;String&gt; strings, DateTimeFormatter formatter) {\r\n            return new Foo(Status.parse(strings.get(0)),\r\n                Integer.parseInt(strings.get(1)),\r\n                strings.get(2),\r\n                LocalDateTime.parse(strings.get(3), formatter));\r\n        }\r\n        \r\n        // constructor, getters, etc.\r\n    }\r\n\r\n**Note:** `SimpleDateFormat` class is legacy, the modern alternative is [`DateTimeFormatter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#method-summary).\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;String&gt;&gt; strings = List.of(\r\n            List.of(&quot;Final&quot;, &quot;331&quot;, &quot;M&quot;, &quot;22/03/2020 00:00:00&quot;),\r\n            List.of(&quot;Initial&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 00:00:00&quot;),\r\n            List.of(&quot;Exception&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/05/2022 00:00:00&quot;),\r\n            List.of(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;20/06/2022 00:00:00&quot;),\r\n            List.of(&quot;Keep&quot;, &quot;335&quot;, &quot;M&quot;, &quot;02/06/2022 11:00:00&quot;),\r\n            List.of(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;10/04/2022 02:00:00&quot;),\r\n            List.of(&quot;Deleted&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:55:10&quot;),\r\n            List.of(&quot;Exception&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:55:09&quot;),\r\n            List.of(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:56:00&quot;),\r\n            List.of(&quot;Initial&quot;, &quot;335&quot;, &quot;M&quot;, &quot;11/06/2022 00:00:00&quot;)\r\n        );\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n        \r\n        Comparator&lt;Foo&gt; byStatusByDate =\r\n            Comparator.comparing(Foo::getStatus)\r\n                .thenComparing(Foo::getDateTime);\r\n        \r\n        List&lt;Foo&gt; foos = strings.stream()           // Stream&lt;List&lt;String&gt;&gt;\r\n            .map(list -&gt; Foo.parse(list,formatter)) // Stream&lt;Foo&gt;\r\n            .sorted(byStatusByDate)\r\n            .collect(Collectors.toList());          // or .toList() for Java 16 +\r\n        \r\n        foos.forEach(System.out::println); // printing the result\r\n    }\r\n\r\n*Output:*\r\n```\r\nFoo{status=INITIAL, value1=335, value2=&#39;M&#39;, dateTime=2022-06-11T00:00}\r\nFoo{status=INITIAL, value1=335, value2=&#39;M&#39;, dateTime=2022-06-22T00:00}\r\nFoo{status=FINAL, value1=331, value2=&#39;M&#39;, dateTime=2020-03-22T00:00}\r\nFoo{status=FINAL, value1=335, value2=&#39;M&#39;, dateTime=2022-04-10T02:00}\r\nFoo{status=FINAL, value1=335, value2=&#39;M&#39;, dateTime=2022-06-20T00:00}\r\nFoo{status=FINAL, value1=335, value2=&#39;M&#39;, dateTime=2022-06-22T15:56}\r\nFoo{status=DELETED, value1=335, value2=&#39;M&#39;, dateTime=2022-06-22T15:55:10}\r\nFoo{status=KEEP, value1=335, value2=&#39;M&#39;, dateTime=2022-06-02T11:00}\r\nFoo{status=EXCEPTION, value1=335, value2=&#39;M&#39;, dateTime=2022-05-22T00:00}\r\nFoo{status=EXCEPTION, value1=335, value2=&#39;M&#39;, dateTime=2022-06-22T15:55:09}\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/t3i)","title":"Sort a nested List on two elements","body":"<h1>Use the Power of Objects</h1>\n<p>The way you're representing your data is inconvenient and error-prone.</p>\n<p>It clearly has to be an <strong>object</strong> having attributes of appropriate types, and not a list of strings. It's misuse of collections</p>\n<p>Using <code>String</code> as a type for numbers, dates, etc. doesn't give you any advantage. There's nothing you can do with string without parsing apart from printing on the console. Proper data-types give you access to their unique behavior that <code>String</code> can't offer you.</p>\n<p>The first property, let's call it <code>status</code> might be an <em>enum</em>. <em>Enum</em> - is a special kind of class, they are very handy when you need to represent a limited set of values, and they have a <em>natural order</em>, that is the same as the order of the <em>enum-constants</em> (the order in which they have been declared).</p>\n<p>And to represent date-time information we can use one of the Java 8 classes from <code>java.time</code> package. In the example below, I'll use <code>LocalDateTime</code> (class <code>Date</code> is legacy, avoid using it).</p>\n<p>That how such a class might look like:</p>\n<pre><code>public class Foo {\n    public enum Status {INITIAL, FINAL, DELETED, KEEP, EXCEPTION}\n    \n    private CountComponents.Foo.Status status;\n    private int value1;\n    private String value2;\n    private LocalDateTime dateTime;\n    \n    // constructor, getters, etc.\n}\n</code></pre>\n<h3>Building Comparators with Java 8</h3>\n<p>In order to sort a list of <code>Foo</code> objects, we need to define a comparator.</p>\n<p>For that, we can use static methods that were introduced in the <code>Comparator</code> interface with Java 8. We can chain these methods in a fluent way because each of them gives a comparator.</p>\n<pre><code>Comparator&lt;Foo&gt; byStatusByDate =\n    Comparator.comparing(Foo::getStatus)\n        .thenComparing(Foo::getDateTime);\n</code></pre>\n<p><strong>Note:</strong> we need to define the sorting logic in a <em>single comparator</em>. Don't sort the data twice like you've done in your code, it causes unnecessary performance overhead.</p>\n<p>To learn how to build comparators using Java-8 methods, have a look at <a href=\"https://www.baeldung.com/java-8-comparator-comparing\" rel=\"nofollow noreferrer\"><em>this tutorial</em></a>.</p>\n<p>And to sort a list of <code>Foo</code> objects, we can use method <code>List.sort()</code> which was introduced in Java 9 as a more fluent alternative to <code>Collections.sort()</code>:</p>\n<pre><code>List&lt;Foo&gt; foos = // initializing the list\n    \nfoos.sort(byStatusByDate);\n</code></pre>\n<h1>Parsing the data</h1>\n<p>If data comes to you as a collection of strings, then you need to parse it.</p>\n<p>For that we need to enhance <code>Foo</code> and its nested <em>enum</em> (the full code provided in the link below).</p>\n<pre><code>public static class Foo {\n    public enum Status {\n        INITIAL, FINAL, DELETED, KEEP, EXCEPTION;\n        \n        public static Status parse(String str) {\n            return Arrays.stream(values())\n                .filter(cons -&gt; cons.name().equalsIgnoreCase(str))\n                .findFirst()\n                .orElseThrow();\n        }\n    }\n    \n    private Status status;\n    private int value1;\n    private String value2;\n    private LocalDateTime dateTime;\n    \n    public static Foo parse(List&lt;String&gt; strings, DateTimeFormatter formatter) {\n        return new Foo(Status.parse(strings.get(0)),\n            Integer.parseInt(strings.get(1)),\n            strings.get(2),\n            LocalDateTime.parse(strings.get(3), formatter));\n    }\n    \n    // constructor, getters, etc.\n}\n</code></pre>\n<p><strong>Note:</strong> <code>SimpleDateFormat</code> class is legacy, the modern alternative is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#method-summary\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;List&lt;String&gt;&gt; strings = List.of(\n        List.of(&quot;Final&quot;, &quot;331&quot;, &quot;M&quot;, &quot;22/03/2020 00:00:00&quot;),\n        List.of(&quot;Initial&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 00:00:00&quot;),\n        List.of(&quot;Exception&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/05/2022 00:00:00&quot;),\n        List.of(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;20/06/2022 00:00:00&quot;),\n        List.of(&quot;Keep&quot;, &quot;335&quot;, &quot;M&quot;, &quot;02/06/2022 11:00:00&quot;),\n        List.of(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;10/04/2022 02:00:00&quot;),\n        List.of(&quot;Deleted&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:55:10&quot;),\n        List.of(&quot;Exception&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:55:09&quot;),\n        List.of(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:56:00&quot;),\n        List.of(&quot;Initial&quot;, &quot;335&quot;, &quot;M&quot;, &quot;11/06/2022 00:00:00&quot;)\n    );\n\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;);\n    \n    Comparator&lt;Foo&gt; byStatusByDate =\n        Comparator.comparing(Foo::getStatus)\n            .thenComparing(Foo::getDateTime);\n    \n    List&lt;Foo&gt; foos = strings.stream()           // Stream&lt;List&lt;String&gt;&gt;\n        .map(list -&gt; Foo.parse(list,formatter)) // Stream&lt;Foo&gt;\n        .sorted(byStatusByDate)\n        .collect(Collectors.toList());          // or .toList() for Java 16 +\n    \n    foos.forEach(System.out::println); // printing the result\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Foo{status=INITIAL, value1=335, value2='M', dateTime=2022-06-11T00:00}\nFoo{status=INITIAL, value1=335, value2='M', dateTime=2022-06-22T00:00}\nFoo{status=FINAL, value1=331, value2='M', dateTime=2020-03-22T00:00}\nFoo{status=FINAL, value1=335, value2='M', dateTime=2022-04-10T02:00}\nFoo{status=FINAL, value1=335, value2='M', dateTime=2022-06-20T00:00}\nFoo{status=FINAL, value1=335, value2='M', dateTime=2022-06-22T15:56}\nFoo{status=DELETED, value1=335, value2='M', dateTime=2022-06-22T15:55:10}\nFoo{status=KEEP, value1=335, value2='M', dateTime=2022-06-02T11:00}\nFoo{status=EXCEPTION, value1=335, value2='M', dateTime=2022-05-22T00:00}\nFoo{status=EXCEPTION, value1=335, value2='M', dateTime=2022-06-22T15:55:09}\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/t3i\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657281758,"creation_date":1657281758,"answer_id":72911097,"question_id":72910589,"body_markdown":"Try this.\r\n\r\n\tstatic final List&lt;String&gt; definedOrder = List.of(\r\n\t\t&quot;Initial&quot;,&quot;Final&quot;,&quot;Deleted&quot;,&quot;Keep&quot;,&quot;Exception&quot;);\r\n\tstatic final SimpleDateFormat simpleDateFormat = new SimpleDateFormat();\r\n    record Rec(int key0, Date key1, List&lt;String&gt; row) {}\r\n\r\n\tstatic Date parseDate(String input) {\r\n\t\ttry {\r\n\t\t\treturn simpleDateFormat.parse(input);\r\n\t\t} catch (ParseException e) { throw new RuntimeException(e); }\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;List&lt;String&gt;&gt; outputToStore = Arrays.asList(\r\n            Arrays.asList(&quot;Final&quot;, &quot;331&quot;, &quot;M&quot;, &quot;22/03/2020 00:00:00&quot;), \r\n            Arrays.asList(&quot;Initial&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 00:00:00&quot;), \r\n            Arrays.asList(&quot;Exception&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/05/2022 00:00:00&quot;), \r\n            Arrays.asList(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;20/06/2022 00:00:00&quot;), \r\n            Arrays.asList(&quot;Keep&quot;, &quot;335&quot;, &quot;M&quot;, &quot;02/06/2022 11:00:00&quot;), \r\n            Arrays.asList(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;10/04/2022 02:00:00&quot;), \r\n            Arrays.asList(&quot;Deleted&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:55:10&quot;),\r\n            Arrays.asList(&quot;Exception&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:55:09&quot;), \r\n            Arrays.asList(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:56:00&quot;), \r\n            Arrays.asList(&quot;Initial&quot;, &quot;335&quot;, &quot;M&quot;, &quot;11/06/2022 00:00:00&quot;)\r\n        );\r\n\r\n\t\tList&lt;List&lt;String&gt;&gt; sorted = outputToStore.stream()\r\n\t\t\t.map(e -&gt; new Rec(definedOrder.indexOf(e.get(0)), parseDate(e.get(3)), e))\r\n\t\t\t.sorted(Comparator.comparingInt(Rec::key0).thenComparing(Rec::key1))\r\n\t\t\t.map(Rec::row)\r\n\t\t\t.toList();\r\n\r\n\t\tfor (List&lt;String&gt; row : sorted)\r\n\t\t\tSystem.out.println(row);\r\n\t}\r\n\r\noutput:\r\n\r\n    [Initial, 335, M, 11/06/2022 00:00:00]\r\n    [Initial, 335, M, 22/06/2022 00:00:00]\r\n    [Final, 335, M, 10/04/2022 02:00:00]\r\n    [Final, 335, M, 20/06/2022 00:00:00]\r\n    [Final, 331, M, 22/03/2020 00:00:00]\r\n    [Final, 335, M, 22/06/2022 15:56:00]\r\n    [Deleted, 335, M, 22/06/2022 15:55:10]\r\n    [Keep, 335, M, 02/06/2022 11:00:00]\r\n    [Exception, 335, M, 22/05/2022 00:00:00]\r\n    [Exception, 335, M, 22/06/2022 15:55:09]\r\n\r\n","title":"Sort a nested List on two elements","body":"<p>Try this.</p>\n<pre><code>static final List&lt;String&gt; definedOrder = List.of(\n    &quot;Initial&quot;,&quot;Final&quot;,&quot;Deleted&quot;,&quot;Keep&quot;,&quot;Exception&quot;);\nstatic final SimpleDateFormat simpleDateFormat = new SimpleDateFormat();\nrecord Rec(int key0, Date key1, List&lt;String&gt; row) {}\n\nstatic Date parseDate(String input) {\n    try {\n        return simpleDateFormat.parse(input);\n    } catch (ParseException e) { throw new RuntimeException(e); }\n}\n\npublic static void main(String[] args) {\n    List&lt;List&lt;String&gt;&gt; outputToStore = Arrays.asList(\n        Arrays.asList(&quot;Final&quot;, &quot;331&quot;, &quot;M&quot;, &quot;22/03/2020 00:00:00&quot;), \n        Arrays.asList(&quot;Initial&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 00:00:00&quot;), \n        Arrays.asList(&quot;Exception&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/05/2022 00:00:00&quot;), \n        Arrays.asList(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;20/06/2022 00:00:00&quot;), \n        Arrays.asList(&quot;Keep&quot;, &quot;335&quot;, &quot;M&quot;, &quot;02/06/2022 11:00:00&quot;), \n        Arrays.asList(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;10/04/2022 02:00:00&quot;), \n        Arrays.asList(&quot;Deleted&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:55:10&quot;),\n        Arrays.asList(&quot;Exception&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:55:09&quot;), \n        Arrays.asList(&quot;Final&quot;, &quot;335&quot;, &quot;M&quot;, &quot;22/06/2022 15:56:00&quot;), \n        Arrays.asList(&quot;Initial&quot;, &quot;335&quot;, &quot;M&quot;, &quot;11/06/2022 00:00:00&quot;)\n    );\n\n    List&lt;List&lt;String&gt;&gt; sorted = outputToStore.stream()\n        .map(e -&gt; new Rec(definedOrder.indexOf(e.get(0)), parseDate(e.get(3)), e))\n        .sorted(Comparator.comparingInt(Rec::key0).thenComparing(Rec::key1))\n        .map(Rec::row)\n        .toList();\n\n    for (List&lt;String&gt; row : sorted)\n        System.out.println(row);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[Initial, 335, M, 11/06/2022 00:00:00]\n[Initial, 335, M, 22/06/2022 00:00:00]\n[Final, 335, M, 10/04/2022 02:00:00]\n[Final, 335, M, 20/06/2022 00:00:00]\n[Final, 331, M, 22/03/2020 00:00:00]\n[Final, 335, M, 22/06/2022 15:56:00]\n[Deleted, 335, M, 22/06/2022 15:55:10]\n[Keep, 335, M, 02/06/2022 11:00:00]\n[Exception, 335, M, 22/05/2022 00:00:00]\n[Exception, 335, M, 22/06/2022 15:55:09]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657287947,"creation_date":1657287947,"answer_id":72912376,"question_id":72910589,"body_markdown":"A map might be better to use for the predefined order and use `LocalDateTime` to compare by date. But else your were on the right track; you could just chain `thenComparing` to your Comparator :\r\n\r\n    Map&lt;String,Integer&gt; definedOrder = Map.of(\r\n            &quot;Initial&quot;, 1, &quot;Final&quot;, 2, &quot;Deleted&quot;, 3, &quot;Keep&quot;, 4, &quot;Exception&quot;, 5);\r\n\r\n    final DateTimeFormatter df = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n\r\n    outputToStore.sort(Comparator.comparing((List&lt;String&gt; list) -&gt; definedOrder.get(list.get(0)))\r\n            .thenComparing(Comparator.comparing(list -&gt; LocalDateTime.parse(list.get(3), df)))\r\n    );","title":"Sort a nested List on two elements","body":"<p>A map might be better to use for the predefined order and use <code>LocalDateTime</code> to compare by date. But else your were on the right track; you could just chain <code>thenComparing</code> to your Comparator :</p>\n<pre><code>Map&lt;String,Integer&gt; definedOrder = Map.of(\n        &quot;Initial&quot;, 1, &quot;Final&quot;, 2, &quot;Deleted&quot;, 3, &quot;Keep&quot;, 4, &quot;Exception&quot;, 5);\n\nfinal DateTimeFormatter df = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;);\n\noutputToStore.sort(Comparator.comparing((List&lt;String&gt; list) -&gt; definedOrder.get(list.get(0)))\n        .thenComparing(Comparator.comparing(list -&gt; LocalDateTime.parse(list.get(3), df)))\n);\n</code></pre>\n"}],"owner":{"account_id":6931587,"reputation":47,"user_id":5320924,"accept_rate":29,"display_name":"sandhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72910898,"answer_count":3,"score":1,"last_activity_date":1657413640,"creation_date":1657278959,"question_id":72910589,"body_markdown":"I have a *nested list*, named `outputToStore` whose contents are given below:\r\n```\r\n[[Final, 331, M, 22/03/2020 00:00:00], \r\n [Initial, 335, M, 22/06/2022 00:00:00], \r\n [Exception, 335, M, 22/05/2022 00:00:00], \r\n [Final, 335, M, 20/06/2022 00:00:00], \r\n [Keep, 335, M, 02/06/2022 11:00:00], \r\n [Final, 335, M, 10/04/2022 02:00:00], \r\n [Deleted, 335, M, 22/06/2022 15:55:10],\r\n [Exception, 335, M, 22/06/2022 15:55:09], \r\n [Final, 335, M, 22/06/2022 15:56:00], \r\n [Initial, 335, M, 11/06/2022 00:00:00]]\r\n```\r\n\r\nI need to sort this based on 2 conditions: The first is a custom order: *&quot;Initial&quot;,&quot;Final&quot;,&quot;Deleted&quot;,&quot;Keep&quot;,&quot;Exception&quot;* and then based on *datetime*.\r\n\r\nI am able to do it, but not sure that this is the best way to do it.\r\n\r\n*My code:*\r\n```\r\nList&lt;String&gt; definedOrder = Arrays.asList(&quot;Initial&quot;,&quot;Final&quot;,&quot;Deleted&quot;,&quot;Keep&quot;,&quot;Exception&quot;);\r\nCollections.sort(outputToStore, Comparator.comparing(o -&gt; Integer.valueOf(definedOrder.indexOf(o.get(0)))));\r\nCollections.sort(outputToStore,( o1, o2)-&gt; {\r\n    // let your comparator look up your car&#39;s color in the custom order\r\n    try {\r\n        if(Integer.valueOf(definedOrder.indexOf(o1.get(0))).compareTo(Integer.valueOf(definedOrder.indexOf(o2.get(0))))==0){\r\n            Date date1=simpleDateFormat.parse(o1.get(3));\r\n            Date date2=simpleDateFormat.parse(o2.get(3));\r\n            return date1.compareTo(date2);\r\n        }\r\n    } catch (ParseException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return 0;\r\n});\r\n```\r\n\r\nI&#39;m getting the desired result:\r\n```\r\n[[Initial, 335, M, 11/06/2022 00:00:00],\r\n [Initial, 335, M, 22/06/2022 00:00:00],\r\n [Final, 331, M, 22/03/2020 00:00:00],\r\n [Final, 335, M, 10/04/2022 02:00:00],\r\n [Final, 335, M, 20/06/2022 00:00:00],\r\n [Final, 335, M, 22/06/2022 15:56:00],\r\n [Deleted, 335, M, 22/06/2022 15:55:10],\r\n [Keep, 335, M, 02/06/2022 11:00:00],\r\n [Exception, 335, M, 22/05/2022 00:00:00],\r\n [Exception, 335, M, 22/06/2022 15:55:09]]\r\n```\r\nBut is there any better or concise way to do it?","title":"Sort a nested List on two elements","body":"<p>I have a <em>nested list</em>, named <code>outputToStore</code> whose contents are given below:</p>\n<pre><code>[[Final, 331, M, 22/03/2020 00:00:00], \n [Initial, 335, M, 22/06/2022 00:00:00], \n [Exception, 335, M, 22/05/2022 00:00:00], \n [Final, 335, M, 20/06/2022 00:00:00], \n [Keep, 335, M, 02/06/2022 11:00:00], \n [Final, 335, M, 10/04/2022 02:00:00], \n [Deleted, 335, M, 22/06/2022 15:55:10],\n [Exception, 335, M, 22/06/2022 15:55:09], \n [Final, 335, M, 22/06/2022 15:56:00], \n [Initial, 335, M, 11/06/2022 00:00:00]]\n</code></pre>\n<p>I need to sort this based on 2 conditions: The first is a custom order: <em>&quot;Initial&quot;,&quot;Final&quot;,&quot;Deleted&quot;,&quot;Keep&quot;,&quot;Exception&quot;</em> and then based on <em>datetime</em>.</p>\n<p>I am able to do it, but not sure that this is the best way to do it.</p>\n<p><em>My code:</em></p>\n<pre><code>List&lt;String&gt; definedOrder = Arrays.asList(&quot;Initial&quot;,&quot;Final&quot;,&quot;Deleted&quot;,&quot;Keep&quot;,&quot;Exception&quot;);\nCollections.sort(outputToStore, Comparator.comparing(o -&gt; Integer.valueOf(definedOrder.indexOf(o.get(0)))));\nCollections.sort(outputToStore,( o1, o2)-&gt; {\n    // let your comparator look up your car's color in the custom order\n    try {\n        if(Integer.valueOf(definedOrder.indexOf(o1.get(0))).compareTo(Integer.valueOf(definedOrder.indexOf(o2.get(0))))==0){\n            Date date1=simpleDateFormat.parse(o1.get(3));\n            Date date2=simpleDateFormat.parse(o2.get(3));\n            return date1.compareTo(date2);\n        }\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n    return 0;\n});\n</code></pre>\n<p>I'm getting the desired result:</p>\n<pre><code>[[Initial, 335, M, 11/06/2022 00:00:00],\n [Initial, 335, M, 22/06/2022 00:00:00],\n [Final, 331, M, 22/03/2020 00:00:00],\n [Final, 335, M, 10/04/2022 02:00:00],\n [Final, 335, M, 20/06/2022 00:00:00],\n [Final, 335, M, 22/06/2022 15:56:00],\n [Deleted, 335, M, 22/06/2022 15:55:10],\n [Keep, 335, M, 02/06/2022 11:00:00],\n [Exception, 335, M, 22/05/2022 00:00:00],\n [Exception, 335, M, 22/06/2022 15:55:09]]\n</code></pre>\n<p>But is there any better or concise way to do it?</p>\n"},{"tags":["java","arraylist","apache-storm"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1657429061,"post_id":72925484,"comment_id":128805627,"body_markdown":"would you be able to check in a reproducible example on github to have a look. What version of storm do you use ?","body":"would you be able to check in a reproducible example on github to have a look. What version of storm do you use ?"},{"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"score":0,"creation_date":1657500651,"post_id":72925484,"comment_id":128817536,"body_markdown":"Ramachandran.A.G.: I uploaded the code to https://bitbucket.org/jimmymuth/counthashtags/src/master/. Note that I&#39;ve commented out the other parts of the topology until I can get through this issue.","body":"Ramachandran.A.G.: I uploaded the code to <a href=\"https://bitbucket.org/jimmymuth/counthashtags/src/master/\" rel=\"nofollow noreferrer\">bitbucket.org/jimmymuth/counthashtags/src/master</a>. Note that I&#39;ve commented out the other parts of the topology until I can get through this issue."}],"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657413469,"creation_date":1657413469,"question_id":72925484,"body_markdown":"In a previous question, How to pass a String array from one bolt to another (https://stackoverflow.com/questions/32881218/storm-how-to-pass-string-array-from-one-bolt-to-another), a specific answer is given and I&#39;ve copied that code w/o success for a String ArrayList, while it works for an Integer ArrayList. In the Spout, I have these declarations (each of the following pairs are used on separate runs where I comment out one or the other):\r\n\r\n    ArrayList&lt;String&gt; stringbuckets = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Integer&gt; integerbuckets = new ArrayList&lt;&gt;();\r\n\r\nAt the end of the spout, before I emit the ArrayList, I print out the values of stringbuckets and integerbuckets and get the following\r\n\r\nstringbuckets [Airdrop, BabyDogeArmy, BEOMGYU, CorbynWasRight, MOVEZ, TOMORROW_X_TOGETHER]\r\n\r\nintegerbuckets [1, 2, 3]\r\n\r\nMy emit statements are (one of these is commented out so only one is active at a time):\r\n\r\n    this.collector.emit(new Values(stringbuckets));\r\n    this.collector.emit(new Values(integerbuckets));\r\n\r\nIn the bolt, I print out the value of the tuple that is passed in, and what I see is the Integer ArrayList has a non-zero value in the [] section, but it is an empty list for the String ArrayList (see bold section).\r\n\r\ntuple when a String ArrayList is emitted\r\n\r\ntuple source: twitterSpout:3, stream: default, id: {}, **[[]]** PROC_START_TIME(sampled): null EXEC_START_TIME(sampled): null\r\n\r\ntuple when an Integer ArrayList is emitted\r\n\r\ntuple source: twitterSpout:3, stream: default, id: {}, **[[1, 2, 3]]** PROC_START_TIME(sampled): null EXEC_START_TIME(sampled): null \r\n\r\nAny help in understanding why the String ArrayList is not emitted would be great!","title":"How to pass a String array from a Spout to a Bolt?","body":"<p>In a previous question, How to pass a String array from one bolt to another (<a href=\"https://stackoverflow.com/questions/32881218/storm-how-to-pass-string-array-from-one-bolt-to-another\">Storm : How to pass String Array from one bolt to another?</a>), a specific answer is given and I've copied that code w/o success for a String ArrayList, while it works for an Integer ArrayList. In the Spout, I have these declarations (each of the following pairs are used on separate runs where I comment out one or the other):</p>\n<pre><code>ArrayList&lt;String&gt; stringbuckets = new ArrayList&lt;&gt;();\nArrayList&lt;Integer&gt; integerbuckets = new ArrayList&lt;&gt;();\n</code></pre>\n<p>At the end of the spout, before I emit the ArrayList, I print out the values of stringbuckets and integerbuckets and get the following</p>\n<p>stringbuckets [Airdrop, BabyDogeArmy, BEOMGYU, CorbynWasRight, MOVEZ, TOMORROW_X_TOGETHER]</p>\n<p>integerbuckets [1, 2, 3]</p>\n<p>My emit statements are (one of these is commented out so only one is active at a time):</p>\n<pre><code>this.collector.emit(new Values(stringbuckets));\nthis.collector.emit(new Values(integerbuckets));\n</code></pre>\n<p>In the bolt, I print out the value of the tuple that is passed in, and what I see is the Integer ArrayList has a non-zero value in the [] section, but it is an empty list for the String ArrayList (see bold section).</p>\n<p>tuple when a String ArrayList is emitted</p>\n<p>tuple source: twitterSpout:3, stream: default, id: {}, <strong>[[]]</strong> PROC_START_TIME(sampled): null EXEC_START_TIME(sampled): null</p>\n<p>tuple when an Integer ArrayList is emitted</p>\n<p>tuple source: twitterSpout:3, stream: default, id: {}, <strong>[[1, 2, 3]]</strong> PROC_START_TIME(sampled): null EXEC_START_TIME(sampled): null</p>\n<p>Any help in understanding why the String ArrayList is not emitted would be great!</p>\n"},{"tags":["java","computer-science"],"answers":[{"tags":[],"owner":{"account_id":21395814,"reputation":76,"user_id":15758896,"display_name":"troy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624414083,"creation_date":1624414083,"answer_id":68092681,"question_id":68092625,"body_markdown":"You can try to break them down individually and try to incorporate an approach like this or use these ideas for your project:\r\n\r\n   \r\n\r\n   \r\n\r\n     import java.util.Scanner;\r\n    public class Array {\r\n        public static void main(String[] args){\r\n    \r\n            Array asteriskGenerator = new Array();\r\n    \r\n            int nb[]=new int[5];\r\n            Scanner input = new Scanner (System.in);\r\n            for(int i=0;i&lt;5;i++)\r\n            {\r\n                System.out.print(&quot;Please, Enter a number between 1 - 30 &quot;);\r\n                nb[i]=input.nextInt();\r\n            }\r\n            input.close();\r\n    \r\n    \r\n            asteriskGenerator.asteriskGenerator(nb);\r\n        }\r\n        void asteriskGenerator(int nb[])\r\n        {\r\n            for(int i = 0; i &lt;  nb.length; i++)\r\n            {\r\n                for(int j=1;j&lt;=nb[i];j++)\r\n                {\r\n                    System.out.print(&quot;*&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nI hope this helps in what you are trying to accomplish!\r\n","title":"Java Bar Chart Printing Program","body":"<p>You can try to break them down individually and try to incorporate an approach like this or use these ideas for your project:</p>\n<pre><code> import java.util.Scanner;\npublic class Array {\n    public static void main(String[] args){\n\n        Array asteriskGenerator = new Array();\n\n        int nb[]=new int[5];\n        Scanner input = new Scanner (System.in);\n        for(int i=0;i&lt;5;i++)\n        {\n            System.out.print(&quot;Please, Enter a number between 1 - 30 &quot;);\n            nb[i]=input.nextInt();\n        }\n        input.close();\n\n\n        asteriskGenerator.asteriskGenerator(nb);\n    }\n    void asteriskGenerator(int nb[])\n    {\n        for(int i = 0; i &lt;  nb.length; i++)\n        {\n            for(int j=1;j&lt;=nb[i];j++)\n            {\n                System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n    }\n\n}\n</code></pre>\n<p>I hope this helps in what you are trying to accomplish!</p>\n"},{"tags":[],"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657413457,"creation_date":1657413457,"answer_id":72925482,"question_id":68092625,"body_markdown":"You need to read in five integers, and then when you are done, do something with them. This means you need some way to store all five integers.\r\n\r\nThe obvious solution is to store them in an array.\r\n\r\n```\r\npublic class Q034_trial \r\n{\r\n    public static void main (String[] args) \r\n    {          \r\n        Scanner input = new Scanner (System.in);\r\n        int[] nums = new int[5];\r\n    \r\n        for (int i = 0; i &lt; 5; i++)\r\n        { \r\n            System.out.printf(&quot;Enter a number: &quot;);\r\n            int num = input.nextInt();\r\n            nums[i] = num;\r\n        }\r\n    }            \r\n}\r\n```\r\n\r\nHaving done that you merely need to iterate over each number in the array to print the correct number of asterisks.\r\n\r\n```\r\npublic class Q034_trial \r\n{\r\n    public static void main (String[] args) \r\n    {          \r\n        Scanner input = new Scanner (System.in);\r\n        int[] nums = new int[5];\r\n    \r\n        for (int i = 0; i &lt; 5; i++)\r\n        { \r\n            System.out.printf(&quot;Enter a number: &quot;);\r\n            int num = input.nextInt();\r\n            nums[i] = num;\r\n        }\r\n\r\n        for (int i = 0; i &lt; 5; i++)\r\n        {\r\n            for (int j = 0; j &lt; nums[i]; j++) \r\n                System.out.printf(&quot;*&quot;);\r\n\r\n            System.out.println();\r\n        }\r\n    }            \r\n}\r\n```","title":"Java Bar Chart Printing Program","body":"<p>You need to read in five integers, and then when you are done, do something with them. This means you need some way to store all five integers.</p>\n<p>The obvious solution is to store them in an array.</p>\n<pre><code>public class Q034_trial \n{\n    public static void main (String[] args) \n    {          \n        Scanner input = new Scanner (System.in);\n        int[] nums = new int[5];\n    \n        for (int i = 0; i &lt; 5; i++)\n        { \n            System.out.printf(&quot;Enter a number: &quot;);\n            int num = input.nextInt();\n            nums[i] = num;\n        }\n    }            \n}\n</code></pre>\n<p>Having done that you merely need to iterate over each number in the array to print the correct number of asterisks.</p>\n<pre><code>public class Q034_trial \n{\n    public static void main (String[] args) \n    {          \n        Scanner input = new Scanner (System.in);\n        int[] nums = new int[5];\n    \n        for (int i = 0; i &lt; 5; i++)\n        { \n            System.out.printf(&quot;Enter a number: &quot;);\n            int num = input.nextInt();\n            nums[i] = num;\n        }\n\n        for (int i = 0; i &lt; 5; i++)\n        {\n            for (int j = 0; j &lt; nums[i]; j++) \n                System.out.printf(&quot;*&quot;);\n\n            System.out.println();\n        }\n    }            \n}\n</code></pre>\n"}],"owner":{"account_id":18347974,"reputation":21,"user_id":13362785,"display_name":"Shangkari Sha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657413457,"creation_date":1624413456,"question_id":68092625,"body_markdown":"here is the question:\r\n\r\nWrite an application that reads five numbers between 1 and 30. For\r\neach number that’s read, your program should display the same number of adjacent asterisks. For\r\nexample, if your program reads the number 7, it should display *******. Display the bars of asterisks\r\nafter you read all five numbers.\r\n\r\n\r\n\r\nhere is my code:\r\n\r\n    package Assignment.Q034;\r\n    import java.util.Scanner;\r\n    \r\n    public class Q034_trial \r\n    {\r\n        public static void main (String[] args) \r\n        {          \r\n            Scanner input = new Scanner (System.in);\r\n            int num; \r\n            num = 1-30;\r\n        \r\n            for (int i = 0; i &lt; 5; i++)// system asks for no more than 5 numbers\r\n            { \r\n                System.out.printf(&quot;Enter a number: &quot;);\r\n                num = input.nextInt();\r\n            }\r\n        \r\n            for (int j = 0; j &lt; num; j++)\r\n            {\r\n                System.out.printf(&quot;*&quot;); \r\n            }\r\n                        \r\n            System.out.println();\r\n            \r\n        }            \r\n    }\r\n\r\n program IDe used: Apache Netbeans IDE 12.4\r\n\r\n\r\nthe code does not sure any error but when I run and debug it, the output shows like this:\r\n\r\n    Enter a number: 1 \r\n\r\n    Enter a number: 2\r\n\r\n    Enter a number: 3\r\n\r\n    Enter a number: 4\r\n\r\n    Enter a number: 5\r\n\r\n    *****\r\n\r\n\r\nbut the output I need is:\r\n\r\n    Enter a number: 1 \r\n\r\n    Enter a number: 2\r\n\r\n    Enter a number: 3\r\n\r\n    Enter a number: 4\r\n\r\n    Enter a number: 5\r\n\r\n    *\r\n    **\r\n    ***\r\n    ****\r\n    *****\r\n\r\nI am new to java programming. please help me t find the solution.","title":"Java Bar Chart Printing Program","body":"<p>here is the question:</p>\n<p>Write an application that reads five numbers between 1 and 30. For\neach number that’s read, your program should display the same number of adjacent asterisks. For\nexample, if your program reads the number 7, it should display *******. Display the bars of asterisks\nafter you read all five numbers.</p>\n<p>here is my code:</p>\n<pre><code>package Assignment.Q034;\nimport java.util.Scanner;\n\npublic class Q034_trial \n{\n    public static void main (String[] args) \n    {          \n        Scanner input = new Scanner (System.in);\n        int num; \n        num = 1-30;\n    \n        for (int i = 0; i &lt; 5; i++)// system asks for no more than 5 numbers\n        { \n            System.out.printf(&quot;Enter a number: &quot;);\n            num = input.nextInt();\n        }\n    \n        for (int j = 0; j &lt; num; j++)\n        {\n            System.out.printf(&quot;*&quot;); \n        }\n                    \n        System.out.println();\n        \n    }            \n}\n</code></pre>\n<p>program IDe used: Apache Netbeans IDE 12.4</p>\n<p>the code does not sure any error but when I run and debug it, the output shows like this:</p>\n<pre><code>Enter a number: 1 \n\nEnter a number: 2\n\nEnter a number: 3\n\nEnter a number: 4\n\nEnter a number: 5\n\n*****\n</code></pre>\n<p>but the output I need is:</p>\n<pre><code>Enter a number: 1 \n\nEnter a number: 2\n\nEnter a number: 3\n\nEnter a number: 4\n\nEnter a number: 5\n\n*\n**\n***\n****\n*****\n</code></pre>\n<p>I am new to java programming. please help me t find the solution.</p>\n"},{"tags":["java","spring","rabbitmq","connection","channel"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1503329631,"post_id":45800701,"comment_id":78559778,"body_markdown":"Couldn&#39;t you re-use the same connection and channel instead of creating them each time ?","body":"Couldn&#39;t you re-use the same connection and channel instead of creating them each time ?"},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1503330820,"post_id":45800701,"comment_id":78560451,"body_markdown":"You&#39;re supposed to keep a single channel open and use it for multiple messages.","body":"You&#39;re supposed to keep a single channel open and use it for multiple messages."},{"owner":{"account_id":11109781,"reputation":681,"user_id":8155935,"accept_rate":59,"display_name":"pike"},"score":0,"creation_date":1503331922,"post_id":45800701,"comment_id":78561072,"body_markdown":"@Berger Hi, I originally was doing this using AMQP, which creates the connection and channel when the application first starts. However, my new requirement is that I have to be able to change the host, username, and password on the fly without having to stop the application.","body":"@Berger Hi, I originally was doing this using AMQP, which creates the connection and channel when the application first starts. However, my new requirement is that I have to be able to change the host, username, and password on the fly without having to stop the application."},{"owner":{"account_id":11109781,"reputation":681,"user_id":8155935,"accept_rate":59,"display_name":"pike"},"score":0,"creation_date":1503332051,"post_id":45800701,"comment_id":78561152,"body_markdown":"@OrangeDog Because of this limitation, I am explicitly creating the connection, so that at the time of creation I can set the localhost, username, and password for the connection without having to stop the application.","body":"@OrangeDog Because of this limitation, I am explicitly creating the connection, so that at the time of creation I can set the localhost, username, and password for the connection without having to stop the application."},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1503332396,"post_id":45800701,"comment_id":78561345,"body_markdown":"You should just override the relevant factory and/or config rather than completely reimplementing `spring-amqp`.","body":"You should just override the relevant factory and/or config rather than completely reimplementing <code>spring-amqp</code>."},{"owner":{"account_id":11109781,"reputation":681,"user_id":8155935,"accept_rate":59,"display_name":"pike"},"score":0,"creation_date":1503333255,"post_id":45800701,"comment_id":78561790,"body_markdown":"@OrangeDog This could be something that I have missed.  Do you know where I can find examples on how to override the relevant factory?  Thanks.","body":"@OrangeDog This could be something that I have missed.  Do you know where I can find examples on how to override the relevant factory?  Thanks."},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1503333314,"post_id":45800701,"comment_id":78561817,"body_markdown":"@pike go and read the documentation, find the relevant factory and work it out. If you then have a specific question, ask it.","body":"@pike go and read the documentation, find the relevant factory and work it out. If you then have a specific question, ask it."},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1537180397,"post_id":45800701,"comment_id":91675714,"body_markdown":"@pike Just want to mention that connection.close() closes &quot;all its channels&quot; too according to the javadoc.","body":"@pike Just want to mention that connection.close() closes &quot;all its channels&quot; too according to the javadoc."},{"owner":{"account_id":60936,"reputation":1671,"user_id":181836,"accept_rate":100,"display_name":"Greg"},"score":0,"creation_date":1585910911,"post_id":45800701,"comment_id":107936599,"body_markdown":"Old post but you could take a look at &#39;hoplin.io&#39; lib on how to use the client using &#39;try-with-resouces&#39; pattern","body":"Old post but you could take a look at &#39;hoplin.io&#39; lib on how to use the client using &#39;try-with-resouces&#39; pattern"}],"answers":[{"tags":[],"owner":{"account_id":2087535,"reputation":21959,"user_id":1858116,"display_name":"Gabriele Santomaggio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1503386692,"creation_date":1503347119,"answer_id":45805020,"question_id":45800701,"body_markdown":"&gt; However, when I look at my RabbitMQ admin interface (at the overview\r\n&gt; page), the Global Counts section shows that both the total number of\r\n&gt; connections and channels keep on increasing.\r\n\r\nI think you have some problem with your connections.\r\n\r\nCheck your TCP connections in your OS, for example:\r\n\r\n```\r\n 1. netstat -anp | grep :5672 | grep ESTABLISHED | wc -l\r\n```\r\n\r\ncheck also your connections using the command line tool:\r\n\r\n```\r\n 2. rabbitmqctl list_connections\r\n```\r\nif you have lot of connections in `1` and `2` means that you are not closing the connections/channels in the right way.\r\n\r\nIf you need to handle lot of connection you could increase the file descriptors configuration:\r\n\r\nfor example https://www.rabbitmq.com/install-debian.html\r\n\r\nWith systemd (Recent Linux Distributions)\r\n\r\n&gt; On distributions that use systemd, the OS limits are controlled via a\r\n&gt; configuration file at\r\n&gt; /etc/systemd/system/rabbitmq-server.service.d/limits.conf, for\r\n&gt; example:\r\n&gt; \r\n&gt; [Service] LimitNOFILE=300000\r\n\r\n**EDIT**\r\n\r\nThe code you posted is fine, `close()` method is the right way to close the connection. \r\n\r\nYou should investigate in your real code if you execute the code. \r\n\r\nCheck also inside the log if there is:\r\n\r\n    =INFO REPORT==== 22-Aug-2017::09:23:28 ===\r\n    connection &lt;0.383.0&gt; ([::1]:60590 -&gt; [::1]:5672): user &#39;guest&#39; authenticated and granted access to vhost &#39;/&#39;\r\n    \r\n    =INFO REPORT==== 22-Aug-2017::09:23:37 ===\r\n    closing AMQP connection &lt;0.383.0&gt; ([::1]:60590 -&gt; [::1]:5672, vhost: &#39;/&#39;, user: &#39;guest&#39;)\r\n\r\n\r\n`closing AMQP connection` is the close connection\r\n","title":"Close RabbitMQ channels and connections properly","body":"<blockquote>\n  <p>However, when I look at my RabbitMQ admin interface (at the overview\n  page), the Global Counts section shows that both the total number of\n  connections and channels keep on increasing.</p>\n</blockquote>\n\n<p>I think you have some problem with your connections.</p>\n\n<p>Check your TCP connections in your OS, for example:</p>\n\n<p><code>\n 1. netstat -anp | grep :5672 | grep ESTABLISHED | wc -l\n</code></p>\n\n<p>check also your connections using the command line tool:</p>\n\n<p><code>\n 2. rabbitmqctl list_connections\n</code>\nif you have lot of connections in <code>1</code> and <code>2</code> means that you are not closing the connections/channels in the right way.</p>\n\n<p>If you need to handle lot of connection you could increase the file descriptors configuration:</p>\n\n<p>for example <a href=\"https://www.rabbitmq.com/install-debian.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/install-debian.html</a></p>\n\n<p>With systemd (Recent Linux Distributions)</p>\n\n<blockquote>\n  <p>On distributions that use systemd, the OS limits are controlled via a\n  configuration file at\n  /etc/systemd/system/rabbitmq-server.service.d/limits.conf, for\n  example:</p>\n  \n  <p>[Service] LimitNOFILE=300000</p>\n</blockquote>\n\n<p><strong>EDIT</strong></p>\n\n<p>The code you posted is fine, <code>close()</code> method is the right way to close the connection. </p>\n\n<p>You should investigate in your real code if you execute the code. </p>\n\n<p>Check also inside the log if there is:</p>\n\n<pre><code>=INFO REPORT==== 22-Aug-2017::09:23:28 ===\nconnection &lt;0.383.0&gt; ([::1]:60590 -&gt; [::1]:5672): user 'guest' authenticated and granted access to vhost '/'\n\n=INFO REPORT==== 22-Aug-2017::09:23:37 ===\nclosing AMQP connection &lt;0.383.0&gt; ([::1]:60590 -&gt; [::1]:5672, vhost: '/', user: 'guest')\n</code></pre>\n\n<p><code>closing AMQP connection</code> is the close connection</p>\n"}],"owner":{"account_id":11109781,"reputation":681,"user_id":8155935,"accept_rate":59,"display_name":"pike"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21007,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45805020,"answer_count":1,"score":3,"last_activity_date":1657412184,"creation_date":1503328786,"question_id":45800701,"body_markdown":"I am currently running a basic RabbitMQ topic publishing that publishes every 3 seconds.\r\n\r\nMy class looks like this:\r\n\r\n\r\n    import com.rabbitmq.client.*;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class EmitLogTopic {\r\n    \r\n        private static final String EXCHANGE_NAME = &quot;topic_logs&quot;;\r\n    \r\n        @Scheduled(fixedRate = 3000)\r\n        public void publish(String[] argv)\r\n                      throws Exception {\r\n    \r\n            ConnectionFactory factory = new ConnectionFactory();\r\n            factory.setHost(&quot;localhost&quot;);\r\n            Connection connection = factory.newConnection();\r\n            Channel channel = connection.createChannel();\r\n    \r\n            channel.exchangeDeclare(EXCHANGE_NAME, &quot;topic&quot;);\r\n    \r\n            String routingKey = getRouting(argv);\r\n            String message = getMessage(argv);\r\n    \r\n            channel.basicPublish(EXCHANGE_NAME, routingKey, null, message.getBytes());\r\n            System.out.println(&quot; [x] Sent &#39;&quot; + routingKey + &quot;&#39;:&#39;&quot; + message + &quot;&#39;&quot;);\r\n    \r\n            channel.close();\r\n            connection.close();\r\n        }\r\n        //...\r\n    }\r\n\r\nI expect that every time when the method publish runs, it will publish and then the channel and connection both close, preventing a new channel and connection from stuck in the memory every 3 seconds.\r\n\r\nHowever, when I look at my RabbitMQ admin interface (at the overview page), the Global Counts section shows that both the total number of connections and channels keep on increasing. \r\n\r\nEventually, my application crashes due to Socket limit and Memory limit being reached.\r\n\r\nSo it seems like close() doesn&#39;t delete the channel and connection used and still keep them in memory that eventually cause all the memory being consumed.  What is proper method to use on the channel and connection to make sure that they don&#39;t do this?","title":"Close RabbitMQ channels and connections properly","body":"<p>I am currently running a basic RabbitMQ topic publishing that publishes every 3 seconds.</p>\n\n<p>My class looks like this:</p>\n\n<pre><code>import com.rabbitmq.client.*;\n\nimport java.io.IOException;\n\npublic class EmitLogTopic {\n\n    private static final String EXCHANGE_NAME = \"topic_logs\";\n\n    @Scheduled(fixedRate = 3000)\n    public void publish(String[] argv)\n                  throws Exception {\n\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost(\"localhost\");\n        Connection connection = factory.newConnection();\n        Channel channel = connection.createChannel();\n\n        channel.exchangeDeclare(EXCHANGE_NAME, \"topic\");\n\n        String routingKey = getRouting(argv);\n        String message = getMessage(argv);\n\n        channel.basicPublish(EXCHANGE_NAME, routingKey, null, message.getBytes());\n        System.out.println(\" [x] Sent '\" + routingKey + \"':'\" + message + \"'\");\n\n        channel.close();\n        connection.close();\n    }\n    //...\n}\n</code></pre>\n\n<p>I expect that every time when the method publish runs, it will publish and then the channel and connection both close, preventing a new channel and connection from stuck in the memory every 3 seconds.</p>\n\n<p>However, when I look at my RabbitMQ admin interface (at the overview page), the Global Counts section shows that both the total number of connections and channels keep on increasing. </p>\n\n<p>Eventually, my application crashes due to Socket limit and Memory limit being reached.</p>\n\n<p>So it seems like close() doesn't delete the channel and connection used and still keep them in memory that eventually cause all the memory being consumed.  What is proper method to use on the channel and connection to make sure that they don't do this?</p>\n"},{"tags":["java","netbeans","contextmenu","freeze"],"owner":{"account_id":25762736,"reputation":1,"user_id":19513372,"display_name":"Carlos Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657411852,"creation_date":1657318217,"question_id":72917470,"body_markdown":"I&#39;m using Apache NetBeans IDE 14. Every time I right click anything on a JFrame and start messing with the Auto Resizing option, after a few adjustments, if I do it again, the application freezes completely and I have to kill it via Task Manager and open again. It got to a point where I can&#39;t use it anymore.\r\n\r\n[NetBeans 14 Context Menu][1]\r\n\r\n  [1]: https://i.stack.imgur.com/B4Ufa.png\r\n\r\nEdit: Apparently it&#39;s something to do with custom themes and fonts used in NetBeans. I removed a font color theme from Dracula and it seemed to have solved the problem. I added it again and it&#39;s still running normal.\r\n\r\nAs mentioned by wumpz, here&#39;s more context:\r\nhttps://github.com/apache/netbeans/issues/4231\r\n\r\nEdit2: Looks like the creator of FlatLaf and related is working on a fix. Please follow the link above for further updates.","title":"Apache NetBeans 14 freezing upon context menu in JFrame","body":"<p>I'm using Apache NetBeans IDE 14. Every time I right click anything on a JFrame and start messing with the Auto Resizing option, after a few adjustments, if I do it again, the application freezes completely and I have to kill it via Task Manager and open again. It got to a point where I can't use it anymore.</p>\n<p><a href=\"https://i.stack.imgur.com/B4Ufa.png\" rel=\"nofollow noreferrer\">NetBeans 14 Context Menu</a></p>\n<p>Edit: Apparently it's something to do with custom themes and fonts used in NetBeans. I removed a font color theme from Dracula and it seemed to have solved the problem. I added it again and it's still running normal.</p>\n<p>As mentioned by wumpz, here's more context:\n<a href=\"https://github.com/apache/netbeans/issues/4231\" rel=\"nofollow noreferrer\">https://github.com/apache/netbeans/issues/4231</a></p>\n<p>Edit2: Looks like the creator of FlatLaf and related is working on a fix. Please follow the link above for further updates.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1657407095,"post_id":72925054,"comment_id":128803603,"body_markdown":"Ask yourself: Does 78 (for example) satisfy the first condition: `grade &gt;= 90 || grade &lt;= 100` ?  **Any integer value satisfies that condition.**  In other words, is 78 &gt;= 90 OR is 78 &lt;= 100.","body":"Ask yourself: Does 78 (for example) satisfy the first condition: <code>grade &gt;= 90 || grade &lt;= 100</code> ?  <b>Any integer value satisfies that condition.</b>  In other words, is 78 &gt;= 90 OR is 78 &lt;= 100."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1657407490,"post_id":72925054,"comment_id":128803635,"body_markdown":"It looks like you have confused `||`, which means &quot;or&quot;, with `&amp;&amp;`, which means &quot;and&quot;.","body":"It looks like you have confused <code>||</code>, which means &quot;or&quot;, with <code>&amp;&amp;</code>, which means &quot;and&quot;."}],"answers":[{"tags":[],"owner":{"account_id":25769180,"reputation":16,"user_id":19518331,"display_name":"Oluwapelumi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657408076,"creation_date":1657408076,"answer_id":72925168,"question_id":72925054,"body_markdown":"Start with the highest priority if statement or use the &amp;&amp; operands\r\n\r\n\r\n    `public class grades {\r\n    public static void main(String[] args)throws FileNotFoundException {\r\n        \r\n    File myFile = new File(&quot;grades.txt&quot;);\r\n    Scanner inputFile = new Scanner(myFile);\r\n\r\n    int gradeA = 0;\r\n    int gradeB = 0;\r\n    int gradeC = 0;\r\n    int gradeD = 0;\r\n    int gradeF = 0;\r\n    \r\n    while(inputFile.hasNext()) \r\n    {\r\n            int grade = inputFile.nextInt();\r\n        if(grade &lt;= 59)\r\n            gradeF++;\r\n        else if(grade &gt;= 60 || grade &lt;= 69)\r\n            gradeD++;\r\n        else if(grade &gt;= 70 || grade &lt;= 79)\r\n            gradeC++;\r\n        else if(grade &gt;= 80 || grade &lt;= 89)\r\n            gradeB++;\r\n         else\r\n            gradeA++;\r\n       \r\n        \r\n        \r\n    }\r\n    inputFile.close();\r\n    \r\n    System.out.println(&quot;Here are the amount for each Letter Grade:&quot;);\r\n    System.out.println(&quot;\\tA: &quot;+gradeA);\r\n    System.out.println(&quot;\\tB: &quot;+gradeB);\r\n    System.out.println(&quot;\\tC: &quot;+gradeC);\r\n    System.out.println(&quot;\\tD: &quot;+gradeD);\r\n    System.out.println(&quot;\\tF: &quot;+gradeF);\r\n    \r\n    }\r\n    }\r\n`\r\n\r\n    public class grades {\r\n    public static void main(String[] args)throws FileNotFoundException {\r\n  \r\n    File myFile = new File(&quot;grades.txt&quot;);\r\n    Scanner inputFile = new Scanner(myFile);\r\n\r\n    int gradeA = 0;\r\n    int gradeB = 0;\r\n    int gradeC = 0;\r\n    int gradeD = 0;\r\n    int gradeF = 0;\r\n    \r\n    while(inputFile.hasNext()) \r\n    {\r\n            int grade = inputFile.nextInt();\r\n       \r\n       if(grade &gt;= 90 &amp;&amp; grade &lt;= 100)\r\n            gradeA++;\r\n        else if(grade &gt;= 80 &amp;&amp; grade &lt;= 89)\r\n            gradeB++;\r\n        else if(grade &gt;= 70 &amp;&amp; grade &lt;= 79)\r\n            gradeC++;\r\n        else if(grade &gt;= 60 &amp;&amp; grade &lt;= 69)\r\n            gradeD++;\r\n        else if(grade &lt;= 59)\r\n            gradeF++;\r\n        \r\n        \r\n    }\r\n    inputFile.close();\r\n    \r\n    System.out.println(&quot;Here are the amount for each Letter Grade:&quot;);\r\n    System.out.println(&quot;\\tA: &quot;+gradeA);\r\n    System.out.println(&quot;\\tB: &quot;+gradeB);\r\n    System.out.println(&quot;\\tC: &quot;+gradeC);\r\n    System.out.println(&quot;\\tD: &quot;+gradeD);\r\n    System.out.println(&quot;\\tF: &quot;+gradeF);\r\n    \r\n    }\r\n    }\r\n\r\n","title":"Code is supposed to count amount of grades from text file (27 grades) by adding an increment to the letter of the number, but it only comes up as A&#39;s","body":"<p>Start with the highest priority if statement or use the &amp;&amp; operands</p>\n<pre><code>`public class grades {\npublic static void main(String[] args)throws FileNotFoundException {\n    \nFile myFile = new File(&quot;grades.txt&quot;);\nScanner inputFile = new Scanner(myFile);\n\nint gradeA = 0;\nint gradeB = 0;\nint gradeC = 0;\nint gradeD = 0;\nint gradeF = 0;\n\nwhile(inputFile.hasNext()) \n{\n        int grade = inputFile.nextInt();\n    if(grade &lt;= 59)\n        gradeF++;\n    else if(grade &gt;= 60 || grade &lt;= 69)\n        gradeD++;\n    else if(grade &gt;= 70 || grade &lt;= 79)\n        gradeC++;\n    else if(grade &gt;= 80 || grade &lt;= 89)\n        gradeB++;\n     else\n        gradeA++;\n   \n    \n    \n}\ninputFile.close();\n\nSystem.out.println(&quot;Here are the amount for each Letter Grade:&quot;);\nSystem.out.println(&quot;\\tA: &quot;+gradeA);\nSystem.out.println(&quot;\\tB: &quot;+gradeB);\nSystem.out.println(&quot;\\tC: &quot;+gradeC);\nSystem.out.println(&quot;\\tD: &quot;+gradeD);\nSystem.out.println(&quot;\\tF: &quot;+gradeF);\n\n}\n}\n</code></pre>\n<p>`</p>\n<pre><code>public class grades {\npublic static void main(String[] args)throws FileNotFoundException {\n\nFile myFile = new File(&quot;grades.txt&quot;);\nScanner inputFile = new Scanner(myFile);\n\nint gradeA = 0;\nint gradeB = 0;\nint gradeC = 0;\nint gradeD = 0;\nint gradeF = 0;\n\nwhile(inputFile.hasNext()) \n{\n        int grade = inputFile.nextInt();\n   \n   if(grade &gt;= 90 &amp;&amp; grade &lt;= 100)\n        gradeA++;\n    else if(grade &gt;= 80 &amp;&amp; grade &lt;= 89)\n        gradeB++;\n    else if(grade &gt;= 70 &amp;&amp; grade &lt;= 79)\n        gradeC++;\n    else if(grade &gt;= 60 &amp;&amp; grade &lt;= 69)\n        gradeD++;\n    else if(grade &lt;= 59)\n        gradeF++;\n    \n    \n}\ninputFile.close();\n\nSystem.out.println(&quot;Here are the amount for each Letter Grade:&quot;);\nSystem.out.println(&quot;\\tA: &quot;+gradeA);\nSystem.out.println(&quot;\\tB: &quot;+gradeB);\nSystem.out.println(&quot;\\tC: &quot;+gradeC);\nSystem.out.println(&quot;\\tD: &quot;+gradeD);\nSystem.out.println(&quot;\\tF: &quot;+gradeF);\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657410271,"creation_date":1657410271,"answer_id":72925313,"question_id":72925054,"body_markdown":"Here are some things to fix + improve your code:\r\n1. Replace the &quot;or&quot; operator (`||`) with the &quot;and&quot; operator (`&amp;&amp;`), because your intention is that _both_ of the things are true. In the first &quot;if&quot; statement, you want &quot;grade&quot; to be at least 90, _and_ 100 or less. When using &quot;or&quot;, _any_ integer value would pass. Is &quot;grade&quot; 1 million? Cool, that passes `grade &gt;= 90`. Is it negative 20,000? That passes the other side of the &quot;or&quot; statement (`grade &lt;= 100`). To fix it, change this:\r\n\t```\r\n\tif (grade &gt;= 90 || grade &lt;= 100)\r\n\t```\r\n\tto this:\r\n\t```\r\n\tif (grade &gt;= 90 &amp;&amp; grade &lt;= 100)\r\n\t```\r\n1. Simplify the logic inside each &quot;if&quot; statement. It isn&#39;t necessary to verify that &quot;grade&quot; is both &quot;less than X&quot; _and_ &quot;greater than Y&quot;. You just need one comparison. Anything 90 or up is an A. 110? Sure, that&#39;s an A. Once your code has checked a value for being &quot;90 or higher&quot;, the next check needs to check only against 80. It isn&#39;t necessary to also check that it&#39;s 89 or less – it _must_ be 89 or less, because if an integer were any larger than 89 it would be at least 90, and thus would not have made it past the first &quot;if&quot; statement.\r\nSo change the various &quot;if&quot; statements from this:\r\n\t```\r\n\tif (grade &gt;= 90 || grade &lt;= 100)\r\n\t\tgradeA++;\r\n\telse if (grade &gt;= 80 || grade &lt;= 89)\r\n\t\tgradeB++;\r\n\t...\r\n\t```\r\n\tto this:\r\n\t```\r\n\tif (grade &gt;= 90)\r\n\t\tgradeA++;\r\n\telse if (grade &gt;= 80)\r\n\t\tgradeB++;\r\n\t...\r\n\t```\r\n\r\n\r\n----------\r\n\r\n\r\nHere&#39;s a simpler version of your program (using an `int` array instead of reading from a file), and applying those changes above, with the output below:\r\n```\r\nint[] grades = {90, 78, 67, 88, 33, 94, 100, 18, 74, 82, 60,\r\n        62, 83, 91, 88, 55, 42, 76, 91, 80, 70, 40, 98};\r\nint gradeA = 0, gradeB = 0, gradeC = 0, gradeD = 0, gradeF = 0;\r\nfor (int grade : grades) {\r\n    if (grade &gt;= 90)\r\n        gradeA++;\r\n    else if (grade &gt;= 80)\r\n        gradeB++;\r\n    else if (grade &gt;= 70)\r\n        gradeC++;\r\n    else if (grade &gt;= 60)\r\n        gradeD++;\r\n    else\r\n        gradeF++;\r\n}\r\nSystem.out.println(&quot;A: &quot; + gradeA);\r\nSystem.out.println(&quot;B: &quot; + gradeB);\r\nSystem.out.println(&quot;C: &quot; + gradeC);\r\nSystem.out.println(&quot;D: &quot; + gradeD);\r\nSystem.out.println(&quot;F: &quot; + gradeF);\r\n\r\nA: 6\r\nB: 5\r\nC: 4\r\nD: 3\r\nF: 5\r\n```\r\n","title":"Code is supposed to count amount of grades from text file (27 grades) by adding an increment to the letter of the number, but it only comes up as A&#39;s","body":"<p>Here are some things to fix + improve your code:</p>\n<ol>\n<li>Replace the &quot;or&quot; operator (<code>||</code>) with the &quot;and&quot; operator (<code>&amp;&amp;</code>), because your intention is that <em>both</em> of the things are true. In the first &quot;if&quot; statement, you want &quot;grade&quot; to be at least 90, <em>and</em> 100 or less. When using &quot;or&quot;, <em>any</em> integer value would pass. Is &quot;grade&quot; 1 million? Cool, that passes <code>grade &gt;= 90</code>. Is it negative 20,000? That passes the other side of the &quot;or&quot; statement (<code>grade &lt;= 100</code>). To fix it, change this:\n<pre><code>if (grade &gt;= 90 || grade &lt;= 100)\n</code></pre>\nto this:\n<pre><code>if (grade &gt;= 90 &amp;&amp; grade &lt;= 100)\n</code></pre>\n</li>\n<li>Simplify the logic inside each &quot;if&quot; statement. It isn't necessary to verify that &quot;grade&quot; is both &quot;less than X&quot; <em>and</em> &quot;greater than Y&quot;. You just need one comparison. Anything 90 or up is an A. 110? Sure, that's an A. Once your code has checked a value for being &quot;90 or higher&quot;, the next check needs to check only against 80. It isn't necessary to also check that it's 89 or less – it <em>must</em> be 89 or less, because if an integer were any larger than 89 it would be at least 90, and thus would not have made it past the first &quot;if&quot; statement.\nSo change the various &quot;if&quot; statements from this:\n<pre><code>if (grade &gt;= 90 || grade &lt;= 100)\n    gradeA++;\nelse if (grade &gt;= 80 || grade &lt;= 89)\n    gradeB++;\n...\n</code></pre>\nto this:\n<pre><code>if (grade &gt;= 90)\n    gradeA++;\nelse if (grade &gt;= 80)\n    gradeB++;\n...\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>Here's a simpler version of your program (using an <code>int</code> array instead of reading from a file), and applying those changes above, with the output below:</p>\n<pre><code>int[] grades = {90, 78, 67, 88, 33, 94, 100, 18, 74, 82, 60,\n        62, 83, 91, 88, 55, 42, 76, 91, 80, 70, 40, 98};\nint gradeA = 0, gradeB = 0, gradeC = 0, gradeD = 0, gradeF = 0;\nfor (int grade : grades) {\n    if (grade &gt;= 90)\n        gradeA++;\n    else if (grade &gt;= 80)\n        gradeB++;\n    else if (grade &gt;= 70)\n        gradeC++;\n    else if (grade &gt;= 60)\n        gradeD++;\n    else\n        gradeF++;\n}\nSystem.out.println(&quot;A: &quot; + gradeA);\nSystem.out.println(&quot;B: &quot; + gradeB);\nSystem.out.println(&quot;C: &quot; + gradeC);\nSystem.out.println(&quot;D: &quot; + gradeD);\nSystem.out.println(&quot;F: &quot; + gradeF);\n\nA: 6\nB: 5\nC: 4\nD: 3\nF: 5\n</code></pre>\n"}],"owner":{"account_id":25769140,"reputation":3,"user_id":19518302,"display_name":"Danny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657470582,"accepted_answer_id":72925168,"answer_count":2,"score":0,"last_activity_date":1657410271,"creation_date":1657406409,"question_id":72925054,"body_markdown":"Output comes up as 27 A&#39;s, 0 B&#39;s-F&#39;s. Can anyone help me to fix the code so that it reads the grades correctly? The text file is just:\r\n90\r\n78\r\n67\r\n88\r\n33\r\n94\r\n100\r\n18\r\n74\r\n82\r\n60\r\n62\r\n83\r\n91\r\n88\r\n55\r\n42\r\n76\r\n91\r\n80\r\n70\r\n40\r\n98\r\n, with one grade per line\r\n```\r\npackage grades;\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class grades {\r\n\tpublic static void main(String[] args)throws FileNotFoundException {\r\n\t\t\r\n\tFile myFile = new File(&quot;grades.txt&quot;);\r\n\tScanner inputFile = new Scanner(myFile);\r\n\r\n\tint gradeA = 0;\r\n\tint gradeB = 0;\r\n\tint gradeC = 0;\r\n\tint gradeD = 0;\r\n\tint gradeF = 0;\r\n\t\r\n\twhile(inputFile.hasNext()) \r\n\t{\r\n\t\t\tint grade = inputFile.nextInt();\r\n\t\tif(grade &gt;= 90 || grade &lt;= 100)\r\n\t\t\tgradeA++;\r\n\t\telse if(grade &gt;= 80 || grade &lt;= 89)\r\n\t\t\tgradeB++;\r\n\t\telse if(grade &gt;= 70 || grade &lt;= 79)\r\n\t\t\tgradeC++;\r\n\t\telse if(grade &gt;= 60 || grade &lt;= 69)\r\n\t\t\tgradeD++;\r\n\t\telse if(grade &lt;= 59)\r\n\t\t\tgradeF++;\r\n\t}\r\n\tinputFile.close();\r\n\t\r\n\tSystem.out.println(&quot;Here are the amount for each Letter Grade:&quot;);\r\n\tSystem.out.println(&quot;\\tA: &quot;+gradeA);\r\n\tSystem.out.println(&quot;\\tB: &quot;+gradeB);\r\n\tSystem.out.println(&quot;\\tC: &quot;+gradeC);\r\n\tSystem.out.println(&quot;\\tD: &quot;+gradeD);\r\n\tSystem.out.println(&quot;\\tF: &quot;+gradeF);\r\n\t\r\n\t}\r\n}\r\n```","title":"Code is supposed to count amount of grades from text file (27 grades) by adding an increment to the letter of the number, but it only comes up as A&#39;s","body":"<p>Output comes up as 27 A's, 0 B's-F's. Can anyone help me to fix the code so that it reads the grades correctly? The text file is just:\n90\n78\n67\n88\n33\n94\n100\n18\n74\n82\n60\n62\n83\n91\n88\n55\n42\n76\n91\n80\n70\n40\n98\n, with one grade per line</p>\n<pre><code>package grades;\nimport java.io.*;\nimport java.util.Scanner;\n\npublic class grades {\n    public static void main(String[] args)throws FileNotFoundException {\n        \n    File myFile = new File(&quot;grades.txt&quot;);\n    Scanner inputFile = new Scanner(myFile);\n\n    int gradeA = 0;\n    int gradeB = 0;\n    int gradeC = 0;\n    int gradeD = 0;\n    int gradeF = 0;\n    \n    while(inputFile.hasNext()) \n    {\n            int grade = inputFile.nextInt();\n        if(grade &gt;= 90 || grade &lt;= 100)\n            gradeA++;\n        else if(grade &gt;= 80 || grade &lt;= 89)\n            gradeB++;\n        else if(grade &gt;= 70 || grade &lt;= 79)\n            gradeC++;\n        else if(grade &gt;= 60 || grade &lt;= 69)\n            gradeD++;\n        else if(grade &lt;= 59)\n            gradeF++;\n    }\n    inputFile.close();\n    \n    System.out.println(&quot;Here are the amount for each Letter Grade:&quot;);\n    System.out.println(&quot;\\tA: &quot;+gradeA);\n    System.out.println(&quot;\\tB: &quot;+gradeB);\n    System.out.println(&quot;\\tC: &quot;+gradeC);\n    System.out.println(&quot;\\tD: &quot;+gradeD);\n    System.out.println(&quot;\\tF: &quot;+gradeF);\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","jdbc","connection-pooling","dao","genericdao"],"answers":[{"tags":[],"owner":{"account_id":1276906,"reputation":3592,"user_id":1231958,"accept_rate":86,"display_name":"Carlos Vergara"},"down_vote_count":3,"up_vote_count":97,"is_accepted":true,"score":94,"last_activity_date":1657409842,"creation_date":1349845357,"answer_id":12812257,"question_id":12812256,"body_markdown":"You will need to implement a **DAO Manager**. I took the main idea from [this website][1], however I made my own implementation that solves some few issues.\r\n\r\n# Step 1: Connection pooling #\r\n\r\nFirst of all, you will have to configure a **connection pool**. A connection pool is, well, a pool of connections. When your application runs, the connection pool will start a certain amount of connections, this is done to avoid creating connections in runtime since it&#39;s a expensive operation. This guide is not meant to explain how to configure one, so go look around about that.\r\n\r\nFor the record, I&#39;ll use **Java** as my language and **Glassfish** as my server.\r\n\r\n# Step 2: Connect to the database #\r\n\r\nLet&#39;s start by creating a `DAOManager` class. Let&#39;s give it methods to open and close a connection in runtime. Nothing too fancy.\r\n\r\n    public class DAOManager {\r\n\r\n        public DAOManager() throws Exception {\r\n            try\r\n            {\r\n                InitialContext ctx = new InitialContext();\r\n                this.src = (DataSource)ctx.lookup(&quot;jndi/MYSQL&quot;); //The string should be the same name you&#39;re giving to your JNDI in Glassfish.\r\n            }\r\n            catch(Exception e) { throw e; }\r\n        }\r\n\r\n        public void open() throws SQLException {\r\n            try\r\n            {\r\n                if(this.con==null || !this.con.isOpen())\r\n                    this.con = src.getConnection();\r\n            }\r\n            catch(SQLException e) { throw e; }\r\n        }\r\n\r\n        public void close() throws SQLException {\r\n            try\r\n            {\r\n                if(this.con!=null &amp;&amp; this.con.isOpen())\r\n                    this.con.close();\r\n            }\r\n            catch(SQLException e) { throw e; }\r\n        }\r\n\r\n        //Private\r\n        private DataSource src;\r\n        private Connection con;\r\n\r\n    }\r\n\r\nThis isn&#39;t a very fancy class, but it&#39;ll be the basis of what we&#39;re going to do. So, doing this:\r\n\r\n    DAOManager mngr = new DAOManager();\r\n    mngr.open();\r\n    mngr.close();\r\n\r\nshould open and close your connection to the database in an object.\r\n\r\n# Step 3: Make it a single point! #\r\n\r\nWhat, now, if we did this?\r\n\r\n    DAOManager mngr1 = new DAOManager();\r\n    DAOManager mngr2 = new DAOManager();\r\n    mngr1.open();\r\n    mngr2.open();\r\n\r\nSome might argue, *&quot;why in the world would you do this?&quot;*. But then you never know what a programmer will do. Even then, the programmer might forger from closing a connection before opening a new one. Plus, this is a waste of resources for the application. **Stop here if you actually want to have two or more open connections, this will be an implementation for one connection per user.**\r\n\r\nIn order to make it a single point, we will have to convert this class into a **singleton**. A singleton is a design pattern that allows us to have one and only one instance of any given object. So, let&#39;s make it a singleton!\r\n\r\n - We must convert our `public` constructor into a private one. We must only give an instance to whoever calls it. The `DAOManager` then becomes a factory!\r\n - We must also add a new `private` class that will actually store a singleton.\r\n - Alongside all of this, we also need a `getInstance()` method that will give us a singleton instance we can call.\r\n\r\nLet&#39;s see how it&#39;s implemented.\r\n\r\n    public class DAOManager {\r\n\r\n        public static DAOManager getInstance() {\r\n            return DAOManagerSingleton.INSTANCE;\r\n        }\r\n\r\n        public void open() throws SQLException {\r\n            try\r\n            {\r\n                if(this.con==null || !this.con.isOpen())\r\n                    this.con = src.getConnection();\r\n            }\r\n            catch(SQLException e) { throw e; }\r\n        }\r\n\r\n        public void close() throws SQLException {\r\n            try\r\n            {\r\n                if(this.con!=null &amp;&amp; this.con.isOpen())\r\n                    this.con.close();\r\n            }\r\n            catch(SQLException e) { throw e; }\r\n        }\r\n\r\n        //Private\r\n        private DataSource src;\r\n        private Connection con;\r\n\r\n        private DAOManager() throws Exception {\r\n            try\r\n            {\r\n                InitialContext ctx = new InitialContext();\r\n                this.src = (DataSource)ctx.lookup(&quot;jndi/MYSQL&quot;);\r\n            }\r\n            catch(Exception e) { throw e; }\r\n        }\r\n\r\n        private static class DAOManagerSingleton {\r\n\r\n            public static final DAOManager INSTANCE;\r\n            static\r\n            {\r\n                DAOManager dm;\r\n                try\r\n                {\r\n                    dm = new DAOManager();\r\n                }\r\n                catch(Exception e)\r\n                    dm = null;\r\n                INSTANCE = dm;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nWhen the application starts, whenever anyone needs a singleton the system will instantiate one `DAOManager`. Quite neat, we&#39;ve created a single access point!\r\n\r\n*But singleton is an antipattern because reasons!*\r\nI know some people won&#39;t like singleton. However it solves the problem (and has solved mine) quite decently. This is just a way of implementing this solution, if you have other ways you&#39;re welcome to suggest so.\r\n\r\n# Step 4: But there&#39;s something wrong... #\r\n\r\nYes, indeed there is. **A singleton will create only ONE instance for the whole application!** And this is wrong in many levels, especially if we have a web system where our application will be **multithreaded**! How do we solve this, then?\r\n\r\nJava provides a class named `ThreadLocal`. A `ThreadLocal` variable will have one instance per thread. Hey, it solves our problem! [See more about how it works][2], you will need to understand its purpose so we can continue.\r\n\r\nLet&#39;s make our `INSTANCE` `ThreadLocal` then. Modify the class this way:\r\n\r\n    public class DAOManager {\r\n\r\n        public static DAOManager getInstance() {\r\n            return DAOManagerSingleton.INSTANCE.get();\r\n        }\r\n\r\n        public void open() throws SQLException {\r\n            try\r\n            {\r\n                if(this.con==null || !this.con.isOpen())\r\n                    this.con = src.getConnection();\r\n            }\r\n            catch(SQLException e) { throw e; }\r\n        }\r\n\r\n        public void close() throws SQLException {\r\n            try\r\n            {\r\n                if(this.con!=null &amp;&amp; this.con.isOpen())\r\n                    this.con.close();\r\n            }\r\n            catch(SQLException e) { throw e; }\r\n        }\r\n\r\n        //Private\r\n        private DataSource src;\r\n        private Connection con;\r\n\r\n        private DAOManager() throws Exception {\r\n            try\r\n            {\r\n                InitialContext ctx = new InitialContext();\r\n                this.src = (DataSource)ctx.lookup(&quot;jndi/MYSQL&quot;);\r\n            }\r\n            catch(Exception e) { throw e; }\r\n        }\r\n\r\n        private static class DAOManagerSingleton {\r\n\r\n            public static final ThreadLocal&lt;DAOManager&gt; INSTANCE;\r\n            static\r\n            {\r\n                ThreadLocal&lt;DAOManager&gt; dm;\r\n                try\r\n                {\r\n                    dm = new ThreadLocal&lt;DAOManager&gt;(){\r\n                        @Override\r\n                        protected DAOManager initialValue() {\r\n                            try\r\n                            {\r\n                                return new DAOManager();\r\n                            }\r\n                            catch(Exception e)\r\n                            {\r\n                                return null;\r\n                            }\r\n                        }\r\n                    };\r\n                }\r\n                catch(Exception e)\r\n                    dm = null;\r\n                INSTANCE = dm;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nI would seriously love to not do this\r\n\r\n    catch(Exception e)\r\n    {\r\n        return null;\r\n    }\r\n\r\nbut `initialValue()` can&#39;t throw an exception. Oh, `initialValue()` you mean? This method will tell us what value will the `ThreadLocal` variable hold. Basically we&#39;re initializing it. So, thanks to this we can now have one instance per thread.\r\n\r\n# Step 5: Create a DAO #\r\n\r\nA `DAOManager` is nothing without a DAO. So we should at least create a couple of them.\r\n\r\n&gt; A DAO, short for &quot;Data Access Object&quot; is a design pattern that gives the responsibility of managing database operations to a class representing a certain table.\r\n\r\nIn order to use our `DAOManager` more efficiently, we will define a `GenericDAO`, which is an abstract DAO that will hold the common operations between all DAOs.\r\n\r\n    public abstract class GenericDAO&lt;T&gt; {\r\n\r\n        public abstract int count() throws SQLException;\r\n\r\n        //Protected\r\n        protected final String tableName;\r\n        protected Connection con;\r\n\r\n        protected GenericDAO(Connection con, String tableName) {\r\n            this.tableName = tableName;\r\n            this.con = con;\r\n        }\r\n\r\n    }\r\n\r\nFor now, that will be enough. Let&#39;s create some DAOs. Let&#39;s suppose we have two POJOs: `First` and `Second`, both with just a `String` field named `data` and its getters and setters.\r\n\r\n    public class FirstDAO extends GenericDAO&lt;First&gt; {\r\n\r\n        public FirstDAO(Connection con) {\r\n            super(con, TABLENAME);\r\n        }\r\n\r\n        @Override\r\n        public int count() throws SQLException {\r\n            String query = &quot;SELECT COUNT(*) AS count FROM &quot;+this.tableName;\r\n            PreparedStatement counter;\r\n            try\r\n            {\r\n            counter = this.con.PrepareStatement(query);\r\n            ResultSet res = counter.executeQuery();\r\n            res.next();\r\n            return res.getInt(&quot;count&quot;);\r\n            }\r\n            catch(SQLException e){ throw e; }\r\n        }\r\n\r\n       //Private\r\n       private final static String TABLENAME = &quot;FIRST&quot;;\r\n\r\n    }\r\n\r\n`SecondDAO` will have more or less the same structure, just changing `TABLENAME` to `&quot;SECOND&quot;`.\r\n\r\n# Step 6: Making the manager a factory #\r\n\r\n`DAOManager` not only should serve the purpose of serving as a single connection point. Actually, `DAOManager` should answer this question:\r\n\r\n&gt;Who is the one responsible of managing the connections to the database?\r\n\r\nThe individual DAOs shouldn&#39;t manage them, but `DAOManager`. We&#39;ve answered partially the question, but now we shouldn&#39;t let anyone manage other connections to the database, not even the DAOs. But, the DAOs need a connection to the database! Who should provide it? `DAOManager` indeed! What we should do is making a factory method inside `DAOManager`. Not just that, but `DAOManager` will also hand them the current connection!\r\n\r\nFactory is a design pattern that will allow us to create instances of a certain superclass, without knowing exactly what child class will be returned.\r\n\r\nFirst, let&#39;s create an `enum` listing our tables.\r\n\r\n    public enum Table { FIRST, SECOND }\r\n\r\nAnd now, the factory method inside `DAOManager`:\r\n\r\n    public GenericDAO getDAO(Table t) throws SQLException\r\n    {\r\n\r\n        try\r\n        {\r\n            if(this.con == null || this.con.isClosed()) //Let&#39;s ensure our connection is open\r\n                this.open();\r\n        }\r\n        catch(SQLException e){ throw e; }\r\n\r\n        switch(t)\r\n        {\r\n        case FIRST:\r\n            return new FirstDAO(this.con);\r\n        case SECOND:\r\n            return new SecondDAO(this.con);\r\n        default:\r\n            throw new SQLException(&quot;Trying to link to an unexistant table.&quot;);\r\n        }\r\n\r\n    }\r\n\r\n# Step 7: Putting everything together #\r\n\r\nWe&#39;re good to go now. Try the following code:\r\n\r\n    DAOManager dao = DAOManager.getInstance();\r\n    FirstDAO fDao = (FirstDAO)dao.getDAO(Table.FIRST);\r\n    SecondDAO sDao = (SecondDAO)dao.getDAO(Table.SECOND);\r\n    System.out.println(fDao.count());\r\n    System.out.println(sDao.count());\r\n    dao.close();\r\n\r\nIsn&#39;t it fancy and easy to read? Not just that, but when you call `close()`, you close *every single connection* the DAOs are using. *But how?!* Well, they&#39;re sharing the same connection, so it&#39;s just natural.\r\n\r\n# Step 8: Fine-tuning our class #\r\n\r\nWe can do several things from here on. To ensure connections are closed and returned to the pool, do the following in `DAOManager`:\r\n\r\n    @Override\r\n    protected void finalize()\r\n    {\r\n\r\n        try{ this.close(); }\r\n        finally{ super.finalize(); }\r\n\r\n    }\r\n\r\nYou can also implement methods that encapsulate `setAutoCommit()`, `commit()` and `rollback()` from the `Connection` so you can have a better handling of your transactions. What I also did is, instead of just holding a `Connection`, `DAOManager` also holds a `PreparedStatement` and a `ResultSet`. So, when calling `close()` it also closes both. A fast way of closing statements and result sets!\r\n\r\nI hope this guide can be of any use to you in your next project!\r\n\r\n  [1]: http://tutorials.jenkov.com/java-persistence/dao-manager.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html\r\n\r\n","title":"How do I implement a DAO manager using JDBC and connection pools?","body":"<p>You will need to implement a <strong>DAO Manager</strong>. I took the main idea from <a href=\"http://tutorials.jenkov.com/java-persistence/dao-manager.html\" rel=\"nofollow noreferrer\">this website</a>, however I made my own implementation that solves some few issues.</p>\n<h1>Step 1: Connection pooling</h1>\n<p>First of all, you will have to configure a <strong>connection pool</strong>. A connection pool is, well, a pool of connections. When your application runs, the connection pool will start a certain amount of connections, this is done to avoid creating connections in runtime since it's a expensive operation. This guide is not meant to explain how to configure one, so go look around about that.</p>\n<p>For the record, I'll use <strong>Java</strong> as my language and <strong>Glassfish</strong> as my server.</p>\n<h1>Step 2: Connect to the database</h1>\n<p>Let's start by creating a <code>DAOManager</code> class. Let's give it methods to open and close a connection in runtime. Nothing too fancy.</p>\n<pre><code>public class DAOManager {\n\n    public DAOManager() throws Exception {\n        try\n        {\n            InitialContext ctx = new InitialContext();\n            this.src = (DataSource)ctx.lookup(&quot;jndi/MYSQL&quot;); //The string should be the same name you're giving to your JNDI in Glassfish.\n        }\n        catch(Exception e) { throw e; }\n    }\n\n    public void open() throws SQLException {\n        try\n        {\n            if(this.con==null || !this.con.isOpen())\n                this.con = src.getConnection();\n        }\n        catch(SQLException e) { throw e; }\n    }\n\n    public void close() throws SQLException {\n        try\n        {\n            if(this.con!=null &amp;&amp; this.con.isOpen())\n                this.con.close();\n        }\n        catch(SQLException e) { throw e; }\n    }\n\n    //Private\n    private DataSource src;\n    private Connection con;\n\n}\n</code></pre>\n<p>This isn't a very fancy class, but it'll be the basis of what we're going to do. So, doing this:</p>\n<pre><code>DAOManager mngr = new DAOManager();\nmngr.open();\nmngr.close();\n</code></pre>\n<p>should open and close your connection to the database in an object.</p>\n<h1>Step 3: Make it a single point!</h1>\n<p>What, now, if we did this?</p>\n<pre><code>DAOManager mngr1 = new DAOManager();\nDAOManager mngr2 = new DAOManager();\nmngr1.open();\nmngr2.open();\n</code></pre>\n<p>Some might argue, <em>&quot;why in the world would you do this?&quot;</em>. But then you never know what a programmer will do. Even then, the programmer might forger from closing a connection before opening a new one. Plus, this is a waste of resources for the application. <strong>Stop here if you actually want to have two or more open connections, this will be an implementation for one connection per user.</strong></p>\n<p>In order to make it a single point, we will have to convert this class into a <strong>singleton</strong>. A singleton is a design pattern that allows us to have one and only one instance of any given object. So, let's make it a singleton!</p>\n<ul>\n<li>We must convert our <code>public</code> constructor into a private one. We must only give an instance to whoever calls it. The <code>DAOManager</code> then becomes a factory!</li>\n<li>We must also add a new <code>private</code> class that will actually store a singleton.</li>\n<li>Alongside all of this, we also need a <code>getInstance()</code> method that will give us a singleton instance we can call.</li>\n</ul>\n<p>Let's see how it's implemented.</p>\n<pre><code>public class DAOManager {\n\n    public static DAOManager getInstance() {\n        return DAOManagerSingleton.INSTANCE;\n    }\n\n    public void open() throws SQLException {\n        try\n        {\n            if(this.con==null || !this.con.isOpen())\n                this.con = src.getConnection();\n        }\n        catch(SQLException e) { throw e; }\n    }\n\n    public void close() throws SQLException {\n        try\n        {\n            if(this.con!=null &amp;&amp; this.con.isOpen())\n                this.con.close();\n        }\n        catch(SQLException e) { throw e; }\n    }\n\n    //Private\n    private DataSource src;\n    private Connection con;\n\n    private DAOManager() throws Exception {\n        try\n        {\n            InitialContext ctx = new InitialContext();\n            this.src = (DataSource)ctx.lookup(&quot;jndi/MYSQL&quot;);\n        }\n        catch(Exception e) { throw e; }\n    }\n\n    private static class DAOManagerSingleton {\n\n        public static final DAOManager INSTANCE;\n        static\n        {\n            DAOManager dm;\n            try\n            {\n                dm = new DAOManager();\n            }\n            catch(Exception e)\n                dm = null;\n            INSTANCE = dm;\n        }\n\n    }\n\n}\n</code></pre>\n<p>When the application starts, whenever anyone needs a singleton the system will instantiate one <code>DAOManager</code>. Quite neat, we've created a single access point!</p>\n<p><em>But singleton is an antipattern because reasons!</em>\nI know some people won't like singleton. However it solves the problem (and has solved mine) quite decently. This is just a way of implementing this solution, if you have other ways you're welcome to suggest so.</p>\n<h1>Step 4: But there's something wrong...</h1>\n<p>Yes, indeed there is. <strong>A singleton will create only ONE instance for the whole application!</strong> And this is wrong in many levels, especially if we have a web system where our application will be <strong>multithreaded</strong>! How do we solve this, then?</p>\n<p>Java provides a class named <code>ThreadLocal</code>. A <code>ThreadLocal</code> variable will have one instance per thread. Hey, it solves our problem! <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\">See more about how it works</a>, you will need to understand its purpose so we can continue.</p>\n<p>Let's make our <code>INSTANCE</code> <code>ThreadLocal</code> then. Modify the class this way:</p>\n<pre><code>public class DAOManager {\n\n    public static DAOManager getInstance() {\n        return DAOManagerSingleton.INSTANCE.get();\n    }\n\n    public void open() throws SQLException {\n        try\n        {\n            if(this.con==null || !this.con.isOpen())\n                this.con = src.getConnection();\n        }\n        catch(SQLException e) { throw e; }\n    }\n\n    public void close() throws SQLException {\n        try\n        {\n            if(this.con!=null &amp;&amp; this.con.isOpen())\n                this.con.close();\n        }\n        catch(SQLException e) { throw e; }\n    }\n\n    //Private\n    private DataSource src;\n    private Connection con;\n\n    private DAOManager() throws Exception {\n        try\n        {\n            InitialContext ctx = new InitialContext();\n            this.src = (DataSource)ctx.lookup(&quot;jndi/MYSQL&quot;);\n        }\n        catch(Exception e) { throw e; }\n    }\n\n    private static class DAOManagerSingleton {\n\n        public static final ThreadLocal&lt;DAOManager&gt; INSTANCE;\n        static\n        {\n            ThreadLocal&lt;DAOManager&gt; dm;\n            try\n            {\n                dm = new ThreadLocal&lt;DAOManager&gt;(){\n                    @Override\n                    protected DAOManager initialValue() {\n                        try\n                        {\n                            return new DAOManager();\n                        }\n                        catch(Exception e)\n                        {\n                            return null;\n                        }\n                    }\n                };\n            }\n            catch(Exception e)\n                dm = null;\n            INSTANCE = dm;\n        }\n\n    }\n\n}\n</code></pre>\n<p>I would seriously love to not do this</p>\n<pre><code>catch(Exception e)\n{\n    return null;\n}\n</code></pre>\n<p>but <code>initialValue()</code> can't throw an exception. Oh, <code>initialValue()</code> you mean? This method will tell us what value will the <code>ThreadLocal</code> variable hold. Basically we're initializing it. So, thanks to this we can now have one instance per thread.</p>\n<h1>Step 5: Create a DAO</h1>\n<p>A <code>DAOManager</code> is nothing without a DAO. So we should at least create a couple of them.</p>\n<blockquote>\n<p>A DAO, short for &quot;Data Access Object&quot; is a design pattern that gives the responsibility of managing database operations to a class representing a certain table.</p>\n</blockquote>\n<p>In order to use our <code>DAOManager</code> more efficiently, we will define a <code>GenericDAO</code>, which is an abstract DAO that will hold the common operations between all DAOs.</p>\n<pre><code>public abstract class GenericDAO&lt;T&gt; {\n\n    public abstract int count() throws SQLException;\n\n    //Protected\n    protected final String tableName;\n    protected Connection con;\n\n    protected GenericDAO(Connection con, String tableName) {\n        this.tableName = tableName;\n        this.con = con;\n    }\n\n}\n</code></pre>\n<p>For now, that will be enough. Let's create some DAOs. Let's suppose we have two POJOs: <code>First</code> and <code>Second</code>, both with just a <code>String</code> field named <code>data</code> and its getters and setters.</p>\n<pre><code>public class FirstDAO extends GenericDAO&lt;First&gt; {\n\n    public FirstDAO(Connection con) {\n        super(con, TABLENAME);\n    }\n\n    @Override\n    public int count() throws SQLException {\n        String query = &quot;SELECT COUNT(*) AS count FROM &quot;+this.tableName;\n        PreparedStatement counter;\n        try\n        {\n        counter = this.con.PrepareStatement(query);\n        ResultSet res = counter.executeQuery();\n        res.next();\n        return res.getInt(&quot;count&quot;);\n        }\n        catch(SQLException e){ throw e; }\n    }\n\n   //Private\n   private final static String TABLENAME = &quot;FIRST&quot;;\n\n}\n</code></pre>\n<p><code>SecondDAO</code> will have more or less the same structure, just changing <code>TABLENAME</code> to <code>&quot;SECOND&quot;</code>.</p>\n<h1>Step 6: Making the manager a factory</h1>\n<p><code>DAOManager</code> not only should serve the purpose of serving as a single connection point. Actually, <code>DAOManager</code> should answer this question:</p>\n<blockquote>\n<p>Who is the one responsible of managing the connections to the database?</p>\n</blockquote>\n<p>The individual DAOs shouldn't manage them, but <code>DAOManager</code>. We've answered partially the question, but now we shouldn't let anyone manage other connections to the database, not even the DAOs. But, the DAOs need a connection to the database! Who should provide it? <code>DAOManager</code> indeed! What we should do is making a factory method inside <code>DAOManager</code>. Not just that, but <code>DAOManager</code> will also hand them the current connection!</p>\n<p>Factory is a design pattern that will allow us to create instances of a certain superclass, without knowing exactly what child class will be returned.</p>\n<p>First, let's create an <code>enum</code> listing our tables.</p>\n<pre><code>public enum Table { FIRST, SECOND }\n</code></pre>\n<p>And now, the factory method inside <code>DAOManager</code>:</p>\n<pre><code>public GenericDAO getDAO(Table t) throws SQLException\n{\n\n    try\n    {\n        if(this.con == null || this.con.isClosed()) //Let's ensure our connection is open\n            this.open();\n    }\n    catch(SQLException e){ throw e; }\n\n    switch(t)\n    {\n    case FIRST:\n        return new FirstDAO(this.con);\n    case SECOND:\n        return new SecondDAO(this.con);\n    default:\n        throw new SQLException(&quot;Trying to link to an unexistant table.&quot;);\n    }\n\n}\n</code></pre>\n<h1>Step 7: Putting everything together</h1>\n<p>We're good to go now. Try the following code:</p>\n<pre><code>DAOManager dao = DAOManager.getInstance();\nFirstDAO fDao = (FirstDAO)dao.getDAO(Table.FIRST);\nSecondDAO sDao = (SecondDAO)dao.getDAO(Table.SECOND);\nSystem.out.println(fDao.count());\nSystem.out.println(sDao.count());\ndao.close();\n</code></pre>\n<p>Isn't it fancy and easy to read? Not just that, but when you call <code>close()</code>, you close <em>every single connection</em> the DAOs are using. <em>But how?!</em> Well, they're sharing the same connection, so it's just natural.</p>\n<h1>Step 8: Fine-tuning our class</h1>\n<p>We can do several things from here on. To ensure connections are closed and returned to the pool, do the following in <code>DAOManager</code>:</p>\n<pre><code>@Override\nprotected void finalize()\n{\n\n    try{ this.close(); }\n    finally{ super.finalize(); }\n\n}\n</code></pre>\n<p>You can also implement methods that encapsulate <code>setAutoCommit()</code>, <code>commit()</code> and <code>rollback()</code> from the <code>Connection</code> so you can have a better handling of your transactions. What I also did is, instead of just holding a <code>Connection</code>, <code>DAOManager</code> also holds a <code>PreparedStatement</code> and a <code>ResultSet</code>. So, when calling <code>close()</code> it also closes both. A fast way of closing statements and result sets!</p>\n<p>I hope this guide can be of any use to you in your next project!</p>\n"},{"tags":[],"owner":{"account_id":1539045,"reputation":1412,"user_id":1434175,"accept_rate":67,"display_name":"Nestor Hernandez Loli"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1390179010,"creation_date":1390179010,"answer_id":21224628,"question_id":12812256,"body_markdown":"I think that if you want to do a simple DAO pattern in plain JDBC you should keep it simple:\r\n   \r\n\r\n   \r\n\r\n          public List&lt;Customer&gt; listCustomers() {\r\n                List&lt;Customer&gt; list = new ArrayList&lt;&gt;();\r\n                try (Connection conn = getConnection();\r\n                     Statement s = conn.createStatement();\r\n                     ResultSet rs = s.executeQuery(&quot;select * from customers&quot;)) { \r\n                    while (rs.next()) {\r\n                        list.add(processRow(rs));\r\n                    }\r\n                    return list;\r\n                } catch (SQLException e) {\r\n                    throw new RuntimeException(e.getMessage(), e); //or your exceptions\r\n                }\r\n            }\r\n\r\nYou can follow this pattern in a class called for example CustomersDao or CustomerManager, and you can call it with a simple \r\n\r\n    CustomersDao dao = new CustomersDao();\r\n    List&lt;Customers&gt; customers = dao.listCustomers();\r\n\r\n\r\nNote that I&#39;m using try with resources and this code is safe to connections leaks, clean, and straightforward, You probably don&#39;t want to follow the full DAO pattern with Factorys, interfaces and all that plumbing that in many cases don&#39;t add real value.\r\n\r\nI don&#39;t think that it&#39;s a good idea using ThreadLocals, Bad used like in the accepted answer is a source of classloader leaks\r\n\r\n\r\nRemember ALWAYS close your resources (Statements, ResultSets, Connections) in a try finally block or using try with resources\r\n","title":"How do I implement a DAO manager using JDBC and connection pools?","body":"<p>I think that if you want to do a simple DAO pattern in plain JDBC you should keep it simple:</p>\n\n<pre><code>      public List&lt;Customer&gt; listCustomers() {\n            List&lt;Customer&gt; list = new ArrayList&lt;&gt;();\n            try (Connection conn = getConnection();\n                 Statement s = conn.createStatement();\n                 ResultSet rs = s.executeQuery(\"select * from customers\")) { \n                while (rs.next()) {\n                    list.add(processRow(rs));\n                }\n                return list;\n            } catch (SQLException e) {\n                throw new RuntimeException(e.getMessage(), e); //or your exceptions\n            }\n        }\n</code></pre>\n\n<p>You can follow this pattern in a class called for example CustomersDao or CustomerManager, and you can call it with a simple </p>\n\n<pre><code>CustomersDao dao = new CustomersDao();\nList&lt;Customers&gt; customers = dao.listCustomers();\n</code></pre>\n\n<p>Note that I'm using try with resources and this code is safe to connections leaks, clean, and straightforward, You probably don't want to follow the full DAO pattern with Factorys, interfaces and all that plumbing that in many cases don't add real value.</p>\n\n<p>I don't think that it's a good idea using ThreadLocals, Bad used like in the accepted answer is a source of classloader leaks</p>\n\n<p>Remember ALWAYS close your resources (Statements, ResultSets, Connections) in a try finally block or using try with resources</p>\n"}],"owner":{"account_id":1276906,"reputation":3592,"user_id":1231958,"accept_rate":86,"display_name":"Carlos Vergara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69798,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":12812257,"answer_count":2,"score":28,"last_activity_date":1657409842,"creation_date":1349845357,"question_id":12812256,"body_markdown":"My problem is as follows. I need a class that works as a single point to a database connection in a web system, so to avoid having one user with two open connections. I need it to be as optimal as possible and it should manage every transaction in the system. In other words only that class should be able to instantiate DAOs. And to make it better, it should also use connection pooling! What should I do?","title":"How do I implement a DAO manager using JDBC and connection pools?","body":"<p>My problem is as follows. I need a class that works as a single point to a database connection in a web system, so to avoid having one user with two open connections. I need it to be as optimal as possible and it should manage every transaction in the system. In other words only that class should be able to instantiate DAOs. And to make it better, it should also use connection pooling! What should I do?</p>\n"},{"tags":["java","windows","copy","rights"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1657358707,"post_id":72920254,"comment_id":128795173,"body_markdown":"If you are getting &quot;access denied&quot;, there is not much you can do about it in Java.  This implies that the application needs to be run with administrator privilege (or something like that).  Only the user can do that.  An application cannot escalate its privilege.  That would render the access control meaningless ... from a security perspective.","body":"If you are getting &quot;access denied&quot;, there is not much you can do about it in Java.  This implies that the application needs to be run with administrator privilege (or something like that).  Only the user can do that.  An application cannot escalate its privilege.  That would render the access control meaningless ... from a security perspective."},{"owner":{"account_id":25765204,"reputation":13,"user_id":19515384,"display_name":"Hajex"},"score":0,"creation_date":1657358794,"post_id":72920254,"comment_id":128795191,"body_markdown":"@StephenC but there must be a way to realize a Autostart option in a Java Programm right?","body":"@StephenC but there must be a way to realize a Autostart option in a Java Programm right?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1657358818,"post_id":72920254,"comment_id":128795195,"body_markdown":"Only if the Java program is run &gt;by the user&lt; with administrator privilege.","body":"Only if the Java program is run &gt;by the user&lt; with administrator privilege."},{"owner":{"account_id":25765204,"reputation":13,"user_id":19515384,"display_name":"Hajex"},"score":0,"creation_date":1657359009,"post_id":72920254,"comment_id":128795232,"body_markdown":"i dont find an option by rightclicking the .jar to start it with Administrator-right and i also tried Starting the Programm from a cmd-prompt wich i started with Administrator Rights and it throw me the same error","body":"i dont find an option by rightclicking the .jar to start it with Administrator-right and i also tried Starting the Programm from a cmd-prompt wich i started with Administrator Rights and it throw me the same error"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1657359028,"post_id":72920254,"comment_id":128795234,"body_markdown":"Alternatively; see https://stackoverflow.com/questions/1385866 which explains how to get Java to run some other program with admin privilege.   Note that `elevate.exe` will prompt the user for permission.","body":"Alternatively; see <a href=\"https://stackoverflow.com/questions/1385866\">stackoverflow.com/questions/1385866</a> which explains how to get Java to run some other program with admin privilege.   Note that <code>elevate.exe</code> will prompt the user for permission."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657359958,"creation_date":1657359958,"answer_id":72920375,"question_id":72920254,"body_markdown":"Use the following instead, to use the user&#39;s own startup folder. It would need to be done per user though.\r\n\r\n```\r\nSystem.getProperty(&quot;user.home&quot;) + &quot;\\\\AppData\\\\Roaming\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Startup&quot;\r\n```\r\n\r\nProbably better, because it also works if the user changed where the roaming data is stored:\r\n\r\n```\r\nSystem.getenv(&quot;APPDATA&quot;) + &quot;\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Startup&quot;\r\n```","title":"Copy a File into the Startup folder with Java","body":"<p>Use the following instead, to use the user's own startup folder. It would need to be done per user though.</p>\n<pre><code>System.getProperty(&quot;user.home&quot;) + &quot;\\\\AppData\\\\Roaming\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Startup&quot;\n</code></pre>\n<p>Probably better, because it also works if the user changed where the roaming data is stored:</p>\n<pre><code>System.getenv(&quot;APPDATA&quot;) + &quot;\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Startup&quot;\n</code></pre>\n"}],"owner":{"account_id":25765204,"reputation":13,"user_id":19515384,"display_name":"Hajex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72920375,"answer_count":1,"score":1,"last_activity_date":1657408404,"creation_date":1657358490,"question_id":72920254,"body_markdown":"I want to code a program in which the user can turn on &quot;Autostart&quot;, that means that the Program will automatically start when the Windows 10 PC Starts.\r\n\r\nDoing it manually is simple, I can put a shortcut or the .jar File in the Windows Startup folder, but when I try to make this toggleable from my program, I get a problem.\r\n\r\n```\r\npublic void run() {\r\n    File src = new File(&quot;Test.txt&quot;); //my test File\r\n    File dst = new File(&quot;C:\\\\ProgramData\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\StartUp\\\\itWorked.txt&quot;); //StartUp Folder\r\n\r\n    try {\r\n        Files.copy(src.toPath(), dst.toPath(), StandardCopyOption.REPLACE_EXISTING); //Copy\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nThis is my code to copy files, if I copy my &quot;Test.txt&quot; to my Desktop, it works but when I try to copy this into the Startup Folder, it throws me a `&lt;java.nio.file.AccessDeniedException&gt;`\r\n\r\nI also tried starting my program from cmd with Administrator-rights but it didn&#39;t work either.\r\n\r\nHow can I copy a File into the Startup Folder from Windows to let my program automatically run after a PC restart using Java Code?\r\n\r\nPS: it only have to work on Windows 10\r\n","title":"Copy a File into the Startup folder with Java","body":"<p>I want to code a program in which the user can turn on &quot;Autostart&quot;, that means that the Program will automatically start when the Windows 10 PC Starts.</p>\n<p>Doing it manually is simple, I can put a shortcut or the .jar File in the Windows Startup folder, but when I try to make this toggleable from my program, I get a problem.</p>\n<pre><code>public void run() {\n    File src = new File(&quot;Test.txt&quot;); //my test File\n    File dst = new File(&quot;C:\\\\ProgramData\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\StartUp\\\\itWorked.txt&quot;); //StartUp Folder\n\n    try {\n        Files.copy(src.toPath(), dst.toPath(), StandardCopyOption.REPLACE_EXISTING); //Copy\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This is my code to copy files, if I copy my &quot;Test.txt&quot; to my Desktop, it works but when I try to copy this into the Startup Folder, it throws me a <code>&lt;java.nio.file.AccessDeniedException&gt;</code></p>\n<p>I also tried starting my program from cmd with Administrator-rights but it didn't work either.</p>\n<p>How can I copy a File into the Startup Folder from Windows to let my program automatically run after a PC restart using Java Code?</p>\n<p>PS: it only have to work on Windows 10</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1657362574,"post_id":72920616,"comment_id":128795821,"body_markdown":"You do not need to reset the variable in order to assign a new value to it. Just assign a new value to it, period.","body":"You do not need to reset the variable in order to assign a new value to it. Just assign a new value to it, period."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1657362669,"post_id":72920616,"comment_id":128795837,"body_markdown":"Unless there is more code that you haven&#39;t shown us that does something else (the snippet you provided isn&#39;t even valid, the loop is not complete), the problem is that you&#39;re assigning to `y` a value that depends on variables that do not change within the loop, so for all iterations of the loop, `y` will be the same.","body":"Unless there is more code that you haven&#39;t shown us that does something else (the snippet you provided isn&#39;t even valid, the loop is not complete), the problem is that you&#39;re assigning to <code>y</code> a value that depends on variables that do not change within the loop, so for all iterations of the loop, <code>y</code> will be the same."},{"owner":{"account_id":25765536,"reputation":1,"user_id":19515608,"display_name":"Science Stuff"},"score":0,"creation_date":1657363107,"post_id":72920616,"comment_id":128795903,"body_markdown":"@JustAnotherDeveloper thank you for the answer i think it has solved the problem perfectly thank you a million times","body":"@JustAnotherDeveloper thank you for the answer i think it has solved the problem perfectly thank you a million times"}],"answers":[{"tags":[],"owner":{"account_id":22302441,"reputation":94,"user_id":16527504,"display_name":"MegaBytten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657363161,"creation_date":1657363161,"answer_id":72920671,"question_id":72920616,"body_markdown":"Are you able to update your code block to include ALL code from your class.java file? It would help us see what could be wrong, because from this code snippet, y is _not_ saved outside of the loop, therefore for every iteration (cycle) of the loop it would be reset and re-assigned.\r\n\r\nAs someone else has said, the y value does not change at any time in the loop, as all variables used (other than y) are declared _outside_ of the loop. This loop simply prints the same y value &quot;timePassed&quot; amount of times.","title":"How can I erase the value of my variable inside of a for loop in Java","body":"<p>Are you able to update your code block to include ALL code from your class.java file? It would help us see what could be wrong, because from this code snippet, y is <em>not</em> saved outside of the loop, therefore for every iteration (cycle) of the loop it would be reset and re-assigned.</p>\n<p>As someone else has said, the y value does not change at any time in the loop, as all variables used (other than y) are declared <em>outside</em> of the loop. This loop simply prints the same y value &quot;timePassed&quot; amount of times.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657408289,"creation_date":1657408289,"answer_id":72925189,"question_id":72920616,"body_markdown":"Here&#39;s the code that you posted, including line numbers:\r\n```\r\n1.  for(i = 0; i&lt;=timePassed; i++) {\r\n2.  y = r * x * (1 - x)\r\n3.  System.out.println(y)\r\n4.\r\n```\r\n\r\nHere are various comments + fixes:\r\n* Line 1: assume `i` is declared somewhere, like this: `int i`\r\n* Line 1: assume `timePassed` is declared somewhere and has a value set, like: `int timePassed = 5;`\r\n* Line 2: assume `y` is declared somewhere, like: `int y;`\r\n* Line 2: assume `r` and `x` are both declared somewhere, and have values set, like: `int r = 1, x = 2;`\r\n* Lines 2-3: need semicolons to terminate each line inside the loop: add `;` at the end of each line\r\n* Line 4: add closing brace `}` to the &quot;for&quot; loop\r\n\r\nHere is the code with those edits applied:\r\n```\r\nint timePassed = 5, y, r = 1, x = 2;\r\nfor (int i = 0; i &lt;= timePassed; i++) {\r\n    y = r * x * (1 - x);\r\n    System.out.println(y);\r\n}\r\n```\r\nRunning that code produces this output:\r\n```\r\n-2\r\n-2\r\n-2\r\n-2\r\n-2\r\n-2\r\n```\r\nThe output doesn&#39;t change. Why? Because the calculation to determine each new value of &quot;y&quot; is the same each time: `r * x * (1 - x)`. Despite being inside a loop, and with `i` changing each iteration through the loop, `i` is not used in the calculation at all.\r\n\r\nHere&#39;s an edit to the code, removing the entire &quot;for&quot; loop (and `i`), and it produces the same `-2` value:\r\n```\r\nint y, r = 1, x = 2;\r\ny = r * x * (1 - x);\r\nSystem.out.println(y);\r\n\r\n-2\r\n```\r\n\r\nTo demonstrate that `y` is being set each time through the loop, here&#39;s a variation of the code (including output) where `i` is included in the calculation for `y`.\r\n```\r\nint timePassed = 5, y, r = 1, x = 2;\r\nfor (int i = 0; i &lt;= timePassed; i++) {\r\n    y = r * x * (1 - x) * i;\r\n    System.out.println(y);\r\n}\r\n\r\n0\r\n-2\r\n-4\r\n-6\r\n-8\r\n-10\r\n```\r\n","title":"How can I erase the value of my variable inside of a for loop in Java","body":"<p>Here's the code that you posted, including line numbers:</p>\n<pre><code>1.  for(i = 0; i&lt;=timePassed; i++) {\n2.  y = r * x * (1 - x)\n3.  System.out.println(y)\n4.\n</code></pre>\n<p>Here are various comments + fixes:</p>\n<ul>\n<li>Line 1: assume <code>i</code> is declared somewhere, like this: <code>int i</code></li>\n<li>Line 1: assume <code>timePassed</code> is declared somewhere and has a value set, like: <code>int timePassed = 5;</code></li>\n<li>Line 2: assume <code>y</code> is declared somewhere, like: <code>int y;</code></li>\n<li>Line 2: assume <code>r</code> and <code>x</code> are both declared somewhere, and have values set, like: <code>int r = 1, x = 2;</code></li>\n<li>Lines 2-3: need semicolons to terminate each line inside the loop: add <code>;</code> at the end of each line</li>\n<li>Line 4: add closing brace <code>}</code> to the &quot;for&quot; loop</li>\n</ul>\n<p>Here is the code with those edits applied:</p>\n<pre><code>int timePassed = 5, y, r = 1, x = 2;\nfor (int i = 0; i &lt;= timePassed; i++) {\n    y = r * x * (1 - x);\n    System.out.println(y);\n}\n</code></pre>\n<p>Running that code produces this output:</p>\n<pre><code>-2\n-2\n-2\n-2\n-2\n-2\n</code></pre>\n<p>The output doesn't change. Why? Because the calculation to determine each new value of &quot;y&quot; is the same each time: <code>r * x * (1 - x)</code>. Despite being inside a loop, and with <code>i</code> changing each iteration through the loop, <code>i</code> is not used in the calculation at all.</p>\n<p>Here's an edit to the code, removing the entire &quot;for&quot; loop (and <code>i</code>), and it produces the same <code>-2</code> value:</p>\n<pre><code>int y, r = 1, x = 2;\ny = r * x * (1 - x);\nSystem.out.println(y);\n\n-2\n</code></pre>\n<p>To demonstrate that <code>y</code> is being set each time through the loop, here's a variation of the code (including output) where <code>i</code> is included in the calculation for <code>y</code>.</p>\n<pre><code>int timePassed = 5, y, r = 1, x = 2;\nfor (int i = 0; i &lt;= timePassed; i++) {\n    y = r * x * (1 - x) * i;\n    System.out.println(y);\n}\n\n0\n-2\n-4\n-6\n-8\n-10\n</code></pre>\n"}],"owner":{"account_id":25765536,"reputation":1,"user_id":19515608,"display_name":"Science Stuff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657408289,"creation_date":1657362452,"question_id":72920616,"body_markdown":"```\r\nfor(i = 0; i&lt;=timePassed; i++) {\r\ny = r * x * (1 - x)\r\nSystem.out.println(y)\r\n```\r\n\r\nSo how do I reset the value of y every time the for loop loops so that i can assign a new value to it? I cannot wrap my head around it **I have already tried to set y to 0** at the end of the loop right after printing y but that didnt seem to work. I also tried setting it to null but that gave me an error(?) I cannot understand why this is happening can someone please explain how to do this and what I did wrong?","title":"How can I erase the value of my variable inside of a for loop in Java","body":"<pre><code>for(i = 0; i&lt;=timePassed; i++) {\ny = r * x * (1 - x)\nSystem.out.println(y)\n</code></pre>\n<p>So how do I reset the value of y every time the for loop loops so that i can assign a new value to it? I cannot wrap my head around it <strong>I have already tried to set y to 0</strong> at the end of the loop right after printing y but that didnt seem to work. I also tried setting it to null but that gave me an error(?) I cannot understand why this is happening can someone please explain how to do this and what I did wrong?</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":182320,"reputation":22341,"user_id":416926,"accept_rate":81,"display_name":"Saeed Amiri"},"score":0,"creation_date":1288774818,"post_id":4084495,"comment_id":4393235,"body_markdown":"if N is small run finding biggest value for N time","body":"if N is small run finding biggest value for N time"},{"owner":{"account_id":139628,"reputation":1305,"user_id":345345,"accept_rate":78,"display_name":"piccolbo"},"score":0,"creation_date":1288850124,"post_id":4084495,"comment_id":4404861,"body_markdown":"That gives you the max N times, not top N elements.","body":"That gives you the max N times, not top N elements."},{"owner":{"account_id":244136,"reputation":1313,"user_id":516730,"accept_rate":100,"display_name":"Anil Katti"},"score":0,"creation_date":1290828791,"post_id":4084495,"comment_id":4654743,"body_markdown":"how do you define &#39;top&#39;?","body":"how do you define &#39;top&#39;?"},{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":0,"creation_date":1290836288,"post_id":4084495,"comment_id":4655224,"body_markdown":"first n elements in a descending sorted array","body":"first n elements in a descending sorted array"},{"owner":{"account_id":82057,"reputation":5965,"user_id":231010,"accept_rate":92,"display_name":"didxga"},"score":1,"creation_date":1310524962,"post_id":4084495,"comment_id":7892303,"body_markdown":"please see answers in this thread http://stackoverflow.com/questions/251781/how-to-find-the-kth-largest-element-in-an-unsorted-array-of-length-n-in-on","body":"please see answers in this thread <a href=\"http://stackoverflow.com/questions/251781/how-to-find-the-kth-largest-element-in-an-unsorted-array-of-length-n-in-on\" title=\"how to find the kth largest element in an unsorted array of length n in on\">stackoverflow.com/questions/251781/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1288764054,"creation_date":1288763458,"answer_id":4084510,"question_id":4084495,"body_markdown":"Yes, you can do it in O(n) by just keeping a (sorted) running list of the top N.  You can sort the running list using the regular library functions or a [sorting network][1].  E.g. a simple demo using 3, and showing which elements in the running list change each iteration.\r\n\r\n5 2 8 7 9\r\n\r\n    i = 0\r\n    top[0] &lt;= 5\r\n    \r\n    i = 1\r\n    top[1] &lt;= 2\r\n    \r\n    i = 2\r\n    top[2] &lt;= top[1] (2)\r\n    top[1] &lt;= top[0] (5)\r\n    top[0] &lt;= 8\r\n\r\n    i = 3\r\n    top[2] &lt;= top[1] (5)\r\n    top[1] &lt;= 7\r\n    \r\n    i = 4\r\n    top[2] &lt;= top[1] (7)\r\n    top[1] &lt;= top[0] (8)\r\n    top[0] &lt;= 9\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Sorting_network","title":"Find top N elements in an Array","body":"<p>Yes, you can do it in O(n) by just keeping a (sorted) running list of the top N.  You can sort the running list using the regular library functions or a <a href=\"http://en.wikipedia.org/wiki/Sorting_network\" rel=\"nofollow\">sorting network</a>.  E.g. a simple demo using 3, and showing which elements in the running list change each iteration.</p>\n\n<p>5 2 8 7 9</p>\n\n<pre><code>i = 0\ntop[0] &lt;= 5\n\ni = 1\ntop[1] &lt;= 2\n\ni = 2\ntop[2] &lt;= top[1] (2)\ntop[1] &lt;= top[0] (5)\ntop[0] &lt;= 8\n\ni = 3\ntop[2] &lt;= top[1] (5)\ntop[1] &lt;= 7\n\ni = 4\ntop[2] &lt;= top[1] (7)\ntop[1] &lt;= top[0] (8)\ntop[0] &lt;= 9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61733,"reputation":17010,"user_id":183828,"accept_rate":81,"display_name":"Yin Zhu"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1288763502,"creation_date":1288763502,"answer_id":4084513,"question_id":4084495,"body_markdown":"The time could be reduced to linear time:\r\n\r\n1. Use the [selection algorithm][1], which effectively find the k-th element in a un-sorted array in linear time. You can either use a variant of quick sort or more robust algorithms. \r\n\r\n\r\n2. Get the top k using the pivot got in step 1. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Selection_algorithm","title":"Find top N elements in an Array","body":"<p>The time could be reduced to linear time:</p>\n\n<ol>\n<li><p>Use the <a href=\"http://en.wikipedia.org/wiki/Selection_algorithm\" rel=\"noreferrer\">selection algorithm</a>, which effectively find the k-th element in a un-sorted array in linear time. You can either use a variant of quick sort or more robust algorithms. </p></li>\n<li><p>Get the top k using the pivot got in step 1. </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":115274,"reputation":572,"user_id":302755,"display_name":"CodeKata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288763731,"creation_date":1288763731,"answer_id":4084533,"question_id":4084495,"body_markdown":"Yes there is a way to do better than quicksort. As pointed by Yin Zhu, you can search for kth largest element first and then use that element value as your pivot to split the array","title":"Find top N elements in an Array","body":"<p>Yes there is a way to do better than quicksort. As pointed by Yin Zhu, you can search for kth largest element first and then use that element value as your pivot to split the array</p>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486187199,"creation_date":1288765663,"answer_id":4084673,"question_id":4084495,"body_markdown":"The best solution is to use whatever facilities your chosen language provides which will make your life easier.\r\n\r\nHowever, assuming this was a question more related to what algorithm you should choose, I&#39;m going to suggest a different approach here. If you&#39;re talking about 10 from 100, you shouldn&#39;t generally worry too much about performance unless you want to do it _many_ times per second.\r\n\r\nFor example, this C code (which is about as inefficient as I can make it without being silly) still takes well under a tenth of a second to execute. That&#39;s not enough time for me to even think about going to get a coffee.\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    #include &lt;time.h&gt;\r\n\r\n    #define SRCSZ 100\r\n    #define DSTSZ 10\r\n\r\n    int main (void) {\r\n        int unused[SRCSZ], source[SRCSZ], dest[DSTSZ], i, j, pos;\r\n\r\n        srand (time (NULL));\r\n        for (i = 0; i &lt; SRCSZ; i++) {\r\n            unused[i] = 1;\r\n            source[i] = rand() % 1000;\r\n        }\r\n\r\n        for (i = 0; i &lt; DSTSZ; i++) {\r\n            pos = -1;\r\n            for (j = 0; j &lt; SRCSZ; j++) {\r\n                if (pos == -1) {\r\n                    if (unused[j]) {\r\n                        pos = j;\r\n                    }\r\n                } else {\r\n                    if (unused[j] &amp;&amp; (source[j] &gt; source[pos])) {\r\n                        pos = j;\r\n                    }\r\n                }\r\n            }\r\n            dest[i] = source[pos];\r\n            unused[pos] = 0;\r\n        }\r\n\r\n        printf (&quot;Source:&quot;);\r\n        for (i = 0; i &lt; SRCSZ; i++) printf (&quot; %d&quot;, source[i]);\r\n        printf (&quot;\\nDest:&quot;);\r\n        for (i = 0; i &lt; DSTSZ; i++) printf (&quot; %d&quot;, dest[i]);\r\n        printf (&quot;\\n&quot;);\r\n\r\n        return 0;\r\n    }\r\n\r\nRunning it through `time` gives you (I&#39;ve formatted the output a bit to make it readable, but haven&#39;t affected the results):\r\n\r\n    Source: 403 459 646 467 120 346 430 247 68 312 701 304 707 443\r\n            753 433 986 921 513 634 861 741 482 794 679 409 145 93\r\n            512 947 19 9 385 208 795 742 851 638 924 637 638 141\r\n            382 89 998 713 210 732 784 67 273 628 187 902 42 25\r\n            747 471 686 504 255 74 638 610 227 892 156 86 48 133\r\n            63 234 639 899 815 986 750 177 413 581 899 494 292 359\r\n            60 106 944 926 257 370 310 726 393 800 986 827 856 835\r\n            66 183 901\r\n    Dest: 998 986 986 986 947 944 926 924 921 902\r\n    \r\n    real    0m0.063s\r\n    user    0m0.046s\r\n    sys     0m0.031s\r\n\r\nOnly once the quantities of numbers become large should you usually worry. Don&#39;t get me wrong, I&#39;m not saying you shouldn&#39;t _think_ about performance. What you shouldn&#39;t do is spend too much time optimising things that don&#39;t matter - YAGNI and all that jazz.\r\n\r\nAs with all optimisation questions, _measure don&#39;t guess!_\r\n","title":"Find top N elements in an Array","body":"<p>The best solution is to use whatever facilities your chosen language provides which will make your life easier.</p>\n\n<p>However, assuming this was a question more related to what algorithm you should choose, I'm going to suggest a different approach here. If you're talking about 10 from 100, you shouldn't generally worry too much about performance unless you want to do it <em>many</em> times per second.</p>\n\n<p>For example, this C code (which is about as inefficient as I can make it without being silly) still takes well under a tenth of a second to execute. That's not enough time for me to even think about going to get a coffee.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n\n#define SRCSZ 100\n#define DSTSZ 10\n\nint main (void) {\n    int unused[SRCSZ], source[SRCSZ], dest[DSTSZ], i, j, pos;\n\n    srand (time (NULL));\n    for (i = 0; i &lt; SRCSZ; i++) {\n        unused[i] = 1;\n        source[i] = rand() % 1000;\n    }\n\n    for (i = 0; i &lt; DSTSZ; i++) {\n        pos = -1;\n        for (j = 0; j &lt; SRCSZ; j++) {\n            if (pos == -1) {\n                if (unused[j]) {\n                    pos = j;\n                }\n            } else {\n                if (unused[j] &amp;&amp; (source[j] &gt; source[pos])) {\n                    pos = j;\n                }\n            }\n        }\n        dest[i] = source[pos];\n        unused[pos] = 0;\n    }\n\n    printf (\"Source:\");\n    for (i = 0; i &lt; SRCSZ; i++) printf (\" %d\", source[i]);\n    printf (\"\\nDest:\");\n    for (i = 0; i &lt; DSTSZ; i++) printf (\" %d\", dest[i]);\n    printf (\"\\n\");\n\n    return 0;\n}\n</code></pre>\n\n<p>Running it through <code>time</code> gives you (I've formatted the output a bit to make it readable, but haven't affected the results):</p>\n\n<pre><code>Source: 403 459 646 467 120 346 430 247 68 312 701 304 707 443\n        753 433 986 921 513 634 861 741 482 794 679 409 145 93\n        512 947 19 9 385 208 795 742 851 638 924 637 638 141\n        382 89 998 713 210 732 784 67 273 628 187 902 42 25\n        747 471 686 504 255 74 638 610 227 892 156 86 48 133\n        63 234 639 899 815 986 750 177 413 581 899 494 292 359\n        60 106 944 926 257 370 310 726 393 800 986 827 856 835\n        66 183 901\nDest: 998 986 986 986 947 944 926 924 921 902\n\nreal    0m0.063s\nuser    0m0.046s\nsys     0m0.031s\n</code></pre>\n\n<p>Only once the quantities of numbers become large should you usually worry. Don't get me wrong, I'm not saying you shouldn't <em>think</em> about performance. What you shouldn't do is spend too much time optimising things that don't matter - YAGNI and all that jazz.</p>\n\n<p>As with all optimisation questions, <em>measure don't guess!</em></p>\n"},{"tags":[],"owner":{"account_id":20180,"reputation":50570,"user_id":47984,"accept_rate":67,"display_name":"j_random_hacker"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1288767379,"creation_date":1288767379,"answer_id":4084802,"question_id":4084495,"body_markdown":"If you&#39;re dealing with simple elements like fixed-length integers, then provided you can spare a memory buffer of the same size as the input data, sorting can be done in O(n) time using bucket or radix sorts, and this will be the fastest.\r\n\r\nAlthough there are linear-time selection algorithms, **[the hidden constant is very high -- around 24](http://www.ics.uci.edu/~eppstein/161/960130.html)**.  That means an O(nlog n) algorithm will be typically faster for fewer than several million elements.\r\n\r\nOtherwise, in the general case when you can only compare 2 elements and determine which is greater, the problem is best solved by a [heap data structure](http://en.wikipedia.org/wiki/Heap_%28data_structure%29).\r\n\r\nSuppose you want the top k of n items.  All solutions based on fully sorting the data require O(nlog n) time, while using a heap requires only O(nlog k) time -- just build a heap on the first k elements, then keep adding an element and removing the maximum.  This will leave you with a heap containing the smallest k elements.\r\n","title":"Find top N elements in an Array","body":"<p>If you're dealing with simple elements like fixed-length integers, then provided you can spare a memory buffer of the same size as the input data, sorting can be done in O(n) time using bucket or radix sorts, and this will be the fastest.</p>\n\n<p>Although there are linear-time selection algorithms, <strong><a href=\"http://www.ics.uci.edu/~eppstein/161/960130.html\">the hidden constant is very high -- around 24</a></strong>.  That means an O(nlog n) algorithm will be typically faster for fewer than several million elements.</p>\n\n<p>Otherwise, in the general case when you can only compare 2 elements and determine which is greater, the problem is best solved by a <a href=\"http://en.wikipedia.org/wiki/Heap_%28data_structure%29\">heap data structure</a>.</p>\n\n<p>Suppose you want the top k of n items.  All solutions based on fully sorting the data require O(nlog n) time, while using a heap requires only O(nlog k) time -- just build a heap on the first k elements, then keep adding an element and removing the maximum.  This will leave you with a heap containing the smallest k elements.</p>\n"},{"tags":[],"owner":{"account_id":231236,"reputation":1346,"user_id":495341,"accept_rate":84,"display_name":"nuaavee"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1474483635,"creation_date":1288816410,"answer_id":4091415,"question_id":4084495,"body_markdown":"How about delegating everything to Java ;)\r\n\r\n    function findTopN(Array list, int n)\r\n    {\r\n        Set sortedSet&lt;Integer&gt; = new TreeSet&lt;&gt;(Comparators.naturalOrder());\r\n\r\n        // add all elements from list to sortedSet\r\n\r\n        // return the first n from sortedSet\r\n    }\r\n\r\nI am not trying to say that this is the best way. I still think Yin Zhu&#39;s method of finding the kth largest element is the best answer.","title":"Find top N elements in an Array","body":"<p>How about delegating everything to Java ;)</p>\n\n<pre><code>function findTopN(Array list, int n)\n{\n    Set sortedSet&lt;Integer&gt; = new TreeSet&lt;&gt;(Comparators.naturalOrder());\n\n    // add all elements from list to sortedSet\n\n    // return the first n from sortedSet\n}\n</code></pre>\n\n<p>I am not trying to say that this is the best way. I still think Yin Zhu's method of finding the kth largest element is the best answer.</p>\n"},{"tags":[],"owner":{"account_id":1062051,"reputation":1417,"user_id":1063449,"display_name":"Charles Munger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350971773,"creation_date":1350971773,"answer_id":13024310,"question_id":4084495,"body_markdown":"Well, you can create a heap from an unsorted array in O(n) time, and you can get the top element from the heap in O(log(n)) time. So your total runtime is O(n + k*log(n)). ","title":"Find top N elements in an Array","body":"<p>Well, you can create a heap from an unsorted array in O(n) time, and you can get the top element from the heap in O(log(n)) time. So your total runtime is O(n + k*log(n)). </p>\n"},{"tags":[],"owner":{"account_id":1046620,"reputation":3372,"user_id":1051462,"display_name":"Dmitri Algazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372374116,"creation_date":1372373455,"answer_id":17354532,"question_id":4084495,"body_markdown":"I was asked for the same algorithm on the interview.\r\nI done that, if somebody can compare that with fastest algorithm in Java - will be very useful.\r\n\r\n        public int[] findTopNValues(int[] anyOldOrderValues, int n) {\r\n            if (n &lt; 0) {\r\n                return new int[]{};\r\n            }\r\n            if (n == 1) {\r\n                return new int[]{findMaxValue(anyOldOrderValues)};\r\n            }\r\n    \r\n            int[] result = new int[n + 1];\r\n            for (int i = 0; i &lt; Math.min(n, anyOldOrderValues.length); i++) {\r\n                result[i] = anyOldOrderValues[i];\r\n            }\r\n            Arrays.sort(result);\r\n    \r\n            int max = result[0];\r\n            for (int i = n - 1; i &lt; anyOldOrderValues.length; i++) {\r\n                int value = anyOldOrderValues[i];\r\n                if (max &lt; value) {\r\n                    result[n] = value;\r\n                    Arrays.sort(result);\r\n                    int[] result1 = new int[n + 1];\r\n                    System.arraycopy(result, 1, result1, 0, n);\r\n                    result = result1;\r\n                    max = result[0];\r\n                }\r\n            }\r\n            return convertAndFlip(result, n);\r\n        }\r\n    \r\n        public static int[] convertAndFlip(int[] integers, int n) {\r\n            int[] result = new int[n];\r\n            int j = 0;\r\n            for (int i = n - 1; i &gt; -1; i--) {\r\n                result[j++] = integers[i];\r\n            }\r\n            return result;\r\n        }\r\n\r\nand test for that:\r\n\r\n    public void testFindTopNValues() throws Exception {\r\n        final int N = 100000000;\r\n        final int MAX_VALUE = 100000000;\r\n        final int returnArray = 1000;\r\n        final int repeatTimes = 5;\r\n\r\n        FindTopValuesArraySorting arraySorting = new FindTopValuesArraySorting();\r\n\r\n        int[] randomArray = createRandomArray(N, MAX_VALUE);\r\n        for (int i = 0; i &lt; repeatTimes; i++) {\r\n\r\n            long start = System.currentTimeMillis();\r\n            int[] topNValues = arraySorting.findTopNValues(randomArray, returnArray);\r\n            long stop = System.currentTimeMillis();\r\n\r\n            System.out.println(&quot;findTopNValues() from &quot; + N + &quot; elements, where MAX value=&quot; + (MAX_VALUE - 1) + &quot; and return array size &quot; + returnArray + &quot; elements : &quot; + (stop - start) + &quot;msec&quot;);\r\n            // System.out.println(&quot;Result list = &quot; + Arrays.toString(topNValues));\r\n        }\r\n    }\r\n\r\n    private static int[] createRandomArray(int n, int maxValue) {\r\n        Random r = new Random();\r\n        int[] arr = new int[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            arr[i] = r.nextInt(maxValue);\r\n        }\r\n        return arr;\r\n    }\r\n\r\nResult is something like:\r\n\r\n    findTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 395msec\r\n    findTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 311msec\r\n    findTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 473msec\r\n    findTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 380msec\r\n    findTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 406msec\r\n\r\n~400msc average result, for getting 1000 max integers from array of 100.000.000 initial elements.\r\nnot bad!\r\n\r\nJust tried that set from above:\r\n\r\n    findTopNValues() from 101 elements and return array size 10 elements : 1msec\r\n    Result list = [998, 986, 986, 986, 947, 944, 926, 924, 921, 902]\r\n    Original list = [403, 459, 646, 467, 120, 346, 430, 247, 68, 312, 701, 304, 707, 443, 753, 433, 986, 921, 513, 634, 861, 741, 482, 794, 679, 409, 145, 93, 512, 947, 19, 9, 385, 208, 795, 742, 851, 638, 924, 637, 638, 141, 382, 89, 998, 713, 210, 732, 784, 67, 273, 628, 187, 902, 42, 25, 747, 471, 686, 504, 255, 74, 638, 610, 227, 892, 156, 86, 48, 133, 63, 234, 639, 899, 815, 986, 750, 177, 413, 581, 899, 494, 292, 359, 60, 106, 944, 926, 257, 370, 310, 726, 393, 800, 986, 827, 856, 835, 66, 183, 901]\r\n\r\n","title":"Find top N elements in an Array","body":"<p>I was asked for the same algorithm on the interview.\nI done that, if somebody can compare that with fastest algorithm in Java - will be very useful.</p>\n\n<pre><code>    public int[] findTopNValues(int[] anyOldOrderValues, int n) {\n        if (n &lt; 0) {\n            return new int[]{};\n        }\n        if (n == 1) {\n            return new int[]{findMaxValue(anyOldOrderValues)};\n        }\n\n        int[] result = new int[n + 1];\n        for (int i = 0; i &lt; Math.min(n, anyOldOrderValues.length); i++) {\n            result[i] = anyOldOrderValues[i];\n        }\n        Arrays.sort(result);\n\n        int max = result[0];\n        for (int i = n - 1; i &lt; anyOldOrderValues.length; i++) {\n            int value = anyOldOrderValues[i];\n            if (max &lt; value) {\n                result[n] = value;\n                Arrays.sort(result);\n                int[] result1 = new int[n + 1];\n                System.arraycopy(result, 1, result1, 0, n);\n                result = result1;\n                max = result[0];\n            }\n        }\n        return convertAndFlip(result, n);\n    }\n\n    public static int[] convertAndFlip(int[] integers, int n) {\n        int[] result = new int[n];\n        int j = 0;\n        for (int i = n - 1; i &gt; -1; i--) {\n            result[j++] = integers[i];\n        }\n        return result;\n    }\n</code></pre>\n\n<p>and test for that:</p>\n\n<pre><code>public void testFindTopNValues() throws Exception {\n    final int N = 100000000;\n    final int MAX_VALUE = 100000000;\n    final int returnArray = 1000;\n    final int repeatTimes = 5;\n\n    FindTopValuesArraySorting arraySorting = new FindTopValuesArraySorting();\n\n    int[] randomArray = createRandomArray(N, MAX_VALUE);\n    for (int i = 0; i &lt; repeatTimes; i++) {\n\n        long start = System.currentTimeMillis();\n        int[] topNValues = arraySorting.findTopNValues(randomArray, returnArray);\n        long stop = System.currentTimeMillis();\n\n        System.out.println(\"findTopNValues() from \" + N + \" elements, where MAX value=\" + (MAX_VALUE - 1) + \" and return array size \" + returnArray + \" elements : \" + (stop - start) + \"msec\");\n        // System.out.println(\"Result list = \" + Arrays.toString(topNValues));\n    }\n}\n\nprivate static int[] createRandomArray(int n, int maxValue) {\n    Random r = new Random();\n    int[] arr = new int[n];\n    for (int i = 0; i &lt; n; i++) {\n        arr[i] = r.nextInt(maxValue);\n    }\n    return arr;\n}\n</code></pre>\n\n<p>Result is something like:</p>\n\n<pre><code>findTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 395msec\nfindTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 311msec\nfindTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 473msec\nfindTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 380msec\nfindTopNValues() from 100000000 elements, where MAX value=99999999 and return array size 1000 elements : 406msec\n</code></pre>\n\n<p>~400msc average result, for getting 1000 max integers from array of 100.000.000 initial elements.\nnot bad!</p>\n\n<p>Just tried that set from above:</p>\n\n<pre><code>findTopNValues() from 101 elements and return array size 10 elements : 1msec\nResult list = [998, 986, 986, 986, 947, 944, 926, 924, 921, 902]\nOriginal list = [403, 459, 646, 467, 120, 346, 430, 247, 68, 312, 701, 304, 707, 443, 753, 433, 986, 921, 513, 634, 861, 741, 482, 794, 679, 409, 145, 93, 512, 947, 19, 9, 385, 208, 795, 742, 851, 638, 924, 637, 638, 141, 382, 89, 998, 713, 210, 732, 784, 67, 273, 628, 187, 902, 42, 25, 747, 471, 686, 504, 255, 74, 638, 610, 227, 892, 156, 86, 48, 133, 63, 234, 639, 899, 815, 986, 750, 177, 413, 581, 899, 494, 292, 359, 60, 106, 944, 926, 257, 370, 310, 726, 393, 800, 986, 827, 856, 835, 66, 183, 901]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2909658,"reputation":61,"user_id":2502675,"display_name":"Srihari Konakanchi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430057629,"creation_date":1374243521,"answer_id":17748393,"question_id":4084495,"body_markdown":"Written below both selection sort and insertion sort implementations. For larger data set I suggest insetion sort better than selection sort\r\n\r\n    public interface FindTopValues\r\n    {\r\n      int[] findTopNValues(int[] data, int n);\r\n    }\r\n\r\nInsertion Sort Implementation:\r\n\r\n    public class FindTopValuesInsertionSortImpl implements FindTopValues {\t\r\n\r\n\t/**\r\n\t * Finds list of the highest &#39;n&#39; values in the source list, ordered naturally, \r\n\t * with the highest value at the start of the array and returns it \r\n\t */\r\n\t@Override\r\n\tpublic int[] findTopNValues(int[] values, int n) {\r\n\t\t\r\n\t\tint length = values.length;\r\n\t\tfor (int i=1; i&lt;length; i++) {\r\n\t\t\tint curPos = i;\r\n\t\t\twhile ((curPos &gt; 0) &amp;&amp; (values[i] &gt; values[curPos-1])) {\r\n\t\t\t\tcurPos--;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (curPos != i) {\r\n\t\t\t\tint element = values[i];\r\n\t\t\t\tSystem.arraycopy(values, curPos, values, curPos+1, (i-curPos));\r\n\t\t\t\tvalues[curPos] = element;\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\t\r\n\t\treturn Arrays.copyOf(values, n);\t\t\r\n\t}\t\r\n\r\n    }\r\n\r\n\r\nSelection Sort Implementation:\r\n\r\n    public class FindTopValuesSelectionSortImpl implements FindTopValues {\r\n\t\r\n\t/**\r\n\t * Finds list of the highest &#39;n&#39; values in the source list, ordered naturally, \r\n\t * with the highest value at the start of the array and returns it \r\n\t */\r\n\t@Override\r\n\tpublic int[] findTopNValues(int[] values, int n) {\r\n\t\tint length = values.length;\r\n\t\t\r\n\t\tfor (int i=0; i&lt;=n; i++) {\r\n\t\t\tint maxPos = i;\r\n\t\t\tfor (int j=i+1; j&lt;length; j++) {\r\n\t\t\t\tif (values[j] &gt; values[maxPos]) {\r\n\t\t\t\t\tmaxPos = j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (maxPos != i) {\r\n\t\t\t\tint maxValue = values[maxPos];\r\n\t\t\t\tvalues[maxPos] = values[i];\r\n\t\t\t\tvalues[i] = maxValue;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\treturn Arrays.copyOf(values, n);\t\t\r\n\t}\r\n    }\r\n","title":"Find top N elements in an Array","body":"<p>Written below both selection sort and insertion sort implementations. For larger data set I suggest insetion sort better than selection sort</p>\n\n<pre><code>public interface FindTopValues\n{\n  int[] findTopNValues(int[] data, int n);\n}\n</code></pre>\n\n<p>Insertion Sort Implementation:</p>\n\n<pre><code>public class FindTopValuesInsertionSortImpl implements FindTopValues {  \n\n/**\n * Finds list of the highest 'n' values in the source list, ordered naturally, \n * with the highest value at the start of the array and returns it \n */\n@Override\npublic int[] findTopNValues(int[] values, int n) {\n\n    int length = values.length;\n    for (int i=1; i&lt;length; i++) {\n        int curPos = i;\n        while ((curPos &gt; 0) &amp;&amp; (values[i] &gt; values[curPos-1])) {\n            curPos--;\n        }\n\n        if (curPos != i) {\n            int element = values[i];\n            System.arraycopy(values, curPos, values, curPos+1, (i-curPos));\n            values[curPos] = element;\n        }\n    }       \n\n    return Arrays.copyOf(values, n);        \n}   \n\n}\n</code></pre>\n\n<p>Selection Sort Implementation:</p>\n\n<pre><code>public class FindTopValuesSelectionSortImpl implements FindTopValues {\n\n/**\n * Finds list of the highest 'n' values in the source list, ordered naturally, \n * with the highest value at the start of the array and returns it \n */\n@Override\npublic int[] findTopNValues(int[] values, int n) {\n    int length = values.length;\n\n    for (int i=0; i&lt;=n; i++) {\n        int maxPos = i;\n        for (int j=i+1; j&lt;length; j++) {\n            if (values[j] &gt; values[maxPos]) {\n                maxPos = j;\n            }\n        }\n\n        if (maxPos != i) {\n            int maxValue = values[maxPos];\n            values[maxPos] = values[i];\n            values[i] = maxValue;\n        }           \n    }\n    return Arrays.copyOf(values, n);        \n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4604476,"reputation":1,"user_id":3734336,"display_name":"user3734336"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402581089,"creation_date":1402581089,"answer_id":24186212,"question_id":4084495,"body_markdown":"The best Algorithm would by large depend on the size of K. \r\nIf K is small then by simply following  BubbleSort Algorithm and iterating the outer loop K times\r\nwould give the top K values. \r\nThe complexity will be O(n*k). \r\n\r\nHowever for values of K close to n the complexity will approach O(n^2). In such scenario quicksort might be a good alternative. \r\n ","title":"Find top N elements in an Array","body":"<p>The best Algorithm would by large depend on the size of K. \nIf K is small then by simply following  BubbleSort Algorithm and iterating the outer loop K times\nwould give the top K values. \nThe complexity will be O(n*k). </p>\n\n<p>However for values of K close to n the complexity will approach O(n^2). In such scenario quicksort might be a good alternative. </p>\n"},{"tags":[],"owner":{"account_id":8768058,"reputation":1,"user_id":6555813,"display_name":"HARISH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474627046,"creation_date":1474627046,"answer_id":39658705,"question_id":4084495,"body_markdown":"    public class FindTopValuesSelectionSortImpl implements FindTopValues {\r\n    \r\n    /**\r\n     * Finds list of the highest &#39;n&#39; values in the source list, ordered naturally, \r\n     * with the highest value at the start of the array and returns it \r\n     */\r\n    @Override\r\n    public int[] findTopNValues(int[] values, int n) {\r\n        int length = values.length;\r\n    \r\n        for (int i=0; i&lt;=n; i++) {\r\n            int maxPos = i;\r\n            for (int j=i+1; j&lt;length; j++) {\r\n                if (values[j] &gt; values[maxPos]) {\r\n                    maxPos = j;\r\n                }\r\n            }\r\n    \r\n            if (maxPos != i) {\r\n                int maxValue = values[maxPos];\r\n                values[maxPos] = values[i];**strong text**\r\n                values[i] = maxValue;\r\n            }           \r\n        }\r\n        return Arrays.copyOf(values, n);        \r\n    }\r\n    }","title":"Find top N elements in an Array","body":"<pre><code>public class FindTopValuesSelectionSortImpl implements FindTopValues {\n\n/**\n * Finds list of the highest 'n' values in the source list, ordered naturally, \n * with the highest value at the start of the array and returns it \n */\n@Override\npublic int[] findTopNValues(int[] values, int n) {\n    int length = values.length;\n\n    for (int i=0; i&lt;=n; i++) {\n        int maxPos = i;\n        for (int j=i+1; j&lt;length; j++) {\n            if (values[j] &gt; values[maxPos]) {\n                maxPos = j;\n            }\n        }\n\n        if (maxPos != i) {\n            int maxValue = values[maxPos];\n            values[maxPos] = values[i];**strong text**\n            values[i] = maxValue;\n        }           \n    }\n    return Arrays.copyOf(values, n);        \n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4742105,"reputation":3877,"user_id":3834496,"accept_rate":29,"display_name":"Pritesh Mhatre"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498637964,"creation_date":1498637964,"answer_id":44797174,"question_id":4084495,"body_markdown":"You can use `List` and can guava&#39;s `Comparators` class to get the desired results. It is a highly optimized solution. Please see a sample below, which gets top 5 numbers. Api can be found [here][1].\r\n\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.stream.Collector;\r\n\r\n    import org.junit.Test;\r\n\r\n    import com.google.common.collect.Comparators;\r\n    import com.google.common.collect.Lists;\r\n\r\n    public class TestComparator {\r\n    \r\n    \t@Test\r\n    \tpublic void testTopN() {\r\n    \t\tfinal List&lt;Integer&gt; numbers = Lists.newArrayList(1, 3, 8, 2, 6, 4, 7, 5, 9, 0);\r\n    \t\tfinal Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collector = Comparators.greatest(5,\r\n    \t\t\t\tComparator.&lt;Integer&gt;naturalOrder());\r\n    \t\tfinal List&lt;Integer&gt; top = numbers.stream().collect(collector);\r\n    \t\tSystem.out.println(top);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Output: [9, 8, 7, 6, 5]**\r\n\r\n  [1]: http://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/Comparators.html","title":"Find top N elements in an Array","body":"<p>You can use <code>List</code> and can guava's <code>Comparators</code> class to get the desired results. It is a highly optimized solution. Please see a sample below, which gets top 5 numbers. Api can be found <a href=\"http://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/Comparators.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.stream.Collector;\n\nimport org.junit.Test;\n\nimport com.google.common.collect.Comparators;\nimport com.google.common.collect.Lists;\n\npublic class TestComparator {\n\n    @Test\n    public void testTopN() {\n        final List&lt;Integer&gt; numbers = Lists.newArrayList(1, 3, 8, 2, 6, 4, 7, 5, 9, 0);\n        final Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collector = Comparators.greatest(5,\n                Comparator.&lt;Integer&gt;naturalOrder());\n        final List&lt;Integer&gt; top = numbers.stream().collect(collector);\n        System.out.println(top);\n    }\n\n}\n</code></pre>\n\n<p><strong>Output: [9, 8, 7, 6, 5]</strong></p>\n"},{"tags":[],"owner":{"account_id":5696101,"reputation":479,"user_id":4502580,"display_name":"Sagar balai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657407260,"creation_date":1657407260,"answer_id":72925113,"question_id":4084495,"body_markdown":"`find-top-n-elements-in-an-array` can be solved with below technique\r\nLet&#39;s say array length is m\r\n\r\n 1. Using **2 loops** like Bubble sort - O(m^2) 2 loops\r\n\r\n 2. Finding **pivot at Nth position**( Quick sort) -- finding pivot at nth location but worst case complexity is O(MLogM) and might lead to O(M^2)\r\n \r\n 3. **Heap** - Heap is very useful data-structure for such requirement like getKthMax, getKthMin, getTopN, getBottomN and so on..\r\nHeap can be max heap or min heap and as per requirement one of them can be used.\r\n\r\nIn current scenario MinHeap makes more sense as minimum number will be always on top, with below steps to solve\r\n - Iterate over elements in the array\r\n  - add element in heap\r\n  - if heap size &gt; n then pop one element from heap so any time heap will have at most n elements in the heap\r\n - Iterate over heap, and collect all element in collection\r\n\r\nTime complexity:\r\n     m - size of array, n is top n element \r\n  O(MlogN) -- heap add and remove takes logN time and we are doing this for all element in the array\r\nSpace complexity O(N)\r\n\r\n// Sample Java code\r\n\r\n    public List&lt;Integer&gt; getTopNElements(int[] arr, int n){\r\n       List&lt;Integer&gt; topNList = new ArrayList&lt;&gt;();\r\n       if(arr==null || arr.length &lt;1 || n&lt;1) return topNList;\r\n       \r\n       PriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(); // default MinHeap\r\n       for(int elem: arr){\r\n          heap.offer(elem);\r\n          if(heap.size() &gt;n) heap.poll();\r\n       }\r\n    \r\n       while(!heap.isEmpty()){\r\n          topNList.add(heap.poll());\r\n       }\r\n       return topNList;\r\n    }\r\n\r\n\r\nHope this helps.","title":"Find top N elements in an Array","body":"<p><code>find-top-n-elements-in-an-array</code> can be solved with below technique\nLet's say array length is m</p>\n<ol>\n<li><p>Using <strong>2 loops</strong> like Bubble sort - O(m^2) 2 loops</p>\n</li>\n<li><p>Finding <strong>pivot at Nth position</strong>( Quick sort) -- finding pivot at nth location but worst case complexity is O(MLogM) and might lead to O(M^2)</p>\n</li>\n<li><p><strong>Heap</strong> - Heap is very useful data-structure for such requirement like getKthMax, getKthMin, getTopN, getBottomN and so on..\nHeap can be max heap or min heap and as per requirement one of them can be used.</p>\n</li>\n</ol>\n<p>In current scenario MinHeap makes more sense as minimum number will be always on top, with below steps to solve</p>\n<ul>\n<li>Iterate over elements in the array</li>\n<li>add element in heap</li>\n<li>if heap size &gt; n then pop one element from heap so any time heap will have at most n elements in the heap</li>\n<li>Iterate over heap, and collect all element in collection</li>\n</ul>\n<p>Time complexity:\nm - size of array, n is top n element\nO(MlogN) -- heap add and remove takes logN time and we are doing this for all element in the array\nSpace complexity O(N)</p>\n<p>// Sample Java code</p>\n<pre><code>public List&lt;Integer&gt; getTopNElements(int[] arr, int n){\n   List&lt;Integer&gt; topNList = new ArrayList&lt;&gt;();\n   if(arr==null || arr.length &lt;1 || n&lt;1) return topNList;\n   \n   PriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(); // default MinHeap\n   for(int elem: arr){\n      heap.offer(elem);\n      if(heap.size() &gt;n) heap.poll();\n   }\n\n   while(!heap.isEmpty()){\n      topNList.add(heap.poll());\n   }\n   return topNList;\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79895,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":4084513,"answer_count":13,"score":37,"last_activity_date":1657407260,"creation_date":1288763277,"question_id":4084495,"body_markdown":"What would be the best solution to find top N (say 10) elements in an unordered list (of say 100).\r\n\r\nThe solution which came in my head was to 1. sort it using quick sort, 2. get top 10. \r\n\r\nBut is there any better alternative?","title":"Find top N elements in an Array","body":"<p>What would be the best solution to find top N (say 10) elements in an unordered list (of say 100).</p>\n\n<p>The solution which came in my head was to 1. sort it using quick sort, 2. get top 10. </p>\n\n<p>But is there any better alternative?</p>\n"},{"tags":["java","threadpoolexecutor"],"owner":{"account_id":25769112,"reputation":11,"user_id":19518280,"display_name":"Coder7.0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657406706,"creation_date":1657406706,"question_id":72925077,"body_markdown":"I have my threadPoolExecutor method defined as such in my config class\r\n\r\n    @Bean \r\n    @Qualifier(&quot;abc&quot;)\r\n    public ExecutorService methodName() {\r\n        return new ThreadPoolExecutor(5, 15,\r\n            10, TimeUnit.SECONDS,\r\n            new LinkedBlockingQueue&lt;&gt;(),\r\n            new ThreadFactoryBuilder()\r\n                .setNameFormat(&quot;export-client-thread-%d&quot;)\r\n                .build());\r\n        }\r\n\r\nIn my springboot application, inside one of service classes I have this method that fetches for some information via an API call, this is how the method is defined\r\n\r\n\r\n    @Qualifier(&quot;abc&quot;)\r\n    ExecutorService executor;\r\n    ThirdPartyApi api;\r\n    \r\n    public Foo fetchData(){\r\n        api.getData(param1, param2, executor).join();\r\n    }\r\n\r\nInside the api class I use some async methods to fetch data defined as \r\n\r\n    MooAsync mooasync;\r\n    @Async\r\n    public CompletableFuture&lt;Foo&gt; getFoo(Param1, Param2, ExecutorService executor){\r\n           return CompletableFuture.supplyAsync(() -&gt; {\r\n                 try{\r\n                    //do something\r\n                    foo = ();\r\n                 } catch(){}\r\n\r\n                 moo = mooasync.getMoo(foo.something, foo.something, executor).join();\r\n                 foo = helperMethod(moo, foo);\r\n               return foo;\r\n           }, executor);\r\n          }\r\n\r\nThis is how MooAsync class is defined\r\n\r\n        @Async\r\n    public CompletableFuture&lt;Moo&gt; getMoo(Param1, Param2, ExecutorService executor){\r\n           return CompletableFuture.supplyAsync(() -&gt; {\r\n                 try{\r\n                    //do something\r\n                    moo = ();\r\n                 } catch(){}\r\n               return moo;\r\n           }, executor);\r\n          }\r\n\r\nThe problem I face is in the Api class only the foo method call returns something but the moo method call is never being made and so I&#39;m not able to see the result of moo when I&#39;m trying to do some aggregation of data in my helper method with the result of moo and foo\r\n\r\n\r\nAlthough if I remove the executor in the MooAsync class and NOT pass it down to that class, everything works.\r\n\r\nCan I not pass an executor from a supplyAsync Completable future (1) to another method that also uses supplyAsync Completable future (2), inside the first one?\r\n","title":"ThreadPoolExecutors (Deeper understanding of them with Completable Futures)","body":"<p>I have my threadPoolExecutor method defined as such in my config class</p>\n<pre><code>@Bean \n@Qualifier(&quot;abc&quot;)\npublic ExecutorService methodName() {\n    return new ThreadPoolExecutor(5, 15,\n        10, TimeUnit.SECONDS,\n        new LinkedBlockingQueue&lt;&gt;(),\n        new ThreadFactoryBuilder()\n            .setNameFormat(&quot;export-client-thread-%d&quot;)\n            .build());\n    }\n</code></pre>\n<p>In my springboot application, inside one of service classes I have this method that fetches for some information via an API call, this is how the method is defined</p>\n<pre><code>@Qualifier(&quot;abc&quot;)\nExecutorService executor;\nThirdPartyApi api;\n\npublic Foo fetchData(){\n    api.getData(param1, param2, executor).join();\n}\n</code></pre>\n<p>Inside the api class I use some async methods to fetch data defined as</p>\n<pre><code>MooAsync mooasync;\n@Async\npublic CompletableFuture&lt;Foo&gt; getFoo(Param1, Param2, ExecutorService executor){\n       return CompletableFuture.supplyAsync(() -&gt; {\n             try{\n                //do something\n                foo = ();\n             } catch(){}\n\n             moo = mooasync.getMoo(foo.something, foo.something, executor).join();\n             foo = helperMethod(moo, foo);\n           return foo;\n       }, executor);\n      }\n</code></pre>\n<p>This is how MooAsync class is defined</p>\n<pre><code>    @Async\npublic CompletableFuture&lt;Moo&gt; getMoo(Param1, Param2, ExecutorService executor){\n       return CompletableFuture.supplyAsync(() -&gt; {\n             try{\n                //do something\n                moo = ();\n             } catch(){}\n           return moo;\n       }, executor);\n      }\n</code></pre>\n<p>The problem I face is in the Api class only the foo method call returns something but the moo method call is never being made and so I'm not able to see the result of moo when I'm trying to do some aggregation of data in my helper method with the result of moo and foo</p>\n<p>Although if I remove the executor in the MooAsync class and NOT pass it down to that class, everything works.</p>\n<p>Can I not pass an executor from a supplyAsync Completable future (1) to another method that also uses supplyAsync Completable future (2), inside the first one?</p>\n"},{"tags":["java","typescript"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1657349511,"post_id":72919495,"comment_id":128793894,"body_markdown":"All languages are different. Java doesn&#39;t allow it, period","body":"All languages are different. Java doesn&#39;t allow it, period"},{"owner":{"account_id":19652259,"reputation":41,"user_id":14385750,"display_name":"higuy"},"score":0,"creation_date":1657357377,"post_id":72919495,"comment_id":128794956,"body_markdown":"Think that I set name type with string on typescript and set name type with int on mysql. In this situation, I want to get type error on typescript run time when I call name column on mysql because of mismatching of type. (I know this is wrong design) But typescript would not throw an error but java would. I just want to what is different between java and javascript. is it just language policy...?","body":"Think that I set name type with string on typescript and set name type with int on mysql. In this situation, I want to get type error on typescript run time when I call name column on mysql because of mismatching of type. (I know this is wrong design) But typescript would not throw an error but java would. I just want to what is different between java and javascript. is it just language policy...?"},{"owner":{"account_id":19652259,"reputation":41,"user_id":14385750,"display_name":"higuy"},"score":0,"creation_date":1657359761,"post_id":72919495,"comment_id":128795349,"body_markdown":"I know java and javascript is different.. What i want to know is that what happen on low level when we initialize variable and how effect that relation with my question. This is just my doubt and i do not find any questions and answer about this","body":"I know java and javascript is different.. What i want to know is that what happen on low level when we initialize variable and how effect that relation with my question. This is just my doubt and i do not find any questions and answer about this"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1657360955,"post_id":72919495,"comment_id":128795549,"body_markdown":"Well, typescript is (typically) compiled to javascript, which does not enforce variable types at runtime. Java on the other hand specifies that types have to be enforced by the runtime, and this is done by specifying  what a JVM has to do in that regard.","body":"Well, typescript is (typically) compiled to javascript, which does not enforce variable types at runtime. Java on the other hand specifies that types have to be enforced by the runtime, and this is done by specifying  what a JVM has to do in that regard."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1657361325,"post_id":72919495,"comment_id":128795621,"body_markdown":"Java was designed together with the JVM, while typescript was designed to run on existing ECMA script engines, which limited design choices.","body":"Java was designed together with the JVM, while typescript was designed to run on existing ECMA script engines, which limited design choices."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657406483,"creation_date":1657406121,"answer_id":72925037,"question_id":72919495,"body_markdown":"The example you posted uses single-quote characters – `&#39;str&#39;` –&#160;like below:\r\n```\r\nString str = &#39;str&#39;;\r\n```\r\n\r\nIf you compile that, you will see a compiler error like this:\r\n\r\n```\r\njava: unclosed character literal\r\n```\r\n\r\nIf you instead use double-quote characters – `&quot;str&quot;` – it will compile fine:\r\n```\r\nString str = &quot;str&quot;;\r\n```\r\n\r\nSingle-quote characters are allowed for single-character values, so code like below is fine. If you want to use more than one character, you cannot use single-quotes.\r\n```\r\nchar a = &#39;a&#39;;\r\n```\r\n\r\nIf you are inclined for further reading, the Java Langauge Spec describes this in detail in the following two sections:\r\n* [3.10.3 Character Literals](https://docs.oracle.com/javase/specs/jls/se18/html/jls-3.html#jls-3.10.4) \r\n* [3.10.5 String Literals](https://docs.oracle.com/javase/specs/jls/se18/html/jls-3.html#jls-3.10.5)\r\n\r\n\r\nAlso, you stated _&quot;I&#39;m just wordering how Java prevent to assign other type on runtime&quot;_ –&#160;this isn&#39;t right, as the error above is a compile-time error. It&#39;s not possible to produce compiled Java (which you then run) containing `&#39;str&#39;`; you can&#39;t compile it in the first place.\r\n","title":"Why java throw errors when trying to assign to other type to variables on runtime?","body":"<p>The example you posted uses single-quote characters – <code>'str'</code> – like below:</p>\n<pre><code>String str = 'str';\n</code></pre>\n<p>If you compile that, you will see a compiler error like this:</p>\n<pre><code>java: unclosed character literal\n</code></pre>\n<p>If you instead use double-quote characters – <code>&quot;str&quot;</code> – it will compile fine:</p>\n<pre><code>String str = &quot;str&quot;;\n</code></pre>\n<p>Single-quote characters are allowed for single-character values, so code like below is fine. If you want to use more than one character, you cannot use single-quotes.</p>\n<pre><code>char a = 'a';\n</code></pre>\n<p>If you are inclined for further reading, the Java Langauge Spec describes this in detail in the following two sections:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-3.html#jls-3.10.4\" rel=\"nofollow noreferrer\">3.10.3 Character Literals</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-3.html#jls-3.10.5\" rel=\"nofollow noreferrer\">3.10.5 String Literals</a></li>\n</ul>\n<p>Also, you stated <em>&quot;I'm just wordering how Java prevent to assign other type on runtime&quot;</em> – this isn't right, as the error above is a compile-time error. It's not possible to produce compiled Java (which you then run) containing <code>'str'</code>; you can't compile it in the first place.</p>\n"}],"owner":{"account_id":19652259,"reputation":41,"user_id":14385750,"display_name":"higuy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657406483,"creation_date":1657349062,"question_id":72919495,"body_markdown":"I&#39;m just wordering how Java prevent to assign other type on runtime.\r\n\r\nFor example,\r\ntypescript can allow below on runtime\r\n```\r\nlet str: string = &#39;str&#39;;  // str can assign other type like number on runtime.\r\n```\r\n\r\nBut Java throw error.\r\n```\r\nString str = &#39;str&#39;;  // str throw error when trying to assign other type like number on runtime.\r\n```\r\n\r\nI know that Typescript&#39;s type erased after compiling, but I can&#39;t understand how this affect above.","title":"Why java throw errors when trying to assign to other type to variables on runtime?","body":"<p>I'm just wordering how Java prevent to assign other type on runtime.</p>\n<p>For example,\ntypescript can allow below on runtime</p>\n<pre><code>let str: string = 'str';  // str can assign other type like number on runtime.\n</code></pre>\n<p>But Java throw error.</p>\n<pre><code>String str = 'str';  // str throw error when trying to assign other type like number on runtime.\n</code></pre>\n<p>I know that Typescript's type erased after compiling, but I can't understand how this affect above.</p>\n"},{"tags":["java","spring","performance","algorithmic-trading"],"comments":[{"owner":{"account_id":5520321,"reputation":6686,"user_id":4383512,"accept_rate":73,"display_name":"Trash Can"},"score":1,"creation_date":1657404391,"post_id":72924875,"comment_id":128803319,"body_markdown":"Your Java code isn&#39;t the part that&#39;s slow, it&#39;s your query to calculate the average, every time `stockRepository.calculateAverage(i)` is called, the query is sent, you need to optimize your database query it seems, your Java code looks totally fine","body":"Your Java code isn&#39;t the part that&#39;s slow, it&#39;s your query to calculate the average, every time <code>stockRepository.calculateAverage(i)</code> is called, the query is sent, you need to optimize your database query it seems, your Java code looks totally fine"},{"owner":{"account_id":18291745,"reputation":21,"user_id":13318397,"display_name":"judo_&#252;rgens"},"score":0,"creation_date":1657404719,"post_id":72924875,"comment_id":128803345,"body_markdown":"alright. i thought the same first. but is that really a problem since I run all of this on my local machine?","body":"alright. i thought the same first. but is that really a problem since I run all of this on my local machine?"},{"owner":{"account_id":5520321,"reputation":6686,"user_id":4383512,"accept_rate":73,"display_name":"Trash Can"},"score":1,"creation_date":1657404903,"post_id":72924875,"comment_id":128803368,"body_markdown":"It doesn&#39;t matter where the database query is executed, if the query is slow, then it will take longer to return, your database query has a subquery that traverses the entire table, and you execute this query `max - min` times, so it will be quite slow","body":"It doesn&#39;t matter where the database query is executed, if the query is slow, then it will take longer to return, your database query has a subquery that traverses the entire table, and you execute this query <code>max - min</code> times, so it will be quite slow"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657406430,"creation_date":1657406430,"answer_id":72925056,"question_id":72924875,"body_markdown":"This problem is equivalent with finding the best moving N **sum**. Simply then divide by N. Having such a slice, then the next slice subtracts the first value and adds a new value to the end. This could lead to an algorithm for finding local growths with `a[i + N] - a[i] &gt;= 0`.\r\n\r\nHowever in this case a simple sequential ordered query with\r\n\r\n    double[] slice = new double[N];\r\n    double sum = 0.0;\r\n\r\nsuffices. (A skipping algorithm on a database is probably too complicated.)\r\n\r\nSimply walk through the table keeping the slice as window, keeping N values and keys, and maintaining the maximum upto now.\r\n\r\nUse the primitive type `double` instead of the object wrapper `Double`.\r\n\r\nIf the database transport is a serious factor, a stored procedure would do. Keeping a massive table as really many entities just for a running maximum is unfortunate.\r\n\r\nIt would be better to have a condensed table or better field with the sum of N values.","title":"Optimization: Finding the best Simple Moving Average takes too much time","body":"<p>This problem is equivalent with finding the best moving N <strong>sum</strong>. Simply then divide by N. Having such a slice, then the next slice subtracts the first value and adds a new value to the end. This could lead to an algorithm for finding local growths with <code>a[i + N] - a[i] &gt;= 0</code>.</p>\n<p>However in this case a simple sequential ordered query with</p>\n<pre><code>double[] slice = new double[N];\ndouble sum = 0.0;\n</code></pre>\n<p>suffices. (A skipping algorithm on a database is probably too complicated.)</p>\n<p>Simply walk through the table keeping the slice as window, keeping N values and keys, and maintaining the maximum upto now.</p>\n<p>Use the primitive type <code>double</code> instead of the object wrapper <code>Double</code>.</p>\n<p>If the database transport is a serious factor, a stored procedure would do. Keeping a massive table as really many entities just for a running maximum is unfortunate.</p>\n<p>It would be better to have a condensed table or better field with the sum of N values.</p>\n"}],"owner":{"account_id":18291745,"reputation":21,"user_id":13318397,"display_name":"judo_&#252;rgens"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72925056,"answer_count":1,"score":0,"last_activity_date":1657406430,"creation_date":1657403931,"question_id":72924875,"body_markdown":"I&#39;ve created a simple Spring-Application with a MySQL-DB.\r\n\r\nIn the DB there are 20 years of stock data (5694 lines):\r\n[![example stock data][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/WslJZ.png\r\n\r\nThe Goal is to find the Best Moving Average (N) for that 20 years of stock data. Inputs are the closing prices of every trading day. \r\nThe calculated average depends on the N. So p.e. if N=3 the average of a reference day t, is given by ((t-1)+(t-2)+(t-3)/N).\r\nOutput is the Best Moving Average (N) and the Result you made with all the buying &amp; selling transactions of the Best N.\r\n\r\nI did not find a proper algorithm in the Internet, so I implemented the following:\r\n\r\nFor every N (249-times) the program does the following steps:\r\n\r\n 1. SQL-Query: calculates averages &amp; return list\r\n```\r\n@Repository\r\npublic interface StockRepository extends CrudRepository&lt;Stock, Integer&gt; {\r\n\t/*\r\n\t * This sql query calculate the moving average of the value n\r\n\t */\r\n\t@Query(value = &quot;SELECT a.date, a.close, Round( ( SELECT SUM(b.close) / COUNT(b.close) FROM stock AS b WHERE DATEDIFF(a.date, b.date) BETWEEN 0 AND ?1 ), 2 ) AS &#39;avg&#39; FROM stock AS a ORDER BY a.date&quot;, nativeQuery = true)\r\n\tList&lt;AverageDTO&gt; calculateAverage(int n); \r\n```\r\n\r\n 2. Simulate buyings &amp; sellings &amp;ndash; &gt; calculate result\r\n\r\n 3. Compare result with bestResult\r\n\r\n 4. Next N\r\n\r\n```\r\n@RestController\r\npublic class ApiController {\r\n\t@Autowired\r\n\tprivate StockRepository stockRepository;\r\n\r\n\r\n\t@CrossOrigin(origins = &quot;*&quot;)\r\n\t@GetMapping(&quot;/getBestValue&quot;)\r\n\t/*\r\n\t * This function tries all possible values in the interval [min,max], calculate\r\n\t * the moving avg and simulate the gains for each value to choose the best one\r\n\t */\r\n\tpublic ResultDTO getBestValue(@PathParam(&quot;min&quot;) int min, @PathParam(&quot;max&quot;) int max) {\r\n\t\tDouble best = 0.0;\r\n\t\tint value = 0;\r\n\r\n\t\tfor (int i = min; i &lt;= max; i++) {\r\n\t\t\tDouble result = simulate(stockRepository.calculateAverage(i));\r\n\t\t\tif (result &gt; best) {\r\n\t\t\t\tvalue = i;\r\n\t\t\t\tbest = result;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new ResultDTO(value, best);\r\n\t}\r\n\r\n\t/*\r\n\t * This function get as input the close and moving average of a stock and\r\n\t * simulate the buying/selling process\r\n\t */\r\n\tpublic Double simulate(List&lt;AverageDTO&gt; list) {\r\n\t\tDouble result = 0.0;\r\n\t\tDouble lastPrice = list.get(0).getClose();\r\n\t\tfor (int i = 1; i &lt; list.size(); i++) {\r\n\t\t\tif (list.get(i - 1).getClose() &lt; list.get(i - 1).getAvg()\r\n\t\t\t\t\t&amp;&amp; list.get(i).getClose() &gt; list.get(i).getAvg()) {\r\n\t\t\t\t// buy\r\n\t\t\t\tlastPrice = list.get(i).getClose();\r\n\t\t\t} else if (list.get(i - 1).getClose() &gt; list.get(i - 1).getAvg()\r\n\t\t\t\t\t&amp;&amp; list.get(i).getClose() &lt; list.get(i).getAvg()) {\r\n\t\t\t\t// sell\r\n\t\t\t\tresult += (list.get(i).getClose() - lastPrice);\r\n\t\t\t\tlastPrice = list.get(i).getClose();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\n\r\nWhen I put Min=2 and Max=250 it takes 45 minutes to finish.\r\nSince, I&#39;m a beginner in Java &amp; Spring I do not know how I can optimize it.\r\nI&#39;m happy for every input.\r\n\r\n","title":"Optimization: Finding the best Simple Moving Average takes too much time","body":"<p>I've created a simple Spring-Application with a MySQL-DB.</p>\n<p>In the DB there are 20 years of stock data (5694 lines):\n<a href=\"https://i.stack.imgur.com/WslJZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WslJZ.png\" alt=\"example stock data\" /></a></p>\n<p>The Goal is to find the Best Moving Average (N) for that 20 years of stock data. Inputs are the closing prices of every trading day.\nThe calculated average depends on the N. So p.e. if N=3 the average of a reference day t, is given by ((t-1)+(t-2)+(t-3)/N).\nOutput is the Best Moving Average (N) and the Result you made with all the buying &amp; selling transactions of the Best N.</p>\n<p>I did not find a proper algorithm in the Internet, so I implemented the following:</p>\n<p>For every N (249-times) the program does the following steps:</p>\n<ol>\n<li>SQL-Query: calculates averages &amp; return list</li>\n</ol>\n<pre><code>@Repository\npublic interface StockRepository extends CrudRepository&lt;Stock, Integer&gt; {\n    /*\n     * This sql query calculate the moving average of the value n\n     */\n    @Query(value = &quot;SELECT a.date, a.close, Round( ( SELECT SUM(b.close) / COUNT(b.close) FROM stock AS b WHERE DATEDIFF(a.date, b.date) BETWEEN 0 AND ?1 ), 2 ) AS 'avg' FROM stock AS a ORDER BY a.date&quot;, nativeQuery = true)\n    List&lt;AverageDTO&gt; calculateAverage(int n); \n</code></pre>\n<ol start=\"2\">\n<li><p>Simulate buyings &amp; sellings – &gt; calculate result</p>\n</li>\n<li><p>Compare result with bestResult</p>\n</li>\n<li><p>Next N</p>\n</li>\n</ol>\n<pre><code>@RestController\npublic class ApiController {\n    @Autowired\n    private StockRepository stockRepository;\n\n\n    @CrossOrigin(origins = &quot;*&quot;)\n    @GetMapping(&quot;/getBestValue&quot;)\n    /*\n     * This function tries all possible values in the interval [min,max], calculate\n     * the moving avg and simulate the gains for each value to choose the best one\n     */\n    public ResultDTO getBestValue(@PathParam(&quot;min&quot;) int min, @PathParam(&quot;max&quot;) int max) {\n        Double best = 0.0;\n        int value = 0;\n\n        for (int i = min; i &lt;= max; i++) {\n            Double result = simulate(stockRepository.calculateAverage(i));\n            if (result &gt; best) {\n                value = i;\n                best = result;\n            }\n        }\n        return new ResultDTO(value, best);\n    }\n\n    /*\n     * This function get as input the close and moving average of a stock and\n     * simulate the buying/selling process\n     */\n    public Double simulate(List&lt;AverageDTO&gt; list) {\n        Double result = 0.0;\n        Double lastPrice = list.get(0).getClose();\n        for (int i = 1; i &lt; list.size(); i++) {\n            if (list.get(i - 1).getClose() &lt; list.get(i - 1).getAvg()\n                    &amp;&amp; list.get(i).getClose() &gt; list.get(i).getAvg()) {\n                // buy\n                lastPrice = list.get(i).getClose();\n            } else if (list.get(i - 1).getClose() &gt; list.get(i - 1).getAvg()\n                    &amp;&amp; list.get(i).getClose() &lt; list.get(i).getAvg()) {\n                // sell\n                result += (list.get(i).getClose() - lastPrice);\n                lastPrice = list.get(i).getClose();\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>When I put Min=2 and Max=250 it takes 45 minutes to finish.\nSince, I'm a beginner in Java &amp; Spring I do not know how I can optimize it.\nI'm happy for every input.</p>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":4963389,"reputation":72151,"user_id":3993662,"accept_rate":93,"display_name":"baao"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1554119596,"creation_date":1554119596,"answer_id":55454497,"question_id":55453375,"body_markdown":"Spring seems to add only what is under `scope` in the jwt token, ignoring everything from `authorities` - so they can&#39;t be used in a webflux resource server unless we extend JwtAuthenticationConverter to also add from authorities (or other claims) in the token. In the security config, I&#39;ve added `jwtAuthenticationConverter`\r\n\r\n    http\r\n    // path config like above\r\n    .oauth2ResourceServer()\r\n    .jwt()\r\n    .jwtDecoder(reactiveJwtDecoder())\r\n    .jwtAuthenticationConverter(converter())\r\n\r\nand have overriden `JwtAuthenticationConverter` to include `authorities` granted authorities:\r\n\r\n    public class MyJwtAuthenticationConverter extends JwtAuthenticationConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\r\n    \tprivate static final String SCOPE_AUTHORITY_PREFIX = &quot;SCOPE_&quot;;\r\n    \r\n    \tprivate static final Collection&lt;String&gt; WELL_KNOWN_SCOPE_ATTRIBUTE_NAMES =\r\n    \t\t\tArrays.asList(&quot;scope&quot;, &quot;scp&quot;, &quot;authorities&quot;); // added authorities\r\n    \r\n    \r\n    \tprotected Collection&lt;GrantedAuthority&gt; extractAuthorities(Jwt jwt) {\r\n    \t\treturn this.getScopes(jwt)\r\n    \t\t\t\t\t\t.stream()\r\n    \t\t\t\t\t\t.map(authority -&gt; SCOPE_AUTHORITY_PREFIX + authority)\r\n    \t\t\t\t\t\t.map(SimpleGrantedAuthority::new)\r\n    \t\t\t\t\t\t.collect(Collectors.toList());\r\n    \t}\r\n    \r\n    \tprivate Collection&lt;String&gt; getScopes(Jwt jwt) {\r\n    \t  Collection&lt;String&gt; authorities = new ArrayList&lt;&gt;();\r\n            // add to collection instead of returning early\r\n    \t\tfor ( String attributeName : WELL_KNOWN_SCOPE_ATTRIBUTE_NAMES ) {\r\n    \t\t\tObject scopes = jwt.getClaims().get(attributeName);\r\n    \t\t\tif (scopes instanceof String) {\r\n    \t\t\t\tif (StringUtils.hasText((String) scopes)) {\r\n    \t\t\t\t\tauthorities.addAll(Arrays.asList(((String) scopes).split(&quot; &quot;)));\r\n    \t\t\t\t}\r\n    \t\t\t} else if (scopes instanceof Collection) {\r\n    \t\t\t\tauthorities.addAll((Collection&lt;String&gt;) scopes);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn authorities;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Insufficient scope in resource server with spring webflux","body":"<p>Spring seems to add only what is under <code>scope</code> in the jwt token, ignoring everything from <code>authorities</code> - so they can't be used in a webflux resource server unless we extend JwtAuthenticationConverter to also add from authorities (or other claims) in the token. In the security config, I've added <code>jwtAuthenticationConverter</code></p>\n\n<pre><code>http\n// path config like above\n.oauth2ResourceServer()\n.jwt()\n.jwtDecoder(reactiveJwtDecoder())\n.jwtAuthenticationConverter(converter())\n</code></pre>\n\n<p>and have overriden <code>JwtAuthenticationConverter</code> to include <code>authorities</code> granted authorities:</p>\n\n<pre><code>public class MyJwtAuthenticationConverter extends JwtAuthenticationConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\n    private static final String SCOPE_AUTHORITY_PREFIX = \"SCOPE_\";\n\n    private static final Collection&lt;String&gt; WELL_KNOWN_SCOPE_ATTRIBUTE_NAMES =\n            Arrays.asList(\"scope\", \"scp\", \"authorities\"); // added authorities\n\n\n    protected Collection&lt;GrantedAuthority&gt; extractAuthorities(Jwt jwt) {\n        return this.getScopes(jwt)\n                        .stream()\n                        .map(authority -&gt; SCOPE_AUTHORITY_PREFIX + authority)\n                        .map(SimpleGrantedAuthority::new)\n                        .collect(Collectors.toList());\n    }\n\n    private Collection&lt;String&gt; getScopes(Jwt jwt) {\n      Collection&lt;String&gt; authorities = new ArrayList&lt;&gt;();\n        // add to collection instead of returning early\n        for ( String attributeName : WELL_KNOWN_SCOPE_ATTRIBUTE_NAMES ) {\n            Object scopes = jwt.getClaims().get(attributeName);\n            if (scopes instanceof String) {\n                if (StringUtils.hasText((String) scopes)) {\n                    authorities.addAll(Arrays.asList(((String) scopes).split(\" \")));\n                }\n            } else if (scopes instanceof Collection) {\n                authorities.addAll((Collection&lt;String&gt;) scopes);\n            }\n        }\n\n        return authorities;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2737742,"reputation":88,"user_id":2360027,"display_name":"lcs_godoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595379134,"creation_date":1595379134,"answer_id":63025144,"question_id":55453375,"body_markdown":"A little bit late, but a simpler solution could be (in kotlin, but easy to translate to java):\r\n\r\n````\r\nclass CustomJwtAuthenticationConverter : Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\r\n\r\n  private val jwtGrantedAuthoritiesConverter = JwtGrantedAuthoritiesConverter()\r\n\r\n  override fun convert(source: Jwt): AbstractAuthenticationToken {\r\n    val scopes = jwtGrantedAuthoritiesConverter.convert(source)\r\n    val authorities = source.getClaimAsStringList(&quot;authorities&quot;)?.map { SimpleGrantedAuthority(it) }\r\n    return JwtAuthenticationToken(source, scopes.orEmpty() + authorities.orEmpty())\r\n  }\r\n}\r\n````\r\n\r\nand then supply implementation to WebSecurityConfigurerAdapter, like:\r\n\r\n````\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@Configuration\r\nclass ResourceServerConfig : WebSecurityConfigurerAdapter() {\r\n\r\n    override fun configure(http: HttpSecurity) {\r\n        http {\r\n            oauth2ResourceServer { \r\n                jwt { \r\n                    jwtDecoder = reactiveJwtDecoder()\r\n                    jwtAuthenticationConverter = CustomJwtAuthenticationConverter() \r\n                } \r\n            }\r\n        }\r\n    }\r\n}\r\n````","title":"Insufficient scope in resource server with spring webflux","body":"<p>A little bit late, but a simpler solution could be (in kotlin, but easy to translate to java):</p>\n<pre><code>class CustomJwtAuthenticationConverter : Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\n\n  private val jwtGrantedAuthoritiesConverter = JwtGrantedAuthoritiesConverter()\n\n  override fun convert(source: Jwt): AbstractAuthenticationToken {\n    val scopes = jwtGrantedAuthoritiesConverter.convert(source)\n    val authorities = source.getClaimAsStringList(&quot;authorities&quot;)?.map { SimpleGrantedAuthority(it) }\n    return JwtAuthenticationToken(source, scopes.orEmpty() + authorities.orEmpty())\n  }\n}\n</code></pre>\n<p>and then supply implementation to WebSecurityConfigurerAdapter, like:</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@Configuration\nclass ResourceServerConfig : WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n        http {\n            oauth2ResourceServer { \n                jwt { \n                    jwtDecoder = reactiveJwtDecoder()\n                    jwtAuthenticationConverter = CustomJwtAuthenticationConverter() \n                } \n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657403961,"creation_date":1657403961,"answer_id":72924879,"question_id":55453375,"body_markdown":"with springboot+webflux in version 2.7.1 and Keycloak as IdP, I have the same issue\r\n\r\n\r\n\r\n```java\r\n SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeExchange()\r\n        .pathMatchers(&quot;/availableInspections/**&quot;).hasRole(&quot;READ_PRIVILEGE&quot;)\r\n        .and()\r\n        .oauth2ResourceServer()\r\n        .jwt()\r\n        // .jwtDecoder(reactiveJwtDecoder()) not used\r\n    ;\r\n    return http.build();\r\n  }\r\n```\r\n\r\n=&gt; Gives the following error :  www-authenticate: Bearer error=&quot;insufficient_scope&quot;,error_description=&quot;The request requires higher privileges than provided by the access token.&quot;,error_uri=&quot;https://tools.ietf.org/html/rfc6750#section-3.1&quot; \r\n\r\n\r\nThen I see that the line &quot;.anyExchange().authenticated()&quot; was missing on my project :\r\n\r\n```java\r\n SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeExchange()\r\n        .pathMatchers(&quot;/availableInspections/**&quot;).hasRole(&quot;READ_PRIVILEGE&quot;)\r\n        .anyExchange().authenticated()\r\n        .and()\r\n        .oauth2ResourceServer()\r\n        .jwt()\r\n        // .jwtDecoder(reactiveJwtDecoder()) not used\r\n    ;\r\n    return http.build();\r\n  }\r\n```\r\n\r\n=&gt; no more error :) !\r\n","title":"Insufficient scope in resource server with spring webflux","body":"<p>with springboot+webflux in version 2.7.1 and Keycloak as IdP, I have the same issue</p>\n<pre class=\"lang-java prettyprint-override\"><code> SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) throws Exception {\n    http\n        .authorizeExchange()\n        .pathMatchers(&quot;/availableInspections/**&quot;).hasRole(&quot;READ_PRIVILEGE&quot;)\n        .and()\n        .oauth2ResourceServer()\n        .jwt()\n        // .jwtDecoder(reactiveJwtDecoder()) not used\n    ;\n    return http.build();\n  }\n</code></pre>\n<p>=&gt; Gives the following error :  www-authenticate: Bearer error=&quot;insufficient_scope&quot;,error_description=&quot;The request requires higher privileges than provided by the access token.&quot;,error_uri=&quot;https://tools.ietf.org/html/rfc6750#section-3.1&quot;</p>\n<p>Then I see that the line &quot;.anyExchange().authenticated()&quot; was missing on my project :</p>\n<pre class=\"lang-java prettyprint-override\"><code> SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) throws Exception {\n    http\n        .authorizeExchange()\n        .pathMatchers(&quot;/availableInspections/**&quot;).hasRole(&quot;READ_PRIVILEGE&quot;)\n        .anyExchange().authenticated()\n        .and()\n        .oauth2ResourceServer()\n        .jwt()\n        // .jwtDecoder(reactiveJwtDecoder()) not used\n    ;\n    return http.build();\n  }\n</code></pre>\n<p>=&gt; no more error :) !</p>\n"}],"owner":{"account_id":4963389,"reputation":72151,"user_id":3993662,"accept_rate":93,"display_name":"baao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5090,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55454497,"answer_count":3,"score":3,"last_activity_date":1657403961,"creation_date":1554115795,"question_id":55453375,"body_markdown":"I&#39;m having trouble setting up a ResourceServer that uses Webflux in spring-boot 2.1.3.RELEASE. The same token used to authenticate is working fine with a resource server that doesn&#39;t use Webflux, and if I set `.permitAll()` it works too (obviously). Here&#39;s my resource server config\r\n\r\nThe authorization server uses jwt token store. \r\n\r\n    @EnableWebFluxSecurity\r\n    public class ResourceServerConfig {\r\n    \r\n      @Value(&quot;${security.oauth2.resource.jwt.key-value}&quot;)\r\n      private String publicKey;\r\n      @Autowired Environment env;\r\n      @Bean\r\n      SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeExchange()\r\n            .pathMatchers(&quot;/availableInspections/**&quot;).hasRole(&quot;READ_PRIVILEGE&quot;)\r\n            .anyExchange().authenticated()\r\n            .and()\r\n            .oauth2ResourceServer()\r\n            .jwt()\r\n            .jwtDecoder(reactiveJwtDecoder())\r\n        ;\r\n        return http.build();\r\n      }\r\n     \r\n    @Bean\r\n    public ReactiveJwtDecoder reactiveJwtDecoder() throws Exception{\r\n        return new NimbusReactiveJwtDecoder(getPublicKeyFromString(publicKey));\r\n      }\r\n\r\n    public static RSAPublicKey getPublicKeyFromString(String key) throws IOException, GeneralSecurityException {\r\n        String publicKeyPEM = key;\r\n        publicKeyPEM = publicKeyPEM.replace(&quot;-----BEGIN PUBLIC KEY-----\\n&quot;, &quot;&quot;);\r\n        publicKeyPEM = publicKeyPEM.replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;);\r\n        byte[] encoded = Base64.getMimeDecoder().decode(publicKeyPEM);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        RSAPublicKey pubKey = (RSAPublicKey) kf.generatePublic(new X509EncodedKeySpec(encoded));\r\n        return pubKey;\r\n      }\r\n    }\r\n\r\nThe error I&#39;m getting is \r\n\r\n    WWW-Authenticate: Bearer error=&quot;insufficient_scope&quot;, error_description=&quot;The token provided has insufficient scope [read] for this request&quot;, error_uri=&quot;https://tools.ietf.org/html/rfc6750#section-3.1&quot;, scope=&quot;read&quot;\r\n\r\nI&#39;ve verified that the token has the required scope...\r\n\r\nWhat do I need to change/add in order to get my token read correctly?","title":"Insufficient scope in resource server with spring webflux","body":"<p>I'm having trouble setting up a ResourceServer that uses Webflux in spring-boot 2.1.3.RELEASE. The same token used to authenticate is working fine with a resource server that doesn't use Webflux, and if I set <code>.permitAll()</code> it works too (obviously). Here's my resource server config</p>\n\n<p>The authorization server uses jwt token store. </p>\n\n<pre><code>@EnableWebFluxSecurity\npublic class ResourceServerConfig {\n\n  @Value(\"${security.oauth2.resource.jwt.key-value}\")\n  private String publicKey;\n  @Autowired Environment env;\n  @Bean\n  SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) throws Exception {\n    http\n        .authorizeExchange()\n        .pathMatchers(\"/availableInspections/**\").hasRole(\"READ_PRIVILEGE\")\n        .anyExchange().authenticated()\n        .and()\n        .oauth2ResourceServer()\n        .jwt()\n        .jwtDecoder(reactiveJwtDecoder())\n    ;\n    return http.build();\n  }\n\n@Bean\npublic ReactiveJwtDecoder reactiveJwtDecoder() throws Exception{\n    return new NimbusReactiveJwtDecoder(getPublicKeyFromString(publicKey));\n  }\n\npublic static RSAPublicKey getPublicKeyFromString(String key) throws IOException, GeneralSecurityException {\n    String publicKeyPEM = key;\n    publicKeyPEM = publicKeyPEM.replace(\"-----BEGIN PUBLIC KEY-----\\n\", \"\");\n    publicKeyPEM = publicKeyPEM.replace(\"-----END PUBLIC KEY-----\", \"\");\n    byte[] encoded = Base64.getMimeDecoder().decode(publicKeyPEM);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    RSAPublicKey pubKey = (RSAPublicKey) kf.generatePublic(new X509EncodedKeySpec(encoded));\n    return pubKey;\n  }\n}\n</code></pre>\n\n<p>The error I'm getting is </p>\n\n<pre><code>WWW-Authenticate: Bearer error=\"insufficient_scope\", error_description=\"The token provided has insufficient scope [read] for this request\", error_uri=\"https://tools.ietf.org/html/rfc6750#section-3.1\", scope=\"read\"\n</code></pre>\n\n<p>I've verified that the token has the required scope...</p>\n\n<p>What do I need to change/add in order to get my token read correctly?</p>\n"},{"tags":["java","gradle","intellij-idea","intellij-14"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657402601,"creation_date":1657402601,"answer_id":72924777,"question_id":72924469,"body_markdown":"If you want to create a library to use in other Gradle projects, you should create also a Gradle project for the library, so you don&#39;t have to specify some arbitrary file path references but can use proper Maven GAV coordinates (GAV = group/artifact/version)\r\n\r\nTo create a Gradle lib project, you can follow the steps in the [official Gradle documentation](https://docs.gradle.org/current/samples/sample_building_java_libraries.html) and I really would recommend that over some built in stuff in IDEA (that I value very much btw), because you then will learn how to work independent from your IDE - which can help, when you have to use something different in another project.","title":"Create a Jar Library and import it in another gradle project using intelliJ","body":"<p>If you want to create a library to use in other Gradle projects, you should create also a Gradle project for the library, so you don't have to specify some arbitrary file path references but can use proper Maven GAV coordinates (GAV = group/artifact/version)</p>\n<p>To create a Gradle lib project, you can follow the steps in the <a href=\"https://docs.gradle.org/current/samples/sample_building_java_libraries.html\" rel=\"nofollow noreferrer\">official Gradle documentation</a> and I really would recommend that over some built in stuff in IDEA (that I value very much btw), because you then will learn how to work independent from your IDE - which can help, when you have to use something different in another project.</p>\n"}],"owner":{"account_id":20444411,"reputation":58,"user_id":15844253,"display_name":"vhdl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72924777,"answer_count":1,"score":1,"last_activity_date":1657402601,"creation_date":1657399002,"question_id":72924469,"body_markdown":"I created a jar Library(i.e. without main class) of gradle project using the below steps\r\nFiles -&gt; Project Structure -&gt; Artifacts -&gt; + -&gt; jar -&gt; From modules with dependencies -&gt; all modules -&gt; extract to a target jar -&gt; Ok -&gt; Build -&gt; Build Artifacts.\r\n\r\nIs this the correct way to build a jar without the main class? because I&#39;m getting errors when I try to import it into another Gradle project.\r\nSuppose jar file name is test.jar\r\n\r\nI added jar into src/libs/test.jar\r\n\r\nIn build.gradle dependencies I added \r\n               implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\nRight click on test.jar -&gt; add to library -&gt; module test\r\n\r\nFiles -&gt; Project Structure -&gt; modules -&gt; dependencies -&gt; + -&gt; test.jar -&gt; Ok\r\n\r\nStill getting class not found error and can&#39;t find symbol error","title":"Create a Jar Library and import it in another gradle project using intelliJ","body":"<p>I created a jar Library(i.e. without main class) of gradle project using the below steps\nFiles -&gt; Project Structure -&gt; Artifacts -&gt; + -&gt; jar -&gt; From modules with dependencies -&gt; all modules -&gt; extract to a target jar -&gt; Ok -&gt; Build -&gt; Build Artifacts.</p>\n<p>Is this the correct way to build a jar without the main class? because I'm getting errors when I try to import it into another Gradle project.\nSuppose jar file name is test.jar</p>\n<p>I added jar into src/libs/test.jar</p>\n<p>In build.gradle dependencies I added\nimplementation fileTree(dir: 'libs', include: ['*.jar'])</p>\n<p>Right click on test.jar -&gt; add to library -&gt; module test</p>\n<p>Files -&gt; Project Structure -&gt; modules -&gt; dependencies -&gt; + -&gt; test.jar -&gt; Ok</p>\n<p>Still getting class not found error and can't find symbol error</p>\n"},{"tags":["java","bitset"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1657398891,"post_id":72924423,"comment_id":128802528,"body_markdown":"It is ORing the bit in.  https://www.tutorialspoint.com/Java-Bitwise-Operators","body":"It is ORing the bit in.  <a href=\"https://www.tutorialspoint.com/Java-Bitwise-Operators\" rel=\"nofollow noreferrer\">tutorialspoint.com/Java-Bitwise-Operators</a>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1657399686,"creation_date":1657399341,"answer_id":72924497,"question_id":72924423,"body_markdown":"`1L &lt;&lt; bitIndex` produces a `long`, whose bits are all 0s, except for one of the bits. The position of the &quot;1&quot; bit is determined by `bitIndex`. For example, if `bitIndex` is 10, then the 11th least significant bit is 1.\r\n\r\n    0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0100 0000 0000\r\n\r\nBecause the 1 is shifted to the left 10 times. In general, the (`bitIndex` mod 64 + 1)th least significant bit is the &quot;1&quot; bit.\r\n\r\nThis [mask](https://en.wikipedia.org/wiki/Mask_(computing)) is then bitwise OR&#39;ed with whatever is in `words[wordIndex]`. Every bit in `words[wordIndex]` stays the same because they are OR&#39;ed with 0, except for the one place where it is a &quot;1&quot; in the mask. That bit in `words[wordIndex]` will become &quot;1&quot; no matter what it was originally, due to how OR works.\r\n\r\n","title":"How does BitSet&#39;s set method work with bits shifting to the left?","body":"<p><code>1L &lt;&lt; bitIndex</code> produces a <code>long</code>, whose bits are all 0s, except for one of the bits. The position of the &quot;1&quot; bit is determined by <code>bitIndex</code>. For example, if <code>bitIndex</code> is 10, then the 11th least significant bit is 1.</p>\n<pre><code>0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0100 0000 0000\n</code></pre>\n<p>Because the 1 is shifted to the left 10 times. In general, the (<code>bitIndex</code> mod 64 + 1)th least significant bit is the &quot;1&quot; bit.</p>\n<p>This <a href=\"https://en.wikipedia.org/wiki/Mask_(computing)\" rel=\"noreferrer\">mask</a> is then bitwise OR'ed with whatever is in <code>words[wordIndex]</code>. Every bit in <code>words[wordIndex]</code> stays the same because they are OR'ed with 0, except for the one place where it is a &quot;1&quot; in the mask. That bit in <code>words[wordIndex]</code> will become &quot;1&quot; no matter what it was originally, due to how OR works.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657399624,"creation_date":1657399624,"answer_id":72924525,"question_id":72924423,"body_markdown":"There are two parts of interest: `1L &lt;&lt; bitIndex` and `words[wordIndex] |=`.\r\n\r\nThe first part&#160;–&#160;`1L &lt;&lt; bitIndex` – shifts a bit some number of spots. Here&#39;s a table showing how that plays out with a few different numbers of shifting.\r\n\r\n| statement | decimal | binary |\r\n| -------- | -------------- | ---|\r\n| 1L &lt;&lt; 0 | 1 | 1 |\r\n| 1L &lt;&lt; 1 | 2 | 10 |\r\n| 1L &lt;&lt; 2 | 4 | 100 |\r\n| 1L &lt;&lt; 3 | 8 | 1000 |\r\n| 1L &lt;&lt; 4 | 16 | 10000 |\r\n\r\nThe second part – `words[wordIndex] |=` – takes whatever value was already at `words[wordIndex]` and uses bitwise &quot;or&quot; to include whatever bit was isolated from above. If that bit was already set (for that word), this operation wouldn&#39;t change anything. If the bit was 0, the &quot;or&quot; operation (`|=`) would set the bit to 1.\r\n\r\n","title":"How does BitSet&#39;s set method work with bits shifting to the left?","body":"<p>There are two parts of interest: <code>1L &lt;&lt; bitIndex</code> and <code>words[wordIndex] |=</code>.</p>\n<p>The first part – <code>1L &lt;&lt; bitIndex</code> – shifts a bit some number of spots. Here's a table showing how that plays out with a few different numbers of shifting.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>statement</th>\n<th>decimal</th>\n<th>binary</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1L &lt;&lt; 0</td>\n<td>1</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1L &lt;&lt; 1</td>\n<td>2</td>\n<td>10</td>\n</tr>\n<tr>\n<td>1L &lt;&lt; 2</td>\n<td>4</td>\n<td>100</td>\n</tr>\n<tr>\n<td>1L &lt;&lt; 3</td>\n<td>8</td>\n<td>1000</td>\n</tr>\n<tr>\n<td>1L &lt;&lt; 4</td>\n<td>16</td>\n<td>10000</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The second part – <code>words[wordIndex] |=</code> – takes whatever value was already at <code>words[wordIndex]</code> and uses bitwise &quot;or&quot; to include whatever bit was isolated from above. If that bit was already set (for that word), this operation wouldn't change anything. If the bit was 0, the &quot;or&quot; operation (<code>|=</code>) would set the bit to 1.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657401814,"creation_date":1657400681,"answer_id":72924638,"question_id":72924423,"body_markdown":"Remember that the left side is being ORed (`|`) with the bit and the right most bit (or the Least Significant Bit - LSB) is bit `0`. An `OR` operator will set the specified one bit(s) in the source, to the same bits in the target, leaving the other bits unchanged.  Here are some examples.\r\n```\r\nint bits = 1;\r\nSystem.out.println(Integer.toBinaryString(bits));\r\nbits |= 0b100_0000_0000; // set bit 10 to 1.\r\nSystem.out.println(Integer.toBinaryString(bits));\r\n```\r\nprints\r\n```\r\n1\r\n10000000001\r\n^\r\nbit 10\r\n```\r\nor do it like this\r\n```\r\n\r\nSystem.out.println(Integer.toBinaryString(bits));\r\nbits = 1;\r\n// or it can be done this way.\r\nbits |=  1&lt;&lt;10;  // 10 is the bitIndex in bits to set so it is shifted \r\n                 // left to that position and the result is as before\r\nSystem.out.println(Integer.toBinaryString(bits));\r\n```\r\nprints\r\n```\r\n10000000001\r\n^\r\nbit 10","title":"How does BitSet&#39;s set method work with bits shifting to the left?","body":"<p>Remember that the left side is being ORed (<code>|</code>) with the bit and the right most bit (or the Least Significant Bit - LSB) is bit <code>0</code>. An <code>OR</code> operator will set the specified one bit(s) in the source, to the same bits in the target, leaving the other bits unchanged.  Here are some examples.</p>\n<pre><code>int bits = 1;\nSystem.out.println(Integer.toBinaryString(bits));\nbits |= 0b100_0000_0000; // set bit 10 to 1.\nSystem.out.println(Integer.toBinaryString(bits));\n</code></pre>\n<p>prints</p>\n<pre><code>1\n10000000001\n^\nbit 10\n</code></pre>\n<p>or do it like this</p>\n<pre><code>\nSystem.out.println(Integer.toBinaryString(bits));\nbits = 1;\n// or it can be done this way.\nbits |=  1&lt;&lt;10;  // 10 is the bitIndex in bits to set so it is shifted \n                 // left to that position and the result is as before\nSystem.out.println(Integer.toBinaryString(bits));\n</code></pre>\n<p>prints</p>\n<pre><code>10000000001\n^\nbit 10\n</code></pre>\n"}],"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72924497,"answer_count":3,"score":2,"last_activity_date":1657401814,"creation_date":1657398423,"question_id":72924423,"body_markdown":"Java&#39;s `BitSet` class has a method `Set` that sets a single bit to 1 (=true). The method source code is as follows:\r\n\r\n    public void set(int bitIndex) {\r\n        if (bitIndex &lt; 0)\r\n            throw new IndexOutOfBoundsException(&quot;bitIndex &lt; 0: &quot; + bitIndex);\r\n\r\n        int wordIndex = wordIndex(bitIndex);\r\n        expandTo(wordIndex);\r\n\r\n        words[wordIndex] |= (1L &lt;&lt; bitIndex); // Restores invariants\r\n\r\n        checkInvariants();\r\n    }\r\n\r\nIn addition to the checks, the method&#39;s core code is: `words[wordIndex] |= (1L &lt;&lt; bitIndex)`. I can clearly see in the assignment that the left part is the specific word that holds the relevant bit. However, I don&#39;t understand how the right part (the shifting left of the bit index) cause the setting of the requested (and only it) bit to 1. Could you please explain?","title":"How does BitSet&#39;s set method work with bits shifting to the left?","body":"<p>Java's <code>BitSet</code> class has a method <code>Set</code> that sets a single bit to 1 (=true). The method source code is as follows:</p>\n<pre><code>public void set(int bitIndex) {\n    if (bitIndex &lt; 0)\n        throw new IndexOutOfBoundsException(&quot;bitIndex &lt; 0: &quot; + bitIndex);\n\n    int wordIndex = wordIndex(bitIndex);\n    expandTo(wordIndex);\n\n    words[wordIndex] |= (1L &lt;&lt; bitIndex); // Restores invariants\n\n    checkInvariants();\n}\n</code></pre>\n<p>In addition to the checks, the method's core code is: <code>words[wordIndex] |= (1L &lt;&lt; bitIndex)</code>. I can clearly see in the assignment that the left part is the specific word that holds the relevant bit. However, I don't understand how the right part (the shifting left of the bit index) cause the setting of the requested (and only it) bit to 1. Could you please explain?</p>\n"},{"tags":["java","android","user-interface","android-linearlayout","android-constraintlayout"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":2,"creation_date":1657402529,"post_id":72924684,"comment_id":128803100,"body_markdown":"The `LayoutParams` on the root `&lt;View&gt;` in a layout will be created during inflation only if you pass the parent `ViewGroup` in the `LayoutInflater#inflate()` call. If you pass `null` for the parent, the `LayoutParams` are left null, because the particular type depends on the parent type; e.g., `LinearLayout.LayoutParams` for children inside a `LinearLayout`, `FrameLayout.LayoutParams` inside a `FrameLayout`, etc.","body":"The <code>LayoutParams</code> on the root <code>&lt;View&gt;</code> in a layout will be created during inflation only if you pass the parent <code>ViewGroup</code> in the <code>LayoutInflater#inflate()</code> call. If you pass <code>null</code> for the parent, the <code>LayoutParams</code> are left null, because the particular type depends on the parent type; e.g., <code>LinearLayout.LayoutParams</code> for children inside a <code>LinearLayout</code>, <code>FrameLayout.LayoutParams</code> inside a <code>FrameLayout</code>, etc."},{"owner":{"account_id":6280939,"reputation":21,"user_id":4881974,"display_name":"Grzanek"},"score":0,"creation_date":1657402934,"post_id":72924684,"comment_id":128803143,"body_markdown":"@MikeM. So calling `LayoutInflater#inflate()` is better/cleaner way to do what I am doing above?","body":"@MikeM. So calling <code>LayoutInflater#inflate()</code> is better/cleaner way to do what I am doing above?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1657403083,"post_id":72924684,"comment_id":128803161,"body_markdown":"I was assuming that that&#39;s how you&#39;re creating the item to insert, but I might have misunderstood. How are you creating `this.questLayout`? Is it from that second layout you&#39;ve shown?","body":"I was assuming that that&#39;s how you&#39;re creating the item to insert, but I might have misunderstood. How are you creating <code>this.questLayout</code>? Is it from that second layout you&#39;ve shown?"},{"owner":{"account_id":6280939,"reputation":21,"user_id":4881974,"display_name":"Grzanek"},"score":1,"creation_date":1657403523,"post_id":72924684,"comment_id":128803217,"body_markdown":"You are correct - it seems i forgot about that part of code. So probably initial problem is that i am calling `inflate` with wrong `root` argument. Will try to play with that part","body":"You are correct - it seems i forgot about that part of code. So probably initial problem is that i am calling <code>inflate</code> with wrong <code>root</code> argument. Will try to play with that part"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1657403775,"post_id":72924684,"comment_id":128803249,"body_markdown":"Yeah, the second argument in `inflate()` is for the parent. If you don&#39;t want the newly inflated `View` to be added to the parent right away by `LayoutInflater`, you&#39;ll want to pass `false` for a third argument; e.g., `inflater.inflate(R.layout.item, centralParent, false)`. Just a heads up.","body":"Yeah, the second argument in <code>inflate()</code> is for the parent. If you don&#39;t want the newly inflated <code>View</code> to be added to the parent right away by <code>LayoutInflater</code>, you&#39;ll want to pass <code>false</code> for a third argument; e.g., <code>inflater.inflate(R.layout.item, centralParent, false)</code>. Just a heads up."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657456186,"post_id":72924684,"comment_id":128809645,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":6280939,"reputation":21,"user_id":4881974,"display_name":"Grzanek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657401348,"creation_date":1657401348,"question_id":72924684,"body_markdown":"In runtime I am changing child of LinearLayout using addView method.\r\n\r\nJust wondering if someone can explain me why I need to call setLayoutParams with MATCH_PARENT as both arguments on inserted view, when in layout root node for this view has layout_width and layout_height already set to match_parent?\r\n\r\nIssue is only when inserted child is ConstraintLayout - with LinearLayout I don&#39;t need to call that method.\r\n\r\n\r\nMain view:\r\n```\r\n&lt;GridLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:background=&quot;@drawable/background&quot;\r\n    android:columnCount=&quot;3&quot;&gt;\r\n\r\n    &lt;!-- left --&gt;\r\n    &lt;LinearLayout android:id=&quot;@+id/leftPanel&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_column=&quot;0&quot;\r\n    android:layout_gravity=&quot;start&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_columnWeight=&quot;1&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;!-- center --&gt;\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/centralPanel&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_row=&quot;0&quot;\r\n        android:layout_column=&quot;1&quot;\r\n        android:layout_columnWeight=&quot;20&quot;\r\n        android:layout_gravity=&quot;fill&quot;\r\n        android:layout_marginHorizontal=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;2mm&quot;\r\n        android:layout_marginBottom=&quot;5mm&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;!-- right --&gt;\r\n    &lt;RelativeLayout android:id=&quot;@+id/rightPanel&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_column=&quot;2&quot;\r\n        android:layout_gravity=&quot;end&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_columnWeight=&quot;1&quot;&gt;\r\n&lt;/RelativeLayout &gt;\r\n\r\n```\r\n\r\ncentralPanel is container that I am filling from code.\r\n\r\nItem that is inserted:\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_marginRight=&quot;30dp&quot;\r\n    android:layout_marginBottom=&quot;10dp&quot;\r\n    android:background=&quot;@color/colorAccent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            style=&quot;@style/DescriptionTextView&quot;\r\n            android:id=&quot;@+id/mapTextView&quot;\r\n            android:text=&quot;@string/goToLocation&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/mapQuestImageView&quot;\r\n            app:layout_constraintVertical_chainStyle=&quot;spread_inside&quot;\r\n            /&gt;\r\n\r\n        &lt;com.alexvasilkov.gestures.views.GestureImageView\r\n            android:id=&quot;@+id/mapQuestImageView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/mapTextView&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/mapQuestButton&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/mapQuestButton&quot;\r\n            style=&quot;@style/ContinueButtonStyle&quot;\r\n            android:onClick=&quot;simpleScreenNext&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/mapQuestImageView&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nCode before fix:\r\n\r\n```\r\nprivate void showCentralQuest() {\r\n        LinearLayout centralPanel = findViewById(R.id.centralPanel);\r\n        centralPanel.removeAllViews();\r\n        \r\n        centralPanel.addView(this.questLayout);\r\n        centralPanel.invalidate();\r\n    }\r\n```\r\n\r\nFix (found here https://stackoverflow.com/questions/8201685/android-match-parent-is-ignored-when-using-addview ) is just adding 1 line:\r\n```\r\nprivate void showCentralQuest() {\r\n        LinearLayout centralPanel = findViewById(R.id.centralPanel);\r\n        centralPanel.removeAllViews();\r\n        \r\n        this.questLayout.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n        centralPanel.addView(this.questLayout);\r\n        centralPanel.invalidate();\r\n    }\r\n```\r\n\r\nSo anyone could explain it to me why I need to set LayoutParams again? :)","title":"Android - LinerarLayout.AddView - why do i need to call setLayoutParams for inserted view?","body":"<p>In runtime I am changing child of LinearLayout using addView method.</p>\n<p>Just wondering if someone can explain me why I need to call setLayoutParams with MATCH_PARENT as both arguments on inserted view, when in layout root node for this view has layout_width and layout_height already set to match_parent?</p>\n<p>Issue is only when inserted child is ConstraintLayout - with LinearLayout I don't need to call that method.</p>\n<p>Main view:</p>\n<pre><code>&lt;GridLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:background=&quot;@drawable/background&quot;\n    android:columnCount=&quot;3&quot;&gt;\n\n    &lt;!-- left --&gt;\n    &lt;LinearLayout android:id=&quot;@+id/leftPanel&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_column=&quot;0&quot;\n    android:layout_gravity=&quot;start&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_columnWeight=&quot;1&quot;&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;!-- center --&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/centralPanel&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_row=&quot;0&quot;\n        android:layout_column=&quot;1&quot;\n        android:layout_columnWeight=&quot;20&quot;\n        android:layout_gravity=&quot;fill&quot;\n        android:layout_marginHorizontal=&quot;0dp&quot;\n        android:layout_marginTop=&quot;2mm&quot;\n        android:layout_marginBottom=&quot;5mm&quot;\n        android:orientation=&quot;vertical&quot;\n        android:background=&quot;@color/colorPrimary&quot;&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;!-- right --&gt;\n    &lt;RelativeLayout android:id=&quot;@+id/rightPanel&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_column=&quot;2&quot;\n        android:layout_gravity=&quot;end&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_columnWeight=&quot;1&quot;&gt;\n&lt;/RelativeLayout &gt;\n\n</code></pre>\n<p>centralPanel is container that I am filling from code.</p>\n<p>Item that is inserted:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_marginRight=&quot;30dp&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:background=&quot;@color/colorAccent&quot;&gt;\n\n        &lt;TextView\n            style=&quot;@style/DescriptionTextView&quot;\n            android:id=&quot;@+id/mapTextView&quot;\n            android:text=&quot;@string/goToLocation&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;30dp&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@id/mapQuestImageView&quot;\n            app:layout_constraintVertical_chainStyle=&quot;spread_inside&quot;\n            /&gt;\n\n        &lt;com.alexvasilkov.gestures.views.GestureImageView\n            android:id=&quot;@+id/mapQuestImageView&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/mapTextView&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@id/mapQuestButton&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/mapQuestButton&quot;\n            style=&quot;@style/ContinueButtonStyle&quot;\n            android:onClick=&quot;simpleScreenNext&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/mapQuestImageView&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Code before fix:</p>\n<pre><code>private void showCentralQuest() {\n        LinearLayout centralPanel = findViewById(R.id.centralPanel);\n        centralPanel.removeAllViews();\n        \n        centralPanel.addView(this.questLayout);\n        centralPanel.invalidate();\n    }\n</code></pre>\n<p>Fix (found here <a href=\"https://stackoverflow.com/questions/8201685/android-match-parent-is-ignored-when-using-addview\">Android: match_parent is ignored when using addView</a> ) is just adding 1 line:</p>\n<pre><code>private void showCentralQuest() {\n        LinearLayout centralPanel = findViewById(R.id.centralPanel);\n        centralPanel.removeAllViews();\n        \n        this.questLayout.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n        centralPanel.addView(this.questLayout);\n        centralPanel.invalidate();\n    }\n</code></pre>\n<p>So anyone could explain it to me why I need to set LayoutParams again? :)</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1657399351,"post_id":72924422,"comment_id":128802594,"body_markdown":"Enable data-bindng for model class `Recipe` and your code would be instantly less dramatic - also the numbered variables do not support the readability... and &quot;does not work&quot; is not an error description.","body":"Enable data-bindng for model class <code>Recipe</code> and your code would be instantly less dramatic - also the numbered variables do not support the readability... and &quot;does not work&quot; is not an error description."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657401238,"creation_date":1657401238,"answer_id":72924674,"question_id":72924422,"body_markdown":"The problem is in this sort of code:\r\n\r\n    mRef4.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot1) {\r\n            try {\r\n                if (holder.saveBtn.getDrawable().getConstantState().equals(context.getDrawable(R.drawable.save).getConstantState())) {\r\n                    System.out.println(&quot;g&quot;);\r\n                    mRef3.child(recipes.get(position).id).setValue(&quot;&quot;);\r\n                    mRef4.setValue(Integer.parseInt(snapshot1.getValue().toString()) + 1);\r\n                    holder.saveBtn.setImageResource(R.drawable.save2);\r\n                } else {\r\n                    System.out.println(&quot;b&quot;);\r\n                    mRef3.child(recipes.get(position).id).removeValue();\r\n                    holder.saveBtn.setImageResource(R.drawable.save);\r\n                }\r\n                return;\r\n            } catch (IndexOutOfBoundsException e) {\r\n\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n\r\nYou&#39;re adding a value listener to `mRef4`, which means that your `onDataChange` gets called immediately for the current value of `mRef4` and then **every time `mRef4` is modified tooSince you modify `mRef4` inside `onDataChange`, you&#39;re causing an infinite loop.\r\n\r\nMost likely you want to use `addListenerForSingleValueEvent` instead of `addValueEventListener`:\r\n\r\n        // &#128071;\r\n    mRef4.addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot1) {\r\n            try {\r\n                if (holder.saveBtn.getDrawable().getConstantState().equals(context.getDrawable(R.drawable.save).getConstantState())) {\r\n                    System.out.println(&quot;g&quot;);\r\n                    mRef3.child(recipes.get(position).id).setValue(&quot;&quot;);\r\n                    mRef4.setValue(Integer.parseInt(snapshot1.getValue().toString()) + 1);\r\n                    holder.saveBtn.setImageResource(R.drawable.save2);\r\n                } else {\r\n                    System.out.println(&quot;b&quot;);\r\n                    mRef3.child(recipes.get(position).id).removeValue();\r\n                    holder.saveBtn.setImageResource(R.drawable.save);\r\n                }\r\n                return;\r\n            } catch (IndexOutOfBoundsException e) {\r\n                throw RuntimeError(e); // &#128072; never ignore errors\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n                throw error.toException(); // &#128072; never ignore errors\r\n        }\r\n    });\r\n\r\nYou might have more such instances in your code, so check for any `addValueEventListener` and wonder if you indeed want to listen for updates or only want to get the value once.","title":"The function of adding a recipe to the database favorites does not work","body":"<p>The problem is in this sort of code:</p>\n<pre><code>mRef4.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot1) {\n        try {\n            if (holder.saveBtn.getDrawable().getConstantState().equals(context.getDrawable(R.drawable.save).getConstantState())) {\n                System.out.println(&quot;g&quot;);\n                mRef3.child(recipes.get(position).id).setValue(&quot;&quot;);\n                mRef4.setValue(Integer.parseInt(snapshot1.getValue().toString()) + 1);\n                holder.saveBtn.setImageResource(R.drawable.save2);\n            } else {\n                System.out.println(&quot;b&quot;);\n                mRef3.child(recipes.get(position).id).removeValue();\n                holder.saveBtn.setImageResource(R.drawable.save);\n            }\n            return;\n        } catch (IndexOutOfBoundsException e) {\n\n        }\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n<p>You're adding a value listener to <code>mRef4</code>, which means that your <code>onDataChange</code> gets called immediately for the current value of <code>mRef4</code> and then **every time <code>mRef4</code> is modified tooSince you modify <code>mRef4</code> inside <code>onDataChange</code>, you're causing an infinite loop.</p>\n<p>Most likely you want to use <code>addListenerForSingleValueEvent</code> instead of <code>addValueEventListener</code>:</p>\n<pre><code>    // 👇\nmRef4.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot1) {\n        try {\n            if (holder.saveBtn.getDrawable().getConstantState().equals(context.getDrawable(R.drawable.save).getConstantState())) {\n                System.out.println(&quot;g&quot;);\n                mRef3.child(recipes.get(position).id).setValue(&quot;&quot;);\n                mRef4.setValue(Integer.parseInt(snapshot1.getValue().toString()) + 1);\n                holder.saveBtn.setImageResource(R.drawable.save2);\n            } else {\n                System.out.println(&quot;b&quot;);\n                mRef3.child(recipes.get(position).id).removeValue();\n                holder.saveBtn.setImageResource(R.drawable.save);\n            }\n            return;\n        } catch (IndexOutOfBoundsException e) {\n            throw RuntimeError(e); // 👈 never ignore errors\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n            throw error.toException(); // 👈 never ignore errors\n    }\n});\n</code></pre>\n<p>You might have more such instances in your code, so check for any <code>addValueEventListener</code> and wonder if you indeed want to listen for updates or only want to get the value once.</p>\n"}],"owner":{"display_name":"user15821113"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72924674,"answer_count":1,"score":0,"last_activity_date":1657401238,"creation_date":1657398411,"question_id":72924422,"body_markdown":"I have a problem in the application, I want to make a function to add a recipe to my favorites, but there is a problem, everything seems to look fine, but when I click on the save button, I first compare the current icon with two icons selected and not selected, if selected, I delete a recipe from my favorite firebase database, and if it’s not selected, I add it, but there is a problem when I press my if else system for some reason starts in a loop and even the button seems to be pressed by itself I don’t know why this happens, can you please help, and i use RecyclerView.\r\n\r\nMy Recipe Item:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:foregroundGravity=&quot;center&quot;\r\n        app:cardCornerRadius=&quot;20dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:paddingBottom=&quot;30dp&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/recipeImage&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:adjustViewBounds=&quot;true&quot;\r\n                android:contentDescription=&quot;@string/app_name&quot;\r\n                android:maxHeight=&quot;260dp&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                android:transitionName=&quot;courseImage&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/recipeTitle&quot;\r\n                android:layout_width=&quot;223dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:fontFamily=&quot;@font/baloo&quot;\r\n                android:text=&quot;1234567890123456&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;25sp&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;52dp&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:fontFamily=&quot;@font/baloo&quot;\r\n                    android:text=&quot;By&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/username&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:fontFamily=&quot;@font/baloo&quot;\r\n                    android:text=&quot;Username&quot;\r\n                    android:textColor=&quot;@color/textColor&quot;\r\n                    android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;60dp&quot;&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/imageView&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:layout_marginRight=&quot;5dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:contentDescription=&quot;TODO&quot;\r\n                        app:srcCompat=&quot;@drawable/ic_time_svgrepo_com&quot; /&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/time&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/baloo&quot;\r\n                    android:text=&quot;time&quot;\r\n\r\n                    android:textColor=&quot;@color/black&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;ImageView\r\n                android:id=&quot;@+id/saveBtn&quot;\r\n                android:layout_width=&quot;31dp&quot;\r\n                android:layout_height=&quot;36dp&quot;\r\n                android:layout_marginLeft=&quot;190dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                app:srcCompat=&quot;@drawable/save&quot; /&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nMy Adapter:\r\n```\r\npublic class RecipeAdapter extends RecyclerView.Adapter&lt;RecipeAdapter.RecipeViewHolder&gt; {\r\n    FirebaseAuth mAuth;\r\n    FirebaseUser mUser;\r\n    DatabaseReference mRef;\r\n    DatabaseReference mRef2;\r\n    DatabaseReference mRef3;\r\n    DatabaseReference mRef4;\r\n    Context context;\r\n    public List&lt;Recipe&gt; recipes;\r\n\r\n    public RecipeAdapter(Context context, List&lt;Recipe&gt; courses) {\r\n        this.context = context;\r\n        this.recipes = courses;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecipeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View recipeItems = LayoutInflater.from(context).inflate(R.layout.recipe_item, parent, false);\r\n        return new RecipeAdapter.RecipeViewHolder(recipeItems);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecipeViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mUser = mAuth.getCurrentUser();\r\n        mRef = FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);\r\n        mRef2 = FirebaseDatabase.getInstance().getReference().child(&quot;count&quot;);\r\n        mRef4 = FirebaseDatabase.getInstance().getReference().child(&quot;count2&quot;).child(mUser.getUid());\r\n        mRef3 = FirebaseDatabase.getInstance().getReference().child(&quot;favorite&quot;).child(mUser.getUid());\r\n\r\n        //Listener for favorite Btn\r\n        holder.saveBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mRef4.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot1) {\r\n                        try {\r\n                            if (holder.saveBtn.getDrawable().getConstantState().equals(context.getDrawable(R.drawable.save).getConstantState())) {\r\n                                System.out.println(&quot;g&quot;);\r\n                                mRef3.child(recipes.get(position).id).setValue(&quot;&quot;);\r\n                                mRef4.setValue(Integer.parseInt(snapshot1.getValue().toString()) + 1);\r\n                                holder.saveBtn.setImageResource(R.drawable.save2);\r\n                            } else {\r\n                                System.out.println(&quot;b&quot;);\r\n                                mRef3.child(recipes.get(position).id).removeValue();\r\n                                holder.saveBtn.setImageResource(R.drawable.save);\r\n                            }\r\n                            return;\r\n                        } catch (IndexOutOfBoundsException e) {\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n        mRef4.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot1) {\r\n                System.out.println(snapshot1.getValue().toString());\r\n                mRef3.child(recipes.get(position).id).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if (snapshot.getValue() == null) {\r\n\r\n                        } else {\r\n                            holder.saveBtn.setImageResource(R.drawable.save2);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n       \r\n        \r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, RecipePage.class);\r\n\r\n                ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(\r\n                        (Activity) context,\r\n                        new Pair&lt;View, String&gt;(holder.recipeImage, &quot;recipeImage&quot;)\r\n                );\r\n                intent.putExtra(&quot;recipeImage&quot;, recipes.get(position).getPhotoLink());\r\n                intent.putExtra(&quot;recipeTitle&quot;, recipes.get(position).getTitle());\r\n                intent.putExtra(&quot;recipeCookTime&quot;, recipes.get(position).getCookTime());\r\n                intent.putExtra(&quot;recipeServes&quot;, recipes.get(position).getServes());\r\n                intent.putExtra(&quot;recipePrepTime&quot;, recipes.get(position).getPrepTime());\r\n                intent.putExtra(&quot;recipeAccess&quot;, recipes.get(position).getAccess());\r\n                intent.putExtra(&quot;recipeDesc&quot;, recipes.get(position).getDescription());\r\n                intent.putExtra(&quot;recipeIngr&quot;, recipes.get(position).getIngredients());\r\n                intent.putExtra(&quot;recipeDire&quot;, recipes.get(position).getDirections());\r\n                context.startActivity(intent, options.toBundle());\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return recipes.size();\r\n    }\r\n\r\n    public static final class RecipeViewHolder extends RecyclerView.ViewHolder {\r\n        public ImageView recipeImage, saveBtn;\r\n        TextView username, time, title;\r\n\r\n        public RecipeViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            saveBtn = itemView.findViewById(R.id.saveBtn);\r\n            recipeImage = itemView.findViewById(R.id.recipeImage);\r\n            username = itemView.findViewById(R.id.username);\r\n            username.setPaintFlags(username.getPaintFlags() | Paint.UNDERLINE_TEXT_FLAG);\r\n            time = itemView.findViewById(R.id.time);\r\n            title = itemView.findViewById(R.id.recipeTitle);\r\n\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"The function of adding a recipe to the database favorites does not work","body":"<p>I have a problem in the application, I want to make a function to add a recipe to my favorites, but there is a problem, everything seems to look fine, but when I click on the save button, I first compare the current icon with two icons selected and not selected, if selected, I delete a recipe from my favorite firebase database, and if it’s not selected, I add it, but there is a problem when I press my if else system for some reason starts in a loop and even the button seems to be pressed by itself I don’t know why this happens, can you please help, and i use RecyclerView.</p>\n<p>My Recipe Item:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:foregroundGravity=&quot;center&quot;\n        app:cardCornerRadius=&quot;20dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/white&quot;\n            android:orientation=&quot;vertical&quot;\n            android:paddingBottom=&quot;30dp&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/recipeImage&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:adjustViewBounds=&quot;true&quot;\n                android:contentDescription=&quot;@string/app_name&quot;\n                android:maxHeight=&quot;260dp&quot;\n                android:scaleType=&quot;fitXY&quot;\n                android:transitionName=&quot;courseImage&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/recipeTitle&quot;\n                android:layout_width=&quot;223dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:fontFamily=&quot;@font/baloo&quot;\n                android:text=&quot;1234567890123456&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;25sp&quot; /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;52dp&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:fontFamily=&quot;@font/baloo&quot;\n                    android:text=&quot;By&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/username&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:fontFamily=&quot;@font/baloo&quot;\n                    android:text=&quot;Username&quot;\n                    android:textColor=&quot;@color/textColor&quot;\n                    android:textSize=&quot;18sp&quot; /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;60dp&quot;&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/imageView&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;match_parent&quot;\n                        android:layout_marginRight=&quot;5dp&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:contentDescription=&quot;TODO&quot;\n                        app:srcCompat=&quot;@drawable/ic_time_svgrepo_com&quot; /&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/time&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/baloo&quot;\n                    android:text=&quot;time&quot;\n\n                    android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n                &lt;ImageView\n                android:id=&quot;@+id/saveBtn&quot;\n                android:layout_width=&quot;31dp&quot;\n                android:layout_height=&quot;36dp&quot;\n                android:layout_marginLeft=&quot;190dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:srcCompat=&quot;@drawable/save&quot; /&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>My Adapter:</p>\n<pre><code>public class RecipeAdapter extends RecyclerView.Adapter&lt;RecipeAdapter.RecipeViewHolder&gt; {\n    FirebaseAuth mAuth;\n    FirebaseUser mUser;\n    DatabaseReference mRef;\n    DatabaseReference mRef2;\n    DatabaseReference mRef3;\n    DatabaseReference mRef4;\n    Context context;\n    public List&lt;Recipe&gt; recipes;\n\n    public RecipeAdapter(Context context, List&lt;Recipe&gt; courses) {\n        this.context = context;\n        this.recipes = courses;\n    }\n\n    @NonNull\n    @Override\n    public RecipeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View recipeItems = LayoutInflater.from(context).inflate(R.layout.recipe_item, parent, false);\n        return new RecipeAdapter.RecipeViewHolder(recipeItems);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecipeViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        mAuth = FirebaseAuth.getInstance();\n        mUser = mAuth.getCurrentUser();\n        mRef = FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);\n        mRef2 = FirebaseDatabase.getInstance().getReference().child(&quot;count&quot;);\n        mRef4 = FirebaseDatabase.getInstance().getReference().child(&quot;count2&quot;).child(mUser.getUid());\n        mRef3 = FirebaseDatabase.getInstance().getReference().child(&quot;favorite&quot;).child(mUser.getUid());\n\n        //Listener for favorite Btn\n        holder.saveBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mRef4.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot1) {\n                        try {\n                            if (holder.saveBtn.getDrawable().getConstantState().equals(context.getDrawable(R.drawable.save).getConstantState())) {\n                                System.out.println(&quot;g&quot;);\n                                mRef3.child(recipes.get(position).id).setValue(&quot;&quot;);\n                                mRef4.setValue(Integer.parseInt(snapshot1.getValue().toString()) + 1);\n                                holder.saveBtn.setImageResource(R.drawable.save2);\n                            } else {\n                                System.out.println(&quot;b&quot;);\n                                mRef3.child(recipes.get(position).id).removeValue();\n                                holder.saveBtn.setImageResource(R.drawable.save);\n                            }\n                            return;\n                        } catch (IndexOutOfBoundsException e) {\n\n                        }\n\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n            }\n        });\n\n        mRef4.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot1) {\n                System.out.println(snapshot1.getValue().toString());\n                mRef3.child(recipes.get(position).id).addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if (snapshot.getValue() == null) {\n\n                        } else {\n                            holder.saveBtn.setImageResource(R.drawable.save2);\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n       \n        \n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, RecipePage.class);\n\n                ActivityOptions options = ActivityOptions.makeSceneTransitionAnimation(\n                        (Activity) context,\n                        new Pair&lt;View, String&gt;(holder.recipeImage, &quot;recipeImage&quot;)\n                );\n                intent.putExtra(&quot;recipeImage&quot;, recipes.get(position).getPhotoLink());\n                intent.putExtra(&quot;recipeTitle&quot;, recipes.get(position).getTitle());\n                intent.putExtra(&quot;recipeCookTime&quot;, recipes.get(position).getCookTime());\n                intent.putExtra(&quot;recipeServes&quot;, recipes.get(position).getServes());\n                intent.putExtra(&quot;recipePrepTime&quot;, recipes.get(position).getPrepTime());\n                intent.putExtra(&quot;recipeAccess&quot;, recipes.get(position).getAccess());\n                intent.putExtra(&quot;recipeDesc&quot;, recipes.get(position).getDescription());\n                intent.putExtra(&quot;recipeIngr&quot;, recipes.get(position).getIngredients());\n                intent.putExtra(&quot;recipeDire&quot;, recipes.get(position).getDirections());\n                context.startActivity(intent, options.toBundle());\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return recipes.size();\n    }\n\n    public static final class RecipeViewHolder extends RecyclerView.ViewHolder {\n        public ImageView recipeImage, saveBtn;\n        TextView username, time, title;\n\n        public RecipeViewHolder(@NonNull View itemView) {\n            super(itemView);\n            saveBtn = itemView.findViewById(R.id.saveBtn);\n            recipeImage = itemView.findViewById(R.id.recipeImage);\n            username = itemView.findViewById(R.id.username);\n            username.setPaintFlags(username.getPaintFlags() | Paint.UNDERLINE_TEXT_FLAG);\n            time = itemView.findViewById(R.id.time);\n            title = itemView.findViewById(R.id.recipeTitle);\n\n\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14321009,"reputation":47,"user_id":10344404,"display_name":"row666"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657399912,"creation_date":1657399912,"answer_id":72924560,"question_id":72924498,"body_markdown":"Few pointers on the code generally:\r\n - You don&#39;t need to use `this.foo` unless `foo` is already defined in the method&#39;s scope\r\n - You don&#39;t need brackets around `(null)` or `(false)`\r\n - If myString is not set, it will be null, so the logic in getString is useless, as just `return myString` would have the same result, unless isSet can be changed in a way other than setString\r\n\r\nAs for the issue, setString doesn&#39;t actually set the string, you&#39;d need to add `myString = string` at the start.","title":"Need Java help to set and return a string","body":"<p>Few pointers on the code generally:</p>\n<ul>\n<li>You don't need to use <code>this.foo</code> unless <code>foo</code> is already defined in the method's scope</li>\n<li>You don't need brackets around <code>(null)</code> or <code>(false)</code></li>\n<li>If myString is not set, it will be null, so the logic in getString is useless, as just <code>return myString</code> would have the same result, unless isSet can be changed in a way other than setString</li>\n</ul>\n<p>As for the issue, setString doesn't actually set the string, you'd need to add <code>myString = string</code> at the start.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657400032,"creation_date":1657400032,"answer_id":72924576,"question_id":72924498,"body_markdown":"&gt; _setString should set the value of the current string and set this.isSet to true. and if the given string is null, sets this.isSet to false_\r\n\r\nYou are describing that `setString()` should:\r\n* Save the new string value (if it isn&#39;t null) and also record a value of &quot;true&quot; for `isSet` \r\n* Record a value of &quot;false&quot; for `isSet` if the input string is &quot;null&quot;\r\n\r\nYour code was close. But instead of checking `this.myString == null`, you will want to check against the input value (I named it &quot;newString&quot; below). Also, if that input string is non-null, you weren&#39;t saving that &quot;newString&quot; value anywhere; you can see that the code below does save the new string with `this.myString = newString`.\r\n\r\n```\r\npublic void setString(String newString) {\r\n    if (newString == null) {\r\n        this.isSet = false;\r\n        // seems like a good idea to also do: this.myString = null;\r\n    } else {\r\n        this.isSet = true;\r\n        this.myString = newString;\r\n    }\r\n}\r\n```\r\n","title":"Need Java help to set and return a string","body":"<blockquote>\n<p><em>setString should set the value of the current string and set this.isSet to true. and if the given string is null, sets this.isSet to false</em></p>\n</blockquote>\n<p>You are describing that <code>setString()</code> should:</p>\n<ul>\n<li>Save the new string value (if it isn't null) and also record a value of &quot;true&quot; for <code>isSet</code></li>\n<li>Record a value of &quot;false&quot; for <code>isSet</code> if the input string is &quot;null&quot;</li>\n</ul>\n<p>Your code was close. But instead of checking <code>this.myString == null</code>, you will want to check against the input value (I named it &quot;newString&quot; below). Also, if that input string is non-null, you weren't saving that &quot;newString&quot; value anywhere; you can see that the code below does save the new string with <code>this.myString = newString</code>.</p>\n<pre><code>public void setString(String newString) {\n    if (newString == null) {\n        this.isSet = false;\n        // seems like a good idea to also do: this.myString = null;\n    } else {\n        this.isSet = true;\n        this.myString = newString;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657400148,"creation_date":1657400148,"answer_id":72924585,"question_id":72924498,"body_markdown":"you have two problems in the method setString. \r\n\r\n1) You need set the string in the attribute myString\r\n2) You need check if the &quot;string&quot; value is null, and not &quot;myString&quot;\r\n\r\nSome like that:\r\n\r\n    public void setString(String string) {\r\n            if (this.string == null) {\r\n               this.isSet = false;\r\n            } else {\r\n               this.isSet = true;\r\n               this.myString = string;\r\n            }\r\n    }","title":"Need Java help to set and return a string","body":"<p>you have two problems in the method setString.</p>\n<ol>\n<li>You need set the string in the attribute myString</li>\n<li>You need check if the &quot;string&quot; value is null, and not &quot;myString&quot;</li>\n</ol>\n<p>Some like that:</p>\n<pre><code>public void setString(String string) {\n        if (this.string == null) {\n           this.isSet = false;\n        } else {\n           this.isSet = true;\n           this.myString = string;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657400597,"creation_date":1657400597,"answer_id":72924629,"question_id":72924498,"body_markdown":"You have the logic now on setter-level. Perhaps it placed better on the getter-level (less logic required).\r\n\r\n```java\r\npublic class CustomString {\r\n\r\n    private String myString = null;\r\n\r\n    public boolean isSet() {\r\n        return myString != null;\r\n    }\r\n\r\n    public void setString(String newValue) {\r\n        myString = newValue;\r\n    }\r\n\r\n    public String getString() {\r\n        return myString;\r\n    }\r\n}\r\n```\r\n\r\nAnd now you can shortcut your whole class with lombok.\r\n\r\n```java\r\n@Data\r\npublic class CustomString {\r\n\r\n    private String myString;\r\n\r\n    public boolean isSet() {\r\n        return myString != null;\r\n    }\r\n}\r\n```","title":"Need Java help to set and return a string","body":"<p>You have the logic now on setter-level. Perhaps it placed better on the getter-level (less logic required).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomString {\n\n    private String myString = null;\n\n    public boolean isSet() {\n        return myString != null;\n    }\n\n    public void setString(String newValue) {\n        myString = newValue;\n    }\n\n    public String getString() {\n        return myString;\n    }\n}\n</code></pre>\n<p>And now you can shortcut your whole class with lombok.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class CustomString {\n\n    private String myString;\n\n    public boolean isSet() {\n        return myString != null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25716775,"reputation":15,"user_id":19474419,"display_name":"roxyrox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1657400597,"creation_date":1657399363,"question_id":72924498,"body_markdown":"I am new to java trying to complete an introductory course and am really struggling. I have included the code I believe should be working but when i run the test they fail and return null.\r\ncan anyone help to see what is wrong with my code?\r\nthank you so much   \r\n\r\n```\r\npublic class CustomString {\r\n    String myString;\r\n    boolean isSet;\r\n\r\n    public CustomString() {\r\n        this.myString = (null);\r\n        this.isSet = (false);\r\n    }\r\n}\r\n```\r\n\r\nif the string hasn&#39;t been set with setString it should return null. setString should set the value of the current string and set this.isSet to true. and if the given string is null, sets this.isSet to false\r\n\t\r\n```\r\npublic String getString() {\r\n    if (this.myString == null || this.isSet == false) {\r\n        return null;\r\n    } else {\r\n        return this.myString;\r\n    }\r\n}\r\n\r\npublic void setString(String string) {\r\n    if (this.myString == null) {\r\n        this.isSet = false;\r\n    } else {\r\n        this.isSet = true;\r\n    }\r\n}\r\n```\r\n","title":"Need Java help to set and return a string","body":"<p>I am new to java trying to complete an introductory course and am really struggling. I have included the code I believe should be working but when i run the test they fail and return null.\ncan anyone help to see what is wrong with my code?\nthank you so much</p>\n<pre><code>public class CustomString {\n    String myString;\n    boolean isSet;\n\n    public CustomString() {\n        this.myString = (null);\n        this.isSet = (false);\n    }\n}\n</code></pre>\n<p>if the string hasn't been set with setString it should return null. setString should set the value of the current string and set this.isSet to true. and if the given string is null, sets this.isSet to false</p>\n<pre><code>public String getString() {\n    if (this.myString == null || this.isSet == false) {\n        return null;\n    } else {\n        return this.myString;\n    }\n}\n\npublic void setString(String string) {\n    if (this.myString == null) {\n        this.isSet = false;\n    } else {\n        this.isSet = true;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","testing","package"],"answers":[{"tags":[],"owner":{"account_id":25420685,"reputation":130,"user_id":19226764,"display_name":"Harrel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657400361,"creation_date":1657399287,"answer_id":72924489,"question_id":72924262,"body_markdown":"Basically, you should be able to set paths to your source sets any way you want to. Something like this should work:\r\n```gradle\r\nsourceSets {\r\n    test {\r\n        java {\r\n            srcDirs = [&#39;test/unit&#39;]\r\n        }\r\n        resources {\r\n            srcDirs = [&#39;test/unit&#39;]\r\n        }\r\n    }\r\n\r\n    testComponent {\r\n        java {\r\n            srcDirs = [&#39;test/component&#39;]\r\n        }\r\n        resources {\r\n            srcDirs = [&#39;test/component&#39;]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately I&#39;m not sure if you can change the names of default source sets.\r\n\r\nKeep in mind that you will have to provide more configuration for your new source set, e.g. create new `Test` task:\r\n```gradle\r\ntask testComponent(type: Test) {\r\n    testClassesDirs = sourceSets.testComponent.output\r\n    classpath += sourceSets.main.output\r\n}\r\n```\r\n\r\nAnd also manage its dependencies separately or extend them from already existing configuration:\r\n\r\n```gradle\r\nconfigurations {\r\n    testComponentCompile.extendsFrom(testCompile)\r\n    testComponentRuntime.extendsFrom(testRuntime)\r\n}\r\n```\r\n\r\nAs for the convention: it&#39;s best to stick to provided defaults, but if you have the need for different structure then it&#39;s also fine. Most common case for test separation is probably when you want split unit and integration test in order to be able to run them individually.","title":"Split default test sourceset into more specific test sourcesets","body":"<p>Basically, you should be able to set paths to your source sets any way you want to. Something like this should work:</p>\n<pre><code>sourceSets {\n    test {\n        java {\n            srcDirs = ['test/unit']\n        }\n        resources {\n            srcDirs = ['test/unit']\n        }\n    }\n\n    testComponent {\n        java {\n            srcDirs = ['test/component']\n        }\n        resources {\n            srcDirs = ['test/component']\n        }\n    }\n}\n</code></pre>\n<p>Unfortunately I'm not sure if you can change the names of default source sets.</p>\n<p>Keep in mind that you will have to provide more configuration for your new source set, e.g. create new <code>Test</code> task:</p>\n<pre><code>task testComponent(type: Test) {\n    testClassesDirs = sourceSets.testComponent.output\n    classpath += sourceSets.main.output\n}\n</code></pre>\n<p>And also manage its dependencies separately or extend them from already existing configuration:</p>\n<pre><code>configurations {\n    testComponentCompile.extendsFrom(testCompile)\n    testComponentRuntime.extendsFrom(testRuntime)\n}\n</code></pre>\n<p>As for the convention: it's best to stick to provided defaults, but if you have the need for different structure then it's also fine. Most common case for test separation is probably when you want split unit and integration test in order to be able to run them individually.</p>\n"}],"owner":{"account_id":7393946,"reputation":23,"user_id":5626521,"display_name":"fjunk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657400361,"creation_date":1657396940,"question_id":72924262,"body_markdown":"i&#39;m currently setting up a new project using java, gradle and spring boot. I&#39;m struggling to create my planned test setup. My goal is to have separate test commands and directories located IN the test package. \r\n\r\nWhat I have\r\n-----------\r\n\r\nI have looked into gradle sourceSets and was able to create two new sourceSets for unit and component tests. The problem I face is that I don&#39;t know if there is any way to defined the path of the sourcesets so they are inside the test directory. \r\n\r\n    src\r\n    -- main \r\n    -- test\r\n    -- unit\r\n    -- component \r\n\r\nWhat I want\r\n-----------\r\n\r\nI just want the default test sourceSet to behave like a normal directory which itself contains my two testing sourceSets like this: \r\n\r\n    src\r\n    -- main \r\n    -- test\r\n    ---- unit\r\n    ---- component \r\n\r\nIs this possible and also would this be &#39;against the convention&#39; or something like that? \r\n\r\nAny pointers are appreciated!","title":"Split default test sourceset into more specific test sourcesets","body":"<p>i'm currently setting up a new project using java, gradle and spring boot. I'm struggling to create my planned test setup. My goal is to have separate test commands and directories located IN the test package.</p>\n<h2>What I have</h2>\n<p>I have looked into gradle sourceSets and was able to create two new sourceSets for unit and component tests. The problem I face is that I don't know if there is any way to defined the path of the sourcesets so they are inside the test directory.</p>\n<pre><code>src\n-- main \n-- test\n-- unit\n-- component \n</code></pre>\n<h2>What I want</h2>\n<p>I just want the default test sourceSet to behave like a normal directory which itself contains my two testing sourceSets like this:</p>\n<pre><code>src\n-- main \n-- test\n---- unit\n---- component \n</code></pre>\n<p>Is this possible and also would this be 'against the convention' or something like that?</p>\n<p>Any pointers are appreciated!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1414009,"reputation":128,"user_id":1340034,"display_name":"Ahmed Abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657187559,"creation_date":1657187559,"answer_id":72895753,"question_id":72895463,"body_markdown":"You didn&#39;t post the full code for &quot;setMotiRefuse()&quot; method. but i assume it is a regular setter method that returns void.\r\n\r\nThe issue is in this line of code\r\n\r\n```\r\nresult.put(&quot;motifPharmacie&quot;,computeDto.getPharmacie().getMotiRefuse()!= null ? computeDto.getPharmacie().setMotiRefuse(&quot;traitement en chevauchement non pris en charge &quot;): &quot;&quot;);\r\n```\r\n\r\nyou can&#39;t do this in one statement. please split them into two :\r\n\r\n```\r\ncomputeDto.getPharmacie().setMotiRefuse(&quot;traitement en chevauchement non pris en charge &quot;);\r\nresult.put(&quot;motifPharmacie&quot;,computeDto.getPharmacie().getMotiRefuse()!= null ? computeDto.getPharmacie().getMotiRefuse(): &quot;&quot;);\r\n```\r\n\r\nThe reason is: set method returns void \r\nso the operand &quot;?&quot; sees that you returned void or string which are not compatible. so use get method in the ternary operator &quot;?&quot; instead of set. ","title":"Incompatible conditional operand types void and String","body":"<p>You didn't post the full code for &quot;setMotiRefuse()&quot; method. but i assume it is a regular setter method that returns void.</p>\n<p>The issue is in this line of code</p>\n<pre><code>result.put(&quot;motifPharmacie&quot;,computeDto.getPharmacie().getMotiRefuse()!= null ? computeDto.getPharmacie().setMotiRefuse(&quot;traitement en chevauchement non pris en charge &quot;): &quot;&quot;);\n</code></pre>\n<p>you can't do this in one statement. please split them into two :</p>\n<pre><code>computeDto.getPharmacie().setMotiRefuse(&quot;traitement en chevauchement non pris en charge &quot;);\nresult.put(&quot;motifPharmacie&quot;,computeDto.getPharmacie().getMotiRefuse()!= null ? computeDto.getPharmacie().getMotiRefuse(): &quot;&quot;);\n</code></pre>\n<p>The reason is: set method returns void\nso the operand &quot;?&quot; sees that you returned void or string which are not compatible. so use get method in the ternary operator &quot;?&quot; instead of set.</p>\n"}],"owner":{"account_id":25748678,"reputation":13,"user_id":19501548,"display_name":"drn123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72895753,"answer_count":1,"score":1,"last_activity_date":1657398868,"creation_date":1657186287,"question_id":72895463,"body_markdown":"I want to change the value of `computeDto.getPharmacie().getMotiRefuse()` with &quot;traitement en chevauchement non pris en charge &quot; it doesnt work for me, I got this error `Incompatible conditional operand types void and String!` how can I edit it please! \r\nhere is my code: \r\n\r\n```java\r\nMap result = new HashMap&lt;String, Object&gt;();\r\nlong dureeTrait=Long.parseLong(dureeTraitement);\r\n\r\nif(difference_In_Days &gt; dureeTrait) {\r\n    result.put(&quot;motifPharmacie&quot;,\r\n        computeDto.getPharmacie().getMotiRefuse()\r\n        != null ? computeDto.getPharmacie().getMotiRefuse(): &quot;&quot;);\r\n} \r\nelse {\r\n    result.put(&quot;motifPharmacie&quot;,\r\n        computeDto.getPharmacie().getMotiRefuse()\r\n        != null ? computeDto.getPharmacie().setMotiRefuse(&quot;traitement en chevauchement non pris en charge &quot;): &quot;&quot;);\r\n}\r\n```","title":"Incompatible conditional operand types void and String","body":"<p>I want to change the value of <code>computeDto.getPharmacie().getMotiRefuse()</code> with &quot;traitement en chevauchement non pris en charge &quot; it doesnt work for me, I got this error <code>Incompatible conditional operand types void and String!</code> how can I edit it please!\nhere is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map result = new HashMap&lt;String, Object&gt;();\nlong dureeTrait=Long.parseLong(dureeTraitement);\n\nif(difference_In_Days &gt; dureeTrait) {\n    result.put(&quot;motifPharmacie&quot;,\n        computeDto.getPharmacie().getMotiRefuse()\n        != null ? computeDto.getPharmacie().getMotiRefuse(): &quot;&quot;);\n} \nelse {\n    result.put(&quot;motifPharmacie&quot;,\n        computeDto.getPharmacie().getMotiRefuse()\n        != null ? computeDto.getPharmacie().setMotiRefuse(&quot;traitement en chevauchement non pris en charge &quot;): &quot;&quot;);\n}\n</code></pre>\n"},{"tags":["java","spotbugs"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1657273435,"post_id":72909500,"comment_id":128776786,"body_markdown":"Is the code you show the old vulnerable code? Or the new fixed code? What is the difference between the vulnerable and fixed code?","body":"Is the code you show the old vulnerable code? Or the new fixed code? What is the difference between the vulnerable and fixed code?"},{"owner":{"account_id":3217093,"reputation":2256,"user_id":2715490,"display_name":"Julien"},"score":1,"creation_date":1657273514,"post_id":72909500,"comment_id":128776808,"body_markdown":"Could you provide the exact message/error code from Spotbugs ? If the code that you show &quot;fix&quot; the issue and the &quot;erroneous&quot; code was a plain getter for &quot;socket&quot;, it&#39;s just a trick to cheat Spotbugs, because your are fixing nothing.","body":"Could you provide the exact message/error code from Spotbugs ? If the code that you show &quot;fix&quot; the issue and the &quot;erroneous&quot; code was a plain getter for &quot;socket&quot;, it&#39;s just a trick to cheat Spotbugs, because your are fixing nothing."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":3,"creation_date":1657274030,"post_id":72909500,"comment_id":128776984,"body_markdown":"My gut feeling is the code works around the alarm but does not solve it.\nPlease show the exact vulnerability, the vulnerable code and the modification you did to mitigate it.","body":"My gut feeling is the code works around the alarm but does not solve it. Please show the exact vulnerability, the vulnerable code and the modification you did to mitigate it."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1657274144,"post_id":72909500,"comment_id":128777021,"body_markdown":"Voting to close as its missing detail. Its hard to tell what exact message you are talking about, a quick google search doesnt find it. Impossible to tell what exactly you are referring to without you showing the old code.","body":"Voting to close as its missing detail. Its hard to tell what exact message you are talking about, a quick google search doesnt find it. Impossible to tell what exactly you are referring to without you showing the old code."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1657274184,"post_id":72909500,"comment_id":128777029,"body_markdown":"Minor note, to put something into an unmodifiable list, you can also just do `List.of(foo)`.","body":"Minor note, to put something into an unmodifiable list, you can also just do <code>List.of(foo)</code>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1657274349,"post_id":72909500,"comment_id":128777080,"body_markdown":"My wild guess would be that the &quot;vulernaribility&quot; was referring to exposing a mutable object, such as the `socket` via the getter. If thats the case, then you did not fix the issue at all but just tricked Spotbugs. The correct action would be to redesign and not expose the socket in the first place. Move all use-cases into the class instead and keep the socket an internal implementation detail. The alternative, but not in this case, is to expose an immutable wrapper around the actual object or a copy. But that would not make much sense for a socket.","body":"My wild guess would be that the &quot;vulernaribility&quot; was referring to exposing a mutable object, such as the <code>socket</code> via the getter. If thats the case, then you did not fix the issue at all but just tricked Spotbugs. The correct action would be to redesign and not expose the socket in the first place. Move all use-cases into the class instead and keep the socket an internal implementation detail. The alternative, but not in this case, is to expose an immutable wrapper around the actual object or a copy. But that would not make much sense for a socket."},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1657274402,"post_id":72909500,"comment_id":128777104,"body_markdown":"Once the function returns, both `sockets` and `immutableSockets` are up for garbage collection. What you return will still be a reference to the original `socket` object.","body":"Once the function returns, both <code>sockets</code> and <code>immutableSockets</code> are up for garbage collection. What you return will still be a reference to the original <code>socket</code> object."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1657295100,"post_id":72909500,"comment_id":128784106,"body_markdown":"As it stands, your question is unclear, and may be closed. Can you modify it to show, in sequence: [1] The exact original code snippet. [2] Any related messages from SpotBugs for that code, in text and screen shot form. [3] The revised code. [4] Your specific question(s). Closely relate your question(s) to the modified code, rather than just raising abstract concerns. (I realize that some of that information is already in your question, but it is presented in a jumbled and disorganized manner.)","body":"As it stands, your question is unclear, and may be closed. Can you modify it to show, in sequence: [1] The exact original code snippet. [2] Any related messages from SpotBugs for that code, in text and screen shot form. [3] The revised code. [4] Your specific question(s). Closely relate your question(s) to the modified code, rather than just raising abstract concerns. (I realize that some of that information is already in your question, but it is presented in a jumbled and disorganized manner.)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657389374,"post_id":72909500,"comment_id":128800883,"body_markdown":"Your modified method does effectively the same as your original one. You&#39;re just wrapping the socket in a list and then unwrap it. I think you have just tricked Spotbugs by adding complexity to your code. Tools like Spotbugs are no holy grail, instead, they&#39;re – indeed – tools.","body":"Your modified method does effectively the same as your original one. You&#39;re just wrapping the socket in a list and then unwrap it. I think you have just tricked Spotbugs by adding complexity to your code. Tools like Spotbugs are no holy grail, instead, they&#39;re – indeed – tools."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657395451,"creation_date":1657395451,"answer_id":72924126,"question_id":72909500,"body_markdown":"Common sense goes away when someone starts to play with security...\r\n\r\nOne the one hand, yes, exposing mutable objects to the wild is not a good idea in any case, for example the recent [RCE in Spring](https://www.trendmicro.com/en_us/research/22/d/cve-2022-22965-analyzing-the-exploitation-of-spring4shell-vulner.html) has actually became RCE due combination of following reasons:\r\n- spring guys implemented bizarre functionality\r\n- tomcat log config turn to be mutable (&quot;our case&quot;)\r\n\r\nOn the other hand [spotbugs checks](https://github.com/spotbugs/spotbugs/blob/master/spotbugs/src/main/java/edu/umd/cs/findbugs/util/MutableClasses.java) are based on naming conventions, and all setXXX methods of `java.net.Socket` are actually `setOption` - there are no security concerns, however I can&#39;t imagine situation when I would need to return `Socket` object via getter.\r\n","title":"Why does this fix of a malicious code vulnerability (Spotbugs) work:","body":"<p>Common sense goes away when someone starts to play with security...</p>\n<p>One the one hand, yes, exposing mutable objects to the wild is not a good idea in any case, for example the recent <a href=\"https://www.trendmicro.com/en_us/research/22/d/cve-2022-22965-analyzing-the-exploitation-of-spring4shell-vulner.html\" rel=\"nofollow noreferrer\">RCE in Spring</a> has actually became RCE due combination of following reasons:</p>\n<ul>\n<li>spring guys implemented bizarre functionality</li>\n<li>tomcat log config turn to be mutable (&quot;our case&quot;)</li>\n</ul>\n<p>On the other hand <a href=\"https://github.com/spotbugs/spotbugs/blob/master/spotbugs/src/main/java/edu/umd/cs/findbugs/util/MutableClasses.java\" rel=\"nofollow noreferrer\">spotbugs checks</a> are based on naming conventions, and all setXXX methods of <code>java.net.Socket</code> are actually <code>setOption</code> - there are no security concerns, however I can't imagine situation when I would need to return <code>Socket</code> object via getter.</p>\n"},{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657398654,"creation_date":1657398654,"answer_id":72924439,"question_id":72909500,"body_markdown":"Your first code\r\n\r\n&gt;     public Socket getSocket() {\r\n&gt;         return socket;\r\n&gt;     }\r\n\r\nand the second code\r\n\r\n&gt;     public Socket getSocket() {\r\n&gt;         List&lt;Socket&gt; sockets = new ArrayList&lt;&gt;();\r\n&gt;         sockets.add(socket);\r\n&gt;         List&lt;Socket&gt; immutableSockets = Collections.unmodifiableList(sockets);\r\n&gt;         return immutableSockets.get(0);\r\n&gt;     }\r\n\r\nare not resulting in the same byte code. Your statement\r\n\r\n&gt; So, if the latter code snipped just returns the reference to the mutable object likewise the first snippet, the byte code should be the same for both snippets.\r\n\r\nis simply not true. The first one only returns the value of a field, the second one involves different classes and method calls. It just *happens* to do kinda the same thing as in returning the field `this.socket`, only that the second code is doing it in a more &quot;obfuscated&quot; way. The Spotbugs library has only a limited set of patterns/detections, so it can&#39;t see that eventually the second code will leak the internal mutable object of your class.","title":"Why does this fix of a malicious code vulnerability (Spotbugs) work:","body":"<p>Your first code</p>\n<blockquote>\n<pre><code>public Socket getSocket() {\n    return socket;\n}\n</code></pre>\n</blockquote>\n<p>and the second code</p>\n<blockquote>\n<pre><code>public Socket getSocket() {\n    List&lt;Socket&gt; sockets = new ArrayList&lt;&gt;();\n    sockets.add(socket);\n    List&lt;Socket&gt; immutableSockets = Collections.unmodifiableList(sockets);\n    return immutableSockets.get(0);\n}\n</code></pre>\n</blockquote>\n<p>are not resulting in the same byte code. Your statement</p>\n<blockquote>\n<p>So, if the latter code snipped just returns the reference to the mutable object likewise the first snippet, the byte code should be the same for both snippets.</p>\n</blockquote>\n<p>is simply not true. The first one only returns the value of a field, the second one involves different classes and method calls. It just <em>happens</em> to do kinda the same thing as in returning the field <code>this.socket</code>, only that the second code is doing it in a more &quot;obfuscated&quot; way. The Spotbugs library has only a limited set of patterns/detections, so it can't see that eventually the second code will leak the internal mutable object of your class.</p>\n"}],"owner":{"account_id":16312331,"reputation":51,"user_id":11780596,"display_name":"rebit"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72924439,"answer_count":2,"score":1,"last_activity_date":1657398654,"creation_date":1657273212,"question_id":72909500,"body_markdown":"Ok, after I have got several comments about clarifying my equestion, I now will break down the question to the very essentials:\r\n\r\nIn my code there is a get-method for a variable (field) named &quot;socket&quot;, which represents a correctly defined Java network socket of the type &quot;Socket&quot;. This is the get method:\r\n\r\n```\r\npublic Socket getSocket() {\r\n return socket;\r\n}\r\n```\r\n\r\nThe Spotbugs analysis of this code snippet results in a warning, which looks like this (cited letterwise, but lines separated by &quot;&gt;&quot;):\r\n\r\n\\&gt; Malicious code vulnerability&lt;br&gt;\r\n\\&gt; Method returning array may expose internal representation&lt;br&gt;\r\n\\&gt; May expose internal representation by retruning reference to mutable object&lt;br&gt;\r\n\\&gt; [package].[class].getSocket() may expose internal representation by returning [class].socket\r\n\r\nIf I modify the above code snippet to:\r\n\r\n```\r\npublic Socket getSocket() {\r\n List&lt;Socket&gt; sockets = new ArrayList&lt;&gt;();\r\n sockets.add(socket);\r\n List&lt;Socket&gt; immutableSockets = Collections.unmodifiableList(sockets);\r\n return immutableSockets.get(0);\r\n}\r\n\r\n```\r\n\r\nthe Spotbugs warning vanishes.\r\n\r\nI do not understand why, for the following reason:\r\nSpotbug analyzes the byte code, not the source code. So, if the latter code snipped just returns the reference to the mutable object likewise the first snippet, the byte code should be the same for both snippets. Up to now I have not concerned myself with details of Java compiler optimization algorithms but compilers usually optimize code snippets of such simple structure having the same result to the same machine level code (however, this may be a wrong perception). So, the latter &quot;work around&quot;, in my eyes, should not have any effect on the Spotbugs warning, but it has, as noted above.\r\n\r\nNow, from my point of view, there are three explanations right away:\r\n1) My understanding of Spotbugs is wrong and it analyzes not the byte code but at least the source code as well and, therefore, can be cheated by the second snippet as compared to the first one.\r\n2) This is a bug in Spotbugs.\r\n3) The second code snippet does not simply return the same reference to a mutable object, like the first one.\r\n\r\nFinally I want to note, that this &quot;work around&quot; does work for any kind of reference to a mutable object, which is subject to a corresponding Spotbugs warning of the same kind as noted above, i.e., also for warnings leaded by &quot;Storing reference to mutable object.&quot;\r\n\r\nI do hope, that there is somebody out there to clarify this dubious situation and to give a satisfactory explanation for this behavior.\r\n\r\nFinally let me note that, if the question is still not clear enough, it may be closed. This then means to me, that the observed behavior is not important enough to be considered more closely and I will not care either any more.\r\n\r\nOK, I see that more clarification to my question is required. Let&#39;s try another approach:&lt;br&gt;\r\nFirst: the socket thing is only an example. The socket may be replaced by any arbitrary object, the Situation stays the same.&lt;br&gt;\r\nSecond: Spotbugs analyzes the byte code, not the source code. Naming conventions and code structures, which do not alter anything should be irrelevant in my eyes, as the byte code still shows the problem of referencing a mutable object. So, both snippets should generate the same warning if both of them simply return a reference to a mutable object, the one directly and the other one as a list element. Why don&#39;t they do this? THIS is my question.\r\n","title":"Why does this fix of a malicious code vulnerability (Spotbugs) work:","body":"<p>Ok, after I have got several comments about clarifying my equestion, I now will break down the question to the very essentials:</p>\n<p>In my code there is a get-method for a variable (field) named &quot;socket&quot;, which represents a correctly defined Java network socket of the type &quot;Socket&quot;. This is the get method:</p>\n<pre><code>public Socket getSocket() {\n return socket;\n}\n</code></pre>\n<p>The Spotbugs analysis of this code snippet results in a warning, which looks like this (cited letterwise, but lines separated by &quot;&gt;&quot;):</p>\n<p>&gt; Malicious code vulnerability<br>\n&gt; Method returning array may expose internal representation<br>\n&gt; May expose internal representation by retruning reference to mutable object<br>\n&gt; [package].[class].getSocket() may expose internal representation by returning [class].socket</p>\n<p>If I modify the above code snippet to:</p>\n<pre><code>public Socket getSocket() {\n List&lt;Socket&gt; sockets = new ArrayList&lt;&gt;();\n sockets.add(socket);\n List&lt;Socket&gt; immutableSockets = Collections.unmodifiableList(sockets);\n return immutableSockets.get(0);\n}\n\n</code></pre>\n<p>the Spotbugs warning vanishes.</p>\n<p>I do not understand why, for the following reason:\nSpotbug analyzes the byte code, not the source code. So, if the latter code snipped just returns the reference to the mutable object likewise the first snippet, the byte code should be the same for both snippets. Up to now I have not concerned myself with details of Java compiler optimization algorithms but compilers usually optimize code snippets of such simple structure having the same result to the same machine level code (however, this may be a wrong perception). So, the latter &quot;work around&quot;, in my eyes, should not have any effect on the Spotbugs warning, but it has, as noted above.</p>\n<p>Now, from my point of view, there are three explanations right away:</p>\n<ol>\n<li>My understanding of Spotbugs is wrong and it analyzes not the byte code but at least the source code as well and, therefore, can be cheated by the second snippet as compared to the first one.</li>\n<li>This is a bug in Spotbugs.</li>\n<li>The second code snippet does not simply return the same reference to a mutable object, like the first one.</li>\n</ol>\n<p>Finally I want to note, that this &quot;work around&quot; does work for any kind of reference to a mutable object, which is subject to a corresponding Spotbugs warning of the same kind as noted above, i.e., also for warnings leaded by &quot;Storing reference to mutable object.&quot;</p>\n<p>I do hope, that there is somebody out there to clarify this dubious situation and to give a satisfactory explanation for this behavior.</p>\n<p>Finally let me note that, if the question is still not clear enough, it may be closed. This then means to me, that the observed behavior is not important enough to be considered more closely and I will not care either any more.</p>\n<p>OK, I see that more clarification to my question is required. Let's try another approach:<br>\nFirst: the socket thing is only an example. The socket may be replaced by any arbitrary object, the Situation stays the same.<br>\nSecond: Spotbugs analyzes the byte code, not the source code. Naming conventions and code structures, which do not alter anything should be irrelevant in my eyes, as the byte code still shows the problem of referencing a mutable object. So, both snippets should generate the same warning if both of them simply return a reference to a mutable object, the one directly and the other one as a list element. Why don't they do this? THIS is my question.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":2,"creation_date":1657296025,"post_id":72914007,"comment_id":128784400,"body_markdown":"`void` methods don&#39;t `return` anything, but they can print on the console as you do, read and write files etc.","body":"<code>void</code> methods don&#39;t <code>return</code> anything, but they can print on the console as you do, read and write files etc."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1657296084,"creation_date":1657296084,"answer_id":72914069,"question_id":72914007,"body_markdown":"You are confusing printing/outputting and returning.\r\n\r\nPrinting (using `System.out.println`) means you send some information to the console the program is executed in.\r\n\r\nReturning, on the other hand, is sending a value back to the calling method:\r\n\r\n```java\r\npublic void caller(){\r\n    int i=calee();//get a value from a method (must be returned from callee) \r\n    System.out.println(i);//print the value\r\n}\r\npublic int calee(){\r\n    return 1337;//give 1337 back to the calling method \r\n}","title":"Do Void in java actually not returning any values?","body":"<p>You are confusing printing/outputting and returning.</p>\n<p>Printing (using <code>System.out.println</code>) means you send some information to the console the program is executed in.</p>\n<p>Returning, on the other hand, is sending a value back to the calling method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void caller(){\n    int i=calee();//get a value from a method (must be returned from callee) \n    System.out.println(i);//print the value\n}\npublic int calee(){\n    return 1337;//give 1337 back to the calling method \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657296097,"creation_date":1657296097,"answer_id":72914074,"question_id":72914007,"body_markdown":"Your `intro` does not return anything but it is calling another method of `System.out`  which does prints value to your standard output.(e.g. console)\r\n \r\nNow Standard output &amp; input are accessible from all types of methods so that is reason you are seeing values.\r\n","title":"Do Void in java actually not returning any values?","body":"<p>Your <code>intro</code> does not return anything but it is calling another method of <code>System.out</code>  which does prints value to your standard output.(e.g. console)</p>\n<p>Now Standard output &amp; input are accessible from all types of methods so that is reason you are seeing values.</p>\n"},{"tags":[],"owner":{"account_id":13118858,"reputation":6035,"user_id":9477038,"display_name":"Jackkobec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657296864,"creation_date":1657296864,"answer_id":72914228,"question_id":72914007,"body_markdown":"Value returning in Java with &quot;return&quot; keyword usage means explicit returning from the method call for next value processing or usage.\r\n\r\n    public static int method(){\r\n      // do something\r\n      int result = ...\r\n      return result;\r\n    }\r\n    \r\n    // method call and get his result\r\n    int result = method();\r\n\r\nMethod with &quot;void&quot; keyword just exits from the method without value returning.\r\n\r\n \r\n\r\n    public static void voidMethod(){\r\n          // do something\r\n          return;\r\n        }\r\n    \r\n        // method call\r\n        voidMethod();\r\n\r\n","title":"Do Void in java actually not returning any values?","body":"<p>Value returning in Java with &quot;return&quot; keyword usage means explicit returning from the method call for next value processing or usage.</p>\n<pre><code>public static int method(){\n  // do something\n  int result = ...\n  return result;\n}\n\n// method call and get his result\nint result = method();\n</code></pre>\n<p>Method with &quot;void&quot; keyword just exits from the method without value returning.</p>\n<pre><code>public static void voidMethod(){\n      // do something\n      return;\n    }\n\n    // method call\n    voidMethod();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19537863,"reputation":64,"user_id":14296280,"display_name":"Josue Muleshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657298325,"creation_date":1657298325,"answer_id":72914466,"question_id":72914007,"body_markdown":"**Void** doesn&#39;t return a value if we were in **C** we would talk about a procedure but what is a procedure? It&#39;s a function that doesn&#39;t return a value","title":"Do Void in java actually not returning any values?","body":"<p><strong>Void</strong> doesn't return a value if we were in <strong>C</strong> we would talk about a procedure but what is a procedure? It's a function that doesn't return a value</p>\n"}],"owner":{"account_id":25760556,"reputation":9,"user_id":19511573,"display_name":"Arun Chinnathambi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1657398609,"creation_date":1657295742,"question_id":72914007,"body_markdown":"I read that the keyword **`void` doesn&#39;t return any values** in java. I tried to run a simple program. But I don&#39;t think void working on the way that I read. Here&#39;s the example....\r\n```\r\npublic class Main {\r\n    public static void main(String args[]){\r\n        intro(&quot;Arun&quot;, &quot;Saravanampatti&quot;);\r\n        intro(&quot;Kalyana Sundram&quot;, &quot;Kovil Patti&quot;);\r\n    }\r\n\r\n    static void intro(String name, String place){\r\n        System.out.println(&quot;Hello bro my name is &quot; + name +&quot;. and I&#39;m from &quot; + place);\r\n    }\r\n}\r\n```\r\n\r\nNow I created a **method called `intro` with a keyword of `void`**. So values of the method like name and place shouldn&#39;t get out of the intro method. And it shouldn&#39;t return the value to the main method. But here it does. How is this possible.","title":"Do Void in java actually not returning any values?","body":"<p>I read that the keyword <strong><code>void</code> doesn't return any values</strong> in java. I tried to run a simple program. But I don't think void working on the way that I read. Here's the example....</p>\n<pre><code>public class Main {\n    public static void main(String args[]){\n        intro(&quot;Arun&quot;, &quot;Saravanampatti&quot;);\n        intro(&quot;Kalyana Sundram&quot;, &quot;Kovil Patti&quot;);\n    }\n\n    static void intro(String name, String place){\n        System.out.println(&quot;Hello bro my name is &quot; + name +&quot;. and I'm from &quot; + place);\n    }\n}\n</code></pre>\n<p>Now I created a <strong>method called <code>intro</code> with a keyword of <code>void</code></strong>. So values of the method like name and place shouldn't get out of the intro method. And it shouldn't return the value to the main method. But here it does. How is this possible.</p>\n"},{"tags":["java","spring","spring-boot","eclipse","extjs"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1657313478,"post_id":72916426,"comment_id":128789462,"body_markdown":"please do not post images of code as it is against the rules https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question please read the rules before posting on stack overflow","body":"please do not post images of code as it is against the rules <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> please read the rules before posting on stack overflow"},{"owner":{"account_id":25726767,"reputation":11,"user_id":19482998,"display_name":"afraude"},"score":0,"creation_date":1657314272,"post_id":72916426,"comment_id":128789672,"body_markdown":"I will pay more attention","body":"I will pay more attention"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1657324958,"post_id":72916426,"comment_id":128791443,"body_markdown":"Edit your question to remove the image and include the code instead well formatted. Voted to close","body":"Edit your question to remove the image and include the code instead well formatted. Voted to close"},{"owner":{"account_id":25726767,"reputation":11,"user_id":19482998,"display_name":"afraude"},"score":0,"creation_date":1657379648,"post_id":72916426,"comment_id":128798938,"body_markdown":"I hope it&#39;s better now","body":"I hope it&#39;s better now"},{"owner":{"account_id":4098994,"reputation":2967,"user_id":3365033,"accept_rate":79,"display_name":"DGK"},"score":0,"creation_date":1657891070,"post_id":72916426,"comment_id":128923828,"body_markdown":"I would definitely recommend hosting your front-end on the same application as your back-end. There really isn&#39;t a reason why you should seperate them. As for your CorsFilter you need to add the scheme as well `http://localhost:1841` and add a wildcard like `&quot;/*&quot;` to the URL-pattern. Otherwise tomcat wont match any requests to the filter","body":"I would definitely recommend hosting your front-end on the same application as your back-end. There really isn&#39;t a reason why you should seperate them. As for your CorsFilter you need to add the scheme as well <code>http:&#47;&#47;localhost:1841</code> and add a wildcard like <code>&quot;&#47;*&quot;</code> to the URL-pattern. Otherwise tomcat wont match any requests to the filter"},{"owner":{"account_id":25726767,"reputation":11,"user_id":19482998,"display_name":"afraude"},"score":0,"creation_date":1657922090,"post_id":72916426,"comment_id":128933142,"body_markdown":"It seems like I could resolve my CORS issue by following the _second approach_ of **Grinish Nepal&#39;s** answer in https://stackoverflow.com/questions/36163672/cors-issue-with-spring-boot?rq=1. So basically I got what I want - for the moment. But yes @DGK you are totally right: the main goal of course is to let both parts run on 1 server only. This is the problem I&#39;m facing at the moment ...","body":"It seems like I could resolve my CORS issue by following the <i>second approach</i> of <b>Grinish Nepal&#39;s</b> answer in <a href=\"https://stackoverflow.com/questions/36163672/cors-issue-with-spring-boot?rq=1\" title=\"cors issue with spring boot\">stackoverflow.com/questions/36163672/&hellip;</a>. So basically I got what I want - for the moment. But yes @DGK you are totally right: the main goal of course is to let both parts run on 1 server only. This is the problem I&#39;m facing at the moment ..."},{"owner":{"account_id":25726767,"reputation":11,"user_id":19482998,"display_name":"afraude"},"score":0,"creation_date":1657922230,"post_id":72916426,"comment_id":128933167,"body_markdown":"Ah, and furthermore: I could successfully integrate _dreamfactory_ now, so I can finally get the data for the Extjs part independently","body":"Ah, and furthermore: I could successfully integrate <i>dreamfactory</i> now, so I can finally get the data for the Extjs part independently"}],"owner":{"account_id":25726767,"reputation":11,"user_id":19482998,"display_name":"afraude"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1657398443,"creation_date":1657310218,"question_id":72916426,"body_markdown":"I&#39;m facing a CORS problem in Eclipse and simply can&#39;t get it resolved.\r\n\r\nI tried the correspondig tomcat approaches from this site: http://docs.motechproject.org/en/latest/deployment/CORS_Headers.html#tomcat-web-server-config but without success.\r\n\r\nI&#39;m using Java IDE for Web Developers and Google Chrome Version 103 on Windows Server 2022 and Windows 10 Professional.\r\nI&#39;m developing with Spring Boot and Extjs 7 GPL\r\n\r\n\r\nHere my web.xml:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\r\n            &lt;param-value&gt;localhost:1841&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\r\n            &lt;param-value&gt;GET,POST,PUT,DELETE,HEAD,OPTIONS&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\r\n            &lt;param-value&gt;Content-Type,X-Requested-With,Accept,Authorization,Origin,Access-Control-Request-Method,Access-Control-Request-Headers&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\r\n            &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;localhost:1841&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd here the corresponding extjs Store:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    Ext.define(&#39;MyBankingApp.store.User&#39;, {\r\n        extend: &#39;Ext.data.Store&#39;,\r\n        xtype: &#39;userStore&#39;,\r\n        id:&#39;userStoreID&#39;,\r\n        requires: [\r\n        \t&#39;MyBankingApp.model.User&#39;\r\n        ],\r\n        \r\n        autoLoad: false,\r\n        model: &#39;MyBankingApp.model.User&#39;,\r\n        proxy: {\r\n            type: &#39;ajax&#39;,\r\n            url: &#39;http://localhost:8080/MyBankingApp/user&#39;,\t\r\n            method: &#39;GET&#39;,\r\n    \t\theaders: {\r\n    \t\t\t&#39;Content-Type&#39;: &#39;application/json&#39;,\r\n    \t\t\t&#39;useDefaultXhrHeader&#39;: false,\r\n    \t\t\t&#39;cors&#39;: true,\r\n    \t\t\t&#39;withCredentials&#39;: true\r\n    \t\t},\r\n    \t\tsuccess: function (response) {\r\n    \t\t\talert(response);\r\n    \t\t},\r\n    \t\tfailure: function (response) {\r\n    \t\t\talert(response);\r\n    \t\t}\t\r\n        }\r\n    });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\nHere the result in Chrome with HTTP response code 403 after attempting to send:\r\n\r\n&gt; Access to XMLHttpRequest at &#39;http://localhost:8080/MyBankingApp/user?_dc=1657378909025&amp;page=1&amp;start=0&amp;limit=25&#39; from origin &#39;http://localhost:1841&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\next-all-debug.js?_dc=1657378899641:28132         \r\nGET http://localhost:8080/MyBankingApp/user?_dc=1657378909025&amp;page=1&amp;start=0&amp;limit=25 net::ERR_FAILED\r\n\r\n\r\n\r\n\r\n\r\nAs you can see above, the problem is not the domain (both localhost), but the different port: 1841 (sencha app watch) and 8080 Eclipse Tomcat.\r\n\r\nBut after linking the web.xml to Eclipse and preparing it as you could see, this should run - but seemingly it doesn&#39;t...\r\n\r\n\r\n\r\nTherefore I bid you kindly for any hint in order to resolve this problem - there simply must be a way to achieve my goal in Eclipse.\r\n\r\n\r\n**UPDATE:**\r\nI tried the approach to alter the allowed origins in web.xml: localhost / localhost:1841 / *, but unfortunately the same error as explained above\r\n\r\n\r\n**UPDATE2:**\r\nOne kind of workaround should be, that I run both the sencha and the spring boot part on the same server, i.e. port.\r\nFor the moment this should be enough.\r\n\r\nI bid you all kindly to give me some approach, how I could get this done, as I after some research don&#39;t really have an idea how to start in order to use 1 server only.  \r\nThank you in advance","title":"CORS / CORB error in Eclipse on same domain (Extjs / java Spring Boot)","body":"<p>I'm facing a CORS problem in Eclipse and simply can't get it resolved.</p>\n<p>I tried the correspondig tomcat approaches from this site: <a href=\"http://docs.motechproject.org/en/latest/deployment/CORS_Headers.html#tomcat-web-server-config\" rel=\"nofollow noreferrer\">http://docs.motechproject.org/en/latest/deployment/CORS_Headers.html#tomcat-web-server-config</a> but without success.</p>\n<p>I'm using Java IDE for Web Developers and Google Chrome Version 103 on Windows Server 2022 and Windows 10 Professional.\nI'm developing with Spring Boot and Extjs 7 GPL</p>\n<p>Here my web.xml:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n        &lt;param-value&gt;localhost:1841&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\n        &lt;param-value&gt;GET,POST,PUT,DELETE,HEAD,OPTIONS&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\n        &lt;param-value&gt;Content-Type,X-Requested-With,Accept,Authorization,Origin,Access-Control-Request-Method,Access-Control-Request-Headers&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\n        &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;localhost:1841&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And here the corresponding extjs Store:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Ext.define('MyBankingApp.store.User', {\n    extend: 'Ext.data.Store',\n    xtype: 'userStore',\n    id:'userStoreID',\n    requires: [\n        'MyBankingApp.model.User'\n    ],\n    \n    autoLoad: false,\n    model: 'MyBankingApp.model.User',\n    proxy: {\n        type: 'ajax',\n        url: 'http://localhost:8080/MyBankingApp/user', \n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'useDefaultXhrHeader': false,\n            'cors': true,\n            'withCredentials': true\n        },\n        success: function (response) {\n            alert(response);\n        },\n        failure: function (response) {\n            alert(response);\n        }   \n    }\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here the result in Chrome with HTTP response code 403 after attempting to send:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'http://localhost:8080/MyBankingApp/user?_dc=1657378909025&amp;page=1&amp;start=0&amp;limit=25' from origin 'http://localhost:1841' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\next-all-debug.js?_dc=1657378899641:28132<br />\nGET http://localhost:8080/MyBankingApp/user?_dc=1657378909025&amp;page=1&amp;start=0&amp;limit=25 net::ERR_FAILED</p>\n</blockquote>\n<p>As you can see above, the problem is not the domain (both localhost), but the different port: 1841 (sencha app watch) and 8080 Eclipse Tomcat.</p>\n<p>But after linking the web.xml to Eclipse and preparing it as you could see, this should run - but seemingly it doesn't...</p>\n<p>Therefore I bid you kindly for any hint in order to resolve this problem - there simply must be a way to achieve my goal in Eclipse.</p>\n<p><strong>UPDATE:</strong>\nI tried the approach to alter the allowed origins in web.xml: localhost / localhost:1841 / *, but unfortunately the same error as explained above</p>\n<p><strong>UPDATE2:</strong>\nOne kind of workaround should be, that I run both the sencha and the spring boot part on the same server, i.e. port.\nFor the moment this should be enough.</p>\n<p>I bid you all kindly to give me some approach, how I could get this done, as I after some research don't really have an idea how to start in order to use 1 server only.<br />\nThank you in advance</p>\n"},{"tags":["java","while-loop","switch-statement","java.util.scanner"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1655226327,"post_id":72620840,"comment_id":128280406,"body_markdown":"Looks to me like you&#39;re stuck in that first `while` unless you select 7","body":"Looks to me like you&#39;re stuck in that first <code>while</code> unless you select 7"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1655226499,"post_id":72620840,"comment_id":128280472,"body_markdown":"@akarnokd they&#39;ll never reach any use of the second scanner unless they select &quot;7&quot;  in the first input, which will then promptly end the program. My impression (especially judging by the wonky indentation) is that they put the closing brace of the `while` loop too early.","body":"@akarnokd they&#39;ll never reach any use of the second scanner unless they select &quot;7&quot;  in the first input, which will then promptly end the program. My impression (especially judging by the wonky indentation) is that they put the closing brace of the <code>while</code> loop too early."},{"owner":{"account_id":971515,"reputation":1711,"user_id":994006,"accept_rate":75,"display_name":"Nice Books"},"score":1,"creation_date":1655226589,"post_id":72620840,"comment_id":128280498,"body_markdown":"It should be `while(ch &lt;= 0 || ch &gt; 7)`.","body":"It should be <code>while(ch &lt;= 0 || ch &gt; 7)</code>."},{"owner":{"account_id":23336174,"reputation":7,"user_id":17411799,"display_name":"sanjanaa .p.s"},"score":0,"creation_date":1655577230,"post_id":72620840,"comment_id":128366751,"body_markdown":"thanks @NiceBooks  its working properly now","body":"thanks @NiceBooks  its working properly now"},{"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"score":0,"creation_date":1656971043,"post_id":72620840,"comment_id":128694848,"body_markdown":"So this question is closed or did you still need an Answer?","body":"So this question is closed or did you still need an Answer?"}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657397949,"creation_date":1657397949,"answer_id":72924367,"question_id":72620840,"body_markdown":" 1. You will only get out of your while loop if the condition `while(ch!=7){...}` turns false. So your switch label &#39;7&#39; is the only reachable in the whole switch. The Solution is to put your switch in your while loop. \r\n 2. You only need one Scanner and you should close it at the end\r\n\r\n        public static void main(String[] args) {\r\n            try {\r\n                String categoryName = &quot;&quot;;\r\n                int ch = 0;\r\n                Scanner sc = new Scanner(System.in);\r\n                Logger.getInstance().log(&quot;Starting task manager&quot;, 1);\r\n                while (ch != 7) {\r\n                    System.out.println(&quot;press 1 to create category&quot;);\r\n                    System.out.println(&quot;press 2 to load category&quot;);\r\n                    System.out.println(&quot;press 3 to remove catergory&quot;);\r\n                    System.out.println(&quot;press 4 to list category&quot;);\r\n                    System.out.println(&quot;press 5 to search category&quot;);\r\n                    System.out.println(&quot;press 6 to export&quot;);\r\n                    System.out.println(&quot;press 7 to exit&quot;);\r\n                    System.out.println();\r\n                    System.out.print(&quot;input: &quot;);\r\n                    ch = sc.nextInt();\r\n\r\n                    switch (ch) {\r\n                        case 1: {\r\n                            System.out.print(&quot;enter category name: &quot;);\r\n                            categoryName = sc.nextLine();\r\n                            sc.nextLine();\r\n                            while (!ProjectUtility.validateName(categoryName)) {\r\n                                System.out.println(&quot;category name must be one word. It cannot contain a numbers,spaces and Alpanumerics.&quot;);\r\n                                System.out.print(&quot;enter category name: &quot;);\r\n                                categoryName = sc.nextLine();\r\n                            }\r\n                            break;\r\n                        }\r\n                        case 7:\r\n                            System.out.println(&quot;exiting...&quot;);\r\n                            break;\r\n                        default:\r\n                            System.out.println(&quot;option not supported&quot;);\r\n                            break;\r\n                    }\r\n                }\r\n                sc.close();\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }","title":"Switch cases are not getting executed properly","body":"<ol>\n<li><p>You will only get out of your while loop if the condition <code>while(ch!=7){...}</code> turns false. So your switch label '7' is the only reachable in the whole switch. The Solution is to put your switch in your while loop.</p>\n</li>\n<li><p>You only need one Scanner and you should close it at the end</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        String categoryName = &quot;&quot;;\n        int ch = 0;\n        Scanner sc = new Scanner(System.in);\n        Logger.getInstance().log(&quot;Starting task manager&quot;, 1);\n        while (ch != 7) {\n            System.out.println(&quot;press 1 to create category&quot;);\n            System.out.println(&quot;press 2 to load category&quot;);\n            System.out.println(&quot;press 3 to remove catergory&quot;);\n            System.out.println(&quot;press 4 to list category&quot;);\n            System.out.println(&quot;press 5 to search category&quot;);\n            System.out.println(&quot;press 6 to export&quot;);\n            System.out.println(&quot;press 7 to exit&quot;);\n            System.out.println();\n            System.out.print(&quot;input: &quot;);\n            ch = sc.nextInt();\n\n            switch (ch) {\n                case 1: {\n                    System.out.print(&quot;enter category name: &quot;);\n                    categoryName = sc.nextLine();\n                    sc.nextLine();\n                    while (!ProjectUtility.validateName(categoryName)) {\n                        System.out.println(&quot;category name must be one word. It cannot contain a numbers,spaces and Alpanumerics.&quot;);\n                        System.out.print(&quot;enter category name: &quot;);\n                        categoryName = sc.nextLine();\n                    }\n                    break;\n                }\n                case 7:\n                    System.out.println(&quot;exiting...&quot;);\n                    break;\n                default:\n                    System.out.println(&quot;option not supported&quot;);\n                    break;\n            }\n        }\n        sc.close();\n    } catch (Throwable t) {\n        t.printStackTrace();\n    }\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":23336174,"reputation":7,"user_id":17411799,"display_name":"sanjanaa .p.s"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72924367,"answer_count":1,"score":0,"last_activity_date":1657397949,"creation_date":1655226156,"question_id":72620840,"body_markdown":"case 1 and default cases are not working properly print statement is not getting executed. I&#39;m unable to identify the error. I don&#39;t know if there is problem with the scanner implementation it seems fine to me.\r\n\r\n```\r\nimport java.util.*;\r\npublic class StartApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\tString categoryName=&quot;&quot;;\r\n\t\tint ch=0;\t\r\n\t\tScanner sc1=new Scanner(System.in);\r\n\t\tScanner sc2=new Scanner(System.in);\r\n\t\tLogger.getInstance().log(&quot;Starting task manager&quot;, 1);\t\r\n\t\twhile(ch!=7)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;press 1 to create category&quot;);\r\n\t\t\tSystem.out.println(&quot;press 2 to load category&quot;);\r\n\t\t\tSystem.out.println(&quot;press 3 to remove catergory&quot;);\r\n\t\t\tSystem.out.println(&quot;press 4 to list category&quot;);\r\n\t\t\tSystem.out.println(&quot;press 5 to search category&quot;);\r\n\t\t\tSystem.out.println(&quot;press 6 to export&quot;);\r\n\t\t\tSystem.out.println(&quot;press 7 to exit&quot;);\r\n\t\t\tch=sc1.nextInt();\r\n\t\t}\r\n\t\tswitch(ch)\r\n\t\t{\r\n\t\tcase 1:{\r\n\t\t\tSystem.out.println(&quot;enter category name&quot;);\r\n\t\t\tcategoryName=sc2.nextLine();\r\n\t\t\tsc2.nextLine();\r\n\t\t\twhile(!ProjectUtility.validateName(categoryName))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;category name must be one word. It cannot contain a numbers,spaces and Alpanumerics.&quot;);\r\n\t\t\t\tcategoryName=sc2.nextLine();\r\n\t\t\t}\r\n\t\t\tbreak;}\r\n\t\tcase 7:\r\n\t\t\tSystem.out.println(&quot;exiting...&quot;);\r\n\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;option not supported&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t}\r\n\t\tcatch(Throwable t)\r\n\t\t{\r\n\t\t\tt.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Switch cases are not getting executed properly","body":"<p>case 1 and default cases are not working properly print statement is not getting executed. I'm unable to identify the error. I don't know if there is problem with the scanner implementation it seems fine to me.</p>\n<pre><code>import java.util.*;\npublic class StartApp {\n\n    public static void main(String[] args) {\n        try {\n        String categoryName=&quot;&quot;;\n        int ch=0;   \n        Scanner sc1=new Scanner(System.in);\n        Scanner sc2=new Scanner(System.in);\n        Logger.getInstance().log(&quot;Starting task manager&quot;, 1);   \n        while(ch!=7)\n        {\n            System.out.println(&quot;press 1 to create category&quot;);\n            System.out.println(&quot;press 2 to load category&quot;);\n            System.out.println(&quot;press 3 to remove catergory&quot;);\n            System.out.println(&quot;press 4 to list category&quot;);\n            System.out.println(&quot;press 5 to search category&quot;);\n            System.out.println(&quot;press 6 to export&quot;);\n            System.out.println(&quot;press 7 to exit&quot;);\n            ch=sc1.nextInt();\n        }\n        switch(ch)\n        {\n        case 1:{\n            System.out.println(&quot;enter category name&quot;);\n            categoryName=sc2.nextLine();\n            sc2.nextLine();\n            while(!ProjectUtility.validateName(categoryName))\n            {\n                System.out.println(&quot;category name must be one word. It cannot contain a numbers,spaces and Alpanumerics.&quot;);\n                categoryName=sc2.nextLine();\n            }\n            break;}\n        case 7:\n            System.out.println(&quot;exiting...&quot;);\n        break;\n        default:\n            System.out.println(&quot;option not supported&quot;);\n            break;\n        }\n        }\n        catch(Throwable t)\n        {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cache"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1630102582,"post_id":68959734,"comment_id":121873126,"body_markdown":"The error message does not match the code you posted.","body":"The error message does not match the code you posted."},{"owner":{"account_id":14977330,"reputation":117,"user_id":10812407,"display_name":"C Taylor"},"score":0,"creation_date":1630103717,"post_id":68959734,"comment_id":121873294,"body_markdown":"Ah, sorry. I changed a few things for privacy. I think it was just `cacheManager` vs `myCacheManager`","body":"Ah, sorry. I changed a few things for privacy. I think it was just <code>cacheManager</code> vs <code>myCacheManager</code>"},{"owner":{"account_id":1506530,"reputation":1001,"user_id":1409784,"display_name":"Nigel Savage"},"score":3,"creation_date":1630105613,"post_id":68959734,"comment_id":121873589,"body_markdown":"From &#39;object is not an instance of declaring class&#39; and if this is the latest Spring then  there is a CacheConfig annotation https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/CacheConfig.html perhaps there is some kind of a namespace collision happening in the dependencies? Is it possible to Rename your CacheConfig class ?","body":"From &#39;object is not an instance of declaring class&#39; and if this is the latest Spring then  there is a CacheConfig annotation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/CacheConfig.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> perhaps there is some kind of a namespace collision happening in the dependencies? Is it possible to Rename your CacheConfig class ?"},{"owner":{"account_id":14977330,"reputation":117,"user_id":10812407,"display_name":"C Taylor"},"score":0,"creation_date":1630172270,"post_id":68959734,"comment_id":121885888,"body_markdown":"You want to submit that as an answer? It worked... Thank you","body":"You want to submit that as an answer? It worked... Thank you"},{"owner":{"account_id":2931095,"reputation":321,"user_id":2511298,"display_name":"Ahmed Hasn."},"score":0,"creation_date":1657288947,"post_id":68959734,"comment_id":128781953,"body_markdown":"please add this as an answer @NigelSavage","body":"please add this as an answer @NigelSavage"}],"answers":[{"tags":[],"owner":{"account_id":1506530,"reputation":1001,"user_id":1409784,"display_name":"Nigel Savage"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657397144,"creation_date":1657361741,"answer_id":72920556,"question_id":68959734,"body_markdown":"For the spring class/bean scan, the namespace has a bunch of cache annotations[1].  \r\nHere they are creating their own config bean/class for caching `CacheConfig`, which is a typical name to use and has the classname CacheConfig.   \r\n\r\nThe issue here is that the Spring developers have an annotation[1] @CacheConfig which also has a class name CacheConfig.  \r\n\r\nFrom the error it appears that the Spring CDI context is attempting to proxy[2] the org.chuck.config.CacheConfig.class via a BeanFactory for the org.springframework.cache.CacheManager class which has factory methods that reference the org.springframework.cache.annotation.CacheConfig class(in this case an interface)\r\n  \r\nI think this could only happen if the factory is not using the fully qualified class name, the only evidence I could quickly find for this is a comment from this issue[3]  \r\n\r\nsimple solution is just to rename their own config bean/class  \r\n\r\n[1] https://spring.io/guides/gs/caching/  \r\n[2] you should learn how CDI uses proxy classes and scope heuristics to create objects, the proxy is a subclass of the bean that is created at run-time, we can get a hint for this in the error message `object is not an instance of declaring class`  \r\nhttps://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html  \r\n[3] https://github.com/spring-projects/spring-framework/issues/19229  \r\n&quot;You could of course specify a custom BeanNameGenerator for your scan and use more unique bean names, e.g. the fully-qualified class name.&quot;","title":"Unable to create CacheManager bean","body":"<p>For the spring class/bean scan, the namespace has a bunch of cache annotations[1].<br />\nHere they are creating their own config bean/class for caching <code>CacheConfig</code>, which is a typical name to use and has the classname CacheConfig.</p>\n<p>The issue here is that the Spring developers have an annotation[1] @CacheConfig which also has a class name CacheConfig.</p>\n<p>From the error it appears that the Spring CDI context is attempting to proxy[2] the org.chuck.config.CacheConfig.class via a BeanFactory for the org.springframework.cache.CacheManager class which has factory methods that reference the org.springframework.cache.annotation.CacheConfig class(in this case an interface)</p>\n<p>I think this could only happen if the factory is not using the fully qualified class name, the only evidence I could quickly find for this is a comment from this issue[3]</p>\n<p>simple solution is just to rename their own config bean/class</p>\n<p>[1] <a href=\"https://spring.io/guides/gs/caching/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/caching/</a><br />\n[2] you should learn how CDI uses proxy classes and scope heuristics to create objects, the proxy is a subclass of the bean that is created at run-time, we can get a hint for this in the error message <code>object is not an instance of declaring class</code><br />\n<a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html</a><br />\n[3] <a href=\"https://github.com/spring-projects/spring-framework/issues/19229\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/19229</a><br />\n&quot;You could of course specify a custom BeanNameGenerator for your scan and use more unique bean names, e.g. the fully-qualified class name.&quot;</p>\n"}],"owner":{"account_id":14977330,"reputation":117,"user_id":10812407,"display_name":"C Taylor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72920556,"answer_count":1,"score":0,"last_activity_date":1657397144,"creation_date":1630101653,"question_id":68959734,"body_markdown":"I am having trouble creating a Spring CacheManager. When I try to boot up, I get the an error creating bean message.\r\n\r\n```java\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\n@EnableCaching\r\n@Configuration\r\npublic class CacheConfig {\r\n\r\n  @Bean\r\n  public CacheManager cacheManager() {\r\n    log.trace(&quot;Creating cache manager.&quot;);\r\n    return new ConcurrentMapCacheManager(&quot;myCache&quot;);\r\n  }\r\n}\r\n```\r\nI&#39;ve put a debug marker on the log line, but I don&#39;t reach it.  Something seems to be happening before we even get to the method.\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\r\n...\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cacheManager&#39; defined in class path resource [org/chuck/config/CacheConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cache.CacheManager]: Illegal arguments to factory method &#39;cacheManager&#39;; args: ; nested exception is java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n```\r\n\r\n---\r\nSolution (thanks to Nigel Savage)\r\n\r\nDon&#39;t name the class `CacheConfig`","title":"Unable to create CacheManager bean","body":"<p>I am having trouble creating a Spring CacheManager. When I try to boot up, I get the an error creating bean message.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\n@EnableCaching\n@Configuration\npublic class CacheConfig {\n\n  @Bean\n  public CacheManager cacheManager() {\n    log.trace(&quot;Creating cache manager.&quot;);\n    return new ConcurrentMapCacheManager(&quot;myCache&quot;);\n  }\n}\n</code></pre>\n<p>I've put a debug marker on the log line, but I don't reach it.  Something seems to be happening before we even get to the method.</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\n...\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in class path resource [org/chuck/config/CacheConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cache.CacheManager]: Illegal arguments to factory method 'cacheManager'; args: ; nested exception is java.lang.IllegalArgumentException: object is not an instance of declaring class\n</code></pre>\n<hr />\n<p>Solution (thanks to Nigel Savage)</p>\n<p>Don't name the class <code>CacheConfig</code></p>\n"},{"tags":["java","spring","maven","spring-boot"],"comments":[{"owner":{"account_id":12520696,"reputation":587,"user_id":9112160,"display_name":"UHDante"},"score":1,"creation_date":1520409241,"post_id":49146685,"comment_id":85298010,"body_markdown":"It could be a Maven dependencies problem, make a maven clean and then update project, to see if now you get the org.springframework.boot.\nIll recomend to create a clean project http://start.spring.io/ and see what dependencies you add that may be on conflict.","body":"It could be a Maven dependencies problem, make a maven clean and then update project, to see if now you get the org.springframework.boot. Ill recomend to create a clean project <a href=\"http://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> and see what dependencies you add that may be on conflict."},{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":1,"creation_date":1520409263,"post_id":49146685,"comment_id":85298021,"body_markdown":"your spring boot version use another version of spring-framework (higher than 4.0.2.RELEASE). remove &lt;version&gt; tag from your pom.","body":"your spring boot version use another version of spring-framework (higher than 4.0.2.RELEASE). remove &lt;version&gt; tag from your pom."},{"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"score":0,"creation_date":1520410418,"post_id":49146685,"comment_id":85298584,"body_markdown":"Create spring boot project using STS","body":"Create spring boot project using STS"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520409543,"creation_date":1520409195,"answer_id":49146735,"question_id":49146685,"body_markdown":"If you are just starting why don&#39;t you generate the project using https://start.spring.io/.\r\n\r\nYou added core Spring dependencies but not a single Spring Boot dependency. You only have a Spring Boot [BOM][1] and [parent][2] which only manage dependencies with `&lt;dependencyManagement&gt;`. You can inspect your dependencies by running `mvn dependency:tree`.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\r\n  [2]: http://central.maven.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.0.0.RELEASE/spring-boot-starter-parent-2.0.0.RELEASE.pom","title":"Maven pom.xml Spring Boot does not exist","body":"<p>If you are just starting why don't you generate the project using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>.</p>\n\n<p>You added core Spring dependencies but not a single Spring Boot dependency. You only have a Spring Boot <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">BOM</a> and <a href=\"http://central.maven.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.0.0.RELEASE/spring-boot-starter-parent-2.0.0.RELEASE.pom\" rel=\"nofollow noreferrer\">parent</a> which only manage dependencies with <code>&lt;dependencyManagement&gt;</code>. You can inspect your dependencies by running <code>mvn dependency:tree</code>.</p>\n"},{"tags":[],"owner":{"account_id":8297156,"reputation":4423,"user_id":6237026,"accept_rate":57,"display_name":"Dina Bogdan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1520409323,"creation_date":1520409323,"answer_id":49146763,"question_id":49146685,"body_markdown":"For using spring boot a easier way it&#39;s to create a Spring Boot project using Spring Initiliazr https://start.spring.io/. You can create from here a maven project that has the Spring Boot or more other dependencies alredeay patched in.","title":"Maven pom.xml Spring Boot does not exist","body":"<p>For using spring boot a easier way it's to create a Spring Boot project using Spring Initiliazr <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>. You can create from here a maven project that has the Spring Boot or more other dependencies alredeay patched in.</p>\n"},{"tags":[],"owner":{"account_id":21118327,"reputation":31,"user_id":15524950,"display_name":"Valentyn Lapinskyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657396149,"creation_date":1657396149,"answer_id":72924187,"question_id":49146685,"body_markdown":"If you use Intellij Idea, you can resolve this problem in such way\r\n 1. Right-click on the folder of your project.\r\n 2. Choose &quot;Add framework support&quot;.\r\n 3. Find &quot;Maven&quot; and set the checkbox.\r\nAfter that, Intellij starts to download all dependencies. ","title":"Maven pom.xml Spring Boot does not exist","body":"<p>If you use Intellij Idea, you can resolve this problem in such way</p>\n<ol>\n<li>Right-click on the folder of your project.</li>\n<li>Choose &quot;Add framework support&quot;.</li>\n<li>Find &quot;Maven&quot; and set the checkbox.\nAfter that, Intellij starts to download all dependencies.</li>\n</ol>\n"}],"owner":{"account_id":6134692,"reputation":133,"user_id":7846137,"accept_rate":50,"display_name":"more"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49146763,"answer_count":3,"score":1,"last_activity_date":1657396149,"creation_date":1520408992,"question_id":49146685,"body_markdown":"I&#39;m new on java world.I have this error &quot;package org.springframework.boot does not exist&quot; on my SpringApplication Runner class.But i added Spring Boot dependency to pom.xml\r\nI do not understand why i got this error.\r\n\r\npom.xml \r\n\r\n        \r\n    \t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nUserDao\r\n\r\n        @Repository\r\n    public class UsersDao {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        public void save(Users users){\r\n            entityManager.persist(users);\r\n        }\r\n    \r\n    }\r\n\r\nUserDTO\r\n\r\n    public class UsersDto {\r\n\r\n    private Integer id;\r\n    private String name;\r\n    private String surname;\r\n    private String username;\r\n    private Boolean isSuperUser;\r\n    private String email;\r\n    private String password;\r\n    private Date created_at;\r\n    private Date updated_at;\r\n\r\n\r\n    public UsersDto(){\r\n\r\n    }\r\n\r\n    public UsersDto(Users users){\r\n        this.id = users.getId();\r\n        this.name = users.getName();\r\n        this.surname = users.getSurname();\r\n        this.email = users.getEmail();\r\n        this.isSuperUser = users.getSuperUser();\r\n        this.username = users.getUsername();\r\n        this.password = users.getPassword();\r\n    }//AND GETTER&amp;SETTER\r\n\r\n\r\nUserResources\r\n\r\n        @Component\r\n    @Path(&quot;/users&quot;)\r\n    public class UsersResources {\r\n        @Autowired\r\n        UsersService usersService;\r\n    \r\n        @POST\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        public Response saveCity(UsersDto usersDto){\r\n            Users users;\r\n    \r\n            try{\r\n                users = usersService.saveUsers(usersDto);\r\n    \r\n            }catch (Exception e){\r\n                return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\r\n            }\r\n            return Response.ok(users).build();\r\n        }\r\n    \r\n    }\r\n\r\nAnd UserServices\r\n\r\n        @Service\r\n    public class UsersService {\r\n    \r\n        @Autowired\r\n        private UsersDao usersDao;\r\n    \r\n        @Transactional\r\n        public Users saveUsers(UsersDto usersDto){\r\n    \r\n            Users users = new Users();\r\n            users.setName(usersDto.getName());\r\n            users.setEmail(usersDto.getEmail());\r\n            users.setSuperUser(usersDto.getSuperUser());\r\n            users.setSurname(usersDto.getSurname());\r\n            users.setPassword(usersDto.getPassword());\r\n            usersDao.save(users);\r\n    \r\n            return users;\r\n        }\r\n    \r\n    }\r\n\r\nUser model\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class Users implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name=&quot;surname&quot;)\r\n        private String surname;\r\n    \r\n        @Column(name=&quot;username&quot;)\r\n        private String username;\r\n    \r\n        @Column(name=&quot;password&quot;)\r\n        private String password;\r\n    \r\n        @Column(name=&quot;is_super_user&quot;)\r\n        private Boolean isSuperUser;\r\n    \r\n        @Column(name=&quot;email&quot;)\r\n        private String email;\r\n    \r\n    \r\n        @Column(name=&quot;created_at&quot;)\r\n        private Date created_at;\r\n    \r\n        @Column(name=&quot;updated_at&quot;)\r\n        private Date updated_at;\r\n    \r\n    \r\n        @PrePersist\r\n        protected void onCreate() {\r\n            created_at = new Date();\r\n        }\r\n    \r\n        @PreUpdate\r\n        protected void onUpdate() {\r\n            updated_at = new Date();\r\n        }\r\n\r\nWhere is my fault?How can i fix it?And I want to ask similar question.Sometimes we got some errors but i can&#39;t find it.So we understand this error&#39;s reason is pom.xml dependency conflicts.But no error on maven.We are tired because of incompatible dependency.Has it any solution of prevent dependency conflicts?(like maven dependency validator)","title":"Maven pom.xml Spring Boot does not exist","body":"<p>I'm new on java world.I have this error \"package org.springframework.boot does not exist\" on my SpringApplication Runner class.But i added Spring Boot dependency to pom.xml\nI do not understand why i got this error.</p>\n\n<p>pom.xml </p>\n\n<pre><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>UserDao</p>\n\n<pre><code>    @Repository\npublic class UsersDao {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public void save(Users users){\n        entityManager.persist(users);\n    }\n\n}\n</code></pre>\n\n<p>UserDTO</p>\n\n<pre><code>public class UsersDto {\n\nprivate Integer id;\nprivate String name;\nprivate String surname;\nprivate String username;\nprivate Boolean isSuperUser;\nprivate String email;\nprivate String password;\nprivate Date created_at;\nprivate Date updated_at;\n\n\npublic UsersDto(){\n\n}\n\npublic UsersDto(Users users){\n    this.id = users.getId();\n    this.name = users.getName();\n    this.surname = users.getSurname();\n    this.email = users.getEmail();\n    this.isSuperUser = users.getSuperUser();\n    this.username = users.getUsername();\n    this.password = users.getPassword();\n}//AND GETTER&amp;SETTER\n</code></pre>\n\n<p>UserResources</p>\n\n<pre><code>    @Component\n@Path(\"/users\")\npublic class UsersResources {\n    @Autowired\n    UsersService usersService;\n\n    @POST\n    @Produces(MediaType.APPLICATION_JSON)\n    @Consumes(MediaType.APPLICATION_JSON)\n    public Response saveCity(UsersDto usersDto){\n        Users users;\n\n        try{\n            users = usersService.saveUsers(usersDto);\n\n        }catch (Exception e){\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\n        }\n        return Response.ok(users).build();\n    }\n\n}\n</code></pre>\n\n<p>And UserServices</p>\n\n<pre><code>    @Service\npublic class UsersService {\n\n    @Autowired\n    private UsersDao usersDao;\n\n    @Transactional\n    public Users saveUsers(UsersDto usersDto){\n\n        Users users = new Users();\n        users.setName(usersDto.getName());\n        users.setEmail(usersDto.getEmail());\n        users.setSuperUser(usersDto.getSuperUser());\n        users.setSurname(usersDto.getSurname());\n        users.setPassword(usersDto.getPassword());\n        usersDao.save(users);\n\n        return users;\n    }\n\n}\n</code></pre>\n\n<p>User model</p>\n\n<pre><code>@Entity\n@Table(name=\"users\")\npublic class Users implements Serializable {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=\"id\")\n    private Integer id;\n\n    @Column(name=\"name\")\n    private String name;\n\n    @Column(name=\"surname\")\n    private String surname;\n\n    @Column(name=\"username\")\n    private String username;\n\n    @Column(name=\"password\")\n    private String password;\n\n    @Column(name=\"is_super_user\")\n    private Boolean isSuperUser;\n\n    @Column(name=\"email\")\n    private String email;\n\n\n    @Column(name=\"created_at\")\n    private Date created_at;\n\n    @Column(name=\"updated_at\")\n    private Date updated_at;\n\n\n    @PrePersist\n    protected void onCreate() {\n        created_at = new Date();\n    }\n\n    @PreUpdate\n    protected void onUpdate() {\n        updated_at = new Date();\n    }\n</code></pre>\n\n<p>Where is my fault?How can i fix it?And I want to ask similar question.Sometimes we got some errors but i can't find it.So we understand this error's reason is pom.xml dependency conflicts.But no error on maven.We are tired because of incompatible dependency.Has it any solution of prevent dependency conflicts?(like maven dependency validator)</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1657397389,"post_id":72924112,"comment_id":128802300,"body_markdown":"Perhaps this enhancement hasn&#39;t occurred to the developers (not unreasonable, considering all the other stuff they have to focus on). You could submit an enhancement request (I couldn&#39;t find an existing one). Note I believe such a constructor would only need a `ByteBuffer` argument, since that class already encapsulates the offset and length via its &quot;position&quot; and &quot;limit&quot; properties.","body":"Perhaps this enhancement hasn&#39;t occurred to the developers (not unreasonable, considering all the other stuff they have to focus on). You could submit an enhancement request (I couldn&#39;t find an existing one). Note I believe such a constructor would only need a <code>ByteBuffer</code> argument, since that class already encapsulates the offset and length via its &quot;position&quot; and &quot;limit&quot; properties."},{"owner":{"account_id":239025,"reputation":4435,"user_id":508328,"accept_rate":90,"display_name":"andbi"},"score":0,"creation_date":1657403572,"post_id":72924112,"comment_id":128803227,"body_markdown":"@Slaw, thanks, could you please share the link to the enhancement requests/submission form?","body":"@Slaw, thanks, could you please share the link to the enhancement requests/submission form?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1657419383,"post_id":72924112,"comment_id":128804850,"body_markdown":"https://bugreport.java.com/bugreport/","body":"<a href=\"https://bugreport.java.com/bugreport/\" rel=\"nofollow noreferrer\">bugreport.java.com/bugreport</a>"}],"owner":{"account_id":239025,"reputation":4435,"user_id":508328,"accept_rate":90,"display_name":"andbi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657395337,"creation_date":1657395337,"question_id":72924112,"body_markdown":"I need to deserialize `BigInteger` instances from byte buffers and do it fast. The combination of `new BigInteger(byte[], int, int)` and `ByteBuffer#array()` seems to be the best option, but it only works with heap buffers.\r\n\r\nWith direct and mapped buffers, I would need to create a temporary byte array, pass it to the constructor, which will convert the array into its internal `int[]` representation, and eventually discard the byte array I just created - clearly a waste of resources. \r\n\r\nByte buffers and **java.nio** have been around for ages. Are there any reasons why there&#39;s no `new BigInteger(ByteBuffer, int, int)` constructor? Which, looking at the sources, should be a few minutes job.\r\n\r\n","title":"java.nio: Constructing BigInteger from ByteBuffer","body":"<p>I need to deserialize <code>BigInteger</code> instances from byte buffers and do it fast. The combination of <code>new BigInteger(byte[], int, int)</code> and <code>ByteBuffer#array()</code> seems to be the best option, but it only works with heap buffers.</p>\n<p>With direct and mapped buffers, I would need to create a temporary byte array, pass it to the constructor, which will convert the array into its internal <code>int[]</code> representation, and eventually discard the byte array I just created - clearly a waste of resources.</p>\n<p>Byte buffers and <strong>java.nio</strong> have been around for ages. Are there any reasons why there's no <code>new BigInteger(ByteBuffer, int, int)</code> constructor? Which, looking at the sources, should be a few minutes job.</p>\n"},{"tags":["java","multithreading","log4j2","junit4","completable-future"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1657271637,"post_id":72867152,"comment_id":128776191,"body_markdown":"are you sure all CompletableFutures are finished before you start the second test? They are async","body":"are you sure all CompletableFutures are finished before you start the second test? They are async"},{"owner":{"account_id":181832,"reputation":1454,"user_id":416104,"accept_rate":61,"display_name":"Cristiano"},"score":0,"creation_date":1657290562,"post_id":72867152,"comment_id":128782541,"body_markdown":"Well, I&#39;m using allOf(), so I was expecting that all was finished before the second test to start. But seems that there is one that was not finished.\n\nDo you know if exists anything I can do to ensure that ?","body":"Well, I&#39;m using allOf(), so I was expecting that all was finished before the second test to start. But seems that there is one that was not finished.  Do you know if exists anything I can do to ensure that ?"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1657319372,"post_id":72867152,"comment_id":128790657,"body_markdown":"just answered, hope it solves it","body":"just answered, hope it solves it"}],"owner":{"account_id":181832,"reputation":1454,"user_id":416104,"accept_rate":61,"display_name":"Cristiano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657394925,"creation_date":1657013770,"question_id":72867152,"body_markdown":"I&#39;m facing a problem with Log4j2 on two integration tests (junit4) (a batch app that calls multiple end-points using CompletableFuture.ofAll) run by FailSafe. I would like some thoughts from you.\r\n\r\nThe he first test being run is aimed to fail and it is logging the errors properly. The second test is aimed to pass and using a different endpoint. \r\n\r\nThe problem is that, somehow, I&#39;m seeing errors from the first test (a timeout from a worker-thread) being registered on log4j after the second test have started. And as we build the app&#39;s exit code from the number of errors registered on our Appender class, this is affecting the assertion on this exit code in the second test.\r\n\r\nOur appender is being reset by our launcher class on every app&#39;s start already. so this is not the problem. \r\n\r\nI&#39;ve changed the order of execution of the tests using **&lt;failsafe.runOrder&gt;reversealphabetical&lt;/failsafe.runOrder&gt;** and this was enough to both pass green.\r\n\r\nBut I would like to know if there are anything that could be done on Failsafe or Log4j or even in my app to prevent this. ","title":"Issue with log4j2&#39;s event from one test class being registered on next test","body":"<p>I'm facing a problem with Log4j2 on two integration tests (junit4) (a batch app that calls multiple end-points using CompletableFuture.ofAll) run by FailSafe. I would like some thoughts from you.</p>\n<p>The he first test being run is aimed to fail and it is logging the errors properly. The second test is aimed to pass and using a different endpoint.</p>\n<p>The problem is that, somehow, I'm seeing errors from the first test (a timeout from a worker-thread) being registered on log4j after the second test have started. And as we build the app's exit code from the number of errors registered on our Appender class, this is affecting the assertion on this exit code in the second test.</p>\n<p>Our appender is being reset by our launcher class on every app's start already. so this is not the problem.</p>\n<p>I've changed the order of execution of the tests using <strong>&lt;failsafe.runOrder&gt;reversealphabetical&lt;/failsafe.runOrder&gt;</strong> and this was enough to both pass green.</p>\n<p>But I would like to know if there are anything that could be done on Failsafe or Log4j or even in my app to prevent this.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6906340,"reputation":1061,"user_id":5304075,"display_name":"Arul"},"score":0,"creation_date":1657398168,"post_id":72924056,"comment_id":128802427,"body_markdown":"After connecting to the device you can play the music using ```MediaPlayer``` API https://www.tutorialspoint.com/android/android_mediaplayer.htm","body":"After connecting to the device you can play the music using <code>MediaPlayer</code> API <a href=\"https://www.tutorialspoint.com/android/android_mediaplayer.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/android/android_mediaplayer.htm</a>"},{"owner":{"account_id":12241782,"reputation":188,"user_id":11587836,"display_name":"Arron Lapta"},"score":0,"creation_date":1657398221,"post_id":72924056,"comment_id":128802432,"body_markdown":"I don&#39;t know how to connect to the device","body":"I don&#39;t know how to connect to the device"},{"owner":{"account_id":6906340,"reputation":1061,"user_id":5304075,"display_name":"Arul"},"score":0,"creation_date":1657398645,"post_id":72924056,"comment_id":128802496,"body_markdown":"https://stackoverflow.com/a/14254202/5304075 follow this thread","body":"<a href=\"https://stackoverflow.com/a/14254202/5304075\">stackoverflow.com/a/14254202/5304075</a> follow this thread"},{"owner":{"account_id":6906340,"reputation":1061,"user_id":5304075,"display_name":"Arul"},"score":0,"creation_date":1657398830,"post_id":72924056,"comment_id":128802519,"body_markdown":"If you found any hassle in implementing update your question.","body":"If you found any hassle in implementing update your question."}],"owner":{"account_id":12241782,"reputation":188,"user_id":11587836,"display_name":"Arron Lapta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657394779,"creation_date":1657394779,"question_id":72924056,"body_markdown":"I have a speaker and I  would like to connect to this speaker via bluetooth, to play audio. So far i already managed to turn on bluetooth, as welll as show what devices i am connected too. What i would like to do now is play audio on my speaker, how can i go about doing this? I found some resource online but most of them is to just turn on bluetooth. Any help is grateful thanks in advance. \r\n\r\n    public class MainActivity extends Activity  {\r\n        Button b1,b2,b3,b4;\r\n        private BluetoothAdapter BA;\r\n        private Set&lt;BluetoothDevice&gt;pairedDevices;\r\n        ListView lv;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            b1 = (Button) findViewById(R.id.button);\r\n            b2=(Button)findViewById(R.id.button2);\r\n            b3=(Button)findViewById(R.id.button3);\r\n            b4=(Button)findViewById(R.id.button4);\r\n    \r\n            BA = BluetoothAdapter.getDefaultAdapter();\r\n            lv = (ListView)findViewById(R.id.listView);\r\n        }\r\n    \r\n        public void on(View v){\r\n            if (!BA.isEnabled()) {\r\n                Intent turnOn = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                startActivityForResult(turnOn, 0);\r\n                Toast.makeText(getApplicationContext(), &quot;Turned on&quot;,Toast.LENGTH_LONG).show();\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Already on&quot;, Toast.LENGTH_LONG).show();\r\n                //bluetooth is turned on...\r\n            }\r\n        }\r\n    \r\n        public void off(View v){\r\n            BA.disable();\r\n            Toast.makeText(getApplicationContext(), &quot;Turned off&quot; ,Toast.LENGTH_LONG).show();\r\n        }\r\n    \r\n    \r\n        public  void visible(View v){\r\n            Intent getVisible = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\r\n            startActivityForResult(getVisible, 0);\r\n        }\r\n    \r\n    \r\n        public void list(View v){\r\n            pairedDevices = BA.getBondedDevices();\r\n    \r\n            ArrayList list = new ArrayList();\r\n    \r\n            for(BluetoothDevice bt : pairedDevices) list.add(bt.getName());\r\n            Toast.makeText(getApplicationContext(), &quot;Showing Paired Devices&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n            final ArrayAdapter adapter = new  ArrayAdapter(this,android.R.layout.simple_list_item_1, list);\r\n    \r\n            lv.setAdapter(adapter);\r\n        }\r\n    }","title":"How do I connect to a device via bluetooth to play audio?","body":"<p>I have a speaker and I  would like to connect to this speaker via bluetooth, to play audio. So far i already managed to turn on bluetooth, as welll as show what devices i am connected too. What i would like to do now is play audio on my speaker, how can i go about doing this? I found some resource online but most of them is to just turn on bluetooth. Any help is grateful thanks in advance.</p>\n<pre><code>public class MainActivity extends Activity  {\n    Button b1,b2,b3,b4;\n    private BluetoothAdapter BA;\n    private Set&lt;BluetoothDevice&gt;pairedDevices;\n    ListView lv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        b1 = (Button) findViewById(R.id.button);\n        b2=(Button)findViewById(R.id.button2);\n        b3=(Button)findViewById(R.id.button3);\n        b4=(Button)findViewById(R.id.button4);\n\n        BA = BluetoothAdapter.getDefaultAdapter();\n        lv = (ListView)findViewById(R.id.listView);\n    }\n\n    public void on(View v){\n        if (!BA.isEnabled()) {\n            Intent turnOn = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            startActivityForResult(turnOn, 0);\n            Toast.makeText(getApplicationContext(), &quot;Turned on&quot;,Toast.LENGTH_LONG).show();\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;Already on&quot;, Toast.LENGTH_LONG).show();\n            //bluetooth is turned on...\n        }\n    }\n\n    public void off(View v){\n        BA.disable();\n        Toast.makeText(getApplicationContext(), &quot;Turned off&quot; ,Toast.LENGTH_LONG).show();\n    }\n\n\n    public  void visible(View v){\n        Intent getVisible = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\n        startActivityForResult(getVisible, 0);\n    }\n\n\n    public void list(View v){\n        pairedDevices = BA.getBondedDevices();\n\n        ArrayList list = new ArrayList();\n\n        for(BluetoothDevice bt : pairedDevices) list.add(bt.getName());\n        Toast.makeText(getApplicationContext(), &quot;Showing Paired Devices&quot;,Toast.LENGTH_SHORT).show();\n\n        final ArrayAdapter adapter = new  ArrayAdapter(this,android.R.layout.simple_list_item_1, list);\n\n        lv.setAdapter(adapter);\n    }\n}\n</code></pre>\n"},{"tags":["java","jsp","web-applications","servlets","netbeans"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1291662121,"post_id":4369911,"comment_id":4757930,"body_markdown":"Which JavaEE version you have selected ?http://forums.netbeans.org/ptopic22286.html","body":"Which JavaEE version you have selected ?<a href=\"http://forums.netbeans.org/ptopic22286.html\" rel=\"nofollow noreferrer\">forums.netbeans.org/ptopic22286.html</a>"},{"owner":{"account_id":214231,"reputation":194,"user_id":468088,"accept_rate":60,"display_name":"BeMathis"},"score":0,"creation_date":1291662289,"post_id":4369911,"comment_id":4757961,"body_markdown":"I selected Java EE 5 with Glass Fish v2.1","body":"I selected Java EE 5 with Glass Fish v2.1"},{"owner":{"account_id":140076,"reputation":14954,"user_id":346112,"accept_rate":97,"display_name":"Jim Tough"},"score":0,"creation_date":1291662380,"post_id":4369911,"comment_id":4757981,"body_markdown":"Can you post the contents of your web.xml file?","body":"Can you post the contents of your web.xml file?"}],"answers":[{"tags":[],"owner":{"account_id":140076,"reputation":14954,"user_id":346112,"accept_rate":97,"display_name":"Jim Tough"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1351353873,"creation_date":1291662608,"answer_id":4370008,"question_id":4369911,"body_markdown":"See what value is set for the &#39;version&#39; attribute in the `&lt;web-app&gt;` element of your web.xml file. Here is an example from a version 2.5 web app:  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n         xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n         id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n        &lt;!-- The rest of your web.xml content --&gt;\r\n    &lt;/web-app&gt;\r\n\r\nMaybe yours is set to something else not supported by the container.","title":"&quot;Web application version is unsupported&quot; when creating a servlet","body":"<p>See what value is set for the 'version' attribute in the <code>&lt;web-app&gt;</code> element of your web.xml file. Here is an example from a version 2.5 web app:  </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xmlns=\"http://java.sun.com/xml/ns/javaee\"\n     xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n     xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n     id=\"WebApp_ID\" version=\"2.5\"&gt;\n    &lt;!-- The rest of your web.xml content --&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Maybe yours is set to something else not supported by the container.</p>\n"},{"tags":[],"owner":{"account_id":13548864,"reputation":349,"user_id":9774270,"display_name":"Ashraf Gardizy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657394630,"creation_date":1537853322,"answer_id":52491155,"question_id":4369911,"body_markdown":"1. First create Java Web Application project in NetBeans\r\n2. Inside the Project there is folder called **Source Package**\r\n3. Right click in default package which is located inside **source package** \r\n **new** &amp;rarr; Servlet\r\n4. In front of **Class Name**: provide the name for your Servlet and click **Next**\r\n5. In the next page put the tick mark in front of **Add information to deployment descriptor (web.xml)** to generate automatically the `web.xml`. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis will give you a default (and nearly empty) `web.xml` file, of whatever version NetBeans decided to give you (rather than needing just version 2.3):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app version=&quot;4.0&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;NewServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.mycompany.mavenproject1.NewServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;NewServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/NewServlet&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;\r\n            30\r\n        &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3cKO.png\r\n  [2]: https://i.stack.imgur.com/aKcuX.png","title":"&quot;Web application version is unsupported&quot; when creating a servlet","body":"<ol>\n<li>First create Java Web Application project in NetBeans</li>\n<li>Inside the Project there is folder called <strong>Source Package</strong></li>\n<li>Right click in default package which is located inside <strong>source package</strong>\n<strong>new</strong> → Servlet</li>\n<li>In front of <strong>Class Name</strong>: provide the name for your Servlet and click <strong>Next</strong></li>\n<li>In the next page put the tick mark in front of <strong>Add information to deployment descriptor (web.xml)</strong> to generate automatically the <code>web.xml</code>.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/aKcuX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aKcuX.png\" alt=\"enter image description here\" /></a></p>\n<p>This will give you a default (and nearly empty) <code>web.xml</code> file, of whatever version NetBeans decided to give you (rather than needing just version 2.3):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;4.0&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;NewServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.mycompany.mavenproject1.NewServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;NewServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/NewServlet&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n"}],"owner":{"account_id":214231,"reputation":194,"user_id":468088,"accept_rate":60,"display_name":"BeMathis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4370008,"answer_count":2,"score":2,"last_activity_date":1657394630,"creation_date":1291661887,"question_id":4369911,"body_markdown":"I am following the tutorial http://javanetbeans.net78.net/kb/60/web/tutorial-webapps.html\r\n\r\nand when I get to the portion &#39;Creating a front controller using a servlet&#39; I receive an error from Netbeans saying &quot;Web application version is unsupported&quot;\r\n\r\nUsing netbeans 6.8\r\n\r\nAnyone able to explain why I am getting this prompt?\r\n\r\nHere is the contents of my web-xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE web-app\r\n    PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n    &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\r\n    \r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n         xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n         id=&quot;/Midnight&quot; version=&quot;2.5&quot;&gt;\r\n      &lt;session-config&gt;\r\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n      &lt;/session-config&gt;\r\n    &lt;/web-app&gt;\r\n\r\n","title":"&quot;Web application version is unsupported&quot; when creating a servlet","body":"<p>I am following the tutorial <a href=\"http://javanetbeans.net78.net/kb/60/web/tutorial-webapps.html\" rel=\"nofollow\">http://javanetbeans.net78.net/kb/60/web/tutorial-webapps.html</a></p>\n\n<p>and when I get to the portion 'Creating a front controller using a servlet' I receive an error from Netbeans saying \"Web application version is unsupported\"</p>\n\n<p>Using netbeans 6.8</p>\n\n<p>Anyone able to explain why I am getting this prompt?</p>\n\n<p>Here is the contents of my web-xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE web-app\nPUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n\"http://java.sun.com/dtd/web-app_2_3.dtd\"&gt;\n\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xmlns=\"http://java.sun.com/xml/ns/javaee\"\n     xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n     xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n     id=\"/Midnight\" version=\"2.5\"&gt;\n  &lt;session-config&gt;\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n  &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","debugging","math"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657394332,"creation_date":1657231124,"answer_id":72904662,"question_id":72904357,"body_markdown":"All composite numbers except perfect squares have at least four divisors.&amp;nbsp;&amp;nbsp;For `N` they would be `1`,&amp;nbsp;&amp;nbsp;`k`,&amp;nbsp;&amp;nbsp;`j`, and `N`.&amp;nbsp;&amp;nbsp;Primes, `P`,&amp;nbsp;&amp;nbsp;only have `2` divisors, `1 and P`.  But perfect squares have only three divisors as long as the square root is prime.\r\n\r\nExamples are:&lt;br&gt;\r\n**1, 3, 9**&lt;br&gt;\r\n**1, 5, 25**&lt;br&gt;\r\n**1, 11, 121**\r\n```\r\n\r\nint n = 2010;\r\nint count = exactly3Divisors(2010);\r\nSystem.out.printf(&quot;For N = %d, there are %d numbers of only 3 divisors.&quot;,\r\n      n, count);\r\n```\r\n- iterate of all perfect squares less than `n`\r\n- Then check to see if the square root is prime and bump the count accordingly.\r\n```\r\npublic static int exactly3Divisors(int n) {\r\n    int count = 0;\r\n\tfor (int i = 1; i*i &lt;= n; i++) {   \r\n\t    if (isPrime(i)) {\r\n\t        count++;\r\n\t    }\r\n\t}\r\n\treturn count;\r\n}\r\n```\r\nprints\r\n```\r\nFor N = 2010, there are 14 numbers of only 3 divisors.\r\n```\r\nIf you are not including `1` as a divisor then you need to find the numbers that have *only two primes* as divisors. This requires a version of `isPrimes` that `memoizes` previously computed primes. More on that later.\r\n\r\nHere is the new `exactly3Divisors` method.\r\n\r\n- iterate from `2 to n` ignoring any number that is a prime.\r\n- for each iterated number determine:\r\n  - if it is divisible by a prime\r\n  - if the quotient from that division is a prime (to avoid duplicate counts, make certain that the the current prime is &gt; than the quotient.\r\n  - if, the above succeeds increment the count.\r\n```\r\npublic static int exactly3Divisors2(int n) {\r\n\tint count = 0;\r\n\tfor (int i = 2; i &lt;= n; i++) {\r\n\t\tif (isPrime(i)) { \r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tfor (int p : primes) {\r\n\t\t\tint quotient = i / p;\r\n\t\t\tif (p &lt;= quotient) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (i % p == 0 &amp;&amp; isPrime(quotient)) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn count;\r\n}\r\n```\r\nHere is the `isPrime` method\r\n- store the primes in a `LinkedHashSet` to maintain the order and quick reference.  The primes will always be in sorted order.\r\n- if the number under test is &lt;= last prime, then simply return true or false based on its presence in the set.\r\n- Iterate thru the primes to see if any divide the current number and if so, return false.\r\n- once the product of the current prime exceeds the number under test, add that number to the set of primes, assign numb to `lastPrime`, and return true;\r\n```\r\nstatic LinkedHashSet&lt;Integer&gt; primes = new LinkedHashSet&lt;&gt;(Set.of(2));\r\nstatic int lastPrime = 2;\r\npublic static boolean isPrime(int numb) {\r\n\tif (numb &gt; lastPrime) {\r\n\t\tfor (int prime : primes) {\r\n\t\t\tif (numb % prime == 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (prime * prime &gt;= numb) {\r\n\t\t\t\tprimes.add(numb);\r\n\t\t\t\tlastPrime = numb;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\treturn primes.contains(numb);\r\n}\r\n```\r\n**A general solution**\r\n\r\nNo code is provide for this but all you need is an `isPrime` method.\r\n\r\n- For all prime factors of a number, **N**, where the `prime` factors are:&lt;br&gt;&lt;b&gt;\r\nP&lt;sub&gt;1&lt;/sub&gt;,&amp;nbsp;&amp;nbsp;&amp;nbsp;\r\nP&lt;sub&gt;2&lt;/sub&gt;,&amp;nbsp;&amp;nbsp;&amp;nbsp;\r\nP&lt;sub&gt;3&lt;/sub&gt;,&amp;nbsp;&amp;nbsp;&amp;nbsp;\r\nP&lt;sub&gt;4&lt;/sub&gt;,&amp;nbsp;&amp;nbsp;&amp;nbsp;\r\nP&lt;sub&gt;5&lt;/sub&gt;,&amp;nbsp;.&amp;nbsp;.&amp;nbsp;.&amp;nbsp;,\r\nP&lt;sub&gt;k&lt;/sub&gt;&lt;/b&gt;&lt;br&gt;\r\n- they each occur some number of times represented by their associated exponents:\r\n&lt;br&gt;&lt;b&gt;\r\n&amp;#945;&lt;sub&gt;1&lt;/sub&gt;,&amp;nbsp;&amp;nbsp;&amp;nbsp;\r\n&amp;#945;&lt;sub&gt;2&lt;/sub&gt;,&amp;nbsp;&amp;nbsp;&amp;nbsp;\r\n&amp;#945;&lt;sub&gt;3&lt;/sub&gt;,&amp;nbsp;&amp;nbsp;&amp;nbsp;\r\n&amp;#945;&lt;sub&gt;4&lt;/sub&gt;,&amp;nbsp;&amp;nbsp;&amp;nbsp;\r\n&amp;#945;&lt;sub&gt;5&lt;/sub&gt;,&amp;nbsp;.&amp;nbsp;.&amp;nbsp;.&amp;nbsp;,\r\n&amp;#945;&lt;sub&gt;k&lt;/sub&gt;&lt;/b&gt;&lt;br&gt;\r\n- Then the total number of divisors of **N** is the product of each **(exponent+1)**&lt;br&gt;\r\n&lt;b&gt;N&lt;sub&gt;divisors&lt;/sub&gt; = (&amp;#945;&lt;sub&gt;1&lt;/sub&gt; + 1)\r\n(&amp;#945;&lt;sub&gt;2&lt;/sub&gt; + 1)\r\n(&amp;#945;&lt;sub&gt;3&lt;/sub&gt; + 1)\r\n(&amp;#945;&lt;sub&gt;4&lt;/sub&gt; + 1)\r\n(&amp;#945;&lt;sub&gt;5&lt;/sub&gt; + 1),&amp;nbsp;.&amp;nbsp;.&amp;nbsp;.&amp;nbsp;,\r\n(&amp;#945;&lt;sub&gt;k&lt;/sub&gt;+ 1)&lt;/b&gt;&lt;br&gt;\r\n- Both **1** and **N** are included in this total.\r\n","title":"I have tried to work around this problem to number of divisors problem but it doesnt work well after certain input","body":"<p>All composite numbers except perfect squares have at least four divisors.  For <code>N</code> they would be <code>1</code>,  <code>k</code>,  <code>j</code>, and <code>N</code>.  Primes, <code>P</code>,  only have <code>2</code> divisors, <code>1 and P</code>.  But perfect squares have only three divisors as long as the square root is prime.</p>\n<p>Examples are:<br>\n<strong>1, 3, 9</strong><br>\n<strong>1, 5, 25</strong><br>\n<strong>1, 11, 121</strong></p>\n<pre><code>\nint n = 2010;\nint count = exactly3Divisors(2010);\nSystem.out.printf(&quot;For N = %d, there are %d numbers of only 3 divisors.&quot;,\n      n, count);\n</code></pre>\n<ul>\n<li>iterate of all perfect squares less than <code>n</code></li>\n<li>Then check to see if the square root is prime and bump the count accordingly.</li>\n</ul>\n<pre><code>public static int exactly3Divisors(int n) {\n    int count = 0;\n    for (int i = 1; i*i &lt;= n; i++) {   \n        if (isPrime(i)) {\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>prints</p>\n<pre><code>For N = 2010, there are 14 numbers of only 3 divisors.\n</code></pre>\n<p>If you are not including <code>1</code> as a divisor then you need to find the numbers that have <em>only two primes</em> as divisors. This requires a version of <code>isPrimes</code> that <code>memoizes</code> previously computed primes. More on that later.</p>\n<p>Here is the new <code>exactly3Divisors</code> method.</p>\n<ul>\n<li>iterate from <code>2 to n</code> ignoring any number that is a prime.</li>\n<li>for each iterated number determine:\n<ul>\n<li>if it is divisible by a prime</li>\n<li>if the quotient from that division is a prime (to avoid duplicate counts, make certain that the the current prime is &gt; than the quotient.</li>\n<li>if, the above succeeds increment the count.</li>\n</ul>\n</li>\n</ul>\n<pre><code>public static int exactly3Divisors2(int n) {\n    int count = 0;\n    for (int i = 2; i &lt;= n; i++) {\n        if (isPrime(i)) { \n            continue;\n        }\n        for (int p : primes) {\n            int quotient = i / p;\n            if (p &lt;= quotient) {\n                continue;\n            }\n            if (i % p == 0 &amp;&amp; isPrime(quotient)) {\n                count++;\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>Here is the <code>isPrime</code> method</p>\n<ul>\n<li>store the primes in a <code>LinkedHashSet</code> to maintain the order and quick reference.  The primes will always be in sorted order.</li>\n<li>if the number under test is &lt;= last prime, then simply return true or false based on its presence in the set.</li>\n<li>Iterate thru the primes to see if any divide the current number and if so, return false.</li>\n<li>once the product of the current prime exceeds the number under test, add that number to the set of primes, assign numb to <code>lastPrime</code>, and return true;</li>\n</ul>\n<pre><code>static LinkedHashSet&lt;Integer&gt; primes = new LinkedHashSet&lt;&gt;(Set.of(2));\nstatic int lastPrime = 2;\npublic static boolean isPrime(int numb) {\n    if (numb &gt; lastPrime) {\n        for (int prime : primes) {\n            if (numb % prime == 0) {\n                return false;\n            }\n            if (prime * prime &gt;= numb) {\n                primes.add(numb);\n                lastPrime = numb;\n                return true;\n            }\n        }\n        \n    }\n    return primes.contains(numb);\n}\n</code></pre>\n<p><strong>A general solution</strong></p>\n<p>No code is provide for this but all you need is an <code>isPrime</code> method.</p>\n<ul>\n<li>For all prime factors of a number, <strong>N</strong>, where the <code>prime</code> factors are:<br><b>\nP<sub>1</sub>,   \nP<sub>2</sub>,   \nP<sub>3</sub>,   \nP<sub>4</sub>,   \nP<sub>5</sub>, . . . ,\nP<sub>k</sub></b><br></li>\n<li>they each occur some number of times represented by their associated exponents:\n<br><b>\nα<sub>1</sub>,   \nα<sub>2</sub>,   \nα<sub>3</sub>,   \nα<sub>4</sub>,   \nα<sub>5</sub>, . . . ,\nα<sub>k</sub></b><br></li>\n<li>Then the total number of divisors of <strong>N</strong> is the product of each <strong>(exponent+1)</strong><br>\n<b>N<sub>divisors</sub> = (α<sub>1</sub> + 1)\n(α<sub>2</sub> + 1)\n(α<sub>3</sub> + 1)\n(α<sub>4</sub> + 1)\n(α<sub>5</sub> + 1), . . . ,\n(α<sub>k</sub>+ 1)</b><br></li>\n<li>Both <strong>1</strong> and <strong>N</strong> are included in this total.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25752822,"reputation":16,"user_id":19505082,"display_name":"Evan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657231325,"creation_date":1657231325,"answer_id":72904694,"question_id":72904357,"body_markdown":"As you mentioned in your question, there appears to be an issue with your isPrime method, since it&#39;s taking 25 as a prime number. I managed to fix it up a bit, by just doing a loop similar to what you did, but hopefully missing the gaps yours may have left:\r\n\r\n    public static boolean isPrime(int N) {\r\n        if (N == 1)\r\n            return false;\r\n        if (N == 2 || N == 3)\r\n            return true;\r\n        for (int i = 2; i &lt;= Math.sqrt(N); i++)\r\n        \tif (N % i == 0)\r\n        \t\treturn false;\r\n        return true;\r\n    }\r\n\r\nAdditionally, your exactly3Divisors method does not need some magic number for leaking numbers. If you ever have to do that, it probably means your logic is faulty somewhere. Since we already diagnosed that there was an issue with isPrime, it turns out that pretty much removed the need for any other variables than count:\r\n\r\n    public static int exactly3Divisors(int N) {\r\n\t    int count = 0;\r\n\t    for (int i = 2; i * i &lt;= N; i++) {\r\n\t        if (isPrime(i)) {\r\n\t            count++;\r\n\t        }\r\n\t    }\r\n\t    return count;\r\n\t}\r\nThis should give you the correct answer. Running exactly3Divisors(625) should give you 9!","title":"I have tried to work around this problem to number of divisors problem but it doesnt work well after certain input","body":"<p>As you mentioned in your question, there appears to be an issue with your isPrime method, since it's taking 25 as a prime number. I managed to fix it up a bit, by just doing a loop similar to what you did, but hopefully missing the gaps yours may have left:</p>\n<pre><code>public static boolean isPrime(int N) {\n    if (N == 1)\n        return false;\n    if (N == 2 || N == 3)\n        return true;\n    for (int i = 2; i &lt;= Math.sqrt(N); i++)\n        if (N % i == 0)\n            return false;\n    return true;\n}\n</code></pre>\n<p>Additionally, your exactly3Divisors method does not need some magic number for leaking numbers. If you ever have to do that, it probably means your logic is faulty somewhere. Since we already diagnosed that there was an issue with isPrime, it turns out that pretty much removed the need for any other variables than count:</p>\n<pre><code>public static int exactly3Divisors(int N) {\n    int count = 0;\n    for (int i = 2; i * i &lt;= N; i++) {\n        if (isPrime(i)) {\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>This should give you the correct answer. Running exactly3Divisors(625) should give you 9!</p>\n"}],"owner":{"account_id":25753957,"reputation":3,"user_id":19506001,"display_name":"Chandrakant Dubey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72904694,"answer_count":2,"score":0,"last_activity_date":1657394332,"creation_date":1657228830,"question_id":72904357,"body_markdown":"Given a positive integer value N. The task is to find how many numbers less than or equal to N have numbers of divisors exactly equal to 3\r\nI have tried putting some fixes didn&#39;t worked any quick fixes or some detailed explanation for the issue will be great support.\r\nthe code breaks at 625 that is it is taking 25 as prime.\r\n            the code works well with just one extra count till 15624.\r\n            the code then again breaks at 15625 with two extra counts.\r\n            I have tried a fix for 625 but it does break ahead.\r\n            I don&#39;t get it what&#39;s wrong with the code.\r\n\r\n    class Solution {\r\n        public int exactly3Divisors(int N) {\r\n            int count = 0;\r\n            int leakCnt = 25;\r\n            for (int i = 2; i * i &lt;= N; i++) {\r\n                if (isPrime(i)) {\r\n                    if (i % leakCnt != 0)\r\n                        count++;\r\n                    else {\r\n                        leakCnt *= 25;\r\n                    }\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n            static boolean isPrime(int N) {\r\n                if (N == 1)\r\n                    return false;\r\n                if (N == 2 || N == 3)\r\n                    return true;\r\n                if (N % 2 == 0 || N % 3 == 0)\r\n                    return false;\r\n                for (int i = 5; i * i &lt; N; i += 6) {\r\n                    if (N % i == 0 || N % (i + 2) == 0)\r\n                        return false;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n            ","title":"I have tried to work around this problem to number of divisors problem but it doesnt work well after certain input","body":"<p>Given a positive integer value N. The task is to find how many numbers less than or equal to N have numbers of divisors exactly equal to 3\nI have tried putting some fixes didn't worked any quick fixes or some detailed explanation for the issue will be great support.\nthe code breaks at 625 that is it is taking 25 as prime.\nthe code works well with just one extra count till 15624.\nthe code then again breaks at 15625 with two extra counts.\nI have tried a fix for 625 but it does break ahead.\nI don't get it what's wrong with the code.</p>\n<pre><code>class Solution {\n    public int exactly3Divisors(int N) {\n        int count = 0;\n        int leakCnt = 25;\n        for (int i = 2; i * i &lt;= N; i++) {\n            if (isPrime(i)) {\n                if (i % leakCnt != 0)\n                    count++;\n                else {\n                    leakCnt *= 25;\n                }\n            }\n        }\n        return count;\n    }\n        static boolean isPrime(int N) {\n            if (N == 1)\n                return false;\n            if (N == 2 || N == 3)\n                return true;\n            if (N % 2 == 0 || N % 3 == 0)\n                return false;\n            for (int i = 5; i * i &lt; N; i += 6) {\n                if (N % i == 0 || N % (i + 2) == 0)\n                    return false;\n            }\n            return true;\n        }\n    }\n        \n</code></pre>\n"},{"tags":["java","anchor","contextmenu","vaadin14","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657394298,"creation_date":1657394298,"answer_id":72924019,"question_id":72909457,"body_markdown":"Have you set the text content for your `Anchor` component?\r\n\r\nThe proper way to add the Anchor as menu item is this.\r\n\r\n        ContextMenu menu = new ContextMenu(targetComponent);\r\n        Anchor vaadin = new Anchor(&quot;https://vaadin.com/&quot;,&quot;Vaadin&quot;);\r\n        menu.addItem(vaadin);\r\n\r\n`add` methods also adds the component to the menu, but wont&#39;t wrap as menu item. It is more purposed for adding decorative components like dividers etc. \r\n\r\n        ContextMenu menu = new ContextMenu(targetComponent);\r\n        Anchor vaadin = new Anchor(&quot;https://vaadin.com/&quot;,&quot;Vaadin&quot;);\r\n        menu.add(vaadin);\r\n\r\nMoreover with `addIten` method you can set the event listener for menu item being selected:\r\n\r\n        ContextMenu menu = new ContextMenu(targetComponent);\r\n        Anchor vaadin = new Anchor(&quot;https://vaadin.com/&quot;,&quot;Vaadin&quot;);\r\n        menu.addItem(vaadin, event -&gt; {\r\n        \tSystem.out.println(&quot;Selected&quot;);\r\n        });","title":"Is there a way to put a anchor component in an context menu in vaadin 14?","body":"<p>Have you set the text content for your <code>Anchor</code> component?</p>\n<p>The proper way to add the Anchor as menu item is this.</p>\n<pre><code>    ContextMenu menu = new ContextMenu(targetComponent);\n    Anchor vaadin = new Anchor(&quot;https://vaadin.com/&quot;,&quot;Vaadin&quot;);\n    menu.addItem(vaadin);\n</code></pre>\n<p><code>add</code> methods also adds the component to the menu, but wont't wrap as menu item. It is more purposed for adding decorative components like dividers etc.</p>\n<pre><code>    ContextMenu menu = new ContextMenu(targetComponent);\n    Anchor vaadin = new Anchor(&quot;https://vaadin.com/&quot;,&quot;Vaadin&quot;);\n    menu.add(vaadin);\n</code></pre>\n<p>Moreover with <code>addIten</code> method you can set the event listener for menu item being selected:</p>\n<pre><code>    ContextMenu menu = new ContextMenu(targetComponent);\n    Anchor vaadin = new Anchor(&quot;https://vaadin.com/&quot;,&quot;Vaadin&quot;);\n    menu.addItem(vaadin, event -&gt; {\n        System.out.println(&quot;Selected&quot;);\n    });\n</code></pre>\n"}],"owner":{"account_id":22510881,"reputation":110,"user_id":16705849,"display_name":"Lukas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72924019,"answer_count":1,"score":0,"last_activity_date":1657394298,"creation_date":1657272958,"question_id":72909457,"body_markdown":"Im trying to get a vaadin anchor component inside of an context menu, but I cant get it to work.\r\nI tried it like following:\r\n```\r\nthis.contextMenu.add(anchorFile);\r\n```\r\nBut the menu item inside of the context menu wont appear.\r\n\r\nI hope someone can help me.\r\nThanks in advance","title":"Is there a way to put a anchor component in an context menu in vaadin 14?","body":"<p>Im trying to get a vaadin anchor component inside of an context menu, but I cant get it to work.\nI tried it like following:</p>\n<pre><code>this.contextMenu.add(anchorFile);\n</code></pre>\n<p>But the menu item inside of the context menu wont appear.</p>\n<p>I hope someone can help me.\nThanks in advance</p>\n"},{"tags":["java","string","encryption","aes"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1657394313,"post_id":72923984,"comment_id":128801805,"body_markdown":"You need to save the encryption IV and use the same one for decryption. Typically this is done by prepending it to the ciphertext. Note that using a fixed salt is effectively no better than having no salt at all.","body":"You need to save the encryption IV and use the same one for decryption. Typically this is done by prepending it to the ciphertext. Note that using a fixed salt is effectively no better than having no salt at all."},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1657436174,"post_id":72923984,"comment_id":128806338,"body_markdown":"You can find a complete example for AES CBC with PBKDF2 encryption here (disclaimer I&#39;m the author) https://github.com/java-crypto/cross_platform_crypto/blob/main/AesCbc256Pbkdf2StringEncryption/AesCbc256Pbkdf2StringEncryption_Full.java","body":"You can find a complete example for AES CBC with PBKDF2 encryption here (disclaimer I&#39;m the author) <a href=\"https://github.com/java-crypto/cross_platform_crypto/blob/main/AesCbc256Pbkdf2StringEncryption/AesCbc256Pbkdf2StringEncryption_Full.java\" rel=\"nofollow noreferrer\">github.com/java-crypto/cross_platform_crypto/blob/main/&hellip;</a>"}],"owner":{"account_id":24785048,"reputation":11,"user_id":18668341,"display_name":"SOFsomeonenew1015"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657393833,"creation_date":1657393833,"question_id":72923984,"body_markdown":"I&#39;m trying to encrypt and decrypt a string in java using AES/CBC/PKCS5Padding. It encrypts/decrypts without any compilation errors but the string after decryption is just random characters. this is my code:\r\n\r\nEncryption:\r\n\r\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n    KeySpec spec = new PBEKeySpec(key.toCharArray(), &quot;salt&quot;.getBytes(), 65536, 256);\r\n    SecretKey secret =new SecretKeySpec(factory.generateSecret(spec).getEncoded(),&quot;AES&quot;);\r\n    \r\n    byte[] iv = new byte[16];\r\n    new SecureRandom().nextBytes(iv);\r\n    IvParameterSpec ivp = new IvParameterSpec(iv);\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    cipher.init(Cipher.ENCRYPT_MODE, secret, ivp);\r\n\r\n    byte[] encryptedText = cipher.doFinal(input.getBytes(&quot;UTF-8));\r\n    return Base64.getEncoder().encodeToString(encryptedText);\r\n\r\n\r\nDecryption:\r\n\r\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n    KeySpec spec = new PBEKeySpec(key.toCharArray(), &quot;salt&quot;.getBytes(), 65536, 256);\r\n    SecretKey secret =new SecretKeySpec(factory.generateSecret(spec).getEncoded(),&quot;AES&quot;);\r\n    \r\n    byte[] iv = new byte[16];\r\n    new SecureRandom().nextBytes(iv);\r\n    IvParameterSpec ivp = new IvParameterSpec(iv);\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    cipher.init(Cipher.DECRYPT_MODE, secret, ivp);\r\n\r\n    byte[] decryptedtext = cipher.doFinal(Base64.getDecoder().decode(input));\r\n    return new String(decryptedtext, &quot;UTF-8&quot;);\r\n\r\nThe given text is the same every time but the result changes and is filled with random characters.\r\n\r\nThanks in advance!","title":"Java String AES Encryption/Decryption not working","body":"<p>I'm trying to encrypt and decrypt a string in java using AES/CBC/PKCS5Padding. It encrypts/decrypts without any compilation errors but the string after decryption is just random characters. this is my code:</p>\n<p>Encryption:</p>\n<pre><code>SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\nKeySpec spec = new PBEKeySpec(key.toCharArray(), &quot;salt&quot;.getBytes(), 65536, 256);\nSecretKey secret =new SecretKeySpec(factory.generateSecret(spec).getEncoded(),&quot;AES&quot;);\n\nbyte[] iv = new byte[16];\nnew SecureRandom().nextBytes(iv);\nIvParameterSpec ivp = new IvParameterSpec(iv);\n\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, secret, ivp);\n\nbyte[] encryptedText = cipher.doFinal(input.getBytes(&quot;UTF-8));\nreturn Base64.getEncoder().encodeToString(encryptedText);\n</code></pre>\n<p>Decryption:</p>\n<pre><code>SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\nKeySpec spec = new PBEKeySpec(key.toCharArray(), &quot;salt&quot;.getBytes(), 65536, 256);\nSecretKey secret =new SecretKeySpec(factory.generateSecret(spec).getEncoded(),&quot;AES&quot;);\n\nbyte[] iv = new byte[16];\nnew SecureRandom().nextBytes(iv);\nIvParameterSpec ivp = new IvParameterSpec(iv);\n\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\ncipher.init(Cipher.DECRYPT_MODE, secret, ivp);\n\nbyte[] decryptedtext = cipher.doFinal(Base64.getDecoder().decode(input));\nreturn new String(decryptedtext, &quot;UTF-8&quot;);\n</code></pre>\n<p>The given text is the same every time but the result changes and is filled with random characters.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","c++","oracle","transactions","jta"],"comments":[{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1427909814,"post_id":44005,"comment_id":46970525,"body_markdown":"can you &quot;embed&quot; you application as JVM stored procedure? Then you can &quot;simply&quot; call fragment of your application from C++ through database connection.","body":"can you &quot;embed&quot; you application as JVM stored procedure? Then you can &quot;simply&quot; call fragment of your application from C++ through database connection."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1427909932,"post_id":44005,"comment_id":46970587,"body_markdown":"Theoretically you can also do the oposit. Mame a c-stored procedure, which will &quot;connect&quot; back to the database. Then this procedure will participate in the same transaction.","body":"Theoretically you can also do the oposit. Mame a c-stored procedure, which will &quot;connect&quot; back to the database. Then this procedure will participate in the same transaction."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1427910524,"post_id":44005,"comment_id":46970922,"body_markdown":"you can also &quot;name&quot; distributed transaction. i.e. you assign it a cooked name. then another process, can &quot;join&quot; the same transaction. AFAIK DBMS_XA or DBMS_TRANSACTION can be used for this purpose.","body":"you can also &quot;name&quot; distributed transaction. i.e. you assign it a cooked name. then another process, can &quot;join&quot; the same transaction. AFAIK DBMS_XA or DBMS_TRANSACTION can be used for this purpose."},{"owner":{"account_id":70285,"reputation":17694,"user_id":203968,"accept_rate":88,"display_name":"oluies"},"score":0,"creation_date":1428395539,"post_id":44005,"comment_id":47133617,"body_markdown":"Can you provide a complete usecase","body":"Can you provide a complete usecase"}],"answers":[{"tags":[],"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1221710696,"creation_date":1221684413,"answer_id":87500,"question_id":44005,"body_markdown":"There is [an example on Laurent Schneider&#39;s blog][1] of using the DBMS_XA package inside Oracle to permit multiple sessions to work in the same transaction.  So it would be possible to have Java and C++ sessions participating in the same transaction without needing any sort of additional coordinator.  \r\n\r\nAlternately, you might consider using Workspace Manager.  That was originally designed to support extremely long-running transactions (i.e. manipulating lots of spatial data for a proposed development).  Essentially, you can create a workspace, which in your case would be roughly equivalent to a named transaction.  Both the Java and C++ code could enter that workspace (from separate sessions) and both could manipulate and commit data in that workspace.  When the transaction was complete, you could then merge the workspace to the LIVE workspace, which is equivalent to doing a commit in a normal transaction.\r\n\r\nOn the other hand, I would strongly agree with your initial assessment that coordinating transactions between processes is very likely to be a bad idea from a performance, stability, simplicity, and maintenance standpoint.  On the other hand, it may well be a legitimate business requirement depending on how the C++ code is going to be retired (i.e. whether it is possible to replace code in such a way that transactions can be either exclusively Java or exclusively C++)\r\n\r\n\r\n  [1]: http://laurentschneider.com/wordpress/2008/08/read-uncommitted.html","title":"Propagation of Oracle Transactions Between C++ and Java","body":"<p>There is <a href=\"http://laurentschneider.com/wordpress/2008/08/read-uncommitted.html\" rel=\"noreferrer\">an example on Laurent Schneider's blog</a> of using the DBMS_XA package inside Oracle to permit multiple sessions to work in the same transaction.  So it would be possible to have Java and C++ sessions participating in the same transaction without needing any sort of additional coordinator.  </p>\n\n<p>Alternately, you might consider using Workspace Manager.  That was originally designed to support extremely long-running transactions (i.e. manipulating lots of spatial data for a proposed development).  Essentially, you can create a workspace, which in your case would be roughly equivalent to a named transaction.  Both the Java and C++ code could enter that workspace (from separate sessions) and both could manipulate and commit data in that workspace.  When the transaction was complete, you could then merge the workspace to the LIVE workspace, which is equivalent to doing a commit in a normal transaction.</p>\n\n<p>On the other hand, I would strongly agree with your initial assessment that coordinating transactions between processes is very likely to be a bad idea from a performance, stability, simplicity, and maintenance standpoint.  On the other hand, it may well be a legitimate business requirement depending on how the C++ code is going to be retired (i.e. whether it is possible to replace code in such a way that transactions can be either exclusively Java or exclusively C++)</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222193338,"creation_date":1222193338,"answer_id":122702,"question_id":44005,"body_markdown":"I believe JBoss Transaction Manager supports 2pc tx propagation across web service calls.  You could, I suppose integrate your systems that way, but the performance would stink.","title":"Propagation of Oracle Transactions Between C++ and Java","body":"<p>I believe JBoss Transaction Manager supports 2pc tx propagation across web service calls.  You could, I suppose integrate your systems that way, but the performance would stink.</p>\n"},{"tags":[],"owner":{"account_id":70285,"reputation":17694,"user_id":203968,"accept_rate":88,"display_name":"oluies"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428415092,"creation_date":1428396389,"answer_id":29487446,"question_id":44005,"body_markdown":"I have been using [Hazlecast][1] Messaging and Distributed memory locks to solve some of these concerns, however using such a tool would require that you  redisign your software in those parts where you touch the same data. C++ client docs [here][2] Java client [here][3]\r\n\r\nOracle also has a similar product called Oracle Coherence that may help you, see [locking][4] in the dev guide.  \r\n\r\nAlso the database contains a MQ system called  [Oracle Streams Advanced queueing][5] ( transactional persistent queues) that might help you in some situations. Oracle AQ integrates well with Oracle triggers. \r\n\r\nAdditionally there is the [Database Change Notification][6] that may help you update caches or notify processes of updates, this can be used together with the [Optimistic Offline Lock pattern][7]. \r\n\r\nSee also [Software transactional memory][8] \r\n\r\nApache Zookeeper can also help you with distributed [locking][9]. \r\n\r\n\r\n  [1]: http://hazelcast.com/\r\n  [2]: http://docs.hazelcast.org/docs/latest/manual/html/cplusclient.html\r\n  [3]: http://docs.hazelcast.org/docs/latest/manual/html/javaclient.html\r\n  [4]: http://docs.oracle.com/cd/E18686_01/coh.37/e18677/api_transactionslocks.htm#COHDG109\r\n  [5]: http://docs.oracle.com/cd/E11882_01/server.112/e11013/aq_intro.htm#ADQUE0100\r\n  [6]: http://docs.oracle.com/cd/B19306_01/appdev.102/b14251/adfns_dcn.htm\r\n  [7]: http://martinfowler.com/eaaCatalog/optimisticOfflineLock.html\r\n  [8]: http://en.wikipedia.org/wiki/Software_transactional_memory\r\n  [9]: http://zookeeper.apache.org/doc/trunk/recipes.html#sc_recipes_twoPhasedCommit","title":"Propagation of Oracle Transactions Between C++ and Java","body":"<p>I have been using <a href=\"http://hazelcast.com/\" rel=\"nofollow\">Hazlecast</a> Messaging and Distributed memory locks to solve some of these concerns, however using such a tool would require that you  redisign your software in those parts where you touch the same data. C++ client docs <a href=\"http://docs.hazelcast.org/docs/latest/manual/html/cplusclient.html\" rel=\"nofollow\">here</a> Java client <a href=\"http://docs.hazelcast.org/docs/latest/manual/html/javaclient.html\" rel=\"nofollow\">here</a></p>\n\n<p>Oracle also has a similar product called Oracle Coherence that may help you, see <a href=\"http://docs.oracle.com/cd/E18686_01/coh.37/e18677/api_transactionslocks.htm#COHDG109\" rel=\"nofollow\">locking</a> in the dev guide.  </p>\n\n<p>Also the database contains a MQ system called  <a href=\"http://docs.oracle.com/cd/E11882_01/server.112/e11013/aq_intro.htm#ADQUE0100\" rel=\"nofollow\">Oracle Streams Advanced queueing</a> ( transactional persistent queues) that might help you in some situations. Oracle AQ integrates well with Oracle triggers. </p>\n\n<p>Additionally there is the <a href=\"http://docs.oracle.com/cd/B19306_01/appdev.102/b14251/adfns_dcn.htm\" rel=\"nofollow\">Database Change Notification</a> that may help you update caches or notify processes of updates, this can be used together with the <a href=\"http://martinfowler.com/eaaCatalog/optimisticOfflineLock.html\" rel=\"nofollow\">Optimistic Offline Lock pattern</a>. </p>\n\n<p>See also <a href=\"http://en.wikipedia.org/wiki/Software_transactional_memory\" rel=\"nofollow\">Software transactional memory</a> </p>\n\n<p>Apache Zookeeper can also help you with distributed <a href=\"http://zookeeper.apache.org/doc/trunk/recipes.html#sc_recipes_twoPhasedCommit\" rel=\"nofollow\">locking</a>. </p>\n"}],"owner":{"account_id":563917,"reputation":301,"user_id":1809,"display_name":"Steven Dick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1657393415,"creation_date":1220541704,"question_id":44005,"body_markdown":"We have an existing C++ application that we are going to gradually replace with a new Java-based system.  Until we have completely reimplemented everything in Java we expect the C++ and Java to have to communicate with each other (RMI, SOAP, messaging, etc - we haven&#39;t decided).\r\n\r\nNow my manager thinks we&#39;ll need the Java and C++ sides to participate in the same Oracle DB transaction.  This is related to, but different from the usual distrbuted transaction problem of having a single process co-ordinate 2 transactional resources, such as a DB and a message queue.\r\n\r\nI think propagating a transaction across processes is a terrible idea from a performance and stability point-of-view, but I am still going to be asked for a solution.\r\n\r\nI am familiar with XA transactions and I&#39;ve done some work with the JBoss Transaction Manager, but my googling hasn&#39;t turned up anything good on propagating an XA transaction between 2 processes.\r\n\r\nWe are using Spring on the Java side and their documentation explicitly states they do not provide any help with transaction propagation.\r\n\r\nWe are not planning on using a traditional Java EE server (for example: IBM Websphere), which may have support for propagation (not that I can find any definitive documentation).\r\n\r\nAny help or pointers on solutions is greatly appreciated.","title":"Propagation of Oracle Transactions Between C++ and Java","body":"<p>We have an existing C++ application that we are going to gradually replace with a new Java-based system.  Until we have completely reimplemented everything in Java we expect the C++ and Java to have to communicate with each other (RMI, SOAP, messaging, etc - we haven't decided).</p>\n\n<p>Now my manager thinks we'll need the Java and C++ sides to participate in the same Oracle DB transaction.  This is related to, but different from the usual distrbuted transaction problem of having a single process co-ordinate 2 transactional resources, such as a DB and a message queue.</p>\n\n<p>I think propagating a transaction across processes is a terrible idea from a performance and stability point-of-view, but I am still going to be asked for a solution.</p>\n\n<p>I am familiar with XA transactions and I've done some work with the JBoss Transaction Manager, but my googling hasn't turned up anything good on propagating an XA transaction between 2 processes.</p>\n\n<p>We are using Spring on the Java side and their documentation explicitly states they do not provide any help with transaction propagation.</p>\n\n<p>We are not planning on using a traditional Java EE server (for example: IBM Websphere), which may have support for propagation (not that I can find any definitive documentation).</p>\n\n<p>Any help or pointers on solutions is greatly appreciated.</p>\n"},{"tags":["java","list","search","java-stream","case-insensitive"],"answers":[{"tags":[],"owner":{"account_id":1416429,"reputation":4267,"user_id":1342006,"accept_rate":79,"display_name":"JDC"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1493795255,"creation_date":1493795255,"answer_id":43753371,"question_id":43753292,"body_markdown":"You could use [toLowerCase()][1]:  \r\n    \r\n    u -&gt; u.name1.toLowerCase().contains(keyword.toLowerCase());\r\n\r\nThis way both values are in the same case and your search is case in-sensitive.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toLowerCase()","title":"Performing a case in-sensitive search on a java List using stream().filter()","body":"<p>You could use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toLowerCase()\" rel=\"noreferrer\">toLowerCase()</a>:  </p>\n\n<pre><code>u -&gt; u.name1.toLowerCase().contains(keyword.toLowerCase());\n</code></pre>\n\n<p>This way both values are in the same case and your search is case in-sensitive.</p>\n"},{"tags":[],"owner":{"account_id":8847129,"reputation":168,"user_id":6607559,"accept_rate":75,"display_name":"Terrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634800997,"creation_date":1634800997,"answer_id":69657582,"question_id":43753292,"body_markdown":"Sensitive character filtering can use DFA algorithm, refer to: https://programmer.help/blogs/sensitive-word-filtering-aop-annotation-dfa-algorithm.html","title":"Performing a case in-sensitive search on a java List using stream().filter()","body":"<p>Sensitive character filtering can use DFA algorithm, refer to: <a href=\"https://programmer.help/blogs/sensitive-word-filtering-aop-annotation-dfa-algorithm.html\" rel=\"nofollow noreferrer\">https://programmer.help/blogs/sensitive-word-filtering-aop-annotation-dfa-algorithm.html</a></p>\n"},{"tags":[],"owner":{"account_id":3033996,"reputation":1064,"user_id":2572505,"accept_rate":56,"display_name":"Dut A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657393370,"creation_date":1657393370,"answer_id":72923943,"question_id":43753292,"body_markdown":"To make use of the Appache Commons&#39; [StringUtils.containsIgnoreCase(str, searchStr)][1], do:\r\n\r\n    List&lt;License&gt; filteredList = licenseDealerList.stream()\r\n                                    .filter(u -&gt; StringUtils.containsIgnoreCase(u.name1, keyword)) // Don&#39;t forget the import statement for StringUtils.\r\n                                    .collect(Collectors.toList());\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsIgnoreCase-java.lang.CharSequence-java.lang.CharSequence-","title":"Performing a case in-sensitive search on a java List using stream().filter()","body":"<p>To make use of the Appache Commons' <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsIgnoreCase-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringUtils.containsIgnoreCase(str, searchStr)</a>, do:</p>\n<pre><code>List&lt;License&gt; filteredList = licenseDealerList.stream()\n                                .filter(u -&gt; StringUtils.containsIgnoreCase(u.name1, keyword)) // Don't forget the import statement for StringUtils.\n                                .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":7127420,"reputation":714,"user_id":5449889,"accept_rate":83,"display_name":"Elias Johannes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43753371,"answer_count":3,"score":2,"last_activity_date":1657393370,"creation_date":1493795040,"question_id":43753292,"body_markdown":"I&#39;m trying to perform an case in-sensitive search on a Java List using `stream().filter(...)`.\r\n\r\nMy search function works fine but i haven&#39;t managed to implement this to work without case sensitivity. My function looks something like this:\r\n\r\n    public static List&lt;License&gt; searchByEverything(String keyword, String dealerid){\r\n        List&lt;License&gt; licenseDealerList = getLicensesByDealer(dealerid);\r\n\r\n       // org.apache.commons.lang3.StringUtils.containsIgnoreCase(keyword);\r\n\r\n\r\n        Predicate&lt;License&gt; licensePredicate = u -&gt; u.name1.contains(keyword);\r\n        List&lt;License&gt; filteredList = licenseDealerList.stream().filter(licensePredicate).collect(Collectors.toList());\r\n        \r\n        return filteredList;\r\n    }\r\nAs you can see i tried to use the apache commons library but i don&#39;t get it how to include it in my `stream().filter(...)`. I researched some different methods but didn&#39;t really understand how to implement any of them into my method. In my case it&#39;s really important that the search is performed from a string value on the object values and that it returns an object. \r\n\r\nI know i could use something like `matchAny()` instead of `filter()` but i didn&#39;t understand how to return it as an object.\r\n\r\nThanks in advance","title":"Performing a case in-sensitive search on a java List using stream().filter()","body":"<p>I'm trying to perform an case in-sensitive search on a Java List using <code>stream().filter(...)</code>.</p>\n\n<p>My search function works fine but i haven't managed to implement this to work without case sensitivity. My function looks something like this:</p>\n\n<pre><code>public static List&lt;License&gt; searchByEverything(String keyword, String dealerid){\n    List&lt;License&gt; licenseDealerList = getLicensesByDealer(dealerid);\n\n   // org.apache.commons.lang3.StringUtils.containsIgnoreCase(keyword);\n\n\n    Predicate&lt;License&gt; licensePredicate = u -&gt; u.name1.contains(keyword);\n    List&lt;License&gt; filteredList = licenseDealerList.stream().filter(licensePredicate).collect(Collectors.toList());\n\n    return filteredList;\n}\n</code></pre>\n\n<p>As you can see i tried to use the apache commons library but i don't get it how to include it in my <code>stream().filter(...)</code>. I researched some different methods but didn't really understand how to implement any of them into my method. In my case it's really important that the search is performed from a string value on the object values and that it returns an object. </p>\n\n<p>I know i could use something like <code>matchAny()</code> instead of <code>filter()</code> but i didn't understand how to return it as an object.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android","xml","android-gradle-plugin","androidx"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":3,"creation_date":1568201556,"post_id":57888174,"comment_id":102198123,"body_markdown":"Because `implementation &#39;com.google.android.material:material:1.0.0&#39;` includes `CoordinatorLayout` no need to add other `dependencies` for `CoordinatorLayout`","body":"Because <code>implementation &#39;com.google.android.material:material:1.0.0&#39;</code> includes <code>CoordinatorLayout</code> no need to add other <code>dependencies</code> for <code>CoordinatorLayout</code>"}],"answers":[{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1568202001,"creation_date":1568201692,"answer_id":57888263,"question_id":57888174,"body_markdown":"&gt;I didn&#39;t added dependency for androidx CoordinatorLayoutLibrary but stil able to use it\r\n\r\n\r\nBecause you have added `implementation &#39;com.google.android.material:material:1.0.0&#39;`\r\n\r\nWhich includes `CoordinatorLayout` inside it\r\n\r\n No need to add other `dependencies` for `CoordinatorLayout` ","title":"I didn&#39;t added dependency for androidx CoordinatorLayout and RecyclerView Library but still able to use it","body":"<blockquote>\n  <p>I didn't added dependency for androidx CoordinatorLayoutLibrary but stil able to use it</p>\n</blockquote>\n\n<p>Because you have added <code>implementation 'com.google.android.material:material:1.0.0'</code></p>\n\n<p>Which includes <code>CoordinatorLayout</code> inside it</p>\n\n<p>No need to add other <code>dependencies</code> for <code>CoordinatorLayout</code> </p>\n"},{"tags":[],"owner":{"account_id":12552550,"reputation":1039,"user_id":9133569,"display_name":"M.Ed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657392175,"creation_date":1657392175,"answer_id":72923834,"question_id":57888174,"body_markdown":"`com.google.android.material` uses `androidx.recyclerview` and a plethora of other libraries as transitive dependencies, meaning you don&#39;t have to manually import them, adding the `com.google.android.material` dependency is enough.","title":"I didn&#39;t added dependency for androidx CoordinatorLayout and RecyclerView Library but still able to use it","body":"<p><code>com.google.android.material</code> uses <code>androidx.recyclerview</code> and a plethora of other libraries as transitive dependencies, meaning you don't have to manually import them, adding the <code>com.google.android.material</code> dependency is enough.</p>\n"}],"owner":{"account_id":13351566,"reputation":1172,"user_id":9636642,"display_name":"Vivek Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5429,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":57888263,"answer_count":2,"score":8,"last_activity_date":1657392175,"creation_date":1568201409,"question_id":57888174,"body_markdown":"In my project I never added this dependency\r\n\r\n`implementation androidx.coordinatorlayout:coordinatorlayout` but i am still able to use `androidx.coordinatorlayout.widget.CoordinatorLayout` in my `activity_main.xml`.  \r\n\r\nbuild.gradle\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.example.beats&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n\r\n        //Google material design\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    }\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:id=&quot;@+id/appbar&quot;\r\n            android:layout_height=&quot;192dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:toolbarId=&quot;@+id/toolbar&quot;\r\n                app:layout_scrollFlags=&quot;scroll|enterAlways|enterAlwaysCollapsed&quot;\r\n                app:contentScrim=&quot;?attr/colorPrimary&quot;&gt;\r\n    \r\n    \r\n                &lt;androidx.appcompat.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:layout_width=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n            &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nNow I don&#39;t understand how am I able to use the `CoordinatorLayout` in my layout without declaring specified dependency for it.\r\n\r\n","title":"I didn&#39;t added dependency for androidx CoordinatorLayout and RecyclerView Library but still able to use it","body":"<p>In my project I never added this dependency</p>\n\n<p><code>implementation androidx.coordinatorlayout:coordinatorlayout</code> but i am still able to use <code>androidx.coordinatorlayout.widget.CoordinatorLayout</code> in my <code>activity_main.xml</code>.  </p>\n\n<p>build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"com.example.beats\"\n        minSdkVersion 15\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n\n    //Google material design\n    implementation 'com.google.android.material:material:1.0.0'\n}\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=\"@+id/appbar\"\n        android:layout_height=\"192dp\"\n        android:layout_width=\"match_parent\"&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:toolbarId=\"@+id/toolbar\"\n            app:layout_scrollFlags=\"scroll|enterAlways|enterAlwaysCollapsed\"\n            app:contentScrim=\"?attr/colorPrimary\"&gt;\n\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:layout_width=\"match_parent\"&gt;\n\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>Now I don't understand how am I able to use the <code>CoordinatorLayout</code> in my layout without declaring specified dependency for it.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1657210281,"post_id":72900852,"comment_id":128762232,"body_markdown":"You&#39;ll need either a TypeToken (which can store the generic type info for you, a la `TypeToken&lt;Foo&lt;Bar&gt;&gt;`), or you&#39;ll need to send the generic paremeter as well e.g. `getRecord(Foo.class, Bar.class, 1);`. This is a limitation of java&#39;s generics. If you can provide a more concrete example, there may be alternative solutions.","body":"You&#39;ll need either a TypeToken (which can store the generic type info for you, a la <code>TypeToken&lt;Foo&lt;Bar&gt;&gt;</code>), or you&#39;ll need to send the generic paremeter as well e.g. <code>getRecord(Foo.class, Bar.class, 1);</code>. This is a limitation of java&#39;s generics. If you can provide a more concrete example, there may be alternative solutions."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":1,"creation_date":1657211098,"post_id":72900852,"comment_id":128762521,"body_markdown":"If you have an instance of this type you could cast it to the specific class: `(Class&lt;Foo&lt;Bar&gt;&gt;) foo.getClass();`. But note that depending on how you want to implement this, it might not be any use in your case.","body":"If you have an instance of this type you could cast it to the specific class: <code>(Class&lt;Foo&lt;Bar&gt;&gt;) foo.getClass();</code>. But note that depending on how you want to implement this, it might not be any use in your case."},{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":0,"creation_date":1657211708,"post_id":72900852,"comment_id":128762777,"body_markdown":"@Rogue the `TypeToken` is a nice example, which will need some factoring but will consider this. I edited the question with a second more complex example.","body":"@Rogue the <code>TypeToken</code> is a nice example, which will need some factoring but will consider this. I edited the question with a second more complex example."},{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":0,"creation_date":1657295241,"post_id":72900852,"comment_id":128784149,"body_markdown":"@Rogue I enhanced my example and using the `TypeToken` does not work cause in my `EntityDAO` i still pass the type as an argument to the constructor so the token just delegates the problem. The moment i need the class as a &quot;variable&quot; i am stuck.","body":"@Rogue I enhanced my example and using the <code>TypeToken</code> does not work cause in my <code>EntityDAO</code> i still pass the type as an argument to the constructor so the token just delegates the problem. The moment i need the class as a &quot;variable&quot; i am stuck."},{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":1,"creation_date":1657389348,"post_id":72900852,"comment_id":128800877,"body_markdown":"@Japhei your first comment was correct answer and it works so you can add it as an answer. At runtime the `&lt;Bar&gt;` information is lost but it does not matter cause i only need the main `Foo` entity to access database entity table. Just for cleaner code i need `Foo&lt;Bar&gt;`. A alternate solution is to add constructor `public &lt;V extends T&gt; EntityDAO(Class&lt;V&gt; type)` and do casting inside and just pass `Foo.class`. I removed my comments.","body":"@Japhei your first comment was correct answer and it works so you can add it as an answer. At runtime the <code>&lt;Bar&gt;</code> information is lost but it does not matter cause i only need the main <code>Foo</code> entity to access database entity table. Just for cleaner code i need <code>Foo&lt;Bar&gt;</code>. A alternate solution is to add constructor <code>public &lt;V extends T&gt; EntityDAO(Class&lt;V&gt; type)</code> and do casting inside and just pass <code>Foo.class</code>. I removed my comments."}],"answers":[{"tags":[],"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657389686,"creation_date":1657389686,"answer_id":72923592,"question_id":72900852,"body_markdown":"With any workaround using `Class&lt;Foo&lt;Bar&gt;&gt; type;` as a variable the `&lt;Bar&gt;` is lost at runtime but still we can achieve the `EntityDAO` class to be as generic to support `Foo&lt;Bar&gt;` for easier code allow type to extend `T` inside the constructor / method and cast like:\r\n\r\n \t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic &lt;V extends T&gt; TestDAO(final Class&lt;V&gt; type)\r\n\t{\r\n\t\tthis.type = (Class&lt;T&gt;) type;\r\n\t}\r\n\r\nThen use it:\r\n\r\n\tvoid static main(String[] args)\r\n\t{\r\n\t\t// &lt;Bar&gt; information lost at runtime but not important\r\n    \tEntityDAO&lt;Foo&lt;Bar&gt;&gt; fooBarDAO = new EntityDAO&lt;&gt;(Foo.class);\r\n\r\n\t\t// dao perfectly generic for Foo&lt;Bar&gt;\r\n    \tFoo&lt;Bar&gt; entity = fooBarDAO.get(1);\r\n\t}\r\n\r\nThis way we can use it without a dummy instance as @Japhei stated in his comment (which works with the original code) but not always a dummy instance is easy to create or available.\r\n\r\n","title":"Pass class type as argument with subtype","body":"<p>With any workaround using <code>Class&lt;Foo&lt;Bar&gt;&gt; type;</code> as a variable the <code>&lt;Bar&gt;</code> is lost at runtime but still we can achieve the <code>EntityDAO</code> class to be as generic to support <code>Foo&lt;Bar&gt;</code> for easier code allow type to extend <code>T</code> inside the constructor / method and cast like:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic &lt;V extends T&gt; TestDAO(final Class&lt;V&gt; type)\n{\n    this.type = (Class&lt;T&gt;) type;\n}\n</code></pre>\n<p>Then use it:</p>\n<pre><code>void static main(String[] args)\n{\n    // &lt;Bar&gt; information lost at runtime but not important\n    EntityDAO&lt;Foo&lt;Bar&gt;&gt; fooBarDAO = new EntityDAO&lt;&gt;(Foo.class);\n\n    // dao perfectly generic for Foo&lt;Bar&gt;\n    Foo&lt;Bar&gt; entity = fooBarDAO.get(1);\n}\n</code></pre>\n<p>This way we can use it without a dummy instance as @Japhei stated in his comment (which works with the original code) but not always a dummy instance is easy to create or available.</p>\n"},{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657392082,"creation_date":1657392082,"answer_id":72923826,"question_id":72900852,"body_markdown":"If you have an instance of this type you could cast it to the specific class:\r\n\r\n    Foo&lt;Bar&gt; foo = new Foo&lt;&gt;();\r\n    type = (Class&lt;Foo&lt;Bar&gt;&gt;) foo.getClass();","title":"Pass class type as argument with subtype","body":"<p>If you have an instance of this type you could cast it to the specific class:</p>\n<pre><code>Foo&lt;Bar&gt; foo = new Foo&lt;&gt;();\ntype = (Class&lt;Foo&lt;Bar&gt;&gt;) foo.getClass();\n</code></pre>\n"}],"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72923826,"answer_count":2,"score":1,"last_activity_date":1657392082,"creation_date":1657209161,"question_id":72900852,"body_markdown":"How can i create an instance of the given generic type class with a subtype `Class&lt;Foo&lt;Bar&gt;&gt; type = ?`?\r\n\r\nIts easy for simple generic such as: `Class&lt;Foo&gt; type = Foo.class;` but how to do this here?\r\n\r\n\r\n\tfinal Class&lt;Foo&lt;Bar&gt;&gt; type = null; // ???\r\n\r\nWe cannot do something like `Foo&lt;Bar&gt;.class` which is possible in c# as far as i know.\r\n\r\nI want to use this type in a generic function which works for all simple generics but not if nested.\r\n\r\n\tFoo&lt;Bar&gt; fooBar = getRecord(type, 1);\r\n\r\n\tstatic T get(Class&lt;T&gt; type, int id)\r\n\t{\r\n\t\t// load from database\r\n\t\treturn session.get(type, id);\r\n\t}\r\n\r\n**Complex example**\r\n\r\nThe production example is more complex having a DAO class with many methods that rely on the generic type.\r\n\r\n\tinterface Entity {}\r\n\tclass Foo&lt;T extends Entity&gt; extends Entity {}\r\n\tclass Bar extends Entity {}\r\n\r\n\tclass EntityDAO&lt;T extends Entity&gt; \r\n\t{\r\n\t\tClass&lt;T&gt; type;\r\n\t\tSession session;\r\n\r\n\t\tpublic EntityDAO(Class&lt;T&gt; type)\r\n\t\t{\r\n\t\t\tthis.type = type;\r\n\t\t}\r\n\r\n\t\tpublic T get(int id)\r\n\t\t{\r\n\t\t\treturn session.get(type, id);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class TestSession\r\n\t{\r\n\t\tpublic &lt;T&gt; T get(final Class&lt;T&gt; type, final int id)\r\n\t\t{\r\n\t\t\tObjects.requireNonNull(type);\r\n\t\t\treturn null;\r\n\t\t}\r\n}\r\n\r\n\t\r\n\tvoid static main(String[] args)\r\n\t{\r\n\t\tfinal Class&lt;Foo&lt;Bar&gt;&gt; type = null; \r\n\r\n\t\t// how to set type here?\r\n\t\tEntityDAO&lt;Foo&lt;Bar&gt;&gt; fooBarDAO = new EntityDAO&lt;&gt;(type);\r\n\t\r\n\t\tFoo&lt;Bar&gt; entity = fooBarDAO.get(1);\r\n\r\n\t}\r\n\t\r\nCurrently i am just using the main type `Foo.class` loosing the `Bar.class` information for the DAO.","title":"Pass class type as argument with subtype","body":"<p>How can i create an instance of the given generic type class with a subtype <code>Class&lt;Foo&lt;Bar&gt;&gt; type = ?</code>?</p>\n<p>Its easy for simple generic such as: <code>Class&lt;Foo&gt; type = Foo.class;</code> but how to do this here?</p>\n<pre><code>final Class&lt;Foo&lt;Bar&gt;&gt; type = null; // ???\n</code></pre>\n<p>We cannot do something like <code>Foo&lt;Bar&gt;.class</code> which is possible in c# as far as i know.</p>\n<p>I want to use this type in a generic function which works for all simple generics but not if nested.</p>\n<pre><code>Foo&lt;Bar&gt; fooBar = getRecord(type, 1);\n\nstatic T get(Class&lt;T&gt; type, int id)\n{\n    // load from database\n    return session.get(type, id);\n}\n</code></pre>\n<p><strong>Complex example</strong></p>\n<p>The production example is more complex having a DAO class with many methods that rely on the generic type.</p>\n<pre><code>interface Entity {}\nclass Foo&lt;T extends Entity&gt; extends Entity {}\nclass Bar extends Entity {}\n\nclass EntityDAO&lt;T extends Entity&gt; \n{\n    Class&lt;T&gt; type;\n    Session session;\n\n    public EntityDAO(Class&lt;T&gt; type)\n    {\n        this.type = type;\n    }\n\n    public T get(int id)\n    {\n        return session.get(type, id);\n    }\n}\n\npublic class TestSession\n{\n    public &lt;T&gt; T get(final Class&lt;T&gt; type, final int id)\n    {\n        Objects.requireNonNull(type);\n        return null;\n    }\n</code></pre>\n<p>}</p>\n<pre><code>void static main(String[] args)\n{\n    final Class&lt;Foo&lt;Bar&gt;&gt; type = null; \n\n    // how to set type here?\n    EntityDAO&lt;Foo&lt;Bar&gt;&gt; fooBarDAO = new EntityDAO&lt;&gt;(type);\n\n    Foo&lt;Bar&gt; entity = fooBarDAO.get(1);\n\n}\n</code></pre>\n<p>Currently i am just using the main type <code>Foo.class</code> loosing the <code>Bar.class</code> information for the DAO.</p>\n"},{"tags":["java","spring-boot","azure","yaml","app.yaml"],"answers":[{"tags":[],"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657390594,"creation_date":1657390594,"answer_id":72923676,"question_id":70335186,"body_markdown":"According to [this answer][1], it supports this notation which is called Placeholder property:\r\n\r\n```yml\r\nspring: \r\n   profiles: \r\n     active: ${APP_PROFILE:test}\r\n# ... #\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43279822/12096922","title":"application.yaml file setting field with OR condition (Providing default value)","body":"<p>According to <a href=\"https://stackoverflow.com/a/43279822/12096922\">this answer</a>, it supports this notation which is called Placeholder property:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring: \n   profiles: \n     active: ${APP_PROFILE:test}\n# ... #\n</code></pre>\n"}],"owner":{"account_id":7124319,"reputation":175,"user_id":5447760,"display_name":"Vinayaka S P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657390594,"creation_date":1639400941,"question_id":70335186,"body_markdown":"There is a Java SpringBoot application, with an application.yaml file where all the properties are configured. some of the fields are configured to read from the deployment.yaml file st eince we use different environments, and the values for these fields changes. However I wan&#39;t to define a field which will consider the value from deployment.yaml file if it is present, else it should take the default value given.\r\n\r\nSomething like this:\r\n\r\n    root:\r\n      some-sub-level:\r\n        some-key: ${VALUE_FROM_DEPLOYMENT_YAML:${default.level.value}}\r\n\r\n    default:\r\n      level:\r\n        value: some-default-value\r\n\r\nI tried several ways and couldn&#39;t succeed. It takes blank value since VALUE_FROM_DEPLOYMENT_YAML will be null in one particular environment. \r\n\r\nPS: I&#39;m aware of adding default value in Java code like with `@Value(&quot;${value.from.application.yaml:&quot;some default value&quot;}`, but I&#39;m not interested in this. The requirement is not to read this in Java code but it will be a configuration for Azure Application Insight.\r\n\r\nCould anyone help me what I&#39;m missing here","title":"application.yaml file setting field with OR condition (Providing default value)","body":"<p>There is a Java SpringBoot application, with an application.yaml file where all the properties are configured. some of the fields are configured to read from the deployment.yaml file st eince we use different environments, and the values for these fields changes. However I wan't to define a field which will consider the value from deployment.yaml file if it is present, else it should take the default value given.</p>\n<p>Something like this:</p>\n<pre><code>root:\n  some-sub-level:\n    some-key: ${VALUE_FROM_DEPLOYMENT_YAML:${default.level.value}}\n\ndefault:\n  level:\n    value: some-default-value\n</code></pre>\n<p>I tried several ways and couldn't succeed. It takes blank value since VALUE_FROM_DEPLOYMENT_YAML will be null in one particular environment.</p>\n<p>PS: I'm aware of adding default value in Java code like with <code>@Value(&quot;${value.from.application.yaml:&quot;some default value&quot;}</code>, but I'm not interested in this. The requirement is not to read this in Java code but it will be a configuration for Azure Application Insight.</p>\n<p>Could anyone help me what I'm missing here</p>\n"},{"tags":["java","image","opencv"],"answers":[{"tags":[],"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657390401,"creation_date":1657390203,"answer_id":72923643,"question_id":72923114,"body_markdown":"If those light stripes in the background are your concern, this might help you (otherwise I misunderstood your question). It takes color samples throughout the image (always skipping 8 pixels for performance, you can increase/decrease this).\r\nIf figures out the lightest and darkest color and replaces every pixel with the closer of those two colors.\r\n\r\nThis is not an opencv solution, but i hope it still works for you.\r\n(Of course you still need to insert the correct paths into the new File() expressions.)\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        File imageFile = new File();\r\n        File outputFile = new File();\r\n        \r\n        BufferedImage image = ImageIO.read(imageFile);\r\n        removeScales(image, outputFile);\r\n    }\r\n\r\n    private static void removeScales(BufferedImage image, File imageFile) throws IOException {\r\n        Color lightest = Color.BLACK;\r\n        Color darkest = Color.WHITE;\r\n\r\n        for (int x = 0; x &lt; image.getWidth(); x += 8) {\r\n            for (int y = 0; y &lt; image.getHeight(); y += 8) {\r\n                Color color = new Color(image.getRGB(x, y));\r\n\r\n                if (isDarker(color, darkest)) darkest = color;\r\n                if (isLighter(color, lightest)) lightest = color;\r\n            }\r\n        }\r\n\r\n        for (int x = 0; x &lt; image.getWidth(); x++) {\r\n            for (int y = 0; y &lt; image.getHeight(); y++) {\r\n                Color color = new Color(image.getRGB(x, y));\r\n\r\n                if (differenceSquared(color, lightest) &lt; differenceSquared(color, darkest)) {\r\n                    image.setRGB(x, y, lightest.getRGB());\r\n                } else {\r\n                    image.setRGB(x, y, darkest.getRGB());\r\n                }\r\n            }\r\n        }\r\n        ImageIO.write(image, &quot;png&quot;, imageFile);\r\n    }\r\n\r\n    private static boolean isLighter(Color color, Color lightest) {\r\n        return (\r\n                (color.getRed() + color.getGreen() + color.getBlue())\r\n                        &gt; (lightest.getRed() + lightest.getGreen() + lightest.getBlue())\r\n        );\r\n    }\r\n\r\n    private static boolean isDarker(Color color, Color darkest) {\r\n        return (\r\n                (color.getRed() + color.getGreen() + color.getBlue())\r\n                        &lt; (darkest.getRed() + darkest.getGreen() + darkest.getBlue())\r\n        );\r\n    }\r\n\r\n    private static double differenceSquared(Color a, Color b) {\r\n        return Math.pow(a.getRed() - b.getRed(), 2)\r\n                + Math.pow(a.getGreen() - b.getGreen(), 2)\r\n                + Math.pow(a.getBlue() - b.getBlue(), 2);\r\n    }\r\n\r\nThis is the output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHope it helps!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k6SQb.png","title":"Removing scales in a picture","body":"<p>If those light stripes in the background are your concern, this might help you (otherwise I misunderstood your question). It takes color samples throughout the image (always skipping 8 pixels for performance, you can increase/decrease this).\nIf figures out the lightest and darkest color and replaces every pixel with the closer of those two colors.</p>\n<p>This is not an opencv solution, but i hope it still works for you.\n(Of course you still need to insert the correct paths into the new File() expressions.)</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File imageFile = new File();\n    File outputFile = new File();\n    \n    BufferedImage image = ImageIO.read(imageFile);\n    removeScales(image, outputFile);\n}\n\nprivate static void removeScales(BufferedImage image, File imageFile) throws IOException {\n    Color lightest = Color.BLACK;\n    Color darkest = Color.WHITE;\n\n    for (int x = 0; x &lt; image.getWidth(); x += 8) {\n        for (int y = 0; y &lt; image.getHeight(); y += 8) {\n            Color color = new Color(image.getRGB(x, y));\n\n            if (isDarker(color, darkest)) darkest = color;\n            if (isLighter(color, lightest)) lightest = color;\n        }\n    }\n\n    for (int x = 0; x &lt; image.getWidth(); x++) {\n        for (int y = 0; y &lt; image.getHeight(); y++) {\n            Color color = new Color(image.getRGB(x, y));\n\n            if (differenceSquared(color, lightest) &lt; differenceSquared(color, darkest)) {\n                image.setRGB(x, y, lightest.getRGB());\n            } else {\n                image.setRGB(x, y, darkest.getRGB());\n            }\n        }\n    }\n    ImageIO.write(image, &quot;png&quot;, imageFile);\n}\n\nprivate static boolean isLighter(Color color, Color lightest) {\n    return (\n            (color.getRed() + color.getGreen() + color.getBlue())\n                    &gt; (lightest.getRed() + lightest.getGreen() + lightest.getBlue())\n    );\n}\n\nprivate static boolean isDarker(Color color, Color darkest) {\n    return (\n            (color.getRed() + color.getGreen() + color.getBlue())\n                    &lt; (darkest.getRed() + darkest.getGreen() + darkest.getBlue())\n    );\n}\n\nprivate static double differenceSquared(Color a, Color b) {\n    return Math.pow(a.getRed() - b.getRed(), 2)\n            + Math.pow(a.getGreen() - b.getGreen(), 2)\n            + Math.pow(a.getBlue() - b.getBlue(), 2);\n}\n</code></pre>\n<p>This is the output:</p>\n<p><a href=\"https://i.stack.imgur.com/k6SQb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6SQb.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":11808254,"reputation":37,"user_id":8640260,"display_name":"rich25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1657390308,"accepted_answer_id":72923643,"answer_count":1,"score":0,"last_activity_date":1657390401,"creation_date":1657384880,"question_id":72923114,"body_markdown":"[![number image][1]][1]\r\n\r\nI have attached the picture. On the picture there are these numbers 2.06x and the picture also has white scales.\r\n\r\nI like to know, using java how can I remove the white scales an have the numbers only left in a picture with no white scales? Even if the background is removed, it would be fine. \r\n\r\nI don&#39;t mind an opencv java suggestion.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jPLeU.png","title":"Removing scales in a picture","body":"<p><a href=\"https://i.stack.imgur.com/jPLeU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jPLeU.png\" alt=\"number image\" /></a></p>\n<p>I have attached the picture. On the picture there are these numbers 2.06x and the picture also has white scales.</p>\n<p>I like to know, using java how can I remove the white scales an have the numbers only left in a picture with no white scales? Even if the background is removed, it would be fine.</p>\n<p>I don't mind an opencv java suggestion.</p>\n"},{"tags":["java","android-studio","ocr","tesseract"],"owner":{"account_id":25690085,"reputation":3,"user_id":19451631,"display_name":"Wong Capricornus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657390056,"creation_date":1657390056,"question_id":72923628,"body_markdown":"I have created an OCR based on Tesseract using a tutorial from https://www.codeproject.com/Articles/1275580/Android-OCR-Application-Based-on-Tesseract. I have created the code below. However, the app seems to be only able to recognize when there are only a few texts in the picture. \r\n([app result from short text][1],[The short text][2])                 \r\nWhen there is a paragraph, the OCR cannot recognize anything. ([app result based on paragraph][3], [The paragraph][4])                           \r\n\r\nMay I ask why is that and is there any fix to it? Also, is there a way to improve the accuracy of the OCR? Thank you very much!\r\n\r\n      @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        imageView = findViewById(R.id.imageView);\r\n        button = findViewById(R.id.Camera);\r\n        textView =findViewById(R.id.textView);\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                askCameraPermission();\r\n            }\r\n        });\r\n\r\n        String language = &quot;eng&quot;;\r\n        mTessOCR = new TesseractOCR(this, language);\r\n\r\n    }\r\n\r\n    private void askCameraPermission() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, 100);\r\n        } else {\r\n            openCamera();\r\n        }\r\n    }\r\n\r\n    private void openCamera() {\r\n        Intent camera = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        startActivityForResult(camera, 101);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 100) {\r\n            if (grantResults.length &lt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                openCamera();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode==101){\r\n            Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n            doOCR(image);\r\n        }\r\n    }\r\n\r\n    private void doOCR(final Bitmap bitmap) {\r\n        if (mProgressDialog == null) {\r\n            mProgressDialog = ProgressDialog.show(this, &quot;Processing&quot;,\r\n                    &quot;Doing OCR...&quot;, true);\r\n        } else {\r\n            mProgressDialog.show();\r\n        }\r\n        new Thread(new Runnable() {\r\n            public void run() {\r\n                final String srcText = mTessOCR.getOCRResult(bitmap);\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n\r\n                        if (srcText != null &amp;&amp; !srcText.equals(&quot;&quot;)) {\r\n                            textView.setText(srcText);\r\n                        }\r\n                        mProgressDialog.dismiss();\r\n                    }\r\n                });\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n\r\n\r\n    public class TesseractOCR {\r\n\r\n    private final TessBaseAPI mTess;\r\n\r\n    public TesseractOCR(Context context, String language) {\r\n        mTess = new TessBaseAPI();\r\n        boolean fileExistFlag = false;\r\n\r\n        AssetManager assetManager = context.getAssets();\r\n\r\n        String dstPathDir = &quot;/tesseract/tessdata/&quot;;\r\n\r\n        String srcFile = &quot;eng.traineddata&quot;;\r\n        InputStream inFile = null;\r\n\r\n        dstPathDir = context.getFilesDir() + dstPathDir;\r\n        String dstInitPathDir = context.getFilesDir() + &quot;/tesseract&quot;;\r\n        String dstPathFile = dstPathDir + srcFile;\r\n        FileOutputStream outFile = null;\r\n\r\n        try {\r\n            inFile = assetManager.open(srcFile);\r\n\r\n            File f = new File(dstPathDir);\r\n\r\n            if (!f.exists()) {\r\n                if (!f.mkdirs()) {\r\n                    Toast.makeText(context, srcFile + &quot; can&#39;t be created.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                outFile = new FileOutputStream(new File(dstPathFile));\r\n            } else {\r\n                fileExistFlag = true;\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            Log.e(TAG, ex.getMessage());\r\n\r\n        } finally {\r\n\r\n            if (fileExistFlag) {\r\n                try {\r\n                    if (inFile != null) inFile.close();\r\n                    mTess.init(dstInitPathDir, language);\r\n                    return;\r\n\r\n                } catch (Exception ex) {\r\n                    Log.e(TAG, ex.getMessage());\r\n                }\r\n            }\r\n\r\n            if (inFile != null &amp;&amp; outFile != null) {\r\n                try {\r\n                    //copy file\r\n                    byte[] buf = new byte[1024];\r\n                    int len;\r\n                    while ((len = inFile.read(buf)) != -1) {\r\n                        outFile.write(buf, 0, len);\r\n                    }\r\n                    inFile.close();\r\n                    outFile.close();\r\n                    mTess.init(dstInitPathDir, language);\r\n                } catch (Exception ex) {\r\n                    Log.e(TAG, ex.getMessage());\r\n                }\r\n            } else {\r\n                Toast.makeText(context, srcFile + &quot; can&#39;t be read.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    public String getOCRResult(Bitmap bitmap) {\r\n        mTess.setImage(bitmap);\r\n        return mTess.getUTF8Text();\r\n    }\r\n\r\n    public void onDestroy() {\r\n        if (mTess != null) mTess.end();\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RJAYH.png\r\n  [2]: https://i.stack.imgur.com/FOARv.png\r\n  [3]: https://i.stack.imgur.com/WcRnr.png\r\n  [4]: https://i.stack.imgur.com/1cEZO.png","title":"Difficulties in recognizing long text using Tesseract OCR in android studio","body":"<p>I have created an OCR based on Tesseract using a tutorial from <a href=\"https://www.codeproject.com/Articles/1275580/Android-OCR-Application-Based-on-Tesseract\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/1275580/Android-OCR-Application-Based-on-Tesseract</a>. I have created the code below. However, the app seems to be only able to recognize when there are only a few texts in the picture.\n(<a href=\"https://i.stack.imgur.com/RJAYH.png\" rel=\"nofollow noreferrer\">app result from short text</a>,<a href=\"https://i.stack.imgur.com/FOARv.png\" rel=\"nofollow noreferrer\">The short text</a>)<br />\nWhen there is a paragraph, the OCR cannot recognize anything. (<a href=\"https://i.stack.imgur.com/WcRnr.png\" rel=\"nofollow noreferrer\">app result based on paragraph</a>, <a href=\"https://i.stack.imgur.com/1cEZO.png\" rel=\"nofollow noreferrer\">The paragraph</a>)</p>\n<p>May I ask why is that and is there any fix to it? Also, is there a way to improve the accuracy of the OCR? Thank you very much!</p>\n<pre><code>  @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    imageView = findViewById(R.id.imageView);\n    button = findViewById(R.id.Camera);\n    textView =findViewById(R.id.textView);\n\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            askCameraPermission();\n        }\n    });\n\n    String language = &quot;eng&quot;;\n    mTessOCR = new TesseractOCR(this, language);\n\n}\n\nprivate void askCameraPermission() {\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, 100);\n    } else {\n        openCamera();\n    }\n}\n\nprivate void openCamera() {\n    Intent camera = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    startActivityForResult(camera, 101);\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 100) {\n        if (grantResults.length &lt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            openCamera();\n        }\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if(requestCode==101){\n        Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\n        doOCR(image);\n    }\n}\n\nprivate void doOCR(final Bitmap bitmap) {\n    if (mProgressDialog == null) {\n        mProgressDialog = ProgressDialog.show(this, &quot;Processing&quot;,\n                &quot;Doing OCR...&quot;, true);\n    } else {\n        mProgressDialog.show();\n    }\n    new Thread(new Runnable() {\n        public void run() {\n            final String srcText = mTessOCR.getOCRResult(bitmap);\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n\n                    if (srcText != null &amp;&amp; !srcText.equals(&quot;&quot;)) {\n                        textView.setText(srcText);\n                    }\n                    mProgressDialog.dismiss();\n                }\n            });\n        }\n    }).start();\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class TesseractOCR {\n\nprivate final TessBaseAPI mTess;\n\npublic TesseractOCR(Context context, String language) {\n    mTess = new TessBaseAPI();\n    boolean fileExistFlag = false;\n\n    AssetManager assetManager = context.getAssets();\n\n    String dstPathDir = &quot;/tesseract/tessdata/&quot;;\n\n    String srcFile = &quot;eng.traineddata&quot;;\n    InputStream inFile = null;\n\n    dstPathDir = context.getFilesDir() + dstPathDir;\n    String dstInitPathDir = context.getFilesDir() + &quot;/tesseract&quot;;\n    String dstPathFile = dstPathDir + srcFile;\n    FileOutputStream outFile = null;\n\n    try {\n        inFile = assetManager.open(srcFile);\n\n        File f = new File(dstPathDir);\n\n        if (!f.exists()) {\n            if (!f.mkdirs()) {\n                Toast.makeText(context, srcFile + &quot; can't be created.&quot;, Toast.LENGTH_SHORT).show();\n            }\n            outFile = new FileOutputStream(new File(dstPathFile));\n        } else {\n            fileExistFlag = true;\n        }\n\n    } catch (Exception ex) {\n        Log.e(TAG, ex.getMessage());\n\n    } finally {\n\n        if (fileExistFlag) {\n            try {\n                if (inFile != null) inFile.close();\n                mTess.init(dstInitPathDir, language);\n                return;\n\n            } catch (Exception ex) {\n                Log.e(TAG, ex.getMessage());\n            }\n        }\n\n        if (inFile != null &amp;&amp; outFile != null) {\n            try {\n                //copy file\n                byte[] buf = new byte[1024];\n                int len;\n                while ((len = inFile.read(buf)) != -1) {\n                    outFile.write(buf, 0, len);\n                }\n                inFile.close();\n                outFile.close();\n                mTess.init(dstInitPathDir, language);\n            } catch (Exception ex) {\n                Log.e(TAG, ex.getMessage());\n            }\n        } else {\n            Toast.makeText(context, srcFile + &quot; can't be read.&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\npublic String getOCRResult(Bitmap bitmap) {\n    mTess.setImage(bitmap);\n    return mTess.getUTF8Text();\n}\n\npublic void onDestroy() {\n    if (mTess != null) mTess.end();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["javascript","java","jgrasp"],"comments":[{"owner":{"account_id":8456572,"reputation":31,"user_id":6343630,"display_name":"ali_h"},"score":0,"creation_date":1465247927,"post_id":37667017,"comment_id":62812379,"body_markdown":"I meant actual code not actually","body":"I meant actual code not actually"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1615755908,"post_id":37667017,"comment_id":117783755,"body_markdown":"Then you should edit your question to change the word, if you want. Changing it in a comment doesn&#39;t do much.","body":"Then you should edit your question to change the word, if you want. Changing it in a comment doesn&#39;t do much."}],"answers":[{"tags":[],"owner":{"account_id":8585711,"reputation":1,"user_id":6431929,"display_name":"M.Land"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465248201,"creation_date":1465248201,"answer_id":37667098,"question_id":37667017,"body_markdown":"I have never used jGrasp, but try using the control key while scrolling, this keyboard shortcut works for most text editors.","title":"How do you zoom in and out in jgrasp for the code","body":"<p>I have never used jGrasp, but try using the control key while scrolling, this keyboard shortcut works for most text editors.</p>\n"},{"tags":[],"owner":{"account_id":3453934,"reputation":139,"user_id":2892852,"display_name":"Larry Barowski"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1465327282,"creation_date":1465327282,"answer_id":37687637,"question_id":37667017,"body_markdown":"For now you can use Ctrl-plus and Ctrl-minus to scale everything. For a single editing window you&#39;ll need to go to &quot;Settings&quot; &gt; &quot;CSD Window Settings&quot; &gt; &quot;File&quot; and the &quot;Font Size&quot; tab.\r\n\r\nZoom using Ctrl-wheel and trackpad pinch will be in our next release. There will probably be an alpha out in a few weeks.","title":"How do you zoom in and out in jgrasp for the code","body":"<p>For now you can use Ctrl-plus and Ctrl-minus to scale everything. For a single editing window you'll need to go to \"Settings\" > \"CSD Window Settings\" > \"File\" and the \"Font Size\" tab.</p>\n\n<p>Zoom using Ctrl-wheel and trackpad pinch will be in our next release. There will probably be an alpha out in a few weeks.</p>\n"}],"owner":{"account_id":8456572,"reputation":31,"user_id":6343630,"display_name":"ali_h"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9046,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657389750,"creation_date":1465247796,"question_id":37667017,"body_markdown":"How exactly do you zoom in and out for the actualy code in jGrasp. I&#39;ve tried searching it up but couldn&#39;t find anything.","title":"How do you zoom in and out in jgrasp for the code","body":"<p>How exactly do you zoom in and out for the actualy code in jGrasp. I've tried searching it up but couldn't find anything.</p>\n"},{"tags":["java","junit","mocking","easymock","powermock"],"answers":[{"tags":[],"owner":{"account_id":3541654,"reputation":115,"user_id":2958567,"display_name":"Terry Zhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384103368,"creation_date":1384099848,"answer_id":19891913,"question_id":19891659,"body_markdown":"I think you need to difine the class like this:\r\n\r\n    public class EnclosingClass {\r\n    \r\n        private static class InnerClass implements InnerClassType {\r\n            public InnerClass() { /* do stuff */\r\n            }\r\n    \r\n            public int innerClassMethod() {\r\n                return 0;\r\n            }\r\n        }\r\n    }\r\n\r\nIn your definition the InnerClass should belowed to an instance of EnclosingClass. When you are not using reflection, please try out what will going on if you want to instance a InnerClass.\r\n\r\nYou can get the constructor directly. And passing in an instance of EnclosingClass like this:\r\n\r\n    public void testMethod() throws Exception {\r\n            /* Initialization */\r\n    \r\n            /* Mock Setup */\r\n            Class clazz = Whitebox.getInnerClassType(EnclosingClass.class,\r\n                    &quot;InnerClass&quot;);\r\n    \r\n            Constructor[] constructors = clazz.getConstructors();\r\n            Constructor c  = constructors[0];\r\n    //        c.setAccessible(true);\r\n            InnerClassType innerClass = (InnerClassType) c\r\n                    .newInstance(new EnclosingClass());\r\n        \t\r\n            /* Activate the Mocks */\r\n            PowerMock.replayAll();\r\n    \r\n            /* Test Method */\r\n    \r\n            /* Asserts */\r\n            PowerMock.verifyAll();\r\n    \r\n        }","title":"How to mock a non-static private inner java class with PowerMock and EasyMock?","body":"<p>I think you need to difine the class like this:</p>\n\n<pre><code>public class EnclosingClass {\n\n    private static class InnerClass implements InnerClassType {\n        public InnerClass() { /* do stuff */\n        }\n\n        public int innerClassMethod() {\n            return 0;\n        }\n    }\n}\n</code></pre>\n\n<p>In your definition the InnerClass should belowed to an instance of EnclosingClass. When you are not using reflection, please try out what will going on if you want to instance a InnerClass.</p>\n\n<p>You can get the constructor directly. And passing in an instance of EnclosingClass like this:</p>\n\n<pre><code>public void testMethod() throws Exception {\n        /* Initialization */\n\n        /* Mock Setup */\n        Class clazz = Whitebox.getInnerClassType(EnclosingClass.class,\n                \"InnerClass\");\n\n        Constructor[] constructors = clazz.getConstructors();\n        Constructor c  = constructors[0];\n//        c.setAccessible(true);\n        InnerClassType innerClass = (InnerClassType) c\n                .newInstance(new EnclosingClass());\n\n        /* Activate the Mocks */\n        PowerMock.replayAll();\n\n        /* Test Method */\n\n        /* Asserts */\n        PowerMock.verifyAll();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":3549742,"reputation":4749,"user_id":2964890,"accept_rate":72,"display_name":"javaPlease42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7536,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657389750,"creation_date":1384098359,"question_id":19891659,"body_markdown":"This [StackOverflowAnswer](https://stackoverflow.com/a/13242502/2964890) didn&#39;t work for me so I recreated the question.\r\n\r\nHow do I resolve this exception (_powermock.reflect.exceptions.ConstructorNotFoundException_) by only modifying the testClass (_EnclosingClassTest.java_) and not the implementation (_EnclosingClass.java_, _InnerClassType.java_)? \r\n\r\n**Requirements:**\r\n \r\n\r\n - Mock a non-static private inner java class with PowerMock and EasyMock. \r\n\r\n**EnclosingClassTest.java :**\r\n\t\r\n    import java.lang.reflect.Constructor;\r\n\t\r\n\timport org.junit.Test;\r\n\timport org.junit.runner.RunWith;\r\n\timport org.powermock.api.easymock.PowerMock;\r\n\timport org.powermock.core.classloader.annotations.PrepareForTest;\r\n\timport org.powermock.modules.junit4.PowerMockRunner;\r\n\timport org.powermock.reflect.Whitebox;\r\n\t\r\n\t@RunWith(PowerMockRunner.class)\r\n\t@PrepareForTest({ EnclosingClass.class })\r\n\tpublic class EnclosingClassTest {\r\n\t\r\n\t\tEnclosingClass cut;\r\n\t\r\n\t\t@Test\r\n\t\tpublic void testMethod() throws Exception {\r\n\t\t\t/* Initialization */\r\n\t\r\n\t\t\t/* Mock Setup */\r\n\t\t\tClass clazz = Whitebox.getInnerClassType(EnclosingClass.class,\r\n\t\t\t\t\t&quot;InnerClass&quot;);\r\n\t\t\tConstructor constructor = Whitebox.getConstructor(clazz, null);\r\n\t\t\tInnerClassType innerClass = (InnerClassType) constructor\r\n\t\t\t\t\t.newInstance(null);\r\n\t\r\n\t\t\t/* Activate the Mocks */\r\n\t\t\tPowerMock.replayAll();\r\n\t\r\n\t\t\t/* Test Method */\r\n\t\r\n\t\t\t/* Asserts */\r\n\t\t\tPowerMock.verifyAll();\r\n\t\r\n\t\t}\r\n\t}\r\n\r\n**EnclosingClass.java :**\r\n\r\n    public class EnclosingClass {\r\n\t\r\n\t\tprivate class InnerClass implements InnerClassType {\r\n\t\t\tpublic InnerClass() { /* do stuff */\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic int innerClassMethod() {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**InnerClassType.java :**\r\n\r\n    public interface InnerClassType {\r\n\t\tpublic int innerClassMethod();\r\n\t}\r\n\r\n\r\nEnclosingClassTest.testMethod() throws **Exception:**\r\n\r\n\torg.powermock.reflect.exceptions.ConstructorNotFoundException: Failed to lookup constructor with parameter types [ &lt;none&gt; ] in class EnclosingClass$InnerClass.\r\n\t\tat org.powermock.reflect.internal.WhiteboxImpl.getConstructor(WhiteboxImpl.java:258)\r\n\t\tat org.powermock.reflect.Whitebox.getConstructor(Whitebox.java:158)\r\n\t\tat EnclosingClassTest.testMethod(EnclosingClassTest.java:25)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:611)\r\n\t\tat org.junit.internal.runners.TestMethod.invoke(TestMethod.java:66)\r\n\t\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:310)\r\n\t\tat org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:86)\r\n\t\tat org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:94)\r\n\t\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:294)\r\n\t\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:127)\r\n\t\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\r\n\t\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:282)\r\n\t\tat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:84)\r\n\t\tat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49)\r\n\t\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207)\r\n\t\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146)\r\n\t\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120)\r\n\t\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n\t\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\t\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:118)\r\n\t\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:101)\r\n\t\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\r\n\t\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:53)\r\n\t\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\tCaused by: java.lang.NoSuchMethodException: EnclosingClass$InnerClass.&lt;init&gt;()\r\n\t\tat java.lang.Class.throwNoSuchMethodException(Class.java:286)\r\n\t\tat java.lang.Class.getDeclaredConstructor(Class.java:429)\r\n\t\tat org.powermock.reflect.internal.WhiteboxImpl.getConstructor(WhiteboxImpl.java:250)\r\n\t\t... 31 more\r\n\r\n\r\n\r\n","title":"How to mock a non-static private inner java class with PowerMock and EasyMock?","body":"<p>This <a href=\"https://stackoverflow.com/a/13242502/2964890\">StackOverflowAnswer</a> didn't work for me so I recreated the question.</p>\n\n<p>How do I resolve this exception (<em>powermock.reflect.exceptions.ConstructorNotFoundException</em>) by only modifying the testClass (<em>EnclosingClassTest.java</em>) and not the implementation (<em>EnclosingClass.java</em>, <em>InnerClassType.java</em>)? </p>\n\n<p><strong>Requirements:</strong></p>\n\n<ul>\n<li>Mock a non-static private inner java class with PowerMock and EasyMock. </li>\n</ul>\n\n<p><strong>EnclosingClassTest.java :</strong></p>\n\n<pre><code>import java.lang.reflect.Constructor;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.api.easymock.PowerMock;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.powermock.reflect.Whitebox;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({ EnclosingClass.class })\npublic class EnclosingClassTest {\n\n    EnclosingClass cut;\n\n    @Test\n    public void testMethod() throws Exception {\n        /* Initialization */\n\n        /* Mock Setup */\n        Class clazz = Whitebox.getInnerClassType(EnclosingClass.class,\n                \"InnerClass\");\n        Constructor constructor = Whitebox.getConstructor(clazz, null);\n        InnerClassType innerClass = (InnerClassType) constructor\n                .newInstance(null);\n\n        /* Activate the Mocks */\n        PowerMock.replayAll();\n\n        /* Test Method */\n\n        /* Asserts */\n        PowerMock.verifyAll();\n\n    }\n}\n</code></pre>\n\n<p><strong>EnclosingClass.java :</strong></p>\n\n<pre><code>public class EnclosingClass {\n\n    private class InnerClass implements InnerClassType {\n        public InnerClass() { /* do stuff */\n        }\n\n        public int innerClassMethod() {\n            return 0;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>InnerClassType.java :</strong></p>\n\n<pre><code>public interface InnerClassType {\n    public int innerClassMethod();\n}\n</code></pre>\n\n<p>EnclosingClassTest.testMethod() throws <strong>Exception:</strong></p>\n\n<pre><code>org.powermock.reflect.exceptions.ConstructorNotFoundException: Failed to lookup constructor with parameter types [ &lt;none&gt; ] in class EnclosingClass$InnerClass.\n    at org.powermock.reflect.internal.WhiteboxImpl.getConstructor(WhiteboxImpl.java:258)\n    at org.powermock.reflect.Whitebox.getConstructor(Whitebox.java:158)\n    at EnclosingClassTest.testMethod(EnclosingClassTest.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:66)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:310)\n    at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:86)\n    at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:94)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:294)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:127)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:282)\n    at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:84)\n    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120)\n    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\n    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:118)\n    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:101)\n    at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\n    at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:53)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: java.lang.NoSuchMethodException: EnclosingClass$InnerClass.&lt;init&gt;()\n    at java.lang.Class.throwNoSuchMethodException(Class.java:286)\n    at java.lang.Class.getDeclaredConstructor(Class.java:429)\n    at org.powermock.reflect.internal.WhiteboxImpl.getConstructor(WhiteboxImpl.java:250)\n    ... 31 more\n</code></pre>\n"},{"tags":["java","for-loop","if-statement"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657387971,"creation_date":1657387971,"answer_id":72923443,"question_id":72923410,"body_markdown":"When `count` reaches a number that&#39;s divisible by `5`, you continue iterating over `i`. In some of these iterations, `count` is **not** incremented, so it remains divis`5` and you continue adding new lines.\r\n\r\nMoving the second `if` statement inside the `for` loop should solve this:\r\n\r\n```java\r\nfor (int i=n;i&lt;=m;i++){\r\n    if(i%a==0&amp;&amp;i%b!=0) {\r\n        System.out.print(i + &quot; &quot;);\r\n        count++;\r\n\r\n        if (count % 5 == 0) // Here!\r\n            System.out.println();\r\n    }\r\n}\r\n```","title":"My output seems to have extra spacing after each line is printed","body":"<p>When <code>count</code> reaches a number that's divisible by <code>5</code>, you continue iterating over <code>i</code>. In some of these iterations, <code>count</code> is <strong>not</strong> incremented, so it remains divis<code>5</code> and you continue adding new lines.</p>\n<p>Moving the second <code>if</code> statement inside the <code>for</code> loop should solve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i=n;i&lt;=m;i++){\n    if(i%a==0&amp;&amp;i%b!=0) {\n        System.out.print(i + &quot; &quot;);\n        count++;\n\n        if (count % 5 == 0) // Here!\n            System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19908934,"reputation":31,"user_id":14587309,"display_name":"DEN DEN G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657388440,"creation_date":1657388440,"answer_id":72923482,"question_id":72923410,"body_markdown":"You forgot to consider that the count variable will not increase as long as you dont satisfy the first if block. The better way is to check if its equal to 5\r\nprint new line the set count = 0\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n      int n=10,m=50,a=2,b=3;\r\n      int count = 0;\r\n        for (int i=n;i&lt;=m;i++){\r\n          if(i%a==0&amp;&amp;i%b!=0) {\r\n             System.out.print(i + &quot; &quot;);\r\n             count++;\r\n         }\r\n         if (count==5){\r\n             System.out.println();\r\n             count = 0;\r\n         }\r\n       }\r\n     }\r\n    }","title":"My output seems to have extra spacing after each line is printed","body":"<p>You forgot to consider that the count variable will not increase as long as you dont satisfy the first if block. The better way is to check if its equal to 5\nprint new line the set count = 0</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n  int n=10,m=50,a=2,b=3;\n  int count = 0;\n    for (int i=n;i&lt;=m;i++){\n      if(i%a==0&amp;&amp;i%b!=0) {\n         System.out.print(i + &quot; &quot;);\n         count++;\n     }\n     if (count==5){\n         System.out.println();\n         count = 0;\n     }\n   }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user11139875"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657388671,"creation_date":1657388671,"answer_id":72923505,"question_id":72923410,"body_markdown":"When the count is 5 and the code is not entered to the first &quot;if&quot; the new line will be printed because the count will not be increased.\r\n\r\nPlease try:\r\n\r\n    public class Main {\r\n  \t   public static void main(String[] args) {\r\n\t       int n=10,m=50,a=2,b=3;\r\n\t       int count = 0;\r\n\t       boolean is_new_line = false;\r\n\t    \r\n\t       for (int i=n;i&lt;=m;i++){\r\n\t           if(i%a==0&amp;&amp;i%b!=0) {\r\n\t               System.out.print(i + &quot; &quot;);\r\n\t               count++;\r\n\t               is_new_line = false;\r\n\t           }\r\n\t           if ((count%5==0) &amp;&amp; (is_new_line==false)) {\r\n\t               System.out.println();\r\n\t               is_new_line = true;\r\n\t    \t   }\r\n\t        }\r\n\t     }\r\n      }","title":"My output seems to have extra spacing after each line is printed","body":"<p>When the count is 5 and the code is not entered to the first &quot;if&quot; the new line will be printed because the count will not be increased.</p>\n<p>Please try:</p>\n<pre><code>public class Main {\n   public static void main(String[] args) {\n       int n=10,m=50,a=2,b=3;\n       int count = 0;\n       boolean is_new_line = false;\n    \n       for (int i=n;i&lt;=m;i++){\n           if(i%a==0&amp;&amp;i%b!=0) {\n               System.out.print(i + &quot; &quot;);\n               count++;\n               is_new_line = false;\n           }\n           if ((count%5==0) &amp;&amp; (is_new_line==false)) {\n               System.out.println();\n               is_new_line = true;\n           }\n        }\n     }\n  }\n</code></pre>\n"}],"owner":{"account_id":25521885,"reputation":11,"user_id":19311594,"display_name":"Imminentpulse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1657388671,"creation_date":1657387659,"question_id":72923410,"body_markdown":"Edit: I figured out what was wrong, when count hits 5, it stays at 5 until the first condition is hit then count changes. This results in the extra empty lines.\r\n\r\nSo my goal is for the output to be one line after the other but its not doing that.\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        int n=10,m=50,a=2,b=3;\r\n        int count = 0;\r\n        for (int i=n;i&lt;=m;i++){\r\n            if(i%a==0&amp;&amp;i%b!=0) {\r\n                System.out.print(i + &quot; &quot;);\r\n                count++;\r\n            }\r\n            if (count%5==0)\r\n                System.out.println();\r\n        }\r\n    }\r\n    }\r\n\r\nThis code is suppose to take integer values of n, m, a and b and displays all the numbers from n to m that are divisible by a but not divisible by b, and prints the results 5 numbers per line. So far I have got printing the numbers 5 times per line down but every time it out puts the next line, instead of immediately printing to the next line it skips some.\r\n\r\nHere is what its suppose to do when n=10, m=50, a=2 and b=3:\r\n\r\n    10 14 16 20 22\r\n    26 28 32 34 38\r\n    40 44 46 50\r\n\r\nInstead its printing this:\r\n\r\n    10 14 16 20 22 \r\n\r\n\r\n\r\n    26 28 32 34 38 \r\n\r\n    40 44 46 50 \r\nWhat am I doing wrong?","title":"My output seems to have extra spacing after each line is printed","body":"<p>Edit: I figured out what was wrong, when count hits 5, it stays at 5 until the first condition is hit then count changes. This results in the extra empty lines.</p>\n<p>So my goal is for the output to be one line after the other but its not doing that.</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    int n=10,m=50,a=2,b=3;\n    int count = 0;\n    for (int i=n;i&lt;=m;i++){\n        if(i%a==0&amp;&amp;i%b!=0) {\n            System.out.print(i + &quot; &quot;);\n            count++;\n        }\n        if (count%5==0)\n            System.out.println();\n    }\n}\n}\n</code></pre>\n<p>This code is suppose to take integer values of n, m, a and b and displays all the numbers from n to m that are divisible by a but not divisible by b, and prints the results 5 numbers per line. So far I have got printing the numbers 5 times per line down but every time it out puts the next line, instead of immediately printing to the next line it skips some.</p>\n<p>Here is what its suppose to do when n=10, m=50, a=2 and b=3:</p>\n<pre><code>10 14 16 20 22\n26 28 32 34 38\n40 44 46 50\n</code></pre>\n<p>Instead its printing this:</p>\n<pre><code>10 14 16 20 22 \n\n\n\n26 28 32 34 38 \n\n40 44 46 50 \n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","jdbc","jdbi"],"comments":[{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1435075822,"post_id":29097225,"comment_id":50043112,"body_markdown":"I think this is a &quot;try it and see&quot; moment. I don&#39;t think it would work, but I haven&#39;t delved that deeply into the Bean binder JDBI code.","body":"I think this is a &quot;try it and see&quot; moment. I don&#39;t think it would work, but I haven&#39;t delved that deeply into the Bean binder JDBI code."},{"owner":{"account_id":368939,"reputation":22613,"user_id":716027,"accept_rate":56,"display_name":"fedor.belov"},"score":0,"creation_date":1435097409,"post_id":29097225,"comment_id":50055530,"body_markdown":"Yep, it doesn&#39;t work. I thought someone suggest workaround","body":"Yep, it doesn&#39;t work. I thought someone suggest workaround"}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657387191,"creation_date":1657387191,"answer_id":72923366,"question_id":29097225,"body_markdown":"# Analysis\r\nAccording to the release notes the corresponding feature is available since Jdbi `3.0.0-rc2`: [jdbi/RELEASE_NOTES.md at v3.30.0 &#183; jdbi/jdbi](https://github.com/jdbi/jdbi/blob/v3.30.0/RELEASE_NOTES.md?plain=1#L500-L503):\r\n\r\n&gt; # 3.0.0-rc2\r\n&gt; &lt;…&gt;\r\n&gt; - Binding of nested attributes e.g. &quot;:user.address.city&quot; with bindBean(), bindMethods(),\r\n  bindFields(), as well as @BindBean, @BindMethods, and @BindFields in SQL objects.\r\n\r\n## Additional references\r\n* The [`org.jdbi.v3.core.argument.TestNamedParams.testBeanPropertyNestedBinding()`](https://github.com/jdbi/jdbi/blob/v3.0.0-rc2/core/src/test/java/org/jdbi/v3/core/argument/TestNamedParams.java#L105-L106) test method.\r\n\r\n# Solution\r\nUpgrade Jdbi version to `3.0.0-rc2` or higher.","title":"Can I chain @BindBean params?","body":"<h1>Analysis</h1>\n<p>According to the release notes the corresponding feature is available since Jdbi <code>3.0.0-rc2</code>: <a href=\"https://github.com/jdbi/jdbi/blob/v3.30.0/RELEASE_NOTES.md?plain=1#L500-L503\" rel=\"nofollow noreferrer\">jdbi/RELEASE_NOTES.md at v3.30.0 · jdbi/jdbi</a>:</p>\n<blockquote>\n<h1>3.0.0-rc2</h1>\n<p>&lt;…&gt;</p>\n<ul>\n<li>Binding of nested attributes e.g. &quot;:user.address.city&quot; with bindBean(), bindMethods(),\nbindFields(), as well as @BindBean, @BindMethods, and @BindFields in SQL objects.</li>\n</ul>\n</blockquote>\n<h2>Additional references</h2>\n<ul>\n<li>The <a href=\"https://github.com/jdbi/jdbi/blob/v3.0.0-rc2/core/src/test/java/org/jdbi/v3/core/argument/TestNamedParams.java#L105-L106\" rel=\"nofollow noreferrer\"><code>org.jdbi.v3.core.argument.TestNamedParams.testBeanPropertyNestedBinding()</code></a> test method.</li>\n</ul>\n<h1>Solution</h1>\n<p>Upgrade Jdbi version to <code>3.0.0-rc2</code> or higher.</p>\n"}],"owner":{"account_id":368939,"reputation":22613,"user_id":716027,"accept_rate":56,"display_name":"fedor.belov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657387191,"creation_date":1426589543,"question_id":29097225,"body_markdown":"`@BindBean` allows me to use properties of bean as params - `myObj.a`.   \r\nCan I use property of property of bean - `myObj.a.b`?\r\n\r\n    @SqlQuery(&quot;SELECT title FROM user WHERE id = :myObj.a.b&quot;)\r\n    abstract boolean hasUnmatchedMovie(@BindBean(&quot;myObj&quot;) MyObject myObject","title":"Can I chain @BindBean params?","body":"<p><code>@BindBean</code> allows me to use properties of bean as params - <code>myObj.a</code>.<br>\nCan I use property of property of bean - <code>myObj.a.b</code>?</p>\n\n<pre><code>@SqlQuery(\"SELECT title FROM user WHERE id = :myObj.a.b\")\nabstract boolean hasUnmatchedMovie(@BindBean(\"myObj\") MyObject myObject\n</code></pre>\n"},{"tags":["java","quartz"],"answers":[{"tags":[],"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657387145,"creation_date":1657387145,"answer_id":72923360,"question_id":72879445,"body_markdown":"yYou can use the JobExecutionListeners which are callbacks and can get the start and end time from the context.\r\nUse these callbacks carefully as they might impact the Job execution if you do  an expensive operations.\r\nThe more details can be found here[enter link description here][1]\r\n\r\n\r\n  Quartz Listeners [1]: http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/tutorial-lesson-07.html","title":"How make history of excution job with java Quartz?","body":"<p>yYou can use the JobExecutionListeners which are callbacks and can get the start and end time from the context.\nUse these callbacks carefully as they might impact the Job execution if you do  an expensive operations.\nThe more details can be found here[enter link description here][1]</p>\n<p>Quartz Listeners [1]: <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/tutorial-lesson-07.html\" rel=\"nofollow noreferrer\">http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/tutorial-lesson-07.html</a></p>\n"}],"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657387145,"creation_date":1657092500,"question_id":72879445,"body_markdown":"i am using java Quartz to run a job to be run every day, and i am using option use jdbcjobstore.JobStoreTX to try to create history of these run job, i want start time and end with end status.\r\n\r\nAnd another question, are there any light monitoring for my job ?\r\n\r\nActualy in my database i have only 1 rows in qrtz_cron_triggers and qrtz_job_details","title":"How make history of excution job with java Quartz?","body":"<p>i am using java Quartz to run a job to be run every day, and i am using option use jdbcjobstore.JobStoreTX to try to create history of these run job, i want start time and end with end status.</p>\n<p>And another question, are there any light monitoring for my job ?</p>\n<p>Actualy in my database i have only 1 rows in qrtz_cron_triggers and qrtz_job_details</p>\n"},{"tags":["java","arrays","matrix","data-structures","stack"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657387099,"creation_date":1657387099,"answer_id":72923356,"question_id":72922130,"body_markdown":"I believe you somehow overlooked that input is **char** 2d array, so, instead of `b[j] = matrix[0][j]` should be `b[j] = matrix[0][j]-&#39;0&#39;`, instead of `matrix[i][j] == 0` should be `matrix[i][j] == &#39;0&#39;`, etc.","title":"Maximum area rectangle of a binary matrix code not running","body":"<p>I believe you somehow overlooked that input is <strong>char</strong> 2d array, so, instead of <code>b[j] = matrix[0][j]</code> should be <code>b[j] = matrix[0][j]-'0'</code>, instead of <code>matrix[i][j] == 0</code> should be <code>matrix[i][j] == '0'</code>, etc.</p>\n"}],"owner":{"account_id":23965417,"reputation":1,"user_id":17954985,"display_name":"nishchay007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1657387099,"creation_date":1657376538,"question_id":72922130,"body_markdown":"  \r\n*Below is the code for maximum area of binary matrix. It has a function MAH() which returns the maximum area of histogram . The approach was to break the binary matrix (2d) into 1D. And then apply the MAH() to each 1D array and find the maximum area.*\r\n\r\n  class Solution {\r\n        \r\n        static class Pair {\r\n    \r\n            int element;\r\n            int index;\r\n    \r\n            public Pair(int element, int index) {\r\n                this.element = element;\r\n                this.index = index;\r\n            }\r\n    \r\n        }\r\n        \r\n         static int MAH(int a[]) {\r\n            Stack&lt;Pair&gt; stack = new Stack&lt;&gt;();\r\n            int n = a.length;\r\n            int nsrIndex[] = new int[n];\r\n            int pseudoIndex = n;\r\n    \r\n            for (int i = n - 1; i &gt;= 0; i--) {\r\n    \r\n                while (!stack.isEmpty() &amp;&amp; stack.peek().element &gt;= a[i]) {\r\n                    stack.pop();\r\n                }\r\n                if (i &lt; n) {\r\n                    if (!stack.isEmpty()) {\r\n                        nsrIndex[i] = stack.peek().index;\r\n                    } else {\r\n                        nsrIndex[i] = pseudoIndex;\r\n                    }\r\n                }\r\n    //            push the current element onto the stack\r\n                stack.push(new Pair(a[i], i));\r\n            }\r\n    \r\n            // System.out.println(&quot;NSR -&gt; &quot;+ Arrays.toString(nsrIndex));\r\n    \r\n            //re-initialize stack to find next smaller to left element&#39;s index\r\n            stack = new Stack&lt;&gt;();\r\n            int nslIndex[] = new int[a.length];\r\n            pseudoIndex = -1;\r\n    \r\n            for (int i = 0; i &lt; n; i++) {\r\n    \r\n                while (!stack.isEmpty() &amp;&amp; stack.peek().element &gt;= a[i]) {\r\n                    stack.pop();\r\n                }\r\n                if (i &lt; n) {\r\n                    if (!stack.isEmpty()) {\r\n                        nslIndex[i] = stack.peek().index;\r\n                    } else {\r\n                        nslIndex[i] = pseudoIndex;\r\n                    }\r\n                }\r\n    //            push the current element onto the stack\r\n                stack.push(new Pair(a[i], i));\r\n            }\r\n            //System.out.println(&quot;NSL -&gt;&quot;+Arrays.toString(nslIndex));\r\n    \r\n            //width[i] = nsrIndex[i] - nslIndex[i]\r\n            int width[] = new int[n];\r\n            int maxArea = Integer.MIN_VALUE;\r\n            for (int i = 0; i &lt; n; i++) {\r\n                width[i] = nsrIndex[i] - nslIndex[i] - 1;\r\n                int area = a[i] * width[i]; //area = a[i] * width[i]\r\n                maxArea = Math.max(area, maxArea);\r\n            }\r\n    //        System.out.println(&quot;Width -&gt;&quot;+Arrays.toString(width));\r\n    //        System.out.println(&quot;Max Area &quot;+maxArea);\r\n            return maxArea;\r\n        }\r\n        \r\n        \r\n        \r\n        \r\n        public int maximalRectangle(char[][] matrix) {\r\n            \r\n            int n = matrix.length;\r\n            int m = matrix[0].length;\r\n            \r\n            int b[] = new int[m];\r\n            for (int j = 0; j &lt; m; j++) {\r\n    \r\n                b[j] = matrix[0][j];\r\n            }\r\n            int max = MAH(b);\r\n    \r\n            for (int i = 1; i &lt; n; i++) {\r\n                for (int j = 0; j &lt; m; j++) {\r\n                    if (matrix[i][j] == 0) {\r\n                        b[j] = 0;\r\n                    } else {\r\n                        b[j] = b[j] + matrix[i][j];\r\n                    }\r\n                }\r\n                max = Math.max(max, MAH(b));\r\n            }\r\n            return max;\r\n    }}\r\n\r\nproblem link : [Maximum area of binary matrix][1]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/maximal-rectangle/\r\n\r\n&gt; The MAH() function is correct. Just the maximalRectangle(char[][]\r\n&gt; matrix) function is not able to give result. Can someone explain??\r\n&gt; \r\n&gt; Here is a code sample of maximalRectangle(char[][] matrix) posted by\r\n&gt; another person and it is working fine\r\n\r\n     int[] arr = new int[matrix[0].length]; \r\n    //         int area = 0;\r\n    //         for(int i = 0; i&lt;matrix.length; i++){\r\n    //             for(int j = 0; j&lt;matrix[0].length; j++){\r\n    //                 if(matrix[i][j] == &#39;1&#39;){\r\n    //                     arr[j]++;\r\n    //                 }else arr[j] = 0;\r\n                    \r\n    //             }\r\n    //             area = Math.max(area, MAH(arr));\r\n    //         }\r\n    \r\n    //         return area; \r\n\r\n  ","title":"Maximum area rectangle of a binary matrix code not running","body":"<p><em>Below is the code for maximum area of binary matrix. It has a function MAH() which returns the maximum area of histogram . The approach was to break the binary matrix (2d) into 1D. And then apply the MAH() to each 1D array and find the maximum area.</em></p>\n<p>class Solution {</p>\n<pre><code>    static class Pair {\n\n        int element;\n        int index;\n\n        public Pair(int element, int index) {\n            this.element = element;\n            this.index = index;\n        }\n\n    }\n    \n     static int MAH(int a[]) {\n        Stack&lt;Pair&gt; stack = new Stack&lt;&gt;();\n        int n = a.length;\n        int nsrIndex[] = new int[n];\n        int pseudoIndex = n;\n\n        for (int i = n - 1; i &gt;= 0; i--) {\n\n            while (!stack.isEmpty() &amp;&amp; stack.peek().element &gt;= a[i]) {\n                stack.pop();\n            }\n            if (i &lt; n) {\n                if (!stack.isEmpty()) {\n                    nsrIndex[i] = stack.peek().index;\n                } else {\n                    nsrIndex[i] = pseudoIndex;\n                }\n            }\n//            push the current element onto the stack\n            stack.push(new Pair(a[i], i));\n        }\n\n        // System.out.println(&quot;NSR -&gt; &quot;+ Arrays.toString(nsrIndex));\n\n        //re-initialize stack to find next smaller to left element's index\n        stack = new Stack&lt;&gt;();\n        int nslIndex[] = new int[a.length];\n        pseudoIndex = -1;\n\n        for (int i = 0; i &lt; n; i++) {\n\n            while (!stack.isEmpty() &amp;&amp; stack.peek().element &gt;= a[i]) {\n                stack.pop();\n            }\n            if (i &lt; n) {\n                if (!stack.isEmpty()) {\n                    nslIndex[i] = stack.peek().index;\n                } else {\n                    nslIndex[i] = pseudoIndex;\n                }\n            }\n//            push the current element onto the stack\n            stack.push(new Pair(a[i], i));\n        }\n        //System.out.println(&quot;NSL -&gt;&quot;+Arrays.toString(nslIndex));\n\n        //width[i] = nsrIndex[i] - nslIndex[i]\n        int width[] = new int[n];\n        int maxArea = Integer.MIN_VALUE;\n        for (int i = 0; i &lt; n; i++) {\n            width[i] = nsrIndex[i] - nslIndex[i] - 1;\n            int area = a[i] * width[i]; //area = a[i] * width[i]\n            maxArea = Math.max(area, maxArea);\n        }\n//        System.out.println(&quot;Width -&gt;&quot;+Arrays.toString(width));\n//        System.out.println(&quot;Max Area &quot;+maxArea);\n        return maxArea;\n    }\n    \n    \n    \n    \n    public int maximalRectangle(char[][] matrix) {\n        \n        int n = matrix.length;\n        int m = matrix[0].length;\n        \n        int b[] = new int[m];\n        for (int j = 0; j &lt; m; j++) {\n\n            b[j] = matrix[0][j];\n        }\n        int max = MAH(b);\n\n        for (int i = 1; i &lt; n; i++) {\n            for (int j = 0; j &lt; m; j++) {\n                if (matrix[i][j] == 0) {\n                    b[j] = 0;\n                } else {\n                    b[j] = b[j] + matrix[i][j];\n                }\n            }\n            max = Math.max(max, MAH(b));\n        }\n        return max;\n}}\n</code></pre>\n<p>problem link : <a href=\"https://leetcode.com/problems/maximal-rectangle/\" rel=\"nofollow noreferrer\">Maximum area of binary matrix</a></p>\n<blockquote>\n<p>The MAH() function is correct. Just the maximalRectangle(char[][]\nmatrix) function is not able to give result. Can someone explain??</p>\n<p>Here is a code sample of maximalRectangle(char[][] matrix) posted by\nanother person and it is working fine</p>\n</blockquote>\n<pre><code> int[] arr = new int[matrix[0].length]; \n//         int area = 0;\n//         for(int i = 0; i&lt;matrix.length; i++){\n//             for(int j = 0; j&lt;matrix[0].length; j++){\n//                 if(matrix[i][j] == '1'){\n//                     arr[j]++;\n//                 }else arr[j] = 0;\n                \n//             }\n//             area = Math.max(area, MAH(arr));\n//         }\n\n//         return area; \n</code></pre>\n"},{"tags":["java","android","android-studio","android-edittext"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1657381144,"post_id":72922679,"comment_id":128799223,"body_markdown":"Save the data to a file, and load it again from that file.","body":"Save the data to a file, and load it again from that file."}],"answers":[{"tags":[],"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657385049,"creation_date":1657385049,"answer_id":72923137,"question_id":72922679,"body_markdown":"Steps to follow\r\nWhen the app goes to idle or background save the data written in edittext with preferences check the preference when app is opened and prefill the edittext. If you want coding help then let me know.  Hope this will give you and give you tha bacis","title":"ANDROID STUDIO, Something written in editText should stay there untill the user edits it again. it should stay there even if app is closed","body":"<p>Steps to follow\nWhen the app goes to idle or background save the data written in edittext with preferences check the preference when app is opened and prefill the edittext. If you want coding help then let me know.  Hope this will give you and give you tha bacis</p>\n"},{"tags":[],"owner":{"account_id":21810142,"reputation":52,"user_id":16107797,"display_name":"Mr. 17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657386583,"creation_date":1657386520,"answer_id":72923289,"question_id":72922679,"body_markdown":"The most simple way to achieve this is by using `SharedPreferences` \r\n\r\nTo detect when the user edits the value of the `editText`, use `addTextChangedListener`, and immediately store it using `SharedPreferences` The code for this is as following,\r\n\r\n    editText.addTextChangedListener(new TextChangedListener&lt;EditText&gt;(editText) {\r\n            @Override\r\n            public void onTextChanged(EditText target, Editable s) {\r\n                SharedPreferences.Editor editor = save.edit();\r\n                editor.putString(&quot;KEY&quot;, editText.getText().toString()).apply();\r\n            }\r\n        });\r\nThe above code will save the `editText` value. To retrieve the stored value when the user opens the app later, the following code shall be used,\r\n\r\n    SharedPreferences editTextPref = getApplicationContext().getSharedPreferences(&quot;KEY&quot;, Context.MODE_PRIVATE);\r\n    editText.setText(editTextPref.getString(&quot;KEY&quot;));","title":"ANDROID STUDIO, Something written in editText should stay there untill the user edits it again. it should stay there even if app is closed","body":"<p>The most simple way to achieve this is by using <code>SharedPreferences</code></p>\n<p>To detect when the user edits the value of the <code>editText</code>, use <code>addTextChangedListener</code>, and immediately store it using <code>SharedPreferences</code> The code for this is as following,</p>\n<pre><code>editText.addTextChangedListener(new TextChangedListener&lt;EditText&gt;(editText) {\n        @Override\n        public void onTextChanged(EditText target, Editable s) {\n            SharedPreferences.Editor editor = save.edit();\n            editor.putString(&quot;KEY&quot;, editText.getText().toString()).apply();\n        }\n    });\n</code></pre>\n<p>The above code will save the <code>editText</code> value. To retrieve the stored value when the user opens the app later, the following code shall be used,</p>\n<pre><code>SharedPreferences editTextPref = getApplicationContext().getSharedPreferences(&quot;KEY&quot;, Context.MODE_PRIVATE);\neditText.setText(editTextPref.getString(&quot;KEY&quot;));\n</code></pre>\n"}],"owner":{"account_id":25767285,"reputation":1,"user_id":19516884,"display_name":"Gogi P Bhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657386583,"creation_date":1657380945,"question_id":72922679,"body_markdown":"I am trying to make an app in android studio. I want my app to store what user  types in the app in editText. Even if user opens the app after 1 week it should stay there in edit text. thanks.","title":"ANDROID STUDIO, Something written in editText should stay there untill the user edits it again. it should stay there even if app is closed","body":"<p>I am trying to make an app in android studio. I want my app to store what user  types in the app in editText. Even if user opens the app after 1 week it should stay there in edit text. thanks.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1321381070,"post_id":8141035,"comment_id":9990545,"body_markdown":"*&quot;What I currently have is:&quot;* Uncompilable code snippets.  For better help sooner, post an [SSCCE](http://sscce.org/).  *&quot;However compared to WPF, Java doesn&#39;t show and hide scrollbars when necessary&quot;*  Java must be broken, use WPF for this one.","body":"<i>&quot;What I currently have is:&quot;</i> Uncompilable code snippets.  For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>.  <i>&quot;However compared to WPF, Java doesn&#39;t show and hide scrollbars when necessary&quot;</i>  Java must be broken, use WPF for this one."},{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":0,"creation_date":1321384345,"post_id":8141035,"comment_id":9991564,"body_markdown":"[Read the documentation](http://download.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)","body":"<a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">Read the documentation</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1321481841,"post_id":8141035,"comment_id":10017673,"body_markdown":"You may be looking for [Wrap Layout](http://tips4java.wordpress.com/2008/11/06/wrap-layout/).","body":"You may be looking for <a href=\"http://tips4java.wordpress.com/2008/11/06/wrap-layout/\" rel=\"nofollow noreferrer\">Wrap Layout</a>."},{"owner":{"account_id":81817,"reputation":4587,"user_id":230506,"accept_rate":69,"display_name":"Vitalij"},"score":0,"creation_date":1321485032,"post_id":8141035,"comment_id":10018445,"body_markdown":"This looks like it is addressing the problem I am having. The only thing I do not understand is why FlowLayout doesn&#39;t do it by default?","body":"This looks like it is addressing the problem I am having. The only thing I do not understand is why FlowLayout doesn&#39;t do it by default?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1321581297,"post_id":8141035,"comment_id":10043125,"body_markdown":"I have to agree with @camickr, `FlowLayout` is a strange animal! In particular &quot;When the components are wrapped to a new row, the preferred size doesn’t change so you never see the components on the extra row.&quot;","body":"I have to agree with @camickr, <code>FlowLayout</code> is a strange animal! In particular &quot;When the components are wrapped to a new row, the preferred size doesn’t change so you never see the components on the extra row.&quot;"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1321581651,"post_id":8141035,"comment_id":10043179,"body_markdown":"It&#39;s a reach, but you may be able to leverage the `HORIZONTAL_WRAP` mode of `JList`, seen [here](http://stackoverflow.com/questions/7620579/individual-and-not-continuous-jtables-cell-selection/7620726#7620726).","body":"It&#39;s a reach, but you may be able to leverage the <code>HORIZONTAL_WRAP</code> mode of <code>JList</code>, seen <a href=\"http://stackoverflow.com/questions/7620579/individual-and-not-continuous-jtables-cell-selection/7620726#7620726\">here</a>."},{"owner":{"account_id":81817,"reputation":4587,"user_id":230506,"accept_rate":69,"display_name":"Vitalij"},"score":0,"creation_date":1321725362,"post_id":8141035,"comment_id":10071293,"body_markdown":"@trashgod, post your comment about Wrap Layout as an answer, to mark it as accepted.","body":"@trashgod, post your comment about Wrap Layout as an answer, to mark it as accepted."}],"answers":[{"tags":[],"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1321545266,"creation_date":1321456920,"answer_id":8154052,"question_id":8141035,"body_markdown":"The default scroll bar policy is _as needed_, but I remember having to account for the `FlowLayout` gaps to get an even number initially. If you stretch this example out, you&#39;ll see the horizontal scroll bar disappear.\r\n\r\nUpdate: It doesn&#39;t really fix your problem, but it shows how I implemented `Scrollable`. I wanted to get rid of `setPreferredSize()`, even tho&#39; the image is just a placeholder. The [Wrap Layout][1] article talks about why `FlowLayout` works the way it does.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.util.Random;\r\n\r\n    public class ImageScrollTest extends JPanel implements Scrollable {\r\n\r\n        private static final int N = 8;\r\n        private static final int W = 120;\r\n        private static final int H = 100;\r\n        private final FlowLayout layout = new FlowLayout();\r\n        private final int hGap = layout.getHgap();\r\n        private final int vGap = layout.getVgap();\r\n        private final Dimension size;\r\n\r\n        // Show n of N images in a Scrollable FlowLayout\r\n        public ImageScrollTest(int n) {\r\n            setLayout(layout);\r\n            for (int i = 0; i &lt; N; i++) {\r\n                this.add(new ImagePanel());\r\n            }\r\n            size = new Dimension(n * W + (n + 1) * hGap, H + 2 * vGap);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredScrollableViewportSize() {\r\n            return size;\r\n        }\r\n\r\n        @Override\r\n        public int getScrollableUnitIncrement(\r\n            Rectangle visibleRect, int orientation, int direction) {\r\n            return getIncrement(orientation);\r\n        }\r\n\r\n        @Override\r\n        public int getScrollableBlockIncrement(\r\n            Rectangle visibleRect, int orientation, int direction) {\r\n            return getIncrement(orientation);\r\n        }\r\n\r\n        private int getIncrement(int orientation) {\r\n            if (orientation == JScrollBar.HORIZONTAL) {\r\n                return W + hGap;\r\n            } else {\r\n                return H + vGap;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public boolean getScrollableTracksViewportWidth() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean getScrollableTracksViewportHeight() {\r\n            return false;\r\n        }\r\n\r\n        private static class ImagePanel extends JPanel {\r\n\r\n            private static final Random rnd = new Random();\r\n            private Color color = new Color(rnd.nextInt());\r\n\r\n            public ImagePanel() {\r\n                this.setBackground(color);\r\n                this.setBorder(BorderFactory.createLineBorder(Color.blue));\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(W, H);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    createAndShowGUI();\r\n                }\r\n            });\r\n        }\r\n\r\n        private static void createAndShowGUI() {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            ImageScrollTest ist = new ImageScrollTest(N / 2);\r\n            JScrollPane sp = new JScrollPane(ist);\r\n            sp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_NEVER);\r\n            f.add(sp);\r\n            f.pack();\r\n            f.setVisible(true);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8141035/show-scrollbars-in-flowlayout-only-when-necessary","title":"Show ScrollBars in FlowLayout only when necessary","body":"<p>The default scroll bar policy is <em>as needed</em>, but I remember having to account for the <code>FlowLayout</code> gaps to get an even number initially. If you stretch this example out, you'll see the horizontal scroll bar disappear.</p>\n\n<p>Update: It doesn't really fix your problem, but it shows how I implemented <code>Scrollable</code>. I wanted to get rid of <code>setPreferredSize()</code>, even tho' the image is just a placeholder. The <a href=\"https://stackoverflow.com/questions/8141035/show-scrollbars-in-flowlayout-only-when-necessary\">Wrap Layout</a> article talks about why <code>FlowLayout</code> works the way it does.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.util.Random;\n\npublic class ImageScrollTest extends JPanel implements Scrollable {\n\n    private static final int N = 8;\n    private static final int W = 120;\n    private static final int H = 100;\n    private final FlowLayout layout = new FlowLayout();\n    private final int hGap = layout.getHgap();\n    private final int vGap = layout.getVgap();\n    private final Dimension size;\n\n    // Show n of N images in a Scrollable FlowLayout\n    public ImageScrollTest(int n) {\n        setLayout(layout);\n        for (int i = 0; i &lt; N; i++) {\n            this.add(new ImagePanel());\n        }\n        size = new Dimension(n * W + (n + 1) * hGap, H + 2 * vGap);\n    }\n\n    @Override\n    public Dimension getPreferredScrollableViewportSize() {\n        return size;\n    }\n\n    @Override\n    public int getScrollableUnitIncrement(\n        Rectangle visibleRect, int orientation, int direction) {\n        return getIncrement(orientation);\n    }\n\n    @Override\n    public int getScrollableBlockIncrement(\n        Rectangle visibleRect, int orientation, int direction) {\n        return getIncrement(orientation);\n    }\n\n    private int getIncrement(int orientation) {\n        if (orientation == JScrollBar.HORIZONTAL) {\n            return W + hGap;\n        } else {\n            return H + vGap;\n        }\n    }\n\n    @Override\n    public boolean getScrollableTracksViewportWidth() {\n        return false;\n    }\n\n    @Override\n    public boolean getScrollableTracksViewportHeight() {\n        return false;\n    }\n\n    private static class ImagePanel extends JPanel {\n\n        private static final Random rnd = new Random();\n        private Color color = new Color(rnd.nextInt());\n\n        public ImagePanel() {\n            this.setBackground(color);\n            this.setBorder(BorderFactory.createLineBorder(Color.blue));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(W, H);\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n\n    private static void createAndShowGUI() {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        ImageScrollTest ist = new ImageScrollTest(N / 2);\n        JScrollPane sp = new JScrollPane(ist);\n        sp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_NEVER);\n        f.add(sp);\n        f.pack();\n        f.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1321457452,"creation_date":1321457452,"answer_id":8154175,"question_id":8141035,"body_markdown":"You shoud specify to the scrollPane when you want the scrollBars to apprear (possible in both horizontal and vertical direction):\r\n\r\n    myScrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\nThere is also: `HORIZONTAL_SCROLLBAR_ALWAYS` and `HORIZONTAL_SCROLLBAR_NEVER` if you need that anytime soon.\r\n\r\nEDIT: For more information, and exactly my answer: http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html","title":"Show ScrollBars in FlowLayout only when necessary","body":"<p>You shoud specify to the scrollPane when you want the scrollBars to apprear (possible in both horizontal and vertical direction):</p>\n\n<pre><code>myScrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n</code></pre>\n\n<p>There is also: <code>HORIZONTAL_SCROLLBAR_ALWAYS</code> and <code>HORIZONTAL_SCROLLBAR_NEVER</code> if you need that anytime soon.</p>\n\n<p>EDIT: For more information, and exactly my answer: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html</a></p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657386435,"creation_date":1321762120,"answer_id":8199376,"question_id":8141035,"body_markdown":"Your updated screen shots suggest that you may be looking for [Wrap Layout][1], which &quot;extends the `FlowLayout`&quot; in a way that &quot;will result in synchronizing the preferred size of the container with the layout of the container.&quot; See also [_Creating a Custom Layout Manager_][2].\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2008/11/06/wrap-layout/\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/layout/custom.html","title":"Show ScrollBars in FlowLayout only when necessary","body":"<p>Your updated screen shots suggest that you may be looking for <a href=\"http://tips4java.wordpress.com/2008/11/06/wrap-layout/\" rel=\"nofollow noreferrer\">Wrap Layout</a>, which &quot;extends the <code>FlowLayout</code>&quot; in a way that &quot;will result in synchronizing the preferred size of the container with the layout of the container.&quot; See also <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/custom.html\" rel=\"nofollow noreferrer\"><em>Creating a Custom Layout Manager</em></a>.</p>\n"}],"owner":{"account_id":81817,"reputation":4587,"user_id":230506,"accept_rate":69,"display_name":"Vitalij"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5447,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8199376,"answer_count":3,"score":6,"last_activity_date":1657386435,"creation_date":1321380665,"question_id":8141035,"body_markdown":"I will rephrase my question:**\r\n\r\nHow to prevent Java ScrollBar from being enabled in FlowLayout when there is enough space to show all items by warping them. \r\n\r\n![example][1]**\r\n\r\nHere a screenshot of what I am trying to achieve:\r\n\r\nNote that scrollbar is disabled when it is not necessary.\r\n![enter image description here][2]\r\n\r\nAnd when you resize the window scrollbar should appear if some items are out the viewplane\r\n![enter image description here][3]\r\n\r\nP.S. I am aware of things called documentation and web.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ZJHc0.jpg\r\n  [2]: http://i.stack.imgur.com/PxzUt.png\r\n  [3]: http://i.stack.imgur.com/hL1NI.png","title":"Show ScrollBars in FlowLayout only when necessary","body":"<p>I will rephrase my question:**</p>\n\n<p>How to prevent Java ScrollBar from being enabled in FlowLayout when there is enough space to show all items by warping them. </p>\n\n<p><img src=\"https://i.stack.imgur.com/ZJHc0.jpg\" alt=\"example\">**</p>\n\n<p>Here a screenshot of what I am trying to achieve:</p>\n\n<p>Note that scrollbar is disabled when it is not necessary.\n<img src=\"https://i.stack.imgur.com/PxzUt.png\" alt=\"enter image description here\"></p>\n\n<p>And when you resize the window scrollbar should appear if some items are out the viewplane\n<img src=\"https://i.stack.imgur.com/hL1NI.png\" alt=\"enter image description here\"></p>\n\n<p>P.S. I am aware of things called documentation and web.</p>\n"},{"tags":["java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1657286337,"post_id":72910367,"comment_id":128780970,"body_markdown":"Can you share what you want to capture? No sample IO makes it hard for some users to understand what the problem is.","body":"Can you share what you want to capture? No sample IO makes it hard for some users to understand what the problem is."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":0,"creation_date":1657303280,"post_id":72910367,"comment_id":128786645,"body_markdown":"I think for this to work you&#39;ll need a lookbehind that included the data row pattern, not sure if it&#39;s possible...","body":"I think for this to work you&#39;ll need a lookbehind that included the data row pattern, not sure if it&#39;s possible..."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657386287,"creation_date":1657386287,"answer_id":72923261,"question_id":72910367,"body_markdown":"In Java, you can make use of the `\\G` anchor instead of using a lookbehind assertion.\r\n\r\n**Explanation**\r\n\r\n    (?:^Data2\\Rsome changing text|\\G(?!^))\\R(?&lt;caseNumber&gt;\\d+)\\h+(?&lt;companyName&gt;\\S.*?)\\h+(?&lt;invoiceNumber&gt;\\S+)\\h+\\d{2}\\.\\d{2}\\.\\d{4}\\b.*\r\n\r\n- `(?:` Non capture group\r\n  - `^Data2\\Rsome changing text` From the start of the string, match the text literally followed by newlines\r\n  - `|` Or\r\n  - `\\G(?!^)` Assert the current position at the end of the previous match, not at the start\r\n- `)\\R` Close non capture group and match a unicode newline sequence\r\n- `(?&lt;caseNumber&gt;\\d+)\\h+` Capture 1+ digits and 1+ spaces\r\n- `(?&lt;companyName&gt;\\S.*?)\\h+` Capture a single non whitespace char followed by any chars (as least as possible) and 1+ spaces\r\n- `(?&lt;invoiceNumber&gt;\\S+)\\h+` Capture 1+ non whitespace chars and 1+ spaces\r\n- `\\d{2}\\.\\d{2}\\.\\d{4}\\b` Match a date like pattern in the data\r\n- `.*` Match the rest of the line\r\n\r\nSee a [regex demo](https://regex101.com/r/CHa0aE/1).","title":"Regex with positive lookbehind that will match multiple lines","body":"<p>In Java, you can make use of the <code>\\G</code> anchor instead of using a lookbehind assertion.</p>\n<p><strong>Explanation</strong></p>\n<pre><code>(?:^Data2\\Rsome changing text|\\G(?!^))\\R(?&lt;caseNumber&gt;\\d+)\\h+(?&lt;companyName&gt;\\S.*?)\\h+(?&lt;invoiceNumber&gt;\\S+)\\h+\\d{2}\\.\\d{2}\\.\\d{4}\\b.*\n</code></pre>\n<ul>\n<li><code>(?:</code> Non capture group\n<ul>\n<li><code>^Data2\\Rsome changing text</code> From the start of the string, match the text literally followed by newlines</li>\n<li><code>|</code> Or</li>\n<li><code>\\G(?!^)</code> Assert the current position at the end of the previous match, not at the start</li>\n</ul>\n</li>\n<li><code>)\\R</code> Close non capture group and match a unicode newline sequence</li>\n<li><code>(?&lt;caseNumber&gt;\\d+)\\h+</code> Capture 1+ digits and 1+ spaces</li>\n<li><code>(?&lt;companyName&gt;\\S.*?)\\h+</code> Capture a single non whitespace char followed by any chars (as least as possible) and 1+ spaces</li>\n<li><code>(?&lt;invoiceNumber&gt;\\S+)\\h+</code> Capture 1+ non whitespace chars and 1+ spaces</li>\n<li><code>\\d{2}\\.\\d{2}\\.\\d{4}\\b</code> Match a date like pattern in the data</li>\n<li><code>.*</code> Match the rest of the line</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/CHa0aE/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":4493994,"reputation":17,"user_id":3654338,"display_name":"Bartush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72923261,"answer_count":1,"score":0,"last_activity_date":1657386287,"creation_date":1657277670,"question_id":72910367,"body_markdown":"I&#39;m struggling with regex that will match multiple lines after some specific string.\r\n\r\nLet&#39;s say we have a sample data like:\r\n\r\n    Data1\r\n    some changing text\r\n    12406943 Old Company New Company reason Something 1/2/2005 10,00\r\n    14757152 Old Company 2 New Company 2 Reason 2 Something2 10/7/2007 8,00\r\n    \r\n    Data2\r\n    some changing text\r\n    12406943 New Company invoice1 31.01.2005 500,00\r\n    14757152 New Company 2 invoice2 28.05.2007 1000,00\r\n\r\nEarlier I was getting data from Data1 with regex:\r\n\r\n    (?&lt;caseNumber&gt;\\d+) +?(?&lt;temp&gt;.*) +?(?&gt;Something|Something2).*(?&lt;originalDate&gt;\\d{1,2}/\\d{1,2}/\\d{4}) +?(?&lt;interestRate&gt;\\d{1,3}\\.\\d{2}).*\r\n\r\nand Data2:\r\n\r\n    (?&lt;caseNumber&gt;\\d+) +?(?&lt;companyName&gt;.*) +?(?&lt;invoiceNumber&gt;\\S*) +?\\d{2}\\.\\d{2}\\.\\d{4}\r\n\r\nUnfortunately something changed and the date format for Data1 is the same as for Data2 and regex for Data2 is getting rows from Data1.\r\n\r\n    Data1\r\n    some changing text\r\n    12406943 Old Company New Company reason Something 02.01.2005 10,00\r\n    14757152 Old Company 2 New Company 2 Reason 2 Something2 07.10.2007 8,00\r\n    \r\n    Data2\r\n    some changing text\r\n    12406943 New Company invoice1 31.01.2005 500,00\r\n    14757152 New Company 2 invoice2 28.05.2007 1000,00\r\n\r\nI wanted to use positive lookbehind and check if before all Data2 rows I will find Data2 text, but it only returns the first row from results\r\n\r\n    (?&lt;=Data2\\Rsome changing text\\R)(?&lt;caseNumber&gt;\\d+) +?(?&lt;companyName&gt;.*) +?(?&lt;invoiceNumber&gt;\\S*) +?\\d{2}\\.\\d{2}\\.\\d{4}\r\n\r\nThe use-case in java code is that I find the row by regex matcher `.find()` method and then call that method in a `while` loop to run row by row. In above situation it will only return one row and that&#39;s not what I want.\r\n\r\nDo you maybe have any idea how to define that regex or enable any multiline searching for data row after some text?\r\nMaybe that&#39;s some novice mistake, but I can&#39;t see it for now :)\r\n\r\nIf I tried to use quantifier, and treat the main data as group it takes the last occurrence only:\r\n\r\n    (?&lt;=Data2\\Rsome changing text\\R)((?&lt;caseNumber&gt;\\d+) +?(?&lt;companyName&gt;.*) +?(?&lt;invoiceNumber&gt;\\S*) +?\\d{2}\\.\\d{2}\\.\\d{4}.*\\R)+","title":"Regex with positive lookbehind that will match multiple lines","body":"<p>I'm struggling with regex that will match multiple lines after some specific string.</p>\n<p>Let's say we have a sample data like:</p>\n<pre><code>Data1\nsome changing text\n12406943 Old Company New Company reason Something 1/2/2005 10,00\n14757152 Old Company 2 New Company 2 Reason 2 Something2 10/7/2007 8,00\n\nData2\nsome changing text\n12406943 New Company invoice1 31.01.2005 500,00\n14757152 New Company 2 invoice2 28.05.2007 1000,00\n</code></pre>\n<p>Earlier I was getting data from Data1 with regex:</p>\n<pre><code>(?&lt;caseNumber&gt;\\d+) +?(?&lt;temp&gt;.*) +?(?&gt;Something|Something2).*(?&lt;originalDate&gt;\\d{1,2}/\\d{1,2}/\\d{4}) +?(?&lt;interestRate&gt;\\d{1,3}\\.\\d{2}).*\n</code></pre>\n<p>and Data2:</p>\n<pre><code>(?&lt;caseNumber&gt;\\d+) +?(?&lt;companyName&gt;.*) +?(?&lt;invoiceNumber&gt;\\S*) +?\\d{2}\\.\\d{2}\\.\\d{4}\n</code></pre>\n<p>Unfortunately something changed and the date format for Data1 is the same as for Data2 and regex for Data2 is getting rows from Data1.</p>\n<pre><code>Data1\nsome changing text\n12406943 Old Company New Company reason Something 02.01.2005 10,00\n14757152 Old Company 2 New Company 2 Reason 2 Something2 07.10.2007 8,00\n\nData2\nsome changing text\n12406943 New Company invoice1 31.01.2005 500,00\n14757152 New Company 2 invoice2 28.05.2007 1000,00\n</code></pre>\n<p>I wanted to use positive lookbehind and check if before all Data2 rows I will find Data2 text, but it only returns the first row from results</p>\n<pre><code>(?&lt;=Data2\\Rsome changing text\\R)(?&lt;caseNumber&gt;\\d+) +?(?&lt;companyName&gt;.*) +?(?&lt;invoiceNumber&gt;\\S*) +?\\d{2}\\.\\d{2}\\.\\d{4}\n</code></pre>\n<p>The use-case in java code is that I find the row by regex matcher <code>.find()</code> method and then call that method in a <code>while</code> loop to run row by row. In above situation it will only return one row and that's not what I want.</p>\n<p>Do you maybe have any idea how to define that regex or enable any multiline searching for data row after some text?\nMaybe that's some novice mistake, but I can't see it for now :)</p>\n<p>If I tried to use quantifier, and treat the main data as group it takes the last occurrence only:</p>\n<pre><code>(?&lt;=Data2\\Rsome changing text\\R)((?&lt;caseNumber&gt;\\d+) +?(?&lt;companyName&gt;.*) +?(?&lt;invoiceNumber&gt;\\S*) +?\\d{2}\\.\\d{2}\\.\\d{4}.*\\R)+\n</code></pre>\n"},{"tags":["java","jms","wildfly"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657335046,"post_id":72917833,"comment_id":128792502,"body_markdown":"Can you paste the configuration of `jms/RemoteConnectionFactory` from your server config?","body":"Can you paste the configuration of <code>jms&#47;RemoteConnectionFactory</code> from your server config?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657386006,"post_id":72917833,"comment_id":128800211,"body_markdown":"This is essentially the same code as found in [this WildFly quickstart](https://github.com/wildfly/quickstart/blob/main/helloworld-jms/src/main/java/org/jboss/as/quickstarts/jms/HelloWorldJMSClient.java) so I would expect it to work.","body":"This is essentially the same code as found in <a href=\"https://github.com/wildfly/quickstart/blob/main/helloworld-jms/src/main/java/org/jboss/as/quickstarts/jms/HelloWorldJMSClient.java\" rel=\"nofollow noreferrer\">this WildFly quickstart</a> so I would expect it to work."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657389649,"post_id":72917833,"comment_id":128800929,"body_markdown":"I ran the aforementioned quickstart and the connection factory lookup worked fine. You must have something non-standard going on with your configuration or environment.","body":"I ran the aforementioned quickstart and the connection factory lookup worked fine. You must have something non-standard going on with your configuration or environment."},{"owner":{"account_id":9116876,"reputation":31,"user_id":6783731,"display_name":"Pawel M"},"score":0,"creation_date":1657391785,"post_id":72917833,"comment_id":128801363,"body_markdown":"I haven&#39;t changed anything in default wildfly configuration, that&#39;s why it is so mysterious for me. I was trying the same code on wildfly 25.0, and have the same error. My build gradle is also very simple and contains mainly dependency: \ndependencies {\n    implementation files(&#39;libs/jboss-client.jar&#39;)\n}\n\njboss-client.jar was copied from wildfly. \nI&#39;m using jdk8. Maybe this is causing the problem. Will have to check","body":"I haven&#39;t changed anything in default wildfly configuration, that&#39;s why it is so mysterious for me. I was trying the same code on wildfly 25.0, and have the same error. My build gradle is also very simple and contains mainly dependency:  dependencies {     implementation files(&#39;libs/jboss-client.jar&#39;) }  jboss-client.jar was copied from wildfly.  I&#39;m using jdk8. Maybe this is causing the problem. Will have to check"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657395377,"post_id":72917833,"comment_id":128801978,"body_markdown":"I just ran with JDK 8 and there were no problems.","body":"I just ran with JDK 8 and there were no problems."},{"owner":{"account_id":9116876,"reputation":31,"user_id":6783731,"display_name":"Pawel M"},"score":0,"creation_date":1657403824,"post_id":72917833,"comment_id":128803254,"body_markdown":"I have checked this code on other PC and it works. Now I will struggle what is the difference between those two PCes","body":"I have checked this code on other PC and it works. Now I will struggle what is the difference between those two PCes"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657637229,"post_id":72917833,"comment_id":128855060,"body_markdown":"Did you get this sorted? If so, what was the issue?","body":"Did you get this sorted? If so, what was the issue?"},{"owner":{"account_id":9116876,"reputation":31,"user_id":6783731,"display_name":"Pawel M"},"score":0,"creation_date":1657725450,"post_id":72917833,"comment_id":128880050,"body_markdown":"Unfortunately I don&#39;t know what causes this problem. I just moved with my work to second PC, where everything works","body":"Unfortunately I don&#39;t know what causes this problem. I just moved with my work to second PC, where everything works"}],"owner":{"account_id":9116876,"reputation":31,"user_id":6783731,"display_name":"Pawel M"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1657386069,"creation_date":1657322397,"question_id":72917833,"body_markdown":"I&#39;m trying to do basic a JMS operation using WildFly 26.1.1. I have simple method to lookup `jms/RemoteConnectionFactory`:\r\n\r\n``` java\r\nProperties properties = new Properties();\r\nproperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\r\nproperties.put(Context.PROVIDER_URL, &quot;http-remoting://localhost:8080&quot;);\r\nInitialContext ic=new InitialContext(properties);\r\nConnectionFactory f = (ConnectionFactory) ic.lookup(&quot;jms/RemoteConnectionFactory&quot;) ;\r\n```\r\n\r\nUnfortunately I&#39;m still receiving this exception:\r\n\r\n``` \r\nException in thread &quot;main&quot; javax.naming.CommunicationException: WFNAM00020: Remote naming operation failed [Root exception is java.io.EOFException: Read past end of file]\r\n\tat org.wildfly.naming.client.remote.RemoteClientTransport.lookup(RemoteClientTransport.java:289)\r\n\tat org.wildfly.naming.client.remote.RemoteContext.lambda$lookupNative$0(RemoteContext.java:190)\r\n\tat org.wildfly.naming.client.NamingProvider.performExceptionAction(NamingProvider.java:222)\r\n\tat org.wildfly.naming.client.remote.RemoteContext.performWithRetry(RemoteContext.java:100)\r\n\tat org.wildfly.naming.client.remote.RemoteContext.lookupNative(RemoteContext.java:188)\r\n\tat org.wildfly.naming.client.AbstractFederatingContext.lookup(AbstractFederatingContext.java:74)\r\n\tat org.wildfly.naming.client.store.RelativeFederatingContext.lookupNative(RelativeFederatingContext.java:58)\r\n\tat org.wildfly.naming.client.AbstractFederatingContext.lookup(AbstractFederatingContext.java:74)\r\n\tat org.wildfly.naming.client.AbstractFederatingContext.lookup(AbstractFederatingContext.java:60)\r\n\tat org.wildfly.naming.client.AbstractFederatingContext.lookup(AbstractFederatingContext.java:66)\r\n\tat org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\r\n\tat javax.naming.InitialContext.lookup(InitialContext.java:417)\r\n\tat first.jms.WildflyJms.sendMessage(WildflyJms.java:17)\r\n\tat first.jms.WildflyJms.main(WildflyJms.java:9)\r\nCaused by: java.io.EOFException: Read past end of file\r\n\tat org.jboss.marshalling.SimpleDataInput.eofOnRead(SimpleDataInput.java:151)\r\n\tat org.jboss.marshalling.SimpleDataInput.readUnsignedByteDirect(SimpleDataInput.java:294)\r\n\tat org.jboss.marshalling.SimpleDataInput.readUnsignedByte(SimpleDataInput.java:249)\r\n\tat org.jboss.marshalling.river.BlockUnmarshaller.readUnsignedByte(BlockUnmarshaller.java:258)\r\n\tat org.jboss.marshalling.river.BlockUnmarshaller.readInt(BlockUnmarshaller.java:296)\r\n\tat org.jboss.marshalling.river.BlockUnmarshaller.readUTF(BlockUnmarshaller.java:326)\r\n\tat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.readExternal(ActiveMQConnectionFactory.java:200)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1444)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:298)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:231)\r\n\tat org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)\r\n\tat org.wildfly.naming.client.remote.RemoteClientTransport.lookup(RemoteClientTransport.java:271)\r\n\t... 13 more\r\nCaused by: an exception which occurred:\r\n\tin object of type org.apache.activemq.artemis.jms.client.ActiveMQJMSConnectionFactory\r\n```","title":"&quot;Read past end of file&quot; on lookup jms/RemoteConnectionFactory on wildfly","body":"<p>I'm trying to do basic a JMS operation using WildFly 26.1.1. I have simple method to lookup <code>jms/RemoteConnectionFactory</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties properties = new Properties();\nproperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\nproperties.put(Context.PROVIDER_URL, &quot;http-remoting://localhost:8080&quot;);\nInitialContext ic=new InitialContext(properties);\nConnectionFactory f = (ConnectionFactory) ic.lookup(&quot;jms/RemoteConnectionFactory&quot;) ;\n</code></pre>\n<p>Unfortunately I'm still receiving this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.naming.CommunicationException: WFNAM00020: Remote naming operation failed [Root exception is java.io.EOFException: Read past end of file]\n    at org.wildfly.naming.client.remote.RemoteClientTransport.lookup(RemoteClientTransport.java:289)\n    at org.wildfly.naming.client.remote.RemoteContext.lambda$lookupNative$0(RemoteContext.java:190)\n    at org.wildfly.naming.client.NamingProvider.performExceptionAction(NamingProvider.java:222)\n    at org.wildfly.naming.client.remote.RemoteContext.performWithRetry(RemoteContext.java:100)\n    at org.wildfly.naming.client.remote.RemoteContext.lookupNative(RemoteContext.java:188)\n    at org.wildfly.naming.client.AbstractFederatingContext.lookup(AbstractFederatingContext.java:74)\n    at org.wildfly.naming.client.store.RelativeFederatingContext.lookupNative(RelativeFederatingContext.java:58)\n    at org.wildfly.naming.client.AbstractFederatingContext.lookup(AbstractFederatingContext.java:74)\n    at org.wildfly.naming.client.AbstractFederatingContext.lookup(AbstractFederatingContext.java:60)\n    at org.wildfly.naming.client.AbstractFederatingContext.lookup(AbstractFederatingContext.java:66)\n    at org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\n    at javax.naming.InitialContext.lookup(InitialContext.java:417)\n    at first.jms.WildflyJms.sendMessage(WildflyJms.java:17)\n    at first.jms.WildflyJms.main(WildflyJms.java:9)\nCaused by: java.io.EOFException: Read past end of file\n    at org.jboss.marshalling.SimpleDataInput.eofOnRead(SimpleDataInput.java:151)\n    at org.jboss.marshalling.SimpleDataInput.readUnsignedByteDirect(SimpleDataInput.java:294)\n    at org.jboss.marshalling.SimpleDataInput.readUnsignedByte(SimpleDataInput.java:249)\n    at org.jboss.marshalling.river.BlockUnmarshaller.readUnsignedByte(BlockUnmarshaller.java:258)\n    at org.jboss.marshalling.river.BlockUnmarshaller.readInt(BlockUnmarshaller.java:296)\n    at org.jboss.marshalling.river.BlockUnmarshaller.readUTF(BlockUnmarshaller.java:326)\n    at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.readExternal(ActiveMQConnectionFactory.java:200)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1444)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:298)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:231)\n    at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)\n    at org.wildfly.naming.client.remote.RemoteClientTransport.lookup(RemoteClientTransport.java:271)\n    ... 13 more\nCaused by: an exception which occurred:\n    in object of type org.apache.activemq.artemis.jms.client.ActiveMQJMSConnectionFactory\n</code></pre>\n"},{"tags":["java","console","log4j"],"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1292527680,"post_id":4464319,"comment_id":4878770,"body_markdown":"as you can see, i am trying to start the Swing application with console in the background so that the swing application exists only on its own to the user.   i need to be able to see errors though, if they occur, which is why i am hoping for a way to output to a log file, if possible.","body":"as you can see, i am trying to start the Swing application with console in the background so that the swing application exists only on its own to the user.   i need to be able to see errors though, if they occur, which is why i am hoping for a way to output to a log file, if possible."},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1293044199,"post_id":4464319,"comment_id":4940637,"body_markdown":"Right now I am exploring if there is a way that I can reference log4j and then have it default to diverting console output to file? (without editing any java code of course, which makes this a actual question)","body":"Right now I am exploring if there is a way that I can reference log4j and then have it default to diverting console output to file? (without editing any java code of course, which makes this a actual question)"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1292525858,"creation_date":1292525858,"answer_id":4464376,"question_id":4464319,"body_markdown":"As far as I know using javaw suppresses all System.out.println(...) to the console.\r\n\r\nTherefore your application needs to implement logging internally. You could use a wrapper class to redirect the output using System.setOut(...) to write to a file. Then your wrapper class would invoke you other class.","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>As far as I know using javaw suppresses all System.out.println(...) to the console.</p>\n\n<p>Therefore your application needs to implement logging internally. You could use a wrapper class to redirect the output using System.setOut(...) to write to a file. Then your wrapper class would invoke you other class.</p>\n"},{"tags":[],"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292526356,"creation_date":1292526356,"answer_id":4464442,"question_id":4464319,"body_markdown":"You should use java.exe instead of javaw.exe","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>You should use java.exe instead of javaw.exe</p>\n"},{"tags":[],"owner":{"account_id":64695,"reputation":5754,"user_id":190857,"accept_rate":88,"display_name":"Vanchinathan Chandrasekaran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1292979423,"creation_date":1292979423,"answer_id":4505336,"question_id":4464319,"body_markdown":"    cmd.exe something.bat &gt; console_output.txt\r\n\r\nI think this will work.","title":"How do I redirect a javaw.exe console output to a log file?","body":"<pre><code>cmd.exe something.bat &gt; console_output.txt\n</code></pre>\n\n<p>I think this will work.</p>\n"},{"tags":[],"owner":{"account_id":33220,"reputation":750,"user_id":92800,"display_name":"LudoMC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1293124874,"creation_date":1293114666,"answer_id":4519611,"question_id":4464319,"body_markdown":"I didn&#39;t get why you said as a comment to Eugene Kuleshov that even java.exe won&#39;t do it.\r\n\r\nYou have to be careful to redirect both out and err output streams.\r\nUsually, when sending data to the console output in Java, the &quot;normal&quot; console log is sent to `System.out` but errors are sent to `System.err`. The DOS cmd handles this with two different streams.\r\nIn this case, you have to either redirect the error stream to a different file like this\r\n\r\n    java.exe -cp .;Server.jar;Util.jar com.manage.Program %1 &gt; log.log 2&gt; err.log\r\n\r\nor you can merge it in the same file by doing\r\n\r\n    java.exe -cp .;Server.jar;Util.jar com.manage.Program %1 &gt; log.log 2&gt;&amp;1\r\n\r\nWe have the same issue when using the `start javaw` command.\r\nWe only use it in production and use the above java.exe when on test bench.\r\n\r\nOf course, the best way would be not to output to the console which is the best practice, but who&#39;s doing this? ;)","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>I didn't get why you said as a comment to Eugene Kuleshov that even java.exe won't do it.</p>\n\n<p>You have to be careful to redirect both out and err output streams.\nUsually, when sending data to the console output in Java, the \"normal\" console log is sent to <code>System.out</code> but errors are sent to <code>System.err</code>. The DOS cmd handles this with two different streams.\nIn this case, you have to either redirect the error stream to a different file like this</p>\n\n<pre><code>java.exe -cp .;Server.jar;Util.jar com.manage.Program %1 &gt; log.log 2&gt; err.log\n</code></pre>\n\n<p>or you can merge it in the same file by doing</p>\n\n<pre><code>java.exe -cp .;Server.jar;Util.jar com.manage.Program %1 &gt; log.log 2&gt;&amp;1\n</code></pre>\n\n<p>We have the same issue when using the <code>start javaw</code> command.\nWe only use it in production and use the above java.exe when on test bench.</p>\n\n<p>Of course, the best way would be not to output to the console which is the best practice, but who's doing this? ;)</p>\n"},{"tags":[],"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293471655,"creation_date":1293471655,"answer_id":4540586,"question_id":4464319,"body_markdown":"This is all you need in the batch file\r\n\r\nstart /b javaw.exe -cp .;Server.jar;Util.jar com.manage.Program %1 &gt; log.log 2&gt;&amp;1\r\n\r\ndon&#39;t put any of the other information in there. Once your program exits check the log file.\r\n\r\n","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>This is all you need in the batch file</p>\n\n<p>start /b javaw.exe -cp .;Server.jar;Util.jar com.manage.Program %1 > log.log 2>&amp;1</p>\n\n<p>don't put any of the other information in there. Once your program exits check the log file.</p>\n"},{"tags":[],"owner":{"account_id":71126,"reputation":3079,"user_id":205711,"display_name":"Oleg Ryaboy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1311624488,"creation_date":1293567901,"answer_id":4549240,"question_id":4464319,"body_markdown":"It sounds like you want to log console output without actually displaying a console. I can see three ways of doing something similar:\r\n\r\n1. Start console minimized, so that it&#39;s less annoying. You can do that by creating a shortcut to a batch file, and then setting the properties of the shortcut to run the batch file in a minimized window instead of using the default setting of &quot;Normal window&quot;.\r\n\r\n2. Create a script to run the bat file in a hidden window, like so: http://gallery.technet.microsoft.com/ScriptCenter/en-us/8bbed56f-a7aa-491f-a296-687dd96098a3\r\n\r\n3. Use a third party tool, like [hstart][1]. (Note: according to djangofan, hstart was not written for Java programs and does not really work)\r\n\r\n\r\n  [1]: http://www.ntwind.com/software/utilities/hstart.html","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>It sounds like you want to log console output without actually displaying a console. I can see three ways of doing something similar:</p>\n\n<ol>\n<li><p>Start console minimized, so that it's less annoying. You can do that by creating a shortcut to a batch file, and then setting the properties of the shortcut to run the batch file in a minimized window instead of using the default setting of \"Normal window\".</p></li>\n<li><p>Create a script to run the bat file in a hidden window, like so: <a href=\"http://gallery.technet.microsoft.com/ScriptCenter/en-us/8bbed56f-a7aa-491f-a296-687dd96098a3\" rel=\"nofollow\">http://gallery.technet.microsoft.com/ScriptCenter/en-us/8bbed56f-a7aa-491f-a296-687dd96098a3</a></p></li>\n<li><p>Use a third party tool, like <a href=\"http://www.ntwind.com/software/utilities/hstart.html\" rel=\"nofollow\">hstart</a>. (Note: according to djangofan, hstart was not written for Java programs and does not really work)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":277484,"reputation":6115,"user_id":571517,"display_name":"bbaassssiiee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498591299,"creation_date":1309421081,"answer_id":6531762,"question_id":4464319,"body_markdown":"Sometimes your webstart application crashes and you cannot see why because the Console closes with the crash.\r\nTo enable console logging in Java webstart with JDK 1.6:\r\n\r\nStart-&gt;Run...-&gt;**javaws -viewer**\r\nClose the Java Cache Viewer\r\n**Advanced tab-&gt;Debugging**\r\ncheck &#39;Enable tracing&#39; and &#39;Enable logging&#39;\r\n\r\nYou logfiles can now be found in:\r\n\r\n**C:\\Documents and Settings\\USER\\Application Data\\Sun\\Java\\Deployment\\log**\r\n\r\n","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>Sometimes your webstart application crashes and you cannot see why because the Console closes with the crash.\nTo enable console logging in Java webstart with JDK 1.6:</p>\n\n<p>Start->Run...-><strong>javaws -viewer</strong>\nClose the Java Cache Viewer\n<strong>Advanced tab->Debugging</strong>\ncheck 'Enable tracing' and 'Enable logging'</p>\n\n<p>You logfiles can now be found in:</p>\n\n<p><strong>C:\\Documents and Settings\\USER\\Application Data\\Sun\\Java\\Deployment\\log</strong></p>\n"},{"tags":[],"owner":{"account_id":776208,"reputation":1,"user_id":824669,"display_name":"Bharath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353222888,"creation_date":1309515094,"answer_id":6546581,"question_id":4464319,"body_markdown":"Try something like this\r\n`JRE\\bin\\java -cp .;Server.jar;Util.jar com.manage.Program &gt;&gt;log.log`\r\nor\r\n`JRE\\bin\\javaw -cp .;Server.jar;Util.jar com.manage.Program &gt;&gt;log.log`\r\n\r\nsave the above as a batch file and run.\r\n","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>Try something like this\n<code>JRE\\bin\\java -cp .;Server.jar;Util.jar com.manage.Program &gt;&gt;log.log</code>\nor\n<code>JRE\\bin\\javaw -cp .;Server.jar;Util.jar com.manage.Program &gt;&gt;log.log</code></p>\n\n<p>save the above as a batch file and run.</p>\n"},{"tags":[],"owner":{"account_id":4187127,"reputation":71,"user_id":3430630,"display_name":"user3430630"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1395090380,"creation_date":1395089053,"answer_id":22464966,"question_id":4464319,"body_markdown":"Its more simple than you think.\r\n\r\nYou only need to change the `System.out`:\r\n\r\n    System.setOut(new PrintStream(new FileOutputStream(&quot;log.txt&quot;,true)));\r\n\r\nAnd that&#39;s it!\r\n\r\n\r\nGood luck.","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>Its more simple than you think.</p>\n\n<p>You only need to change the <code>System.out</code>:</p>\n\n<pre><code>System.setOut(new PrintStream(new FileOutputStream(\"log.txt\",true)));\n</code></pre>\n\n<p>And that's it!</p>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":7042332,"reputation":121,"user_id":5394411,"accept_rate":29,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511785740,"creation_date":1511785740,"answer_id":47511036,"question_id":4464319,"body_markdown":"The below code worked perfectly fine for me without changing a single line of code in my java application. \r\n\r\n`javaw -jar &lt;jar_file&gt;.jar &gt;&gt; &lt;log_file&gt;.log`\r\n\r\nSorry, I am not allowed to put a comment on Vanchinathan&#39;s post, so posting an answer here.","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>The below code worked perfectly fine for me without changing a single line of code in my java application. </p>\n\n<p><code>javaw -jar &lt;jar_file&gt;.jar &gt;&gt; &lt;log_file&gt;.log</code></p>\n\n<p>Sorry, I am not allowed to put a comment on Vanchinathan's post, so posting an answer here.</p>\n"},{"tags":[],"owner":{"account_id":13270410,"reputation":31,"user_id":9581672,"display_name":"Ahmed Elkhodary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546854346,"creation_date":1546852242,"answer_id":54071364,"question_id":4464319,"body_markdown":"you can use this command line at cmd \r\n\r\n`C:\\Program Files\\Java\\jdk1.8.0_151\\bin&gt;javaw -jar D:\\ccr_notification\\ccr-api-0.\r\n0.1-SNAPSHOT.jar 2&gt;&amp;1 &gt;D:\\ccr_notification\\output.log`\r\n\r\nReference\r\n https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_redirection?view=powershell-6\r\n","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>you can use this command line at cmd </p>\n\n<p><code>C:\\Program Files\\Java\\jdk1.8.0_151\\bin&gt;javaw -jar D:\\ccr_notification\\ccr-api-0.\n0.1-SNAPSHOT.jar 2&gt;&amp;1 &gt;D:\\ccr_notification\\output.log</code></p>\n\n<p>Reference\n <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_redirection?view=powershell-6\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_redirection?view=powershell-6</a></p>\n"},{"tags":[],"owner":{"account_id":25767756,"reputation":1,"user_id":19517243,"display_name":"Gustavo Vanni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657385700,"creation_date":1657385700,"answer_id":72923208,"question_id":4464319,"body_markdown":"I managed to get it working with the command below\r\n\r\nstart /B /I javaw -jar program.jar &gt;&gt; output.log\r\n\r\nDon&#39;t know if it will help someone...","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>I managed to get it working with the command below</p>\n<p>start /B /I javaw -jar program.jar &gt;&gt; output.log</p>\n<p>Don't know if it will help someone...</p>\n"}],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30745,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":4549240,"answer_count":12,"score":13,"last_activity_date":1657385700,"creation_date":1292525456,"question_id":4464319,"body_markdown":"I am wanting to start my Java program from a batch file.  This is the script I want to use to start the app but the problem is that I am not able to get the console output to redirect to a log file.   Can anyone offer any hints without having to edit any code, and by using Java command line options or something?\r\n\r\n    @echo off\r\n    set TASK=MyApp\r\n    TITLE %TASK%\r\n    start javaw.exe -cp .;Server.jar;Util.jar com.manage.Program %1 &gt; log.log 2&gt;&amp;1\r\n    taskkill /T /FI &quot;WINDOWTITLE eq %TASK%&quot;\r\n\r\nSo, the above works, and actually kills the cmd window that spawns my Swing app, but it doesn&#39;t log anything to the log file, presumably because the &quot;start&quot; forked the process away from the &quot;&gt; log.log 2&gt;&amp;1&quot; arg?\r\n\r\nI could probably fix it by using start to call another batch file but I am hoping for a more elegant answer.","title":"How do I redirect a javaw.exe console output to a log file?","body":"<p>I am wanting to start my Java program from a batch file.  This is the script I want to use to start the app but the problem is that I am not able to get the console output to redirect to a log file.   Can anyone offer any hints without having to edit any code, and by using Java command line options or something?</p>\n\n<pre><code>@echo off\nset TASK=MyApp\nTITLE %TASK%\nstart javaw.exe -cp .;Server.jar;Util.jar com.manage.Program %1 &gt; log.log 2&gt;&amp;1\ntaskkill /T /FI \"WINDOWTITLE eq %TASK%\"\n</code></pre>\n\n<p>So, the above works, and actually kills the cmd window that spawns my Swing app, but it doesn't log anything to the log file, presumably because the \"start\" forked the process away from the \"> log.log 2>&amp;1\" arg?</p>\n\n<p>I could probably fix it by using start to call another batch file but I am hoping for a more elegant answer.</p>\n"},{"tags":["java","shortest-path","constraint-programming","choco"],"answers":[{"tags":[],"owner":{"account_id":15866,"reputation":1914,"user_id":33965,"display_name":"Zayenz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657104286,"creation_date":1657104286,"answer_id":72882168,"question_id":72879784,"body_markdown":"Without going into the specifics of Choco, the problem you describe is more commonly known as the [Set Covering problem](https://en.wikipedia.org/wiki/Set_cover_problem). For some comments on the problem in the context of an assignment in a discrete optimization course see [this video](https://www.coursera.org/lecture/discrete-optimization/set-cover-54bVs).\r\n\r\nA simple way to model this is to have a Boolean variable for each of your paths indicating if it is chosen or not. Then for each city, you add a constraint that at least one of the paths that visit that city is chosen. This can be done either with disjunction (an or over the Boolean variables for the paths visiting the current city) or by requiring that the sum of the relevant paths is at least one.\r\n\r\nIn other words, you should only need a single variable per path. There is no need to find out which path visits a city.","title":"ChocoSolver - Find the minimal number of path to visit all cities","body":"<p>Without going into the specifics of Choco, the problem you describe is more commonly known as the <a href=\"https://en.wikipedia.org/wiki/Set_cover_problem\" rel=\"nofollow noreferrer\">Set Covering problem</a>. For some comments on the problem in the context of an assignment in a discrete optimization course see <a href=\"https://www.coursera.org/lecture/discrete-optimization/set-cover-54bVs\" rel=\"nofollow noreferrer\">this video</a>.</p>\n<p>A simple way to model this is to have a Boolean variable for each of your paths indicating if it is chosen or not. Then for each city, you add a constraint that at least one of the paths that visit that city is chosen. This can be done either with disjunction (an or over the Boolean variables for the paths visiting the current city) or by requiring that the sum of the relevant paths is at least one.</p>\n<p>In other words, you should only need a single variable per path. There is no need to find out which path visits a city.</p>\n"},{"tags":[],"owner":{"account_id":15701232,"reputation":71,"user_id":11329309,"display_name":"Arthur Godet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657384803,"creation_date":1657384803,"answer_id":72923105,"question_id":72879784,"body_markdown":"Actually, you don&#39;t need to declare the city_by_path variables as new ones. Indeed, either the path is used and its cities are visited, either the path is not used and all cities will be valued to zero in the matrix (which is always true for cities not in the path).\r\n\r\nTo make it work, you can declare your matrix the following:\r\n\r\n    IntVar[][] city_by_path = new IntVar[nbCity][nbPath];\r\n\r\nAnd, instead of your element constraints, you fill the matrix with the usedPath variables or with variables valued to zero whether the city is in the path or not:\r\n\r\n    for (int p = 0; p &lt; nbPath; p++) {\r\n        for (int c = 0; c &lt; nbCity; c++) {\r\n            final int cityId = c + 1;\r\n            if (Arrays.stream(M[p]).anyMatch(i -&gt; i == cityId)) {\r\n                city_by_path[c][p] = usedPath[p];\r\n            } else {\r\n                city_by_path[c][p] = model.intVar(0);\r\n            }\r\n        }\r\n    }\r\n\r\nThe remainder of your code is correct.\r\nAlso, when solving a CSP with a constraint solver, it is always a good idea to help the solver by specifying on which variables to branch. Branching scheme designed specifically for the problem are generally better to find solutions quickly. Here, you can add the following branching scheme (which an optimal solution in 3 nodes and without any backtrack - especially because the instance of the problem is very easy):\r\n\r\n    model.getSolver().setSearch(Search.inputOrderLBSearch(usedPath));","title":"ChocoSolver - Find the minimal number of path to visit all cities","body":"<p>Actually, you don't need to declare the city_by_path variables as new ones. Indeed, either the path is used and its cities are visited, either the path is not used and all cities will be valued to zero in the matrix (which is always true for cities not in the path).</p>\n<p>To make it work, you can declare your matrix the following:</p>\n<pre><code>IntVar[][] city_by_path = new IntVar[nbCity][nbPath];\n</code></pre>\n<p>And, instead of your element constraints, you fill the matrix with the usedPath variables or with variables valued to zero whether the city is in the path or not:</p>\n<pre><code>for (int p = 0; p &lt; nbPath; p++) {\n    for (int c = 0; c &lt; nbCity; c++) {\n        final int cityId = c + 1;\n        if (Arrays.stream(M[p]).anyMatch(i -&gt; i == cityId)) {\n            city_by_path[c][p] = usedPath[p];\n        } else {\n            city_by_path[c][p] = model.intVar(0);\n        }\n    }\n}\n</code></pre>\n<p>The remainder of your code is correct.\nAlso, when solving a CSP with a constraint solver, it is always a good idea to help the solver by specifying on which variables to branch. Branching scheme designed specifically for the problem are generally better to find solutions quickly. Here, you can add the following branching scheme (which an optimal solution in 3 nodes and without any backtrack - especially because the instance of the problem is very easy):</p>\n<pre><code>model.getSolver().setSearch(Search.inputOrderLBSearch(usedPath));\n</code></pre>\n"}],"owner":{"account_id":22151462,"reputation":13,"user_id":16399944,"display_name":"MatthieuQcc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72923105,"answer_count":2,"score":0,"last_activity_date":1657384803,"creation_date":1657094156,"question_id":72879784,"body_markdown":"I am using Choco Solver 4.10.8 in Java for a constraint programming problem. The goal is to find the minimal number of path we need to use to visit all the cities in a matrix M which is defined here.  \r\nWe have 4 paths, and 6 cities.\r\n```\r\nstatic int[][] M = new int[][]{\t\t\r\n\t\t{2, 3, 4, 5, 6},\r\n\t\t{1, 2, 5},\r\n\t\t{2, 3, 4},\t\t\r\n\t\t{3, 4, 6}\t\t\t\t\t  \r\n};\r\n```\r\n&gt;Here the solver should return 0 and 1, which are the indexes of the path we need to take to see all the 6 cities. Indeed, with 2 paths only, we have reached all the cities in the matrix.\r\n\r\nI&#39;m a beginner with Choco Solver, and I&#39;m having trouble defining the constraints of the problem. I think that I have well defined the variables of the problem, here are there:\r\n\r\n```\r\nModel model = new Model(&quot;minimalPaths&quot;);\r\n\r\n// VARIABLES\r\n\r\nint nbPath = M.length;\r\nint nbCity = 6;\r\n\r\n// Table of nbPath length which shows if a path is used (1) or no (0)\r\nIntVar[] usedPath = model.intVarArray(&quot;path&quot;, nbPath, 0, 1);\r\n\r\n// Which paths are used by each city\r\nIntVar[][] city_by_path = model.intVarMatrix(&quot;city&quot;, nbCity, nbPath,  0, 1);\r\n\r\n// Total number of paths used for the solution - we want to minimize that\r\nIntVar totalPath = model.intVar(&quot;totalPath&quot;, 0, nbPath);\t\t\r\n```\r\nI chose to use IntVar and not BoolVar because I think that it&#39;s easier to deal with the different constraints. Concerning the constraints, I have tried this:\r\n```\r\n// CONTRAINTES\r\n\t\t\r\n// We loop over the paths of M\r\nfor(int i=0; i&lt;nbPath; i++) {\r\n    // We loop over all the cities for a Path\r\n\tint[] path = M[i];\r\n\tfor(int city: path) {\r\n\t    // If the Path is used or not, we update the value in the table\r\n\t\tmodel.element(usedPath[i], city_by_path[city-1], model.intVar(i), 0).post();\r\n\t}\r\n}\r\n\r\n// This constraint is used to have at least one path used for one city\r\n// This means we want to see all the cities\r\nfor(int i = 0; i&lt;nbCity; i++) {\r\n\tmodel.sum(city_by_path[i], &quot;&gt;=&quot;, model.intVar(1)).post();\r\n}\r\n\t\t\r\n// The sum of all the Path used is the variable we will minimize\r\n// usedPath[i] = 0 or 1 so if we sum all our value, we will have the total number of paths used\r\nmodel.sum(usedPath, &quot;=&quot;, totalPath).post();\r\n\t\r\n// We want to minimize the total number of Paths we will use\r\nmodel.setObjective(Model.MINIMIZE, totalPath);\r\n```\r\nI&#39;m sure that some of my constraints are badly defined but I really don&#39;t know where.  \r\nWhen I try to solve this, I print the object city_by_path associated to the solution. It shows me that the solution is not good and the constraints are not respected...\r\n```\r\n\tpath i=2 is used\r\nCity 1: 1 0 0 0 \r\nCity 2: 0 0 1 0 \r\nCity 3: 0 0 1 0 \r\nCity 4: 0 0 1 0 \r\nCity 5: 0 0 0 1 \r\nCity 6: 0 1 0 0 \r\n\tTotal path used : 1\r\n```\r\n\r\nI was wondering if you can have a look to my code and give me some advices about the definition of my variables and constraints for this problem.\r\n","title":"ChocoSolver - Find the minimal number of path to visit all cities","body":"<p>I am using Choco Solver 4.10.8 in Java for a constraint programming problem. The goal is to find the minimal number of path we need to use to visit all the cities in a matrix M which is defined here.<br />\nWe have 4 paths, and 6 cities.</p>\n<pre><code>static int[][] M = new int[][]{     \n        {2, 3, 4, 5, 6},\n        {1, 2, 5},\n        {2, 3, 4},      \n        {3, 4, 6}                     \n};\n</code></pre>\n<blockquote>\n<p>Here the solver should return 0 and 1, which are the indexes of the path we need to take to see all the 6 cities. Indeed, with 2 paths only, we have reached all the cities in the matrix.</p>\n</blockquote>\n<p>I'm a beginner with Choco Solver, and I'm having trouble defining the constraints of the problem. I think that I have well defined the variables of the problem, here are there:</p>\n<pre><code>Model model = new Model(&quot;minimalPaths&quot;);\n\n// VARIABLES\n\nint nbPath = M.length;\nint nbCity = 6;\n\n// Table of nbPath length which shows if a path is used (1) or no (0)\nIntVar[] usedPath = model.intVarArray(&quot;path&quot;, nbPath, 0, 1);\n\n// Which paths are used by each city\nIntVar[][] city_by_path = model.intVarMatrix(&quot;city&quot;, nbCity, nbPath,  0, 1);\n\n// Total number of paths used for the solution - we want to minimize that\nIntVar totalPath = model.intVar(&quot;totalPath&quot;, 0, nbPath);        \n</code></pre>\n<p>I chose to use IntVar and not BoolVar because I think that it's easier to deal with the different constraints. Concerning the constraints, I have tried this:</p>\n<pre><code>// CONTRAINTES\n        \n// We loop over the paths of M\nfor(int i=0; i&lt;nbPath; i++) {\n    // We loop over all the cities for a Path\n    int[] path = M[i];\n    for(int city: path) {\n        // If the Path is used or not, we update the value in the table\n        model.element(usedPath[i], city_by_path[city-1], model.intVar(i), 0).post();\n    }\n}\n\n// This constraint is used to have at least one path used for one city\n// This means we want to see all the cities\nfor(int i = 0; i&lt;nbCity; i++) {\n    model.sum(city_by_path[i], &quot;&gt;=&quot;, model.intVar(1)).post();\n}\n        \n// The sum of all the Path used is the variable we will minimize\n// usedPath[i] = 0 or 1 so if we sum all our value, we will have the total number of paths used\nmodel.sum(usedPath, &quot;=&quot;, totalPath).post();\n    \n// We want to minimize the total number of Paths we will use\nmodel.setObjective(Model.MINIMIZE, totalPath);\n</code></pre>\n<p>I'm sure that some of my constraints are badly defined but I really don't know where.<br />\nWhen I try to solve this, I print the object city_by_path associated to the solution. It shows me that the solution is not good and the constraints are not respected...</p>\n<pre><code>    path i=2 is used\nCity 1: 1 0 0 0 \nCity 2: 0 0 1 0 \nCity 3: 0 0 1 0 \nCity 4: 0 0 1 0 \nCity 5: 0 0 0 1 \nCity 6: 0 1 0 0 \n    Total path used : 1\n</code></pre>\n<p>I was wondering if you can have a look to my code and give me some advices about the definition of my variables and constraints for this problem.</p>\n"},{"tags":["java","arraylist","bubble-sort"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":1,"creation_date":1657377825,"post_id":72922225,"comment_id":128798527,"body_markdown":"Your `ArrayList&lt;Baby&gt;` contains `Baby` objects. Why are you setting a `String`?","body":"Your <code>ArrayList&lt;Baby&gt;</code> contains <code>Baby</code> objects. Why are you setting a <code>String</code>?"},{"owner":{"account_id":25314861,"reputation":17,"user_id":19137131,"display_name":"T4ctician"},"score":0,"creation_date":1657378141,"post_id":72922225,"comment_id":128798593,"body_markdown":"i am using the string to compare to the other string","body":"i am using the string to compare to the other string"},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":1,"creation_date":1657378221,"post_id":72922225,"comment_id":128798617,"body_markdown":"That&#39;s fine :) My point is you should be setting the `Baby` objects, not their names.","body":"That&#39;s fine :) My point is you should be setting the <code>Baby</code> objects, not their names."},{"owner":{"account_id":25314861,"reputation":17,"user_id":19137131,"display_name":"T4ctician"},"score":0,"creation_date":1657379653,"post_id":72922225,"comment_id":128798939,"body_markdown":"but if i set is to\nbabies.set(i-1, babies[i]);\nbabies.set(i, babies[i-1]);\nit will result in Multiple marker&quot;The methods set(int, Baby) in the type ArrayList is not applicable for the arguments(int, string)&quot; and  &quot;The types of expression must be an array type but is resolved to ArrayList&lt;Baby&gt;&quot;","body":"but if i set is to babies.set(i-1, babies[i]); babies.set(i, babies[i-1]); it will result in Multiple marker&quot;The methods set(int, Baby) in the type ArrayList is not applicable for the arguments(int, string)&quot; and  &quot;The types of expression must be an array type but is resolved to ArrayList&lt;Baby&gt;&quot;"}],"answers":[{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657384259,"creation_date":1657384259,"answer_id":72923044,"question_id":72922225,"body_markdown":"You want to change the inner of your for loop in oder to set the elements to childs and not to string while swapping.\r\n\r\nYour list is the type of `Baby` and you want to change elements in the list by the name of the baby. The problem with that is that the type of a name is a `String` and therefor missmatches the type `Baby`. In oder to fix this you can change the local variables to `Baby` instead of `String` and just use `getName()` in your if to compaire them as shown below:\r\n\r\n\r\n    for(int i = 1; i &lt; babies.size(); i++) {\r\n        Baby baby1 = babies.get(i-1);\r\n        Baby baby2 = babies.get(i);\r\n        if(baby1.getName().compareTo(baby2.getName())&gt;0) { //swap the two strings\r\n            babies.set(i-1, baby2);\r\n            babies.set(i, baby1);\r\n            swap = true;\r\n        }\r\n    }","title":"Using bubbles sort to sort ArrayList of (String, Int) to alphabetical order","body":"<p>You want to change the inner of your for loop in oder to set the elements to childs and not to string while swapping.</p>\n<p>Your list is the type of <code>Baby</code> and you want to change elements in the list by the name of the baby. The problem with that is that the type of a name is a <code>String</code> and therefor missmatches the type <code>Baby</code>. In oder to fix this you can change the local variables to <code>Baby</code> instead of <code>String</code> and just use <code>getName()</code> in your if to compaire them as shown below:</p>\n<pre><code>for(int i = 1; i &lt; babies.size(); i++) {\n    Baby baby1 = babies.get(i-1);\n    Baby baby2 = babies.get(i);\n    if(baby1.getName().compareTo(baby2.getName())&gt;0) { //swap the two strings\n        babies.set(i-1, baby2);\n        babies.set(i, baby1);\n        swap = true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25314861,"reputation":17,"user_id":19137131,"display_name":"T4ctician"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72923044,"answer_count":1,"score":0,"last_activity_date":1657384259,"creation_date":1657377299,"question_id":72922225,"body_markdown":"I am trying to sort the babies in alphabetical order in the sortBabies using bubblesort but i unable to swap the position as the error came up as &quot;The methods set(int, Baby) in the type ArrayList&lt;baby&gt; is not applicable for the arguments(int, string)&quot;. I set the name 1 and name 2 to string value so i am able to compare but now i am unable to swap the position.\r\n\r\n\r\n    import java.util.*;\r\n    public class BabyCilent {\r\n    static Scanner scanner = new Scanner(System.in);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tArrayList&lt;Baby&gt; babies = new ArrayList&lt;Baby&gt;();\r\n\t\t\r\n\t\t/*for(int i = 0; i &lt; 4; i++) {\r\n\t\t\tBaby newBaby = getBaby();\r\n\t\t\tbabies.add(newBaby);\r\n\t\t}*/\r\n\t\t\r\n\t\t//hardcode data so that dont need to keep entering\r\n\t\t\r\n\t\tBaby baby1 = new Baby(&quot;d&quot;, 4);\r\n\t\tBaby baby2 = new Baby(&quot;c&quot;, 3);\r\n\t\tBaby baby3 = new Baby(&quot;a&quot;, 1);\r\n\t\tBaby baby4 = new Baby(&quot;b&quot;, 2);\r\n\t\tbabies.add(baby1);\r\n\t\tbabies.add(baby2);\r\n\t\tbabies.add(baby3);\r\n\t\tbabies.add(baby4);\r\n\t\t\r\n        int choice = 0;\r\n        while(choice != 7){\r\n           System.out.println(&quot;1. Print all the baby in the array list&quot;);\r\n           System.out.println(&quot;2. Calculate the average age for all the baby&quot;);\r\n           System.out.println(&quot;3. Remove the baby in the array listn&quot;);\r\n           System.out.println(&quot;4. Add one more baby into the array list&quot;);\r\n           System.out.println(&quot;5. Sort all the baby in alphabetical order&quot;);\r\n           System.out.println(&quot;6. Output sorted baby to CSV file&quot;);\r\n           System.out.println(&quot;7. Exit&quot;);\r\n            choice = scanner.nextInt();\r\n            if(choice == 1) {\r\n            \tprintAllBabies(babies);\r\n            } \r\n            if(choice == 2) {\r\n            \tcalculateAveAge(babies);\r\n            }\r\n            if(choice == 3){\r\n            \tremoveBaby(babies);\r\n            } \r\n            if(choice == 4){\r\n            \taddInOneMoreBaby(babies);\r\n            } \r\n            if(choice == 5) {\r\n            \tsortBabies(babies);\r\n            }\r\n            if(choice == 6) {\r\n            \ttoCSVFile(babies);\r\n            }\r\n        }\t\r\n\t}\r\n\t\r\n\tprivate static void sortBabies(ArrayList&lt;Baby&gt; babies) {\r\n\t\tboolean swap = true;\r\n\t\twhile(swap) {\r\n\t\t\tswap = false;\r\n\t\t\tfor(int i = 1; i &lt; babies.size(); i++) {\r\n\t\t\t\tString name1 = babies.get(i-1).getName();\r\n\t\t\t\tString name2 = babies.get(i).getName();\r\n\t\t\t\tif(name1.compareTo(name2)&gt;0) { //swap the two strings\r\n\t\t\t\t\tbabies.set(i-1, name2);\r\n\t\t\t\t\tbabies.set(i, name1);\r\n\t\t\t\t\tswap = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Using bubbles sort to sort ArrayList of (String, Int) to alphabetical order","body":"<p>I am trying to sort the babies in alphabetical order in the sortBabies using bubblesort but i unable to swap the position as the error came up as &quot;The methods set(int, Baby) in the type ArrayList is not applicable for the arguments(int, string)&quot;. I set the name 1 and name 2 to string value so i am able to compare but now i am unable to swap the position.</p>\n<pre><code>import java.util.*;\npublic class BabyCilent {\nstatic Scanner scanner = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    ArrayList&lt;Baby&gt; babies = new ArrayList&lt;Baby&gt;();\n    \n    /*for(int i = 0; i &lt; 4; i++) {\n        Baby newBaby = getBaby();\n        babies.add(newBaby);\n    }*/\n    \n    //hardcode data so that dont need to keep entering\n    \n    Baby baby1 = new Baby(&quot;d&quot;, 4);\n    Baby baby2 = new Baby(&quot;c&quot;, 3);\n    Baby baby3 = new Baby(&quot;a&quot;, 1);\n    Baby baby4 = new Baby(&quot;b&quot;, 2);\n    babies.add(baby1);\n    babies.add(baby2);\n    babies.add(baby3);\n    babies.add(baby4);\n    \n    int choice = 0;\n    while(choice != 7){\n       System.out.println(&quot;1. Print all the baby in the array list&quot;);\n       System.out.println(&quot;2. Calculate the average age for all the baby&quot;);\n       System.out.println(&quot;3. Remove the baby in the array listn&quot;);\n       System.out.println(&quot;4. Add one more baby into the array list&quot;);\n       System.out.println(&quot;5. Sort all the baby in alphabetical order&quot;);\n       System.out.println(&quot;6. Output sorted baby to CSV file&quot;);\n       System.out.println(&quot;7. Exit&quot;);\n        choice = scanner.nextInt();\n        if(choice == 1) {\n            printAllBabies(babies);\n        } \n        if(choice == 2) {\n            calculateAveAge(babies);\n        }\n        if(choice == 3){\n            removeBaby(babies);\n        } \n        if(choice == 4){\n            addInOneMoreBaby(babies);\n        } \n        if(choice == 5) {\n            sortBabies(babies);\n        }\n        if(choice == 6) {\n            toCSVFile(babies);\n        }\n    }   \n}\n\nprivate static void sortBabies(ArrayList&lt;Baby&gt; babies) {\n    boolean swap = true;\n    while(swap) {\n        swap = false;\n        for(int i = 1; i &lt; babies.size(); i++) {\n            String name1 = babies.get(i-1).getName();\n            String name2 = babies.get(i).getName();\n            if(name1.compareTo(name2)&gt;0) { //swap the two strings\n                babies.set(i-1, name2);\n                babies.set(i, name1);\n                swap = true;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387023939,"creation_date":1387023939,"answer_id":20583260,"question_id":20583164,"body_markdown":"I guess you need to implement a short method like this:\r\n\r\n    private static String getSimpleName(Class&lt;?&gt; clazz) {\r\n\t\tString simpleName = clazz.getSimpleName();\r\n\t\tif (clazz.isMemberClass()) {\r\n\t\t\tClass&lt;?&gt; enclosingClass = clazz.getEnclosingClass();\r\n\t\t\tsimpleName = enclosingClass.getSimpleName() + &quot;.&quot; + simpleName;\r\n\t\t}\r\n\t\treturn simpleName;\r\n\t}\r\n\r\nThen \r\n\r\n\tString simpleName = getSimpleName(AnotherTopLevelLongNamedClass.First.class);\r\n\tSystem.out.println(simpleName);\r\n\r\nwill Output\r\n\r\n    AnotherTopLevelLongNamedClass.First\r\n\r\n\r\n\t\r\n\r\n","title":"How to really get the name of a class without the package?","body":"<p>I guess you need to implement a short method like this:</p>\n\n<pre><code>private static String getSimpleName(Class&lt;?&gt; clazz) {\n    String simpleName = clazz.getSimpleName();\n    if (clazz.isMemberClass()) {\n        Class&lt;?&gt; enclosingClass = clazz.getEnclosingClass();\n        simpleName = enclosingClass.getSimpleName() + \".\" + simpleName;\n    }\n    return simpleName;\n}\n</code></pre>\n\n<p>Then </p>\n\n<pre><code>String simpleName = getSimpleName(AnotherTopLevelLongNamedClass.First.class);\nSystem.out.println(simpleName);\n</code></pre>\n\n<p>will Output</p>\n\n<pre><code>AnotherTopLevelLongNamedClass.First\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249018,"reputation":258,"user_id":524768,"display_name":"dsafcdsge4rfdse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387025595,"creation_date":1387024077,"answer_id":20583291,"question_id":20583164,"body_markdown":"Have a look at this:\r\n\r\n        public static String findName (Object o){\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            Class&lt;? extends Object&gt; clazz = o.getClass();\r\n\r\n            list.add(clazz.getSimpleName());\r\n            while (clazz.getEnclosingClass() != null) {\r\n                clazz = clazz.getEnclosingClass();\r\n                list.add(clazz.getSimpleName());\r\n            }\r\n\r\n            StringBuilder builder = new StringBuilder();\r\n            for (int i=list.size()-1; i&gt;=0; i--){\r\n                builder.append(list.get(i));\r\n                builder.append(&quot;.&quot;);\r\n            }\r\n            builder.delete(builder.length()-1, builder.length());\r\n            return builder.toString();\r\n\r\n        }","title":"How to really get the name of a class without the package?","body":"<p>Have a look at this:</p>\n\n<pre><code>    public static String findName (Object o){\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        Class&lt;? extends Object&gt; clazz = o.getClass();\n\n        list.add(clazz.getSimpleName());\n        while (clazz.getEnclosingClass() != null) {\n            clazz = clazz.getEnclosingClass();\n            list.add(clazz.getSimpleName());\n        }\n\n        StringBuilder builder = new StringBuilder();\n        for (int i=list.size()-1; i&gt;=0; i--){\n            builder.append(list.get(i));\n            builder.append(\".\");\n        }\n        builder.delete(builder.length()-1, builder.length());\n        return builder.toString();\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615693426,"creation_date":1615693426,"answer_id":66620884,"question_id":20583164,"body_markdown":"Already you describe the best method, I think.\r\n\r\n&gt; I know I could get the package name and strip a corresponding number of characters from the full class name, but I guess somebody did it already?\r\n\r\nThe earlier answers don’t take this approach, but I think they suffer for it.  Roughly it would be:\r\n\r\n    cl.getName().substring( cl.getPackageName().length() )\r\n\r\nTaking account of edge cases, here’s an implementation:\r\n\r\n    /** Returns `cl.getName` stripped of any leading package qualifier.\r\n      */\r\n    String nameWithoutPackage( Class cl ) {\r\n        String name = cl.getName();\r\n        if( !cl.isArray() ) { // Then a package qualifier might lead the name.\r\n            int strip = cl.getPackageName().length();\r\n            if( strip &gt; 0 ) name = name.substring( strip + /*dot separator*/1 ); }\r\n        return name; }\r\n","title":"How to really get the name of a class without the package?","body":"<p>Already you describe the best method, I think.</p>\n<blockquote>\n<p>I know I could get the package name and strip a corresponding number of characters from the full class name, but I guess somebody did it already?</p>\n</blockquote>\n<p>The earlier answers don’t take this approach, but I think they suffer for it.  Roughly it would be:</p>\n<pre><code>cl.getName().substring( cl.getPackageName().length() )\n</code></pre>\n<p>Taking account of edge cases, here’s an implementation:</p>\n<pre><code>/** Returns `cl.getName` stripped of any leading package qualifier.\n  */\nString nameWithoutPackage( Class cl ) {\n    String name = cl.getName();\n    if( !cl.isArray() ) { // Then a package qualifier might lead the name.\n        int strip = cl.getPackageName().length();\n        if( strip &gt; 0 ) name = name.substring( strip + /*dot separator*/1 ); }\n    return name; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17109915,"reputation":121,"user_id":14625728,"display_name":"Krumuvecis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657383226,"creation_date":1657383226,"answer_id":72922933,"question_id":20583164,"body_markdown":"There is a method `getSimpleName()` in `java.lang.Class&lt;T&gt;`, which does indeed return only the name of the class.\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getSimpleName--","title":"How to really get the name of a class without the package?","body":"<p>There is a method <code>getSimpleName()</code> in <code>java.lang.Class&lt;T&gt;</code>, which does indeed return only the name of the class.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getSimpleName--\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2331,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1657383226,"creation_date":1387023418,"question_id":20583164,"body_markdown":"My question is intentionally titled nearly exactly like [this one][q], but what I want is to strip the package name *and nothing else*. My classes look like\r\n\r\n    class AProperlyAndDescriptivelyNamedClass {\r\n        class First {...}\r\n        class Next {...}\r\n        class Last {...}\r\n    }\r\n\r\n    class AnotherTopLevelLongNamedClass {\r\n        class First {...}\r\n        class Next {...}\r\n        class Last {...}\r\n    }\r\n\r\nAs you can see, I&#39;m using some long and descriptive class names for my top-level classes and repeating all the stuff in the nested classes would be pretty nonsensical. Using some strange shortcut would be no better. I always refer to the classes using their enclosing class (and no package) and that&#39;s how I want to print them too.\r\n\r\nI know I could get the package name and strip a corresponding number of characters from the full class name, but I guess somebody did it already?\r\n\r\n[q]: https://stackoverflow.com/questions/2690333/how-to-get-the-name-of-a-class-without-the-package\r\n","title":"How to really get the name of a class without the package?","body":"<p>My question is intentionally titled nearly exactly like <a href=\"https://stackoverflow.com/questions/2690333/how-to-get-the-name-of-a-class-without-the-package\">this one</a>, but what I want is to strip the package name <em>and nothing else</em>. My classes look like</p>\n\n<pre><code>class AProperlyAndDescriptivelyNamedClass {\n    class First {...}\n    class Next {...}\n    class Last {...}\n}\n\nclass AnotherTopLevelLongNamedClass {\n    class First {...}\n    class Next {...}\n    class Last {...}\n}\n</code></pre>\n\n<p>As you can see, I'm using some long and descriptive class names for my top-level classes and repeating all the stuff in the nested classes would be pretty nonsensical. Using some strange shortcut would be no better. I always refer to the classes using their enclosing class (and no package) and that's how I want to print them too.</p>\n\n<p>I know I could get the package name and strip a corresponding number of characters from the full class name, but I guess somebody did it already?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":25737161,"reputation":169,"user_id":19491703,"display_name":"Beant Singh"},"score":0,"creation_date":1657349369,"post_id":72919451,"comment_id":128793880,"body_markdown":"actually what you need is real path, what you have right now is content path \n try this https://stackoverflow.com/a/41520090/19491703","body":"actually what you need is real path, what you have right now is content path   try this <a href=\"https://stackoverflow.com/a/41520090/19491703\">stackoverflow.com/a/41520090/19491703</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1657350578,"post_id":72919451,"comment_id":128794027,"body_markdown":"No you do not need or can use an absolute path or a real path. Just take the uri and then use ImageView.loadUri(uri) or something like that.","body":"No you do not need or can use an absolute path or a real path. Just take the uri and then use ImageView.loadUri(uri) or something like that."}],"answers":[{"tags":[],"owner":{"account_id":16893180,"reputation":112,"user_id":12216383,"display_name":"Karamat Subhani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657383112,"creation_date":1657383112,"answer_id":72922923,"question_id":72919451,"body_markdown":"You may use a photo picker. a photo picker is a tool where you can get images of your phone. you may select a single image or multiple images using photo picker\r\nFor now i will explain how you will get single image  \r\n\r\nwhen you press on click \r\n```\r\n@Override\r\npublic void onClick(View view) {\r\nIntent intent = new Intent(MediaStore.ACTION_PICK_IMAGES);\r\nstartActivityForResult(intent, PHOTO_PICKER_REQUEST_CODE);\r\n}\r\n```\r\nyou may select any image from the Photo picker. on selecting any images, onActivityResult() handles callbacks from the photo picker. \r\n\r\n```\r\n// onActivityResult() handles callbacks from the photo picker.\r\n@Override\r\nprotected void onActivityResult(\r\n    int requestCode, int resultCode, final Intent data) {\r\n\r\n    if (resultCode != Activity.RESULT_OK) {\r\n        // Handle error\r\n        return;\r\n    }\r\n\r\n    switch(requestCode) {\r\n        case REQUEST_PHOTO_PICKER_SINGLE_SELECT:\r\n            // Get photo picker response for single select.\r\n            Uri currentUri = data.getData();\r\n\r\n            //you got image path, now you may use this \r\n            return;\r\n   \r\n    }\r\n}\r\n```\r\n","title":"How to load images from phone storage in android studio","body":"<p>You may use a photo picker. a photo picker is a tool where you can get images of your phone. you may select a single image or multiple images using photo picker\nFor now i will explain how you will get single image</p>\n<p>when you press on click</p>\n<pre><code>@Override\npublic void onClick(View view) {\nIntent intent = new Intent(MediaStore.ACTION_PICK_IMAGES);\nstartActivityForResult(intent, PHOTO_PICKER_REQUEST_CODE);\n}\n</code></pre>\n<p>you may select any image from the Photo picker. on selecting any images, onActivityResult() handles callbacks from the photo picker.</p>\n<pre><code>// onActivityResult() handles callbacks from the photo picker.\n@Override\nprotected void onActivityResult(\n    int requestCode, int resultCode, final Intent data) {\n\n    if (resultCode != Activity.RESULT_OK) {\n        // Handle error\n        return;\n    }\n\n    switch(requestCode) {\n        case REQUEST_PHOTO_PICKER_SINGLE_SELECT:\n            // Get photo picker response for single select.\n            Uri currentUri = data.getData();\n\n            //you got image path, now you may use this \n            return;\n   \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25756440,"reputation":1,"user_id":19508027,"display_name":"Farhan Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657383112,"creation_date":1657348472,"question_id":72919451,"body_markdown":"I have been trying from long time to solve the problem. I&#39;m beginner in android studio programming language &quot;Java&quot;. I&#39;m trying to load images from phone storage into my application but the problem is when I click on ImageView it shows the image path which I set it already onClick, but it not showing the image in image view what should I do. Do you have any source code of gallery application. Below I shared my code. Please help me if you have proper knowledge I&#39;ll be thankful. And sorry for my English.\r\n\r\n&#39;\r\npublic class GalleryAdapter extends RecyclerView.Adapter&lt;GalleryAdapter.MyViewHolder&gt;{\r\n\r\n    private Context mContext;\r\n    private List&lt;String&gt; images;\r\n    private PhotoListener photoListener;\r\n\r\n    public GalleryAdapter(Context mContext, List&lt;String&gt; images, PhotoListener photoListener) {\r\n        this.mContext = mContext;\r\n        this.images = images;\r\n        this.photoListener = photoListener;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyViewHolder(\r\n                LayoutInflater.from(mContext).inflate(R.layout.gallery_item , parent , false)\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        String image = images.get(position);\r\n        Glide.with(mContext).load(image).into(holder.imageView);\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                photoListener.onPhotoClick(image);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return images.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        ImageView imageView;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            imageView = itemView.findViewById(R.id.ImageView);\r\n        }\r\n    }\r\n\r\n    public interface PhotoListener{\r\n        void onPhotoClick(String path);\r\n    }\r\n}\r\n\r\n\r\npublic class ImageGallery {\r\n    public static ArrayList&lt;String&gt; listOfImages(Context context){\r\n\r\n        Uri uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n        String [] projection = {MediaStore.Images.Media.DATA, MediaStore.Images.Media.BUCKET_DISPLAY_NAME};\r\n        String orderBy = MediaStore.Images.Media.DATE_MODIFIED;\r\n        Cursor cursor = context.getContentResolver().query(uri , projection, null , null , orderBy + &quot; DESC&quot;);\r\n        String absolutePathOfImage;\r\n        ArrayList&lt;String&gt; ImagesList = new ArrayList&lt;&gt;();\r\n        int columnIndexData = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\r\n        while (cursor.moveToNext()){\r\n            absolutePathOfImage = cursor.getString(columnIndexData);\r\n            ImagesList.add(absolutePathOfImage);\r\n        }\r\n        return ImagesList;\r\n    }&#39;","title":"How to load images from phone storage in android studio","body":"<p>I have been trying from long time to solve the problem. I'm beginner in android studio programming language &quot;Java&quot;. I'm trying to load images from phone storage into my application but the problem is when I click on ImageView it shows the image path which I set it already onClick, but it not showing the image in image view what should I do. Do you have any source code of gallery application. Below I shared my code. Please help me if you have proper knowledge I'll be thankful. And sorry for my English.</p>\n<p>'\npublic class GalleryAdapter extends RecyclerView.Adapter&lt;GalleryAdapter.MyViewHolder&gt;{</p>\n<pre><code>private Context mContext;\nprivate List&lt;String&gt; images;\nprivate PhotoListener photoListener;\n\npublic GalleryAdapter(Context mContext, List&lt;String&gt; images, PhotoListener photoListener) {\n    this.mContext = mContext;\n    this.images = images;\n    this.photoListener = photoListener;\n}\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    return new MyViewHolder(\n            LayoutInflater.from(mContext).inflate(R.layout.gallery_item , parent , false)\n    );\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n    String image = images.get(position);\n    Glide.with(mContext).load(image).into(holder.imageView);\n\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            photoListener.onPhotoClick(image);\n        }\n    });\n}\n\n@Override\npublic int getItemCount() {\n    return images.size();\n}\n\npublic class MyViewHolder extends RecyclerView.ViewHolder{\n\n    ImageView imageView;\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        imageView = itemView.findViewById(R.id.ImageView);\n    }\n}\n\npublic interface PhotoListener{\n    void onPhotoClick(String path);\n}\n</code></pre>\n<p>}</p>\n<p>public class ImageGallery {\npublic static ArrayList listOfImages(Context context){</p>\n<pre><code>    Uri uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n    String [] projection = {MediaStore.Images.Media.DATA, MediaStore.Images.Media.BUCKET_DISPLAY_NAME};\n    String orderBy = MediaStore.Images.Media.DATE_MODIFIED;\n    Cursor cursor = context.getContentResolver().query(uri , projection, null , null , orderBy + &quot; DESC&quot;);\n    String absolutePathOfImage;\n    ArrayList&lt;String&gt; ImagesList = new ArrayList&lt;&gt;();\n    int columnIndexData = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\n    while (cursor.moveToNext()){\n        absolutePathOfImage = cursor.getString(columnIndexData);\n        ImagesList.add(absolutePathOfImage);\n    }\n    return ImagesList;\n}'\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","graph","breadth-first-search"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1657304336,"post_id":72915433,"comment_id":128786963,"body_markdown":"Can you provide an example of a test case that doesn&#39;t work?","body":"Can you provide an example of a test case that doesn&#39;t work?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1657304408,"post_id":72915433,"comment_id":128786980,"body_markdown":"What language is this?","body":"What language is this?"},{"owner":{"account_id":17600516,"reputation":157,"user_id":12770596,"display_name":"John "},"score":0,"creation_date":1657304550,"post_id":72915433,"comment_id":128787023,"body_markdown":"It is java. I have added test cases above in question recently.","body":"It is java. I have added test cases above in question recently."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1657304784,"post_id":72915433,"comment_id":128787071,"body_markdown":"You forgot the code that turns your textual test case into something the code can actually process.","body":"You forgot the code that turns your textual test case into something the code can actually process."},{"owner":{"account_id":17600516,"reputation":157,"user_id":12770596,"display_name":"John "},"score":0,"creation_date":1657305017,"post_id":72915433,"comment_id":128787136,"body_markdown":"All the things are handled by online compiler. We just need to implement the code to detect cycle. they are passing the graph in the form of ArrayList&lt;ArrayList&lt;Integer&gt;&gt;","body":"All the things are handled by online compiler. We just need to implement the code to detect cycle. they are passing the graph in the form of ArrayList&lt;ArrayList&lt;Integer&gt;&gt;"},{"owner":{"account_id":17600516,"reputation":157,"user_id":12770596,"display_name":"John "},"score":0,"creation_date":1657305156,"post_id":72915433,"comment_id":128787171,"body_markdown":"It is undirected graph. If you click that link then you can screen that question. I am trying to debug it now also but i cant find any bug there.","body":"It is undirected graph. If you click that link then you can screen that question. I am trying to debug it now also but i cant find any bug there."},{"owner":{"account_id":17600516,"reputation":157,"user_id":12770596,"display_name":"John "},"score":0,"creation_date":1657306252,"post_id":72915433,"comment_id":128787533,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246285/discussion-between-john-and-scott-hunter).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246285/discussion-between-john-and-scott-hunter\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657383035,"creation_date":1657353916,"answer_id":72919899,"question_id":72915433,"body_markdown":"Well, assuming our goal is not to find optimal solution, but to solve problem using BFS...\r\n\r\nNext code snippet:\r\n\r\n```java\r\n        Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();\r\n        q.add(0);\r\n        isVisited.put(0,true);\r\n        parentChild.put(0,-1);\r\n```\r\n\r\nsuffers from the following issue: in case of BFS we need to traverse graph in very specific order, basically we need to find some concept of `level` and always traverse from one level to another. Think why you code fails following simple test cases (yep, both geeksforgeeks and hackerrank failed to provide reliable test cases):\r\n- `4, {{}, {2,3}, {1,3}, {1,2}}` - returns `false`, expected `true`\r\n- `4, {{3}, {3}, {3}, {0,1,2}}` - returns `true`, expected `false`\r\n\r\n\r\n----------\r\n\r\nOne BFS idea: if our graph has a cycle, disconnecting `leaf nodes` (removing corresponding edges and splitting single graph into two) does not affect that cycle, so if we iteratively disconnected all leaf nodes (that is our `level`) and our graph still has edges that means we got a cycle.\r\n\r\n```java\r\npublic static boolean isCycle(int V, List&lt;List&lt;Integer&gt;&gt; adj) {\r\n    // queue contains leaf nodes only\r\n    Set&lt;Integer&gt; queue = new HashSet&lt;&gt;();\r\n    List&lt;Set&lt;Integer&gt;&gt; graph = new ArrayList&lt;&gt;();\r\n    // preparing input data\r\n    for (int node = 0; node &lt; V; node++) {\r\n        List&lt;Integer&gt; input = adj.get(node);\r\n        Set&lt;Integer&gt; neighbours = input != null ? new HashSet&lt;&gt;(input) : new HashSet&lt;&gt;();\r\n        neighbours.remove(node);\r\n        graph.add(node, neighbours);\r\n        if (neighbours.size() == 1) {\r\n            // leaf node found, adding to queue\r\n            queue.add(node);\r\n        }\r\n    }\r\n\r\n    while (!queue.isEmpty()) {\r\n        // next BFS level\r\n        Set&lt;Integer&gt; level = new HashSet&lt;&gt;();\r\n        for (int node : queue) {\r\n            for (int neighbour : graph.get(node)) {\r\n                // removing edge neighbour-&gt;node\r\n                Set&lt;Integer&gt; next = graph.get(neighbour);\r\n                next.remove(node);\r\n                if (next.size() == 1) {\r\n                    // got another one leaf node among neighbours\r\n                    level.add(neighbour);\r\n                }\r\n            }\r\n            // removing edges node-&gt;neighbours\r\n            graph.set(node, new HashSet&lt;&gt;());\r\n        }\r\n        queue = level;\r\n    }\r\n    return graph.stream().anyMatch(set -&gt; set.size() &gt; 0);\r\n}\r\n```\r\n\r\nHowever, if your BFS idea was to traverse the single graph level by level, the code could be (I see no difference with DFS though):\r\n\r\n```java\r\n    public static boolean isCycle(int V, List&lt;List&lt;Integer&gt;&gt; adj) {\r\n        boolean[] seen = new boolean[V];\r\n        for (int i = 0; i &lt; V; i++) {\r\n            if (seen[i]) {\r\n                continue;\r\n            }\r\n            Deque&lt;int[]&gt; q = new LinkedList&lt;&gt;();\r\n            // storing (node, parent)\r\n            q.add(new int[]{i, -1});\r\n            seen[i] = true;\r\n            while (!q.isEmpty()) {\r\n                int[] node = q.poll();\r\n                for (int next : adj.get(node[0])) {\r\n                    // seen node on the previous level\r\n                    if (next == node[1]) {\r\n                        continue;\r\n                    }\r\n                    if (seen[next]) {\r\n                        return true;\r\n                    }\r\n                    q.add(new int[]{next, node[0]});\r\n                    seen[next] = true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"Trying to detect cycle in graph using BFS but some test cases not passing","body":"<p>Well, assuming our goal is not to find optimal solution, but to solve problem using BFS...</p>\n<p>Next code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();\n        q.add(0);\n        isVisited.put(0,true);\n        parentChild.put(0,-1);\n</code></pre>\n<p>suffers from the following issue: in case of BFS we need to traverse graph in very specific order, basically we need to find some concept of <code>level</code> and always traverse from one level to another. Think why you code fails following simple test cases (yep, both geeksforgeeks and hackerrank failed to provide reliable test cases):</p>\n<ul>\n<li><code>4, {{}, {2,3}, {1,3}, {1,2}}</code> - returns <code>false</code>, expected <code>true</code></li>\n<li><code>4, {{3}, {3}, {3}, {0,1,2}}</code> - returns <code>true</code>, expected <code>false</code></li>\n</ul>\n<hr />\n<p>One BFS idea: if our graph has a cycle, disconnecting <code>leaf nodes</code> (removing corresponding edges and splitting single graph into two) does not affect that cycle, so if we iteratively disconnected all leaf nodes (that is our <code>level</code>) and our graph still has edges that means we got a cycle.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isCycle(int V, List&lt;List&lt;Integer&gt;&gt; adj) {\n    // queue contains leaf nodes only\n    Set&lt;Integer&gt; queue = new HashSet&lt;&gt;();\n    List&lt;Set&lt;Integer&gt;&gt; graph = new ArrayList&lt;&gt;();\n    // preparing input data\n    for (int node = 0; node &lt; V; node++) {\n        List&lt;Integer&gt; input = adj.get(node);\n        Set&lt;Integer&gt; neighbours = input != null ? new HashSet&lt;&gt;(input) : new HashSet&lt;&gt;();\n        neighbours.remove(node);\n        graph.add(node, neighbours);\n        if (neighbours.size() == 1) {\n            // leaf node found, adding to queue\n            queue.add(node);\n        }\n    }\n\n    while (!queue.isEmpty()) {\n        // next BFS level\n        Set&lt;Integer&gt; level = new HashSet&lt;&gt;();\n        for (int node : queue) {\n            for (int neighbour : graph.get(node)) {\n                // removing edge neighbour-&gt;node\n                Set&lt;Integer&gt; next = graph.get(neighbour);\n                next.remove(node);\n                if (next.size() == 1) {\n                    // got another one leaf node among neighbours\n                    level.add(neighbour);\n                }\n            }\n            // removing edges node-&gt;neighbours\n            graph.set(node, new HashSet&lt;&gt;());\n        }\n        queue = level;\n    }\n    return graph.stream().anyMatch(set -&gt; set.size() &gt; 0);\n}\n</code></pre>\n<p>However, if your BFS idea was to traverse the single graph level by level, the code could be (I see no difference with DFS though):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static boolean isCycle(int V, List&lt;List&lt;Integer&gt;&gt; adj) {\n        boolean[] seen = new boolean[V];\n        for (int i = 0; i &lt; V; i++) {\n            if (seen[i]) {\n                continue;\n            }\n            Deque&lt;int[]&gt; q = new LinkedList&lt;&gt;();\n            // storing (node, parent)\n            q.add(new int[]{i, -1});\n            seen[i] = true;\n            while (!q.isEmpty()) {\n                int[] node = q.poll();\n                for (int next : adj.get(node[0])) {\n                    // seen node on the previous level\n                    if (next == node[1]) {\n                        continue;\n                    }\n                    if (seen[next]) {\n                        return true;\n                    }\n                    q.add(new int[]{next, node[0]});\n                    seen[next] = true;\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":17600516,"reputation":157,"user_id":12770596,"display_name":"John "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72919899,"answer_count":1,"score":-3,"last_activity_date":1657383035,"creation_date":1657304040,"question_id":72915433,"body_markdown":"The first function isCycle is getting parameters from driver code of website. I have worked for more than 2 hours in order to debug why its not working in my logic. Anything i need to improve here. \r\nThis is the link of question.\r\nhttps://practice.geeksforgeeks.org/problems/detect-cycle-in-an-undirected-graph/1/#\r\n```\r\npublic boolean isCycle(int V, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj) {\r\n        \r\n        if(V&lt;=2){\r\n            return false;\r\n        }\r\n        Map&lt;Integer, ArrayList&lt;Integer&gt; &gt; graph = new TreeMap&lt;&gt;();\r\n        for(int i = 0; i&lt;V; i++){\r\n            graph.put(i,adj.get(i) );\r\n        }\r\n        \r\n        return detectCycle(graph);\r\n        \r\n        \r\n    }\r\n    \r\n    static boolean detectCycle(Map&lt;Integer, ArrayList&lt;Integer&gt; &gt; graph){\r\n        Map&lt;Integer, Integer&gt; parentChild = new TreeMap&lt;&gt;();\r\n        Map&lt;Integer, Boolean&gt; isVisited = new TreeMap&lt;&gt;();\r\n        Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();\r\n        q.add(0);\r\n        isVisited.put(0,true);\r\n        parentChild.put(0,-1);\r\n        \r\n        while(!q.isEmpty() ){\r\n            \r\n            \r\n            int curNode = q.remove();\r\n            \r\n            if(graph.get(curNode) == null){\r\n                q.add(++curNode);\r\n                continue;\r\n            }\r\n            ArrayList&lt;Integer&gt; curElements = graph.get(curNode);\r\n            if(!isVisited.containsKey(curNode)){\r\n                q.add(curNode);\r\n                isVisited.put(0,true);\r\n                parentChild.put(0,0);\r\n            }\r\n            for(int temp: curElements){\r\n                \r\n                if(!isVisited.containsKey(temp)){\r\n                    isVisited.put(temp, true);\r\n                    parentChild.put(temp,curNode);\r\n                    q.add(temp);\r\n                }\r\n                else{\r\n                    \r\n                    if((parentChild.get(temp) != curNode) &amp;&amp; (isVisited.get(temp) == true)){\r\n                        return true;\r\n                    }\r\n                }\r\n                \r\n            }\r\n   \r\n        }\r\n        return false;\r\n        \r\n    }\r\n```\r\nIn this test case it failed. Short testcases are passing actually.\r\n1805 829\r\n1 321\r\n1 499\r\n1 694\r\n1 1360\r\n2 115\r\n2 881\r\n3 1592\r\n4 846\r\n5 1085\r\n6 1654\r\n7 691\r\n7 872\r\n7 1172\r\n7 1243\r\n7 1721\r\n9 844\r\n9 984\r\n12 724\r\n13 353\r\n13 895\r\n13 1107\r\n15 1514\r\n20 1679\r\n22 329\r\n22 759\r\n23 124\r\n23 1003\r\n24 1239\r\n30 1032\r\n31 1004\r\n31 1342\r\n31 1641\r\n33 466\r\n34 393\r\n35 518\r\n38 1666\r\n39 831\r\n40 362\r\n41 1615\r\n42 1006\r\n43 886\r\n45 428\r\n46 1084\r\n47 178\r\n48 1177\r\n49 1564\r\n51 1283\r\n52 1042\r\n54 593\r\n55 1456\r\n57 1460\r\n58 806\r\n64 521\r\n64 741\r\n65 86\r\n65 1325\r\n66 759\r\n66 1773\r\n67 704\r\n67 769\r\n67 1541\r\n69 244\r\n70 896\r\n70 1470\r\n72 263\r\n72 1460\r\n73 1013\r\n74 465\r\n74 496\r\n75 733\r\n77 218\r\n77 436\r\n77 1105\r\n79 1664\r\n82 221\r\n82 577\r\n82 714\r\n84 485\r\n84 1768\r\n85 1313\r\n87 166\r\n88 510\r\n88 1266\r\n90 139\r\n92 679\r\n92 1196\r\n93 441\r\n93 1157\r\n94 1417\r\n96 441\r\n96 1716\r\n97 768\r\n97 1578\r\n100 1047\r\n102 1508\r\n105 724\r\n106 1356\r\n106 1756\r\n110 801\r\n114 862\r\n114 1188\r\n115 892\r\n115 1787\r\n116 782\r\n117 1178\r\n118 572\r\n118 1593\r\n120 1156\r\n121 128\r\n123 494\r\n127 456\r\n127 1591\r\n129 659\r\n131 444\r\n133 1352\r\n134 146\r\n134 1319\r\n135 1049\r\n136 735\r\n137 349\r\n137 1799\r\n138 1042\r\n139 375\r\n139 887\r\n140 170\r\n142 453\r\n142 1703\r\n143 911\r\n144 976\r\n145 1415\r\n146 1548\r\n148 1581\r\n149 396\r\n149 546\r\n149 1602\r\n150 1548\r\n150 1703\r\n151 828\r\n151 1404\r\n153 406\r\n158 513\r\n160 187\r\n161 292\r\n164 1009\r\n164 1465\r\n165 786\r\n166 817\r\n168 1493\r\n169 1320\r\n170 211\r\n170 615\r\n174 1798\r\n175 1300\r\n176 1079\r\n177 599\r\n177 715\r\n177 747\r\n178 999\r\n179 691\r\n179 869\r\n179 870\r\n180 883\r\n181 1318\r\n183 233\r\n186 1323\r\n188 837\r\n188 1089\r\n189 720\r\n189 1799\r\n192 891\r\n192 1514\r\n195 913\r\n198 1604\r\n199 926\r\n201 1004\r\n201 1239\r\n203 1109\r\n204 841\r\n204 1088\r\n206 1110\r\n207 1523\r\n209 584\r\n209 1649\r\n210 738\r\n211 773\r\n212 915\r\n212 1060\r\n214 623\r\n214 1313\r\n215 318\r\n215 1082\r\n217 303\r\n218 241\r\n221 1247\r\n223 1740\r\n225 1351\r\n226 353\r\n229 1298\r\n232 1558\r\n233 1287\r\n234 1309\r\n236 624\r\n238 1539\r\n239 911\r\n241 1145\r\n242 787\r\n243 991\r\n244 1234\r\n245 1195\r\n246 657\r\n246 1113\r\n247 1339\r\n248 342\r\n249 454\r\n252 1781\r\n253 619\r\n254 1354\r\n254 1531\r\n255 1508\r\n258 1617\r\n261 419\r\n261 1728\r\n262 530\r\n262 1678\r\n263 562\r\n263 984\r\n263 1288\r\n263 1631\r\n263 1683\r\n265 738\r\n265 982\r\n265 1454\r\n266 1613\r\n271 828\r\n276 1486\r\n279 1719\r\n280 549\r\n280 1259\r\n283 1722\r\n284 1117\r\n289 1301\r\n290 419\r\n291 494\r\n291 1180\r\n291 1738\r\n292 527\r\n294 686\r\n294 1667\r\n294 1702\r\n294 1752\r\n296 1318\r\n300 1597\r\n303 356\r\n305 425\r\n305 1071\r\n305 1726\r\n306 780\r\n307 1098\r\n307 1236\r\n308 469\r\n308 662\r\n311 1520\r\n313 1386\r\n315 1374\r\n323 888\r\n326 1062\r\n330 839\r\n330 1586\r\n336 415\r\n337 645\r\n338 1606\r\n340 1443\r\n341 1572\r\n343 1380\r\n344 569\r\n344 1062\r\n345 1227\r\n346 1026\r\n346 1066\r\n347 1685\r\n348 1404\r\n349 1470\r\n351 407\r\n353 780\r\n355 748\r\n357 1532\r\n358 1610\r\n359 551\r\n359 1674\r\n360 1013\r\n361 1443\r\n362 726\r\n362 768\r\n362 1430\r\n366 509\r\n366 1617\r\n370 1318\r\n370 1334\r\n377 1582\r\n378 933\r\n380 556\r\n383 1553\r\n385 470\r\n385 1493\r\n389 986\r\n389 1738\r\n390 1071\r\n391 1268\r\n392 941\r\n393 1793\r\n394 1504\r\n394 1537\r\n398 1022\r\n398 1089\r\n399 1540\r\n400 1124\r\n400 1619\r\n401 1086\r\n404 1585\r\n410 491\r\n410 561\r\n410 856\r\n413 1651\r\n417 1260\r\n418 1425\r\n418 1723\r\n420 1595\r\n421 1063\r\n423 559\r\n423 1383\r\n424 1572\r\n425 861\r\n425 1775\r\n427 1584\r\n428 1672\r\n432 708\r\n435 783\r\n435 1037\r\n435 1576\r\n436 856\r\n436 1022\r\n437 1731\r\n442 635\r\n443 835\r\n444 629\r\n445 1135\r\n446 743\r\n446 836\r\n448 918\r\n450 1582\r\n454 1136\r\n455 767\r\n458 1769\r\n459 928\r\n459 1448\r\n462 1745\r\n463 1161\r\n466 789\r\n466 1144\r\n468 1799\r\n470 971\r\n472 565\r\n472 709\r\n472 810\r\n474 542\r\n474 854\r\n477 654\r\n479 848\r\n482 1385\r\n484 642\r\n485 1207\r\n489 1476\r\n489 1788\r\n490 1569\r\n494 1087\r\n495 617\r\n498 1594\r\n500 571\r\n501 1747\r\n506 720\r\n506 1069\r\n507 912\r\n507 962\r\n508 921\r\n508 1343\r\n509 1143\r\n511 1291\r\n514 1557\r\n515 849\r\n517 554\r\n518 1141\r\n520 1022\r\n520 1354\r\n520 1607\r\n522 907\r\n523 902\r\n527 972\r\n527 1170\r\n527 1254\r\n528 1051\r\n531 606\r\n531 860\r\n535 1177\r\n536 957\r\n539 913\r\n541 698\r\n541 1213\r\n543 1782\r\n544 1242\r\n544 1429\r\n544 1575\r\n547 789\r\n548 1086\r\n550 560\r\n554 1759\r\n555 801\r\n557 1706\r\n559 1551\r\n561 1163\r\n569 1167\r\n571 859\r\n571 1336\r\n572 1135\r\n573 1704\r\n576 990\r\n579 847\r\n579 1684\r\n580 1153\r\n580 1794\r\n581 1123\r\n581 1201\r\n582 1226\r\n586 1315\r\n588 1135\r\n589 1414\r\n594 1084\r\n594 1284\r\n595 1766\r\n598 1650\r\n602 1715\r\n604 1168\r\n605 1337\r\n607 1429\r\n610 816\r\n610 1263\r\n616 1435\r\n619 1281\r\n620 1180\r\n624 704\r\n625 860\r\n625 1242\r\n626 959\r\n626 1171\r\n627 1425\r\n629 1382\r\n630 878\r\n630 1211\r\n631 1494\r\n633 916\r\n638 927\r\n638 975\r\n638 1773\r\n639 842\r\n640 695\r\n640 787\r\n642 802\r\n644 1333\r\n645 900\r\n650 890\r\n653 1724\r\n654 890\r\n654 1214\r\n655 1226\r\n655 1712\r\n657 1388\r\n658 1208\r\n659 840\r\n659 1519\r\n663 892\r\n664 1523\r\n668 1336\r\n672 1062\r\n675 745\r\n677 1561\r\n678 1060\r\n680 1255\r\n681 1475\r\n681 1655\r\n682 708\r\n682 781\r\n683 1486\r\n687 1609\r\n690 1618\r\n690 1679\r\n691 903\r\n693 1084\r\n695 719\r\n696 1310\r\n696 1357\r\n699 908\r\n705 758\r\n714 1745\r\n718 782\r\n718 978\r\n719 1682\r\n723 978\r\n723 1762\r\n724 1454\r\n731 1017\r\n732 1393\r\n736 1730\r\n739 1764\r\n740 1674\r\n742 1618\r\n748 1068\r\n748 1071\r\n748 1202\r\n748 1569\r\n749 853\r\n749 1427\r\n751 1625\r\n754 1506\r\n755 1615\r\n757 1663\r\n759 1132\r\n760 789\r\n760 1024\r\n760 1575\r\n760 1771\r\n764 819\r\n766 1021\r\n766 1369\r\n767 1424\r\n770 1751\r\n773 1363\r\n773 1402\r\n775 1372\r\n777 1515\r\n779 1519\r\n780 1702\r\n781 1170\r\n782 1137\r\n782 1353\r\n785 1058\r\n786 983\r\n786 1080\r\n787 1721\r\n789 929\r\n792 1392\r\n792 1784\r\n793 1246\r\n795 1782\r\n799 937\r\n801 959\r\n804 1480\r\n805 1776\r\n809 941\r\n812 1275\r\n813 1554\r\n814 1388\r\n817 904\r\n817 1290\r\n817 1345\r\n818 1044\r\n819 1014\r\n820 1346\r\n821 1607\r\n822 1093\r\n831 1209\r\n835 1555\r\n836 1138\r\n844 1004\r\n846 1223\r\n852 974\r\n852 1177\r\n853 1121\r\n858 870\r\n860 1079\r\n863 1261\r\n867 1442\r\n873 1763\r\n876 1704\r\n877 1301\r\n877 1501\r\n877 1643\r\n883 1342\r\n884 1745\r\n889 1723\r\n890 1376\r\n894 1016\r\n896 1132\r\n896 1340\r\n901 1628\r\n903 1586\r\n906 1388\r\n910 1057\r\n910 1082\r\n912 1206\r\n912 1413\r\n912 1536\r\n917 1670\r\n918 1295\r\n919 1105\r\n925 1110\r\n926 1716\r\n927 1442\r\n928 1335\r\n931 1751\r\n934 1337\r\n939 1573\r\n941 1559\r\n948 1646\r\n950 1314\r\n951 1504\r\n953 1675\r\n954 1563\r\n955 1522\r\n955 1648\r\n956 1229\r\n956 1309\r\n960 1232\r\n962 1406\r\n962 1672\r\n964 998\r\n964 1420\r\n965 1661\r\n967 1650\r\n969 1771\r\n972 1494\r\n972 1744\r\n973 1544\r\n975 1464\r\n977 1055\r\n977 1226\r\n978 1377\r\n978 1790\r\n979 1326\r\n979 1545\r\n980 1450\r\n981 1157\r\n982 1605\r\n983 1130\r\n986 1292\r\n986 1769\r\n987 1692\r\n990 1788\r\n994 1460\r\n1000 1337\r\n1003 1549\r\n1008 1528\r\n1009 1277\r\n1009 1465\r\n1013 1301\r\n1013 1512\r\n1013 1671\r\n1014 1094\r\n1017 1572\r\n1025 1507\r\n1025 1666\r\n1032 1613\r\n1033 1590\r\n1035 1213\r\n1037 1304\r\n1039 1139\r\n1040 1349\r\n1044 1460\r\n1046 1497\r\n1058 1601\r\n1067 1178\r\n1067 1403\r\n1069 1724\r\n1070 1722\r\n1071 1299\r\n1072 1299\r\n1073 1132\r\n1079 1602\r\n1081 1281\r\n1082 1211\r\n1088 1359\r\n1091 1171\r\n1092 1745\r\n1107 1441\r\n1109 1248\r\n1109 1524\r\n1109 1574\r\n1113 1157\r\n1116 1611\r\n1116 1671\r\n1117 1194\r\n1119 1340\r\n1120 1507\r\n1120 1511\r\n1124 1238\r\n1127 1152\r\n1127 1450\r\n1129 1722\r\n1133 1409\r\n1133 1707\r\n1135 1242\r\n1135 1530\r\n1137 1503\r\n1139 1672\r\n1142 1716\r\n1143 1219\r\n1144 1246\r\n1149 1654\r\n1153 1599\r\n1156 1533\r\n1157 1584\r\n1174 1197\r\n1174 1676\r\n1175 1555\r\n1176 1396\r\n1176 1797\r\n1182 1476\r\n1185 1736\r\n1192 1589\r\n1198 1791\r\n1199 1732\r\n1206 1561\r\n1206 1765\r\n1218 1242\r\n1219 1695\r\n1220 1722\r\n1223 1314\r\n1224 1484\r\n1235 1245\r\n1237 1547\r\n1239 1727\r\n1239 1769\r\n1251 1431\r\n1251 1453\r\n1253 1459\r\n1255 1415\r\n1255 1474\r\n1255 1785\r\n1256 1794\r\n1258 1365\r\n1260 1700\r\n1265 1535\r\n1271 1441\r\n1281 1544\r\n1291 1732\r\n1302 1379\r\n1308 1326\r\n1308 1773\r\n1313 1431\r\n1318 1414\r\n1323 1657\r\n1324 1730\r\n1333 1597\r\n1337 1411\r\n1337 1804\r\n1343 1575\r\n1345 1508\r\n1353 1753\r\n1356 1711\r\n1358 1750\r\n1359 1523\r\n1361 1796\r\n1368 1539\r\n1369 1514\r\n1378 1400\r\n1382 1755\r\n1383 1550\r\n1389 1464\r\n1391 1520\r\n1398 1702\r\n1399 1550\r\n1404 1507\r\n1410 1778\r\n1412 1764\r\n1417 1441\r\n1421 1608\r\n1422 1439\r\n1427 1511\r\n1431 1610\r\n1438 1509\r\n1441 1461\r\n1442 1506\r\n1445 1626\r\n1445 1649\r\n1446 1507\r\n1446 1622\r\n1450 1660\r\n1453 1756\r\n1459 1603\r\n1462 1546\r\n1463 1646\r\n1463 1755\r\n1475 1799\r\n1478 1595\r\n1484 1629\r\n1488 1702\r\n1493 1762\r\n1494 1656\r\n1497 1629\r\n1497 1804\r\n1520 1724\r\n1523 1666\r\n1528 1790\r\n1529 1681\r\n1530 1614\r\n1533 1735\r\n1549 1621\r\n1550 1589\r\n1553 1672\r\n1556 1688\r\n1569 1698\r\n1570 1621\r\n1570 1747\r\n1582 1629\r\n1584 1622\r\n1600 1657\r\n1611 1699\r\n1621 1768\r\n1632 1794\r\n1634 1648\r\n1640 1644\r\n1653 1792\r\n1656 1765\r\n1671 1672\r\n1684 1735\r\n1686 1783\r\n1711 1803\r\n1728 1756\r\n1738 1777\r\n1761 1766\r\n1772 1780","title":"Trying to detect cycle in graph using BFS but some test cases not passing","body":"<p>The first function isCycle is getting parameters from driver code of website. I have worked for more than 2 hours in order to debug why its not working in my logic. Anything i need to improve here.\nThis is the link of question.\n<a href=\"https://practice.geeksforgeeks.org/problems/detect-cycle-in-an-undirected-graph/1/#\" rel=\"nofollow noreferrer\">https://practice.geeksforgeeks.org/problems/detect-cycle-in-an-undirected-graph/1/#</a></p>\n<pre><code>public boolean isCycle(int V, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj) {\n        \n        if(V&lt;=2){\n            return false;\n        }\n        Map&lt;Integer, ArrayList&lt;Integer&gt; &gt; graph = new TreeMap&lt;&gt;();\n        for(int i = 0; i&lt;V; i++){\n            graph.put(i,adj.get(i) );\n        }\n        \n        return detectCycle(graph);\n        \n        \n    }\n    \n    static boolean detectCycle(Map&lt;Integer, ArrayList&lt;Integer&gt; &gt; graph){\n        Map&lt;Integer, Integer&gt; parentChild = new TreeMap&lt;&gt;();\n        Map&lt;Integer, Boolean&gt; isVisited = new TreeMap&lt;&gt;();\n        Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();\n        q.add(0);\n        isVisited.put(0,true);\n        parentChild.put(0,-1);\n        \n        while(!q.isEmpty() ){\n            \n            \n            int curNode = q.remove();\n            \n            if(graph.get(curNode) == null){\n                q.add(++curNode);\n                continue;\n            }\n            ArrayList&lt;Integer&gt; curElements = graph.get(curNode);\n            if(!isVisited.containsKey(curNode)){\n                q.add(curNode);\n                isVisited.put(0,true);\n                parentChild.put(0,0);\n            }\n            for(int temp: curElements){\n                \n                if(!isVisited.containsKey(temp)){\n                    isVisited.put(temp, true);\n                    parentChild.put(temp,curNode);\n                    q.add(temp);\n                }\n                else{\n                    \n                    if((parentChild.get(temp) != curNode) &amp;&amp; (isVisited.get(temp) == true)){\n                        return true;\n                    }\n                }\n                \n            }\n   \n        }\n        return false;\n        \n    }\n</code></pre>\n<p>In this test case it failed. Short testcases are passing actually.\n1805 829\n1 321\n1 499\n1 694\n1 1360\n2 115\n2 881\n3 1592\n4 846\n5 1085\n6 1654\n7 691\n7 872\n7 1172\n7 1243\n7 1721\n9 844\n9 984\n12 724\n13 353\n13 895\n13 1107\n15 1514\n20 1679\n22 329\n22 759\n23 124\n23 1003\n24 1239\n30 1032\n31 1004\n31 1342\n31 1641\n33 466\n34 393\n35 518\n38 1666\n39 831\n40 362\n41 1615\n42 1006\n43 886\n45 428\n46 1084\n47 178\n48 1177\n49 1564\n51 1283\n52 1042\n54 593\n55 1456\n57 1460\n58 806\n64 521\n64 741\n65 86\n65 1325\n66 759\n66 1773\n67 704\n67 769\n67 1541\n69 244\n70 896\n70 1470\n72 263\n72 1460\n73 1013\n74 465\n74 496\n75 733\n77 218\n77 436\n77 1105\n79 1664\n82 221\n82 577\n82 714\n84 485\n84 1768\n85 1313\n87 166\n88 510\n88 1266\n90 139\n92 679\n92 1196\n93 441\n93 1157\n94 1417\n96 441\n96 1716\n97 768\n97 1578\n100 1047\n102 1508\n105 724\n106 1356\n106 1756\n110 801\n114 862\n114 1188\n115 892\n115 1787\n116 782\n117 1178\n118 572\n118 1593\n120 1156\n121 128\n123 494\n127 456\n127 1591\n129 659\n131 444\n133 1352\n134 146\n134 1319\n135 1049\n136 735\n137 349\n137 1799\n138 1042\n139 375\n139 887\n140 170\n142 453\n142 1703\n143 911\n144 976\n145 1415\n146 1548\n148 1581\n149 396\n149 546\n149 1602\n150 1548\n150 1703\n151 828\n151 1404\n153 406\n158 513\n160 187\n161 292\n164 1009\n164 1465\n165 786\n166 817\n168 1493\n169 1320\n170 211\n170 615\n174 1798\n175 1300\n176 1079\n177 599\n177 715\n177 747\n178 999\n179 691\n179 869\n179 870\n180 883\n181 1318\n183 233\n186 1323\n188 837\n188 1089\n189 720\n189 1799\n192 891\n192 1514\n195 913\n198 1604\n199 926\n201 1004\n201 1239\n203 1109\n204 841\n204 1088\n206 1110\n207 1523\n209 584\n209 1649\n210 738\n211 773\n212 915\n212 1060\n214 623\n214 1313\n215 318\n215 1082\n217 303\n218 241\n221 1247\n223 1740\n225 1351\n226 353\n229 1298\n232 1558\n233 1287\n234 1309\n236 624\n238 1539\n239 911\n241 1145\n242 787\n243 991\n244 1234\n245 1195\n246 657\n246 1113\n247 1339\n248 342\n249 454\n252 1781\n253 619\n254 1354\n254 1531\n255 1508\n258 1617\n261 419\n261 1728\n262 530\n262 1678\n263 562\n263 984\n263 1288\n263 1631\n263 1683\n265 738\n265 982\n265 1454\n266 1613\n271 828\n276 1486\n279 1719\n280 549\n280 1259\n283 1722\n284 1117\n289 1301\n290 419\n291 494\n291 1180\n291 1738\n292 527\n294 686\n294 1667\n294 1702\n294 1752\n296 1318\n300 1597\n303 356\n305 425\n305 1071\n305 1726\n306 780\n307 1098\n307 1236\n308 469\n308 662\n311 1520\n313 1386\n315 1374\n323 888\n326 1062\n330 839\n330 1586\n336 415\n337 645\n338 1606\n340 1443\n341 1572\n343 1380\n344 569\n344 1062\n345 1227\n346 1026\n346 1066\n347 1685\n348 1404\n349 1470\n351 407\n353 780\n355 748\n357 1532\n358 1610\n359 551\n359 1674\n360 1013\n361 1443\n362 726\n362 768\n362 1430\n366 509\n366 1617\n370 1318\n370 1334\n377 1582\n378 933\n380 556\n383 1553\n385 470\n385 1493\n389 986\n389 1738\n390 1071\n391 1268\n392 941\n393 1793\n394 1504\n394 1537\n398 1022\n398 1089\n399 1540\n400 1124\n400 1619\n401 1086\n404 1585\n410 491\n410 561\n410 856\n413 1651\n417 1260\n418 1425\n418 1723\n420 1595\n421 1063\n423 559\n423 1383\n424 1572\n425 861\n425 1775\n427 1584\n428 1672\n432 708\n435 783\n435 1037\n435 1576\n436 856\n436 1022\n437 1731\n442 635\n443 835\n444 629\n445 1135\n446 743\n446 836\n448 918\n450 1582\n454 1136\n455 767\n458 1769\n459 928\n459 1448\n462 1745\n463 1161\n466 789\n466 1144\n468 1799\n470 971\n472 565\n472 709\n472 810\n474 542\n474 854\n477 654\n479 848\n482 1385\n484 642\n485 1207\n489 1476\n489 1788\n490 1569\n494 1087\n495 617\n498 1594\n500 571\n501 1747\n506 720\n506 1069\n507 912\n507 962\n508 921\n508 1343\n509 1143\n511 1291\n514 1557\n515 849\n517 554\n518 1141\n520 1022\n520 1354\n520 1607\n522 907\n523 902\n527 972\n527 1170\n527 1254\n528 1051\n531 606\n531 860\n535 1177\n536 957\n539 913\n541 698\n541 1213\n543 1782\n544 1242\n544 1429\n544 1575\n547 789\n548 1086\n550 560\n554 1759\n555 801\n557 1706\n559 1551\n561 1163\n569 1167\n571 859\n571 1336\n572 1135\n573 1704\n576 990\n579 847\n579 1684\n580 1153\n580 1794\n581 1123\n581 1201\n582 1226\n586 1315\n588 1135\n589 1414\n594 1084\n594 1284\n595 1766\n598 1650\n602 1715\n604 1168\n605 1337\n607 1429\n610 816\n610 1263\n616 1435\n619 1281\n620 1180\n624 704\n625 860\n625 1242\n626 959\n626 1171\n627 1425\n629 1382\n630 878\n630 1211\n631 1494\n633 916\n638 927\n638 975\n638 1773\n639 842\n640 695\n640 787\n642 802\n644 1333\n645 900\n650 890\n653 1724\n654 890\n654 1214\n655 1226\n655 1712\n657 1388\n658 1208\n659 840\n659 1519\n663 892\n664 1523\n668 1336\n672 1062\n675 745\n677 1561\n678 1060\n680 1255\n681 1475\n681 1655\n682 708\n682 781\n683 1486\n687 1609\n690 1618\n690 1679\n691 903\n693 1084\n695 719\n696 1310\n696 1357\n699 908\n705 758\n714 1745\n718 782\n718 978\n719 1682\n723 978\n723 1762\n724 1454\n731 1017\n732 1393\n736 1730\n739 1764\n740 1674\n742 1618\n748 1068\n748 1071\n748 1202\n748 1569\n749 853\n749 1427\n751 1625\n754 1506\n755 1615\n757 1663\n759 1132\n760 789\n760 1024\n760 1575\n760 1771\n764 819\n766 1021\n766 1369\n767 1424\n770 1751\n773 1363\n773 1402\n775 1372\n777 1515\n779 1519\n780 1702\n781 1170\n782 1137\n782 1353\n785 1058\n786 983\n786 1080\n787 1721\n789 929\n792 1392\n792 1784\n793 1246\n795 1782\n799 937\n801 959\n804 1480\n805 1776\n809 941\n812 1275\n813 1554\n814 1388\n817 904\n817 1290\n817 1345\n818 1044\n819 1014\n820 1346\n821 1607\n822 1093\n831 1209\n835 1555\n836 1138\n844 1004\n846 1223\n852 974\n852 1177\n853 1121\n858 870\n860 1079\n863 1261\n867 1442\n873 1763\n876 1704\n877 1301\n877 1501\n877 1643\n883 1342\n884 1745\n889 1723\n890 1376\n894 1016\n896 1132\n896 1340\n901 1628\n903 1586\n906 1388\n910 1057\n910 1082\n912 1206\n912 1413\n912 1536\n917 1670\n918 1295\n919 1105\n925 1110\n926 1716\n927 1442\n928 1335\n931 1751\n934 1337\n939 1573\n941 1559\n948 1646\n950 1314\n951 1504\n953 1675\n954 1563\n955 1522\n955 1648\n956 1229\n956 1309\n960 1232\n962 1406\n962 1672\n964 998\n964 1420\n965 1661\n967 1650\n969 1771\n972 1494\n972 1744\n973 1544\n975 1464\n977 1055\n977 1226\n978 1377\n978 1790\n979 1326\n979 1545\n980 1450\n981 1157\n982 1605\n983 1130\n986 1292\n986 1769\n987 1692\n990 1788\n994 1460\n1000 1337\n1003 1549\n1008 1528\n1009 1277\n1009 1465\n1013 1301\n1013 1512\n1013 1671\n1014 1094\n1017 1572\n1025 1507\n1025 1666\n1032 1613\n1033 1590\n1035 1213\n1037 1304\n1039 1139\n1040 1349\n1044 1460\n1046 1497\n1058 1601\n1067 1178\n1067 1403\n1069 1724\n1070 1722\n1071 1299\n1072 1299\n1073 1132\n1079 1602\n1081 1281\n1082 1211\n1088 1359\n1091 1171\n1092 1745\n1107 1441\n1109 1248\n1109 1524\n1109 1574\n1113 1157\n1116 1611\n1116 1671\n1117 1194\n1119 1340\n1120 1507\n1120 1511\n1124 1238\n1127 1152\n1127 1450\n1129 1722\n1133 1409\n1133 1707\n1135 1242\n1135 1530\n1137 1503\n1139 1672\n1142 1716\n1143 1219\n1144 1246\n1149 1654\n1153 1599\n1156 1533\n1157 1584\n1174 1197\n1174 1676\n1175 1555\n1176 1396\n1176 1797\n1182 1476\n1185 1736\n1192 1589\n1198 1791\n1199 1732\n1206 1561\n1206 1765\n1218 1242\n1219 1695\n1220 1722\n1223 1314\n1224 1484\n1235 1245\n1237 1547\n1239 1727\n1239 1769\n1251 1431\n1251 1453\n1253 1459\n1255 1415\n1255 1474\n1255 1785\n1256 1794\n1258 1365\n1260 1700\n1265 1535\n1271 1441\n1281 1544\n1291 1732\n1302 1379\n1308 1326\n1308 1773\n1313 1431\n1318 1414\n1323 1657\n1324 1730\n1333 1597\n1337 1411\n1337 1804\n1343 1575\n1345 1508\n1353 1753\n1356 1711\n1358 1750\n1359 1523\n1361 1796\n1368 1539\n1369 1514\n1378 1400\n1382 1755\n1383 1550\n1389 1464\n1391 1520\n1398 1702\n1399 1550\n1404 1507\n1410 1778\n1412 1764\n1417 1441\n1421 1608\n1422 1439\n1427 1511\n1431 1610\n1438 1509\n1441 1461\n1442 1506\n1445 1626\n1445 1649\n1446 1507\n1446 1622\n1450 1660\n1453 1756\n1459 1603\n1462 1546\n1463 1646\n1463 1755\n1475 1799\n1478 1595\n1484 1629\n1488 1702\n1493 1762\n1494 1656\n1497 1629\n1497 1804\n1520 1724\n1523 1666\n1528 1790\n1529 1681\n1530 1614\n1533 1735\n1549 1621\n1550 1589\n1553 1672\n1556 1688\n1569 1698\n1570 1621\n1570 1747\n1582 1629\n1584 1622\n1600 1657\n1611 1699\n1621 1768\n1632 1794\n1634 1648\n1640 1644\n1653 1792\n1656 1765\n1671 1672\n1684 1735\n1686 1783\n1711 1803\n1728 1756\n1738 1777\n1761 1766\n1772 1780</p>\n"},{"tags":["java","spring-boot","discord","discord4j","lavaplayer"],"answers":[{"tags":[],"owner":{"account_id":20443418,"reputation":31,"user_id":14999773,"display_name":"Karafra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657382855,"creation_date":1657382855,"answer_id":72922886,"question_id":71069426,"body_markdown":"Okay, I know its a bit late but here you go.\r\n\r\nYour problem is, that you are registering only local sources for audioplayer. That means, that lavaplayer does not know what are sites like _Facebook_, _Youtube_ or _Vimeo_ and how to process them.\r\n\r\nYou should add  `AudioSourceManagers.registerRemoteSources(audioPlayerManager);` to your configuration class. \r\n\r\nSo final configuration class will look like this:\r\n\r\n```java\r\n@Configuration\r\npublic class AudioConfig {\r\n    @Bean\r\n    public AudioPlayerManager audioPlayerManager() {\r\n        final AudioPlayerManager playerManager = new DefaultAudioPlayerManager();\r\n        playerManager.getConfiguration().setFrameBufferFactory(NonAllocatingAudioFrameBuffer::new);\r\n        AudioSourceManagers.registerLocalSource(playerManager);\r\n        AudioSourceManagers.registerRemoteSources(audioPlayerManager);\r\n        return playerManager;\r\n    }\r\n\r\n    @Bean\r\n    public AudioPlayer audioPlayer() {\r\n        return audioPlayerManager().createPlayer();\r\n    }\r\n\r\n    @Bean\r\n    public AudioProvider audioProvider() {\r\n        return new LavaPlayerAudioProvider(audioPlayer());\r\n    }\r\n}\r\n```\r\n\r\nOther that that, your code works fine for me. And I would suggest removing `AudioSourceManagers.registerLocalSource(playerManager);` altogether, I dont see any reason why expose server side files this way.","title":"Music not playing in Discord voice channel","body":"<p>Okay, I know its a bit late but here you go.</p>\n<p>Your problem is, that you are registering only local sources for audioplayer. That means, that lavaplayer does not know what are sites like <em>Facebook</em>, <em>Youtube</em> or <em>Vimeo</em> and how to process them.</p>\n<p>You should add  <code>AudioSourceManagers.registerRemoteSources(audioPlayerManager);</code> to your configuration class.</p>\n<p>So final configuration class will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AudioConfig {\n    @Bean\n    public AudioPlayerManager audioPlayerManager() {\n        final AudioPlayerManager playerManager = new DefaultAudioPlayerManager();\n        playerManager.getConfiguration().setFrameBufferFactory(NonAllocatingAudioFrameBuffer::new);\n        AudioSourceManagers.registerLocalSource(playerManager);\n        AudioSourceManagers.registerRemoteSources(audioPlayerManager);\n        return playerManager;\n    }\n\n    @Bean\n    public AudioPlayer audioPlayer() {\n        return audioPlayerManager().createPlayer();\n    }\n\n    @Bean\n    public AudioProvider audioProvider() {\n        return new LavaPlayerAudioProvider(audioPlayer());\n    }\n}\n</code></pre>\n<p>Other that that, your code works fine for me. And I would suggest removing <code>AudioSourceManagers.registerLocalSource(playerManager);</code> altogether, I dont see any reason why expose server side files this way.</p>\n"}],"owner":{"account_id":10335064,"reputation":29,"user_id":7623494,"display_name":"MatsAZ456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657382855,"creation_date":1644513180,"question_id":71069426,"body_markdown":"I&#39;m trying to add the functionality of playing music to my custom Discord bot.\r\nI&#39;m writing it in Java 11, Spring Boot, Discord4j and the LavaPlayer library.\r\n\r\nI have the command !join that makes the Discord bot join the voice channel of the person who typed the command. This works but I assign the ```LavaPlayerAudioProvider``` to the ```VoiceState``` once the bot joins. So the mistake might occur here (I don&#39;t know). This is the class for the !join command:\r\n\r\n```@Service(&quot;!join&quot;)\r\n@RequiredArgsConstructor\r\npublic class JoinCommandHandler implements CommandStrategy {\r\n    private final LavaPlayerAudioProvider provider;\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     * &lt;p&gt;\r\n     * Makes the bot join the voice channel of the user.\r\n     */\r\n    @Override\r\n    public Mono&lt;Void&gt; execute(Message message) {\r\n        return Mono.just(message)\r\n                .flatMap(Message::getAuthorAsMember)\r\n                .flatMap(m -&gt; m.getVoiceState()\r\n                        .flatMap(VoiceState::getChannel))\r\n                .flatMap(c -&gt; c.join(spec -&gt; spec.setProvider(provider)))\r\n                .then();\r\n    }\r\n\r\n    @Override\r\n    public String getCommandName() {\r\n        return &quot;!join&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getDescription() {\r\n        return &quot;**Under Development** Make this bot join your channel.&quot;;\r\n    }\r\n}\r\n```\r\n\r\nTo be honest, I don&#39;t think the mistake is going to be in the !join command but it might be usefull to understand the question more.\r\n\r\nI have the audio configurations set in the ```AudioConfig``` class like this:\r\n\r\n```\r\n@Configuration\r\npublic class AudioConfig {\r\n    @Bean\r\n    public AudioPlayerManager audioPlayerManager() {\r\n        final AudioPlayerManager playerManager = new DefaultAudioPlayerManager();\r\n        playerManager.getConfiguration().setFrameBufferFactory(NonAllocatingAudioFrameBuffer::new);\r\n        AudioSourceManagers.registerLocalSource(playerManager);\r\n        return playerManager;\r\n    }\r\n\r\n    @Bean\r\n    public AudioPlayer audioPlayer() {\r\n        return audioPlayerManager().createPlayer();\r\n    }\r\n\r\n    @Bean\r\n    public AudioProvider audioProvider() {\r\n        return new LavaPlayerAudioProvider(audioPlayer());\r\n    }\r\n}\r\n```\r\n\r\nI wrote a !play [youtube url] command to play music once the bot joined a voice channel.\r\n\r\n```\r\n@Service(&quot;!play&quot;)\r\n@RequiredArgsConstructor\r\npublic class PlayCommand implements CommandStrategy {\r\n    private final AudioPlayerManager manager;\r\n    private final TrackScheduler trackScheduler;\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     * &lt;p&gt;\r\n     * Makes the bot queue a song and play in the channel.\r\n     */\r\n    @Override\r\n    public Mono&lt;Void&gt; execute(Message message) {\r\n        return Mono.just(message.getContent())\r\n                .map(content -&gt; Arrays.asList(content.split(&quot; &quot;)))\r\n                .doOnNext(command -&gt; manager.loadItem(command.get(1), trackScheduler)).then();\r\n    }\r\n}\r\n```\r\nAnd here the ```LavaPlayerAudioProviver``` to provide the music: \r\n\r\n```\r\n@Component\r\npublic final class LavaPlayerAudioProvider extends AudioProvider {\r\n    private final AudioPlayer audioPlayer;\r\n    private final MutableAudioFrame frame = new MutableAudioFrame();\r\n\r\n    public LavaPlayerAudioProvider(AudioPlayer audioPlayer) {\r\n        super(ByteBuffer.allocate(StandardAudioDataFormats.DISCORD_OPUS.maximumChunkSize()));\r\n        this.frame.setBuffer(getBuffer());\r\n        this.audioPlayer = audioPlayer;\r\n    }\r\n\r\n    @Override\r\n    public boolean provide() {\r\n        final boolean didProvide = audioPlayer.provide(frame);\r\n        if (didProvide) {\r\n            getBuffer().flip();\r\n        }\r\n        return didProvide;\r\n    }\r\n}\r\n```\r\n\r\nNow here comes the tricky part. I debugged the code to see step by step how the code executes after I type the !play [url] command. \r\n\r\nWhen the code reaches the ```TrackScheduler``` class, it doesn&#39;t execute the ```trackLoaded()``` method to play the song, instead it executes the ```noMatches()``` method, which basically means the URL can not be found and thus no music can be played. You can find the ```TrackScheduler``` class here: \r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class TrackScheduler implements AudioLoadResultHandler {\r\n    private final AudioPlayer player;\r\n\r\n    @Override\r\n    public void trackLoaded(final AudioTrack track) {\r\n        // LavaPlayer found an audio source for us to play\r\n        player.playTrack(track);\r\n    }\r\n\r\n    @Override\r\n    public void playlistLoaded(final AudioPlaylist playlist) {\r\n        // LavaPlayer found multiple AudioTracks from some playlist\r\n    }\r\n\r\n    @Override\r\n    public void noMatches() {\r\n        // LavaPlayer did not find any audio to extract\r\n    }\r\n\r\n    @Override\r\n    public void loadFailed(final FriendlyException exception) {\r\n        // LavaPlayer could not parse an audio source for some reason\r\n    }\r\n}\r\n```\r\n\r\nI tried different URLs but they all end up going in the noMatch() method...\r\nI followed the Discord4J guide (&lt;https://docs.discord4j.com/music-bot-tutorial&gt;) but they&#39;re not using Spring Boot so it&#39;s a little puzzle..\r\n\r\nIf you need more info, I&#39;ll be glad to give it to you.\r\nThanks in advance guys! ","title":"Music not playing in Discord voice channel","body":"<p>I'm trying to add the functionality of playing music to my custom Discord bot.\nI'm writing it in Java 11, Spring Boot, Discord4j and the LavaPlayer library.</p>\n<p>I have the command !join that makes the Discord bot join the voice channel of the person who typed the command. This works but I assign the <code>LavaPlayerAudioProvider</code> to the <code>VoiceState</code> once the bot joins. So the mistake might occur here (I don't know). This is the class for the !join command:</p>\n<pre><code>@RequiredArgsConstructor\npublic class JoinCommandHandler implements CommandStrategy {\n    private final LavaPlayerAudioProvider provider;\n\n    /**\n     * {@inheritDoc}\n     * &lt;p&gt;\n     * Makes the bot join the voice channel of the user.\n     */\n    @Override\n    public Mono&lt;Void&gt; execute(Message message) {\n        return Mono.just(message)\n                .flatMap(Message::getAuthorAsMember)\n                .flatMap(m -&gt; m.getVoiceState()\n                        .flatMap(VoiceState::getChannel))\n                .flatMap(c -&gt; c.join(spec -&gt; spec.setProvider(provider)))\n                .then();\n    }\n\n    @Override\n    public String getCommandName() {\n        return &quot;!join&quot;;\n    }\n\n    @Override\n    public String getDescription() {\n        return &quot;**Under Development** Make this bot join your channel.&quot;;\n    }\n}\n</code></pre>\n<p>To be honest, I don't think the mistake is going to be in the !join command but it might be usefull to understand the question more.</p>\n<p>I have the audio configurations set in the <code>AudioConfig</code> class like this:</p>\n<pre><code>@Configuration\npublic class AudioConfig {\n    @Bean\n    public AudioPlayerManager audioPlayerManager() {\n        final AudioPlayerManager playerManager = new DefaultAudioPlayerManager();\n        playerManager.getConfiguration().setFrameBufferFactory(NonAllocatingAudioFrameBuffer::new);\n        AudioSourceManagers.registerLocalSource(playerManager);\n        return playerManager;\n    }\n\n    @Bean\n    public AudioPlayer audioPlayer() {\n        return audioPlayerManager().createPlayer();\n    }\n\n    @Bean\n    public AudioProvider audioProvider() {\n        return new LavaPlayerAudioProvider(audioPlayer());\n    }\n}\n</code></pre>\n<p>I wrote a !play [youtube url] command to play music once the bot joined a voice channel.</p>\n<pre><code>@Service(&quot;!play&quot;)\n@RequiredArgsConstructor\npublic class PlayCommand implements CommandStrategy {\n    private final AudioPlayerManager manager;\n    private final TrackScheduler trackScheduler;\n\n    /**\n     * {@inheritDoc}\n     * &lt;p&gt;\n     * Makes the bot queue a song and play in the channel.\n     */\n    @Override\n    public Mono&lt;Void&gt; execute(Message message) {\n        return Mono.just(message.getContent())\n                .map(content -&gt; Arrays.asList(content.split(&quot; &quot;)))\n                .doOnNext(command -&gt; manager.loadItem(command.get(1), trackScheduler)).then();\n    }\n}\n</code></pre>\n<p>And here the <code>LavaPlayerAudioProviver</code> to provide the music:</p>\n<pre><code>@Component\npublic final class LavaPlayerAudioProvider extends AudioProvider {\n    private final AudioPlayer audioPlayer;\n    private final MutableAudioFrame frame = new MutableAudioFrame();\n\n    public LavaPlayerAudioProvider(AudioPlayer audioPlayer) {\n        super(ByteBuffer.allocate(StandardAudioDataFormats.DISCORD_OPUS.maximumChunkSize()));\n        this.frame.setBuffer(getBuffer());\n        this.audioPlayer = audioPlayer;\n    }\n\n    @Override\n    public boolean provide() {\n        final boolean didProvide = audioPlayer.provide(frame);\n        if (didProvide) {\n            getBuffer().flip();\n        }\n        return didProvide;\n    }\n}\n</code></pre>\n<p>Now here comes the tricky part. I debugged the code to see step by step how the code executes after I type the !play [url] command.</p>\n<p>When the code reaches the <code>TrackScheduler</code> class, it doesn't execute the <code>trackLoaded()</code> method to play the song, instead it executes the <code>noMatches()</code> method, which basically means the URL can not be found and thus no music can be played. You can find the <code>TrackScheduler</code> class here:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class TrackScheduler implements AudioLoadResultHandler {\n    private final AudioPlayer player;\n\n    @Override\n    public void trackLoaded(final AudioTrack track) {\n        // LavaPlayer found an audio source for us to play\n        player.playTrack(track);\n    }\n\n    @Override\n    public void playlistLoaded(final AudioPlaylist playlist) {\n        // LavaPlayer found multiple AudioTracks from some playlist\n    }\n\n    @Override\n    public void noMatches() {\n        // LavaPlayer did not find any audio to extract\n    }\n\n    @Override\n    public void loadFailed(final FriendlyException exception) {\n        // LavaPlayer could not parse an audio source for some reason\n    }\n}\n</code></pre>\n<p>I tried different URLs but they all end up going in the noMatch() method...\nI followed the Discord4J guide (<a href=\"https://docs.discord4j.com/music-bot-tutorial\" rel=\"nofollow noreferrer\">https://docs.discord4j.com/music-bot-tutorial</a>) but they're not using Spring Boot so it's a little puzzle..</p>\n<p>If you need more info, I'll be glad to give it to you.\nThanks in advance guys!</p>\n"},{"tags":["java","modulo","inverse"],"comments":[{"owner":{"account_id":17448840,"reputation":189,"user_id":12649245,"display_name":"Kelvin Bouma"},"score":0,"creation_date":1695930359,"post_id":7869649,"comment_id":136092970,"body_markdown":"This is not a modular inverse","body":"This is not a modular inverse"}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1319408978,"creation_date":1319408664,"answer_id":7869671,"question_id":7869649,"body_markdown":"The following will compute `n mod 11` for any integer `n`:\r\n\r\n    (n % 11 + 11) % 11\r\n\r\nThe result of `n % 11` is in the range `-10`...`10`. The subsequent addition and the second modulo operation add `11` to `n % 11` iff the latter is negative.\r\n\r\nThis formula works for any base: just replace `11` with another positive integer.","title":"Java modular inverse","body":"<p>The following will compute <code>n mod 11</code> for any integer <code>n</code>:</p>\n\n<pre><code>(n % 11 + 11) % 11\n</code></pre>\n\n<p>The result of <code>n % 11</code> is in the range <code>-10</code>...<code>10</code>. The subsequent addition and the second modulo operation add <code>11</code> to <code>n % 11</code> iff the latter is negative.</p>\n\n<p>This formula works for any base: just replace <code>11</code> with another positive integer.</p>\n"},{"tags":[],"owner":{"account_id":993385,"reputation":36,"user_id":1009984,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319408745,"creation_date":1319408745,"answer_id":7869683,"question_id":7869649,"body_markdown":"I think if you take the positive modulo (4 mod 11) and subtract from the latter value it should give you the right answer every time. (i.e. 11 - (4 mod 11) = 7) I haven&#39;t really gone through and tested it but it seems to make sense.","title":"Java modular inverse","body":"<p>I think if you take the positive modulo (4 mod 11) and subtract from the latter value it should give you the right answer every time. (i.e. 11 - (4 mod 11) = 7) I haven't really gone through and tested it but it seems to make sense.</p>\n"},{"tags":[],"owner":{"account_id":59308,"reputation":2837,"user_id":177492,"display_name":"Trevor Tippins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319408803,"creation_date":1319408803,"answer_id":7869687,"question_id":7869649,"body_markdown":"Try using [BigInteger#mod][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html#mod%28java.math.BigInteger%29","title":"Java modular inverse","body":"<p>Try using <a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html#mod%28java.math.BigInteger%29\" rel=\"nofollow\">BigInteger#mod</a>.</p>\n"},{"tags":[],"owner":{"account_id":953722,"reputation":7306,"user_id":979401,"accept_rate":100,"display_name":"ObscureRobot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319408809,"creation_date":1319408809,"answer_id":7869688,"question_id":7869649,"body_markdown":"According to the [Java Language Spec][1], Java&#39;s `%` operator [is a remainder operator, not a modulo operator][2].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/second_edition/html/jTOC.doc.html\r\n  [2]: http://java.sun.com/docs/books/jls/second_edition/html/expressions.doc.html#24956","title":"Java modular inverse","body":"<p>According to the <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/jTOC.doc.html\" rel=\"nofollow\">Java Language Spec</a>, Java's <code>%</code> operator <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/expressions.doc.html#24956\" rel=\"nofollow\">is a remainder operator, not a modulo operator</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user244343"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1319409199,"creation_date":1319408884,"answer_id":7869700,"question_id":7869649,"body_markdown":"It&#39;d be pretty simple to just write a mod function which does what you require. Example [here][1]:\r\n\r\n    private int mod(int x, int y)\r\n    {\r\n        int result = x % y;\r\n        if (result &lt; 0)\r\n        {\r\n            result += y;\r\n        }\r\n        return result;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/90238/whats-the-syntax-for-mod-in-java/2172061#2172061\r\n\r\nIt&#39;s much clearer than using `% 11 + 11) % 11`, and the operation makes sense immediately when you look at it. `mod(32, 11)` is more clearly `32 mod 11` than `(32 % 11 + 11) % 11`, and it saves an extra `%` operation.","title":"Java modular inverse","body":"<p>It'd be pretty simple to just write a mod function which does what you require. Example <a href=\"https://stackoverflow.com/questions/90238/whats-the-syntax-for-mod-in-java/2172061#2172061\">here</a>:</p>\n\n<pre><code>private int mod(int x, int y)\n{\n    int result = x % y;\n    if (result &lt; 0)\n    {\n        result += y;\n    }\n    return result;\n}\n</code></pre>\n\n<p>It's much clearer than using <code>% 11 + 11) % 11</code>, and the operation makes sense immediately when you look at it. <code>mod(32, 11)</code> is more clearly <code>32 mod 11</code> than <code>(32 % 11 + 11) % 11</code>, and it saves an extra <code>%</code> operation.</p>\n"},{"tags":[],"owner":{"account_id":7167179,"reputation":6034,"user_id":5475941,"display_name":"Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657382664,"creation_date":1657382664,"answer_id":72922870,"question_id":7869649,"body_markdown":"I have a method that can calculate the mode inverse of a. TC O(logm) SC O(logm). We are using the Euclid algorithm: “a and m are co-primes if GCD(a,m) == 1”. Please use the link below.\r\n\r\n[Stackoverflow post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72922841/5475941","title":"Java modular inverse","body":"<p>I have a method that can calculate the mode inverse of a. TC O(logm) SC O(logm). We are using the Euclid algorithm: “a and m are co-primes if GCD(a,m) == 1”. Please use the link below.</p>\n<p><a href=\"https://stackoverflow.com/a/72922841/5475941\">Stackoverflow post</a></p>\n"}],"owner":{"account_id":284878,"reputation":3585,"user_id":583240,"accept_rate":97,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7712,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":7869671,"answer_count":6,"score":2,"last_activity_date":1657382664,"creation_date":1319408347,"question_id":7869649,"body_markdown":"I&#39;m doing some error correction in Java and to cut a long story short;\r\n\r\nUnder mod 11:\r\n\r\n    -4 mod 11 = 7\r\n\r\nThis I&#39;ve confirmed by using Google&#39;s calculator and a couple of online modulo calculators, but I cannot for the life of me figure out how to do it in Java.\r\n\r\nI&#39;m thinking that I need to use an inverse table to find the correct number but I seem to be going round in circles.\r\n\r\nAny input would be appreciated.\r\n\r\nThank in advance\r\n\r\nTony","title":"Java modular inverse","body":"<p>I'm doing some error correction in Java and to cut a long story short;</p>\n\n<p>Under mod 11:</p>\n\n<pre><code>-4 mod 11 = 7\n</code></pre>\n\n<p>This I've confirmed by using Google's calculator and a couple of online modulo calculators, but I cannot for the life of me figure out how to do it in Java.</p>\n\n<p>I'm thinking that I need to use an inverse table to find the correct number but I seem to be going round in circles.</p>\n\n<p>Any input would be appreciated.</p>\n\n<p>Thank in advance</p>\n\n<p>Tony</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1473609739,"post_id":39437988,"comment_id":66198366,"body_markdown":"Well you have some code there, but what exactly isn&#39;t working?! It would help if you would give some concrete examples where your code is failing to do what you expect it to do. Dont expect us to do that for you!","body":"Well you have some code there, but what exactly isn&#39;t working?! It would help if you would give some concrete examples where your code is failing to do what you expect it to do. Dont expect us to do that for you!"},{"owner":{"account_id":5376055,"reputation":131,"user_id":4282927,"accept_rate":50,"display_name":"Mason Walton"},"score":0,"creation_date":1473609995,"post_id":39437988,"comment_id":66198432,"body_markdown":"@GhostCat Sorry, I have updated my question to be more specific.","body":"@GhostCat Sorry, I have updated my question to be more specific."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1473615552,"post_id":39437988,"comment_id":66200151,"body_markdown":"PS The following line `System.out.println(new ModInt(2, 5).subtract(new ModInt(4, 5)));` prints `-2(mod 5)` — is that as intended? I might have expected 3(mod 5) since 3 + 4 is equivalent to 2 (mod 5).","body":"PS The following line <code>System.out.println(new ModInt(2, 5).subtract(new ModInt(4, 5)));</code> prints <code>-2(mod 5)</code> — is that as intended? I might have expected 3(mod 5) since 3 + 4 is equivalent to 2 (mod 5)."},{"owner":{"account_id":5376055,"reputation":131,"user_id":4282927,"accept_rate":50,"display_name":"Mason Walton"},"score":0,"creation_date":1473628413,"post_id":39437988,"comment_id":66203747,"body_markdown":"@OleV.V. Yes, you are correct. I have edited my methods above. Thank you.","body":"@OleV.V. Yes, you are correct. I have edited my methods above. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473615723,"creation_date":1473615081,"answer_id":39438800,"question_id":39437988,"body_markdown":"I took the brute force algorithm from https://comeoncodeon.wordpress.com/2011/10/09/modular-multiplicative-inverse/, it’s in C++ but *almost* compiles as Java. So most of my work was tailoring it to fit into your class. This is the result:\r\n\r\n\t/**\r\n\t * computes the inverse of this integer modulo number\r\n\t * \r\n\t * @return the inverse of this number\r\n\t */\r\n    public ModInt inverse() {\r\n        int a = number % base;\r\n        for (int x = 1; x &lt; base; x++) {\r\n            if ((a * x) % base == 1) {\r\n                return new ModInt(x, base);\r\n            }\r\n        }\r\n        throw new ArithmeticException(&quot;No inverse of &quot; + toString());\r\n    }\r\n","title":"Java Modular Multiplicative Inverse","body":"<p>I took the brute force algorithm from <a href=\"https://comeoncodeon.wordpress.com/2011/10/09/modular-multiplicative-inverse/\" rel=\"nofollow\">https://comeoncodeon.wordpress.com/2011/10/09/modular-multiplicative-inverse/</a>, it’s in C++ but <em>almost</em> compiles as Java. So most of my work was tailoring it to fit into your class. This is the result:</p>\n\n<pre><code>/**\n * computes the inverse of this integer modulo number\n * \n * @return the inverse of this number\n */\npublic ModInt inverse() {\n    int a = number % base;\n    for (int x = 1; x &lt; base; x++) {\n        if ((a * x) % base == 1) {\n            return new ModInt(x, base);\n        }\n    }\n    throw new ArithmeticException(\"No inverse of \" + toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586974905,"creation_date":1586972768,"answer_id":61235219,"question_id":39437988,"body_markdown":"\r\n\r\nThis should do it.  If `a` and `m` are not relatively prime (i.e. have a common divisor that isn&#39;t `1`), this will return a `-1`.\r\n\r\nI included a call to a `gcd` method prior to iteration from `1 to m` to short circuit the process if `a` and `m` are not relatively prime.\r\n```\r\n\r\n     public static int mod(int a, int m) {\r\n\t\tif (gcd(a,m) != 1) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tint x;\r\n\t\tfor (x = 1; x &lt; m; x++) {\r\n\t\t\tif ((a * x) % m == 1) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn x;\r\n\t}\r\n\tpublic static int gcd(int r, int s) {\r\n\t\twhile (s != 0) {\r\n\t\t   int t = s;\r\n\t\t   s = r % s;\r\n\t\t   r = t;\r\n\t\t}\r\n\t\treturn r;\r\n\t}\r\n\r\n```\r\nfor more info check out [Modular Multiplicative Inverse](https://en.wikipedia.org/wiki/Modular_multiplicative_inverse#Extended_Euclidean_algorithm)","title":"Java Modular Multiplicative Inverse","body":"<p>This should do it.  If <code>a</code> and <code>m</code> are not relatively prime (i.e. have a common divisor that isn't <code>1</code>), this will return a <code>-1</code>.</p>\n\n<p>I included a call to a <code>gcd</code> method prior to iteration from <code>1 to m</code> to short circuit the process if <code>a</code> and <code>m</code> are not relatively prime.</p>\n\n<pre><code>\n     public static int mod(int a, int m) {\n        if (gcd(a,m) != 1) {\n            return -1;\n        }\n        int x;\n        for (x = 1; x &lt; m; x++) {\n            if ((a * x) % m == 1) {\n                break;\n            }\n        }\n        return x;\n    }\n    public static int gcd(int r, int s) {\n        while (s != 0) {\n           int t = s;\n           s = r % s;\n           r = t;\n        }\n        return r;\n    }\n\n</code></pre>\n\n<p>for more info check out <a href=\"https://en.wikipedia.org/wiki/Modular_multiplicative_inverse#Extended_Euclidean_algorithm\" rel=\"nofollow noreferrer\">Modular Multiplicative Inverse</a></p>\n"},{"tags":[],"owner":{"account_id":5881780,"reputation":3270,"user_id":4630899,"accept_rate":92,"display_name":"optional"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623249294,"creation_date":1623211961,"answer_id":67897488,"question_id":39437988,"body_markdown":"Here are some facts before proceeding to multiplicative inverse.\r\n\r\nGiven the equation : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n&gt; has multiplication inverse of a if and only if\r\n&gt; n&gt;1 , gcd(a,n) = 1. and b =1\r\n\r\nHence the equation becomes :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n&gt; where a^{-1} is multiplicative inverse of a.\r\n\r\nUsing the extended Eculid algorithm given two integers a,b; the `gcd(a,b)` can be written as the liner combination of a and b so the equation becomes:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nWe need to find the value of x which will be the multiplicative inverse of a.\r\n\r\nIf the value of x is negative add n to make it positive by using the following property of modular arithmetic.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nHere is the java code to do the same :\r\n\r\n    import java.math.BigInteger;\r\n\r\n    public class ExtendedEculid {\r\n    \r\n    \tpublic static int[] egcd(int a, int b) {\r\n    \t\tif (b == 0)\r\n    \t\t\treturn new int[] { a, 1, 0 };\r\n    \t\telse {\r\n    \t\t\tint[] arr = egcd(b, a % b);\r\n    \r\n    \t\t\tint gcd = arr[0];\r\n    \t\t\tint X = arr[2];\r\n    \t\t\tint Y = arr[1] - (a / b) * arr[2];\r\n    \r\n    \t\t\treturn new int[] { gcd, X, Y };\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static int multiplicativeInverse(int a, int modulo) {\r\n    \r\n    \t\tint[] egcdValues = egcd(a, modulo);\r\n    \r\n    \t\t// since multiplicative inverse exist iff gcd(a,modulo) =1\r\n    \t\t// if no inverse exist then return 0\r\n    \r\n    \t\tif (egcdValues[0] != 1)\r\n    \t\t\treturn 0;\r\n    \t\tif (egcdValues[1] &gt; 0)\r\n    \t\t\treturn egcdValues[1];\r\n    \t\telse\r\n    \t\t\treturn egcdValues[1] + modulo;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSystem.out.println(multiplicativeInverse(5, 7));\r\n    \t\t\r\n    \t\t// using BigInteger\r\n    \t\tBigInteger a = new BigInteger(&quot;5&quot;);\r\n    \t\tBigInteger m = new BigInteger(&quot;7&quot;);\r\n    \t\tSystem.out.println(a.modInverse(m));\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nEdit : [java.math.BigInteger][5] has a method modInverse [here][6] . You can use it as well ,code snippet added for it.\r\n\r\n\r\nReferences : CLRS ,Introductions to algorithms ,3rd ed, Chapter 31\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vfJMQ.gif\r\n  [2]: https://i.stack.imgur.com/GzBxB.gif\r\n  [3]: https://i.stack.imgur.com/7Quwh.gif\r\n  [4]: https://i.stack.imgur.com/RnK5n.gif\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#modInverse(java.math.BigInteger)\r\n","title":"Java Modular Multiplicative Inverse","body":"<p>Here are some facts before proceeding to multiplicative inverse.</p>\n<p>Given the equation :</p>\n<p><a href=\"https://i.stack.imgur.com/vfJMQ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vfJMQ.gif\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>has multiplication inverse of a if and only if\nn&gt;1 , gcd(a,n) = 1. and b =1</p>\n</blockquote>\n<p>Hence the equation becomes :</p>\n<p><a href=\"https://i.stack.imgur.com/GzBxB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GzBxB.gif\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>where a^{-1} is multiplicative inverse of a.</p>\n</blockquote>\n<p>Using the extended Eculid algorithm given two integers a,b; the <code>gcd(a,b)</code> can be written as the liner combination of a and b so the equation becomes:</p>\n<p><a href=\"https://i.stack.imgur.com/7Quwh.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Quwh.gif\" alt=\"enter image description here\" /></a></p>\n<p>We need to find the value of x which will be the multiplicative inverse of a.</p>\n<p>If the value of x is negative add n to make it positive by using the following property of modular arithmetic.</p>\n<p><a href=\"https://i.stack.imgur.com/RnK5n.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RnK5n.gif\" alt=\"enter image description here\" /></a></p>\n<p>Here is the java code to do the same :</p>\n<pre><code>import java.math.BigInteger;\n\npublic class ExtendedEculid {\n\n    public static int[] egcd(int a, int b) {\n        if (b == 0)\n            return new int[] { a, 1, 0 };\n        else {\n            int[] arr = egcd(b, a % b);\n\n            int gcd = arr[0];\n            int X = arr[2];\n            int Y = arr[1] - (a / b) * arr[2];\n\n            return new int[] { gcd, X, Y };\n        }\n    }\n\n    public static int multiplicativeInverse(int a, int modulo) {\n\n        int[] egcdValues = egcd(a, modulo);\n\n        // since multiplicative inverse exist iff gcd(a,modulo) =1\n        // if no inverse exist then return 0\n\n        if (egcdValues[0] != 1)\n            return 0;\n        if (egcdValues[1] &gt; 0)\n            return egcdValues[1];\n        else\n            return egcdValues[1] + modulo;\n    }\n    \n    \n    public static void main(String[] args) {\n        \n        System.out.println(multiplicativeInverse(5, 7));\n        \n        // using BigInteger\n        BigInteger a = new BigInteger(&quot;5&quot;);\n        BigInteger m = new BigInteger(&quot;7&quot;);\n        System.out.println(a.modInverse(m));\n        \n    }\n}\n</code></pre>\n<p>Edit : <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">java.math.BigInteger</a> has a method modInverse <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#modInverse(java.math.BigInteger)\" rel=\"nofollow noreferrer\">here</a> . You can use it as well ,code snippet added for it.</p>\n<p>References : CLRS ,Introductions to algorithms ,3rd ed, Chapter 31</p>\n"},{"tags":[],"owner":{"account_id":24320332,"reputation":1,"user_id":18260851,"display_name":"Isha Narola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645374864,"creation_date":1645374384,"answer_id":71196367,"question_id":39437988,"body_markdown":"you can try this one code and you will find out the answer:\r\n\r\n```\r\n//package CNS;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class extended_eculidean {\r\n\r\n    public static void extended_eculidean(int m,int b){\r\n        int a1=1,a2=0,a3=b;\r\n        int b1=0,b2=1,b3=m;\r\n        int count=0;\r\n\r\n        while(b3!=1 &amp;&amp; b3!=0)\r\n        {\r\n            int  q=a3/b3;\r\n            int  t1=(a1-(q*b1));\r\n            int t2=(a2-(q*b2));\r\n            int  t3=(a3-(q*b3));\r\n            //copying values of previous b1,b2,b3 into current a1,a2,a3\r\n            a1=b1;\r\n            a2=b2;\r\n            a3=b3;\r\n            b1=t1;\r\n            b2=t2;\r\n            b3=t3;\r\n        }\r\n\r\n        if(b3==0)\r\n        {\r\n            System.out.println(&quot;Inverse can not found&quot;);\r\n        }\r\n        else\r\n        {\r\n            if(b2&lt;0) {\r\n                b2=b2+m;\r\n            }\r\n        }\r\n        System.out.println(&quot;the inverse found : that is the answer&quot;);\r\n        System.out.println( b2);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;enter the number :&quot;);\r\n        int b=sc.nextInt();\r\n\r\n        System.out.println(&quot;enter the number of galois field&quot;);\r\n        int m=sc.nextInt();\r\n\r\n        System.out.println(&quot;this is the answer&quot; );\r\n        extended_eculidean(m,b);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nenter the number :\r\n17\r\nenter the number of galois field\r\n29\r\nthis is the answer\r\nthe inverse found: that is the answer\r\n22\r\n```","title":"Java Modular Multiplicative Inverse","body":"<p>you can try this one code and you will find out the answer:</p>\n<pre><code>//package CNS;\n\nimport java.util.Scanner;\n\npublic class extended_eculidean {\n\n    public static void extended_eculidean(int m,int b){\n        int a1=1,a2=0,a3=b;\n        int b1=0,b2=1,b3=m;\n        int count=0;\n\n        while(b3!=1 &amp;&amp; b3!=0)\n        {\n            int  q=a3/b3;\n            int  t1=(a1-(q*b1));\n            int t2=(a2-(q*b2));\n            int  t3=(a3-(q*b3));\n            //copying values of previous b1,b2,b3 into current a1,a2,a3\n            a1=b1;\n            a2=b2;\n            a3=b3;\n            b1=t1;\n            b2=t2;\n            b3=t3;\n        }\n\n        if(b3==0)\n        {\n            System.out.println(&quot;Inverse can not found&quot;);\n        }\n        else\n        {\n            if(b2&lt;0) {\n                b2=b2+m;\n            }\n        }\n        System.out.println(&quot;the inverse found : that is the answer&quot;);\n        System.out.println( b2);\n    }\n\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;enter the number :&quot;);\n        int b=sc.nextInt();\n\n        System.out.println(&quot;enter the number of galois field&quot;);\n        int m=sc.nextInt();\n\n        System.out.println(&quot;this is the answer&quot; );\n        extended_eculidean(m,b);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>enter the number :\n17\nenter the number of galois field\n29\nthis is the answer\nthe inverse found: that is the answer\n22\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7167179,"reputation":6034,"user_id":5475941,"display_name":"Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657382438,"creation_date":1657382438,"answer_id":72922841,"question_id":39437988,"body_markdown":"I have a method that can calculate the mode inverse of a. TC O(logm) SC O(logm). We are using Euclid algorithm: “a and m are co-primes if GCD(a,m) == 1”.\r\n\r\nCode: [Github][1]\r\n\r\n    public class ModInverse {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.printf(&quot;Mode inverse of %d in mode %d is %d. \\n&quot;, 3, 11, ModInverse.getModInverse(3, 11));\r\n            System.out.printf(&quot;Mode inverse of %d in mode %d is %d. \\n&quot;, 10, 17, ModInverse.getModInverse(10, 17));\r\n        }\r\n    \r\n        /**\r\n         * A method that returns the mod inverse of a in a specific mod. This method uses Euclid algorithm:\r\n         * and m are co-primes if GCD(a, m) == 1\r\n         * Time complexity O(logm)\r\n         * Space complexity O(logm)\r\n         *\r\n         * @param a   The input\r\n         * @param mod The mod\r\n         * @return Inverse mod of a in the mod\r\n         */\r\n        public static int getModInverse(int a, int mod) {\r\n            int originalMod = mod, x = 1, y = 0;\r\n            if (mod == 1) return 0;\r\n            while (a &gt; 1) { // Euclid algorithm: a and m are co-primes if gcd(a,m)==1\r\n                int quotient = a / mod;\r\n                int temp = mod;\r\n                mod = a % mod;\r\n                a = temp;\r\n                temp = y;\r\n                y = x - quotient * y;\r\n                x = temp;\r\n            }\r\n            return x &lt; 0 ? x + originalMod : x; // Make x positive if it is negative\r\n        }\r\n    \r\n    }\r\n\r\nUnit test: [Github][2]\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    public class ModInverseTest {\r\n    \r\n        @Test\r\n        public void testGetModInverse() {\r\n            Assert.assertEquals(4, ModInverse.getModInverse(3, 11));\r\n            Assert.assertEquals(12, ModInverse.getModInverse(10, 17));\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://github.com/m-vahidalizadeh/computer_science_project/blob/92a85204e514bb1a9be2f682cd1c0f8b672829e4/src/algorithms/math/ModInverse.java\r\n  [2]: https://github.com/m-vahidalizadeh/computer_science_project/blob/92a85204e514bb1a9be2f682cd1c0f8b672829e4/test/algorithms/math/ModInverseTest.java","title":"Java Modular Multiplicative Inverse","body":"<p>I have a method that can calculate the mode inverse of a. TC O(logm) SC O(logm). We are using Euclid algorithm: “a and m are co-primes if GCD(a,m) == 1”.</p>\n<p>Code: <a href=\"https://github.com/m-vahidalizadeh/computer_science_project/blob/92a85204e514bb1a9be2f682cd1c0f8b672829e4/src/algorithms/math/ModInverse.java\" rel=\"nofollow noreferrer\">Github</a></p>\n<pre><code>public class ModInverse {\n\n    public static void main(String[] args) {\n        System.out.printf(&quot;Mode inverse of %d in mode %d is %d. \\n&quot;, 3, 11, ModInverse.getModInverse(3, 11));\n        System.out.printf(&quot;Mode inverse of %d in mode %d is %d. \\n&quot;, 10, 17, ModInverse.getModInverse(10, 17));\n    }\n\n    /**\n     * A method that returns the mod inverse of a in a specific mod. This method uses Euclid algorithm:\n     * and m are co-primes if GCD(a, m) == 1\n     * Time complexity O(logm)\n     * Space complexity O(logm)\n     *\n     * @param a   The input\n     * @param mod The mod\n     * @return Inverse mod of a in the mod\n     */\n    public static int getModInverse(int a, int mod) {\n        int originalMod = mod, x = 1, y = 0;\n        if (mod == 1) return 0;\n        while (a &gt; 1) { // Euclid algorithm: a and m are co-primes if gcd(a,m)==1\n            int quotient = a / mod;\n            int temp = mod;\n            mod = a % mod;\n            a = temp;\n            temp = y;\n            y = x - quotient * y;\n            x = temp;\n        }\n        return x &lt; 0 ? x + originalMod : x; // Make x positive if it is negative\n    }\n\n}\n</code></pre>\n<p>Unit test: <a href=\"https://github.com/m-vahidalizadeh/computer_science_project/blob/92a85204e514bb1a9be2f682cd1c0f8b672829e4/test/algorithms/math/ModInverseTest.java\" rel=\"nofollow noreferrer\">Github</a></p>\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\n\npublic class ModInverseTest {\n\n    @Test\n    public void testGetModInverse() {\n        Assert.assertEquals(4, ModInverse.getModInverse(3, 11));\n        Assert.assertEquals(12, ModInverse.getModInverse(10, 17));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5376055,"reputation":131,"user_id":4282927,"accept_rate":50,"display_name":"Mason Walton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7958,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1657382438,"creation_date":1473609617,"question_id":39437988,"body_markdown":"I cannot for the life of me figure out how to find the modular multiplicative inverse mod 5. I have read all the wiki articles, watched videos, and even looked for help from classmates and cannot find a solution to this. Everything I have found is either in another programming language in which I can&#39;t translate to Java (new to programming) and/or uses doubles instead of integers, which I can only use integers per my professor&#39;s specs. Here is the class I have written so far, can&#39;t do the `divide()` method until I figure out the `inverse()` method:\r\n\r\n\r\n\r\n\r\n    public class ModInt {\r\n        \r\n        /**\r\n         * the integer modulo base\r\n         */\r\n        private int base;\r\n        \r\n        /**\r\n        *  the number\r\n        */\r\n        private int number;\r\n        \r\n        /**\r\n         * creates the modulo 2 number 0\r\n         */\r\n        public ModInt()\r\n        {\r\n            base = 2;\r\n            number = 0;\r\n        }\r\n        \r\n        /**\r\n         * creates a modulo b number n\r\n         * @param n the number\r\n         * @param b the base\r\n         */\r\n        public ModInt(int n, int b)\r\n        {\r\n           number = n;\r\n           base = b;\r\n        }\r\n        \r\n        /**\r\n         * creates an equivalent number in the same integer modulo base as the specified integer modulo number.\r\n         * @param m an integer modulo number\r\n         */\r\n        public ModInt(ModInt m)\r\n        {\r\n           number = m.number;\r\n           base = m.base;\r\n        }\r\n        \r\n        /**\r\n         * gives the number of the integer modulo number.\r\n         * @return the number\r\n         */\r\n        public int getNumber()\r\n        {\r\n            return number;\r\n        }\r\n        \r\n        /**\r\n         * gives the base of the specified integer modulo number.\r\n         * @return the base\r\n         */\r\n        public int getBase()\r\n        {\r\n            return base;\r\n        }\r\n        \r\n        /**\r\n         * modifies the integer modulo number using the specified parameters\r\n         * @param n the new number\r\n         * @param b the new base\r\n         */\r\n        public void setModInt(int n, int b)\r\n        {\r\n           number = n;\r\n           base = b;\r\n        }\r\n        \r\n        /**\r\n         * adds this integer modulo number and the specified integer modulo number\r\n         * @param m an integer modulo number\r\n         * @return the sum of this number and the specified number\r\n         */\r\n        public ModInt add(ModInt m)\r\n        {\r\n           return new ModInt((number + m.number) % base, base);     \r\n        }\r\n    \r\n        /**\r\n         * subtracts this integer modulo number and the specified integer modulo number\r\n         * @param m an integer modulo number\r\n         * @return the difference this number and the specified number\r\n         */\r\n        public ModInt subtract(ModInt m)\r\n        {\r\n            return new ModInt(((base - number + m.number) % base, base);\r\n        }\r\n        \r\n        /**\r\n         * multiplies this integer modulo number and the specified integer modulo number\r\n         * @param m an integer modulo number\r\n         * @return the product of this number and the specified number\r\n         */\r\n        public ModInt multiply(ModInt m)\r\n        {\r\n           return new ModInt((number * m.number) % base, base);\r\n        }    \r\n        \r\n        /**\r\n         * computes the inverse of this integer modulo number\r\n         * @return the inverse of this number\r\n         */\r\n        public ModInt inverse()\r\n        {\r\n           return new ModInt();\r\n        }\r\n        \r\n        /**\r\n         * divides this integer modulo number and the specified integer modulo number\r\n         * @param m an integer modulo number\r\n         * @return the quotient of this number and the specified number\r\n         */\r\n        public ModInt divide(ModInt m)\r\n        {\r\n           return new ModInt();\r\n        }    \r\n        \r\n        /**\r\n         * give the string representation of an integer modulo number in the format\r\n         * n(mod b), where n is the number and b is the base\r\n         * @return a string representation of the integer modulo number in the format\r\n         * n(mod b); for example 3(mod 5) is the representation of the number \r\n         * 3 in integer modulo base 5\r\n         */\r\n        public String toString()\r\n        {\r\n           return String.format(&quot;%d(mod %d)&quot;, number, base);\r\n        }\r\n        \r\n    }\r\n\r\nI am trying to write the `inverse()` method so it returns the inverse of the integer modulo number (`mod 5`). For now, I have it returning just the default constructor so the error would go away when running the code. Can anyone attempt to explain how to find the modular multiplicative inverse using ONLY integer types, no doubles or any other types? Here is my professor&#39;s explanation of it, but I don&#39;t understand it: \r\n\r\n&gt; The multiplicative inverse or simply the inverse of a number n,\r\n&gt; denoted n^(−1), in integer modulo base b, is a number that when\r\n&gt; multiplied by n is congruent to 1; that is, n &#215; n^(−1) ≡ 1(mod b). For\r\n&gt; example, 5^(−1) integer modulo 7 is 3 since (5 &#215; 3) mod 7 = 15 mod 7 ≡ 1.\r\n&gt; The number 0 has no inverse. Not every number is invertible. For\r\n&gt; example, 2^(−1) integer modulo 4 is indeterminate since no integer in {0,\r\n&gt; 1, 2, 3} can be multiplied by 2 to obtain 1.\r\n\r\nAny help is appreciated, thanks.","title":"Java Modular Multiplicative Inverse","body":"<p>I cannot for the life of me figure out how to find the modular multiplicative inverse mod 5. I have read all the wiki articles, watched videos, and even looked for help from classmates and cannot find a solution to this. Everything I have found is either in another programming language in which I can't translate to Java (new to programming) and/or uses doubles instead of integers, which I can only use integers per my professor's specs. Here is the class I have written so far, can't do the <code>divide()</code> method until I figure out the <code>inverse()</code> method:</p>\n\n<pre><code>public class ModInt {\n\n    /**\n     * the integer modulo base\n     */\n    private int base;\n\n    /**\n    *  the number\n    */\n    private int number;\n\n    /**\n     * creates the modulo 2 number 0\n     */\n    public ModInt()\n    {\n        base = 2;\n        number = 0;\n    }\n\n    /**\n     * creates a modulo b number n\n     * @param n the number\n     * @param b the base\n     */\n    public ModInt(int n, int b)\n    {\n       number = n;\n       base = b;\n    }\n\n    /**\n     * creates an equivalent number in the same integer modulo base as the specified integer modulo number.\n     * @param m an integer modulo number\n     */\n    public ModInt(ModInt m)\n    {\n       number = m.number;\n       base = m.base;\n    }\n\n    /**\n     * gives the number of the integer modulo number.\n     * @return the number\n     */\n    public int getNumber()\n    {\n        return number;\n    }\n\n    /**\n     * gives the base of the specified integer modulo number.\n     * @return the base\n     */\n    public int getBase()\n    {\n        return base;\n    }\n\n    /**\n     * modifies the integer modulo number using the specified parameters\n     * @param n the new number\n     * @param b the new base\n     */\n    public void setModInt(int n, int b)\n    {\n       number = n;\n       base = b;\n    }\n\n    /**\n     * adds this integer modulo number and the specified integer modulo number\n     * @param m an integer modulo number\n     * @return the sum of this number and the specified number\n     */\n    public ModInt add(ModInt m)\n    {\n       return new ModInt((number + m.number) % base, base);     \n    }\n\n    /**\n     * subtracts this integer modulo number and the specified integer modulo number\n     * @param m an integer modulo number\n     * @return the difference this number and the specified number\n     */\n    public ModInt subtract(ModInt m)\n    {\n        return new ModInt(((base - number + m.number) % base, base);\n    }\n\n    /**\n     * multiplies this integer modulo number and the specified integer modulo number\n     * @param m an integer modulo number\n     * @return the product of this number and the specified number\n     */\n    public ModInt multiply(ModInt m)\n    {\n       return new ModInt((number * m.number) % base, base);\n    }    \n\n    /**\n     * computes the inverse of this integer modulo number\n     * @return the inverse of this number\n     */\n    public ModInt inverse()\n    {\n       return new ModInt();\n    }\n\n    /**\n     * divides this integer modulo number and the specified integer modulo number\n     * @param m an integer modulo number\n     * @return the quotient of this number and the specified number\n     */\n    public ModInt divide(ModInt m)\n    {\n       return new ModInt();\n    }    \n\n    /**\n     * give the string representation of an integer modulo number in the format\n     * n(mod b), where n is the number and b is the base\n     * @return a string representation of the integer modulo number in the format\n     * n(mod b); for example 3(mod 5) is the representation of the number \n     * 3 in integer modulo base 5\n     */\n    public String toString()\n    {\n       return String.format(\"%d(mod %d)\", number, base);\n    }\n\n}\n</code></pre>\n\n<p>I am trying to write the <code>inverse()</code> method so it returns the inverse of the integer modulo number (<code>mod 5</code>). For now, I have it returning just the default constructor so the error would go away when running the code. Can anyone attempt to explain how to find the modular multiplicative inverse using ONLY integer types, no doubles or any other types? Here is my professor's explanation of it, but I don't understand it: </p>\n\n<blockquote>\n  <p>The multiplicative inverse or simply the inverse of a number n,\n  denoted n^(−1), in integer modulo base b, is a number that when\n  multiplied by n is congruent to 1; that is, n × n^(−1) ≡ 1(mod b). For\n  example, 5^(−1) integer modulo 7 is 3 since (5 × 3) mod 7 = 15 mod 7 ≡ 1.\n  The number 0 has no inverse. Not every number is invertible. For\n  example, 2^(−1) integer modulo 4 is indeterminate since no integer in {0,\n  1, 2, 3} can be multiplied by 2 to obtain 1.</p>\n</blockquote>\n\n<p>Any help is appreciated, thanks.</p>\n"},{"tags":["java","generics","collections"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1657366871,"post_id":72921049,"comment_id":128796509,"body_markdown":"Every `ArrayList&lt;AnimalChild&gt;` must be a `ArrayList&lt;? extends Animal&gt;`, but not every `ArrayList&lt;? extends Animal&gt;` is a `ArrayList&lt;AnimalChild&gt;`.","body":"Every <code>ArrayList&lt;AnimalChild&gt;</code> must be a <code>ArrayList&lt;? extends Animal&gt;</code>, but not every <code>ArrayList&lt;? extends Animal&gt;</code> is a <code>ArrayList&lt;AnimalChild&gt;</code>."},{"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"score":0,"creation_date":1657366945,"post_id":72921049,"comment_id":128796521,"body_markdown":"Hm, how do you think I should make it work as intended? Because when I try to add &lt;T extends Animal&gt; in the method itself it then wants me to do a conversion on a return type, that&#39;s even more confusing because I&#39;m returning a T extends Animal type, in this case AnimalChild","body":"Hm, how do you think I should make it work as intended? Because when I try to add &lt;T extends Animal&gt; in the method itself it then wants me to do a conversion on a return type, that&#39;s even more confusing because I&#39;m returning a T extends Animal type, in this case AnimalChild"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1657366969,"post_id":72921049,"comment_id":128796524,"body_markdown":"How do you intend it to work?","body":"How do you intend it to work?"},{"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"score":0,"creation_date":1657367067,"post_id":72921049,"comment_id":128796543,"body_markdown":"I want the method to return different types of arraylist, all of which extends Animal, based on some conditions and then assign them in main","body":"I want the method to return different types of arraylist, all of which extends Animal, based on some conditions and then assign them in main"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1657367141,"post_id":72921049,"comment_id":128796559,"body_markdown":"So you should do `ArrayList&lt;? extends Animal&gt; = readAnimals();` in `main`, because you have no idea what specific kind of animal it is going to return there.","body":"So you should do <code>ArrayList&lt;? extends Animal&gt; = readAnimals();</code> in <code>main</code>, because you have no idea what specific kind of animal it is going to return there."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657382352,"creation_date":1657382352,"answer_id":72922831,"question_id":72921049,"body_markdown":"Here&#39;s what I used for this example:\r\n```\r\nclass Animal {  }\r\nclass AnimalChild extends Animal {  }\r\n```\r\n\r\nWith those classes defined above, the following compiles fine:\r\n```\r\npublic static ArrayList&lt;? extends Animal&gt; readAnimals() {\r\n    return new ArrayList&lt;AnimalChild&gt;();\r\n}\r\n```\r\n\r\nHowever, as you found, this does not compile (compiler error added, too):\r\n```\r\npublic static void main(String[] args) {\r\n    ArrayList&lt;AnimalChild&gt; x = readAnimals();\r\n}\r\n\r\njava: incompatible types: java.util.ArrayList&lt;capture#1 of ? extends Animal&gt; cannot be converted to java.util.ArrayList&lt;AnimalChild&gt;\r\n```\r\n\r\nWhy? Since the return type of the _method_ is `ArrayList&lt;? extends Animal&gt;` (not `ArrayList&lt;AnimalChild&gt;`), the compiler is telling you it cannot make sense of the return types, one of them cannot be converted to the other.\r\n\r\nWhy doesn&#39;t the compiler understand that the return value is `ArrayList&lt;AnimalChild&gt;`? Because it&#39;s using the _declared_ return type in the method signature, not the runtime type of the actual return value. The _caller_ to the method will also see the return type as declared by the method signature.\r\n\r\nHere&#39;s a really simple example of the same behvior:\r\n* static method declared with return type of java.lang.Object\r\n* implementation returns a java.lang.String\r\n* caller tries to receive the result as a String\r\n```\r\nstatic Object getString() {\r\n    return &quot;&quot;;\r\n}\r\n\r\nString string = getString(); // error: does not compile\r\n```\r\n\r\nA similar error arises as with your example:\r\n```\r\njava: incompatible types: java.lang.Object cannot be converted to java.lang.String\r\n```\r\n\r\n\r\nTo fix your code, you should change this:\r\n```\r\nArrayList&lt;AnimalChild&gt; animals = readAnimals();\r\n```\r\nTo something like this where the declared type of &quot;animals&quot; matches the declared return type of the method:\r\n```\r\nArrayList&lt;? extends Animal&gt; animals = readAnimals();\r\n```\r\n","title":"Why does ? extends ... accept child for return value but not as a variable type in main?","body":"<p>Here's what I used for this example:</p>\n<pre><code>class Animal {  }\nclass AnimalChild extends Animal {  }\n</code></pre>\n<p>With those classes defined above, the following compiles fine:</p>\n<pre><code>public static ArrayList&lt;? extends Animal&gt; readAnimals() {\n    return new ArrayList&lt;AnimalChild&gt;();\n}\n</code></pre>\n<p>However, as you found, this does not compile (compiler error added, too):</p>\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;AnimalChild&gt; x = readAnimals();\n}\n\njava: incompatible types: java.util.ArrayList&lt;capture#1 of ? extends Animal&gt; cannot be converted to java.util.ArrayList&lt;AnimalChild&gt;\n</code></pre>\n<p>Why? Since the return type of the <em>method</em> is <code>ArrayList&lt;? extends Animal&gt;</code> (not <code>ArrayList&lt;AnimalChild&gt;</code>), the compiler is telling you it cannot make sense of the return types, one of them cannot be converted to the other.</p>\n<p>Why doesn't the compiler understand that the return value is <code>ArrayList&lt;AnimalChild&gt;</code>? Because it's using the <em>declared</em> return type in the method signature, not the runtime type of the actual return value. The <em>caller</em> to the method will also see the return type as declared by the method signature.</p>\n<p>Here's a really simple example of the same behvior:</p>\n<ul>\n<li>static method declared with return type of java.lang.Object</li>\n<li>implementation returns a java.lang.String</li>\n<li>caller tries to receive the result as a String</li>\n</ul>\n<pre><code>static Object getString() {\n    return &quot;&quot;;\n}\n\nString string = getString(); // error: does not compile\n</code></pre>\n<p>A similar error arises as with your example:</p>\n<pre><code>java: incompatible types: java.lang.Object cannot be converted to java.lang.String\n</code></pre>\n<p>To fix your code, you should change this:</p>\n<pre><code>ArrayList&lt;AnimalChild&gt; animals = readAnimals();\n</code></pre>\n<p>To something like this where the declared type of &quot;animals&quot; matches the declared return type of the method:</p>\n<pre><code>ArrayList&lt;? extends Animal&gt; animals = readAnimals();\n</code></pre>\n"}],"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1657382352,"creation_date":1657366766,"question_id":72921049,"body_markdown":"the following code\r\n\r\n```\r\npublic static ArrayList&lt;? extends Animal&gt; readAnimals(){\r\n    return new ArrayList&lt;AnimalChild&gt;();\r\n}\r\n```\r\n\r\ndoesn&#39;t give compilation errors but when I do the following\r\n\r\n```\r\nArrayList&lt;AnimalChild&gt; = readAnimals();\r\n```\r\n\r\nType mismatch: cannot convert from ArrayList&lt;capture#1-of ? extends Animal&gt; to ArrayList&lt;AnimalChild&gt;.\r\n\r\nIt wants me to do type conversion and then gives me unchecked cast warning. Why is that?","title":"Why does ? extends ... accept child for return value but not as a variable type in main?","body":"<p>the following code</p>\n<pre><code>public static ArrayList&lt;? extends Animal&gt; readAnimals(){\n    return new ArrayList&lt;AnimalChild&gt;();\n}\n</code></pre>\n<p>doesn't give compilation errors but when I do the following</p>\n<pre><code>ArrayList&lt;AnimalChild&gt; = readAnimals();\n</code></pre>\n<p>Type mismatch: cannot convert from ArrayList&lt;capture#1-of ? extends Animal&gt; to ArrayList.</p>\n<p>It wants me to do type conversion and then gives me unchecked cast warning. Why is that?</p>\n"},{"tags":["java","spring","caching","redis"],"answers":[{"tags":[],"owner":{"account_id":11511943,"reputation":359,"user_id":8436465,"display_name":"Rub&#233;n Morales"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657382145,"creation_date":1657324488,"answer_id":72917982,"question_id":72917783,"body_markdown":"I solved it by overriding the cache error handlers using a *CustomCacheErrorHandler* that does not throw any exception. See response from *Welsh* in https://stackoverflow.com/questions/65853418/how-to-handle-redis-exceptions-by-using-spring-cache?rq=1\r\n\r\nFirst, create a class\r\n\r\n```\r\nimport org.springframework.cache.Cache;\r\nimport org.springframework.cache.interceptor.CacheErrorHandler;\r\n\r\npublic class CustomCacheErrorHandler implements CacheErrorHandler {\r\n    @Override\r\n    public void handleCacheGetError(RuntimeException exception, Cache cache, Object key) {\r\n        // Do nothing or log error\r\n    }\r\n\r\n    @Override\r\n    public void handleCachePutError(RuntimeException exception, Cache cache, Object key, Object value) {\r\n        // Do nothing or log error\r\n    }\r\n\r\n    @Override\r\n    public void handleCacheEvictError(RuntimeException exception, Cache cache, Object key) {\r\n        // Do nothing or log error\r\n    }\r\n\r\n    @Override\r\n    public void handleCacheClearError(RuntimeException exception, Cache cache) {\r\n        // Do nothing or log error\r\n    }\r\n}\r\n```\r\nthen override the `CacheErrorHandler` from the configuration\r\n\r\n```\r\nimport org.springframework.cache.annotation.CachingConfigurerSupport;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cache.interceptor.CacheErrorHandler;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfig extends CachingConfigurerSupport {\r\n    ...\r\n\r\n    @Override\r\n    public CacheErrorHandler errorHandler() {\r\n        return new CustomCacheErrorHandler();\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow we can use a service with Redis cache even when the cache is not available.","title":"How to prevent all RedisConnectionFailureException when Redis cache is not available","body":"<p>I solved it by overriding the cache error handlers using a <em>CustomCacheErrorHandler</em> that does not throw any exception. See response from <em>Welsh</em> in <a href=\"https://stackoverflow.com/questions/65853418/how-to-handle-redis-exceptions-by-using-spring-cache?rq=1\">How to handle redis exceptions by using Spring Cache?</a></p>\n<p>First, create a class</p>\n<pre><code>import org.springframework.cache.Cache;\nimport org.springframework.cache.interceptor.CacheErrorHandler;\n\npublic class CustomCacheErrorHandler implements CacheErrorHandler {\n    @Override\n    public void handleCacheGetError(RuntimeException exception, Cache cache, Object key) {\n        // Do nothing or log error\n    }\n\n    @Override\n    public void handleCachePutError(RuntimeException exception, Cache cache, Object key, Object value) {\n        // Do nothing or log error\n    }\n\n    @Override\n    public void handleCacheEvictError(RuntimeException exception, Cache cache, Object key) {\n        // Do nothing or log error\n    }\n\n    @Override\n    public void handleCacheClearError(RuntimeException exception, Cache cache) {\n        // Do nothing or log error\n    }\n}\n</code></pre>\n<p>then override the <code>CacheErrorHandler</code> from the configuration</p>\n<pre><code>import org.springframework.cache.annotation.CachingConfigurerSupport;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.interceptor.CacheErrorHandler;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableCaching\npublic class CacheConfig extends CachingConfigurerSupport {\n    ...\n\n    @Override\n    public CacheErrorHandler errorHandler() {\n        return new CustomCacheErrorHandler();\n    }\n}\n\n</code></pre>\n<p>Now we can use a service with Redis cache even when the cache is not available.</p>\n"}],"owner":{"account_id":11511943,"reputation":359,"user_id":8436465,"display_name":"Rub&#233;n Morales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657382145,"creation_date":1657321697,"question_id":72917783,"body_markdown":"I have this cacheable method inside my service *mocksConnector*:\r\n\r\n    @Cacheable(value = GET_PRODUCT_CACHE)\r\n    public ProductDetailMock getProduct(final String productId) {\r\n        ...\r\n    }\r\n\r\nIf I run this code with Redis cache up everything works fine:\r\n\r\n    mocksConnector.getProduct(productId)\r\n\r\nbut if I stop Redis then RedisConnectionFailureException is thrown (makes sense)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nImagine that the data is critical and the method `getProduct` should always return something.\r\n\r\n**Is there any way to configure the cache to automatically run the body of the method `getProduct` instead of simply failing?**\r\n\r\nPlease, note that I am searching for a general configuration (or a configuration at the method level, maybe?). I know that I can configure the cache manually and use *try/catch* blocks like:\r\n\r\n    try {\r\n        redisClient.get(key)\r\n    } catch (Exception e) {\r\n        // Do something else...\r\n    }\r\n\r\nbut I prefer not to do that.\r\n\r\n  [1]: https://i.stack.imgur.com/AkQVq.png","title":"How to prevent all RedisConnectionFailureException when Redis cache is not available","body":"<p>I have this cacheable method inside my service <em>mocksConnector</em>:</p>\n<pre><code>@Cacheable(value = GET_PRODUCT_CACHE)\npublic ProductDetailMock getProduct(final String productId) {\n    ...\n}\n</code></pre>\n<p>If I run this code with Redis cache up everything works fine:</p>\n<pre><code>mocksConnector.getProduct(productId)\n</code></pre>\n<p>but if I stop Redis then RedisConnectionFailureException is thrown (makes sense)</p>\n<p><a href=\"https://i.stack.imgur.com/AkQVq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AkQVq.png\" alt=\"enter image description here\" /></a></p>\n<p>Imagine that the data is critical and the method <code>getProduct</code> should always return something.</p>\n<p><strong>Is there any way to configure the cache to automatically run the body of the method <code>getProduct</code> instead of simply failing?</strong></p>\n<p>Please, note that I am searching for a general configuration (or a configuration at the method level, maybe?). I know that I can configure the cache manually and use <em>try/catch</em> blocks like:</p>\n<pre><code>try {\n    redisClient.get(key)\n} catch (Exception e) {\n    // Do something else...\n}\n</code></pre>\n<p>but I prefer not to do that.</p>\n"},{"tags":["java","maven","jsf","jakarta-ee","mvn-repo"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657381923,"creation_date":1652096245,"answer_id":72171359,"question_id":72171257,"body_markdown":"**Update:** Jakarta EE 10 was [released on Tuesday, May 31, 2022][1].\r\n\r\n\r\n----------\r\n\r\n\r\nJakarta EE 10 is still in development, as of 2022-05. \r\n\r\nNot yet ready for production use. So not yet listed in [Maven repositories](https://mvnrepository.com/artifact/jakarta.platform/jakarta.jakartaee-api). \r\n\r\nSee the [*Jakarta EE Platform Project*](https://eclipse-ee4j.github.io/jakartaee-platform/jakartaee10/JakartaEE10) page for current information. \r\n\r\nJakarta EE 10 brings the first major changes in many years. So much work is involved, with many decisions to be made, and many issues to work out. Patience is required. \r\n\r\n# 2022-Q2 maybe\r\n\r\nThe **tentative** completion target for Jakarta EE 10 release is 2022-Q2. But this schedule is subject to change depending on the progress of the various components. \r\n\r\nUnfortunately I cannot find Maven coordinates for early access to the platform API. \r\n\r\n\r\n  [1]: https://projects.eclipse.org/releases/jakarta-10","title":"Missing artifact jakarta.platform:jakarta.jakartaee-api:jar:10.0.0","body":"<p><strong>Update:</strong> Jakarta EE 10 was <a href=\"https://projects.eclipse.org/releases/jakarta-10\" rel=\"nofollow noreferrer\">released on Tuesday, May 31, 2022</a>.</p>\n<hr />\n<p>Jakarta EE 10 is still in development, as of 2022-05.</p>\n<p>Not yet ready for production use. So not yet listed in <a href=\"https://mvnrepository.com/artifact/jakarta.platform/jakarta.jakartaee-api\" rel=\"nofollow noreferrer\">Maven repositories</a>.</p>\n<p>See the <a href=\"https://eclipse-ee4j.github.io/jakartaee-platform/jakartaee10/JakartaEE10\" rel=\"nofollow noreferrer\"><em>Jakarta EE Platform Project</em></a> page for current information.</p>\n<p>Jakarta EE 10 brings the first major changes in many years. So much work is involved, with many decisions to be made, and many issues to work out. Patience is required.</p>\n<h1>2022-Q2 maybe</h1>\n<p>The <strong>tentative</strong> completion target for Jakarta EE 10 release is 2022-Q2. But this schedule is subject to change depending on the progress of the various components.</p>\n<p>Unfortunately I cannot find Maven coordinates for early access to the platform API.</p>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72171359,"answer_count":1,"score":2,"last_activity_date":1657381923,"creation_date":1652095748,"question_id":72171257,"body_markdown":"I&#39;ve created new *Jakarta Faces* project and my purpose is using *Jakarta EE 10*. \r\n\r\nI added this dependency to my `pom.xml` file:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;10.0.0&lt;/version&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut I&#39;ve got error:\r\n\r\n&gt; Missing artifact jakarta.platform:jakarta.jakartaee-api:jar:10.0.0\r\n\r\nMy config is:\r\n\r\n - *Java version &quot;17&quot; 2021-09-14 LTS*\r\n - *Apache-Maven-3.8.2*\r\n - *Eclipse IDE Version: 2022-03 (4.23.0)*\r\n\r\nand the project xml files:\r\n\r\n - `faces-config.xml` **version=&quot;4.0&quot;**\r\n - `web.xml` **version=&quot;6.0&quot;**\r\n - `beans.xml` **version=&quot;4.0&quot;**\r\n - `persistence.xml` **version=&quot;3.1&quot;**\r\n\r\nWhat is the problem and how can I fix that?\r\n\r\nI also searched *MVN Repository* for the latest version of `jakarta.jakartaee-api` and new version of that dependency is `9.1.0`. So, how can *Maven* find this version `10.0.0`?","title":"Missing artifact jakarta.platform:jakarta.jakartaee-api:jar:10.0.0","body":"<p>I've created new <em>Jakarta Faces</em> project and my purpose is using <em>Jakarta EE 10</em>.</p>\n<p>I added this dependency to my <code>pom.xml</code> file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n    &lt;version&gt;10.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But I've got error:</p>\n<blockquote>\n<p>Missing artifact jakarta.platform:jakarta.jakartaee-api:jar:10.0.0</p>\n</blockquote>\n<p>My config is:</p>\n<ul>\n<li><em>Java version &quot;17&quot; 2021-09-14 LTS</em></li>\n<li><em>Apache-Maven-3.8.2</em></li>\n<li><em>Eclipse IDE Version: 2022-03 (4.23.0)</em></li>\n</ul>\n<p>and the project xml files:</p>\n<ul>\n<li><code>faces-config.xml</code> <strong>version=&quot;4.0&quot;</strong></li>\n<li><code>web.xml</code> <strong>version=&quot;6.0&quot;</strong></li>\n<li><code>beans.xml</code> <strong>version=&quot;4.0&quot;</strong></li>\n<li><code>persistence.xml</code> <strong>version=&quot;3.1&quot;</strong></li>\n</ul>\n<p>What is the problem and how can I fix that?</p>\n<p>I also searched <em>MVN Repository</em> for the latest version of <code>jakarta.jakartaee-api</code> and new version of that dependency is <code>9.1.0</code>. So, how can <em>Maven</em> find this version <code>10.0.0</code>?</p>\n"},{"tags":["java","kotlin","x509certificate","x509"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1657381123,"post_id":72922139,"comment_id":128799218,"body_markdown":"maybe `JcaPEMWriter(sw).use { w -&gt; w.writeObject(keyPair.private)}` is what you are looking for?","body":"maybe <code>JcaPEMWriter(sw).use { w -&gt; w.writeObject(keyPair.private)}</code> is what you are looking for?"},{"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"score":0,"creation_date":1657381411,"post_id":72922139,"comment_id":128799279,"body_markdown":"Exactly. How did you figure it out?","body":"Exactly. How did you figure it out?"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1657381660,"post_id":72922139,"comment_id":128799326,"body_markdown":"I used to work with BC and cryptography and I know that those writers usually can figure out the content based on the object type (a lot of `instanceof` usages in the internal implementation)","body":"I used to work with BC and cryptography and I know that those writers usually can figure out the content based on the object type (a lot of <code>instanceof</code> usages in the internal implementation)"}],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657381441,"creation_date":1657381441,"answer_id":72922737,"question_id":72922139,"body_markdown":"Just pass your private key to the `JcaPEMWriter::writeObject` :\r\n````\r\nJcaPEMWriter(sw).use {\r\n    w -&gt; w.writeObject(keyPair.private)\r\n}\r\n\r\n\r\nprintln(sw.toString())\r\n````\r\nwhich gives :\r\n````\r\n-----BEGIN EC PRIVATE KEY-----\r\nMHcCAQEEIK2XWix+f1aRSh7sH4NSYQeCBsCfOBjFATKiJLnD4UPdoAoGCCqGSM49\r\nAwEHoUQDQgAEIQAArKsROcQ8l2aZUO+a3zm+03+a9ToTrpE+Ysi9Pm5+oQoy1Oro\r\nkLiJxihn2rgQFspUuQ0cRdwj8HKo2MsIzQ==\r\n-----END EC PRIVATE KEY-----\r\n````","title":"Use JcaPEMWriter to export PEM file?","body":"<p>Just pass your private key to the <code>JcaPEMWriter::writeObject</code> :</p>\n<pre><code>JcaPEMWriter(sw).use {\n    w -&gt; w.writeObject(keyPair.private)\n}\n\n\nprintln(sw.toString())\n</code></pre>\n<p>which gives :</p>\n<pre><code>-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEIK2XWix+f1aRSh7sH4NSYQeCBsCfOBjFATKiJLnD4UPdoAoGCCqGSM49\nAwEHoUQDQgAEIQAArKsROcQ8l2aZUO+a3zm+03+a9ToTrpE+Ysi9Pm5+oQoy1Oro\nkLiJxihn2rgQFspUuQ0cRdwj8HKo2MsIzQ==\n-----END EC PRIVATE KEY-----\n</code></pre>\n"}],"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72922737,"answer_count":1,"score":0,"last_activity_date":1657381441,"creation_date":1657376607,"question_id":72922139,"body_markdown":"I am trying to figure out how to export private key from the `X509Certificate` instance as a PEM string encoded.\r\n\r\nWhat I have done to far is to export certificate as PEM encoded:\r\n\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider\r\n    import org.bouncycastle.openssl.jcajce.JcaPEMWriter\r\n    import java.io.StringWriter\r\n    import java.security.KeyPairGenerator\r\n    import java.security.Security\r\n    import java.security.spec.ECGenParameterSpec\r\n    \r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        Security.addProvider(BouncyCastleProvider())\r\n    \r\n        val kpGen = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;BC&quot;)\r\n        kpGen.initialize(ECGenParameterSpec(&quot;P-256&quot;))\r\n    \r\n        val keyPair = kpGen.generateKeyPair()\r\n        val cert = SelfSignedCertGenerator().generate(keyPair, &quot;SHA512WithECDSA&quot;, &quot;localhost&quot;, 730)\r\n        val sw = StringWriter()\r\n    \r\n        JcaPEMWriter(sw).use { jpw -&gt;\r\n            jpw.writeObject(cert)\r\n        }\r\n    \r\n    \r\n        println(sw.toString())\r\n    \r\n    \r\n    }\r\n\r\nthe output shows the expected result:\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MIIBcDCCARWgAwIBAgIGAYHjRWOUMAoGCCqGSM49BAMEMBQxEjAQBgNVBAMMCWxv\r\n    Y2FsaG9zdDAeFw0yMjA3MDkxNDAzMDRaFw0yNDA3MDgxNDAzMDRaMBQxEjAQBgNV\r\n    BAMMCWxvY2FsaG9zdDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABF+G+CHHQ56C\r\n    AgWN2G9PUemJTNGVdefWWuPVA5Oruepm9yOM69H5tPia0V/BCDlVHQrJ8Q0yC4Fa\r\n    uuM3HP42VJ6jUzBRMB0GA1UdDgQWBBTYf15PsEN2DaNaG3YFDL84SgXZvTAfBgNV\r\n    HSMEGDAWgBTYf15PsEN2DaNaG3YFDL84SgXZvTAPBgNVHRMBAf8EBTADAQH/MAoG\r\n    CCqGSM49BAMEA0kAMEYCIQCr9MrSGW3eimfDodqC6a4nxbusOUQcFz2+DHYFrZTx\r\n    AAIhAPRJ70basMDBOBdOQnN2DgxbGSHzsixZ7qajakRTlKKz\r\n    -----END CERTIFICATE-----\r\n\r\nThe question is how to export the generated private key as PEM encoded?","title":"Use JcaPEMWriter to export PEM file?","body":"<p>I am trying to figure out how to export private key from the <code>X509Certificate</code> instance as a PEM string encoded.</p>\n<p>What I have done to far is to export certificate as PEM encoded:</p>\n<pre><code>import org.bouncycastle.jce.provider.BouncyCastleProvider\nimport org.bouncycastle.openssl.jcajce.JcaPEMWriter\nimport java.io.StringWriter\nimport java.security.KeyPairGenerator\nimport java.security.Security\nimport java.security.spec.ECGenParameterSpec\n\n\nfun main(args: Array&lt;String&gt;) {\n    Security.addProvider(BouncyCastleProvider())\n\n    val kpGen = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;BC&quot;)\n    kpGen.initialize(ECGenParameterSpec(&quot;P-256&quot;))\n\n    val keyPair = kpGen.generateKeyPair()\n    val cert = SelfSignedCertGenerator().generate(keyPair, &quot;SHA512WithECDSA&quot;, &quot;localhost&quot;, 730)\n    val sw = StringWriter()\n\n    JcaPEMWriter(sw).use { jpw -&gt;\n        jpw.writeObject(cert)\n    }\n\n\n    println(sw.toString())\n\n\n}\n</code></pre>\n<p>the output shows the expected result:</p>\n<pre><code>-----BEGIN CERTIFICATE-----\nMIIBcDCCARWgAwIBAgIGAYHjRWOUMAoGCCqGSM49BAMEMBQxEjAQBgNVBAMMCWxv\nY2FsaG9zdDAeFw0yMjA3MDkxNDAzMDRaFw0yNDA3MDgxNDAzMDRaMBQxEjAQBgNV\nBAMMCWxvY2FsaG9zdDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABF+G+CHHQ56C\nAgWN2G9PUemJTNGVdefWWuPVA5Oruepm9yOM69H5tPia0V/BCDlVHQrJ8Q0yC4Fa\nuuM3HP42VJ6jUzBRMB0GA1UdDgQWBBTYf15PsEN2DaNaG3YFDL84SgXZvTAfBgNV\nHSMEGDAWgBTYf15PsEN2DaNaG3YFDL84SgXZvTAPBgNVHRMBAf8EBTADAQH/MAoG\nCCqGSM49BAMEA0kAMEYCIQCr9MrSGW3eimfDodqC6a4nxbusOUQcFz2+DHYFrZTx\nAAIhAPRJ70basMDBOBdOQnN2DgxbGSHzsixZ7qajakRTlKKz\n-----END CERTIFICATE-----\n</code></pre>\n<p>The question is how to export the generated private key as PEM encoded?</p>\n"},{"tags":["java","spring","spring-boot","protocol-buffers","grpc"],"comments":[{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":2,"creation_date":1657407845,"post_id":72920029,"comment_id":128803670,"body_markdown":"&quot;must be at least a service specified&quot; - only if using gRPC; you can also use protobuf to encode data and send it in another way (e.g. TCP, MQTT, Serial, etc). It looks like your device is using protobuf to encode data but sending it via TCP as part of a &quot;Device Packet&quot; so you will need to listen for TCP connections and then handle the inbound device packets.","body":"&quot;must be at least a service specified&quot; - only if using gRPC; you can also use protobuf to encode data and send it in another way (e.g. TCP, MQTT, Serial, etc). It looks like your device is using protobuf to encode data but sending it via TCP as part of a &quot;Device Packet&quot; so you will need to listen for TCP connections and then handle the inbound device packets."},{"owner":{"account_id":8812928,"reputation":51,"user_id":6585386,"display_name":"Mahdiyar"},"score":0,"creation_date":1657455755,"post_id":72920029,"comment_id":128809548,"body_markdown":"So how can i &quot;listen to a TCP connection&quot;? I just created a Spring Boot app, and it starts tomcat as server on port 8080, how can i listen to a tcp connection in this project? I just created Restful projects that use HTTP methods (POST, GET and ...)","body":"So how can i &quot;listen to a TCP connection&quot;? I just created a Spring Boot app, and it starts tomcat as server on port 8080, how can i listen to a tcp connection in this project? I just created Restful projects that use HTTP methods (POST, GET and ...)"},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":0,"creation_date":1657474321,"post_id":72920029,"comment_id":128813325,"body_markdown":"Seems like it&#39;s something you configure? _&quot;then it connects to the server whose address is specified in the its configuration and transmits the data to the server.&quot;_","body":"Seems like it&#39;s something you configure? <i>&quot;then it connects to the server whose address is specified in the its configuration and transmits the data to the server.&quot;</i>"},{"owner":{"account_id":8812928,"reputation":51,"user_id":6585386,"display_name":"Mahdiyar"},"score":0,"creation_date":1657481075,"post_id":72920029,"comment_id":128814646,"body_markdown":"The &quot;Configuration&quot; part happens in GPS device, they are not related to me, i just tell them my machine IP Address and port, and they set it on the device. The only problem is getting data from device. Is ServerSocket a good solution for that?","body":"The &quot;Configuration&quot; part happens in GPS device, they are not related to me, i just tell them my machine IP Address and port, and they set it on the device. The only problem is getting data from device. Is ServerSocket a good solution for that?"},{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":0,"creation_date":1657483579,"post_id":72920029,"comment_id":128815135,"body_markdown":"@Mahdiyar [this question](https://stackoverflow.com/q/64394292/11810946) might provide a starting point (if you have not dealt with TCP connections previously then you may need to start with [the basics](https://docs.oracle.com/javase/tutorial/networking/sockets/index.html)).","body":"@Mahdiyar <a href=\"https://stackoverflow.com/q/64394292/11810946\">this question</a> might provide a starting point (if you have not dealt with TCP connections previously then you may need to start with <a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/index.html\" rel=\"nofollow noreferrer\">the basics</a>)."},{"owner":{"account_id":8812928,"reputation":51,"user_id":6585386,"display_name":"Mahdiyar"},"score":0,"creation_date":1657519552,"post_id":72920029,"comment_id":128820084,"body_markdown":"@Brits I created a ServerSocket in my project and now i can see that the device is sending data to me and i can receive it, but because it is using SSL, the data that i receive is not readable, how can i config nginx to accept such connections, behind the SSL? i config it for normal HTTP requests, but that does not work for TCP connections","body":"@Brits I created a ServerSocket in my project and now i can see that the device is sending data to me and i can receive it, but because it is using SSL, the data that i receive is not readable, how can i config nginx to accept such connections, behind the SSL? i config it for normal HTTP requests, but that does not work for TCP connections"},{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":0,"creation_date":1657520314,"post_id":72920029,"comment_id":128820260,"body_markdown":"That&#39;s probably best raised as a seperate question (if there is not already an answer) as the comments is not really a good place for additional questions (and this question is not tagged with `nginx`). I seem to remember that SSL is optional.","body":"That&#39;s probably best raised as a seperate question (if there is not already an answer) as the comments is not really a good place for additional questions (and this question is not tagged with <code>nginx</code>). I seem to remember that SSL is optional."},{"owner":{"account_id":8812928,"reputation":51,"user_id":6585386,"display_name":"Mahdiyar"},"score":0,"creation_date":1657534351,"post_id":72920029,"comment_id":128824653,"body_markdown":"@Brits i asked the question, i will appreciate if you could look at it, https://stackoverflow.com/questions/72935982/nginx-blocks-serversocket-communication-in-java","body":"@Brits i asked the question, i will appreciate if you could look at it, <a href=\"https://stackoverflow.com/questions/72935982/nginx-blocks-serversocket-communication-in-java\" title=\"nginx blocks serversocket communication in java\">stackoverflow.com/questions/72935982/&hellip;</a>"}],"owner":{"account_id":8812928,"reputation":51,"user_id":6585386,"display_name":"Mahdiyar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657381139,"creation_date":1657355762,"question_id":72920029,"body_markdown":"I have a GPS device that is using protobuf.\r\n\r\nAs i know, for sending data to a server using protobuf, must be at least a `service` specified in `.proto` files, and implement that service to get data.\r\n\r\nBut in the [documentation][1] and `.proto` files in that document ([file1][2], [file2][3]) does not mention any `service`. How can i get data from this device, using Java, Spring boot when there is no service in `.proto` files?\r\n\r\n\r\n  [1]: https://docs.mydolphin.org/Protocol.html\r\n  [2]: https://docs.mydolphin.org/protocolFiles/Messages.proto\r\n  [3]: https://docs.mydolphin.org/protocolFiles/Config.proto","title":"Get data from gRPC device","body":"<p>I have a GPS device that is using protobuf.</p>\n<p>As i know, for sending data to a server using protobuf, must be at least a <code>service</code> specified in <code>.proto</code> files, and implement that service to get data.</p>\n<p>But in the <a href=\"https://docs.mydolphin.org/Protocol.html\" rel=\"nofollow noreferrer\">documentation</a> and <code>.proto</code> files in that document (<a href=\"https://docs.mydolphin.org/protocolFiles/Messages.proto\" rel=\"nofollow noreferrer\">file1</a>, <a href=\"https://docs.mydolphin.org/protocolFiles/Config.proto\" rel=\"nofollow noreferrer\">file2</a>) does not mention any <code>service</code>. How can i get data from this device, using Java, Spring boot when there is no service in <code>.proto</code> files?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11858145,"reputation":38,"user_id":8677625,"display_name":"Obaid ur Rehman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657273954,"creation_date":1657273954,"answer_id":72909646,"question_id":72909622,"body_markdown":"From Android Studio\r\n\r\nGo to\r\n\r\nFile -&gt; project Structure into Project Structure\r\nLeft -&gt; SDK Location\r\nSDK location select Android SDK location (old version use Press +, add another sdk)\r\n ","title":"How can set my Android Project SDK for particular project","body":"<p>From Android Studio</p>\n<p>Go to</p>\n<p>File -&gt; project Structure into Project Structure\nLeft -&gt; SDK Location\nSDK location select Android SDK location (old version use Press +, add another sdk)</p>\n"}],"owner":{"account_id":25743926,"reputation":288,"user_id":19497465,"display_name":"Aniket Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72909646,"answer_count":1,"score":1,"last_activity_date":1657380612,"creation_date":1657273833,"question_id":72909622,"body_markdown":"[![enter image description here][1]][1]  \r\n\r\n**How can do set my project SDK for particular project**&lt;br&gt;\r\nI just want to set particular Android SDK for particular project.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YLGxq.png","title":"How can set my Android Project SDK for particular project","body":"<p><a href=\"https://i.stack.imgur.com/YLGxq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YLGxq.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>How can do set my project SDK for particular project</strong><br>\nI just want to set particular Android SDK for particular project.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":266703,"reputation":18305,"user_id":1149423,"accept_rate":83,"display_name":"Sufiyan Ghori"},"score":0,"creation_date":1423765258,"post_id":28484544,"comment_id":45291677,"body_markdown":"note that `range` 2nd parameter is exclusive, so `range(1, number)` should be `range(1, number + 1)`..or, as **David Conrad** had suggested, use `rangeClosed` instead.","body":"note that <code>range</code> 2nd parameter is exclusive, so <code>range(1, number)</code> should be <code>range(1, number + 1)</code>..or, as <b>David Conrad</b> had suggested, use <code>rangeClosed</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":266703,"reputation":18305,"user_id":1149423,"accept_rate":83,"display_name":"Sufiyan Ghori"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1423765101,"creation_date":1423764103,"answer_id":28484576,"question_id":28484544,"body_markdown":"You can use [IntStream::reduce][1] for this job,\r\n\r\n    int number = 5;\r\n    IntStream.rangeClosed(2, number).reduce(1, (x, y) -&gt; x * y)\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#reduce-int-java.util.function.IntBinaryOperator-\r\n","title":"calculating factorial using Java 8 IntStream?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#reduce-int-java.util.function.IntBinaryOperator-\" rel=\"noreferrer\">IntStream::reduce</a> for this job,</p>\n\n<pre><code>int number = 5;\nIntStream.rangeClosed(2, number).reduce(1, (x, y) -&gt; x * y)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1423766063,"creation_date":1423765023,"answer_id":28484852,"question_id":28484544,"body_markdown":"To get a stream of all infinite factorials, you can do:\r\n\r\n    class Pair{\r\n       final int num;\r\n       final int value;\r\n\r\n        Pair(int num, int value) {\r\n            this.num = num;\r\n            this.value = value;\r\n        }\r\n\r\n    }\r\n  \r\n    Stream&lt;Pair&gt; allFactorials = Stream.iterate(new Pair(1,1), \r\n                                       x -&gt; new Pair(x.num+1, x.value * (x.num+1)));\r\n\r\n`allFactorials` is a stream of factorials of number starting from 1 to ..... To get factorials of 1 to 10:\r\n\r\n    allFactorials.limit(10).forEach(x -&gt; System.out.print(x.value+&quot;, &quot;));\r\n\r\nIt prints:\r\n1, 2, 6, 24, 120, 720, 5040, 40320, 362880, 3628800, \r\n\r\nNow say you only wish to have a factorial of a particular number then do:\r\n\r\n    allFactorials.limit(number).reduce((previous, current) -&gt; current).get()\r\n\r\nThe best part is that you dont recompute again for new numbers but build on history.","title":"calculating factorial using Java 8 IntStream?","body":"<p>To get a stream of all infinite factorials, you can do:</p>\n\n<pre><code>class Pair{\n   final int num;\n   final int value;\n\n    Pair(int num, int value) {\n        this.num = num;\n        this.value = value;\n    }\n\n}\n\nStream&lt;Pair&gt; allFactorials = Stream.iterate(new Pair(1,1), \n                                   x -&gt; new Pair(x.num+1, x.value * (x.num+1)));\n</code></pre>\n\n<p><code>allFactorials</code> is a stream of factorials of number starting from 1 to ..... To get factorials of 1 to 10:</p>\n\n<pre><code>allFactorials.limit(10).forEach(x -&gt; System.out.print(x.value+\", \"));\n</code></pre>\n\n<p>It prints:\n1, 2, 6, 24, 120, 720, 5040, 40320, 362880, 3628800, </p>\n\n<p>Now say you only wish to have a factorial of a particular number then do:</p>\n\n<pre><code>allFactorials.limit(number).reduce((previous, current) -&gt; current).get()\n</code></pre>\n\n<p>The best part is that you dont recompute again for new numbers but build on history.</p>\n"},{"tags":[],"owner":{"account_id":5849828,"reputation":23,"user_id":4608806,"display_name":"Sgdr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510602691,"creation_date":1510602691,"answer_id":47272414,"question_id":28484544,"body_markdown":"With LongStream.range() you can calculate factorial for number less 20. If you need calculate for larger number create stream with BigInteger:\r\n \r\n     public BigInteger factorial(int number) {\r\n        if (number &lt; 20) {\r\n            return BigInteger.valueOf(\r\n                    LongStream.range(1, number + 1).reduce((previous, current) -&gt; previous * current).getAsLong()\r\n            );\r\n        } else {\r\n            BigInteger result = factorial(19);\r\n            return result.multiply(Stream.iterate(BigInteger.valueOf(20), i -&gt; i.add(BigInteger.ONE)).limit(number - 19)\r\n                    .reduce((previous, current) -&gt; previous.multiply(current)).get()\r\n            );\r\n        }\r\n    }","title":"calculating factorial using Java 8 IntStream?","body":"<p>With LongStream.range() you can calculate factorial for number less 20. If you need calculate for larger number create stream with BigInteger:</p>\n\n<pre><code> public BigInteger factorial(int number) {\n    if (number &lt; 20) {\n        return BigInteger.valueOf(\n                LongStream.range(1, number + 1).reduce((previous, current) -&gt; previous * current).getAsLong()\n        );\n    } else {\n        BigInteger result = factorial(19);\n        return result.multiply(Stream.iterate(BigInteger.valueOf(20), i -&gt; i.add(BigInteger.ONE)).limit(number - 19)\n                .reduce((previous, current) -&gt; previous.multiply(current)).get()\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14692435,"reputation":1,"user_id":10610716,"display_name":"Monitor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541465922,"creation_date":1541465922,"answer_id":53164407,"question_id":28484544,"body_markdown":"I think we can change the main condition to:\r\n1,v*v-1,s*t with the function reduce.\r\nMaybe we can filter before we did the main rule","title":"calculating factorial using Java 8 IntStream?","body":"<p>I think we can change the main condition to:\n1,v<em>v-1,s</em>t with the function reduce.\nMaybe we can filter before we did the main rule</p>\n"},{"tags":[],"owner":{"account_id":12355556,"reputation":35,"user_id":9012095,"display_name":"mehmet ali akbay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657380397,"creation_date":1657380397,"answer_id":72922621,"question_id":28484544,"body_markdown":"We can solve the question with AtomicInteger like this:\r\n\r\n      int num = 5;\r\n      AtomicInteger sum = new AtomicInteger(1);\r\n      IntStream.rangeClosed(2, num).forEach(i -&gt; {\r\n        sum.updateAndGet(v -&gt; v * i);\r\n            if (i == num) {\r\n              System.out.println(sum.get());\r\n            }\r\n      });\r\n\r\n","title":"calculating factorial using Java 8 IntStream?","body":"<p>We can solve the question with AtomicInteger like this:</p>\n<pre><code>  int num = 5;\n  AtomicInteger sum = new AtomicInteger(1);\n  IntStream.rangeClosed(2, num).forEach(i -&gt; {\n    sum.updateAndGet(v -&gt; v * i);\n        if (i == num) {\n          System.out.println(sum.get());\n        }\n  });\n</code></pre>\n"}],"owner":{"account_id":5532628,"reputation":1488,"user_id":4392136,"accept_rate":82,"display_name":"Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11972,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28484576,"answer_count":5,"score":4,"last_activity_date":1657380397,"creation_date":1423764015,"question_id":28484544,"body_markdown":"I am relatively new in Java 8 and lambda expressions as well as `Stream`, i can calculate factorial using `for` loop or recursion. But is there a way to use `IntStream` to calculate factorial of a number ? I am fine even with factorial in integer range.\r\n\r\nI read through `IntStream` docs here, http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html and i can see so many methods but not sure which one I can use to calculate factorial.\r\n\r\nfor example, there is `rang` method that says,\r\n\r\n&gt; range(int startInclusive, int endExclusive) Returns a sequential\r\n&gt; ordered IntStream from startInclusive (inclusive) to endExclusive\r\n&gt; (exclusive) by an incremental step of 1.\r\n\r\nso I can use it to provide the range of numbers to IntStream to be multiplied to calculate factorial.\r\n\r\n    number = 5;\r\n    IntStream.range(1, number)\r\n\r\nbut how to multiply those numbers to get the factorial ?","title":"calculating factorial using Java 8 IntStream?","body":"<p>I am relatively new in Java 8 and lambda expressions as well as <code>Stream</code>, i can calculate factorial using <code>for</code> loop or recursion. But is there a way to use <code>IntStream</code> to calculate factorial of a number ? I am fine even with factorial in integer range.</p>\n\n<p>I read through <code>IntStream</code> docs here, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html</a> and i can see so many methods but not sure which one I can use to calculate factorial.</p>\n\n<p>for example, there is <code>rang</code> method that says,</p>\n\n<blockquote>\n  <p>range(int startInclusive, int endExclusive) Returns a sequential\n  ordered IntStream from startInclusive (inclusive) to endExclusive\n  (exclusive) by an incremental step of 1.</p>\n</blockquote>\n\n<p>so I can use it to provide the range of numbers to IntStream to be multiplied to calculate factorial.</p>\n\n<pre><code>number = 5;\nIntStream.range(1, number)\n</code></pre>\n\n<p>but how to multiply those numbers to get the factorial ?</p>\n"},{"tags":["java","spring","spring-boot","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":25767024,"reputation":11,"user_id":19516730,"display_name":"jyothindrapavan kondepati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657379773,"creation_date":1657379773,"answer_id":72922539,"question_id":72921948,"body_markdown":"I think you can use TypeToken from modelMapper, but not sure will it work or not","title":"Abstraction of a ModelMapper","body":"<p>I think you can use TypeToken from modelMapper, but not sure will it work or not</p>\n"},{"tags":[],"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657380242,"creation_date":1657380242,"answer_id":72922596,"question_id":72921948,"body_markdown":"You&#39;d expect that you can use `S`, right? Unfortunately (or fortunately?) the Java compiler erases all generic types before generating class files, so the code at runtime does not have the correct type information available. This means that you need to provide it instead.\r\n\r\n```\r\npublic class Converter&lt;T, S&gt; {\r\n\r\n    private Class&lt;S&gt; dtoType;\r\n\r\n    public Converter(Class&lt;S&gt; dtoType) {\r\n        this.dtoType = dtoType;\r\n    }\r\n    \r\n    public S convertEntityToDto(T t) {\r\n        ModelMapper modelMapper = new ModelMapper();\r\n        return modelMapper.map(t, dtoType);\r\n    }\r\n\r\n    public T convertDtoToEntity(S s) {\r\n        ModelMapper modelMapper = new ModelMapper();\r\n        return modelMapper.map(s, dtoType);\r\n    }\r\n\r\n}\r\n```","title":"Abstraction of a ModelMapper","body":"<p>You'd expect that you can use <code>S</code>, right? Unfortunately (or fortunately?) the Java compiler erases all generic types before generating class files, so the code at runtime does not have the correct type information available. This means that you need to provide it instead.</p>\n<pre><code>public class Converter&lt;T, S&gt; {\n\n    private Class&lt;S&gt; dtoType;\n\n    public Converter(Class&lt;S&gt; dtoType) {\n        this.dtoType = dtoType;\n    }\n    \n    public S convertEntityToDto(T t) {\n        ModelMapper modelMapper = new ModelMapper();\n        return modelMapper.map(t, dtoType);\n    }\n\n    public T convertDtoToEntity(S s) {\n        ModelMapper modelMapper = new ModelMapper();\n        return modelMapper.map(s, dtoType);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4913093,"reputation":69,"user_id":3957836,"display_name":"Dario Anguilla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657380242,"creation_date":1657374971,"question_id":72921948,"body_markdown":"I have an Entity-DTO converter for User like this:\r\n\r\n    public class UserConverter {\r\n        \r\n        public UserDto convertEntityToDto(UserEntity user) {\r\n            ModelMapper modelMapper = new ModelMapper();\r\n            return modelMapper.map(user, UserDto.class);\r\n        }\r\n    \r\n        public UserEntity convertDtoToEntity(UserDto userDto) {\r\n            ModelMapper modelMapper = new ModelMapper();\r\n            return modelMapper.map(userDto, UserEntity.class);\r\n        }\r\n    \r\n    }\r\n\r\nI have many Entity-DTO to manage, so I want to abstract the converter like this\r\n\r\n    public class Converter&lt;T, S&gt; {\r\n        \r\n        public S convertEntityToDto(T t) {\r\n            ModelMapper modelMapper = new ModelMapper();\r\n            return modelMapper.map(t, ???);\r\n        }\r\n    \r\n        public T convertDtoToEntity(S s) {\r\n            ModelMapper modelMapper = new ModelMapper();\r\n            return modelMapper.map(s, ???);\r\n        }\r\n    \r\n    }\r\n\r\nMy problem is: what do I have to place instead of ???","title":"Abstraction of a ModelMapper","body":"<p>I have an Entity-DTO converter for User like this:</p>\n<pre><code>public class UserConverter {\n    \n    public UserDto convertEntityToDto(UserEntity user) {\n        ModelMapper modelMapper = new ModelMapper();\n        return modelMapper.map(user, UserDto.class);\n    }\n\n    public UserEntity convertDtoToEntity(UserDto userDto) {\n        ModelMapper modelMapper = new ModelMapper();\n        return modelMapper.map(userDto, UserEntity.class);\n    }\n\n}\n</code></pre>\n<p>I have many Entity-DTO to manage, so I want to abstract the converter like this</p>\n<pre><code>public class Converter&lt;T, S&gt; {\n    \n    public S convertEntityToDto(T t) {\n        ModelMapper modelMapper = new ModelMapper();\n        return modelMapper.map(t, ???);\n    }\n\n    public T convertDtoToEntity(S s) {\n        ModelMapper modelMapper = new ModelMapper();\n        return modelMapper.map(s, ???);\n    }\n\n}\n</code></pre>\n<p>My problem is: what do I have to place instead of ???</p>\n"},{"tags":["java","spring-boot","vaadin","vaadin14","pnpm"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641572205,"creation_date":1641572205,"answer_id":70624179,"question_id":70623947,"body_markdown":"The Vaadin plugin is missing in the build section.\r\n\r\nAdd this plugin in build -&gt; plugins\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThe easiest way to create a Vaadin project ist https://start.vaadin.com","title":"Caused by: com.vaadin.flow.server.ExecutionFailedException: Command &#39;npm install&#39; failed to finish for Sparing Boot app with Vaadin","body":"<p>The Vaadin plugin is missing in the build section.</p>\n<p>Add this plugin in build -&gt; plugins</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n    &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${vaadin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The easiest way to create a Vaadin project ist <a href=\"https://start.vaadin.com\" rel=\"nofollow noreferrer\">https://start.vaadin.com</a></p>\n"},{"tags":[],"owner":{"account_id":8386003,"reputation":21,"user_id":6296392,"display_name":"Gill Roger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657379818,"creation_date":1657379818,"answer_id":72922547,"question_id":70623947,"body_markdown":"I recently reproduced this problem on Windows 10, node-v16.16.0-x64.msi, vaadin 14.6.8.\r\n\r\nAfter some investigations in Vaadin code, I found the problem in class FrontendTools: -&gt; tryLocateTool -&gt; verifyTool -&gt; omitErrorResult.\r\n\r\nThe problem is this - npm writes a warning in stderr:\r\n\r\n    npm -version\r\n    npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\n    8.11.0\r\n\r\nOn Vaadin side, FrontendTools.omitErrorResult checks if stderr is empty (and for this version it is not, so npm command is not used).\r\n\r\nOne quick solution for Vaadin is to also check if stderr does not contain &quot;npm WARN&quot;.\r\n\r\nUntil the fix is done in Vaadin, the quick solution is found here:\r\n\r\nhttps://stackoverflow.com/questions/72401421/message-npm-warn-config-global-global-local-are-deprecated-use-loc\r\n\r\n\r\nI used the solution for windows (thanks to @ZiiMakc and @Lars) :\r\n\r\nOpen PowerShell as administrator and run (info about policy):\r\n\r\n    Set-ExecutionPolicy Unrestricted -Scope CurrentUser -Force\r\n    npm install --global --production npm-windows-upgrade\r\n    npm-windows-upgrade --npm-version latest\r\n\r\n\r\nThe result now:\r\n\r\n    npm -version\r\n    8.13.2","title":"Caused by: com.vaadin.flow.server.ExecutionFailedException: Command &#39;npm install&#39; failed to finish for Sparing Boot app with Vaadin","body":"<p>I recently reproduced this problem on Windows 10, node-v16.16.0-x64.msi, vaadin 14.6.8.</p>\n<p>After some investigations in Vaadin code, I found the problem in class FrontendTools: -&gt; tryLocateTool -&gt; verifyTool -&gt; omitErrorResult.</p>\n<p>The problem is this - npm writes a warning in stderr:</p>\n<pre><code>npm -version\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\n8.11.0\n</code></pre>\n<p>On Vaadin side, FrontendTools.omitErrorResult checks if stderr is empty (and for this version it is not, so npm command is not used).</p>\n<p>One quick solution for Vaadin is to also check if stderr does not contain &quot;npm WARN&quot;.</p>\n<p>Until the fix is done in Vaadin, the quick solution is found here:</p>\n<p><a href=\"https://stackoverflow.com/questions/72401421/message-npm-warn-config-global-global-local-are-deprecated-use-loc\">Message &quot;npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead&quot;</a></p>\n<p>I used the solution for windows (thanks to @ZiiMakc and @Lars) :</p>\n<p>Open PowerShell as administrator and run (info about policy):</p>\n<pre><code>Set-ExecutionPolicy Unrestricted -Scope CurrentUser -Force\nnpm install --global --production npm-windows-upgrade\nnpm-windows-upgrade --npm-version latest\n</code></pre>\n<p>The result now:</p>\n<pre><code>npm -version\n8.13.2\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70624179,"answer_count":2,"score":0,"last_activity_date":1657379818,"creation_date":1641571182,"question_id":70623947,"body_markdown":"I have a Spring Boot stub project just generated on Spring Initializr, with pnpm preinstalled, but currenty no `npm` is installed, runned on Windows 10 with `mvn spring-boot:run`\r\n\r\nThe pom.xml is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;tatar.gis&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;geodata&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;geodata&lt;/name&gt;\r\n    \t&lt;description&gt;Geodata Manipulation project&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;vaadin.version&gt;14.8.1&lt;/vaadin.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;production&lt;/id&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t\t\t&lt;plugins&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;id&gt;frontend&lt;/id&gt;\r\n    \t\t\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;build-frontend&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;productionMode&gt;true&lt;/productionMode&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t&lt;/build&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAnd the console output is:\r\n\r\n    [INFO] \r\n    [INFO] --- spring-boot-maven-plugin:2.6.2:run (default-cli) @ geodata ---\r\n    [INFO] Attaching agents: []\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.6.2)\r\n    2022-01-07 18:39:54.874  INFO 16476 --- [           main] tatar.gis.geodata.GeodataApplication     : Starting GeodataApplication using Java 1.8.0_65 on ILYA with PID 16476 (D:\\Java\\geodata\\target\\classes started by eljah32 in D:\\Java\\geodata)\r\n    2022-01-07 18:39:54.876  INFO 16476 --- [           main] tatar.gis.geodata.GeodataApplication     : No active profile set, falling back to default profiles: default\r\n    2022-01-07 18:39:55.815  INFO 16476 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-01-07 18:39:55.823  INFO 16476 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-01-07 18:39:55.823  INFO 16476 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\r\n    2022-01-07 18:39:55.919  INFO 16476 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-01-07 18:39:55.919  INFO 16476 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1009 ms\r\n    2022-01-07 18:39:57.974  INFO 16476 --- [           main] c.v.f.s.VaadinServletContextInitializer  : Search for subclasses and classes with annotations took 1 seconds\r\n    2022-01-07 18:39:57.975  INFO 16476 --- [           main] c.v.f.s.VaadinServletContextInitializer  : Due to slow search it is recommended to use the whitelisted-packages feature to make scanning faster.\r\n    See the whitelisted-packages section in the docs at https://vaadin.com/docs/latest/flow/integrations/spring/configuration#special-configuration-parameters\r\n    2022-01-07 18:39:57.978  INFO 16476 --- [           main] c.v.f.server.startup.DevModeInitializer  : Starting dev-mode updaters in D:\\Java\\geodata folder.\r\n    2022-01-07 18:39:58.006  INFO 16476 --- [           main] dev-updater                              : Visited 90 classes. Took 20 ms.\r\n    2022-01-07 18:39:58.017  INFO 16476 --- [           main] dev-updater                              : Added 23 default dependencies to main package.json\r\n    2022-01-07 18:39:58.038  INFO 16476 --- [           main] dev-updater                              : Running `npm install` to resolve and optionally download frontend dependencies. This may take a moment, please stand by...\r\n    2022-01-07 18:39:58.210 ERROR 16476 --- [           main] dev-updater                              : Error when running `npm install`\r\n    java.io.IOException: Cannot run program &quot;--no-update-notifier&quot; (in directory &quot;D:\\Java\\geodata&quot;): CreateProcess error=2, The system cannot find the file specified\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048) ~[na:1.8.0_65]\r\n    \tat com.vaadin.flow.server.frontend.TaskRunNpmInstall.runNpmInstall(TaskRunNpmInstall.java:365) [flow-server-2.7.7.jar:2.7.7]\r\n    \tat com.vaadin.flow.server.frontend.TaskRunNpmInstall.execute(TaskRunNpmInstall.java:138) [flow-server-2.7.7.jar:2.7.7]\r\n    \tat com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:529) [flow-server-2.7.7.jar:2.7.7]\r\n    \tat com.vaadin.flow.server.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:330) [flow-server-2.7.7.jar:2.7.7]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:447) [vaadin-spring-12.4.2.jar:na]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:180) [vaadin-spring-12.4.2.jar:na]\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1249) ~[na:1.8.0_65]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:180) [vaadin-spring-12.4.2.jar:na]\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_65]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) ~[na:1.8.0_65]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_65]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) ~[na:1.8.0_65]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat tatar.gis.geodata.GeodataApplication.main(GeodataApplication.java:10) ~[classes/:na]\r\n    Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n    \tat java.lang.ProcessImpl.create(Native Method) ~[na:1.8.0_65]\r\n    \tat java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386) ~[na:1.8.0_65]\r\n    \tat java.lang.ProcessImpl.start(ProcessImpl.java:137) ~[na:1.8.0_65]\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029) ~[na:1.8.0_65]\r\n    \t... 46 common frames omitted\r\n    2022-01-07 18:39:58.211 ERROR 16476 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\r\n    java.lang.RuntimeException: Unable to initialize Vaadin DevModeHandler\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:450) ~[vaadin-spring-12.4.2.jar:na]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:180) ~[vaadin-spring-12.4.2.jar:na]\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1249) ~[na:1.8.0_65]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:180) ~[vaadin-spring-12.4.2.jar:na]\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_65]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) [na:1.8.0_65]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_65]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) [na:1.8.0_65]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat tatar.gis.geodata.GeodataApplication.main(GeodataApplication.java:10) [classes/:na]\r\n    Caused by: javax.servlet.ServletException: com.vaadin.flow.server.ExecutionFailedException: Command &#39;npm install&#39; failed to finish\r\n    \tat com.vaadin.flow.server.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:341) ~[flow-server-2.7.7.jar:2.7.7]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:447) ~[vaadin-spring-12.4.2.jar:na]\r\n    \t... 41 common frames omitted\r\n    Caused by: com.vaadin.flow.server.ExecutionFailedException: Command &#39;npm install&#39; failed to finish\r\n    \tat com.vaadin.flow.server.frontend.TaskRunNpmInstall.runNpmInstall(TaskRunNpmInstall.java:409) ~[flow-server-2.7.7.jar:2.7.7]\r\n    \tat com.vaadin.flow.server.frontend.TaskRunNpmInstall.execute(TaskRunNpmInstall.java:138) ~[flow-server-2.7.7.jar:2.7.7]\r\n    \tat com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:529) ~[flow-server-2.7.7.jar:2.7.7]\r\n    \tat com.vaadin.flow.server.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:330) ~[flow-server-2.7.7.jar:2.7.7]\r\n    \t... 42 common frames omitted\r\n    Caused by: java.io.IOException: Cannot run program &quot;--no-update-notifier&quot; (in directory &quot;D:\\Java\\geodata&quot;): CreateProcess error=2, The system cannot find the file specified\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048) ~[na:1.8.0_65]\r\n    \tat com.vaadin.flow.server.frontend.TaskRunNpmInstall.runNpmInstall(TaskRunNpmInstall.java:365) ~[flow-server-2.7.7.jar:2.7.7]\r\n    \t... 45 common frames omitted\r\n    Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n    \tat java.lang.ProcessImpl.create(Native Method) ~[na:1.8.0_65]\r\n    \tat java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386) ~[na:1.8.0_65]\r\n    \tat java.lang.ProcessImpl.start(ProcessImpl.java:137) ~[na:1.8.0_65]\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029) ~[na:1.8.0_65]\r\n    \t... 46 common frames omitted\r\n    2022-01-07 18:39:58.212 ERROR 16476 --- [           main] o.apache.catalina.core.StandardContext   : One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    2022-01-07 18:39:58.212 ERROR 16476 --- [           main] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\r\n    2022-01-07 18:39:58.494  INFO 16476 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-01-07 18:39:58.497  WARN 16476 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    2022-01-07 18:39:58.504  INFO 16476 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-01-07 18:39:58.523 ERROR 16476 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) [spring-boot-2.6.2.jar:2.6.2]\r\n    \tat tatar.gis.geodata.GeodataApplication.main(GeodataApplication.java:10) [classes/:na]\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \t... 8 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \t... 13 common frames omitted\r\n\r\n\r\n","title":"Caused by: com.vaadin.flow.server.ExecutionFailedException: Command &#39;npm install&#39; failed to finish for Sparing Boot app with Vaadin","body":"<p>I have a Spring Boot stub project just generated on Spring Initializr, with pnpm preinstalled, but currenty no <code>npm</code> is installed, runned on Windows 10 with <code>mvn spring-boot:run</code></p>\n<p>The pom.xml is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;tatar.gis&lt;/groupId&gt;\n    &lt;artifactId&gt;geodata&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;geodata&lt;/name&gt;\n    &lt;description&gt;Geodata Manipulation project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;vaadin.version&gt;14.8.1&lt;/vaadin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;frontend&lt;/id&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;productionMode&gt;true&lt;/productionMode&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And the console output is:</p>\n<pre><code>[INFO] \n[INFO] --- spring-boot-maven-plugin:2.6.2:run (default-cli) @ geodata ---\n[INFO] Attaching agents: []\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.2)\n2022-01-07 18:39:54.874  INFO 16476 --- [           main] tatar.gis.geodata.GeodataApplication     : Starting GeodataApplication using Java 1.8.0_65 on ILYA with PID 16476 (D:\\Java\\geodata\\target\\classes started by eljah32 in D:\\Java\\geodata)\n2022-01-07 18:39:54.876  INFO 16476 --- [           main] tatar.gis.geodata.GeodataApplication     : No active profile set, falling back to default profiles: default\n2022-01-07 18:39:55.815  INFO 16476 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-01-07 18:39:55.823  INFO 16476 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-01-07 18:39:55.823  INFO 16476 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\n2022-01-07 18:39:55.919  INFO 16476 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-01-07 18:39:55.919  INFO 16476 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1009 ms\n2022-01-07 18:39:57.974  INFO 16476 --- [           main] c.v.f.s.VaadinServletContextInitializer  : Search for subclasses and classes with annotations took 1 seconds\n2022-01-07 18:39:57.975  INFO 16476 --- [           main] c.v.f.s.VaadinServletContextInitializer  : Due to slow search it is recommended to use the whitelisted-packages feature to make scanning faster.\nSee the whitelisted-packages section in the docs at https://vaadin.com/docs/latest/flow/integrations/spring/configuration#special-configuration-parameters\n2022-01-07 18:39:57.978  INFO 16476 --- [           main] c.v.f.server.startup.DevModeInitializer  : Starting dev-mode updaters in D:\\Java\\geodata folder.\n2022-01-07 18:39:58.006  INFO 16476 --- [           main] dev-updater                              : Visited 90 classes. Took 20 ms.\n2022-01-07 18:39:58.017  INFO 16476 --- [           main] dev-updater                              : Added 23 default dependencies to main package.json\n2022-01-07 18:39:58.038  INFO 16476 --- [           main] dev-updater                              : Running `npm install` to resolve and optionally download frontend dependencies. This may take a moment, please stand by...\n2022-01-07 18:39:58.210 ERROR 16476 --- [           main] dev-updater                              : Error when running `npm install`\njava.io.IOException: Cannot run program &quot;--no-update-notifier&quot; (in directory &quot;D:\\Java\\geodata&quot;): CreateProcess error=2, The system cannot find the file specified\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048) ~[na:1.8.0_65]\n    at com.vaadin.flow.server.frontend.TaskRunNpmInstall.runNpmInstall(TaskRunNpmInstall.java:365) [flow-server-2.7.7.jar:2.7.7]\n    at com.vaadin.flow.server.frontend.TaskRunNpmInstall.execute(TaskRunNpmInstall.java:138) [flow-server-2.7.7.jar:2.7.7]\n    at com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:529) [flow-server-2.7.7.jar:2.7.7]\n    at com.vaadin.flow.server.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:330) [flow-server-2.7.7.jar:2.7.7]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:447) [vaadin-spring-12.4.2.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:180) [vaadin-spring-12.4.2.jar:na]\n    at java.util.ArrayList.forEach(ArrayList.java:1249) ~[na:1.8.0_65]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:180) [vaadin-spring-12.4.2.jar:na]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_65]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) ~[na:1.8.0_65]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_65]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) ~[na:1.8.0_65]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\n    at tatar.gis.geodata.GeodataApplication.main(GeodataApplication.java:10) ~[classes/:na]\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    at java.lang.ProcessImpl.create(Native Method) ~[na:1.8.0_65]\n    at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386) ~[na:1.8.0_65]\n    at java.lang.ProcessImpl.start(ProcessImpl.java:137) ~[na:1.8.0_65]\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029) ~[na:1.8.0_65]\n    ... 46 common frames omitted\n2022-01-07 18:39:58.211 ERROR 16476 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\njava.lang.RuntimeException: Unable to initialize Vaadin DevModeHandler\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:450) ~[vaadin-spring-12.4.2.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:180) ~[vaadin-spring-12.4.2.jar:na]\n    at java.util.ArrayList.forEach(ArrayList.java:1249) ~[na:1.8.0_65]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:180) ~[vaadin-spring-12.4.2.jar:na]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_65]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) [na:1.8.0_65]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_65]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) [na:1.8.0_65]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) [spring-boot-2.6.2.jar:2.6.2]\n    at tatar.gis.geodata.GeodataApplication.main(GeodataApplication.java:10) [classes/:na]\nCaused by: javax.servlet.ServletException: com.vaadin.flow.server.ExecutionFailedException: Command 'npm install' failed to finish\n    at com.vaadin.flow.server.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:341) ~[flow-server-2.7.7.jar:2.7.7]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$DevModeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:447) ~[vaadin-spring-12.4.2.jar:na]\n    ... 41 common frames omitted\nCaused by: com.vaadin.flow.server.ExecutionFailedException: Command 'npm install' failed to finish\n    at com.vaadin.flow.server.frontend.TaskRunNpmInstall.runNpmInstall(TaskRunNpmInstall.java:409) ~[flow-server-2.7.7.jar:2.7.7]\n    at com.vaadin.flow.server.frontend.TaskRunNpmInstall.execute(TaskRunNpmInstall.java:138) ~[flow-server-2.7.7.jar:2.7.7]\n    at com.vaadin.flow.server.frontend.NodeTasks.execute(NodeTasks.java:529) ~[flow-server-2.7.7.jar:2.7.7]\n    at com.vaadin.flow.server.startup.DevModeInitializer.initDevModeHandler(DevModeInitializer.java:330) ~[flow-server-2.7.7.jar:2.7.7]\n    ... 42 common frames omitted\nCaused by: java.io.IOException: Cannot run program &quot;--no-update-notifier&quot; (in directory &quot;D:\\Java\\geodata&quot;): CreateProcess error=2, The system cannot find the file specified\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048) ~[na:1.8.0_65]\n    at com.vaadin.flow.server.frontend.TaskRunNpmInstall.runNpmInstall(TaskRunNpmInstall.java:365) ~[flow-server-2.7.7.jar:2.7.7]\n    ... 45 common frames omitted\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    at java.lang.ProcessImpl.create(Native Method) ~[na:1.8.0_65]\n    at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386) ~[na:1.8.0_65]\n    at java.lang.ProcessImpl.start(ProcessImpl.java:137) ~[na:1.8.0_65]\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029) ~[na:1.8.0_65]\n    ... 46 common frames omitted\n2022-01-07 18:39:58.212 ERROR 16476 --- [           main] o.apache.catalina.core.StandardContext   : One or more listeners failed to start. Full details will be found in the appropriate container log file\n2022-01-07 18:39:58.212 ERROR 16476 --- [           main] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\n2022-01-07 18:39:58.494  INFO 16476 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-01-07 18:39:58.497  WARN 16476 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-01-07 18:39:58.504  INFO 16476 --- [           main] ConditionEvaluationReportLoggingListener : \nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-01-07 18:39:58.523 ERROR 16476 --- [           main] o.s.boot.SpringApplication               : Application run failed\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) [spring-boot-2.6.2.jar:2.6.2]\n    at tatar.gis.geodata.GeodataApplication.main(GeodataApplication.java:10) [classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.2.jar:2.6.2]\n    ... 8 common frames omitted\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.6.2.jar:2.6.2]\n    ... 13 common frames omitted\n</code></pre>\n"},{"tags":["java","maven","jna"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1652974862,"post_id":72303745,"comment_id":127743080,"body_markdown":"Have you tried setting `jna.library.path` to the path to the dll?","body":"Have you tried setting <code>jna.library.path</code> to the path to the dll?"},{"owner":{"account_id":3583823,"reputation":521,"user_id":2991413,"accept_rate":35,"display_name":"user2991413"},"score":0,"creation_date":1653012892,"post_id":72303745,"comment_id":127752419,"body_markdown":"@DanielWiddis Yes. I did try setting jna.library.path programmatically to the location where i have dylib \nSystem.setProperty(&quot;jna.library.path&quot;, &quot;/Users/username/Downloads/TestJNA/src/main/java&quot;);\ndylib absolute path is &quot;/Users/username/Downloads/TestJNA/src/main/java/test.dylib&quot;","body":"@DanielWiddis Yes. I did try setting jna.library.path programmatically to the location where i have dylib  System.setProperty(&quot;jna.library.path&quot;, &quot;/Users/username/Downloads/TestJNA/src/main/java&quot;); dylib absolute path is &quot;/Users/username/Downloads/TestJNA/src/main/java/test.dylib&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653152314,"creation_date":1653152314,"answer_id":72331604,"question_id":72303745,"body_markdown":"While the error message you received only lists one search path, JNA actually checks multiple locations for your library.  As documented in the [NativeLibrary class javadocs][1]:\r\n\r\n&gt; A search for a given library will scan the following locations:\r\n&gt; \r\n&gt; 1. `jna.library.path` User-customizable path\r\n&gt; 2. `jna.platform.library.path` Platform-specific paths\r\n&gt; 3. On OSX, `~/Library/Frameworks`, `/Library/Frameworks`, and `/System/Library/Frameworks` will be searched for a framework with a\r\n&gt; name corresponding to that requested. Absolute paths to frameworks are\r\n&gt; also accepted, either ending at the framework name (sans &quot;.framework&quot;)\r\n&gt; or the full path to the framework shared library (e.g.\r\n&gt; CoreServices.framework/CoreServices).\r\n&gt; 4. Context class loader classpath. Deployed native libraries may be installed on the classpath under `${os-prefix}/LIBRARY_FILENAME`,\r\n&gt; where `${os-prefix}` is the OS/Arch prefix returned by\r\n&gt; `Platform.getNativeLibraryResourcePrefix()`. If bundled in a jar file,\r\n&gt; the resource will be extracted to `jna.tmpdir` for loading, and later\r\n&gt; removed (but only if `jna.nounpack` is false or not set).\r\n&gt; \r\n&gt; You may set the system property `jna.debug_load=true` to make JNA\r\n&gt; print the steps of its library search to the console.\r\n\r\nNote the `os-prefix` directory in item 4 above.  You have included your library directly on the classpath (from the comments, `/Users/username/Downloads/TestJNA/src/main/java/test.dylib`).  However, as the error message states, it needs to be in the `darwin-x86-64/` directory on your classpath, e.g., `/Users/username/Downloads/TestJNA/src/main/java/darwin-x86-64/test.dylib`;\r\n\r\nYou may wish to use `src/main/resources` in preference to the `java` subdirectory for non-java code.\r\n\r\nYour attempt to set the system library path to your raw source code directory doesn&#39;t work for the compiled code where it is looking in the `target/classes` directory structure.\r\n\r\nNote that you can get further debugging information by setting the system property `jna.debug_load=true`.\r\n\r\n  [1]: https://java-native-access.github.io/jna/5.11.0/javadoc/com/sun/jna/NativeLibrary.html","title":"Unable to load library in Maven project","body":"<p>While the error message you received only lists one search path, JNA actually checks multiple locations for your library.  As documented in the <a href=\"https://java-native-access.github.io/jna/5.11.0/javadoc/com/sun/jna/NativeLibrary.html\" rel=\"nofollow noreferrer\">NativeLibrary class javadocs</a>:</p>\n<blockquote>\n<p>A search for a given library will scan the following locations:</p>\n<ol>\n<li><code>jna.library.path</code> User-customizable path</li>\n<li><code>jna.platform.library.path</code> Platform-specific paths</li>\n<li>On OSX, <code>~/Library/Frameworks</code>, <code>/Library/Frameworks</code>, and <code>/System/Library/Frameworks</code> will be searched for a framework with a\nname corresponding to that requested. Absolute paths to frameworks are\nalso accepted, either ending at the framework name (sans &quot;.framework&quot;)\nor the full path to the framework shared library (e.g.\nCoreServices.framework/CoreServices).</li>\n<li>Context class loader classpath. Deployed native libraries may be installed on the classpath under <code>${os-prefix}/LIBRARY_FILENAME</code>,\nwhere <code>${os-prefix}</code> is the OS/Arch prefix returned by\n<code>Platform.getNativeLibraryResourcePrefix()</code>. If bundled in a jar file,\nthe resource will be extracted to <code>jna.tmpdir</code> for loading, and later\nremoved (but only if <code>jna.nounpack</code> is false or not set).</li>\n</ol>\n<p>You may set the system property <code>jna.debug_load=true</code> to make JNA\nprint the steps of its library search to the console.</p>\n</blockquote>\n<p>Note the <code>os-prefix</code> directory in item 4 above.  You have included your library directly on the classpath (from the comments, <code>/Users/username/Downloads/TestJNA/src/main/java/test.dylib</code>).  However, as the error message states, it needs to be in the <code>darwin-x86-64/</code> directory on your classpath, e.g., <code>/Users/username/Downloads/TestJNA/src/main/java/darwin-x86-64/test.dylib</code>;</p>\n<p>You may wish to use <code>src/main/resources</code> in preference to the <code>java</code> subdirectory for non-java code.</p>\n<p>Your attempt to set the system library path to your raw source code directory doesn't work for the compiled code where it is looking in the <code>target/classes</code> directory structure.</p>\n<p>Note that you can get further debugging information by setting the system property <code>jna.debug_load=true</code>.</p>\n"}],"owner":{"account_id":3583823,"reputation":521,"user_id":2991413,"accept_rate":35,"display_name":"user2991413"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657379739,"creation_date":1652959734,"question_id":72303745,"body_markdown":"I have a 3rd party native library (let&#39;s call it **test.dylib**) which I am trying to load through JNA in a Maven project.\r\noutput of **otool -L test.dylib** is\r\n\r\n    /Library/Frameworks/test/Versions/A/test (compatibility version 1.0.0, current version 1.0.0)\r\n    \r\n       /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa (compatibility version 1.0.0, current version 19.0.0)\r\n    \r\n       /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation (compatibility version 300.0.0, current version 945.11.0)\r\n    \r\n       /usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0)\r\n    \r\n       /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 65.1.0)\r\n    \r\n       /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 169.3.0)\r\n    \r\n       /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 744.1.0)\r\n\r\n\r\nIf I paste the test.dylib file at location **&quot;/Library/Frameworks/test/Versions/A/test &quot;** from otool -L output.\r\nAnd load the file through JNA, it works fine. But if I keep the test.dylib under resource folder, I get error.\r\n\r\njava.io.IOException: Native library (darwin-x86-64/test.dylib) not found in resource path (/Users/username/Downloads/TestJNA/target/classes:\r\n\r\nEven though I can see the dylib file present in /target/classes folder. Can someone suggest, how can I achieve calling dylib from resource folder? I don&#39;t want to paste the dylib file at this location &quot;/Library/Frameworks/test/Versions/A/test&quot;.\r\n\r\n\r\nThis is how I am loading native library.\r\n\r\n\r\n\r\n    public class TestJNA {\r\n    \r\n         public interface Perception extends Library {\r\n              Perception Instance = (Perception) Native.load(&quot;test&quot;,  Perception.class);\r\n    \r\n              void method1();\r\n               int method2(int a, int b, int c);\r\n         }\r\n        public static void main(String[] args) { \r\n               Perception.Instance.method1();\r\n               System.out.println(Perception.Instance.method2(1,2,3));\r\n        }\r\n    }","title":"Unable to load library in Maven project","body":"<p>I have a 3rd party native library (let's call it <strong>test.dylib</strong>) which I am trying to load through JNA in a Maven project.\noutput of <strong>otool -L test.dylib</strong> is</p>\n<pre><code>/Library/Frameworks/test/Versions/A/test (compatibility version 1.0.0, current version 1.0.0)\n\n   /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa (compatibility version 1.0.0, current version 19.0.0)\n\n   /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation (compatibility version 300.0.0, current version 945.11.0)\n\n   /usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0)\n\n   /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 65.1.0)\n\n   /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 169.3.0)\n\n   /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 744.1.0)\n</code></pre>\n<p>If I paste the test.dylib file at location <strong>&quot;/Library/Frameworks/test/Versions/A/test &quot;</strong> from otool -L output.\nAnd load the file through JNA, it works fine. But if I keep the test.dylib under resource folder, I get error.</p>\n<p>java.io.IOException: Native library (darwin-x86-64/test.dylib) not found in resource path (/Users/username/Downloads/TestJNA/target/classes:</p>\n<p>Even though I can see the dylib file present in /target/classes folder. Can someone suggest, how can I achieve calling dylib from resource folder? I don't want to paste the dylib file at this location &quot;/Library/Frameworks/test/Versions/A/test&quot;.</p>\n<p>This is how I am loading native library.</p>\n<pre><code>public class TestJNA {\n\n     public interface Perception extends Library {\n          Perception Instance = (Perception) Native.load(&quot;test&quot;,  Perception.class);\n\n          void method1();\n           int method2(int a, int b, int c);\n     }\n    public static void main(String[] args) { \n           Perception.Instance.method1();\n           System.out.println(Perception.Instance.method2(1,2,3));\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":0,"creation_date":1401831722,"post_id":24025097,"comment_id":37034574,"body_markdown":"I highly doubt that Minecraft source code is available anywhere.  You won&#39;t find source to attach in your IDE.","body":"I highly doubt that Minecraft source code is available anywhere.  You won&#39;t find source to attach in your IDE."}],"answers":[{"tags":[],"owner":{"account_id":1332894,"reputation":3749,"user_id":1276341,"accept_rate":100,"display_name":"MrLore"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401992492,"creation_date":1401992492,"answer_id":24067417,"question_id":24025097,"body_markdown":"Forge never decompiles the Minecraft sources, in versions for 1.6.4 and earlier it included [MCP (Minecraft Coder Pack)][1] which decompiled the sources for you, however there has not been a MCP version for 1.7.2 and as such Forge for 1.7.2 and later does not include it.\r\n\r\n  [1]: http://mcp.ocean-labs.de/download.php?list.2","title":"Where are the source files for forge?","body":"<p>Forge never decompiles the Minecraft sources, in versions for 1.6.4 and earlier it included <a href=\"http://mcp.ocean-labs.de/download.php?list.2\" rel=\"nofollow\">MCP (Minecraft Coder Pack)</a> which decompiled the sources for you, however there has not been a MCP version for 1.7.2 and as such Forge for 1.7.2 and later does not include it.</p>\n"},{"tags":[],"owner":{"account_id":5136543,"reputation":41,"user_id":4115130,"display_name":"Felipe Ignacio Pezoa Pinochet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1416632548,"creation_date":1416632548,"answer_id":27074247,"question_id":24025097,"body_markdown":"Just do`gradlew setupDecompWorkspace` in your forge folder and you will be able to see the source code (as long as you&#39;re working with forge 1.7+). Any way as far as I know your mod will run anyway without having the source attached, but sometimes it helps a lot to see minecraft source code.","title":"Where are the source files for forge?","body":"<p>Just do<code>gradlew setupDecompWorkspace</code> in your forge folder and you will be able to see the source code (as long as you're working with forge 1.7+). Any way as far as I know your mod will run anyway without having the source attached, but sometimes it helps a lot to see minecraft source code.</p>\n"},{"tags":[],"owner":{"account_id":5509032,"reputation":1,"user_id":4376023,"display_name":"DiegoG"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1619262199,"creation_date":1418941210,"answer_id":27556727,"question_id":24025097,"body_markdown":"Dude: \r\nIn eclipse, click in Referenced Libraries,   \r\n- right click in the first librarie (forgeBin-1.7.10-10.13.2.1230.jar or something like that), \r\n- click on Properties, select External Location and paste this C:/Users/USERNAME/.gradle/caches/minecraft/net/minecraftforge/forge/1.7.2-10.12.0.1049/forgeSrc-1.7.2-10.12.0.1049-sources.jar(of course, chage &quot;USERNAME&quot; with the real name you have in your computer)    \r\n- Click Apply and then OK and its done.    \r\nIf that doesnt work, try finding the correct path for your forgeSrc-1.7.2-10.12.0.1049-sources.jar file in your pc and paste it in the External Location.\r\n","title":"Where are the source files for forge?","body":"<p>Dude:\nIn eclipse, click in Referenced Libraries,</p>\n<ul>\n<li>right click in the first librarie (forgeBin-1.7.10-10.13.2.1230.jar or something like that),</li>\n<li>click on Properties, select External Location and paste this C:/Users/USERNAME/.gradle/caches/minecraft/net/minecraftforge/forge/1.7.2-10.12.0.1049/forgeSrc-1.7.2-10.12.0.1049-sources.jar(of course, chage &quot;USERNAME&quot; with the real name you have in your computer)</li>\n<li>Click Apply and then OK and its done.<br />\nIf that doesnt work, try finding the correct path for your forgeSrc-1.7.2-10.12.0.1049-sources.jar file in your pc and paste it in the External Location.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3934463,"reputation":775,"user_id":3278662,"accept_rate":57,"display_name":"Universal Electricity"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657379283,"creation_date":1430323090,"answer_id":29948875,"question_id":24025097,"body_markdown":"You can find the source for Minecraft Forge at [the Minecraft Forge github repository.][1] However, the minecraft source code is private, so you have to decompile it yourself with `./gradlew setUpDecompWorkspace`\r\n\r\n\r\n  [1]: https://github.com/MinecraftForge/MinecraftForge\r\n  [2]: https://github.com/MinecraftForge/FML","title":"Where are the source files for forge?","body":"<p>You can find the source for Minecraft Forge at <a href=\"https://github.com/MinecraftForge/MinecraftForge\" rel=\"nofollow noreferrer\">the Minecraft Forge github repository.</a> However, the minecraft source code is private, so you have to decompile it yourself with <code>./gradlew setUpDecompWorkspace</code></p>\n"},{"tags":[],"owner":{"account_id":153881,"reputation":18998,"user_id":369450,"accept_rate":99,"display_name":"Uyghur Lives Matter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573360594,"creation_date":1573275058,"answer_id":58776522,"question_id":24025097,"body_markdown":"There is no longer a direct task that will decompile Minecraft with Forge for Minecraft 1.14. You can cause the sources to be generated by running the *eclipse* task.\r\n\r\nFirst, make sure the *eclipse* plugin is applied in *build.gradle*:\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    apply plugin: &#39;eclipse&#39;\r\n\r\nNext, run the *eclipse* task and let it run:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    ./gradlew eclipse\r\n\r\nNow the Minecraft sources should be in an *output.jar* located at:\r\n\r\n- Linux:\r\n\r\n        ~/.gradle/caches/forge_gradle/minecraft_user_repo/mcp/&lt;MC VERSION&gt;-&lt;TIMESTAMP&gt;/joined/patch/output.jar\r\n\r\n- Windows:\r\n\r\n        C:\\Users\\&lt;USER&gt;\\.gradle\\caches\\forge_gradle\\minecraft_user_repo\\mcp\\&lt;MC VERSION&gt;-&lt;TIMESTAMP&gt;\\joined\\patch\\output.jar\r\n","title":"Where are the source files for forge?","body":"<p>There is no longer a direct task that will decompile Minecraft with Forge for Minecraft 1.14. You can cause the sources to be generated by running the <em>eclipse</em> task.</p>\n\n<p>First, make sure the <em>eclipse</em> plugin is applied in <em>build.gradle</em>:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>apply plugin: 'eclipse'\n</code></pre>\n\n<p>Next, run the <em>eclipse</em> task and let it run:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew eclipse\n</code></pre>\n\n<p>Now the Minecraft sources should be in an <em>output.jar</em> located at:</p>\n\n<ul>\n<li><p>Linux:</p>\n\n<pre><code>~/.gradle/caches/forge_gradle/minecraft_user_repo/mcp/&lt;MC VERSION&gt;-&lt;TIMESTAMP&gt;/joined/patch/output.jar\n</code></pre></li>\n<li><p>Windows:</p>\n\n<pre><code>C:\\Users\\&lt;USER&gt;\\.gradle\\caches\\forge_gradle\\minecraft_user_repo\\mcp\\&lt;MC VERSION&gt;-&lt;TIMESTAMP&gt;\\joined\\patch\\output.jar\n</code></pre></li>\n</ul>\n"}],"owner":{"account_id":4293274,"reputation":81,"user_id":3509026,"display_name":"lllendexll"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10219,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":5,"score":6,"last_activity_date":1657379283,"creation_date":1401830365,"question_id":24025097,"body_markdown":"When I try to open `Block.class`, or any other classes from the same package as `Block.class`, eclipse will say: &quot;the source attachment does not contain the source for the `Block.class`. You can change the source attachment by clicking Change Attached Source below:&quot;\n\nWhat did I do wrong? Where&#39;s the source code then?\n\n\nAlso, when I type &quot;extends Block&quot;, and hover my cursor over the word &quot;Block&quot; this appears:\n\n&gt;net.minecraft.init.Blocks\n&gt;\n&gt;Note: This element neither has attached source nor attached Javadoc and hence no Javadoc could be found.\n","title":"Where are the source files for forge?","body":"<p>When I try to open <code>Block.class</code>, or any other classes from the same package as <code>Block.class</code>, eclipse will say: &quot;the source attachment does not contain the source for the <code>Block.class</code>. You can change the source attachment by clicking Change Attached Source below:&quot;</p>\n<p>What did I do wrong? Where's the source code then?</p>\n<p>Also, when I type &quot;extends Block&quot;, and hover my cursor over the word &quot;Block&quot; this appears:</p>\n<blockquote>\n<p>net.minecraft.init.Blocks</p>\n<p>Note: This element neither has attached source nor attached Javadoc and hence no Javadoc could be found.</p>\n</blockquote>\n"},{"tags":["java","oracle","spring-boot","hibernate","spring-data"],"comments":[{"owner":{"account_id":10003396,"reputation":1990,"user_id":7398653,"display_name":"gsalem"},"score":1,"creation_date":1657207612,"post_id":72900006,"comment_id":128761210,"body_markdown":"did you try oracle12cdialect to see if the sql is different?","body":"did you try oracle12cdialect to see if the sql is different?"},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1657208991,"post_id":72900006,"comment_id":128761742,"body_markdown":"As stated by  @gsalem there is also 12cdialect, Oracle supports LIMIT clause (which is internally translated into nested expression with rownum).","body":"As stated by  @gsalem there is also 12cdialect, Oracle supports LIMIT clause (which is internally translated into nested expression with rownum)."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1657212015,"post_id":72900006,"comment_id":128762884,"body_markdown":"I do believe the generated SQL is correct. would you mind providing test case?","body":"I do believe the generated SQL is correct. would you mind providing test case?"},{"owner":{"account_id":8371010,"reputation":43,"user_id":6286136,"display_name":"Corzar"},"score":0,"creation_date":1657270393,"post_id":72900006,"comment_id":128775766,"body_markdown":"Unfortunately it&#39;s not easy to provide a complete example, also because I should provide an ORACLE database because with other database (i.e. hyperDB) it doesn&#39;t happen.\nI didn&#39;t try the **oracle12cdialect** yet. I&#39;ll test and let you know","body":"Unfortunately it&#39;s not easy to provide a complete example, also because I should provide an ORACLE database because with other database (i.e. hyperDB) it doesn&#39;t happen. I didn&#39;t try the <b>oracle12cdialect</b> yet. I&#39;ll test and let you know"},{"owner":{"account_id":8371010,"reputation":43,"user_id":6286136,"display_name":"Corzar"},"score":0,"creation_date":1658929221,"post_id":72900006,"comment_id":129174066,"body_markdown":"Tested with oracle12cdialect and still the issue is there. It happens when there are records with the same value in the sort field.\nIf the sort field has unique values everything works well","body":"Tested with oracle12cdialect and still the issue is there. It happens when there are records with the same value in the sort field. If the sort field has unique values everything works well"}],"answers":[{"tags":[],"owner":{"account_id":9956609,"reputation":10666,"user_id":7367293,"display_name":"Connor McDonald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657263364,"creation_date":1657263364,"answer_id":72907726,"question_id":72900006,"body_markdown":"There is nothing wrong with the syntax above. It works correctly\r\n\r\n    SQL&gt; select * from emp;\r\n    \r\n         EMPNO ENAME      JOB              MGR HIREDATE         SAL       COMM     DEPTNO\r\n    ---------- ---------- --------- ---------- --------- ---------- ---------- ----------\r\n          7369 SMITH      CLERK           7902 17-DEC-80        800                    20\r\n          7499 ALLEN      SALESMAN        7698 20-FEB-81       1600        300         30\r\n          7521 WARD       SALESMAN        7698 22-FEB-81       1250        500         30\r\n          7566 JONES      MANAGER         7839 02-APR-81       2975                    20\r\n          7654 MARTIN     SALESMAN        7698 28-SEP-81       1250       1400         30\r\n          7698 BLAKE      MANAGER         7839 01-MAY-81       2850                    30\r\n          7782 CLARK      MANAGER         7839 09-JUN-81       2450                    10\r\n          7788 SCOTT      ANALYST         7566 09-DEC-82       3000                    20\r\n          7839 KING       PRESIDENT            17-NOV-81       5000                    10\r\n          7844 TURNER     SALESMAN        7698 08-SEP-81       1500                    30\r\n          7876 ADAMS      CLERK           7788 12-JAN-83       1100                    20\r\n          7900 JAMES      CLERK           7698 03-DEC-81        950                    30\r\n          7902 FORD       ANALYST         7566 03-DEC-81       3000                    20\r\n          7934 MILLER     CLERK           7782 23-JAN-82       1300                    10\r\n    \r\n    14 rows selected.\r\n    \r\n    SQL&gt;\r\n    SQL&gt; select * from emp\r\n      2  order by hiredate desc;\r\n    \r\n         EMPNO ENAME      JOB              MGR HIREDATE         SAL       COMM     DEPTNO\r\n    ---------- ---------- --------- ---------- --------- ---------- ---------- ----------\r\n          7876 ADAMS      CLERK           7788 12-JAN-83       1100                    20\r\n          7788 SCOTT      ANALYST         7566 09-DEC-82       3000                    20\r\n          7934 MILLER     CLERK           7782 23-JAN-82       1300                    10\r\n          7902 FORD       ANALYST         7566 03-DEC-81       3000                    20\r\n          7900 JAMES      CLERK           7698 03-DEC-81        950                    30\r\n          7839 KING       PRESIDENT            17-NOV-81       5000                    10\r\n          7654 MARTIN     SALESMAN        7698 28-SEP-81       1250       1400         30\r\n          7844 TURNER     SALESMAN        7698 08-SEP-81       1500                    30\r\n          7782 CLARK      MANAGER         7839 09-JUN-81       2450                    10\r\n          7698 BLAKE      MANAGER         7839 01-MAY-81       2850                    30\r\n          7566 JONES      MANAGER         7839 02-APR-81       2975                    20\r\n          7521 WARD       SALESMAN        7698 22-FEB-81       1250        500         30\r\n          7499 ALLEN      SALESMAN        7698 20-FEB-81       1600        300         30\r\n          7369 SMITH      CLERK           7902 17-DEC-80        800                    20\r\n    \r\n    14 rows selected.\r\n    \r\n    SQL&gt;\r\n    SQL&gt; select row_.*, rownum rownum_ from (\r\n      2    select * from emp\r\n      3    order by hiredate desc\r\n      4  ) row_ where rownum &lt;= 5;\r\n    \r\n         EMPNO ENAME      JOB              MGR HIREDATE         SAL       COMM     DEPTNO    ROWNUM_\r\n    ---------- ---------- --------- ---------- --------- ---------- ---------- ---------- ----------\r\n          7876 ADAMS      CLERK           7788 12-JAN-83       1100                    20          1\r\n          7788 SCOTT      ANALYST         7566 09-DEC-82       3000                    20          2\r\n          7934 MILLER     CLERK           7782 23-JAN-82       1300                    10          3\r\n          7900 JAMES      CLERK           7698 03-DEC-81        950                    30          4\r\n          7902 FORD       ANALYST         7566 03-DEC-81       3000                    20          5\r\n    \r\n    5 rows selected.\r\n\r\nPerhaps you are referring to getting subsequent pages (2,3,4...) - if that is the case, we&#39;d need to see the query generated for that.","title":"Pagination with Sorting doesn&#39;t work in ORACLE database with Hibernate","body":"<p>There is nothing wrong with the syntax above. It works correctly</p>\n<pre><code>SQL&gt; select * from emp;\n\n     EMPNO ENAME      JOB              MGR HIREDATE         SAL       COMM     DEPTNO\n---------- ---------- --------- ---------- --------- ---------- ---------- ----------\n      7369 SMITH      CLERK           7902 17-DEC-80        800                    20\n      7499 ALLEN      SALESMAN        7698 20-FEB-81       1600        300         30\n      7521 WARD       SALESMAN        7698 22-FEB-81       1250        500         30\n      7566 JONES      MANAGER         7839 02-APR-81       2975                    20\n      7654 MARTIN     SALESMAN        7698 28-SEP-81       1250       1400         30\n      7698 BLAKE      MANAGER         7839 01-MAY-81       2850                    30\n      7782 CLARK      MANAGER         7839 09-JUN-81       2450                    10\n      7788 SCOTT      ANALYST         7566 09-DEC-82       3000                    20\n      7839 KING       PRESIDENT            17-NOV-81       5000                    10\n      7844 TURNER     SALESMAN        7698 08-SEP-81       1500                    30\n      7876 ADAMS      CLERK           7788 12-JAN-83       1100                    20\n      7900 JAMES      CLERK           7698 03-DEC-81        950                    30\n      7902 FORD       ANALYST         7566 03-DEC-81       3000                    20\n      7934 MILLER     CLERK           7782 23-JAN-82       1300                    10\n\n14 rows selected.\n\nSQL&gt;\nSQL&gt; select * from emp\n  2  order by hiredate desc;\n\n     EMPNO ENAME      JOB              MGR HIREDATE         SAL       COMM     DEPTNO\n---------- ---------- --------- ---------- --------- ---------- ---------- ----------\n      7876 ADAMS      CLERK           7788 12-JAN-83       1100                    20\n      7788 SCOTT      ANALYST         7566 09-DEC-82       3000                    20\n      7934 MILLER     CLERK           7782 23-JAN-82       1300                    10\n      7902 FORD       ANALYST         7566 03-DEC-81       3000                    20\n      7900 JAMES      CLERK           7698 03-DEC-81        950                    30\n      7839 KING       PRESIDENT            17-NOV-81       5000                    10\n      7654 MARTIN     SALESMAN        7698 28-SEP-81       1250       1400         30\n      7844 TURNER     SALESMAN        7698 08-SEP-81       1500                    30\n      7782 CLARK      MANAGER         7839 09-JUN-81       2450                    10\n      7698 BLAKE      MANAGER         7839 01-MAY-81       2850                    30\n      7566 JONES      MANAGER         7839 02-APR-81       2975                    20\n      7521 WARD       SALESMAN        7698 22-FEB-81       1250        500         30\n      7499 ALLEN      SALESMAN        7698 20-FEB-81       1600        300         30\n      7369 SMITH      CLERK           7902 17-DEC-80        800                    20\n\n14 rows selected.\n\nSQL&gt;\nSQL&gt; select row_.*, rownum rownum_ from (\n  2    select * from emp\n  3    order by hiredate desc\n  4  ) row_ where rownum &lt;= 5;\n\n     EMPNO ENAME      JOB              MGR HIREDATE         SAL       COMM     DEPTNO    ROWNUM_\n---------- ---------- --------- ---------- --------- ---------- ---------- ---------- ----------\n      7876 ADAMS      CLERK           7788 12-JAN-83       1100                    20          1\n      7788 SCOTT      ANALYST         7566 09-DEC-82       3000                    20          2\n      7934 MILLER     CLERK           7782 23-JAN-82       1300                    10          3\n      7900 JAMES      CLERK           7698 03-DEC-81        950                    30          4\n      7902 FORD       ANALYST         7566 03-DEC-81       3000                    20          5\n\n5 rows selected.\n</code></pre>\n<p>Perhaps you are referring to getting subsequent pages (2,3,4...) - if that is the case, we'd need to see the query generated for that.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657378891,"creation_date":1657377759,"answer_id":72922286,"question_id":72900006,"body_markdown":"I do believe the SQLs generated by HBN to get both first and next pages are correct. It is more likely you are actually facing with `sort stability` issue: if some records has the same value of column you are ordering by, we can say nothing about their order, and oracle can&#39;t say as well, to make sort stable you need to add something unique (i.e. `id`) to order by clause.\r\n\r\n```sql\r\nselect row_.*, rownum rownum_ from ( \r\nselect table_.tablefield1, table_.tablefield2, table_.tablefield3... \r\nfrom table table_ where &lt;condition&gt;\r\norder by table_.tablefield1 desc, table_.id \r\n) row_ where rownum &lt;= 5\r\n```\r\n\r\nYou might not facing with similar issue in other DBs because other DBs might use clustered index to support PK.\r\n\r\nAnd yes, &quot;modern syntax&quot; won&#39;t solve sort stability issue.","title":"Pagination with Sorting doesn&#39;t work in ORACLE database with Hibernate","body":"<p>I do believe the SQLs generated by HBN to get both first and next pages are correct. It is more likely you are actually facing with <code>sort stability</code> issue: if some records has the same value of column you are ordering by, we can say nothing about their order, and oracle can't say as well, to make sort stable you need to add something unique (i.e. <code>id</code>) to order by clause.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select row_.*, rownum rownum_ from ( \nselect table_.tablefield1, table_.tablefield2, table_.tablefield3... \nfrom table table_ where &lt;condition&gt;\norder by table_.tablefield1 desc, table_.id \n) row_ where rownum &lt;= 5\n</code></pre>\n<p>You might not facing with similar issue in other DBs because other DBs might use clustered index to support PK.</p>\n<p>And yes, &quot;modern syntax&quot; won't solve sort stability issue.</p>\n"}],"owner":{"account_id":8371010,"reputation":43,"user_id":6286136,"display_name":"Corzar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72922286,"answer_count":2,"score":0,"last_activity_date":1657378891,"creation_date":1657205634,"question_id":72900006,"body_markdown":"I&#39;m using spring jpa with hibernate. When I use the pagination with sorting (typically in tables) the Oracle10gDialect generates the following SQL\r\n```\r\nselect row_.*, rownum rownum_ from ( \r\nselect table_.tablefield1, table_.tablefield2, table_.tablefield3... \r\nfrom table table_ where &lt;condition&gt;\r\norder by table_tablefield1 desc \r\n) row_ where rownum &lt;= 5\r\n```\r\nAccording to [this][1] explanation, the order by is in that case not considered as the rownum changes the order of the subquery.\r\nAnd in fact I&#39;m experiencing the issue. Everything works well if I don&#39;t put any sorting field.\r\n\r\nI opened a [bug][3] in Hibernate ORM but no feedback since more than 6 months. Anybody can help?\r\n\r\nEnvironment\r\nSpring boot 2.2.0, Java 8, Linux, Oracle 19.0.0.0.0\r\n\r\nREMARK!\r\nThis question does not duplicate [this][2] one because I can&#39;t change the SQL generated by hibernate. Please check the tags before marking as duplicate.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36741685/order-by-subquery-and-rownum-goes-against-relational-philosophy\r\n  [2]: https://stackoverflow.com/questions/470542/how-do-i-limit-the-number-of-rows-returned-by-an-oracle-query-after-ordering\r\n  [3]: https://hibernate.atlassian.net/browse/HHH-14924\r\n","title":"Pagination with Sorting doesn&#39;t work in ORACLE database with Hibernate","body":"<p>I'm using spring jpa with hibernate. When I use the pagination with sorting (typically in tables) the Oracle10gDialect generates the following SQL</p>\n<pre><code>select row_.*, rownum rownum_ from ( \nselect table_.tablefield1, table_.tablefield2, table_.tablefield3... \nfrom table table_ where &lt;condition&gt;\norder by table_tablefield1 desc \n) row_ where rownum &lt;= 5\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/questions/36741685/order-by-subquery-and-rownum-goes-against-relational-philosophy\">this</a> explanation, the order by is in that case not considered as the rownum changes the order of the subquery.\nAnd in fact I'm experiencing the issue. Everything works well if I don't put any sorting field.</p>\n<p>I opened a <a href=\"https://hibernate.atlassian.net/browse/HHH-14924\" rel=\"nofollow noreferrer\">bug</a> in Hibernate ORM but no feedback since more than 6 months. Anybody can help?</p>\n<p>Environment\nSpring boot 2.2.0, Java 8, Linux, Oracle 19.0.0.0.0</p>\n<p>REMARK!\nThis question does not duplicate <a href=\"https://stackoverflow.com/questions/470542/how-do-i-limit-the-number-of-rows-returned-by-an-oracle-query-after-ordering\">this</a> one because I can't change the SQL generated by hibernate. Please check the tags before marking as duplicate.</p>\n"},{"tags":["java","android","android-gradle-plugin","android-manifest","androidx"],"comments":[{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":0,"creation_date":1550835963,"post_id":53268865,"comment_id":96427487,"body_markdown":"Have you checked this answer : https://stackoverflow.com/a/54825603/1318946","body":"Have you checked this answer : <a href=\"https://stackoverflow.com/a/54825603/1318946\">stackoverflow.com/a/54825603/1318946</a>"},{"owner":{"account_id":14410660,"reputation":7388,"user_id":10409567,"display_name":"griffins"},"score":3,"creation_date":1561519570,"post_id":53268865,"comment_id":100085894,"body_markdown":"By any chance are you using firebase? If yes the newest versions are on android X hence the error","body":"By any chance are you using firebase? If yes the newest versions are on android X hence the error"},{"owner":{"account_id":2301616,"reputation":6714,"user_id":2021812,"accept_rate":52,"display_name":"Malwinder Singh"},"score":0,"creation_date":1562337259,"post_id":53268865,"comment_id":100354706,"body_markdown":"@Ggriffo No. I am not using Firebase.","body":"@Ggriffo No. I am not using Firebase."},{"owner":{"account_id":8546317,"reputation":126,"user_id":6404749,"display_name":"Bhriguraj Salponia"},"score":0,"creation_date":1590067633,"post_id":53268865,"comment_id":109543815,"body_markdown":"I faced this error when my project was not migrated to androidX &amp; I tried syncing the CameraX library. After migrating everything is working fine.","body":"I faced this error when my project was not migrated to androidX &amp; I tried syncing the CameraX library. After migrating everything is working fine."}],"answers":[{"tags":[],"owner":{"account_id":7305701,"reputation":1712,"user_id":5567283,"display_name":"Akshay"},"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1649055036,"creation_date":1542098938,"answer_id":53277062,"question_id":53268865,"body_markdown":"I think you are migrating to AndroidX libs.\r\n\r\nAdd below lines to **gradle.properties** file\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nRemove `tools:replace=&quot;android:appComponentFactory&quot;` from manifest. \r\n\r\nReplace import  from `android.support.v7.app.AppCompatActivity` to `androidx.appcompat.app.AppCompatActivity` in activities. Use replace in project to expedite the process of refactoring.\r\n\r\n[Migrating to AndroidX][1] \r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/migrate","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>I think you are migrating to AndroidX libs.</p>\n<p>Add below lines to <strong>gradle.properties</strong> file</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>Remove <code>tools:replace=&quot;android:appComponentFactory&quot;</code> from manifest.</p>\n<p>Replace import  from <code>android.support.v7.app.AppCompatActivity</code> to <code>androidx.appcompat.app.AppCompatActivity</code> in activities. Use replace in project to expedite the process of refactoring.</p>\n<p><a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"noreferrer\">Migrating to AndroidX</a></p>\n"},{"tags":[],"owner":{"account_id":8355015,"reputation":589,"user_id":6275643,"display_name":"Gabriel Aguirre"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1542146034,"creation_date":1542126365,"answer_id":53285362,"question_id":53268865,"body_markdown":"You can try adding:\r\n\r\n    android:appComponentFactory=&quot;android.support.v4.app.CoreComponentFactory&quot;\r\n\r\nTo the tag `&lt;application &gt;` in your manifest.","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>You can try adding:</p>\n\n<pre><code>android:appComponentFactory=\"android.support.v4.app.CoreComponentFactory\"\n</code></pre>\n\n<p>To the tag <code>&lt;application &gt;</code> in your manifest.</p>\n"},{"tags":[],"owner":{"account_id":3915516,"reputation":449,"user_id":3239420,"display_name":"shailesh"},"down_vote_count":3,"up_vote_count":16,"is_accepted":false,"score":13,"last_activity_date":1556183359,"creation_date":1556183359,"answer_id":55845666,"question_id":53268865,"body_markdown":"I got same error in my project, I have resolved it\r\nYou can try it\r\n\r\nAndroid Studio &gt; Refactor &gt; Migrate to AndroidX\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eLxbI.png","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>I got same error in my project, I have resolved it\nYou can try it</p>\n\n<p>Android Studio > Refactor > Migrate to AndroidX</p>\n\n<p><a href=\"https://i.stack.imgur.com/eLxbI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eLxbI.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8635904,"reputation":420,"user_id":6466099,"display_name":"codepeaker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561546205,"creation_date":1561546205,"answer_id":56771091,"question_id":53268865,"body_markdown":"In my case, I had updated Firebase and play services dependency, result in this issue. \r\n\r\n**Reverted back the dependency updates and the error vanished**\r\n\r\nSeems that the latest Firebase and Play Service dependencies are compatible with **androidx**.","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>In my case, I had updated Firebase and play services dependency, result in this issue. </p>\n\n<p><strong>Reverted back the dependency updates and the error vanished</strong></p>\n\n<p>Seems that the latest Firebase and Play Service dependencies are compatible with <strong>androidx</strong>.</p>\n"},{"tags":[],"owner":{"account_id":16047425,"reputation":49,"user_id":11582224,"display_name":"komaki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1562120818,"creation_date":1562120818,"answer_id":56862116,"question_id":53268865,"body_markdown":"It often happened because you used **Androidx libraries** and **support libraries** at the same time. Some 3rd-party libraries may contain support libraries and other 3rd-party libraries may contain Androidx libraries, this can also lead this problem. If you have gradle environment in you PC, try &quot;gradlew :app:dependencies&quot; command in the terminal of Android Studio, this command will list all libraries including 3rd-party libraries of your project, and see which library or framework used Androidx libraries and which not. Then try to upgrade old libraries used support libraries, and this problem should disappear. ","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>It often happened because you used <strong>Androidx libraries</strong> and <strong>support libraries</strong> at the same time. Some 3rd-party libraries may contain support libraries and other 3rd-party libraries may contain Androidx libraries, this can also lead this problem. If you have gradle environment in you PC, try \"gradlew :app:dependencies\" command in the terminal of Android Studio, this command will list all libraries including 3rd-party libraries of your project, and see which library or framework used Androidx libraries and which not. Then try to upgrade old libraries used support libraries, and this problem should disappear. </p>\n"},{"tags":[],"owner":{"account_id":10959735,"reputation":123,"user_id":8053409,"display_name":"Rishabh Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563879113,"creation_date":1563879113,"answer_id":57162469,"question_id":53268865,"body_markdown":"In my case, i was facing problem because of the firebase version i was using.\r\nDowngrading the firebase version helped me.\r\n\r\n&gt; implementation &#39;com.crashlytics.sdk.android:crashlytics:2.10.1&#39;\r\n&gt; implementation &#39;com.google.firebase:firebase-core:16.0.6&#39;","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>In my case, i was facing problem because of the firebase version i was using.\nDowngrading the firebase version helped me.</p>\n\n<blockquote>\n  <p>implementation 'com.crashlytics.sdk.android:crashlytics:2.10.1'\n  implementation 'com.google.firebase:firebase-core:16.0.6'</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6153574,"reputation":11374,"user_id":4797289,"display_name":"Rasoul Miri"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1568790657,"creation_date":1568790657,"answer_id":57986989,"question_id":53268865,"body_markdown":"you need just add this code in **gradle.properties** file\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>you need just add this code in <strong>gradle.properties</strong> file</p>\n\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1080190,"reputation":615,"user_id":9087944,"display_name":"Nikhil Lotke"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1576738001,"creation_date":1576738001,"answer_id":59404505,"question_id":53268865,"body_markdown":"I added below lines inside `&lt;application&gt;` tag\r\n\r\n`tools:replace=&quot;android:appComponentFactory&quot;\r\n android:appComponentFactory=&quot;android.support.v4.app.CoreComponentFactory&quot;`\r\n\r\nbelow lines inside gradle.properties file\r\n\r\n`android.useAndroidX=true\r\nandroid.enableJetifier=true`\r\n\r\nRebuild your project.\r\n\r\n\r\n\r\n","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>I added below lines inside <code>&lt;application&gt;</code> tag</p>\n\n<p><code>tools:replace=\"android:appComponentFactory\"\n android:appComponentFactory=\"android.support.v4.app.CoreComponentFactory\"</code></p>\n\n<p>below lines inside gradle.properties file</p>\n\n<p><code>android.useAndroidX=true\nandroid.enableJetifier=true</code></p>\n\n<p>Rebuild your project.</p>\n"},{"tags":[],"owner":{"account_id":17486299,"reputation":49,"user_id":12679258,"display_name":"Nomuoja Oghenemaro"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1583345557,"creation_date":1583345557,"answer_id":60532298,"question_id":53268865,"body_markdown":"migrate to android x  \r\n\r\n add below lines inside &lt;application&gt; tag\r\n\r\n        tools:replace=&quot;android:appComponentFactory&quot;\r\n        android:appComponentFactory=&quot;android.support.v4.app.CoreComponentFactory&quot;\r\n \r\n then also add below lines inside gradle.properties file\r\n\r\n      android.useAndroidX=true\r\n      android.enableJetifier=true\r\n\r\nRebuild your project.","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>migrate to android x  </p>\n\n<p>add below lines inside  tag</p>\n\n<pre><code>    tools:replace=\"android:appComponentFactory\"\n    android:appComponentFactory=\"android.support.v4.app.CoreComponentFactory\"\n</code></pre>\n\n<p>then also add below lines inside gradle.properties file</p>\n\n<pre><code>  android.useAndroidX=true\n  android.enableJetifier=true\n</code></pre>\n\n<p>Rebuild your project.</p>\n"},{"tags":[],"owner":{"account_id":16776905,"reputation":351,"user_id":12127966,"display_name":"ilidiocn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627806477,"creation_date":1627806477,"answer_id":68608702,"question_id":53268865,"body_markdown":"Just configure your manifest application tag this way\r\n \r\n\r\n    &lt;application\r\n            android:fullBackupContent=&quot;true&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            tools:targetApi=&quot;m&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Media&quot;&gt;","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>Just configure your manifest application tag this way</p>\n<pre><code>&lt;application\n        android:fullBackupContent=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:targetApi=&quot;m&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Media&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11404798,"reputation":12520,"user_id":8360561,"accept_rate":58,"display_name":"Agung Laksana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633400663,"creation_date":1633400193,"answer_id":69444203,"question_id":53268865,"body_markdown":"in my case I have problem with\r\n\r\n    tools:replace=&quot;android:usesCleartextTraffic&quot;\r\n\r\nI have already use AndroidX, I have already have these properties in gradle.properties\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nthe problem is I forget to set the value to be `true` (or it can be `false`, depends on your case)\r\n\r\n    &lt;application\r\n            android:label=&quot;myApp&quot;\r\n            tools:replace=&quot;android:usesCleartextTraffic&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;&gt; // I forget this line","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>in my case I have problem with</p>\n<pre><code>tools:replace=&quot;android:usesCleartextTraffic&quot;\n</code></pre>\n<p>I have already use AndroidX, I have already have these properties in gradle.properties</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>the problem is I forget to set the value to be <code>true</code> (or it can be <code>false</code>, depends on your case)</p>\n<pre><code>&lt;application\n        android:label=&quot;myApp&quot;\n        tools:replace=&quot;android:usesCleartextTraffic&quot;\n        android:usesCleartextTraffic=&quot;true&quot;&gt; // I forget this line\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19434472,"reputation":86,"user_id":14214224,"display_name":"Hassan Anwar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648703891,"creation_date":1648703891,"answer_id":71687210,"question_id":53268865,"body_markdown":"**In build.gradle**\r\n\r\n    \r\n    //noinspection GradleCompatible\r\n    implementation &#39;com.android.support:design:28.0.0&#39;\r\n\r\n**In gridle.properties**\r\nadd following line\r\n    \r\n    android.enableJetifier=true\r\n\r\n**In AndroidMenifest.xml**\r\nin &lt;menifest ...\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    \r\nand in &lt;application ...\r\nadd following attributes\r\n\r\n    tools:replace=&quot;android:appComponentFactory&quot;\r\n            android:appComponentFactory=&quot;android.support.v4.app.CoreComponentFactory&quot;\r\n            tools:targetApi=&quot;p&quot;","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p><strong>In build.gradle</strong></p>\n<pre><code>//noinspection GradleCompatible\nimplementation 'com.android.support:design:28.0.0'\n</code></pre>\n<p><strong>In gridle.properties</strong>\nadd following line</p>\n<pre><code>android.enableJetifier=true\n</code></pre>\n<p><strong>In AndroidMenifest.xml</strong>\nin &lt;menifest ...</p>\n<pre><code>xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n</code></pre>\n<p>and in &lt;application ...\nadd following attributes</p>\n<pre><code>tools:replace=&quot;android:appComponentFactory&quot;\n        android:appComponentFactory=&quot;android.support.v4.app.CoreComponentFactory&quot;\n        tools:targetApi=&quot;p&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22136997,"reputation":1,"user_id":16387583,"display_name":"user16387583"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657377130,"creation_date":1657377130,"answer_id":72922206,"question_id":53268865,"body_markdown":"source of these errors for me was adding v4 design support library for TabLayout.\r\n\r\nthread https://stackoverflow.com/questions/52135251/manifest-merger-fails-for-appcomponentfactory/53594162#53594162 helped,\r\n\r\nafter setting:\r\n```\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=false\r\n```\r\nI faced issues with tools name space.\r\nProblem was, in manifest I had ```tools:replace=&quot;android:appComponentFactory&quot;``` but adding ```\r\nandroid:appComponentFactory=&quot;androidx&quot; ``` resolved at-least manifest merge errors.\r\n\r\nHowever when tried to link setup TabLayout with ViewPager using, it seems pager needs to be ```android.support.v4.view.ViewPager``` but i got ```androidx.viewpager.widget.ViewPager```\r\n\r\n```\r\n        //attach pager adapter\r\n        SectionPagerAdapter pagerAdapter = new SectionPagerAdapter(getSupportFragmentManager());\r\n        ViewPager pager = (ViewPager)findViewById(R.id.pager);\r\n        pager.setAdapter(pagerAdapter);\r\n\r\n        //attach viewpager with tablayout\r\n        TabLayout tabs = (TabLayout) findViewById(R.id.tabs);\r\n        tabs.setupWithViewPager(pager);\r\n```\r\n\r\n ","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>source of these errors for me was adding v4 design support library for TabLayout.</p>\n<p>thread <a href=\"https://stackoverflow.com/questions/52135251/manifest-merger-fails-for-appcomponentfactory/53594162#53594162\">Manifest Merger fails for appComponentFactory</a> helped,</p>\n<p>after setting:</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=false\n</code></pre>\n<p>I faced issues with tools name space.\nProblem was, in manifest I had <code>tools:replace=&quot;android:appComponentFactory&quot;</code> but adding <code>android:appComponentFactory=&quot;androidx&quot;</code> resolved at-least manifest merge errors.</p>\n<p>However when tried to link setup TabLayout with ViewPager using, it seems pager needs to be <code>android.support.v4.view.ViewPager</code> but i got <code>androidx.viewpager.widget.ViewPager</code></p>\n<pre><code>        //attach pager adapter\n        SectionPagerAdapter pagerAdapter = new SectionPagerAdapter(getSupportFragmentManager());\n        ViewPager pager = (ViewPager)findViewById(R.id.pager);\n        pager.setAdapter(pagerAdapter);\n\n        //attach viewpager with tablayout\n        TabLayout tabs = (TabLayout) findViewById(R.id.tabs);\n        tabs.setupWithViewPager(pager);\n</code></pre>\n"}],"owner":{"account_id":2301616,"reputation":6714,"user_id":2021812,"accept_rate":52,"display_name":"Malwinder Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107827,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"answer_count":13,"score":85,"last_activity_date":1657377130,"creation_date":1542050991,"question_id":53268865,"body_markdown":"I have tried many solutions on this website but still, the problem is not solved. The issue is due to Android X library. When I added Android X, this issue was resolved but it opened up new issue. How to fix this issue?\r\n\r\nEarlier this error was coming:\r\n\r\n    Manifest merger failed : Attribute application@appComponentFactory value=(android.support.v4.app.CoreComponentFactory) from [com.android.support:support-compat:28.0.0] AndroidManifest.xml:22:18-91\r\n\tis also present at [androidx.core:core:1.0.0] AndroidManifest.xml:22:18-86 value=(androidx.core.app.CoreComponentFactory).\r\n\tSuggestion: add &#39;tools:replace=&quot;android:appComponentFactory&quot;&#39; to &lt;application&gt; element at AndroidManifest.xml:19:5-142:19 to override.\r\n\r\nAfter I added `tools:replace=&quot;android:appComponentFactory&quot;`, this error is came:\r\n\r\n     java.lang.RuntimeException: Manifest merger failed with multiple errors, see logs\r\n    at com.android.builder.core.AndroidBuilder.mergeManifestsForApplication(AndroidBuilder.java:540) \t\r\n    at com.android.build.gradle.tasks.MergeManifests.doFullTaskAction(MergeManifests.java:173)\r\n\r\nMerging Error (in Android Manifest):\r\n\r\n&gt; Error: tools:replace specified at line:2 for attribute\r\n&gt; android:appComponentFactory, but no new value specified app main\r\n&gt; manifest (this file), line 1\r\n\r\nManifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest\r\n        package=&quot;com.example&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        tools:replace=&quot;allowBackup, android:appComponentFactory&quot;\r\n        android:allowBackup=&quot;false&quot;&gt;\r\n    \r\n        ...\r\n\r\n        &lt;application\r\n            android:name=&quot;com.example&quot;\r\n            android:icon=&quot;@mipmap/icon&quot;\r\n            android:debuggable=&quot;true&quot;\r\n            android:hardwareAccelerated=&quot;false&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;\r\n            android:allowBackup=&quot;false&quot;\r\n            tools:ignore=&quot;GoogleAppIndexingWarning,HardcodedDebugMode&quot;&gt;\r\n           ...\r\n","title":"Android X: tools:replace specified at line: for attribute, but no new value specified","body":"<p>I have tried many solutions on this website but still, the problem is not solved. The issue is due to Android X library. When I added Android X, this issue was resolved but it opened up new issue. How to fix this issue?</p>\n\n<p>Earlier this error was coming:</p>\n\n<pre><code>Manifest merger failed : Attribute application@appComponentFactory value=(android.support.v4.app.CoreComponentFactory) from [com.android.support:support-compat:28.0.0] AndroidManifest.xml:22:18-91\nis also present at [androidx.core:core:1.0.0] AndroidManifest.xml:22:18-86 value=(androidx.core.app.CoreComponentFactory).\nSuggestion: add 'tools:replace=\"android:appComponentFactory\"' to &lt;application&gt; element at AndroidManifest.xml:19:5-142:19 to override.\n</code></pre>\n\n<p>After I added <code>tools:replace=\"android:appComponentFactory\"</code>, this error is came:</p>\n\n<pre><code> java.lang.RuntimeException: Manifest merger failed with multiple errors, see logs\nat com.android.builder.core.AndroidBuilder.mergeManifestsForApplication(AndroidBuilder.java:540)    \nat com.android.build.gradle.tasks.MergeManifests.doFullTaskAction(MergeManifests.java:173)\n</code></pre>\n\n<p>Merging Error (in Android Manifest):</p>\n\n<blockquote>\n  <p>Error: tools:replace specified at line:2 for attribute\n  android:appComponentFactory, but no new value specified app main\n  manifest (this file), line 1</p>\n</blockquote>\n\n<p>Manifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest\n    package=\"com.example\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:replace=\"allowBackup, android:appComponentFactory\"\n    android:allowBackup=\"false\"&gt;\n\n    ...\n\n    &lt;application\n        android:name=\"com.example\"\n        android:icon=\"@mipmap/icon\"\n        android:debuggable=\"true\"\n        android:hardwareAccelerated=\"false\"\n        android:largeHeap=\"true\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"\n        android:allowBackup=\"false\"\n        tools:ignore=\"GoogleAppIndexingWarning,HardcodedDebugMode\"&gt;\n       ...\n</code></pre>\n"},{"tags":["java","sqlite","jdbc","sqlitejdbc"],"comments":[{"owner":{"account_id":25108843,"reputation":369,"user_id":18958752,"display_name":"Anonymous"},"score":0,"creation_date":1657081234,"post_id":72870080,"comment_id":128721695,"body_markdown":"I reckon you saw this already: https://sqlite.org/backup.html … there is also C code as an example how to use the API for your use case.","body":"I reckon you saw this already: <a href=\"https://sqlite.org/backup.html\" rel=\"nofollow noreferrer\">sqlite.org/backup.html</a> … there is also C code as an example how to use the API for your use case."},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1657298265,"post_id":72870080,"comment_id":128785114,"body_markdown":"Dear @Swastik, &#171;I tried using **restore** command but even that didn&#39;t work&#187; — Could you provide more details on the result? Was there an error? If so, could you please provide the error-related details (message, etc.)?","body":"Dear @Swastik, &#171;I tried using <b>restore</b> command but even that didn&#39;t work&#187; — Could you provide more details on the result? Was there an error? If so, could you please provide the error-related details (message, etc.)?"},{"owner":{"account_id":15613239,"reputation":146,"user_id":11264031,"display_name":"Swastik"},"score":0,"creation_date":1657300099,"post_id":72870080,"comment_id":128785680,"body_markdown":"There were no error!, but after running that **restore** command I checked heap memory usage using Jconsole and found that only 10MB-20MB increase in heap memory but **products.db** file which was restored had 330MB","body":"There were no error!, but after running that <b>restore</b> command I checked heap memory usage using Jconsole and found that only 10MB-20MB increase in heap memory but <b>products.db</b> file which was restored had 330MB"}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657303363,"creation_date":1657303363,"answer_id":72915321,"question_id":72870080,"body_markdown":"# Analysis\r\nCould not reproduce the problem.\r\n\r\nJust a guess. Please, make sure that the closeable resources (`java.sql.Connection`, `java.sql.Statement`, `java.sql.ResultSet`, etc.) are used and closed appropriately.\r\n\r\n# Working draft example program\r\n## Maven project (`pom.xml`)\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;3.36.0.3&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n## `Program` class\r\nFor the first run, please, apply the following changes:\r\n\r\n* Uncomment the `forceSeed()` method call.\r\n* Comment the `restore()` method call.\r\n\r\nAfterwards, for the subsequent runs, please, undo these changes.\r\n\r\n```java\r\npackage info.brunov.stackoverflow.question72870080;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic final class Program {\r\n    public static void main(final String[] args) throws SQLException {\r\n        try (\r\n            final Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite::memory:&quot;);\r\n        ) {\r\n            // NOTE: Uncomment the below line for the first run:\r\n            // forceSeed(connection);\r\n            // NOTE: Comment the below line for the first run:\r\n            restore(connection);\r\n            printPersons(connection);\r\n            backup(connection);\r\n        }\r\n    }\r\n\r\n    private static void forceSeed(final Connection connection) throws SQLException {\r\n        try (final Statement statement = connection.createStatement()) {\r\n            statement.executeUpdate(&quot;DROP TABLE IF EXISTS person&quot;);\r\n            statement.executeUpdate(&quot;CREATE TABLE person (id integer, name string)&quot;);\r\n            statement.executeUpdate(&quot;INSERT INTO person VALUES(1, &#39;First&#39;)&quot;);\r\n            statement.executeUpdate(&quot;INSERT INTO person VALUES(2, &#39;Second&#39;)&quot;);\r\n            statement.executeUpdate(&quot;INSERT INTO person VALUES(3, &#39;Third&#39;)&quot;);\r\n        }\r\n    }\r\n\r\n    private static void printPersons(final Connection connection) throws SQLException {\r\n        try (\r\n            final Statement statement = connection.createStatement();\r\n            final ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM person&quot;);\r\n        ) {\r\n            while (resultSet.next()) {\r\n                System.out.println(\r\n                    String.format(\r\n                        &quot;Person: ID: %d, Name: %s.&quot;,\r\n                        resultSet.getInt(&quot;id&quot;),\r\n                        resultSet.getString(&quot;name&quot;)\r\n                    )\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void backup(final Connection connection) throws SQLException {\r\n        try (final Statement statement = connection.createStatement()) {\r\n            statement.executeUpdate(&quot;BACKUP TO backup.db&quot;);\r\n        }\r\n    }\r\n\r\n    private static void restore(final Connection connection) throws SQLException {\r\n        try (final Statement statement = connection.createStatement()) {\r\n            statement.executeUpdate(&quot;RESTORE FROM backup.db&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Program output\r\n```\r\nPerson: ID: 1, Name: First.\r\nPerson: ID: 2, Name: Second.\r\nPerson: ID: 3, Name: Third.\r\n```\r\n","title":"In SQLite how to backup database from disk into memory using JDBC driver","body":"<h1>Analysis</h1>\n<p>Could not reproduce the problem.</p>\n<p>Just a guess. Please, make sure that the closeable resources (<code>java.sql.Connection</code>, <code>java.sql.Statement</code>, <code>java.sql.ResultSet</code>, etc.) are used and closed appropriately.</p>\n<h1>Working draft example program</h1>\n<h2>Maven project (<code>pom.xml</code>)</h2>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n    &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;3.36.0.3&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2><code>Program</code> class</h2>\n<p>For the first run, please, apply the following changes:</p>\n<ul>\n<li>Uncomment the <code>forceSeed()</code> method call.</li>\n<li>Comment the <code>restore()</code> method call.</li>\n</ul>\n<p>Afterwards, for the subsequent runs, please, undo these changes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package info.brunov.stackoverflow.question72870080;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic final class Program {\n    public static void main(final String[] args) throws SQLException {\n        try (\n            final Connection connection = DriverManager.getConnection(&quot;jdbc:sqlite::memory:&quot;);\n        ) {\n            // NOTE: Uncomment the below line for the first run:\n            // forceSeed(connection);\n            // NOTE: Comment the below line for the first run:\n            restore(connection);\n            printPersons(connection);\n            backup(connection);\n        }\n    }\n\n    private static void forceSeed(final Connection connection) throws SQLException {\n        try (final Statement statement = connection.createStatement()) {\n            statement.executeUpdate(&quot;DROP TABLE IF EXISTS person&quot;);\n            statement.executeUpdate(&quot;CREATE TABLE person (id integer, name string)&quot;);\n            statement.executeUpdate(&quot;INSERT INTO person VALUES(1, 'First')&quot;);\n            statement.executeUpdate(&quot;INSERT INTO person VALUES(2, 'Second')&quot;);\n            statement.executeUpdate(&quot;INSERT INTO person VALUES(3, 'Third')&quot;);\n        }\n    }\n\n    private static void printPersons(final Connection connection) throws SQLException {\n        try (\n            final Statement statement = connection.createStatement();\n            final ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM person&quot;);\n        ) {\n            while (resultSet.next()) {\n                System.out.println(\n                    String.format(\n                        &quot;Person: ID: %d, Name: %s.&quot;,\n                        resultSet.getInt(&quot;id&quot;),\n                        resultSet.getString(&quot;name&quot;)\n                    )\n                );\n            }\n        }\n    }\n\n    private static void backup(final Connection connection) throws SQLException {\n        try (final Statement statement = connection.createStatement()) {\n            statement.executeUpdate(&quot;BACKUP TO backup.db&quot;);\n        }\n    }\n\n    private static void restore(final Connection connection) throws SQLException {\n        try (final Statement statement = connection.createStatement()) {\n            statement.executeUpdate(&quot;RESTORE FROM backup.db&quot;);\n        }\n    }\n}\n</code></pre>\n<h2>Program output</h2>\n<pre><code>Person: ID: 1, Name: First.\nPerson: ID: 2, Name: Second.\nPerson: ID: 3, Name: Third.\n</code></pre>\n"}],"owner":{"account_id":15613239,"reputation":146,"user_id":11264031,"display_name":"Swastik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72915321,"answer_count":1,"score":0,"last_activity_date":1657376297,"creation_date":1657026841,"question_id":72870080,"body_markdown":"I wanted to load SQLite database from disk to memory and I&#39;m using JDBC driver, but I couldn&#39;t find any proper method in Java to do this.\r\n\r\nJDBC Driver:\r\n\r\n    \timplementation group: &#39;org.xerial&#39;, name: &#39;sqlite-jdbc&#39;, version: &#39;3.36.0.3&#39;\r\n\r\n\r\nI found that [here][1], In python we can use below code to do that\r\n\r\n    import sqlite3\r\n    \r\n    source = sqlite3.connect(&#39;existing_db.db&#39;)\r\n    dest = sqlite3.connect(&#39;:memory:&#39;)\r\n    source.backup(dest)\r\n\r\nIs there any similar approach in Java also ?\r\n\r\n\r\n# Update - 1\r\n\r\nI tried using **restore** command but even that didn&#39;t work\r\n\r\n    Connection connection = \r\n    DriverManager.getConnection(&quot;jdbc:sqlite:file:prod?mode=memory&amp;cache=shared&quot;, config.toProperties());\r\n    Statement statement = connection.createStatement();\r\n    statement.executeUpdate(&quot;restore from products.db&quot;);\r\n\r\n\r\n# Update - 2\r\n(In response to [Answer](https://stackoverflow.com/a/72915321) by @Sergey Vyacheslavovich Brunov)\r\n\r\nI&#39;m attaching the code I used and it&#39;s output. If we see the Non-Heap Memory(Native Memory) usage there is no much increase, but also I was able to print the number of entries loaded (Output Section).\r\n\r\nNow where are records getting loaded? Not able to track it\r\n\r\n    package com.example.sqlite.service;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.stereotype.Service;\r\n    import org.sqlite.SQLiteConfig;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    \r\n    @Service\r\n    @Slf4j\r\n    public class CacheService {\r\n    \r\n      private static Connection globalConnection = null;\r\n    \r\n      public static Connection getConnection() {\r\n        return globalConnection;\r\n      }\r\n    \r\n      public String buildCache() {\r\n        try {\r\n          SQLiteConfig config = new SQLiteConfig();\r\n          config.setPragma(SQLiteConfig.Pragma.JOURNAL_MODE, &quot;wal&quot;);\r\n          config.setPragma(SQLiteConfig.Pragma.SYNCHRONOUS, &quot;normal&quot;);\r\n          config.setPragma(SQLiteConfig.Pragma.TEMP_STORE, &quot;memory&quot;);\r\n    \r\n          globalConnection = DriverManager.getConnection(&quot;jdbc:sqlite:file::memory:?cache=shared&quot;,\r\n              config.toProperties());\r\n          try (\r\n              Connection connection = DriverManager.getConnection(\r\n              &quot;jdbc:sqlite:file::memory:?cache=shared&quot;, config.toProperties());\r\n              Statement statement = connection.createStatement()\r\n          ) {\r\n            statement.executeUpdate(&quot;restore from /Users/swastikn/Desktop/products.db&quot;);\r\n            ResultSet resultSet =\r\n                statement.executeQuery(&quot;SELECT COUNT(*) AS count FROM products_1&quot;);\r\n            log.info(&quot;Successfully loaded {} entries into Memory&quot;, resultSet.getInt(&quot;count&quot;));\r\n            resultSet.close();\r\n            return &quot;SUCCESS&quot;;\r\n          }\r\n    \r\n        } catch (Exception e) {\r\n          log.error(&quot;Error while building cache: {}&quot;, e.getMessage());\r\n        }\r\n        return &quot;ERROR&quot;;\r\n      }\r\n    \r\n    }\r\n\r\n\r\n## Output\r\n\r\n    2022-07-09 13:23:10.741  INFO 2591 --- [nio-8081-exec-1] com.example.sqlite.service.CacheService  : Successfully loaded 584524 entries into Memory\r\n    \r\n\r\n**Non-Heap (Native Memory) Usage**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3850022/how-to-load-existing-db-file-to-memory-in-python-sqlite3\r\n  [2]: https://i.stack.imgur.com/cSZh3.png","title":"In SQLite how to backup database from disk into memory using JDBC driver","body":"<p>I wanted to load SQLite database from disk to memory and I'm using JDBC driver, but I couldn't find any proper method in Java to do this.</p>\n<p>JDBC Driver:</p>\n<pre><code>    implementation group: 'org.xerial', name: 'sqlite-jdbc', version: '3.36.0.3'\n</code></pre>\n<p>I found that <a href=\"https://stackoverflow.com/questions/3850022/how-to-load-existing-db-file-to-memory-in-python-sqlite3\">here</a>, In python we can use below code to do that</p>\n<pre><code>import sqlite3\n\nsource = sqlite3.connect('existing_db.db')\ndest = sqlite3.connect(':memory:')\nsource.backup(dest)\n</code></pre>\n<p>Is there any similar approach in Java also ?</p>\n<h1>Update - 1</h1>\n<p>I tried using <strong>restore</strong> command but even that didn't work</p>\n<pre><code>Connection connection = \nDriverManager.getConnection(&quot;jdbc:sqlite:file:prod?mode=memory&amp;cache=shared&quot;, config.toProperties());\nStatement statement = connection.createStatement();\nstatement.executeUpdate(&quot;restore from products.db&quot;);\n</code></pre>\n<h1>Update - 2</h1>\n<p>(In response to <a href=\"https://stackoverflow.com/a/72915321\">Answer</a> by @Sergey Vyacheslavovich Brunov)</p>\n<p>I'm attaching the code I used and it's output. If we see the Non-Heap Memory(Native Memory) usage there is no much increase, but also I was able to print the number of entries loaded (Output Section).</p>\n<p>Now where are records getting loaded? Not able to track it</p>\n<pre><code>package com.example.sqlite.service;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Service;\nimport org.sqlite.SQLiteConfig;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\n@Service\n@Slf4j\npublic class CacheService {\n\n  private static Connection globalConnection = null;\n\n  public static Connection getConnection() {\n    return globalConnection;\n  }\n\n  public String buildCache() {\n    try {\n      SQLiteConfig config = new SQLiteConfig();\n      config.setPragma(SQLiteConfig.Pragma.JOURNAL_MODE, &quot;wal&quot;);\n      config.setPragma(SQLiteConfig.Pragma.SYNCHRONOUS, &quot;normal&quot;);\n      config.setPragma(SQLiteConfig.Pragma.TEMP_STORE, &quot;memory&quot;);\n\n      globalConnection = DriverManager.getConnection(&quot;jdbc:sqlite:file::memory:?cache=shared&quot;,\n          config.toProperties());\n      try (\n          Connection connection = DriverManager.getConnection(\n          &quot;jdbc:sqlite:file::memory:?cache=shared&quot;, config.toProperties());\n          Statement statement = connection.createStatement()\n      ) {\n        statement.executeUpdate(&quot;restore from /Users/swastikn/Desktop/products.db&quot;);\n        ResultSet resultSet =\n            statement.executeQuery(&quot;SELECT COUNT(*) AS count FROM products_1&quot;);\n        log.info(&quot;Successfully loaded {} entries into Memory&quot;, resultSet.getInt(&quot;count&quot;));\n        resultSet.close();\n        return &quot;SUCCESS&quot;;\n      }\n\n    } catch (Exception e) {\n      log.error(&quot;Error while building cache: {}&quot;, e.getMessage());\n    }\n    return &quot;ERROR&quot;;\n  }\n\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>2022-07-09 13:23:10.741  INFO 2591 --- [nio-8081-exec-1] com.example.sqlite.service.CacheService  : Successfully loaded 584524 entries into Memory\n</code></pre>\n<p><strong>Non-Heap (Native Memory) Usage</strong>\n<a href=\"https://i.stack.imgur.com/cSZh3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cSZh3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","image","swing","drag-and-drop","jpanel"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1372405153,"post_id":17359566,"comment_id":25191607,"body_markdown":"*&quot;Please explain step by step&quot;*  Please consult tutorials that do just that.  SO is a Q&amp;A site.","body":"<i>&quot;Please explain step by step&quot;</i>  Please consult tutorials that do just that.  SO is a Q&amp;A site."},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1372405209,"post_id":17359566,"comment_id":25191625,"body_markdown":"Also please avoid writing **i** when it&#39;s you (**I**).","body":"Also please avoid writing <b>i</b> when it&#39;s you (<b>I</b>)."},{"owner":{"account_id":1512863,"reputation":431,"user_id":1414539,"display_name":"Praveen Kumar A X"},"score":0,"creation_date":1372405611,"post_id":17359566,"comment_id":25191782,"body_markdown":"Please refer to this link. [Is it possible to have “movable”/“draggable” components like JButtons, JTextFields in a JFrame?][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/5052141/is-it-possible-to-have-movable-draggable-components-like-jbuttons-jtextfiel\r\n\r\nHope this helps for you.","body":"Please refer to this link. [Is it possible to have “movable”/“draggable” components like JButtons, JTextFields in a JFrame?][1]        [1]: <a href=\"http://stackoverflow.com/questions/5052141/is-it-possible-to-have-movable-draggable-components-like-jbuttons-jtextfiel\" title=\"is it possible to have movable draggable components like jbuttons jtextfiel\">stackoverflow.com/questions/5052141/&hellip;</a>    Hope this helps for you."},{"owner":{"account_id":1995289,"reputation":7584,"user_id":1788390,"accept_rate":25,"display_name":"Naveen Kumar Alone"},"score":0,"creation_date":1372405672,"post_id":17359566,"comment_id":25191803,"body_markdown":"i think my code helpful to u, refer this doc. http://docs.oracle.com/javase/tutorial/uiswing/dnd/intro.html","body":"i think my code helpful to u, refer this doc. <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/dnd/intro.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/dnd/intro.html</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1372407285,"post_id":17359566,"comment_id":25192534,"body_markdown":"You could take a look at [this example](http://stackoverflow.com/questions/16438084/move-image-from-one-panel-to-another/16439731#16439731)","body":"You could take a look at <a href=\"http://stackoverflow.com/questions/16438084/move-image-from-one-panel-to-another/16439731#16439731\">this example</a>"}],"answers":[{"tags":[],"owner":{"account_id":1995289,"reputation":7584,"user_id":1788390,"accept_rate":25,"display_name":"Naveen Kumar Alone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372405580,"creation_date":1372405580,"answer_id":17359755,"question_id":17359566,"body_markdown":"\r\n 1. There&#39;s probably any number of ways to achieve what you want. You could use the glass pane or JXLayer or you could \r\n 2. stop treating the two panels as separate elements and more like they were just windows into a large virtual space.\r\n 3. This example basically treats the parent component as the &quot;virtual space&quot; into which the two image panes are windows.\r\n 4. They both share the same image and image location details. They, individual, convert the image location (which is in virtual coordinates) to local coordinates and draw as much of the image as would appear on them...\r\n 5. Mouse control is maintained by the parent. This greatly simplifies the process, as it can notify both the panels simultaneously\r\n\r\nand the code is...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Image;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n    \r\n    public class CrossImage {\r\n    \r\n        public static void main(String[] args) {\r\n            new CrossImage();\r\n        }\r\n    \r\n        public CrossImage() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n    \r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class TestPane extends JPanel {\r\n    \r\n            private BufferedImage img;\r\n            private ImagePane left;\r\n            private ImagePane right;\r\n            private Point imagePoint;\r\n    \r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(10, 10, 10, 10));\r\n                setLayout(new GridLayout(0, 2, 10, 10));\r\n                left = new ImagePane();\r\n                right = new ImagePane();\r\n                imagePoint = new Point(10, 10);\r\n                left.setImageLocation(imagePoint);\r\n                right.setImageLocation(imagePoint);\r\n                try {\r\n                    img = ImageIO.read(new File(&quot;Background.jpg&quot;));\r\n                    left.setImage(img);\r\n                    right.setImage(img);\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n                add(left);\r\n                add(right);\r\n    \r\n                MouseAdapter mouseHandler = new MouseAdapter() {\r\n                    private Point delta;\r\n    \r\n                    @Override\r\n                    public void mousePressed(MouseEvent e) {\r\n                        Point origin = e.getPoint();\r\n                        Rectangle bounds = new Rectangle(imagePoint, new Dimension(img.getWidth(), img.getHeight()));\r\n                        if (bounds.contains(origin)) {\r\n                            delta = new Point(origin.x - imagePoint.x, origin.y - imagePoint.y);\r\n                        }\r\n                    }\r\n    \r\n                    @Override\r\n                    public void mouseDragged(MouseEvent e) {\r\n                        if (delta != null) {\r\n                            imagePoint = e.getPoint();\r\n                            imagePoint.translate(-delta.x, -delta.y);\r\n                            left.setImageLocation(imagePoint);\r\n                            right.setImageLocation(imagePoint);\r\n                        }\r\n                    }\r\n    \r\n                    @Override\r\n                    public void mouseReleased(MouseEvent e) {\r\n                        delta = null;\r\n                    }\r\n                };\r\n    \r\n                addMouseListener(mouseHandler);\r\n                addMouseMotionListener(mouseHandler);\r\n            }\r\n        }\r\n    \r\n        public class ImagePane extends JPanel {\r\n    \r\n            private Image image;\r\n            private Point imageLocation;\r\n    \r\n            public ImagePane() {\r\n                setBorder(new LineBorder(Color.DARK_GRAY));\r\n            }\r\n    \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return image == null ? super.getPreferredSize() : new Dimension(image.getWidth(this), image.getHeight(this));\r\n            }\r\n    \r\n            public void setImage(Image image) {\r\n                this.image = image;\r\n                repaint();\r\n            }\r\n    \r\n            public void setImageLocation(Point imageLocation) {\r\n                this.imageLocation = imageLocation;\r\n                repaint();\r\n            }\r\n    \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (image != null &amp;&amp; imageLocation != null) {\r\n                    Point p = SwingUtilities.convertPoint(getParent(), imageLocation, this);\r\n                    g.drawImage(image, p.x, p.y, this);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to drag an image from one panel to other","body":"<ol>\n<li>There's probably any number of ways to achieve what you want. You could use the glass pane or JXLayer or you could </li>\n<li>stop treating the two panels as separate elements and more like they were just windows into a large virtual space.</li>\n<li>This example basically treats the parent component as the \"virtual space\" into which the two image panes are windows.</li>\n<li>They both share the same image and image location details. They, individual, convert the image location (which is in virtual coordinates) to local coordinates and draw as much of the image as would appear on them...</li>\n<li>Mouse control is maintained by the parent. This greatly simplifies the process, as it can notify both the panels simultaneously</li>\n</ol>\n\n<p>and the code is...</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.GridLayout;\nimport java.awt.Image;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\n\npublic class CrossImage {\n\n    public static void main(String[] args) {\n        new CrossImage();\n    }\n\n    public CrossImage() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage img;\n        private ImagePane left;\n        private ImagePane right;\n        private Point imagePoint;\n\n        public TestPane() {\n            setBorder(new EmptyBorder(10, 10, 10, 10));\n            setLayout(new GridLayout(0, 2, 10, 10));\n            left = new ImagePane();\n            right = new ImagePane();\n            imagePoint = new Point(10, 10);\n            left.setImageLocation(imagePoint);\n            right.setImageLocation(imagePoint);\n            try {\n                img = ImageIO.read(new File(\"Background.jpg\"));\n                left.setImage(img);\n                right.setImage(img);\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n            add(left);\n            add(right);\n\n            MouseAdapter mouseHandler = new MouseAdapter() {\n                private Point delta;\n\n                @Override\n                public void mousePressed(MouseEvent e) {\n                    Point origin = e.getPoint();\n                    Rectangle bounds = new Rectangle(imagePoint, new Dimension(img.getWidth(), img.getHeight()));\n                    if (bounds.contains(origin)) {\n                        delta = new Point(origin.x - imagePoint.x, origin.y - imagePoint.y);\n                    }\n                }\n\n                @Override\n                public void mouseDragged(MouseEvent e) {\n                    if (delta != null) {\n                        imagePoint = e.getPoint();\n                        imagePoint.translate(-delta.x, -delta.y);\n                        left.setImageLocation(imagePoint);\n                        right.setImageLocation(imagePoint);\n                    }\n                }\n\n                @Override\n                public void mouseReleased(MouseEvent e) {\n                    delta = null;\n                }\n            };\n\n            addMouseListener(mouseHandler);\n            addMouseMotionListener(mouseHandler);\n        }\n    }\n\n    public class ImagePane extends JPanel {\n\n        private Image image;\n        private Point imageLocation;\n\n        public ImagePane() {\n            setBorder(new LineBorder(Color.DARK_GRAY));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return image == null ? super.getPreferredSize() : new Dimension(image.getWidth(this), image.getHeight(this));\n        }\n\n        public void setImage(Image image) {\n            this.image = image;\n            repaint();\n        }\n\n        public void setImageLocation(Point imageLocation) {\n            this.imageLocation = imageLocation;\n            repaint();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (image != null &amp;&amp; imageLocation != null) {\n                Point p = SwingUtilities.convertPoint(getParent(), imageLocation, this);\n                g.drawImage(image, p.x, p.y, this);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1657375896,"creation_date":1372406089,"answer_id":17359895,"question_id":17359566,"body_markdown":"Quick example using pure java, `DragGestureListener`, `DropTargetAdapter`  and `TransferHandler` for DnD support of images on one panel to another:\r\n\r\nBefore any shape is clicked and dragged:\r\n\r\n![screenshot before any shapes are dragged onto the empty panel][1]\r\n\r\nafter green shape is selected and dragged onto the empty panel above:\r\n\r\n![screenshot of the green shape dragged onto the empty panel][2]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.Point;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.awt.dnd.DnDConstants;\r\n    import java.awt.dnd.DragGestureEvent;\r\n    import java.awt.dnd.DragGestureListener;\r\n    import java.awt.dnd.DragSource;\r\n    import java.awt.dnd.DropTarget;\r\n    import java.awt.dnd.DropTargetAdapter;\r\n    import java.awt.dnd.DropTargetDropEvent;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import javax.swing.Icon;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.TransferHandler;\r\n    import javax.swing.TransferHandler.TransferSupport;\r\n    import javax.swing.border.TitledBorder;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            createAndShowJFrame();\r\n        }\r\n    \r\n        public static void createAndShowJFrame() {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n                    JFrame frame = createJFrame();\r\n                    frame.setVisible(true);\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private static JFrame createJFrame() {\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n            frame.setTitle(&quot;Test&quot;);\r\n    \r\n            JPanel panel = createEmptyJPanel();\r\n            new MyDropTargetListener(panel);//this must be done or we wont be able to drop any image onto the empty panel\r\n    \r\n            frame.add(panel, BorderLayout.CENTER);\r\n    \r\n            try {\r\n                frame.add(createJLabelPanel(), BorderLayout.SOUTH);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n    \r\n            frame.pack();\r\n    \r\n            return frame;\r\n        }\r\n    \r\n        private static JPanel createEmptyJPanel() {\r\n            final JPanel p = new JPanel() {\r\n                @Override\r\n                public Dimension getPreferredSize() {\r\n                    return new Dimension(300, 300);\r\n                }\r\n            };\r\n            p.setBorder(new TitledBorder(&quot;Drag Image onto this panel&quot;));\r\n    \r\n            TransferHandler dnd = new TransferHandler() {\r\n                @Override\r\n                public boolean canImport(TransferSupport support) {\r\n                    if (!support.isDrop()) {\r\n                        return false;\r\n                    }\r\n                    //only Strings\r\n                    if (!support.isDataFlavorSupported(DataFlavor.imageFlavor)) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public boolean importData(TransferSupport support) {\r\n                    if (!canImport(support)) {\r\n                        return false;\r\n                    }\r\n    \r\n                    Transferable tansferable = support.getTransferable();\r\n                    Icon ico;\r\n                    try {\r\n                        ico = (Icon) tansferable.getTransferData(DataFlavor.imageFlavor);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        return false;\r\n                    }\r\n                    p.add(new JLabel(ico));\r\n                    return true;\r\n                }\r\n            };\r\n    \r\n            p.setTransferHandler(dnd);\r\n    \r\n            return p;\r\n        }\r\n    \r\n        private static JPanel createJLabelPanel() throws Exception {\r\n            JPanel panel = new JPanel();\r\n            panel.setBorder(new TitledBorder(&quot;Drag Image from here to Panel above&quot;));\r\n    \r\n            JLabel label1 = new JLabel(new ImageIcon(new URL(&quot;https://i.stack.imgur.com/gJmeJ.png&quot;)));\r\n            JLabel label2 = new JLabel(new ImageIcon(new URL(&quot;https://i.stack.imgur.com/8BGfi.png&quot;)));\r\n            JLabel label3 = new JLabel(new ImageIcon(new URL(&quot;https://i.stack.imgur.com/1lgtq.png&quot;)));\r\n    \r\n            MyDragGestureListener dlistener = new MyDragGestureListener();\r\n            DragSource ds = new DragSource();\r\n            ds.createDefaultDragGestureRecognizer(label1, DnDConstants.ACTION_COPY, dlistener);\r\n    \r\n            ds.createDefaultDragGestureRecognizer(label2, DnDConstants.ACTION_COPY, dlistener);\r\n    \r\n            ds.createDefaultDragGestureRecognizer(label3, DnDConstants.ACTION_COPY, dlistener);\r\n    \r\n            panel.add(label1);\r\n            panel.add(label2);\r\n            panel.add(label3);\r\n            return panel;\r\n        }\r\n    }\r\n    \r\n    class MyDropTargetListener extends DropTargetAdapter {\r\n    \r\n        private DropTarget dropTarget;\r\n        private JPanel p;\r\n    \r\n        public MyDropTargetListener(JPanel panel) {\r\n            p = panel;\r\n            dropTarget = new DropTarget(panel, DnDConstants.ACTION_COPY, this, true, null);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void drop(DropTargetDropEvent event) {\r\n            try {\r\n                DropTarget test = (DropTarget) event.getSource();\r\n                Component ca = (Component) test.getComponent();\r\n                Point dropPoint = ca.getMousePosition();\r\n                Transferable tr = event.getTransferable();\r\n    \r\n                if (event.isDataFlavorSupported(DataFlavor.imageFlavor)) {\r\n                    Icon ico = (Icon) tr.getTransferData(DataFlavor.imageFlavor);\r\n    \r\n                    if (ico != null) {\r\n    \r\n                        p.add(new JLabel(ico));\r\n                        p.revalidate();\r\n                        p.repaint();\r\n                        event.dropComplete(true);\r\n                    }\r\n                } else {\r\n                    event.rejectDrop();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                event.rejectDrop();\r\n            }\r\n        }\r\n    }\r\n    \r\n    class MyDragGestureListener implements DragGestureListener {\r\n    \r\n        @Override\r\n        public void dragGestureRecognized(DragGestureEvent event) {\r\n            JLabel label = (JLabel) event.getComponent();\r\n            final Icon ico = label.getIcon();\r\n    \r\n    \r\n            Transferable transferable = new Transferable() {\r\n                @Override\r\n                public DataFlavor[] getTransferDataFlavors() {\r\n                    return new DataFlavor[]{DataFlavor.imageFlavor};\r\n                }\r\n    \r\n                @Override\r\n                public boolean isDataFlavorSupported(DataFlavor flavor) {\r\n                    if (!isDataFlavorSupported(flavor)) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException, IOException {\r\n                    return ico;\r\n                }\r\n            };\r\n            event.startDrag(null, transferable);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/t3XiJ.png\r\n  [2]: https://i.stack.imgur.com/ylgBN.png","title":"How to drag an image from one panel to other","body":"<p>Quick example using pure java, <code>DragGestureListener</code>, <code>DropTargetAdapter</code>  and <code>TransferHandler</code> for DnD support of images on one panel to another:</p>\n<p>Before any shape is clicked and dragged:</p>\n<p><img src=\"https://i.stack.imgur.com/t3XiJ.png\" alt=\"screenshot before any shapes are dragged onto the empty panel\" /></p>\n<p>after green shape is selected and dragged onto the empty panel above:</p>\n<p><img src=\"https://i.stack.imgur.com/ylgBN.png\" alt=\"screenshot of the green shape dragged onto the empty panel\" /></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Point;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.dnd.DnDConstants;\nimport java.awt.dnd.DragGestureEvent;\nimport java.awt.dnd.DragGestureListener;\nimport java.awt.dnd.DragSource;\nimport java.awt.dnd.DropTarget;\nimport java.awt.dnd.DropTargetAdapter;\nimport java.awt.dnd.DropTargetDropEvent;\nimport java.io.IOException;\nimport java.net.URL;\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.TransferHandler;\nimport javax.swing.TransferHandler.TransferSupport;\nimport javax.swing.border.TitledBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        createAndShowJFrame();\n    }\n\n    public static void createAndShowJFrame() {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n\n                JFrame frame = createJFrame();\n                frame.setVisible(true);\n\n            }\n        });\n    }\n\n    private static JFrame createJFrame() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        frame.setTitle(&quot;Test&quot;);\n\n        JPanel panel = createEmptyJPanel();\n        new MyDropTargetListener(panel);//this must be done or we wont be able to drop any image onto the empty panel\n\n        frame.add(panel, BorderLayout.CENTER);\n\n        try {\n            frame.add(createJLabelPanel(), BorderLayout.SOUTH);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n        frame.pack();\n\n        return frame;\n    }\n\n    private static JPanel createEmptyJPanel() {\n        final JPanel p = new JPanel() {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(300, 300);\n            }\n        };\n        p.setBorder(new TitledBorder(&quot;Drag Image onto this panel&quot;));\n\n        TransferHandler dnd = new TransferHandler() {\n            @Override\n            public boolean canImport(TransferSupport support) {\n                if (!support.isDrop()) {\n                    return false;\n                }\n                //only Strings\n                if (!support.isDataFlavorSupported(DataFlavor.imageFlavor)) {\n                    return false;\n                }\n                return true;\n            }\n\n            @Override\n            public boolean importData(TransferSupport support) {\n                if (!canImport(support)) {\n                    return false;\n                }\n\n                Transferable tansferable = support.getTransferable();\n                Icon ico;\n                try {\n                    ico = (Icon) tansferable.getTransferData(DataFlavor.imageFlavor);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                    return false;\n                }\n                p.add(new JLabel(ico));\n                return true;\n            }\n        };\n\n        p.setTransferHandler(dnd);\n\n        return p;\n    }\n\n    private static JPanel createJLabelPanel() throws Exception {\n        JPanel panel = new JPanel();\n        panel.setBorder(new TitledBorder(&quot;Drag Image from here to Panel above&quot;));\n\n        JLabel label1 = new JLabel(new ImageIcon(new URL(&quot;https://i.stack.imgur.com/gJmeJ.png&quot;)));\n        JLabel label2 = new JLabel(new ImageIcon(new URL(&quot;https://i.stack.imgur.com/8BGfi.png&quot;)));\n        JLabel label3 = new JLabel(new ImageIcon(new URL(&quot;https://i.stack.imgur.com/1lgtq.png&quot;)));\n\n        MyDragGestureListener dlistener = new MyDragGestureListener();\n        DragSource ds = new DragSource();\n        ds.createDefaultDragGestureRecognizer(label1, DnDConstants.ACTION_COPY, dlistener);\n\n        ds.createDefaultDragGestureRecognizer(label2, DnDConstants.ACTION_COPY, dlistener);\n\n        ds.createDefaultDragGestureRecognizer(label3, DnDConstants.ACTION_COPY, dlistener);\n\n        panel.add(label1);\n        panel.add(label2);\n        panel.add(label3);\n        return panel;\n    }\n}\n\nclass MyDropTargetListener extends DropTargetAdapter {\n\n    private DropTarget dropTarget;\n    private JPanel p;\n\n    public MyDropTargetListener(JPanel panel) {\n        p = panel;\n        dropTarget = new DropTarget(panel, DnDConstants.ACTION_COPY, this, true, null);\n\n    }\n\n    @Override\n    public void drop(DropTargetDropEvent event) {\n        try {\n            DropTarget test = (DropTarget) event.getSource();\n            Component ca = (Component) test.getComponent();\n            Point dropPoint = ca.getMousePosition();\n            Transferable tr = event.getTransferable();\n\n            if (event.isDataFlavorSupported(DataFlavor.imageFlavor)) {\n                Icon ico = (Icon) tr.getTransferData(DataFlavor.imageFlavor);\n\n                if (ico != null) {\n\n                    p.add(new JLabel(ico));\n                    p.revalidate();\n                    p.repaint();\n                    event.dropComplete(true);\n                }\n            } else {\n                event.rejectDrop();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            event.rejectDrop();\n        }\n    }\n}\n\nclass MyDragGestureListener implements DragGestureListener {\n\n    @Override\n    public void dragGestureRecognized(DragGestureEvent event) {\n        JLabel label = (JLabel) event.getComponent();\n        final Icon ico = label.getIcon();\n\n\n        Transferable transferable = new Transferable() {\n            @Override\n            public DataFlavor[] getTransferDataFlavors() {\n                return new DataFlavor[]{DataFlavor.imageFlavor};\n            }\n\n            @Override\n            public boolean isDataFlavorSupported(DataFlavor flavor) {\n                if (!isDataFlavorSupported(flavor)) {\n                    return false;\n                }\n                return true;\n            }\n\n            @Override\n            public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException, IOException {\n                return ico;\n            }\n        };\n        event.startDrag(null, transferable);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2980973,"reputation":419,"user_id":2530927,"accept_rate":50,"display_name":"Abilash Ravichandran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3684,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1372461058,"accepted_answer_id":17359895,"answer_count":2,"score":0,"last_activity_date":1657375896,"creation_date":1372404917,"question_id":17359566,"body_markdown":"I had created a frame and then panels in it. I had placed an image in one panel, now I need to drag that image to another panel. How could I do that. Please explain step by step as am a beginner.","title":"How to drag an image from one panel to other","body":"<p>I had created a frame and then panels in it. I had placed an image in one panel, now I need to drag that image to another panel. How could I do that. Please explain step by step as am a beginner.</p>\n"},{"tags":["java","android","nullpointerexception","dialog"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1657376210,"post_id":72922023,"comment_id":128798187,"body_markdown":"Why don&#39;t you just create and use the dialog where you need it instead of making it a class member?","body":"Why don&#39;t you just create and use the dialog where you need it instead of making it a class member?"},{"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"score":0,"creation_date":1657433339,"post_id":72922023,"comment_id":128806006,"body_markdown":"@TylerV I created the dialog locally previously, I got the same error. So I decided to instantiate it in `onCreate`. But again it is not working in that way.","body":"@TylerV I created the dialog locally previously, I got the same error. So I decided to instantiate it in <code>onCreate</code>. But again it is not working in that way."}],"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657375612,"creation_date":1657375612,"question_id":72922023,"body_markdown":"I have a `showImagePreviewDialog` function where I am calling dismissDialog which contains the code for dialog dismiss:\r\n\r\n```\r\n    private void showImagePreviewDialog(@Nullable final byte[] bitmapData) {\r\n        Bitmap bitmap = BitmapFactory.decodeByteArray(bitmapData, 0, bitmapData.length);\r\n        Matrix mat = new Matrix();\r\n        mat.postRotate(90);\r\n        bitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), mat, true);\r\n\r\n        ImageView imageView = (ImageView) dialog.findViewById(R.id.imv_photo_preview);\r\n        imageView.setImageBitmap(bitmap);\r\n\r\n        // Ok button listener\r\n        Button btn_ok = (Button) dialog.findViewById(R.id.btn_ok_photo_dialog);\r\n        btn_ok.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onOkPressed(bitmapData, false);\r\n            }\r\n        });\r\n        // Discard button listener\r\n        Button btn_discard = (Button) dialog.findViewById(R.id.btn_discard_photo_dialog);\r\n        btn_discard.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                dismissDialog();\r\n            }\r\n        });\r\n\r\n        // Show dialog\r\n        dialog.show();\r\n```\r\nHere is `dismissDialog` method:\r\n```\r\n    private void dismissDialog() {\r\n        dialog.dismiss();\r\n    }\r\n```\r\n\r\nI am initializing in the  acitivity `onCreate`:\r\n```\r\n    private Dialog dialog;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n       ....\r\n        dialog = new Dialog(this);\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(android.graphics.Color.TRANSPARENT));\r\n        // Set dialog view\r\n        dialog.setContentView(R.layout.display_preview);\r\n    }\r\n```\r\n\r\nis there any possibility if we go back from the activity and the activity resumes then dialog will become null ? I cannot figure out how this error occurs","title":"Android Dialog - Attempt to invoke virtual method &#39;void android.app.Dialog.dismiss()&#39; on a null object reference","body":"<p>I have a <code>showImagePreviewDialog</code> function where I am calling dismissDialog which contains the code for dialog dismiss:</p>\n<pre><code>    private void showImagePreviewDialog(@Nullable final byte[] bitmapData) {\n        Bitmap bitmap = BitmapFactory.decodeByteArray(bitmapData, 0, bitmapData.length);\n        Matrix mat = new Matrix();\n        mat.postRotate(90);\n        bitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), mat, true);\n\n        ImageView imageView = (ImageView) dialog.findViewById(R.id.imv_photo_preview);\n        imageView.setImageBitmap(bitmap);\n\n        // Ok button listener\n        Button btn_ok = (Button) dialog.findViewById(R.id.btn_ok_photo_dialog);\n        btn_ok.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                onOkPressed(bitmapData, false);\n            }\n        });\n        // Discard button listener\n        Button btn_discard = (Button) dialog.findViewById(R.id.btn_discard_photo_dialog);\n        btn_discard.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dismissDialog();\n            }\n        });\n\n        // Show dialog\n        dialog.show();\n</code></pre>\n<p>Here is <code>dismissDialog</code> method:</p>\n<pre><code>    private void dismissDialog() {\n        dialog.dismiss();\n    }\n</code></pre>\n<p>I am initializing in the  acitivity <code>onCreate</code>:</p>\n<pre><code>    private Dialog dialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n       ....\n        dialog = new Dialog(this);\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(android.graphics.Color.TRANSPARENT));\n        // Set dialog view\n        dialog.setContentView(R.layout.display_preview);\n    }\n</code></pre>\n<p>is there any possibility if we go back from the activity and the activity resumes then dialog will become null ? I cannot figure out how this error occurs</p>\n"},{"tags":["java","swing","jframe","jbutton"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1657373481,"post_id":72921607,"comment_id":128797655,"body_markdown":"1) `Don&#39;t use a null layout.` - Swing was designed to be used with layout managers. 2)  For your buttons to do anything you need to add an ActionListener to each button, so you really do need to create each button separately so you can add a different ActionListener to each button. 3) Don&#39;t keep creating new instances of the Font. A single Font object can be shared by all components.","body":"1) <code>Don&#39;t use a null layout.</code> - Swing was designed to be used with layout managers. 2)  For your buttons to do anything you need to add an ActionListener to each button, so you really do need to create each button separately so you can add a different ActionListener to each button. 3) Don&#39;t keep creating new instances of the Font. A single Font object can be shared by all components."}],"answers":[{"tags":[],"owner":{"account_id":25761706,"reputation":28,"user_id":19512521,"display_name":"da-Kai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657372592,"creation_date":1657372592,"answer_id":72921678,"question_id":72921607,"body_markdown":"you could try to outsource the button creation into a method like this\r\n\r\nNote: you might also have to add `addInternalFrame` as a parameter\r\n\r\n    private JButton createButton(String name, int x, int y){\r\n          JButton button = new JButton(name);\r\n          button.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\n          button.setBounds(x, y, 355, 155);\r\n          addInternalFrame.getContentPane().add(button);\r\n          return button;\r\n        }\r\n\r\nand create your buttons with it\r\n\r\n    JButton btnAddCar = createButton(&quot;Add Car&quot;, 5, 5);\r\n    JButton btnAddHybridCar = createButton(&quot;Add Hybrid Car&quot;, 5, 165);","title":"How to prevent duplication while creating multiple similar jButtons","body":"<p>you could try to outsource the button creation into a method like this</p>\n<p>Note: you might also have to add <code>addInternalFrame</code> as a parameter</p>\n<pre><code>private JButton createButton(String name, int x, int y){\n      JButton button = new JButton(name);\n      button.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\n      button.setBounds(x, y, 355, 155);\n      addInternalFrame.getContentPane().add(button);\n      return button;\n    }\n</code></pre>\n<p>and create your buttons with it</p>\n<pre><code>JButton btnAddCar = createButton(&quot;Add Car&quot;, 5, 5);\nJButton btnAddHybridCar = createButton(&quot;Add Hybrid Car&quot;, 5, 165);\n</code></pre>\n"}],"owner":{"account_id":19824398,"reputation":51,"user_id":14520216,"display_name":"Josef Sigron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657375384,"creation_date":1657372007,"question_id":72921607,"body_markdown":"I&#39;m trying to learn about java GUI , and I can&#39;t seem but notice that there is a lot of duplication going around when trying to create multiple similar buttons. For example in this piece of code : \r\n```\r\n\r\nJButton btnAddCar = new JButton(&quot;Add Car&quot;);\r\nbtnAddCar.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\nbtnAddCar.setBounds(5, 5, 355, 155);\r\naddInternalFrame.getContentPane().add(btnAddCar);\r\n\r\nJButton btnAddHybridCar = new JButton(&quot;Add Hybrid Car&quot;);\r\nbtnAddHybridCar.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\nbtnAddHybridCar.setBounds(5, 165, 355, 155);\r\naddInternalFrame.getContentPane().add(btnAddHybridCar);\r\n\r\nJButton btnAddVan = new JButton(&quot;Add Van&quot;);\r\nbtnAddVan.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\nbtnAddVan.setBounds(5, 325, 355, 155);\r\naddInternalFrame.getContentPane().add(btnAddVan);\r\n\r\nJButton btnAddMotorcycle = new JButton(&quot;Add Motorcycle&quot;);\r\nbtnAddMotorcycle.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\nbtnAddMotorcycle.setBounds(5, 485, 355, 155);\r\naddInternalFrame.getContentPane().add(btnAddMotorcycle);\r\n\r\nJButton btnAddHybridMotorcycle = new JButton(&quot;Add Hybrid Motorcycle&quot;);\r\nbtnAddHybridMotorcycle.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\nbtnAddHybridMotorcycle.setBounds(5, 645, 355, 155);\r\naddInternalFrame.getContentPane().add(btnAddHybridMotorcycle);\r\n\r\nJButton btnAddCustomer = new JButton(&quot;Add Customer&quot;);\r\nbtnAddCustomer.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\nbtnAddCustomer.setBounds(365, 5, 355, 155);\r\naddInternalFrame.getContentPane().add(btnAddCustomer);\r\n\r\nJButton btnAddVIPCustomer = new JButton(&quot;Add VIP Customer&quot;);\r\nbtnAddVIPCustomer.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\nbtnAddVIPCustomer.setBounds(365, 165, 355, 155);\r\naddInternalFrame.getContentPane().add(btnAddVIPCustomer);\r\n\r\nJButton btnAddEmployee = new JButton(&quot;Add Employee&quot;);\r\nbtnAddEmployee.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\nbtnAddEmployee.setBounds(365, 325, 355, 155);\r\naddInternalFrame.getContentPane().add(btnAddEmployee);\r\n\r\nJButton btnAddDepartmentManager = new JButton(&quot;Add Department Manager&quot;);\r\nbtnAddDepartmentManager.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\nbtnAddDepartmentManager.setBounds(365, 485, 355, 155);\r\naddInternalFrame.getContentPane().add(btnAddDepartmentManager);\r\n```\r\n\r\nIs there a shorter, aesthetic way of writing this code?\r\n","title":"How to prevent duplication while creating multiple similar jButtons","body":"<p>I'm trying to learn about java GUI , and I can't seem but notice that there is a lot of duplication going around when trying to create multiple similar buttons. For example in this piece of code :</p>\n<pre><code>\nJButton btnAddCar = new JButton(&quot;Add Car&quot;);\nbtnAddCar.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\nbtnAddCar.setBounds(5, 5, 355, 155);\naddInternalFrame.getContentPane().add(btnAddCar);\n\nJButton btnAddHybridCar = new JButton(&quot;Add Hybrid Car&quot;);\nbtnAddHybridCar.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\nbtnAddHybridCar.setBounds(5, 165, 355, 155);\naddInternalFrame.getContentPane().add(btnAddHybridCar);\n\nJButton btnAddVan = new JButton(&quot;Add Van&quot;);\nbtnAddVan.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\nbtnAddVan.setBounds(5, 325, 355, 155);\naddInternalFrame.getContentPane().add(btnAddVan);\n\nJButton btnAddMotorcycle = new JButton(&quot;Add Motorcycle&quot;);\nbtnAddMotorcycle.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\nbtnAddMotorcycle.setBounds(5, 485, 355, 155);\naddInternalFrame.getContentPane().add(btnAddMotorcycle);\n\nJButton btnAddHybridMotorcycle = new JButton(&quot;Add Hybrid Motorcycle&quot;);\nbtnAddHybridMotorcycle.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\nbtnAddHybridMotorcycle.setBounds(5, 645, 355, 155);\naddInternalFrame.getContentPane().add(btnAddHybridMotorcycle);\n\nJButton btnAddCustomer = new JButton(&quot;Add Customer&quot;);\nbtnAddCustomer.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\nbtnAddCustomer.setBounds(365, 5, 355, 155);\naddInternalFrame.getContentPane().add(btnAddCustomer);\n\nJButton btnAddVIPCustomer = new JButton(&quot;Add VIP Customer&quot;);\nbtnAddVIPCustomer.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\nbtnAddVIPCustomer.setBounds(365, 165, 355, 155);\naddInternalFrame.getContentPane().add(btnAddVIPCustomer);\n\nJButton btnAddEmployee = new JButton(&quot;Add Employee&quot;);\nbtnAddEmployee.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\nbtnAddEmployee.setBounds(365, 325, 355, 155);\naddInternalFrame.getContentPane().add(btnAddEmployee);\n\nJButton btnAddDepartmentManager = new JButton(&quot;Add Department Manager&quot;);\nbtnAddDepartmentManager.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\nbtnAddDepartmentManager.setBounds(365, 485, 355, 155);\naddInternalFrame.getContentPane().add(btnAddDepartmentManager);\n</code></pre>\n<p>Is there a shorter, aesthetic way of writing this code?</p>\n"},{"tags":["java","method-signature"],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1320848363,"creation_date":1320847976,"answer_id":8066268,"question_id":8066253,"body_markdown":"It&#39;s always a set of parentheses enclosing type signifiers for the arguments, one after the other with no commas or anything, followed by a type signifier for the return value after the closing paren. It&#39;s pretty straightforward.\r\n\r\nThere&#39;s a table of type signatures on [this page:][1]\r\n\r\n    Signature\t Java Type\r\n    Z\t boolean\r\n    B\t byte\r\n    C\t char\r\n    S\t short\r\n    I\t int\r\n    J\t long\r\n    F\t float\r\n    D\t double\r\n    V\t void\r\n    L fully-qualified-class ;\t fully-qualified-class\r\n    [ type\t type[]\r\n\r\nThose last two mean that to name a class, you say, for example, `Ljava/lang/Object;`, and to name an array of (for example) `int`, you say `[I`, and an array of array of `int` is `[[I`.\r\n\r\nIf you wanted to literally *compute* the signature in Java code based on reflection, it&#39;d be simple enough; just use the table above with rules for handling objects and arrays.\r\n\r\n\r\n\r\n  [1]: http://journals.ecs.soton.ac.uk/java/tutorial/native1.1/implementing/method.html","title":"Compute a Java function&#39;s signature","body":"<p>It's always a set of parentheses enclosing type signifiers for the arguments, one after the other with no commas or anything, followed by a type signifier for the return value after the closing paren. It's pretty straightforward.</p>\n\n<p>There's a table of type signatures on <a href=\"http://journals.ecs.soton.ac.uk/java/tutorial/native1.1/implementing/method.html\">this page:</a></p>\n\n<pre><code>Signature    Java Type\nZ    boolean\nB    byte\nC    char\nS    short\nI    int\nJ    long\nF    float\nD    double\nV    void\nL fully-qualified-class ;    fully-qualified-class\n[ type   type[]\n</code></pre>\n\n<p>Those last two mean that to name a class, you say, for example, <code>Ljava/lang/Object;</code>, and to name an array of (for example) <code>int</code>, you say <code>[I</code>, and an array of array of <code>int</code> is <code>[[I</code>.</p>\n\n<p>If you wanted to literally <em>compute</em> the signature in Java code based on reflection, it'd be simple enough; just use the table above with rules for handling objects and arrays.</p>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1320848192,"creation_date":1320848192,"answer_id":8066319,"question_id":8066253,"body_markdown":"A quick google search uncovered this webpage:\n\nhttp://www.rgagnon.com/javadetails/java-0286.html\n\n&gt;There are two parts to the signature. The first part is enclosed within the parentheses and represents the method&#39;s arguments. The second portion follows the closing parenthesis and represents the return type. The mapping between the Java type and C type is\n&gt;\n&gt;     Type     Chararacter \n&gt;     boolean      Z \n&gt;     byte         B \n&gt;     char         C \n&gt;     double       D \n&gt;     float        F \n&gt;     int          I \n&gt;     long         J \n&gt;     object       L \n&gt;     short        S \n&gt;     void         V \n&gt;     array        [ \n","title":"Compute a Java function&#39;s signature","body":"<p>A quick google search uncovered this webpage:</p>\n<p><a href=\"http://www.rgagnon.com/javadetails/java-0286.html\" rel=\"nofollow noreferrer\">http://www.rgagnon.com/javadetails/java-0286.html</a></p>\n<blockquote>\n<p>There are two parts to the signature. The first part is enclosed within the parentheses and represents the method's arguments. The second portion follows the closing parenthesis and represents the return type. The mapping between the Java type and C type is</p>\n<pre><code>Type     Chararacter \nboolean      Z \nbyte         B \nchar         C \ndouble       D \nfloat        F \nint          I \nlong         J \nobject       L \nshort        S \nvoid         V \narray        [ \n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320848211,"creation_date":1320848211,"answer_id":8066321,"question_id":8066253,"body_markdown":"See [here](http://www.rgagnon.com/javadetails/java-0286.html) for some details.\r\n\r\nBasically it&#39;s params, then return value.","title":"Compute a Java function&#39;s signature","body":"<p>See <a href=\"http://www.rgagnon.com/javadetails/java-0286.html\" rel=\"nofollow\">here</a> for some details.</p>\n\n<p>Basically it's params, then return value.</p>\n"},{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1320848253,"creation_date":1320848253,"answer_id":8066330,"question_id":8066253,"body_markdown":"From [the JLS, &amp;sect;8.4.2][1]:\r\n\r\n&gt; ###8.4.2 Method Signature\r\n&gt; \r\n&gt; The *signature* of a method consists of the name of the method and the\r\n&gt; number and types of formal parameters to the method. A class may not\r\n&gt; declare two methods with the same signature, or a compile-time error\r\n&gt; occurs.\r\n&gt; \r\n&gt; The example:\r\n&gt; \r\n&gt;     class Point implements Move {\r\n&gt;     \tint x, y;\r\n&gt;     \tabstract void move(int dx, int dy);\r\n&gt;     \tvoid move(int dx, int dy) { x += dx; y += dy; }\r\n&gt;     }\r\n&gt; \r\n&gt; causes a compile-time error because it declares two `move` methods\r\n&gt; with the same signature. This is an error even though one of the\r\n&gt; declarations is `abstract`.\r\n\r\nSo the &quot;rule&quot; is\r\n\r\n&gt; the **name** of the method and the **number and types of formal parameters** to the method\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/second_edition/html/classes.doc.html#38649","title":"Compute a Java function&#39;s signature","body":"<p>From <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/classes.doc.html#38649\" rel=\"nofollow\">the JLS, &sect;8.4.2</a>:</p>\n\n<blockquote>\n  <h3>8.4.2 Method Signature</h3>\n  \n  <p>The <em>signature</em> of a method consists of the name of the method and the\n  number and types of formal parameters to the method. A class may not\n  declare two methods with the same signature, or a compile-time error\n  occurs.</p>\n  \n  <p>The example:</p>\n\n<pre><code>class Point implements Move {\n  int x, y;\n  abstract void move(int dx, int dy);\n  void move(int dx, int dy) { x += dx; y += dy; }\n}\n</code></pre>\n  \n  <p>causes a compile-time error because it declares two <code>move</code> methods\n  with the same signature. This is an error even though one of the\n  declarations is <code>abstract</code>.</p>\n</blockquote>\n\n<p>So the \"rule\" is</p>\n\n<blockquote>\n  <p>the <strong>name</strong> of the method and the <strong>number and types of formal parameters</strong> to the method</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320848351,"creation_date":1320848351,"answer_id":8066351,"question_id":8066253,"body_markdown":"You can find this information in the the [Java Virtual Machine Specification][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#7035","title":"Compute a Java function&#39;s signature","body":"<p>You can find this information in the the <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#7035\" rel=\"nofollow\">Java Virtual Machine Specification</a></p>\n"},{"tags":[],"owner":{"account_id":297546,"reputation":1308,"user_id":603125,"accept_rate":74,"display_name":"asloob"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1385937729,"creation_date":1385937729,"answer_id":20318210,"question_id":8066253,"body_markdown":"Just run `javap -s &lt;class-name&gt;` in the folder containing the `.class` files . It will tell you with 100% accuracy. No need to guess these things.","title":"Compute a Java function&#39;s signature","body":"<p>Just run <code>javap -s &lt;class-name&gt;</code> in the folder containing the <code>.class</code> files . It will tell you with 100% accuracy. No need to guess these things.</p>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657374983,"creation_date":1657374983,"answer_id":72921950,"question_id":8066253,"body_markdown":"&gt; Is there a way to compute a Java class&#39;s method&#39;s signature?\r\n\r\nYou can do it programmatically by using [apache commons-bcel](https://commons.apache.org/proper/commons-bcel/)\r\n\r\n\r\n    package com.mageddo.coc.classes;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import com.sun.org.apache.bcel.internal.classfile.ClassParser;\r\n    \r\n    public class JavaClass {\r\n    \r\n      public static String structureAsText(Class&lt;?&gt; clazz) throws IOException {\r\n    \r\n        final String classPath =\r\n            String.format(\r\n                &quot;/%s.class&quot;,\r\n                clazz.getName()\r\n                    .replace(&#39;.&#39;, &#39;/&#39;)\r\n            );\r\n    \r\n        final ClassParser classParser = new ClassParser(\r\n            JavaClass.class.getResourceAsStream(classPath),\r\n            clazz.getSimpleName() + &quot;.java&quot;\r\n        );\r\n    \r\n        \r\n        return classParser.parse()\r\n            .toString();\r\n      }\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        System.out.println(JavaClass.structureAsText(JavaClass.class));\r\n      }\r\n    \r\n    }\r\n\r\n\r\noutputs\r\n\r\n    public class com.mageddo.coc.classes.JavaClass extends java.lang.Object\r\n    filename\t\tJavaClass.java\r\n    compiled from\t\tJavaClass.java\r\n    compiler version\t52.0\r\n    access flags\t\t33\r\n    constant pool\t\t98 entries\r\n    ACC_SUPER flag\t\ttrue\r\n    \r\n    Attribute(s):\r\n    \tSourceFile: JavaClass.java\r\n    \r\n    3 methods:\r\n    \tpublic void &lt;init&gt;()\r\n    \tpublic static String structureAsText(Class clazz) [Signature: (Ljava/lang/Class&lt;*&gt;;)Ljava/lang/String;]\r\n    \t\tthrows Exceptions: java.io.IOException\r\n    \tpublic static void main(String[] args)\r\n    \t\tthrows Exceptions: java.io.IOException\r\n\r\n","title":"Compute a Java function&#39;s signature","body":"<blockquote>\n<p>Is there a way to compute a Java class's method's signature?</p>\n</blockquote>\n<p>You can do it programmatically by using <a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">apache commons-bcel</a></p>\n<pre><code>package com.mageddo.coc.classes;\n\nimport java.io.IOException;\n\nimport com.sun.org.apache.bcel.internal.classfile.ClassParser;\n\npublic class JavaClass {\n\n  public static String structureAsText(Class&lt;?&gt; clazz) throws IOException {\n\n    final String classPath =\n        String.format(\n            &quot;/%s.class&quot;,\n            clazz.getName()\n                .replace('.', '/')\n        );\n\n    final ClassParser classParser = new ClassParser(\n        JavaClass.class.getResourceAsStream(classPath),\n        clazz.getSimpleName() + &quot;.java&quot;\n    );\n\n    \n    return classParser.parse()\n        .toString();\n  }\n\n  public static void main(String[] args) throws IOException {\n    System.out.println(JavaClass.structureAsText(JavaClass.class));\n  }\n\n}\n</code></pre>\n<p>outputs</p>\n<pre><code>public class com.mageddo.coc.classes.JavaClass extends java.lang.Object\nfilename        JavaClass.java\ncompiled from       JavaClass.java\ncompiler version    52.0\naccess flags        33\nconstant pool       98 entries\nACC_SUPER flag      true\n\nAttribute(s):\n    SourceFile: JavaClass.java\n\n3 methods:\n    public void &lt;init&gt;()\n    public static String structureAsText(Class clazz) [Signature: (Ljava/lang/Class&lt;*&gt;;)Ljava/lang/String;]\n        throws Exceptions: java.io.IOException\n    public static void main(String[] args)\n        throws Exceptions: java.io.IOException\n</code></pre>\n"}],"owner":{"account_id":416369,"reputation":16459,"user_id":791713,"accept_rate":74,"display_name":"Niklas R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21654,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":8066268,"answer_count":7,"score":32,"last_activity_date":1657374983,"creation_date":1320847876,"question_id":8066253,"body_markdown":"Is there a way to **compute** a Java class&#39;s method&#39;s signature? A signature  \r\nlike `([Ljava/lang/String;)V` represents a function that takes a `String[]` as argument  \r\nand returns `void`.  \r\n\r\nWhat&#39;s the *rule* to compute the signature?","title":"Compute a Java function&#39;s signature","body":"<p>Is there a way to <strong>compute</strong> a Java class's method's signature? A signature<br>\nlike <code>([Ljava/lang/String;)V</code> represents a function that takes a <code>String[]</code> as argument<br>\nand returns <code>void</code>.  </p>\n\n<p>What's the <em>rule</em> to compute the signature?</p>\n"},{"tags":["python","java","algorithm","greedy"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1657173680,"post_id":72887560,"comment_id":128748228,"body_markdown":"It is not clear what the &quot;distances of each letter&quot; represents: are all mailboxes distributed on one straight line? Are all the distances measured from the starting point or are they relative to each other? Are all mailboxes at the same side of the starting point? You speak of a *matrix*, but then provide a one dimensional array...","body":"It is not clear what the &quot;distances of each letter&quot; represents: are all mailboxes distributed on one straight line? Are all the distances measured from the starting point or are they relative to each other? Are all mailboxes at the same side of the starting point? You speak of a <i>matrix</i>, but then provide a one dimensional array..."}],"answers":[{"tags":[],"owner":{"account_id":18763707,"reputation":435,"user_id":13682080,"display_name":"eightlay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657373336,"creation_date":1657373336,"answer_id":72921753,"question_id":72887560,"body_markdown":"If A represents the distances between postoffice and mailbox for the letter and mailman can only deliver one letter per run, then yes. Actually this problem is called &quot;Knapsack problem&quot;. You can find further information on the internet.","title":"Mailman uses greedy algorithm to deliver as many letters as possible","body":"<p>If A represents the distances between postoffice and mailbox for the letter and mailman can only deliver one letter per run, then yes. Actually this problem is called &quot;Knapsack problem&quot;. You can find further information on the internet.</p>\n"}],"owner":{"account_id":20783797,"reputation":7,"user_id":15263529,"display_name":"Katerina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1657427558,"answer_count":1,"score":-1,"last_activity_date":1657373336,"creation_date":1657127766,"question_id":72887560,"body_markdown":"So my professor asked this on the test the other day and I am not sure I got it right.\r\nA mailman has only one hour to deliver as many letters as possible(one by one). In order to deliver a letter in distance n it takes 5 + 0 .5logn minutes (log with base 3). He decides which letters he will deliver using a greedy algorithm. If the distances of each letter is given in the matrix how many letters will he deliver? \r\nA = 3, 3, 3, 9, 9, 3, 3, 27, 27, 27, 81, 9, 81, 81\r\n\r\nI thought that he will choose to deliver the letters with the minimum distance first because these take less time (so the ones with distance 3, then those with a distance of 9 etc...).\r\nSo my answer was 5 letters with distance 3 (time = 27.5), then 3 letters with distance 9 (18 additional minutes, so the total is 45.5) and then 2 of distance 27 so the total time is 58.5 .\r\nAm I thinking this right???\r\n ","title":"Mailman uses greedy algorithm to deliver as many letters as possible","body":"<p>So my professor asked this on the test the other day and I am not sure I got it right.\nA mailman has only one hour to deliver as many letters as possible(one by one). In order to deliver a letter in distance n it takes 5 + 0 .5logn minutes (log with base 3). He decides which letters he will deliver using a greedy algorithm. If the distances of each letter is given in the matrix how many letters will he deliver?\nA = 3, 3, 3, 9, 9, 3, 3, 27, 27, 27, 81, 9, 81, 81</p>\n<p>I thought that he will choose to deliver the letters with the minimum distance first because these take less time (so the ones with distance 3, then those with a distance of 9 etc...).\nSo my answer was 5 letters with distance 3 (time = 27.5), then 3 letters with distance 9 (18 additional minutes, so the total is 45.5) and then 2 of distance 27 so the total time is 58.5 .\nAm I thinking this right???</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1657369587,"post_id":72921303,"comment_id":128796965,"body_markdown":"is the package available? Did you write the import? Did you refresh the maven dependencies in IntelliJ? -&gt; There should be a `Maven` tab situated in the top right of the editor. There should be two arrows in a circle, click that and you will (re)import the dependencies.","body":"is the package available? Did you write the import? Did you refresh the maven dependencies in IntelliJ? -&gt; There should be a <code>Maven</code> tab situated in the top right of the editor. There should be two arrows in a circle, click that and you will (re)import the dependencies."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1657369639,"post_id":72921303,"comment_id":128796979,"body_markdown":"Please show your import statement for `NotBlank`.","body":"Please show your import statement for <code>NotBlank</code>."},{"owner":{"account_id":18469162,"reputation":53,"user_id":13454536,"display_name":"Ntavass"},"score":0,"creation_date":1657369817,"post_id":72921303,"comment_id":128797005,"body_markdown":"@Lino I wrote the import and also refreshed maven dependencies. Still not working.","body":"@Lino I wrote the import and also refreshed maven dependencies. Still not working."},{"owner":{"account_id":18469162,"reputation":53,"user_id":13454536,"display_name":"Ntavass"},"score":0,"creation_date":1657369832,"post_id":72921303,"comment_id":128797007,"body_markdown":"This is my import &#39; import javax.validation.constraints.NotBlank; &#39; @Paul","body":"This is my import &#39; import javax.validation.constraints.NotBlank; &#39; @Paul"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1657370753,"post_id":72921303,"comment_id":128797146,"body_markdown":"Add a dependency on [javax.validation:validation-api:2.0.1.Final](https://search.maven.org/artifact/javax.validation/validation-api/2.0.1.Final/jar).","body":"Add a dependency on <a href=\"https://search.maven.org/artifact/javax.validation/validation-api/2.0.1.Final/jar\" rel=\"nofollow noreferrer\">javax.validation:validation-api:2.0.1.Final</a>."},{"owner":{"account_id":18469162,"reputation":53,"user_id":13454536,"display_name":"Ntavass"},"score":0,"creation_date":1657371464,"post_id":72921303,"comment_id":128797278,"body_markdown":"I replaced my dependency with the apache Maven dependency in the link you gave me but I still cant import validation. Still Cannot resolve symbol &#39;validation&#39;. @Paul","body":"I replaced my dependency with the apache Maven dependency in the link you gave me but I still cant import validation. Still Cannot resolve symbol &#39;validation&#39;. @Paul"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":1,"creation_date":1657371902,"post_id":72921303,"comment_id":128797353,"body_markdown":"I didn&#39;t say to replace your dependency; I said to add a dependency. [org.springframework.boot:spring-boot-starter-validation:2.7.0](https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-validation/2.7.0/jar) has a dependency on [org.hibernate.validator:hibernate-validator:6.2.3.Final](https://search.maven.org/artifact/org.hibernate.validator/hibernate-validator/6.2.3.Final/jar) which we use on my project at work (where I am right now) and had to import `validation-api` to use. At the very least I would expect you&#39;d get a different error after importing it.","body":"I didn&#39;t say to replace your dependency; I said to add a dependency. <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-validation/2.7.0/jar\" rel=\"nofollow noreferrer\">org.springframework.boot:spring-boot-starter-validation:2.7.&zwnj;&#8203;0</a> has a dependency on <a href=\"https://search.maven.org/artifact/org.hibernate.validator/hibernate-validator/6.2.3.Final/jar\" rel=\"nofollow noreferrer\">org.hibernate.validator:hibernate-validator:6.2.3.Final</a> which we use on my project at work (where I am right now) and had to import <code>validation-api</code> to use. At the very least I would expect you&#39;d get a different error after importing it."},{"owner":{"account_id":18469162,"reputation":53,"user_id":13454536,"display_name":"Ntavass"},"score":1,"creation_date":1657371912,"post_id":72921303,"comment_id":128797355,"body_markdown":"@Paul  I downloaded the .jar file and added it from File -&gt; Project Structure -&gt; Modules -&gt; Dependencies -&gt; &#39;+&#39; -&gt; Jars or Directories. Thank you for your time and help! :)","body":"@Paul  I downloaded the .jar file and added it from File -&gt; Project Structure -&gt; Modules -&gt; Dependencies -&gt; &#39;+&#39; -&gt; Jars or Directories. Thank you for your time and help! :)"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1657372464,"post_id":72921303,"comment_id":128797443,"body_markdown":"That&#39;s great, glad it worked! I consolidated my comments into an answer; please accept if you feel I adequately described the solution.","body":"That&#39;s great, glad it worked! I consolidated my comments into an answer; please accept if you feel I adequately described the solution."},{"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"score":0,"creation_date":1657372772,"post_id":72921303,"comment_id":128797509,"body_markdown":"You really should add the dependency in pom.xml instead of adding it as a downloaded jar in your ide.","body":"You really should add the dependency in pom.xml instead of adding it as a downloaded jar in your ide."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1657372999,"post_id":72921303,"comment_id":128797555,"body_markdown":"@KristofNeirynck It could be that adding the dependency that way modifies the pom but I don&#39;t know.  I use NetBeans which is not what OP is using.","body":"@KristofNeirynck It could be that adding the dependency that way modifies the pom but I don&#39;t know.  I use NetBeans which is not what OP is using."}],"answers":[{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657372345,"creation_date":1657372345,"answer_id":72921646,"question_id":72921303,"body_markdown":"Add a dependency on [javax.validation:validation-api:2.0.1.Final][1]. That defines the validation API (i.e. the interface) but does not implement it.  [spring-boot-starter-validation][2] has a dependency on [hibernate-validator][3] which is the reference implementation of Java&#39;s validation API.\r\n\r\nYou imported the implementation but not the interface which is why your IDE was complaining.  By importing both the interface and the implementation that code should compile.\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/javax.validation/validation-api/2.0.1.Final/jar\r\n  [2]: https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-validation/2.7.0/jar\r\n  [3]: https://search.maven.org/artifact/org.hibernate.validator/hibernate-validator/6.2.3.Final/jar","title":"Cannot use @NotBlank","body":"<p>Add a dependency on <a href=\"https://search.maven.org/artifact/javax.validation/validation-api/2.0.1.Final/jar\" rel=\"nofollow noreferrer\">javax.validation:validation-api:2.0.1.Final</a>. That defines the validation API (i.e. the interface) but does not implement it.  <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-validation/2.7.0/jar\" rel=\"nofollow noreferrer\">spring-boot-starter-validation</a> has a dependency on <a href=\"https://search.maven.org/artifact/org.hibernate.validator/hibernate-validator/6.2.3.Final/jar\" rel=\"nofollow noreferrer\">hibernate-validator</a> which is the reference implementation of Java's validation API.</p>\n<p>You imported the implementation but not the interface which is why your IDE was complaining.  By importing both the interface and the implementation that code should compile.</p>\n"}],"owner":{"account_id":18469162,"reputation":53,"user_id":13454536,"display_name":"Ntavass"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72921646,"answer_count":1,"score":0,"last_activity_date":1657372345,"creation_date":1657369206,"question_id":72921303,"body_markdown":"I just started working with spring and I&#39;m trying to use @NotBlank. Problem is it is not working. In pom.xml I have this dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThe error I&#39;m getting is this: \r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is my import:\r\n\r\n    import javax.validation.constraints.NotBlank;\r\nand I&#39;m also getting this error: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have searched similar questions and the answer is that by adding this dependency and restarting IDE will work. In my case it&#39;s still not working. Any suggestions?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e1psL.png\r\n  [2]: https://i.stack.imgur.com/x8Qe7.png","title":"Cannot use @NotBlank","body":"<p>I just started working with spring and I'm trying to use @NotBlank. Problem is it is not working. In pom.xml I have this dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The error I'm getting is this:\n<a href=\"https://i.stack.imgur.com/e1psL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e1psL.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my import:</p>\n<pre><code>import javax.validation.constraints.NotBlank;\n</code></pre>\n<p>and I'm also getting this error:</p>\n<p><a href=\"https://i.stack.imgur.com/x8Qe7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x8Qe7.png\" alt=\"enter image description here\" /></a></p>\n<p>I have searched similar questions and the answer is that by adding this dependency and restarting IDE will work. In my case it's still not working. Any suggestions?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1657372053,"post_id":72921547,"comment_id":128797375,"body_markdown":"What does this problem have to do with spring boot? Isn&#39;t this purely an SQL question?","body":"What does this problem have to do with spring boot? Isn&#39;t this purely an SQL question?"},{"owner":{"account_id":25766297,"reputation":1,"user_id":19516179,"display_name":"Harshit"},"score":0,"creation_date":1657378465,"post_id":72921547,"comment_id":128798671,"body_markdown":"@Bohemian As I was making this project in springboot, I thought there might be someone who can tell me other ways to fetch data from two repository and combine them into one list and return in @ service class","body":"@Bohemian As I was making this project in springboot, I thought there might be someone who can tell me other ways to fetch data from two repository and combine them into one list and return in @ service class"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657385831,"post_id":72921547,"comment_id":128800183,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657371990,"creation_date":1657371990,"answer_id":72921602,"question_id":72921547,"body_markdown":"Use a *union* not a *join*.\r\n\r\nCreate a native query something like:\r\n\r\n    select &#39;leave&#39; as type, empid, created_on, &lt;other columns&gt;\r\n    from leave\r\n    union all\r\n    select &#39;compoff&#39;, empid, created_on, &lt;same other columns as above&gt;\r\n    from compoff\r\n\r\n","title":"How to fetch data from multiple table in springboot without join Query?","body":"<p>Use a <em>union</em> not a <em>join</em>.</p>\n<p>Create a native query something like:</p>\n<pre><code>select 'leave' as type, empid, created_on, &lt;other columns&gt;\nfrom leave\nunion all\nselect 'compoff', empid, created_on, &lt;same other columns as above&gt;\nfrom compoff\n</code></pre>\n"}],"owner":{"account_id":25766297,"reputation":1,"user_id":19516179,"display_name":"Harshit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657371990,"creation_date":1657371398,"question_id":72921547,"body_markdown":"I have two tables (Leave, CompOff) I want to show these tables data to user(frontend) in form of Requests from employee. Employee can request for leave and compoff. Both the tables have createdOn, empid column. And I am not understanding how to fetch both table data and then return a list which contain both the tables data.\r\n\r\nLeave tables - \r\n\r\n```\r\nempid      |       ceated_on\r\n\r\n   1       |      09-07-2022\r\n   2       |      05-07-2022\r\n   3       |      02-07-2022 \r\n\r\n```\r\n\r\nCompOff tables - \r\n\r\n```\r\nempid      |       ceated_on\r\n\r\n   1       |      08-07-2022\r\n   2       |      06-07-2022\r\n   3       |      01-07-2022 \r\n\r\n```\r\n\r\nIn Springboot I have created three classes name - leave, compoff, request. And they have some create/update opertaion. Now in request class I want both (leave,compoff) data and send to user.\r\n","title":"How to fetch data from multiple table in springboot without join Query?","body":"<p>I have two tables (Leave, CompOff) I want to show these tables data to user(frontend) in form of Requests from employee. Employee can request for leave and compoff. Both the tables have createdOn, empid column. And I am not understanding how to fetch both table data and then return a list which contain both the tables data.</p>\n<p>Leave tables -</p>\n<pre><code>empid      |       ceated_on\n\n   1       |      09-07-2022\n   2       |      05-07-2022\n   3       |      02-07-2022 \n\n</code></pre>\n<p>CompOff tables -</p>\n<pre><code>empid      |       ceated_on\n\n   1       |      08-07-2022\n   2       |      06-07-2022\n   3       |      01-07-2022 \n\n</code></pre>\n<p>In Springboot I have created three classes name - leave, compoff, request. And they have some create/update opertaion. Now in request class I want both (leave,compoff) data and send to user.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657371938,"creation_date":1657371938,"answer_id":72921597,"question_id":72920830,"body_markdown":"Got the answer finally - \r\n\r\n    String result = IOUtils.toString((InputStream) exchange.getIn().getBody(), StandardCharsets.UTF_8);\r\n            List&lt;RespModel&gt; = new ObjectMapper().readValue(result,\r\n                    new TypeReference&lt;List&lt;RespModel&gt;&gt;() {\r\n                    });","title":"Iterate/fetch data from camel exchange into java object","body":"<p>Got the answer finally -</p>\n<pre><code>String result = IOUtils.toString((InputStream) exchange.getIn().getBody(), StandardCharsets.UTF_8);\n        List&lt;RespModel&gt; = new ObjectMapper().readValue(result,\n                new TypeReference&lt;List&lt;RespModel&gt;&gt;() {\n                });\n</code></pre>\n"}],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657371938,"creation_date":1657364659,"question_id":72920830,"body_markdown":"In the project flow i am getting the data in form of json collection in apache camel exchange and to process it further i need to transform it in java object\r\n\r\n    try{\r\n\r\n\t\t\tList&lt;RespModel&gt; records = (List&lt;RespModel&gt;) exchange.getIn().getBody(RespModel.class);\r\n\r\n\t\t\tSystem.out.println(records.size());\r\n\r\n\t\t}catch (Exception e){\r\n\t\t\tSystem.out.println(&quot;NO LUCK &quot;+e.getLocalizedMessage());\r\n\t\t}\r\n\r\nBut i am getting records as null.\r\nCould you please help me to transform this ?\r\n\r\nexchange data is as below - \r\n\r\n  ```  [{\r\n\t\t&quot;identifier&quot;: {\r\n\t\t\t&quot;domain&quot;: &quot;transport&quot;,\r\n\t\t\t&quot;id&quot;: &quot;123&quot;,\r\n\t\t\t&quot;version&quot;: 1\r\n\t\t},\r\n\t\t&quot;record&quot;: &quot;NEW&quot;,\r\n\t\t&quot;payload&quot;: {\r\n\t\t\t&quot;pesonalDetails&quot; : {\r\n\t\t\t&quot;name&quot; : &quot;bla bla bla&quot;\r\n\t\t\t&quot;dob&quot; : \r\n\t\t\t},\r\n\t\t\t&quot;reason&quot; :\r\n\t\t\t\r\n\t\t}\r\n},{\r\n\t\t&quot;identifier&quot;: {\r\n\t\t\t&quot;domain&quot;: &quot;transport&quot;,\r\n\t\t\t&quot;id&quot;: &quot;123&quot;,\r\n\t\t\t&quot;version&quot;: 1\r\n\t\t},\r\n\t\t&quot;record&quot;: &quot;NEW&quot;,\r\n\t\t&quot;payload&quot;: {\r\n\t\t\t&quot;pesonalDetails&quot; : {\r\n\t\t\t&quot;name&quot; : &quot;bla bla bla&quot;\r\n\t\t\t&quot;dob&quot; : \r\n\t\t\t},\r\n\t\t\t&quot;reason&quot; :\r\n\t\t\t\r\n\t\t}]```\r\n\r\nI am getting null here, how can i achieve this ? pls reply if you know. Thanks","title":"Iterate/fetch data from camel exchange into java object","body":"<p>In the project flow i am getting the data in form of json collection in apache camel exchange and to process it further i need to transform it in java object</p>\n<pre><code>try{\n\n        List&lt;RespModel&gt; records = (List&lt;RespModel&gt;) exchange.getIn().getBody(RespModel.class);\n\n        System.out.println(records.size());\n\n    }catch (Exception e){\n        System.out.println(&quot;NO LUCK &quot;+e.getLocalizedMessage());\n    }\n</code></pre>\n<p>But i am getting records as null.\nCould you please help me to transform this ?</p>\n<p>exchange data is as below -</p>\n<pre><code>      &quot;identifier&quot;: {\n          &quot;domain&quot;: &quot;transport&quot;,\n          &quot;id&quot;: &quot;123&quot;,\n          &quot;version&quot;: 1\n      },\n      &quot;record&quot;: &quot;NEW&quot;,\n      &quot;payload&quot;: {\n          &quot;pesonalDetails&quot; : {\n          &quot;name&quot; : &quot;bla bla bla&quot;\n          &quot;dob&quot; : \n          },\n          &quot;reason&quot; :\n          \n      }\n},{\n      &quot;identifier&quot;: {\n          &quot;domain&quot;: &quot;transport&quot;,\n          &quot;id&quot;: &quot;123&quot;,\n          &quot;version&quot;: 1\n      },\n      &quot;record&quot;: &quot;NEW&quot;,\n      &quot;payload&quot;: {\n          &quot;pesonalDetails&quot; : {\n          &quot;name&quot; : &quot;bla bla bla&quot;\n          &quot;dob&quot; : \n          },\n          &quot;reason&quot; :\n          \n      }]```\n\nI am getting null here, how can i achieve this ? pls reply if you know. Thanks\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657371867,"creation_date":1657336474,"answer_id":72918687,"question_id":72913809,"body_markdown":"If you just want to alternate between having a &quot;move&quot; icon or having the &quot;edit&quot; and &quot;delete&quot; icons it is much easier to just toggle the view visibilities between `GONE` or `VISIBLE`. When views are changed to `GONE` the connected constraints are updated automatically by the ConstraintLayout, you don&#39;t have to do that manually. \r\n\r\nFor example:\r\n\r\n```java\r\npublic void updateVisibility(boolean isEnableDelete){\r\n    if (isEnableDelete) {\r\n        delete.setVisibility(View.VISIBLE);\r\n        edit.setVisibility(View.VISIBLE);\r\n        move.setVisibility(View.GONE);\r\n    }\r\n    else {\r\n        delete.setVisibility(View.GONE);\r\n        edit.setVisibility(View.GONE);\r\n        move.setVisibility(View.VISIBLE);\r\n    }\r\n}\r\n```\r\n\r\nwith a row XML that looks like this, where the three icons are in a row on the right side and the CheckBox is set to fill the space from start to the start of the icons:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;CheckBox\r\n        android:padding=&quot;5dp&quot;\r\n        android:layout_margin=&quot;4dp&quot;\r\n        android:id=&quot;@+id/check&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/edit&quot;\r\n        tools:text=&quot;Some CheckBox&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/edit&quot;\r\n        android:padding=&quot;6dp&quot;\r\n        android:src=&quot;@drawable/ic_baseline_edit_24&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/delete&quot;\r\n        /&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/delete&quot;\r\n        android:padding=&quot;6dp&quot;\r\n        android:src=&quot;@drawable/ic_baseline_close_24&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/move&quot;\r\n        /&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/move&quot;\r\n        android:padding=&quot;6dp&quot;\r\n        android:src=&quot;@drawable/ic_baseline_graphic_eq_24&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\nSetting this to alternate between every other row (as an example) gives this:\r\n\r\n[![alternating row icons][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xbwLt.png","title":"A problem in addView()in ConstraintLayout, don&#39;t get the required result","body":"<p>If you just want to alternate between having a &quot;move&quot; icon or having the &quot;edit&quot; and &quot;delete&quot; icons it is much easier to just toggle the view visibilities between <code>GONE</code> or <code>VISIBLE</code>. When views are changed to <code>GONE</code> the connected constraints are updated automatically by the ConstraintLayout, you don't have to do that manually.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void updateVisibility(boolean isEnableDelete){\n    if (isEnableDelete) {\n        delete.setVisibility(View.VISIBLE);\n        edit.setVisibility(View.VISIBLE);\n        move.setVisibility(View.GONE);\n    }\n    else {\n        delete.setVisibility(View.GONE);\n        edit.setVisibility(View.GONE);\n        move.setVisibility(View.VISIBLE);\n    }\n}\n</code></pre>\n<p>with a row XML that looks like this, where the three icons are in a row on the right side and the CheckBox is set to fill the space from start to the start of the icons:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;CheckBox\n        android:padding=&quot;5dp&quot;\n        android:layout_margin=&quot;4dp&quot;\n        android:id=&quot;@+id/check&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/edit&quot;\n        tools:text=&quot;Some CheckBox&quot;/&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/edit&quot;\n        android:padding=&quot;6dp&quot;\n        android:src=&quot;@drawable/ic_baseline_edit_24&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/delete&quot;\n        /&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/delete&quot;\n        android:padding=&quot;6dp&quot;\n        android:src=&quot;@drawable/ic_baseline_close_24&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/move&quot;\n        /&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/move&quot;\n        android:padding=&quot;6dp&quot;\n        android:src=&quot;@drawable/ic_baseline_graphic_eq_24&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Setting this to alternate between every other row (as an example) gives this:</p>\n<p><a href=\"https://i.stack.imgur.com/xbwLt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xbwLt.png\" alt=\"alternating row icons\" /></a></p>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72918687,"answer_count":1,"score":0,"last_activity_date":1657371867,"creation_date":1657294640,"question_id":72913809,"body_markdown":"The ( else ) part working properly, but the problem is in ( if ) part when adding the view again to the ConstraintLayout.\r\n\r\nI want something like this.\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\nBut I get this which is not what I want.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xhIEP.png\r\n  [2]: https://i.stack.imgur.com/OCA7x.png\r\n\r\n\r\n            public class ChecklistChildViewHolder extends RecyclerView.ViewHolder {\r\n            CheckBox checkBox;\r\n            ImageView delete, edit, move;\r\n            ConstraintLayout constraintLayout;\r\n\r\n            ChecklistChildViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                checkBox = itemView.findViewById(R.id.checkbox_child);\r\n                delete = itemView.findViewById(R.id.delete_child);\r\n                edit = itemView.findViewById(R.id.edit_child);\r\n                move = itemView.findViewById(R.id.move_child);\r\n                constraintLayout = itemView.findViewById(R.id.constraint_child);\r\n\r\n            }\r\n\r\n            public void updateVisibility(boolean isEnableDelete){\r\n\r\n                ConstraintLayout.LayoutParams lpCheckBox = (ConstraintLayout.LayoutParams) checkBox.getLayoutParams();\r\n                ConstraintLayout.LayoutParams lpDelete = (ConstraintLayout.LayoutParams) delete.getLayoutParams();\r\n                ConstraintLayout.LayoutParams lpEdit = (ConstraintLayout.LayoutParams) edit.getLayoutParams();\r\n\r\n                if (isEnableDelete) {\r\n\r\n\r\n\r\n                    constraintLayout.removeView(move);\r\n                    constraintLayout.addView(delete);\r\n                    constraintLayout.addView(edit);\r\n                    lpDelete.endToEnd = R.id.constraint_child;\r\n                    lpDelete.startToEnd = R.id.edit_child;\r\n\r\n                    lpEdit.startToEnd = R.id.checkbox_child;\r\n                    lpEdit.endToStart = R.id.delete_child;\r\n\r\n                    delete.setLayoutParams(lpDelete);\r\n                    edit.setLayoutParams(lpEdit);\r\n                }\r\n\r\n                else {\r\n\r\n                    constraintLayout.removeView(delete);\r\n                    constraintLayout.removeView(edit);\r\n\r\n                    lpCheckBox.endToStart = R.id.move_child;\r\n                    lpCheckBox.startToStart = R.id.constraint_child;\r\n\r\n                    checkBox.setLayoutParams(lpCheckBox);\r\n                }\r\n            }\r\n        }\r\nI don&#39;t know where the problem is. Any help?","title":"A problem in addView()in ConstraintLayout, don&#39;t get the required result","body":"<p>The ( else ) part working properly, but the problem is in ( if ) part when adding the view again to the ConstraintLayout.</p>\n<p>I want something like this.</p>\n<p><a href=\"https://i.stack.imgur.com/xhIEP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xhIEP.png\" alt=\"enter image description here\" /></a></p>\n<p>But I get this which is not what I want.</p>\n<p><a href=\"https://i.stack.imgur.com/OCA7x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OCA7x.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>        public class ChecklistChildViewHolder extends RecyclerView.ViewHolder {\n        CheckBox checkBox;\n        ImageView delete, edit, move;\n        ConstraintLayout constraintLayout;\n\n        ChecklistChildViewHolder(@NonNull View itemView) {\n            super(itemView);\n            checkBox = itemView.findViewById(R.id.checkbox_child);\n            delete = itemView.findViewById(R.id.delete_child);\n            edit = itemView.findViewById(R.id.edit_child);\n            move = itemView.findViewById(R.id.move_child);\n            constraintLayout = itemView.findViewById(R.id.constraint_child);\n\n        }\n\n        public void updateVisibility(boolean isEnableDelete){\n\n            ConstraintLayout.LayoutParams lpCheckBox = (ConstraintLayout.LayoutParams) checkBox.getLayoutParams();\n            ConstraintLayout.LayoutParams lpDelete = (ConstraintLayout.LayoutParams) delete.getLayoutParams();\n            ConstraintLayout.LayoutParams lpEdit = (ConstraintLayout.LayoutParams) edit.getLayoutParams();\n\n            if (isEnableDelete) {\n\n\n\n                constraintLayout.removeView(move);\n                constraintLayout.addView(delete);\n                constraintLayout.addView(edit);\n                lpDelete.endToEnd = R.id.constraint_child;\n                lpDelete.startToEnd = R.id.edit_child;\n\n                lpEdit.startToEnd = R.id.checkbox_child;\n                lpEdit.endToStart = R.id.delete_child;\n\n                delete.setLayoutParams(lpDelete);\n                edit.setLayoutParams(lpEdit);\n            }\n\n            else {\n\n                constraintLayout.removeView(delete);\n                constraintLayout.removeView(edit);\n\n                lpCheckBox.endToStart = R.id.move_child;\n                lpCheckBox.startToStart = R.id.constraint_child;\n\n                checkBox.setLayoutParams(lpCheckBox);\n            }\n        }\n    }\n</code></pre>\n<p>I don't know where the problem is. Any help?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":923317,"reputation":2815,"user_id":954570,"accept_rate":100,"display_name":"vitaly"},"score":7,"creation_date":1372948483,"post_id":17472878,"comment_id":25391198,"body_markdown":"Post the stack trace","body":"Post the stack trace"},{"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"score":0,"creation_date":1372948685,"post_id":17472878,"comment_id":25391307,"body_markdown":"You can try use `for` cycle to find out, if the letter is in right part of ASCII table.","body":"You can try use <code>for</code> cycle to find out, if the letter is in right part of ASCII table."},{"owner":{"account_id":923317,"reputation":2815,"user_id":954570,"accept_rate":100,"display_name":"vitaly"},"score":1,"creation_date":1372948883,"post_id":17472878,"comment_id":25391430,"body_markdown":"Also, why are you searching in java when you have got DBMS?","body":"Also, why are you searching in java when you have got DBMS?"},{"owner":{"account_id":2889556,"reputation":1,"user_id":2478656,"display_name":"Max"},"score":0,"creation_date":1372948981,"post_id":17472878,"comment_id":25391491,"body_markdown":"Thank you, vitaliy, Stefan and eternay. Problem is solved. I apologize. Problem was more simple. I just had records with null values in my database.","body":"Thank you, vitaliy, Stefan and eternay. Problem is solved. I apologize. Problem was more simple. I just had records with null values in my database."},{"owner":{"account_id":1797603,"reputation":3764,"user_id":1636680,"display_name":"eternay"},"score":0,"creation_date":1372949229,"post_id":17472878,"comment_id":25391619,"body_markdown":"As I said, your problem wasn&#39;t the `toLowerCase()` method and the comparison; it was the `NullPointerException`.","body":"As I said, your problem wasn&#39;t the <code>toLowerCase()</code> method and the comparison; it was the <code>NullPointerException</code>."}],"answers":[{"tags":[],"owner":{"account_id":1797603,"reputation":3764,"user_id":1636680,"display_name":"eternay"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1372948408,"creation_date":1372948408,"answer_id":17472912,"question_id":17472878,"body_markdown":"Try `String.equalsIgnoreCase()` method, but it won&#39;t solve your `NullPointerException`. You have to look for the reason of this exception.","title":"Java, toLowerCase(), nullPointerException","body":"<p>Try <code>String.equalsIgnoreCase()</code> method, but it won't solve your <code>NullPointerException</code>. You have to look for the reason of this exception.</p>\n"},{"tags":[],"owner":{"account_id":923317,"reputation":2815,"user_id":954570,"accept_rate":100,"display_name":"vitaly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372948576,"creation_date":1372948576,"answer_id":17472980,"question_id":17472878,"body_markdown":"`.equals()` does what you want. You must be trying to call a method (`toLowerCase()`?) on a `null` string. ","title":"Java, toLowerCase(), nullPointerException","body":"<p><code>.equals()</code> does what you want. You must be trying to call a method (<code>toLowerCase()</code>?) on a <code>null</code> string. </p>\n"},{"tags":[],"owner":{"account_id":2345160,"reputation":451,"user_id":2055624,"accept_rate":73,"display_name":"nap.gab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372951826,"creation_date":1372951826,"answer_id":17473923,"question_id":17472878,"body_markdown":"You must use `string1.equals(string2)` method.\r\n\r\nBefore use it, check if `string1==null || string2==null` ","title":"Java, toLowerCase(), nullPointerException","body":"<p>You must use <code>string1.equals(string2)</code> method.</p>\n\n<p>Before use it, check if <code>string1==null || string2==null</code> </p>\n"}],"owner":{"account_id":2889556,"reputation":1,"user_id":2478656,"display_name":"Max"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9883,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657469620,"answer_count":3,"score":-1,"last_activity_date":1657371805,"creation_date":1372948292,"question_id":17472878,"body_markdown":"I am writing a program in java that works with Postgresql. Records in database have different languages, such as English, french and Spanish. While using searching I&#39;m getting nullPointerException when a program comes to converting of the record from database (customer name) toLowerCase(). My problem is that I don&#39;t know the language of processed record, because characters looks similar.\r\n\r\nQuestion: are there alternatives for toLowerCase() that compares characters without specifying a locale, just by comparing character by character and if one is different that another one, it returns false. Simply if Chinese character is different than the English one, return false.\r\n\r\nSomething like a = a returns true, but a = 诶 returns false, without giving me nullPointException.","title":"Java, toLowerCase(), nullPointerException","body":"<p>I am writing a program in java that works with Postgresql. Records in database have different languages, such as English, french and Spanish. While using searching I'm getting nullPointerException when a program comes to converting of the record from database (customer name) toLowerCase(). My problem is that I don't know the language of processed record, because characters looks similar.</p>\n\n<p>Question: are there alternatives for toLowerCase() that compares characters without specifying a locale, just by comparing character by character and if one is different that another one, it returns false. Simply if Chinese character is different than the English one, return false.</p>\n\n<p>Something like a = a returns true, but a = 诶 returns false, without giving me nullPointException.</p>\n"},{"tags":["java","xml","sax"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1505508948,"post_id":46245803,"comment_id":79458919,"body_markdown":"It&#39;s always useful to say which XSLT processor you are using. (The fact that one of your serialization parameters is Xalan-specific gives a clue, but is not hard evidence).","body":"It&#39;s always useful to say which XSLT processor you are using. (The fact that one of your serialization parameters is Xalan-specific gives a clue, but is not hard evidence)."},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1505509873,"post_id":46245803,"comment_id":79459258,"body_markdown":"@Michael Kay I added imports. Or I don&#39;t understand you. Didn&#39;t I provide necessary information?","body":"@Michael Kay I added imports. Or I don&#39;t understand you. Didn&#39;t I provide necessary information?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1505520670,"post_id":46245803,"comment_id":79461998,"body_markdown":"OK, if you weren&#39;t aware that there is more than one XSLT processor that implements the JAXP interface, then you&#39;re probably using the default one that comes with the JDK, which effectively answers the question.","body":"OK, if you weren&#39;t aware that there is more than one XSLT processor that implements the JAXP interface, then you&#39;re probably using the default one that comes with the JDK, which effectively answers the question."},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1505557771,"post_id":46245803,"comment_id":79469154,"body_markdown":"@Michael Kay I see. But it answers your question, but not mine :). From your profile I read that you are xml specialist. Can you give any hint? I don&#39;t understand why such simple task as to write xml file using the default implementation makes such `end of line` problem. Only I have such problem? How to solve it?","body":"@Michael Kay I see. But it answers your question, but not mine :). From your profile I read that you are xml specialist. Can you give any hint? I don&#39;t understand why such simple task as to write xml file using the default implementation makes such <code>end of line</code> problem. Only I have such problem? How to solve it?"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505722423,"creation_date":1505579806,"answer_id":46256114,"question_id":46245803,"body_markdown":"Let&#39;s assume you are using the built-in XSLT processor that comes with Java. That&#39;s an XSLT 1.0 processor, so we need to look to the XSLT 1.0 specification. \r\n\r\nThis is what XSLT 1.0 says about indent=&quot;yes&quot;:\r\n\r\n&gt; If the indent attribute has the value yes, then the xml output method\r\n&gt; may output whitespace in addition to the whitespace in the result tree\r\n&gt; (possibly based on whitespace stripped from either the source document\r\n&gt; or the stylesheet) in order to indent the result nicely; if the indent\r\n&gt; attribute has the value no, it should not output any additional\r\n&gt; whitespace. The default value is no. The xml output method should use\r\n&gt; an algorithm to output additional whitespace that ensures that the\r\n&gt; result if whitespace were to be stripped from the output using the\r\n&gt; process described in [3.4 Whitespace Stripping] with the set of\r\n&gt; whitespace-preserving elements consisting of just xsl:text would be\r\n&gt; the same when additional whitespace is output as when additional\r\n&gt; whitespace is not output.\r\n\r\nThat&#39;s all rather convoluted but the bottom line is that the processor MAY output a newline at the point where you want it, but is under no obligation to do so.\r\n\r\nIf you use Saxon as your XSLT processor, then it does output a newline at this point.\r\n\r\nBut you haven&#39;t said why this newline is so important to you. You describe not having it as a &quot;problem&quot;, but why is it a problem? If you parse the generated document using a standard XML parser then any newline at this point will be ignored. There is one case where it makes a difference, namely if the XML you generate is used as an external parsed entity incorporated into some larger document. But for that case you definitely DON&#39;T want the newline (which is perhaps why Xalan doesn&#39;t output it).\r\n\r\n**NOTE**: See also https://stackoverflow.com/questions/46171974/remove-space-in-between-doctype-in-xml-using-xslt where the user this time is complaining about newlines in the serialized output that in this case aren&#39;t wanted. If you care about such differences between alternative serializations of the same document, which won&#39;t affect the way any conformant parser handles the document, then (a) you&#39;re probably going to have to write your own serializer, (b) you&#39;re going to lose one of the major benefits of XML which is the availability of lots of conformant tools, and (c) you&#39;re doing something wrong: probably using a non-conformant parser (or no parser at all) to process the generated XML.","title":"SAX Transformer and end of line after &lt;?xml ... ?&gt;","body":"<p>Let's assume you are using the built-in XSLT processor that comes with Java. That's an XSLT 1.0 processor, so we need to look to the XSLT 1.0 specification. </p>\n\n<p>This is what XSLT 1.0 says about indent=\"yes\":</p>\n\n<blockquote>\n  <p>If the indent attribute has the value yes, then the xml output method\n  may output whitespace in addition to the whitespace in the result tree\n  (possibly based on whitespace stripped from either the source document\n  or the stylesheet) in order to indent the result nicely; if the indent\n  attribute has the value no, it should not output any additional\n  whitespace. The default value is no. The xml output method should use\n  an algorithm to output additional whitespace that ensures that the\n  result if whitespace were to be stripped from the output using the\n  process described in [3.4 Whitespace Stripping] with the set of\n  whitespace-preserving elements consisting of just xsl:text would be\n  the same when additional whitespace is output as when additional\n  whitespace is not output.</p>\n</blockquote>\n\n<p>That's all rather convoluted but the bottom line is that the processor MAY output a newline at the point where you want it, but is under no obligation to do so.</p>\n\n<p>If you use Saxon as your XSLT processor, then it does output a newline at this point.</p>\n\n<p>But you haven't said why this newline is so important to you. You describe not having it as a \"problem\", but why is it a problem? If you parse the generated document using a standard XML parser then any newline at this point will be ignored. There is one case where it makes a difference, namely if the XML you generate is used as an external parsed entity incorporated into some larger document. But for that case you definitely DON'T want the newline (which is perhaps why Xalan doesn't output it).</p>\n\n<p><strong>NOTE</strong>: See also <a href=\"https://stackoverflow.com/questions/46171974/remove-space-in-between-doctype-in-xml-using-xslt\">Remove space in between doctype in XML using XSLT</a> where the user this time is complaining about newlines in the serialized output that in this case aren't wanted. If you care about such differences between alternative serializations of the same document, which won't affect the way any conformant parser handles the document, then (a) you're probably going to have to write your own serializer, (b) you're going to lose one of the major benefits of XML which is the availability of lots of conformant tools, and (c) you're doing something wrong: probably using a non-conformant parser (or no parser at all) to process the generated XML.</p>\n"},{"tags":[],"owner":{"account_id":5671207,"reputation":1,"user_id":4485788,"display_name":"Daniel Bausch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540458356,"creation_date":1540454200,"answer_id":52984165,"question_id":46245803,"body_markdown":"For me, it worked with indent and XML `standalone=&quot;yes&quot;`.\r\n\r\n    transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;yes&quot;)\r\n\r\nOf course, however, this requires your client or application to tolerate the standalone declaration.","title":"SAX Transformer and end of line after &lt;?xml ... ?&gt;","body":"<p>For me, it worked with indent and XML <code>standalone=\"yes\"</code>.</p>\n\n<pre><code>transformer.setOutputProperty(OutputKeys.STANDALONE, \"yes\")\n</code></pre>\n\n<p>Of course, however, this requires your client or application to tolerate the standalone declaration.</p>\n"},{"tags":[],"owner":{"account_id":25766292,"reputation":88,"user_id":19516175,"display_name":"Oleksandr Myronets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657370996,"creation_date":1657370882,"answer_id":72921486,"question_id":46245803,"body_markdown":"Quick and simple way to achieve what you need is to modify the last line of your code example in the following way: \r\n\r\n    return writer.toString().replaceFirst(&quot;&gt;&quot;, &quot;&gt;\\n&quot;);","title":"SAX Transformer and end of line after &lt;?xml ... ?&gt;","body":"<p>Quick and simple way to achieve what you need is to modify the last line of your code example in the following way:</p>\n<pre><code>return writer.toString().replaceFirst(&quot;&gt;&quot;, &quot;&gt;\\n&quot;);\n</code></pre>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46256114,"answer_count":3,"score":1,"last_activity_date":1657370996,"creation_date":1505501286,"question_id":46245803,"body_markdown":"To write my xml code I use the following code:\r\n\r\n    import javax.xml.stream.XMLOutputFactory;\r\n    import javax.xml.stream.XMLStreamWriter;\r\n    ...\r\n    XMLOutputFactory xMLOutputFactory = XMLOutputFactory.newInstance();\r\n    XMLStreamWriter writer = xMLOutputFactory.createXMLStreamWriter(stringWriter);\r\n    writer.writeStartDocument(&quot;UTF-8&quot;, &quot;1.0&quot;);\r\n    writer.writeCharacters(&quot;\\n&quot;);\r\n    //I tried also writer.writeCharacters(System.getProperty(&quot;line.separator&quot;));\r\n    writer.writeStartElement(&quot;settings&quot;);\r\n    ...\r\n\r\nTo transform one line xml to multiline normal xml format I use the following code:\r\n\r\n    public String transform(final String xml) throws XMLStreamException, TransformerException {\r\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n        transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n        Writer writer = new StringWriter();\r\n        transformer.transform(new StreamSource(new StringReader(xml)), new StreamResult(writer));\r\n        return writer.toString();\r\n    }\r\n\r\nAnd this is the result\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;settings&gt;\r\n       ...\r\n    &lt;/settings&gt;\r\nAs you see the `&lt;settings` is on the first line. How can I make `&lt;settings&gt;` move to the second line to get the following result\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings&gt;\r\n       ...\r\n    &lt;/settings&gt;\r\nHow to do it?","title":"SAX Transformer and end of line after &lt;?xml ... ?&gt;","body":"<p>To write my xml code I use the following code:</p>\n\n<pre><code>import javax.xml.stream.XMLOutputFactory;\nimport javax.xml.stream.XMLStreamWriter;\n...\nXMLOutputFactory xMLOutputFactory = XMLOutputFactory.newInstance();\nXMLStreamWriter writer = xMLOutputFactory.createXMLStreamWriter(stringWriter);\nwriter.writeStartDocument(\"UTF-8\", \"1.0\");\nwriter.writeCharacters(\"\\n\");\n//I tried also writer.writeCharacters(System.getProperty(\"line.separator\"));\nwriter.writeStartElement(\"settings\");\n...\n</code></pre>\n\n<p>To transform one line xml to multiline normal xml format I use the following code:</p>\n\n<pre><code>public String transform(final String xml) throws XMLStreamException, TransformerException {\n    Transformer transformer = TransformerFactory.newInstance().newTransformer();\n    transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n    transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"4\");\n    Writer writer = new StringWriter();\n    transformer.transform(new StreamSource(new StringReader(xml)), new StreamResult(writer));\n    return writer.toString();\n}\n</code></pre>\n\n<p>And this is the result</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;settings&gt;\n   ...\n&lt;/settings&gt;\n</code></pre>\n\n<p>As you see the <code>&lt;settings</code> is on the first line. How can I make <code>&lt;settings&gt;</code> move to the second line to get the following result</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;settings&gt;\n   ...\n&lt;/settings&gt;\n</code></pre>\n\n<p>How to do it?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1527629464,"creation_date":1527629464,"answer_id":50593263,"question_id":50593204,"body_markdown":"That code is wrong and  won&#39;t compile. `int randomNumber;` declares a local variable that goes out of scope immediately after the `guessclick()` method returns. It&#39;s subsuquent use in `onCreate()` will not compile as that variable has not been declared in scope to that method.\r\n\r\nI&#39;m guessing they meant to declare `randomNumber` as an instance field of `MainActivity`,\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n            int randomNumber;\r\n\r\n","title":"Android Studio - JAVA - Variable might not have been initialized","body":"<p>That code is wrong and  won't compile. <code>int randomNumber;</code> declares a local variable that goes out of scope immediately after the <code>guessclick()</code> method returns. It's subsuquent use in <code>onCreate()</code> will not compile as that variable has not been declared in scope to that method.</p>\n\n<p>I'm guessing they meant to declare <code>randomNumber</code> as an instance field of <code>MainActivity</code>,</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n        int randomNumber;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11166167,"reputation":57,"user_id":8194783,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527629907,"creation_date":1527629743,"answer_id":50593321,"question_id":50593204,"body_markdown":"You can try:\r\nBecause you use &quot;randomNumber&quot; like global value\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n      \r\n        int randomNumber;\r\n        \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Random rand = new Random();\r\n            randomNumber = rand.nextInt(20) + 1;\r\n        }\r\n    }","title":"Android Studio - JAVA - Variable might not have been initialized","body":"<p>You can try:\nBecause you use \"randomNumber\" like global value</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n    int randomNumber;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Random rand = new Random();\n        randomNumber = rand.nextInt(20) + 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25766340,"reputation":1,"user_id":19516216,"display_name":"aya hareedy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657370973,"creation_date":1657370973,"answer_id":72921493,"question_id":50593204,"body_markdown":"Because randomNumber is a local variable ,you can&#39;t use local variables outside it scope ","title":"Android Studio - JAVA - Variable might not have been initialized","body":"<p>Because randomNumber is a local variable ,you can't use local variables outside it scope</p>\n"}],"owner":{"account_id":3335085,"reputation":59,"user_id":2802898,"accept_rate":83,"display_name":"Matthias M&#252;ller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4398,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":50593263,"answer_count":3,"score":0,"last_activity_date":1657370973,"creation_date":1527629251,"question_id":50593204,"body_markdown":"I&#39;m completely new to JAVA / Android so I take a course on udemy to learn that.\r\nThis is the code where I stuck:\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    \r\n    import java.util.Random;\r\n    \r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public void guessclick(View view){\r\n            int randomNumber;\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Random rand = new Random();\r\n            randomNumber = rand.nextInt(20) + 1;\r\n        }\r\n    }\r\n\r\nThis is **exactly** the same code which the teacher in the lesson video got and it works by him but I get `error: Variable randomNumber might not have been initialized` and when I put `randomNumber` in the &quot;Toaster&quot; and run the app is crash. Do someone know the solution? I found answers with same issue but with another codes and it didn&#39;t help me.","title":"Android Studio - JAVA - Variable might not have been initialized","body":"<p>I'm completely new to JAVA / Android so I take a course on udemy to learn that.\nThis is the code where I stuck:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\n\nimport java.util.Random;\n\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    public void guessclick(View view){\n        int randomNumber;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Random rand = new Random();\n        randomNumber = rand.nextInt(20) + 1;\n    }\n}\n</code></pre>\n\n<p>This is <strong>exactly</strong> the same code which the teacher in the lesson video got and it works by him but I get <code>error: Variable randomNumber might not have been initialized</code> and when I put <code>randomNumber</code> in the \"Toaster\" and run the app is crash. Do someone know the solution? I found answers with same issue but with another codes and it didn't help me.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13689867,"reputation":66,"user_id":9877961,"display_name":"Jelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657213551,"creation_date":1657213551,"answer_id":72901794,"question_id":72901514,"body_markdown":"Did you check the constraints in your database? The 500 error indicates an internal server error. It seems like there might be a unique constraint in your relation table which causes an SQL exception. If this exception is not properly caught it will get rethrown as an internal server error.","title":"Error: Duplicate key value violates uniqueness constraint","body":"<p>Did you check the constraints in your database? The 500 error indicates an internal server error. It seems like there might be a unique constraint in your relation table which causes an SQL exception. If this exception is not properly caught it will get rethrown as an internal server error.</p>\n"},{"tags":[],"owner":{"account_id":25482982,"reputation":1,"user_id":19418162,"display_name":"Никита Царев"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657370600,"creation_date":1657370600,"answer_id":72921459,"question_id":72901514,"body_markdown":"I still don&#39;t fully understand why this is the case, but I still want to leave a solution to my question.\r\n\r\nIt was only worth adding a save method for `User`\r\n\r\n     public User saveUser(User user) {\r\n        return userRepository.save(user);\r\n    }\r\n\r\nWhich is strange, because before that all my users were quietly saved.","title":"Error: Duplicate key value violates uniqueness constraint","body":"<p>I still don't fully understand why this is the case, but I still want to leave a solution to my question.</p>\n<p>It was only worth adding a save method for <code>User</code></p>\n<pre><code> public User saveUser(User user) {\n    return userRepository.save(user);\n}\n</code></pre>\n<p>Which is strange, because before that all my users were quietly saved.</p>\n"}],"owner":{"account_id":25482982,"reputation":1,"user_id":19418162,"display_name":"Никита Царев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72921459,"answer_count":2,"score":0,"last_activity_date":1657370600,"creation_date":1657212192,"question_id":72901514,"body_markdown":"When trying to send a request, with the same &quot;flower_id&quot;, to Postman, returns 500 with message:\r\n\r\n&gt;&quot;could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement.&quot;\r\n\r\nAt the same time, it does not matter if the same ids are in the same request or in different ones with different users, if one flower has already been added earlier, it is no longer possible to add it to another user.\r\n\r\nEntity `Order`:\r\n\r\n    import javax.persistence.*;\r\n    import java.time.LocalDate;\r\n    import java.util.List;\r\n\r\n    @Entity\r\n    @Table(name = &quot;orders&quot;)\r\n    public class Order {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private LocalDate orderCreateDate;\r\n        private LocalDate orderCompleteDate;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private User user;\r\n        @ManyToMany\r\n        private List&lt;Flower&gt; flower;\r\n        private Integer price;\r\n\r\n        public Order() {\r\n        }\r\n\r\n        public Order(LocalDate orderCreateDate, LocalDate orderCompleteDate, User user, List&lt;Flower&gt; flower) {\r\n            this.orderCreateDate = orderCreateDate;\r\n            this.orderCompleteDate = orderCompleteDate;\r\n            this.user = user;\r\n            this.flower = flower;\r\n        }\r\n\r\n        //Getters and setters\r\n    }\r\n\r\nEntity `Flower`:\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Entity\r\n    @Table(name = &quot;flowers&quot;)\r\n    public class Flower {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private Integer price;\r\n\r\n        public Flower() {\r\n        }\r\n\r\n        public Flower (String name, Integer price) {\r\n            this.name = name;\r\n            this.price = price;\r\n        }\r\n\r\n        //Getters and Setters\r\n    }\r\n\r\n`OrderService`:\r\n\r\n    import com.learning.flowershop.Entity.Order;\r\n    import com.learning.flowershop.Repositories.OrderRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import javax.transaction.Transactional;\r\n    import java.util.List;\r\n\r\n    @Service\r\n    public class OrderService {\r\n        private final OrderRepository orderRepository;\r\n\r\n        @Autowired\r\n        public OrderService(OrderRepository orderRepository) {\r\n            this.orderRepository = orderRepository;\r\n        }\r\n\r\n        public List&lt;Order&gt; getAllOrdersByUserId(Long userId) {\r\n            return orderRepository.findAllByUserId(userId);\r\n        }\r\n\r\n        @Transactional\r\n        public void saveOrder(Order order) {\r\n            orderRepository.save(order);\r\n        }\r\n    }\r\n","title":"Error: Duplicate key value violates uniqueness constraint","body":"<p>When trying to send a request, with the same &quot;flower_id&quot;, to Postman, returns 500 with message:</p>\n<blockquote>\n<p>&quot;could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement.&quot;</p>\n</blockquote>\n<p>At the same time, it does not matter if the same ids are in the same request or in different ones with different users, if one flower has already been added earlier, it is no longer possible to add it to another user.</p>\n<p>Entity <code>Order</code>:</p>\n<pre><code>import javax.persistence.*;\nimport java.time.LocalDate;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;orders&quot;)\npublic class Order {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private LocalDate orderCreateDate;\n    private LocalDate orderCompleteDate;\n    @ManyToOne(fetch = FetchType.LAZY)\n    private User user;\n    @ManyToMany\n    private List&lt;Flower&gt; flower;\n    private Integer price;\n\n    public Order() {\n    }\n\n    public Order(LocalDate orderCreateDate, LocalDate orderCompleteDate, User user, List&lt;Flower&gt; flower) {\n        this.orderCreateDate = orderCreateDate;\n        this.orderCompleteDate = orderCompleteDate;\n        this.user = user;\n        this.flower = flower;\n    }\n\n    //Getters and setters\n}\n</code></pre>\n<p>Entity <code>Flower</code>:</p>\n<pre><code>import javax.persistence.*;\n\n@Entity\n@Table(name = &quot;flowers&quot;)\npublic class Flower {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private Integer price;\n\n    public Flower() {\n    }\n\n    public Flower (String name, Integer price) {\n        this.name = name;\n        this.price = price;\n    }\n\n    //Getters and Setters\n}\n</code></pre>\n<p><code>OrderService</code>:</p>\n<pre><code>import com.learning.flowershop.Entity.Order;\nimport com.learning.flowershop.Repositories.OrderRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport javax.transaction.Transactional;\nimport java.util.List;\n\n@Service\npublic class OrderService {\n    private final OrderRepository orderRepository;\n\n    @Autowired\n    public OrderService(OrderRepository orderRepository) {\n        this.orderRepository = orderRepository;\n    }\n\n    public List&lt;Order&gt; getAllOrdersByUserId(Long userId) {\n        return orderRepository.findAllByUserId(userId);\n    }\n\n    @Transactional\n    public void saveOrder(Order order) {\n        orderRepository.save(order);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657370588,"creation_date":1657370588,"question_id":72921457,"body_markdown":"I&#39;m new to java and spring. I would like please to know how I can handle the following situation:\r\nI have a spring boot app (generated by JHipster). \r\nIn my post method I have to check if the entity given by the user respect some business rules otherwise a throw a bad request. this section (56 lines) where I validate all that, I should put it as well in patch/put methods. So my question how I can handle this so I wouldn&#39;t have a duplicate code.\r\n\r\n1. I thought to put it in the service layer but, I use a lot of `Bad request` in that section which is linked to the web layer.\r\n\r\n2. I thought to put it as separate method in the controller and call it in post/patch/put but I don&#39;t know if this is a bad practice.\r\n```\r\n@PostMapping(&quot;/envoices&quot;)\r\npublic ResponseEntity&lt;EnvoiceDTO&gt; createEnvoice(@RequestBody CreateEnvoiceDTO createEnvoiceDTO)\r\n            throws URISyntaxException {\r\n            log.debug(&quot;REST request to save Envoice : {}&quot;, createEnvoiceDTO);\r\n\r\n            /*section start*/\r\n\r\n            if (createEnvoiceDTO.getId() != null) {\r\n                throw new BadRequestAlertException(&quot;A new Envoice cannot already have an ID&quot;, ENTITY_NAME, &quot;idexists&quot;);\r\n            }\r\n            if (\r\n                !createEnvoiceDTO.getTerminal().equals(CITY1) &amp;&amp;\r\n                !createEnvoiceDTO.getTerminal().equals(CITY2) &amp;&amp;\r\n                !createEnvoiceDTO.getTerminal().equals(CITY3) &amp;&amp;\r\n                !createEnvoiceDTO.getTerminal().equals(CITY4)\r\n            ) {\r\n                throw new BadRequestAlertException(&quot;Invalid terminal&quot;, ENTITY_NAME, &quot;&quot;);\r\n            }\r\n            if (createEnvoiceDTO.getNumEsc().isEmpty()) {\r\n                throw new BadRequestAlertException(&quot;Num esc can&#39;t be empty&quot;, ENTITY_NAME, &quot;&quot;);\r\n            }\r\n            EnvoiceParameter file = envoiceParameterRepository.findFileByTerminalS(\r\n                createEnvoiceDTO.getTerminal()\r\n            );\r\n    \r\n    \r\n\r\n            List&lt;Av&gt; esc = avService.findAllByX(file.getX().getId(), null).toList();\r\n            if (esc.isEmpty()) {\r\n              throw new BadRequestAlertException(&quot;this terminal has no esc&quot;, ENTITY_NAME, &quot;&quot;);\r\n            } \r\n\r\n            //...\r\n\r\n           /*section end*/\r\n           Envoice envoice= envoiceMapper.envoiceDTOToEnvoice(createEnvoiceDTO);\r\n           EnvoiceDTO result = envoiceMapper.envoiceToEnvoiceDTO(\r\n             envoiceService.createEnvoice(envoice)\r\n           );\r\n           return ResponseEntity\r\n            .created(new URI(&quot;/api/envoices/&quot; + result.getId()))\r\n            .headers(HeaderUtil.createEntityCreationAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\r\n            .body(result);\r\n    }\r\n```","title":"Refactor a controller method that uses Bad request in spring boot","body":"<p>I'm new to java and spring. I would like please to know how I can handle the following situation:\nI have a spring boot app (generated by JHipster).\nIn my post method I have to check if the entity given by the user respect some business rules otherwise a throw a bad request. this section (56 lines) where I validate all that, I should put it as well in patch/put methods. So my question how I can handle this so I wouldn't have a duplicate code.</p>\n<ol>\n<li><p>I thought to put it in the service layer but, I use a lot of <code>Bad request</code> in that section which is linked to the web layer.</p>\n</li>\n<li><p>I thought to put it as separate method in the controller and call it in post/patch/put but I don't know if this is a bad practice.</p>\n</li>\n</ol>\n<pre><code>@PostMapping(&quot;/envoices&quot;)\npublic ResponseEntity&lt;EnvoiceDTO&gt; createEnvoice(@RequestBody CreateEnvoiceDTO createEnvoiceDTO)\n            throws URISyntaxException {\n            log.debug(&quot;REST request to save Envoice : {}&quot;, createEnvoiceDTO);\n\n            /*section start*/\n\n            if (createEnvoiceDTO.getId() != null) {\n                throw new BadRequestAlertException(&quot;A new Envoice cannot already have an ID&quot;, ENTITY_NAME, &quot;idexists&quot;);\n            }\n            if (\n                !createEnvoiceDTO.getTerminal().equals(CITY1) &amp;&amp;\n                !createEnvoiceDTO.getTerminal().equals(CITY2) &amp;&amp;\n                !createEnvoiceDTO.getTerminal().equals(CITY3) &amp;&amp;\n                !createEnvoiceDTO.getTerminal().equals(CITY4)\n            ) {\n                throw new BadRequestAlertException(&quot;Invalid terminal&quot;, ENTITY_NAME, &quot;&quot;);\n            }\n            if (createEnvoiceDTO.getNumEsc().isEmpty()) {\n                throw new BadRequestAlertException(&quot;Num esc can't be empty&quot;, ENTITY_NAME, &quot;&quot;);\n            }\n            EnvoiceParameter file = envoiceParameterRepository.findFileByTerminalS(\n                createEnvoiceDTO.getTerminal()\n            );\n    \n    \n\n            List&lt;Av&gt; esc = avService.findAllByX(file.getX().getId(), null).toList();\n            if (esc.isEmpty()) {\n              throw new BadRequestAlertException(&quot;this terminal has no esc&quot;, ENTITY_NAME, &quot;&quot;);\n            } \n\n            //...\n\n           /*section end*/\n           Envoice envoice= envoiceMapper.envoiceDTOToEnvoice(createEnvoiceDTO);\n           EnvoiceDTO result = envoiceMapper.envoiceToEnvoiceDTO(\n             envoiceService.createEnvoice(envoice)\n           );\n           return ResponseEntity\n            .created(new URI(&quot;/api/envoices/&quot; + result.getId()))\n            .headers(HeaderUtil.createEntityCreationAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\n            .body(result);\n    }\n</code></pre>\n"},{"tags":["java","maven","command-line"],"owner":{"account_id":11571418,"reputation":1,"user_id":8478081,"display_name":"Frederic Peugny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657370433,"creation_date":1657370433,"question_id":72921431,"body_markdown":"I ran the maven https://www.javatpoint.com/maven-example tutorial (java core) but get without solution now on the mvn clean compile -e [ERROR]\r\nI searched many options on the web to set the jdk instead of the jre and the compiler version, .m2 directory cleaning but still not ok\r\n\r\n        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project CubeGenerator: Compilation failure -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project CubeGenerator: Compilation failure\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (Unknown Source)\r\n        at java.lang.reflect.Method.invoke (Unknown Source)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:862)\r\n        at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:129)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (Unknown Source)\r\n        at java.lang.reflect.Method.invoke (Unknown Source)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n    Le chemin d’acc&#232;s sp&#233;cifi&#233; est introuvable.\r\n\r\npom.xml:\r\n\r\n       &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.javatpoint&lt;/groupId&gt;\r\n      &lt;artifactId&gt;CubeGenerator&lt;/artifactId&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;CubeGenerator&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n    \t  &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1&lt;/version&gt;                \r\n    \t\t&lt;configuration&gt;\r\n                        &lt;fork&gt;true&lt;/fork&gt;\r\n                        &lt;executable&gt;C:\\Program Files\\Java\\jdk-18.0.1.1\\bin\\javac.exe&lt;/executable&gt;\r\n    \t\t\t\r\n                        &lt;source&gt;18&lt;/source&gt;\r\n                        &lt;target&gt;18&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\t\t  \r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;properties&gt;\r\n    \t  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t  &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n    \t  &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nI am sure this is caused from the compiler path or version but I have checked both: jdk is ver 18 (same for jre)\r\nJAVA_HOME is C:\\Program Files\\Java\\jdk-18.0.1.1\\bin\r\nM2_HOME is C:\\Program Files\\apache-maven-xxx\\bin\r\n\r\nIf it does not work I will continue in eclipse but for this I cannot rely on my small laptop, so this will take time\r\nHas anyone an idea?\r\n","title":"[java][maven] How to set correctly the compiler build path in command line","body":"<p>I ran the maven <a href=\"https://www.javatpoint.com/maven-example\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/maven-example</a> tutorial (java core) but get without solution now on the mvn clean compile -e [ERROR]\nI searched many options on the web to set the jdk instead of the jre and the compiler version, .m2 directory cleaning but still not ok</p>\n<pre><code>    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project CubeGenerator: Compilation failure -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project CubeGenerator: Compilation failure\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (Unknown Source)\n    at java.lang.reflect.Method.invoke (Unknown Source)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:862)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:129)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (Unknown Source)\n    at java.lang.reflect.Method.invoke (Unknown Source)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\nLe chemin d’accès spécifié est introuvable.\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>   &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.javatpoint&lt;/groupId&gt;\n  &lt;artifactId&gt;CubeGenerator&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;CubeGenerator&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n      &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;                \n        &lt;configuration&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;executable&gt;C:\\Program Files\\Java\\jdk-18.0.1.1\\bin\\javac.exe&lt;/executable&gt;\n            \n                    &lt;source&gt;18&lt;/source&gt;\n                    &lt;target&gt;18&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;         \n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;properties&gt;\n      &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n      &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I am sure this is caused from the compiler path or version but I have checked both: jdk is ver 18 (same for jre)\nJAVA_HOME is C:\\Program Files\\Java\\jdk-18.0.1.1\\bin\nM2_HOME is C:\\Program Files\\apache-maven-xxx\\bin</p>\n<p>If it does not work I will continue in eclipse but for this I cannot rely on my small laptop, so this will take time\nHas anyone an idea?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","nullpointerexception"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1657293649,"post_id":72913498,"comment_id":128783641,"body_markdown":"Welcome to Stack Overflow. Please take a look on https://stackoverflow.com/help/how-to-ask and update your post.","body":"Welcome to Stack Overflow. Please take a look on <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and update your post."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1657369791,"post_id":72913498,"comment_id":128797002,"body_markdown":"By the way, `kafka_2.13` is the server dependency, not the client or test package. You might want to look at using `spring-kafka` dependency","body":"By the way, <code>kafka_2.13</code> is the server dependency, not the client or test package. You might want to look at using <code>spring-kafka</code> dependency"}],"owner":{"account_id":25741586,"reputation":1,"user_id":19495480,"display_name":"AfTech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657383954,"answer_count":0,"score":0,"last_activity_date":1657369688,"creation_date":1657293179,"question_id":72913498,"body_markdown":"I upgraded the application from spring boot version 2.6.7 to 2.7.0 and started getting below errors which caused the failure of all test cases. \r\n```\r\nFailed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException\r\nCaused by: java.lang.NullPointerException at WebMvcPatternsRequestConditionWrappe\r\nCaused by: org.springframework.context.ApplicationContextException at DefaultLifecycleProcessor\r\n```\r\n\r\n\r\n I do have below dependencies in my build.gradle file :\r\n```\r\nimplementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version: &#39;3.0.0&#39;\r\nimplementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.6.9&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-actuator:2.7.0&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web:2.7.0&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb:2.7.0&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-validation:2.7.0&#39;\r\nimplementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\nimplementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;31.1-jre&#39;\r\nimplementation group: &#39;org.apache.kafka&#39;, name: &#39;kafka_2.13&#39;, version: &#39;3.1.0&#39; \r\n```\r\n","title":"Errors after upgrading the spring version to 2.7.0","body":"<p>I upgraded the application from spring boot version 2.6.7 to 2.7.0 and started getting below errors which caused the failure of all test cases.</p>\n<pre><code>Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException\nCaused by: java.lang.NullPointerException at WebMvcPatternsRequestConditionWrappe\nCaused by: org.springframework.context.ApplicationContextException at DefaultLifecycleProcessor\n</code></pre>\n<p>I do have below dependencies in my build.gradle file :</p>\n<pre><code>implementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '3.0.0'\nimplementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.6.9'\nimplementation 'org.springframework.boot:spring-boot-starter-actuator:2.7.0'\nimplementation 'org.springframework.boot:spring-boot-starter-web:2.7.0'\nimplementation 'org.springframework.boot:spring-boot-starter-data-mongodb:2.7.0'\nimplementation 'org.springframework.boot:spring-boot-starter-validation:2.7.0'\nimplementation 'io.springfox:springfox-boot-starter:3.0.0'\nimplementation group: 'com.google.guava', name: 'guava', version: '31.1-jre'\nimplementation group: 'org.apache.kafka', name: 'kafka_2.13', version: '3.1.0' \n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1657355471,"post_id":72919839,"comment_id":128794676,"body_markdown":"[mcve] please.. mind the __M__!","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. mind the <b>M</b>!"},{"owner":{"account_id":25762469,"reputation":53,"user_id":19513159,"display_name":"Yash garg"},"score":0,"creation_date":1657359832,"post_id":72919839,"comment_id":128795359,"body_markdown":"@kleopatra, I have removed the extra code now you can check the question again.","body":"@kleopatra, I have removed the extra code now you can check the question again."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1657360250,"post_id":72919839,"comment_id":128795433,"body_markdown":"please read the referenced help page and act accordingly: the minimal example must be runnable as-is and demonstrating the problem - your code doesn&#39;t even compile on my machine :) nor does it demonstrate the problem you are describing. Actually I can reproduce the behavior in the cited question (where a way out is to expose the totalPrice as property from the model, thus not requiring an extractor - which might not be possible always) - looks like a bug in selection (there are many, unfortunately)","body":"please read the referenced help page and act accordingly: the minimal example must be runnable as-is and demonstrating the problem - your code doesn&#39;t even compile on my machine :) nor does it demonstrate the problem you are describing. Actually I can reproduce the behavior in the cited question (where a way out is to expose the totalPrice as property from the model, thus not requiring an extractor - which might not be possible always) - looks like a bug in selection (there are many, unfortunately)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1657360397,"post_id":72919839,"comment_id":128795449,"body_markdown":"beware: your code is doing some stuff that&#39;s not well supported (like adding a row, immediately navigating to a new cell and start editing) - so I would expect problems","body":"beware: your code is doing some stuff that&#39;s not well supported (like adding a row, immediately navigating to a new cell and start editing) - so I would expect problems"},{"owner":{"account_id":25762469,"reputation":53,"user_id":19513159,"display_name":"Yash garg"},"score":0,"creation_date":1657361561,"post_id":72919839,"comment_id":128795662,"body_markdown":"But it works perfectly fine without the extractor so I don&#39;t think adding a row and doing all those stuff is a problem. Besides for a good user experience, I need those functionalities. Is there any work around for this issue for now","body":"But it works perfectly fine without the extractor so I don&#39;t think adding a row and doing all those stuff is a problem. Besides for a good user experience, I need those functionalities. Is there any work around for this issue for now"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1657362311,"post_id":72919839,"comment_id":128795774,"body_markdown":"_I don&#39;t think adding a row and doing all those stuff is a problem_ glad it works for you :) But it&#39;s unrelated to your problem, so it&#39;s unrelated complexity in this context. The problem is: the extractor fires a change of type wasUpdated and table&#39;s selectionModel doesn&#39;t handle that correctly (it does some default updates leading to the artifact here) .. we probably already have an issue but can&#39;t find it right now. That&#39;s unrelated to editing, changing a value programmatically has the same effect. Currently, afaik there&#39;s no way around except not firing update changes (aka: no extractor)","body":"<i>I don&#39;t think adding a row and doing all those stuff is a problem</i> glad it works for you :) But it&#39;s unrelated to your problem, so it&#39;s unrelated complexity in this context. The problem is: the extractor fires a change of type wasUpdated and table&#39;s selectionModel doesn&#39;t handle that correctly (it does some default updates leading to the artifact here) .. we probably already have an issue but can&#39;t find it right now. That&#39;s unrelated to editing, changing a value programmatically has the same effect. Currently, afaik there&#39;s no way around except not firing update changes (aka: no extractor)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1657380009,"post_id":72919839,"comment_id":128799010,"body_markdown":"thanks for the example :) Though don&#39;t quite understand _remove the extractor but then I cannot detect changes in observable list properties_ - which properties? I&#39;m seeing only those exposed by the data class, assuming they are wired internally, there would be no need for the extractor (remember: not using one currently is the only workaround the issue)","body":"thanks for the example :) Though don&#39;t quite understand <i>remove the extractor but then I cannot detect changes in observable list properties</i> - which properties? I&#39;m seeing only those exposed by the data class, assuming they are wired internally, there would be no need for the extractor (remember: not using one currently is the only workaround the issue)"},{"owner":{"account_id":25762469,"reputation":53,"user_id":19513159,"display_name":"Yash garg"},"score":1,"creation_date":1657381557,"post_id":72919839,"comment_id":128799306,"body_markdown":"I have labels which need to be updated with the total quantity and total amount in the table rows, by summing them. So every time there is a change in these values of the list I want to detect changes and update those labels.","body":"I have labels which need to be updated with the total quantity and total amount in the table rows, by summing them. So every time there is a change in these values of the list I want to detect changes and update those labels."},{"owner":{"account_id":25762469,"reputation":53,"user_id":19513159,"display_name":"Yash garg"},"score":1,"creation_date":1657381699,"post_id":72919839,"comment_id":128799330,"body_markdown":"Currently, the workaround I am using is to add a listener to these properties in the constructor and update a static property and then attach a listener to this single property instead of exposing the internal properties of the list","body":"Currently, the workaround I am using is to add a listener to these properties in the constructor and update a static property and then attach a listener to this single property instead of exposing the internal properties of the list"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657394959,"post_id":72919839,"comment_id":128801903,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1657447389,"post_id":72919839,"comment_id":128808165,"body_markdown":"thanks for the clarification :) The hack sounds nasty but can&#39;t think of anything better, unfortunately. Will file a bug to make sure it gets attention in the next cleanup round of selection (there are .. more issues ;)","body":"thanks for the clarification :) The hack sounds nasty but can&#39;t think of anything better, unfortunately. Will file a bug to make sure it gets attention in the next cleanup round of selection (there are .. more issues ;)"},{"owner":{"account_id":25762469,"reputation":53,"user_id":19513159,"display_name":"Yash garg"},"score":0,"creation_date":1657462410,"post_id":72919839,"comment_id":128810894,"body_markdown":"Thanks for the help @kleopatra :) Yes there are many issues in Javafx.","body":"Thanks for the help @kleopatra :) Yes there are many issues in Javafx."}],"owner":{"account_id":25762469,"reputation":53,"user_id":19513159,"display_name":"Yash garg"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657368127,"creation_date":1657353215,"question_id":72919839,"body_markdown":"I have a JavaFX table view with custom editable cells.\r\nIt contains fields for item name, quantity, price, discount, tax and amount.\r\nEvery field is editable using the setCellFactory method and an implementation of a class extended by TableCell class. And I also have an **extractor** on the observable list to detect changes in quantity and amount properties of the list to calculate total values for them. [My question is a duplicate of this question][1], but it wasn&#39;t answered there, so here I am asking it again.\r\nSo when I press on a field it starts editing but as I shift focus using the tab it navigates to the last column and after that, If I click on the cell again it starts editing for a millisecond and then again navigates to the last cell.\r\nThis problem is resolved when I remove the extractor but then I cannot detect changes in observable list properties.\r\nIt behaves weirdly because for some time it works OK and other times it doesn&#39;t.\r\n\r\n[GIF Showing the problem][2]\r\n\r\n**Main Application**\r\n\r\n```lang-java\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;EditableTableView.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n**View FXML Code**\r\n\r\n``` lang-fxml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n\r\n&lt;TableView fx:id=&quot;transactionsTable&quot; editable=&quot;true&quot; maxHeight=&quot;1.7976931348623157E308&quot; minHeight=&quot;-Infinity&quot;\r\n           minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;1200.0&quot; tableMenuButtonVisible=&quot;true&quot;\r\n           xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n           fx:controller=&quot;com.example.testingpurposejavafx.EditableTableViewController&quot;&gt;\r\n    &lt;columns&gt;\r\n        &lt;TableColumn fx:id=&quot;idCol&quot; editable=&quot;false&quot; prefWidth=&quot;50.66670632362366&quot;/&gt;\r\n        &lt;TableColumn fx:id=&quot;qtyCol&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;50.0&quot; text=&quot;quantity&quot;/&gt;\r\n        &lt;TableColumn fx:id=&quot;priceUnitCol&quot; prefWidth=&quot;50.0&quot; text=&quot;price unit&quot;/&gt;\r\n        &lt;TableColumn prefWidth=&quot;200.0&quot; text=&quot;discount&quot;&gt;\r\n            &lt;columns&gt;\r\n                &lt;TableColumn fx:id=&quot;discountRateCol&quot; prefWidth=&quot;150.0&quot; text=&quot;rate&quot;/&gt;\r\n                &lt;TableColumn fx:id=&quot;discountAmountCol&quot; prefWidth=&quot;150.0&quot; text=&quot;amount&quot;/&gt;\r\n            &lt;/columns&gt;\r\n        &lt;/TableColumn&gt;\r\n        &lt;TableColumn prefWidth=&quot;200.0&quot; text=&quot;tax&quot;&gt;\r\n            &lt;columns&gt;\r\n                &lt;TableColumn fx:id=&quot;taxRateCol&quot; prefWidth=&quot;150.0&quot; text=&quot;rate&quot;/&gt;\r\n                &lt;TableColumn fx:id=&quot;taxAmountCol&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;150.0&quot; text=&quot;amount&quot;/&gt;\r\n            &lt;/columns&gt;\r\n        &lt;/TableColumn&gt;\r\n        &lt;TableColumn fx:id=&quot;amountCol&quot; prefWidth=&quot;50.0&quot; text=&quot;amount&quot;/&gt;\r\n    &lt;/columns&gt;\r\n    &lt;columnResizePolicy&gt;\r\n        &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\r\n    &lt;/columnResizePolicy&gt;\r\n&lt;/TableView&gt;\r\n```\r\n\r\n**Table Model Class**\r\n\r\n``` lang-java\r\npackage com.example.testingpurposejavafx;\r\n\r\nimport javafx.beans.property.*;\r\n\r\npublic class TransactionTable {\r\n\r\n    private final IntegerProperty id = new SimpleIntegerProperty();\r\n\r\n    private final StringProperty item = new SimpleStringProperty();\r\n\r\n    private final StringProperty quantity = new SimpleStringProperty();\r\n\r\n    private final StringProperty priceUnit = new SimpleStringProperty();\r\n\r\n    private final StringProperty discountRate = new SimpleStringProperty();\r\n\r\n    private final StringProperty discountAmount = new SimpleStringProperty();\r\n\r\n    private final StringProperty taxRate = new SimpleStringProperty();\r\n\r\n    private final StringProperty taxAmount = new SimpleStringProperty();\r\n\r\n    private final StringProperty amount = new SimpleStringProperty();\r\n\r\n  //Getter Setter and property fields skipped\r\n}\r\n```\r\n\r\n**Main Controller Class**\r\n\r\n``` lang-java\r\npackage com.example.testingpurposejavafx;\r\n\r\nimport javafx.beans.Observable;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TablePosition;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.MouseEvent;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class EditableTableViewController implements Initializable {\r\n\r\n    public TableView&lt;TransactionTable&gt; transactionsTable;\r\n    public TableColumn&lt;TransactionTable, Number&gt; idCol;\r\n    public TableColumn&lt;TransactionTable, String&gt; qtyCol;\r\n    public TableColumn&lt;TransactionTable, String&gt; priceUnitCol;\r\n    public TableColumn&lt;TransactionTable, String&gt; discountRateCol;\r\n    public TableColumn&lt;TransactionTable, String&gt; discountAmountCol;\r\n    public TableColumn&lt;TransactionTable, String&gt; taxRateCol;\r\n    public TableColumn&lt;TransactionTable, String&gt; taxAmountCol;\r\n    public TableColumn&lt;TransactionTable, String&gt; amountCol;\r\n\r\n    public final ObservableList&lt;TransactionTable&gt; transactionList = FXCollections.observableArrayList(transaction -&gt; new Observable[]{transaction.quantityProperty(), transaction.amountProperty()});\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        transactionsTable.setItems(transactionList);\r\ntransactionsTable.getSelectionModel().setCellSelectionEnabled(true);\r\n        setCellValueFactory();\r\n        setCellFactory();\r\n        addRow();\r\n    }\r\n\r\n    private void addRow() {\r\n        var transactionTable = new TransactionTable();\r\n        transactionTable.setId(transactionsTable.getItems().isEmpty() ? 1 : transactionsTable.getItems().size() + 1);\r\n        transactionList.add(transactionTable);\r\n    }\r\n\r\n    private void setCellFactory() {\r\n        qtyCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\r\n        priceUnitCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\r\n        discountRateCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\r\n        discountAmountCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\r\n        taxRateCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\r\n        amountCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\r\n    }\r\n\r\n    private void setCellValueFactory() {\r\n        idCol.setCellValueFactory(cellData -&gt; cellData.getValue().idProperty());\r\n        qtyCol.setCellValueFactory(cellData -&gt; cellData.getValue().quantityProperty());\r\n        priceUnitCol.setCellValueFactory(cellData -&gt; cellData.getValue().priceUnitProperty());\r\n        discountRateCol.setCellValueFactory(cellData -&gt; cellData.getValue().discountRateProperty());\r\n        discountAmountCol.setCellValueFactory(cellData -&gt; cellData.getValue().discountAmountProperty());\r\n        taxRateCol.setCellValueFactory(cellData -&gt; cellData.getValue().taxRateProperty());\r\n        taxAmountCol.setCellValueFactory(cellData -&gt; cellData.getValue().taxAmountProperty());\r\n        amountCol.setCellValueFactory(cellData -&gt; cellData.getValue().amountProperty());\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Text Editing Cell**\r\n\r\n```lang-javafx\r\npackage com.example.testingpurposejavafx;\r\n\r\n\r\nimport javafx.event.Event;\r\nimport javafx.scene.control.*;\r\n\r\npublic class TextEditingCell&lt;S&gt; extends TableCell&lt;S, String&gt; {\r\n    \r\n    protected TextField textField;\r\n\r\n    @Override\r\n    public void startEdit() {\r\n        if (isEmpty()) return;\r\n        super.startEdit();\r\n        createTextField();\r\n        setText(null);\r\n        setGraphic(textField);\r\n        textField.requestFocus();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void cancelEdit() {\r\n        super.cancelEdit();\r\n        setText(getString());\r\n        setGraphic(null);\r\n    }\r\n\r\n    @Override\r\n    public void updateItem(String item, boolean empty) {\r\n        super.updateItem(item, empty);\r\n        if (empty) {\r\n            setText(item(item));\r\n            setGraphic(null);\r\n            return;\r\n        }\r\n\r\n        if (isEditing()) {\r\n            if (textField != null) {\r\n                textField.setText(item(item));\r\n            }\r\n            setText(null);\r\n            setGraphic(textField);\r\n            return;\r\n        }\r\n\r\n        setText(item(item));\r\n        setGraphic(null);\r\n    }\r\n\r\n    @Override\r\n    public void commitEdit(String item) {\r\n        if (!isEditing()) {\r\n            TableView&lt;S&gt; table = getTableView();\r\n            if (table != null) {\r\n                TableColumn&lt;S, String&gt; column = getTableColumn();\r\n                TableColumn.CellEditEvent&lt;S, String&gt; event = new TableColumn.CellEditEvent&lt;&gt;(table,\r\n                        new TablePosition&lt;&gt;(table, getIndex(), column),\r\n                        TableColumn.editCommitEvent(), item);\r\n                Event.fireEvent(column, event);\r\n            }\r\n        }\r\n        super.commitEdit(item);\r\n    }\r\n\r\n    public void createTextField() {\r\n        this.textField = new TextField();\r\n        textField.setOnAction(e -&gt; commitEdit(textField.getText()));\r\n        textField.focusedProperty().addListener((oV, oldV, newV) -&gt; {\r\n            if (Boolean.FALSE.equals(newV)) commitEdit(textField.getText());\r\n        });\r\n        textField.setText(getString());\r\n    }\r\n\r\n    private String getString() {\r\n        return getItem() == null ? &quot;&quot; : getItem() + &quot;&quot;;\r\n    }\r\n\r\n    public String item(String item) {\r\n        return item == null ? &quot;&quot; : item + &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/61583640/tableview-navigates-to-the-last-row-cell-after-commit-edit-when-using-extractor\r\n  [2]: https://i.stack.imgur.com/Up6Fa.gif","title":"Editable TableView navigates to last cell when using extractor for observable list","body":"<p>I have a JavaFX table view with custom editable cells.\nIt contains fields for item name, quantity, price, discount, tax and amount.\nEvery field is editable using the setCellFactory method and an implementation of a class extended by TableCell class. And I also have an <strong>extractor</strong> on the observable list to detect changes in quantity and amount properties of the list to calculate total values for them. <a href=\"https://stackoverflow.com/questions/61583640/tableview-navigates-to-the-last-row-cell-after-commit-edit-when-using-extractor\">My question is a duplicate of this question</a>, but it wasn't answered there, so here I am asking it again.\nSo when I press on a field it starts editing but as I shift focus using the tab it navigates to the last column and after that, If I click on the cell again it starts editing for a millisecond and then again navigates to the last cell.\nThis problem is resolved when I remove the extractor but then I cannot detect changes in observable list properties.\nIt behaves weirdly because for some time it works OK and other times it doesn't.</p>\n<p><a href=\"https://i.stack.imgur.com/Up6Fa.gif\" rel=\"nofollow noreferrer\">GIF Showing the problem</a></p>\n<p><strong>Main Application</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;EditableTableView.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>View FXML Code</strong></p>\n<pre class=\"lang-fxml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n\n&lt;TableView fx:id=&quot;transactionsTable&quot; editable=&quot;true&quot; maxHeight=&quot;1.7976931348623157E308&quot; minHeight=&quot;-Infinity&quot;\n           minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;1200.0&quot; tableMenuButtonVisible=&quot;true&quot;\n           xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n           fx:controller=&quot;com.example.testingpurposejavafx.EditableTableViewController&quot;&gt;\n    &lt;columns&gt;\n        &lt;TableColumn fx:id=&quot;idCol&quot; editable=&quot;false&quot; prefWidth=&quot;50.66670632362366&quot;/&gt;\n        &lt;TableColumn fx:id=&quot;qtyCol&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;50.0&quot; text=&quot;quantity&quot;/&gt;\n        &lt;TableColumn fx:id=&quot;priceUnitCol&quot; prefWidth=&quot;50.0&quot; text=&quot;price unit&quot;/&gt;\n        &lt;TableColumn prefWidth=&quot;200.0&quot; text=&quot;discount&quot;&gt;\n            &lt;columns&gt;\n                &lt;TableColumn fx:id=&quot;discountRateCol&quot; prefWidth=&quot;150.0&quot; text=&quot;rate&quot;/&gt;\n                &lt;TableColumn fx:id=&quot;discountAmountCol&quot; prefWidth=&quot;150.0&quot; text=&quot;amount&quot;/&gt;\n            &lt;/columns&gt;\n        &lt;/TableColumn&gt;\n        &lt;TableColumn prefWidth=&quot;200.0&quot; text=&quot;tax&quot;&gt;\n            &lt;columns&gt;\n                &lt;TableColumn fx:id=&quot;taxRateCol&quot; prefWidth=&quot;150.0&quot; text=&quot;rate&quot;/&gt;\n                &lt;TableColumn fx:id=&quot;taxAmountCol&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;150.0&quot; text=&quot;amount&quot;/&gt;\n            &lt;/columns&gt;\n        &lt;/TableColumn&gt;\n        &lt;TableColumn fx:id=&quot;amountCol&quot; prefWidth=&quot;50.0&quot; text=&quot;amount&quot;/&gt;\n    &lt;/columns&gt;\n    &lt;columnResizePolicy&gt;\n        &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\n    &lt;/columnResizePolicy&gt;\n&lt;/TableView&gt;\n</code></pre>\n<p><strong>Table Model Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.testingpurposejavafx;\n\nimport javafx.beans.property.*;\n\npublic class TransactionTable {\n\n    private final IntegerProperty id = new SimpleIntegerProperty();\n\n    private final StringProperty item = new SimpleStringProperty();\n\n    private final StringProperty quantity = new SimpleStringProperty();\n\n    private final StringProperty priceUnit = new SimpleStringProperty();\n\n    private final StringProperty discountRate = new SimpleStringProperty();\n\n    private final StringProperty discountAmount = new SimpleStringProperty();\n\n    private final StringProperty taxRate = new SimpleStringProperty();\n\n    private final StringProperty taxAmount = new SimpleStringProperty();\n\n    private final StringProperty amount = new SimpleStringProperty();\n\n  //Getter Setter and property fields skipped\n}\n</code></pre>\n<p><strong>Main Controller Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.testingpurposejavafx;\n\nimport javafx.beans.Observable;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TablePosition;\nimport javafx.scene.control.TableView;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseEvent;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class EditableTableViewController implements Initializable {\n\n    public TableView&lt;TransactionTable&gt; transactionsTable;\n    public TableColumn&lt;TransactionTable, Number&gt; idCol;\n    public TableColumn&lt;TransactionTable, String&gt; qtyCol;\n    public TableColumn&lt;TransactionTable, String&gt; priceUnitCol;\n    public TableColumn&lt;TransactionTable, String&gt; discountRateCol;\n    public TableColumn&lt;TransactionTable, String&gt; discountAmountCol;\n    public TableColumn&lt;TransactionTable, String&gt; taxRateCol;\n    public TableColumn&lt;TransactionTable, String&gt; taxAmountCol;\n    public TableColumn&lt;TransactionTable, String&gt; amountCol;\n\n    public final ObservableList&lt;TransactionTable&gt; transactionList = FXCollections.observableArrayList(transaction -&gt; new Observable[]{transaction.quantityProperty(), transaction.amountProperty()});\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        transactionsTable.setItems(transactionList);\ntransactionsTable.getSelectionModel().setCellSelectionEnabled(true);\n        setCellValueFactory();\n        setCellFactory();\n        addRow();\n    }\n\n    private void addRow() {\n        var transactionTable = new TransactionTable();\n        transactionTable.setId(transactionsTable.getItems().isEmpty() ? 1 : transactionsTable.getItems().size() + 1);\n        transactionList.add(transactionTable);\n    }\n\n    private void setCellFactory() {\n        qtyCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\n        priceUnitCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\n        discountRateCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\n        discountAmountCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\n        taxRateCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\n        amountCol.setCellFactory(param -&gt; new TextEditingCell&lt;&gt;());\n    }\n\n    private void setCellValueFactory() {\n        idCol.setCellValueFactory(cellData -&gt; cellData.getValue().idProperty());\n        qtyCol.setCellValueFactory(cellData -&gt; cellData.getValue().quantityProperty());\n        priceUnitCol.setCellValueFactory(cellData -&gt; cellData.getValue().priceUnitProperty());\n        discountRateCol.setCellValueFactory(cellData -&gt; cellData.getValue().discountRateProperty());\n        discountAmountCol.setCellValueFactory(cellData -&gt; cellData.getValue().discountAmountProperty());\n        taxRateCol.setCellValueFactory(cellData -&gt; cellData.getValue().taxRateProperty());\n        taxAmountCol.setCellValueFactory(cellData -&gt; cellData.getValue().taxAmountProperty());\n        amountCol.setCellValueFactory(cellData -&gt; cellData.getValue().amountProperty());\n    }\n\n}\n</code></pre>\n<p><strong>Text Editing Cell</strong></p>\n<pre class=\"lang-javafx prettyprint-override\"><code>package com.example.testingpurposejavafx;\n\n\nimport javafx.event.Event;\nimport javafx.scene.control.*;\n\npublic class TextEditingCell&lt;S&gt; extends TableCell&lt;S, String&gt; {\n    \n    protected TextField textField;\n\n    @Override\n    public void startEdit() {\n        if (isEmpty()) return;\n        super.startEdit();\n        createTextField();\n        setText(null);\n        setGraphic(textField);\n        textField.requestFocus();\n    }\n\n\n    @Override\n    public void cancelEdit() {\n        super.cancelEdit();\n        setText(getString());\n        setGraphic(null);\n    }\n\n    @Override\n    public void updateItem(String item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty) {\n            setText(item(item));\n            setGraphic(null);\n            return;\n        }\n\n        if (isEditing()) {\n            if (textField != null) {\n                textField.setText(item(item));\n            }\n            setText(null);\n            setGraphic(textField);\n            return;\n        }\n\n        setText(item(item));\n        setGraphic(null);\n    }\n\n    @Override\n    public void commitEdit(String item) {\n        if (!isEditing()) {\n            TableView&lt;S&gt; table = getTableView();\n            if (table != null) {\n                TableColumn&lt;S, String&gt; column = getTableColumn();\n                TableColumn.CellEditEvent&lt;S, String&gt; event = new TableColumn.CellEditEvent&lt;&gt;(table,\n                        new TablePosition&lt;&gt;(table, getIndex(), column),\n                        TableColumn.editCommitEvent(), item);\n                Event.fireEvent(column, event);\n            }\n        }\n        super.commitEdit(item);\n    }\n\n    public void createTextField() {\n        this.textField = new TextField();\n        textField.setOnAction(e -&gt; commitEdit(textField.getText()));\n        textField.focusedProperty().addListener((oV, oldV, newV) -&gt; {\n            if (Boolean.FALSE.equals(newV)) commitEdit(textField.getText());\n        });\n        textField.setText(getString());\n    }\n\n    private String getString() {\n        return getItem() == null ? &quot;&quot; : getItem() + &quot;&quot;;\n    }\n\n    public String item(String item) {\n        return item == null ? &quot;&quot; : item + &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","gradle","intellij-idea","android-jetifier"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1657520988,"post_id":72921177,"comment_id":128820443,"body_markdown":"Use IntelliJ IDEA [**Dependency Analyzer**](https://www.jetbrains.com/help/idea/work-with-maven-dependencies.html#dependency_analyzer) to find out from which dependencies these duplicated `org.jetbrains:annotations` libraries come.","body":"Use IntelliJ IDEA <a href=\"https://www.jetbrains.com/help/idea/work-with-maven-dependencies.html#dependency_analyzer\" rel=\"nofollow noreferrer\"><b>Dependency Analyzer</b></a> to find out from which dependencies these duplicated <code>org.jetbrains:annotations</code> libraries come."}],"owner":{"account_id":18424961,"reputation":11,"user_id":13421516,"display_name":"out_of_username"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657367931,"creation_date":1657367931,"question_id":72921177,"body_markdown":"The duplicate class error. jetters are given true\r\nThis error is poppping even after trying all the methods available in the StackOverflow.\r\n\r\nerror is \r\nDuplicate class org.intellij.lang.annotations.Flow found in modules jetified-annotations-13.0 (org.jetbrains:annotations:13.0) and jetified-annotations-java5-15.0 (org.jetbrains:annotations-java5:15.0)\r\n\r\n[Error image][1]\r\n\r\nComplaintDetailsFragment.java\r\n\r\n    package com.example.ecomplaint;\r\n\r\n        import static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\n        import static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n        \r\n        import android.content.pm.PackageManager;\r\n        import android.graphics.Bitmap;\r\n        import android.graphics.BitmapFactory;\r\n        import android.graphics.Canvas;\r\n        import android.graphics.Paint;\r\n        import android.graphics.Typeface;\r\n        import android.graphics.pdf.PdfDocument;\r\n        import android.os.Bundle;\r\n        import android.os.Environment;\r\n        import android.util.Log;\r\n        import android.view.LayoutInflater;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import android.widget.Button;\r\n        import android.widget.TextView;\r\n        import android.widget.Toast;\r\n        \r\n        import androidx.annotation.NonNull;\r\n        import androidx.annotation.Nullable;\r\n        import androidx.core.app.ActivityCompat;\r\n        import androidx.core.content.ContextCompat;\r\n        import androidx.fragment.app.Fragment;\r\n        \r\n        import com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\n        import com.google.firebase.auth.FirebaseAuth;\r\n        import com.google.firebase.auth.FirebaseUser;\r\n        \r\n        import java.io.File;\r\n        import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n        import java.util.Locale;\r\n        /**\r\n         * A simple {@link Fragment} subclass.\r\n         * Use the {@link ComplaintDetailsFragment#newInstance} factory method to\r\n         * create an instance of this fragment.\r\n         */\r\n        public class ComplaintDetailsFragment extends BottomSheetDialogFragment {\r\n        \r\n        \r\n            // variables for our buttons.\r\n            Button generatePDFbtn;\r\n        \r\n            // declaring width and height\r\n            // for our PDF file.\r\n            int pageHeight = 1120;\r\n            int pagewidth = 792;\r\n        \r\n            // creating a bitmap variable\r\n            // for storing our images\r\n            Bitmap bmp, scaledbmp;\r\n        \r\n            // constant code for runtime permissions\r\n            private static final int PERMISSION_REQUEST_CODE = 200;\r\n        \r\n        \r\n            // TODO: Rename parameter arguments, choose names that match\r\n            // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n            private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n            private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n        \r\n            // TODO: Rename and change types of parameters\r\n            private String mParam1;\r\n            private String mParam2;\r\n        \r\n            com.example.ecomplaint.Complaint present;\r\n        \r\n            public ComplaintDetailsFragment() {\r\n                // Required empty public constructor\r\n            }\r\n        \r\n            public ComplaintDetailsFragment(com.example.ecomplaint.Complaint present){\r\n                this.present=present;\r\n            }\r\n        \r\n            /**\r\n             * Use this factory method to create a new instance of\r\n             * this fragment using the provided parameters.\r\n             *\r\n             * @param param1 Parameter 1.\r\n             * @param param2 Parameter 2.\r\n             * @return A new instance of fragment ComplaintDetailsFragment.\r\n             */\r\n            // TODO: Rename and change types and number of parameters\r\n            public static ComplaintDetailsFragment newInstance(String param1, String param2) {\r\n                ComplaintDetailsFragment fragment = new ComplaintDetailsFragment();\r\n                Bundle args = new Bundle();\r\n                args.putString(ARG_PARAM1, param1);\r\n                args.putString(ARG_PARAM2, param2);\r\n                fragment.setArguments(args);\r\n                return fragment;\r\n            }\r\n        \r\n            @Override\r\n            public void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                if (getArguments() != null) {\r\n                    mParam1 = getArguments().getString(ARG_PARAM1);\r\n                    mParam2 = getArguments().getString(ARG_PARAM2);\r\n                }\r\n            }\r\n        \r\n            @Override\r\n            public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                     Bundle savedInstanceState) {\r\n                // Inflate the layout for this fragment\r\n                return inflater.inflate(R.layout.fragment_complaint_details, container, false);\r\n            }\r\n        \r\n            @Override\r\n            public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n                super.onViewCreated(view, savedInstanceState);\r\n                FirebaseAuth mAuth;\r\n                mAuth = FirebaseAuth.getInstance();\r\n        \r\n                TextView title=view.findViewById(R.id.details_title);\r\n                title.setText(present.getTitle());\r\n        \r\n                TextView name=view.findViewById(R.id.details_name);\r\n                name.setText(present.getName());\r\n        \r\n                TextView regno=view.findViewById(R.id.details_regno);\r\n                regno.setText(present.getRegno());\r\n        \r\n                TextView incident=view.findViewById(R.id.details_info);\r\n                incident.setText(present.getIncident_info());\r\n        \r\n                TextView ComplaintFrom=view.findViewById(R.id.complaintFrom);\r\n                ComplaintFrom.setText(present.getComplaintFrom().getName());\r\n        \r\n                TextView status=view.findViewById(R.id.details_status);\r\n                status.setText(present.getStatus().toUpperCase(Locale.ROOT));\r\n        \r\n        //        TextView expert=view.findViewById(R.id.details_expert);\r\n        //        expert.setText(&quot;EComplaint&quot;);\r\n        //        Button pdf=view.findViewById(R.id.printbtn);\r\n        //        pdf.setOnClickListener(new View.OnClickListener() {\r\n        //            @Override\r\n        //            public void onClick(View v) {\r\n        //                Toast.makeText(getContext(), &quot;PDF button clicked&quot;, Toast.LENGTH_SHORT).show();\r\n        //            }\r\n        //        });\r\n                // initializing our variables.\r\n                generatePDFbtn = view.findViewById(R.id.printbtn);\r\n                bmp = BitmapFactory.decodeResource(getResources(), R.drawable.logo_pdf1);\r\n                scaledbmp = Bitmap.createScaledBitmap(bmp, 140, 140, false);\r\n        \r\n                // below code is used for\r\n                // checking our permissions.\r\n                if (checkPermission()) {\r\n                    Toast.makeText(getContext(), &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    requestPermission();\r\n                }\r\n        \r\n                generatePDFbtn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        // calling method to\r\n                        // generate our PDF file.\r\n                        Toast.makeText(getContext(), &quot;PDF button clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                        generatePDF();\r\n        //                Intent i = new Intent(getContext(),generatePdf.class);\r\n        //                startActivity(i);\r\n                    }\r\n                });\r\n        \r\n        \r\n                FirebaseUser currentUser = mAuth.getCurrentUser();\r\n                Log.i(&quot;this&quot;,currentUser.getDisplayName());\r\n        \r\n                //HomeFragment.arrayList.clear();\r\n                //HomeFragment.adapter.notifyDataSetChanged();\r\n        \r\n        \r\n        \r\n        \r\n        \r\n            }\r\n        \r\n            private void generatePDF() {\r\n                // creating an object variable\r\n                // for our PDF document.\r\n                PdfDocument pdfDocument = new PdfDocument();\r\n        \r\n                // two variables for paint &quot;paint&quot; is used\r\n                // for drawing shapes and we will use &quot;title&quot;\r\n                // for adding text in our PDF file.\r\n                Paint paint = new Paint();\r\n                Paint title = new Paint();\r\n        \r\n                // we are adding page info to our PDF file\r\n                // in which we will be passing our pageWidth,\r\n                // pageHeight and number of pages and after that\r\n                // we are calling it to create our PDF.\r\n                PdfDocument.PageInfo mypageInfo = new PdfDocument.PageInfo.Builder(pagewidth, pageHeight, 1).create();\r\n        \r\n                // below line is used for setting\r\n                // start page for our PDF file.\r\n                PdfDocument.Page myPage = pdfDocument.startPage(mypageInfo);\r\n        \r\n                // creating a variable for canvas\r\n                // from our page of PDF.\r\n                Canvas canvas = myPage.getCanvas();\r\n        \r\n                // below line is used to draw our image on our PDF file.\r\n                // the first parameter of our drawbitmap method is\r\n                // our bitmap\r\n                // second parameter is position from left\r\n                // third parameter is position from top and last\r\n                // one is our variable for paint.\r\n                canvas.drawBitmap(scaledbmp, 56, 40, paint);\r\n        \r\n                // below line is used for adding typeface for\r\n                // our text which we will be adding in our PDF file.\r\n                title.setTypeface(Typeface.create(Typeface.DEFAULT, Typeface.NORMAL));\r\n        \r\n                // below line is used for setting text size\r\n                // which we will be displaying in our PDF file.\r\n                title.setTextSize(15);\r\n        \r\n                // below line is sued for setting color\r\n                // of our text inside our PDF file.\r\n                title.setColor(ContextCompat.getColor(getContext(), R.color.purple_200));\r\n        \r\n                // below line is used to draw text in our PDF file.\r\n                // the first parameter is our text, second parameter\r\n                // is position from start, third parameter is position from top\r\n                // and then we are passing our variable of paint which is title.\r\n                canvas.drawText(&quot;Register your complaints easily online!&quot;, 209, 100, title);\r\n                canvas.drawText(&quot;EComplaint&quot;, 209, 80, title);\r\n        \r\n                // similarly we are creating another text and in this\r\n                // we are aligning this text to center of our PDF file.\r\n                title.setTypeface(Typeface.defaultFromStyle(Typeface.NORMAL));\r\n                title.setColor(ContextCompat.getColor(getContext(), R.color.purple_200));\r\n                title.setTextSize(15);\r\n        \r\n                // below line is used for setting\r\n                // our text to center of PDF.\r\n                title.setTextAlign(Paint.Align.CENTER);\r\n                canvas.drawText(&quot;Complaint details:&quot;, 396, 560, title);\r\n        \r\n                canvas.drawText(&quot;Title: &quot;+present.getTitle(), 396, 580, title);\r\n                canvas.drawText(&quot;Address: &quot;+present.getName(), 396, 600, title);\r\n                canvas.drawText(&quot;Phone Number: &quot;+present.getRegno(), 396, 620, title);\r\n                canvas.drawText(&quot;Complaint Details: &quot;+present.getIncident_info(), 396, 640, title);\r\n                canvas.drawText(&quot;Registered By: &quot;+present.getComplaintFrom().getName(), 396, 660, title);\r\n                canvas.drawText(&quot;Status: &quot;+present.getStatus().toUpperCase(Locale.ROOT), 396, 680, title);\r\n        \r\n        \r\n                pdfDocument.finishPage(myPage);\r\n        \r\n                // below line is used to set the name of\r\n                // our PDF file and its path.\r\n                File file = new File(Environment.getExternalStorageDirectory(), &quot;YourComplaint.pdf&quot;);\r\n        \r\n                try {\r\n                    // after creating a file name we will\r\n                    // write our PDF file to that location.\r\n                    pdfDocument.writeTo(new FileOutputStream(file));\r\n        \r\n                    // below line is to print toast message\r\n                    // on completion of PDF generation.\r\n                    Toast.makeText(getContext(), &quot;PDF file generated successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                } catch (IOException e) {\r\n                    // below line is used\r\n                    // to handle error\r\n                    e.printStackTrace();\r\n                }\r\n                // after storing our pdf to that\r\n                // location we are closing our PDF file.\r\n                pdfDocument.close();\r\n            }\r\n        \r\n            private boolean checkPermission() {\r\n                // checking of permissions.\r\n                int permission1 = ContextCompat.checkSelfPermission(getContext(), WRITE_EXTERNAL_STORAGE);\r\n                int permission2 = ContextCompat.checkSelfPermission(getContext(), READ_EXTERNAL_STORAGE);\r\n                return permission1 == PackageManager.PERMISSION_GRANTED &amp;&amp; permission2 == PackageManager.PERMISSION_GRANTED;\r\n            }\r\n        \r\n            private void requestPermission() {\r\n                // requesting permissions if not provided.\r\n                ActivityCompat.requestPermissions(getActivity(), new String[]{WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\r\n            }\r\n        \r\n            @Override\r\n            public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n                if (requestCode == PERMISSION_REQUEST_CODE) {\r\n                    if (grantResults.length &gt; 0) {\r\n        \r\n                        // after requesting permissions we are showing\r\n           \r\n    \r\n                 // users a toast message of permission granted.\r\n                    boolean writeStorage = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                    boolean readStorage = grantResults[1] == PackageManager.PERMISSION_GRANTED;\r\n    \r\n                    if (writeStorage &amp;&amp; readStorage) {\r\n                        Toast.makeText(getContext(), &quot;Permission Granted..&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(getContext(), &quot;Permission Denied.&quot;, Toast.LENGTH_SHORT).show();\r\n    //                    finish();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\ngradel files\r\n    \r\n\r\n    buildscript {\r\n        repositories {\r\n            // Check that you have the following line (if not, add it):\r\n            google()  // Google&#39;s Maven repository\r\n    \r\n        }\r\n        dependencies {\r\n    \r\n            // Add this line\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    \r\n        }\r\n    }\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nmodule level gradel\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.ecomplaint&quot;\r\n            minSdk 19\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    configurations {\r\n        cleanedAnnotations\r\n        compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n    }\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:21.0.6&#39;\r\n        implementation &#39;androidx.room:room-compiler:2.4.2&#39;\r\n        implementation &#39;com.lowagie:itext:4.2.2&#39;\r\n        implementation &#39;itext:itext:1.3.1&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:30.2.0&#39;)\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &#39;com.google.android.material:material:1.7.0-alpha02&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.5&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.5&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:21.0.0&#39;\r\n        implementation &#39;org.jetbrains:annotations-java5:15.0&#39;\r\n    }\r\n\r\n[Code link][2]\r\n\r\n\r\n[original project][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cpb4c.png\r\n  [2]: https://github.com/Keerthishankar-Punchithaya/EComplaint/tree/generatepdf\r\n  [3]: https://github.com/Keerthishankar-Punchithaya/EComplaint","title":"Duplicate class error while generating pdf using separate class","body":"<p>The duplicate class error. jetters are given true\nThis error is poppping even after trying all the methods available in the StackOverflow.</p>\n<p>error is\nDuplicate class org.intellij.lang.annotations.Flow found in modules jetified-annotations-13.0 (org.jetbrains:annotations:13.0) and jetified-annotations-java5-15.0 (org.jetbrains:annotations-java5:15.0)</p>\n<p><a href=\"https://i.stack.imgur.com/Cpb4c.png\" rel=\"nofollow noreferrer\">Error image</a></p>\n<p>ComplaintDetailsFragment.java</p>\n<pre><code>package com.example.ecomplaint;\n\n    import static android.Manifest.permission.READ_EXTERNAL_STORAGE;\n    import static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\n    \n    import android.content.pm.PackageManager;\n    import android.graphics.Bitmap;\n    import android.graphics.BitmapFactory;\n    import android.graphics.Canvas;\n    import android.graphics.Paint;\n    import android.graphics.Typeface;\n    import android.graphics.pdf.PdfDocument;\n    import android.os.Bundle;\n    import android.os.Environment;\n    import android.util.Log;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import android.widget.Button;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    \n    import androidx.annotation.NonNull;\n    import androidx.annotation.Nullable;\n    import androidx.core.app.ActivityCompat;\n    import androidx.core.content.ContextCompat;\n    import androidx.fragment.app.Fragment;\n    \n    import com.google.android.material.bottomsheet.BottomSheetDialogFragment;\n    import com.google.firebase.auth.FirebaseAuth;\n    import com.google.firebase.auth.FirebaseUser;\n    \n    import java.io.File;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.util.Locale;\n    /**\n     * A simple {@link Fragment} subclass.\n     * Use the {@link ComplaintDetailsFragment#newInstance} factory method to\n     * create an instance of this fragment.\n     */\n    public class ComplaintDetailsFragment extends BottomSheetDialogFragment {\n    \n    \n        // variables for our buttons.\n        Button generatePDFbtn;\n    \n        // declaring width and height\n        // for our PDF file.\n        int pageHeight = 1120;\n        int pagewidth = 792;\n    \n        // creating a bitmap variable\n        // for storing our images\n        Bitmap bmp, scaledbmp;\n    \n        // constant code for runtime permissions\n        private static final int PERMISSION_REQUEST_CODE = 200;\n    \n    \n        // TODO: Rename parameter arguments, choose names that match\n        // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n        private static final String ARG_PARAM1 = &quot;param1&quot;;\n        private static final String ARG_PARAM2 = &quot;param2&quot;;\n    \n        // TODO: Rename and change types of parameters\n        private String mParam1;\n        private String mParam2;\n    \n        com.example.ecomplaint.Complaint present;\n    \n        public ComplaintDetailsFragment() {\n            // Required empty public constructor\n        }\n    \n        public ComplaintDetailsFragment(com.example.ecomplaint.Complaint present){\n            this.present=present;\n        }\n    \n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @param param1 Parameter 1.\n         * @param param2 Parameter 2.\n         * @return A new instance of fragment ComplaintDetailsFragment.\n         */\n        // TODO: Rename and change types and number of parameters\n        public static ComplaintDetailsFragment newInstance(String param1, String param2) {\n            ComplaintDetailsFragment fragment = new ComplaintDetailsFragment();\n            Bundle args = new Bundle();\n            args.putString(ARG_PARAM1, param1);\n            args.putString(ARG_PARAM2, param2);\n            fragment.setArguments(args);\n            return fragment;\n        }\n    \n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            if (getArguments() != null) {\n                mParam1 = getArguments().getString(ARG_PARAM1);\n                mParam2 = getArguments().getString(ARG_PARAM2);\n            }\n        }\n    \n        @Override\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                                 Bundle savedInstanceState) {\n            // Inflate the layout for this fragment\n            return inflater.inflate(R.layout.fragment_complaint_details, container, false);\n        }\n    \n        @Override\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n            super.onViewCreated(view, savedInstanceState);\n            FirebaseAuth mAuth;\n            mAuth = FirebaseAuth.getInstance();\n    \n            TextView title=view.findViewById(R.id.details_title);\n            title.setText(present.getTitle());\n    \n            TextView name=view.findViewById(R.id.details_name);\n            name.setText(present.getName());\n    \n            TextView regno=view.findViewById(R.id.details_regno);\n            regno.setText(present.getRegno());\n    \n            TextView incident=view.findViewById(R.id.details_info);\n            incident.setText(present.getIncident_info());\n    \n            TextView ComplaintFrom=view.findViewById(R.id.complaintFrom);\n            ComplaintFrom.setText(present.getComplaintFrom().getName());\n    \n            TextView status=view.findViewById(R.id.details_status);\n            status.setText(present.getStatus().toUpperCase(Locale.ROOT));\n    \n    //        TextView expert=view.findViewById(R.id.details_expert);\n    //        expert.setText(&quot;EComplaint&quot;);\n    //        Button pdf=view.findViewById(R.id.printbtn);\n    //        pdf.setOnClickListener(new View.OnClickListener() {\n    //            @Override\n    //            public void onClick(View v) {\n    //                Toast.makeText(getContext(), &quot;PDF button clicked&quot;, Toast.LENGTH_SHORT).show();\n    //            }\n    //        });\n            // initializing our variables.\n            generatePDFbtn = view.findViewById(R.id.printbtn);\n            bmp = BitmapFactory.decodeResource(getResources(), R.drawable.logo_pdf1);\n            scaledbmp = Bitmap.createScaledBitmap(bmp, 140, 140, false);\n    \n            // below code is used for\n            // checking our permissions.\n            if (checkPermission()) {\n                Toast.makeText(getContext(), &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                requestPermission();\n            }\n    \n            generatePDFbtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    // calling method to\n                    // generate our PDF file.\n                    Toast.makeText(getContext(), &quot;PDF button clicked&quot;, Toast.LENGTH_SHORT).show();\n                    generatePDF();\n    //                Intent i = new Intent(getContext(),generatePdf.class);\n    //                startActivity(i);\n                }\n            });\n    \n    \n            FirebaseUser currentUser = mAuth.getCurrentUser();\n            Log.i(&quot;this&quot;,currentUser.getDisplayName());\n    \n            //HomeFragment.arrayList.clear();\n            //HomeFragment.adapter.notifyDataSetChanged();\n    \n    \n    \n    \n    \n        }\n    \n        private void generatePDF() {\n            // creating an object variable\n            // for our PDF document.\n            PdfDocument pdfDocument = new PdfDocument();\n    \n            // two variables for paint &quot;paint&quot; is used\n            // for drawing shapes and we will use &quot;title&quot;\n            // for adding text in our PDF file.\n            Paint paint = new Paint();\n            Paint title = new Paint();\n    \n            // we are adding page info to our PDF file\n            // in which we will be passing our pageWidth,\n            // pageHeight and number of pages and after that\n            // we are calling it to create our PDF.\n            PdfDocument.PageInfo mypageInfo = new PdfDocument.PageInfo.Builder(pagewidth, pageHeight, 1).create();\n    \n            // below line is used for setting\n            // start page for our PDF file.\n            PdfDocument.Page myPage = pdfDocument.startPage(mypageInfo);\n    \n            // creating a variable for canvas\n            // from our page of PDF.\n            Canvas canvas = myPage.getCanvas();\n    \n            // below line is used to draw our image on our PDF file.\n            // the first parameter of our drawbitmap method is\n            // our bitmap\n            // second parameter is position from left\n            // third parameter is position from top and last\n            // one is our variable for paint.\n            canvas.drawBitmap(scaledbmp, 56, 40, paint);\n    \n            // below line is used for adding typeface for\n            // our text which we will be adding in our PDF file.\n            title.setTypeface(Typeface.create(Typeface.DEFAULT, Typeface.NORMAL));\n    \n            // below line is used for setting text size\n            // which we will be displaying in our PDF file.\n            title.setTextSize(15);\n    \n            // below line is sued for setting color\n            // of our text inside our PDF file.\n            title.setColor(ContextCompat.getColor(getContext(), R.color.purple_200));\n    \n            // below line is used to draw text in our PDF file.\n            // the first parameter is our text, second parameter\n            // is position from start, third parameter is position from top\n            // and then we are passing our variable of paint which is title.\n            canvas.drawText(&quot;Register your complaints easily online!&quot;, 209, 100, title);\n            canvas.drawText(&quot;EComplaint&quot;, 209, 80, title);\n    \n            // similarly we are creating another text and in this\n            // we are aligning this text to center of our PDF file.\n            title.setTypeface(Typeface.defaultFromStyle(Typeface.NORMAL));\n            title.setColor(ContextCompat.getColor(getContext(), R.color.purple_200));\n            title.setTextSize(15);\n    \n            // below line is used for setting\n            // our text to center of PDF.\n            title.setTextAlign(Paint.Align.CENTER);\n            canvas.drawText(&quot;Complaint details:&quot;, 396, 560, title);\n    \n            canvas.drawText(&quot;Title: &quot;+present.getTitle(), 396, 580, title);\n            canvas.drawText(&quot;Address: &quot;+present.getName(), 396, 600, title);\n            canvas.drawText(&quot;Phone Number: &quot;+present.getRegno(), 396, 620, title);\n            canvas.drawText(&quot;Complaint Details: &quot;+present.getIncident_info(), 396, 640, title);\n            canvas.drawText(&quot;Registered By: &quot;+present.getComplaintFrom().getName(), 396, 660, title);\n            canvas.drawText(&quot;Status: &quot;+present.getStatus().toUpperCase(Locale.ROOT), 396, 680, title);\n    \n    \n            pdfDocument.finishPage(myPage);\n    \n            // below line is used to set the name of\n            // our PDF file and its path.\n            File file = new File(Environment.getExternalStorageDirectory(), &quot;YourComplaint.pdf&quot;);\n    \n            try {\n                // after creating a file name we will\n                // write our PDF file to that location.\n                pdfDocument.writeTo(new FileOutputStream(file));\n    \n                // below line is to print toast message\n                // on completion of PDF generation.\n                Toast.makeText(getContext(), &quot;PDF file generated successfully.&quot;, Toast.LENGTH_SHORT).show();\n            } catch (IOException e) {\n                // below line is used\n                // to handle error\n                e.printStackTrace();\n            }\n            // after storing our pdf to that\n            // location we are closing our PDF file.\n            pdfDocument.close();\n        }\n    \n        private boolean checkPermission() {\n            // checking of permissions.\n            int permission1 = ContextCompat.checkSelfPermission(getContext(), WRITE_EXTERNAL_STORAGE);\n            int permission2 = ContextCompat.checkSelfPermission(getContext(), READ_EXTERNAL_STORAGE);\n            return permission1 == PackageManager.PERMISSION_GRANTED &amp;&amp; permission2 == PackageManager.PERMISSION_GRANTED;\n        }\n    \n        private void requestPermission() {\n            // requesting permissions if not provided.\n            ActivityCompat.requestPermissions(getActivity(), new String[]{WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\n        }\n    \n        @Override\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n            if (requestCode == PERMISSION_REQUEST_CODE) {\n                if (grantResults.length &gt; 0) {\n    \n                    // after requesting permissions we are showing\n       \n\n             // users a toast message of permission granted.\n                boolean writeStorage = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                boolean readStorage = grantResults[1] == PackageManager.PERMISSION_GRANTED;\n\n                if (writeStorage &amp;&amp; readStorage) {\n                    Toast.makeText(getContext(), &quot;Permission Granted..&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(getContext(), &quot;Permission Denied.&quot;, Toast.LENGTH_SHORT).show();\n//                    finish();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>gradel files</p>\n<pre><code>buildscript {\n    repositories {\n        // Check that you have the following line (if not, add it):\n        google()  // Google's Maven repository\n\n    }\n    dependencies {\n\n        // Add this line\n        classpath 'com.google.gms:google-services:4.3.10'\n\n    }\n}\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.2.1' apply false\n    id 'com.android.library' version '7.2.1' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>module level gradel</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.ecomplaint&quot;\n        minSdk 19\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\nconfigurations {\n    cleanedAnnotations\n    compile.exclude group: 'org.jetbrains' , module:'annotations'\n}\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth:21.0.6'\n    implementation 'androidx.room:room-compiler:2.4.2'\n    implementation 'com.lowagie:itext:4.2.2'\n    implementation 'itext:itext:1.3.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation platform('com.google.firebase:firebase-bom:30.2.0')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.android.material:material:1.7.0-alpha02'\n    implementation 'com.google.firebase:firebase-database:20.0.5'\n    implementation 'com.google.firebase:firebase-database:20.0.5'\n    implementation 'com.google.firebase:firebase-core:21.0.0'\n    implementation 'org.jetbrains:annotations-java5:15.0'\n}\n</code></pre>\n<p><a href=\"https://github.com/Keerthishankar-Punchithaya/EComplaint/tree/generatepdf\" rel=\"nofollow noreferrer\">Code link</a></p>\n<p><a href=\"https://github.com/Keerthishankar-Punchithaya/EComplaint\" rel=\"nofollow noreferrer\">original project</a></p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":18850382,"reputation":109,"user_id":13749668,"display_name":"UchiTesting"},"score":0,"creation_date":1657367324,"post_id":72920866,"comment_id":128796587,"body_markdown":"I do not understand what you&#39;re trying to do. You should be precise when asking a question. You talk about pattern but I seem to see simple inheritance. Can you clearly name the pattern you&#39;re trying to implement ? Is it strategy pattern? If so you should add a setter for Paint member. The logic in `paintTheHome()` is common to every implementation so I&#39;d not make it `abstract` and put the logic in `Home`.","body":"I do not understand what you&#39;re trying to do. You should be precise when asking a question. You talk about pattern but I seem to see simple inheritance. Can you clearly name the pattern you&#39;re trying to implement ? Is it strategy pattern? If so you should add a setter for Paint member. The logic in <code>paintTheHome()</code> is common to every implementation so I&#39;d not make it <code>abstract</code> and put the logic in <code>Home</code>."},{"owner":{"account_id":23907351,"reputation":11,"user_id":17904769,"display_name":"anil tailor"},"score":0,"creation_date":1657369577,"post_id":72920866,"comment_id":128796963,"body_markdown":"hope it would be clear now @UchiTesting","body":"hope it would be clear now @UchiTesting"},{"owner":{"account_id":18850382,"reputation":109,"user_id":13749668,"display_name":"UchiTesting"},"score":0,"creation_date":1657375320,"post_id":72920866,"comment_id":128797970,"body_markdown":"Thank you for the precision. Behavioural patterns are the ones I understand the least to date and I may be wrong but.\nStructurally Strategy and Bridge are very common in that they both have a member of an interface type. The difference is the intent.\nIt looks correct for what I can tell. So your abstraction is paint which in turn may have different facets such as brand and color and you could add other facets such as texture or more. I&#39;d maybe export the brand (and other facets) in it&#39;s own hierarchy though but that&#39;s fair enough for that demo.","body":"Thank you for the precision. Behavioural patterns are the ones I understand the least to date and I may be wrong but. Structurally Strategy and Bridge are very common in that they both have a member of an interface type. The difference is the intent. It looks correct for what I can tell. So your abstraction is paint which in turn may have different facets such as brand and color and you could add other facets such as texture or more. I&#39;d maybe export the brand (and other facets) in it&#39;s own hierarchy though but that&#39;s fair enough for that demo."},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1657375405,"post_id":72920866,"comment_id":128797991,"body_markdown":"You have a cyclic dependency between the two abstractions: `Home` and `Paint`. This indicates one level of abstraction. The Bridge pattern links two levels of abstraction with a dependency from a high-level abstraction to a low-level abstraction. Here you have two high-level abstractions.","body":"You have a cyclic dependency between the two abstractions: <code>Home</code> and <code>Paint</code>. This indicates one level of abstraction. The Bridge pattern links two levels of abstraction with a dependency from a high-level abstraction to a low-level abstraction. Here you have two high-level abstractions."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1657395109,"post_id":72920866,"comment_id":128801927,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":23907351,"reputation":11,"user_id":17904769,"display_name":"anil tailor"},"score":0,"creation_date":1657438464,"post_id":72920866,"comment_id":128806692,"body_markdown":"to understand this pattern I created this scenario. I just want to know whether the implementation is correct or not? @Community","body":"to understand this pattern I created this scenario. I just want to know whether the implementation is correct or not? @Community"}],"owner":{"account_id":23907351,"reputation":11,"user_id":17904769,"display_name":"anil tailor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657367695,"creation_date":1657365036,"question_id":72920866,"body_markdown":"I have created one example for bridge design pattern. is it correct way to implement this or there is something I missed it?\r\n\r\n\r\n**Scenario** : there is abstraction class Home which have abstract method paint implement by concreate classes(Flat and Apartment) and paint is another abstract class which having abstract method of paint(to paint the house). and one enum for color pickup. \r\n  ```\r\n  abstract class Home {\r\n\t\tprivate String homeType;\r\n\t\tprivate Paint paint;\r\n\t\t\r\n\t\tpublic Home(String type, Paint paint) {\r\n\t\t\tthis.homeType = type;\r\n\t\t\tthis.paint = paint;\r\n\t\t}\r\n\r\n\t\tabstract void paintTheHome();\r\n\r\n\t\tpublic String getHomeType() {\r\n\t\t\treturn homeType;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Paint getPaint() {\r\n\t\t\treturn paint;\r\n\t\t}\r\n}\r\n\r\n\r\npublic class Flat extends Home{\r\n\tpublic static final String Type=&quot;Flat&quot;;\r\n\t\r\n\tpublic Flat(Paint paint) {\r\n\t\tsuper(Type,paint);\r\n\t}\r\n\r\n\t@Override\r\n\tvoid paintTheHome() {\r\n\t\tgetPaint().paint(this);\r\n\t}\r\n\r\n}\r\n\r\n\r\npublic class Apartment extends Home {\r\n\tpublic static final String Type=&quot;Apartment&quot;;\r\n\t\t\r\n\t\tApartment(Paint paint){\r\n\t\t\tsuper(Type,paint);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tvoid paintTheHome() {\r\n\t\t\tgetPaint().paint(this);\r\n\t\t}\r\n}\r\n\r\npublic abstract class Paint {\r\n\tprivate Color color;\r\n\tprivate String brand;\r\n\t\r\n\tpublic Paint(Color color, String brand) {\r\n\t\t\tthis.color=color;\r\n\t\t\tthis.brand = brand;\r\n\t}\r\n\t\r\n\tpublic Color getColor() {\r\n\t\treturn color;\r\n\t}\r\n\tpublic String getBrand() {\r\n\t\treturn brand;\r\n\t}\r\n\t\r\n\tabstract void paint(Home home);\r\n\t\r\n}\r\n\r\n\r\npublic class AsianPaint extends Paint{\r\n\tpublic static final String brand = &quot;Asian Paint&quot;;\r\n\t\r\n\tpublic AsianPaint(Color color) {\r\n\t\tsuper(color,brand);\r\n\t}\r\n\r\n\t@Override\r\n\tvoid paint(Home home) {\r\n\t\tSystem.out.println(&quot;Painting Started for &quot;+home.getHomeType());\r\n\t\tSystem.out.println(&quot;Brand of Color&quot;+this.getBrand());\r\n\t\tSystem.out.println(&quot;Name of Color&quot;+this.getColor());\r\n\t\tSystem.out.println(&quot;painting Ended&quot;);\r\n\t}\r\n\r\n}\r\n\r\n\r\npublic class ShalimarPaint extends Paint{\r\n\tpublic static final String brand = &quot;Shalimar Paint&quot;;\r\n\t\r\n\tpublic ShalimarPaint(Color color) {\r\n\t\tsuper(color,brand);\r\n\t}\r\n\r\n\t@Override\r\n\tvoid paint(Home home) {\r\n\t\tSystem.out.println(&quot;Painting Started for &quot;+home.getHomeType());\r\n\t\tSystem.out.println(&quot;Brand of Color&quot;+this.getBrand());\r\n\t\tSystem.out.println(&quot;Name of Color&quot;+this.getColor());\r\n\t\tSystem.out.println(&quot;painting Ended&quot;);\r\n\t}\r\n\r\n}\r\n\r\n\r\npublic enum Color {\r\n\t\tRED(&quot;Red&quot;),\r\n\t\tGREEN(&quot;Green&quot;),\r\n\t\tBLUE(&quot;Blue&quot;),\r\n\t\tWHITE(&quot;White&quot;),\r\n\t\tYELLOW(&quot;Yellow&quot;);\r\n\t\r\n\t\tString colorName;\r\n\t\r\n\t\tColor(String string) {\r\n\t\t\tthis.colorName = string;\r\n\t\t}\r\n\t\t\r\n\t\tString getColor(){\r\n\t\t\treturn colorName;\r\n\t\t}\r\n}\r\n\r\n\r\npublic class client {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\tHome home = new Apartment(new AsianPaint(Color.RED));\r\n\t\t\thome.paintTheHome();\r\n\t\t\t\r\n\t\t\thome = new Flat(new ShalimarPaint(Color.GREEN));\r\n\t\t\thome.paintTheHome();\r\n\t\t\t\r\n\t}\r\n\t\r\n}\r\n  ```\r\n\r\n\r\n\r\n","title":"Bridge design pattern implementation","body":"<p>I have created one example for bridge design pattern. is it correct way to implement this or there is something I missed it?</p>\n<p><strong>Scenario</strong> : there is abstraction class Home which have abstract method paint implement by concreate classes(Flat and Apartment) and paint is another abstract class which having abstract method of paint(to paint the house). and one enum for color pickup.</p>\n<pre><code>abstract class Home {\n      private String homeType;\n      private Paint paint;\n      \n      public Home(String type, Paint paint) {\n          this.homeType = type;\n          this.paint = paint;\n      }\n\n      abstract void paintTheHome();\n\n      public String getHomeType() {\n          return homeType;\n      }\n      \n      public Paint getPaint() {\n          return paint;\n      }\n}\n\n\npublic class Flat extends Home{\n  public static final String Type=&quot;Flat&quot;;\n  \n  public Flat(Paint paint) {\n      super(Type,paint);\n  }\n\n  @Override\n  void paintTheHome() {\n      getPaint().paint(this);\n  }\n\n}\n\n\npublic class Apartment extends Home {\n  public static final String Type=&quot;Apartment&quot;;\n      \n      Apartment(Paint paint){\n          super(Type,paint);\n      }\n\n      @Override\n      void paintTheHome() {\n          getPaint().paint(this);\n      }\n}\n\npublic abstract class Paint {\n  private Color color;\n  private String brand;\n  \n  public Paint(Color color, String brand) {\n          this.color=color;\n          this.brand = brand;\n  }\n  \n  public Color getColor() {\n      return color;\n  }\n  public String getBrand() {\n      return brand;\n  }\n  \n  abstract void paint(Home home);\n  \n}\n\n\npublic class AsianPaint extends Paint{\n  public static final String brand = &quot;Asian Paint&quot;;\n  \n  public AsianPaint(Color color) {\n      super(color,brand);\n  }\n\n  @Override\n  void paint(Home home) {\n      System.out.println(&quot;Painting Started for &quot;+home.getHomeType());\n      System.out.println(&quot;Brand of Color&quot;+this.getBrand());\n      System.out.println(&quot;Name of Color&quot;+this.getColor());\n      System.out.println(&quot;painting Ended&quot;);\n  }\n\n}\n\n\npublic class ShalimarPaint extends Paint{\n  public static final String brand = &quot;Shalimar Paint&quot;;\n  \n  public ShalimarPaint(Color color) {\n      super(color,brand);\n  }\n\n  @Override\n  void paint(Home home) {\n      System.out.println(&quot;Painting Started for &quot;+home.getHomeType());\n      System.out.println(&quot;Brand of Color&quot;+this.getBrand());\n      System.out.println(&quot;Name of Color&quot;+this.getColor());\n      System.out.println(&quot;painting Ended&quot;);\n  }\n\n}\n\n\npublic enum Color {\n      RED(&quot;Red&quot;),\n      GREEN(&quot;Green&quot;),\n      BLUE(&quot;Blue&quot;),\n      WHITE(&quot;White&quot;),\n      YELLOW(&quot;Yellow&quot;);\n  \n      String colorName;\n  \n      Color(String string) {\n          this.colorName = string;\n      }\n      \n      String getColor(){\n          return colorName;\n      }\n}\n\n\npublic class client {\n  \n  public static void main(String[] args) {\n          Home home = new Apartment(new AsianPaint(Color.RED));\n          home.paintTheHome();\n          \n          home = new Flat(new ShalimarPaint(Color.GREEN));\n          home.paintTheHome();\n          \n  }\n  \n}\n</code></pre>\n"},{"tags":["java","swing","javafx","embedded-jetty"],"comments":[{"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"score":0,"creation_date":1657364821,"post_id":72920770,"comment_id":128796184,"body_markdown":"What exactly is your question? Something not working, any errors, etc.?","body":"What exactly is your question? Something not working, any errors, etc.?"},{"owner":{"account_id":17497721,"reputation":144,"user_id":12688654,"display_name":"vished2000"},"score":0,"creation_date":1657365538,"post_id":72920770,"comment_id":128796296,"body_markdown":"I tried already to have &quot;index.xhtml&quot; and &quot;index.jsf&quot; but still the same issue... In my web.xml I have this, so I think it doesn&#180;t matter: &lt;servlet-mapping&gt;\n\t\t&lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n\t\t&lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\n\t\t&lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n\t&lt;/servlet-mapping&gt;","body":"I tried already to have &quot;index.xhtml&quot; and &quot;index.jsf&quot; but still the same issue... In my web.xml I have this, so I think it doesn&#180;t matter: &lt;servlet-mapping&gt; \t\t&lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt; \t\t&lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt; \t\t&lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt; \t&lt;/servlet-mapping&gt;"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1657365764,"post_id":72920770,"comment_id":128796337,"body_markdown":"When you start your Swing app, check what is the current working directory (system property user.dir). Then check if your relative paths for Jetty resources are reachable.","body":"When you start your Swing app, check what is the current working directory (system property user.dir). Then check if your relative paths for Jetty resources are reachable."},{"owner":{"account_id":17497721,"reputation":144,"user_id":12688654,"display_name":"vished2000"},"score":0,"creation_date":1657365831,"post_id":72920770,"comment_id":128796345,"body_markdown":"do you have an coding example?","body":"do you have an coding example?"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1657367105,"post_id":72920770,"comment_id":128796552,"body_markdown":"Please copy/paste your `WEB-INF/web.xml` as well into the question.","body":"Please copy/paste your <code>WEB-INF&#47;web.xml</code> as well into the question."},{"owner":{"account_id":17497721,"reputation":144,"user_id":12688654,"display_name":"vished2000"},"score":0,"creation_date":1657367460,"post_id":72920770,"comment_id":128796613,"body_markdown":"@Joakim ok, I did","body":"@Joakim ok, I did"}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657367542,"creation_date":1657366353,"answer_id":72921007,"question_id":72920770,"body_markdown":"Note: Jetty 9.4.x is now at End of Community Support.\r\nI would recommend upgrading to Jetty 10.x or Jetty 11.x as soon as you are able to. ([Pay attention to namespace when making your decision](https://stackoverflow.com/a/66368511/775715))\r\n\r\nSee https://github.com/eclipse/jetty.project/issues/7958\r\n\r\nThe first thing that jumps out at me is that there is a problem with your baseResource reference.\r\n\r\n``` java\r\nPath basePath = new File(&quot;src/main/webapp/&quot;).toPath().toRealPath();\r\n\r\ncontext.setBaseResource(new PathResource(basePath.resolve(&quot;src/main/webapp&quot;)));\r\n```\r\n\r\nThat will result in a baseResource of `src/main/webapp/src/main/webapp`.\r\n\r\nYour console / logs would show this as well.\r\n\r\nChange it to ...\r\n\r\n``` java\r\ncontext.setBaseResource(new PathResource(basePath));\r\n```\r\n\r\nThe next thing I notice is that you have JSP files, to enable JSP support requires some extra steps.\r\n\r\nIf using Jetty 10+ you&#39;ll need the following dependencies.\r\n\r\n``` xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n  &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\r\n  &lt;version&gt;10.0.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n  &lt;version&gt;10.0.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIf using Jetty 9 or older, you&#39;ll also need to setup a whole mess of initialization manually with Server `Configuration`, webapp `Configuration`, a few properties to tell jetty where to scan for implementations in the server or webapp classloaders, manually add a few ServletContainerInitializers to enable JSP properly, etc.  (it&#39;s easier to just upgrade to Jetty 10)\r\n\r\nhttps://github.com/jetty-project/embedded-jetty-jsp","title":"Use Jetty server inside a JavaFX / Swing app","body":"<p>Note: Jetty 9.4.x is now at End of Community Support.\nI would recommend upgrading to Jetty 10.x or Jetty 11.x as soon as you are able to. (<a href=\"https://stackoverflow.com/a/66368511/775715\">Pay attention to namespace when making your decision</a>)</p>\n<p>See <a href=\"https://github.com/eclipse/jetty.project/issues/7958\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/issues/7958</a></p>\n<p>The first thing that jumps out at me is that there is a problem with your baseResource reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path basePath = new File(&quot;src/main/webapp/&quot;).toPath().toRealPath();\n\ncontext.setBaseResource(new PathResource(basePath.resolve(&quot;src/main/webapp&quot;)));\n</code></pre>\n<p>That will result in a baseResource of <code>src/main/webapp/src/main/webapp</code>.</p>\n<p>Your console / logs would show this as well.</p>\n<p>Change it to ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.setBaseResource(new PathResource(basePath));\n</code></pre>\n<p>The next thing I notice is that you have JSP files, to enable JSP support requires some extra steps.</p>\n<p>If using Jetty 10+ you'll need the following dependencies.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n  &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\n  &lt;version&gt;10.0.11&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n  &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n  &lt;version&gt;10.0.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If using Jetty 9 or older, you'll also need to setup a whole mess of initialization manually with Server <code>Configuration</code>, webapp <code>Configuration</code>, a few properties to tell jetty where to scan for implementations in the server or webapp classloaders, manually add a few ServletContainerInitializers to enable JSP properly, etc.  (it's easier to just upgrade to Jetty 10)</p>\n<p><a href=\"https://github.com/jetty-project/embedded-jetty-jsp\" rel=\"nofollow noreferrer\">https://github.com/jetty-project/embedded-jetty-jsp</a></p>\n"}],"owner":{"account_id":17497721,"reputation":144,"user_id":12688654,"display_name":"vished2000"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657367542,"creation_date":1657364077,"question_id":72920770,"body_markdown":"I&#180;m trying to implement a Jetty Server inside a Swing / JavaFX application.\r\nThere is a similar project with Tomcat:\r\nhttps://www.beyondjava.net/how-to-wrap-bootsfaces-or-jsf-in-general-as-a-native-desktop-application\r\n\r\nNow I&#180;m trying to change this to Jetty.\r\nThis is in my main code (instead tomcat)\r\n\r\n    public void run() throws Exception {\r\n\t\tServer server = new Server(8080);\r\n\r\n\t\tPath basePath = new File(&quot;src/main/webapp/&quot;).toPath().toRealPath();\r\n\r\n\t\tWebAppContext context = new WebAppContext();\r\n\t\tcontext.setContextPath(&quot;/&quot;);\r\n\r\n\t\t// Configuring from Development Base\r\n\t\tcontext.setBaseResource(new PathResource(basePath.resolve(&quot;src/main/webapp&quot;)));\r\n\t\t// Add webapp compiled classes &amp; resources (copied into place from\r\n\t\t// src/main/resources)\r\n\t\tPath classesPath = basePath.resolve(&quot;target/webapp/WEB-INF/classes&quot;);\r\n\t\tcontext.setExtraClasspath(classesPath.toAbsolutePath().toString());\r\n\t\tserver.setDumpAfterStart(true);\r\n\r\n\t\tserver.setHandler(context);\r\n\r\n\t\tserver.start();\r\n\t}\r\n\r\nIn the pom.xml I&#180;ve added this:\r\n\t\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.4.48.v20220622&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.4.48.v20220622&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nIf I start the Main function the Webapp (index.xhtml) is not showing.\r\nIjust got:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere the structure:\r\n[![enter image description here][2]][2]\r\n\r\nAny idea what is wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8qmLy.png\r\n  [2]: https://i.stack.imgur.com/b5pIA.png\r\n\r\nHere the web.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;\r\n    \t\t&lt;!--param-value&gt;Production&lt;/param-value --&gt;\r\n    \t\t&lt;param-value&gt;Development&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t&lt;!-- The BootsFaces_THEME context-param controls the loading of the Themes --&gt;\r\n    \r\n    \r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \r\n    \t&lt;!-- Map following files to the JSF servlet --&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\r\n    \t\t&lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    \t&lt;session-config&gt;\r\n    \t\t&lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n    \t&lt;/session-config&gt;\r\n    \r\n    \t&lt;welcome-file-list&gt;\r\n    \t\t&lt;welcome-file&gt;index.xhtml&lt;/welcome-file&gt;\r\n    \t&lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n    \r\n\r\nThe faces-config.xml is currently empty","title":"Use Jetty server inside a JavaFX / Swing app","body":"<p>I´m trying to implement a Jetty Server inside a Swing / JavaFX application.\nThere is a similar project with Tomcat:\n<a href=\"https://www.beyondjava.net/how-to-wrap-bootsfaces-or-jsf-in-general-as-a-native-desktop-application\" rel=\"nofollow noreferrer\">https://www.beyondjava.net/how-to-wrap-bootsfaces-or-jsf-in-general-as-a-native-desktop-application</a></p>\n<p>Now I´m trying to change this to Jetty.\nThis is in my main code (instead tomcat)</p>\n<pre><code>public void run() throws Exception {\n    Server server = new Server(8080);\n\n    Path basePath = new File(&quot;src/main/webapp/&quot;).toPath().toRealPath();\n\n    WebAppContext context = new WebAppContext();\n    context.setContextPath(&quot;/&quot;);\n\n    // Configuring from Development Base\n    context.setBaseResource(new PathResource(basePath.resolve(&quot;src/main/webapp&quot;)));\n    // Add webapp compiled classes &amp; resources (copied into place from\n    // src/main/resources)\n    Path classesPath = basePath.resolve(&quot;target/webapp/WEB-INF/classes&quot;);\n    context.setExtraClasspath(classesPath.toAbsolutePath().toString());\n    server.setDumpAfterStart(true);\n\n    server.setHandler(context);\n\n    server.start();\n}\n</code></pre>\n<p>In the pom.xml I´ve added this:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;9.4.48.v20220622&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\n            &lt;version&gt;9.4.48.v20220622&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>If I start the Main function the Webapp (index.xhtml) is not showing.\nIjust got:</p>\n<p><a href=\"https://i.stack.imgur.com/8qmLy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8qmLy.png\" alt=\"enter image description here\" /></a></p>\n<p>Here the structure:\n<a href=\"https://i.stack.imgur.com/b5pIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b5pIA.png\" alt=\"enter image description here\" /></a></p>\n<p>Any idea what is wrong?</p>\n<p>Here the web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;\n        &lt;!--param-value&gt;Production&lt;/param-value --&gt;\n        &lt;param-value&gt;Development&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;!-- The BootsFaces_THEME context-param controls the loading of the Themes --&gt;\n\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n\n    &lt;!-- Map following files to the JSF servlet --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.xhtml&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>The faces-config.xml is currently empty</p>\n"},{"tags":["java","maven","version-control"],"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657367709,"post_id":72921108,"comment_id":128796659,"body_markdown":"You need to create a new procect with package structure that includes your file and export it as jar. How you include this jar is up to you. You could just simply add it as dependency if you don&#39;t want to use maven and version-control. If you do want to use these tools there is no fast workaround, since they are not optimized for single class usecases.","body":"You need to create a new procect with package structure that includes your file and export it as jar. How you include this jar is up to you. You could just simply add it as dependency if you don&#39;t want to use maven and version-control. If you do want to use these tools there is no fast workaround, since they are not optimized for single class usecases."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1657367832,"post_id":72921108,"comment_id":128796688,"body_markdown":"Your IDE may allow you to include other projects as a library (i.e., projects in the IDE, not necessarily full externally produced projects), and it may allow you to specify whether to keep that project external or just copy it into the final build.  Which IDE do you use?","body":"Your IDE may allow you to include other projects as a library (i.e., projects in the IDE, not necessarily full externally produced projects), and it may allow you to specify whether to keep that project external or just copy it into the final build.  Which IDE do you use?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657368696,"post_id":72921108,"comment_id":128796832,"body_markdown":"No it&#39;s not an overhead. It&#39;s a clean separation of concern. Make a separate project which contains the class you would like and also including the unit tests in there. This offers the opportunity to make separate releases over the time bases on improvements or issues/bugs etc. Also using a Maven project and deploying it to a repository (for example central repository) opens an easy way for others to consume that...and resuse this...","body":"No it&#39;s not an overhead. It&#39;s a clean separation of concern. Make a separate project which contains the class you would like and also including the unit tests in there. This offers the opportunity to make separate releases over the time bases on improvements or issues/bugs etc. Also using a Maven project and deploying it to a repository (for example central repository) opens an easy way for others to consume that...and resuse this..."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657381916,"post_id":72921108,"comment_id":128799365,"body_markdown":"The amount of footwork to make a maven artifact in a repository available to others is considerably more than copy pasting a single class.  Good exercise though. \n\nQuestion is what you actually have as it fits in a single class. Are you sure that Java 17 doesn’t provide something close enough  out of the box for most of it? Text blocks gave a lot.","body":"The amount of footwork to make a maven artifact in a repository available to others is considerably more than copy pasting a single class.  Good exercise though.   Question is what you actually have as it fits in a single class. Are you sure that Java 17 doesn’t provide something close enough  out of the box for most of it? Text blocks gave a lot."},{"owner":{"account_id":12651033,"reputation":167,"user_id":9195175,"display_name":"Leandro 86"},"score":0,"creation_date":1657413954,"post_id":72921108,"comment_id":128804377,"body_markdown":"@Thorbj&#248;rnRavnAndersen I agree that just copying and pasting is usually more simple. But if you do it in 10 projects and then decides to change something, it gets annoying. Regarding this utility class, I love Java but there are some things that could be easier in String, like getting substring by text (not indexes), counting substring occurrences and etc. Simple things, but not that simple since we always end up wrapping them in private methods.","body":"@Thorbj&#248;rnRavnAndersen I agree that just copying and pasting is usually more simple. But if you do it in 10 projects and then decides to change something, it gets annoying. Regarding this utility class, I love Java but there are some things that could be easier in String, like getting substring by text (not indexes), counting substring occurrences and etc. Simple things, but not that simple since we always end up wrapping them in private methods."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657441118,"post_id":72921108,"comment_id":128807122,"body_markdown":"@Leandro86 Yes.  I understand that you have reached the point we all do eventually.  What I&#39;m saying is that 1) creating Maven artifacts _properly_ requires more effort than you think it does (locally hosted repository -&gt; push new versions -&gt; etc, or even Maven Central) and 2) that many of your current helper methods may have simple, well-known alternatives in recent versions of Java.  &quot;substring by texts&quot; sound like a regular expression, &quot;count substring occurrences&quot; like a stream with a suitable collector, and more.   Or perhaps even just know your Guava or Apache Commons libraries.","body":"@Leandro86 Yes.  I understand that you have reached the point we all do eventually.  What I&#39;m saying is that 1) creating Maven artifacts <i>properly</i> requires more effort than you think it does (locally hosted repository -&gt; push new versions -&gt; etc, or even Maven Central) and 2) that many of your current helper methods may have simple, well-known alternatives in recent versions of Java.  &quot;substring by texts&quot; sound like a regular expression, &quot;count substring occurrences&quot; like a stream with a suitable collector, and more.   Or perhaps even just know your Guava or Apache Commons libraries."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657441210,"post_id":72921108,"comment_id":128807134,"body_markdown":"@Leandro86 In other words, I am suggesting taking a step back and _code reviewing_ your helper class to see if it is actually needed, or your code perhaps would benefit from knowing your libraries.   Note that this is if you do it for a living, if it is just hobby project then you learn from it, and then by all means go ahead.","body":"@Leandro86 In other words, I am suggesting taking a step back and <i>code reviewing</i> your helper class to see if it is actually needed, or your code perhaps would benefit from knowing your libraries.   Note that this is if you do it for a living, if it is just hobby project then you learn from it, and then by all means go ahead."}],"owner":{"account_id":12651033,"reputation":167,"user_id":9195175,"display_name":"Leandro 86"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657367319,"creation_date":1657367319,"question_id":72921108,"body_markdown":"I often make many Java projects to deal with parsing and string manipulation. Since the native String class from Java is a bit limited for these cases, I always end up creating an utility class to manipulate Strings.\r\n\r\nHowever, copying and pasting the same (or almost the same) class in every project is a hassle. So I&#39;m planning to make a single version of this and share as a dependency between projects. The only way to do this that I know of is versioning a maven project in git and importing it as a jar in other maven projects. But is there a simpler solution? \r\n\r\nCreating a separate repository and packaging a single class into a jar seems a bit of an overhead. Plus, some simple non-maven projects would have to create a pom.xml just to download this class. So I wonder, is there any other tool to share simple dependencies for small projects? What is the best way to handle this situation? ","title":"Best way to share a single class dependency in Java","body":"<p>I often make many Java projects to deal with parsing and string manipulation. Since the native String class from Java is a bit limited for these cases, I always end up creating an utility class to manipulate Strings.</p>\n<p>However, copying and pasting the same (or almost the same) class in every project is a hassle. So I'm planning to make a single version of this and share as a dependency between projects. The only way to do this that I know of is versioning a maven project in git and importing it as a jar in other maven projects. But is there a simpler solution?</p>\n<p>Creating a separate repository and packaging a single class into a jar seems a bit of an overhead. Plus, some simple non-maven projects would have to create a pom.xml just to download this class. So I wonder, is there any other tool to share simple dependencies for small projects? What is the best way to handle this situation?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8793,"page":1199,"page_size":100}
